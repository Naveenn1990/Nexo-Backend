var rU=Object.defineProperty;var sU=(e,r,s)=>r in e?rU(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s;var fi=(e,r,s)=>sU(e,typeof r!="symbol"?r+"":r,s);function aU(e,r){for(var s=0;s<r.length;s++){const a=r[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();function ui(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var HE={exports:{}},fy={},VE={exports:{}},Qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0=Symbol.for("react.element"),nU=Symbol.for("react.portal"),iU=Symbol.for("react.fragment"),lU=Symbol.for("react.strict_mode"),oU=Symbol.for("react.profiler"),cU=Symbol.for("react.provider"),dU=Symbol.for("react.context"),uU=Symbol.for("react.forward_ref"),mU=Symbol.for("react.suspense"),hU=Symbol.for("react.memo"),xU=Symbol.for("react.lazy"),lS=Symbol.iterator;function pU(e){return e===null||typeof e!="object"?null:(e=lS&&e[lS]||e["@@iterator"],typeof e=="function"?e:null)}var WE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qE=Object.assign,GE={};function gm(e,r,s){this.props=e,this.context=r,this.refs=GE,this.updater=s||WE}gm.prototype.isReactComponent={};gm.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};gm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function KE(){}KE.prototype=gm.prototype;function Rw(e,r,s){this.props=e,this.context=r,this.refs=GE,this.updater=s||WE}var Bw=Rw.prototype=new KE;Bw.constructor=Rw;qE(Bw,gm.prototype);Bw.isPureReactComponent=!0;var oS=Array.isArray,YE=Object.prototype.hasOwnProperty,$w={current:null},XE={key:!0,ref:!0,__self:!0,__source:!0};function JE(e,r,s){var a,n={},i=null,l=null;if(r!=null)for(a in r.ref!==void 0&&(l=r.ref),r.key!==void 0&&(i=""+r.key),r)YE.call(r,a)&&!XE.hasOwnProperty(a)&&(n[a]=r[a]);var o=arguments.length-2;if(o===1)n.children=s;else if(1<o){for(var d=Array(o),c=0;c<o;c++)d[c]=arguments[c+2];n.children=d}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)n[a]===void 0&&(n[a]=o[a]);return{$$typeof:G0,type:e,key:i,ref:l,props:n,_owner:$w.current}}function fU(e,r){return{$$typeof:G0,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function zw(e){return typeof e=="object"&&e!==null&&e.$$typeof===G0}function gU(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return r[s]})}var cS=/\/+/g;function yv(e,r){return typeof e=="object"&&e!==null&&e.key!=null?gU(""+e.key):r.toString(36)}function $p(e,r,s,a,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case G0:case nU:l=!0}}if(l)return l=e,n=n(l),e=a===""?"."+yv(l,0):a,oS(n)?(s="",e!=null&&(s=e.replace(cS,"$&/")+"/"),$p(n,r,s,"",function(c){return c})):n!=null&&(zw(n)&&(n=fU(n,s+(!n.key||l&&l.key===n.key?"":(""+n.key).replace(cS,"$&/")+"/")+e)),r.push(n)),1;if(l=0,a=a===""?".":a+":",oS(e))for(var o=0;o<e.length;o++){i=e[o];var d=a+yv(i,o);l+=$p(i,r,s,d,n)}else if(d=pU(e),typeof d=="function")for(e=d.call(e),o=0;!(i=e.next()).done;)i=i.value,d=a+yv(i,o++),l+=$p(i,r,s,d,n);else if(i==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return l}function Ux(e,r,s){if(e==null)return e;var a=[],n=0;return $p(e,a,"","",function(i){return r.call(s,i,n++)}),a}function yU(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var za={current:null},zp={transition:null},bU={ReactCurrentDispatcher:za,ReactCurrentBatchConfig:zp,ReactCurrentOwner:$w};function QE(){throw Error("act(...) is not supported in production builds of React.")}Qt.Children={map:Ux,forEach:function(e,r,s){Ux(e,function(){r.apply(this,arguments)},s)},count:function(e){var r=0;return Ux(e,function(){r++}),r},toArray:function(e){return Ux(e,function(r){return r})||[]},only:function(e){if(!zw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Qt.Component=gm;Qt.Fragment=iU;Qt.Profiler=oU;Qt.PureComponent=Rw;Qt.StrictMode=lU;Qt.Suspense=mU;Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bU;Qt.act=QE;Qt.cloneElement=function(e,r,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=qE({},e.props),n=e.key,i=e.ref,l=e._owner;if(r!=null){if(r.ref!==void 0&&(i=r.ref,l=$w.current),r.key!==void 0&&(n=""+r.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(d in r)YE.call(r,d)&&!XE.hasOwnProperty(d)&&(a[d]=r[d]===void 0&&o!==void 0?o[d]:r[d])}var d=arguments.length-2;if(d===1)a.children=s;else if(1<d){o=Array(d);for(var c=0;c<d;c++)o[c]=arguments[c+2];a.children=o}return{$$typeof:G0,type:e.type,key:n,ref:i,props:a,_owner:l}};Qt.createContext=function(e){return e={$$typeof:dU,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cU,_context:e},e.Consumer=e};Qt.createElement=JE;Qt.createFactory=function(e){var r=JE.bind(null,e);return r.type=e,r};Qt.createRef=function(){return{current:null}};Qt.forwardRef=function(e){return{$$typeof:uU,render:e}};Qt.isValidElement=zw;Qt.lazy=function(e){return{$$typeof:xU,_payload:{_status:-1,_result:e},_init:yU}};Qt.memo=function(e,r){return{$$typeof:hU,type:e,compare:r===void 0?null:r}};Qt.startTransition=function(e){var r=zp.transition;zp.transition={};try{e()}finally{zp.transition=r}};Qt.unstable_act=QE;Qt.useCallback=function(e,r){return za.current.useCallback(e,r)};Qt.useContext=function(e){return za.current.useContext(e)};Qt.useDebugValue=function(){};Qt.useDeferredValue=function(e){return za.current.useDeferredValue(e)};Qt.useEffect=function(e,r){return za.current.useEffect(e,r)};Qt.useId=function(){return za.current.useId()};Qt.useImperativeHandle=function(e,r,s){return za.current.useImperativeHandle(e,r,s)};Qt.useInsertionEffect=function(e,r){return za.current.useInsertionEffect(e,r)};Qt.useLayoutEffect=function(e,r){return za.current.useLayoutEffect(e,r)};Qt.useMemo=function(e,r){return za.current.useMemo(e,r)};Qt.useReducer=function(e,r,s){return za.current.useReducer(e,r,s)};Qt.useRef=function(e){return za.current.useRef(e)};Qt.useState=function(e){return za.current.useState(e)};Qt.useSyncExternalStore=function(e,r,s){return za.current.useSyncExternalStore(e,r,s)};Qt.useTransition=function(){return za.current.useTransition()};Qt.version="18.3.1";VE.exports=Qt;var g=VE.exports;const _t=ui(g),ZE=aU({__proto__:null,default:_t},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vU=g,jU=Symbol.for("react.element"),wU=Symbol.for("react.fragment"),NU=Object.prototype.hasOwnProperty,SU=vU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kU={key:!0,ref:!0,__self:!0,__source:!0};function eI(e,r,s){var a,n={},i=null,l=null;s!==void 0&&(i=""+s),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(l=r.ref);for(a in r)NU.call(r,a)&&!kU.hasOwnProperty(a)&&(n[a]=r[a]);if(e&&e.defaultProps)for(a in r=e.defaultProps,r)n[a]===void 0&&(n[a]=r[a]);return{$$typeof:jU,type:e,key:i,ref:l,props:n,_owner:SU.current}}fy.Fragment=wU;fy.jsx=eI;fy.jsxs=eI;HE.exports=fy;var t=HE.exports,i2={},tI={exports:{}},Mn={},rI={exports:{}},sI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(z,Q){var B=z.length;z.push(Q);e:for(;0<B;){var L=B-1>>>1,R=z[L];if(0<n(R,Q))z[L]=Q,z[B]=R,B=L;else break e}}function s(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var Q=z[0],B=z.pop();if(B!==Q){z[0]=B;e:for(var L=0,R=z.length,Z=R>>>1;L<Z;){var W=2*(L+1)-1,ie=z[W],ae=W+1,M=z[ae];if(0>n(ie,B))ae<R&&0>n(M,ie)?(z[L]=M,z[ae]=B,L=ae):(z[L]=ie,z[W]=B,L=W);else if(ae<R&&0>n(M,B))z[L]=M,z[ae]=B,L=ae;else break e}}return Q}function n(z,Q){var B=z.sortIndex-Q.sortIndex;return B!==0?B:z.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var d=[],c=[],u=1,m=null,x=3,h=!1,p=!1,f=!1,b=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(z){for(var Q=s(c);Q!==null;){if(Q.callback===null)a(c);else if(Q.startTime<=z)a(c),Q.sortIndex=Q.expirationTime,r(d,Q);else break;Q=s(c)}}function v(z){if(f=!1,y(z),!p)if(s(d)!==null)p=!0,we(N);else{var Q=s(c);Q!==null&&T(v,Q.startTime-z)}}function N(z,Q){p=!1,f&&(f=!1,j(P),P=-1),h=!0;var B=x;try{for(y(Q),m=s(d);m!==null&&(!(m.expirationTime>Q)||z&&!A());){var L=m.callback;if(typeof L=="function"){m.callback=null,x=m.priorityLevel;var R=L(m.expirationTime<=Q);Q=e.unstable_now(),typeof R=="function"?m.callback=R:m===s(d)&&a(d),y(Q)}else a(d);m=s(d)}if(m!==null)var Z=!0;else{var W=s(c);W!==null&&T(v,W.startTime-Q),Z=!1}return Z}finally{m=null,x=B,h=!1}}var S=!1,k=null,P=-1,C=5,_=-1;function A(){return!(e.unstable_now()-_<C)}function D(){if(k!==null){var z=e.unstable_now();_=z;var Q=!0;try{Q=k(!0,z)}finally{Q?H():(S=!1,k=null)}}else S=!1}var H;if(typeof w=="function")H=function(){w(D)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,xe=re.port2;re.port1.onmessage=D,H=function(){xe.postMessage(null)}}else H=function(){b(D,0)};function we(z){k=z,S||(S=!0,H())}function T(z,Q){P=b(function(){z(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,we(N))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function(z){switch(x){case 1:case 2:case 3:var Q=3;break;default:Q=x}var B=x;x=Q;try{return z()}finally{x=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,Q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var B=x;x=z;try{return Q()}finally{x=B}},e.unstable_scheduleCallback=function(z,Q,B){var L=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?L+B:L):B=L,z){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=B+R,z={id:u++,callback:Q,priorityLevel:z,startTime:B,expirationTime:R,sortIndex:-1},B>L?(z.sortIndex=B,r(c,z),s(d)===null&&z===s(c)&&(f?(j(P),P=-1):f=!0,T(v,B-L))):(z.sortIndex=R,r(d,z),p||h||(p=!0,we(N))),z},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(z){var Q=x;return function(){var B=x;x=Q;try{return z.apply(this,arguments)}finally{x=B}}}})(sI);rI.exports=sI;var CU=rI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PU=g,An=CU;function tt(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aI=new Set,Xh={};function Ad(e,r){qu(e,r),qu(e+"Capture",r)}function qu(e,r){for(Xh[e]=r,e=0;e<r.length;e++)aI.add(r[e])}var Fl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l2=Object.prototype.hasOwnProperty,AU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dS={},uS={};function TU(e){return l2.call(uS,e)?!0:l2.call(dS,e)?!1:AU.test(e)?uS[e]=!0:(dS[e]=!0,!1)}function EU(e,r,s,a){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function IU(e,r,s,a){if(r===null||typeof r>"u"||EU(e,r,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Ua(e,r,s,a,n,i,l){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=r,this.sanitizeURL=i,this.removeEmptyString=l}var ia={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ia[e]=new Ua(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];ia[r]=new Ua(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ia[e]=new Ua(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ia[e]=new Ua(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ia[e]=new Ua(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ia[e]=new Ua(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ia[e]=new Ua(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ia[e]=new Ua(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ia[e]=new Ua(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uw=/[\-:]([a-z])/g;function Hw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(Uw,Hw);ia[r]=new Ua(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(Uw,Hw);ia[r]=new Ua(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(Uw,Hw);ia[r]=new Ua(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ia[e]=new Ua(e,1,!1,e.toLowerCase(),null,!1,!1)});ia.xlinkHref=new Ua("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ia[e]=new Ua(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vw(e,r,s,a){var n=ia.hasOwnProperty(r)?ia[r]:null;(n!==null?n.type!==0:a||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(IU(r,s,n,a)&&(s=null),a||n===null?TU(r)&&(s===null?e.removeAttribute(r):e.setAttribute(r,""+s)):n.mustUseProperty?e[n.propertyName]=s===null?n.type===3?!1:"":s:(r=n.attributeName,a=n.attributeNamespace,s===null?e.removeAttribute(r):(n=n.type,s=n===3||n===4&&s===!0?"":""+s,a?e.setAttributeNS(a,r,s):e.setAttribute(r,s))))}var to=PU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hx=Symbol.for("react.element"),nu=Symbol.for("react.portal"),iu=Symbol.for("react.fragment"),Ww=Symbol.for("react.strict_mode"),o2=Symbol.for("react.profiler"),nI=Symbol.for("react.provider"),iI=Symbol.for("react.context"),qw=Symbol.for("react.forward_ref"),c2=Symbol.for("react.suspense"),d2=Symbol.for("react.suspense_list"),Gw=Symbol.for("react.memo"),No=Symbol.for("react.lazy"),lI=Symbol.for("react.offscreen"),mS=Symbol.iterator;function Wm(e){return e===null||typeof e!="object"?null:(e=mS&&e[mS]||e["@@iterator"],typeof e=="function"?e:null)}var es=Object.assign,bv;function vh(e){if(bv===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);bv=r&&r[1]||""}return`
`+bv+e}var vv=!1;function jv(e,r){if(!e||vv)return"";vv=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(c){var a=c}Reflect.construct(e,[],r)}else{try{r.call()}catch(c){a=c}e.call(r.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&typeof c.stack=="string"){for(var n=c.stack.split(`
`),i=a.stack.split(`
`),l=n.length-1,o=i.length-1;1<=l&&0<=o&&n[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(n[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||n[l]!==i[o]){var d=`
`+n[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=o);break}}}finally{vv=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?vh(e):""}function OU(e){switch(e.tag){case 5:return vh(e.type);case 16:return vh("Lazy");case 13:return vh("Suspense");case 19:return vh("SuspenseList");case 0:case 2:case 15:return e=jv(e.type,!1),e;case 11:return e=jv(e.type.render,!1),e;case 1:return e=jv(e.type,!0),e;default:return""}}function u2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case iu:return"Fragment";case nu:return"Portal";case o2:return"Profiler";case Ww:return"StrictMode";case c2:return"Suspense";case d2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iI:return(e.displayName||"Context")+".Consumer";case nI:return(e._context.displayName||"Context")+".Provider";case qw:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gw:return r=e.displayName||null,r!==null?r:u2(e.type)||"Memo";case No:r=e._payload,e=e._init;try{return u2(e(r))}catch{}}return null}function _U(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return u2(r);case 8:return r===Ww?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Jo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oI(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function MU(e){var r=oI(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),a=""+e[r];if(!e.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,i=s.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return n.call(this)},set:function(l){a=""+l,i.call(this,l)}}),Object.defineProperty(e,r,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Vx(e){e._valueTracker||(e._valueTracker=MU(e))}function cI(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var s=r.getValue(),a="";return e&&(a=oI(e)?e.checked?"true":"false":e.value),e=a,e!==s?(r.setValue(e),!0):!1}function mf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function m2(e,r){var s=r.checked;return es({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function hS(e,r){var s=r.defaultValue==null?"":r.defaultValue,a=r.checked!=null?r.checked:r.defaultChecked;s=Jo(r.value!=null?r.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function dI(e,r){r=r.checked,r!=null&&Vw(e,"checked",r,!1)}function h2(e,r){dI(e,r);var s=Jo(r.value),a=r.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?x2(e,r.type,s):r.hasOwnProperty("defaultValue")&&x2(e,r.type,Jo(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function xS(e,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var a=r.type;if(!(a!=="submit"&&a!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,s||r===e.value||(e.value=r),e.defaultValue=r}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function x2(e,r,s){(r!=="number"||mf(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var jh=Array.isArray;function Pu(e,r,s,a){if(e=e.options,r){r={};for(var n=0;n<s.length;n++)r["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=r.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&a&&(e[s].defaultSelected=!0)}else{for(s=""+Jo(s),r=null,n=0;n<e.length;n++){if(e[n].value===s){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}r!==null||e[n].disabled||(r=e[n])}r!==null&&(r.selected=!0)}}function p2(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(tt(91));return es({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pS(e,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(tt(92));if(jh(s)){if(1<s.length)throw Error(tt(93));s=s[0]}r=s}r==null&&(r=""),s=r}e._wrapperState={initialValue:Jo(s)}}function uI(e,r){var s=Jo(r.value),a=Jo(r.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),r.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function fS(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function mI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function f2(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?mI(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wx,hI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,a,n){MSApp.execUnsafeLocalFunction(function(){return e(r,s,a,n)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(Wx=Wx||document.createElement("div"),Wx.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Wx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function Jh(e,r){if(r){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=r;return}}e.textContent=r}var Ah={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DU=["Webkit","ms","Moz","O"];Object.keys(Ah).forEach(function(e){DU.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Ah[r]=Ah[e]})});function xI(e,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||Ah.hasOwnProperty(e)&&Ah[e]?(""+r).trim():r+"px"}function pI(e,r){e=e.style;for(var s in r)if(r.hasOwnProperty(s)){var a=s.indexOf("--")===0,n=xI(s,r[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,n):e[s]=n}}var LU=es({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function g2(e,r){if(r){if(LU[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(tt(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(tt(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(tt(61))}if(r.style!=null&&typeof r.style!="object")throw Error(tt(62))}}function y2(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b2=null;function Kw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var v2=null,Au=null,Tu=null;function gS(e){if(e=X0(e)){if(typeof v2!="function")throw Error(tt(280));var r=e.stateNode;r&&(r=jy(r),v2(e.stateNode,e.type,r))}}function fI(e){Au?Tu?Tu.push(e):Tu=[e]:Au=e}function gI(){if(Au){var e=Au,r=Tu;if(Tu=Au=null,gS(e),r)for(e=0;e<r.length;e++)gS(r[e])}}function yI(e,r){return e(r)}function bI(){}var wv=!1;function vI(e,r,s){if(wv)return e(r,s);wv=!0;try{return yI(e,r,s)}finally{wv=!1,(Au!==null||Tu!==null)&&(bI(),gI())}}function Qh(e,r){var s=e.stateNode;if(s===null)return null;var a=jy(s);if(a===null)return null;s=a[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(tt(231,r,typeof s));return s}var j2=!1;if(Fl)try{var qm={};Object.defineProperty(qm,"passive",{get:function(){j2=!0}}),window.addEventListener("test",qm,qm),window.removeEventListener("test",qm,qm)}catch{j2=!1}function FU(e,r,s,a,n,i,l,o,d){var c=Array.prototype.slice.call(arguments,3);try{r.apply(s,c)}catch(u){this.onError(u)}}var Th=!1,hf=null,xf=!1,w2=null,RU={onError:function(e){Th=!0,hf=e}};function BU(e,r,s,a,n,i,l,o,d){Th=!1,hf=null,FU.apply(RU,arguments)}function $U(e,r,s,a,n,i,l,o,d){if(BU.apply(this,arguments),Th){if(Th){var c=hf;Th=!1,hf=null}else throw Error(tt(198));xf||(xf=!0,w2=c)}}function Td(e){var r=e,s=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(s=r.return),e=r.return;while(e)}return r.tag===3?s:null}function jI(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function yS(e){if(Td(e)!==e)throw Error(tt(188))}function zU(e){var r=e.alternate;if(!r){if(r=Td(e),r===null)throw Error(tt(188));return r!==e?null:e}for(var s=e,a=r;;){var n=s.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){s=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===s)return yS(n),e;if(i===a)return yS(n),r;i=i.sibling}throw Error(tt(188))}if(s.return!==a.return)s=n,a=i;else{for(var l=!1,o=n.child;o;){if(o===s){l=!0,s=n,a=i;break}if(o===a){l=!0,a=n,s=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===s){l=!0,s=i,a=n;break}if(o===a){l=!0,a=i,s=n;break}o=o.sibling}if(!l)throw Error(tt(189))}}if(s.alternate!==a)throw Error(tt(190))}if(s.tag!==3)throw Error(tt(188));return s.stateNode.current===s?e:r}function wI(e){return e=zU(e),e!==null?NI(e):null}function NI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=NI(e);if(r!==null)return r;e=e.sibling}return null}var SI=An.unstable_scheduleCallback,bS=An.unstable_cancelCallback,UU=An.unstable_shouldYield,HU=An.unstable_requestPaint,xs=An.unstable_now,VU=An.unstable_getCurrentPriorityLevel,Yw=An.unstable_ImmediatePriority,kI=An.unstable_UserBlockingPriority,pf=An.unstable_NormalPriority,WU=An.unstable_LowPriority,CI=An.unstable_IdlePriority,gy=null,Ji=null;function qU(e){if(Ji&&typeof Ji.onCommitFiberRoot=="function")try{Ji.onCommitFiberRoot(gy,e,void 0,(e.current.flags&128)===128)}catch{}}var Ti=Math.clz32?Math.clz32:YU,GU=Math.log,KU=Math.LN2;function YU(e){return e>>>=0,e===0?32:31-(GU(e)/KU|0)|0}var qx=64,Gx=4194304;function wh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ff(e,r){var s=e.pendingLanes;if(s===0)return 0;var a=0,n=e.suspendedLanes,i=e.pingedLanes,l=s&268435455;if(l!==0){var o=l&~n;o!==0?a=wh(o):(i&=l,i!==0&&(a=wh(i)))}else l=s&~n,l!==0?a=wh(l):i!==0&&(a=wh(i));if(a===0)return 0;if(r!==0&&r!==a&&!(r&n)&&(n=a&-a,i=r&-r,n>=i||n===16&&(i&4194240)!==0))return r;if(a&4&&(a|=s&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=a;0<r;)s=31-Ti(r),n=1<<s,a|=e[s],r&=~n;return a}function XU(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JU(e,r){for(var s=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Ti(i),o=1<<l,d=n[l];d===-1?(!(o&s)||o&a)&&(n[l]=XU(o,r)):d<=r&&(e.expiredLanes|=o),i&=~o}}function N2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function PI(){var e=qx;return qx<<=1,!(qx&4194240)&&(qx=64),e}function Nv(e){for(var r=[],s=0;31>s;s++)r.push(e);return r}function K0(e,r,s){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Ti(r),e[r]=s}function QU(e,r){var s=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-Ti(s),i=1<<n;r[n]=0,a[n]=-1,e[n]=-1,s&=~i}}function Xw(e,r){var s=e.entangledLanes|=r;for(e=e.entanglements;s;){var a=31-Ti(s),n=1<<a;n&r|e[a]&r&&(e[a]|=r),s&=~n}}var gr=0;function AI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var TI,Jw,EI,II,OI,S2=!1,Kx=[],Fo=null,Ro=null,Bo=null,Zh=new Map,e0=new Map,Ao=[],ZU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vS(e,r){switch(e){case"focusin":case"focusout":Fo=null;break;case"dragenter":case"dragleave":Ro=null;break;case"mouseover":case"mouseout":Bo=null;break;case"pointerover":case"pointerout":Zh.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":e0.delete(r.pointerId)}}function Gm(e,r,s,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:r,domEventName:s,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},r!==null&&(r=X0(r),r!==null&&Jw(r)),e):(e.eventSystemFlags|=a,r=e.targetContainers,n!==null&&r.indexOf(n)===-1&&r.push(n),e)}function eH(e,r,s,a,n){switch(r){case"focusin":return Fo=Gm(Fo,e,r,s,a,n),!0;case"dragenter":return Ro=Gm(Ro,e,r,s,a,n),!0;case"mouseover":return Bo=Gm(Bo,e,r,s,a,n),!0;case"pointerover":var i=n.pointerId;return Zh.set(i,Gm(Zh.get(i)||null,e,r,s,a,n)),!0;case"gotpointercapture":return i=n.pointerId,e0.set(i,Gm(e0.get(i)||null,e,r,s,a,n)),!0}return!1}function _I(e){var r=Mc(e.target);if(r!==null){var s=Td(r);if(s!==null){if(r=s.tag,r===13){if(r=jI(s),r!==null){e.blockedOn=r,OI(e.priority,function(){EI(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Up(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var s=k2(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);b2=a,s.target.dispatchEvent(a),b2=null}else return r=X0(s),r!==null&&Jw(r),e.blockedOn=s,!1;r.shift()}return!0}function jS(e,r,s){Up(e)&&s.delete(r)}function tH(){S2=!1,Fo!==null&&Up(Fo)&&(Fo=null),Ro!==null&&Up(Ro)&&(Ro=null),Bo!==null&&Up(Bo)&&(Bo=null),Zh.forEach(jS),e0.forEach(jS)}function Km(e,r){e.blockedOn===r&&(e.blockedOn=null,S2||(S2=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,tH)))}function t0(e){function r(n){return Km(n,e)}if(0<Kx.length){Km(Kx[0],e);for(var s=1;s<Kx.length;s++){var a=Kx[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Fo!==null&&Km(Fo,e),Ro!==null&&Km(Ro,e),Bo!==null&&Km(Bo,e),Zh.forEach(r),e0.forEach(r),s=0;s<Ao.length;s++)a=Ao[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<Ao.length&&(s=Ao[0],s.blockedOn===null);)_I(s),s.blockedOn===null&&Ao.shift()}var Eu=to.ReactCurrentBatchConfig,gf=!0;function rH(e,r,s,a){var n=gr,i=Eu.transition;Eu.transition=null;try{gr=1,Qw(e,r,s,a)}finally{gr=n,Eu.transition=i}}function sH(e,r,s,a){var n=gr,i=Eu.transition;Eu.transition=null;try{gr=4,Qw(e,r,s,a)}finally{gr=n,Eu.transition=i}}function Qw(e,r,s,a){if(gf){var n=k2(e,r,s,a);if(n===null)_v(e,r,a,yf,s),vS(e,a);else if(eH(n,e,r,s,a))a.stopPropagation();else if(vS(e,a),r&4&&-1<ZU.indexOf(e)){for(;n!==null;){var i=X0(n);if(i!==null&&TI(i),i=k2(e,r,s,a),i===null&&_v(e,r,a,yf,s),i===n)break;n=i}n!==null&&a.stopPropagation()}else _v(e,r,a,null,s)}}var yf=null;function k2(e,r,s,a){if(yf=null,e=Kw(a),e=Mc(e),e!==null)if(r=Td(e),r===null)e=null;else if(s=r.tag,s===13){if(e=jI(r),e!==null)return e;e=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return yf=e,null}function MI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VU()){case Yw:return 1;case kI:return 4;case pf:case WU:return 16;case CI:return 536870912;default:return 16}default:return 16}}var Io=null,Zw=null,Hp=null;function DI(){if(Hp)return Hp;var e,r=Zw,s=r.length,a,n="value"in Io?Io.value:Io.textContent,i=n.length;for(e=0;e<s&&r[e]===n[e];e++);var l=s-e;for(a=1;a<=l&&r[s-a]===n[i-a];a++);return Hp=n.slice(e,1<a?1-a:void 0)}function Vp(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Yx(){return!0}function wS(){return!1}function Dn(e){function r(s,a,n,i,l){this._reactName=s,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yx:wS,this.isPropagationStopped=wS,this}return es(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Yx)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Yx)},persist:function(){},isPersistent:Yx}),r}var ym={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eN=Dn(ym),Y0=es({},ym,{view:0,detail:0}),aH=Dn(Y0),Sv,kv,Ym,yy=es({},Y0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ym&&(Ym&&e.type==="mousemove"?(Sv=e.screenX-Ym.screenX,kv=e.screenY-Ym.screenY):kv=Sv=0,Ym=e),Sv)},movementY:function(e){return"movementY"in e?e.movementY:kv}}),NS=Dn(yy),nH=es({},yy,{dataTransfer:0}),iH=Dn(nH),lH=es({},Y0,{relatedTarget:0}),Cv=Dn(lH),oH=es({},ym,{animationName:0,elapsedTime:0,pseudoElement:0}),cH=Dn(oH),dH=es({},ym,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uH=Dn(dH),mH=es({},ym,{data:0}),SS=Dn(mH),hH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fH(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=pH[e])?!!r[e]:!1}function tN(){return fH}var gH=es({},Y0,{key:function(e){if(e.key){var r=hH[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Vp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xH[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tN,charCode:function(e){return e.type==="keypress"?Vp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yH=Dn(gH),bH=es({},yy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kS=Dn(bH),vH=es({},Y0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tN}),jH=Dn(vH),wH=es({},ym,{propertyName:0,elapsedTime:0,pseudoElement:0}),NH=Dn(wH),SH=es({},yy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kH=Dn(SH),CH=[9,13,27,32],rN=Fl&&"CompositionEvent"in window,Eh=null;Fl&&"documentMode"in document&&(Eh=document.documentMode);var PH=Fl&&"TextEvent"in window&&!Eh,LI=Fl&&(!rN||Eh&&8<Eh&&11>=Eh),CS=" ",PS=!1;function FI(e,r){switch(e){case"keyup":return CH.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lu=!1;function AH(e,r){switch(e){case"compositionend":return RI(r);case"keypress":return r.which!==32?null:(PS=!0,CS);case"textInput":return e=r.data,e===CS&&PS?null:e;default:return null}}function TH(e,r){if(lu)return e==="compositionend"||!rN&&FI(e,r)?(e=DI(),Hp=Zw=Io=null,lu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return LI&&r.locale!=="ko"?null:r.data;default:return null}}var EH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AS(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!EH[e.type]:r==="textarea"}function BI(e,r,s,a){fI(a),r=bf(r,"onChange"),0<r.length&&(s=new eN("onChange","change",null,s,a),e.push({event:s,listeners:r}))}var Ih=null,r0=null;function IH(e){XI(e,0)}function by(e){var r=du(e);if(cI(r))return e}function OH(e,r){if(e==="change")return r}var $I=!1;if(Fl){var Pv;if(Fl){var Av="oninput"in document;if(!Av){var TS=document.createElement("div");TS.setAttribute("oninput","return;"),Av=typeof TS.oninput=="function"}Pv=Av}else Pv=!1;$I=Pv&&(!document.documentMode||9<document.documentMode)}function ES(){Ih&&(Ih.detachEvent("onpropertychange",zI),r0=Ih=null)}function zI(e){if(e.propertyName==="value"&&by(r0)){var r=[];BI(r,r0,e,Kw(e)),vI(IH,r)}}function _H(e,r,s){e==="focusin"?(ES(),Ih=r,r0=s,Ih.attachEvent("onpropertychange",zI)):e==="focusout"&&ES()}function MH(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return by(r0)}function DH(e,r){if(e==="click")return by(r)}function LH(e,r){if(e==="input"||e==="change")return by(r)}function FH(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Oi=typeof Object.is=="function"?Object.is:FH;function s0(e,r){if(Oi(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var s=Object.keys(e),a=Object.keys(r);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var n=s[a];if(!l2.call(r,n)||!Oi(e[n],r[n]))return!1}return!0}function IS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function OS(e,r){var s=IS(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=r&&a>=r)return{node:s,offset:r-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=IS(s)}}function UI(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?UI(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function HI(){for(var e=window,r=mf();r instanceof e.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)e=r.contentWindow;else break;r=mf(e.document)}return r}function sN(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function RH(e){var r=HI(),s=e.focusedElem,a=e.selectionRange;if(r!==s&&s&&s.ownerDocument&&UI(s.ownerDocument.documentElement,s)){if(a!==null&&sN(s)){if(r=a.start,e=a.end,e===void 0&&(e=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(e,s.value.length);else if(e=(r=s.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var n=s.textContent.length,i=Math.min(a.start,n);a=a.end===void 0?i:Math.min(a.end,n),!e.extend&&i>a&&(n=a,a=i,i=n),n=OS(s,i);var l=OS(s,a);n&&l&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(r=r.createRange(),r.setStart(n.node,n.offset),e.removeAllRanges(),i>a?(e.addRange(r),e.extend(l.node,l.offset)):(r.setEnd(l.node,l.offset),e.addRange(r)))}}for(r=[],e=s;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)e=r[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var BH=Fl&&"documentMode"in document&&11>=document.documentMode,ou=null,C2=null,Oh=null,P2=!1;function _S(e,r,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;P2||ou==null||ou!==mf(a)||(a=ou,"selectionStart"in a&&sN(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Oh&&s0(Oh,a)||(Oh=a,a=bf(C2,"onSelect"),0<a.length&&(r=new eN("onSelect","select",null,r,s),e.push({event:r,listeners:a}),r.target=ou)))}function Xx(e,r){var s={};return s[e.toLowerCase()]=r.toLowerCase(),s["Webkit"+e]="webkit"+r,s["Moz"+e]="moz"+r,s}var cu={animationend:Xx("Animation","AnimationEnd"),animationiteration:Xx("Animation","AnimationIteration"),animationstart:Xx("Animation","AnimationStart"),transitionend:Xx("Transition","TransitionEnd")},Tv={},VI={};Fl&&(VI=document.createElement("div").style,"AnimationEvent"in window||(delete cu.animationend.animation,delete cu.animationiteration.animation,delete cu.animationstart.animation),"TransitionEvent"in window||delete cu.transitionend.transition);function vy(e){if(Tv[e])return Tv[e];if(!cu[e])return e;var r=cu[e],s;for(s in r)if(r.hasOwnProperty(s)&&s in VI)return Tv[e]=r[s];return e}var WI=vy("animationend"),qI=vy("animationiteration"),GI=vy("animationstart"),KI=vy("transitionend"),YI=new Map,MS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dc(e,r){YI.set(e,r),Ad(r,[e])}for(var Ev=0;Ev<MS.length;Ev++){var Iv=MS[Ev],$H=Iv.toLowerCase(),zH=Iv[0].toUpperCase()+Iv.slice(1);dc($H,"on"+zH)}dc(WI,"onAnimationEnd");dc(qI,"onAnimationIteration");dc(GI,"onAnimationStart");dc("dblclick","onDoubleClick");dc("focusin","onFocus");dc("focusout","onBlur");dc(KI,"onTransitionEnd");qu("onMouseEnter",["mouseout","mouseover"]);qu("onMouseLeave",["mouseout","mouseover"]);qu("onPointerEnter",["pointerout","pointerover"]);qu("onPointerLeave",["pointerout","pointerover"]);Ad("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ad("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ad("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ad("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ad("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ad("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UH=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nh));function DS(e,r,s){var a=e.type||"unknown-event";e.currentTarget=s,$U(a,r,void 0,e),e.currentTarget=null}function XI(e,r){r=(r&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],n=a.event;a=a.listeners;e:{var i=void 0;if(r)for(var l=a.length-1;0<=l;l--){var o=a[l],d=o.instance,c=o.currentTarget;if(o=o.listener,d!==i&&n.isPropagationStopped())break e;DS(n,o,c),i=d}else for(l=0;l<a.length;l++){if(o=a[l],d=o.instance,c=o.currentTarget,o=o.listener,d!==i&&n.isPropagationStopped())break e;DS(n,o,c),i=d}}}if(xf)throw e=w2,xf=!1,w2=null,e}function Mr(e,r){var s=r[O2];s===void 0&&(s=r[O2]=new Set);var a=e+"__bubble";s.has(a)||(JI(r,e,2,!1),s.add(a))}function Ov(e,r,s){var a=0;r&&(a|=4),JI(s,e,a,r)}var Jx="_reactListening"+Math.random().toString(36).slice(2);function a0(e){if(!e[Jx]){e[Jx]=!0,aI.forEach(function(s){s!=="selectionchange"&&(UH.has(s)||Ov(s,!1,e),Ov(s,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Jx]||(r[Jx]=!0,Ov("selectionchange",!1,r))}}function JI(e,r,s,a){switch(MI(r)){case 1:var n=rH;break;case 4:n=sH;break;default:n=Qw}s=n.bind(null,r,s,e),n=void 0,!j2||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(r,s,{capture:!0,passive:n}):e.addEventListener(r,s,!0):n!==void 0?e.addEventListener(r,s,{passive:n}):e.addEventListener(r,s,!1)}function _v(e,r,s,a,n){var i=a;if(!(r&1)&&!(r&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var o=a.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(l===4)for(l=a.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===n||d.nodeType===8&&d.parentNode===n))return;l=l.return}for(;o!==null;){if(l=Mc(o),l===null)return;if(d=l.tag,d===5||d===6){a=i=l;continue e}o=o.parentNode}}a=a.return}vI(function(){var c=i,u=Kw(s),m=[];e:{var x=YI.get(e);if(x!==void 0){var h=eN,p=e;switch(e){case"keypress":if(Vp(s)===0)break e;case"keydown":case"keyup":h=yH;break;case"focusin":p="focus",h=Cv;break;case"focusout":p="blur",h=Cv;break;case"beforeblur":case"afterblur":h=Cv;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=NS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=iH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=jH;break;case WI:case qI:case GI:h=cH;break;case KI:h=NH;break;case"scroll":h=aH;break;case"wheel":h=kH;break;case"copy":case"cut":case"paste":h=uH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=kS}var f=(r&4)!==0,b=!f&&e==="scroll",j=f?x!==null?x+"Capture":null:x;f=[];for(var w=c,y;w!==null;){y=w;var v=y.stateNode;if(y.tag===5&&v!==null&&(y=v,j!==null&&(v=Qh(w,j),v!=null&&f.push(n0(w,v,y)))),b)break;w=w.return}0<f.length&&(x=new h(x,p,null,s,u),m.push({event:x,listeners:f}))}}if(!(r&7)){e:{if(x=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",x&&s!==b2&&(p=s.relatedTarget||s.fromElement)&&(Mc(p)||p[Rl]))break e;if((h||x)&&(x=u.window===u?u:(x=u.ownerDocument)?x.defaultView||x.parentWindow:window,h?(p=s.relatedTarget||s.toElement,h=c,p=p?Mc(p):null,p!==null&&(b=Td(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(f=NS,v="onMouseLeave",j="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(f=kS,v="onPointerLeave",j="onPointerEnter",w="pointer"),b=h==null?x:du(h),y=p==null?x:du(p),x=new f(v,w+"leave",h,s,u),x.target=b,x.relatedTarget=y,v=null,Mc(u)===c&&(f=new f(j,w+"enter",p,s,u),f.target=y,f.relatedTarget=b,v=f),b=v,h&&p)t:{for(f=h,j=p,w=0,y=f;y;y=Kd(y))w++;for(y=0,v=j;v;v=Kd(v))y++;for(;0<w-y;)f=Kd(f),w--;for(;0<y-w;)j=Kd(j),y--;for(;w--;){if(f===j||j!==null&&f===j.alternate)break t;f=Kd(f),j=Kd(j)}f=null}else f=null;h!==null&&LS(m,x,h,f,!1),p!==null&&b!==null&&LS(m,b,p,f,!0)}}e:{if(x=c?du(c):window,h=x.nodeName&&x.nodeName.toLowerCase(),h==="select"||h==="input"&&x.type==="file")var N=OH;else if(AS(x))if($I)N=LH;else{N=MH;var S=_H}else(h=x.nodeName)&&h.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(N=DH);if(N&&(N=N(e,c))){BI(m,N,s,u);break e}S&&S(e,x,c),e==="focusout"&&(S=x._wrapperState)&&S.controlled&&x.type==="number"&&x2(x,"number",x.value)}switch(S=c?du(c):window,e){case"focusin":(AS(S)||S.contentEditable==="true")&&(ou=S,C2=c,Oh=null);break;case"focusout":Oh=C2=ou=null;break;case"mousedown":P2=!0;break;case"contextmenu":case"mouseup":case"dragend":P2=!1,_S(m,s,u);break;case"selectionchange":if(BH)break;case"keydown":case"keyup":_S(m,s,u)}var k;if(rN)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else lu?FI(e,s)&&(P="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(P="onCompositionStart");P&&(LI&&s.locale!=="ko"&&(lu||P!=="onCompositionStart"?P==="onCompositionEnd"&&lu&&(k=DI()):(Io=u,Zw="value"in Io?Io.value:Io.textContent,lu=!0)),S=bf(c,P),0<S.length&&(P=new SS(P,e,null,s,u),m.push({event:P,listeners:S}),k?P.data=k:(k=RI(s),k!==null&&(P.data=k)))),(k=PH?AH(e,s):TH(e,s))&&(c=bf(c,"onBeforeInput"),0<c.length&&(u=new SS("onBeforeInput","beforeinput",null,s,u),m.push({event:u,listeners:c}),u.data=k))}XI(m,r)})}function n0(e,r,s){return{instance:e,listener:r,currentTarget:s}}function bf(e,r){for(var s=r+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=Qh(e,s),i!=null&&a.unshift(n0(e,i,n)),i=Qh(e,r),i!=null&&a.push(n0(e,i,n))),e=e.return}return a}function Kd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function LS(e,r,s,a,n){for(var i=r._reactName,l=[];s!==null&&s!==a;){var o=s,d=o.alternate,c=o.stateNode;if(d!==null&&d===a)break;o.tag===5&&c!==null&&(o=c,n?(d=Qh(s,i),d!=null&&l.unshift(n0(s,d,o))):n||(d=Qh(s,i),d!=null&&l.push(n0(s,d,o)))),s=s.return}l.length!==0&&e.push({event:r,listeners:l})}var HH=/\r\n?/g,VH=/\u0000|\uFFFD/g;function FS(e){return(typeof e=="string"?e:""+e).replace(HH,`
`).replace(VH,"")}function Qx(e,r,s){if(r=FS(r),FS(e)!==r&&s)throw Error(tt(425))}function vf(){}var A2=null,T2=null;function E2(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var I2=typeof setTimeout=="function"?setTimeout:void 0,WH=typeof clearTimeout=="function"?clearTimeout:void 0,RS=typeof Promise=="function"?Promise:void 0,qH=typeof queueMicrotask=="function"?queueMicrotask:typeof RS<"u"?function(e){return RS.resolve(null).then(e).catch(GH)}:I2;function GH(e){setTimeout(function(){throw e})}function Mv(e,r){var s=r,a=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(a===0){e.removeChild(n),t0(r);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=n}while(s);t0(r)}function $o(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function BS(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return e;r--}else s==="/$"&&r++}e=e.previousSibling}return null}var bm=Math.random().toString(36).slice(2),Wi="__reactFiber$"+bm,i0="__reactProps$"+bm,Rl="__reactContainer$"+bm,O2="__reactEvents$"+bm,KH="__reactListeners$"+bm,YH="__reactHandles$"+bm;function Mc(e){var r=e[Wi];if(r)return r;for(var s=e.parentNode;s;){if(r=s[Rl]||s[Wi]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(e=BS(e);e!==null;){if(s=e[Wi])return s;e=BS(e)}return r}e=s,s=e.parentNode}return null}function X0(e){return e=e[Wi]||e[Rl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function du(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(tt(33))}function jy(e){return e[i0]||null}var _2=[],uu=-1;function uc(e){return{current:e}}function Fr(e){0>uu||(e.current=_2[uu],_2[uu]=null,uu--)}function Tr(e,r){uu++,_2[uu]=e.current,e.current=r}var Qo={},Na=uc(Qo),Ya=uc(!1),nd=Qo;function Gu(e,r){var s=e.type.contextTypes;if(!s)return Qo;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===r)return a.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in s)n[i]=r[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=n),n}function Xa(e){return e=e.childContextTypes,e!=null}function jf(){Fr(Ya),Fr(Na)}function $S(e,r,s){if(Na.current!==Qo)throw Error(tt(168));Tr(Na,r),Tr(Ya,s)}function QI(e,r,s){var a=e.stateNode;if(r=r.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var n in a)if(!(n in r))throw Error(tt(108,_U(e)||"Unknown",n));return es({},s,a)}function wf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qo,nd=Na.current,Tr(Na,e),Tr(Ya,Ya.current),!0}function zS(e,r,s){var a=e.stateNode;if(!a)throw Error(tt(169));s?(e=QI(e,r,nd),a.__reactInternalMemoizedMergedChildContext=e,Fr(Ya),Fr(Na),Tr(Na,e)):Fr(Ya),Tr(Ya,s)}var fl=null,wy=!1,Dv=!1;function ZI(e){fl===null?fl=[e]:fl.push(e)}function XH(e){wy=!0,ZI(e)}function mc(){if(!Dv&&fl!==null){Dv=!0;var e=0,r=gr;try{var s=fl;for(gr=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}fl=null,wy=!1}catch(n){throw fl!==null&&(fl=fl.slice(e+1)),SI(Yw,mc),n}finally{gr=r,Dv=!1}}return null}var mu=[],hu=0,Nf=null,Sf=0,Jn=[],Qn=0,id=null,bl=1,vl="";function Nc(e,r){mu[hu++]=Sf,mu[hu++]=Nf,Nf=e,Sf=r}function e7(e,r,s){Jn[Qn++]=bl,Jn[Qn++]=vl,Jn[Qn++]=id,id=e;var a=bl;e=vl;var n=32-Ti(a)-1;a&=~(1<<n),s+=1;var i=32-Ti(r)+n;if(30<i){var l=n-n%5;i=(a&(1<<l)-1).toString(32),a>>=l,n-=l,bl=1<<32-Ti(r)+n|s<<n|a,vl=i+e}else bl=1<<i|s<<n|a,vl=e}function aN(e){e.return!==null&&(Nc(e,1),e7(e,1,0))}function nN(e){for(;e===Nf;)Nf=mu[--hu],mu[hu]=null,Sf=mu[--hu],mu[hu]=null;for(;e===id;)id=Jn[--Qn],Jn[Qn]=null,vl=Jn[--Qn],Jn[Qn]=null,bl=Jn[--Qn],Jn[Qn]=null}var Nn=null,jn=null,Vr=!1,wi=null;function t7(e,r){var s=ei(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=e,r=e.deletions,r===null?(e.deletions=[s],e.flags|=16):r.push(s)}function US(e,r){switch(e.tag){case 5:var s=e.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,Nn=e,jn=$o(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,Nn=e,jn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=id!==null?{id:bl,overflow:vl}:null,e.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=ei(18,null,null,0),s.stateNode=r,s.return=e,e.child=s,Nn=e,jn=null,!0):!1;default:return!1}}function M2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function D2(e){if(Vr){var r=jn;if(r){var s=r;if(!US(e,r)){if(M2(e))throw Error(tt(418));r=$o(s.nextSibling);var a=Nn;r&&US(e,r)?t7(a,s):(e.flags=e.flags&-4097|2,Vr=!1,Nn=e)}}else{if(M2(e))throw Error(tt(418));e.flags=e.flags&-4097|2,Vr=!1,Nn=e}}}function HS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nn=e}function Zx(e){if(e!==Nn)return!1;if(!Vr)return HS(e),Vr=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!E2(e.type,e.memoizedProps)),r&&(r=jn)){if(M2(e))throw r7(),Error(tt(418));for(;r;)t7(e,r),r=$o(r.nextSibling)}if(HS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(tt(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(r===0){jn=$o(e.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}e=e.nextSibling}jn=null}}else jn=Nn?$o(e.stateNode.nextSibling):null;return!0}function r7(){for(var e=jn;e;)e=$o(e.nextSibling)}function Ku(){jn=Nn=null,Vr=!1}function iN(e){wi===null?wi=[e]:wi.push(e)}var JH=to.ReactCurrentBatchConfig;function Xm(e,r,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(tt(309));var a=s.stateNode}if(!a)throw Error(tt(147,e));var n=a,i=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===i?r.ref:(r=function(l){var o=n.refs;l===null?delete o[i]:o[i]=l},r._stringRef=i,r)}if(typeof e!="string")throw Error(tt(284));if(!s._owner)throw Error(tt(290,e))}return e}function ep(e,r){throw e=Object.prototype.toString.call(r),Error(tt(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function VS(e){var r=e._init;return r(e._payload)}function s7(e){function r(j,w){if(e){var y=j.deletions;y===null?(j.deletions=[w],j.flags|=16):y.push(w)}}function s(j,w){if(!e)return null;for(;w!==null;)r(j,w),w=w.sibling;return null}function a(j,w){for(j=new Map;w!==null;)w.key!==null?j.set(w.key,w):j.set(w.index,w),w=w.sibling;return j}function n(j,w){return j=Vo(j,w),j.index=0,j.sibling=null,j}function i(j,w,y){return j.index=y,e?(y=j.alternate,y!==null?(y=y.index,y<w?(j.flags|=2,w):y):(j.flags|=2,w)):(j.flags|=1048576,w)}function l(j){return e&&j.alternate===null&&(j.flags|=2),j}function o(j,w,y,v){return w===null||w.tag!==6?(w=Uv(y,j.mode,v),w.return=j,w):(w=n(w,y),w.return=j,w)}function d(j,w,y,v){var N=y.type;return N===iu?u(j,w,y.props.children,v,y.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===No&&VS(N)===w.type)?(v=n(w,y.props),v.ref=Xm(j,w,y),v.return=j,v):(v=Jp(y.type,y.key,y.props,null,j.mode,v),v.ref=Xm(j,w,y),v.return=j,v)}function c(j,w,y,v){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=Hv(y,j.mode,v),w.return=j,w):(w=n(w,y.children||[]),w.return=j,w)}function u(j,w,y,v,N){return w===null||w.tag!==7?(w=qc(y,j.mode,v,N),w.return=j,w):(w=n(w,y),w.return=j,w)}function m(j,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Uv(""+w,j.mode,y),w.return=j,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hx:return y=Jp(w.type,w.key,w.props,null,j.mode,y),y.ref=Xm(j,null,w),y.return=j,y;case nu:return w=Hv(w,j.mode,y),w.return=j,w;case No:var v=w._init;return m(j,v(w._payload),y)}if(jh(w)||Wm(w))return w=qc(w,j.mode,y,null),w.return=j,w;ep(j,w)}return null}function x(j,w,y,v){var N=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:o(j,w,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Hx:return y.key===N?d(j,w,y,v):null;case nu:return y.key===N?c(j,w,y,v):null;case No:return N=y._init,x(j,w,N(y._payload),v)}if(jh(y)||Wm(y))return N!==null?null:u(j,w,y,v,null);ep(j,y)}return null}function h(j,w,y,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return j=j.get(y)||null,o(w,j,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hx:return j=j.get(v.key===null?y:v.key)||null,d(w,j,v,N);case nu:return j=j.get(v.key===null?y:v.key)||null,c(w,j,v,N);case No:var S=v._init;return h(j,w,y,S(v._payload),N)}if(jh(v)||Wm(v))return j=j.get(y)||null,u(w,j,v,N,null);ep(w,v)}return null}function p(j,w,y,v){for(var N=null,S=null,k=w,P=w=0,C=null;k!==null&&P<y.length;P++){k.index>P?(C=k,k=null):C=k.sibling;var _=x(j,k,y[P],v);if(_===null){k===null&&(k=C);break}e&&k&&_.alternate===null&&r(j,k),w=i(_,w,P),S===null?N=_:S.sibling=_,S=_,k=C}if(P===y.length)return s(j,k),Vr&&Nc(j,P),N;if(k===null){for(;P<y.length;P++)k=m(j,y[P],v),k!==null&&(w=i(k,w,P),S===null?N=k:S.sibling=k,S=k);return Vr&&Nc(j,P),N}for(k=a(j,k);P<y.length;P++)C=h(k,j,P,y[P],v),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?P:C.key),w=i(C,w,P),S===null?N=C:S.sibling=C,S=C);return e&&k.forEach(function(A){return r(j,A)}),Vr&&Nc(j,P),N}function f(j,w,y,v){var N=Wm(y);if(typeof N!="function")throw Error(tt(150));if(y=N.call(y),y==null)throw Error(tt(151));for(var S=N=null,k=w,P=w=0,C=null,_=y.next();k!==null&&!_.done;P++,_=y.next()){k.index>P?(C=k,k=null):C=k.sibling;var A=x(j,k,_.value,v);if(A===null){k===null&&(k=C);break}e&&k&&A.alternate===null&&r(j,k),w=i(A,w,P),S===null?N=A:S.sibling=A,S=A,k=C}if(_.done)return s(j,k),Vr&&Nc(j,P),N;if(k===null){for(;!_.done;P++,_=y.next())_=m(j,_.value,v),_!==null&&(w=i(_,w,P),S===null?N=_:S.sibling=_,S=_);return Vr&&Nc(j,P),N}for(k=a(j,k);!_.done;P++,_=y.next())_=h(k,j,P,_.value,v),_!==null&&(e&&_.alternate!==null&&k.delete(_.key===null?P:_.key),w=i(_,w,P),S===null?N=_:S.sibling=_,S=_);return e&&k.forEach(function(D){return r(j,D)}),Vr&&Nc(j,P),N}function b(j,w,y,v){if(typeof y=="object"&&y!==null&&y.type===iu&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Hx:e:{for(var N=y.key,S=w;S!==null;){if(S.key===N){if(N=y.type,N===iu){if(S.tag===7){s(j,S.sibling),w=n(S,y.props.children),w.return=j,j=w;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===No&&VS(N)===S.type){s(j,S.sibling),w=n(S,y.props),w.ref=Xm(j,S,y),w.return=j,j=w;break e}s(j,S);break}else r(j,S);S=S.sibling}y.type===iu?(w=qc(y.props.children,j.mode,v,y.key),w.return=j,j=w):(v=Jp(y.type,y.key,y.props,null,j.mode,v),v.ref=Xm(j,w,y),v.return=j,j=v)}return l(j);case nu:e:{for(S=y.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){s(j,w.sibling),w=n(w,y.children||[]),w.return=j,j=w;break e}else{s(j,w);break}else r(j,w);w=w.sibling}w=Hv(y,j.mode,v),w.return=j,j=w}return l(j);case No:return S=y._init,b(j,w,S(y._payload),v)}if(jh(y))return p(j,w,y,v);if(Wm(y))return f(j,w,y,v);ep(j,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(s(j,w.sibling),w=n(w,y),w.return=j,j=w):(s(j,w),w=Uv(y,j.mode,v),w.return=j,j=w),l(j)):s(j,w)}return b}var Yu=s7(!0),a7=s7(!1),kf=uc(null),Cf=null,xu=null,lN=null;function oN(){lN=xu=Cf=null}function cN(e){var r=kf.current;Fr(kf),e._currentValue=r}function L2(e,r,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,a!==null&&(a.childLanes|=r)):a!==null&&(a.childLanes&r)!==r&&(a.childLanes|=r),e===s)break;e=e.return}}function Iu(e,r){Cf=e,lN=xu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(Ga=!0),e.firstContext=null)}function ii(e){var r=e._currentValue;if(lN!==e)if(e={context:e,memoizedValue:r,next:null},xu===null){if(Cf===null)throw Error(tt(308));xu=e,Cf.dependencies={lanes:0,firstContext:e}}else xu=xu.next=e;return r}var Dc=null;function dN(e){Dc===null?Dc=[e]:Dc.push(e)}function n7(e,r,s,a){var n=r.interleaved;return n===null?(s.next=s,dN(r)):(s.next=n.next,n.next=s),r.interleaved=s,Bl(e,a)}function Bl(e,r){e.lanes|=r;var s=e.alternate;for(s!==null&&(s.lanes|=r),s=e,e=e.return;e!==null;)e.childLanes|=r,s=e.alternate,s!==null&&(s.childLanes|=r),s=e,e=e.return;return s.tag===3?s.stateNode:null}var So=!1;function uN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i7(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sl(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function zo(e,r,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,sr&2){var n=a.pending;return n===null?r.next=r:(r.next=n.next,n.next=r),a.pending=r,Bl(e,s)}return n=a.interleaved,n===null?(r.next=r,dN(a)):(r.next=n.next,n.next=r),a.interleaved=r,Bl(e,s)}function Wp(e,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var a=r.lanes;a&=e.pendingLanes,s|=a,r.lanes=s,Xw(e,s)}}function WS(e,r){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var n=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?n=i=l:i=i.next=l,s=s.next}while(s!==null);i===null?n=i=r:i=i.next=r}else n=i=r;s={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=r:e.next=r,s.lastBaseUpdate=r}function Pf(e,r,s,a){var n=e.updateQueue;So=!1;var i=n.firstBaseUpdate,l=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var d=o,c=d.next;d.next=null,l===null?i=c:l.next=c,l=d;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=d))}if(i!==null){var m=n.baseState;l=0,u=c=d=null,o=i;do{var x=o.lane,h=o.eventTime;if((a&x)===x){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,f=o;switch(x=r,h=s,f.tag){case 1:if(p=f.payload,typeof p=="function"){m=p.call(h,m,x);break e}m=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=f.payload,x=typeof p=="function"?p.call(h,m,x):p,x==null)break e;m=es({},m,x);break e;case 2:So=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,x=n.effects,x===null?n.effects=[o]:x.push(o))}else h={eventTime:h,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,d=m):u=u.next=h,l|=x;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;x=o,o=x.next,x.next=null,n.lastBaseUpdate=x,n.shared.pending=null}}while(!0);if(u===null&&(d=m),n.baseState=d,n.firstBaseUpdate=c,n.lastBaseUpdate=u,r=n.shared.interleaved,r!==null){n=r;do l|=n.lane,n=n.next;while(n!==r)}else i===null&&(n.shared.lanes=0);od|=l,e.lanes=l,e.memoizedState=m}}function qS(e,r,s){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var a=e[r],n=a.callback;if(n!==null){if(a.callback=null,a=s,typeof n!="function")throw Error(tt(191,n));n.call(a)}}}var J0={},Qi=uc(J0),l0=uc(J0),o0=uc(J0);function Lc(e){if(e===J0)throw Error(tt(174));return e}function mN(e,r){switch(Tr(o0,r),Tr(l0,e),Tr(Qi,J0),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:f2(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=f2(r,e)}Fr(Qi),Tr(Qi,r)}function Xu(){Fr(Qi),Fr(l0),Fr(o0)}function l7(e){Lc(o0.current);var r=Lc(Qi.current),s=f2(r,e.type);r!==s&&(Tr(l0,e),Tr(Qi,s))}function hN(e){l0.current===e&&(Fr(Qi),Fr(l0))}var Yr=uc(0);function Af(e){for(var r=e;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Lv=[];function xN(){for(var e=0;e<Lv.length;e++)Lv[e]._workInProgressVersionPrimary=null;Lv.length=0}var qp=to.ReactCurrentDispatcher,Fv=to.ReactCurrentBatchConfig,ld=0,Qr=null,_s=null,Vs=null,Tf=!1,_h=!1,c0=0,QH=0;function ua(){throw Error(tt(321))}function pN(e,r){if(r===null)return!1;for(var s=0;s<r.length&&s<e.length;s++)if(!Oi(e[s],r[s]))return!1;return!0}function fN(e,r,s,a,n,i){if(ld=i,Qr=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,qp.current=e===null||e.memoizedState===null?rV:sV,e=s(a,n),_h){i=0;do{if(_h=!1,c0=0,25<=i)throw Error(tt(301));i+=1,Vs=_s=null,r.updateQueue=null,qp.current=aV,e=s(a,n)}while(_h)}if(qp.current=Ef,r=_s!==null&&_s.next!==null,ld=0,Vs=_s=Qr=null,Tf=!1,r)throw Error(tt(300));return e}function gN(){var e=c0!==0;return c0=0,e}function Hi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vs===null?Qr.memoizedState=Vs=e:Vs=Vs.next=e,Vs}function li(){if(_s===null){var e=Qr.alternate;e=e!==null?e.memoizedState:null}else e=_s.next;var r=Vs===null?Qr.memoizedState:Vs.next;if(r!==null)Vs=r,_s=e;else{if(e===null)throw Error(tt(310));_s=e,e={memoizedState:_s.memoizedState,baseState:_s.baseState,baseQueue:_s.baseQueue,queue:_s.queue,next:null},Vs===null?Qr.memoizedState=Vs=e:Vs=Vs.next=e}return Vs}function d0(e,r){return typeof r=="function"?r(e):r}function Rv(e){var r=li(),s=r.queue;if(s===null)throw Error(tt(311));s.lastRenderedReducer=e;var a=_s,n=a.baseQueue,i=s.pending;if(i!==null){if(n!==null){var l=n.next;n.next=i.next,i.next=l}a.baseQueue=n=i,s.pending=null}if(n!==null){i=n.next,a=a.baseState;var o=l=null,d=null,c=i;do{var u=c.lane;if((ld&u)===u)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),a=c.hasEagerState?c.eagerState:e(a,c.action);else{var m={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(o=d=m,l=a):d=d.next=m,Qr.lanes|=u,od|=u}c=c.next}while(c!==null&&c!==i);d===null?l=a:d.next=o,Oi(a,r.memoizedState)||(Ga=!0),r.memoizedState=a,r.baseState=l,r.baseQueue=d,s.lastRenderedState=a}if(e=s.interleaved,e!==null){n=e;do i=n.lane,Qr.lanes|=i,od|=i,n=n.next;while(n!==e)}else n===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function Bv(e){var r=li(),s=r.queue;if(s===null)throw Error(tt(311));s.lastRenderedReducer=e;var a=s.dispatch,n=s.pending,i=r.memoizedState;if(n!==null){s.pending=null;var l=n=n.next;do i=e(i,l.action),l=l.next;while(l!==n);Oi(i,r.memoizedState)||(Ga=!0),r.memoizedState=i,r.baseQueue===null&&(r.baseState=i),s.lastRenderedState=i}return[i,a]}function o7(){}function c7(e,r){var s=Qr,a=li(),n=r(),i=!Oi(a.memoizedState,n);if(i&&(a.memoizedState=n,Ga=!0),a=a.queue,yN(m7.bind(null,s,a,e),[e]),a.getSnapshot!==r||i||Vs!==null&&Vs.memoizedState.tag&1){if(s.flags|=2048,u0(9,u7.bind(null,s,a,n,r),void 0,null),Ys===null)throw Error(tt(349));ld&30||d7(s,r,n)}return n}function d7(e,r,s){e.flags|=16384,e={getSnapshot:r,value:s},r=Qr.updateQueue,r===null?(r={lastEffect:null,stores:null},Qr.updateQueue=r,r.stores=[e]):(s=r.stores,s===null?r.stores=[e]:s.push(e))}function u7(e,r,s,a){r.value=s,r.getSnapshot=a,h7(r)&&x7(e)}function m7(e,r,s){return s(function(){h7(r)&&x7(e)})}function h7(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!Oi(e,s)}catch{return!0}}function x7(e){var r=Bl(e,1);r!==null&&Ei(r,e,1,-1)}function GS(e){var r=Hi();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d0,lastRenderedState:e},r.queue=e,e=e.dispatch=tV.bind(null,Qr,e),[r.memoizedState,e]}function u0(e,r,s,a){return e={tag:e,create:r,destroy:s,deps:a,next:null},r=Qr.updateQueue,r===null?(r={lastEffect:null,stores:null},Qr.updateQueue=r,r.lastEffect=e.next=e):(s=r.lastEffect,s===null?r.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,r.lastEffect=e)),e}function p7(){return li().memoizedState}function Gp(e,r,s,a){var n=Hi();Qr.flags|=e,n.memoizedState=u0(1|r,s,void 0,a===void 0?null:a)}function Ny(e,r,s,a){var n=li();a=a===void 0?null:a;var i=void 0;if(_s!==null){var l=_s.memoizedState;if(i=l.destroy,a!==null&&pN(a,l.deps)){n.memoizedState=u0(r,s,i,a);return}}Qr.flags|=e,n.memoizedState=u0(1|r,s,i,a)}function KS(e,r){return Gp(8390656,8,e,r)}function yN(e,r){return Ny(2048,8,e,r)}function f7(e,r){return Ny(4,2,e,r)}function g7(e,r){return Ny(4,4,e,r)}function y7(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function b7(e,r,s){return s=s!=null?s.concat([e]):null,Ny(4,4,y7.bind(null,r,e),s)}function bN(){}function v7(e,r){var s=li();r=r===void 0?null:r;var a=s.memoizedState;return a!==null&&r!==null&&pN(r,a[1])?a[0]:(s.memoizedState=[e,r],e)}function j7(e,r){var s=li();r=r===void 0?null:r;var a=s.memoizedState;return a!==null&&r!==null&&pN(r,a[1])?a[0]:(e=e(),s.memoizedState=[e,r],e)}function w7(e,r,s){return ld&21?(Oi(s,r)||(s=PI(),Qr.lanes|=s,od|=s,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,Ga=!0),e.memoizedState=s)}function ZH(e,r){var s=gr;gr=s!==0&&4>s?s:4,e(!0);var a=Fv.transition;Fv.transition={};try{e(!1),r()}finally{gr=s,Fv.transition=a}}function N7(){return li().memoizedState}function eV(e,r,s){var a=Ho(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},S7(e))k7(r,s);else if(s=n7(e,r,s,a),s!==null){var n=La();Ei(s,e,a,n),C7(s,r,a)}}function tV(e,r,s){var a=Ho(e),n={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(S7(e))k7(r,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=r.lastRenderedReducer,i!==null))try{var l=r.lastRenderedState,o=i(l,s);if(n.hasEagerState=!0,n.eagerState=o,Oi(o,l)){var d=r.interleaved;d===null?(n.next=n,dN(r)):(n.next=d.next,d.next=n),r.interleaved=n;return}}catch{}finally{}s=n7(e,r,n,a),s!==null&&(n=La(),Ei(s,e,a,n),C7(s,r,a))}}function S7(e){var r=e.alternate;return e===Qr||r!==null&&r===Qr}function k7(e,r){_h=Tf=!0;var s=e.pending;s===null?r.next=r:(r.next=s.next,s.next=r),e.pending=r}function C7(e,r,s){if(s&4194240){var a=r.lanes;a&=e.pendingLanes,s|=a,r.lanes=s,Xw(e,s)}}var Ef={readContext:ii,useCallback:ua,useContext:ua,useEffect:ua,useImperativeHandle:ua,useInsertionEffect:ua,useLayoutEffect:ua,useMemo:ua,useReducer:ua,useRef:ua,useState:ua,useDebugValue:ua,useDeferredValue:ua,useTransition:ua,useMutableSource:ua,useSyncExternalStore:ua,useId:ua,unstable_isNewReconciler:!1},rV={readContext:ii,useCallback:function(e,r){return Hi().memoizedState=[e,r===void 0?null:r],e},useContext:ii,useEffect:KS,useImperativeHandle:function(e,r,s){return s=s!=null?s.concat([e]):null,Gp(4194308,4,y7.bind(null,r,e),s)},useLayoutEffect:function(e,r){return Gp(4194308,4,e,r)},useInsertionEffect:function(e,r){return Gp(4,2,e,r)},useMemo:function(e,r){var s=Hi();return r=r===void 0?null:r,e=e(),s.memoizedState=[e,r],e},useReducer:function(e,r,s){var a=Hi();return r=s!==void 0?s(r):r,a.memoizedState=a.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=eV.bind(null,Qr,e),[a.memoizedState,e]},useRef:function(e){var r=Hi();return e={current:e},r.memoizedState=e},useState:GS,useDebugValue:bN,useDeferredValue:function(e){return Hi().memoizedState=e},useTransition:function(){var e=GS(!1),r=e[0];return e=ZH.bind(null,e[1]),Hi().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,s){var a=Qr,n=Hi();if(Vr){if(s===void 0)throw Error(tt(407));s=s()}else{if(s=r(),Ys===null)throw Error(tt(349));ld&30||d7(a,r,s)}n.memoizedState=s;var i={value:s,getSnapshot:r};return n.queue=i,KS(m7.bind(null,a,i,e),[e]),a.flags|=2048,u0(9,u7.bind(null,a,i,s,r),void 0,null),s},useId:function(){var e=Hi(),r=Ys.identifierPrefix;if(Vr){var s=vl,a=bl;s=(a&~(1<<32-Ti(a)-1)).toString(32)+s,r=":"+r+"R"+s,s=c0++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=QH++,r=":"+r+"r"+s.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},sV={readContext:ii,useCallback:v7,useContext:ii,useEffect:yN,useImperativeHandle:b7,useInsertionEffect:f7,useLayoutEffect:g7,useMemo:j7,useReducer:Rv,useRef:p7,useState:function(){return Rv(d0)},useDebugValue:bN,useDeferredValue:function(e){var r=li();return w7(r,_s.memoizedState,e)},useTransition:function(){var e=Rv(d0)[0],r=li().memoizedState;return[e,r]},useMutableSource:o7,useSyncExternalStore:c7,useId:N7,unstable_isNewReconciler:!1},aV={readContext:ii,useCallback:v7,useContext:ii,useEffect:yN,useImperativeHandle:b7,useInsertionEffect:f7,useLayoutEffect:g7,useMemo:j7,useReducer:Bv,useRef:p7,useState:function(){return Bv(d0)},useDebugValue:bN,useDeferredValue:function(e){var r=li();return _s===null?r.memoizedState=e:w7(r,_s.memoizedState,e)},useTransition:function(){var e=Bv(d0)[0],r=li().memoizedState;return[e,r]},useMutableSource:o7,useSyncExternalStore:c7,useId:N7,unstable_isNewReconciler:!1};function vi(e,r){if(e&&e.defaultProps){r=es({},r),e=e.defaultProps;for(var s in e)r[s]===void 0&&(r[s]=e[s]);return r}return r}function F2(e,r,s,a){r=e.memoizedState,s=s(a,r),s=s==null?r:es({},r,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Sy={isMounted:function(e){return(e=e._reactInternals)?Td(e)===e:!1},enqueueSetState:function(e,r,s){e=e._reactInternals;var a=La(),n=Ho(e),i=Sl(a,n);i.payload=r,s!=null&&(i.callback=s),r=zo(e,i,n),r!==null&&(Ei(r,e,n,a),Wp(r,e,n))},enqueueReplaceState:function(e,r,s){e=e._reactInternals;var a=La(),n=Ho(e),i=Sl(a,n);i.tag=1,i.payload=r,s!=null&&(i.callback=s),r=zo(e,i,n),r!==null&&(Ei(r,e,n,a),Wp(r,e,n))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var s=La(),a=Ho(e),n=Sl(s,a);n.tag=2,r!=null&&(n.callback=r),r=zo(e,n,a),r!==null&&(Ei(r,e,a,s),Wp(r,e,a))}};function YS(e,r,s,a,n,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,l):r.prototype&&r.prototype.isPureReactComponent?!s0(s,a)||!s0(n,i):!0}function P7(e,r,s){var a=!1,n=Qo,i=r.contextType;return typeof i=="object"&&i!==null?i=ii(i):(n=Xa(r)?nd:Na.current,a=r.contextTypes,i=(a=a!=null)?Gu(e,n):Qo),r=new r(s,i),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Sy,e.stateNode=r,r._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),r}function XS(e,r,s,a){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,a),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,a),r.state!==e&&Sy.enqueueReplaceState(r,r.state,null)}function R2(e,r,s,a){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},uN(e);var i=r.contextType;typeof i=="object"&&i!==null?n.context=ii(i):(i=Xa(r)?nd:Na.current,n.context=Gu(e,i)),n.state=e.memoizedState,i=r.getDerivedStateFromProps,typeof i=="function"&&(F2(e,r,i,s),n.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(r=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),r!==n.state&&Sy.enqueueReplaceState(n,n.state,null),Pf(e,s,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function Ju(e,r){try{var s="",a=r;do s+=OU(a),a=a.return;while(a);var n=s}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:r,stack:n,digest:null}}function $v(e,r,s){return{value:e,source:null,stack:s??null,digest:r??null}}function B2(e,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var nV=typeof WeakMap=="function"?WeakMap:Map;function A7(e,r,s){s=Sl(-1,s),s.tag=3,s.payload={element:null};var a=r.value;return s.callback=function(){Of||(Of=!0,Y2=a),B2(e,r)},s}function T7(e,r,s){s=Sl(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=r.value;s.payload=function(){return a(n)},s.callback=function(){B2(e,r)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){B2(e,r),typeof a!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var l=r.stack;this.componentDidCatch(r.value,{componentStack:l!==null?l:""})}),s}function JS(e,r,s){var a=e.pingCache;if(a===null){a=e.pingCache=new nV;var n=new Set;a.set(r,n)}else n=a.get(r),n===void 0&&(n=new Set,a.set(r,n));n.has(s)||(n.add(s),e=bV.bind(null,e,r,s),r.then(e,e))}function QS(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function ZS(e,r,s,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===r?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=Sl(-1,1),r.tag=2,zo(s,r,1))),s.lanes|=1),e)}var iV=to.ReactCurrentOwner,Ga=!1;function Aa(e,r,s,a){r.child=e===null?a7(r,null,s,a):Yu(r,e.child,s,a)}function ek(e,r,s,a,n){s=s.render;var i=r.ref;return Iu(r,n),a=fN(e,r,s,a,i,n),s=gN(),e!==null&&!Ga?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~n,$l(e,r,n)):(Vr&&s&&aN(r),r.flags|=1,Aa(e,r,a,n),r.child)}function tk(e,r,s,a,n){if(e===null){var i=s.type;return typeof i=="function"&&!PN(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=i,E7(e,r,i,a,n)):(e=Jp(s.type,null,a,r,r.mode,n),e.ref=r.ref,e.return=r,r.child=e)}if(i=e.child,!(e.lanes&n)){var l=i.memoizedProps;if(s=s.compare,s=s!==null?s:s0,s(l,a)&&e.ref===r.ref)return $l(e,r,n)}return r.flags|=1,e=Vo(i,a),e.ref=r.ref,e.return=r,r.child=e}function E7(e,r,s,a,n){if(e!==null){var i=e.memoizedProps;if(s0(i,a)&&e.ref===r.ref)if(Ga=!1,r.pendingProps=a=i,(e.lanes&n)!==0)e.flags&131072&&(Ga=!0);else return r.lanes=e.lanes,$l(e,r,n)}return $2(e,r,s,a,n)}function I7(e,r,s){var a=r.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tr(fu,xn),xn|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Tr(fu,xn),xn|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:s,Tr(fu,xn),xn|=a}else i!==null?(a=i.baseLanes|s,r.memoizedState=null):a=s,Tr(fu,xn),xn|=a;return Aa(e,r,n,s),r.child}function O7(e,r){var s=r.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function $2(e,r,s,a,n){var i=Xa(s)?nd:Na.current;return i=Gu(r,i),Iu(r,n),s=fN(e,r,s,a,i,n),a=gN(),e!==null&&!Ga?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~n,$l(e,r,n)):(Vr&&a&&aN(r),r.flags|=1,Aa(e,r,s,n),r.child)}function rk(e,r,s,a,n){if(Xa(s)){var i=!0;wf(r)}else i=!1;if(Iu(r,n),r.stateNode===null)Kp(e,r),P7(r,s,a),R2(r,s,a,n),a=!0;else if(e===null){var l=r.stateNode,o=r.memoizedProps;l.props=o;var d=l.context,c=s.contextType;typeof c=="object"&&c!==null?c=ii(c):(c=Xa(s)?nd:Na.current,c=Gu(r,c));var u=s.getDerivedStateFromProps,m=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==a||d!==c)&&XS(r,l,a,c),So=!1;var x=r.memoizedState;l.state=x,Pf(r,a,l,n),d=r.memoizedState,o!==a||x!==d||Ya.current||So?(typeof u=="function"&&(F2(r,s,u,a),d=r.memoizedState),(o=So||YS(r,s,o,a,x,d,c))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(r.flags|=4194308)):(typeof l.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=a,r.memoizedState=d),l.props=a,l.state=d,l.context=c,a=o):(typeof l.componentDidMount=="function"&&(r.flags|=4194308),a=!1)}else{l=r.stateNode,i7(e,r),o=r.memoizedProps,c=r.type===r.elementType?o:vi(r.type,o),l.props=c,m=r.pendingProps,x=l.context,d=s.contextType,typeof d=="object"&&d!==null?d=ii(d):(d=Xa(s)?nd:Na.current,d=Gu(r,d));var h=s.getDerivedStateFromProps;(u=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||x!==d)&&XS(r,l,a,d),So=!1,x=r.memoizedState,l.state=x,Pf(r,a,l,n);var p=r.memoizedState;o!==m||x!==p||Ya.current||So?(typeof h=="function"&&(F2(r,s,h,a),p=r.memoizedState),(c=So||YS(r,s,c,a,x,p,d)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,p,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,p,d)),typeof l.componentDidUpdate=="function"&&(r.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(r.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(r.flags|=1024),r.memoizedProps=a,r.memoizedState=p),l.props=a,l.state=p,l.context=d,a=c):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(r.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(r.flags|=1024),a=!1)}return z2(e,r,s,a,i,n)}function z2(e,r,s,a,n,i){O7(e,r);var l=(r.flags&128)!==0;if(!a&&!l)return n&&zS(r,s,!1),$l(e,r,i);a=r.stateNode,iV.current=r;var o=l&&typeof s.getDerivedStateFromError!="function"?null:a.render();return r.flags|=1,e!==null&&l?(r.child=Yu(r,e.child,null,i),r.child=Yu(r,null,o,i)):Aa(e,r,o,i),r.memoizedState=a.state,n&&zS(r,s,!0),r.child}function _7(e){var r=e.stateNode;r.pendingContext?$S(e,r.pendingContext,r.pendingContext!==r.context):r.context&&$S(e,r.context,!1),mN(e,r.containerInfo)}function sk(e,r,s,a,n){return Ku(),iN(n),r.flags|=256,Aa(e,r,s,a),r.child}var U2={dehydrated:null,treeContext:null,retryLane:0};function H2(e){return{baseLanes:e,cachePool:null,transitions:null}}function M7(e,r,s){var a=r.pendingProps,n=Yr.current,i=!1,l=(r.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(n&2)!==0),o?(i=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),Tr(Yr,n&1),e===null)return D2(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(l=a.children,e=a.fallback,i?(a=r.mode,i=r.child,l={mode:"hidden",children:l},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Py(l,a,0,null),e=qc(e,a,s,null),i.return=r,e.return=r,i.sibling=e,r.child=i,r.child.memoizedState=H2(s),r.memoizedState=U2,e):vN(r,l));if(n=e.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return lV(e,r,l,a,o,n,s);if(i){i=a.fallback,l=r.mode,n=e.child,o=n.sibling;var d={mode:"hidden",children:a.children};return!(l&1)&&r.child!==n?(a=r.child,a.childLanes=0,a.pendingProps=d,r.deletions=null):(a=Vo(n,d),a.subtreeFlags=n.subtreeFlags&14680064),o!==null?i=Vo(o,i):(i=qc(i,l,s,null),i.flags|=2),i.return=r,a.return=r,a.sibling=i,r.child=a,a=i,i=r.child,l=e.child.memoizedState,l=l===null?H2(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~s,r.memoizedState=U2,a}return i=e.child,e=i.sibling,a=Vo(i,{mode:"visible",children:a.children}),!(r.mode&1)&&(a.lanes=s),a.return=r,a.sibling=null,e!==null&&(s=r.deletions,s===null?(r.deletions=[e],r.flags|=16):s.push(e)),r.child=a,r.memoizedState=null,a}function vN(e,r){return r=Py({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function tp(e,r,s,a){return a!==null&&iN(a),Yu(r,e.child,null,s),e=vN(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function lV(e,r,s,a,n,i,l){if(s)return r.flags&256?(r.flags&=-257,a=$v(Error(tt(422))),tp(e,r,l,a)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(i=a.fallback,n=r.mode,a=Py({mode:"visible",children:a.children},n,0,null),i=qc(i,n,l,null),i.flags|=2,a.return=r,i.return=r,a.sibling=i,r.child=a,r.mode&1&&Yu(r,e.child,null,l),r.child.memoizedState=H2(l),r.memoizedState=U2,i);if(!(r.mode&1))return tp(e,r,l,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var o=a.dgst;return a=o,i=Error(tt(419)),a=$v(i,a,void 0),tp(e,r,l,a)}if(o=(l&e.childLanes)!==0,Ga||o){if(a=Ys,a!==null){switch(l&-l){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|l)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,Bl(e,n),Ei(a,e,n,-1))}return CN(),a=$v(Error(tt(421))),tp(e,r,l,a)}return n.data==="$?"?(r.flags|=128,r.child=e.child,r=vV.bind(null,e),n._reactRetry=r,null):(e=i.treeContext,jn=$o(n.nextSibling),Nn=r,Vr=!0,wi=null,e!==null&&(Jn[Qn++]=bl,Jn[Qn++]=vl,Jn[Qn++]=id,bl=e.id,vl=e.overflow,id=r),r=vN(r,a.children),r.flags|=4096,r)}function ak(e,r,s){e.lanes|=r;var a=e.alternate;a!==null&&(a.lanes|=r),L2(e.return,r,s)}function zv(e,r,s,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:n}:(i.isBackwards=r,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=s,i.tailMode=n)}function D7(e,r,s){var a=r.pendingProps,n=a.revealOrder,i=a.tail;if(Aa(e,r,a.children,s),a=Yr.current,a&2)a=a&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ak(e,s,r);else if(e.tag===19)ak(e,s,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Tr(Yr,a),!(r.mode&1))r.memoizedState=null;else switch(n){case"forwards":for(s=r.child,n=null;s!==null;)e=s.alternate,e!==null&&Af(e)===null&&(n=s),s=s.sibling;s=n,s===null?(n=r.child,r.child=null):(n=s.sibling,s.sibling=null),zv(r,!1,n,s,i);break;case"backwards":for(s=null,n=r.child,r.child=null;n!==null;){if(e=n.alternate,e!==null&&Af(e)===null){r.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}zv(r,!0,s,null,i);break;case"together":zv(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Kp(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function $l(e,r,s){if(e!==null&&(r.dependencies=e.dependencies),od|=r.lanes,!(s&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(tt(153));if(r.child!==null){for(e=r.child,s=Vo(e,e.pendingProps),r.child=s,s.return=r;e.sibling!==null;)e=e.sibling,s=s.sibling=Vo(e,e.pendingProps),s.return=r;s.sibling=null}return r.child}function oV(e,r,s){switch(r.tag){case 3:_7(r),Ku();break;case 5:l7(r);break;case 1:Xa(r.type)&&wf(r);break;case 4:mN(r,r.stateNode.containerInfo);break;case 10:var a=r.type._context,n=r.memoizedProps.value;Tr(kf,a._currentValue),a._currentValue=n;break;case 13:if(a=r.memoizedState,a!==null)return a.dehydrated!==null?(Tr(Yr,Yr.current&1),r.flags|=128,null):s&r.child.childLanes?M7(e,r,s):(Tr(Yr,Yr.current&1),e=$l(e,r,s),e!==null?e.sibling:null);Tr(Yr,Yr.current&1);break;case 19:if(a=(s&r.childLanes)!==0,e.flags&128){if(a)return D7(e,r,s);r.flags|=128}if(n=r.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Tr(Yr,Yr.current),a)break;return null;case 22:case 23:return r.lanes=0,I7(e,r,s)}return $l(e,r,s)}var L7,V2,F7,R7;L7=function(e,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};V2=function(){};F7=function(e,r,s,a){var n=e.memoizedProps;if(n!==a){e=r.stateNode,Lc(Qi.current);var i=null;switch(s){case"input":n=m2(e,n),a=m2(e,a),i=[];break;case"select":n=es({},n,{value:void 0}),a=es({},a,{value:void 0}),i=[];break;case"textarea":n=p2(e,n),a=p2(e,a),i=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=vf)}g2(s,a);var l;s=null;for(c in n)if(!a.hasOwnProperty(c)&&n.hasOwnProperty(c)&&n[c]!=null)if(c==="style"){var o=n[c];for(l in o)o.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Xh.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in a){var d=a[c];if(o=n!=null?n[c]:void 0,a.hasOwnProperty(c)&&d!==o&&(d!=null||o!=null))if(c==="style")if(o){for(l in o)!o.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in d)d.hasOwnProperty(l)&&o[l]!==d[l]&&(s||(s={}),s[l]=d[l])}else s||(i||(i=[]),i.push(c,s)),s=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,o=o?o.__html:void 0,d!=null&&o!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Xh.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&Mr("scroll",e),i||o===d||(i=[])):(i=i||[]).push(c,d))}s&&(i=i||[]).push("style",s);var c=i;(r.updateQueue=c)&&(r.flags|=4)}};R7=function(e,r,s,a){s!==a&&(r.flags|=4)};function Jm(e,r){if(!Vr)switch(e.tailMode){case"hidden":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ma(e){var r=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(r)for(var n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=s,r}function cV(e,r,s){var a=r.pendingProps;switch(nN(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ma(r),null;case 1:return Xa(r.type)&&jf(),ma(r),null;case 3:return a=r.stateNode,Xu(),Fr(Ya),Fr(Na),xN(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Zx(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,wi!==null&&(Q2(wi),wi=null))),V2(e,r),ma(r),null;case 5:hN(r);var n=Lc(o0.current);if(s=r.type,e!==null&&r.stateNode!=null)F7(e,r,s,a,n),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!a){if(r.stateNode===null)throw Error(tt(166));return ma(r),null}if(e=Lc(Qi.current),Zx(r)){a=r.stateNode,s=r.type;var i=r.memoizedProps;switch(a[Wi]=r,a[i0]=i,e=(r.mode&1)!==0,s){case"dialog":Mr("cancel",a),Mr("close",a);break;case"iframe":case"object":case"embed":Mr("load",a);break;case"video":case"audio":for(n=0;n<Nh.length;n++)Mr(Nh[n],a);break;case"source":Mr("error",a);break;case"img":case"image":case"link":Mr("error",a),Mr("load",a);break;case"details":Mr("toggle",a);break;case"input":hS(a,i),Mr("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Mr("invalid",a);break;case"textarea":pS(a,i),Mr("invalid",a)}g2(s,i),n=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?a.textContent!==o&&(i.suppressHydrationWarning!==!0&&Qx(a.textContent,o,e),n=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Qx(a.textContent,o,e),n=["children",""+o]):Xh.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Mr("scroll",a)}switch(s){case"input":Vx(a),xS(a,i,!0);break;case"textarea":Vx(a),fS(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=vf)}a=n,r.updateQueue=a,a!==null&&(r.flags|=4)}else{l=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mI(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=l.createElement(s,{is:a.is}):(e=l.createElement(s),s==="select"&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,s),e[Wi]=r,e[i0]=a,L7(e,r,!1,!1),r.stateNode=e;e:{switch(l=y2(s,a),s){case"dialog":Mr("cancel",e),Mr("close",e),n=a;break;case"iframe":case"object":case"embed":Mr("load",e),n=a;break;case"video":case"audio":for(n=0;n<Nh.length;n++)Mr(Nh[n],e);n=a;break;case"source":Mr("error",e),n=a;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),n=a;break;case"details":Mr("toggle",e),n=a;break;case"input":hS(e,a),n=m2(e,a),Mr("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=es({},a,{value:void 0}),Mr("invalid",e);break;case"textarea":pS(e,a),n=p2(e,a),Mr("invalid",e);break;default:n=a}g2(s,n),o=n;for(i in o)if(o.hasOwnProperty(i)){var d=o[i];i==="style"?pI(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&hI(e,d)):i==="children"?typeof d=="string"?(s!=="textarea"||d!=="")&&Jh(e,d):typeof d=="number"&&Jh(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xh.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Mr("scroll",e):d!=null&&Vw(e,i,d,l))}switch(s){case"input":Vx(e),xS(e,a,!1);break;case"textarea":Vx(e),fS(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Jo(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?Pu(e,!!a.multiple,i,!1):a.defaultValue!=null&&Pu(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=vf)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return ma(r),null;case 6:if(e&&r.stateNode!=null)R7(e,r,e.memoizedProps,a);else{if(typeof a!="string"&&r.stateNode===null)throw Error(tt(166));if(s=Lc(o0.current),Lc(Qi.current),Zx(r)){if(a=r.stateNode,s=r.memoizedProps,a[Wi]=r,(i=a.nodeValue!==s)&&(e=Nn,e!==null))switch(e.tag){case 3:Qx(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qx(a.nodeValue,s,(e.mode&1)!==0)}i&&(r.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Wi]=r,r.stateNode=a}return ma(r),null;case 13:if(Fr(Yr),a=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Vr&&jn!==null&&r.mode&1&&!(r.flags&128))r7(),Ku(),r.flags|=98560,i=!1;else if(i=Zx(r),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(tt(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(tt(317));i[Wi]=r}else Ku(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;ma(r),i=!1}else wi!==null&&(Q2(wi),wi=null),i=!0;if(!i)return r.flags&65536?r:null}return r.flags&128?(r.lanes=s,r):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(r.child.flags|=8192,r.mode&1&&(e===null||Yr.current&1?Fs===0&&(Fs=3):CN())),r.updateQueue!==null&&(r.flags|=4),ma(r),null);case 4:return Xu(),V2(e,r),e===null&&a0(r.stateNode.containerInfo),ma(r),null;case 10:return cN(r.type._context),ma(r),null;case 17:return Xa(r.type)&&jf(),ma(r),null;case 19:if(Fr(Yr),i=r.memoizedState,i===null)return ma(r),null;if(a=(r.flags&128)!==0,l=i.rendering,l===null)if(a)Jm(i,!1);else{if(Fs!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(l=Af(e),l!==null){for(r.flags|=128,Jm(i,!1),a=l.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),r.subtreeFlags=0,a=s,s=r.child;s!==null;)i=s,e=a,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Tr(Yr,Yr.current&1|2),r.child}e=e.sibling}i.tail!==null&&xs()>Qu&&(r.flags|=128,a=!0,Jm(i,!1),r.lanes=4194304)}else{if(!a)if(e=Af(l),e!==null){if(r.flags|=128,a=!0,s=e.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),Jm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Vr)return ma(r),null}else 2*xs()-i.renderingStartTime>Qu&&s!==1073741824&&(r.flags|=128,a=!0,Jm(i,!1),r.lanes=4194304);i.isBackwards?(l.sibling=r.child,r.child=l):(s=i.last,s!==null?s.sibling=l:r.child=l,i.last=l)}return i.tail!==null?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.renderingStartTime=xs(),r.sibling=null,s=Yr.current,Tr(Yr,a?s&1|2:s&1),r):(ma(r),null);case 22:case 23:return kN(),a=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(r.flags|=8192),a&&r.mode&1?xn&1073741824&&(ma(r),r.subtreeFlags&6&&(r.flags|=8192)):ma(r),null;case 24:return null;case 25:return null}throw Error(tt(156,r.tag))}function dV(e,r){switch(nN(r),r.tag){case 1:return Xa(r.type)&&jf(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Xu(),Fr(Ya),Fr(Na),xN(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return hN(r),null;case 13:if(Fr(Yr),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(tt(340));Ku()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Fr(Yr),null;case 4:return Xu(),null;case 10:return cN(r.type._context),null;case 22:case 23:return kN(),null;case 24:return null;default:return null}}var rp=!1,pa=!1,uV=typeof WeakSet=="function"?WeakSet:Set,wt=null;function pu(e,r){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){is(e,r,a)}else s.current=null}function W2(e,r,s){try{s()}catch(a){is(e,r,a)}}var nk=!1;function mV(e,r){if(A2=gf,e=HI(),sN(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var l=0,o=-1,d=-1,c=0,u=0,m=e,x=null;t:for(;;){for(var h;m!==s||n!==0&&m.nodeType!==3||(o=l+n),m!==i||a!==0&&m.nodeType!==3||(d=l+a),m.nodeType===3&&(l+=m.nodeValue.length),(h=m.firstChild)!==null;)x=m,m=h;for(;;){if(m===e)break t;if(x===s&&++c===n&&(o=l),x===i&&++u===a&&(d=l),(h=m.nextSibling)!==null)break;m=x,x=m.parentNode}m=h}s=o===-1||d===-1?null:{start:o,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;for(T2={focusedElem:e,selectionRange:s},gf=!1,wt=r;wt!==null;)if(r=wt,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,wt=e;else for(;wt!==null;){r=wt;try{var p=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var f=p.memoizedProps,b=p.memoizedState,j=r.stateNode,w=j.getSnapshotBeforeUpdate(r.elementType===r.type?f:vi(r.type,f),b);j.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=r.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(v){is(r,r.return,v)}if(e=r.sibling,e!==null){e.return=r.return,wt=e;break}wt=r.return}return p=nk,nk=!1,p}function Mh(e,r,s){var a=r.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&W2(r,s,i)}n=n.next}while(n!==a)}}function ky(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==r)}}function q2(e){var r=e.ref;if(r!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof r=="function"?r(e):r.current=e}}function B7(e){var r=e.alternate;r!==null&&(e.alternate=null,B7(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Wi],delete r[i0],delete r[O2],delete r[KH],delete r[YH])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $7(e){return e.tag===5||e.tag===3||e.tag===4}function ik(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function G2(e,r,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(e,r):s.insertBefore(e,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(e,s)):(r=s,r.appendChild(e)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=vf));else if(a!==4&&(e=e.child,e!==null))for(G2(e,r,s),e=e.sibling;e!==null;)G2(e,r,s),e=e.sibling}function K2(e,r,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,r?s.insertBefore(e,r):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(K2(e,r,s),e=e.sibling;e!==null;)K2(e,r,s),e=e.sibling}var ea=null,ji=!1;function fo(e,r,s){for(s=s.child;s!==null;)z7(e,r,s),s=s.sibling}function z7(e,r,s){if(Ji&&typeof Ji.onCommitFiberUnmount=="function")try{Ji.onCommitFiberUnmount(gy,s)}catch{}switch(s.tag){case 5:pa||pu(s,r);case 6:var a=ea,n=ji;ea=null,fo(e,r,s),ea=a,ji=n,ea!==null&&(ji?(e=ea,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):ea.removeChild(s.stateNode));break;case 18:ea!==null&&(ji?(e=ea,s=s.stateNode,e.nodeType===8?Mv(e.parentNode,s):e.nodeType===1&&Mv(e,s),t0(e)):Mv(ea,s.stateNode));break;case 4:a=ea,n=ji,ea=s.stateNode.containerInfo,ji=!0,fo(e,r,s),ea=a,ji=n;break;case 0:case 11:case 14:case 15:if(!pa&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var i=n,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&W2(s,r,l),n=n.next}while(n!==a)}fo(e,r,s);break;case 1:if(!pa&&(pu(s,r),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(o){is(s,r,o)}fo(e,r,s);break;case 21:fo(e,r,s);break;case 22:s.mode&1?(pa=(a=pa)||s.memoizedState!==null,fo(e,r,s),pa=a):fo(e,r,s);break;default:fo(e,r,s)}}function lk(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new uV),r.forEach(function(a){var n=jV.bind(null,e,a);s.has(a)||(s.add(a),a.then(n,n))})}}function gi(e,r){var s=r.deletions;if(s!==null)for(var a=0;a<s.length;a++){var n=s[a];try{var i=e,l=r,o=l;e:for(;o!==null;){switch(o.tag){case 5:ea=o.stateNode,ji=!1;break e;case 3:ea=o.stateNode.containerInfo,ji=!0;break e;case 4:ea=o.stateNode.containerInfo,ji=!0;break e}o=o.return}if(ea===null)throw Error(tt(160));z7(i,l,n),ea=null,ji=!1;var d=n.alternate;d!==null&&(d.return=null),n.return=null}catch(c){is(n,r,c)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)U7(r,e),r=r.sibling}function U7(e,r){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gi(r,e),Bi(e),a&4){try{Mh(3,e,e.return),ky(3,e)}catch(f){is(e,e.return,f)}try{Mh(5,e,e.return)}catch(f){is(e,e.return,f)}}break;case 1:gi(r,e),Bi(e),a&512&&s!==null&&pu(s,s.return);break;case 5:if(gi(r,e),Bi(e),a&512&&s!==null&&pu(s,s.return),e.flags&32){var n=e.stateNode;try{Jh(n,"")}catch(f){is(e,e.return,f)}}if(a&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,l=s!==null?s.memoizedProps:i,o=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&dI(n,i),y2(o,l);var c=y2(o,i);for(l=0;l<d.length;l+=2){var u=d[l],m=d[l+1];u==="style"?pI(n,m):u==="dangerouslySetInnerHTML"?hI(n,m):u==="children"?Jh(n,m):Vw(n,u,m,c)}switch(o){case"input":h2(n,i);break;case"textarea":uI(n,i);break;case"select":var x=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Pu(n,!!i.multiple,h,!1):x!==!!i.multiple&&(i.defaultValue!=null?Pu(n,!!i.multiple,i.defaultValue,!0):Pu(n,!!i.multiple,i.multiple?[]:"",!1))}n[i0]=i}catch(f){is(e,e.return,f)}}break;case 6:if(gi(r,e),Bi(e),a&4){if(e.stateNode===null)throw Error(tt(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(f){is(e,e.return,f)}}break;case 3:if(gi(r,e),Bi(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{t0(r.containerInfo)}catch(f){is(e,e.return,f)}break;case 4:gi(r,e),Bi(e);break;case 13:gi(r,e),Bi(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(NN=xs())),a&4&&lk(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(pa=(c=pa)||u,gi(r,e),pa=c):gi(r,e),Bi(e),a&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(wt=e,u=e.child;u!==null;){for(m=wt=u;wt!==null;){switch(x=wt,h=x.child,x.tag){case 0:case 11:case 14:case 15:Mh(4,x,x.return);break;case 1:pu(x,x.return);var p=x.stateNode;if(typeof p.componentWillUnmount=="function"){a=x,s=x.return;try{r=a,p.props=r.memoizedProps,p.state=r.memoizedState,p.componentWillUnmount()}catch(f){is(a,s,f)}}break;case 5:pu(x,x.return);break;case 22:if(x.memoizedState!==null){ck(m);continue}}h!==null?(h.return=x,wt=h):ck(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{n=m.stateNode,c?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,d=m.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,o.style.display=xI("display",l))}catch(f){is(e,e.return,f)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(f){is(e,e.return,f)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:gi(r,e),Bi(e),a&4&&lk(e);break;case 21:break;default:gi(r,e),Bi(e)}}function Bi(e){var r=e.flags;if(r&2){try{e:{for(var s=e.return;s!==null;){if($7(s)){var a=s;break e}s=s.return}throw Error(tt(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(Jh(n,""),a.flags&=-33);var i=ik(e);K2(e,i,n);break;case 3:case 4:var l=a.stateNode.containerInfo,o=ik(e);G2(e,o,l);break;default:throw Error(tt(161))}}catch(d){is(e,e.return,d)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function hV(e,r,s){wt=e,H7(e)}function H7(e,r,s){for(var a=(e.mode&1)!==0;wt!==null;){var n=wt,i=n.child;if(n.tag===22&&a){var l=n.memoizedState!==null||rp;if(!l){var o=n.alternate,d=o!==null&&o.memoizedState!==null||pa;o=rp;var c=pa;if(rp=l,(pa=d)&&!c)for(wt=n;wt!==null;)l=wt,d=l.child,l.tag===22&&l.memoizedState!==null?dk(n):d!==null?(d.return=l,wt=d):dk(n);for(;i!==null;)wt=i,H7(i),i=i.sibling;wt=n,rp=o,pa=c}ok(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,wt=i):ok(e)}}function ok(e){for(;wt!==null;){var r=wt;if(r.flags&8772){var s=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:pa||ky(5,r);break;case 1:var a=r.stateNode;if(r.flags&4&&!pa)if(s===null)a.componentDidMount();else{var n=r.elementType===r.type?s.memoizedProps:vi(r.type,s.memoizedProps);a.componentDidUpdate(n,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=r.updateQueue;i!==null&&qS(r,i,a);break;case 3:var l=r.updateQueue;if(l!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}qS(r,l,s)}break;case 5:var o=r.stateNode;if(s===null&&r.flags&4){s=o;var d=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&s.focus();break;case"img":d.src&&(s.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var c=r.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&t0(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}pa||r.flags&512&&q2(r)}catch(x){is(r,r.return,x)}}if(r===e){wt=null;break}if(s=r.sibling,s!==null){s.return=r.return,wt=s;break}wt=r.return}}function ck(e){for(;wt!==null;){var r=wt;if(r===e){wt=null;break}var s=r.sibling;if(s!==null){s.return=r.return,wt=s;break}wt=r.return}}function dk(e){for(;wt!==null;){var r=wt;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{ky(4,r)}catch(d){is(r,s,d)}break;case 1:var a=r.stateNode;if(typeof a.componentDidMount=="function"){var n=r.return;try{a.componentDidMount()}catch(d){is(r,n,d)}}var i=r.return;try{q2(r)}catch(d){is(r,i,d)}break;case 5:var l=r.return;try{q2(r)}catch(d){is(r,l,d)}}}catch(d){is(r,r.return,d)}if(r===e){wt=null;break}var o=r.sibling;if(o!==null){o.return=r.return,wt=o;break}wt=r.return}}var xV=Math.ceil,If=to.ReactCurrentDispatcher,jN=to.ReactCurrentOwner,si=to.ReactCurrentBatchConfig,sr=0,Ys=null,Cs=null,aa=0,xn=0,fu=uc(0),Fs=0,m0=null,od=0,Cy=0,wN=0,Dh=null,Wa=null,NN=0,Qu=1/0,xl=null,Of=!1,Y2=null,Uo=null,sp=!1,Oo=null,_f=0,Lh=0,X2=null,Yp=-1,Xp=0;function La(){return sr&6?xs():Yp!==-1?Yp:Yp=xs()}function Ho(e){return e.mode&1?sr&2&&aa!==0?aa&-aa:JH.transition!==null?(Xp===0&&(Xp=PI()),Xp):(e=gr,e!==0||(e=window.event,e=e===void 0?16:MI(e.type)),e):1}function Ei(e,r,s,a){if(50<Lh)throw Lh=0,X2=null,Error(tt(185));K0(e,s,a),(!(sr&2)||e!==Ys)&&(e===Ys&&(!(sr&2)&&(Cy|=s),Fs===4&&To(e,aa)),Ja(e,a),s===1&&sr===0&&!(r.mode&1)&&(Qu=xs()+500,wy&&mc()))}function Ja(e,r){var s=e.callbackNode;JU(e,r);var a=ff(e,e===Ys?aa:0);if(a===0)s!==null&&bS(s),e.callbackNode=null,e.callbackPriority=0;else if(r=a&-a,e.callbackPriority!==r){if(s!=null&&bS(s),r===1)e.tag===0?XH(uk.bind(null,e)):ZI(uk.bind(null,e)),qH(function(){!(sr&6)&&mc()}),s=null;else{switch(AI(a)){case 1:s=Yw;break;case 4:s=kI;break;case 16:s=pf;break;case 536870912:s=CI;break;default:s=pf}s=J7(s,V7.bind(null,e))}e.callbackPriority=r,e.callbackNode=s}}function V7(e,r){if(Yp=-1,Xp=0,sr&6)throw Error(tt(327));var s=e.callbackNode;if(Ou()&&e.callbackNode!==s)return null;var a=ff(e,e===Ys?aa:0);if(a===0)return null;if(a&30||a&e.expiredLanes||r)r=Mf(e,a);else{r=a;var n=sr;sr|=2;var i=q7();(Ys!==e||aa!==r)&&(xl=null,Qu=xs()+500,Wc(e,r));do try{gV();break}catch(o){W7(e,o)}while(!0);oN(),If.current=i,sr=n,Cs!==null?r=0:(Ys=null,aa=0,r=Fs)}if(r!==0){if(r===2&&(n=N2(e),n!==0&&(a=n,r=J2(e,n))),r===1)throw s=m0,Wc(e,0),To(e,a),Ja(e,xs()),s;if(r===6)To(e,a);else{if(n=e.current.alternate,!(a&30)&&!pV(n)&&(r=Mf(e,a),r===2&&(i=N2(e),i!==0&&(a=i,r=J2(e,i))),r===1))throw s=m0,Wc(e,0),To(e,a),Ja(e,xs()),s;switch(e.finishedWork=n,e.finishedLanes=a,r){case 0:case 1:throw Error(tt(345));case 2:Sc(e,Wa,xl);break;case 3:if(To(e,a),(a&130023424)===a&&(r=NN+500-xs(),10<r)){if(ff(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){La(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=I2(Sc.bind(null,e,Wa,xl),r);break}Sc(e,Wa,xl);break;case 4:if(To(e,a),(a&4194240)===a)break;for(r=e.eventTimes,n=-1;0<a;){var l=31-Ti(a);i=1<<l,l=r[l],l>n&&(n=l),a&=~i}if(a=n,a=xs()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*xV(a/1960))-a,10<a){e.timeoutHandle=I2(Sc.bind(null,e,Wa,xl),a);break}Sc(e,Wa,xl);break;case 5:Sc(e,Wa,xl);break;default:throw Error(tt(329))}}}return Ja(e,xs()),e.callbackNode===s?V7.bind(null,e):null}function J2(e,r){var s=Dh;return e.current.memoizedState.isDehydrated&&(Wc(e,r).flags|=256),e=Mf(e,r),e!==2&&(r=Wa,Wa=s,r!==null&&Q2(r)),e}function Q2(e){Wa===null?Wa=e:Wa.push.apply(Wa,e)}function pV(e){for(var r=e;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var n=s[a],i=n.getSnapshot;n=n.value;try{if(!Oi(i(),n))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function To(e,r){for(r&=~wN,r&=~Cy,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var s=31-Ti(r),a=1<<s;e[s]=-1,r&=~a}}function uk(e){if(sr&6)throw Error(tt(327));Ou();var r=ff(e,0);if(!(r&1))return Ja(e,xs()),null;var s=Mf(e,r);if(e.tag!==0&&s===2){var a=N2(e);a!==0&&(r=a,s=J2(e,a))}if(s===1)throw s=m0,Wc(e,0),To(e,r),Ja(e,xs()),s;if(s===6)throw Error(tt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,Sc(e,Wa,xl),Ja(e,xs()),null}function SN(e,r){var s=sr;sr|=1;try{return e(r)}finally{sr=s,sr===0&&(Qu=xs()+500,wy&&mc())}}function cd(e){Oo!==null&&Oo.tag===0&&!(sr&6)&&Ou();var r=sr;sr|=1;var s=si.transition,a=gr;try{if(si.transition=null,gr=1,e)return e()}finally{gr=a,si.transition=s,sr=r,!(sr&6)&&mc()}}function kN(){xn=fu.current,Fr(fu)}function Wc(e,r){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,WH(s)),Cs!==null)for(s=Cs.return;s!==null;){var a=s;switch(nN(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&jf();break;case 3:Xu(),Fr(Ya),Fr(Na),xN();break;case 5:hN(a);break;case 4:Xu();break;case 13:Fr(Yr);break;case 19:Fr(Yr);break;case 10:cN(a.type._context);break;case 22:case 23:kN()}s=s.return}if(Ys=e,Cs=e=Vo(e.current,null),aa=xn=r,Fs=0,m0=null,wN=Cy=od=0,Wa=Dh=null,Dc!==null){for(r=0;r<Dc.length;r++)if(s=Dc[r],a=s.interleaved,a!==null){s.interleaved=null;var n=a.next,i=s.pending;if(i!==null){var l=i.next;i.next=n,a.next=l}s.pending=a}Dc=null}return e}function W7(e,r){do{var s=Cs;try{if(oN(),qp.current=Ef,Tf){for(var a=Qr.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}Tf=!1}if(ld=0,Vs=_s=Qr=null,_h=!1,c0=0,jN.current=null,s===null||s.return===null){Fs=1,m0=r,Cs=null;break}e:{var i=e,l=s.return,o=s,d=r;if(r=aa,o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,u=o,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var x=u.alternate;x?(u.updateQueue=x.updateQueue,u.memoizedState=x.memoizedState,u.lanes=x.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=QS(l);if(h!==null){h.flags&=-257,ZS(h,l,o,i,r),h.mode&1&&JS(i,c,r),r=h,d=c;var p=r.updateQueue;if(p===null){var f=new Set;f.add(d),r.updateQueue=f}else p.add(d);break e}else{if(!(r&1)){JS(i,c,r),CN();break e}d=Error(tt(426))}}else if(Vr&&o.mode&1){var b=QS(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ZS(b,l,o,i,r),iN(Ju(d,o));break e}}i=d=Ju(d,o),Fs!==4&&(Fs=2),Dh===null?Dh=[i]:Dh.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,r&=-r,i.lanes|=r;var j=A7(i,d,r);WS(i,j);break e;case 1:o=d;var w=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Uo===null||!Uo.has(y)))){i.flags|=65536,r&=-r,i.lanes|=r;var v=T7(i,o,r);WS(i,v);break e}}i=i.return}while(i!==null)}K7(s)}catch(N){r=N,Cs===s&&s!==null&&(Cs=s=s.return);continue}break}while(!0)}function q7(){var e=If.current;return If.current=Ef,e===null?Ef:e}function CN(){(Fs===0||Fs===3||Fs===2)&&(Fs=4),Ys===null||!(od&268435455)&&!(Cy&268435455)||To(Ys,aa)}function Mf(e,r){var s=sr;sr|=2;var a=q7();(Ys!==e||aa!==r)&&(xl=null,Wc(e,r));do try{fV();break}catch(n){W7(e,n)}while(!0);if(oN(),sr=s,If.current=a,Cs!==null)throw Error(tt(261));return Ys=null,aa=0,Fs}function fV(){for(;Cs!==null;)G7(Cs)}function gV(){for(;Cs!==null&&!UU();)G7(Cs)}function G7(e){var r=X7(e.alternate,e,xn);e.memoizedProps=e.pendingProps,r===null?K7(e):Cs=r,jN.current=null}function K7(e){var r=e;do{var s=r.alternate;if(e=r.return,r.flags&32768){if(s=dV(s,r),s!==null){s.flags&=32767,Cs=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fs=6,Cs=null;return}}else if(s=cV(s,r,xn),s!==null){Cs=s;return}if(r=r.sibling,r!==null){Cs=r;return}Cs=r=e}while(r!==null);Fs===0&&(Fs=5)}function Sc(e,r,s){var a=gr,n=si.transition;try{si.transition=null,gr=1,yV(e,r,s,a)}finally{si.transition=n,gr=a}return null}function yV(e,r,s,a){do Ou();while(Oo!==null);if(sr&6)throw Error(tt(327));s=e.finishedWork;var n=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(tt(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(QU(e,i),e===Ys&&(Cs=Ys=null,aa=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||sp||(sp=!0,J7(pf,function(){return Ou(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=si.transition,si.transition=null;var l=gr;gr=1;var o=sr;sr|=4,jN.current=null,mV(e,s),U7(s,e),RH(T2),gf=!!A2,T2=A2=null,e.current=s,hV(s),HU(),sr=o,gr=l,si.transition=i}else e.current=s;if(sp&&(sp=!1,Oo=e,_f=n),i=e.pendingLanes,i===0&&(Uo=null),qU(s.stateNode),Ja(e,xs()),r!==null)for(a=e.onRecoverableError,s=0;s<r.length;s++)n=r[s],a(n.value,{componentStack:n.stack,digest:n.digest});if(Of)throw Of=!1,e=Y2,Y2=null,e;return _f&1&&e.tag!==0&&Ou(),i=e.pendingLanes,i&1?e===X2?Lh++:(Lh=0,X2=e):Lh=0,mc(),null}function Ou(){if(Oo!==null){var e=AI(_f),r=si.transition,s=gr;try{if(si.transition=null,gr=16>e?16:e,Oo===null)var a=!1;else{if(e=Oo,Oo=null,_f=0,sr&6)throw Error(tt(331));var n=sr;for(sr|=4,wt=e.current;wt!==null;){var i=wt,l=i.child;if(wt.flags&16){var o=i.deletions;if(o!==null){for(var d=0;d<o.length;d++){var c=o[d];for(wt=c;wt!==null;){var u=wt;switch(u.tag){case 0:case 11:case 15:Mh(8,u,i)}var m=u.child;if(m!==null)m.return=u,wt=m;else for(;wt!==null;){u=wt;var x=u.sibling,h=u.return;if(B7(u),u===c){wt=null;break}if(x!==null){x.return=h,wt=x;break}wt=h}}}var p=i.alternate;if(p!==null){var f=p.child;if(f!==null){p.child=null;do{var b=f.sibling;f.sibling=null,f=b}while(f!==null)}}wt=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,wt=l;else e:for(;wt!==null;){if(i=wt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Mh(9,i,i.return)}var j=i.sibling;if(j!==null){j.return=i.return,wt=j;break e}wt=i.return}}var w=e.current;for(wt=w;wt!==null;){l=wt;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,wt=y;else e:for(l=w;wt!==null;){if(o=wt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ky(9,o)}}catch(N){is(o,o.return,N)}if(o===l){wt=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,wt=v;break e}wt=o.return}}if(sr=n,mc(),Ji&&typeof Ji.onPostCommitFiberRoot=="function")try{Ji.onPostCommitFiberRoot(gy,e)}catch{}a=!0}return a}finally{gr=s,si.transition=r}}return!1}function mk(e,r,s){r=Ju(s,r),r=A7(e,r,1),e=zo(e,r,1),r=La(),e!==null&&(K0(e,1,r),Ja(e,r))}function is(e,r,s){if(e.tag===3)mk(e,e,s);else for(;r!==null;){if(r.tag===3){mk(r,e,s);break}else if(r.tag===1){var a=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Uo===null||!Uo.has(a))){e=Ju(s,e),e=T7(r,e,1),r=zo(r,e,1),e=La(),r!==null&&(K0(r,1,e),Ja(r,e));break}}r=r.return}}function bV(e,r,s){var a=e.pingCache;a!==null&&a.delete(r),r=La(),e.pingedLanes|=e.suspendedLanes&s,Ys===e&&(aa&s)===s&&(Fs===4||Fs===3&&(aa&130023424)===aa&&500>xs()-NN?Wc(e,0):wN|=s),Ja(e,r)}function Y7(e,r){r===0&&(e.mode&1?(r=Gx,Gx<<=1,!(Gx&130023424)&&(Gx=4194304)):r=1);var s=La();e=Bl(e,r),e!==null&&(K0(e,r,s),Ja(e,s))}function vV(e){var r=e.memoizedState,s=0;r!==null&&(s=r.retryLane),Y7(e,s)}function jV(e,r){var s=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(s=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(tt(314))}a!==null&&a.delete(r),Y7(e,s)}var X7;X7=function(e,r,s){if(e!==null)if(e.memoizedProps!==r.pendingProps||Ya.current)Ga=!0;else{if(!(e.lanes&s)&&!(r.flags&128))return Ga=!1,oV(e,r,s);Ga=!!(e.flags&131072)}else Ga=!1,Vr&&r.flags&1048576&&e7(r,Sf,r.index);switch(r.lanes=0,r.tag){case 2:var a=r.type;Kp(e,r),e=r.pendingProps;var n=Gu(r,Na.current);Iu(r,s),n=fN(null,r,a,e,n,s);var i=gN();return r.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Xa(a)?(i=!0,wf(r)):i=!1,r.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,uN(r),n.updater=Sy,r.stateNode=n,n._reactInternals=r,R2(r,a,e,s),r=z2(null,r,a,!0,i,s)):(r.tag=0,Vr&&i&&aN(r),Aa(null,r,n,s),r=r.child),r;case 16:a=r.elementType;e:{switch(Kp(e,r),e=r.pendingProps,n=a._init,a=n(a._payload),r.type=a,n=r.tag=NV(a),e=vi(a,e),n){case 0:r=$2(null,r,a,e,s);break e;case 1:r=rk(null,r,a,e,s);break e;case 11:r=ek(null,r,a,e,s);break e;case 14:r=tk(null,r,a,vi(a.type,e),s);break e}throw Error(tt(306,a,""))}return r;case 0:return a=r.type,n=r.pendingProps,n=r.elementType===a?n:vi(a,n),$2(e,r,a,n,s);case 1:return a=r.type,n=r.pendingProps,n=r.elementType===a?n:vi(a,n),rk(e,r,a,n,s);case 3:e:{if(_7(r),e===null)throw Error(tt(387));a=r.pendingProps,i=r.memoizedState,n=i.element,i7(e,r),Pf(r,a,null,s);var l=r.memoizedState;if(a=l.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},r.updateQueue.baseState=i,r.memoizedState=i,r.flags&256){n=Ju(Error(tt(423)),r),r=sk(e,r,a,s,n);break e}else if(a!==n){n=Ju(Error(tt(424)),r),r=sk(e,r,a,s,n);break e}else for(jn=$o(r.stateNode.containerInfo.firstChild),Nn=r,Vr=!0,wi=null,s=a7(r,null,a,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ku(),a===n){r=$l(e,r,s);break e}Aa(e,r,a,s)}r=r.child}return r;case 5:return l7(r),e===null&&D2(r),a=r.type,n=r.pendingProps,i=e!==null?e.memoizedProps:null,l=n.children,E2(a,n)?l=null:i!==null&&E2(a,i)&&(r.flags|=32),O7(e,r),Aa(e,r,l,s),r.child;case 6:return e===null&&D2(r),null;case 13:return M7(e,r,s);case 4:return mN(r,r.stateNode.containerInfo),a=r.pendingProps,e===null?r.child=Yu(r,null,a,s):Aa(e,r,a,s),r.child;case 11:return a=r.type,n=r.pendingProps,n=r.elementType===a?n:vi(a,n),ek(e,r,a,n,s);case 7:return Aa(e,r,r.pendingProps,s),r.child;case 8:return Aa(e,r,r.pendingProps.children,s),r.child;case 12:return Aa(e,r,r.pendingProps.children,s),r.child;case 10:e:{if(a=r.type._context,n=r.pendingProps,i=r.memoizedProps,l=n.value,Tr(kf,a._currentValue),a._currentValue=l,i!==null)if(Oi(i.value,l)){if(i.children===n.children&&!Ya.current){r=$l(e,r,s);break e}}else for(i=r.child,i!==null&&(i.return=r);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var d=o.firstContext;d!==null;){if(d.context===a){if(i.tag===1){d=Sl(-1,s&-s),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}i.lanes|=s,d=i.alternate,d!==null&&(d.lanes|=s),L2(i.return,s,r),o.lanes|=s;break}d=d.next}}else if(i.tag===10)l=i.type===r.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(tt(341));l.lanes|=s,o=l.alternate,o!==null&&(o.lanes|=s),L2(l,s,r),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===r){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Aa(e,r,n.children,s),r=r.child}return r;case 9:return n=r.type,a=r.pendingProps.children,Iu(r,s),n=ii(n),a=a(n),r.flags|=1,Aa(e,r,a,s),r.child;case 14:return a=r.type,n=vi(a,r.pendingProps),n=vi(a.type,n),tk(e,r,a,n,s);case 15:return E7(e,r,r.type,r.pendingProps,s);case 17:return a=r.type,n=r.pendingProps,n=r.elementType===a?n:vi(a,n),Kp(e,r),r.tag=1,Xa(a)?(e=!0,wf(r)):e=!1,Iu(r,s),P7(r,a,n),R2(r,a,n,s),z2(null,r,a,!0,e,s);case 19:return D7(e,r,s);case 22:return I7(e,r,s)}throw Error(tt(156,r.tag))};function J7(e,r){return SI(e,r)}function wV(e,r,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(e,r,s,a){return new wV(e,r,s,a)}function PN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function NV(e){if(typeof e=="function")return PN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qw)return 11;if(e===Gw)return 14}return 2}function Vo(e,r){var s=e.alternate;return s===null?(s=ei(e.tag,r,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=r,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,r=e.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Jp(e,r,s,a,n,i){var l=2;if(a=e,typeof e=="function")PN(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case iu:return qc(s.children,n,i,r);case Ww:l=8,n|=8;break;case o2:return e=ei(12,s,r,n|2),e.elementType=o2,e.lanes=i,e;case c2:return e=ei(13,s,r,n),e.elementType=c2,e.lanes=i,e;case d2:return e=ei(19,s,r,n),e.elementType=d2,e.lanes=i,e;case lI:return Py(s,n,i,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nI:l=10;break e;case iI:l=9;break e;case qw:l=11;break e;case Gw:l=14;break e;case No:l=16,a=null;break e}throw Error(tt(130,e==null?e:typeof e,""))}return r=ei(l,s,r,n),r.elementType=e,r.type=a,r.lanes=i,r}function qc(e,r,s,a){return e=ei(7,e,a,r),e.lanes=s,e}function Py(e,r,s,a){return e=ei(22,e,a,r),e.elementType=lI,e.lanes=s,e.stateNode={isHidden:!1},e}function Uv(e,r,s){return e=ei(6,e,null,r),e.lanes=s,e}function Hv(e,r,s){return r=ei(4,e.children!==null?e.children:[],e.key,r),r.lanes=s,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function SV(e,r,s,a,n){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nv(0),this.expirationTimes=Nv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nv(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function AN(e,r,s,a,n,i,l,o,d){return e=new SV(e,r,s,o,d),r===1?(r=1,i===!0&&(r|=8)):r=0,i=ei(3,null,null,r),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},uN(i),e}function kV(e,r,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nu,key:a==null?null:""+a,children:e,containerInfo:r,implementation:s}}function Q7(e){if(!e)return Qo;e=e._reactInternals;e:{if(Td(e)!==e||e.tag!==1)throw Error(tt(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Xa(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(tt(171))}if(e.tag===1){var s=e.type;if(Xa(s))return QI(e,s,r)}return r}function Z7(e,r,s,a,n,i,l,o,d){return e=AN(s,a,!0,e,n,i,l,o,d),e.context=Q7(null),s=e.current,a=La(),n=Ho(s),i=Sl(a,n),i.callback=r??null,zo(s,i,n),e.current.lanes=n,K0(e,n,a),Ja(e,a),e}function Ay(e,r,s,a){var n=r.current,i=La(),l=Ho(n);return s=Q7(s),r.context===null?r.context=s:r.pendingContext=s,r=Sl(i,l),r.payload={element:e},a=a===void 0?null:a,a!==null&&(r.callback=a),e=zo(n,r,l),e!==null&&(Ei(e,n,l,i),Wp(e,n,l)),l}function Df(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hk(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<r?s:r}}function TN(e,r){hk(e,r),(e=e.alternate)&&hk(e,r)}function CV(){return null}var eO=typeof reportError=="function"?reportError:function(e){console.error(e)};function EN(e){this._internalRoot=e}Ty.prototype.render=EN.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(tt(409));Ay(e,r,null,null)};Ty.prototype.unmount=EN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;cd(function(){Ay(null,e,null,null)}),r[Rl]=null}};function Ty(e){this._internalRoot=e}Ty.prototype.unstable_scheduleHydration=function(e){if(e){var r=II();e={blockedOn:null,target:e,priority:r};for(var s=0;s<Ao.length&&r!==0&&r<Ao[s].priority;s++);Ao.splice(s,0,e),s===0&&_I(e)}};function IN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ey(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xk(){}function PV(e,r,s,a,n){if(n){if(typeof a=="function"){var i=a;a=function(){var c=Df(l);i.call(c)}}var l=Z7(r,a,e,0,null,!1,!1,"",xk);return e._reactRootContainer=l,e[Rl]=l.current,a0(e.nodeType===8?e.parentNode:e),cd(),l}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var o=a;a=function(){var c=Df(d);o.call(c)}}var d=AN(e,0,!1,null,null,!1,!1,"",xk);return e._reactRootContainer=d,e[Rl]=d.current,a0(e.nodeType===8?e.parentNode:e),cd(function(){Ay(r,d,s,a)}),d}function Iy(e,r,s,a,n){var i=s._reactRootContainer;if(i){var l=i;if(typeof n=="function"){var o=n;n=function(){var d=Df(l);o.call(d)}}Ay(r,l,e,n)}else l=PV(s,r,e,n,a);return Df(l)}TI=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var s=wh(r.pendingLanes);s!==0&&(Xw(r,s|1),Ja(r,xs()),!(sr&6)&&(Qu=xs()+500,mc()))}break;case 13:cd(function(){var a=Bl(e,1);if(a!==null){var n=La();Ei(a,e,1,n)}}),TN(e,1)}};Jw=function(e){if(e.tag===13){var r=Bl(e,134217728);if(r!==null){var s=La();Ei(r,e,134217728,s)}TN(e,134217728)}};EI=function(e){if(e.tag===13){var r=Ho(e),s=Bl(e,r);if(s!==null){var a=La();Ei(s,e,r,a)}TN(e,r)}};II=function(){return gr};OI=function(e,r){var s=gr;try{return gr=e,r()}finally{gr=s}};v2=function(e,r,s){switch(r){case"input":if(h2(e,s),r=s.name,s.type==="radio"&&r!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var a=s[r];if(a!==e&&a.form===e.form){var n=jy(a);if(!n)throw Error(tt(90));cI(a),h2(a,n)}}}break;case"textarea":uI(e,s);break;case"select":r=s.value,r!=null&&Pu(e,!!s.multiple,r,!1)}};yI=SN;bI=cd;var AV={usingClientEntryPoint:!1,Events:[X0,du,jy,fI,gI,SN]},Qm={findFiberByHostInstance:Mc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TV={bundleType:Qm.bundleType,version:Qm.version,rendererPackageName:Qm.rendererPackageName,rendererConfig:Qm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:to.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wI(e),e===null?null:e.stateNode},findFiberByHostInstance:Qm.findFiberByHostInstance||CV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ap=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ap.isDisabled&&ap.supportsFiber)try{gy=ap.inject(TV),Ji=ap}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AV;Mn.createPortal=function(e,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!IN(r))throw Error(tt(200));return kV(e,r,null,s)};Mn.createRoot=function(e,r){if(!IN(e))throw Error(tt(299));var s=!1,a="",n=eO;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(n=r.onRecoverableError)),r=AN(e,1,!1,null,null,s,!1,a,n),e[Rl]=r.current,a0(e.nodeType===8?e.parentNode:e),new EN(r)};Mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(tt(188)):(e=Object.keys(e).join(","),Error(tt(268,e)));return e=wI(r),e=e===null?null:e.stateNode,e};Mn.flushSync=function(e){return cd(e)};Mn.hydrate=function(e,r,s){if(!Ey(r))throw Error(tt(200));return Iy(null,e,r,!0,s)};Mn.hydrateRoot=function(e,r,s){if(!IN(e))throw Error(tt(405));var a=s!=null&&s.hydratedSources||null,n=!1,i="",l=eO;if(s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),r=Z7(r,null,e,1,s??null,n,!1,i,l),e[Rl]=r.current,a0(e),a)for(e=0;e<a.length;e++)s=a[e],n=s._getVersion,n=n(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,n]:r.mutableSourceEagerHydrationData.push(s,n);return new Ty(r)};Mn.render=function(e,r,s){if(!Ey(r))throw Error(tt(200));return Iy(null,e,r,!1,s)};Mn.unmountComponentAtNode=function(e){if(!Ey(e))throw Error(tt(40));return e._reactRootContainer?(cd(function(){Iy(null,null,e,!1,function(){e._reactRootContainer=null,e[Rl]=null})}),!0):!1};Mn.unstable_batchedUpdates=SN;Mn.unstable_renderSubtreeIntoContainer=function(e,r,s,a){if(!Ey(s))throw Error(tt(200));if(e==null||e._reactInternals===void 0)throw Error(tt(38));return Iy(e,r,s,!1,a)};Mn.version="18.3.1-next-f1338f8080-20240426";function tO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tO)}catch(e){console.error(e)}}tO(),tI.exports=Mn;var Oy=tI.exports,pk=Oy;i2.createRoot=pk.createRoot,i2.hydrateRoot=pk.hydrateRoot;var EV=typeof Element<"u",IV=typeof Map=="function",OV=typeof Set=="function",_V=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Qp(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var s,a,n;if(Array.isArray(e)){if(s=e.length,s!=r.length)return!1;for(a=s;a--!==0;)if(!Qp(e[a],r[a]))return!1;return!0}var i;if(IV&&e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(i=e.entries();!(a=i.next()).done;)if(!r.has(a.value[0]))return!1;for(i=e.entries();!(a=i.next()).done;)if(!Qp(a.value[1],r.get(a.value[0])))return!1;return!0}if(OV&&e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(i=e.entries();!(a=i.next()).done;)if(!r.has(a.value[0]))return!1;return!0}if(_V&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(s=e.length,s!=r.length)return!1;for(a=s;a--!==0;)if(e[a]!==r[a])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof r.valueOf=="function")return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof r.toString=="function")return e.toString()===r.toString();if(n=Object.keys(e),s=n.length,s!==Object.keys(r).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,n[a]))return!1;if(EV&&e instanceof Element)return!1;for(a=s;a--!==0;)if(!((n[a]==="_owner"||n[a]==="__v"||n[a]==="__o")&&e.$$typeof)&&!Qp(e[n[a]],r[n[a]]))return!1;return!0}return e!==e&&r!==r}var MV=function(r,s){try{return Qp(r,s)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}};const DV=ui(MV);var LV=function(e,r,s,a,n,i,l,o){if(!e){var d;if(r===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[s,a,n,i,l,o],u=0;d=new Error(r.replace(/%s/g,function(){return c[u++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}},FV=LV;const fk=ui(FV);var RV=function(r,s,a,n){var i=a?a.call(n,r,s):void 0;if(i!==void 0)return!!i;if(r===s)return!0;if(typeof r!="object"||!r||typeof s!="object"||!s)return!1;var l=Object.keys(r),o=Object.keys(s);if(l.length!==o.length)return!1;for(var d=Object.prototype.hasOwnProperty.bind(s),c=0;c<l.length;c++){var u=l[c];if(!d(u))return!1;var m=r[u],x=s[u];if(i=a?a.call(n,m,x,u):void 0,i===!1||i===void 0&&m!==x)return!1}return!0};const BV=ui(RV);var rO=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(rO||{}),Vv={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},gk=Object.values(rO),ON={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},$V=Object.entries(ON).reduce((e,[r,s])=>(e[s]=r,e),{}),Ci="data-rh",_u={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Mu=(e,r)=>{for(let s=e.length-1;s>=0;s-=1){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,r))return a[r]}return null},zV=e=>{let r=Mu(e,"title");const s=Mu(e,_u.TITLE_TEMPLATE);if(Array.isArray(r)&&(r=r.join("")),s&&r)return s.replace(/%s/g,()=>r);const a=Mu(e,_u.DEFAULT_TITLE);return r||a||void 0},UV=e=>Mu(e,_u.ON_CHANGE_CLIENT_STATE)||(()=>{}),Wv=(e,r)=>r.filter(s=>typeof s[e]<"u").map(s=>s[e]).reduce((s,a)=>({...s,...a}),{}),HV=(e,r)=>r.filter(s=>typeof s.base<"u").map(s=>s.base).reverse().reduce((s,a)=>{if(!s.length){const n=Object.keys(a);for(let i=0;i<n.length;i+=1){const o=n[i].toLowerCase();if(e.indexOf(o)!==-1&&a[o])return s.concat(a)}}return s},[]),VV=e=>console&&typeof console.warn=="function"&&console.warn(e),Zm=(e,r,s)=>{const a={};return s.filter(n=>Array.isArray(n[e])?!0:(typeof n[e]<"u"&&VV(`Helmet: ${e} should be of type "Array". Instead found type "${typeof n[e]}"`),!1)).map(n=>n[e]).reverse().reduce((n,i)=>{const l={};i.filter(d=>{let c;const u=Object.keys(d);for(let x=0;x<u.length;x+=1){const h=u[x],p=h.toLowerCase();r.indexOf(p)!==-1&&!(c==="rel"&&d[c].toLowerCase()==="canonical")&&!(p==="rel"&&d[p].toLowerCase()==="stylesheet")&&(c=p),r.indexOf(h)!==-1&&(h==="innerHTML"||h==="cssText"||h==="itemprop")&&(c=h)}if(!c||!d[c])return!1;const m=d[c].toLowerCase();return a[c]||(a[c]={}),l[c]||(l[c]={}),a[c][m]?!1:(l[c][m]=!0,!0)}).reverse().forEach(d=>n.push(d));const o=Object.keys(l);for(let d=0;d<o.length;d+=1){const c=o[d],u={...a[c],...l[c]};a[c]=u}return n},[]).reverse()},WV=(e,r)=>{if(Array.isArray(e)&&e.length){for(let s=0;s<e.length;s+=1)if(e[s][r])return!0}return!1},qV=e=>({baseTag:HV(["href"],e),bodyAttributes:Wv("bodyAttributes",e),defer:Mu(e,_u.DEFER),encode:Mu(e,_u.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Wv("htmlAttributes",e),linkTags:Zm("link",["rel","href"],e),metaTags:Zm("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Zm("noscript",["innerHTML"],e),onChangeClientState:UV(e),scriptTags:Zm("script",["src","innerHTML"],e),styleTags:Zm("style",["cssText"],e),title:zV(e),titleAttributes:Wv("titleAttributes",e),prioritizeSeoTags:WV(e,_u.PRIORITIZE_SEO_TAGS)}),sO=e=>Array.isArray(e)?e.join(""):e,GV=(e,r)=>{const s=Object.keys(e);for(let a=0;a<s.length;a+=1)if(r[s[a]]&&r[s[a]].includes(e[s[a]]))return!0;return!1},qv=(e,r)=>Array.isArray(e)?e.reduce((s,a)=>(GV(a,r)?s.priority.push(a):s.default.push(a),s),{priority:[],default:[]}):{default:e,priority:[]},yk=(e,r)=>({...e,[r]:void 0}),KV=["noscript","script","style"],Z2=(e,r=!0)=>r===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),aO=e=>Object.keys(e).reduce((r,s)=>{const a=typeof e[s]<"u"?`${s}="${e[s]}"`:`${s}`;return r?`${r} ${a}`:a},""),YV=(e,r,s,a)=>{const n=aO(s),i=sO(r);return n?`<${e} ${Ci}="true" ${n}>${Z2(i,a)}</${e}>`:`<${e} ${Ci}="true">${Z2(i,a)}</${e}>`},XV=(e,r,s=!0)=>r.reduce((a,n)=>{const i=n,l=Object.keys(i).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,u)=>{const m=typeof i[u]>"u"?u:`${u}="${Z2(i[u],s)}"`;return c?`${c} ${m}`:m},""),o=i.innerHTML||i.cssText||"",d=KV.indexOf(e)===-1;return`${a}<${e} ${Ci}="true" ${l}${d?"/>":`>${o}</${e}>`}`},""),nO=(e,r={})=>Object.keys(e).reduce((s,a)=>{const n=ON[a];return s[n||a]=e[a],s},r),JV=(e,r,s)=>{const a={key:r,[Ci]:!0},n=nO(s,a);return[_t.createElement("title",n,r)]},Zp=(e,r)=>r.map((s,a)=>{const n={key:a,[Ci]:!0};return Object.keys(s).forEach(i=>{const o=ON[i]||i;if(o==="innerHTML"||o==="cssText"){const d=s.innerHTML||s.cssText;n.dangerouslySetInnerHTML={__html:d}}else n[o]=s[i]}),_t.createElement(e,n)}),Yn=(e,r,s=!0)=>{switch(e){case"title":return{toComponent:()=>JV(e,r.title,r.titleAttributes),toString:()=>YV(e,r.title,r.titleAttributes,s)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>nO(r),toString:()=>aO(r)};default:return{toComponent:()=>Zp(e,r),toString:()=>XV(e,r,s)}}},QV=({metaTags:e,linkTags:r,scriptTags:s,encode:a})=>{const n=qv(e,Vv.meta),i=qv(r,Vv.link),l=qv(s,Vv.script);return{priorityMethods:{toComponent:()=>[...Zp("meta",n.priority),...Zp("link",i.priority),...Zp("script",l.priority)],toString:()=>`${Yn("meta",n.priority,a)} ${Yn("link",i.priority,a)} ${Yn("script",l.priority,a)}`},metaTags:n.default,linkTags:i.default,scriptTags:l.default}},ZV=e=>{const{baseTag:r,bodyAttributes:s,encode:a=!0,htmlAttributes:n,noscriptTags:i,styleTags:l,title:o="",titleAttributes:d,prioritizeSeoTags:c}=e;let{linkTags:u,metaTags:m,scriptTags:x}=e,h={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:h,linkTags:u,metaTags:m,scriptTags:x}=QV(e)),{priority:h,base:Yn("base",r,a),bodyAttributes:Yn("bodyAttributes",s,a),htmlAttributes:Yn("htmlAttributes",n,a),link:Yn("link",u,a),meta:Yn("meta",m,a),noscript:Yn("noscript",i,a),script:Yn("script",x,a),style:Yn("style",l,a),title:Yn("title",{title:o,titleAttributes:d},a)}},ej=ZV,np=[],iO=!!(typeof window<"u"&&window.document&&window.document.createElement),tj=class{constructor(e,r){fi(this,"instances",[]);fi(this,"canUseDOM",iO);fi(this,"context");fi(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?np:this.instances,add:e=>{(this.canUseDOM?np:this.instances).push(e)},remove:e=>{const r=(this.canUseDOM?np:this.instances).indexOf(e);(this.canUseDOM?np:this.instances).splice(r,1)}}});this.context=e,this.canUseDOM=r||!1,r||(e.helmet=ej({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},eW={},lO=_t.createContext(eW),Vc,oO=(Vc=class extends g.Component{constructor(s){super(s);fi(this,"helmetData");this.helmetData=new tj(this.props.context||{},Vc.canUseDOM)}render(){return _t.createElement(lO.Provider,{value:this.helmetData.value},this.props.children)}},fi(Vc,"canUseDOM",iO),Vc),Yd=(e,r)=>{const s=document.head||document.querySelector("head"),a=s.querySelectorAll(`${e}[${Ci}]`),n=[].slice.call(a),i=[];let l;return r&&r.length&&r.forEach(o=>{const d=document.createElement(e);for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c))if(c==="innerHTML")d.innerHTML=o.innerHTML;else if(c==="cssText")d.styleSheet?d.styleSheet.cssText=o.cssText:d.appendChild(document.createTextNode(o.cssText));else{const u=c,m=typeof o[u]>"u"?"":o[u];d.setAttribute(c,m)}d.setAttribute(Ci,"true"),n.some((c,u)=>(l=u,d.isEqualNode(c)))?n.splice(l,1):i.push(d)}),n.forEach(o=>{var d;return(d=o.parentNode)==null?void 0:d.removeChild(o)}),i.forEach(o=>s.appendChild(o)),{oldTags:n,newTags:i}},rj=(e,r)=>{const s=document.getElementsByTagName(e)[0];if(!s)return;const a=s.getAttribute(Ci),n=a?a.split(","):[],i=[...n],l=Object.keys(r);for(const o of l){const d=r[o]||"";s.getAttribute(o)!==d&&s.setAttribute(o,d),n.indexOf(o)===-1&&n.push(o);const c=i.indexOf(o);c!==-1&&i.splice(c,1)}for(let o=i.length-1;o>=0;o-=1)s.removeAttribute(i[o]);n.length===i.length?s.removeAttribute(Ci):s.getAttribute(Ci)!==l.join(",")&&s.setAttribute(Ci,l.join(","))},tW=(e,r)=>{typeof e<"u"&&document.title!==e&&(document.title=sO(e)),rj("title",r)},bk=(e,r)=>{const{baseTag:s,bodyAttributes:a,htmlAttributes:n,linkTags:i,metaTags:l,noscriptTags:o,onChangeClientState:d,scriptTags:c,styleTags:u,title:m,titleAttributes:x}=e;rj("body",a),rj("html",n),tW(m,x);const h={baseTag:Yd("base",s),linkTags:Yd("link",i),metaTags:Yd("meta",l),noscriptTags:Yd("noscript",o),scriptTags:Yd("script",c),styleTags:Yd("style",u)},p={},f={};Object.keys(h).forEach(b=>{const{newTags:j,oldTags:w}=h[b];j.length&&(p[b]=j),w.length&&(f[b]=h[b].oldTags)}),r&&r(),d(e,p,f)},eh=null,rW=e=>{eh&&cancelAnimationFrame(eh),e.defer?eh=requestAnimationFrame(()=>{bk(e,()=>{eh=null})}):(bk(e),eh=null)},sW=rW,vk=class extends g.Component{constructor(){super(...arguments);fi(this,"rendered",!1)}shouldComponentUpdate(r){return!BV(r,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:r}=this.props.context;r.remove(this),this.emitChange()}emitChange(){const{helmetInstances:r,setHelmet:s}=this.props.context;let a=null;const n=qV(r.get().map(i=>{const l={...i.props};return delete l.context,l}));oO.canUseDOM?sW(n):ej&&(a=ej(n)),s(a)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:r}=this.props.context;r.add(this),this.emitChange()}render(){return this.init(),null}},n2,aW=(n2=class extends g.Component{shouldComponentUpdate(e){return!DV(yk(this.props,"helmetData"),yk(e,"helmetData"))}mapNestedChildrenToProps(e,r){if(!r)return null;switch(e.type){case"script":case"noscript":return{innerHTML:r};case"style":return{cssText:r};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,r,s,a){return{...r,[e.type]:[...r[e.type]||[],{...s,...this.mapNestedChildrenToProps(e,a)}]}}mapObjectTypeChildren(e,r,s,a){switch(e.type){case"title":return{...r,[e.type]:a,titleAttributes:{...s}};case"body":return{...r,bodyAttributes:{...s}};case"html":return{...r,htmlAttributes:{...s}};default:return{...r,[e.type]:{...s}}}}mapArrayTypeChildrenToProps(e,r){let s={...r};return Object.keys(e).forEach(a=>{s={...s,[a]:e[a]}}),s}warnOnInvalidChildren(e,r){return fk(gk.some(s=>e.type===s),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${gk.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),fk(!r||typeof r=="string"||Array.isArray(r)&&!r.some(s=>typeof s!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,r){let s={};return _t.Children.forEach(e,a=>{if(!a||!a.props)return;const{children:n,...i}=a.props,l=Object.keys(i).reduce((d,c)=>(d[$V[c]||c]=i[c],d),{});let{type:o}=a;switch(typeof o=="symbol"?o=o.toString():this.warnOnInvalidChildren(a,n),o){case"Symbol(react.fragment)":r=this.mapChildrenToProps(n,r);break;case"link":case"meta":case"noscript":case"script":case"style":s=this.flattenArrayTypeChildren(a,s,l,n);break;default:r=this.mapObjectTypeChildren(a,r,l,n);break}}),this.mapArrayTypeChildrenToProps(s,r)}render(){const{children:e,...r}=this.props;let s={...r},{helmetData:a}=r;if(e&&(s=this.mapChildrenToProps(e,s)),a&&!(a instanceof tj)){const n=a;a=new tj(n.context,!0),delete s.helmetData}return a?_t.createElement(vk,{...s,context:a.value}):_t.createElement(lO.Consumer,null,n=>_t.createElement(vk,{...s,context:n}))}},fi(n2,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),n2);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},h0.apply(this,arguments)}var _o;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(_o||(_o={}));const jk="popstate";function nW(e){e===void 0&&(e={});function r(a,n){let{pathname:i,search:l,hash:o}=a.location;return sj("",{pathname:i,search:l,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:Lf(n)}return lW(r,s,null,e)}function Zr(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function cO(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function iW(){return Math.random().toString(36).substr(2,8)}function wk(e,r){return{usr:e.state,key:e.key,idx:r}}function sj(e,r,s,a){return s===void 0&&(s=null),h0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?vm(r):r,{state:s,key:r&&r.key||a||iW()})}function Lf(e){let{pathname:r="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function vm(e){let r={};if(e){let s=e.indexOf("#");s>=0&&(r.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(r.search=e.substr(a),e=e.substr(0,a)),e&&(r.pathname=e)}return r}function lW(e,r,s,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,l=n.history,o=_o.Pop,d=null,c=u();c==null&&(c=0,l.replaceState(h0({},l.state,{idx:c}),""));function u(){return(l.state||{idx:null}).idx}function m(){o=_o.Pop;let b=u(),j=b==null?null:b-c;c=b,d&&d({action:o,location:f.location,delta:j})}function x(b,j){o=_o.Push;let w=sj(f.location,b,j);c=u()+1;let y=wk(w,c),v=f.createHref(w);try{l.pushState(y,"",v)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;n.location.assign(v)}i&&d&&d({action:o,location:f.location,delta:1})}function h(b,j){o=_o.Replace;let w=sj(f.location,b,j);c=u();let y=wk(w,c),v=f.createHref(w);l.replaceState(y,"",v),i&&d&&d({action:o,location:f.location,delta:0})}function p(b){let j=n.location.origin!=="null"?n.location.origin:n.location.href,w=typeof b=="string"?b:Lf(b);return w=w.replace(/ $/,"%20"),Zr(j,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,j)}let f={get action(){return o},get location(){return e(n,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return n.addEventListener(jk,m),d=b,()=>{n.removeEventListener(jk,m),d=null}},createHref(b){return r(n,b)},createURL:p,encodeLocation(b){let j=p(b);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:h,go(b){return l.go(b)}};return f}var Nk;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nk||(Nk={}));function oW(e,r,s){return s===void 0&&(s="/"),cW(e,r,s)}function cW(e,r,s,a){let n=typeof r=="string"?vm(r):r,i=Zu(n.pathname||"/",s);if(i==null)return null;let l=dO(e);dW(l);let o=null;for(let d=0;o==null&&d<l.length;++d){let c=jW(i);o=bW(l[d],c)}return o}function dO(e,r,s,a){r===void 0&&(r=[]),s===void 0&&(s=[]),a===void 0&&(a="");let n=(i,l,o)=>{let d={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};d.relativePath.startsWith("/")&&(Zr(d.relativePath.startsWith(a),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(a.length));let c=Wo([a,d.relativePath]),u=s.concat(d);i.children&&i.children.length>0&&(Zr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),dO(i.children,r,u,c)),!(i.path==null&&!i.index)&&r.push({path:c,score:gW(c,i.index),routesMeta:u})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))n(i,l);else for(let d of uO(i.path))n(i,l,d)}),r}function uO(e){let r=e.split("/");if(r.length===0)return[];let[s,...a]=r,n=s.endsWith("?"),i=s.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let l=uO(a.join("/")),o=[];return o.push(...l.map(d=>d===""?i:[i,d].join("/"))),n&&o.push(...l),o.map(d=>e.startsWith("/")&&d===""?"/":d)}function dW(e){e.sort((r,s)=>r.score!==s.score?s.score-r.score:yW(r.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const uW=/^:[\w-]+$/,mW=3,hW=2,xW=1,pW=10,fW=-2,Sk=e=>e==="*";function gW(e,r){let s=e.split("/"),a=s.length;return s.some(Sk)&&(a+=fW),r&&(a+=hW),s.filter(n=>!Sk(n)).reduce((n,i)=>n+(uW.test(i)?mW:i===""?xW:pW),a)}function yW(e,r){return e.length===r.length&&e.slice(0,-1).every((a,n)=>a===r[n])?e[e.length-1]-r[r.length-1]:0}function bW(e,r,s){let{routesMeta:a}=e,n={},i="/",l=[];for(let o=0;o<a.length;++o){let d=a[o],c=o===a.length-1,u=i==="/"?r:r.slice(i.length)||"/",m=aj({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},u),x=d.route;if(!m)return null;Object.assign(n,m.params),l.push({params:n,pathname:Wo([i,m.pathname]),pathnameBase:kW(Wo([i,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(i=Wo([i,m.pathnameBase]))}return l}function aj(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=vW(e.path,e.caseSensitive,e.end),n=r.match(s);if(!n)return null;let i=n[0],l=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((c,u,m)=>{let{paramName:x,isOptional:h}=u;if(x==="*"){let f=o[m]||"";l=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}const p=o[m];return h&&!p?c[x]=void 0:c[x]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:l,pattern:e}}function vW(e,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),cO(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,d)=>(a.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,r?void 0:"i"),a]}function jW(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return cO(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function Zu(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function wW(e,r){r===void 0&&(r="/");let{pathname:s,search:a="",hash:n=""}=typeof e=="string"?vm(e):e;return{pathname:s?s.startsWith("/")?s:NW(s,r):r,search:CW(a),hash:PW(n)}}function NW(e,r){let s=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function Gv(e,r,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SW(e){return e.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function _N(e,r){let s=SW(e);return r?s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function MN(e,r,s,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=vm(e):(n=h0({},e),Zr(!n.pathname||!n.pathname.includes("?"),Gv("?","pathname","search",n)),Zr(!n.pathname||!n.pathname.includes("#"),Gv("#","pathname","hash",n)),Zr(!n.search||!n.search.includes("#"),Gv("#","search","hash",n)));let i=e===""||n.pathname==="",l=i?"/":n.pathname,o;if(l==null)o=s;else{let m=r.length-1;if(!a&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),m-=1;n.pathname=x.join("/")}o=m>=0?r[m]:"/"}let d=wW(n,o),c=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(c||u)&&(d.pathname+="/"),d}const Wo=e=>e.join("/").replace(/\/\/+/g,"/"),kW=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),CW=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,PW=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function AW(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const mO=["post","put","patch","delete"];new Set(mO);const TW=["get",...mO];new Set(TW);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},x0.apply(this,arguments)}const _y=g.createContext(null),hO=g.createContext(null),ro=g.createContext(null),My=g.createContext(null),dl=g.createContext({outlet:null,matches:[],isDataRoute:!1}),xO=g.createContext(null);function EW(e,r){let{relative:s}=r===void 0?{}:r;jm()||Zr(!1);let{basename:a,navigator:n}=g.useContext(ro),{hash:i,pathname:l,search:o}=Dy(e,{relative:s}),d=l;return a!=="/"&&(d=l==="/"?a:Wo([a,l])),n.createHref({pathname:d,search:o,hash:i})}function jm(){return g.useContext(My)!=null}function zr(){return jm()||Zr(!1),g.useContext(My).location}function pO(e){g.useContext(ro).static||g.useLayoutEffect(e)}function er(){let{isDataRoute:e}=g.useContext(dl);return e?WW():IW()}function IW(){jm()||Zr(!1);let e=g.useContext(_y),{basename:r,future:s,navigator:a}=g.useContext(ro),{matches:n}=g.useContext(dl),{pathname:i}=zr(),l=JSON.stringify(_N(n,s.v7_relativeSplatPath)),o=g.useRef(!1);return pO(()=>{o.current=!0}),g.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){a.go(c);return}let m=MN(c,JSON.parse(l),i,u.relative==="path");e==null&&r!=="/"&&(m.pathname=m.pathname==="/"?r:Wo([r,m.pathname])),(u.replace?a.replace:a.push)(m,u.state,u)},[r,a,l,i,e])}const OW=g.createContext(null);function _W(e){let r=g.useContext(dl).outlet;return r&&g.createElement(OW.Provider,{value:e},r)}function wm(){let{matches:e}=g.useContext(dl),r=e[e.length-1];return r?r.params:{}}function Dy(e,r){let{relative:s}=r===void 0?{}:r,{future:a}=g.useContext(ro),{matches:n}=g.useContext(dl),{pathname:i}=zr(),l=JSON.stringify(_N(n,a.v7_relativeSplatPath));return g.useMemo(()=>MN(e,JSON.parse(l),i,s==="path"),[e,l,i,s])}function MW(e,r){return DW(e,r)}function DW(e,r,s,a){jm()||Zr(!1);let{navigator:n}=g.useContext(ro),{matches:i}=g.useContext(dl),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let c=zr(),u;if(r){var m;let b=typeof r=="string"?vm(r):r;d==="/"||(m=b.pathname)!=null&&m.startsWith(d)||Zr(!1),u=b}else u=c;let x=u.pathname||"/",h=x;if(d!=="/"){let b=d.replace(/^\//,"").split("/");h="/"+x.replace(/^\//,"").split("/").slice(b.length).join("/")}let p=oW(e,{pathname:h}),f=$W(p&&p.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Wo([d,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:Wo([d,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,s,a);return r&&f?g.createElement(My.Provider,{value:{location:x0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:_o.Pop}},f):f}function LW(){let e=VW(),r=AW(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},r),s?g.createElement("pre",{style:n},s):null,null)}const FW=g.createElement(LW,null);class RW extends g.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?g.createElement(dl.Provider,{value:this.props.routeContext},g.createElement(xO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BW(e){let{routeContext:r,match:s,children:a}=e,n=g.useContext(_y);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),g.createElement(dl.Provider,{value:r},a)}function $W(e,r,s,a){var n;if(r===void 0&&(r=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=a)!=null&&i.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let l=e,o=(n=s)==null?void 0:n.errors;if(o!=null){let u=l.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);u>=0||Zr(!1),l=l.slice(0,Math.min(l.length,u+1))}let d=!1,c=-1;if(s&&a&&a.v7_partialHydration)for(let u=0;u<l.length;u++){let m=l[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=u),m.route.id){let{loaderData:x,errors:h}=s,p=m.route.loader&&x[m.route.id]===void 0&&(!h||h[m.route.id]===void 0);if(m.route.lazy||p){d=!0,c>=0?l=l.slice(0,c+1):l=[l[0]];break}}}return l.reduceRight((u,m,x)=>{let h,p=!1,f=null,b=null;s&&(h=o&&m.route.id?o[m.route.id]:void 0,f=m.route.errorElement||FW,d&&(c<0&&x===0?(qW("route-fallback"),p=!0,b=null):c===x&&(p=!0,b=m.route.hydrateFallbackElement||null)));let j=r.concat(l.slice(0,x+1)),w=()=>{let y;return h?y=f:p?y=b:m.route.Component?y=g.createElement(m.route.Component,null):m.route.element?y=m.route.element:y=u,g.createElement(BW,{match:m,routeContext:{outlet:u,matches:j,isDataRoute:s!=null},children:y})};return s&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?g.createElement(RW,{location:s.location,revalidation:s.revalidation,component:f,error:h,children:w(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):w()},null)}var fO=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fO||{}),gO=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gO||{});function zW(e){let r=g.useContext(_y);return r||Zr(!1),r}function UW(e){let r=g.useContext(hO);return r||Zr(!1),r}function HW(e){let r=g.useContext(dl);return r||Zr(!1),r}function yO(e){let r=HW(),s=r.matches[r.matches.length-1];return s.route.id||Zr(!1),s.route.id}function VW(){var e;let r=g.useContext(xO),s=UW(),a=yO();return r!==void 0?r:(e=s.errors)==null?void 0:e[a]}function WW(){let{router:e}=zW(fO.UseNavigateStable),r=yO(gO.UseNavigateStable),s=g.useRef(!1);return pO(()=>{s.current=!0}),g.useCallback(function(n,i){i===void 0&&(i={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,x0({fromRouteId:r},i)))},[e,r])}const kk={};function qW(e,r,s){kk[e]||(kk[e]=!0)}function GW(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ed(e){let{to:r,replace:s,state:a,relative:n}=e;jm()||Zr(!1);let{future:i,static:l}=g.useContext(ro),{matches:o}=g.useContext(dl),{pathname:d}=zr(),c=er(),u=MN(r,_N(o,i.v7_relativeSplatPath),d,n==="path"),m=JSON.stringify(u);return g.useEffect(()=>c(JSON.parse(m),{replace:s,state:a,relative:n}),[c,m,n,s,a]),null}function so(e){return _W(e.context)}function et(e){Zr(!1)}function KW(e){let{basename:r="/",children:s=null,location:a,navigationType:n=_o.Pop,navigator:i,static:l=!1,future:o}=e;jm()&&Zr(!1);let d=r.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:d,navigator:i,static:l,future:x0({v7_relativeSplatPath:!1},o)}),[d,o,i,l]);typeof a=="string"&&(a=vm(a));let{pathname:u="/",search:m="",hash:x="",state:h=null,key:p="default"}=a,f=g.useMemo(()=>{let b=Zu(u,d);return b==null?null:{location:{pathname:b,search:m,hash:x,state:h,key:p},navigationType:n}},[d,u,m,x,h,p,n]);return f==null?null:g.createElement(ro.Provider,{value:c},g.createElement(My.Provider,{children:s,value:f}))}function Ly(e){let{children:r,location:s}=e;return MW(nj(r),s)}new Promise(()=>{});function nj(e,r){r===void 0&&(r=[]);let s=[];return g.Children.forEach(e,(a,n)=>{if(!g.isValidElement(a))return;let i=[...r,n];if(a.type===g.Fragment){s.push.apply(s,nj(a.props.children,i));return}a.type!==et&&Zr(!1),!a.props.index||!a.props.children||Zr(!1);let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=nj(a.props.children,i)),s.push(l)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ff(){return Ff=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ff.apply(this,arguments)}function bO(e,r){if(e==null)return{};var s={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(r.indexOf(n)>=0)&&(s[n]=e[n]);return s}function YW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XW(e,r){return e.button===0&&(!r||r==="_self")&&!YW(e)}function ij(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,s)=>{let a=e[s];return r.concat(Array.isArray(a)?a.map(n=>[s,n]):[[s,a]])},[]))}function JW(e,r){let s=ij(e);return r&&r.forEach((a,n)=>{s.has(n)||r.getAll(n).forEach(i=>{s.append(n,i)})}),s}const QW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ZW=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],eq="6";try{window.__reactRouterVersion=eq}catch{}const tq=g.createContext({isTransitioning:!1}),rq="startTransition",Ck=ZE[rq];function sq(e){let{basename:r,children:s,future:a,window:n}=e,i=g.useRef();i.current==null&&(i.current=nW({window:n,v5Compat:!0}));let l=i.current,[o,d]=g.useState({action:l.action,location:l.location}),{v7_startTransition:c}=a||{},u=g.useCallback(m=>{c&&Ck?Ck(()=>d(m)):d(m)},[d,c]);return g.useLayoutEffect(()=>l.listen(u),[l,u]),g.useEffect(()=>GW(a),[a]),g.createElement(KW,{basename:r,children:s,location:o.location,navigationType:o.action,navigator:l,future:a})}const aq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ht=g.forwardRef(function(r,s){let{onClick:a,relative:n,reloadDocument:i,replace:l,state:o,target:d,to:c,preventScrollReset:u,viewTransition:m}=r,x=bO(r,QW),{basename:h}=g.useContext(ro),p,f=!1;if(typeof c=="string"&&nq.test(c)&&(p=c,aq))try{let y=new URL(window.location.href),v=c.startsWith("//")?new URL(y.protocol+c):new URL(c),N=Zu(v.pathname,h);v.origin===y.origin&&N!=null?c=N+v.search+v.hash:f=!0}catch{}let b=EW(c,{relative:n}),j=lq(c,{replace:l,state:o,target:d,preventScrollReset:u,relative:n,viewTransition:m});function w(y){a&&a(y),y.defaultPrevented||j(y)}return g.createElement("a",Ff({},x,{href:p||b,onClick:f||i?a:w,ref:s,target:d}))}),Kv=g.forwardRef(function(r,s){let{"aria-current":a="page",caseSensitive:n=!1,className:i="",end:l=!1,style:o,to:d,viewTransition:c,children:u}=r,m=bO(r,ZW),x=Dy(d,{relative:m.relative}),h=zr(),p=g.useContext(hO),{navigator:f,basename:b}=g.useContext(ro),j=p!=null&&oq(x)&&c===!0,w=f.encodeLocation?f.encodeLocation(x).pathname:x.pathname,y=h.pathname,v=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(y=y.toLowerCase(),v=v?v.toLowerCase():null,w=w.toLowerCase()),v&&b&&(v=Zu(v,b)||v);const N=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let S=y===w||!l&&y.startsWith(w)&&y.charAt(N)==="/",k=v!=null&&(v===w||!l&&v.startsWith(w)&&v.charAt(w.length)==="/"),P={isActive:S,isPending:k,isTransitioning:j},C=S?a:void 0,_;typeof i=="function"?_=i(P):_=[i,S?"active":null,k?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let A=typeof o=="function"?o(P):o;return g.createElement(Ht,Ff({},m,{"aria-current":C,className:_,ref:s,style:A,to:d,viewTransition:c}),typeof u=="function"?u(P):u)});var lj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lj||(lj={}));var Pk;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Pk||(Pk={}));function iq(e){let r=g.useContext(_y);return r||Zr(!1),r}function lq(e,r){let{target:s,replace:a,state:n,preventScrollReset:i,relative:l,viewTransition:o}=r===void 0?{}:r,d=er(),c=zr(),u=Dy(e,{relative:l});return g.useCallback(m=>{if(XW(m,s)){m.preventDefault();let x=a!==void 0?a:Lf(c)===Lf(u);d(e,{replace:x,state:n,preventScrollReset:i,relative:l,viewTransition:o})}},[c,d,u,a,n,s,e,i,l,o])}function Id(e){let r=g.useRef(ij(e)),s=g.useRef(!1),a=zr(),n=g.useMemo(()=>JW(a.search,s.current?null:r.current),[a.search]),i=er(),l=g.useCallback((o,d)=>{const c=ij(typeof o=="function"?o(n):o);s.current=!0,i("?"+c,d)},[i,n]);return[n,l]}function oq(e,r){r===void 0&&(r={});let s=g.useContext(tq);s==null&&Zr(!1);let{basename:a}=iq(lj.useViewTransitionState),n=Dy(e,{relative:r.relative});if(!s.isTransitioning)return!1;let i=Zu(s.currentLocation.pathname,a)||s.currentLocation.pathname,l=Zu(s.nextLocation.pathname,a)||s.nextLocation.pathname;return aj(n.pathname,l)!=null||aj(n.pathname,i)!=null}const vO=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Fy=g.createContext({}),Ry=g.createContext(null),By=typeof document<"u",DN=By?g.useLayoutEffect:g.useEffect,jO=g.createContext({strict:!1}),LN=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),cq="framerAppearId",wO="data-"+LN(cq);function dq(e,r,s,a){const{visualElement:n}=g.useContext(Fy),i=g.useContext(jO),l=g.useContext(Ry),o=g.useContext(vO).reducedMotion,d=g.useRef();a=a||i.renderer,!d.current&&a&&(d.current=a(e,{visualState:r,parent:n,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:o}));const c=d.current;g.useInsertionEffect(()=>{c&&c.update(s,l)});const u=g.useRef(!!(s[wO]&&!window.HandoffComplete));return DN(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),g.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function gu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function uq(e,r,s){return g.useCallback(a=>{a&&e.mount&&e.mount(a),r&&(a?r.mount(a):r.unmount()),s&&(typeof s=="function"?s(a):gu(s)&&(s.current=a))},[r])}function p0(e){return typeof e=="string"||Array.isArray(e)}function $y(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const FN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],RN=["initial",...FN];function zy(e){return $y(e.animate)||RN.some(r=>p0(e[r]))}function NO(e){return!!(zy(e)||e.variants)}function mq(e,r){if(zy(e)){const{initial:s,animate:a}=e;return{initial:s===!1||p0(s)?s:void 0,animate:p0(a)?a:void 0}}return e.inherit!==!1?r:{}}function hq(e){const{initial:r,animate:s}=mq(e,g.useContext(Fy));return g.useMemo(()=>({initial:r,animate:s}),[Ak(r),Ak(s)])}function Ak(e){return Array.isArray(e)?e.join(" "):e}const Tk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},f0={};for(const e in Tk)f0[e]={isEnabled:r=>Tk[e].some(s=>!!r[s])};function xq(e){for(const r in e)f0[r]={...f0[r],...e[r]}}const BN=g.createContext({}),SO=g.createContext({}),pq=Symbol.for("motionComponentSymbol");function fq({preloadedFeatures:e,createVisualElement:r,useRender:s,useVisualState:a,Component:n}){e&&xq(e);function i(o,d){let c;const u={...g.useContext(vO),...o,layoutId:gq(o)},{isStatic:m}=u,x=hq(o),h=a(o,m);if(!m&&By){x.visualElement=dq(n,h,u,r);const p=g.useContext(SO),f=g.useContext(jO).strict;x.visualElement&&(c=x.visualElement.loadFeatures(u,f,e,p))}return g.createElement(Fy.Provider,{value:x},c&&x.visualElement?g.createElement(c,{visualElement:x.visualElement,...u}):null,s(n,o,uq(h,x.visualElement,d),h,m,x.visualElement))}const l=g.forwardRef(i);return l[pq]=n,l}function gq({layoutId:e}){const r=g.useContext(BN).id;return r&&e!==void 0?r+"-"+e:e}function yq(e){function r(a,n={}){return fq(e(a,n))}if(typeof Proxy>"u")return r;const s=new Map;return new Proxy(r,{get:(a,n)=>(s.has(n)||s.set(n,r(n)),s.get(n))})}const bq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $N(e){return typeof e!="string"||e.includes("-")?!1:!!(bq.indexOf(e)>-1||/[A-Z]/.test(e))}const Rf={};function vq(e){Object.assign(Rf,e)}const Q0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Od=new Set(Q0);function kO(e,{layout:r,layoutId:s}){return Od.has(e)||e.startsWith("origin")||(r||s!==void 0)&&(!!Rf[e]||e==="opacity")}const tn=e=>!!(e&&e.getVelocity),jq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wq=Q0.length;function Nq(e,{enableHardwareAcceleration:r=!0,allowTransformNone:s=!0},a,n){let i="";for(let l=0;l<wq;l++){const o=Q0[l];if(e[o]!==void 0){const d=jq[o]||o;i+=`${d}(${e[o]}) `}}return r&&!e.z&&(i+="translateZ(0)"),i=i.trim(),n?i=n(e,a?"":i):s&&a&&(i="none"),i}const CO=e=>r=>typeof r=="string"&&r.startsWith(e),PO=CO("--"),oj=CO("var(--"),Sq=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,kq=(e,r)=>r&&typeof e=="number"?r.transform(e):e,Zo=(e,r,s)=>Math.min(Math.max(s,e),r),_d={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Fh={..._d,transform:e=>Zo(0,1,e)},ip={..._d,default:1},Rh=e=>Math.round(e*1e5)/1e5,Uy=/(-)?([\d]*\.?[\d])+/g,AO=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Cq=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Z0(e){return typeof e=="string"}const ex=e=>({test:r=>Z0(r)&&r.endsWith(e)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${e}`}),vo=ex("deg"),Zi=ex("%"),Mt=ex("px"),Pq=ex("vh"),Aq=ex("vw"),Ek={...Zi,parse:e=>Zi.parse(e)/100,transform:e=>Zi.transform(e*100)},Ik={..._d,transform:Math.round},TO={borderWidth:Mt,borderTopWidth:Mt,borderRightWidth:Mt,borderBottomWidth:Mt,borderLeftWidth:Mt,borderRadius:Mt,radius:Mt,borderTopLeftRadius:Mt,borderTopRightRadius:Mt,borderBottomRightRadius:Mt,borderBottomLeftRadius:Mt,width:Mt,maxWidth:Mt,height:Mt,maxHeight:Mt,size:Mt,top:Mt,right:Mt,bottom:Mt,left:Mt,padding:Mt,paddingTop:Mt,paddingRight:Mt,paddingBottom:Mt,paddingLeft:Mt,margin:Mt,marginTop:Mt,marginRight:Mt,marginBottom:Mt,marginLeft:Mt,rotate:vo,rotateX:vo,rotateY:vo,rotateZ:vo,scale:ip,scaleX:ip,scaleY:ip,scaleZ:ip,skew:vo,skewX:vo,skewY:vo,distance:Mt,translateX:Mt,translateY:Mt,translateZ:Mt,x:Mt,y:Mt,z:Mt,perspective:Mt,transformPerspective:Mt,opacity:Fh,originX:Ek,originY:Ek,originZ:Mt,zIndex:Ik,fillOpacity:Fh,strokeOpacity:Fh,numOctaves:Ik};function zN(e,r,s,a){const{style:n,vars:i,transform:l,transformOrigin:o}=e;let d=!1,c=!1,u=!0;for(const m in r){const x=r[m];if(PO(m)){i[m]=x;continue}const h=TO[m],p=kq(x,h);if(Od.has(m)){if(d=!0,l[m]=p,!u)continue;x!==(h.default||0)&&(u=!1)}else m.startsWith("origin")?(c=!0,o[m]=p):n[m]=p}if(r.transform||(d||a?n.transform=Nq(e.transform,s,u,a):n.transform&&(n.transform="none")),c){const{originX:m="50%",originY:x="50%",originZ:h=0}=o;n.transformOrigin=`${m} ${x} ${h}`}}const UN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function EO(e,r,s){for(const a in r)!tn(r[a])&&!kO(a,s)&&(e[a]=r[a])}function Tq({transformTemplate:e},r,s){return g.useMemo(()=>{const a=UN();return zN(a,r,{enableHardwareAcceleration:!s},e),Object.assign({},a.vars,a.style)},[r])}function Eq(e,r,s){const a=e.style||{},n={};return EO(n,a,e),Object.assign(n,Tq(e,r,s)),e.transformValues?e.transformValues(n):n}function Iq(e,r,s){const a={},n=Eq(e,r,s);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=n,a}const Oq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Oq.has(e)}let IO=e=>!Bf(e);function _q(e){e&&(IO=r=>r.startsWith("on")?!Bf(r):e(r))}try{_q(require("@emotion/is-prop-valid").default)}catch{}function Mq(e,r,s){const a={};for(const n in e)n==="values"&&typeof e.values=="object"||(IO(n)||s===!0&&Bf(n)||!r&&!Bf(n)||e.draggable&&n.startsWith("onDrag"))&&(a[n]=e[n]);return a}function Ok(e,r,s){return typeof e=="string"?e:Mt.transform(r+s*e)}function Dq(e,r,s){const a=Ok(r,e.x,e.width),n=Ok(s,e.y,e.height);return`${a} ${n}`}const Lq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Fq={offset:"strokeDashoffset",array:"strokeDasharray"};function Rq(e,r,s=1,a=0,n=!0){e.pathLength=1;const i=n?Lq:Fq;e[i.offset]=Mt.transform(-a);const l=Mt.transform(r),o=Mt.transform(s);e[i.array]=`${l} ${o}`}function HN(e,{attrX:r,attrY:s,attrScale:a,originX:n,originY:i,pathLength:l,pathSpacing:o=1,pathOffset:d=0,...c},u,m,x){if(zN(e,c,u,x),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:f}=e;h.transform&&(f&&(p.transform=h.transform),delete h.transform),f&&(n!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=Dq(f,n!==void 0?n:.5,i!==void 0?i:.5)),r!==void 0&&(h.x=r),s!==void 0&&(h.y=s),a!==void 0&&(h.scale=a),l!==void 0&&Rq(h,l,o,d,!1)}const OO=()=>({...UN(),attrs:{}}),VN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Bq(e,r,s,a){const n=g.useMemo(()=>{const i=OO();return HN(i,r,{enableHardwareAcceleration:!1},VN(a),e.transformTemplate),{...i.attrs,style:{...i.style}}},[r]);if(e.style){const i={};EO(i,e.style,e),n.style={...i,...n.style}}return n}function $q(e=!1){return(s,a,n,{latestValues:i},l)=>{const d=($N(s)?Bq:Iq)(a,i,l,s),u={...Mq(a,typeof s=="string",e),...d,ref:n},{children:m}=a,x=g.useMemo(()=>tn(m)?m.get():m,[m]);return g.createElement(s,{...u,children:x})}}function _O(e,{style:r,vars:s},a,n){Object.assign(e.style,r,n&&n.getProjectionStyles(a));for(const i in s)e.style.setProperty(i,s[i])}const MO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DO(e,r,s,a){_O(e,r,void 0,a);for(const n in r.attrs)e.setAttribute(MO.has(n)?n:LN(n),r.attrs[n])}function WN(e,r){const{style:s}=e,a={};for(const n in s)(tn(s[n])||r.style&&tn(r.style[n])||kO(n,e))&&(a[n]=s[n]);return a}function LO(e,r){const s=WN(e,r);for(const a in e)if(tn(e[a])||tn(r[a])){const n=Q0.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[n]=e[a]}return s}function qN(e,r,s,a={},n={}){return typeof r=="function"&&(r=r(s!==void 0?s:e.custom,a,n)),typeof r=="string"&&(r=e.variants&&e.variants[r]),typeof r=="function"&&(r=r(s!==void 0?s:e.custom,a,n)),r}function FO(e){const r=g.useRef(null);return r.current===null&&(r.current=e()),r.current}const $f=e=>Array.isArray(e),zq=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Uq=e=>$f(e)?e[e.length-1]||0:e;function ef(e){const r=tn(e)?e.get():e;return zq(r)?r.toValue():r}function Hq({scrapeMotionValuesFromProps:e,createRenderState:r,onMount:s},a,n,i){const l={latestValues:Vq(a,n,i,e),renderState:r()};return s&&(l.mount=o=>s(a,o,l)),l}const RO=e=>(r,s)=>{const a=g.useContext(Fy),n=g.useContext(Ry),i=()=>Hq(e,r,a,n);return s?i():FO(i)};function Vq(e,r,s,a){const n={},i=a(e,{});for(const x in i)n[x]=ef(i[x]);let{initial:l,animate:o}=e;const d=zy(e),c=NO(e);r&&c&&!d&&e.inherit!==!1&&(l===void 0&&(l=r.initial),o===void 0&&(o=r.animate));let u=s?s.initial===!1:!1;u=u||l===!1;const m=u?o:l;return m&&typeof m!="boolean"&&!$y(m)&&(Array.isArray(m)?m:[m]).forEach(h=>{const p=qN(e,h);if(!p)return;const{transitionEnd:f,transition:b,...j}=p;for(const w in j){let y=j[w];if(Array.isArray(y)){const v=u?y.length-1:0;y=y[v]}y!==null&&(n[w]=y)}for(const w in f)n[w]=f[w]}),n}const ps=e=>e;class _k{constructor(){this.order=[],this.scheduled=new Set}add(r){if(!this.scheduled.has(r))return this.scheduled.add(r),this.order.push(r),!0}remove(r){const s=this.order.indexOf(r);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(r))}clear(){this.order.length=0,this.scheduled.clear()}}function Wq(e){let r=new _k,s=new _k,a=0,n=!1,i=!1;const l=new WeakSet,o={schedule:(d,c=!1,u=!1)=>{const m=u&&n,x=m?r:s;return c&&l.add(d),x.add(d)&&m&&n&&(a=r.order.length),d},cancel:d=>{s.remove(d),l.delete(d)},process:d=>{if(n){i=!0;return}if(n=!0,[r,s]=[s,r],s.clear(),a=r.order.length,a)for(let c=0;c<a;c++){const u=r.order[c];u(d),l.has(u)&&(o.schedule(u),e())}n=!1,i&&(i=!1,o.process(d))}};return o}const lp=["prepare","read","update","preRender","render","postRender"],qq=40;function Gq(e,r){let s=!1,a=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=lp.reduce((m,x)=>(m[x]=Wq(()=>s=!0),m),{}),l=m=>i[m].process(n),o=()=>{const m=performance.now();s=!1,n.delta=a?1e3/60:Math.max(Math.min(m-n.timestamp,qq),1),n.timestamp=m,n.isProcessing=!0,lp.forEach(l),n.isProcessing=!1,s&&r&&(a=!1,e(o))},d=()=>{s=!0,a=!0,n.isProcessing||e(o)};return{schedule:lp.reduce((m,x)=>{const h=i[x];return m[x]=(p,f=!1,b=!1)=>(s||d(),h.schedule(p,f,b)),m},{}),cancel:m=>lp.forEach(x=>i[x].cancel(m)),state:n,steps:i}}const{schedule:Ir,cancel:zl,state:ha,steps:Yv}=Gq(typeof requestAnimationFrame<"u"?requestAnimationFrame:ps,!0),Kq={useVisualState:RO({scrapeMotionValuesFromProps:LO,createRenderState:OO,onMount:(e,r,{renderState:s,latestValues:a})=>{Ir.read(()=>{try{s.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),Ir.render(()=>{HN(s,a,{enableHardwareAcceleration:!1},VN(r.tagName),e.transformTemplate),DO(r,s)})}})},Yq={useVisualState:RO({scrapeMotionValuesFromProps:WN,createRenderState:UN})};function Xq(e,{forwardMotionProps:r=!1},s,a){return{...$N(e)?Kq:Yq,preloadedFeatures:s,useRender:$q(r),createVisualElement:a,Component:e}}function jl(e,r,s,a={passive:!0}){return e.addEventListener(r,s,a),()=>e.removeEventListener(r,s)}const BO=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Hy(e,r="page"){return{point:{x:e[r+"X"],y:e[r+"Y"]}}}const Jq=e=>r=>BO(r)&&e(r,Hy(r));function kl(e,r,s,a){return jl(e,r,Jq(s),a)}const Qq=(e,r)=>s=>r(e(s)),qo=(...e)=>e.reduce(Qq);function $O(e){let r=null;return()=>{const s=()=>{r=null};return r===null?(r=e,s):!1}}const Mk=$O("dragHorizontal"),Dk=$O("dragVertical");function zO(e){let r=!1;if(e==="y")r=Dk();else if(e==="x")r=Mk();else{const s=Mk(),a=Dk();s&&a?r=()=>{s(),a()}:(s&&s(),a&&a())}return r}function UO(){const e=zO(!0);return e?(e(),!1):!0}class hc{constructor(r){this.isMounted=!1,this.node=r}update(){}}function Lk(e,r){const s="pointer"+(r?"enter":"leave"),a="onHover"+(r?"Start":"End"),n=(i,l)=>{if(i.pointerType==="touch"||UO())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",r),o[a]&&Ir.update(()=>o[a](i,l))};return kl(e.current,s,n,{passive:!e.getProps()[a]})}class Zq extends hc{mount(){this.unmount=qo(Lk(this.node,!0),Lk(this.node,!1))}unmount(){}}class eG extends hc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let r=!1;try{r=this.node.current.matches(":focus-visible")}catch{r=!0}!r||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qo(jl(this.node.current,"focus",()=>this.onFocus()),jl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const HO=(e,r)=>r?e===r?!0:HO(e,r.parentElement):!1;function Xv(e,r){if(!r)return;const s=new PointerEvent("pointer"+e);r(s,Hy(s))}class tG extends hc{constructor(){super(...arguments),this.removeStartListeners=ps,this.removeEndListeners=ps,this.removeAccessibleListeners=ps,this.startPointerPress=(r,s)=>{if(this.isPressing)return;this.removeEndListeners();const a=this.node.getProps(),i=kl(window,"pointerup",(o,d)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:m}=this.node.getProps();Ir.update(()=>{!m&&!HO(this.node.current,o.target)?u&&u(o,d):c&&c(o,d)})},{passive:!(a.onTap||a.onPointerUp)}),l=kl(window,"pointercancel",(o,d)=>this.cancelPress(o,d),{passive:!(a.onTapCancel||a.onPointerCancel)});this.removeEndListeners=qo(i,l),this.startPress(r,s)},this.startAccessiblePress=()=>{const r=i=>{if(i.key!=="Enter"||this.isPressing)return;const l=o=>{o.key!=="Enter"||!this.checkPressEnd()||Xv("up",(d,c)=>{const{onTap:u}=this.node.getProps();u&&Ir.update(()=>u(d,c))})};this.removeEndListeners(),this.removeEndListeners=jl(this.node.current,"keyup",l),Xv("down",(o,d)=>{this.startPress(o,d)})},s=jl(this.node.current,"keydown",r),a=()=>{this.isPressing&&Xv("cancel",(i,l)=>this.cancelPress(i,l))},n=jl(this.node.current,"blur",a);this.removeAccessibleListeners=qo(s,n)}}startPress(r,s){this.isPressing=!0;const{onTapStart:a,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),a&&Ir.update(()=>a(r,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!UO()}cancelPress(r,s){if(!this.checkPressEnd())return;const{onTapCancel:a}=this.node.getProps();a&&Ir.update(()=>a(r,s))}mount(){const r=this.node.getProps(),s=kl(r.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(r.onTapStart||r.onPointerStart)}),a=jl(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=qo(s,a)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const cj=new WeakMap,Jv=new WeakMap,rG=e=>{const r=cj.get(e.target);r&&r(e)},sG=e=>{e.forEach(rG)};function aG({root:e,...r}){const s=e||document;Jv.has(s)||Jv.set(s,{});const a=Jv.get(s),n=JSON.stringify(r);return a[n]||(a[n]=new IntersectionObserver(sG,{root:e,...r})),a[n]}function nG(e,r,s){const a=aG(r);return cj.set(e,s),a.observe(e),()=>{cj.delete(e),a.unobserve(e)}}const iG={some:0,all:1};class lG extends hc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:r={}}=this.node.getProps(),{root:s,margin:a,amount:n="some",once:i}=r,l={root:s?s.current:void 0,rootMargin:a,threshold:typeof n=="number"?n:iG[n]},o=d=>{const{isIntersecting:c}=d;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),x=c?u:m;x&&x(d)};return nG(this.node.current,l,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:r,prevProps:s}=this.node;["amount","margin","root"].some(oG(r,s))&&this.startObserver()}unmount(){}}function oG({viewport:e={}},{viewport:r={}}={}){return s=>e[s]!==r[s]}const cG={inView:{Feature:lG},tap:{Feature:tG},focus:{Feature:eG},hover:{Feature:Zq}};function VO(e,r){if(!Array.isArray(r))return!1;const s=r.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(r[a]!==e[a])return!1;return!0}function dG(e){const r={};return e.values.forEach((s,a)=>r[a]=s.get()),r}function uG(e){const r={};return e.values.forEach((s,a)=>r[a]=s.getVelocity()),r}function Vy(e,r,s){const a=e.getProps();return qN(a,r,s!==void 0?s:a.custom,dG(e),uG(e))}let GN=ps;const Gc=e=>e*1e3,Cl=e=>e/1e3,mG={current:!1},WO=e=>Array.isArray(e)&&typeof e[0]=="number";function qO(e){return!!(!e||typeof e=="string"&&GO[e]||WO(e)||Array.isArray(e)&&e.every(qO))}const Sh=([e,r,s,a])=>`cubic-bezier(${e}, ${r}, ${s}, ${a})`,GO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sh([0,.65,.55,1]),circOut:Sh([.55,0,1,.45]),backIn:Sh([.31,.01,.66,-.59]),backOut:Sh([.33,1.53,.69,.99])};function KO(e){if(e)return WO(e)?Sh(e):Array.isArray(e)?e.map(KO):GO[e]}function hG(e,r,s,{delay:a=0,duration:n,repeat:i=0,repeatType:l="loop",ease:o,times:d}={}){const c={[r]:s};d&&(c.offset=d);const u=KO(o);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:a,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"})}function xG(e,{repeat:r,repeatType:s="loop"}){const a=r&&s!=="loop"&&r%2===1?0:e.length-1;return e[a]}const YO=(e,r,s)=>(((1-3*s+3*r)*e+(3*s-6*r))*e+3*r)*e,pG=1e-7,fG=12;function gG(e,r,s,a,n){let i,l,o=0;do l=r+(s-r)/2,i=YO(l,a,n)-e,i>0?s=l:r=l;while(Math.abs(i)>pG&&++o<fG);return l}function tx(e,r,s,a){if(e===r&&s===a)return ps;const n=i=>gG(i,0,1,e,s);return i=>i===0||i===1?i:YO(n(i),r,a)}const yG=tx(.42,0,1,1),bG=tx(0,0,.58,1),XO=tx(.42,0,.58,1),vG=e=>Array.isArray(e)&&typeof e[0]!="number",JO=e=>r=>r<=.5?e(2*r)/2:(2-e(2*(1-r)))/2,QO=e=>r=>1-e(1-r),KN=e=>1-Math.sin(Math.acos(e)),ZO=QO(KN),jG=JO(KN),e_=tx(.33,1.53,.69,.99),YN=QO(e_),wG=JO(YN),NG=e=>(e*=2)<1?.5*YN(e):.5*(2-Math.pow(2,-10*(e-1))),SG={linear:ps,easeIn:yG,easeInOut:XO,easeOut:bG,circIn:KN,circInOut:jG,circOut:ZO,backIn:YN,backInOut:wG,backOut:e_,anticipate:NG},Fk=e=>{if(Array.isArray(e)){GN(e.length===4);const[r,s,a,n]=e;return tx(r,s,a,n)}else if(typeof e=="string")return SG[e];return e},XN=(e,r)=>s=>!!(Z0(s)&&Cq.test(s)&&s.startsWith(e)||r&&Object.prototype.hasOwnProperty.call(s,r)),t_=(e,r,s)=>a=>{if(!Z0(a))return a;const[n,i,l,o]=a.match(Uy);return{[e]:parseFloat(n),[r]:parseFloat(i),[s]:parseFloat(l),alpha:o!==void 0?parseFloat(o):1}},kG=e=>Zo(0,255,e),Qv={..._d,transform:e=>Math.round(kG(e))},Fc={test:XN("rgb","red"),parse:t_("red","green","blue"),transform:({red:e,green:r,blue:s,alpha:a=1})=>"rgba("+Qv.transform(e)+", "+Qv.transform(r)+", "+Qv.transform(s)+", "+Rh(Fh.transform(a))+")"};function CG(e){let r="",s="",a="",n="";return e.length>5?(r=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),n=e.substring(7,9)):(r=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),n=e.substring(4,5),r+=r,s+=s,a+=a,n+=n),{red:parseInt(r,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:n?parseInt(n,16)/255:1}}const dj={test:XN("#"),parse:CG,transform:Fc.transform},yu={test:XN("hsl","hue"),parse:t_("hue","saturation","lightness"),transform:({hue:e,saturation:r,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+Zi.transform(Rh(r))+", "+Zi.transform(Rh(s))+", "+Rh(Fh.transform(a))+")"},Pa={test:e=>Fc.test(e)||dj.test(e)||yu.test(e),parse:e=>Fc.test(e)?Fc.parse(e):yu.test(e)?yu.parse(e):dj.parse(e),transform:e=>Z0(e)?e:e.hasOwnProperty("red")?Fc.transform(e):yu.transform(e)},Xr=(e,r,s)=>-s*e+s*r+e;function Zv(e,r,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(r-e)*6*s:s<1/2?r:s<2/3?e+(r-e)*(2/3-s)*6:e}function PG({hue:e,saturation:r,lightness:s,alpha:a}){e/=360,r/=100,s/=100;let n=0,i=0,l=0;if(!r)n=i=l=s;else{const o=s<.5?s*(1+r):s+r-s*r,d=2*s-o;n=Zv(d,o,e+1/3),i=Zv(d,o,e),l=Zv(d,o,e-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:a}}const e1=(e,r,s)=>{const a=e*e;return Math.sqrt(Math.max(0,s*(r*r-a)+a))},AG=[dj,Fc,yu],TG=e=>AG.find(r=>r.test(e));function Rk(e){const r=TG(e);let s=r.parse(e);return r===yu&&(s=PG(s)),s}const r_=(e,r)=>{const s=Rk(e),a=Rk(r),n={...s};return i=>(n.red=e1(s.red,a.red,i),n.green=e1(s.green,a.green,i),n.blue=e1(s.blue,a.blue,i),n.alpha=Xr(s.alpha,a.alpha,i),Fc.transform(n))};function EG(e){var r,s;return isNaN(e)&&Z0(e)&&(((r=e.match(Uy))===null||r===void 0?void 0:r.length)||0)+(((s=e.match(AO))===null||s===void 0?void 0:s.length)||0)>0}const s_={regex:Sq,countKey:"Vars",token:"${v}",parse:ps},a_={regex:AO,countKey:"Colors",token:"${c}",parse:Pa.parse},n_={regex:Uy,countKey:"Numbers",token:"${n}",parse:_d.parse};function t1(e,{regex:r,countKey:s,token:a,parse:n}){const i=e.tokenised.match(r);i&&(e["num"+s]=i.length,e.tokenised=e.tokenised.replace(r,a),e.values.push(...i.map(n)))}function zf(e){const r=e.toString(),s={value:r,tokenised:r,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&t1(s,s_),t1(s,a_),t1(s,n_),s}function i_(e){return zf(e).values}function l_(e){const{values:r,numColors:s,numVars:a,tokenised:n}=zf(e),i=r.length;return l=>{let o=n;for(let d=0;d<i;d++)d<a?o=o.replace(s_.token,l[d]):d<a+s?o=o.replace(a_.token,Pa.transform(l[d])):o=o.replace(n_.token,Rh(l[d]));return o}}const IG=e=>typeof e=="number"?0:e;function OG(e){const r=i_(e);return l_(e)(r.map(IG))}const ec={test:EG,parse:i_,createTransformer:l_,getAnimatableNone:OG},o_=(e,r)=>s=>`${s>0?r:e}`;function c_(e,r){return typeof e=="number"?s=>Xr(e,r,s):Pa.test(e)?r_(e,r):e.startsWith("var(")?o_(e,r):u_(e,r)}const d_=(e,r)=>{const s=[...e],a=s.length,n=e.map((i,l)=>c_(i,r[l]));return i=>{for(let l=0;l<a;l++)s[l]=n[l](i);return s}},_G=(e,r)=>{const s={...e,...r},a={};for(const n in s)e[n]!==void 0&&r[n]!==void 0&&(a[n]=c_(e[n],r[n]));return n=>{for(const i in a)s[i]=a[i](n);return s}},u_=(e,r)=>{const s=ec.createTransformer(r),a=zf(e),n=zf(r);return a.numVars===n.numVars&&a.numColors===n.numColors&&a.numNumbers>=n.numNumbers?qo(d_(a.values,n.values),s):o_(e,r)},g0=(e,r,s)=>{const a=r-e;return a===0?1:(s-e)/a},Bk=(e,r)=>s=>Xr(e,r,s);function MG(e){return typeof e=="number"?Bk:typeof e=="string"?Pa.test(e)?r_:u_:Array.isArray(e)?d_:typeof e=="object"?_G:Bk}function DG(e,r,s){const a=[],n=s||MG(e[0]),i=e.length-1;for(let l=0;l<i;l++){let o=n(e[l],e[l+1]);if(r){const d=Array.isArray(r)?r[l]||ps:r;o=qo(d,o)}a.push(o)}return a}function m_(e,r,{clamp:s=!0,ease:a,mixer:n}={}){const i=e.length;if(GN(i===r.length),i===1)return()=>r[0];e[0]>e[i-1]&&(e=[...e].reverse(),r=[...r].reverse());const l=DG(r,a,n),o=l.length,d=c=>{let u=0;if(o>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const m=g0(e[u],e[u+1],c);return l[u](m)};return s?c=>d(Zo(e[0],e[i-1],c)):d}function LG(e,r){const s=e[e.length-1];for(let a=1;a<=r;a++){const n=g0(0,r,a);e.push(Xr(s,1,n))}}function FG(e){const r=[0];return LG(r,e.length-1),r}function RG(e,r){return e.map(s=>s*r)}function BG(e,r){return e.map(()=>r||XO).splice(0,e.length-1)}function Uf({duration:e=300,keyframes:r,times:s,ease:a="easeInOut"}){const n=vG(a)?a.map(Fk):Fk(a),i={done:!1,value:r[0]},l=RG(s&&s.length===r.length?s:FG(r),e),o=m_(l,r,{ease:Array.isArray(n)?n:BG(r,n)});return{calculatedDuration:e,next:d=>(i.value=o(d),i.done=d>=e,i)}}function h_(e,r){return r?e*(1e3/r):0}const $G=5;function x_(e,r,s){const a=Math.max(r-$G,0);return h_(s-e(a),r-a)}const r1=.001,zG=.01,UG=10,HG=.05,VG=1;function WG({duration:e=800,bounce:r=.25,velocity:s=0,mass:a=1}){let n,i,l=1-r;l=Zo(HG,VG,l),e=Zo(zG,UG,Cl(e)),l<1?(n=c=>{const u=c*l,m=u*e,x=u-s,h=uj(c,l),p=Math.exp(-m);return r1-x/h*p},i=c=>{const m=c*l*e,x=m*s+s,h=Math.pow(l,2)*Math.pow(c,2)*e,p=Math.exp(-m),f=uj(Math.pow(c,2),l);return(-n(c)+r1>0?-1:1)*((x-h)*p)/f}):(n=c=>{const u=Math.exp(-c*e),m=(c-s)*e+1;return-r1+u*m},i=c=>{const u=Math.exp(-c*e),m=(s-c)*(e*e);return u*m});const o=5/e,d=GG(n,i,o);if(e=Gc(e),isNaN(d))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(d,2)*a;return{stiffness:c,damping:l*2*Math.sqrt(a*c),duration:e}}}const qG=12;function GG(e,r,s){let a=s;for(let n=1;n<qG;n++)a=a-e(a)/r(a);return a}function uj(e,r){return e*Math.sqrt(1-r*r)}const KG=["duration","bounce"],YG=["stiffness","damping","mass"];function $k(e,r){return r.some(s=>e[s]!==void 0)}function XG(e){let r={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!$k(e,YG)&&$k(e,KG)){const s=WG(e);r={...r,...s,mass:1},r.isResolvedFromDuration=!0}return r}function p_({keyframes:e,restDelta:r,restSpeed:s,...a}){const n=e[0],i=e[e.length-1],l={done:!1,value:n},{stiffness:o,damping:d,mass:c,duration:u,velocity:m,isResolvedFromDuration:x}=XG({...a,velocity:-Cl(a.velocity||0)}),h=m||0,p=d/(2*Math.sqrt(o*c)),f=i-n,b=Cl(Math.sqrt(o/c)),j=Math.abs(f)<5;s||(s=j?.01:2),r||(r=j?.005:.5);let w;if(p<1){const y=uj(b,p);w=v=>{const N=Math.exp(-p*b*v);return i-N*((h+p*b*f)/y*Math.sin(y*v)+f*Math.cos(y*v))}}else if(p===1)w=y=>i-Math.exp(-b*y)*(f+(h+b*f)*y);else{const y=b*Math.sqrt(p*p-1);w=v=>{const N=Math.exp(-p*b*v),S=Math.min(y*v,300);return i-N*((h+p*b*f)*Math.sinh(S)+y*f*Math.cosh(S))/y}}return{calculatedDuration:x&&u||null,next:y=>{const v=w(y);if(x)l.done=y>=u;else{let N=h;y!==0&&(p<1?N=x_(w,y,v):N=0);const S=Math.abs(N)<=s,k=Math.abs(i-v)<=r;l.done=S&&k}return l.value=l.done?i:v,l}}}function zk({keyframes:e,velocity:r=0,power:s=.8,timeConstant:a=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:l,min:o,max:d,restDelta:c=.5,restSpeed:u}){const m=e[0],x={done:!1,value:m},h=P=>o!==void 0&&P<o||d!==void 0&&P>d,p=P=>o===void 0?d:d===void 0||Math.abs(o-P)<Math.abs(d-P)?o:d;let f=s*r;const b=m+f,j=l===void 0?b:l(b);j!==b&&(f=j-m);const w=P=>-f*Math.exp(-P/a),y=P=>j+w(P),v=P=>{const C=w(P),_=y(P);x.done=Math.abs(C)<=c,x.value=x.done?j:_};let N,S;const k=P=>{h(x.value)&&(N=P,S=p_({keyframes:[x.value,p(x.value)],velocity:x_(y,P,x.value),damping:n,stiffness:i,restDelta:c,restSpeed:u}))};return k(0),{calculatedDuration:null,next:P=>{let C=!1;return!S&&N===void 0&&(C=!0,v(P),k(P)),N!==void 0&&P>N?S.next(P-N):(!C&&v(P),x)}}}const JG=e=>{const r=({timestamp:s})=>e(s);return{start:()=>Ir.update(r,!0),stop:()=>zl(r),now:()=>ha.isProcessing?ha.timestamp:performance.now()}},Uk=2e4;function Hk(e){let r=0;const s=50;let a=e.next(r);for(;!a.done&&r<Uk;)r+=s,a=e.next(r);return r>=Uk?1/0:r}const QG={decay:zk,inertia:zk,tween:Uf,keyframes:Uf,spring:p_};function Hf({autoplay:e=!0,delay:r=0,driver:s=JG,keyframes:a,type:n="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:o="loop",onPlay:d,onStop:c,onComplete:u,onUpdate:m,...x}){let h=1,p=!1,f,b;const j=()=>{b=new Promise(L=>{f=L})};j();let w;const y=QG[n]||Uf;let v;y!==Uf&&typeof a[0]!="number"&&(v=m_([0,100],a,{clamp:!1}),a=[0,100]);const N=y({...x,keyframes:a});let S;o==="mirror"&&(S=y({...x,keyframes:[...a].reverse(),velocity:-(x.velocity||0)}));let k="idle",P=null,C=null,_=null;N.calculatedDuration===null&&i&&(N.calculatedDuration=Hk(N));const{calculatedDuration:A}=N;let D=1/0,H=1/0;A!==null&&(D=A+l,H=D*(i+1)-l);let re=0;const xe=L=>{if(C===null)return;h>0&&(C=Math.min(C,L)),h<0&&(C=Math.min(L-H/h,C)),P!==null?re=P:re=Math.round(L-C)*h;const R=re-r*(h>=0?1:-1),Z=h>=0?R<0:R>H;re=Math.max(R,0),k==="finished"&&P===null&&(re=H);let W=re,ie=N;if(i){const q=Math.min(re,H)/D;let G=Math.floor(q),Y=q%1;!Y&&q>=1&&(Y=1),Y===1&&G--,G=Math.min(G,i+1),!!(G%2)&&(o==="reverse"?(Y=1-Y,l&&(Y-=l/D)):o==="mirror"&&(ie=S)),W=Zo(0,1,Y)*D}const ae=Z?{done:!1,value:a[0]}:ie.next(W);v&&(ae.value=v(ae.value));let{done:M}=ae;!Z&&A!==null&&(M=h>=0?re>=H:re<=0);const U=P===null&&(k==="finished"||k==="running"&&M);return m&&m(ae.value),U&&z(),ae},we=()=>{w&&w.stop(),w=void 0},T=()=>{k="idle",we(),f(),j(),C=_=null},z=()=>{k="finished",u&&u(),we(),f()},Q=()=>{if(p)return;w||(w=s(xe));const L=w.now();d&&d(),P!==null?C=L-P:(!C||k==="finished")&&(C=L),k==="finished"&&j(),_=C,P=null,k="running",w.start()};e&&Q();const B={then(L,R){return b.then(L,R)},get time(){return Cl(re)},set time(L){L=Gc(L),re=L,P!==null||!w||h===0?P=L:C=w.now()-L/h},get duration(){const L=N.calculatedDuration===null?Hk(N):N.calculatedDuration;return Cl(L)},get speed(){return h},set speed(L){L===h||!w||(h=L,B.time=Cl(re))},get state(){return k},play:Q,pause:()=>{k="paused",P=re},stop:()=>{p=!0,k!=="idle"&&(k="idle",c&&c(),T())},cancel:()=>{_!==null&&xe(_),T()},complete:()=>{k="finished"},sample:L=>(C=0,xe(L))};return B}function ZG(e){let r;return()=>(r===void 0&&(r=e()),r)}const eK=ZG(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),tK=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),op=10,rK=2e4,sK=(e,r)=>r.type==="spring"||e==="backgroundColor"||!qO(r.ease);function aK(e,r,{onUpdate:s,onComplete:a,...n}){if(!(eK()&&tK.has(r)&&!n.repeatDelay&&n.repeatType!=="mirror"&&n.damping!==0&&n.type!=="inertia"))return!1;let l=!1,o,d,c=!1;const u=()=>{d=new Promise(y=>{o=y})};u();let{keyframes:m,duration:x=300,ease:h,times:p}=n;if(sK(r,n)){const y=Hf({...n,repeat:0,delay:0});let v={done:!1,value:m[0]};const N=[];let S=0;for(;!v.done&&S<rK;)v=y.sample(S),N.push(v.value),S+=op;p=void 0,m=N,x=S-op,h="linear"}const f=hG(e.owner.current,r,m,{...n,duration:x,ease:h,times:p}),b=()=>{c=!1,f.cancel()},j=()=>{c=!0,Ir.update(b),o(),u()};return f.onfinish=()=>{c||(e.set(xG(m,n)),a&&a(),j())},{then(y,v){return d.then(y,v)},attachTimeline(y){return f.timeline=y,f.onfinish=null,ps},get time(){return Cl(f.currentTime||0)},set time(y){f.currentTime=Gc(y)},get speed(){return f.playbackRate},set speed(y){f.playbackRate=y},get duration(){return Cl(x)},play:()=>{l||(f.play(),zl(b))},pause:()=>f.pause(),stop:()=>{if(l=!0,f.playState==="idle")return;const{currentTime:y}=f;if(y){const v=Hf({...n,autoplay:!1});e.setWithVelocity(v.sample(y-op).value,v.sample(y).value,op)}j()},complete:()=>{c||f.finish()},cancel:j}}function nK({keyframes:e,delay:r,onUpdate:s,onComplete:a}){const n=()=>(s&&s(e[e.length-1]),a&&a(),{time:0,speed:1,duration:0,play:ps,pause:ps,stop:ps,then:i=>(i(),Promise.resolve()),cancel:ps,complete:ps});return r?Hf({keyframes:[0,1],duration:0,delay:r,onComplete:n}):n()}const iK={type:"spring",stiffness:500,damping:25,restSpeed:10},lK=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),oK={type:"keyframes",duration:.8},cK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dK=(e,{keyframes:r})=>r.length>2?oK:Od.has(e)?e.startsWith("scale")?lK(r[1]):iK:cK,mj=(e,r)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(ec.test(r)||r==="0")&&!r.startsWith("url(")),uK=new Set(["brightness","contrast","saturate","opacity"]);function mK(e){const[r,s]=e.slice(0,-1).split("(");if(r==="drop-shadow")return e;const[a]=s.match(Uy)||[];if(!a)return e;const n=s.replace(a,"");let i=uK.has(r)?1:0;return a!==s&&(i*=100),r+"("+i+n+")"}const hK=/([a-z-]*)\(.*?\)/g,hj={...ec,getAnimatableNone:e=>{const r=e.match(hK);return r?r.map(mK).join(" "):e}},xK={...TO,color:Pa,backgroundColor:Pa,outlineColor:Pa,fill:Pa,stroke:Pa,borderColor:Pa,borderTopColor:Pa,borderRightColor:Pa,borderBottomColor:Pa,borderLeftColor:Pa,filter:hj,WebkitFilter:hj},JN=e=>xK[e];function f_(e,r){let s=JN(e);return s!==hj&&(s=ec),s.getAnimatableNone?s.getAnimatableNone(r):void 0}const g_=e=>/^0[^.\s]+$/.test(e);function pK(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||g_(e)}function fK(e,r,s,a){const n=mj(r,s);let i;Array.isArray(s)?i=[...s]:i=[null,s];const l=a.from!==void 0?a.from:e.get();let o;const d=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?l:i[c-1]),pK(i[c])&&d.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(o=i[c]);if(n&&d.length&&o)for(let c=0;c<d.length;c++){const u=d[c];i[u]=f_(r,o)}return i}function gK({when:e,delay:r,delayChildren:s,staggerChildren:a,staggerDirection:n,repeat:i,repeatType:l,repeatDelay:o,from:d,elapsed:c,...u}){return!!Object.keys(u).length}function QN(e,r){return e[r]||e.default||e}const yK={skipAnimations:!1},ZN=(e,r,s,a={})=>n=>{const i=QN(a,e)||{},l=i.delay||a.delay||0;let{elapsed:o=0}=a;o=o-Gc(l);const d=fK(r,e,s,i),c=d[0],u=d[d.length-1],m=mj(e,c),x=mj(e,u);let h={keyframes:d,velocity:r.getVelocity(),ease:"easeOut",...i,delay:-o,onUpdate:p=>{r.set(p),i.onUpdate&&i.onUpdate(p)},onComplete:()=>{n(),i.onComplete&&i.onComplete()}};if(gK(i)||(h={...h,...dK(e,h)}),h.duration&&(h.duration=Gc(h.duration)),h.repeatDelay&&(h.repeatDelay=Gc(h.repeatDelay)),!m||!x||mG.current||i.type===!1||yK.skipAnimations)return nK(h);if(!a.isHandoff&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate){const p=aK(r,e,h);if(p)return p}return Hf(h)};function Vf(e){return!!(tn(e)&&e.add)}const y_=e=>/^\-?\d*\.?\d+$/.test(e);function e4(e,r){e.indexOf(r)===-1&&e.push(r)}function t4(e,r){const s=e.indexOf(r);s>-1&&e.splice(s,1)}class r4{constructor(){this.subscriptions=[]}add(r){return e4(this.subscriptions,r),()=>t4(this.subscriptions,r)}notify(r,s,a){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](r,s,a);else for(let i=0;i<n;i++){const l=this.subscriptions[i];l&&l(r,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bK=e=>!isNaN(parseFloat(e));class vK{constructor(r,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(a,n=!0)=>{this.prev=this.current,this.current=a;const{delta:i,timestamp:l}=ha;this.lastUpdated!==l&&(this.timeDelta=i,this.lastUpdated=l,Ir.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ir.postRender(this.velocityCheck),this.velocityCheck=({timestamp:a})=>{a!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=r,this.canTrackVelocity=bK(this.current),this.owner=s.owner}onChange(r){return this.on("change",r)}on(r,s){this.events[r]||(this.events[r]=new r4);const a=this.events[r].add(s);return r==="change"?()=>{a(),Ir.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const r in this.events)this.events[r].clear()}attach(r,s){this.passiveEffect=r,this.stopPassiveEffect=s}set(r,s=!0){!s||!this.passiveEffect?this.updateAndNotify(r,s):this.passiveEffect(r,this.updateAndNotify)}setWithVelocity(r,s,a){this.set(s),this.prev=r,this.timeDelta=a}jump(r){this.updateAndNotify(r),this.prev=r,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?h_(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(r){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=r(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function em(e,r){return new vK(e,r)}const b_=e=>r=>r.test(e),jK={test:e=>e==="auto",parse:e=>e},v_=[_d,Mt,Zi,vo,Aq,Pq,jK],th=e=>v_.find(b_(e)),wK=[...v_,Pa,ec],NK=e=>wK.find(b_(e));function SK(e,r,s){e.hasValue(r)?e.getValue(r).set(s):e.addValue(r,em(s))}function kK(e,r){const s=Vy(e,r);let{transitionEnd:a={},transition:n={},...i}=s?e.makeTargetAnimatable(s,!1):{};i={...i,...a};for(const l in i){const o=Uq(i[l]);SK(e,l,o)}}function CK(e,r,s){var a,n;const i=Object.keys(r).filter(o=>!e.hasValue(o)),l=i.length;if(l)for(let o=0;o<l;o++){const d=i[o],c=r[d];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(n=(a=s[d])!==null&&a!==void 0?a:e.readValue(d))!==null&&n!==void 0?n:r[d]),u!=null&&(typeof u=="string"&&(y_(u)||g_(u))?u=parseFloat(u):!NK(u)&&ec.test(c)&&(u=f_(d,c)),e.addValue(d,em(u,{owner:e})),s[d]===void 0&&(s[d]=u),u!==null&&e.setBaseTarget(d,u))}}function PK(e,r){return r?(r[e]||r.default||r).from:void 0}function AK(e,r,s){const a={};for(const n in e){const i=PK(n,r);if(i!==void 0)a[n]=i;else{const l=s.getValue(n);l&&(a[n]=l.get())}}return a}function TK({protectedKeys:e,needsAnimating:r},s){const a=e.hasOwnProperty(s)&&r[s]!==!0;return r[s]=!1,a}function EK(e,r){const s=e.get();if(Array.isArray(r)){for(let a=0;a<r.length;a++)if(r[a]!==s)return!0}else return s!==r}function j_(e,r,{delay:s=0,transitionOverride:a,type:n}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:l,...o}=e.makeTargetAnimatable(r);const d=e.getValue("willChange");a&&(i=a);const c=[],u=n&&e.animationState&&e.animationState.getState()[n];for(const m in o){const x=e.getValue(m),h=o[m];if(!x||h===void 0||u&&TK(u,m))continue;const p={delay:s,elapsed:0,...QN(i||{},m)};if(window.HandoffAppearAnimations){const j=e.getProps()[wO];if(j){const w=window.HandoffAppearAnimations(j,m,x,Ir);w!==null&&(p.elapsed=w,p.isHandoff=!0)}}let f=!p.isHandoff&&!EK(x,h);if(p.type==="spring"&&(x.getVelocity()||p.velocity)&&(f=!1),x.animation&&(f=!1),f)continue;x.start(ZN(m,x,h,e.shouldReduceMotion&&Od.has(m)?{type:!1}:p));const b=x.animation;Vf(d)&&(d.add(m),b.then(()=>d.remove(m))),c.push(b)}return l&&Promise.all(c).then(()=>{l&&kK(e,l)}),c}function xj(e,r,s={}){const a=Vy(e,r,s.custom);let{transition:n=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(n=s.transitionOverride);const i=a?()=>Promise.all(j_(e,a,s)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:m}=n;return IK(e,r,c+d,u,m,s)}:()=>Promise.resolve(),{when:o}=n;if(o){const[d,c]=o==="beforeChildren"?[i,l]:[l,i];return d().then(()=>c())}else return Promise.all([i(),l(s.delay)])}function IK(e,r,s=0,a=0,n=1,i){const l=[],o=(e.variantChildren.size-1)*a,d=n===1?(c=0)=>c*a:(c=0)=>o-c*a;return Array.from(e.variantChildren).sort(OK).forEach((c,u)=>{c.notify("AnimationStart",r),l.push(xj(c,r,{...i,delay:s+d(u)}).then(()=>c.notify("AnimationComplete",r)))}),Promise.all(l)}function OK(e,r){return e.sortNodePosition(r)}function _K(e,r,s={}){e.notify("AnimationStart",r);let a;if(Array.isArray(r)){const n=r.map(i=>xj(e,i,s));a=Promise.all(n)}else if(typeof r=="string")a=xj(e,r,s);else{const n=typeof r=="function"?Vy(e,r,s.custom):r;a=Promise.all(j_(e,n,s))}return a.then(()=>e.notify("AnimationComplete",r))}const MK=[...FN].reverse(),DK=FN.length;function LK(e){return r=>Promise.all(r.map(({animation:s,options:a})=>_K(e,s,a)))}function FK(e){let r=LK(e);const s=BK();let a=!0;const n=(d,c)=>{const u=Vy(e,c);if(u){const{transition:m,transitionEnd:x,...h}=u;d={...d,...h,...x}}return d};function i(d){r=d(e)}function l(d,c){const u=e.getProps(),m=e.getVariantContext(!0)||{},x=[],h=new Set;let p={},f=1/0;for(let j=0;j<DK;j++){const w=MK[j],y=s[w],v=u[w]!==void 0?u[w]:m[w],N=p0(v),S=w===c?y.isActive:null;S===!1&&(f=j);let k=v===m[w]&&v!==u[w]&&N;if(k&&a&&e.manuallyAnimateOnMount&&(k=!1),y.protectedKeys={...p},!y.isActive&&S===null||!v&&!y.prevProp||$y(v)||typeof v=="boolean")continue;let C=RK(y.prevProp,v)||w===c&&y.isActive&&!k&&N||j>f&&N,_=!1;const A=Array.isArray(v)?v:[v];let D=A.reduce(n,{});S===!1&&(D={});const{prevResolvedValues:H={}}=y,re={...H,...D},xe=we=>{C=!0,h.has(we)&&(_=!0,h.delete(we)),y.needsAnimating[we]=!0};for(const we in re){const T=D[we],z=H[we];if(p.hasOwnProperty(we))continue;let Q=!1;$f(T)&&$f(z)?Q=!VO(T,z):Q=T!==z,Q?T!==void 0?xe(we):h.add(we):T!==void 0&&h.has(we)?xe(we):y.protectedKeys[we]=!0}y.prevProp=v,y.prevResolvedValues=D,y.isActive&&(p={...p,...D}),a&&e.blockInitialAnimation&&(C=!1),C&&(!k||_)&&x.push(...A.map(we=>({animation:we,options:{type:w,...d}})))}if(h.size){const j={};h.forEach(w=>{const y=e.getBaseTarget(w);y!==void 0&&(j[w]=y)}),x.push({animation:j})}let b=!!x.length;return a&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(b=!1),a=!1,b?r(x):Promise.resolve()}function o(d,c,u){var m;if(s[d].isActive===c)return Promise.resolve();(m=e.variantChildren)===null||m===void 0||m.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(d,c)}),s[d].isActive=c;const x=l(u,d);for(const h in s)s[h].protectedKeys={};return x}return{animateChanges:l,setActive:o,setAnimateFunction:i,getState:()=>s}}function RK(e,r){return typeof r=="string"?r!==e:Array.isArray(r)?!VO(r,e):!1}function bc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BK(){return{animate:bc(!0),whileInView:bc(),whileHover:bc(),whileTap:bc(),whileDrag:bc(),whileFocus:bc(),exit:bc()}}class $K extends hc{constructor(r){super(r),r.animationState||(r.animationState=FK(r))}updateAnimationControlsSubscription(){const{animate:r}=this.node.getProps();this.unmount(),$y(r)&&(this.unmount=r.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:r}=this.node.getProps(),{animate:s}=this.node.prevProps||{};r!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let zK=0;class UK extends hc{constructor(){super(...arguments),this.id=zK++}update(){if(!this.node.presenceContext)return;const{isPresent:r,onExitComplete:s,custom:a}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||r===n)return;const i=this.node.animationState.setActive("exit",!r,{custom:a??this.node.getProps().custom});s&&!r&&i.then(()=>s(this.id))}mount(){const{register:r}=this.node.presenceContext||{};r&&(this.unmount=r(this.id))}unmount(){}}const HK={animation:{Feature:$K},exit:{Feature:UK}},Vk=(e,r)=>Math.abs(e-r);function VK(e,r){const s=Vk(e.x,r.x),a=Vk(e.y,r.y);return Math.sqrt(s**2+a**2)}class w_{constructor(r,s,{transformPagePoint:a,contextWindow:n,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=a1(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,h=VK(m.offset,{x:0,y:0})>=3;if(!x&&!h)return;const{point:p}=m,{timestamp:f}=ha;this.history.push({...p,timestamp:f});const{onStart:b,onMove:j}=this.handlers;x||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,m)},this.handlePointerMove=(m,x)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=s1(x,this.transformPagePoint),Ir.update(this.updatePoint,!0)},this.handlePointerUp=(m,x)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:f}=this.handlers;if(this.dragSnapToOrigin&&f&&f(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=a1(m.type==="pointercancel"?this.lastMoveEventInfo:s1(x,this.transformPagePoint),this.history);this.startEvent&&h&&h(m,b),p&&p(m,b)},!BO(r))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=a,this.contextWindow=n||window;const l=Hy(r),o=s1(l,this.transformPagePoint),{point:d}=o,{timestamp:c}=ha;this.history=[{...d,timestamp:c}];const{onSessionStart:u}=s;u&&u(r,a1(o,this.history)),this.removeListeners=qo(kl(this.contextWindow,"pointermove",this.handlePointerMove),kl(this.contextWindow,"pointerup",this.handlePointerUp),kl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(r){this.handlers=r}end(){this.removeListeners&&this.removeListeners(),zl(this.updatePoint)}}function s1(e,r){return r?{point:r(e.point)}:e}function Wk(e,r){return{x:e.x-r.x,y:e.y-r.y}}function a1({point:e},r){return{point:e,delta:Wk(e,N_(r)),offset:Wk(e,WK(r)),velocity:qK(r,.1)}}function WK(e){return e[0]}function N_(e){return e[e.length-1]}function qK(e,r){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const n=N_(e);for(;s>=0&&(a=e[s],!(n.timestamp-a.timestamp>Gc(r)));)s--;if(!a)return{x:0,y:0};const i=Cl(n.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const l={x:(n.x-a.x)/i,y:(n.y-a.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Tn(e){return e.max-e.min}function pj(e,r=0,s=.01){return Math.abs(e-r)<=s}function qk(e,r,s,a=.5){e.origin=a,e.originPoint=Xr(r.min,r.max,e.origin),e.scale=Tn(s)/Tn(r),(pj(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Xr(s.min,s.max,e.origin)-e.originPoint,(pj(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Bh(e,r,s,a){qk(e.x,r.x,s.x,a?a.originX:void 0),qk(e.y,r.y,s.y,a?a.originY:void 0)}function Gk(e,r,s){e.min=s.min+r.min,e.max=e.min+Tn(r)}function GK(e,r,s){Gk(e.x,r.x,s.x),Gk(e.y,r.y,s.y)}function Kk(e,r,s){e.min=r.min-s.min,e.max=e.min+Tn(r)}function $h(e,r,s){Kk(e.x,r.x,s.x),Kk(e.y,r.y,s.y)}function KK(e,{min:r,max:s},a){return r!==void 0&&e<r?e=a?Xr(r,e,a.min):Math.max(e,r):s!==void 0&&e>s&&(e=a?Xr(s,e,a.max):Math.min(e,s)),e}function Yk(e,r,s){return{min:r!==void 0?e.min+r:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function YK(e,{top:r,left:s,bottom:a,right:n}){return{x:Yk(e.x,s,n),y:Yk(e.y,r,a)}}function Xk(e,r){let s=r.min-e.min,a=r.max-e.max;return r.max-r.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function XK(e,r){return{x:Xk(e.x,r.x),y:Xk(e.y,r.y)}}function JK(e,r){let s=.5;const a=Tn(e),n=Tn(r);return n>a?s=g0(r.min,r.max-a,e.min):a>n&&(s=g0(e.min,e.max-n,r.min)),Zo(0,1,s)}function QK(e,r){const s={};return r.min!==void 0&&(s.min=r.min-e.min),r.max!==void 0&&(s.max=r.max-e.min),s}const fj=.35;function ZK(e=fj){return e===!1?e=0:e===!0&&(e=fj),{x:Jk(e,"left","right"),y:Jk(e,"top","bottom")}}function Jk(e,r,s){return{min:Qk(e,r),max:Qk(e,s)}}function Qk(e,r){return typeof e=="number"?e:e[r]||0}const Zk=()=>({translate:0,scale:1,origin:0,originPoint:0}),bu=()=>({x:Zk(),y:Zk()}),eC=()=>({min:0,max:0}),Ss=()=>({x:eC(),y:eC()});function Gn(e){return[e("x"),e("y")]}function S_({top:e,left:r,right:s,bottom:a}){return{x:{min:r,max:s},y:{min:e,max:a}}}function eY({x:e,y:r}){return{top:r.min,right:e.max,bottom:r.max,left:e.min}}function tY(e,r){if(!r)return e;const s=r({x:e.left,y:e.top}),a=r({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function n1(e){return e===void 0||e===1}function gj({scale:e,scaleX:r,scaleY:s}){return!n1(e)||!n1(r)||!n1(s)}function kc(e){return gj(e)||k_(e)||e.z||e.rotate||e.rotateX||e.rotateY}function k_(e){return tC(e.x)||tC(e.y)}function tC(e){return e&&e!=="0%"}function Wf(e,r,s){const a=e-s,n=r*a;return s+n}function rC(e,r,s,a,n){return n!==void 0&&(e=Wf(e,n,a)),Wf(e,s,a)+r}function yj(e,r=0,s=1,a,n){e.min=rC(e.min,r,s,a,n),e.max=rC(e.max,r,s,a,n)}function C_(e,{x:r,y:s}){yj(e.x,r.translate,r.scale,r.originPoint),yj(e.y,s.translate,s.scale,s.originPoint)}function rY(e,r,s,a=!1){const n=s.length;if(!n)return;r.x=r.y=1;let i,l;for(let o=0;o<n;o++){i=s[o],l=i.projectionDelta;const d=i.instance;d&&d.style&&d.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&vu(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(r.x*=l.x.scale,r.y*=l.y.scale,C_(e,l)),a&&kc(i.latestValues)&&vu(e,i.latestValues))}r.x=sC(r.x),r.y=sC(r.y)}function sC(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ko(e,r){e.min=e.min+r,e.max=e.max+r}function aC(e,r,[s,a,n]){const i=r[n]!==void 0?r[n]:.5,l=Xr(e.min,e.max,i);yj(e,r[s],r[a],l,r.scale)}const sY=["x","scaleX","originX"],aY=["y","scaleY","originY"];function vu(e,r){aC(e.x,r,sY),aC(e.y,r,aY)}function P_(e,r){return S_(tY(e.getBoundingClientRect(),r))}function nY(e,r,s){const a=P_(e,s),{scroll:n}=r;return n&&(ko(a.x,n.offset.x),ko(a.y,n.offset.y)),a}const A_=({current:e})=>e?e.ownerDocument.defaultView:null,iY=new WeakMap;class lY{constructor(r){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ss(),this.visualElement=r}start(r,{snapToCursor:s=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const n=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Hy(u,"page").point)},i=(u,m)=>{const{drag:x,dragPropagation:h,onDragStart:p}=this.getProps();if(x&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=zO(x),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gn(b=>{let j=this.getAxisMotionValue(b).get()||0;if(Zi.test(j)){const{projection:w}=this.visualElement;if(w&&w.layout){const y=w.layout.layoutBox[b];y&&(j=Tn(y)*(parseFloat(j)/100))}}this.originPoint[b]=j}),p&&Ir.update(()=>p(u,m),!1,!0);const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},l=(u,m)=>{const{dragPropagation:x,dragDirectionLock:h,onDirectionLock:p,onDrag:f}=this.getProps();if(!x&&!this.openGlobalLock)return;const{offset:b}=m;if(h&&this.currentDirection===null){this.currentDirection=oY(b),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),f&&f(u,m)},o=(u,m)=>this.stop(u,m),d=()=>Gn(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new w_(r,{onSessionStart:n,onStart:i,onMove:l,onSessionEnd:o,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:A_(this.visualElement)})}stop(r,s){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:n}=s;this.startAnimation(n);const{onDragEnd:i}=this.getProps();i&&Ir.update(()=>i(r,s))}cancel(){this.isDragging=!1;const{projection:r,animationState:s}=this.visualElement;r&&(r.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(r,s,a){const{drag:n}=this.getProps();if(!a||!cp(r,n,this.currentDirection))return;const i=this.getAxisMotionValue(r);let l=this.originPoint[r]+a[r];this.constraints&&this.constraints[r]&&(l=KK(l,this.constraints[r],this.elastic[r])),i.set(l)}resolveConstraints(){var r;const{dragConstraints:s,dragElastic:a}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)===null||r===void 0?void 0:r.layout,i=this.constraints;s&&gu(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&n?this.constraints=YK(n.layoutBox,s):this.constraints=!1,this.elastic=ZK(a),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Gn(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=QK(n.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:r,onMeasureDragConstraints:s}=this.getProps();if(!r||!gu(r))return!1;const a=r.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=nY(a,n.root,this.visualElement.getTransformPagePoint());let l=XK(n.layout.layoutBox,i);if(s){const o=s(eY(l));this.hasMutatedConstraints=!!o,o&&(l=S_(o))}return l}startAnimation(r){const{drag:s,dragMomentum:a,dragElastic:n,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:o}=this.getProps(),d=this.constraints||{},c=Gn(u=>{if(!cp(u,s,this.currentDirection))return;let m=d&&d[u]||{};l&&(m={min:0,max:0});const x=n?200:1e6,h=n?40:1e7,p={type:"inertia",velocity:a?r[u]:0,bounceStiffness:x,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(o)}startAxisValueAnimation(r,s){const a=this.getAxisMotionValue(r);return a.start(ZN(r,a,0,s))}stopAnimation(){Gn(r=>this.getAxisMotionValue(r).stop())}pauseAnimation(){Gn(r=>{var s;return(s=this.getAxisMotionValue(r).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(r){var s;return(s=this.getAxisMotionValue(r).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(r){const s="_drag"+r.toUpperCase(),a=this.visualElement.getProps(),n=a[s];return n||this.visualElement.getValue(r,(a.initial?a.initial[r]:void 0)||0)}snapToCursor(r){Gn(s=>{const{drag:a}=this.getProps();if(!cp(s,a,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(s);if(n&&n.layout){const{min:l,max:o}=n.layout.layoutBox[s];i.set(r[s]-Xr(l,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:r,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!gu(s)||!a||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Gn(l=>{const o=this.getAxisMotionValue(l);if(o){const d=o.get();n[l]=JK({min:d,max:d},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Gn(l=>{if(!cp(l,r,null))return;const o=this.getAxisMotionValue(l),{min:d,max:c}=this.constraints[l];o.set(Xr(d,c,n[l]))})}addListeners(){if(!this.visualElement.current)return;iY.set(this.visualElement,this);const r=this.visualElement.current,s=kl(r,"pointerdown",d=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(d)}),a=()=>{const{dragConstraints:d}=this.getProps();gu(d)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",a);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),a();const l=jl(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",({delta:d,hasLayoutChanged:c})=>{this.isDragging&&c&&(Gn(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=d[u].translate,m.set(m.get()+d[u].translate))}),this.visualElement.render())});return()=>{l(),s(),i(),o&&o()}}getProps(){const r=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:l=fj,dragMomentum:o=!0}=r;return{...r,drag:s,dragDirectionLock:a,dragPropagation:n,dragConstraints:i,dragElastic:l,dragMomentum:o}}}function cp(e,r,s){return(r===!0||r===e)&&(s===null||s===e)}function oY(e,r=10){let s=null;return Math.abs(e.y)>r?s="y":Math.abs(e.x)>r&&(s="x"),s}class cY extends hc{constructor(r){super(r),this.removeGroupControls=ps,this.removeListeners=ps,this.controls=new lY(r)}mount(){const{dragControls:r}=this.node.getProps();r&&(this.removeGroupControls=r.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ps}unmount(){this.removeGroupControls(),this.removeListeners()}}const nC=e=>(r,s)=>{e&&Ir.update(()=>e(r,s))};class dY extends hc{constructor(){super(...arguments),this.removePointerDownListener=ps}onPointerDown(r){this.session=new w_(r,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:A_(this.node)})}createPanHandlers(){const{onPanSessionStart:r,onPanStart:s,onPan:a,onPanEnd:n}=this.node.getProps();return{onSessionStart:nC(r),onStart:nC(s),onMove:a,onEnd:(i,l)=>{delete this.session,n&&Ir.update(()=>n(i,l))}}}mount(){this.removePointerDownListener=kl(this.node.current,"pointerdown",r=>this.onPointerDown(r))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function uY(){const e=g.useContext(Ry);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:a}=e,n=g.useId();return g.useEffect(()=>a(n),[]),!r&&s?[!1,()=>s&&s(n)]:[!0]}const tf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function iC(e,r){return r.max===r.min?0:e/(r.max-r.min)*100}const rh={correct:(e,r)=>{if(!r.target)return e;if(typeof e=="string")if(Mt.test(e))e=parseFloat(e);else return e;const s=iC(e,r.target.x),a=iC(e,r.target.y);return`${s}% ${a}%`}},mY={correct:(e,{treeScale:r,projectionDelta:s})=>{const a=e,n=ec.parse(e);if(n.length>5)return a;const i=ec.createTransformer(e),l=typeof n[0]!="number"?1:0,o=s.x.scale*r.x,d=s.y.scale*r.y;n[0+l]/=o,n[1+l]/=d;const c=Xr(o,d,.5);return typeof n[2+l]=="number"&&(n[2+l]/=c),typeof n[3+l]=="number"&&(n[3+l]/=c),i(n)}};class hY extends _t.Component{componentDidMount(){const{visualElement:r,layoutGroup:s,switchLayoutGroup:a,layoutId:n}=this.props,{projection:i}=r;vq(xY),i&&(s.group&&s.group.add(i),a&&a.register&&n&&a.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),tf.hasEverUpdated=!0}getSnapshotBeforeUpdate(r){const{layoutDependency:s,visualElement:a,drag:n,isPresent:i}=this.props,l=a.projection;return l&&(l.isPresent=i,n||r.layoutDependency!==s||s===void 0?l.willUpdate():this.safeToRemove(),r.isPresent!==i&&(i?l.promote():l.relegate()||Ir.postRender(()=>{const o=l.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:r}=this.props.visualElement;r&&(r.root.didUpdate(),queueMicrotask(()=>{!r.currentAnimation&&r.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:r,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:n}=r;n&&(n.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(n),a&&a.deregister&&a.deregister(n))}safeToRemove(){const{safeToRemove:r}=this.props;r&&r()}render(){return null}}function T_(e){const[r,s]=uY(),a=g.useContext(BN);return _t.createElement(hY,{...e,layoutGroup:a,switchLayoutGroup:g.useContext(SO),isPresent:r,safeToRemove:s})}const xY={borderRadius:{...rh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rh,borderTopRightRadius:rh,borderBottomLeftRadius:rh,borderBottomRightRadius:rh,boxShadow:mY},E_=["TopLeft","TopRight","BottomLeft","BottomRight"],pY=E_.length,lC=e=>typeof e=="string"?parseFloat(e):e,oC=e=>typeof e=="number"||Mt.test(e);function fY(e,r,s,a,n,i){n?(e.opacity=Xr(0,s.opacity!==void 0?s.opacity:1,gY(a)),e.opacityExit=Xr(r.opacity!==void 0?r.opacity:1,0,yY(a))):i&&(e.opacity=Xr(r.opacity!==void 0?r.opacity:1,s.opacity!==void 0?s.opacity:1,a));for(let l=0;l<pY;l++){const o=`border${E_[l]}Radius`;let d=cC(r,o),c=cC(s,o);if(d===void 0&&c===void 0)continue;d||(d=0),c||(c=0),d===0||c===0||oC(d)===oC(c)?(e[o]=Math.max(Xr(lC(d),lC(c),a),0),(Zi.test(c)||Zi.test(d))&&(e[o]+="%")):e[o]=c}(r.rotate||s.rotate)&&(e.rotate=Xr(r.rotate||0,s.rotate||0,a))}function cC(e,r){return e[r]!==void 0?e[r]:e.borderRadius}const gY=I_(0,.5,ZO),yY=I_(.5,.95,ps);function I_(e,r,s){return a=>a<e?0:a>r?1:s(g0(e,r,a))}function dC(e,r){e.min=r.min,e.max=r.max}function Rn(e,r){dC(e.x,r.x),dC(e.y,r.y)}function uC(e,r,s,a,n){return e-=r,e=Wf(e,1/s,a),n!==void 0&&(e=Wf(e,1/n,a)),e}function bY(e,r=0,s=1,a=.5,n,i=e,l=e){if(Zi.test(r)&&(r=parseFloat(r),r=Xr(l.min,l.max,r/100)-l.min),typeof r!="number")return;let o=Xr(i.min,i.max,a);e===i&&(o-=r),e.min=uC(e.min,r,s,o,n),e.max=uC(e.max,r,s,o,n)}function mC(e,r,[s,a,n],i,l){bY(e,r[s],r[a],r[n],r.scale,i,l)}const vY=["x","scaleX","originX"],jY=["y","scaleY","originY"];function hC(e,r,s,a){mC(e.x,r,vY,s?s.x:void 0,a?a.x:void 0),mC(e.y,r,jY,s?s.y:void 0,a?a.y:void 0)}function xC(e){return e.translate===0&&e.scale===1}function O_(e){return xC(e.x)&&xC(e.y)}function wY(e,r){return e.x.min===r.x.min&&e.x.max===r.x.max&&e.y.min===r.y.min&&e.y.max===r.y.max}function __(e,r){return Math.round(e.x.min)===Math.round(r.x.min)&&Math.round(e.x.max)===Math.round(r.x.max)&&Math.round(e.y.min)===Math.round(r.y.min)&&Math.round(e.y.max)===Math.round(r.y.max)}function pC(e){return Tn(e.x)/Tn(e.y)}class NY{constructor(){this.members=[]}add(r){e4(this.members,r),r.scheduleRender()}remove(r){if(t4(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(r){const s=this.members.findIndex(n=>r===n);if(s===0)return!1;let a;for(let n=s;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(r,s){const a=this.lead;if(r!==a&&(this.prevLead=a,this.lead=r,r.show(),a)){a.instance&&a.scheduleRender(),r.scheduleRender(),r.resumeFrom=a,s&&(r.resumeFrom.preserveOpacity=!0),a.snapshot&&(r.snapshot=a.snapshot,r.snapshot.latestValues=a.animationValues||a.latestValues),r.root&&r.root.isUpdating&&(r.isLayoutDirty=!0);const{crossfade:n}=r.options;n===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(r=>{const{options:s,resumingFrom:a}=r;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(r=>{r.instance&&r.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fC(e,r,s){let a="";const n=e.x.translate/r.x,i=e.y.translate/r.y;if((n||i)&&(a=`translate3d(${n}px, ${i}px, 0) `),(r.x!==1||r.y!==1)&&(a+=`scale(${1/r.x}, ${1/r.y}) `),s){const{rotate:d,rotateX:c,rotateY:u}=s;d&&(a+=`rotate(${d}deg) `),c&&(a+=`rotateX(${c}deg) `),u&&(a+=`rotateY(${u}deg) `)}const l=e.x.scale*r.x,o=e.y.scale*r.y;return(l!==1||o!==1)&&(a+=`scale(${l}, ${o})`),a||"none"}const SY=(e,r)=>e.depth-r.depth;class kY{constructor(){this.children=[],this.isDirty=!1}add(r){e4(this.children,r),this.isDirty=!0}remove(r){t4(this.children,r),this.isDirty=!0}forEach(r){this.isDirty&&this.children.sort(SY),this.isDirty=!1,this.children.forEach(r)}}function CY(e,r){const s=performance.now(),a=({timestamp:n})=>{const i=n-s;i>=r&&(zl(a),e(i-r))};return Ir.read(a,!0),()=>zl(a)}function PY(e){window.MotionDebug&&window.MotionDebug.record(e)}function AY(e){return e instanceof SVGElement&&e.tagName!=="svg"}function TY(e,r,s){const a=tn(e)?e:em(e);return a.start(ZN("",a,r,s)),a.animation}const gC=["","X","Y","Z"],EY={visibility:"hidden"},yC=1e3;let IY=0;const Cc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function M_({attachResizeListener:e,defaultParent:r,measureScroll:s,checkIsScrollRoot:a,resetTransform:n}){return class{constructor(l={},o=r==null?void 0:r()){this.id=IY++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Cc.totalNodes=Cc.resolvedTargetDeltas=Cc.recalculatedProjection=0,this.nodes.forEach(MY),this.nodes.forEach(BY),this.nodes.forEach($Y),this.nodes.forEach(DY),PY(Cc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new kY)}addEventListener(l,o){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new r4),this.eventHandlers.get(l).add(o)}notifyListeners(l,...o){const d=this.eventHandlers.get(l);d&&d.notify(...o)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=AY(l),this.instance=l;const{layoutId:d,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||d)&&(this.isLayoutDirty=!0),e){let m;const x=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=CY(x,250),tf.hasAnimatedSinceResize&&(tf.hasAnimatedSinceResize=!1,this.nodes.forEach(vC))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&u&&(d||c)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:x,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const f=this.options.transition||u.getDefaultTransition()||WY,{onLayoutAnimationStart:b,onLayoutAnimationComplete:j}=u.getProps(),w=!this.targetLayout||!__(this.targetLayout,p)||h,y=!x&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||x&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,y);const v={...QN(f,"layout"),onPlay:b,onComplete:j};(u.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else x||vC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zY),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:d}=this.options;if(o===void 0&&!d)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bC);return}this.isUpdating||this.nodes.forEach(FY),this.isUpdating=!1,this.nodes.forEach(RY),this.nodes.forEach(OY),this.nodes.forEach(_Y),this.clearAllSnapshots();const o=performance.now();ha.delta=Zo(0,1e3/60,o-ha.timestamp),ha.timestamp=o,ha.isProcessing=!0,Yv.update.process(ha),Yv.preRender.process(ha),Yv.render.process(ha),ha.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(LY),this.sharedNodes.forEach(UY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ir.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ir.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ss(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:a(this.instance),offset:s(this.instance)})}resetTransform(){if(!n)return;const l=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!O_(this.projectionDelta),d=this.getTransformTemplate(),c=d?d(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;l&&(o||kc(this.latestValues)||u)&&(n(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const o=this.measurePageBox();let d=this.removeElementScroll(o);return l&&(d=this.removeTransform(d)),qY(d),{animationId:this.root.animationId,measuredBox:o,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Ss();const o=l.measureViewportBox(),{scroll:d}=this.root;return d&&(ko(o.x,d.offset.x),ko(o.y,d.offset.y)),o}removeElementScroll(l){const o=Ss();Rn(o,l);for(let d=0;d<this.path.length;d++){const c=this.path[d],{scroll:u,options:m}=c;if(c!==this.root&&u&&m.layoutScroll){if(u.isRoot){Rn(o,l);const{scroll:x}=this.root;x&&(ko(o.x,-x.offset.x),ko(o.y,-x.offset.y))}ko(o.x,u.offset.x),ko(o.y,u.offset.y)}}return o}applyTransform(l,o=!1){const d=Ss();Rn(d,l);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&vu(d,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),kc(u.latestValues)&&vu(d,u.latestValues)}return kc(this.latestValues)&&vu(d,this.latestValues),d}removeTransform(l){const o=Ss();Rn(o,l);for(let d=0;d<this.path.length;d++){const c=this.path[d];if(!c.instance||!kc(c.latestValues))continue;gj(c.latestValues)&&c.updateSnapshot();const u=Ss(),m=c.measurePageBox();Rn(u,m),hC(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return kc(this.latestValues)&&hC(o,this.latestValues),o}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ha.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var o;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==d;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:x}=this.options;if(!(!this.layout||!(m||x))){if(this.resolvedRelativeTargetAt=ha.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ss(),this.relativeTargetOrigin=Ss(),$h(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ss(),this.targetWithTransforms=Ss()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rn(this.target,this.layout.layoutBox),C_(this.target,this.targetDelta)):Rn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ss(),this.relativeTargetOrigin=Ss(),$h(this.relativeTargetOrigin,this.target,h.target),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Cc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gj(this.parent.latestValues)||k_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const o=this.getLead(),d=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(c=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ha.timestamp&&(c=!1),c)return;const{layout:u,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||m))return;Rn(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,h=this.treeScale.y;rY(this.layoutCorrected,this.treeScale,this.path,d),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=bu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=bu(),this.projectionDeltaWithTransform=bu());const f=this.projectionTransform;Bh(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=fC(this.projectionDelta,this.treeScale),(this.projectionTransform!==f||this.treeScale.x!==x||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Cc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,o=!1){const d=this.snapshot,c=d?d.latestValues:{},u={...this.latestValues},m=bu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const x=Ss(),h=d?d.source:void 0,p=this.layout?this.layout.source:void 0,f=h!==p,b=this.getStack(),j=!b||b.members.length<=1,w=!!(f&&!j&&this.options.crossfade===!0&&!this.path.some(VY));this.animationProgress=0;let y;this.mixTargetDelta=v=>{const N=v/1e3;jC(m.x,l.x,N),jC(m.y,l.y,N),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($h(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HY(this.relativeTarget,this.relativeTargetOrigin,x,N),y&&wY(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Ss()),Rn(y,this.relativeTarget)),f&&(this.animationValues=u,fY(u,c,this.latestValues,N,w,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ir.update(()=>{tf.hasAnimatedSinceResize=!0,this.currentAnimation=TY(0,yC,{...l,onUpdate:o=>{this.mixTargetDelta(o),l.onUpdate&&l.onUpdate(o)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:o,target:d,layout:c,latestValues:u}=l;if(!(!o||!d||!c)){if(this!==l&&this.layout&&c&&D_(this.options.animationType,this.layout.layoutBox,c.layoutBox)){d=this.target||Ss();const m=Tn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+m;const x=Tn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}Rn(o,d),vu(o,u),Bh(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(l,o){this.sharedNodes.has(l)||this.sharedNodes.set(l,new NY),this.sharedNodes.get(l).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:o,preserveFollowOpacity:d}={}){const c=this.getStack();c&&c.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let o=!1;const{latestValues:d}=l;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(o=!0),!o)return;const c={};for(let u=0;u<gC.length;u++){const m="rotate"+gC[u];d[m]&&(c[m]=d[m],l.setStaticValue(m,0))}l.render();for(const u in c)l.setStaticValue(u,c[u]);l.scheduleRender()}getProjectionStyles(l){var o,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return EY;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ef(l==null?void 0:l.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const f={};return this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=ef(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!kc(this.latestValues)&&(f.transform=u?u({},""):"none",this.hasProjected=!1),f}const x=m.animationValues||m.latestValues;this.applyTransformsToTarget(),c.transform=fC(this.projectionDeltaWithTransform,this.treeScale,x),u&&(c.transform=u(x,c.transform));const{x:h,y:p}=this.projectionDelta;c.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,m.animationValues?c.opacity=m===this?(d=(o=x.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:c.opacity=m===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const f in Rf){if(x[f]===void 0)continue;const{correct:b,applyTo:j}=Rf[f],w=c.transform==="none"?x[f]:b(x[f],m);if(j){const y=j.length;for(let v=0;v<y;v++)c[j[v]]=w}else c[f]=w}return this.options.layoutId&&(c.pointerEvents=m===this?ef(l==null?void 0:l.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var o;return(o=l.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(bC),this.root.sharedNodes.clear()}}}function OY(e){e.updateLayout()}function _Y(e){var r;const s=((r=e.resumeFrom)===null||r===void 0?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:n}=e.layout,{animationType:i}=e.options,l=s.source!==e.layout.source;i==="size"?Gn(m=>{const x=l?s.measuredBox[m]:s.layoutBox[m],h=Tn(x);x.min=a[m].min,x.max=x.min+h}):D_(i,s.layoutBox,a)&&Gn(m=>{const x=l?s.measuredBox[m]:s.layoutBox[m],h=Tn(a[m]);x.max=x.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+h)});const o=bu();Bh(o,a,s.layoutBox);const d=bu();l?Bh(d,e.applyTransform(n,!0),s.measuredBox):Bh(d,a,s.layoutBox);const c=!O_(o);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:x,layout:h}=m;if(x&&h){const p=Ss();$h(p,s.layoutBox,x.layoutBox);const f=Ss();$h(f,a,h.layoutBox),__(p,f)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=f,e.relativeTargetOrigin=p,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:d,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function MY(e){Cc.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function DY(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function LY(e){e.clearSnapshot()}function bC(e){e.clearMeasurements()}function FY(e){e.isLayoutDirty=!1}function RY(e){const{visualElement:r}=e.options;r&&r.getProps().onBeforeLayoutMeasure&&r.notify("BeforeLayoutMeasure"),e.resetTransform()}function vC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function BY(e){e.resolveTargetDelta()}function $Y(e){e.calcProjection()}function zY(e){e.resetRotation()}function UY(e){e.removeLeadSnapshot()}function jC(e,r,s){e.translate=Xr(r.translate,0,s),e.scale=Xr(r.scale,1,s),e.origin=r.origin,e.originPoint=r.originPoint}function wC(e,r,s,a){e.min=Xr(r.min,s.min,a),e.max=Xr(r.max,s.max,a)}function HY(e,r,s,a){wC(e.x,r.x,s.x,a),wC(e.y,r.y,s.y,a)}function VY(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const WY={duration:.45,ease:[.4,0,.1,1]},NC=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),SC=NC("applewebkit/")&&!NC("chrome/")?Math.round:ps;function kC(e){e.min=SC(e.min),e.max=SC(e.max)}function qY(e){kC(e.x),kC(e.y)}function D_(e,r,s){return e==="position"||e==="preserve-aspect"&&!pj(pC(r),pC(s),.2)}const GY=M_({attachResizeListener:(e,r)=>jl(e,"resize",r),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),i1={current:void 0},L_=M_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!i1.current){const e=new GY({});e.mount(window),e.setOptions({layoutScroll:!0}),i1.current=e}return i1.current},resetTransform:(e,r)=>{e.style.transform=r!==void 0?r:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),KY={pan:{Feature:dY},drag:{Feature:cY,ProjectionNode:L_,MeasureLayout:T_}},YY=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function XY(e){const r=YY.exec(e);if(!r)return[,];const[,s,a]=r;return[s,a]}function bj(e,r,s=1){const[a,n]=XY(e);if(!a)return;const i=window.getComputedStyle(r).getPropertyValue(a);if(i){const l=i.trim();return y_(l)?parseFloat(l):l}else return oj(n)?bj(n,r,s+1):n}function JY(e,{...r},s){const a=e.current;if(!(a instanceof Element))return{target:r,transitionEnd:s};s&&(s={...s}),e.values.forEach(n=>{const i=n.get();if(!oj(i))return;const l=bj(i,a);l&&n.set(l)});for(const n in r){const i=r[n];if(!oj(i))continue;const l=bj(i,a);l&&(r[n]=l,s||(s={}),s[n]===void 0&&(s[n]=i))}return{target:r,transitionEnd:s}}const QY=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),F_=e=>QY.has(e),ZY=e=>Object.keys(e).some(F_),CC=e=>e===_d||e===Mt,PC=(e,r)=>parseFloat(e.split(", ")[r]),AC=(e,r)=>(s,{transform:a})=>{if(a==="none"||!a)return 0;const n=a.match(/^matrix3d\((.+)\)$/);if(n)return PC(n[1],r);{const i=a.match(/^matrix\((.+)\)$/);return i?PC(i[1],e):0}},eX=new Set(["x","y","z"]),tX=Q0.filter(e=>!eX.has(e));function rX(e){const r=[];return tX.forEach(s=>{const a=e.getValue(s);a!==void 0&&(r.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),r.length&&e.render(),r}const tm={width:({x:e},{paddingLeft:r="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(r)-parseFloat(s),height:({y:e},{paddingTop:r="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(r)-parseFloat(s),top:(e,{top:r})=>parseFloat(r),left:(e,{left:r})=>parseFloat(r),bottom:({y:e},{top:r})=>parseFloat(r)+(e.max-e.min),right:({x:e},{left:r})=>parseFloat(r)+(e.max-e.min),x:AC(4,13),y:AC(5,14)};tm.translateX=tm.x;tm.translateY=tm.y;const sX=(e,r,s)=>{const a=r.measureViewportBox(),n=r.current,i=getComputedStyle(n),{display:l}=i,o={};l==="none"&&r.setStaticValue("display",e.display||"block"),s.forEach(c=>{o[c]=tm[c](a,i)}),r.render();const d=r.measureViewportBox();return s.forEach(c=>{const u=r.getValue(c);u&&u.jump(o[c]),e[c]=tm[c](d,i)}),e},aX=(e,r,s={},a={})=>{r={...r},a={...a};const n=Object.keys(r).filter(F_);let i=[],l=!1;const o=[];if(n.forEach(d=>{const c=e.getValue(d);if(!e.hasValue(d))return;let u=s[d],m=th(u);const x=r[d];let h;if($f(x)){const p=x.length,f=x[0]===null?1:0;u=x[f],m=th(u);for(let b=f;b<p&&x[b]!==null;b++)h?GN(th(x[b])===h):h=th(x[b])}else h=th(x);if(m!==h)if(CC(m)&&CC(h)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof x=="string"?r[d]=parseFloat(x):Array.isArray(x)&&h===Mt&&(r[d]=x.map(parseFloat))}else m!=null&&m.transform&&(h!=null&&h.transform)&&(u===0||x===0)?u===0?c.set(h.transform(u)):r[d]=m.transform(x):(l||(i=rX(e),l=!0),o.push(d),a[d]=a[d]!==void 0?a[d]:r[d],c.jump(x))}),o.length){const d=o.indexOf("height")>=0?window.pageYOffset:null,c=sX(r,e,o);return i.length&&i.forEach(([u,m])=>{e.getValue(u).set(m)}),e.render(),By&&d!==null&&window.scrollTo({top:d}),{target:c,transitionEnd:a}}else return{target:r,transitionEnd:a}};function nX(e,r,s,a){return ZY(r)?aX(e,r,s,a):{target:r,transitionEnd:a}}const iX=(e,r,s,a)=>{const n=JY(e,r,a);return r=n.target,a=n.transitionEnd,nX(e,r,s,a)},vj={current:null},R_={current:!1};function lX(){if(R_.current=!0,!!By)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),r=()=>vj.current=e.matches;e.addListener(r),r()}else vj.current=!1}function oX(e,r,s){const{willChange:a}=r;for(const n in r){const i=r[n],l=s[n];if(tn(i))e.addValue(n,i),Vf(a)&&a.add(n);else if(tn(l))e.addValue(n,em(i,{owner:e})),Vf(a)&&a.remove(n);else if(l!==i)if(e.hasValue(n)){const o=e.getValue(n);!o.hasAnimated&&o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,em(o!==void 0?o:i,{owner:e}))}}for(const n in s)r[n]===void 0&&e.removeValue(n);return r}const TC=new WeakMap,B_=Object.keys(f0),cX=B_.length,EC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],dX=RN.length;class uX{constructor({parent:r,props:s,presenceContext:a,reducedMotionConfig:n,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ir.render(this.render,!1,!0);const{latestValues:o,renderState:d}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=s.initial?{...o}:{},this.renderState=d,this.parent=r,this.props=s,this.presenceContext=a,this.depth=r?r.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.isControllingVariants=zy(s),this.isVariantNode=NO(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(r&&r.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(s,{});for(const m in u){const x=u[m];o[m]!==void 0&&tn(x)&&(x.set(o[m],!1),Vf(c)&&c.add(m))}}scrapeMotionValuesFromProps(r,s){return{}}mount(r){this.current=r,TC.set(r,this),this.projection&&!this.projection.instance&&this.projection.mount(r),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),R_.current||lX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vj.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){TC.delete(this.current),this.projection&&this.projection.unmount(),zl(this.notifyUpdate),zl(this.render),this.valueSubscriptions.forEach(r=>r()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const r in this.events)this.events[r].clear();for(const r in this.features)this.features[r].unmount();this.current=null}bindToMotionValue(r,s){const a=Od.has(r),n=s.on("change",l=>{this.latestValues[r]=l,this.props.onUpdate&&Ir.update(this.notifyUpdate,!1,!0),a&&this.projection&&(this.projection.isTransformDirty=!0)}),i=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(r,()=>{n(),i()})}sortNodePosition(r){return!this.current||!this.sortInstanceNodePosition||this.type!==r.type?0:this.sortInstanceNodePosition(this.current,r.current)}loadFeatures({children:r,...s},a,n,i){let l,o;for(let d=0;d<cX;d++){const c=B_[d],{isEnabled:u,Feature:m,ProjectionNode:x,MeasureLayout:h}=f0[c];x&&(l=x),u(s)&&(!this.features[c]&&m&&(this.features[c]=new m(this)),h&&(o=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:c,drag:u,dragConstraints:m,layoutScroll:x,layoutRoot:h}=s;this.projection.setOptions({layoutId:d,layout:c,alwaysMeasureLayout:!!u||m&&gu(m),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:x,layoutRoot:h})}return o}updateFeatures(){for(const r in this.features){const s=this.features[r];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ss()}getStaticValue(r){return this.latestValues[r]}setStaticValue(r,s){this.latestValues[r]=s}makeTargetAnimatable(r,s=!0){return this.makeTargetAnimatableFromInstance(r,this.props,s)}update(r,s){(r.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=r,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<EC.length;a++){const n=EC[a];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i=r["on"+n];i&&(this.propEventSubscriptions[n]=this.on(n,i))}this.prevMotionValues=oX(this,this.scrapeMotionValuesFromProps(r,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(r){return this.props.variants?this.props.variants[r]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(r=!1){if(r)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const a=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(a.initial=this.props.initial),a}const s={};for(let a=0;a<dX;a++){const n=RN[a],i=this.props[n];(p0(i)||i===!1)&&(s[n]=i)}return s}addVariantChild(r){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(r),()=>s.variantChildren.delete(r)}addValue(r,s){s!==this.values.get(r)&&(this.removeValue(r),this.bindToMotionValue(r,s)),this.values.set(r,s),this.latestValues[r]=s.get()}removeValue(r){this.values.delete(r);const s=this.valueSubscriptions.get(r);s&&(s(),this.valueSubscriptions.delete(r)),delete this.latestValues[r],this.removeValueFromRenderState(r,this.renderState)}hasValue(r){return this.values.has(r)}getValue(r,s){if(this.props.values&&this.props.values[r])return this.props.values[r];let a=this.values.get(r);return a===void 0&&s!==void 0&&(a=em(s,{owner:this}),this.addValue(r,a)),a}readValue(r){var s;return this.latestValues[r]!==void 0||!this.current?this.latestValues[r]:(s=this.getBaseTargetFromProps(this.props,r))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,r,this.options)}setBaseTarget(r,s){this.baseTarget[r]=s}getBaseTarget(r){var s;const{initial:a}=this.props,n=typeof a=="string"||typeof a=="object"?(s=qN(this.props,a))===null||s===void 0?void 0:s[r]:void 0;if(a&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,r);return i!==void 0&&!tn(i)?i:this.initialValues[r]!==void 0&&n===void 0?void 0:this.baseTarget[r]}on(r,s){return this.events[r]||(this.events[r]=new r4),this.events[r].add(s)}notify(r,...s){this.events[r]&&this.events[r].notify(...s)}}class $_ extends uX{sortInstanceNodePosition(r,s){return r.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(r,s){return r.style?r.style[s]:void 0}removeValueFromRenderState(r,{vars:s,style:a}){delete s[r],delete a[r]}makeTargetAnimatableFromInstance({transition:r,transitionEnd:s,...a},{transformValues:n},i){let l=AK(a,r||{},this);if(n&&(s&&(s=n(s)),a&&(a=n(a)),l&&(l=n(l))),i){CK(this,a,l);const o=iX(this,a,l,s);s=o.transitionEnd,a=o.target}return{transition:r,transitionEnd:s,...a}}}function mX(e){return window.getComputedStyle(e)}class hX extends $_{constructor(){super(...arguments),this.type="html"}readValueFromInstance(r,s){if(Od.has(s)){const a=JN(s);return a&&a.default||0}else{const a=mX(r),n=(PO(s)?a.getPropertyValue(s):a[s])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(r,{transformPagePoint:s}){return P_(r,s)}build(r,s,a,n){zN(r,s,a,n.transformTemplate)}scrapeMotionValuesFromProps(r,s){return WN(r,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:r}=this.props;tn(r)&&(this.childSubscription=r.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(r,s,a,n){_O(r,s,a,n)}}class xX extends $_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(r,s){return r[s]}readValueFromInstance(r,s){if(Od.has(s)){const a=JN(s);return a&&a.default||0}return s=MO.has(s)?s:LN(s),r.getAttribute(s)}measureInstanceViewportBox(){return Ss()}scrapeMotionValuesFromProps(r,s){return LO(r,s)}build(r,s,a,n){HN(r,s,a,this.isSVGTag,n.transformTemplate)}renderInstance(r,s,a,n){DO(r,s,a,n)}mount(r){this.isSVGTag=VN(r.tagName),super.mount(r)}}const pX=(e,r)=>$N(e)?new xX(r,{enableHardwareAcceleration:!1}):new hX(r,{enableHardwareAcceleration:!0}),fX={layout:{ProjectionNode:L_,MeasureLayout:T_}},gX={...HK,...cG,...KY,...fX},E=yq((e,r)=>Xq(e,r,gX,pX));function z_(){const e=g.useRef(!1);return DN(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function yX(){const e=z_(),[r,s]=g.useState(0),a=g.useCallback(()=>{e.current&&s(r+1)},[r]);return[g.useCallback(()=>Ir.postRender(a),[a]),r]}class bX extends g.Component{getSnapshotBeforeUpdate(r){const s=this.props.childRef.current;if(s&&r.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function vX({children:e,isPresent:r}){const s=g.useId(),a=g.useRef(null),n=g.useRef({width:0,height:0,top:0,left:0});return g.useInsertionEffect(()=>{const{width:i,height:l,top:o,left:d}=n.current;if(r||!a.current||!i||!l)return;a.current.dataset.motionPopId=s;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${l}px !important;
            top: ${o}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[r]),g.createElement(bX,{isPresent:r,childRef:a,sizeRef:n},g.cloneElement(e,{ref:a}))}const l1=({children:e,initial:r,isPresent:s,onExitComplete:a,custom:n,presenceAffectsLayout:i,mode:l})=>{const o=FO(jX),d=g.useId(),c=g.useMemo(()=>({id:d,initial:r,isPresent:s,custom:n,onExitComplete:u=>{o.set(u,!0);for(const m of o.values())if(!m)return;a&&a()},register:u=>(o.set(u,!1),()=>o.delete(u))}),i?void 0:[s]);return g.useMemo(()=>{o.forEach((u,m)=>o.set(m,!1))},[s]),g.useEffect(()=>{!s&&!o.size&&a&&a()},[s]),l==="popLayout"&&(e=g.createElement(vX,{isPresent:s},e)),g.createElement(Ry.Provider,{value:c},e)};function jX(){return new Map}function wX(e){return g.useEffect(()=>()=>e(),[])}const Pc=e=>e.key||"";function NX(e,r){e.forEach(s=>{const a=Pc(s);r.set(a,s)})}function SX(e){const r=[];return g.Children.forEach(e,s=>{g.isValidElement(s)&&r.push(s)}),r}const Pl=({children:e,custom:r,initial:s=!0,onExitComplete:a,exitBeforeEnter:n,presenceAffectsLayout:i=!0,mode:l="sync"})=>{const o=g.useContext(BN).forceRender||yX()[0],d=z_(),c=SX(e);let u=c;const m=g.useRef(new Map).current,x=g.useRef(u),h=g.useRef(new Map).current,p=g.useRef(!0);if(DN(()=>{p.current=!1,NX(c,h),x.current=u}),wX(()=>{p.current=!0,h.clear(),m.clear()}),p.current)return g.createElement(g.Fragment,null,u.map(w=>g.createElement(l1,{key:Pc(w),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:i,mode:l},w)));u=[...u];const f=x.current.map(Pc),b=c.map(Pc),j=f.length;for(let w=0;w<j;w++){const y=f[w];b.indexOf(y)===-1&&!m.has(y)&&m.set(y,void 0)}return l==="wait"&&m.size&&(u=[]),m.forEach((w,y)=>{if(b.indexOf(y)!==-1)return;const v=h.get(y);if(!v)return;const N=f.indexOf(y);let S=w;if(!S){const k=()=>{m.delete(y);const P=Array.from(h.keys()).filter(C=>!b.includes(C));if(P.forEach(C=>h.delete(C)),x.current=c.filter(C=>{const _=Pc(C);return _===y||P.includes(_)}),!m.size){if(d.current===!1)return;o(),a&&a()}};S=g.createElement(l1,{key:Pc(v),isPresent:!1,onExitComplete:k,custom:r,presenceAffectsLayout:i,mode:l},v),m.set(y,S)}u.splice(N,0,S)}),u=u.map(w=>{const y=w.key;return m.has(y)?w:g.createElement(l1,{key:Pc(w),isPresent:!0,presenceAffectsLayout:i,mode:l},w)}),g.createElement(g.Fragment,null,m.size?u:u.map(w=>g.cloneElement(w)))};var U_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IC=_t.createContext&&_t.createContext(U_),kX=["attr","size","title"];function CX(e,r){if(e==null)return{};var s=PX(e,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function PX(e,r){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;s[a]=e[a]}return s}function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},qf.apply(this,arguments)}function OC(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Gf(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?OC(Object(s),!0).forEach(function(a){AX(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):OC(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function AX(e,r,s){return r=TX(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function TX(e){var r=EX(e,"string");return typeof r=="symbol"?r:r+""}function EX(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function H_(e){return e&&e.map((r,s)=>_t.createElement(r.tag,Gf({key:s},r.attr),H_(r.child)))}function ke(e){return r=>_t.createElement(IX,qf({attr:Gf({},e.attr)},r),H_(e.child))}function IX(e){var r=s=>{var{attr:a,size:n,title:i}=e,l=CX(e,kX),o=n||s.size||"1em",d;return s.className&&(d=s.className),e.className&&(d=(d?d+" ":"")+e.className),_t.createElement("svg",qf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,a,l,{className:d,style:Gf(Gf({color:e.color||s.color},s.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&_t.createElement("title",null,i),e.children)};return IC!==void 0?_t.createElement(IC.Consumer,null,s=>r(s)):r(U_)}function OX(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function _X(e){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function MX(e){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function DX(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function vr(e){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function jj(e){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function Hn(e){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function jo(e){return ke({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(e)}function LX(e){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function FX(e){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function Al(e){return ke({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(e)}function RX(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(e)}function rm(e){return ke({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M256.47 216.77l86.73 109.18s-16.6 102.36-76.57 150.12C206.66 523.85 0 510.19 0 510.19s3.8-23.14 11-55.43l94.62-112.17c3.97-4.7-.87-11.62-6.65-9.5l-60.4 22.09c14.44-41.66 32.72-80.04 54.6-97.47 59.97-47.76 163.3-40.94 163.3-40.94zM636.53 31.03l-19.86-25c-5.49-6.9-15.52-8.05-22.41-2.56l-232.48 177.8-34.14-42.97c-5.09-6.41-15.14-5.21-18.59 2.21l-25.33 54.55 86.73 109.18 58.8-12.45c8-1.69 11.42-11.2 6.34-17.6l-34.09-42.92 232.48-177.8c6.89-5.48 8.04-15.53 2.55-22.44z"},child:[]}]})(e)}function Mo(e){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function BX(e){return ke({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(e)}function $X(e){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function dp(e){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function _C(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function V_(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function He(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function zX(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function W_(e){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function MC(e){return ke({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function UX(e){return ke({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M616 192H480V24c0-13.26-10.74-24-24-24H312c-13.26 0-24 10.74-24 24v72h-64V16c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v80h-64V16c0-8.84-7.16-16-16-16H80c-8.84 0-16 7.16-16 16v80H24c-13.26 0-24 10.74-24 24v360c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V216c0-13.26-10.75-24-24-24zM128 404c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm128 192c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12V76c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 288c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40z"},child:[]}]})(e)}function ai(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function HX(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function Wy(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(e)}function VX(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M510.37 254.79l-12.08-76.26a132.493 132.493 0 0 0-37.16-72.95l-54.76-54.75c-19.73-19.72-45.18-32.7-72.71-37.05l-76.7-12.15c-27.51-4.36-55.69.11-80.52 12.76L107.32 49.6a132.25 132.25 0 0 0-57.79 57.8l-35.1 68.88a132.602 132.602 0 0 0-12.82 80.94l12.08 76.27a132.493 132.493 0 0 0 37.16 72.95l54.76 54.75a132.087 132.087 0 0 0 72.71 37.05l76.7 12.14c27.51 4.36 55.69-.11 80.52-12.75l69.12-35.21a132.302 132.302 0 0 0 57.79-57.8l35.1-68.87c12.71-24.96 17.2-53.3 12.82-80.96zM176 368c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm32-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm160 128c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function _i(e){return ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(e)}function WX(e){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(e)}function qX(e){return ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function q_(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function dd(e){return ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function wj(e){return ke({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function rx(e){return ke({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(e)}function ud(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function G_(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504.971 199.362l-22.627-22.627c-9.373-9.373-24.569-9.373-33.941 0l-5.657 5.657L329.608 69.255l5.657-5.657c9.373-9.373 9.373-24.569 0-33.941L312.638 7.029c-9.373-9.373-24.569-9.373-33.941 0L154.246 131.48c-9.373 9.373-9.373 24.569 0 33.941l22.627 22.627c9.373 9.373 24.569 9.373 33.941 0l5.657-5.657 39.598 39.598-81.04 81.04-5.657-5.657c-12.497-12.497-32.758-12.497-45.255 0L9.373 412.118c-12.497 12.497-12.497 32.758 0 45.255l45.255 45.255c12.497 12.497 32.758 12.497 45.255 0l114.745-114.745c12.497-12.497 12.497-32.758 0-45.255l-5.657-5.657 81.04-81.04 39.598 39.598-5.657 5.657c-9.373 9.373-9.373 24.569 0 33.941l22.627 22.627c9.373 9.373 24.569 9.373 33.941 0l124.451-124.451c9.372-9.372 9.372-24.568 0-33.941z"},child:[]}]})(e)}function GX(e){return ke({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(e)}function sm(e){return ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M571.31 193.94l-22.63-22.63c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31-28.9-28.9c5.63-21.31.36-44.9-16.35-61.61l-45.25-45.25c-62.48-62.48-163.79-62.48-226.28 0l90.51 45.25v18.75c0 16.97 6.74 33.25 18.75 45.25l49.14 49.14c16.71 16.71 40.3 21.98 61.61 16.35l28.9 28.9-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63l22.63 22.63c6.25 6.25 16.38 6.25 22.63 0l90.51-90.51c6.23-6.24 6.23-16.37-.02-22.62zm-286.72-15.2c-3.7-3.7-6.84-7.79-9.85-11.95L19.64 404.96c-25.57 23.88-26.26 64.19-1.53 88.93s65.05 24.05 88.93-1.53l238.13-255.07c-3.96-2.91-7.9-5.87-11.44-9.41l-49.14-49.14z"},child:[]}]})(e)}function KX(e){return ke({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function YX(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(e)}function Kf(e){return ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function XX(e){return ke({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"},child:[]}]})(e)}function JX(e){return ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(e)}function rf(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function QX(e){return ke({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function ZX(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.52 3.52L28.74 195.42c-47.97 22.39-31.98 92.75 19.19 92.75h175.91v175.91c0 51.17 70.36 67.17 92.75 19.19l191.9-415.78c15.99-38.39-25.59-79.97-63.97-63.97z"},child:[]}]})(e)}function s4(e){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function Ul(e){return ke({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function eJ(e){return ke({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M112 316.94v156.69l22.02 33.02c4.75 7.12 15.22 7.12 19.97 0L176 473.63V316.94c-10.39 1.92-21.06 3.06-32 3.06s-21.61-1.14-32-3.06zM144 0C64.47 0 0 64.47 0 144s64.47 144 144 144 144-64.47 144-144S223.53 0 144 0zm0 76c-37.5 0-68 30.5-68 68 0 6.62-5.38 12-12 12s-12-5.38-12-12c0-50.73 41.28-92 92-92 6.62 0 12 5.38 12 12s-5.38 12-12 12z"},child:[]}]})(e)}function Bn(e){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function qy(e){return ke({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(e)}function tJ(e){return ke({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function am(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 128V32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v96c0 17.67 14.33 32 32 32h352c17.67 0 32-14.33 32-32zm32-64v128c0 17.67-14.33 32-32 32H256c-35.35 0-64 28.65-64 64v32c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32v-32h160c53.02 0 96-42.98 96-96v-64c0-35.35-28.65-64-64-64z"},child:[]}]})(e)}function rJ(e){return ke({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M109.25 173.25c24.99-24.99 24.99-65.52 0-90.51-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 25 25 65.52 25 90.51 0zm256 165.49c-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 24.99 24.99 65.52 24.99 90.51 0 25-24.99 25-65.51 0-90.51zm-1.94-231.43l-22.62-22.62c-12.5-12.5-32.76-12.5-45.25 0L20.69 359.44c-12.5 12.5-12.5 32.76 0 45.25l22.62 22.62c12.5 12.5 32.76 12.5 45.25 0l274.75-274.75c12.5-12.49 12.5-32.75 0-45.25z"},child:[]}]})(e)}function a4(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Gy(e){return ke({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M320,32a32,32,0,0,0-64,0v96h64Zm48,128H16A16,16,0,0,0,0,176v32a16,16,0,0,0,16,16H32v32A160.07,160.07,0,0,0,160,412.8V512h64V412.8A160.07,160.07,0,0,0,352,256V224h16a16,16,0,0,0,16-16V176A16,16,0,0,0,368,160ZM128,32a32,32,0,0,0-64,0v96h64Z"},child:[]}]})(e)}function us(e){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function sJ(e){return ke({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M358.4 3.2L320 48 265.6 3.2a15.9 15.9 0 0 0-19.2 0L192 48 137.6 3.2a15.9 15.9 0 0 0-19.2 0L64 48 25.6 3.2C15-4.7 0 2.8 0 16v480c0 13.2 15 20.7 25.6 12.8L64 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L192 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L320 464l38.4 44.8c10.5 7.9 25.6.4 25.6-12.8V16c0-13.2-15-20.7-25.6-12.8zM320 360c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function aJ(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(e)}function Md(e){return ke({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"},child:[]}]})(e)}function nJ(e){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(e)}function tc(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function Vn(e){return ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function DC(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function nm(e){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M440.3 345.2l-33.8-19.5 26-7c8.2-2.2 13.1-10.7 10.9-18.9l-4-14.9c-2.2-8.2-10.7-13.1-18.9-10.9l-70.8 19-63.9-37 63.8-36.9 70.8 19c8.2 2.2 16.7-2.7 18.9-10.9l4-14.9c2.2-8.2-2.7-16.7-10.9-18.9l-26-7 33.8-19.5c7.4-4.3 9.9-13.7 5.7-21.1L430.4 119c-4.3-7.4-13.7-9.9-21.1-5.7l-33.8 19.5 7-26c2.2-8.2-2.7-16.7-10.9-18.9l-14.9-4c-8.2-2.2-16.7 2.7-18.9 10.9l-19 70.8-62.8 36.2v-77.5l53.7-53.7c6.2-6.2 6.2-16.4 0-22.6l-11.3-11.3c-6.2-6.2-16.4-6.2-22.6 0L256 56.4V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v40.4l-19.7-19.7c-6.2-6.2-16.4-6.2-22.6 0L138.3 48c-6.3 6.2-6.3 16.4 0 22.6l53.7 53.7v77.5l-62.8-36.2-19-70.8c-2.2-8.2-10.7-13.1-18.9-10.9l-14.9 4c-8.2 2.2-13.1 10.7-10.9 18.9l7 26-33.8-19.5c-7.4-4.3-16.8-1.7-21.1 5.7L2.1 145.7c-4.3 7.4-1.7 16.8 5.7 21.1l33.8 19.5-26 7c-8.3 2.2-13.2 10.7-11 19l4 14.9c2.2 8.2 10.7 13.1 18.9 10.9l70.8-19 63.8 36.9-63.8 36.9-70.8-19c-8.2-2.2-16.7 2.7-18.9 10.9l-4 14.9c-2.2 8.2 2.7 16.7 10.9 18.9l26 7-33.8 19.6c-7.4 4.3-9.9 13.7-5.7 21.1l15.5 26.8c4.3 7.4 13.7 9.9 21.1 5.7l33.8-19.5-7 26c-2.2 8.2 2.7 16.7 10.9 18.9l14.9 4c8.2 2.2 16.7-2.7 18.9-10.9l19-70.8 62.8-36.2v77.5l-53.7 53.7c-6.3 6.2-6.3 16.4 0 22.6l11.3 11.3c6.2 6.2 16.4 6.2 22.6 0l19.7-19.7V496c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-40.4l19.7 19.7c6.2 6.2 16.4 6.2 22.6 0l11.3-11.3c6.2-6.2 6.2-16.4 0-22.6L256 387.7v-77.5l62.8 36.2 19 70.8c2.2 8.2 10.7 13.1 18.9 10.9l14.9-4c8.2-2.2 13.1-10.7 10.9-18.9l-7-26 33.8 19.5c7.4 4.3 16.8 1.7 21.1-5.7l15.5-26.8c4.3-7.3 1.8-16.8-5.6-21z"},child:[]}]})(e)}function ns(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function vc(e){return ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function iJ(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(e)}function LC(e){return ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function Kt(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function Hl(e){return ke({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function im(e){return ke({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M205.22 22.09c-7.94-28.78-49.44-30.12-58.44 0C100.01 179.85 0 222.72 0 333.91 0 432.35 78.72 512 176 512s176-79.65 176-178.09c0-111.75-99.79-153.34-146.78-311.82zM176 448c-61.75 0-112-50.25-112-112 0-8.84 7.16-16 16-16s16 7.16 16 16c0 44.11 35.89 80 80 80 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function lJ(e){return ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"},child:[]}]})(e)}function oJ(e){return ke({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"},child:[]}]})(e)}function cJ(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.63 214.63l-45.25-45.25c-6-6-14.14-9.37-22.63-9.37H384V80c0-26.51-21.49-48-48-48H176c-26.51 0-48 21.49-48 48v80H77.25c-8.49 0-16.62 3.37-22.63 9.37L9.37 214.63c-6 6-9.37 14.14-9.37 22.63V320h128v-16c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v16h128v-16c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v16h128v-82.75c0-8.48-3.37-16.62-9.37-22.62zM320 160H192V96h128v64zm64 208c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-16H192v16c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-16H0v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96H384v16z"},child:[]}]})(e)}function ya(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(e)}function dJ(e){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function o1(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function qa(e){return ke({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(e)}function K_(e){return ke({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function Rc(e){return ke({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function FC(e){return ke({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function lm(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function sx(e){return ke({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}const uJ=({isOpen:e,onClose:r})=>(g.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),g.useEffect(()=>{if(!e)return;const s=a=>{a.key==="Escape"&&e&&(a.preventDefault(),a.stopPropagation(),r&&r())};return document.addEventListener("keydown",s,!0),()=>{document.removeEventListener("keydown",s,!0)}},[e,r]),t.jsx(Pl,{children:e&&t.jsxs(t.Fragment,{children:[t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:s=>{s.preventDefault(),s.stopPropagation(),r&&r()},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[10000] cursor-pointer"}),t.jsx("div",{className:"fixed inset-0 z-[10001] flex items-center justify-center p-4 pointer-events-none",children:t.jsxs(E.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",stiffness:300,damping:30},onClick:s=>s.stopPropagation(),onMouseDown:s=>s.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl max-w-md w-full pointer-events-auto relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#25D366] via-[#20BA5A] to-[#128C7E] opacity-10"}),[...Array(6)].map((s,a)=>t.jsx(E.div,{className:"absolute rounded-full bg-[#25D366]/20 pointer-events-none",style:{width:`${20+a*10}px`,height:`${20+a*10}px`,left:`${10+a*15}%`,top:`${10+a*12}%`},animate:{y:[0,-30,0],x:[0,20,0],scale:[1,1.2,1],opacity:[.2,.4,.2]},transition:{duration:3+a*.5,repeat:1/0,ease:"easeInOut",delay:a*.3}},a)),t.jsx("button",{type:"button",onClick:s=>{s.preventDefault(),s.stopPropagation(),r&&r()},onMouseDown:s=>{s.preventDefault(),s.stopPropagation()},className:"absolute top-4 right-4 z-[100] w-10 h-10 rounded-full bg-white hover:bg-gray-50 shadow-lg flex items-center justify-center transition-all duration-200 hover:scale-110 active:scale-95 group cursor-pointer border border-gray-200","aria-label":"Close dialog",title:"Close",style:{pointerEvents:"auto"},children:t.jsx(Hl,{className:"w-5 h-5 text-gray-700 group-hover:text-gray-900 transition-colors"})}),t.jsxs("div",{className:"relative z-10 p-8 sm:p-10",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-[#25D366] to-[#128C7E] flex items-center justify-center shadow-xl",children:t.jsx(E.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:t.jsx(aJ,{className:"w-12 h-12 text-white"})})}),t.jsx(E.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl sm:text-4xl font-bold text-center mb-3 bg-gradient-to-r from-[#25D366] to-[#128C7E] bg-clip-text text-transparent",children:"Coming Soon!"}),t.jsx(E.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-gray-600 text-center mb-6 text-lg",children:"WhatsApp integration is under development"}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-[#25D366]/10 to-[#128C7E]/10 rounded-2xl p-6 mb-6 border border-[#25D366]/20",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-[#25D366]/20 flex items-center justify-center",children:t.jsx(ai,{className:"w-6 h-6 text-[#128C7E]"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"We're working on it!"}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Our team is building an amazing WhatsApp experience for you. Stay tuned for updates and be the first to know when it's ready!"})]})]})}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-3 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-[#25D366] flex-shrink-0"}),t.jsx("span",{className:"text-sm",children:"Instant booking via WhatsApp"})]}),t.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-[#25D366] flex-shrink-0"}),t.jsx("span",{className:"text-sm",children:"Real-time service updates"})]}),t.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-[#25D366] flex-shrink-0"}),t.jsx("span",{className:"text-sm",children:"24/7 customer support"})]})]}),t.jsxs(E.button,{type:"button",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},onClick:s=>{s.preventDefault(),s.stopPropagation(),r&&r()},className:"w-full bg-gradient-to-r from-[#25D366] to-[#128C7E] text-white py-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2 hover:scale-105 active:scale-95 cursor-pointer",children:[t.jsx(FX,{className:"w-5 h-5"}),t.jsx("span",{children:"I'll be notified"})]}),t.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center text-xs text-gray-500 mt-4",children:"For now, please contact us through other channels"})]})]})})]})})),Y_=g.createContext(),n4=()=>{const e=g.useContext(Y_);if(!e)throw new Error("useComingSoon must be used within ComingSoonProvider");return e},mJ=({children:e})=>{const[r,s]=g.useState(!1),a=()=>s(!0),n=()=>s(!1);return t.jsxs(Y_.Provider,{value:{openDialog:a,closeDialog:n},children:[e,t.jsx(uJ,{isOpen:r,onClose:n})]})},hJ=()=>{const{pathname:e,hash:r}=zr();return g.useEffect(()=>{if(r){const s=document.getElementById(r.substring(1));if(s){setTimeout(()=>{s.scrollIntoView({behavior:"smooth",block:"start"})},100);return}}window.scrollTo({top:0,left:0,behavior:"smooth"})},[e,r]),null},Ln=({title:e="Nexo - Connect. Work. Grow. | Home Services on WhatsApp",description:r="Fast, reliable and affordable home services from verified experts. Book AC, electrical, plumbing, cleaning, and 200+ services on WhatsApp. Response under 2 minutes.",keywords:s="home services, AC service, electrical work, plumbing, cleaning services, WhatsApp booking, verified technicians, home maintenance",image:a="/logo.png",url:n="",type:i="website"})=>{const l=e.includes("Nexo")?e:`${e} | Nexo`,o="https://nexo.works",d=n?`${o}${n}`:o,c=a.startsWith("http")?a:`${o}${a}`;return t.jsxs(aW,{children:[t.jsx("title",{children:l}),t.jsx("meta",{name:"title",content:l}),t.jsx("meta",{name:"description",content:r}),t.jsx("meta",{name:"keywords",content:s}),t.jsx("meta",{name:"author",content:"Nexo"}),t.jsx("meta",{name:"robots",content:"index, follow"}),t.jsx("meta",{name:"language",content:"English"}),t.jsx("meta",{name:"revisit-after",content:"7 days"}),t.jsx("meta",{property:"og:type",content:i}),t.jsx("meta",{property:"og:url",content:d}),t.jsx("meta",{property:"og:title",content:l}),t.jsx("meta",{property:"og:description",content:r}),t.jsx("meta",{property:"og:image",content:c}),t.jsx("meta",{property:"og:image:width",content:"1200"}),t.jsx("meta",{property:"og:image:height",content:"630"}),t.jsx("meta",{property:"og:image:type",content:"image/png"}),t.jsx("meta",{property:"og:site_name",content:"Nexo"}),t.jsx("meta",{property:"og:locale",content:"en_IN"}),t.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),t.jsx("meta",{name:"twitter:url",content:d}),t.jsx("meta",{name:"twitter:title",content:l}),t.jsx("meta",{name:"twitter:description",content:r}),t.jsx("meta",{name:"twitter:image",content:c}),t.jsx("meta",{name:"twitter:site",content:"@nexo"}),t.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),t.jsx("meta",{name:"theme-color",content:"#214A73"}),t.jsx("link",{rel:"canonical",href:d}),t.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Service",name:"Nexo Home Services",description:r,url:d,logo:`${o}/logo.png`,contactPoint:{"@type":"ContactPoint",telephone:"+91-9590926068",contactType:"Customer Service",availableLanguage:["English","Hindi"]},areaServed:{"@type":"Country",name:"India"},serviceType:"Home Services",provider:{"@type":"Organization",name:"Nexo",url:o}})})]})};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pJ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,a)=>a?a.toUpperCase():s.toLowerCase()),RC=e=>{const r=pJ(e);return r.charAt(0).toUpperCase()+r.slice(1)},X_=(...e)=>e.filter((r,s,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===s).join(" ").trim(),fJ=e=>{for(const r in e)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=g.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:l,...o},d)=>g.createElement("svg",{ref:d,...gJ,width:r,height:r,stroke:e,strokeWidth:a?Number(s)*24/Number(r):s,className:X_("lucide",n),...!i&&!fJ(o)&&{"aria-hidden":"true"},...o},[...l.map(([c,u])=>g.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=(e,r)=>{const s=g.forwardRef(({className:a,...n},i)=>g.createElement(yJ,{ref:i,iconNode:r,className:X_(`lucide-${xJ(RC(e))}`,`lucide-${e}`,a),...n}));return s.displayName=RC(e),s};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vJ=i4("check",bJ);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],BC=i4("map-pin",jJ);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],NJ=i4("x",wJ);function J_(e,r){return function(){return e.apply(r,arguments)}}const{toString:SJ}=Object.prototype,{getPrototypeOf:l4}=Object,{iterator:Ky,toStringTag:Q_}=Symbol,Yy=(e=>r=>{const s=SJ.call(r);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Mi=e=>(e=e.toLowerCase(),r=>Yy(r)===e),Xy=e=>r=>typeof r===e,{isArray:Nm}=Array,om=Xy("undefined");function ax(e){return e!==null&&!om(e)&&e.constructor!==null&&!om(e.constructor)&&Qa(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Z_=Mi("ArrayBuffer");function kJ(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&Z_(e.buffer),r}const CJ=Xy("string"),Qa=Xy("function"),eM=Xy("number"),nx=e=>e!==null&&typeof e=="object",PJ=e=>e===!0||e===!1,sf=e=>{if(Yy(e)!=="object")return!1;const r=l4(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Q_ in e)&&!(Ky in e)},AJ=e=>{if(!nx(e)||ax(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},TJ=Mi("Date"),EJ=Mi("File"),IJ=Mi("Blob"),OJ=Mi("FileList"),_J=e=>nx(e)&&Qa(e.pipe),MJ=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||Qa(e.append)&&((r=Yy(e))==="formdata"||r==="object"&&Qa(e.toString)&&e.toString()==="[object FormData]"))},DJ=Mi("URLSearchParams"),[LJ,FJ,RJ,BJ]=["ReadableStream","Request","Response","Headers"].map(Mi),$J=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ix(e,r,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),Nm(e))for(a=0,n=e.length;a<n;a++)r.call(null,e[a],a,e);else{if(ax(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(a=0;a<l;a++)o=i[a],r.call(null,e[o],o,e)}}function tM(e,r){if(ax(e))return null;r=r.toLowerCase();const s=Object.keys(e);let a=s.length,n;for(;a-- >0;)if(n=s[a],r===n.toLowerCase())return n;return null}const Bc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rM=e=>!om(e)&&e!==Bc;function Nj(){const{caseless:e,skipUndefined:r}=rM(this)&&this||{},s={},a=(n,i)=>{const l=e&&tM(s,i)||i;sf(s[l])&&sf(n)?s[l]=Nj(s[l],n):sf(n)?s[l]=Nj({},n):Nm(n)?s[l]=n.slice():(!r||!om(n))&&(s[l]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ix(arguments[n],a);return s}const zJ=(e,r,s,{allOwnKeys:a}={})=>(ix(r,(n,i)=>{s&&Qa(n)?e[i]=J_(n,s):e[i]=n},{allOwnKeys:a}),e),UJ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),HJ=(e,r,s,a)=>{e.prototype=Object.create(r.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),s&&Object.assign(e.prototype,s)},VJ=(e,r,s,a)=>{let n,i,l;const o={};if(r=r||{},e==null)return r;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)l=n[i],(!a||a(l,e,r))&&!o[l]&&(r[l]=e[l],o[l]=!0);e=s!==!1&&l4(e)}while(e&&(!s||s(e,r))&&e!==Object.prototype);return r},WJ=(e,r,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=r.length;const a=e.indexOf(r,s);return a!==-1&&a===s},qJ=e=>{if(!e)return null;if(Nm(e))return e;let r=e.length;if(!eM(r))return null;const s=new Array(r);for(;r-- >0;)s[r]=e[r];return s},GJ=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&l4(Uint8Array)),KJ=(e,r)=>{const a=(e&&e[Ky]).call(e);let n;for(;(n=a.next())&&!n.done;){const i=n.value;r.call(e,i[0],i[1])}},YJ=(e,r)=>{let s;const a=[];for(;(s=e.exec(r))!==null;)a.push(s);return a},XJ=Mi("HTMLFormElement"),JJ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,n){return a.toUpperCase()+n}),$C=(({hasOwnProperty:e})=>(r,s)=>e.call(r,s))(Object.prototype),QJ=Mi("RegExp"),sM=(e,r)=>{const s=Object.getOwnPropertyDescriptors(e),a={};ix(s,(n,i)=>{let l;(l=r(n,i,e))!==!1&&(a[i]=l||n)}),Object.defineProperties(e,a)},ZJ=e=>{sM(e,(r,s)=>{if(Qa(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(Qa(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},eQ=(e,r)=>{const s={},a=n=>{n.forEach(i=>{s[i]=!0})};return Nm(e)?a(e):a(String(e).split(r)),s},tQ=()=>{},rQ=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function sQ(e){return!!(e&&Qa(e.append)&&e[Q_]==="FormData"&&e[Ky])}const aQ=e=>{const r=new Array(10),s=(a,n)=>{if(nx(a)){if(r.indexOf(a)>=0)return;if(ax(a))return a;if(!("toJSON"in a)){r[n]=a;const i=Nm(a)?[]:{};return ix(a,(l,o)=>{const d=s(l,n+1);!om(d)&&(i[o]=d)}),r[n]=void 0,i}}return a};return s(e,0)},nQ=Mi("AsyncFunction"),iQ=e=>e&&(nx(e)||Qa(e))&&Qa(e.then)&&Qa(e.catch),aM=((e,r)=>e?setImmediate:r?((s,a)=>(Bc.addEventListener("message",({source:n,data:i})=>{n===Bc&&i===s&&a.length&&a.shift()()},!1),n=>{a.push(n),Bc.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Qa(Bc.postMessage)),lQ=typeof queueMicrotask<"u"?queueMicrotask.bind(Bc):typeof process<"u"&&process.nextTick||aM,oQ=e=>e!=null&&Qa(e[Ky]),Fe={isArray:Nm,isArrayBuffer:Z_,isBuffer:ax,isFormData:MJ,isArrayBufferView:kJ,isString:CJ,isNumber:eM,isBoolean:PJ,isObject:nx,isPlainObject:sf,isEmptyObject:AJ,isReadableStream:LJ,isRequest:FJ,isResponse:RJ,isHeaders:BJ,isUndefined:om,isDate:TJ,isFile:EJ,isBlob:IJ,isRegExp:QJ,isFunction:Qa,isStream:_J,isURLSearchParams:DJ,isTypedArray:GJ,isFileList:OJ,forEach:ix,merge:Nj,extend:zJ,trim:$J,stripBOM:UJ,inherits:HJ,toFlatObject:VJ,kindOf:Yy,kindOfTest:Mi,endsWith:WJ,toArray:qJ,forEachEntry:KJ,matchAll:YJ,isHTMLForm:XJ,hasOwnProperty:$C,hasOwnProp:$C,reduceDescriptors:sM,freezeMethods:ZJ,toObjectSet:eQ,toCamelCase:JJ,noop:tQ,toFiniteNumber:rQ,findKey:tM,global:Bc,isContextDefined:rM,isSpecCompliantForm:sQ,toJSONObject:aQ,isAsyncFn:nQ,isThenable:iQ,setImmediate:aM,asap:lQ,isIterable:oQ};function zt(e,r,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}Fe.inherits(zt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Fe.toJSONObject(this.config),code:this.code,status:this.status}}});const nM=zt.prototype,iM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{iM[e]={value:e}});Object.defineProperties(zt,iM);Object.defineProperty(nM,"isAxiosError",{value:!0});zt.from=(e,r,s,a,n,i)=>{const l=Object.create(nM);Fe.toFlatObject(e,l,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const o=e&&e.message?e.message:"Error",d=r==null&&e?e.code:r;return zt.call(l,o,d,s,a,n),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const cQ=null;function Sj(e){return Fe.isPlainObject(e)||Fe.isArray(e)}function lM(e){return Fe.endsWith(e,"[]")?e.slice(0,-2):e}function zC(e,r,s){return e?e.concat(r).map(function(n,i){return n=lM(n),!s&&i?"["+n+"]":n}).join(s?".":""):r}function dQ(e){return Fe.isArray(e)&&!e.some(Sj)}const uQ=Fe.toFlatObject(Fe,{},null,function(r){return/^is[A-Z]/.test(r)});function Jy(e,r,s){if(!Fe.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,s=Fe.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,b){return!Fe.isUndefined(b[f])});const a=s.metaTokens,n=s.visitor||u,i=s.dots,l=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&Fe.isSpecCompliantForm(r);if(!Fe.isFunction(n))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(Fe.isDate(p))return p.toISOString();if(Fe.isBoolean(p))return p.toString();if(!d&&Fe.isBlob(p))throw new zt("Blob is not supported. Use a Buffer instead.");return Fe.isArrayBuffer(p)||Fe.isTypedArray(p)?d&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,f,b){let j=p;if(p&&!b&&typeof p=="object"){if(Fe.endsWith(f,"{}"))f=a?f:f.slice(0,-2),p=JSON.stringify(p);else if(Fe.isArray(p)&&dQ(p)||(Fe.isFileList(p)||Fe.endsWith(f,"[]"))&&(j=Fe.toArray(p)))return f=lM(f),j.forEach(function(y,v){!(Fe.isUndefined(y)||y===null)&&r.append(l===!0?zC([f],v,i):l===null?f:f+"[]",c(y))}),!1}return Sj(p)?!0:(r.append(zC(b,f,i),c(p)),!1)}const m=[],x=Object.assign(uQ,{defaultVisitor:u,convertValue:c,isVisitable:Sj});function h(p,f){if(!Fe.isUndefined(p)){if(m.indexOf(p)!==-1)throw Error("Circular reference detected in "+f.join("."));m.push(p),Fe.forEach(p,function(j,w){(!(Fe.isUndefined(j)||j===null)&&n.call(r,j,Fe.isString(w)?w.trim():w,f,x))===!0&&h(j,f?f.concat(w):[w])}),m.pop()}}if(!Fe.isObject(e))throw new TypeError("data must be an object");return h(e),r}function UC(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function o4(e,r){this._pairs=[],e&&Jy(e,this,r)}const oM=o4.prototype;oM.append=function(r,s){this._pairs.push([r,s])};oM.toString=function(r){const s=r?function(a){return r.call(this,a,UC)}:UC;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function mQ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function cM(e,r,s){if(!r)return e;const a=s&&s.encode||mQ;Fe.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(r,s):i=Fe.isURLSearchParams(r)?r.toString():new o4(r,s).toString(a),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class HC{constructor(){this.handlers=[]}use(r,s,a){return this.handlers.push({fulfilled:r,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Fe.forEach(this.handlers,function(a){a!==null&&r(a)})}}const dM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hQ=typeof URLSearchParams<"u"?URLSearchParams:o4,xQ=typeof FormData<"u"?FormData:null,pQ=typeof Blob<"u"?Blob:null,fQ={isBrowser:!0,classes:{URLSearchParams:hQ,FormData:xQ,Blob:pQ},protocols:["http","https","file","blob","url","data"]},c4=typeof window<"u"&&typeof document<"u",kj=typeof navigator=="object"&&navigator||void 0,gQ=c4&&(!kj||["ReactNative","NativeScript","NS"].indexOf(kj.product)<0),yQ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bQ=c4&&window.location.href||"http://localhost",vQ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:c4,hasStandardBrowserEnv:gQ,hasStandardBrowserWebWorkerEnv:yQ,navigator:kj,origin:bQ},Symbol.toStringTag,{value:"Module"})),ga={...vQ,...fQ};function jQ(e,r){return Jy(e,new ga.classes.URLSearchParams,{visitor:function(s,a,n,i){return ga.isNode&&Fe.isBuffer(s)?(this.append(a,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function wQ(e){return Fe.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function NQ(e){const r={},s=Object.keys(e);let a;const n=s.length;let i;for(a=0;a<n;a++)i=s[a],r[i]=e[i];return r}function uM(e){function r(s,a,n,i){let l=s[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),d=i>=s.length;return l=!l&&Fe.isArray(n)?n.length:l,d?(Fe.hasOwnProp(n,l)?n[l]=[n[l],a]:n[l]=a,!o):((!n[l]||!Fe.isObject(n[l]))&&(n[l]=[]),r(s,a,n[l],i)&&Fe.isArray(n[l])&&(n[l]=NQ(n[l])),!o)}if(Fe.isFormData(e)&&Fe.isFunction(e.entries)){const s={};return Fe.forEachEntry(e,(a,n)=>{r(wQ(a),n,s,0)}),s}return null}function SQ(e,r,s){if(Fe.isString(e))try{return(r||JSON.parse)(e),Fe.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const lx={transitional:dM,adapter:["xhr","http","fetch"],transformRequest:[function(r,s){const a=s.getContentType()||"",n=a.indexOf("application/json")>-1,i=Fe.isObject(r);if(i&&Fe.isHTMLForm(r)&&(r=new FormData(r)),Fe.isFormData(r))return n?JSON.stringify(uM(r)):r;if(Fe.isArrayBuffer(r)||Fe.isBuffer(r)||Fe.isStream(r)||Fe.isFile(r)||Fe.isBlob(r)||Fe.isReadableStream(r))return r;if(Fe.isArrayBufferView(r))return r.buffer;if(Fe.isURLSearchParams(r))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let o;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return jQ(r,this.formSerializer).toString();if((o=Fe.isFileList(r))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Jy(o?{"files[]":r}:r,d&&new d,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),SQ(r)):r}],transformResponse:[function(r){const s=this.transitional||lx.transitional,a=s&&s.forcedJSONParsing,n=this.responseType==="json";if(Fe.isResponse(r)||Fe.isReadableStream(r))return r;if(r&&Fe.isString(r)&&(a&&!this.responseType||n)){const l=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(r,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?zt.from(o,zt.ERR_BAD_RESPONSE,this,null,this.response):o}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ga.classes.FormData,Blob:ga.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Fe.forEach(["delete","get","head","post","put","patch"],e=>{lx.headers[e]={}});const kQ=Fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),CQ=e=>{const r={};let s,a,n;return e&&e.split(`
`).forEach(function(l){n=l.indexOf(":"),s=l.substring(0,n).trim().toLowerCase(),a=l.substring(n+1).trim(),!(!s||r[s]&&kQ[s])&&(s==="set-cookie"?r[s]?r[s].push(a):r[s]=[a]:r[s]=r[s]?r[s]+", "+a:a)}),r},VC=Symbol("internals");function sh(e){return e&&String(e).trim().toLowerCase()}function af(e){return e===!1||e==null?e:Fe.isArray(e)?e.map(af):String(e)}function PQ(e){const r=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)r[a[1]]=a[2];return r}const AQ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function c1(e,r,s,a,n){if(Fe.isFunction(a))return a.call(this,r,s);if(n&&(r=s),!!Fe.isString(r)){if(Fe.isString(a))return r.indexOf(a)!==-1;if(Fe.isRegExp(a))return a.test(r)}}function TQ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,s,a)=>s.toUpperCase()+a)}function EQ(e,r){const s=Fe.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(n,i,l){return this[a].call(this,r,n,i,l)},configurable:!0})})}let Za=class{constructor(r){r&&this.set(r)}set(r,s,a){const n=this;function i(o,d,c){const u=sh(d);if(!u)throw new Error("header name must be a non-empty string");const m=Fe.findKey(n,u);(!m||n[m]===void 0||c===!0||c===void 0&&n[m]!==!1)&&(n[m||d]=af(o))}const l=(o,d)=>Fe.forEach(o,(c,u)=>i(c,u,d));if(Fe.isPlainObject(r)||r instanceof this.constructor)l(r,s);else if(Fe.isString(r)&&(r=r.trim())&&!AQ(r))l(CQ(r),s);else if(Fe.isObject(r)&&Fe.isIterable(r)){let o={},d,c;for(const u of r){if(!Fe.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(d=o[c])?Fe.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}l(o,s)}else r!=null&&i(s,r,a);return this}get(r,s){if(r=sh(r),r){const a=Fe.findKey(this,r);if(a){const n=this[a];if(!s)return n;if(s===!0)return PQ(n);if(Fe.isFunction(s))return s.call(this,n,a);if(Fe.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,s){if(r=sh(r),r){const a=Fe.findKey(this,r);return!!(a&&this[a]!==void 0&&(!s||c1(this,this[a],a,s)))}return!1}delete(r,s){const a=this;let n=!1;function i(l){if(l=sh(l),l){const o=Fe.findKey(a,l);o&&(!s||c1(a,a[o],o,s))&&(delete a[o],n=!0)}}return Fe.isArray(r)?r.forEach(i):i(r),n}clear(r){const s=Object.keys(this);let a=s.length,n=!1;for(;a--;){const i=s[a];(!r||c1(this,this[i],i,r,!0))&&(delete this[i],n=!0)}return n}normalize(r){const s=this,a={};return Fe.forEach(this,(n,i)=>{const l=Fe.findKey(a,i);if(l){s[l]=af(n),delete s[i];return}const o=r?TQ(i):String(i).trim();o!==i&&delete s[i],s[o]=af(n),a[o]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const s=Object.create(null);return Fe.forEach(this,(a,n)=>{a!=null&&a!==!1&&(s[n]=r&&Fe.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,s])=>r+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...s){const a=new this(r);return s.forEach(n=>a.set(n)),a}static accessor(r){const a=(this[VC]=this[VC]={accessors:{}}).accessors,n=this.prototype;function i(l){const o=sh(l);a[o]||(EQ(n,l),a[o]=!0)}return Fe.isArray(r)?r.forEach(i):i(r),this}};Za.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Fe.reduceDescriptors(Za.prototype,({value:e},r)=>{let s=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(a){this[s]=a}}});Fe.freezeMethods(Za);function d1(e,r){const s=this||lx,a=r||s,n=Za.from(a.headers);let i=a.data;return Fe.forEach(e,function(o){i=o.call(s,i,n.normalize(),r?r.status:void 0)}),n.normalize(),i}function mM(e){return!!(e&&e.__CANCEL__)}function Sm(e,r,s){zt.call(this,e??"canceled",zt.ERR_CANCELED,r,s),this.name="CanceledError"}Fe.inherits(Sm,zt,{__CANCEL__:!0});function hM(e,r,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):r(new zt("Request failed with status code "+s.status,[zt.ERR_BAD_REQUEST,zt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function IQ(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function OQ(e,r){e=e||10;const s=new Array(e),a=new Array(e);let n=0,i=0,l;return r=r!==void 0?r:1e3,function(d){const c=Date.now(),u=a[i];l||(l=c),s[n]=d,a[n]=c;let m=i,x=0;for(;m!==n;)x+=s[m++],m=m%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),c-l<r)return;const h=u&&c-u;return h?Math.round(x*1e3/h):void 0}}function _Q(e,r){let s=0,a=1e3/r,n,i;const l=(c,u=Date.now())=>{s=u,n=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const u=Date.now(),m=u-s;m>=a?l(c,u):(n=c,i||(i=setTimeout(()=>{i=null,l(n)},a-m)))},()=>n&&l(n)]}const Yf=(e,r,s=3)=>{let a=0;const n=OQ(50,250);return _Q(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,d=l-a,c=n(d),u=l<=o;a=l;const m={loaded:l,total:o,progress:o?l/o:void 0,bytes:d,rate:c||void 0,estimated:c&&o&&u?(o-l)/c:void 0,event:i,lengthComputable:o!=null,[r?"download":"upload"]:!0};e(m)},s)},WC=(e,r)=>{const s=e!=null;return[a=>r[0]({lengthComputable:s,total:e,loaded:a}),r[1]]},qC=e=>(...r)=>Fe.asap(()=>e(...r)),MQ=ga.hasStandardBrowserEnv?((e,r)=>s=>(s=new URL(s,ga.origin),e.protocol===s.protocol&&e.host===s.host&&(r||e.port===s.port)))(new URL(ga.origin),ga.navigator&&/(msie|trident)/i.test(ga.navigator.userAgent)):()=>!0,DQ=ga.hasStandardBrowserEnv?{write(e,r,s,a,n,i,l){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(r)}`];Fe.isNumber(s)&&o.push(`expires=${new Date(s).toUTCString()}`),Fe.isString(a)&&o.push(`path=${a}`),Fe.isString(n)&&o.push(`domain=${n}`),i===!0&&o.push("secure"),Fe.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function LQ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function FQ(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function xM(e,r,s){let a=!LQ(r);return e&&(a||s==!1)?FQ(e,r):r}const GC=e=>e instanceof Za?{...e}:e;function md(e,r){r=r||{};const s={};function a(c,u,m,x){return Fe.isPlainObject(c)&&Fe.isPlainObject(u)?Fe.merge.call({caseless:x},c,u):Fe.isPlainObject(u)?Fe.merge({},u):Fe.isArray(u)?u.slice():u}function n(c,u,m,x){if(Fe.isUndefined(u)){if(!Fe.isUndefined(c))return a(void 0,c,m,x)}else return a(c,u,m,x)}function i(c,u){if(!Fe.isUndefined(u))return a(void 0,u)}function l(c,u){if(Fe.isUndefined(u)){if(!Fe.isUndefined(c))return a(void 0,c)}else return a(void 0,u)}function o(c,u,m){if(m in r)return a(c,u);if(m in e)return a(void 0,c)}const d={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(c,u,m)=>n(GC(c),GC(u),m,!0)};return Fe.forEach(Object.keys({...e,...r}),function(u){const m=d[u]||n,x=m(e[u],r[u],u);Fe.isUndefined(x)&&m!==o||(s[u]=x)}),s}const pM=e=>{const r=md({},e);let{data:s,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:o}=r;if(r.headers=l=Za.from(l),r.url=cM(xM(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Fe.isFormData(s)){if(ga.hasStandardBrowserEnv||ga.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Fe.isFunction(s.getHeaders)){const d=s.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([u,m])=>{c.includes(u.toLowerCase())&&l.set(u,m)})}}if(ga.hasStandardBrowserEnv&&(a&&Fe.isFunction(a)&&(a=a(r)),a||a!==!1&&MQ(r.url))){const d=n&&i&&DQ.read(i);d&&l.set(n,d)}return r},RQ=typeof XMLHttpRequest<"u",BQ=RQ&&function(e){return new Promise(function(s,a){const n=pM(e);let i=n.data;const l=Za.from(n.headers).normalize();let{responseType:o,onUploadProgress:d,onDownloadProgress:c}=n,u,m,x,h,p;function f(){h&&h(),p&&p(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(n.method.toUpperCase(),n.url,!0),b.timeout=n.timeout;function j(){if(!b)return;const y=Za.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),N={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:y,config:e,request:b};hM(function(k){s(k),f()},function(k){a(k),f()},N),b=null}"onloadend"in b?b.onloadend=j:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(j)},b.onabort=function(){b&&(a(new zt("Request aborted",zt.ECONNABORTED,e,b)),b=null)},b.onerror=function(v){const N=v&&v.message?v.message:"Network Error",S=new zt(N,zt.ERR_NETWORK,e,b);S.event=v||null,a(S),b=null},b.ontimeout=function(){let v=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const N=n.transitional||dM;n.timeoutErrorMessage&&(v=n.timeoutErrorMessage),a(new zt(v,N.clarifyTimeoutError?zt.ETIMEDOUT:zt.ECONNABORTED,e,b)),b=null},i===void 0&&l.setContentType(null),"setRequestHeader"in b&&Fe.forEach(l.toJSON(),function(v,N){b.setRequestHeader(N,v)}),Fe.isUndefined(n.withCredentials)||(b.withCredentials=!!n.withCredentials),o&&o!=="json"&&(b.responseType=n.responseType),c&&([x,p]=Yf(c,!0),b.addEventListener("progress",x)),d&&b.upload&&([m,h]=Yf(d),b.upload.addEventListener("progress",m),b.upload.addEventListener("loadend",h)),(n.cancelToken||n.signal)&&(u=y=>{b&&(a(!y||y.type?new Sm(null,e,b):y),b.abort(),b=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const w=IQ(n.url);if(w&&ga.protocols.indexOf(w)===-1){a(new zt("Unsupported protocol "+w+":",zt.ERR_BAD_REQUEST,e));return}b.send(i||null)})},$Q=(e,r)=>{const{length:s}=e=e?e.filter(Boolean):[];if(r||s){let a=new AbortController,n;const i=function(c){if(!n){n=!0,o();const u=c instanceof Error?c:this.reason;a.abort(u instanceof zt?u:new Sm(u instanceof Error?u.message:u))}};let l=r&&setTimeout(()=>{l=null,i(new zt(`timeout ${r} of ms exceeded`,zt.ETIMEDOUT))},r);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:d}=a;return d.unsubscribe=()=>Fe.asap(o),d}},zQ=function*(e,r){let s=e.byteLength;if(s<r){yield e;return}let a=0,n;for(;a<s;)n=a+r,yield e.slice(a,n),a=n},UQ=async function*(e,r){for await(const s of HQ(e))yield*zQ(s,r)},HQ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:s,value:a}=await r.read();if(s)break;yield a}}finally{await r.cancel()}},KC=(e,r,s,a)=>{const n=UQ(e,r);let i=0,l,o=d=>{l||(l=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await n.next();if(c){o(),d.close();return}let m=u.byteLength;if(s){let x=i+=m;s(x)}d.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(d){return o(d),n.return()}},{highWaterMark:2})},YC=64*1024,{isFunction:up}=Fe,VQ=(({Request:e,Response:r})=>({Request:e,Response:r}))(Fe.global),{ReadableStream:XC,TextEncoder:JC}=Fe.global,QC=(e,...r)=>{try{return!!e(...r)}catch{return!1}},WQ=e=>{e=Fe.merge.call({skipUndefined:!0},VQ,e);const{fetch:r,Request:s,Response:a}=e,n=r?up(r):typeof fetch=="function",i=up(s),l=up(a);if(!n)return!1;const o=n&&up(XC),d=n&&(typeof JC=="function"?(p=>f=>p.encode(f))(new JC):async p=>new Uint8Array(await new s(p).arrayBuffer())),c=i&&o&&QC(()=>{let p=!1;const f=new s(ga.origin,{body:new XC,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!f}),u=l&&o&&QC(()=>Fe.isReadableStream(new a("").body)),m={stream:u&&(p=>p.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!m[p]&&(m[p]=(f,b)=>{let j=f&&f[p];if(j)return j.call(f);throw new zt(`Response type '${p}' is not supported`,zt.ERR_NOT_SUPPORT,b)})});const x=async p=>{if(p==null)return 0;if(Fe.isBlob(p))return p.size;if(Fe.isSpecCompliantForm(p))return(await new s(ga.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(Fe.isArrayBufferView(p)||Fe.isArrayBuffer(p))return p.byteLength;if(Fe.isURLSearchParams(p)&&(p=p+""),Fe.isString(p))return(await d(p)).byteLength},h=async(p,f)=>{const b=Fe.toFiniteNumber(p.getContentLength());return b??x(f)};return async p=>{let{url:f,method:b,data:j,signal:w,cancelToken:y,timeout:v,onDownloadProgress:N,onUploadProgress:S,responseType:k,headers:P,withCredentials:C="same-origin",fetchOptions:_}=pM(p),A=r||fetch;k=k?(k+"").toLowerCase():"text";let D=$Q([w,y&&y.toAbortSignal()],v),H=null;const re=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let xe;try{if(S&&c&&b!=="get"&&b!=="head"&&(xe=await h(P,j))!==0){let L=new s(f,{method:"POST",body:j,duplex:"half"}),R;if(Fe.isFormData(j)&&(R=L.headers.get("content-type"))&&P.setContentType(R),L.body){const[Z,W]=WC(xe,Yf(qC(S)));j=KC(L.body,YC,Z,W)}}Fe.isString(C)||(C=C?"include":"omit");const we=i&&"credentials"in s.prototype,T={..._,signal:D,method:b.toUpperCase(),headers:P.normalize().toJSON(),body:j,duplex:"half",credentials:we?C:void 0};H=i&&new s(f,T);let z=await(i?A(H,_):A(f,T));const Q=u&&(k==="stream"||k==="response");if(u&&(N||Q&&re)){const L={};["status","statusText","headers"].forEach(ie=>{L[ie]=z[ie]});const R=Fe.toFiniteNumber(z.headers.get("content-length")),[Z,W]=N&&WC(R,Yf(qC(N),!0))||[];z=new a(KC(z.body,YC,Z,()=>{W&&W(),re&&re()}),L)}k=k||"text";let B=await m[Fe.findKey(m,k)||"text"](z,p);return!Q&&re&&re(),await new Promise((L,R)=>{hM(L,R,{data:B,headers:Za.from(z.headers),status:z.status,statusText:z.statusText,config:p,request:H})})}catch(we){throw re&&re(),we&&we.name==="TypeError"&&/Load failed|fetch/i.test(we.message)?Object.assign(new zt("Network Error",zt.ERR_NETWORK,p,H),{cause:we.cause||we}):zt.from(we,we&&we.code,p,H)}}},qQ=new Map,fM=e=>{let r=e&&e.env||{};const{fetch:s,Request:a,Response:n}=r,i=[a,n,s];let l=i.length,o=l,d,c,u=qQ;for(;o--;)d=i[o],c=u.get(d),c===void 0&&u.set(d,c=o?new Map:WQ(r)),u=c;return c};fM();const d4={http:cQ,xhr:BQ,fetch:{get:fM}};Fe.forEach(d4,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const ZC=e=>`- ${e}`,GQ=e=>Fe.isFunction(e)||e===null||e===!1;function KQ(e,r){e=Fe.isArray(e)?e:[e];const{length:s}=e;let a,n;const i={};for(let l=0;l<s;l++){a=e[l];let o;if(n=a,!GQ(a)&&(n=d4[(o=String(a)).toLowerCase()],n===void 0))throw new zt(`Unknown adapter '${o}'`);if(n&&(Fe.isFunction(n)||(n=n.get(r))))break;i[o||"#"+l]=n}if(!n){const l=Object.entries(i).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=s?l.length>1?`since :
`+l.map(ZC).join(`
`):" "+ZC(l[0]):"as no adapter specified";throw new zt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n}const gM={getAdapter:KQ,adapters:d4};function u1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Sm(null,e)}function eP(e){return u1(e),e.headers=Za.from(e.headers),e.data=d1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),gM.getAdapter(e.adapter||lx.adapter,e)(e).then(function(a){return u1(e),a.data=d1.call(e,e.transformResponse,a),a.headers=Za.from(a.headers),a},function(a){return mM(a)||(u1(e),a&&a.response&&(a.response.data=d1.call(e,e.transformResponse,a.response),a.response.headers=Za.from(a.response.headers))),Promise.reject(a)})}const yM="1.13.2",Qy={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{Qy[e]=function(a){return typeof a===e||"a"+(r<1?"n ":" ")+e}});const tP={};Qy.transitional=function(r,s,a){function n(i,l){return"[Axios v"+yM+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,o)=>{if(r===!1)throw new zt(n(l," has been removed"+(s?" in "+s:"")),zt.ERR_DEPRECATED);return s&&!tP[l]&&(tP[l]=!0,console.warn(n(l," has been deprecated since v"+s+" and will be removed in the near future"))),r?r(i,l,o):!0}};Qy.spelling=function(r){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function YQ(e,r,s){if(typeof e!="object")throw new zt("options must be an object",zt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const i=a[n],l=r[i];if(l){const o=e[i],d=o===void 0||l(o,i,e);if(d!==!0)throw new zt("option "+i+" must be "+d,zt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new zt("Unknown option "+i,zt.ERR_BAD_OPTION)}}const nf={assertOptions:YQ,validators:Qy},$i=nf.validators;let Kc=class{constructor(r){this.defaults=r||{},this.interceptors={request:new HC,response:new HC}}async request(r,s){try{return await this._request(r,s)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(r,s){typeof r=="string"?(s=s||{},s.url=r):s=r||{},s=md(this.defaults,s);const{transitional:a,paramsSerializer:n,headers:i}=s;a!==void 0&&nf.assertOptions(a,{silentJSONParsing:$i.transitional($i.boolean),forcedJSONParsing:$i.transitional($i.boolean),clarifyTimeoutError:$i.transitional($i.boolean)},!1),n!=null&&(Fe.isFunction(n)?s.paramsSerializer={serialize:n}:nf.assertOptions(n,{encode:$i.function,serialize:$i.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),nf.assertOptions(s,{baseUrl:$i.spelling("baseURL"),withXsrfToken:$i.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=i&&Fe.merge(i.common,i[s.method]);i&&Fe.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),s.headers=Za.concat(l,i);const o=[];let d=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(s)===!1||(d=d&&f.synchronous,o.unshift(f.fulfilled,f.rejected))});const c=[];this.interceptors.response.forEach(function(f){c.push(f.fulfilled,f.rejected)});let u,m=0,x;if(!d){const p=[eP.bind(this),void 0];for(p.unshift(...o),p.push(...c),x=p.length,u=Promise.resolve(s);m<x;)u=u.then(p[m++],p[m++]);return u}x=o.length;let h=s;for(;m<x;){const p=o[m++],f=o[m++];try{h=p(h)}catch(b){f.call(this,b);break}}try{u=eP.call(this,h)}catch(p){return Promise.reject(p)}for(m=0,x=c.length;m<x;)u=u.then(c[m++],c[m++]);return u}getUri(r){r=md(this.defaults,r);const s=xM(r.baseURL,r.url,r.allowAbsoluteUrls);return cM(s,r.params,r.paramsSerializer)}};Fe.forEach(["delete","get","head","options"],function(r){Kc.prototype[r]=function(s,a){return this.request(md(a||{},{method:r,url:s,data:(a||{}).data}))}});Fe.forEach(["post","put","patch"],function(r){function s(a){return function(i,l,o){return this.request(md(o||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Kc.prototype[r]=s(),Kc.prototype[r+"Form"]=s(!0)});let XQ=class bM{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(o=>{a.subscribe(o),i=o}).then(n);return l.cancel=function(){a.unsubscribe(i)},l},r(function(i,l,o){a.reason||(a.reason=new Sm(i,l,o),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const s=this._listeners.indexOf(r);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const r=new AbortController,s=a=>{r.abort(a)};return this.subscribe(s),r.signal.unsubscribe=()=>this.unsubscribe(s),r.signal}static source(){let r;return{token:new bM(function(n){r=n}),cancel:r}}};function JQ(e){return function(s){return e.apply(null,s)}}function QQ(e){return Fe.isObject(e)&&e.isAxiosError===!0}const Cj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Cj).forEach(([e,r])=>{Cj[r]=e});function vM(e){const r=new Kc(e),s=J_(Kc.prototype.request,r);return Fe.extend(s,Kc.prototype,r,{allOwnKeys:!0}),Fe.extend(s,r,null,{allOwnKeys:!0}),s.create=function(n){return vM(md(e,n))},s}const Et=vM(lx);Et.Axios=Kc;Et.CanceledError=Sm;Et.CancelToken=XQ;Et.isCancel=mM;Et.VERSION=yM;Et.toFormData=Jy;Et.AxiosError=zt;Et.Cancel=Et.CanceledError;Et.all=function(r){return Promise.all(r)};Et.spread=JQ;Et.isAxiosError=QQ;Et.mergeConfig=md;Et.AxiosHeaders=Za;Et.formToJSON=e=>uM(Fe.isHTMLForm(e)?new FormData(e):e);Et.getAdapter=gM.getAdapter;Et.HttpStatusCode=Cj;Et.default=Et;const{Axios:jCe,AxiosError:wCe,CanceledError:NCe,isCancel:SCe,CancelToken:kCe,VERSION:CCe,all:PCe,Cancel:ACe,isAxiosError:TCe,spread:ECe,toFormData:ICe,AxiosHeaders:OCe,HttpStatusCode:_Ce,formToJSON:MCe,getAdapter:DCe,mergeConfig:LCe}=Et,ZQ="https://nexo.works";class eZ{constructor(){this.cache={data:null,timestamp:null,expiry:5*60*1e3},this.pendingRequest=null}isCacheValid(){return this.cache.data&&this.cache.timestamp&&Date.now()-this.cache.timestamp<this.cache.expiry}async getEnabledCities(r=!1){if(!r&&this.isCacheValid())return console.log(" Returning cached cities data"),this.cache.data;if(this.pendingRequest)return console.log(" Waiting for pending cities request"),await this.pendingRequest;console.log(" Fetching fresh cities data"),this.pendingRequest=this.fetchCitiesFromAPI();try{const s=await this.pendingRequest;return this.cache={data:s,timestamp:Date.now(),expiry:5*60*1e3},s}finally{this.pendingRequest=null}}async fetchCitiesFromAPI(){try{const r=await Et.get(`${ZQ}/api/cities/enabled`,{timeout:1e4});if(r.data&&r.data.success)return r.data.data||[];throw new Error("Invalid response format")}catch(r){throw console.error("Error fetching cities:",r),r}}async findCityById(r,s=!1){return(await this.getEnabledCities(s)).find(n=>n._id===r)}async verifyCityStatus(r){try{const s=await this.findCityById(r);return s&&s.isEnabled}catch(s){return console.error("Error verifying city status:",s),!1}}clearCache(){this.cache={data:null,timestamp:null,expiry:5*60*1e3},console.log(" Cities cache cleared")}async refreshCache(){return await this.getEnabledCities(!0)}}const Du=new eZ,rP="https://nexo.works",tZ=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/uploads")?`${rP}${e}`:`${rP}/uploads/${e}`:null,rZ=({isOpen:e,onClose:r,onCitySelect:s})=>{const[a,n]=g.useState([]),[i,l]=g.useState(!0),[o,d]=g.useState(null),[c,u]=g.useState(null);g.useEffect(()=>{if(e){m();const h=localStorage.getItem("selectedCity");if(h)try{d(JSON.parse(h))}catch(p){console.error("Error parsing saved city:",p)}}},[e]);const m=async()=>{try{l(!0),u(null);const h=await Du.getEnabledCities();n(h)}catch(h){console.error("Error fetching cities:",h),u(h.message||"Failed to load cities"),n([])}finally{l(!1)}},x=h=>{if(!h.isEnabled){alert("Service will be available soon in "+h.name+"!");return}d(h),localStorage.setItem("selectedCity",JSON.stringify(h)),s&&s(h),setTimeout(()=>{r()},300)};return e?t.jsx("div",{className:"fixed inset-0 bg-black/50 z-[9999] flex items-center justify-center p-4",onClick:r,children:t.jsxs("div",{className:"relative w-full",style:{maxWidth:"30%",minWidth:"320px"},children:[t.jsx("button",{onClick:r,className:"absolute -top-12 right-0 w-10 h-10 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center transition-all shadow-lg z-20",children:t.jsx(NJ,{className:"w-5 h-5 text-gray-700"})}),t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full",onClick:h=>h.stopPropagation(),children:t.jsxs("div",{className:"p-6 md:p-8",children:[t.jsx("div",{className:"text-center mb-6",children:t.jsx("h2",{className:"text-1xl md:text-1xl  text-gray-900",children:"Select City"})}),t.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2",children:i?t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6",children:[...Array(4)].map((h,p)=>t.jsx("div",{className:"h-32 md:h-40 bg-gray-200 rounded-2xl animate-pulse"},p))}):c?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(BC,{className:"w-12 h-12 text-red-300 mx-auto mb-3"}),t.jsx("p",{className:"text-red-500 font-medium mb-2",children:"Error loading cities"}),t.jsx("p",{className:"text-gray-500 text-sm",children:c}),t.jsx("button",{onClick:m,className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Retry"})]}):a.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(BC,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500",children:"No cities available"})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6",children:a.map(h=>{const p=(o==null?void 0:o._id)===h._id,f=!h.isEnabled,b=h.image&&h.image.trim()!=="",j=b?tZ(h.image):null;return t.jsxs("button",{onClick:()=>x(h),disabled:f,className:`group relative rounded-2xl overflow-hidden transition-all h-32 md:h-40 ${f?"opacity-60 cursor-not-allowed":"cursor-pointer hover:shadow-xl"} ${p?"ring-4 ring-purple-600 shadow-2xl":"shadow-lg"}`,style:{backgroundColor:b?"transparent":"#667eea"},children:[b?t.jsx("img",{src:j,alt:h.name,className:"absolute inset-0 w-full h-full object-cover",onError:w=>{w.target.style.display="none",w.target.parentElement.style.background="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}}):t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600 via-purple-500 to-purple-700"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),p&&!f&&t.jsx("div",{className:"absolute top-3 right-3 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-xl z-30",children:t.jsx(vJ,{className:"w-5 h-5 text-purple-600 stroke-[3]"})}),f&&t.jsx("div",{className:"absolute top-2 right-2 bg-white/90 text-orange-600 text-xs font-semibold px-2 py-1 rounded-full shadow-md",children:"Soon"}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 z-20",children:t.jsx("h3",{className:"text-white font-bold text-lg md:text-xl drop-shadow-lg truncate",children:h.name})}),!f&&t.jsx("div",{className:"absolute inset-0 bg-purple-600/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},h._id)})})})]})})]})}):null},ao=()=>{const{openDialog:e}=n4();return s=>{var a;(a=s==null?void 0:s.preventDefault)==null||a.call(s),e()}},jM=g.createContext(),on=()=>{const e=g.useContext(jM);if(!e)throw new Error("useUserAuth must be used within UserAuthProvider");return e},sZ=({children:e})=>{const[r,s]=g.useState(null),[a,n]=g.useState(!0),[i,l]=g.useState(!1);g.useEffect(()=>{o()},[]);const o=async()=>{var x;try{const h=localStorage.getItem("userToken");if(h){console.log("Checking auth with token...");const p=await Et.get("https://nexo.works/api/user/profile",{headers:{Authorization:`Bearer ${h}`}});console.log("Auth check response:",p.data),s(p.data.user),l(!0),(x=p.data.user)!=null&&x._id&&localStorage.setItem("userId",p.data.user._id)}else s(null),l(!1)}catch(h){console.error("Auth check failed:",h),localStorage.removeItem("userToken"),localStorage.removeItem("userId"),s(null),l(!1)}finally{n(!1)}},m={user:r,loading:a,isAuthenticated:i,login:async x=>{var h,p;try{const f=await Et.post("https://nexo.works/api/user/login/otp/verify",x);return localStorage.setItem("userToken",f.data.token),await o(),{success:!0}}catch(f){return{success:!1,error:((p=(h=f.response)==null?void 0:h.data)==null?void 0:p.message)||"Login failed"}}},logout:()=>{localStorage.removeItem("userToken"),localStorage.removeItem("userId"),s(null),l(!1)},updateUser:x=>{s(x)},checkAuth:o};return t.jsx(jM.Provider,{value:m,children:e})},aZ={FaSnowflake:nm,FaBolt:Al,FaTint:im,FaBroom:rm,FaPaintRoller:am,FaTools:ya,FaHammer:sm,FaFilter:ud,FaPlug:Gy,FaWrench:sx,FaCheckCircle:He,FaRupeeSign:Md,FaCreditCard:_i,FaMobileAlt:qy,FaUserCheck:qa,FaCommentDots:Wy},nZ=e=>aZ[e]||ya,iZ="https://nexo.works",lZ=()=>{const e=ao();er();const{isAuthenticated:r,user:s}=on(),[a,n]=g.useState([]),[i,l]=g.useState(!0),[o,d]=g.useState(!1),[c,u]=g.useState(null);g.useEffect(()=>{const y=localStorage.getItem("selectedCity");if(y){const v=JSON.parse(y);(async()=>{try{const S=await Du.findCityById(v._id);!S||!S.isEnabled?(console.log("Selected city is no longer available, clearing selection"),localStorage.removeItem("selectedCity"),u(null),d(!0)):u(S)}catch(S){console.error("Error verifying city status:",S),u(v)}})()}else setTimeout(()=>d(!0),1e3)},[]);const m=y=>{u(y),d(!1)};g.useEffect(()=>{if(!c)return;const v=setInterval(async()=>{try{await Du.verifyCityStatus(c._id)||(console.log("Selected city has been disabled, clearing selection"),localStorage.removeItem("selectedCity"),u(null),alert("The selected city is no longer available. Please select another city."),d(!0))}catch(N){console.error("Error checking city status:",N)}},5*60*1e3);return()=>clearInterval(v)},[c]),g.useEffect(()=>{(async()=>{try{l(!0);const N=await(await fetch(`${iZ}/api/user/popular`)).json();if(N.success&&N.data){const S=N.data.map(k=>({...k,icon:nZ(k.icon)}));n(S)}else n([{name:"AC Service",slug:"ac-service",icon:nm},{name:"Electrical Work",slug:"electrical-work",icon:Al},{name:"Plumbing",slug:"plumbing",icon:im},{name:"Deep Cleaning",slug:"deep-cleaning",icon:rm},{name:"Painting",slug:"painting",icon:am},{name:"Appliance Repair",slug:"appliance-repair",icon:ya},{name:"Carpentry",slug:"carpentry",icon:sm},{name:"Water Purifier Service",slug:"water-purifier-service",icon:ud}])}catch(v){console.error("Error fetching popular services:",v),n([{name:"AC Service",slug:"ac-service",icon:nm},{name:"Electrical Work",slug:"electrical-work",icon:Al},{name:"Plumbing",slug:"plumbing",icon:im},{name:"Deep Cleaning",slug:"deep-cleaning",icon:rm},{name:"Painting",slug:"painting",icon:am},{name:"Appliance Repair",slug:"appliance-repair",icon:ya},{name:"Carpentry",slug:"carpentry",icon:sm},{name:"Water Purifier Service",slug:"water-purifier-service",icon:ud}])}finally{l(!1)}})()},[]);const x=[{icon:Al,text:"Response under 2 minutes",color:"text-yellow-500"},{icon:He,text:"Verified technicians",color:"text-green-500"},{icon:Md,text:"Fixed pricing",color:"text-blue-500"},{icon:_i,text:"Pay after service",color:"text-purple-500"},{icon:qy,text:"24x7 WhatsApp support",color:"text-green-600"},{icon:sx,text:"Free rework within 72 hours",color:"text-orange-500"}],h=[{step:"1",title:"Tell us your requirement on WhatsApp",description:"Just message your problem. Our AI assistant handles the rest.",icon:Wy},{step:"2",title:"Get the right technician",description:"We assign a verified, background-checked expert near you.",icon:qa},{step:"3",title:"Service done. Pay after work.",description:"Simple, transparent, and satisfaction guaranteed.",icon:_i}],[p,f]=g.useState([{text:"Fast service and clean work.",author:"Rajesh K.",rating:5},{text:"Great response time. Loved it.",author:"Priya M.",rating:5},{text:"Technician was polite and professional.",author:"Amit S.",rating:5}]);g.useEffect(()=>{(async()=>{try{const S=await(await fetch("https://nexo.works/api/public/featured-reviews")).json();if(S.success&&S.data&&Array.isArray(S.data)&&S.data.length>0){const k=S.data.map(P=>({text:P.text,author:P.author,rating:P.rating||5}));f(k)}}catch(v){console.error("Error fetching featured reviews:",v)}})()},[]);const b={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.3,delayChildren:.2}}},j={hidden:{y:30,opacity:0},visible:{y:0,opacity:1,transition:{duration:.8,ease:"easeOut"}}},w={animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}};return t.jsxs(t.Fragment,{children:[t.jsx(Ln,{title:"Nexo - Home Services on WhatsApp | AC, Electrical, Plumbing & More",description:"Fast, reliable and affordable home services from verified experts. Book AC service, electrical work, plumbing, cleaning, and 200+ services on WhatsApp. Response under 2 minutes. Verified technicians. Pay after service.",keywords:"home services, AC service, electrical work, plumbing, cleaning services, WhatsApp booking, verified technicians, home maintenance, appliance repair, carpentry, painting services",url:"/"}),t.jsx(rZ,{isOpen:o,onClose:()=>d(!1),onCitySelect:m}),t.jsxs("div",{className:"overflow-x-hidden w-full max-w-full",children:[t.jsxs("section",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-primary via-primary-dark to-primary overflow-hidden w-full max-w-full",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",variants:w,animate:"animate"}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",variants:w,animate:"animate",transition:{delay:1,duration:5}}),t.jsx(E.div,{className:"absolute top-1/2 right-20 w-32 h-32 sm:w-40 sm:h-40 bg-gradient-to-br from-white/10 to-transparent rounded-full blur-2xl",variants:w,animate:"animate",transition:{delay:2,duration:6}}),t.jsx(E.div,{className:"absolute bottom-1/3 left-1/4 w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-blue-300/15 to-transparent rounded-full blur-xl",variants:w,animate:"animate",transition:{delay:.5,duration:4.5}}),[...Array(20)].map((y,v)=>t.jsx(E.div,{className:"absolute bg-white/30 rounded-full",style:{width:`${6+v%4*3}px`,height:`${6+v%4*3}px`,left:`${3+v*5%94}%`,top:`${8+v*4%85}%`},animate:{y:[0,-150,0],x:[0,v%2===0?50:-50,0],opacity:[.2,.6,.2],scale:[1,1.5,1]},transition:{duration:8+v%4,repeat:1/0,ease:"easeInOut",delay:v*.2}},`small-${v}`)),[...Array(12)].map((y,v)=>t.jsx(E.div,{className:"absolute bg-white/20 rounded-full blur-sm",style:{width:`${14+v%3*4}px`,height:`${14+v%3*4}px`,left:`${5+v*8%90}%`,top:`${10+v*6%80}%`},animate:{y:[0,-120,0],x:[0,v%2===0?60:-60,0],opacity:[.15,.4,.15],scale:[1,1.4,1]},transition:{duration:9+v%3*2,repeat:1/0,ease:"easeInOut",delay:v*.4}},`medium-${v}`)),[...Array(8)].map((y,v)=>t.jsx(E.div,{className:"absolute bg-white/10 rounded-full blur-2xl",style:{width:`${100+v%3*30}px`,height:`${100+v%3*30}px`,left:`${8+v*12%85}%`,top:`${12+v*10%75}%`},animate:{y:[0,-80,0],x:[0,v%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.1,.3,.1]},transition:{duration:10+v%3*2,repeat:1/0,ease:"easeInOut",delay:v*.8}},`large-${v}`)),t.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-64 opacity-20",style:{background:"linear-gradient(to top, rgba(255,255,255,0.1) 0%, transparent 100%)"},animate:{y:[0,-20,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:t.jsxs(E.div,{variants:b,initial:"hidden",animate:"visible",children:[t.jsxs(E.h1,{variants:j,className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-4 sm:mb-6 leading-tight",children:["Your home services.",t.jsx("br",{}),t.jsx(E.span,{className:"text-yellow-300 inline-block",variants:j,animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"Now on WhatsApp."})]}),t.jsx(E.p,{variants:j,className:"text-lg sm:text-xl md:text-2xl text-white/90 mb-6 sm:mb-8 max-w-3xl mx-auto px-4",children:"Fast, reliable and affordable service from verified experts."}),t.jsxs(E.div,{variants:j,className:"flex flex-col sm:flex-row gap-4 justify-center items-center px-4",children:[t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2 w-full sm:w-auto justify-center",children:[t.jsx(vr,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Book on WhatsApp"]}),t.jsx(E.a,{href:"/partner/onboard",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-primary px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-white/50 transition-all duration-300 w-full sm:w-auto text-center",children:"Become a Partner"})]}),t.jsx(E.p,{variants:j,className:"text-white/80 mt-6 sm:mt-8 text-sm sm:text-lg px-4",children:"Support for AC, electrical, plumbing, cleaning, appliances and 200+ services."}),t.jsx(E.div,{variants:j,className:"mt-8 sm:mt-10 px-4 flex justify-center",children:t.jsxs(E.button,{onClick:()=>d(!0),whileHover:{scale:1.05,y:-3},whileTap:{scale:.95},className:"group relative bg-white/95 backdrop-blur-md text-gray-900 px-8 py-4 rounded-2xl text-base sm:text-lg font-semibold hover:bg-white transition-all duration-300 flex items-center gap-3 shadow-2xl hover:shadow-white/30 border border-white/50 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),t.jsx(E.div,{animate:{rotate:[0,-10,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"relative z-10",children:t.jsx(Ul,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),t.jsxs("div",{className:"relative z-10 flex flex-col items-start",children:[t.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"Service Location"}),t.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900 group-hover:text-primary transition-colors",children:c?c.name:"Select Your City"})]}),t.jsx(E.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"relative z-10 ml-2",children:t.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),t.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1000"})})]})})]})}),t.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-20 sm:h-24 bg-white pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0}})]}),t.jsxs("section",{className:"py-12 sm:py-16 lg:py-20 bg-white relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-5",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 20% 50%, rgba(33, 74, 115, 0.1) 0%, transparent 50%),
                                  radial-gradient(circle at 80% 80%, rgba(33, 74, 115, 0.1) 0%, transparent 50%)`},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}})}),t.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-3 sm:mb-4",children:"How It Works"}),t.jsx("p",{className:"text-lg sm:text-xl text-gray-600",children:"Simple steps to get your service done"})]}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:h.map((y,v)=>{const N=y.icon;return t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.6,delay:v*.2},whileHover:{y:-5,scale:1.02},className:"bg-gradient-to-br from-primary/5 to-primary/10 p-6 sm:p-8 rounded-2xl border border-primary/20 hover:shadow-xl transition-all duration-300 relative",children:[t.jsx("div",{className:"absolute -top-4 -left-4 w-10 h-10 sm:w-12 sm:h-12 bg-primary text-white rounded-full flex items-center justify-center text-lg sm:text-xl font-bold shadow-lg",children:y.step}),t.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-primary/10 rounded-full flex items-center justify-center mb-4 sm:mb-6 mx-auto",children:t.jsx(N,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary"})}),t.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-primary mb-3 sm:mb-4 text-center",children:y.title}),t.jsx("p",{className:"text-gray-600 text-base sm:text-lg text-center",children:y.description})]},v)})}),t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.6},className:"text-center mt-8 sm:mt-12",children:t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-primary text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-primary-dark transition-all duration-300 shadow-lg hover:shadow-xl flex items-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5"}),"Start on WhatsApp"]})})})]})]}),t.jsxs("section",{id:"services",className:"py-12 sm:py-16 lg:py-20 bg-gray-50 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-5",children:t.jsx(E.div,{className:"absolute inset-0",style:{background:"linear-gradient(45deg, transparent 30%, rgba(33, 74, 115, 0.05) 50%, transparent 70%)"},animate:{x:["-100%","100%"]},transition:{duration:20,repeat:1/0,ease:"linear"}})}),t.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[t.jsxs(E.div,{initial:{scale:.9},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.5,delay:.2},children:[t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary via-primary-dark to-primary bg-clip-text text-transparent mb-3 sm:mb-4",children:"Popular Services"}),t.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-primary to-primary-dark mx-auto mb-4 rounded-full"})]}),t.jsx("p",{className:"text-lg sm:text-xl text-gray-600",children:"Choose from our wide range of professional services"})]}),i?t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-6",children:[...Array(10)].map((y,v)=>t.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100 animate-pulse",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-2xl mx-auto mb-4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded mb-3"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4 mx-auto mb-4"}),t.jsx("div",{className:"h-8 bg-gray-200 rounded-full"})]},v))}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-6",children:a.map((y,v)=>{const N=y.icon;return t.jsx(Ht,{to:`/service/${y.slug}`,children:t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:v*.1},whileHover:{y:-8,scale:1.03,rotateY:5,transition:{duration:.3,ease:"easeOut"}},className:"group relative bg-gradient-to-br from-white via-white to-gray-50/30 rounded-3xl p-6 shadow-xl hover:shadow-2xl transition-all duration-500 border border-gray-200/50 hover:border-primary/60 cursor-pointer overflow-hidden h-full transform-gpu",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/3 via-transparent to-primary/5 opacity-100 group-hover:from-primary/8 group-hover:to-primary/12 transition-all duration-500"}),t.jsx(E.div,{className:"absolute top-4 right-4 w-8 h-8 bg-gradient-to-br from-primary/10 to-primary/5 rounded-full opacity-60",whileHover:{scale:[1,1.2,1],rotate:[0,180,360],opacity:[.6,.9,.6]},transition:{duration:1,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-4 left-4 w-6 h-6 bg-gradient-to-br from-yellow-400/20 to-orange-500/20 rounded-full opacity-40",whileHover:{scale:[1,1.3,1],x:[0,5,0],y:[0,-5,0]},transition:{duration:.8,ease:"easeInOut"}}),t.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:[...Array(8)].map((S,k)=>t.jsx(E.div,{className:"absolute w-1 h-1 bg-primary/40 rounded-full",style:{left:`${15+k*10}%`,top:`${20+k*8}%`},animate:{y:[0,-30,0],x:[0,k%2===0?10:-10,0],opacity:[.2,.8,.2],scale:[1,1.5,1]},transition:{duration:2+k*.2,repeat:1/0,ease:"easeInOut",delay:k*.1}},k))}),t.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:t.jsx("div",{className:"absolute inset-0 rounded-3xl border-2 border-primary/30 animate-pulse"})}),t.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center h-full",children:[t.jsxs(E.div,{className:"relative w-20 h-20 bg-gradient-to-br from-primary/15 via-primary/10 to-primary/5 rounded-2xl flex items-center justify-center mb-4 shadow-lg border border-primary/10 group-hover:shadow-2xl group-hover:shadow-primary/20",whileHover:{scale:1.1,rotate:[0,-5,5,0],transition:{duration:.5}},children:[t.jsx("div",{className:"absolute inset-0 bg-primary/10 rounded-2xl blur-lg group-hover:bg-primary/25 group-hover:blur-xl transition-all duration-500"}),t.jsx(E.div,{className:"absolute inset-0 rounded-2xl border-2 border-primary/20 opacity-0 group-hover:opacity-100",animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"}}),t.jsx(E.div,{whileHover:{scale:1.2,rotate:[0,10,-10,0],transition:{duration:.4}},children:t.jsx(N,{className:"w-10 h-10 text-primary relative z-10 group-hover:text-primary-dark transition-colors duration-300"})}),t.jsx(E.div,{className:"absolute -top-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full opacity-0 group-hover:opacity-100",animate:{scale:[0,1,0],rotate:[0,180,360]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})]}),t.jsx(E.h3,{className:"text-base sm:text-lg font-bold text-gray-800 group-hover:text-primary transition-all duration-300 line-clamp-2 mb-3 leading-tight",whileHover:{scale:1.05},children:y.name}),t.jsx(E.p,{className:"text-xs sm:text-sm text-gray-500 group-hover:text-gray-700 mb-4 leading-relaxed transition-all duration-300",whileHover:{y:-2},children:"Professional & Reliable Service"}),t.jsx(E.div,{className:"w-full mt-auto",whileHover:{scale:1.02},children:t.jsxs(E.div,{className:"w-full bg-gradient-to-r from-gray-100 to-gray-200 group-hover:from-primary/10 group-hover:to-primary/20 text-gray-700 group-hover:text-primary text-sm font-semibold py-2.5 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 shadow-sm hover:shadow-lg border border-gray-300 group-hover:border-primary/40",whileHover:{y:-2,boxShadow:"0 10px 25px rgba(0,0,0,0.1)"},children:[t.jsxs(E.svg,{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",whileHover:{scale:1.2,rotate:15},transition:{duration:.2},children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),t.jsx("span",{children:"View Details"}),t.jsx(E.div,{className:"w-1 h-1 bg-primary rounded-full opacity-0 group-hover:opacity-100",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,ease:"easeInOut"}})]})})]}),t.jsx(E.div,{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-primary/30 via-primary/60 to-primary/30 group-hover:h-2 group-hover:from-primary/50 group-hover:via-primary group-hover:to-primary/50 transition-all duration-500",whileHover:{scaleX:[1,1.05,1],transition:{duration:.5}}}),t.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-700",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/15 to-transparent transform -skew-x-12 translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1200"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-yellow-400/5 transform translate-x-[-100%] translate-y-[-100%] group-hover:translate-x-[100%] group-hover:translate-y-[100%] transition-transform duration-1500"})]}),t.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary/0 via-primary/10 to-primary/0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 blur-sm -z-10"})]})},y.slug||y._id||v)})}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.3},className:"text-center mt-12 sm:mt-16",children:[t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-3},whileTap:{scale:.95},className:"group relative bg-gradient-to-r from-primary to-primary-dark text-white px-8 sm:px-12 py-4 sm:py-5 rounded-2xl text-base sm:text-lg font-bold hover:from-primary-dark hover:to-primary transition-all duration-300 shadow-xl hover:shadow-2xl flex items-center gap-3 mx-auto overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),t.jsx(E.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"relative z-10",children:t.jsx(vr,{className:"w-6 h-6"})}),t.jsx("span",{className:"relative z-10",children:"Explore All Services on WhatsApp"}),t.jsx(E.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"relative z-10",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})}),t.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1000"})})]}),t.jsx("p",{className:"text-gray-500 mt-4 text-sm sm:text-base",children:"200+ services available  Response under 2 minutes"})]})]})]}),t.jsxs("section",{className:"py-12 sm:py-16 lg:py-20 bg-white relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-5",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 50% 50%, rgba(33, 74, 115, 0.1) 0%, transparent 70%)"},animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}})}),t.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-3 sm:mb-4",children:"Why Choose Us"})}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:x.map((y,v)=>{const N=y.icon;return t.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:v*.1},whileHover:{scale:1.05,x:5},className:"flex items-center gap-3 sm:gap-4 bg-gray-50 p-4 sm:p-6 rounded-xl hover:bg-primary/5 transition-all duration-300",children:[t.jsx(N,{className:`w-6 h-6 sm:w-8 sm:h-8 ${y.color} flex-shrink-0`}),t.jsx("span",{className:"text-base sm:text-lg font-semibold text-gray-800",children:y.text})]},v)})}),t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mt-8 sm:mt-12",children:t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-primary text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-primary-dark transition-all duration-300 shadow-lg hover:shadow-xl flex items-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5"}),"Book Your Service"]})})})]})]}),t.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-white relative overflow-hidden",children:t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-2xl sm:rounded-3xl p-8 sm:p-12 text-white text-center relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M20 20.5V18H0v-2h20v-2H0v-2h20v-2H0V8h20V6H0V4h20V2H0V0h22v20h2V0h2v20h2V0h2v20h2V0h2v20h2V0h2v20h2v2H0v-2h22zm0 0v2H0v-2h22z'/%3E%3C/g%3E%3C/svg%3E")`},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-3 sm:mb-4",children:"AMC for PGs, Clinics, Shops & Apartments"}),t.jsx("p",{className:"text-lg sm:text-xl mb-4 sm:mb-6 text-white/90",children:"Electrical + Plumbing + AC Maintenance + Repairs"}),t.jsx("p",{className:"text-2xl sm:text-3xl font-bold mb-6 sm:mb-8",children:"Starting 2,500/month"}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-primary px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-gray-100 transition-all duration-300 shadow-lg flex items-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5"}),"Get AMC Quote on WhatsApp"]})})]})]})})}),t.jsxs("section",{className:"py-12 sm:py-16 lg:py-20 bg-gray-50 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-5",children:t.jsx(E.div,{className:"absolute inset-0",style:{background:"radial-gradient(circle at 30% 30%, rgba(33, 74, 115, 0.1) 0%, transparent 50%), radial-gradient(circle at 70% 70%, rgba(33, 74, 115, 0.1) 0%, transparent 50%)"},animate:{scale:[1,1.1,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}})}),t.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-3 sm:mb-4",children:"Customer Reviews"})}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:p.map((y,v)=>t.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:v*.2},whileHover:{y:-5},className:"bg-white p-6 sm:p-8 rounded-2xl shadow-lg border-l-4 border-primary",children:[t.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(y.rating)].map((N,S)=>t.jsx("span",{className:"text-yellow-400 text-lg sm:text-xl",children:""},S))}),t.jsxs("p",{className:"text-gray-700 text-base sm:text-lg mb-4 italic",children:['"',y.text,'"']}),t.jsxs("p",{className:"text-primary font-semibold",children:[" ",y.author]})]},v))})]})]})]})]})},oZ=`
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    background: #f1f5f9;
    border-radius: 3px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 3px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
  }
  
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  @media (max-width: 640px) {
    .custom-scrollbar::-webkit-scrollbar {
      width: 4px;
      height: 4px;
    }
  }
`,cZ={FaSnowflake:nm,FaBolt:Al,FaTint:im,FaBroom:rm,FaPaintRoller:am,FaTools:ya,FaHammer:sm,FaFilter:ud,FaPlug:Gy,FaWrench:sx,FaCheckCircle:He,FaCreditCard:_i,FaMobileAlt:qy,FaCommentDots:Wy},$n=e=>cZ[e]||ya,sP="https://nexo.works",dZ=()=>{const{serviceName:e}=wm(),r=er(),s=ao(),{isAuthenticated:a,loading:n,user:i}=on(),[l,o]=g.useState(null),[d,c]=g.useState([]),[u,m]=g.useState(!0),[x,h]=g.useState(null),[p,f]=g.useState({}),[b,j]=g.useState({}),[w,y]=g.useState({}),[v,N]=g.useState(null),[S,k]=g.useState(!1),[P,C]=g.useState(null),[_,A]=g.useState(!1);g.useEffect(()=>{const F=localStorage.getItem("selectedCity");if(F)try{C(JSON.parse(F))}catch(ue){console.error("Error parsing selected city:",ue)}},[]);const D=()=>!P||!(l!=null&&l.cities)||l.cities.length===0?!0:l.cities.some(F=>(typeof F=="string"?F:F._id)===P._id),H=()=>`nexo_cart_${e||"default"}`,re=()=>{if(e)try{const F=H(),ue=localStorage.getItem(F);if(ue){const J=JSON.parse(ue);f(J.selectedSubServices||{}),j(J.selectedAddOns||{}),y(J.selectedAddOnSubServices||{})}}catch(F){console.error("Error loading cart from localStorage:",F)}},xe=(F,ue,J)=>{if(e)try{const be=H(),ge={selectedSubServices:F||p,selectedAddOns:ue||b,selectedAddOnSubServices:J||w};localStorage.setItem(be,JSON.stringify(ge))}catch(be){console.error("Error saving cart to localStorage:",be)}},[we,T]=g.useState([]),[z,Q]=g.useState(0);g.useEffect(()=>{e&&(async()=>{m(!0),h(null);try{const J=await(await fetch(`${sP}/api/user/service-by-slug/${e}`)).json();if(J.success&&J.data){const be={...J.data,icon:$n(J.data.icon),subServices:J.data.subServices||[],addOns:(J.data.addOns||[]).map(Ne=>({...Ne,basePrice:Math.max(0,parseFloat(Ne.basePrice)||0),discount:Math.max(0,Math.min(100,parseFloat(Ne.discount)||0)),cgst:Math.max(0,parseFloat(Ne.cgst)||0),sgst:Math.max(0,parseFloat(Ne.sgst)||0),serviceCharge:Math.max(0,parseFloat(Ne.serviceCharge)||0)}))};J.data.addOns&&J.data.addOns.forEach((Ne,Ie)=>{Ne.discount&&(isNaN(Ne.discount)||Ne.discount>100)&&console.warn(`Malformed discount in addon ${Ie}:`,Ne.discount,"for service:",e)});const ge=[];be.addOns&&be.addOns.length>0&&be.addOns.forEach((Ne,Ie)=>{Ne.subServices&&Ne.subServices.length>0&&Ne.subServices.forEach((Je,dt)=>{ge.push({...Je,addonIndex:Ie,subServiceIndex:dt,addonName:Ne.name})})}),T(ge),o(be),re()}else h("Service not found")}catch(ue){console.error("Error fetching service:",ue),h("Failed to load service. Please try again later.")}finally{m(!1)}})()},[e]),g.useEffect(()=>{console.log("ServiceDetail Auth Status:",{isAuthenticated:a,authLoading:n,hasUser:!!i,hasToken:!!localStorage.getItem("userToken")})},[a,n,i]),g.useEffect(()=>{if(we&&we.length>1){const F=setInterval(()=>{Q(ue=>(ue+1)%we.length)},4e3);return()=>clearInterval(F)}},[we]),g.useEffect(()=>{if(e&&l){const F=H(),ue={selectedSubServices:p,selectedAddOns:b,selectedAddOnSubServices:w};try{localStorage.setItem(F,JSON.stringify(ue))}catch(J){console.error("Error saving cart to localStorage:",J)}}},[p,b,w,e,l]),g.useEffect(()=>{(async()=>{try{const J=await(await fetch(`${sP}/api/user/popular`)).json();if(J.success&&J.data){const be=J.data.filter(ge=>ge.slug!==e).slice(0,6).map(ge=>({...ge,icon:$n(ge.icon)}));c(be)}}catch(ue){console.error("Error fetching popular services:",ue)}})()},[e]);const L=l||{name:"Service",price:"0",description:"Professional service for all your needs.",trusted:"Trusted by thousands of homes",icon:ya,included:[],excluded:[],addOns:[],reviews:[],averageRating:null,totalReviews:0},R=L.icon||ya,Z=()=>!L.subServices||L.subServices.length===0?0:L.subServices.reduce((F,ue)=>{const J=p[ue._id]||0,be=ue.finalPrice||ue.basePrice||ue.price||0;return F+be*J},0),W=F=>{F.discount&&(isNaN(F.discount)||F.discount>100||F.discount<0)&&console.warn("Invalid discount value detected:",F.discount,"for addon:",F.name);const ue=Math.max(0,parseFloat(F.basePrice)||0),J=Math.max(0,Math.min(100,parseFloat(F.discount)||0)),be=Math.max(0,parseFloat(F.cgst)||0),ge=Math.max(0,parseFloat(F.sgst)||0),Ne=Math.max(0,parseFloat(F.serviceCharge)||0),Ie=ue+Ne,Je=Ie*((be+ge)/100),dt=Ie+Je,Ae=ue*(J/100),ze=ue-Ae,It=ze+Ne,Ft=It*((be+ge)/100),Se=It+Ft;return{basePrice:ue,discount:J,discountAmount:Ae,subtotalAfterDiscount:ze,serviceCharge:Ne,subtotalWithCharge:It,cgst:be,sgst:ge,gstAmount:Ft,finalPrice:Se,originalTotalPrice:dt}},ie=()=>!L.addOns||L.addOns.length===0?0:L.addOns.reduce((F,ue,J)=>{const be=b[J]||0;if(be>0){const ge=W(ue);return F+ge.finalPrice*be}return F},0),ae=()=>{if(!L.addOns||L.addOns.length===0)return 0;let F=0;return L.addOns.forEach((ue,J)=>{ue.subServices&&ue.subServices.length>0&&ue.subServices.forEach((be,ge)=>{const Ne=`${J}-${ge}`,Ie=w[Ne]||0;if(Ie>0){const Je=be.price||"0",dt=parseFloat(Je.replace(/[,\s]/g,""))||0;F+=dt*Ie}})}),F},M=()=>Z()+ie()+ae(),U=()=>{const F=Object.values(p).reduce((be,ge)=>be+ge,0),ue=Object.values(b).reduce((be,ge)=>be+ge,0),J=Object.values(w).reduce((be,ge)=>be+ge,0);return F+ue+J},q=F=>{f(ue=>{const J={...ue,[F]:(ue[F]||0)+1};return xe(J,b,w),J})},G=F=>{f(ue=>{const J={...ue};return J[F]>1?J[F]=J[F]-1:delete J[F],xe(J,b,w),J})},Y=(F,ue)=>{const J=`${F}-${ue}`;y(be=>{const ge={...be,[J]:(be[J]||0)+1};return xe(p,b,ge),ge})},oe=(F,ue)=>{const J=`${F}-${ue}`;y(be=>{const ge={...be};return ge[J]>1?ge[J]=ge[J]-1:delete ge[J],xe(p,b,ge),ge})},Be=F=>{j(ue=>{const J={...ue,[F]:(ue[F]||0)+1};return xe(p,J,w),J})},fe=F=>{j(ue=>{const J={...ue};return J[F]>1?J[F]=J[F]-1:delete J[F],xe(p,J,w),J})},ne=F=>{j(ue=>{const J={...ue};return delete J[F],xe(p,J,w),J})},ce=()=>{if(!D()){alert(`This service is not available in ${(P==null?void 0:P.name)||"your city"}. Please select a different city or service.`);return}if(U()===0){alert("Please add at least one service to your cart");return}if(console.log("Auth Status:",{isAuthenticated:a,authLoading:n,user:i,token:localStorage.getItem("userToken")}),!a||!i){console.log("User not authenticated, redirecting to login"),r("/user/login",{state:{from:`/service/${e}`}});return}console.log("User authenticated, proceeding to checkout");const F=[];L.subServices&&L.subServices.forEach(be=>{const ge=p[be._id];if(ge>0){const Ne=be.finalPrice||be.basePrice||be.price||0;F.push({type:"subservice",id:be._id,name:be.name,quantity:ge,price:Ne,total:Ne*ge})}}),L.addOns&&L.addOns.forEach((be,ge)=>{const Ne=b[ge];if(Ne>0){const Ie=W(be);F.push({type:"addon",id:be._id||ge,name:be.name,quantity:Ne,price:Ie.finalPrice,total:Ie.finalPrice*Ne})}}),L.addOns&&L.addOns.forEach((be,ge)=>{be.subServices&&be.subServices.forEach((Ne,Ie)=>{const Je=`${ge}-${Ie}`,dt=w[Je];if(dt>0){const Ae=Ne.price||"0",ze=parseFloat(Ae.replace(/[,\s]/g,""))||0;F.push({type:"addon-subservice",id:Ne._id||Je,name:`${Ne.name} (${be.name})`,quantity:dt,price:ze,total:ze*dt})}})});const ue={items:F,total:M()},J={_id:L._id,name:L.name,description:L.description,slug:L.slug,price:L.price,averageRating:L.averageRating,totalReviews:L.totalReviews};pe(ue,J)},pe=(F,ue)=>{r(`/service/${e}/checkout`,{state:{cartData:F,serviceData:ue}})};return u?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[t.jsx(ns,{className:"w-12 h-12 text-primary animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Loading service details..."})]})}):x||!l?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Service Not Found"}),t.jsx("p",{className:"text-gray-600 mb-6",children:x||"The service you are looking for does not exist."}),t.jsx(Ht,{to:"/",className:"inline-block bg-primary text-white px-6 py-3 rounded-full font-semibold hover:bg-primary-dark transition",children:"Go to Home"})]})}):t.jsxs(t.Fragment,{children:[t.jsx("style",{children:oZ}),t.jsx(Ln,{title:`${L.name} | Nexo`,description:`${L.description} ${L.trusted}. Book ${L.name} on WhatsApp with verified technicians.`,keywords:`${L.name}, home services, ${L.name.toLowerCase()} near me, WhatsApp booking, verified technicians`,url:`/service/${e}`}),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-6 sm:py-8 lg:py-10 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-5",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})}),t.jsx(E.div,{className:"absolute top-10 left-10 w-32 h-32 sm:w-40 sm:h-40 bg-gradient-to-br from-white/15 to-white/5 rounded-full blur-2xl",animate:{y:[0,-20,0],x:[0,10,0],scale:[1,1.05,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-10 right-10 w-36 h-36 sm:w-48 sm:h-48 bg-gradient-to-br from-yellow-300/15 to-yellow-300/5 rounded-full blur-2xl",animate:{y:[0,-20,0],x:[0,-10,0],scale:[1,1.05,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(8)].map((F,ue)=>t.jsx(E.div,{className:"absolute bg-white/20 rounded-full",style:{width:`${4+ue%3*2}px`,height:`${4+ue%3*2}px`,left:`${5+ue*12%90}%`,top:`${10+ue*8%80}%`},animate:{y:[0,-80,0],opacity:[.2,.4,.2]},transition:{duration:6+ue%3,repeat:1/0,ease:"easeInOut",delay:ue*.3}},`particle-${ue}`)),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"text-center",children:[t.jsx(E.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.5},className:"inline-block mb-3 sm:mb-4",children:t.jsx(R,{className:"w-12 h-12 sm:w-14 sm:h-14 text-yellow-300"})}),t.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-extrabold mb-3 sm:mb-4 leading-tight",children:L.name}),t.jsxs("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 mb-4 sm:mb-5",children:[L.averageRating&&t.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.2},className:"flex items-center gap-1.5 bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full border border-white/20",children:[t.jsx(vc,{className:"text-yellow-300 text-sm"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:L.averageRating}),t.jsxs("span",{className:"text-xs text-white/70",children:["(",L.totalReviews," reviews)"]})]}),t.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.25},className:"flex items-center gap-1.5 bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full border border-white/20",children:[t.jsx(tc,{className:"text-green-300 text-sm"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:"Verified"})]}),t.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.3},className:"flex items-center gap-1.5 bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full border border-white/20",children:[t.jsx(ai,{className:"text-blue-300 text-sm"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:"Quick Service"})]})]}),L.trusted&&t.jsx("p",{className:"text-sm sm:text-base text-white/90 mb-4 sm:mb-5 font-medium",children:L.trusted}),!D()&&P&&t.jsx(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-yellow-500/20 border border-yellow-400/50 backdrop-blur-sm px-4 py-2 rounded-lg mb-3",children:t.jsxs("p",{className:"text-sm text-white font-semibold text-center",children:[" This service is not available in ",P.name]})}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-2 sm:gap-3",children:[D()?t.jsxs(E.button,{onClick:ce,whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-gradient-to-r from-primary to-primary-dark text-white px-6 sm:px-8 py-3 rounded-full text-base font-bold shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2 w-full sm:w-auto justify-center min-h-[44px]","aria-label":"Book service now",children:[t.jsx(Vn,{className:"w-5 h-5"}),t.jsx("span",{children:"Book Now"})]}):t.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gray-400 text-white px-6 sm:px-8 py-3 rounded-full text-base font-bold shadow-lg flex items-center gap-2 w-full sm:w-auto justify-center min-h-[44px] cursor-not-allowed",children:[t.jsx(Kt,{className:"w-5 h-5"}),t.jsxs("span",{children:["Not Available in ",(P==null?void 0:P.name)||"Your City"]})]}),t.jsxs(E.button,{onClick:s,whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 rounded-full text-base font-bold shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2 w-full sm:w-auto justify-center min-h-[44px]","aria-label":"Book service on WhatsApp",children:[t.jsx(vr,{className:"w-5 h-5"}),t.jsx("span",{children:"WhatsApp"})]}),L.subServices&&L.subServices.length>0&&t.jsxs(E.button,{onClick:()=>{const F=document.querySelector("[data-packages-section]");F==null||F.scrollIntoView({behavior:"smooth",block:"start"})},whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-white/20 text-white px-5 sm:px-6 py-3 rounded-full text-sm font-semibold border border-white/40 hover:bg-white/30 transition-all duration-300 w-full sm:w-auto min-h-[44px] flex items-center justify-center gap-2","aria-label":"View available packages",children:[t.jsx(jo,{className:"w-4 h-4"}),t.jsx("span",{children:"View Packages"})]})]}),L.subServices&&L.subServices.length>0&&t.jsx("div",{className:"mt-4 sm:hidden",children:t.jsxs(E.button,{onClick:()=>{L.subServices[0]&&q(L.subServices[0]._id)},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-3 rounded-lg font-bold transition-all flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[t.jsx(us,{className:"text-sm"}),t.jsx("span",{children:"Quick Add Main Service"})]})})]})}),t.jsx("div",{className:"absolute bottom-0 left-0 w-full h-6 sm:h-8 bg-gray-50 pointer-events-none rounded-t-3xl"})]}),t.jsx("section",{className:"pt-6 pb-5 sm:pt-8 sm:pb-8 lg:pb-12 bg-gradient-to-b from-gray-50 via-white to-gray-50",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-12 gap-4 sm:gap-6 lg:gap-8",children:[t.jsxs("div",{className:"lg:col-span-8 space-y-4 sm:space-y-6 order-1",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"bg-white rounded-xl sm:rounded-2xl border border-gray-200 shadow-lg p-4 sm:p-6 lg:p-8",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[t.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-primary/10 to-primary/20 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(R,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:L.name}),L.averageRating&&t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm mt-1",children:[t.jsx(vc,{className:"text-yellow-500 fill-yellow-500 text-xs sm:text-sm"}),t.jsx("span",{className:"font-bold text-gray-900",children:L.averageRating}),t.jsxs("span",{className:"text-gray-600 text-xs",children:["(",(L.totalReviews||0).toLocaleString("en-IN")," reviews)"]})]})]})]}),L.description&&t.jsx("p",{className:"text-xs sm:text-sm text-gray-700 mb-3 sm:mb-4 leading-relaxed",children:L.description}),t.jsx("div",{className:"p-3 sm:p-4 bg-gradient-to-br from-emerald-50 to-emerald-100/50 border-2 border-emerald-200 rounded-lg sm:rounded-xl cursor-pointer hover:bg-gradient-to-br hover:from-emerald-100 hover:to-emerald-200/50 hover:border-emerald-300 hover:shadow-md transition-all duration-300 group",children:t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-emerald-500 rounded-lg flex items-center justify-center shadow-sm flex-shrink-0",children:t.jsx(He,{className:"text-white text-sm sm:text-lg"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-xs sm:text-sm font-bold text-gray-900",children:"Nexo COVER"}),t.jsx("div",{className:"text-xs text-gray-700 font-medium",children:"Upto 30 days warranty on repairs"})]})]}),t.jsx(MC,{className:"text-emerald-600 group-hover:text-emerald-700 group-hover:translate-x-1 transition-all flex-shrink-0"})]})})]}),L.addOns&&L.addOns.length>0?t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:t.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl border border-gray-200 shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden",children:[t.jsxs("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary px-4 sm:px-6 py-4 sm:py-5 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-black/5"}),t.jsxs("div",{className:"relative flex items-center gap-2 sm:gap-3",children:[t.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/20 backdrop-blur-sm rounded-lg sm:rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",children:t.jsx(jo,{className:"text-white text-lg sm:text-xl"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white truncate",children:"Services"}),t.jsx("p",{className:"text-white/90 text-xs font-medium",children:"Enhance your service"})]})]})]}),t.jsx("div",{className:"p-4 sm:p-6 space-y-3 sm:space-y-4 max-h-[600px] overflow-y-auto custom-scrollbar",children:L.addOns.map((F,ue)=>{const J=b[ue]||0,be=J>0,ge=W(F),Ne=$n(F.icon||"FaTools");return t.jsxs(E.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,delay:ue*.1},whileHover:{scale:1.02,y:-4},onClick:()=>N({index:ue,addon:F}),className:`bg-gradient-to-br ${be?"from-primary/5 to-primary/10 border-2 border-primary shadow-lg":"from-white to-gray-50/50 border border-gray-200 hover:border-primary/40 hover:shadow-md"} p-3 sm:p-4 lg:p-5 rounded-lg sm:rounded-xl transition-all duration-300 cursor-pointer`,children:[t.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 mb-3 sm:mb-4",children:[t.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0 shadow-sm ${be?"bg-gradient-to-br from-primary to-primary-dark":"bg-gradient-to-br from-primary/10 to-primary/20"}`,children:t.jsx(Ne,{className:`w-6 h-6 sm:w-7 sm:h-7 ${be?"text-white":"text-primary"}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-sm sm:text-base font-bold text-gray-900 mb-1.5 sm:mb-2 line-clamp-1",children:F.name}),F.description&&t.jsx("p",{className:"text-xs text-gray-600 mb-2 sm:mb-3 line-clamp-2 leading-relaxed",children:F.description}),t.jsxs("div",{className:"flex items-baseline gap-1.5 sm:gap-2 mb-2 sm:mb-3 flex-wrap",children:[t.jsxs("span",{className:"text-xl sm:text-2xl font-black text-primary",children:["",Math.round(ge.finalPrice).toLocaleString("en-IN")]}),ge.originalTotalPrice>0&&ge.originalTotalPrice!==ge.finalPrice&&t.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 line-through",children:["",Math.round(ge.originalTotalPrice).toLocaleString("en-IN")]}),ge.discount>0&&ge.originalTotalPrice>0&&ge.originalTotalPrice!==ge.finalPrice&&t.jsxs("span",{className:"text-xs font-bold text-white bg-gradient-to-r from-green-500 to-green-600 px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-full shadow-sm",children:[Math.round(ge.discount),"% OFF"]})]}),be&&t.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-bold text-white bg-gradient-to-r from-primary to-primary-dark px-2 sm:px-3 py-1 sm:py-1.5 rounded-full shadow-md",children:[t.jsx(Vn,{className:"text-xs"}),J," in cart"]})]})]}),be?t.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 sm:gap-2 justify-center sm:justify-start",onClick:Ie=>Ie.stopPropagation(),children:[t.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),N({index:ue,addon:F})},className:"bg-gray-100 text-gray-700 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:bg-gray-200 transition-all text-xs sm:text-sm flex items-center justify-center min-h-[44px] sm:min-h-[48px] shadow-sm hover:shadow flex-1 sm:flex-none",children:"Details"}),t.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),fe(ue)},className:"bg-gray-100 text-gray-700 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:bg-gray-200 transition-all text-xs sm:text-sm flex items-center justify-center min-h-[44px] sm:min-h-[48px] min-w-[44px] sm:min-w-[48px] shadow-sm hover:shadow","aria-label":"Decrease quantity",children:t.jsx(Bn,{className:"text-xs sm:text-sm"})}),t.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-dark text-white px-4 sm:px-5 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold text-sm sm:text-base min-w-[3rem] sm:min-w-[3.5rem] text-center min-h-[44px] sm:min-h-[48px] flex items-center justify-center shadow-md",children:J}),t.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),Be(ue)},className:"bg-gradient-to-r from-primary to-primary-dark text-white px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:from-primary-dark hover:to-primary transition-all text-xs sm:text-sm flex items-center justify-center min-h-[44px] sm:min-h-[48px] min-w-[44px] sm:min-w-[48px] shadow-md hover:shadow-lg","aria-label":"Increase quantity",children:t.jsx(us,{className:"text-xs sm:text-sm"})}),t.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),ne(ue)},className:"bg-red-50 text-red-600 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:bg-red-100 transition-all text-xs sm:text-sm min-h-[44px] sm:min-h-[48px] min-w-[44px] sm:min-w-[48px] flex items-center justify-center shadow-sm hover:shadow","aria-label":`Remove ${F.name} from cart`,title:"Remove",children:t.jsx(Kt,{className:"text-xs sm:text-sm"})})]}):t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",onClick:Ie=>Ie.stopPropagation(),children:[t.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),N({index:ue,addon:F})},className:"flex-1 bg-gray-100 text-gray-700 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:bg-gray-200 transition-all text-xs sm:text-sm flex items-center justify-center min-h-[44px] sm:min-h-[48px] shadow-sm hover:shadow",children:"View Details"}),t.jsxs("button",{onClick:Ie=>{Ie.stopPropagation(),Be(ue)},className:"flex-1 bg-gradient-to-r from-primary to-primary-dark text-white px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:from-primary-dark hover:to-primary transition-all text-xs sm:text-sm flex items-center justify-center gap-1.5 sm:gap-2 min-h-[44px] sm:min-h-[48px] shadow-md hover:shadow-lg","aria-label":`Add ${F.name} to cart`,children:[t.jsx(us,{className:"text-xs sm:text-sm"}),t.jsx("span",{children:"Add"})]})]})]},ue)})})]})}):t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center",children:t.jsx("p",{className:"text-gray-500",children:"No services available"})})]}),t.jsxs("div",{className:"lg:col-span-4 order-2",children:[t.jsxs(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"bg-white rounded-xl sm:rounded-2xl border border-gray-200 shadow-xl hover:shadow-2xl transition-shadow duration-300 p-4 sm:p-6 lg:p-8 lg:sticky lg:top-24 max-h-[calc(100vh-8rem)] overflow-y-auto custom-scrollbar",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 pb-3 sm:pb-4 border-b-2 border-gray-100",children:[t.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-2 sm:gap-3 hover:opacity-80 transition-opacity cursor-pointer flex-1 min-w-0",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-primary/10 to-primary/20 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(Vn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),t.jsx("h2",{className:"text-base sm:text-xl font-bold text-gray-900 truncate",children:"Shopping Cart"})]}),U()>0&&t.jsxs("button",{onClick:()=>k(!0),className:"bg-gradient-to-r from-primary to-primary-dark text-white text-xs font-bold px-2 sm:px-3 py-1 sm:py-1.5 rounded-full shadow-md hover:shadow-lg transition-all flex-shrink-0 ml-2",children:[U()," items"]})]}),L.subServices&&L.subServices.length>0&&t.jsx("div",{className:"mb-4",children:t.jsxs("button",{onClick:()=>{L.subServices[0]&&q(L.subServices[0]._id)},className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-3 rounded-lg font-bold transition-all flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[t.jsx(us,{className:"text-sm"}),t.jsx("span",{children:"Quick Add Main Service"})]})}),U()===0?t.jsxs("div",{className:"text-center py-8 sm:py-12",children:[t.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:t.jsx(Vn,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400"})}),t.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-700 mb-1",children:"Your cart is empty"}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Add services to get started"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-3 mb-6 max-h-[300px] sm:max-h-[400px] overflow-y-auto custom-scrollbar pr-2",children:[L.subServices&&L.subServices.filter(F=>p[F._id]>0).map(F=>{const ue=p[F._id],J=F.finalPrice||F.basePrice||F.price||0,be=F.originalPrice||F.price||0,ge=be>J;return t.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-white border border-gray-200 rounded-lg sm:rounded-xl p-3 sm:p-4 hover:shadow-md transition-all",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 sm:gap-3",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-900 mb-2 sm:mb-3 line-clamp-1",children:F.name}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"flex items-center gap-1 bg-white border-2 border-gray-200 rounded-lg shadow-sm",children:[t.jsx("button",{onClick:()=>G(F._id),className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center text-gray-600 hover:bg-gray-100 hover:text-primary transition rounded-l-lg",children:t.jsx(Bn,{className:"text-xs"})}),t.jsx("span",{className:"w-8 sm:w-10 text-center font-bold text-xs sm:text-sm text-gray-900",children:ue}),t.jsx("button",{onClick:()=>q(F._id),className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center text-gray-600 hover:bg-gray-100 hover:text-primary transition rounded-r-lg",children:t.jsx(us,{className:"text-xs"})})]})})]}),t.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[t.jsxs("p",{className:"text-sm sm:text-base font-bold text-primary",children:["",Math.round(J*ue).toLocaleString("en-IN")]}),ge&&t.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(be*ue).toLocaleString("en-IN")]})]})]})},`sub-${F._id}`)}),L.addOns&&L.addOns.map((F,ue)=>{const J=b[ue]||0;if(J===0)return null;const be=W(F);return t.jsx("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 border border-primary/20 rounded-lg sm:rounded-xl p-3 sm:p-4 hover:shadow-md transition-all",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 sm:gap-3",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-900 mb-2 sm:mb-3 line-clamp-1",children:F.name}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"flex items-center gap-1 bg-white border-2 border-primary/30 rounded-lg shadow-sm",children:[t.jsx("button",{onClick:()=>fe(ue),className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center text-gray-600 hover:bg-primary/10 hover:text-primary transition rounded-l-lg",children:t.jsx(Bn,{className:"text-xs"})}),t.jsx("span",{className:"w-8 sm:w-10 text-center font-bold text-xs sm:text-sm text-primary",children:J}),t.jsx("button",{onClick:()=>Be(ue),className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center text-gray-600 hover:bg-primary/10 hover:text-primary transition rounded-r-lg",children:t.jsx(us,{className:"text-xs"})})]})})]}),t.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[t.jsxs("p",{className:"text-sm sm:text-base font-bold text-primary",children:["",Math.round(be.finalPrice*J).toLocaleString("en-IN")]}),be.originalTotalPrice>0&&be.originalTotalPrice!==be.finalPrice&&t.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(be.originalTotalPrice*J).toLocaleString("en-IN")]})]})]})},`addon-${ue}`)}).filter(F=>F!==null),L.addOns&&L.addOns.map((F,ue)=>!F.subServices||F.subServices.length===0||F.subServices.filter((be,ge)=>{const Ne=`${ue}-${ge}`;return w[Ne]>0}).length===0?null:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"text-xs font-semibold text-primary/70 uppercase tracking-wide mb-1 px-2",children:[F.name," - Sub Services"]}),F.subServices.map((be,ge)=>{const Ne=`${ue}-${ge}`,Ie=w[Ne]||0;if(Ie===0)return null;const Je=be.price||"0",dt=parseFloat(Je.replace(/[,\s]/g,""))||0,Ae=$n(be.icon||"FaTools");return t.jsx("div",{className:"bg-gradient-to-br from-primary/5 to-white border border-primary/10 rounded-lg p-3 ml-3",children:t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[t.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx(Ae,{className:"w-4 h-4 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-bold text-gray-900 mb-1",children:be.name}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>oe(ue,ge),className:"w-6 h-6 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded transition",children:t.jsx(Bn,{className:"text-xs text-gray-700"})}),t.jsx("span",{className:"w-8 text-center font-bold text-xs text-gray-900",children:Ie}),t.jsx("button",{onClick:()=>Y(ue,ge),className:"w-6 h-6 flex items-center justify-center bg-primary/10 hover:bg-primary/20 rounded transition",children:t.jsx(us,{className:"text-xs text-primary"})})]})]})]}),t.jsx("div",{className:"text-right flex-shrink-0",children:t.jsxs("p",{className:"text-sm font-bold text-primary",children:["",Math.round(dt*Ie).toLocaleString("en-IN")]})})]})},Ne)})]},`addon-subservices-${ue}`))]}),L.subServices&&L.subServices.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("button",{onClick:()=>A(!_),className:"w-full flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 rounded-lg transition-all border border-blue-200",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(us,{className:"text-blue-600 text-sm"}),t.jsx("span",{className:"text-sm font-bold text-blue-900",children:"Add More Services"})]}),t.jsx(E.div,{animate:{rotate:_?180:0},transition:{duration:.3},children:t.jsx(W_,{className:"text-blue-600 text-sm"})})]}),_&&t.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"mt-2 space-y-2 max-h-64 overflow-y-auto custom-scrollbar",children:L.subServices.map(F=>{const ue=p[F._id]||0,J=F.finalPrice||F.basePrice||F.price||0,be=$n(F.icon||"FaTools");return t.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 hover:border-primary/50 transition-all",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(be,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-1",children:F.name}),F.shortDescription&&t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:F.shortDescription}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("p",{className:"text-sm font-bold text-primary",children:["",Math.round(J).toLocaleString("en-IN")]}),ue===0?t.jsxs("button",{onClick:()=>q(F._id),className:"px-3 py-1.5 bg-primary text-white rounded-lg text-xs font-semibold hover:bg-primary-dark transition-all flex items-center gap-1",children:[t.jsx(us,{className:"text-xs"}),"Add"]}):t.jsxs("div",{className:"flex items-center gap-1 bg-white border-2 border-primary/30 rounded-lg shadow-sm",children:[t.jsx("button",{onClick:()=>G(F._id),className:"w-7 h-7 flex items-center justify-center text-gray-600 hover:bg-primary/10 hover:text-primary transition rounded-l-lg",children:t.jsx(Bn,{className:"text-xs"})}),t.jsx("span",{className:"w-8 text-center font-bold text-xs text-primary",children:ue}),t.jsx("button",{onClick:()=>q(F._id),className:"w-7 h-7 flex items-center justify-center text-gray-600 hover:bg-primary/10 hover:text-primary transition rounded-r-lg",children:t.jsx(us,{className:"text-xs"})})]})]})]})]})},`available-${F._id}`)})})]}),t.jsxs("div",{className:"pt-6 border-t-2 border-gray-200 mb-6",children:[t.jsxs("div",{className:"space-y-3 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"h-0.5 w-8 bg-primary rounded-full"}),t.jsx("div",{className:"text-xs font-bold text-gray-700 uppercase tracking-wide",children:"Price Breakdown"})]}),L.subServices&&L.subServices.filter(F=>p[F._id]>0).map(F=>{const ue=p[F._id],J=F.finalPrice||F.basePrice||F.price||0;F.originalPrice||F.price;const be=J*ue,ge=F.gst||0,Ne=be*ge/100;return t.jsxs("div",{className:"text-xs space-y-1 pb-2 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"font-semibold text-gray-700",children:[F.name," (Qty: ",ue,")"]}),t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Subtotal"}),t.jsxs("span",{children:["",Math.round(be).toLocaleString("en-IN")]})]}),ge>0&&t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsxs("span",{children:["GST (",ge,"%)"]}),t.jsxs("span",{children:["+",Math.round(Ne).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"flex justify-between font-semibold text-gray-900 pt-1",children:[t.jsx("span",{children:"Total"}),t.jsxs("span",{children:["",Math.round(be+Ne).toLocaleString("en-IN")]})]})]},`breakdown-sub-${F._id}`)}),L.addOns&&L.addOns.map((F,ue)=>{const J=b[ue]||0;if(J===0)return null;const be=W(F);return t.jsxs("div",{className:"text-xs space-y-1 pb-2 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"font-semibold text-gray-700",children:[F.name," (Qty: ",J,")"]}),t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Base Price"}),t.jsxs("span",{children:["",Math.round(be.basePrice*J).toLocaleString("en-IN")]})]}),be.discount>0&&t.jsxs("div",{className:"flex justify-between text-green-600",children:[t.jsxs("span",{children:["Discount (",be.discount,"%)"]}),t.jsxs("span",{children:["-",Math.round(be.discountAmount*J).toLocaleString("en-IN")]})]}),be.serviceCharge>0&&t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Service Charge"}),t.jsxs("span",{children:["+",Math.round(be.serviceCharge*J).toLocaleString("en-IN")]})]}),(be.cgst>0||be.sgst>0)&&t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsxs("span",{children:["GST (",be.cgst+be.sgst,"%)"]}),t.jsxs("span",{children:["+",Math.round(be.gstAmount*J).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"flex justify-between font-semibold text-gray-900 pt-1",children:[t.jsx("span",{children:"Total"}),t.jsxs("span",{children:["",Math.round(be.finalPrice*J).toLocaleString("en-IN")]})]})]},`breakdown-addon-${ue}`)}).filter(F=>F!==null),L.addOns&&L.addOns.map((F,ue)=>{var be;const J=((be=F.subServices)==null?void 0:be.filter((ge,Ne)=>{const Ie=`${ue}-${Ne}`;return w[Ie]>0}))||[];return J.length===0?null:J.map((ge,Ne)=>{const Ie=`${ue}-${Ne}`,Je=w[Ie]||0;if(Je===0)return null;const dt=ge.price||"0",ze=(parseFloat(dt.replace(/[,\s]/g,""))||0)*Je;return t.jsxs("div",{className:"text-xs space-y-1 pb-2 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"font-semibold text-gray-700",children:[ge.name," (",F.name,") (Qty: ",Je,")"]}),t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Price"}),t.jsxs("span",{children:["",Math.round(ze).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"flex justify-between font-semibold text-gray-900 pt-1",children:[t.jsx("span",{children:"Total"}),t.jsxs("span",{children:["",Math.round(ze).toLocaleString("en-IN")]})]})]},Ie)})}).flat().filter(F=>F!==null)]}),t.jsxs("div",{className:"flex items-center justify-between pt-3 sm:pt-4 border-t-2 border-gray-300 bg-gradient-to-r from-primary/5 to-transparent -mx-2 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg",children:[t.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900",children:"Grand Total"}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-xl sm:text-2xl font-black text-primary",children:["",Math.round(M()).toLocaleString("en-IN")]}),(()=>{let F=0;L.subServices&&L.subServices.filter(J=>p[J._id]>0).forEach(J=>{const be=p[J._id],ge=J.originalPrice||J.price||0;F+=ge*be}),L.addOns&&L.addOns.forEach((J,be)=>{const ge=b[be]||0;ge>0&&(F+=(J.basePrice||0)*ge)}),L.addOns&&L.addOns.forEach((J,be)=>{J.subServices&&J.subServices.forEach((ge,Ne)=>{const Ie=`${be}-${Ne}`,Je=w[Ie]||0;if(Je>0){const dt=ge.price||"0",Ae=parseFloat(dt.replace(/[,\s]/g,""))||0;F+=Ae*Je}})});const ue=M();return F>ue?t.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(F).toLocaleString("en-IN")]}):null})()]})]})]}),D()?t.jsx(t.Fragment,{children:t.jsxs("button",{onClick:ce,className:"w-full bg-gradient-to-r from-primary to-primary-dark text-white py-3 sm:py-4 rounded-lg sm:rounded-xl font-bold hover:shadow-xl transition-all text-sm sm:text-base mb-3 flex items-center justify-center gap-2 min-h-[48px] sm:min-h-[52px] shadow-lg transform hover:-translate-y-0.5",children:[t.jsx(Vn,{className:"w-5 h-5 sm:w-6 sm:h-6"}),t.jsx("span",{children:"Book Now"})]})}):t.jsxs("div",{className:"w-full bg-gray-400 text-white py-3 sm:py-4 rounded-lg sm:rounded-xl font-bold text-sm sm:text-base mb-4 flex items-center justify-center gap-2 min-h-[48px] sm:min-h-[52px] shadow-lg cursor-not-allowed",children:[t.jsx(Kt,{className:"w-5 h-5 sm:w-6 sm:h-6"}),t.jsxs("span",{children:["Service Not Available in ",(P==null?void 0:P.name)||"Your City"]})]})]})]}),t.jsxs(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"bg-white rounded-xl sm:rounded-2xl border border-gray-200 shadow-xl transition-shadow duration-300 p-3 sm:p-6 lg:p-8 mt-2",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4 pb-2 sm:pb-3 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-primary/10 to-primary/20 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(jo,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),t.jsx("h2",{className:"text-sm sm:text-lg font-bold text-gray-900 truncate",children:"Sub-Services"})]}),we&&we.length>0&&t.jsx("span",{className:"bg-primary text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0 ml-2",children:we.length})]}),we&&we.length>0?t.jsxs("div",{className:"relative w-full",children:[t.jsx("div",{className:"overflow-hidden rounded-lg",children:t.jsx("div",{className:"flex transition-transform duration-500 ease-out",style:{transform:`translateX(-${z*100}%)`},children:we.map((F,ue)=>{const J=$n(F.icon||"FaTools"),be=F.price||"0",ge=parseFloat(be.replace(/[,\s]/g,""))||0,Ne=`${F.addonIndex}-${F.subServiceIndex}`,Ie=w[Ne]||0,Je=Ie>0;return t.jsx("div",{className:"w-full flex-shrink-0 box-border",children:t.jsxs("div",{className:`${Je?"bg-primary/5 border-primary":"bg-gray-50 border-gray-200"} border-2 rounded-lg p-2.5 sm:p-4`,children:[t.jsxs("div",{className:"flex gap-1.5 sm:gap-2 mb-1.5 sm:mb-2",children:[t.jsx("div",{className:`w-9 h-9 sm:w-12 sm:h-12 rounded-lg flex items-center justify-center flex-shrink-0 ${Je?"bg-primary":"bg-primary/10"}`,children:t.jsx(J,{className:`w-4 h-4 sm:w-6 sm:h-6 ${Je?"text-white":"text-primary"}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-xs sm:text-sm font-bold text-gray-900 mb-0.5 sm:mb-1 line-clamp-2 leading-tight",children:F.name}),t.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[t.jsxs("span",{className:"text-sm sm:text-lg font-black text-primary",children:["",Math.round(ge).toLocaleString("en-IN")]}),Je&&t.jsxs("span",{className:"text-xs font-bold text-white bg-primary px-1.5 py-0.5 rounded-full",children:[Ie,"x"]})]})]})]}),F.description&&t.jsx("p",{className:"text-xs text-gray-600 mb-1.5 sm:mb-2 line-clamp-2 leading-snug",children:F.description}),F.includes&&F.includes.length>0&&t.jsx("div",{className:"mb-1.5 sm:mb-2 pb-1.5 sm:pb-2 border-t border-gray-200 pt-1.5 sm:pt-2",children:t.jsxs("ul",{className:"space-y-0.5",children:[F.includes.slice(0,2).map((dt,Ae)=>t.jsxs("li",{className:"text-xs text-gray-700 flex items-start gap-1",children:[t.jsx(He,{className:"text-green-500 text-xs mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"line-clamp-1 leading-tight",children:dt})]},Ae)),F.includes.length>2&&t.jsxs("li",{className:"text-xs text-primary font-semibold ml-3.5",children:["+",F.includes.length-2," more"]})]})}),t.jsx("div",{className:"flex items-center justify-end gap-1 sm:gap-1.5 pt-1.5 sm:pt-2 border-t border-gray-200",children:Je?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>oe(F.addonIndex,F.subServiceIndex),className:"bg-gray-200 text-gray-700 w-6 h-6 sm:w-7 sm:h-7 rounded flex items-center justify-center hover:bg-gray-300",children:t.jsx(Bn,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})}),t.jsx("span",{className:"text-xs sm:text-sm font-bold text-primary w-5 sm:w-6 text-center",children:Ie}),t.jsx("button",{onClick:()=>Y(F.addonIndex,F.subServiceIndex),className:"bg-primary text-white w-6 h-6 sm:w-7 sm:h-7 rounded flex items-center justify-center hover:bg-primary-dark",children:t.jsx(us,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})})]}):t.jsxs("button",{onClick:()=>{F.addonIndex!==void 0&&F.subServiceIndex!==void 0&&Y(F.addonIndex,F.subServiceIndex)},className:"bg-primary text-white px-2.5 sm:px-3 py-1.5 rounded-lg font-semibold hover:bg-primary-dark flex items-center gap-1 text-xs",children:[t.jsx(us,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),"Add"]})})]})},`addon-sub-${ue}`)})})}),we.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>Q(F=>(F-1+we.length)%we.length),className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-2 w-8 h-8 bg-white rounded-full shadow-lg flex items-center justify-center text-gray-700 hover:text-primary z-10 border border-gray-200",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsx("button",{onClick:()=>Q(F=>(F+1)%we.length),className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-2 w-8 h-8 bg-white rounded-full shadow-lg flex items-center justify-center text-gray-700 hover:text-primary z-10 border border-gray-200",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),we.length>1&&t.jsx("div",{className:"flex justify-center gap-1.5 mt-3",children:we.map((F,ue)=>t.jsx("button",{onClick:()=>Q(ue),className:`transition-all rounded-full ${ue===z?"w-6 h-1.5 bg-primary":"w-1.5 h-1.5 bg-gray-300"}`},`indicator-${ue}`))})]}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(jo,{className:"w-8 h-8 text-gray-400"})}),t.jsx("p",{className:"text-sm text-gray-500",children:"No add-on sub-services available"})]})]})]})]})})}),L.subServices&&L.subServices.length>0&&t.jsx("section",{className:"py-6 sm:py-8 lg:py-12 bg-gradient-to-b from-gray-50 to-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"mb-4 sm:mb-6",children:t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-primary/10 to-primary/20 rounded-xl flex items-center justify-center",children:t.jsx(jo,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:"Available Service Packages"}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Choose from our curated service packages"})]})]})}),t.jsxs("div",{className:"relative overflow-hidden",children:[t.jsx("div",{className:"flex gap-3 sm:gap-4 overflow-x-auto pb-4 snap-x snap-mandatory scrollbar-hide custom-scrollbar -mx-4 px-4 sm:mx-0 sm:px-0",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:L.subServices.map((F,ue)=>{var It,Ft;const J=p[F._id]||0,be=J>0,ge=F.finalPrice||F.basePrice||F.price||0,Ne=F.originalPrice||F.price||0,Ie=Ne>ge;$n(F.icon||"FaTools");const Je=Array.isArray(F.icon)&&F.icon.length>0?F.icon[0]:F.icon||"",dt=F.name.match(/(\d+)\s*(AC|unit|item)/i),Ae=dt?parseInt(dt[1]):1,ze=ge/Ae;return t.jsx(E.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.6,delay:ue*.15,ease:"easeOut"},className:"flex-shrink-0 w-72 sm:w-80 md:w-96 lg:w-[400px] snap-start",children:t.jsxs("div",{className:`bg-white rounded-2xl border-2 ${be?"border-primary shadow-xl":"border-gray-200 hover:border-primary/50"} shadow-lg hover:shadow-xl transition-all h-full flex flex-col`,children:[dt&&t.jsx("div",{className:"absolute top-0 left-0 z-10",children:t.jsxs("span",{className:"text-xs font-bold text-white bg-gray-900 px-3 py-1.5 rounded-br-lg",children:[dt[1]," ",((It=dt[2])==null?void 0:It.toUpperCase())||"UNIT"," PACK"]})}),Je&&t.jsx("div",{className:"w-full h-48 overflow-hidden rounded-t-2xl",children:t.jsx("img",{src:Je,alt:F.name,className:"w-full h-full object-cover",onError:Se=>{Se.target.style.display="none"}})}),t.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:F.name}),F.description&&t.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:F.description}),t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(vc,{className:"text-yellow-400 text-sm"}),t.jsx("span",{className:"text-sm font-semibold",children:F.rating>0?F.rating.toFixed(2):"4.77"}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",((Ft=F.reviews)==null?void 0:Ft.length)||0," reviews)"]})]}),t.jsxs("div",{className:"mb-3",children:[t.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[t.jsxs("span",{className:"text-2xl font-black text-gray-900",children:["",Math.round(ge).toLocaleString("en-IN")]}),Ie&&t.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["",Math.round(Ne).toLocaleString("en-IN")]})]}),Ae>1&&t.jsxs("p",{className:"text-xs text-emerald-600 font-semibold",children:["",Math.round(ze)," per ",(dt==null?void 0:dt[2])||"unit"]})]}),F.duration&&t.jsxs("div",{className:"flex items-center gap-1 mb-3 text-xs text-gray-600",children:[t.jsx(ai,{className:"text-xs"}),t.jsx("span",{children:F.duration})]}),F.includes&&F.includes.length>0&&t.jsxs("div",{className:"mb-4 flex-1",children:[t.jsx("p",{className:"text-xs font-bold text-gray-700 mb-2",children:"What's Included:"}),t.jsxs("ul",{className:"space-y-1",children:[F.includes.slice(0,3).map((Se,O)=>t.jsxs("li",{className:"text-xs text-gray-700 flex items-start gap-2",children:[t.jsx(He,{className:"text-green-500 text-xs mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"line-clamp-1",children:Se})]},O)),F.includes.length>3&&t.jsxs("li",{className:"text-xs text-gray-500 italic",children:["+",F.includes.length-3," more"]})]})]}),t.jsx("div",{className:"mt-auto",children:be?t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-center gap-3 bg-primary/10 rounded-xl p-2",children:[t.jsx("button",{onClick:()=>G(F._id),className:"w-10 h-10 bg-white hover:bg-gray-100 text-gray-700 rounded-lg font-bold transition-all flex items-center justify-center shadow-sm",children:t.jsx(Bn,{})}),t.jsx("span",{className:"text-xl font-black text-primary min-w-[40px] text-center",children:J}),t.jsx("button",{onClick:()=>q(F._id),className:"w-10 h-10 bg-primary hover:bg-primary-dark text-white rounded-lg font-bold transition-all flex items-center justify-center shadow-sm",children:t.jsx(us,{})})]}),t.jsxs("p",{className:"text-xs text-center text-gray-600",children:["Total: ",Math.round(ge*J).toLocaleString("en-IN")]})]}):t.jsxs("button",{onClick:()=>q(F._id),className:"w-full bg-gradient-to-r from-primary to-primary-dark text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[t.jsx(us,{className:"w-4 h-4"}),"Add to Cart"]})})]})]})},F._id)})}),t.jsx("div",{className:"text-center mt-4",children:t.jsxs("p",{className:"text-xs text-gray-500 flex items-center justify-center gap-2",children:[t.jsx(MC,{className:"animate-pulse"}),"Scroll to see more packages"]})})]})]})}),(L.included&&L.included.length>0||L.excluded&&L.excluded.length>0)&&t.jsx("section",{className:"py-12 sm:py-16 bg-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[L.included&&L.included.length>0&&t.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"bg-white rounded-2xl shadow-md border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"bg-emerald-500 px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"bg-white/20 rounded-lg p-2",children:t.jsx(He,{className:"text-white text-lg"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-white",children:"What's Included"}),t.jsx("p",{className:"text-white/80 text-xs",children:"Everything you get"})]})]})}),t.jsx("div",{className:"p-6 space-y-2.5",children:L.included.map((F,ue)=>t.jsxs(E.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:ue*.05},className:"flex items-center gap-3 bg-emerald-50 p-3.5 rounded-lg border border-emerald-200 hover:bg-emerald-100 transition-all group",children:[t.jsx("div",{className:"bg-emerald-500 rounded-full p-1.5 flex-shrink-0",children:t.jsx(He,{className:"text-white text-xs"})}),t.jsx("span",{className:"text-gray-800 font-medium text-sm flex-1 leading-relaxed",children:F})]},ue))})]}),L.excluded&&L.excluded.length>0&&t.jsxs(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6,delay:.2},className:"bg-white rounded-2xl shadow-md border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"bg-rose-500 px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"bg-white/20 rounded-lg p-2",children:t.jsx(Kt,{className:"text-white text-lg"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-white",children:"What's Not Included"}),t.jsx("p",{className:"text-white/80 text-xs",children:"Items not covered"})]})]})}),t.jsx("div",{className:"p-6 space-y-2.5",children:L.excluded.map((F,ue)=>t.jsxs(E.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:ue*.05},className:"flex items-center gap-3 bg-rose-50 p-3.5 rounded-lg border border-rose-200 hover:bg-rose-100 transition-all group",children:[t.jsx("div",{className:"bg-rose-500 rounded-full p-1.5 flex-shrink-0",children:t.jsx(Kt,{className:"text-white text-xs"})}),t.jsx("span",{className:"text-gray-800 font-medium text-sm flex-1 leading-relaxed",children:F})]},ue))})]})]})})}),L.subServices&&L.subServices.length>0&&t.jsx("section",{"data-packages-section":!0,className:"py-8 sm:py-12 bg-gradient-to-b from-white via-gray-50/30 to-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-12 gap-6",children:[t.jsx("div",{className:"lg:col-span-8 order-1",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Service Packages"}),t.jsx("p",{className:"text-gray-600",children:"Choose from our curated service packages"})]}),t.jsx("div",{className:"space-y-6",children:L.subServices.map(F=>{var Ft,Se;const ue=p[F._id]||0,J=ue>0,be=F.finalPrice||F.basePrice||F.price||0,ge=F.originalPrice||F.price||0,Ne=ge>be,Ie=Array.isArray(F.icon)&&F.icon.length>0?F.icon[0]:F.icon||"",Je=F.name.match(/(\d+)\s*(AC|unit|item)/i),dt=Je?parseInt(Je[1]):1,Ae=be/dt,ze=((Ft=F.reviews)==null?void 0:Ft.length)||0,It=ze>=1e6?`${(ze/1e6).toFixed(1)}M`:ze>=1e3?`${(ze/1e3).toFixed(1)}K`:ze.toString();return t.jsxs(E.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3},className:`bg-white rounded-xl border-2 ${J?"border-primary shadow-lg":"border-gray-200 hover:border-primary/30"} overflow-hidden transition-all relative`,children:[Je&&t.jsx("div",{className:"absolute top-0 left-0 z-10",children:t.jsxs("span",{className:"text-xs font-bold text-white bg-gray-900 px-3 py-1.5 rounded-br-lg",children:[Je[1]," ",((Se=Je[2])==null?void 0:Se.toUpperCase())||"UNIT"," PACK"]})}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 p-4 sm:p-5",children:[t.jsxs("div",{className:"flex-1 min-w-0 order-2 sm:order-1",children:[t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:F.name}),F.description&&t.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2 sm:mb-3 line-clamp-2",children:F.description}),t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-2 sm:mb-3",children:[t.jsx(vc,{className:"text-yellow-400 text-xs sm:text-sm"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:F.rating>0?F.rating.toFixed(2):"4.77"}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",It," reviews)"]})]}),t.jsxs("div",{className:"mb-2 sm:mb-3",children:[t.jsxs("div",{className:"flex items-baseline gap-1.5 sm:gap-2 mb-1 flex-wrap",children:[t.jsxs("span",{className:"text-xl sm:text-2xl font-black text-gray-900",children:["",Math.round(be).toLocaleString("en-IN")]}),Ne&&t.jsxs("span",{className:"text-sm sm:text-base text-gray-500 line-through",children:["",Math.round(ge).toLocaleString("en-IN")]})]}),dt>1&&t.jsxs("p",{className:"text-xs sm:text-sm text-emerald-600 font-semibold",children:["",Math.round(Ae)," per ",(Je==null?void 0:Je[2])||"unit"]})]}),F.duration&&t.jsxs("div",{className:"flex items-center gap-1 mb-2 sm:mb-3 text-xs sm:text-sm text-gray-600",children:[t.jsx(ai,{className:"text-xs"}),t.jsx("span",{children:F.duration})]}),F.includes&&F.includes.length>0&&t.jsx("ul",{className:"space-y-1 mb-2 sm:mb-3",children:F.includes.slice(0,2).map((O,de)=>t.jsxs("li",{className:"text-xs text-gray-700 flex items-start gap-1.5 sm:gap-2",children:[t.jsx("span",{className:"text-gray-400 mt-0.5 sm:mt-1",children:""}),t.jsx("span",{className:"line-clamp-1",children:O})]},de))}),t.jsx("button",{className:"text-xs text-primary hover:text-primary-dark font-semibold",children:"View details "})]}),Ie&&t.jsx("div",{className:"flex-shrink-0 w-full sm:w-32 md:w-40 h-32 sm:h-32 md:h-40 lg:h-48 order-1 sm:order-2",children:t.jsx("img",{src:Ie,alt:F.name,className:"w-full h-full object-cover rounded-lg border border-gray-200",onError:O=>{O.target.style.display="none"}})}),t.jsx("div",{className:"flex-shrink-0 flex flex-row sm:flex-col items-center justify-between sm:justify-center gap-2 order-3 sm:order-3 w-full sm:w-auto",children:J?t.jsxs("div",{className:"flex items-center gap-2 justify-center sm:justify-start w-full sm:w-auto",children:[t.jsx("button",{onClick:()=>G(F._id),className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center text-gray-700 hover:bg-gray-100 rounded-lg border border-gray-200 transition",children:t.jsx(Bn,{className:"text-xs sm:text-sm"})}),t.jsx("span",{className:"w-10 sm:w-12 text-center font-bold text-gray-900 text-base sm:text-lg",children:ue}),t.jsx("button",{onClick:()=>q(F._id),className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center text-gray-700 hover:bg-gray-100 rounded-lg border border-gray-200 transition",children:t.jsx(us,{className:"text-xs sm:text-sm"})})]}):t.jsx("button",{onClick:()=>q(F._id),className:"w-full sm:w-auto bg-primary text-white px-4 sm:px-6 py-2.5 sm:py-3 rounded-lg font-semibold hover:bg-primary-dark transition-all text-xs sm:text-sm whitespace-nowrap min-h-[44px]",children:"Add to Cart"})})]})]},F._id)})})]})}),t.jsx("div",{className:"lg:col-span-4 order-2",children:t.jsx(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"space-y-4 sm:space-y-6",children:t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-md p-4 sm:p-5 lg:sticky lg:top-24",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4 gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[t.jsx(R,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary flex-shrink-0"}),t.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 truncate",children:L.name})]}),t.jsxs("div",{className:"flex flex-col items-end flex-shrink-0",children:[t.jsx("div",{className:"bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Instant"}),t.jsx("span",{className:"text-xs text-gray-500 mt-0.5",children:"In 33 mins"})]})]}),L.averageRating&&t.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm mb-3 sm:mb-4 p-2 bg-yellow-50 rounded-lg border border-yellow-100",children:[t.jsx(vc,{className:"text-yellow-500 fill-yellow-500 text-xs sm:text-sm"}),t.jsx("span",{className:"font-bold text-gray-900",children:L.averageRating}),t.jsxs("span",{className:"text-gray-600 text-xs",children:["(",(L.totalReviews||0).toLocaleString("en-IN")," reviews)"]})]}),t.jsxs("div",{className:"pt-3 sm:pt-4 border-t border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[t.jsx("h3",{className:"text-xs sm:text-sm font-bold text-gray-900",children:"Nexo Promise"}),t.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-primary/10 rounded-full flex items-center justify-center border-2 border-primary/20 flex-shrink-0",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xs font-bold text-primary leading-tight",children:"QUALITY"}),t.jsx("div",{className:"text-xs font-bold text-primary leading-tight",children:"ASSURED"})]})})]}),t.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[t.jsx(He,{className:"text-green-500 text-xs flex-shrink-0"}),t.jsx("span",{className:"text-xs text-gray-700",children:"Verified Professionals"})]}),t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[t.jsx(He,{className:"text-green-500 text-xs flex-shrink-0"}),t.jsx("span",{className:"text-xs text-gray-700",children:"Hassle Free Booking"})]}),t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[t.jsx(He,{className:"text-green-500 text-xs flex-shrink-0"}),t.jsx("span",{className:"text-xs text-gray-700",children:"Transparent Pricing"})]})]})]})]})})})]})})}),L.reviews&&L.reviews.length>0&&t.jsx("section",{className:"py-12 sm:py-16 bg-gray-50",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3",children:"What Our Customers Say"}),L.averageRating&&t.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[t.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((F,ue)=>t.jsx(vc,{className:`w-6 h-6 sm:w-7 sm:h-7 ${ue<Math.floor(L.averageRating)?"text-yellow-400":ue<L.averageRating?"text-yellow-300":"text-gray-300"}`},ue))}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"text-3xl sm:text-4xl font-black text-gray-900",children:L.averageRating}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Based on ",L.totalReviews," reviews"]})]})]})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:L.reviews.slice(0,6).map((F,ue)=>{var J,be;return t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:ue*.1},whileHover:{y:-4,scale:1.02},className:"bg-white p-4 rounded-xl shadow-md border border-gray-100 hover:shadow-lg transition-all group",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((ge,Ne)=>t.jsx(vc,{className:`w-4 h-4 ${Ne<F.rating?"text-yellow-400":"text-gray-300"}`},Ne))}),t.jsxs("span",{className:"text-xs font-bold text-gray-600 ml-1",children:[F.rating,"/5"]})]}),t.jsx("p",{className:"text-gray-700 mb-3 text-sm leading-relaxed line-clamp-3",children:F.comment}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-primary-dark rounded-full flex items-center justify-center text-white font-bold text-xs",children:(((J=F.user)==null?void 0:J.name)||"A")[0].toUpperCase()}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-bold text-gray-900",children:((be=F.user)==null?void 0:be.name)||"Anonymous"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Verified Customer"})]})]}),t.jsx("span",{className:"text-xs text-gray-400",children:new Date(F.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]},F._id||ue)})})]})})}),Object.keys(p).length>0&&t.jsx("section",{id:"price-breakdown",className:"py-12 sm:py-16 bg-white",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3",children:"Price Breakdown"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Transparent pricing for selected packages"})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 mb-6 overflow-hidden",children:t.jsx("div",{className:"divide-y divide-gray-100",children:L.subServices.filter(F=>p[F._id]>0).map(F=>{const ue=p[F._id],J=F.finalPrice||F.basePrice||F.price||0,be=F.originalPrice||F.price||0,ge=be*ue,Ne=J*ue,Ie=(be-J)*ue,Je=F.gst||0,dt=Ne*Je/100;return t.jsxs("div",{className:"px-6 py-4 space-y-2 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"font-semibold text-gray-900 mb-2",children:[F.name," (Qty: ",ue,")"]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Base Price"}),t.jsxs("span",{className:"text-gray-900",children:["",Math.round(ge)]})]}),Ie>0&&t.jsxs("div",{className:"flex items-center justify-between text-sm text-green-600",children:[t.jsxs("span",{children:["Discount (",F.discount||0,"%)"]}),t.jsxs("span",{children:["-",Math.round(Ie)]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm font-medium pt-1 border-t border-gray-100",children:[t.jsx("span",{className:"text-gray-700",children:"Subtotal"}),t.jsxs("span",{className:"text-gray-900",children:["",Math.round(Ne)]})]}),Je>0&&t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsxs("span",{children:["GST (",Je,"%)"]}),t.jsxs("span",{children:["+",Math.round(dt)]})]}),t.jsxs("div",{className:"flex items-center justify-between text-base font-bold pt-2 border-t-2 border-gray-200",children:[t.jsx("span",{className:"text-gray-900",children:"Total"}),t.jsxs("span",{className:"text-primary",children:["",Math.round(Ne+dt)]})]})]},F._id)})})}),t.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 mb-8",children:t.jsx("div",{className:"px-6 py-5",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Total Amount Payable"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Inclusive of all taxes & charges"})]}),t.jsx("div",{className:"text-right",children:t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsx("span",{className:"text-base font-semibold text-gray-600",children:""}),t.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:(()=>{let F=0;return L.subServices.filter(ue=>p[ue._id]>0).forEach(ue=>{const J=p[ue._id],ge=(ue.finalPrice||ue.basePrice||ue.price||0)*J,Ne=ue.gst||0;F+=ge+ge*Ne/100}),Math.round(F).toLocaleString("en-IN")})()})]})})]})})}),t.jsxs("div",{className:"text-center mt-8",children:[t.jsxs("button",{onClick:s,className:"bg-[#25D366] text-white px-10 py-4 rounded-lg text-base font-bold shadow-md hover:shadow-lg transition-all duration-300 flex items-center gap-2 mx-auto w-full sm:w-auto justify-center min-h-[48px]","aria-label":"Book this service on WhatsApp",children:[t.jsx(vr,{className:"w-5 h-5"}),t.jsx("span",{children:"Book Selected Packages"})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Click to book via WhatsApp"})]})]})})}),d.length>0&&t.jsx("section",{className:"py-12 sm:py-16 bg-gray-50",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:[t.jsxs("div",{className:"text-center mb-10",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3",children:"Explore Other Popular Services"}),t.jsx("p",{className:"text-base text-gray-600",children:"Discover more services we offer"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map((F,ue)=>{const J=F.icon||ya;return t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:ue*.1},whileHover:{y:-4,scale:1.02},onClick:()=>r(`/service/${F.slug}`),className:"bg-white p-5 rounded-xl border-2 border-gray-100 cursor-pointer hover:border-primary/40 hover:shadow-lg transition-all group",children:t.jsxs("div",{className:"text-center",children:[t.jsx(E.div,{whileHover:{rotate:360,scale:1.1},transition:{duration:.6},className:"inline-block mb-4",children:t.jsx("div",{className:"bg-gradient-to-br from-primary/10 to-primary/20 rounded-xl p-4 group-hover:from-primary/20 group-hover:to-primary/30 transition-all",children:t.jsx(J,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary"})})}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-primary transition-colors",children:F.name}),F.description&&t.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2 min-h-[2.5rem]",children:F.description}),t.jsxs(E.div,{whileHover:{x:5},className:"mt-4 inline-flex items-center gap-2 bg-primary/10 text-primary font-bold px-4 py-2 rounded-full group-hover:bg-primary group-hover:text-white transition-all text-sm",children:["View Details",t.jsx("span",{className:"text-base",children:""})]})]})},F._id||ue)})})]})})}),t.jsxs("section",{className:"py-12 sm:py-16 bg-gradient-to-br from-primary via-primary-dark to-primary text-white relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Why Book on WhatsApp"}),t.jsx("p",{className:"text-base text-white/90",children:"Experience the easiest way to book services"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20 hover:bg-white/20 transition-all text-center",children:[t.jsx("div",{className:"bg-yellow-400/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(Al,{className:"text-xl text-yellow-300"})}),t.jsx("h3",{className:"text-base font-bold mb-1",children:"Instant Response"}),t.jsx("p",{className:"text-xs text-white/80",children:"Get immediate confirmation"})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20 hover:bg-white/20 transition-all text-center",children:[t.jsx("div",{className:"bg-green-400/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(qa,{className:"text-xl text-green-300"})}),t.jsx("h3",{className:"text-base font-bold mb-1",children:"Verified Experts"}),t.jsx("p",{className:"text-xs text-white/80",children:"Background-checked professionals"})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20 hover:bg-white/20 transition-all text-center",children:[t.jsx("div",{className:"bg-blue-400/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(tc,{className:"text-xl text-blue-300"})}),t.jsx("h3",{className:"text-base font-bold mb-1",children:"Pay After Service"}),t.jsx("p",{className:"text-xs text-white/80",children:"No upfront payment required"})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.4},className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20 hover:bg-white/20 transition-all text-center",children:[t.jsx("div",{className:"bg-purple-400/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(jo,{className:"text-xl text-purple-300"})}),t.jsx("h3",{className:"text-base font-bold mb-1",children:"Full Transparency"}),t.jsx("p",{className:"text-xs text-white/80",children:"Clear pricing & terms"})]})]}),t.jsx("div",{className:"text-center",children:t.jsxs(E.button,{onClick:s,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-8 py-4 rounded-full text-base font-bold hover:bg-[#20BA5A] transition-all duration-300 shadow-xl hover:shadow-[#25D366]/50 flex items-center gap-2 mx-auto",children:[t.jsx(vr,{className:"w-5 h-5"}),"Book Now on WhatsApp"]})})]})})]}),t.jsx("section",{className:"py-8 bg-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:t.jsx(Ht,{to:"/#services",className:"inline-flex items-center text-primary hover:text-primary-dark font-semibold text-base sm:text-lg transition-colors",children:" Back to All Services"})})})]}),v&&t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay addon-modal",style:{zIndex:9100},onClick:()=>N(null),children:t.jsxs("div",{className:"relative max-w-3xl w-full mx-4 sm:mx-6 lg:mx-8",children:[t.jsx("button",{onClick:F=>{F.stopPropagation(),N(null)},className:"absolute -top-12 right-0 w-10 h-10 flex items-center justify-center bg-white hover:bg-gray-100 rounded-full transition-all text-gray-600 hover:text-gray-900 shadow-lg z-[9998]","aria-label":"Close modal",children:t.jsx(Kt,{className:"text-xl"})}),t.jsxs(E.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:F=>F.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-h-[85vh] sm:max-h-[90vh] overflow-hidden flex flex-col",children:[t.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-4 sm:px-6 py-4 sm:py-5 z-20",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"flex justify-center mb-3",children:t.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-primary to-primary-dark rounded-xl flex items-center justify-center shadow-md",children:_t.createElement($n(v.addon.icon||"FaTools"),{className:"text-white text-xl"})})}),t.jsx("h2",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:v.addon.name}),v.addon.description&&t.jsx("p",{className:"text-sm text-gray-600 text-center leading-relaxed mb-4",children:v.addon.description}),(()=>{const F=b[v.index]||0,ue=F>0;return t.jsx("button",{onClick:()=>{ue||Be(v.index),N(null)},className:`w-full px-3 py-2 rounded-lg font-medium transition-all text-sm flex items-center justify-center gap-2 ${ue?"bg-green-500 text-white hover:bg-green-600 cursor-default":"bg-primary text-white hover:bg-primary-dark"}`,children:ue?t.jsxs(t.Fragment,{children:[t.jsx(He,{className:"text-sm"}),t.jsxs("span",{children:["Already in Cart (",F,")"]})]}):t.jsxs(t.Fragment,{children:[t.jsx(Vn,{className:"text-sm"}),t.jsx("span",{children:"Add to Cart"})]})})})()]})}),t.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 sm:p-6 space-y-4 sm:space-y-6",children:[v.addon.subServices&&v.addon.subServices.length>0&&t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-gray-200",children:[t.jsx(jo,{className:"text-primary text-base"}),t.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Sub-Services"}),t.jsxs("span",{className:"text-xs text-gray-500 ml-auto",children:["(",v.addon.subServices.length,")"]})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-[280px] overflow-y-auto custom-scrollbar",children:v.addon.subServices.map((F,ue)=>{const J=$n(F.icon||"FaTools"),be=`${v.index}-${ue}`,ge=w[be]||0,Ne=ge>0;return t.jsxs("div",{className:`bg-white p-3 rounded-lg border transition-all ${Ne?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/30"}`,children:[t.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[t.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 ${Ne?"bg-primary text-white":"bg-primary/10 text-primary"}`,children:t.jsx(J,{className:"w-4 h-4"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1 line-clamp-1",children:F.name}),t.jsx("p",{className:"text-sm font-bold text-primary",children:F.price}),Ne&&t.jsxs("span",{className:"text-xs text-primary font-medium",children:["(",ge," in cart)"]})]})]}),Ne?t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),oe(v.index,ue)},className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-md hover:bg-gray-200 transition-all text-xs flex items-center justify-center min-w-[28px]","aria-label":"Decrease",children:t.jsx(Bn,{className:"text-xs"})}),t.jsx("div",{className:"bg-primary text-white px-3 py-1 rounded-md font-semibold text-sm min-w-[2rem] text-center",children:ge}),t.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),Y(v.index,ue)},className:"bg-primary text-white px-2 py-1 rounded-md hover:bg-primary-dark transition-all text-xs flex items-center justify-center min-w-[28px]","aria-label":"Increase",children:t.jsx(us,{className:"text-xs"})})]}):t.jsxs("button",{onClick:Ie=>{Ie.stopPropagation(),Y(v.index,ue)},className:"w-full bg-primary text-white px-3 py-1.5 rounded-md font-medium text-xs hover:bg-primary-dark transition-all flex items-center justify-center gap-1",children:[t.jsx(us,{className:"text-xs"}),t.jsx("span",{children:"Add"})]})]},ue)})})]}),(()=>{const F=W(v.addon),ue=b[v.index]||0;return t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h3",{className:"text-base font-semibold text-gray-900 flex items-center gap-2",children:[t.jsx(Md,{className:"text-primary"}),t.jsx("span",{children:"Price Breakdown"})]}),ue>0&&t.jsxs("span",{className:"bg-primary text-white text-xs font-semibold px-2 py-1 rounded-full",children:[ue," in cart"]})]}),t.jsxs("div",{className:"space-y-2 bg-white rounded-lg p-3 border border-gray-100 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Base Price:"}),t.jsxs("span",{className:"font-semibold text-gray-900",children:["",Math.round(F.basePrice).toLocaleString("en-IN")]})]}),F.discount>0&&t.jsxs("div",{className:"flex justify-between bg-green-50 rounded px-2 py-1",children:[t.jsxs("span",{className:"text-green-700 font-medium flex items-center gap-1",children:[t.jsx(rJ,{className:"text-xs"}),"Discount (",F.discount,"%):"]}),t.jsxs("span",{className:"font-semibold text-green-700",children:["-",Math.round(F.discountAmount).toLocaleString("en-IN")]})]}),F.serviceCharge>0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Service Charge:"}),t.jsxs("span",{className:"font-semibold text-gray-900",children:["+",Math.round(F.serviceCharge).toLocaleString("en-IN")]})]}),(F.cgst>0||F.sgst>0)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-gray-600",children:["GST (",F.cgst+F.sgst,"%):"]}),t.jsxs("span",{className:"font-semibold text-gray-900",children:["+",Math.round(F.gstAmount).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"flex justify-between pt-2 mt-2 border-t border-gray-200",children:[t.jsx("span",{className:"font-bold text-gray-900",children:"Total:"}),t.jsxs("span",{className:"text-xl font-black text-primary",children:["",Math.round(F.finalPrice).toLocaleString("en-IN")]})]})]})]})})(),v.addon.included&&v.addon.included.length>0||v.addon.excluded&&v.addon.excluded.length>0?t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[v.addon.included&&v.addon.included.length>0&&t.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[t.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(He,{className:"text-green-500 text-sm"}),t.jsx("span",{children:"Included"})]}),t.jsx("ul",{className:"space-y-1.5",children:v.addon.included.map((F,ue)=>t.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-700",children:[t.jsx(He,{className:"text-green-500 text-xs mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"flex-1",children:F})]},ue))})]}),v.addon.excluded&&v.addon.excluded.length>0&&t.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[t.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(Kt,{className:"text-red-500 text-sm"}),t.jsx("span",{children:"Not Included"})]}),t.jsx("ul",{className:"space-y-1.5",children:v.addon.excluded.map((F,ue)=>t.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-700",children:[t.jsx(Kt,{className:"text-red-500 text-xs mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"flex-1",children:F})]},ue))})]})]}):null]})]})]})}),S&&t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay cart-modal",style:{zIndex:9200},onClick:()=>k(!1),children:t.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:F=>F.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full mx-4 sm:mx-6 lg:mx-8 max-h-[90vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-primary via-primary-dark to-primary px-4 sm:px-6 py-4 sm:py-5 flex items-center justify-between z-20",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(Vn,{className:"text-white text-xl"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Shopping Cart"}),t.jsxs("p",{className:"text-white/90 text-sm",children:[U()," items"]})]})]}),t.jsx("button",{onClick:()=>k(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition text-white",children:t.jsx(Kt,{className:"text-xl"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-4",children:U()===0?t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Vn,{className:"w-12 h-12 text-gray-400"})}),t.jsx("p",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Your cart is empty"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Add services to get started"})]}):t.jsxs(t.Fragment,{children:[L.subServices&&L.subServices.filter(F=>p[F._id]>0).map(F=>{const ue=p[F._id],J=F.finalPrice||F.basePrice||F.price||0,be=F.originalPrice||F.price||0,ge=be>J,Ne=$n(F.icon||"FaTools");return t.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-gray-50 to-white border-2 border-gray-200 rounded-xl p-4 hover:shadow-lg transition-all",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(Ne,{className:"w-6 h-6 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-base font-bold text-gray-900 mb-1",children:F.name}),F.description&&t.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:F.description}),t.jsxs("div",{className:"flex items-center justify-between mt-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>G(F._id),className:"w-8 h-8 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded-lg transition",children:t.jsx(Bn,{className:"text-xs text-gray-700"})}),t.jsx("span",{className:"w-12 text-center font-bold text-sm text-gray-900",children:ue}),t.jsx("button",{onClick:()=>q(F._id),className:"w-8 h-8 flex items-center justify-center bg-primary/10 hover:bg-primary/20 rounded-lg transition",children:t.jsx(us,{className:"text-xs text-primary"})})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-lg font-black text-primary",children:["",Math.round(J*ue).toLocaleString("en-IN")]}),ge&&t.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(be*ue).toLocaleString("en-IN")]})]})]})]})]})},`sub-${F._id}`)}),L.addOns&&L.addOns.map((F,ue)=>{const J=b[ue]||0;if(J===0)return null;const be=W(F),ge=$n(F.icon||"FaTools");return t.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-primary/5 to-primary/10 border-2 border-primary/20 rounded-xl p-4 hover:shadow-lg transition-all",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary-dark rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:t.jsx(ge,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-base font-bold text-gray-900 mb-1",children:F.name}),F.description&&t.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:F.description}),t.jsxs("div",{className:"flex items-center justify-between mt-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>fe(ue),className:"w-8 h-8 flex items-center justify-center bg-white hover:bg-gray-100 rounded-lg transition border border-primary/20",children:t.jsx(Bn,{className:"text-xs text-gray-700"})}),t.jsx("span",{className:"w-12 text-center font-bold text-sm text-primary",children:J}),t.jsx("button",{onClick:()=>Be(ue),className:"w-8 h-8 flex items-center justify-center bg-primary hover:bg-primary-dark rounded-lg transition text-white",children:t.jsx(us,{className:"text-xs"})})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-lg font-black text-primary",children:["",Math.round(be.finalPrice*J).toLocaleString("en-IN")]}),be.originalTotalPrice>0&&be.originalTotalPrice!==be.finalPrice&&t.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(be.originalTotalPrice*J).toLocaleString("en-IN")]})]})]})]})]})},`addon-${ue}`)}).filter(F=>F!==null),L.addOns&&L.addOns.map((F,ue)=>{var be;const J=((be=F.subServices)==null?void 0:be.filter((ge,Ne)=>{const Ie=`${ue}-${Ne}`;return w[Ie]>0}))||[];return J.length===0?null:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-primary/30 to-transparent"}),t.jsxs("span",{className:"text-xs font-bold text-primary uppercase tracking-wide px-3",children:[F.name," - Sub Services"]}),t.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-primary/30 to-transparent"})]}),J.map((ge,Ne)=>{const Ie=`${ue}-${Ne}`,Je=w[Ie]||0;if(Je===0)return null;const dt=ge.price||"0",Ae=parseFloat(dt.replace(/[,\s]/g,""))||0,ze=$n(ge.icon||"FaTools");return t.jsx(E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-gradient-to-br from-primary/5 to-white border-2 border-primary/10 rounded-xl p-4 hover:shadow-md transition-all ml-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(ze,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h5",{className:"text-sm font-bold text-gray-900 mb-1",children:ge.name}),ge.shortDescription&&t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:ge.shortDescription}),t.jsxs("div",{className:"flex items-center justify-between mt-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>oe(ue,Ne),className:"w-7 h-7 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded-lg transition",children:t.jsx(Bn,{className:"text-xs text-gray-700"})}),t.jsx("span",{className:"w-10 text-center font-bold text-xs text-gray-900",children:Je}),t.jsx("button",{onClick:()=>Y(ue,Ne),className:"w-7 h-7 flex items-center justify-center bg-primary/10 hover:bg-primary/20 rounded-lg transition",children:t.jsx(us,{className:"text-xs text-primary"})})]}),t.jsxs("p",{className:"text-base font-black text-primary",children:["",Math.round(Ae*Je).toLocaleString("en-IN")]})]})]})]})},Ie)})]},`addon-subservices-${ue}`)})]})}),U()>0&&t.jsxs("div",{className:"border-t-2 border-gray-200 bg-gradient-to-br from-gray-50 to-white p-4 sm:p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Grand Total"}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-3xl font-black text-primary",children:["",Math.round(M()).toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[U()," items"]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsx("button",{onClick:()=>k(!1),className:"flex-1 px-6 py-3.5 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-all order-2 sm:order-1",children:"Continue Shopping"}),D()?t.jsxs("button",{onClick:()=>{k(!1),ce()},className:"flex-1 bg-gradient-to-r from-primary to-primary-dark text-white px-6 py-3.5 rounded-xl font-bold hover:shadow-xl transition-all flex items-center justify-center gap-2 shadow-lg order-1 sm:order-2",children:[t.jsx(Vn,{className:"w-5 h-5"}),t.jsx("span",{children:"Book Now"})]}):t.jsxs("div",{className:"flex-1 bg-gray-400 text-white px-6 py-3.5 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg cursor-not-allowed order-1 sm:order-2",children:[t.jsx(Kt,{className:"w-5 h-5"}),t.jsxs("span",{className:"hidden sm:inline",children:["Not Available in ",(P==null?void 0:P.name)||"Your City"]}),t.jsx("span",{className:"sm:hidden",children:"Not Available"})]})]})]})]})}),U()>0&&t.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-200 shadow-2xl z-50",children:t.jsxs("div",{className:"px-4 py-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Vn,{className:"w-4 h-4 text-primary"}),t.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[U()," items in cart"]})]}),t.jsx("div",{className:"text-right",children:t.jsxs("p",{className:"text-lg font-bold text-primary",children:["",Math.round(M()).toLocaleString("en-IN")]})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>k(!0),className:"flex-1 bg-gray-100 text-gray-700 px-4 py-2.5 rounded-lg font-semibold hover:bg-gray-200 transition-all text-sm flex items-center justify-center gap-2",children:[t.jsx(Vn,{className:"w-4 h-4"}),"View Cart"]}),D()?t.jsxs("button",{onClick:ce,className:"flex-1 bg-gradient-to-r from-primary to-primary-dark text-white px-4 py-2.5 rounded-lg font-semibold hover:shadow-lg transition-all text-sm flex items-center justify-center gap-2",children:[t.jsx(He,{className:"w-4 h-4"}),"Book Now"]}):t.jsxs("button",{disabled:!0,className:"flex-1 bg-gray-400 text-white px-4 py-2.5 rounded-lg font-semibold cursor-not-allowed text-sm flex items-center justify-center gap-2",children:[t.jsx(Kt,{className:"w-4 h-4"}),"Not Available"]})]})]})}),U()>0&&t.jsx("div",{className:"lg:hidden h-20"})]})},Pj=({isOpen:e,onClose:r,type:s="info",title:a,message:n,confirmText:i="OK",onConfirm:l,showCancel:o=!1,cancelText:d="Cancel"})=>{const c={success:t.jsx(He,{className:"w-12 h-12 text-green-500"}),error:t.jsx(Kt,{className:"w-12 h-12 text-red-500"}),warning:t.jsx(dd,{className:"w-12 h-12 text-yellow-500"}),info:t.jsx(rf,{className:"w-12 h-12 text-blue-500"})},u={success:"from-green-500 to-green-600",error:"from-red-500 to-red-600",warning:"from-yellow-500 to-yellow-600",info:"from-primary to-primary-dark"},m=()=>{l&&l(),r()};return t.jsx(Pl,{children:e&&t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 custom-alert",onClick:r,children:t.jsxs(E.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",duration:.5},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:x=>x.stopPropagation(),children:[t.jsxs("div",{className:`bg-gradient-to-r ${u[s]} p-6 relative`,children:[t.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-white/80 hover:text-white transition",children:t.jsx(Hl,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex flex-col items-center text-white",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"mb-3",children:c[s]}),a&&t.jsx("h3",{className:"text-xl font-bold text-center",children:a})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:t.jsx("div",{className:"text-gray-700 leading-relaxed",children:typeof n=="string"?t.jsx("p",{className:"text-center",children:n}):n})}),t.jsx("div",{className:"flex-shrink-0 px-6 pb-6 border-t border-gray-100",children:o?t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:r,className:"flex-1 bg-slate-200 text-slate-700 py-3 rounded-xl font-bold hover:bg-slate-300 transition transform hover:scale-105",children:d}),t.jsx("button",{onClick:m,className:`flex-1 bg-gradient-to-r ${u[s]} text-white py-3 rounded-xl font-bold hover:shadow-lg transition transform hover:scale-105`,children:i})]}):t.jsx("button",{onClick:m,className:`w-full bg-gradient-to-r ${u[s]} text-white py-3 rounded-xl font-bold hover:shadow-lg transition transform hover:scale-105`,children:i})})]})})})},go="https://nexo.works",uZ=()=>{var ze,It,Ft;const e=er(),r=zr(),{serviceName:s}=wm(),{user:a,isAuthenticated:n}=on(),i=()=>{var de;const Se=(de=r.state)==null?void 0:de.cartData;if(Se)return sessionStorage.setItem("checkoutCartData",JSON.stringify(Se)),Se;const O=sessionStorage.getItem("checkoutCartData");return O?JSON.parse(O):{}},l=()=>{var de;const Se=(de=r.state)==null?void 0:de.serviceData;if(Se)return sessionStorage.setItem("checkoutServiceData",JSON.stringify(Se)),Se;const O=sessionStorage.getItem("checkoutServiceData");return O?JSON.parse(O):{}},[o]=g.useState(i()),[d]=g.useState(l()),[c,u]=g.useState(!1),[m,x]=g.useState([]),[h,p]=g.useState(null),[f,b]=g.useState(!1),[j,w]=g.useState(!1),[y,v]=g.useState({isOpen:!1,type:"info",title:"",message:""}),[N,S]=g.useState(0),[k,P]=g.useState(!1),[C,_]=g.useState(0),[A,D]=g.useState(""),[H,re]=g.useState(!1),[xe,we]=g.useState(!1),[T,z]=g.useState([]),[Q,B]=g.useState(null),[L,R]=g.useState(!1),[Z,W]=g.useState({isOpen:!1,plan:null,addressData:null}),ie=()=>{const Se=sessionStorage.getItem("checkoutFormData");return Se?JSON.parse(Se):{name:(a==null?void 0:a.name)||"",email:(a==null?void 0:a.email)||"",phone:(a==null?void 0:a.phone)||"",bookingDate:"",bookingTime:"",address:"",landmark:"",pincode:"",specialInstructions:""}},[ae,M]=g.useState(ie());g.useEffect(()=>{n&&a&&(U(),q(),G())},[n,a]),g.useEffect(()=>{a&&!ae.name&&!ae.email&&!ae.phone&&M(Se=>{const O={...Se,name:Se.name||a.name||"",email:Se.email||a.email||"",phone:Se.phone||a.phone||""};return sessionStorage.setItem("checkoutFormData",JSON.stringify(O)),O})},[a]),g.useEffect(()=>()=>{performance.navigation.type!==1&&(sessionStorage.removeItem("checkoutCartData"),sessionStorage.removeItem("checkoutServiceData"),sessionStorage.removeItem("checkoutFormData"))},[]);const U=async()=>{try{const Se=localStorage.getItem("userToken"),O=await Et.get(`${go}/api/user/addresses`,{headers:{Authorization:`Bearer ${Se}`}});if(O.data.success){x(O.data.data||[]);const de=sessionStorage.getItem("checkoutFormData"),Oe=de&&JSON.parse(de).address;if(O.data.data&&O.data.data.length>0&&!Oe){const Ge=O.data.data[0];p(Ge),M(kt=>{const at={...kt,address:Ge.address||"",landmark:Ge.landmark||"",pincode:Ge.pincode||""};return sessionStorage.setItem("checkoutFormData",JSON.stringify(at)),at})}}}catch(Se){console.error("Error fetching addresses:",Se)}},q=async()=>{var Se;try{const O=localStorage.getItem("userToken");console.log(" Fetching wallet balance for user:",a._id),console.log(" API URL:",`${go}/api/user/wallet/${a._id}`);const de=await Et.get(`${go}/api/user/wallet/${a._id}`,{headers:{Authorization:`Bearer ${O}`}});if(console.log(" Wallet response:",de.data),de.data.success){const Oe=de.data.data.balance||0;console.log(" Wallet balance:",Oe),S(Oe)}else console.warn(" Wallet fetch unsuccessful:",de.data),S(0)}catch(O){console.error(" Error fetching wallet balance:",O),console.error(" Error details:",(Se=O.response)==null?void 0:Se.data),S(0)}},G=async()=>{try{R(!0);const O=await(await fetch(`${go}/api/amc-plans`)).json();if(O.success&&O.data){const de=Y(O.data);z(de)}}catch(Se){console.error("Error fetching AMC plans:",Se)}finally{R(!1)}},Y=Se=>{if(!a)return Se.slice(0,2);const O=a.userType||"home";return Se.filter(Oe=>O==="company"?Oe.planType==="business"||Oe.planType==="corporate":O==="pg"?Oe.planType==="business"||Oe.planType==="individual":Oe.planType==="individual"||Oe.planType==="business").slice(0,3)},oe=()=>{var de,Oe;const Se=ge();if(Se<500||(de=a==null?void 0:a.amcSubscription)!=null&&de.isActive)return!1;if((a==null?void 0:a.userType)==="company"||Se>1e3)return!0;const O=((Oe=d==null?void 0:d.name)==null?void 0:Oe.toLowerCase())||"";return O.includes("ac")||O.includes("electrical")||O.includes("plumbing"),!0},Be=Se=>{const O=ge();if(!O||O===0)return 0;const Oe=O*4-Se.price;return Math.max(0,Oe)},fe=Se=>{B(Se)},ne=async Se=>{var kt,at,ft,ve,Ce,Te,Xe,rt;console.log(" Form Data:",ae),console.log(" Selected Address:",h);const O=[],de=((kt=ae.pincode)==null?void 0:kt.trim())||((at=h==null?void 0:h.pincode)==null?void 0:at.trim())||"",Oe=((ft=ae.address)==null?void 0:ft.trim())||((ve=h==null?void 0:h.address)==null?void 0:ve.trim())||"",Ge=((Ce=ae.landmark)==null?void 0:Ce.trim())||((Te=h==null?void 0:h.landmark)==null?void 0:Te.trim())||"";if((Xe=ae.name)!=null&&Xe.trim()||O.push("Name"),(rt=ae.phone)!=null&&rt.trim()||O.push("Phone Number"),Oe||O.push("Service Address"),de||O.push("Pincode"),O.length>0){J("warning","Missing Information",`Please fill in the following fields before subscribing to AMC plan: ${O.join(", ")}`);return}if(!h&&!ae.address){J("warning","Address Required","Please select or add a complete service address before subscribing to AMC plan");return}if(!n||!a){J("error","Authentication Required","Please login to subscribe to AMC plans");return}W({isOpen:!0,plan:Se,addressData:{address:Oe,landmark:Ge,pincode:de,customerName:ae.name,customerPhone:ae.phone,customerEmail:ae.email}})},ce=async()=>{var de,Oe,Ge,kt,at;const{plan:Se,addressData:O}=Z;W({isOpen:!1,plan:null,addressData:null}),u(!0);try{const ft=localStorage.getItem("userToken"),ve={userId:a._id,serviceName:"AMC Subscription",serviceData:{name:`${Se.name} - AMC Plan`,description:Se.description||"Annual Maintenance Contract",price:Se.price},cartData:{items:[{type:"amc-plan",id:Se._id,name:Se.name,quantity:1,price:Se.price,total:Se.price}],total:Se.price},customerDetails:{name:O.customerName,email:O.customerEmail,phone:O.customerPhone},address:{address:O.address,landmark:O.landmark,pincode:O.pincode},scheduledDate:new Date().toISOString().split("T")[0],scheduledTime:"10:00 AM",specialInstructions:`AMC Plan Subscription: ${Se.name}. Address: ${O.address}, ${O.landmark}, ${O.pincode}. Plan Features: ${((de=Se.features)==null?void 0:de.join(", "))||"Standard AMC benefits"}`,amount:Se.price,useWallet:!1,walletAmount:0,isAMCSubscription:!0,amcPlanDetails:{planId:Se._id,planName:Se.name,planType:Se.planType,duration:Se.duration||12,features:Se.features||[],includedServices:Se.includedServices||[]}},Ce=await Et.post(`${go}/api/user/service-booking/create`,ve,{headers:{Authorization:`Bearer ${ft}`}});if(Ce.data.success){console.log(" AMC subscription order created, initiating PayU payment..."),console.log("PayU Data:",Ce.data.payuData);const Te=Ce.data.payuData;if(!Te||!Te.action||!Te.params){console.error(" Invalid PayU data received:",Te),J("error","Payment Error","Invalid payment data received. Please try again."),u(!1);return}B(Se),J("success","AMC Subscription Processing!",`${Se.name} subscription initiated. Redirecting to payment...`),setTimeout(()=>{const Xe=document.createElement("form");Xe.method="POST",Xe.action=Te.action,console.log("PayU Action URL:",Te.action),console.log("PayU Params:",Te.params),Object.keys(Te.params).forEach(rt=>{const We=document.createElement("input");We.type="hidden",We.name=rt,We.value=Te.params[rt],Xe.appendChild(We),console.log(`  ${rt}: ${Te.params[rt]}`)}),document.body.appendChild(Xe),console.log(" Submitting PayU form for AMC subscription..."),Xe.submit()},1500)}else console.error(" AMC subscription order creation failed:",Ce.data),J("error","Subscription Failed",Ce.data.message||"Failed to create AMC subscription order"),u(!1)}catch(ft){console.error("AMC subscription error:",ft),((Oe=ft.response)==null?void 0:Oe.status)===404?J("error","Service Unavailable","AMC subscription service is currently unavailable. Please try again later or contact support."):((Ge=ft.response)==null?void 0:Ge.status)===401?J("error","Authentication Error","Please login again to subscribe to AMC plans."):J("error","Subscription Failed",((at=(kt=ft.response)==null?void 0:kt.data)==null?void 0:at.message)||"Failed to process AMC subscription. Please try again."),u(!1)}},pe=Se=>{const{name:O,value:de}=Se.target;M(Oe=>{const Ge={...Oe,[O]:de};return sessionStorage.setItem("checkoutFormData",JSON.stringify(Ge)),Ge})},F=Se=>{p(Se),M(O=>{const de={...O,address:Se.address||"",landmark:Se.landmark||"",pincode:Se.pincode||""};return sessionStorage.setItem("checkoutFormData",JSON.stringify(de)),de}),b(!1)},ue=async()=>{var Se,O;if(!ae.address||!ae.pincode){J("warning","Missing Information","Please fill in address and pincode");return}we(!0);try{const de=localStorage.getItem("userToken"),Oe={address:ae.address,landmark:ae.landmark,pincode:ae.pincode};(await Et.post(`${go}/api/user/addresses`,Oe,{headers:{Authorization:`Bearer ${de}`}})).data.success&&(J("success","Address Saved!","Your address has been saved successfully"),await U(),b(!1))}catch(de){console.error("Error saving address:",de),J("error","Save Failed",((O=(Se=de.response)==null?void 0:Se.data)==null?void 0:O.message)||"Failed to save address")}finally{we(!1)}},J=(Se,O,de)=>{v({isOpen:!0,type:Se,title:O,message:de})},be=()=>{if(!navigator.geolocation){J("error","Not Supported","Geolocation is not supported by your browser");return}w(!0),navigator.geolocation.getCurrentPosition(async Se=>{var Oe,Ge,kt;const{latitude:O,longitude:de}=Se.coords;try{const ft=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${O}&lon=${de}&addressdetails=1`)).json();if(ft&&ft.display_name){const ve=ft.display_name,Ce=((Oe=ft.address)==null?void 0:Oe.postcode)||"",Te=((Ge=ft.address)==null?void 0:Ge.suburb)||((kt=ft.address)==null?void 0:kt.neighbourhood)||"";M(Xe=>{const rt={...Xe,address:ve,landmark:Te,pincode:Ce};return sessionStorage.setItem("checkoutFormData",JSON.stringify(rt)),rt}),p(null),b(!0),J("success","Location Detected!","Please verify and update the address if needed.")}else J("warning","Address Not Found","Could not get address from your location. Please enter manually.")}catch(at){console.error("Error getting address:",at),J("error","Location Error","Failed to get address from location. Please enter manually.")}finally{w(!1)}},Se=>{switch(console.error("Geolocation error:",Se),w(!1),Se.code){case Se.PERMISSION_DENIED:J("error","Permission Denied","Please enable location access in your browser settings.");break;case Se.POSITION_UNAVAILABLE:J("error","Location Unavailable","Location information is unavailable.");break;case Se.TIMEOUT:J("error","Request Timeout","Location request timed out.");break;default:J("error","Location Error","An error occurred while getting your location.")}},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},ge=()=>o.total||0,Ne=()=>{const Se=ge(),O=Math.round(Se*.18),de=Se+O;return k&&C>0?Math.max(0,de-C):de},Ie=()=>{const Se=!k;if(P(Se),Se){const O=Math.round(ge()*1.18),de=Math.min(N,O);_(de),D(""),re(!1)}else _(0),D(""),re(!1)},Je=Se=>{const O=parseFloat(Se)||0,de=Math.round(ge()*1.18),Oe=Math.min(N,de);O>Oe?(D(Oe.toString()),_(Oe)):O<0?(D("0"),_(0)):(D(Se),_(O))},dt=async Se=>{var de,Oe;if(Se.preventDefault(),!ae.name||!ae.phone||!ae.bookingDate||!ae.bookingTime||!ae.address){J("warning","Missing Information","Please fill all required fields");return}const O=Ne();if(k&&O===0){J("info","Wallet Payment","Full payment will be deducted from wallet"),await Ae();return}u(!0);try{const Ge=localStorage.getItem("userToken"),kt={userId:a._id,serviceName:s,serviceData:d,cartData:o,customerDetails:{name:ae.name,email:ae.email,phone:ae.phone},address:{address:ae.address,landmark:ae.landmark,pincode:ae.pincode},scheduledDate:ae.bookingDate,scheduledTime:ae.bookingTime,specialInstructions:ae.specialInstructions,amount:ge(),useWallet:k,walletAmount:C},at=await Et.post(`${go}/api/user/service-booking/create`,kt,{headers:{Authorization:`Bearer ${Ge}`}});if(at.data.success){console.log(" Booking created, initiating PayU payment..."),console.log("PayU Data:",at.data.payuData);const ft=at.data.payuData;if(!ft||!ft.action||!ft.params){console.error(" Invalid PayU data received:",ft),J("error","Payment Error","Invalid payment data received. Please try again."),u(!1);return}const ve=document.createElement("form");ve.method="POST",ve.action=ft.action,console.log("PayU Action URL:",ft.action),console.log("PayU Params:",ft.params),Object.keys(ft.params).forEach(Ce=>{const Te=document.createElement("input");Te.type="hidden",Te.name=Ce,Te.value=ft.params[Ce],ve.appendChild(Te),console.log(`  ${Ce}: ${ft.params[Ce]}`)}),document.body.appendChild(ve),console.log(" Submitting PayU form..."),ve.submit()}else console.error(" Booking creation failed:",at.data),J("error","Booking Failed",at.data.message||"Failed to create booking"),u(!1)}catch(Ge){console.error("Booking error:",Ge),J("error","Booking Failed",((Oe=(de=Ge.response)==null?void 0:de.data)==null?void 0:Oe.message)||"Failed to create booking. Please try again."),u(!1)}},Ae=async()=>{var Se,O;u(!0);try{const de=localStorage.getItem("userToken"),Oe={userId:a._id,serviceName:s,serviceData:d,cartData:o,customerDetails:{name:ae.name,email:ae.email,phone:ae.phone},address:{address:ae.address,landmark:ae.landmark,pincode:ae.pincode},scheduledDate:ae.bookingDate,scheduledTime:ae.bookingTime,specialInstructions:ae.specialInstructions,amount:ge(),useWallet:!0,walletAmount:C,paymentMode:"wallet"};(await Et.post(`${go}/api/user/service-booking/create-wallet-payment`,Oe,{headers:{Authorization:`Bearer ${de}`}})).data.success&&(sessionStorage.removeItem("checkoutCartData"),sessionStorage.removeItem("checkoutServiceData"),sessionStorage.removeItem("checkoutFormData"),J("success","Booking Confirmed!","Your booking has been confirmed and payment deducted from wallet."),setTimeout(()=>{e("/user/dashboard/bookings")},2e3))}catch(de){console.error("Wallet payment error:",de),J("error","Payment Failed",((O=(Se=de.response)==null?void 0:Se.data)==null?void 0:O.message)||"Failed to process wallet payment."),u(!1)}};return n?!o.items||o.items.length===0?(e(`/service/${s}`),null):t.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-primary hover:text-primary-dark transition mb-4",children:[t.jsx(jj,{}),t.jsx("span",{children:"Back to Service"})]}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Checkout"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Complete your booking details"})]}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-md p-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(Rc,{className:"text-primary"}),"Customer Details"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),t.jsx("input",{type:"text",name:"name",value:ae.name,onChange:pe,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),t.jsx("input",{type:"tel",name:"phone",value:ae.phone,onChange:pe,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),t.jsx("input",{type:"email",name:"email",value:ae.email,onChange:pe,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-md p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx(Ul,{className:"text-primary"}),"Service Address"]}),t.jsx("button",{onClick:be,disabled:j,className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:j?t.jsxs(t.Fragment,{children:[t.jsx(ns,{className:"animate-spin"}),t.jsx("span",{children:"Getting Location..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(ZX,{}),t.jsx("span",{children:"Use Current Location"})]})})]}),m.length>0&&!f&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("p",{className:"text-sm font-semibold text-gray-700",children:["Saved Addresses (",m.length,")"]}),t.jsxs("button",{onClick:()=>b(!0),className:"text-primary hover:text-primary-dark font-medium text-sm flex items-center gap-1",children:[t.jsx("span",{className:"text-lg",children:"+"}),t.jsx("span",{children:"Add New"})]})]}),t.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto pr-2",children:m.map((Se,O)=>t.jsxs("div",{onClick:()=>F(Se),className:`relative p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${(h==null?void 0:h._id)===Se._id?"border-primary bg-primary/5 shadow-md":"border-gray-200 hover:border-primary/50 hover:shadow-sm"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Se.addressType==="Home"?"bg-blue-100 text-blue-800":Se.addressType==="Work"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:Se.addressType||"Other"}),(h==null?void 0:h._id)===Se._id&&t.jsx(He,{className:"text-primary text-lg"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"font-medium text-gray-900 leading-snug",children:Se.address}),t.jsxs("div",{className:"flex flex-wrap gap-3 mt-2",children:[Se.landmark&&t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(Ul,{className:"text-xs text-gray-400"}),t.jsx("span",{children:Se.landmark})]}),Se.pincode&&t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium",children:"PIN:"}),t.jsx("span",{children:Se.pincode})]})]})]}),(h==null?void 0:h._id)===Se._id&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-primary rounded-b-lg"})]},Se._id))})]}),(f||m.length===0)&&t.jsxs("div",{className:"space-y-4",children:[m.length>0&&t.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-200",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Add New Address"}),t.jsx("button",{type:"button",onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complete Address *"}),t.jsx("textarea",{name:"address",value:ae.address,onChange:pe,rows:"3",placeholder:"House/Flat No., Building Name, Street, Area, City",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent resize-none",required:!0})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landmark (Optional)"}),t.jsx("input",{type:"text",name:"landmark",value:ae.landmark,onChange:pe,placeholder:"e.g., Near City Mall",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode *"}),t.jsx("input",{type:"text",name:"pincode",value:ae.pincode,onChange:pe,placeholder:"e.g., 123456",maxLength:"6",pattern:"[0-9]{6}",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]})]}),t.jsxs("div",{className:"flex items-center gap-3 pt-3 border-t border-gray-100",children:[t.jsx("button",{type:"button",onClick:ue,disabled:xe||!ae.address||!ae.pincode,className:"flex items-center gap-2 px-5 py-2.5 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-medium disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md",children:xe?t.jsxs(t.Fragment,{children:[t.jsx(ns,{className:"animate-spin"}),t.jsx("span",{children:"Saving..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(He,{}),t.jsx("span",{children:"Save Address"})]})}),m.length>0&&t.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-5 py-2.5 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg font-medium transition",children:"Cancel"}),m.length===0&&t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 ml-2",children:[t.jsx(rf,{className:"text-blue-500"}),t.jsx("span",{children:"Save this address for faster checkout next time"})]})]})]})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-md p-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx($X,{className:"text-primary"}),"Schedule Service"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Booking Date *"}),t.jsx("input",{type:"date",name:"bookingDate",value:ae.bookingDate,onChange:pe,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Time Slot *"}),t.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2",children:["9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM","3:30 PM","4:00 PM","4:30 PM","5:00 PM","5:30 PM","6:00 PM","6:30 PM","7:00 PM"].map(Se=>{const O=(()=>{if(!ae.bookingDate)return!1;const de=new Date(ae.bookingDate),Oe=new Date;if(Oe.setHours(0,0,0,0),de.setHours(0,0,0,0),de.getTime()!==Oe.getTime())return!1;const[Ge,kt]=Se.split(" ");let[at,ft]=Ge.split(":").map(Number);kt==="PM"&&at!==12&&(at+=12),kt==="AM"&&at===12&&(at=0);const ve=new Date;ve.setHours(at,ft,0,0);const Ce=new Date,Te=new Date(Ce.getTime()+60*60*1e3);return ve<=Te})();return t.jsx("button",{type:"button",onClick:()=>!O&&M(de=>{const Oe={...de,bookingTime:Se};return sessionStorage.setItem("checkoutFormData",JSON.stringify(Oe)),Oe}),disabled:O,className:`px-3 py-2 rounded-lg text-sm font-medium transition ${O?"bg-gray-200 text-gray-400 cursor-not-allowed":ae.bookingTime===Se?"bg-primary text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:Se},Se)})}),ae.bookingTime&&t.jsxs("p",{className:"mt-2 text-sm text-green-600 flex items-center gap-1",children:[t.jsx(He,{}),"Selected: ",ae.bookingTime]}),ae.bookingDate&&new Date(ae.bookingDate).toDateString()===new Date().toDateString()&&t.jsxs("p",{className:"mt-2 text-sm text-amber-600",children:[" Time slots before ",new Date(new Date().getTime()+60*60*1e3).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})," are disabled"]})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions (Optional)"}),t.jsx("textarea",{name:"specialInstructions",value:ae.specialInstructions,onChange:pe,rows:"3",placeholder:"Any specific requirements or instructions...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})]}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-md p-6 sticky top-24",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(Vn,{className:"text-primary"}),"Order Summary"]}),t.jsx("div",{className:"space-y-3 mb-4 max-h-64 overflow-y-auto",children:(ze=o.items)==null?void 0:ze.map((Se,O)=>t.jsxs("div",{className:"flex justify-between items-start text-sm border-b border-gray-100 pb-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-900",children:Se.name}),t.jsxs("p",{className:"text-gray-500 text-xs",children:["Qty: ",Se.quantity]})]}),t.jsxs("p",{className:"font-semibold text-gray-900",children:["",Se.total]})]},O))}),oe()&&T.length>0&&t.jsxs("div",{className:"border-t border-gray-200 pt-4 mb-4",children:[t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-3 mb-4 border border-green-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(tc,{className:"text-green-600 text-lg"}),t.jsx("h3",{className:"text-sm font-bold text-gray-900",children:" Save with AMC Plans"})]}),t.jsx("span",{className:"text-xs text-green-700 font-medium",children:"Available Plans"})]}),t.jsx("p",{className:"text-xs text-green-700",children:"Subscribe to annual maintenance contracts with your service address"})]}),t.jsx("div",{className:"space-y-3",children:T.slice(0,2).map((Se,O)=>{var kt,at,ft,ve;const de=Be(Se),Oe=de>0?Math.round(de/(ge()*4)*100):0,Ge=(Q==null?void 0:Q._id)===Se._id;return t.jsxs("div",{onClick:()=>fe(Se),className:`relative p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 ${Ge?"border-primary bg-primary/5 shadow-lg transform scale-[1.02]":"border-gray-200 hover:border-primary/50 hover:shadow-md"}`,children:[Se.highlight&&t.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-orange-400 to-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:" POPULAR"}),t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:Se.name}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${Se.planType==="corporate"?"bg-purple-100 text-purple-700":Se.planType==="business"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:((kt=Se.planType)==null?void 0:kt.charAt(0).toUpperCase())+((at=Se.planType)==null?void 0:at.slice(1))||"Standard"})]}),t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:Se.description})]}),t.jsxs("div",{className:"text-right ml-3",children:[t.jsxs("p",{className:"text-lg font-bold text-primary",children:["",Se.price.toLocaleString("en-IN")]}),t.jsx("p",{className:"text-xs text-gray-500",children:"/year"}),de>0&&t.jsxs("div",{className:"mt-1",children:[t.jsxs("p",{className:"text-xs text-green-600 font-bold",children:["Save ",de.toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-green-600",children:["(",Oe,"% off)"]})]})]})]}),t.jsx("div",{className:"mb-3",children:t.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[(ft=Se.features)==null?void 0:ft.slice(0,3).map((Ce,Te)=>t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[t.jsx(He,{className:"text-green-500 text-xs flex-shrink-0"}),t.jsx("span",{className:"truncate",children:Ce})]},Te)),((ve=Se.features)==null?void 0:ve.length)>3&&t.jsxs("div",{className:"text-xs text-gray-500 ml-4",children:["+",Se.features.length-3," more benefits"]})]})}),t.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[Ge?t.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary font-bold",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Selected for Subscription"})]}):t.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:t.jsx("span",{children:"Click to select this plan"})}),t.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),ne(Se)},className:"text-xs bg-primary text-white px-3 py-1.5 rounded-lg hover:bg-primary-dark transition font-medium",children:"Subscribe Now"})]})]},Se._id||O)})}),Q&&t.jsx("div",{className:"mt-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border-2 border-green-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx(He,{className:"text-white text-lg"})}),t.jsxs("div",{children:[t.jsxs("h4",{className:"text-sm font-bold text-green-800 mb-1",children:[Q.name," Selected"]}),t.jsx("p",{className:"text-xs text-green-700 mb-2",children:"Annual maintenance contract with service address registration"}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-green-700",children:[t.jsxs("span",{children:[" Save ",Be(Q).toLocaleString("en-IN")," annually"]}),t.jsx("span",{children:" Address included"})]})]})]}),t.jsx("button",{onClick:()=>ne(Q),className:"bg-green-600 text-white px-4 py-2 rounded-lg text-xs font-bold hover:bg-green-700 transition shadow-md",children:"Subscribe Now"})]})}),t.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[t.jsx(rf,{className:"text-blue-500"}),t.jsx("span",{children:"AMC subscription includes your service address for future maintenance"})]}),t.jsx("span",{className:"text-xs text-primary font-medium",children:"Select plan above to subscribe"})]})})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Subtotal"}),t.jsxs("span",{className:"font-medium",children:["",ge()]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"GST (18%)"}),t.jsxs("span",{className:"font-medium",children:["",Math.round(ge()*.18)]})]}),n&&t.jsxs("div",{className:"pt-3 border-t border-gray-200 mt-3",children:[t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-3 mb-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(lm,{className:"text-green-600 text-lg"}),t.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"Wallet Balance"})]}),t.jsxs("span",{className:`text-base font-bold ${N>0?"text-green-600":"text-gray-500"}`,children:["",N.toFixed(2)]})]}),N>0?t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx("input",{type:"checkbox",id:"useWallet",checked:k,onChange:Ie,className:"w-4 h-4 text-primary focus:ring-primary border-gray-300 rounded cursor-pointer"}),t.jsx("label",{htmlFor:"useWallet",className:"text-sm font-medium text-gray-700 cursor-pointer flex-1",children:"Apply wallet balance to this order"})]}):t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"No balance available. Add money to your wallet!"}),t.jsx("button",{type:"button",onClick:()=>e("/user/dashboard/wallet"),className:"text-xs text-primary hover:text-primary-dark font-medium underline",children:"Add Money to Wallet"})]})]}),k&&t.jsxs("div",{className:"space-y-2 animate-fade-in",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Amount to use:"}),t.jsx("button",{onClick:()=>re(!H),className:"text-xs text-primary hover:text-primary-dark font-medium",children:H?"Use Maximum":"Use Custom Amount"})]}),H?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:""}),t.jsx("input",{type:"number",value:A,onChange:Se=>Je(Se.target.value),placeholder:"Enter amount",min:"0",max:Math.min(N,Math.round(ge()*1.18)),className:"flex-1 px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}):t.jsxs("div",{className:"flex justify-between items-center bg-green-50 rounded-lg px-3 py-2",children:[t.jsx("span",{className:"text-sm font-medium text-green-700",children:"Wallet Deduction"}),t.jsxs("span",{className:"text-base font-bold text-green-600",children:["-",C.toFixed(2)]})]}),C>=Math.round(ge()*1.18)&&t.jsxs("div",{className:"flex items-start gap-2 bg-blue-50 rounded-lg p-2",children:[t.jsx(rf,{className:"text-blue-500 mt-0.5 flex-shrink-0"}),t.jsx("p",{className:"text-xs text-blue-700",children:"Your wallet balance covers the full amount. No additional payment needed!"})]})]})]}),t.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900 pt-2 border-t border-gray-200",children:[t.jsx("span",{children:"Amount to Pay"}),t.jsxs("span",{className:"text-primary",children:["",Ne().toFixed(2)]})]})]}),t.jsx("button",{onClick:dt,disabled:c,className:`w-full mt-6 text-white py-3 rounded-lg font-bold hover:shadow-lg transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed ${Ne()===0?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700":"bg-gradient-to-r from-primary to-primary-dark"}`,children:c?t.jsxs(t.Fragment,{children:[t.jsx(ns,{className:"animate-spin"}),"Processing..."]}):Ne()===0?t.jsxs(t.Fragment,{children:[t.jsx(lm,{}),"Confirm Booking (Pay via Wallet)"]}):k&&C>0?t.jsxs(t.Fragment,{children:[t.jsx(_i,{}),"Pay ",Ne().toFixed(2)," (Wallet Applied)"]}):t.jsxs(t.Fragment,{children:[t.jsx(_i,{}),"Proceed to Payment"]})}),t.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-xs text-gray-500",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:Ne()===0?"100% payment via Wallet":k&&C>0?`${C.toFixed(2)} from wallet + ${Ne().toFixed(2)} via PayU`:"Secure payment via PayU"})]})]})})]})]}),t.jsx("div",{className:"fixed inset-0 z-[10000] pointer-events-none",children:t.jsx("div",{className:`${y.isOpen?"pointer-events-auto":"pointer-events-none"}`,children:t.jsx(Pj,{isOpen:y.isOpen,onClose:()=>v({...y,isOpen:!1}),type:y.type,title:y.title,message:y.message})})}),Z.isOpen&&t.jsx("div",{className:"fixed inset-0 confirmation-dialog",children:t.jsx(Pj,{isOpen:Z.isOpen,onClose:()=>W({isOpen:!1,plan:null,addressData:null}),type:"info",title:"Confirm AMC Subscription",message:Z.plan&&Z.addressData?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-primary/10 rounded-lg p-4 border border-primary/30",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-bold",children:""})}),t.jsx("h4",{className:"font-bold text-primary",children:"Subscription Details"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Plan:"}),t.jsx("p",{className:"font-semibold text-primary",children:Z.plan.name})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Price:"}),t.jsxs("p",{className:"font-semibold text-primary",children:["",Z.plan.price.toLocaleString("en-IN"),"/year"]})]}),t.jsxs("div",{className:"sm:col-span-2",children:[t.jsx("span",{className:"text-gray-600",children:"Type:"}),t.jsx("p",{className:"font-semibold text-primary",children:((It=Z.plan.planType)==null?void 0:It.charAt(0).toUpperCase())+((Ft=Z.plan.planType)==null?void 0:Ft.slice(1))||"Standard"})]})]})]}),t.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-bold",children:""})}),t.jsx("h4",{className:"font-bold text-green-700",children:"Service Address"})]}),t.jsxs("div",{className:"text-sm space-y-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Address:"}),t.jsx("p",{className:"font-medium text-green-800",children:Z.addressData.address})]}),Z.addressData.landmark&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Landmark:"}),t.jsx("p",{className:"font-medium text-green-800",children:Z.addressData.landmark})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Pincode:"}),t.jsx("p",{className:"font-medium text-green-800",children:Z.addressData.pincode})]})]})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-bold",children:""})}),t.jsx("h4",{className:"font-bold text-slate-700",children:"Customer Details"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Name:"}),t.jsx("p",{className:"font-medium text-slate-800",children:Z.addressData.customerName})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Phone:"}),t.jsx("p",{className:"font-medium text-slate-800",children:Z.addressData.customerPhone})]}),Z.addressData.customerEmail&&t.jsxs("div",{className:"sm:col-span-2",children:[t.jsx("span",{className:"text-gray-600",children:"Email:"}),t.jsx("p",{className:"font-medium text-slate-800",children:Z.addressData.customerEmail})]})]})]}),t.jsx("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-white text-sm font-bold",children:""})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-amber-800 mb-1",children:"Payment Gateway Redirect"}),t.jsx("p",{className:"text-amber-700 text-sm",children:"You will be redirected to our secure payment gateway to complete the subscription payment."})]})]})})]}):"Loading subscription details...",confirmText:"Subscribe Now",cancelText:"Cancel",showCancel:!0,onConfirm:ce})})]}):(e("/user/login",{state:{from:r.pathname}}),null)},mZ=()=>{const e=er();Id();const[r,s]=g.useState(!0);g.useEffect(()=>{const i=setTimeout(()=>{s(!1)},2e3);return()=>clearTimeout(i)},[]);const a=()=>{e("/user/dashboard/bookings")},n=()=>{e("/")};return r?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[t.jsx(ns,{className:"w-16 h-16 text-primary animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Processing your payment..."})]})}):t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:t.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(He,{className:"w-12 h-12 text-green-500"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Successful!"}),t.jsx("p",{className:"text-gray-600 mb-8",children:"Your booking has been confirmed. We'll send you a confirmation shortly."}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:a,className:"w-full bg-gradient-to-r from-primary to-primary-dark text-white py-3 rounded-lg font-bold hover:shadow-lg transition",children:"View My Bookings"}),t.jsx("button",{onClick:n,className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-200 transition",children:"Back to Home"})]})]})})},hZ=()=>{const e=er(),r=()=>{e(-1)},s=()=>{e("/")};return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:t.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Kt,{className:"w-12 h-12 text-red-500"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Failed"}),t.jsx("p",{className:"text-gray-600 mb-8",children:"We couldn't process your payment. Please try again or contact support if the issue persists."}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:r,className:"w-full bg-gradient-to-r from-primary to-primary-dark text-white py-3 rounded-lg font-bold hover:shadow-lg transition",children:"Try Again"}),t.jsx("button",{onClick:s,className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-200 transition",children:"Back to Home"})]})]})})},xZ=()=>{var w;const[e,r]=g.useState("ac-technician"),[s,a]=g.useState("individual"),[n,i]=g.useState(0),[l,o]=g.useState([]),[d,c]=g.useState(!1),u={"ac-technician":{name:"AC Technician",earnings:"45,00075,000"},electrician:{name:"Electrician",earnings:"35,00060,000"},plumber:{name:"Plumber",earnings:"30,00055,000"},carpenter:{name:"Carpenter",earnings:"40,00070,000"},painter:{name:"Painter",earnings:"35,00065,000"},cleaner:{name:"Deep Cleaner",earnings:"25,00050,000"}},[m,x]=g.useState([]);g.useEffect(()=>{(async()=>{try{const N=await fetch("https://nexo.works/api/partner/mg-plans/public",{method:"GET",headers:{"Content-Type":"application/json"}});if(N.ok){const S=await N.json();if(S.success&&S.data&&Array.isArray(S.data)){const k=S.data.map(P=>{const _=(P.name||"").toLowerCase();let A=P.icon||"";P.icon||(_.includes("silver")?A="":_.includes("gold")?A="":_.includes("platinum")||_.includes("diamond")?A="":_.includes("bronze")&&(A=""));const D=P.features&&Array.isArray(P.features)&&P.features.length>0?P.features.filter(H=>!H.toLowerCase().includes("leads")&&!H.toLowerCase().includes("commission")):["Priority Support","24/7 Customer Support","Training & Onboarding"];return{_id:P._id,name:P.name,price:P.price||0,leads:P.leads||0,commission:P.commission||0,icon:A,features:D,partnerType:P.partnerType||"both"}});x(k)}}}catch(v){console.error("Failed to fetch MG plans:",v),x([])}})()},[]);const h=[{step:"1",title:"Complete Registration Form",description:"Fill your details and choose trade",icon:wj,details:["Enter your full name and contact information","Select your service category (AC Technician, Electrician, etc.)","Provide your work experience details","Choose your preferred working areas","Set your availability schedule"]},{step:"2",title:"Upload KYC Documents",description:"Submit identity and bank documents",icon:JX,details:["Upload clear photo of Aadhaar Card (front & back)","Provide PAN Card copy","Submit bank account details and passbook copy","Upload professional certificates (if any)","Provide address proof document"]},{step:"3",title:"Complete Payment",description:"Pay registration fee via WhatsApp Pay",icon:_i,details:["Choose your preferred MG Plan","Make payment via WhatsApp Pay or UPI","Registration fee varies by plan (500 - 2000)","Get instant payment confirmation","Receive digital receipt via WhatsApp"]},{step:"4",title:"Get Verified & Start Earning",description:"Approval and job access",icon:qa,details:["Our team verifies your documents (24-48 hours)","Receive verification confirmation via SMS/WhatsApp","Get access to partner dashboard","Start receiving job leads immediately","Begin earning from day one"]}];g.useEffect(()=>{if(d)if(n<h.length-1){const y=setTimeout(()=>{o(v=>[...v,n]),i(v=>v+1)},2500);return()=>clearTimeout(y)}else{const y=setTimeout(()=>{o(v=>[...v,n]),setTimeout(()=>{i(0),o([])},3e3)},2500);return()=>clearTimeout(y)}},[n,d,h.length]),g.useEffect(()=>{const y=setTimeout(()=>{c(!0)},1500);return()=>clearTimeout(y)},[]);const p=[{icon:V_,text:"High daily job volume",color:"text-[#224a73]",bgColor:"from-[#224a73]/5 to-[#224a73]/10",borderColor:"border-[#224a73]/20",hoverColor:"hover:border-[#224a73]/40"},{icon:tJ,text:"Weekly payouts",color:"text-green-600",bgColor:"from-green-50 to-green-100",borderColor:"border-green-200",hoverColor:"hover:border-green-300"},{icon:He,text:"Verified partner badge",color:"text-[#224a73]",bgColor:"from-[#224a73]/5 to-[#224a73]/10",borderColor:"border-[#224a73]/20",hoverColor:"hover:border-[#224a73]/40"},{icon:BX,text:"Priority support",color:"text-orange-600",bgColor:"from-orange-50 to-orange-100",borderColor:"border-orange-200",hoverColor:"hover:border-orange-300"},{icon:GX,text:"Free training",color:"text-[#224a73]",bgColor:"from-[#224a73]/5 to-[#224a73]/10",borderColor:"border-[#224a73]/20",hoverColor:"hover:border-[#224a73]/40"},{icon:Al,text:"Early payouts (Premium)",color:"text-amber-600",bgColor:"from-amber-50 to-amber-100",borderColor:"border-amber-200",hoverColor:"hover:border-amber-300"}],f={animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}},j=m.filter(y=>{const v=y.partnerType||"both";return s==="individual"?v==="individual"||v==="both":s==="franchise"?v==="franchise"||v==="both":!0});return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("section",{className:"relative bg-gradient-to-br from-[#224a73] to-[#1a3a5c] text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",variants:f,animate:"animate"}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",variants:f,animate:"animate",transition:{delay:1,duration:5}}),t.jsx(E.div,{className:"absolute top-32 right-20 w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-[#224a73]/30 to-blue-500/20 rounded-full blur-2xl",animate:{y:[0,-40,0],x:[0,20,0],scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:.5}}),t.jsx(E.div,{className:"absolute bottom-32 left-20 w-20 h-20 sm:w-28 sm:h-28 bg-gradient-to-br from-emerald-400/25 to-green-500/15 rounded-full blur-2xl",animate:{y:[0,35,0],x:[0,-25,0],scale:[1,.8,1],rotate:[360,180,0]},transition:{duration:7,repeat:1/0,ease:"easeInOut",delay:1.2}}),t.jsx(E.div,{className:"absolute top-40 left-1/3 w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-yellow-400/40 to-orange-400/25 rounded-full blur-xl",animate:{y:[0,-60,0],x:[0,30,0],scale:[1,1.3,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:2}}),t.jsx(E.div,{className:"absolute bottom-40 right-1/3 w-14 h-14 sm:w-18 sm:h-18 bg-gradient-to-br from-purple-400/35 to-pink-400/20 rounded-full blur-xl",animate:{y:[0,45,0],x:[0,-20,0],scale:[1,.9,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1.8}}),[...Array(8)].map((y,v)=>t.jsx(E.div,{className:`absolute w-3 h-3 sm:w-4 sm:h-4 rounded-full blur-sm ${v%4===0?"bg-white/30":v%4===1?"bg-yellow-300/40":v%4===2?"bg-[#224a73]/35":"bg-emerald-400/30"}`,style:{left:`${10+v*11%80}%`,top:`${15+v*13%70}%`},animate:{y:[0,-100-v*10,0],x:[0,(v%2===0?1:-1)*(20+v*5),0],opacity:[.3,.7,.3],scale:[1,1.2,1]},transition:{duration:8+v%3,repeat:1/0,ease:"easeInOut",delay:v*.4}},`particle-${v}`)),t.jsx(E.div,{className:"absolute top-1/2 left-1/2 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-cyan-400/50 to-blue-500/30 rounded-full blur-lg",animate:{rotate:[0,360]},transition:{duration:15,repeat:1/0,ease:"linear"},style:{transformOrigin:"-150px 0px"}}),t.jsx(E.div,{className:"absolute top-1/2 left-1/2 w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-rose-400/45 to-red-500/25 rounded-full blur-lg",animate:{rotate:[360,0]},transition:{duration:12,repeat:1/0,ease:"linear"},style:{transformOrigin:"200px 100px"}}),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx(E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.8,type:"spring"},className:"inline-block mb-4 sm:mb-6",children:t.jsx(qa,{className:"w-16 h-16 sm:w-20 sm:h-20 text-yellow-300"})}),t.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4",children:"Become a Service Partner"}),t.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl mb-6 sm:mb-8 text-yellow-300",children:"Earn 25,000 to 70,000 per month"}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.a,{href:"/partner/onboard",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-gradient-to-r from-[#224a73] to-[#1a3a5c] text-white px-8 sm:px-10 py-4 sm:py-5 rounded-full text-lg sm:text-xl font-semibold shadow-2xl hover:shadow-[#224a73]/50 hover:from-[#1a3a5c] hover:to-[#224a73] transition-all duration-300 flex items-center gap-3",children:[t.jsx(qa,{className:"w-6 h-6 sm:w-7 sm:h-7"}),"Register Now"]})})]})})]}),t.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-[#224a73] mb-3 sm:mb-4",children:"What You Get"})}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:p.map((y,v)=>{const N=y.icon;return t.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:v*.1},whileHover:{y:-5,scale:1.05},className:`bg-gradient-to-br ${y.bgColor} p-5 sm:p-6 rounded-xl border ${y.borderColor} ${y.hoverColor} text-center transition-all duration-300 hover:shadow-lg`,children:[t.jsx(N,{className:`w-10 h-10 sm:w-12 sm:h-12 ${y.color} mx-auto mb-3 sm:mb-4`}),t.jsx("p",{className:"text-sm sm:text-base lg:text-lg font-semibold text-gray-800",children:y.text})]},v)})})]})}),t.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-[#224a73] mb-3 sm:mb-4",children:"Partner Earnings Calculator"}),t.jsx("p",{className:"text-lg sm:text-xl text-gray-600",children:"Select your category to see potential earnings"})]}),t.jsx("div",{className:"max-w-3xl mx-auto",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 sm:p-8",children:[t.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-800 mb-3 sm:mb-4",children:"Select your category:"}),t.jsx("select",{value:e,onChange:y=>r(y.target.value),className:"w-full p-3 sm:p-4 border-2 border-[#224a73] rounded-xl text-base sm:text-lg focus:outline-none focus:ring-2 focus:ring-[#224a73] focus:border-[#224a73] mb-6 sm:mb-8 transition-all duration-300",children:Object.entries(u).map(([y,v])=>t.jsx("option",{value:y,children:v.name},y))}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-r from-[#224a73] to-[#1a3a5c] text-white p-5 sm:p-6 rounded-xl text-center shadow-lg",children:[t.jsx("p",{className:"text-base sm:text-lg mb-2",children:"Approx earnings:"}),t.jsx("p",{className:"text-3xl sm:text-4xl font-bold",children:u[e].earnings}),t.jsx("p",{className:"text-base sm:text-lg mt-2",children:"per month"})]},e),t.jsx("div",{className:"mt-6 sm:mt-8 text-center",children:t.jsxs(E.a,{href:"/partner/onboard",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-gradient-to-r from-[#224a73] to-[#1a3a5c] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:from-[#1a3a5c] hover:to-[#224a73] transition-all duration-300 shadow-lg hover:shadow-xl inline-flex items-center gap-2",children:[t.jsx(qa,{className:"w-5 h-5"}),"Start Registration"]})})]})})]})}),t.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-[#224a73] mb-3 sm:mb-4",children:"MG Plans"}),t.jsxs("div",{className:"flex justify-center gap-2 sm:gap-3 mt-6",children:[t.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a("individual"),className:`px-4 sm:px-6 py-2 sm:py-2.5 rounded-full text-sm sm:text-base font-semibold transition-all ${s==="individual"?"bg-gradient-to-r from-[#224a73] to-[#1a3a5c] text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-200 hover:border-[#224a73]"}`,children:" Individual"}),t.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a("franchise"),className:`px-4 sm:px-6 py-2 sm:py-2.5 rounded-full text-sm sm:text-base font-semibold transition-all ${s==="franchise"?"bg-gradient-to-r from-[#224a73] to-[#1a3a5c] text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-200 hover:border-[#224a73]"}`,children:" Franchise"})]})]}),j.length===0?t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 bg-white rounded-2xl shadow-lg border-2 border-dashed border-gray-300",children:[t.jsx("p",{className:"text-gray-600 text-lg font-medium mb-2",children:"No plans available"}),t.jsxs("p",{className:"text-gray-500 text-sm",children:["No plans found for ",s==="individual"?"Individual":"Franchise"," partners."]}),t.jsxs("p",{className:"text-gray-400 text-xs mt-2",children:["Contact admin to add ",s==="individual"?"Individual":"Franchise"," plans."]})]}):t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:j.map((y,v)=>{var N;return t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:v*.2},whileHover:{y:-10,scale:1.02},className:`bg-white p-6 sm:p-8 rounded-2xl shadow-xl border-2 transition-all duration-300 ${y.name.toLowerCase().includes("platinum")?"border-[#224a73] scale-105 lg:scale-105 sm:scale-100 shadow-2xl shadow-[#224a73]/20":"border-gray-200 hover:border-[#224a73]/30 hover:shadow-2xl"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsx("div",{className:"text-4xl",children:y.icon}),y.partnerType&&t.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-semibold flex-shrink-0 ml-2 ${y.partnerType==="individual"||y.partnerType==="franchise","bg-[#224a73]/10 text-[#224a73]"}`,children:y.partnerType==="individual"?" Individual":y.partnerType==="franchise"?" Franchise":" All Partners"})]}),t.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-[#224a73] mb-2",children:y.name}),t.jsxs("div",{className:"mb-4 sm:mb-6",children:[t.jsxs("span",{className:"text-3xl sm:text-4xl font-bold text-[#224a73]",children:["",y.price.toLocaleString("en-IN")]}),t.jsx("span",{className:"text-gray-600",children:"/month"})]}),t.jsxs("ul",{className:"space-y-2 sm:space-y-3 mb-6 sm:mb-8",children:[t.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-gray-700",children:[t.jsx(He,{className:"text-green-500 flex-shrink-0"}),t.jsxs("span",{children:[y.leads," Guaranteed Leads/month"]})]}),t.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-gray-700",children:[t.jsx(He,{className:"text-green-500 flex-shrink-0"}),t.jsxs("span",{children:[y.commission,"% Commission Rate"]})]}),(N=y.features)==null?void 0:N.map((S,k)=>t.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-gray-700",children:[t.jsx(He,{className:"text-green-500 flex-shrink-0"}),t.jsx("span",{children:S})]},k))]}),t.jsxs(E.a,{href:"/partner/onboard",whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:`block w-full text-center py-3 rounded-full font-semibold transition-all duration-300 text-sm sm:text-base flex items-center justify-center gap-2 ${y.name.toLowerCase().includes("platinum")?"bg-gradient-to-r from-[#224a73] to-[#1a3a5c] text-white hover:from-[#1a3a5c] hover:to-[#224a73] shadow-lg":"bg-gradient-to-r from-gray-100 to-gray-200 text-[#224a73] hover:from-gray-200 hover:to-gray-300"}`,children:[t.jsx(qa,{className:"w-4 h-4"}),"Choose ",y.name," Plan"]})]},y._id||y.name||v)})})]})}),t.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-gradient-to-br from-gray-50 to-blue-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-[#224a73] mb-3 sm:mb-4",children:"How to Join"}),t.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto mb-6",children:"Follow these simple steps to become a Nexo partner and start earning"})]}),t.jsx("div",{className:"max-w-5xl mx-auto mb-8 sm:mb-12 px-4 sm:px-4",children:t.jsxs("div",{className:"relative min-h-[200px] sm:min-h-[120px]",children:[t.jsx("div",{className:"hidden sm:block absolute top-8 left-8 right-8 h-2 bg-gray-200 rounded-full shadow-inner",children:t.jsx(E.div,{className:"h-full bg-gradient-to-r from-[#224a73] via-blue-500 to-green-500 rounded-full relative overflow-hidden",initial:{width:"0%"},animate:{width:`${l.length/h.length*100}%`},transition:{duration:.8,ease:"easeInOut"},children:t.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}})})}),t.jsxs("div",{className:"sm:hidden absolute inset-0",children:[t.jsx("div",{className:"absolute top-6 left-1/4 right-1/4 h-1 bg-gray-200 rounded-full",children:t.jsx(E.div,{className:"h-full bg-gradient-to-r from-[#224a73] to-blue-500 rounded-full",initial:{width:"0%"},animate:{width:`${l.includes(0)?"100%":n>0?"50%":"0%"}`},transition:{duration:.8,ease:"easeInOut"}})}),t.jsx("div",{className:"absolute top-1/4 bottom-1/4 left-1/2 w-1 bg-gray-200 rounded-full transform -translate-x-1/2",children:t.jsx(E.div,{className:"w-full bg-gradient-to-b from-blue-500 to-green-500 rounded-full",initial:{height:"0%"},animate:{height:`${l.includes(1)?"100%":n>1?"50%":"0%"}`},transition:{duration:.8,ease:"easeInOut"}})}),t.jsx("div",{className:"absolute bottom-6 left-1/4 right-1/4 h-1 bg-gray-200 rounded-full",children:t.jsx(E.div,{className:"h-full bg-gradient-to-r from-green-500 to-green-600 rounded-full",initial:{width:"0%"},animate:{width:`${l.includes(2)?"100%":n>2?"50%":"0%"}`},transition:{duration:.8,ease:"easeInOut"}})})]}),t.jsx("div",{className:"relative grid grid-cols-2 sm:flex sm:justify-between gap-6 sm:gap-2",children:h.map((y,v)=>{const N=y.icon,S=l.includes(v),k=n===v;return t.jsxs(E.div,{className:"flex flex-col items-center",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:v*.1},children:[t.jsxs(E.div,{className:`relative w-12 h-12 sm:w-16 sm:h-16 rounded-full flex items-center justify-center shadow-lg transition-all duration-300 ${S?"bg-gradient-to-br from-green-500 to-green-600":k?"bg-gradient-to-br from-[#224a73] to-[#1a3a5c] ring-2 sm:ring-4 ring-[#224a73]/20":"bg-gray-300"}`,children:[S?t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.3},children:t.jsx(He,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}):t.jsx(N,{className:`w-6 h-6 sm:w-8 sm:h-8 ${k?"text-white":"text-gray-600"}`}),k&&t.jsx(E.div,{className:"absolute inset-0 rounded-full bg-[#224a73]/30",animate:{scale:[1,1.2,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0}})]}),t.jsxs("div",{className:"mt-2 sm:mt-4 text-center max-w-24 sm:max-w-32",children:[t.jsx("h3",{className:`text-xs sm:text-sm font-bold mb-1 leading-tight ${S||k?"text-[#224a73]":"text-gray-500"}`,children:y.title.split(" ").slice(0,2).join(" ")}),t.jsx("p",{className:"text-xs text-gray-500 leading-tight hidden sm:block",children:y.description}),t.jsx(E.div,{className:`inline-block mt-1 sm:mt-2 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium ${S?"bg-green-100 text-green-700":k?"bg-[#224a73]/10 text-[#224a73]":"bg-gray-100 text-gray-500"}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:v*.1+.3},children:S?"":k?"":""})]})]},v)})})]})}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center px-4",children:t.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-lg border border-gray-200 p-4 sm:p-6 max-w-2xl mx-auto",children:[t.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-[#224a73] mb-3 sm:mb-4",children:["Progress: ",l.length,"/",h.length," Steps"]}),l.length===h.length?t.jsxs(E.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5},className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:t.jsx(He,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),t.jsx("h4",{className:"text-xl sm:text-2xl font-bold text-green-600 mb-2",children:" All Steps Completed!"}),t.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-6",children:"Ready to start your Nexo partner journey"})]}):t.jsx("div",{children:t.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4",children:["Current: ",t.jsx("span",{className:"font-semibold text-[#224a73]",children:(w=h[n])==null?void 0:w.title})]})})]})})]})})]})},Aj="https://nexo.works",Pt=e=>e.startsWith("/api/")?`${Aj}${e}`:`${Aj}/api/partner${e}`,Ot=e=>{const r={"Content-Type":"application/json"};return e&&(r.Authorization=`Bearer ${e}`),r},At=async e=>{const r=e.headers.get("content-type"),a=r&&r.includes("application/json")?await e.json():await e.text();if(!e.ok){console.error("API Error Response:",{status:e.status,statusText:e.statusText,data:a});let n="Request failed";a!=null&&a.message?n=a.message:a!=null&&a.error?n=a.error:typeof a=="string"&&(n=a),a!=null&&a.errors&&Array.isArray(a.errors)&&(n+=": "+a.errors.join(", "));const i=new Error(n);throw i.status=e.status,i.data=a,i}return a},ut={async sendOTP(e){const r=await fetch(Pt("/auth/send-otp"),{method:"POST",headers:Ot(),body:JSON.stringify({phone:e})});return At(r)},async verifyOTP(e,r){const s=await fetch(Pt("/auth/verify-otp"),{method:"POST",headers:Ot(),body:JSON.stringify({phone:e,otp:r})});return At(s)},async resendOTP(e){const r=await fetch(Pt("/auth/resend-otp"),{method:"POST",headers:Ot(),body:JSON.stringify({phone:e})});return At(r)},async completeProfile(e,r){const s=new FormData;Object.keys(r).forEach(n=>{n!=="profilePicture"&&r[n]!==null&&r[n]!==void 0&&(typeof r[n]=="object"?s.append(n,JSON.stringify(r[n])):s.append(n,r[n]))}),r.profilePicture&&s.append("profilePicture",r.profilePicture);const a=await fetch(Pt("/profile/complete"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return At(a)},async completeKYC(e,r){const s=new FormData;r.panCard&&s.append("panCard",r.panCard),r.aadhaar&&s.append("aadhaar",r.aadhaar),r.aadhaarback&&s.append("aadhaarback",r.aadhaarback),r.chequeImage&&s.append("chequeImage",r.chequeImage),r.drivingLicence&&s.append("drivingLicence",r.drivingLicence),r.bill&&s.append("bill",r.bill),r.accountNumber&&s.append("accountNumber",r.accountNumber),r.ifscCode&&s.append("ifscCode",r.ifscCode),r.accountHolderName&&s.append("accountHolderName",r.accountHolderName),r.bankName&&s.append("bankName",r.bankName);const a=await fetch(Pt("/kyc/complete"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return At(a)},async completePayment(e,r){const s=await fetch(Pt("/regigiste-fee"),{method:"PUT",headers:Ot(e),body:JSON.stringify(r)});return At(s)},async getProfile(e){const r=await fetch(Pt("/profile"),{headers:Ot(e)});return At(r)},async updateOnboardingStep(e,r){const s=await fetch(Pt("/profile/onboarding-step"),{method:"PUT",headers:Ot(e),body:JSON.stringify(r)});return At(s)},async updateProfile(e,r){if(r instanceof FormData){const s=await fetch(Pt("/profile/update"),{method:"PUT",headers:{Authorization:`Bearer ${e}`},body:r});return At(s)}else{const s=await fetch(Pt("/profile/update"),{method:"PUT",headers:Ot(e),body:JSON.stringify(r)});return At(s)}},async getCategories(e){const r=e?Ot(e):Ot(),s=await fetch(Pt("/dropdown/categories"),{headers:r});return At(s)},async selectCategoryAndService(e,r,s){const a=await fetch(Pt("/select-category-and-service"),{method:"POST",headers:Ot(e),body:JSON.stringify({category:r,services:s})});return At(a)},async getMGPlans(e,r=null){const s=Pt(r?`/mg-plans?partnerType=${r}`:"/mg-plans"),a=await fetch(s,{headers:Ot(e)});return At(a)},async getCurrentPlan(e){const r=await fetch(Pt("/mg-plans/current"),{headers:Ot(e)});return At(r)},async subscribeToPlan(e,r){const s=await fetch(Pt("/mg-plans/subscribe"),{method:"POST",headers:Ot(e),body:JSON.stringify({planId:r})});return At(s)},async renewPlan(e){const r=await fetch(Pt("/mg-plans/renew"),{method:"POST",headers:Ot(e)});return At(r)},async getPricingSettings(){const e=await fetch(`${Aj}/api/registerFee/fees`,{headers:Ot()});return At(e)},async getAvailableServiceHubs(e){const r=await fetch(Pt("/service-hubs/available"),{headers:Ot(e)});return At(r)},async createServiceHub(e,r){const s=await fetch(Pt("/service-hubs"),{method:"POST",headers:Ot(e),body:JSON.stringify(r)});return At(s)},async assignHub(e,r){const s=await fetch(Pt("/hubs/assign"),{method:"POST",headers:Ot(e),body:JSON.stringify({hubId:r})});return At(s)},async unassignHub(e,r){const s=await fetch(Pt("/hubs/unassign"),{method:"POST",headers:Ot(e),body:JSON.stringify({hubId:r})});return At(s)},async getWallet(e){const r=await fetch(Pt("/getWalletbypartner"),{headers:Ot(e)});return At(r)},async getTransactions(e){const r=await fetch(Pt("/getAllwalletTransaction"),{headers:Ot(e)});return At(r)},async topUpWallet(e,r,s,a){const n=await fetch(Pt("/wallet/topup"),{method:"POST",headers:Ot(e),body:JSON.stringify({amount:r,type:"credit",description:s||"Topup",reference:a||`TOPUP-${Date.now()}`})});return At(n)},async getBookings(e){const r=await fetch(Pt("/bookings"),{headers:Ot(e)});return At(r)},async getPendingBookings(e){const r=await fetch(Pt("/bookings/pending"),{headers:Ot(e)});return At(r)},async getAcceptedBookings(e){const r=await fetch(Pt("/bookings/accepted/:partnerId"),{headers:Ot(e)});return At(r)},async getCompletedBookings(e){const r=await fetch(Pt("/bookings/completed"),{headers:Ot(e)});return At(r)},async getProductsByCategory(e,r){const s=await fetch(Pt(`/products/${r}`),{headers:Ot(e)});return At(s)},async addToCart(e,r){const s=await fetch(Pt("/products/add"),{method:"POST",headers:Ot(e),body:JSON.stringify(r)});return At(s)},async getAvailableHubs(e){const r=await fetch(Pt("/service-hubs/available"),{headers:Ot(e)});return At(r)},async updateKYC(e,r){const s=new FormData;r.panCard&&s.append("panCard",r.panCard),r.aadhaar&&s.append("aadhaar",r.aadhaar),r.aadhaarback&&s.append("aadhaarback",r.aadhaarback),r.chequeImage&&s.append("chequeImage",r.chequeImage),r.drivingLicence&&s.append("drivingLicence",r.drivingLicence),r.bill&&s.append("bill",r.bill),r.accountNumber&&s.append("accountNumber",r.accountNumber),r.ifscCode&&s.append("ifscCode",r.ifscCode),r.accountHolderName&&s.append("accountHolderName",r.accountHolderName),r.bankName&&s.append("bankName",r.bankName);const a=await fetch(Pt("/kyc/complete"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return At(a)},async selectCategoryAndService(e,r){const s=await fetch(Pt("/select-category-and-service"),{method:"POST",headers:Ot(e),body:JSON.stringify(r)});return At(s)},async getTeamMembers(e){const r=await fetch(Pt("/team-members"),{headers:Ot(e)});return At(r)},async addTeamMember(e,r){const s=new FormData;if(Object.keys(r).forEach(n=>{n!=="profilePicture"&&n!=="kyc"&&n!=="kycData"&&r[n]!==null&&r[n]!==void 0&&(Array.isArray(r[n])?r[n].forEach((i,l)=>{s.append(`${n}[${l}]`,i)}):s.append(n,r[n]))}),r.profilePicture&&s.append("profilePicture",r.profilePicture),r.kycData){const n=r.kycData;n.panCard&&s.append("panCard",n.panCard),n.aadhaar&&s.append("aadhaar",n.aadhaar),n.aadhaarback&&s.append("aadhaarback",n.aadhaarback),n.chequeImage&&s.append("chequeImage",n.chequeImage),n.drivingLicence&&s.append("drivingLicence",n.drivingLicence),n.bill&&s.append("bill",n.bill)}const a=await fetch(Pt("/team-members"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return At(a)},async updateTeamMember(e,r,s){const a=new FormData;if(Object.keys(s).forEach(i=>{i!=="profilePicture"&&i!=="kyc"&&i!=="kycData"&&s[i]!==null&&s[i]!==void 0&&(typeof s[i]=="object"&&!Array.isArray(s[i])?a.append(i,JSON.stringify(s[i])):Array.isArray(s[i])?s[i].forEach((l,o)=>{a.append(`${i}[${o}]`,l)}):a.append(i,s[i]))}),s.profilePicture&&a.append("profilePicture",s.profilePicture),s.kycData){const i=s.kycData;i.panCard&&a.append("panCard",i.panCard),i.aadhaar&&a.append("aadhaar",i.aadhaar),i.aadhaarback&&a.append("aadhaarback",i.aadhaarback),i.chequeImage&&a.append("chequeImage",i.chequeImage),i.drivingLicence&&a.append("drivingLicence",i.drivingLicence),i.bill&&a.append("bill",i.bill)}const n=await fetch(Pt(`/team-members/${r}`),{method:"PUT",headers:{Authorization:`Bearer ${e}`},body:a});return At(n)},async deleteTeamMember(e,r){const s=await fetch(Pt(`/team-members/${r}`),{method:"DELETE",headers:Ot(e)});return At(s)},async getTeamMemberActivities(e,r){const s=await fetch(Pt(`/team-members/${r}/activities`),{headers:Ot(e)});return At(s)},async assignBookingToTeamMember(e,r,s){const a=await fetch(Pt("/team-members/assign-booking"),{method:"POST",headers:Ot(e),body:JSON.stringify({bookingId:r,teamMemberId:s})});return At(a)},async verifyPartner(e){const r=await fetch(Pt(`/verify/${e}`));return At(r)},async updateFCMToken(e,r){const s=await fetch(Pt("/updateTokenFmc"),{method:"PUT",headers:Ot(e),body:JSON.stringify({token:r})});return At(s)},async getNotifications(e){const r=await fetch(Pt("/notifications"),{headers:Ot(e)});return At(r)},async markNotificationsAsRead(e){const r=await fetch(Pt("/notifications/mark-read"),{method:"PUT",headers:Ot(e)});return At(r)},async markNotificationAsRead(e,r){const s=await fetch(Pt(`/notifications/${r}/mark-read`),{method:"PUT",headers:Ot(e)});return At(s)},async completeJob(e,r,s){const a=await fetch(Pt(`/bookings/${r}/complete`),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return At(a)},async pauseJob(e,r,s){const a=await fetch(Pt(`/bookings/${r}/pause`),{method:"POST",headers:Ot(e),body:JSON.stringify(s)});return At(a)},async resumeJob(e,r){const s=await fetch(Pt(`/bookings/${r}/resume`),{method:"POST",headers:Ot(e)});return At(s)},async createQuotation(e,r,s){const a=await fetch(Pt(`/bookings/${r}/quotation`),{method:"POST",headers:Ot(e),body:JSON.stringify(s)});return At(a)},async getQuotationsByBooking(e,r){try{const s=await fetch(Pt(`/bookings/${r}/quotations`),{headers:Ot(e),timeout:1e4});return At(s)}catch(s){throw s.name==="TypeError"&&s.message==="Failed to fetch"?new Error(`Network error fetching quotations for booking ${r}. Please check your connection.`):s}},async getPartnerQuotations(e){const r=await fetch(Pt("/quotations"),{headers:Ot(e)});return At(r)},async getQuotationById(e,r){const s=await fetch(Pt(`/quotations/${r}`),{headers:Ot(e)});return At(s)},async deleteQuotation(e,r){const s=await fetch(Pt(`/quotations/${r}`),{method:"DELETE",headers:Ot(e)});return At(s)},async approveQuotation(e,r){console.log("[PartnerAPI] Approving quotation:",r);const s=await fetch(Pt(`/quotations/${r}/approve`),{method:"POST",headers:Ot(e)});return console.log("[PartnerAPI] Approve response status:",s.status),At(s)},async rejectQuotation(e,r,s){console.log("[PartnerAPI] Rejecting quotation:",r,"reason:",s);const a=await fetch(Pt(`/quotations/${r}/reject`),{method:"POST",headers:Ot(e),body:JSON.stringify({rejectionReason:s})});return console.log("[PartnerAPI] Reject response status:",a.status),At(a)},async getJobItems(e,r){const s=await fetch(Pt(`/jobs/${r}/items`),{headers:Ot(e)});return At(s)},async addJobItem(e,r){const s=await fetch(Pt("/jobs/items"),{method:"POST",headers:Ot(e),body:JSON.stringify(r)});return At(s)},async updateJobItem(e,r,s){const a=await fetch(Pt(`/jobs/items/${r}`),{method:"PUT",headers:Ot(e),body:JSON.stringify(s)});return At(a)},async deleteJobItem(e,r){const s=await fetch(Pt(`/jobs/items/${r}`),{method:"DELETE",headers:Ot(e)});return At(s)},async getJobItemsSummary(e,r){const s=await fetch(Pt(`/jobs/${r}/items/summary`),{headers:Ot(e)});return At(s)}},pZ=()=>{const e=er();ao();const[r,s]=g.useState(!1),[a,n]=g.useState([]),[i,l]=g.useState([]),[o,d]=g.useState([]),[c,u]=g.useState(!1),[m,x]=g.useState(!1),[h,p]=g.useState({name:"",phone:"",email:"",category:"",service:"",subService:"",city:"",address:"",landmark:"",pincode:"",description:"",estimatedBudget:""});g.useEffect(()=>{(async()=>{var N;u(!0);try{const P=await(await fetch("https://nexo.works/api/public/service-hierarchy")).json();if(console.log("Service hierarchy response:",P),P!=null&&P.success&&((N=P==null?void 0:P.data)!=null&&N.categories)){const C=P.data.categories.filter(_=>_.isActive!==!1).map(_=>({_id:_._id,name:_.name,services:_.services||[]}));n(C),console.log("Categories loaded:",C.length)}else P!=null&&P.data&&Array.isArray(P.data)?n(P.data):(console.warn("Unexpected data format:",P),n([]))}catch(S){console.error("Error fetching categories:",S),n([])}finally{u(!1)}})()},[]);const f=v=>{if(p(N=>({...N,category:v,service:"",subService:""})),l([]),d([]),v){const N=a.find(S=>S._id===v);N!=null&&N.services&&l(N.services||[])}},b=v=>{if(p(N=>({...N,service:v,subService:""})),d([]),v){const N=i.find(S=>S._id===v);N!=null&&N.subServices&&d(N.subServices||[])}},j=async v=>{if(v.preventDefault(),!h.name||!h.phone||!h.category||!h.city){alert("Please fill all required fields");return}x(!0);try{const k=await(await fetch("https://nexo.works/api/public/submit-service-enquiry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json();console.log("Enquiry submission response:",k),k.success?(alert("Service enquiry submitted successfully! We will contact you soon."),s(!1),p({name:"",phone:"",email:"",category:"",service:"",subService:"",city:"",address:"",landmark:"",pincode:"",description:"",estimatedBudget:""}),l([]),d([])):alert(k.message||"Failed to submit enquiry. Please try again.")}catch(N){console.error("Error submitting enquiry:",N),alert("Failed to submit enquiry. Please try again.")}finally{x(!1)}},w=[{name:"Painting",icon:""},{name:"Carpentry",icon:""},{name:"Renovation",icon:""},{name:"AC Installation",icon:""},{name:"Electrical Wiring",icon:""},{name:"Plumbing Projects",icon:""},{name:"Waterproofing",icon:""}],y=[{step:"1",title:"Customer messages on WhatsApp",description:"Verified customer sends requirement"},{step:"2",title:"We verify the requirement",description:"Quality check and validation"},{step:"3",title:"Lead is shared with max 3 partners",description:"Fair distribution to qualified partners"},{step:"4",title:"You pay per lead",description:"Only pay for genuine, verified leads"}];return t.jsxs(t.Fragment,{children:[t.jsx(Ln,{title:"Get Verified Leads for Your Business | Lead Marketplace | Nexo",description:"Buy verified leads for your business. Pay only for genuine leads. Categories: Painting, Carpentry, Renovation, AC Installation, Electrical Wiring, Plumbing Projects, Waterproofing.",keywords:"business leads, verified leads, service leads, contractor leads, lead generation, buy leads, qualified leads",url:"/leads"}),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,-15,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(20)].map((v,N)=>t.jsx(E.div,{className:"absolute rounded-full z-0",style:{width:`${6+N%4*3}px`,height:`${6+N%4*3}px`,left:`${3+N*5%94}%`,top:`${8+N*4%85}%`,backgroundColor:"rgba(255, 255, 255, 0.4)"},animate:{y:[0,-150,0],x:[0,N%2===0?50:-50,0],opacity:[.4,.8,.4],scale:[1,1.5,1]},transition:{duration:8+N%4,repeat:1/0,ease:"easeInOut",delay:N*.2}},`small-${N}`)),[...Array(12)].map((v,N)=>t.jsx(E.div,{className:"absolute rounded-full blur-sm z-0",style:{width:`${14+N%3*4}px`,height:`${14+N%3*4}px`,left:`${5+N*8%90}%`,top:`${10+N*6%80}%`,backgroundColor:"rgba(255, 255, 255, 0.3)"},animate:{y:[0,-120,0],x:[0,N%2===0?60:-60,0],opacity:[.3,.6,.3],scale:[1,1.4,1]},transition:{duration:9+N%3*2,repeat:1/0,ease:"easeInOut",delay:N*.4}},`medium-${N}`)),[...Array(8)].map((v,N)=>t.jsx(E.div,{className:"absolute rounded-full blur-2xl z-0",style:{width:`${100+N%3*30}px`,height:`${100+N%3*30}px`,left:`${8+N*12%85}%`,top:`${12+N*10%75}%`,backgroundColor:"rgba(255, 255, 255, 0.2)"},animate:{y:[0,-80,0],x:[0,N%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.2,.4,.2]},transition:{duration:10+N%3*2,repeat:1/0,ease:"easeInOut",delay:N*.8}},`large-${N}`)),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4",children:"Get Verified Leads for Your Business"}),t.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mb-6 sm:mb-8 text-white/90",children:"Pay only for genuine leads"}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[t.jsx(E.button,{onClick:()=>e("/partner/onboard?from=leads"),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-primary px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-white/50 transition-all duration-300 flex items-center justify-center gap-2",children:"I am Looking for Leads"}),t.jsxs(E.button,{onClick:()=>s(!0),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center justify-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"I am Looking for Service"]})]})]})}),t.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-20 sm:h-24 bg-gray-50 pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0}})]}),t.jsx("section",{className:"py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Categories"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Choose from various service categories"})]}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map((v,N)=>t.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.4,delay:N*.1},whileHover:{y:-5,scale:1.05},className:"bg-gradient-to-br from-primary/5 to-primary/10 p-8 rounded-xl border border-primary/20 text-center cursor-pointer hover:shadow-xl transition-all duration-300",children:[t.jsx("span",{className:"text-5xl mb-4 block",children:v.icon}),t.jsx("h3",{className:"text-xl font-bold text-primary",children:v.name})]},v.name))})]})}),t.jsx("section",{className:"py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"How it Works"})}),t.jsx("div",{className:"grid md:grid-cols-4 gap-8",children:y.map((v,N)=>t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:N*.2},className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center text-white text-3xl font-bold mx-auto mb-4",children:v.step}),t.jsx("h3",{className:"text-xl font-bold text-primary mb-2",children:v.title}),t.jsx("p",{className:"text-gray-600",children:v.description})]},N))}),t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.8},className:"text-center mt-12",children:t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[t.jsx(E.button,{onClick:()=>e("/partner/onboard?from=leads"),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-primary text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-primary-dark transition-all duration-300 shadow-lg hover:shadow-xl",children:"I am Looking for Leads"}),t.jsxs(E.button,{onClick:()=>s(!0),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-[#20ba5a] transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5"}),"Submit Service Enquiry"]})]})})]})}),t.jsx(Pl,{children:r&&t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[10000] p-4",onClick:()=>s(!1),children:t.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:v=>v.stopPropagation(),className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[t.jsx(wj,{className:"w-5 h-5"}),"Submit Service Enquiry"]}),t.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(Hl,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Rc,{className:"w-4 h-4 inline mr-1"}),"Name ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.name,onChange:v=>p(N=>({...N,name:v.target.value})),required:!0,placeholder:"Enter your name",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(a4,{className:"w-4 h-4 inline mr-1"}),"Phone ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"tel",value:h.phone,onChange:v=>p(N=>({...N,phone:v.target.value})),required:!0,placeholder:"Enter your phone number",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(q_,{className:"w-4 h-4 inline mr-1"}),"Email"]}),t.jsx("input",{type:"email",value:h.email,onChange:v=>p(N=>({...N,email:v.target.value})),placeholder:"Enter your email",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Ul,{className:"w-4 h-4 inline mr-1"}),"City ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.city,onChange:v=>p(N=>({...N,city:v.target.value})),required:!0,placeholder:"Enter your city",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Category ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsxs("select",{value:h.category,onChange:v=>f(v.target.value),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select Category"}),a.map(v=>t.jsx("option",{value:v._id,children:v.name},v._id))]})]}),i.length>0&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service"}),t.jsxs("select",{value:h.service,onChange:v=>b(v.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select Service"}),i.map(v=>t.jsx("option",{value:v._id,children:v.name},v._id))]})]}),o.length>0&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Sub Service"}),t.jsxs("select",{value:h.subService,onChange:v=>p(N=>({...N,subService:v.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select Sub Service"}),o.map(v=>t.jsx("option",{value:v._id,children:v.name},v._id))]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Ul,{className:"w-4 h-4 inline mr-1"}),"Address"]}),t.jsx("input",{type:"text",value:h.address,onChange:v=>p(N=>({...N,address:v.target.value})),placeholder:"Enter full address",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Landmark"}),t.jsx("input",{type:"text",value:h.landmark,onChange:v=>p(N=>({...N,landmark:v.target.value})),placeholder:"Enter landmark",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:h.pincode,onChange:v=>p(N=>({...N,pincode:v.target.value})),placeholder:"Enter pincode",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Estimated Budget ()"}),t.jsx("input",{type:"number",value:h.estimatedBudget,onChange:v=>p(N=>({...N,estimatedBudget:v.target.value})),placeholder:"Enter estimated budget",min:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(wj,{className:"w-4 h-4 inline mr-1"}),"Description"]}),t.jsx("textarea",{value:h.description,onChange:v=>p(N=>({...N,description:v.target.value})),placeholder:"Describe your service requirement in detail",rows:"4",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",children:m?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"animate-spin",children:""}),"Submitting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(vr,{className:"w-4 h-4"}),"Submit Enquiry"]})})]})]})]})})})]})]})},fZ=()=>{const e=ao(),[r,s]=g.useState([]),[a,n]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{const d=await(await fetch("https://nexo.works/api/public/material-categories")).json();if(d!=null&&d.success&&(d!=null&&d.data)&&Array.isArray(d.data)){const c=d.data.map(u=>({name:u.name,icon:u.icon,items:u.items||[]}));s(c)}else s([{name:"Plumbing materials",icon:"",items:["Pipes","Fittings","Taps","Valves","Sealants"]},{name:"Switchboards and cables",icon:"",items:["MCB","Wires","Switches","Sockets","Cable trays"]},{name:"Painting supplies",icon:"",items:["Paints","Brushes","Primers","Thinners","Putty"]},{name:"AC gas",icon:"",items:["R22","R410A","R32","Compressors","Filters"]},{name:"Hardware items",icon:"",items:["Screws","Nails","Hinges","Locks","Handles"]}])}catch(l){console.error("Error fetching material categories:",l),s([{name:"Plumbing materials",icon:"",items:["Pipes","Fittings","Taps","Valves","Sealants"]},{name:"Switchboards and cables",icon:"",items:["MCB","Wires","Switches","Sockets","Cable trays"]},{name:"Painting supplies",icon:"",items:["Paints","Brushes","Primers","Thinners","Putty"]},{name:"AC gas",icon:"",items:["R22","R410A","R32","Compressors","Filters"]},{name:"Hardware items",icon:"",items:["Screws","Nails","Hinges","Locks","Handles"]}])}finally{n(!1)}})()},[]),t.jsxs(t.Fragment,{children:[t.jsx(Ln,{title:"Materials for Technicians | Order Materials on WhatsApp | Nexo",description:"Order materials instantly on WhatsApp. Plumbing materials, switchboards, cables, painting supplies, AC gas, hardware items. Best prices, instant delivery, quality assured.",keywords:"technician materials, plumbing materials, electrical supplies, painting supplies, AC gas, hardware items, material store",url:"/materials"}),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,-15,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(20)].map((i,l)=>t.jsx(E.div,{className:"absolute bg-white/30 rounded-full",style:{width:`${6+l%4*3}px`,height:`${6+l%4*3}px`,left:`${3+l*5%94}%`,top:`${8+l*4%85}%`},animate:{y:[0,-150,0],x:[0,l%2===0?50:-50,0],opacity:[.2,.6,.2],scale:[1,1.5,1]},transition:{duration:8+l%4,repeat:1/0,ease:"easeInOut",delay:l*.2}},`small-${l}`)),[...Array(12)].map((i,l)=>t.jsx(E.div,{className:"absolute bg-white/20 rounded-full blur-sm",style:{width:`${14+l%3*4}px`,height:`${14+l%3*4}px`,left:`${5+l*8%90}%`,top:`${10+l*6%80}%`},animate:{y:[0,-120,0],x:[0,l%2===0?60:-60,0],opacity:[.15,.4,.15],scale:[1,1.4,1]},transition:{duration:9+l%3*2,repeat:1/0,ease:"easeInOut",delay:l*.4}},`medium-${l}`)),[...Array(8)].map((i,l)=>t.jsx(E.div,{className:"absolute bg-white/10 rounded-full blur-2xl",style:{width:`${100+l%3*30}px`,height:`${100+l%3*30}px`,left:`${8+l*12%85}%`,top:`${12+l*10%75}%`},animate:{y:[0,-80,0],x:[0,l%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.1,.3,.1]},transition:{duration:10+l%3*2,repeat:1/0,ease:"easeInOut",delay:l*.8}},`large-${l}`)),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4",children:"Materials for Technicians"}),t.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mb-6 sm:mb-8 text-white/90",children:"Order materials instantly on WhatsApp"}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Order Materials on WhatsApp"]})})]})}),t.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-24 sm:h-28 bg-gradient-to-b from-gray-50 to-white pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0},children:t.jsx("svg",{className:"absolute bottom-0 left-0 w-full h-full",viewBox:"0 0 1440 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",children:t.jsx("path",{d:"M0,60 C240,100 480,20 720,60 C960,100 1200,20 1440,60 L1440,120 L0,120 Z",fill:"white",className:"animate-pulse"})})})]}),t.jsxs("section",{className:"py-20 bg-gradient-to-b from-white via-gray-50/50 to-white relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-primary/5 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-primary/5 rounded-full blur-3xl"})]}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx(E.div,{initial:{scale:.9},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.5},className:"inline-block mb-4",children:t.jsx("span",{className:"text-6xl",children:""})}),t.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-primary mb-4",children:"Available Materials"}),t.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-2xl mx-auto",children:"Everything you need for your service jobs - Quality materials at competitive prices"})]}),a?t.jsxs("div",{className:"text-center py-20",children:[t.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block w-16 h-16 border-4 border-primary border-t-transparent rounded-full"}),t.jsx("p",{className:"mt-6 text-lg text-gray-600 font-medium",children:"Loading materials..."})]}):r.length===0?t.jsx("div",{className:"text-center py-20",children:t.jsx("p",{className:"text-xl text-gray-500",children:"No materials available at the moment."})}):t.jsx("div",{className:"grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:r.map((i,l)=>t.jsxs(E.div,{initial:{opacity:0,y:40,scale:.95},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:l*.12,type:"spring",stiffness:100},whileHover:{y:-10,scale:1.02,transition:{duration:.3}},className:"group relative bg-white rounded-2xl border-2 border-gray-100 hover:border-primary/40 shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden",children:[t.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-br from-primary/0 to-primary/0 group-hover:from-primary/8 group-hover:to-transparent pointer-events-none",initial:!1,animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:3,repeat:1/0,repeatType:"reverse"}}),t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary via-primary-light to-primary overflow-hidden",children:t.jsx(E.div,{className:"h-full w-1/3 bg-gradient-to-r from-transparent via-white/60 to-transparent",animate:{x:["-100%","300%"]},transition:{duration:2,repeat:1/0,repeatDelay:3,ease:"easeInOut"}})}),t.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none",children:[...Array(4)].map((o,d)=>t.jsx(E.div,{className:"absolute w-1 h-1 bg-primary/40 rounded-full",style:{left:`${25+d*20}%`,top:`${40+d%2*20}%`},animate:{y:[0,-20,0],opacity:[.4,.8,.4],scale:[1,1.5,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:d*.3}},d))}),t.jsxs("div",{className:"relative p-6 lg:p-7",children:[t.jsxs(E.div,{whileHover:{scale:1.15,rotate:8},transition:{type:"spring",stiffness:300,damping:15},className:"relative w-20 h-20 mx-auto mb-5",children:[t.jsx(E.div,{className:"absolute inset-0 bg-primary/20 rounded-full blur-xl",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),t.jsx("div",{className:"relative w-full h-full bg-gradient-to-br from-primary/10 to-primary/5 group-hover:from-primary/20 group-hover:to-primary/10 rounded-2xl flex items-center justify-center shadow-sm transition-all duration-300",children:t.jsx("span",{className:"text-5xl",children:i.icon})})]}),t.jsxs("div",{className:"text-center mb-5",children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-800 group-hover:text-primary transition-colors mb-2",children:i.name}),t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-primary/10 rounded-full text-xs font-semibold text-primary",children:[t.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),i.items.length," Items Available"]})]}),t.jsx("div",{className:"mb-6 space-y-2 max-h-[260px] overflow-y-auto pr-1 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:i.items.map((o,d)=>{const c=typeof o=="string"?o:o.name,u=typeof o=="object"&&(o.priceMin||o.priceMax);return t.jsxs(E.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:d*.05},className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-primary/5 rounded-lg border border-gray-100 hover:border-primary/20 transition-all duration-200 group/item",children:[t.jsxs("div",{className:"flex items-center gap-2.5 flex-1 min-w-0",children:[t.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-primary/10 group-hover/item:bg-primary rounded-full flex items-center justify-center transition-colors",children:t.jsx("span",{className:"text-[10px] font-bold text-primary group-hover/item:text-white",children:d+1})}),t.jsx("span",{className:"text-sm font-semibold text-gray-700 group-hover/item:text-primary transition-colors truncate",children:c})]}),u&&t.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1 px-2.5 py-1 bg-emerald-50 border border-emerald-200 rounded-md ml-2",children:[t.jsxs("span",{className:"text-xs font-bold text-emerald-700",children:["",o.priceMin||"0"]}),t.jsx("span",{className:"text-xs text-emerald-600",children:"-"}),t.jsxs("span",{className:"text-xs font-bold text-emerald-700",children:["",o.priceMax||""]})]})]},`${c}-${d}`)})}),t.jsxs(E.button,{onClick:e,whileHover:{scale:1.03,y:-2},whileTap:{scale:.97},className:"w-full bg-gradient-to-r from-[#25D366] to-[#20BA5A] hover:from-[#20BA5A] hover:to-[#1DA851] text-white py-3.5 rounded-xl font-bold text-base flex items-center justify-center gap-2.5 shadow-lg hover:shadow-xl transition-all duration-300 relative overflow-hidden group/btn",children:[t.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent",animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,repeatDelay:2,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute inset-0 bg-white/10 rounded-xl",animate:{scale:[1,1.05,1],opacity:[0,.5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5,repeat:1/0,repeatDelay:3},children:t.jsx(vr,{className:"w-5 h-5 relative z-10"})}),t.jsx("span",{className:"relative z-10",children:"Order on WhatsApp"}),t.jsx(E.svg,{className:"w-4 h-4 relative z-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,animate:{x:[0,3,0]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]}),t.jsx("div",{className:"absolute bottom-0 right-0 w-24 h-24 bg-primary/5 rounded-tl-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},`${i.name}-${l}`))})]})]}),t.jsxs("section",{className:"py-24 md:py-32 bg-gradient-to-br from-primary via-primary-dark to-[#153a5a] text-white relative overflow-hidden",children:[t.jsx(E.div,{className:"absolute top-0 left-0 w-96 h-96 bg-white/10 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-0 right-0 w-96 h-96 bg-yellow-300/10 rounded-full blur-3xl",animate:{x:[0,-100,0],y:[0,-50,0],scale:[1,1.2,1]},transition:{duration:25,repeat:1/0,ease:"easeInOut",delay:2}}),t.jsx("div",{className:"absolute inset-0 opacity-5",children:t.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})}),[...Array(15)].map((i,l)=>t.jsx(E.div,{className:"absolute bg-white/20 rounded-full",style:{width:`${4+l%3*2}px`,height:`${4+l%3*2}px`,left:`${l*7%100}%`,top:`${l*5%100}%`},animate:{y:[0,-100,0],x:[0,l%2===0?30:-30,0],opacity:[.2,.6,.2]},transition:{duration:8+l%4,repeat:1/0,ease:"easeInOut",delay:l*.3}},`particle-${l}`)),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16 md:mb-20",children:[t.jsx(E.div,{initial:{scale:0,rotate:-180},whileInView:{scale:1,rotate:0},viewport:{once:!0},transition:{duration:.8,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-20 h-20 mb-6 bg-white/10 backdrop-blur-sm rounded-full border-2 border-white/20",children:t.jsx("span",{className:"text-4xl",children:""})}),t.jsxs(E.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.2},className:"text-5xl md:text-6xl lg:text-7xl font-extrabold mb-6 leading-tight",children:[t.jsx("span",{className:"block bg-gradient-to-r from-white via-yellow-200 to-white bg-clip-text text-transparent animate-pulse",children:"Earn more."}),t.jsx("span",{className:"block bg-gradient-to-r from-yellow-200 via-white to-yellow-200 bg-clip-text text-transparent",children:"Work faster."})]}),t.jsx(E.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.4},className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Get everything you need to complete jobs efficiently and profitably"}),t.jsx(E.div,{initial:{width:0},whileInView:{width:"100px"},viewport:{once:!0},transition:{duration:.8,delay:.6},className:"mx-auto mt-8 h-1 bg-gradient-to-r from-transparent via-yellow-300 to-transparent"})]}),t.jsxs("div",{className:"grid sm:grid-cols-1 md:grid-cols-3 gap-6 lg:gap-8 max-w-6xl mx-auto",children:[t.jsxs(E.div,{initial:{opacity:0,y:50,rotateX:-15},whileInView:{opacity:1,y:0,rotateX:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,type:"spring",stiffness:100},whileHover:{y:-12,scale:1.03,rotateY:5,transition:{duration:.3}},className:"group relative bg-white/10 backdrop-blur-md border-2 border-white/20 p-8 lg:p-10 rounded-3xl text-center hover:bg-white/15 hover:border-white/30 transition-all duration-500 overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-400/0 to-yellow-400/0 group-hover:from-yellow-400/20 group-hover:to-yellow-400/10 transition-all duration-500 rounded-3xl"}),t.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:t.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-yellow-300/50 via-transparent to-yellow-300/50 animate-pulse"})}),t.jsxs(E.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,repeatDelay:2,ease:"easeInOut"},className:"relative mb-8 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-yellow-400/20 rounded-full blur-2xl group-hover:blur-3xl transition-all duration-500"}),t.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-yellow-300/30 to-yellow-500/20 rounded-2xl flex items-center justify-center border-2 border-yellow-300/30 group-hover:border-yellow-300/50 transition-all duration-300",children:t.jsx("span",{className:"text-6xl",children:""})})]}),t.jsx("h3",{className:"text-3xl font-bold mb-4 relative z-10 group-hover:text-yellow-200 transition-colors duration-300",children:"Instant Delivery"}),t.jsx("p",{className:"text-white/80 leading-relaxed text-lg relative z-10",children:"Get materials delivered directly to your job site - no delays, no hassle"}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-yellow-300 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),t.jsxs(E.div,{initial:{opacity:0,y:50,rotateX:-15},whileInView:{opacity:1,y:0,rotateX:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,delay:.2,type:"spring",stiffness:100},whileHover:{y:-12,scale:1.03,rotateY:5,transition:{duration:.3}},className:"group relative bg-white/10 backdrop-blur-md border-2 border-white/20 p-8 lg:p-10 rounded-3xl text-center hover:bg-white/15 hover:border-white/30 transition-all duration-500 overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-400/0 to-emerald-400/0 group-hover:from-emerald-400/20 group-hover:to-emerald-400/10 transition-all duration-500 rounded-3xl"}),t.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:t.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-emerald-300/50 via-transparent to-emerald-300/50 animate-pulse"})}),t.jsxs(E.div,{animate:{scale:[1,1.15,1],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"relative mb-8 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-emerald-400/20 rounded-full blur-2xl group-hover:blur-3xl transition-all duration-500"}),t.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-emerald-300/30 to-emerald-500/20 rounded-2xl flex items-center justify-center border-2 border-emerald-300/30 group-hover:border-emerald-300/50 transition-all duration-300",children:t.jsx("span",{className:"text-6xl",children:""})})]}),t.jsx("h3",{className:"text-3xl font-bold mb-4 relative z-10 group-hover:text-emerald-200 transition-colors duration-300",children:"Best Prices"}),t.jsx("p",{className:"text-white/80 leading-relaxed text-lg relative z-10",children:"Competitive pricing for all materials - maximize your profit margins"}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-emerald-300 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),t.jsxs(E.div,{initial:{opacity:0,y:50,rotateX:-15},whileInView:{opacity:1,y:0,rotateX:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,delay:.4,type:"spring",stiffness:100},whileHover:{y:-12,scale:1.03,rotateY:5,transition:{duration:.3}},className:"group relative bg-white/10 backdrop-blur-md border-2 border-white/20 p-8 lg:p-10 rounded-3xl text-center hover:bg-white/15 hover:border-white/30 transition-all duration-500 overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/0 to-blue-400/0 group-hover:from-blue-400/20 group-hover:to-blue-400/10 transition-all duration-500 rounded-3xl"}),t.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:t.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-blue-300/50 via-transparent to-blue-300/50 animate-pulse"})}),t.jsxs(E.div,{animate:{rotate:[0,-8,8,0],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,repeatDelay:1.5,ease:"easeInOut"},className:"relative mb-8 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-blue-400/20 rounded-full blur-2xl group-hover:blur-3xl transition-all duration-500"}),t.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-blue-300/30 to-blue-500/20 rounded-2xl flex items-center justify-center border-2 border-blue-300/30 group-hover:border-blue-300/50 transition-all duration-300",children:t.jsx("span",{className:"text-6xl",children:""})})]}),t.jsx("h3",{className:"text-3xl font-bold mb-4 relative z-10 group-hover:text-blue-200 transition-colors duration-300",children:"Quality Assured"}),t.jsx("p",{className:"text-white/80 leading-relaxed text-lg relative z-10",children:"Verified and tested materials only - quality you can trust"}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-blue-300 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]})]})]})]})]})]})},gZ=()=>{const e=ao(),r=[{icon:"",text:"Service in 2040 minutes"},{icon:"",text:"Available 24/7"},{icon:"",text:"Verified emergency technicians"},{icon:"",text:"24*7 Support"}],s=[{name:"Electrical Emergency",icon:"",description:"Power outage, short circuit, electrical fire risk"},{name:"Plumbing Emergency",icon:"",description:"Burst pipe, severe leak, blocked drain"},{name:"AC Emergency",icon:"",description:"AC breakdown, gas leak, compressor failure"},{name:"Lockout Emergency",icon:"",description:"Locked out, broken lock, key stuck"}];return t.jsxs(t.Fragment,{children:[t.jsx(Ln,{title:"Emergency Service in 20-40 Minutes | 24/7 Available | Nexo",description:"Emergency home service available 24/7. Get help in 20-40 minutes for electrical, plumbing, AC, and lockout emergencies. Response under 2 minutes. Verified technicians.",keywords:"emergency service, 24/7 service, urgent repair, emergency plumber, emergency electrician, midnight service, emergency AC repair",url:"/emergency"}),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("section",{className:"relative bg-gradient-to-br from-red-600 to-red-800 text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,-15,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(20)].map((a,n)=>t.jsx(E.div,{className:"absolute bg-white/30 rounded-full",style:{width:`${6+n%4*3}px`,height:`${6+n%4*3}px`,left:`${3+n*5%94}%`,top:`${8+n*4%85}%`},animate:{y:[0,-150,0],x:[0,n%2===0?50:-50,0],opacity:[.2,.6,.2],scale:[1,1.5,1]},transition:{duration:8+n%4,repeat:1/0,ease:"easeInOut",delay:n*.2}},`small-${n}`)),[...Array(12)].map((a,n)=>t.jsx(E.div,{className:"absolute bg-white/20 rounded-full blur-sm",style:{width:`${14+n%3*4}px`,height:`${14+n%3*4}px`,left:`${5+n*8%90}%`,top:`${10+n*6%80}%`},animate:{y:[0,-120,0],x:[0,n%2===0?60:-60,0],opacity:[.15,.4,.15],scale:[1,1.4,1]},transition:{duration:9+n%3*2,repeat:1/0,ease:"easeInOut",delay:n*.4}},`medium-${n}`)),[...Array(8)].map((a,n)=>t.jsx(E.div,{className:"absolute bg-white/10 rounded-full blur-2xl",style:{width:`${100+n%3*30}px`,height:`${100+n%3*30}px`,left:`${8+n*12%85}%`,top:`${12+n*10%75}%`},animate:{y:[0,-80,0],x:[0,n%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.1,.3,.1]},transition:{duration:10+n%3*2,repeat:1/0,ease:"easeInOut",delay:n*.8}},`large-${n}`)),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx(E.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-5xl sm:text-6xl mb-4",children:""}),t.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-3 sm:mb-4",children:"Emergency Service"}),t.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl mb-2",children:"in 2040 minutes"}),t.jsx("p",{className:"text-lg sm:text-xl mb-6 sm:mb-8 text-white/90",children:"For midnight or urgent needs"}),t.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-5 sm:p-6 max-w-2xl mx-auto mb-6 sm:mb-8",children:[t.jsx("p",{className:"text-base sm:text-lg mb-2",children:"Emergency Charge: 199499"}),t.jsx("p",{className:"text-base sm:text-lg",children:"Available 24*7 for your convenience"})]}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Request Emergency Service"]})})]})}),t.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-20 sm:h-24 bg-gray-50 pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0}})]}),t.jsx("section",{className:"py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Why Choose Emergency Service"})}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((a,n)=>t.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:n*.1},className:"bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-xl border-2 border-red-200 text-center",children:[t.jsx("span",{className:"text-5xl mb-4 block",children:a.icon}),t.jsx("p",{className:"text-lg font-semibold text-gray-800",children:a.text})]},n))})]})}),t.jsx("section",{className:"py-20 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Emergency Types"}),t.jsx("p",{className:"text-xl text-gray-600",children:"We handle all types of emergencies"})]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:s.map((a,n)=>t.jsxs(E.div,{initial:{opacity:0,x:n%2===0?-30:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:n*.1},whileHover:{scale:1.02},className:"bg-white p-8 rounded-2xl shadow-lg border-l-4 border-red-500",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[t.jsx("span",{className:"text-5xl",children:a.icon}),t.jsx("h3",{className:"text-2xl font-bold text-primary",children:a.name})]}),t.jsx("p",{className:"text-gray-600 text-lg",children:a.description})]},a.name))})]})}),t.jsx("section",{className:"py-20 bg-gradient-to-br from-red-600 to-red-800 text-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[t.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Need Help Right Now?"}),t.jsx("p",{className:"text-xl mb-8 text-white/90",children:"Our emergency team is ready 24/7"}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-red-600 px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-gray-100 transition-all duration-300 shadow-2xl hover:shadow-white/50 flex items-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5"}),"Call Emergency Service"]})})]})})})]})]})},aP="https://nexo.works",u4=({amount:e,orderData:r,onSuccess:s,onFailure:a,onCancel:n,title:i="Complete Payment",description:l="Secure payment powered by PayU"})=>{const{user:o,isAuthenticated:d}=on(),[c,u]=g.useState(!1),[m,x]=g.useState("card"),[h,p]=g.useState(null),[f,b]=g.useState(!1);g.useRef(null);const j=async()=>{try{const y=localStorage.getItem("userToken");if(!y)throw new Error("User not authenticated");const v=(r==null?void 0:r.planId)||(r==null?void 0:r.planName),N=v?`${aP}/api/user/subscription/initiate-payment`:`${aP}/api/user-payment/initiate-payment`,S=v?{planId:r.planId,productinfo:(r==null?void 0:r.productinfo)||"Subscription Payment"}:{amount:e,phone:o.phone||"",name:o.name||"",email:o.email||"",productinfo:(r==null?void 0:r.productinfo)||"Service Payment",userId:o._id||o.userId};return(await Et.post(N,S,{headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}})).data}catch(y){throw console.error("Initiate payment error:",y),y}},w=async()=>{var y,v;if(!d||!o){p("Please login to continue with payment");return}u(!0),p(null);try{const N=await j();if(!N.success)throw new Error(N.message||"Failed to initiate payment");const{data:S}=N,k=document.createElement("form");k.method="POST",k.action=S.action,k.style.display="none";const P={key:S.key,txnid:S.txnid,amount:S.amount,productinfo:S.productinfo,firstname:S.firstname,email:S.email,phone:S.phone,surl:S.surl,furl:S.furl,hash:S.hash};Object.keys(P).forEach(C=>{const _=document.createElement("input");_.type="hidden",_.name=C,_.value=P[C],k.appendChild(_)}),document.body.appendChild(k),b(!0),k.submit(),document.body.removeChild(k)}catch(N){console.error("Payment initiation error:",N),p(((v=(y=N.response)==null?void 0:y.data)==null?void 0:v.message)||N.message||"Payment failed"),u(!1),a&&a(N)}};return g.useEffect(()=>{const y=()=>{const v=new URLSearchParams(window.location.search),N=v.get("status"),S=v.get("txnid"),k=v.get("payid");if(N==="success"&&S)s&&s({txnid:S,payid:k,status:"success"});else if(N==="failed"){const P=v.get("reason")||"Payment failed";a&&a({message:P})}};return y(),window.addEventListener("popstate",y),()=>{window.removeEventListener("popstate",y)}},[s,a]),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden relative",children:[n&&t.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-10 w-10 h-10 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded-full transition text-gray-700 shadow-lg",children:t.jsx(Hl,{})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Amount to Pay"}),t.jsxs("div",{className:"flex items-center justify-center gap-1",children:[t.jsx(Md,{className:"text-primary text-2xl"}),t.jsx("span",{className:"text-4xl font-bold text-gray-900",children:e.toLocaleString("en-IN")})]})]}),h&&t.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Hl,{className:"text-red-500"}),t.jsx("span",{className:"text-red-700 font-medium",children:"Payment Error"})]}),t.jsx("p",{className:"text-red-600 text-sm mt-1",children:h})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(tc,{className:"text-green-600"}),t.jsx("span",{className:"text-green-800 font-semibold text-sm",children:"Secure Payment"})]}),t.jsx("p",{className:"text-green-700 text-xs",children:"Your payment information is encrypted and secure. We use industry-standard security measures."})]}),t.jsx(E.button,{onClick:w,disabled:c||f,whileHover:{scale:c?1:1.02},whileTap:{scale:c?1:.98},className:`w-full py-4 rounded-xl font-bold text-lg transition-all flex items-center justify-center gap-3 ${c||f?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-primary to-primary-dark text-white hover:from-primary-dark hover:to-primary shadow-lg hover:shadow-xl"}`,children:c?t.jsxs(t.Fragment,{children:[t.jsx(ns,{className:"animate-spin"}),f?"Redirecting to PayU...":"Processing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(s4,{}),"Pay ",e.toLocaleString("en-IN")]})}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("p",{className:"text-xs text-gray-500",children:"By proceeding, you agree to our Terms of Service and Privacy Policy"})})]})]})},yZ="https://nexo.works",bZ=()=>{const[e,r]=g.useState([]),[s,a]=g.useState([]),[n,i]=g.useState(!0),[l,o]=g.useState(null),[d,c]=g.useState(!1),[u,m]=g.useState("all"),x="919590926068",h=er(),{isAuthenticated:p,user:f}=on(),b=[{id:"all",label:"All Plans",icon:ud,color:"bg-gray-100 text-gray-700"},{id:"individual",label:"Individual",icon:Kf,color:"bg-green-100 text-green-700"},{id:"business",label:"Business",icon:FC,color:"bg-blue-100 text-blue-700"},{id:"corporate",label:"Corporate",icon:Mo,color:"bg-purple-100 text-purple-700"}];g.useEffect(()=>{(async()=>{try{const A=await(await fetch(`${yZ}/api/amc-plans`)).json();A.success&&A.data&&(r(A.data),a(A.data))}catch(_){console.error("Error fetching AMC plans:",_)}finally{i(!1)}})()},[]),g.useEffect(()=>{if(u==="all")a(e);else{const C=e.filter(_=>{var A;return((A=_.planType)==null?void 0:A.toLowerCase())===u.toLowerCase()});a(C)}},[u,e]);const j=C=>{m(C)},w=C=>{if(!p){alert("Please login to proceed with payment"),h("/user-login");return}o(C),c(!0)},y=(C=null)=>{let _="Hi! I'm interested in Nexo's Corporate AMC services.";C?_+=` I would like to know more about the ${C.name} plan (${C.price.toLocaleString("en-IN")}).`:_+=" Could you please provide more details about your AMC packages?";const A=encodeURIComponent(_),D=`https://wa.me/${x}?text=${A}`;window.open(D,"_blank")},v=C=>{console.log("Payment successful:",C),c(!1),o(null),alert(`Payment successful! Your ${l==null?void 0:l.name} AMC plan is now active.`),h("/payment-result?status=success&txnid="+C.txnid)},N=C=>{console.error("Payment failed:",C),c(!1),alert("Payment failed. Please try again or contact support.")},S=()=>{c(!1),o(null)},k=[{icon:tc,title:"Guaranteed Service",description:"24/7 priority support with guaranteed response times"},{icon:ai,title:"Scheduled Maintenance",description:"Regular preventive maintenance to avoid breakdowns"},{icon:ya,title:"Expert Technicians",description:"Certified professionals with years of experience"},{icon:YX,title:"Dedicated Support",description:"Dedicated account manager for your business needs"},{icon:jo,title:"Quality Assurance",description:"100% satisfaction guarantee on all services"},{icon:V_,title:"Cost Savings",description:"Up to 40% savings compared to ad-hoc repairs"}],P=[{icon:HX,title:"AC Maintenance",description:"Complete AC servicing, cleaning, and repairs"},{icon:QX,title:"Electrical Services",description:"Electrical maintenance, wiring, and installations"},{icon:ya,title:"Plumbing Services",description:"Plumbing repairs, maintenance, and installations"},{icon:KX,title:"General Maintenance",description:"Carpentry, painting, and general facility maintenance"}];return t.jsxs(t.Fragment,{children:[t.jsx(Ln,{title:"Corporate AMC Plans | Nexo - Annual Maintenance Contracts for Businesses",description:"Comprehensive Annual Maintenance Contract (AMC) plans for businesses. Get priority support, scheduled maintenance, and cost-effective solutions for your company's facility management needs.",keywords:"corporate AMC, annual maintenance contract, business maintenance, facility management, corporate services, AMC plans",url:"/corporate-amc"}),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d&&l&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsx(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"max-w-md w-full",children:t.jsx(u4,{amount:l.price,orderData:{productinfo:`${l.name} AMC Plan`,userId:(f==null?void 0:f._id)||(f==null?void 0:f.userId)},onSuccess:v,onFailure:N,onCancel:S,title:`Pay for ${l.name}`,description:`Annual Maintenance Contract - ${l.name}`})})}),t.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-16 lg:py-24 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-32 h-32 bg-white/10 rounded-full blur-2xl",animate:{y:[0,-20,0],x:[0,10,0],scale:[1,1.1,1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-40 h-40 bg-yellow-300/10 rounded-full blur-2xl",animate:{y:[0,20,0],x:[0,-15,0],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:1}}),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx(E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.8,type:"spring"},className:"inline-block mb-6",children:t.jsx(Mo,{className:"w-16 h-16 text-yellow-300"})}),t.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Corporate AMC Plans"}),t.jsx("p",{className:"text-xl md:text-2xl mb-8 text-yellow-300 font-semibold",children:"Annual Maintenance Contracts for Your Business"}),t.jsx("p",{className:"text-lg mb-10 max-w-3xl mx-auto text-white/90",children:"Comprehensive facility maintenance solutions designed for businesses. Get priority support, scheduled maintenance, and significant cost savings with our AMC plans."}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4",children:[t.jsxs(E.button,{onClick:()=>y(),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-8 py-4 rounded-full text-lg font-bold shadow-xl hover:shadow-2xl transition-all duration-300 flex items-center gap-3",children:[t.jsx(vr,{className:"w-6 h-6"}),"Get Quote on WhatsApp"]}),t.jsx(E.button,{onClick:()=>{const C=document.querySelector("#amc-plans");C==null||C.scrollIntoView({behavior:"smooth"})},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white/20 text-white px-8 py-4 rounded-full text-lg font-semibold border border-white/40 hover:bg-white/30 transition-all duration-300",children:"View Plans"})]})]})})]}),t.jsx("section",{className:"py-16 lg:py-24 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose Nexo AMC?"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our Annual Maintenance Contracts provide comprehensive coverage and peace of mind for your business operations"})]}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:k.map((C,_)=>{const A=C.icon;return t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:_*.1},whileHover:{y:-5,scale:1.02},className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary/10 to-primary/20 rounded-2xl flex items-center justify-center mb-6",children:t.jsx(A,{className:"w-8 h-8 text-primary"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:C.title}),t.jsx("p",{className:"text-gray-600 leading-relaxed",children:C.description})]},_)})})]})}),t.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Services Covered"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Comprehensive maintenance services for all your business facility needs"})]}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:P.map((C,_)=>{const A=C.icon;return t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:_*.1},whileHover:{y:-5,scale:1.02},className:"bg-white p-6 rounded-xl shadow-md border border-gray-100 hover:shadow-lg transition-all duration-300 text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary/10 to-primary/20 rounded-xl flex items-center justify-center mx-auto mb-4",children:t.jsx(A,{className:"w-6 h-6 text-primary"})}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:C.title}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:C.description})]},_)})})]})}),t.jsx("section",{id:"amc-plans",className:"py-16 lg:py-24 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Choose Your AMC Plan"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Flexible plans designed to meet different business needs and budgets"}),t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"flex flex-wrap justify-center gap-3 mb-8",children:b.map(C=>{const _=C.icon,A=u===C.id;return t.jsxs(E.button,{onClick:()=>j(C.id),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:`flex items-center gap-2 px-4 py-2 rounded-full font-semibold transition-all duration-300 ${A?"bg-primary text-white shadow-lg transform scale-105":`${C.color} hover:shadow-md`}`,children:[t.jsx(_,{className:"w-4 h-4"}),t.jsx("span",{children:C.label}),C.id!=="all"&&t.jsx("span",{className:`ml-1 px-2 py-0.5 rounded-full text-xs font-bold ${A?"bg-white/20 text-white":"bg-white/60 text-gray-700"}`,children:e.filter(D=>{var H;return((H=D.planType)==null?void 0:H.toLowerCase())===C.id.toLowerCase()}).length}),C.id==="all"&&t.jsx("span",{className:`ml-1 px-2 py-0.5 rounded-full text-xs font-bold ${A?"bg-white/20 text-white":"bg-white/60 text-gray-700"}`,children:e.length})]},C.id)})}),t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-gray-600 mb-4",children:u==="all"?t.jsxs("span",{children:["Showing all ",s.length," AMC plans"]}):t.jsxs("span",{children:["Showing ",s.length," ",u," plan",s.length!==1?"s":"",s.length===0&&t.jsx("span",{className:"text-amber-600 font-medium",children:" - No plans available for this category"})]})})]}),n?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading AMC plans..."})]}):s.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Mo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:u==="all"?"No AMC Plans Available":`No ${u.charAt(0).toUpperCase()+u.slice(1)} Plans Available`}),t.jsx("p",{className:"text-gray-600 mb-6",children:u==="all"?"We're currently setting up our AMC plans. Please contact us for custom quotes.":`No ${u} plans are currently available. Try selecting a different category or contact us for custom quotes.`}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4",children:[u!=="all"&&t.jsx(E.button,{onClick:()=>j("all"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-full font-semibold hover:bg-gray-300 transition-all duration-300",children:"View All Plans"}),t.jsxs(E.button,{onClick:()=>y(),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-primary text-white px-6 py-3 rounded-full font-semibold hover:bg-primary-dark transition-all duration-300 flex items-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5"}),"Contact Us"]})]})]}):t.jsx(E.div,{layout:!0,className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map((C,_)=>t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:_*.2},whileHover:{y:-10,scale:1.02},className:`bg-white rounded-2xl shadow-xl border-2 transition-all duration-300 overflow-hidden ${C.highlight?"border-primary scale-105 shadow-2xl shadow-primary/20":"border-gray-200 hover:border-primary/30 hover:shadow-2xl"}`,children:[C.highlight&&t.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-dark text-white text-center py-2 px-4",children:t.jsx("span",{className:"text-sm font-bold",children:C.highlightText||"MOST POPULAR"})}),t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"text-center mb-6",children:[C.planType&&t.jsx("div",{className:"mb-3",children:t.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold ${C.planType.toLowerCase()==="individual"?"bg-green-100 text-green-700":C.planType.toLowerCase()==="business"?"bg-blue-100 text-blue-700":C.planType.toLowerCase()==="corporate"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:[C.planType.toLowerCase()==="individual"&&t.jsx(Kf,{className:"w-3 h-3"}),C.planType.toLowerCase()==="business"&&t.jsx(FC,{className:"w-3 h-3"}),C.planType.toLowerCase()==="corporate"&&t.jsx(Mo,{className:"w-3 h-3"}),C.planType.charAt(0).toUpperCase()+C.planType.slice(1)," Plan"]})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:C.name}),t.jsxs("div",{className:"mb-4",children:[t.jsx("span",{className:"text-4xl font-bold text-primary",children:C.priceDisplay||`${C.price.toLocaleString("en-IN")}`}),t.jsx("span",{className:"text-gray-600",children:"/year"})]}),C.description&&t.jsx("p",{className:"text-gray-600 text-sm",children:C.description})]}),t.jsx("ul",{className:"space-y-3 mb-6",children:C.features.map((A,D)=>t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(He,{className:"text-green-500 mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700 text-sm",children:A})]},D))}),C.includedServices&&C.includedServices.length>0&&t.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:[t.jsxs("h4",{className:"text-sm font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[t.jsx(ya,{className:"text-primary"}),"Included Services (",C.includedServices.length,")"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[C.includedServices.slice(0,4).map((A,D)=>t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-gray-700 font-medium",children:typeof A=="object"?A.name:A}),C.serviceFrequency&&C.serviceFrequency[A._id||A]&&t.jsx("span",{className:"text-primary font-semibold",children:C.serviceFrequency[A._id||A]==="unlimited"?"Unlimited":`${C.serviceFrequency[A._id||A]}x/year`})]},D)),C.includedServices.length>4&&t.jsxs("div",{className:"text-xs text-gray-500 font-medium",children:["+",C.includedServices.length-4," more services"]})]})]}),C.duration&&t.jsx("div",{className:"mb-6 text-center",children:t.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:[t.jsx(ai,{className:"mr-1"}),C.duration," ",C.durationUnit||"months"," plan"]})}),t.jsxs(E.button,{onClick:()=>w(C),whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:`w-full py-4 rounded-xl font-bold transition-all duration-300 flex items-center justify-center gap-2 ${C.highlight?"bg-gradient-to-r from-primary to-primary-dark text-white hover:from-primary-dark hover:to-primary shadow-lg":"bg-gradient-to-r from-gray-100 to-gray-200 text-primary hover:from-gray-200 hover:to-gray-300"}`,children:["Buy ",C.name," Plan"]})]})]},C._id||_))})]})}),t.jsx("section",{className:"py-16 lg:py-24 bg-gradient-to-br from-primary to-primary-dark text-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Get Started?"}),t.jsx("p",{className:"text-xl mb-10 max-w-3xl mx-auto text-white/90",children:"Contact our team to discuss your business requirements and get a customized AMC plan"}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-6",children:[t.jsxs(E.button,{onClick:()=>y(),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-8 py-4 rounded-full text-lg font-bold shadow-xl hover:shadow-2xl transition-all duration-300 flex items-center gap-3",children:[t.jsx(vr,{className:"w-6 h-6"}),"Chat on WhatsApp"]}),t.jsxs(E.a,{href:`tel:+91${x}`,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white/20 text-white px-8 py-4 rounded-full text-lg font-semibold border border-white/40 hover:bg-white/30 transition-all duration-300 flex items-center gap-3",children:[t.jsx(a4,{className:"w-5 h-5"}),"Call Now"]})]})]})})})]})]})},vZ=()=>{const e=ao(),r=[{name:"Brand Promotions",icon:"",description:"Showcase your brand to thousands of customers",benefits:["Featured listings","Brand visibility","Customer reach"]},{name:"Featured Listings",icon:"",description:"Get priority placement in service categories",benefits:["Top placement","Higher visibility","More leads"]},{name:"Sponsored Tool Partners",icon:"",description:"Partner with technicians and service providers",benefits:["Direct access","Loyalty programs","Bulk orders"]},{name:"Technician Loyalty Partnerships",icon:"",description:"Build long-term relationships with service partners",benefits:["Exclusive deals","Training programs","Co-marketing"]}],s=[{name:"Tools",icon:""},{name:"Appliances",icon:""},{name:"Paint",icon:""},{name:"Hardware",icon:""},{name:"Electrical",icon:""},{name:"Plumbing",icon:""}],a=[{icon:"",text:"Access to thousands of customers"},{icon:"",text:"Direct connection with technicians"},{icon:"",text:"Increased brand awareness"},{icon:"",text:"Higher sales volume"},{icon:"",text:"Targeted marketing"},{icon:"",text:"Long-term partnerships"}];return t.jsxs(t.Fragment,{children:[t.jsx(Ln,{title:"Partner with Us | Brand Partnerships | Nexo",description:"Showcase your tools, appliances, paint, or hardware brand to thousands of customers and technicians. Brand promotions, featured listings, sponsored tool partners, technician loyalty partnerships.",keywords:"brand partnership, brand collaboration, business partnership, brand promotion, featured listing, sponsored partners",url:"/brand-partnerships"}),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,-15,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(20)].map((n,i)=>t.jsx(E.div,{className:"absolute bg-white/30 rounded-full",style:{width:`${6+i%4*3}px`,height:`${6+i%4*3}px`,left:`${3+i*5%94}%`,top:`${8+i*4%85}%`},animate:{y:[0,-150,0],x:[0,i%2===0?50:-50,0],opacity:[.2,.6,.2],scale:[1,1.5,1]},transition:{duration:8+i%4,repeat:1/0,ease:"easeInOut",delay:i*.2}},`small-${i}`)),[...Array(12)].map((n,i)=>t.jsx(E.div,{className:"absolute bg-white/20 rounded-full blur-sm",style:{width:`${14+i%3*4}px`,height:`${14+i%3*4}px`,left:`${5+i*8%90}%`,top:`${10+i*6%80}%`},animate:{y:[0,-120,0],x:[0,i%2===0?60:-60,0],opacity:[.15,.4,.15],scale:[1,1.4,1]},transition:{duration:9+i%3*2,repeat:1/0,ease:"easeInOut",delay:i*.4}},`medium-${i}`)),[...Array(8)].map((n,i)=>t.jsx(E.div,{className:"absolute bg-white/10 rounded-full blur-2xl",style:{width:`${100+i%3*30}px`,height:`${100+i%3*30}px`,left:`${8+i*12%85}%`,top:`${12+i*10%75}%`},animate:{y:[0,-80,0],x:[0,i%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.1,.3,.1]},transition:{duration:10+i%3*2,repeat:1/0,ease:"easeInOut",delay:i*.8}},`large-${i}`)),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4",children:"Partner with Us"}),t.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mb-6 sm:mb-8 text-white/90",children:"Showcase your tools, appliances, paint, or hardware brand to thousands of customers and technicians"}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Partner With Us"]})})]})}),t.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-20 sm:h-24 bg-gray-50 pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0}})]}),t.jsx("section",{className:"py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Partnership Types"})}),t.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:r.map((n,i)=>t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:i*.1},whileHover:{y:-5,scale:1.02},className:"bg-gradient-to-br from-primary/5 to-primary/10 p-8 rounded-2xl border border-primary/20 shadow-lg",children:[t.jsx("div",{className:"text-5xl mb-4",children:n.icon}),t.jsx("h3",{className:"text-2xl font-bold text-primary mb-3",children:n.name}),t.jsx("p",{className:"text-gray-700 mb-4 text-lg",children:n.description}),t.jsx("ul",{className:"space-y-2",children:n.benefits.map((l,o)=>t.jsxs("li",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx("span",{className:"text-primary",children:""}),l]},o))})]},n.name))})]})}),t.jsx("section",{className:"py-20 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Brand Categories"}),t.jsx("p",{className:"text-xl text-gray-600",children:"We partner with brands across all categories"})]}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((n,i)=>t.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:i*.1},className:"bg-white p-8 rounded-xl shadow-lg border border-gray-200 text-center hover:shadow-xl transition-all duration-300",children:[t.jsx("span",{className:"text-5xl mb-4 block",children:n.icon}),t.jsx("h3",{className:"text-xl font-bold text-primary",children:n.name})]},n.name))})]})}),t.jsx("section",{className:"py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Why Partner With Us"})}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((n,i)=>t.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:i*.1},className:"flex items-center gap-4 bg-gray-50 p-6 rounded-xl",children:[t.jsx("span",{className:"text-4xl",children:n.icon}),t.jsx("span",{className:"text-lg font-semibold text-gray-800",children:n.text})]},i))})]})}),t.jsx("section",{className:"py-20 bg-gradient-to-br from-primary to-primary-dark text-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[t.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Ready to Grow Together?"}),t.jsx("p",{className:"text-xl mb-8 text-white/90",children:"Join us and reach thousands of customers and technicians"}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-primary px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-gray-100 transition-all duration-300 shadow-2xl hover:shadow-white/50 flex items-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5"}),"Start Partnership Discussion"]})})]})})})]})]})},jZ=({paymentData:e,onSuccess:r,onFailure:s})=>{const a=g.useRef(null);return g.useEffect(()=>{e&&a.current&&a.current.submit()},[e]),e?t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full mx-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Redirecting to Payment Gateway"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Please wait while we redirect you to secure payment page..."})]}),t.jsxs("form",{ref:a,action:e.action,method:"post",style:{display:"none"},children:[t.jsx("input",{type:"hidden",name:"key",value:e.key}),t.jsx("input",{type:"hidden",name:"txnid",value:e.txnid}),t.jsx("input",{type:"hidden",name:"amount",value:e.amount}),t.jsx("input",{type:"hidden",name:"productinfo",value:e.productinfo}),t.jsx("input",{type:"hidden",name:"firstname",value:e.firstname}),t.jsx("input",{type:"hidden",name:"email",value:e.email}),t.jsx("input",{type:"hidden",name:"phone",value:e.phone}),t.jsx("input",{type:"hidden",name:"surl",value:e.surl}),t.jsx("input",{type:"hidden",name:"furl",value:e.furl}),t.jsx("input",{type:"hidden",name:"hash",value:e.hash})]})]})}):null},nP=[{id:"ac-service",name:"AC Service",icon:""},{id:"plumbing",name:"Plumbing",icon:""},{id:"electrical",name:"Electrical",icon:""},{id:"cleaning",name:"Cleaning",icon:""}],wZ=[{name:"Silver",price:1e3,leads:20,commission:5,leadFee:50,minWalletBalance:20,icon:"",color:"bg-gray-100",borderColor:"border-gray-300",features:["Priority support","Weekly performance insights"]},{name:"Gold",price:2e3,leads:50,commission:4,leadFee:40,minWalletBalance:50,icon:"",color:"bg-yellow-50",borderColor:"border-yellow-300",features:["Dedicated success manager","Higher lead priority"]},{name:"Platinum",price:5e3,leads:150,commission:3,leadFee:30,minWalletBalance:100,icon:"",color:"bg-purple-50",borderColor:"border-purple-300",features:["Featured listing","Daily performance insights","Fast-track payouts"]}],NZ=({currentStep:e,setCurrentStep:r,formData:s,token:a})=>{var f,b,j;const[n,i]=g.useState(!1),[l,o]=g.useState(!1),[d,c]=g.useState(!1),[u,m]=g.useState(new Date),[x,h]=g.useState(0);g.useEffect(()=>{const w=async()=>{var v,N;if(a){c(!0);try{const S=await ut.getProfile(a);if(S.success&&S.profile){const k=S.profile;console.log("Profile status check:",k);const P=k.paymentApproved===!0||k.registerdFee===!0||((v=k.profile)==null?void 0:v.paymentApproved)===!0||((N=k.profile)==null?void 0:N.registerdFee)===!0,C=k.status==="approved"||k.isApproved===!0||k.approvedAt,_=C&&P;if(console.log("Payment verified:",P,"Profile approved:",C,"Overall approved:",_),i(_),o(P),m(new Date),_)try{await ut.updateOnboardingStep(a,{step:9,completed:!0,approved:!0,approvedAt:new Date().toISOString()})}catch(A){console.error("Error updating step completion:",A)}}}catch(S){console.error("Error checking approval status:",S)}finally{c(!1)}}};w();const y=setInterval(w,6e4);return()=>clearInterval(y)},[a]),g.useEffect(()=>{const w=setInterval(()=>{h(y=>y+1)},1e3);return()=>clearInterval(w)},[]);const p=w=>{const y=Math.floor(w/60),v=w%60;return`${y}:${v.toString().padStart(2,"0")}`};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8,bounce:.4},className:"w-28 h-28 bg-gradient-to-br from-blue-400 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl",children:t.jsx(E.div,{animate:{rotate:d?360:0,scale:d?[1,1.2,1]:[1,1.1,1]},transition:{rotate:{duration:d?1:3,repeat:1/0,ease:"linear"},scale:{duration:d?.5:2,repeat:1/0,ease:"easeInOut"}},className:"w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg",children:n?t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5},children:t.jsx(zX,{className:"w-10 h-10 text-green-600"})}):t.jsx(XX,{className:"w-10 h-10 text-blue-600"})})}),t.jsx(E.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-primary mb-2",children:n?"Profile Approved!":l?"Your Account Under Review":"Waiting for Payment Verification"}),t.jsx(E.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-gray-600 mb-4",children:n?"Congratulations! Your profile has been approved and payment verified. You can now proceed to select your MG plan.":l?"Your payment has been successfully verified! Your partner account is now under review by our admin team. We will notify you once approved.":"Your payment is being verified by our admin team. Once approved, your profile will be reviewed."}),t.jsxs(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7},className:`inline-flex items-center gap-3 px-4 py-2 rounded-full text-sm font-medium ${n?"bg-green-100 text-green-800 border border-green-200":l?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[d?t.jsx(iJ,{className:"animate-spin"}):n?t.jsx(He,{className:"text-green-600"}):l?t.jsx(He,{className:"text-yellow-600"}):t.jsx(ai,{className:"text-blue-600"}),t.jsx("span",{children:d?"Checking status...":n?"Profile & Payment Approved":l?"Payment Verified - Profile Review Pending":`Payment Verification Pending  Last checked: ${u.toLocaleTimeString()}`})]})]}),l&&s.payment.payId&&t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-green-50 rounded-2xl p-6 border-2 border-green-200 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(He,{className:"text-green-600 text-2xl"}),t.jsx("h3",{className:"text-lg font-bold text-green-800",children:"Payment Details"})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Transaction ID:"}),t.jsx("span",{className:"font-mono font-semibold text-gray-800",children:s.payment.payId})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Registration Fee:"}),t.jsxs("span",{className:"font-semibold text-gray-800",children:["",(f=s.payment.registrationFee)==null?void 0:f.toLocaleString()]})]}),s.payment.securityDepositSelected&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Security Deposit:"}),t.jsxs("span",{className:"font-semibold text-gray-800",children:["",(b=s.payment.securityDeposit)==null?void 0:b.toLocaleString()]})]}),s.toolkit.selected&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Toolkit:"}),t.jsxs("span",{className:"font-semibold text-gray-800",children:["",(j=s.toolkit.price)==null?void 0:j.toLocaleString()]})]}),t.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Total Paid:"}),t.jsxs("span",{className:"font-bold text-lg text-green-600",children:["",((s.payment.registrationFee||0)+(s.payment.securityDepositSelected&&s.payment.securityDeposit||0)+(s.toolkit.selected&&s.toolkit.price||0)).toLocaleString()]})]})}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Payment Status:"}),t.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-semibold",children:[t.jsx(He,{}),"Verified"]})]})]})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:`bg-gradient-to-br rounded-2xl p-6 border-2 ${n?"from-green-50 to-emerald-100 border-green-200":l?"from-yellow-50 to-amber-100 border-yellow-200":"from-blue-50 to-indigo-100 border-blue-200"}`,children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"flex items-center justify-center gap-3 mb-4",children:n?t.jsxs(t.Fragment,{children:[t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"w-4 h-4 bg-green-500 rounded-full"}),t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,delay:.3},className:"w-4 h-4 bg-green-500 rounded-full"}),t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,delay:.6},className:"w-4 h-4 bg-green-500 rounded-full"})]}):t.jsxs(t.Fragment,{children:[t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0},className:"w-4 h-4 bg-blue-500 rounded-full"}),t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,delay:.2},className:"w-4 h-4 bg-blue-500 rounded-full"}),t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,delay:.4},className:"w-4 h-4 bg-blue-500 rounded-full"})]})}),t.jsx("h3",{className:`text-xl font-semibold mb-2 ${n?"text-green-800":l?"text-yellow-800":"text-blue-800"}`,children:n?"Review Completed Successfully":l?"Profile Review in Progress":"Payment Verification Pending"}),t.jsx("p",{className:`text-sm ${n?"text-green-600":l?"text-yellow-600":"text-blue-600"}`,children:n?"All verification checks have been completed successfully":l?"Your payment has been verified. Our team is now reviewing your profile information.":"Your payment is being verified by our admin team before profile review begins."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1},className:"flex items-start gap-3",children:[t.jsx(E.div,{animate:l?{scale:[1,1.2,1]}:{},className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${l?"bg-yellow-100":"bg-gray-100"}`,children:t.jsx(_i,{className:`w-4 h-4 ${l?"text-yellow-600":"text-gray-400"}`})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-800",children:"Payment Verification"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Registration fee and payment details verification"})]})]}),t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.1},className:"flex items-start gap-3",children:[t.jsx(E.div,{animate:n?{scale:[1,1.2,1]}:{},className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${n||l?"bg-green-100":"bg-gray-100"}`,children:t.jsx(He,{className:`w-4 h-4 ${n?"text-green-600":l?"text-green-500":"text-gray-400"}`})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-800",children:"Documents Verified"}),t.jsx("div",{className:"text-sm text-gray-600",children:"KYC documents, address proof, and business details checked"})]})]}),t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.3},className:"flex items-start gap-3",children:[t.jsx(E.div,{animate:n?{scale:[1,1.2,1]}:{},className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${n||l?"bg-blue-100":"bg-gray-100"}`,children:t.jsx(tc,{className:`w-4 h-4 ${n?"text-blue-600":l?"text-blue-500":"text-gray-400"}`})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-800",children:"Background Check"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Business legitimacy and service category verification"})]})]}),t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.5},className:"flex items-start gap-3",children:[t.jsx(E.div,{animate:n?{scale:[1,1.2,1]}:{},className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${n||l?"bg-purple-100":"bg-gray-100"}`,children:t.jsx(qa,{className:`w-4 h-4 ${n?"text-purple-600":l?"text-purple-500":"text-gray-400"}`})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-800",children:"Final Approval"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Account activation and partner onboarding completion"})]})]})]})]}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.8},className:"text-center",children:n?t.jsxs(E.button,{onClick:()=>r(11),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-primary text-white px-8 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition flex items-center gap-2 mx-auto",children:["Proceed to MG Plan Selection",t.jsx(Hn,{})]}):t.jsxs("div",{className:`border-2 rounded-xl p-4 max-w-md mx-auto ${l?"bg-yellow-50 border-yellow-200":"bg-gray-100 border-gray-200"}`,children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[t.jsx(ai,{className:`${l?"text-yellow-500":"text-gray-500"}`}),t.jsx("span",{className:`text-sm font-medium ${l?"text-yellow-700":"text-gray-700"}`,children:l?"Waiting for Profile Approval":"Waiting for Payment Verification"})]}),t.jsx("p",{className:"text-xs text-gray-600 text-center",children:l?"Your payment has been verified! Your profile is now under review by our team.":"Your payment is being verified by our admin team. You will be notified once approved."}),t.jsx("div",{className:"mt-3 text-center",children:t.jsxs("span",{className:"text-xs text-gray-500",children:["Time elapsed: ",p(x)]})})]})}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2},className:"bg-gray-50 rounded-xl p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsxs("div",{className:"text-sm",children:[t.jsx("div",{className:"font-medium text-gray-800",children:"Need Help?"}),t.jsx("div",{className:"text-gray-600",children:"Contact our support team if you have any questions about your application status."})]})]})}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2.2},className:"border-t border-gray-200 pt-6",children:t.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[t.jsxs("div",{className:"text-center mb-3",children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Want to register a new partner?"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Clear all saved data and start fresh registration"})]}),t.jsxs(E.button,{onClick:()=>{window.confirm("Are you sure you want to start a new registration? This will clear all saved data from this device.")&&(localStorage.removeItem("partnerOnboardingStep"),localStorage.removeItem("partnerOnboardingFormData"),localStorage.removeItem("partnerOnboardingToken"),localStorage.removeItem("partnerOnboardingPartnerData"),window.location.href="/partner/onboard")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-blue-600 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-blue-700 transition shadow-md",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Register New Partner"]})]})})]})},iP=()=>{var ft;const e=zr(),[r]=Id(),s=r.get("from")==="leads"||((ft=e.state)==null?void 0:ft.fromLeads),n=(()=>{try{const ve=localStorage.getItem("partnerOnboardingStep"),Ce=localStorage.getItem("partnerOnboardingToken"),Te=localStorage.getItem("partnerOnboardingFormData"),Xe=localStorage.getItem("partnerOnboardingPartnerData");return{step:ve?parseInt(ve):1,token:Ce||null,formData:Te?JSON.parse(Te):null,partnerData:Xe?JSON.parse(Xe):null}}catch(ve){return console.error("Error loading saved data:",ve),{step:1,token:null,formData:null,partnerData:null}}})(),[i,l]=g.useState(n.step),[o,d]=g.useState(n.token),[c,u]=g.useState(n.partnerData),[m,x]=g.useState(!1),[h,p]=g.useState(n.formData||{phone:"",otp:"",name:"",email:"",whatsappNumber:"",qualification:"",experience:"",address:"",landmark:"",pincode:"",city:"",referralCode:"",gstNumber:"",partnerType:"individual",trade:"",categories:[],categoryNames:[],subcategory:"",service:"",modeOfService:"offline",profilePicture:null,selectedHubs:[],selectedPlan:null,selectedPlanId:null,kyc:{panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}},toolkit:{selected:!1,type:"ac-toolkit",price:2499},payment:{registrationFee:0,securityDeposit:0,securityDepositSelected:!0,total:0,payId:"",paidBy:"Self"},terms:{accepted:!1,signature:null}}),[f,b]=g.useState(!1),[j,w]=g.useState(null),[y,v]=g.useState(!1),[N,S]=g.useState(0),[k,P]=g.useState(null),[C,_]=g.useState([]),[A,D]=g.useState(!1),[H,re]=g.useState([]),[xe,we]=g.useState(!1),[T,z]=g.useState(null),[Q,B]=g.useState([]),[L,R]=g.useState(!1),Z=g.useRef(null),W=g.useRef(null),[ie,ae]=g.useState(!1),[M,U]=g.useState(null),[q,G]=g.useState(!1),Y=ao(),{openDialog:oe}=n4(),[Be,fe]=g.useState(null),[ne,ce]=g.useState(!1),pe=12,F=C.find(ve=>ve.name===h.selectedPlan);g.useEffect(()=>{if(N>0){const ve=setTimeout(()=>S(N-1),1e3);return()=>clearTimeout(ve)}},[N]),g.useEffect(()=>{try{(h.phone||h.name||h.email)&&localStorage.setItem("partnerOnboardingFormData",JSON.stringify(h))}catch(ve){console.error("Error saving form data:",ve)}},[h]),g.useEffect(()=>{try{localStorage.setItem("partnerOnboardingStep",i.toString())}catch(ve){console.error("Error saving step:",ve)}},[i]),g.useEffect(()=>{try{o&&localStorage.setItem("partnerOnboardingToken",o)}catch(ve){console.error("Error saving token:",ve)}},[o]),g.useEffect(()=>{try{c&&localStorage.setItem("partnerOnboardingPartnerData",JSON.stringify(c))}catch(ve){console.error("Error saving partner data:",ve)}},[c]),g.useEffect(()=>{if(i===11&&(h.selectedPlan||m))try{localStorage.removeItem("partnerOnboardingStep"),localStorage.removeItem("partnerOnboardingFormData"),localStorage.removeItem("partnerOnboardingToken"),localStorage.removeItem("partnerOnboardingPartnerData"),console.log(" Onboarding complete - localStorage cleared")}catch(ve){console.error("Error clearing localStorage:",ve)}},[i,h.selectedPlan,m]),g.useEffect(()=>{const ve=r.get("payment"),Ce=r.get("txnid"),Te=r.get("payid"),Xe=r.get("reason");if(ve==="success"&&Ce&&Te)console.log(" Payment callback received:",{txnid:Ce,payid:Te}),(async()=>{try{b(!0),w(null);const We="https://nexo.works";console.log(" Verifying payment with:",`${We}/api/payu/payment-status/${Ce}`);const ye=await fetch(`${We}/api/payu/payment-status/${Ce}`,{method:"GET",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}),Ue=ye.headers.get("content-type");if(!Ue||!Ue.includes("application/json"))throw console.error(" API returned non-JSON response:",Ue),new Error("Invalid API response format. Please check backend configuration.");const st=await ye.json();console.log(" Payment verification response:",st),st.success&&st.data.status==="completed"&&st.data.approved?(console.log(" Payment verified by backend:",st.data),p(yt=>({...yt,payment:{...yt.payment,payId:Te,status:"completed"}})),setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100)):st.success&&(st.data.status==="pending"||st.data.status==="initiated")?(console.log(" Payment status:",st.data.status,"- Waiting for PayU callback or admin approval"),p(yt=>({...yt,payment:{...yt.payment,payId:Te,status:(st.data.status==="initiated","pending")}})),st.data.status==="initiated"?(w("Payment is being processed by PayU. Please wait..."),setTimeout(()=>{console.log(" Retrying payment verification..."),window.location.reload()},3e3)):setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100)):(console.log(" Payment verification failed:",st),w(st.message||"Payment verification failed. Please contact support."),p(yt=>({...yt,payment:{...yt.payment,payId:Ce,status:"failed"}})),setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100))}catch(We){console.error("Payment verification error:",We),w(`Failed to verify payment: ${We.message}. Please contact support with transaction ID: ${Ce}`),p(ye=>({...ye,payment:{...ye.payment,payId:Ce,status:"failed"}})),setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100)}finally{b(!1)}})();else if(ve==="failed"){console.log(" Payment failed:",{reason:Xe,txnid:Ce});const We={E4179:"Payment was cancelled. Please try again.",E000:"Payment failed. Please check your payment details and try again.",E001:"Unauthorized payment key. Please contact support.",E002:"Invalid transaction. Please try again.",E003:"Payment declined by bank. Please try a different payment method.",E004:"Insufficient funds. Please check your account balance.",E005:"Transaction timeout. Please try again.",payment_failed:"Payment could not be processed. Please try again.",invalid_hash:"Security verification failed. Please contact support.",server_error:"Server error occurred. Please try again later."}[Xe]||`Payment failed: ${Xe||"Unknown error"}. Please try again.`;w(We),p(ye=>({...ye,payment:{...ye.payment,payId:Ce||"",status:"failed"}})),setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100)}},[r,o]),g.useEffect(()=>{(async()=>{if(i===4){we(!0);try{const Ce=await ut.getCategories(o||"");(Ce.success&&Ce.categories||Ce.categories&&Array.isArray(Ce.categories))&&re(Ce.categories)}catch(Ce){console.error("Failed to fetch Categories:",Ce),re(nP)}finally{we(!1)}}})()},[i,o]),g.useEffect(()=>{(async()=>{try{const Ce=await ut.getPricingSettings();if(Ce.success&&Ce.data){const Te=h.partnerType||"individual",Xe=Ce.data[Te]||Ce.data,rt={...Ce.data,registrationFee:Xe.registrationFee,securityDeposit:Xe.securityDeposit,toolkitPrice:Xe.toolkitPrice,registrationFeeRefundable:Xe.registrationFeeRefundable!==void 0?!!Xe.registrationFeeRefundable:!1,securityDepositRefundable:Xe.securityDepositRefundable!==void 0?!!Xe.securityDepositRefundable:!1,toolkitPriceRefundable:Xe.toolkitPriceRefundable!==void 0?!!Xe.toolkitPriceRefundable:!1};z(rt),p(We=>{const ye=Xe.registrationFee||500,Ue=Xe.securityDeposit||1e3,st=We.payment.securityDepositSelected?Ue:0,yt=Xe.toolkitPrice||2499,xt=We.toolkit.selected;return console.log("Updating fees for partner type:",h.partnerType,{registrationFee:ye,baseSecurityDeposit:Ue,securityDeposit:st,toolkitPrice:yt,securityDepositSelected:We.payment.securityDepositSelected,toolkitSelected:xt}),{...We,payment:{...We.payment,registrationFee:ye,securityDeposit:st,total:ye+st+(xt?yt:0)},toolkit:{...We.toolkit,price:yt}}})}}catch(Ce){console.error("Failed to fetch pricing settings:",Ce)}})()},[h.partnerType]),g.useEffect(()=>{(async()=>{if(o&&i===5){R(!0);try{const Ce=await ut.getAvailableServiceHubs(o);Ce.success&&Ce.data&&B(Ce.data||[])}catch(Ce){console.error("Failed to fetch available hubs:",Ce),B([])}finally{R(!1)}}})()},[o,i]),g.useEffect(()=>{if(i!==6){const We=Z.current;We&&We._cleanup&&(We._cleanup(),We._cleanup=null);return}const ve=()=>{const We=Z.current;if(!We||!We.isConnected)return!1;const ye=We.getContext("2d");if(!ye)return console.error("Could not get canvas context"),!1;const Ue=We.parentElement;if(!Ue)return!1;const st=Ue.getBoundingClientRect();if(st.width===0||st.height===0)return!1;const yt=window.devicePixelRatio||1;We.width=st.width*yt,We.height=150*yt,We.style.width=st.width+"px",We.style.height="150px",ye.setTransform(1,0,0,1,0,0),ye.scale(yt,yt),ye.clearRect(0,0,st.width,150),ye.strokeStyle="#0ea5a4",ye.fillStyle="#0ea5a4",ye.lineWidth=2.5,ye.lineJoin="round",ye.lineCap="round";let xt=!1,$t=0,Rt=0;const ct=le=>{const ee=We.getBoundingClientRect(),se=We.width/yt/ee.width,me=We.height/yt/ee.height,he=le.touches&&le.touches.length>0?le.touches[0].clientX:le.changedTouches&&le.changedTouches.length>0?le.changedTouches[0].clientX:le.clientX,I=le.touches&&le.touches.length>0?le.touches[0].clientY:le.changedTouches&&le.changedTouches.length>0?le.changedTouches[0].clientY:le.clientY;return{x:(he-ee.left)*se,y:(I-ee.top)*me}},wr=le=>{le.preventDefault(),le.stopPropagation(),xt=!0;const ee=ct(le);$t=ee.x,Rt=ee.y,ye.beginPath(),ye.arc($t,Rt,1.25,0,2*Math.PI),ye.fill()},js=le=>{if(!xt)return;le.preventDefault(),le.stopPropagation();const ee=ct(le),se=ee.x,me=ee.y;ye.beginPath(),ye.moveTo($t,Rt),ye.lineTo(se,me),ye.stroke(),$t=se,Rt=me;try{const he=We.toDataURL("image/png");p(I=>({...I,terms:{...I.terms,signature:he}}))}catch(he){console.error("Error updating signature:",he)}},Ur=le=>{if(le&&(le.preventDefault(),le.stopPropagation()),xt){xt=!1;try{const ee=We.toDataURL("image/png");p(se=>({...se,terms:{...se.terms,signature:ee}}))}catch(ee){console.error("Error saving signature:",ee)}}};We._cleanup&&We._cleanup(),We.addEventListener("mousedown",wr),We.addEventListener("mousemove",js),We.addEventListener("mouseup",Ur),We.addEventListener("mouseleave",Ur),We.addEventListener("touchstart",wr,{passive:!1}),We.addEventListener("touchmove",js,{passive:!1}),We.addEventListener("touchend",Ur,{passive:!1}),We.addEventListener("touchcancel",Ur,{passive:!1});const V=()=>{We.removeEventListener("mousedown",wr),We.removeEventListener("mousemove",js),We.removeEventListener("mouseup",Ur),We.removeEventListener("mouseleave",Ur),We.removeEventListener("touchstart",wr),We.removeEventListener("touchmove",js),We.removeEventListener("touchend",Ur),We.removeEventListener("touchcancel",Ur)};return We._cleanup=V,!0};let Ce,Te=0;const Xe=20,rt=()=>{ve()||(Te++,Te<Xe?Ce=setTimeout(rt,100):console.warn("Could not initialize signature canvas after multiple attempts"))};return Ce=setTimeout(rt,100),requestAnimationFrame(()=>{var We;(We=Z.current)!=null&&We._cleanup||rt()}),()=>{Ce&&clearTimeout(Ce);const We=Z.current;We&&We._cleanup&&(We._cleanup(),We._cleanup=null)}},[i]),g.useEffect(()=>{(async()=>{if(o&&(i===11||i===12)){D(!0);try{const[Ce,Te]=await Promise.all([ut.getMGPlans(o,h.partnerType),ut.getCurrentPlan(o).catch(()=>null)]);if(Te!=null&&Te.data||Te!=null&&Te.plan){const Xe=Te.data||Te,rt=Xe.plan||Xe;rt&&rt.name&&p(We=>({...We,selectedPlan:rt.name,selectedPlanId:rt._id||rt.id||Xe.planId}))}if(Ce.success&&Ce.data&&Array.isArray(Ce.data)){const Xe=Ce.data.filter(rt=>!rt.partnerType||rt.partnerType==="both"?!0:rt.partnerType===h.partnerType);_(Xe.map(rt=>{const ye=(rt.name||"").toLowerCase();let Ue="",st="bg-blue-50",yt="border-blue-300";return ye.includes("silver")?(Ue="",st="bg-gray-100",yt="border-gray-300"):ye.includes("gold")?(Ue="",st="bg-yellow-50",yt="border-yellow-300"):ye.includes("platinum")||ye.includes("diamond")?(Ue="",st="bg-purple-50",yt="border-purple-300"):ye.includes("bronze")&&(Ue="",st="bg-orange-50",yt="border-orange-300"),{_id:rt._id,id:rt._id,name:rt.name,price:rt.price||0,leads:rt.leads||0,commission:rt.commission||0,leadFee:rt.leadFee||0,minWalletBalance:rt.minWalletBalance||0,features:rt.features||[],icon:rt.icon||Ue,color:rt.color||st,borderColor:rt.borderColor||yt,partnerType:rt.partnerType||"individual"}}))}else _([])}catch(Ce){console.error("Failed to fetch MG plans:",Ce),_([])}finally{D(!1)}}})()},[o,i,h.partnerType]);const ue=async()=>{if(!h.phone||h.phone.length!==10){w("Please enter a valid 10-digit phone number");return}b(!0),w(null);try{const ve=await ut.sendOTP(h.phone);ve.otp&&alert(`OTP for testing: ${ve.otp}`),v(!0),S(60)}catch(ve){w(ve.message||"Failed to send OTP")}finally{b(!1)}},J=async()=>{if(!h.otp||h.otp.length!==6){w("Please enter a valid 6-digit OTP");return}b(!0),w(null);try{const ve=await ut.verifyOTP(h.phone,h.otp);if(ve.success&&ve.partner){d(ve.partner.token),u(ve.partner);try{const Ce=await ut.getProfile(ve.partner.token);if(Ce.success&&Ce.profile){const Te=Ce.profile,Xe=Te.kyc||Te.KYC||{},rt=Te.bankDetails||Xe.bankDetails||{},We=ct=>ct&&typeof ct=="string"?(ct.startsWith("http://")||ct.startsWith("https://")||ct.startsWith("/"),ct):null;p(ct=>{var wr,js,Ur,V,le,ee;return{...ct,name:Te.name||ct.name,email:Te.email||ct.email,whatsappNumber:Te.whatsappNumber||ct.whatsappNumber,qualification:Te.qualification||ct.qualification,experience:((wr=Te.experience)==null?void 0:wr.toString())||ct.experience,city:Te.city||ct.city,partnerType:Te.partnerType||ct.partnerType,modeOfService:Te.modeOfService||ct.modeOfService,categories:((js=Te.category)==null?void 0:js.map(se=>se._id||se.id||se))||ct.categories,categoryNames:((Ur=Te.category)==null?void 0:Ur.map(se=>se.name||se))||Te.categoryNames||ct.categoryNames,trade:((V=Te.categoryNames)==null?void 0:V[0])||((ee=(le=Te.category)==null?void 0:le[0])==null?void 0:ee.name)||ct.trade,...Te.address&&{address:Te.address},...Te.landmark&&{landmark:Te.landmark},...Te.pincode&&{pincode:Te.pincode},...Te.gstNumber&&{gstNumber:Te.gstNumber},kyc:{...ct.kyc,panCard:We(Xe.panCard)||ct.kyc.panCard,aadhaar:We(Xe.aadhaar)||ct.kyc.aadhaar,aadhaarback:We(Xe.aadhaarback)||ct.kyc.aadhaarback,chequeImage:We(Xe.chequeImage)||ct.kyc.chequeImage,drivingLicence:We(Xe.drivingLicence)||ct.kyc.drivingLicence,bill:We(Xe.bill)||ct.kyc.bill,bankDetails:{accountNumber:rt.accountNumber||ct.kyc.bankDetails.accountNumber,ifscCode:rt.ifscCode||ct.kyc.bankDetails.ifscCode,accountHolderName:rt.accountHolderName||ct.kyc.bankDetails.accountHolderName,bankName:rt.bankName||ct.kyc.bankDetails.bankName}},payment:{...ct.payment,payId:Te.payId||ve.partner.payId||ct.payment.payId,registrationFee:Te.registerAmount||ve.partner.registerAmount||ct.payment.registrationFee},terms:{accepted:Te.termsAccepted||ve.partner.termsAccepted||ct.terms.accepted,signature:Te.termsSignature||ve.partner.termsSignature||ct.terms.signature},selectedPlan:Te.mgPlan||ve.partner.mgPlan||ct.selectedPlan,selectedPlanId:Te.mgPlanId||ve.partner.mgPlanId||ct.selectedPlanId}});const ye=Te.profileCompleted||ve.partner.profileCompleted,Ue=Te.payId||ve.partner.payId||Te.registerAmount,st=Te.mgPlan||ve.partner.mgPlan,yt=Te.termsAccepted||ve.partner.termsAccepted,xt=!!((Te.name||h.name)&&(Te.email||h.email)&&(Te.address||h.address)&&(Te.pincode||h.pincode)&&(Te.city||h.city)),$t=!!(Xe.panCard&&Xe.aadhaar&&Xe.aadhaarback&&Xe.chequeImage&&Xe.drivingLicence&&Xe.bill&&rt.accountNumber&&rt.ifscCode&&rt.accountHolderName&&rt.bankName),Rt=!!(Te.category&&Te.category.length>0);l(s?xt&&$t&&Rt&&yt?11:xt?$t?Rt?yt?12:6:4:3:2:ye&&Ue&&st?11:ye&&Ue&&!st?12:ye&&!Ue?7:ye&&!yt?6:2)}else l(2)}catch(Ce){console.log("No existing profile found or error fetching profile:",Ce),l(2)}}}catch(ve){w(ve.message||"Invalid OTP")}finally{b(!1)}},be=(ve,Ce)=>{Ce&&p(Te=>({...Te,kyc:{...Te.kyc,[ve]:Ce}}))},ge=ve=>{ve&&p(Ce=>({...Ce,profilePicture:ve}))},Ne=async()=>{try{w(null),G(!1);const ve=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!1});U(ve),ae(!0),setTimeout(()=>{W.current&&(W.current.srcObject=ve,W.current.onloadedmetadata=()=>{W.current&&W.current.play().then(()=>{G(!0)}).catch(Ce=>{console.error("Error playing video:",Ce),w("Failed to start camera. Please try again.")})})},100)}catch(ve){console.error("Error accessing camera:",ve),w("Unable to access camera. Please check permissions or upload a photo instead."),ae(!1),G(!1)}},Ie=()=>{M&&(M.getTracks().forEach(ve=>ve.stop()),U(null)),ae(!1),G(!1),W.current&&(W.current.srcObject=null)},Je=()=>{if(!W.current){w("Camera not ready. Please wait a moment and try again.");return}const ve=W.current;if(!ve.videoWidth||!ve.videoHeight){w("Camera is still loading. Please wait a moment and try again.");return}if(ve.readyState<2){ve.addEventListener("loadedmetadata",()=>{Je()},{once:!0});return}try{const Ce=document.createElement("canvas");Ce.width=ve.videoWidth,Ce.height=ve.videoHeight;const Te=Ce.getContext("2d");Te.translate(Ce.width,0),Te.scale(-1,1),Te.drawImage(ve,0,0,Ce.width,Ce.height),Ce.toBlob(Xe=>{if(Xe){const rt=new File([Xe],"profile-photo.jpg",{type:"image/jpeg"});ge(rt),Ie(),w(null)}else w("Failed to capture photo. Please try again.")},"image/jpeg",.9)}catch(Ce){console.error("Error capturing photo:",Ce),w("Failed to capture photo. Please try again.")}};g.useEffect(()=>()=>{M&&M.getTracks().forEach(ve=>ve.stop())},[M]);const dt=async()=>{var ve;if(!o){w("Please verify your phone number first");return}b(!0),w(null);try{const Ce={name:h.name,email:h.email,whatsappNumber:h.whatsappNumber||h.phone,qualification:h.qualification,experience:h.experience,contactNumber:h.phone,address:h.address,landmark:h.landmark||"",pincode:h.pincode,city:h.city,referralCode:h.referralCode||"",gstNumber:h.gstNumber||"",partnerType:h.partnerType||"individual",profilePicture:h.profilePicture||null};(await ut.completeProfile(o,Ce)).success&&l(3)}catch(Ce){const Te=Ce.message||((ve=Ce.data)==null?void 0:ve.message)||"Failed to save profile";w(Te),Ce.status===401&&(w("Session expired. Please verify your phone number again."),d(null))}finally{b(!1)}},Ae=async()=>{var ve;if(!o){w("Please verify your phone number first");return}if(h.categories.length===0){w("Please select at least one category");return}b(!0),w(null);try{const Ce={categories:h.categories,categoryNames:h.categoryNames,subcategory:h.subcategory?Array.isArray(h.subcategory)?h.subcategory:[h.subcategory]:[],service:h.service?Array.isArray(h.service)?h.service:[h.service]:[],modeOfService:h.modeOfService};console.log(" Saving categories:",{categories:Ce.categories,categoryNames:Ce.categoryNames,categoriesCount:Ce.categories.length,categoryNamesCount:Ce.categoryNames.length});const Te=await ut.updateProfile(o,Ce);console.log(" Update Profile Response:",Te),Te.success?(console.log(" Categories saved successfully"),l(5)):w(Te.message||"Failed to save categories")}catch(Ce){console.error(" Error saving categories:",Ce);const Te=Ce.message||((ve=Ce.data)==null?void 0:ve.message)||"Failed to save categories";w(Te),Ce.status===401&&(w("Session expired. Please verify your phone number again."),d(null))}finally{b(!1)}},ze=async()=>{var ve;if(!o){w("Please verify your phone number first");return}b(!0),w(null);try{const Ce=h.kyc.panCard&&typeof h.kyc.panCard=="string"&&h.kyc.aadhaar&&typeof h.kyc.aadhaar=="string"&&h.kyc.aadhaarback&&typeof h.kyc.aadhaarback=="string"&&h.kyc.chequeImage&&typeof h.kyc.chequeImage=="string"&&h.kyc.drivingLicence&&typeof h.kyc.drivingLicence=="string"&&h.kyc.bill&&typeof h.kyc.bill=="string",Te=h.kyc.panCard instanceof File||h.kyc.aadhaar instanceof File||h.kyc.aadhaarback instanceof File||h.kyc.chequeImage instanceof File||h.kyc.drivingLicence instanceof File||h.kyc.bill instanceof File;if(Ce&&!Te){l(4),b(!1);return}const Xe={panCard:h.kyc.panCard instanceof File?h.kyc.panCard:void 0,aadhaar:h.kyc.aadhaar instanceof File?h.kyc.aadhaar:void 0,aadhaarback:h.kyc.aadhaarback instanceof File?h.kyc.aadhaarback:void 0,chequeImage:h.kyc.chequeImage instanceof File?h.kyc.chequeImage:void 0,drivingLicence:h.kyc.drivingLicence instanceof File?h.kyc.drivingLicence:void 0,bill:h.kyc.bill instanceof File?h.kyc.bill:void 0,accountNumber:h.kyc.bankDetails.accountNumber,ifscCode:h.kyc.bankDetails.ifscCode,accountHolderName:h.kyc.bankDetails.accountHolderName,bankName:h.kyc.bankDetails.bankName};Te?(await ut.completeKYC(o,Xe)).success&&l(4):l(4)}catch(Ce){const Te=Ce.message||((ve=Ce.data)==null?void 0:ve.message)||"Failed to upload KYC documents";w(Te),Ce.status===401&&(w("Session expired. Please verify your phone number again."),d(null))}finally{b(!1)}},It=async()=>{var ve,Ce;if(!o){w("Please verify your phone number first");return}b(!0),w(null);try{const Te=h.payment.registrationFee||0,Xe=h.payment.securityDeposit||0,rt=h.toolkit.selected&&h.toolkit.price||0,We={registerAmount:Te,paidBy:h.payment.paidBy,securityDeposit:Xe,toolkitPrice:rt,terms:{accepted:h.terms.accepted,signature:h.terms.signature,acceptedAt:new Date().toISOString()}};console.log("Sending payment data from onboarding:",We);const ye=await ut.completePayment(o,We);if(ye.success){const Ue=ye.partnerId||((ve=c==null?void 0:c._id)==null?void 0:ve.toString())||(c==null?void 0:c.partnerId)||`PRT-${Date.now().toString().slice(-6)}`;if(P(Ue),h.selectedHubs.length>0&&o)try{await new Promise(xt=>setTimeout(xt,500));const st=[];for(const xt of h.selectedHubs)if(xt.hubId)try{const $t=await ut.assignHub(o,xt.hubId);st.push({hub:xt.name,success:!0,response:$t})}catch($t){console.error(`Error assigning hub ${xt.name}:`,$t),st.push({hub:xt.name,success:!1,error:$t.message})}const yt=st.filter(xt=>!xt.success);yt.length>0?console.warn("Some hubs failed to assign:",yt):console.log("All hubs assigned successfully:",st)}catch(st){console.error("Error in hub assignment process:",st)}l(8)}}catch(Te){const Xe=Te.message||((Ce=Te.data)==null?void 0:Ce.message)||"Failed to complete payment";w(Xe),Te.status===401&&(w("Session expired. Please verify your phone number again."),d(null))}finally{b(!1)}},Ft=()=>{i<pe&&(s&&i===6?O():s&&i===7?l(12):i===6&&h.payment.payId&&h.payment.status==="completed"?l(8):i===8?kt():l(ve=>ve+1))},Se=()=>{if(i>1)if(s&&i===8)l(6);else if(i===9&&h.payment.payId&&h.payment.status==="completed")l(8);else if(i===8&&h.payment.payId&&h.payment.status==="completed")l(7);else{let ve=i-1;s&&ve===7&&(ve=6),l(ve)}},O=async()=>{var ve,Ce;if(!o){w("Please verify your phone number first");return}b(!0),w(null);try{const Te={name:h.name,email:h.email,whatsappNumber:h.whatsappNumber,qualification:h.qualification,experience:h.experience,address:h.address,landmark:h.landmark,pincode:h.pincode,city:h.city,referralCode:h.referralCode,gstNumber:h.gstNumber,partnerType:h.partnerType||"individual",categories:h.categories,categoryNames:h.categoryNames,subcategory:h.subcategory?Array.isArray(h.subcategory)?h.subcategory:[h.subcategory]:[],service:h.service?Array.isArray(h.service)?h.service:[h.service]:[],modeOfService:h.modeOfService,terms:{accepted:h.terms.accepted,signature:h.terms.signature,acceptedAt:new Date().toISOString()}};if((await ut.updateProfile(o,Te)).success){const rt=((ve=c==null?void 0:c._id)==null?void 0:ve.toString())||(c==null?void 0:c.partnerId)||`PRT-${Date.now().toString().slice(-6)}`;if(P(rt),h.selectedHubs.length>0&&o)try{await new Promise(Ue=>setTimeout(Ue,500));const We=[];for(const Ue of h.selectedHubs)if(Ue.hubId)try{const st=await ut.assignHub(o,Ue.hubId);We.push({hub:Ue.name,success:!0,response:st})}catch(st){console.error(`Error assigning hub ${Ue.name}:`,st),We.push({hub:Ue.name,success:!1,error:st.message})}const ye=We.filter(Ue=>!Ue.success);ye.length>0?console.warn("Some hubs failed to assign:",ye):console.log("All hubs assigned successfully:",We)}catch(We){console.error("Error in hub assignment process:",We)}if(s&&h.categories&&h.categories.length>0&&h.city)try{const We=h.categories[0],ye={partnerId:rt,category:We,service:h.categories.length>1?h.categories[1]:null,city:h.city,address:h.address||"",landmark:h.landmark||"",pincode:h.pincode||"",value:0,allocationStrategy:"rule_based",priority:"medium",description:`Partner registration from Lead Marketplace - ${h.name||"New Partner"}`};console.log("Partner registered from Lead Marketplace:",ye)}catch(We){console.error("Error creating lead entry:",We)}l(12)}}catch(Te){const Xe=Te.message||((Ce=Te.data)==null?void 0:Ce.message)||"Failed to complete registration";w(Xe),Te.status===401&&(w("Session expired. Please verify your phone number again."),d(null))}finally{b(!1)}},de=async()=>{if(!o){w("Please verify your phone number first");return}ce(!0),w(null);try{const ve=h.payment.total+(h.toolkit.selected?h.toolkit.price:0),Ce="https://nexo.works";console.log("Calling PayU API:",`${Ce}/api/payu/initiate-payment`);const Xe=await(await fetch(`${Ce}/api/payu/initiate-payment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({amount:ve,phone:h.phone,name:h.name,email:h.email,partnerId:(c==null?void 0:c._id)||k})})).json();Xe.success?fe(Xe.data):(w(Xe.message||"Failed to initiate payment"),ce(!1))}catch(ve){console.error("Payment initiation error:",ve),w("Failed to initiate payment. Please try again."),ce(!1)}},Oe=ve=>{switch(ve){case 2:return!!(h.name&&h.email&&h.address&&h.pincode&&h.city&&h.partnerType);case 3:const Ce=h.kyc.panCard&&(h.kyc.panCard instanceof File||typeof h.kyc.panCard=="string"),Te=h.kyc.aadhaar&&(h.kyc.aadhaar instanceof File||typeof h.kyc.aadhaar=="string"),Xe=h.kyc.aadhaarback&&(h.kyc.aadhaarback instanceof File||typeof h.kyc.aadhaarback=="string"),rt=h.kyc.chequeImage&&(h.kyc.chequeImage instanceof File||typeof h.kyc.chequeImage=="string"),We=h.kyc.drivingLicence&&(h.kyc.drivingLicence instanceof File||typeof h.kyc.drivingLicence=="string"),ye=h.kyc.bill&&(h.kyc.bill instanceof File||typeof h.kyc.bill=="string");return Ce&&Te&&Xe&&rt&&We&&ye&&h.kyc.bankDetails.accountNumber&&h.kyc.bankDetails.ifscCode&&h.kyc.bankDetails.accountHolderName&&h.kyc.bankDetails.bankName;case 4:return h.categories.length>0;case 5:return!0;case 6:return!!(h.terms.accepted&&h.terms.signature);case 7:return!0;case 8:return!!(h.payment.payId&&h.payment.payId.trim().length>0);case 9:return!0;case 10:return setTimeout(()=>l(11),100),t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ns,{className:"animate-spin text-4xl text-primary mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Redirecting to MG Plan selection..."})]});default:return!1}},Ge=()=>{switch(i){case 1:return y&&h.otp.length===6;case 2:return h.name&&h.email&&h.address&&h.pincode&&h.city&&h.partnerType;case 3:const ve=h.kyc.panCard&&(h.kyc.panCard instanceof File||typeof h.kyc.panCard=="string"),Ce=h.kyc.aadhaar&&(h.kyc.aadhaar instanceof File||typeof h.kyc.aadhaar=="string"),Te=h.kyc.aadhaarback&&(h.kyc.aadhaarback instanceof File||typeof h.kyc.aadhaarback=="string"),Xe=h.kyc.chequeImage&&(h.kyc.chequeImage instanceof File||typeof h.kyc.chequeImage=="string"),rt=h.kyc.drivingLicence&&(h.kyc.drivingLicence instanceof File||typeof h.kyc.drivingLicence=="string"),We=h.kyc.bill&&(h.kyc.bill instanceof File||typeof h.kyc.bill=="string");return ve&&Ce&&Te&&Xe&&rt&&We&&h.kyc.bankDetails.accountNumber&&h.kyc.bankDetails.ifscCode&&h.kyc.bankDetails.accountHolderName&&h.kyc.bankDetails.bankName;case 4:return h.categories.length>0;case 5:return h.selectedHubs.length===0?!0:h.selectedHubs.every(Ue=>{if(!Ue)return!1;const st=Ue.pinCodes||[];return!Array.isArray(st)||st.length===0?!1:st.every(yt=>yt!=null&&yt.toString().trim().length>0)});case 6:return h.terms.accepted&&!!h.terms.signature;case 7:return!0;case 8:return!!(h.payment.payId&&h.payment.payId.trim().length>0);case 9:return!0;case 10:return!0;default:return!1}};g.useEffect(()=>{s&&i===7&&l(12)},[i,s]),g.useEffect(()=>{i===7&&h.payment.payId&&h.payment.status==="completed"&&(console.log(" Payment already completed and verified, showing payment confirmation"),l(8))},[i,h.payment.payId,h.payment.status]),g.useEffect(()=>{if(i===10){const ve=setTimeout(()=>{l(11)},1500);return()=>clearTimeout(ve)}},[i]),g.useEffect(()=>{if(s&&o&&c&&i!==12&&i!==11){const ve=!!(h.name&&h.email&&h.address&&h.pincode&&h.city),Ce=!!(h.kyc.panCard&&(h.kyc.panCard instanceof File||typeof h.kyc.panCard=="string")&&h.kyc.aadhaar&&(h.kyc.aadhaar instanceof File||typeof h.kyc.aadhaar=="string")&&h.kyc.aadhaarback&&(h.kyc.aadhaarback instanceof File||typeof h.kyc.aadhaarback=="string")&&h.kyc.chequeImage&&(h.kyc.chequeImage instanceof File||typeof h.kyc.chequeImage=="string")&&h.kyc.drivingLicence&&(h.kyc.drivingLicence instanceof File||typeof h.kyc.drivingLicence=="string")&&h.kyc.bill&&(h.kyc.bill instanceof File||typeof h.kyc.bill=="string")&&h.kyc.bankDetails.accountNumber&&h.kyc.bankDetails.ifscCode&&h.kyc.bankDetails.accountHolderName&&h.kyc.bankDetails.bankName),Te=!!(h.categories&&h.categories.length>0),Xe=!!(h.terms.accepted&&h.terms.signature);ve&&Ce&&Te&&Xe&&i!==12&&l(11)}},[h,s,o,c,i]);const kt=async()=>{var ve,Ce;if(!h.payment.payId||h.payment.payId.trim().length===0){w("Please enter a valid payment transaction ID");return}b(!0),w("");try{const Te={registerAmount:h.payment.registrationFee||0,payId:h.payment.payId,paidBy:h.payment.paidBy||"partner",securityDeposit:h.payment.securityDepositSelected?h.payment.securityDeposit:0,toolkitPrice:h.toolkit.selected?h.toolkit.price:0,terms:{accepted:h.terms.accepted,signature:h.terms.signature,acceptedAt:new Date().toISOString()}},Xe=await ut.updateOnboardingStep(o,{step:8,completed:!0,approved:!1,...Te});Xe.success?l(9):w(Xe.message||"Failed to update onboarding step")}catch(Te){console.error("Payment confirmation error:",Te),w(((Ce=(ve=Te.response)==null?void 0:ve.data)==null?void 0:Ce.message)||Te.message||"An error occurred while confirming payment")}finally{b(!1)}},at=()=>{var ve,Ce,Te,Xe;switch(i){case 1:return t.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[t.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-primary mb-1.5 sm:mb-2",children:"Welcome to NEXO Partner Onboarding"}),t.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Enter your phone number to get started"})]}),t.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Phone Number ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(a4,{className:"absolute left-3 top-3.5 text-gray-400"}),t.jsx("input",{type:"tel",value:h.phone,onChange:ye=>{p(Ue=>({...Ue,phone:ye.target.value.replace(/\D/g,"").slice(0,10)})),w(null)},className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter 10-digit phone number",maxLength:10,disabled:y})]})]}),y&&t.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Enter OTP ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(s4,{className:"absolute left-3 top-3.5 text-gray-400"}),t.jsx("input",{type:"text",value:h.otp,onChange:ye=>{p(Ue=>({...Ue,otp:ye.target.value.replace(/\D/g,"").slice(0,6)})),w(null)},className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter 6-digit OTP",maxLength:6})]})]}),t.jsx("button",{onClick:J,disabled:f||h.otp.length!==6,className:"w-full bg-primary text-white py-3 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:f?t.jsx(ns,{className:"animate-spin mx-auto"}):"Verify OTP"}),N>0?t.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Resend OTP in ",N,"s"]}):t.jsx("button",{onClick:ue,className:"w-full text-primary font-semibold",children:"Resend OTP"})]}),!y&&t.jsx("button",{onClick:ue,disabled:f||h.phone.length!==10,className:"w-full bg-primary text-white py-3 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:f?t.jsx(ns,{className:"animate-spin mx-auto"}):"Send OTP"}),j&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:j})]})]});case 2:return t.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[t.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-primary mb-1.5 sm:mb-2",children:"Personal Information"}),t.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Tell us about yourself"}),Oe(2)&&t.jsx("p",{className:"text-sm text-green-600 mt-2",children:" Information already saved"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 text-center",children:["Select Partner Type ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"flex gap-4 justify-center",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"partnerType",value:"individual",checked:h.partnerType==="individual",onChange:ye=>p(Ue=>({...Ue,partnerType:ye.target.value})),className:"w-4 h-4 text-primary focus:ring-primary"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Individual"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"partnerType",value:"franchise",checked:h.partnerType==="franchise",onChange:ye=>p(Ue=>({...Ue,partnerType:ye.target.value})),className:"w-4 h-4 text-primary focus:ring-primary"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Franchise"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.name,onChange:ye=>p(Ue=>({...Ue,name:ye.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter your full name"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"email",value:h.email,onChange:ye=>p(Ue=>({...Ue,email:ye.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter your email"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"WhatsApp Number"}),t.jsx("input",{type:"tel",value:h.whatsappNumber,onChange:ye=>p(Ue=>({...Ue,whatsappNumber:ye.target.value.replace(/\D/g,"").slice(0,10)})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter WhatsApp number"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Qualification"}),t.jsx("input",{type:"text",value:h.qualification,onChange:ye=>p(Ue=>({...Ue,qualification:ye.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"e.g., ITI, Diploma"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Experience (Years)"}),t.jsx("input",{type:"number",value:h.experience,onChange:ye=>p(Ue=>({...Ue,experience:ye.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Years of experience"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["City ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.city,onChange:ye=>p(Ue=>({...Ue,city:ye.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter your city"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:h.address,onChange:ye=>p(Ue=>({...Ue,address:ye.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter your full address",rows:3})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Landmark"}),t.jsx("input",{type:"text",value:h.landmark,onChange:ye=>p(Ue=>({...Ue,landmark:ye.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Nearby landmark"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Pincode ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.pincode,onChange:ye=>p(Ue=>({...Ue,pincode:ye.target.value.replace(/\D/g,"").slice(0,6)})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter pincode",maxLength:6})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GST Number (Optional)"}),t.jsx("input",{type:"text",value:h.gstNumber,onChange:ye=>p(Ue=>({...Ue,gstNumber:ye.target.value.toUpperCase().replace(/\s/g,"")})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter GST number (if applicable)",maxLength:15})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Referral Code (Optional)"}),t.jsx("input",{type:"text",value:h.referralCode,onChange:ye=>p(Ue=>({...Ue,referralCode:ye.target.value.toUpperCase()})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter referral code if any"})]})]}),t.jsxs("div",{className:"mt-6",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Profile Picture (Optional)"}),t.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6",children:h.profilePicture?t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:h.profilePicture instanceof File?URL.createObjectURL(h.profilePicture):h.profilePicture,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-primary"}),t.jsx("button",{type:"button",onClick:()=>p(ye=>({...ye,profilePicture:null})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:""})]}),t.jsx("p",{className:"text-sm text-green-600 font-semibold",children:" Profile picture uploaded"})]}):t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-100 border-4 border-gray-300 flex items-center justify-center",children:t.jsx(Rc,{className:"text-6xl text-gray-400"})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("label",{className:"cursor-pointer",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:ye=>{ye.target.files&&ye.target.files[0]&&ge(ye.target.files[0])},className:"hidden"}),t.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold",children:[t.jsx(o1,{})," Upload Photo"]})]}),t.jsxs("button",{type:"button",onClick:Ne,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-semibold",children:[t.jsx(_C,{})," Capture Photo"]})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Upload a photo or capture using camera"})]})})]}),ie&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Capture Photo"}),t.jsx("button",{type:"button",onClick:Ie,className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),t.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden mb-4",style:{minHeight:"300px"},children:[t.jsx("video",{ref:W,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-auto",style:{transform:"scaleX(-1)"}}),!q&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ns,{className:"animate-spin text-3xl mx-auto mb-2"}),t.jsx("p",{className:"text-sm",children:"Loading camera..."})]})})]}),j&&ie&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-2 rounded-lg text-sm mb-4",children:j}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:Ie,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition font-semibold",children:"Cancel"}),t.jsxs("button",{type:"button",onClick:Je,disabled:!q,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(_C,{})," Capture"]})]})]})}),j&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:j})]});case 3:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"KYC Documents"}),t.jsx("p",{className:"text-gray-600",children:"Upload your identity and bank documents"}),Oe(3)&&t.jsx("p",{className:"text-sm text-green-600 mt-2",children:" Documents already uploaded"})]}),t.jsxs("div",{className:"space-y-4",children:[[{key:"panCard",label:"PAN Card",required:!0},{key:"aadhaar",label:"Aadhaar Card (Front)",required:!0},{key:"aadhaarback",label:"Aadhaar Card (Back)",required:!0},{key:"chequeImage",label:"Cancelled Cheque",required:!0},{key:"drivingLicence",label:"Driving Licence",required:!0},{key:"bill",label:"Utility Bill",required:!0}].map(({key:ye,label:Ue,required:st})=>t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[Ue," ",st&&t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center",children:[t.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:yt=>be(ye,yt.target.files[0]),className:"hidden",id:ye}),t.jsx("label",{htmlFor:ye,className:`cursor-pointer flex flex-col items-center ${h.kyc[ye]&&typeof h.kyc[ye]=="string"?"opacity-100":""}`,children:h.kyc[ye]&&typeof h.kyc[ye]=="string"?t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx(He,{className:"text-2xl text-green-600"})}),t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx("span",{className:"text-sm text-green-600 font-semibold",children:" Already Uploaded"}),t.jsx("span",{className:"text-xs text-gray-500",children:"Click to replace"})]})]}):h.kyc[ye]instanceof File?t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(o1,{className:"text-3xl text-primary mb-2"}),t.jsxs("span",{className:"text-sm text-green-600",children:[" ",h.kyc[ye].name||"Uploaded"]})]}):t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(o1,{className:"text-3xl text-gray-400 mb-2"}),t.jsxs("span",{className:"text-sm text-gray-600",children:["Click to upload ",Ue]})]})})]})]},ye)),t.jsxs("div",{className:"border-t pt-6 mt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Bank Details"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"accountNumber",label:"Account Number",required:!0},{key:"ifscCode",label:"IFSC Code",required:!0},{key:"accountHolderName",label:"Account Holder Name",required:!0},{key:"bankName",label:"Bank Name",required:!0}].map(({key:ye,label:Ue,required:st})=>t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[Ue," ",st&&t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.kyc.bankDetails[ye],onChange:yt=>p(xt=>({...xt,kyc:{...xt.kyc,bankDetails:{...xt.kyc.bankDetails,[ye]:yt.target.value}}})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:`Enter ${Ue.toLowerCase()}`,...ye==="ifscCode"&&{maxLength:11,style:{textTransform:"uppercase"}}})]},ye))})]})]}),j&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:j})]});case 4:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Select Categories"}),t.jsx("p",{className:"text-gray-600",children:"Select one or more service categories you want to provide"}),Oe(4)&&t.jsx("p",{className:"text-sm text-green-600 mt-2",children:" Categories already selected"})]}),xe?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx(ns,{className:"animate-spin text-4xl text-primary"})}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:(H.length>0?H:nP).map(ye=>{const Ue=ye.id||ye._id||ye.name,st=ye.name,yt=ye.icon||"",xt=h.categories.includes(Ue)||h.categoryNames.includes(st);return t.jsxs(E.button,{onClick:()=>{p($t=>{const Rt=[...$t.categories],ct=[...$t.categoryNames];if(xt){const wr=Rt.indexOf(Ue);wr>-1&&Rt.splice(wr,1);const js=ct.indexOf(st);js>-1&&ct.splice(js,1)}else Rt.includes(Ue)||Rt.push(Ue),ct.includes(st)||ct.push(st);return{...$t,categories:Rt,categoryNames:ct,trade:ct.length>0?ct[0]:""}})},whileHover:{scale:1.05},whileTap:{scale:.95},className:`p-6 rounded-2xl border-2 transition-all ${xt?"border-primary bg-primary/10 shadow-lg":"border-gray-200 hover:border-primary/50"}`,children:[t.jsx("div",{className:"text-4xl mb-3",children:yt}),t.jsx("div",{className:"font-semibold text-gray-800",children:st}),xt&&t.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"mt-2",children:t.jsx(He,{className:"text-primary mx-auto"})})]},Ue)})}),h.categories.length>0&&t.jsx("div",{className:"mt-4 p-4 bg-primary/5 rounded-xl",children:t.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[t.jsx("span",{className:"font-semibold",children:"Selected:"})," ",h.categoryNames.join(", ")]})})]});case 5:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Select Service Hubs"}),t.jsx("p",{className:"text-gray-600",children:"Select from available service hubs created by admin. Choose hubs and pin codes for your service areas."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:t.jsxs("p",{className:"text-sm text-blue-800",children:[t.jsx("strong",{children:"What are Service Hubs?"})," Service hubs define the areas where you provide services. Each hub can have multiple pin codes. Select hubs and choose the pin codes you want to cover."]})}),L?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ns,{className:"animate-spin text-4xl text-primary mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading available hubs..."})]}):Q.length>0?t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Available Service Hubs"}),t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Q.map(ye=>{var xt,$t;const Ue=h.selectedHubs.some(Rt=>{var ct;return Rt.hubId===((ct=ye._id)==null?void 0:ct.toString())||Rt.name===ye.name}),st=h.selectedHubs.find(Rt=>{var ct;return Rt.hubId===((ct=ye._id)==null?void 0:ct.toString())||Rt.name===ye.name}),yt=(st==null?void 0:st.pinCodes)||[];return t.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all ${Ue?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50 bg-white"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(Ul,{className:"text-primary"}),t.jsx("h4",{className:"font-semibold text-gray-800",children:ye.name}),ye.isPrimary&&t.jsx("span",{className:"px-2 py-0.5 bg-primary/10 text-primary text-xs rounded-full font-semibold",children:"Primary"})]}),(ye.city||ye.state)&&t.jsx("p",{className:"text-xs text-gray-500 ml-6",children:[ye.city,ye.state].filter(Boolean).join(", ")}),ye.areas&&ye.areas.length>0&&t.jsxs("p",{className:"text-xs text-gray-500 ml-6 mt-1",children:[ye.areas.length," area",ye.areas.length!==1?"s":"","  ",((xt=ye.pinCodes)==null?void 0:xt.length)||0," pin code",(($t=ye.pinCodes)==null?void 0:$t.length)===1?"":"s"]})]}),t.jsx("button",{type:"button",onClick:()=>{if(Ue)p(Rt=>({...Rt,selectedHubs:Rt.selectedHubs.filter(ct=>{var wr;return ct.hubId!==((wr=ye._id)==null?void 0:wr.toString())&&ct.name!==ye.name})}));else{const Rt=ye.pinCodes||[];Rt.length>0?p(ct=>{var wr;return{...ct,selectedHubs:[...ct.selectedHubs,{hubId:(wr=ye._id)==null?void 0:wr.toString(),name:ye.name,pinCodes:[...Rt],isPrimary:ct.selectedHubs.length===0}]}}):alert("This hub has no pin codes available. Please contact admin.")}},className:`px-3 py-1 rounded-lg text-sm font-semibold transition ${Ue?"bg-red-100 text-red-600 hover:bg-red-200":"bg-primary text-white hover:bg-primary-dark"}`,children:Ue?"Remove":"Select Hub"})]}),Ue&&ye.pinCodes&&ye.pinCodes.length>0&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[t.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Select Pin Codes:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:ye.pinCodes.map(Rt=>{const ct=yt.includes(Rt);return t.jsx("button",{type:"button",onClick:()=>{p(wr=>{const js=wr.selectedHubs.map(Ur=>{var V;if(Ur.hubId===((V=ye._id)==null?void 0:V.toString())||Ur.name===ye.name){const le=Ur.pinCodes||[];if(ct&&le.length===1)return alert("At least one pin code must be selected for each hub. Remove the hub instead if you don't need it."),Ur;const ee=ct?le.filter(se=>se!==Rt):[...le,Rt];return{...Ur,pinCodes:ee}}return Ur});return{...wr,selectedHubs:js}})},className:`px-3 py-1 rounded-full text-xs font-semibold transition ${ct?"bg-primary text-white border-2 border-primary":"bg-white text-gray-600 border-2 border-gray-300 hover:border-primary"}`,children:Rt},Rt)})}),yt.length===0&&t.jsx("p",{className:"text-xs text-amber-600 mt-2",children:" Please select at least one pin code"})]}),!Ue&&ye.pinCodes&&ye.pinCodes.length>0&&t.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:ye.pinCodes.map(Rt=>t.jsx("span",{className:"px-2.5 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-semibold",children:Rt},Rt))})]},ye._id||ye.name)})})]}):t.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50",children:[t.jsx(Ul,{className:"text-4xl text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No Service Hubs Available"}),t.jsx("p",{className:"text-sm text-gray-500",children:"No service hubs have been created yet. Please contact admin or proceed without hubs."})]}),h.selectedHubs.length>0&&t.jsxs("div",{className:"mt-6 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Your Selected Service Hubs"}),t.jsxs("span",{className:"text-sm text-gray-500",children:[h.selectedHubs.length," hub",h.selectedHubs.length!==1?"s":""," selected"]})]}),h.selectedHubs.map((ye,Ue)=>t.jsx("div",{className:"border-2 border-primary rounded-xl p-4 bg-primary/5",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:"font-semibold text-gray-800",children:ye.name}),ye.isPrimary&&t.jsx("span",{className:"px-2 py-0.5 bg-primary text-white text-xs rounded-full font-semibold",children:"Primary"})]}),ye.pinCodes&&ye.pinCodes.length>0?t.jsx("div",{className:"flex flex-wrap gap-2",children:ye.pinCodes.map((st,yt)=>t.jsx("span",{className:"px-2.5 py-1 bg-white border border-primary rounded-full text-xs font-semibold text-primary",children:st},yt))}):t.jsx("p",{className:"text-xs text-amber-600",children:"No pin codes selected"})]}),t.jsxs("button",{type:"button",onClick:()=>{const st=h.selectedHubs.filter((yt,xt)=>xt!==Ue);ye.isPrimary&&st.length>0&&(st[0].isPrimary=!0),p(yt=>({...yt,selectedHubs:st}))},className:"ml-4 p-2 text-red-600 hover:bg-red-50 rounded-lg transition flex items-center gap-1",title:"Delete Hub",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),t.jsx("span",{className:"text-sm font-semibold",children:"Delete"})]})]})},Ue))]})]})]});case 6:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Terms & Conditions"}),t.jsx("p",{className:"text-gray-600",children:"Please read and accept the Partner Agreement"})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6 max-h-[600px] overflow-y-auto",children:[t.jsxs("div",{className:"mb-4 pb-3 border-b border-gray-200",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"PARTNER TERMS & CONDITIONS"}),t.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Effective Date:"})," 15th November 2025"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Last Updated:"})," 15th November 2025"]})]})]}),t.jsxs("div",{className:"space-y-4 text-sm text-gray-700",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"1. Introduction"}),t.jsx("p",{className:"leading-relaxed",children:'These Partner Terms & Conditions ("Terms") constitute a binding agreement between NEXO ("Company", "Platform", "We", "Us") and the individual or business entity ("Partner", "Service Provider", "You") who registers to provide on-site or online services through the Platform.'}),t.jsx("p",{className:"leading-relaxed mt-2",children:"By registering or accepting any service request, the Partner expressly agrees to these Terms."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"2. Independent Contractor Status"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{className:"leading-relaxed",children:"The Partner is an independent contractor, not an employee, representative, or agent of NEXO."}),t.jsx("li",{className:"leading-relaxed",children:"No employment benefits (PF, ESI, gratuity, insurance, paid leave, salary) shall be applicable."}),t.jsx("li",{className:"leading-relaxed",children:"The Partner is solely responsible for compliance with GST, income tax, labour laws, and all statutory obligations."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"3. Mandatory Registration & Onboarding Requirements"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"The Partner shall complete mandatory onboarding, including but not limited to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Valid Government ID"}),t.jsx("li",{children:"Address proof"}),t.jsx("li",{children:"Skill verification/trade test (if applicable)"}),t.jsx("li",{children:"Police verification (whenever required)"}),t.jsx("li",{children:"Recent photograph"}),t.jsx("li",{children:"Bank account details"}),t.jsx("li",{children:"GST number (if applicable)"})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:t.jsx("strong",{children:"Payment of applicable onboarding fees:"})}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Registration Fee"}),t.jsx("li",{children:"Toolkit Fee (if provided)"}),t.jsx("li",{children:"Minimum Guarantee (MG) Plan"}),t.jsx("li",{children:"Security Deposit"})]}),t.jsx("p",{className:"leading-relaxed text-xs",children:"All fees are non-refundable, except security deposit which is refundable as per Clause 23."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"4. Partner Obligations"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner shall:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Maintain professional behaviour at all times."}),t.jsx("li",{children:"Deliver high-quality, safe, and lawful services."}),t.jsx("li",{children:"Carry valid Partner ID during every service."}),t.jsx("li",{children:"Reach customer location on time."}),t.jsx("li",{children:"Provide correct service estimates before starting work."}),t.jsx("li",{children:"Maintain hygiene, wear uniform/ID (if provided)."}),t.jsx("li",{children:"Not engage in misconduct, harassment, abuse, threats, or illegal activity."}),t.jsx("li",{children:"Maintain tools and ensure safe operation."}),t.jsx("li",{children:"Not demand cash payments directly from customers."}),t.jsx("li",{children:"Not solicit or accept off-platform work (strict penalty)."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"5. Pricing, Estimates & Billing"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Partner must follow NEXO pricing structure and guidelines."}),t.jsx("li",{children:"Any additional work must be pre-approved through the Platform."}),t.jsx("li",{children:"Partner shall not overcharge or misrepresent pricing."}),t.jsx("li",{children:"All payments shall be processed solely through NEXO."}),t.jsx("li",{children:"Partner is responsible for issuing bills/invoices where required by law."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"6. Platform Commission & Deductions"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner agrees to the following deductions:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Platform Commission (%)"}),t.jsx("li",{children:"Lead Cost per lead"}),t.jsx("li",{children:"GST applicable on Platform Commission"}),t.jsx("li",{children:"Penalties & Fines"}),t.jsx("li",{children:"TDS (if applicable)"}),t.jsx("li",{children:"Outstanding dues from previous jobs"}),t.jsx("li",{children:"MG Plan adjustments"})]}),t.jsx("p",{className:"leading-relaxed text-xs",children:"All deductions shall be final and binding."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"7. Mandatory Safety Requirements"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner shall:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Follow safety protocols prescribed by NEXO."}),t.jsx("li",{children:"Use proper tools and protective equipment."}),t.jsx("li",{children:"Not perform services beyond skill level or without proper safety."}),t.jsx("li",{children:"Not endanger customer, property, or themselves."})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Failure may result in:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Immediate suspension"}),t.jsx("li",{children:"Penalty up to 5,000"}),t.jsx("li",{children:"Legal action for damages"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"8. Customer Safety & Code of Conduct"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner must strictly adhere to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"No harassment (verbal, physical, emotional)"}),t.jsx("li",{children:"No misbehaviour, disrespect, abusive language"}),t.jsx("li",{children:"No consumption of alcohol/drugs on duty"}),t.jsx("li",{children:"No theft, damage, or misconduct"}),t.jsx("li",{children:"No photography or unauthorised recording at customer premises"}),t.jsx("li",{children:"No requesting personal favours or discounts"}),t.jsx("li",{children:"No entering restricted areas without consent"})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Any violation may lead to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Permanent termination"}),t.jsx("li",{children:"Police complaint"}),t.jsx("li",{children:"Forfeiture of dues and deposits"}),t.jsx("li",{children:"Penalties up to 25,000"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"9. Punctuality & Attendance"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Partner must accept bookings only if available."}),t.jsx("li",{children:"Must reach customer location on time."}),t.jsx("li",{children:"Any delay beyond 20 minutes must be informed."})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Repeated delays may lead to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"50200 penalty per incident"}),t.jsx("li",{children:"Reduced lead allocation"}),t.jsx("li",{children:"Temporary suspension"})]})]}),t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-red-900",children:"10. No Offline Deals (Strictly Prohibited)"}),t.jsx("p",{className:"leading-relaxed mb-2 text-red-900",children:"Partner shall not:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2 text-red-900",children:[t.jsx("li",{children:"Ask customer to cancel platform booking"}),t.jsx("li",{children:"Offer lower pricing for offline work"}),t.jsx("li",{children:"Share personal phone number for future services"}),t.jsx("li",{children:"Accept cash or direct payments"})]}),t.jsx("p",{className:"leading-relaxed mb-2 text-red-900",children:t.jsx("strong",{children:"Penalty:"})}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-red-900",children:[t.jsx("li",{children:"5,000 minimum"}),t.jsx("li",{children:"Permanent termination"}),t.jsx("li",{children:"Deduction from wallet and MG plan"}),t.jsx("li",{children:"Legal action for business loss"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"11. Service Quality & Returns"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner must ensure:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"High-quality workmanship"}),t.jsx("li",{children:"Correct problem diagnosis"}),t.jsx("li",{children:"Use of original parts (if applicable)"}),t.jsx("li",{children:"Guarantee service quality as per NEXO policy"})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Poor work or customer complaints may attract:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Rework without charges"}),t.jsx("li",{children:"Penalty from 1001,000"}),t.jsx("li",{children:"Suspension on repeated offences"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"12. Damage, Theft, or Loss"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner shall be fully liable for:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Damage to customer property"}),t.jsx("li",{children:"Theft or loss at customer premises"}),t.jsx("li",{children:"Fire, accident, or injury caused due to Partner negligence"}),t.jsx("li",{children:"Incorrect installation or unsafe practices"})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Recovery will be made through:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Partner wallet"}),t.jsx("li",{children:"Security deposit"}),t.jsx("li",{children:"MG payouts"}),t.jsx("li",{children:"Legal recovery"})]}),t.jsx("p",{className:"leading-relaxed text-xs mt-2",children:"Police FIR may be filed for severe cases."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"13. Fraudulent Activities"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Strictly prohibited:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Faking job completion"}),t.jsx("li",{children:"False OTP entry"}),t.jsx("li",{children:"Manipulating customer rating"}),t.jsx("li",{children:"Overcharging"}),t.jsx("li",{children:"Providing false documents"})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Penalty:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Up to 25,000"}),t.jsx("li",{children:"Permanent removal"}),t.jsx("li",{children:"Legal prosecution"})]})]}),t.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-bold text-base mb-3 text-amber-900",children:"14. Penalty Structure"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-amber-100",children:[t.jsx("th",{className:"border border-amber-300 px-2 py-1 text-left font-bold",children:"Violation"}),t.jsx("th",{className:"border border-amber-300 px-2 py-1 text-left font-bold",children:"Penalty"})]})}),t.jsxs("tbody",{className:"text-amber-900",children:[t.jsxs("tr",{children:[t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Late arrival"}),t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"50200"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Job rejection after acceptance"}),t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"100300"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Misbehaviour"}),t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"1,0005,000"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Unsafe work"}),t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"2,000"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Offline deal"}),t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"5,000+ termination"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Theft/misconduct"}),t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Legal action + termination"})]})]})]})}),t.jsx("p",{className:"text-xs text-amber-900 mt-2",children:"NEXO reserves the right to modify penalties anytime."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"15. Partner Wallet & Settlement"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Deductions will be applied in the following order:"}),t.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Penalties"}),t.jsx("li",{children:"Platform Commission"}),t.jsx("li",{children:"Lead cost"}),t.jsx("li",{children:"MG plan adjustments"}),t.jsx("li",{children:"Pending dues"})]}),t.jsx("p",{className:"leading-relaxed",children:"Settlement cycles will be weekly or as updated by NEXO."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"16. MG Plan (Minimum Guarantee)"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"MG plan is optional or mandatory as per category."}),t.jsx("li",{children:"MG provides priority leads based on plan."}),t.jsx("li",{children:"MG fee is non-refundable."}),t.jsx("li",{children:"Partner failing to meet service quality/minimum performance may lose MG benefits without refund."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"17. Ratings & Reviews"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Partner must maintain minimum rating (e.g., 4.0)."}),t.jsx("li",{children:"Low ratings may result in reduced leads or suspension."}),t.jsx("li",{children:"False or manipulated ratings are punishable."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"18. Use of Platform & Technology"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner shall:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Keep app updated"}),t.jsx("li",{children:"Not misuse customer data"}),t.jsx("li",{children:"Not reverse engineer, hack, or modify NEXO systems"}),t.jsx("li",{children:"Use genuine documents only"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"19. Termination"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"NEXO may terminate partner access without notice for:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Misconduct"}),t.jsx("li",{children:"Fraud"}),t.jsx("li",{children:"Unsafe behaviour"}),t.jsx("li",{children:"Low performance"}),t.jsx("li",{children:"Offline deals"}),t.jsx("li",{children:"Customer complaints"}),t.jsx("li",{children:"Violation of any Terms"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"20. Security Deposit Refund"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Refund only upon:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"30-day notice period"}),t.jsx("li",{children:"Return of toolkit (if applicable)"}),t.jsx("li",{children:"No pending dues or penalties"}),t.jsx("li",{children:"No active customer complaints"})]}),t.jsx("p",{className:"leading-relaxed",children:"Refund processing time: 2145 working days."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"21. Dispute Resolution"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Jurisdiction:"})," Bangalore, Karnataka"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Governing Law:"})," Laws of India"]})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:t.jsx("strong",{children:"Method:"})}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Internal review"}),t.jsx("li",{children:"Mediation"}),t.jsx("li",{children:"Arbitration (if required)"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"22. Amendments"}),t.jsx("p",{className:"leading-relaxed",children:"NEXO reserves the right to change Terms anytime. Continued use of the Platform constitutes acceptance."})]}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:t.jsxs("p",{className:"text-xs text-blue-900 leading-relaxed",children:[t.jsx("strong",{children:"By signing and accepting this Agreement, Partner confirms that:"})," (i) they have read, understood, and agree to be bound by all terms, conditions, and penalties outlined herein; (ii) they have had the opportunity to review the full terms published on the Platform; (iii) they understand that this Agreement is legally binding; and (iv) they agree to comply with all obligations and accept all penalties for violations."]})})]})]}),t.jsx("div",{className:"space-y-6",children:h.terms.accepted&&h.terms.signature?t.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(He,{className:"text-green-600 text-2xl"}),t.jsx("h3",{className:"text-lg font-bold text-green-800",children:"Terms Already Accepted"})]}),t.jsx("p",{className:"text-sm text-green-700 mb-4",children:"You have already accepted the Terms & Conditions and provided your digital signature."}),h.terms.signature&&t.jsxs("div",{className:"mt-4",children:[t.jsx("p",{className:"text-xs text-green-600 mb-2 font-semibold",children:"Your Signature:"}),t.jsx("div",{className:"bg-white border border-green-200 rounded-lg p-3",children:t.jsx("img",{src:h.terms.signature,alt:"Signature",className:"max-w-full h-auto",style:{maxHeight:"100px"}})})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Digital Signature"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("canvas",{ref:Z,className:"border-2 border-dashed border-gray-300 rounded-lg w-full cursor-crosshair",style:{touchAction:"none",display:"block",maxWidth:"100%",height:"150px"}}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Draw your signature in the box above"})]}),t.jsx("div",{className:"flex gap-2",children:t.jsx("button",{type:"button",onClick:()=>{const ye=Z.current;ye&&(ye.getContext("2d").clearRect(0,0,ye.width,ye.height),p(st=>({...st,terms:{...st.terms,signature:null}})))},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition text-sm font-semibold",children:"Clear Signature"})}),h.terms.signature&&t.jsx("p",{className:"text-sm text-green-600 mt-2 font-semibold",children:" Signature captured"})]}),t.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6",children:t.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:h.terms.accepted,onChange:ye=>{p(Ue=>({...Ue,terms:{...Ue.terms,accepted:ye.target.checked}}))},className:"mt-1 w-5 h-5 text-primary border-gray-300 rounded focus:ring-primary"}),t.jsxs("span",{className:"text-sm text-gray-700",children:[t.jsx("strong",{children:"I have read, understood and accept the Terms & Conditions"})," *",t.jsx("br",{}),t.jsx("span",{className:"text-xs text-gray-500",children:"By checking this box, you agree to be bound by all terms, conditions, and penalties outlined in the Partner Agreement."})]})]})})]})})]})]});case 7:return s?null:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:" Payment Options"}),t.jsx("p",{className:"text-gray-600",children:"Choose your preferred payment plan and complete via WhatsApp Pay"})]}),j&&t.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 flex items-start gap-3",children:[t.jsx("svg",{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-red-800 mb-1",children:"Payment Failed"}),t.jsx("p",{className:"text-sm text-red-700",children:j}),t.jsx("button",{onClick:()=>w(null),className:"mt-2 text-sm text-red-600 hover:text-red-800 font-medium underline",children:"Dismiss"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl p-6 space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/50 rounded-xl border border-primary/20",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:t.jsx("svg",{className:"w-4 h-4 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-800 font-semibold",children:"Registration Fee"}),t.jsx("p",{className:"text-xs text-gray-600",children:"One-time onboarding fee"})]})]}),t.jsxs("span",{className:"font-bold text-xl text-primary",children:["",h.payment.registrationFee.toLocaleString()]})]}),t.jsx("div",{className:"relative",children:t.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all duration-200 ${h.payment.securityDepositSelected?"border-primary bg-primary/5 shadow-md":"border-gray-200 hover:border-primary/50"}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all duration-200 ${h.payment.securityDepositSelected?"bg-primary border-primary":"border-gray-300 hover:border-primary/70"}`,children:[t.jsx("input",{type:"checkbox",id:"securityDeposit",checked:h.payment.securityDepositSelected,onChange:ye=>{const Ue=ye.target.checked,st=h.partnerType||"individual",yt=(T==null?void 0:T[st])||T,xt=Ue?(yt==null?void 0:yt.securityDeposit)||1e3:0;p($t=>({...$t,payment:{...$t.payment,securityDepositSelected:Ue,securityDeposit:xt,total:$t.payment.registrationFee+xt+($t.toolkit.selected?$t.toolkit.price:0)}}))},className:"w-3 h-3 text-primary focus:ring-0 opacity-0 absolute"}),h.payment.securityDepositSelected&&t.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"securityDeposit",className:"text-gray-800 font-semibold text-base cursor-pointer flex items-center gap-2",children:["Include Security Deposit",h.payment.securityDepositSelected&&t.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[t.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Selected"]})]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Refundable security deposit"})]})]}),t.jsx("div",{className:"text-right",children:T&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:`text-2xl font-bold transition-colors duration-200 ${h.payment.securityDepositSelected?"text-primary":"text-gray-700"}`,children:["",T.securityDeposit.toLocaleString()]}),!h.payment.securityDepositSelected&&t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Click to include"})]})})]}),h.payment.securityDepositSelected&&t.jsx("div",{className:"mt-3 pt-3 border-t border-primary/20",children:t.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[t.jsx("svg",{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-800",children:"Why include security deposit?"}),t.jsx("p",{className:"text-xs mt-1",children:"Builds trust with customers and partners. Fully refundable upon completion.."})]})]})})]})}),t.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[t.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all duration-200 ${h.toolkit.selected?"border-orange-400 bg-orange-50/50 shadow-md":"border-gray-200 hover:border-orange-300"}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all duration-200 cursor-pointer ${h.toolkit.selected?"bg-orange-500 border-orange-500":"border-gray-300 hover:border-orange-400"}`,children:[t.jsx("input",{type:"checkbox",id:"toolkitCheckbox",checked:h.toolkit.selected,onChange:ye=>p(Ue=>({...Ue,toolkit:{...Ue.toolkit,selected:ye.target.checked}})),className:"w-3 h-3 text-primary focus:ring-0 opacity-0 absolute cursor-pointer"}),h.toolkit.selected&&t.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),t.jsx("div",{children:t.jsxs("label",{htmlFor:"toolkitCheckbox",className:"cursor-pointer",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(cJ,{className:`text-lg transition-colors duration-200 ${h.toolkit.selected?"text-orange-600":"text-orange-500"}`}),t.jsxs("span",{className:`font-semibold transition-colors duration-200 ${h.toolkit.selected?"text-gray-800":"text-gray-700"}`,children:["Professional Toolkit (Optional)",h.toolkit.selected&&t.jsxs("span",{className:"inline-flex items-center ml-2 px-2 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[t.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Selected"]})]})]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Professional-grade tools and equipment to get started faster"})]})})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:`text-2xl font-bold transition-colors duration-200 ${h.toolkit.selected?"text-orange-600":"text-gray-700"}`,children:["",h.toolkit.price.toLocaleString()]}),!h.toolkit.selected&&t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Optional add-on"})]})]}),h.toolkit.selected&&t.jsx("div",{className:"mt-3 pt-3 border-t border-orange-200",children:t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-gray-700",children:"Quality Tools"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-gray-700",children:"Faster Setup"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-gray-700",children:"Professional Look"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-gray-700",children:"Customer Trust"})]})]})})]}),h.toolkit.selected&&T&&T.toolkitPriceRefundable===!0&&t.jsxs("div",{className:"ml-8 mt-2 flex items-center gap-2 bg-emerald-50 border border-emerald-200 rounded-lg p-2",children:[t.jsx(He,{className:"text-emerald-600 text-xs flex-shrink-0"}),t.jsx("span",{className:"text-xs text-emerald-800 font-medium",children:"Toolkit Price is refundable"})]})]}),t.jsx("div",{className:"border-t-2 border-primary/30 pt-6 mt-6",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-xl p-4 border border-primary/20",children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Total Amount"}),t.jsxs("span",{className:"text-3xl font-bold text-primary",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between items-center py-1",children:[t.jsx("span",{className:"text-gray-600",children:"Registration Fee"}),t.jsxs("span",{className:"font-medium",children:["",h.payment.registrationFee.toLocaleString()]})]}),h.payment.securityDepositSelected&&t.jsxs("div",{className:"flex justify-between items-center py-1",children:[t.jsx("span",{className:"text-gray-600",children:"Security Deposit"}),t.jsxs("span",{className:"font-medium",children:["",h.payment.securityDeposit.toLocaleString()]})]}),h.toolkit.selected&&t.jsxs("div",{className:"flex justify-between items-center py-1",children:[t.jsx("span",{className:"text-gray-600",children:"Toolkit Price"}),t.jsxs("span",{className:"font-medium",children:["",h.toolkit.price.toLocaleString()]})]}),t.jsx("div",{className:"border-t border-gray-300 pt-2 mt-2",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"font-semibold text-gray-800",children:"Total"}),t.jsxs("span",{className:"font-bold text-lg text-primary",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]})})]})]})}),T&&(T.registrationFeeRefundable===!0||T.securityDepositRefundable===!0||T.toolkitPriceRefundable===!0)&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-primary/20 space-y-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Refundable Fees:"}),T.registrationFeeRefundable===!0&&t.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 border border-emerald-200 rounded-lg p-2",children:[t.jsx(He,{className:"text-emerald-600 text-sm flex-shrink-0"}),t.jsx("span",{className:"text-xs text-emerald-800 font-medium",children:"Registration Fee is refundable"})]}),T.securityDepositRefundable===!0&&t.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 border border-emerald-200 rounded-lg p-2",children:[t.jsx(He,{className:"text-emerald-600 text-sm flex-shrink-0"}),t.jsx("span",{className:"text-xs text-emerald-800 font-medium",children:"Security Deposit is refundable"})]}),T.toolkitPriceRefundable===!0&&t.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 border border-emerald-200 rounded-lg p-2",children:[t.jsx(He,{className:"text-emerald-600 text-sm flex-shrink-0"}),t.jsx("span",{className:"text-xs text-emerald-800 font-medium",children:"Toolkit Price is refundable"})]})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-2xl p-6 border-2 border-blue-200",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Secure Payment Gateway"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Complete your payment securely using PayU payment gateway"})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 mb-4",children:[t.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[t.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("h4",{className:"font-semibold text-gray-800",children:"Secure & Encrypted"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Your payment information is safe with us"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Credit Card"}),t.jsxs("svg",{className:"w-8 h-8 text-blue-600 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:[t.jsx("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),t.jsx("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Debit Card"}),t.jsxs("svg",{className:"w-8 h-8 text-green-600 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:[t.jsx("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),t.jsx("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"UPI"}),t.jsx("svg",{className:"w-8 h-8 text-purple-600 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Net Banking"}),t.jsx("svg",{className:"w-8 h-8 text-orange-600 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V8a2 2 0 00-2-2h-5L9 4H4zm7 5a1 1 0 10-2 0v1H8a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V9z",clipRule:"evenodd"})})]})]}),t.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:t.jsxs("p",{className:"text-sm text-blue-800 text-center",children:[t.jsx("strong",{children:"Note:"})," You will be redirected to PayU secure payment page to complete your transaction"]})})]}),t.jsx(E.button,{onClick:de,disabled:ne,whileHover:{scale:ne?1:1.05},whileTap:{scale:ne?1:.95},className:"w-full bg-primary text-white py-4 rounded-xl font-semibold text-lg flex items-center justify-center gap-3 shadow-lg hover:shadow-xl transition disabled:opacity-50 disabled:cursor-not-allowed",children:ne?t.jsxs(t.Fragment,{children:[t.jsx(ns,{className:"animate-spin"}),"Processing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(_i,{}),"Pay ",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()," Securely",t.jsx(Hn,{})]})})]}),j&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:j}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"border-t border-gray-200 pt-6 mt-6",children:t.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[t.jsxs("div",{className:"text-center mb-3",children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Want to register a new partner?"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Clear all saved data and start fresh registration"})]}),t.jsxs(E.button,{onClick:()=>{window.confirm("Are you sure you want to start a new registration? This will clear all saved data from this device.")&&(localStorage.removeItem("partnerOnboardingStep"),localStorage.removeItem("partnerOnboardingFormData"),localStorage.removeItem("partnerOnboardingToken"),localStorage.removeItem("partnerOnboardingPartnerData"),window.location.href="/partner/onboard")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-blue-600 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-blue-700 transition shadow-md",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Register New Partner"]})]})})]});case 8:const rt=h.payment.payId&&h.payment.payId.length>0;h.payment.status;const We=h.payment.status==="failed";return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"text-center mb-8",children:We?t.jsxs(t.Fragment,{children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-12 h-12 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),t.jsx("h2",{className:"text-3xl font-bold text-red-600 mb-2",children:"Payment Failed!"}),t.jsx("p",{className:"text-gray-600",children:"Your payment could not be processed. Please try again."})]}):rt?t.jsxs(t.Fragment,{children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(He,{className:"text-4xl text-green-600"})}),t.jsx("h2",{className:"text-3xl font-bold text-green-600 mb-2",children:"Payment Received!"}),t.jsx("p",{className:"text-gray-600",children:"Your payment has been received and is being verified by our team"})]}):t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Payment Confirmation"}),t.jsx("p",{className:"text-gray-600",children:"Enter your payment transaction ID to complete registration"})]})}),t.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl p-6 space-y-4",children:[t.jsxs("div",{className:"bg-white/50 rounded-xl p-4 border border-primary/20",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Payment ",rt?"Completed":"Summary"]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Registration Fee"}),t.jsxs("span",{className:"font-medium",children:["",h.payment.registrationFee.toLocaleString()]})]}),h.payment.securityDepositSelected&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Security Deposit"}),t.jsxs("span",{className:"font-medium",children:["",h.payment.securityDeposit.toLocaleString()]})]}),h.toolkit.selected&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Professional Toolkit"}),t.jsxs("span",{className:"font-medium",children:["",h.toolkit.price.toLocaleString()]})]}),t.jsx("div",{className:"border-t border-gray-300 pt-2 mt-2",children:t.jsxs("div",{className:"flex justify-between font-semibold",children:[t.jsxs("span",{children:["Total ",rt?"Paid":"Amount"]}),t.jsxs("span",{className:"text-primary",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]})})]})]}),We?t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-50 rounded-xl p-4 border-2 border-red-200",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),t.jsx("h4",{className:"text-lg font-semibold text-red-800",children:"Payment Failed"})]}),t.jsxs("div",{className:"bg-white rounded-lg p-3 space-y-2",children:[h.payment.payId&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Transaction ID:"}),t.jsx("span",{className:"font-mono font-semibold text-gray-800",children:h.payment.payId})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Amount:"}),t.jsxs("span",{className:"font-semibold text-gray-800",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-semibold",children:[t.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Failed"]})]})]}),t.jsx("div",{className:"bg-red-100 border border-red-300 rounded-lg p-3 mt-3",children:t.jsxs("p",{className:"text-sm text-red-800",children:[t.jsx("strong",{children:" Payment Failed:"})," ",j||"Your payment could not be processed. Please try again or contact support if the issue persists."]})}),t.jsxs(E.button,{onClick:()=>{p(ye=>({...ye,payment:{...ye.payment,payId:"",status:""}})),w(null),l(7)},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-red-600 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-red-700 transition",children:[t.jsx(jj,{}),"Try Payment Again"]})]})}):rt?t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-green-50 rounded-xl p-4 border-2 border-green-200",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(He,{className:"text-green-600 text-xl"}),t.jsx("h4",{className:"text-lg font-semibold text-green-800",children:"Payment Details"})]}),t.jsxs("div",{className:"bg-white rounded-lg p-3 space-y-2",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Transaction ID:"}),t.jsx("span",{className:"font-mono font-semibold text-gray-800",children:h.payment.payId})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Amount Paid:"}),t.jsxs("span",{className:"font-semibold text-green-600",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Payment Method:"}),t.jsx("span",{className:"font-semibold text-gray-800",children:"Online Payment (PayU)"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-semibold",children:[t.jsx(ai,{}),"Pending Verification"]})]})]}),t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mt-3",children:t.jsxs("p",{className:"text-sm text-yellow-800",children:[t.jsx("strong",{children:" Payment Pending Verification:"})," Your payment has been received successfully. Our admin team will verify it shortly. You can proceed to the next step where you'll wait for approval."]})})]})}):t.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border-2 border-gray-200",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("svg",{className:"w-5 h-5 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm0 2h12v8H4V6z",clipRule:"evenodd"})}),t.jsx("label",{className:"text-base font-semibold text-gray-800",children:"Payment Transaction ID"})]}),t.jsx("input",{type:"text",value:h.payment.payId,onChange:ye=>p(Ue=>({...Ue,payment:{...Ue.payment,payId:ye.target.value}})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-colors",placeholder:"Enter payment transaction ID from WhatsApp Pay",required:!0}),t.jsx("p",{className:"text-sm text-gray-600",children:"Enter the transaction ID you received after completing the payment via WhatsApp Pay to complete your registration."})]})})]})]});case 9:return t.jsx(NZ,{currentStep:i,setCurrentStep:l,formData:h,token:o});case 11:return h.selectedPlan||m?t.jsxs("div",{className:"space-y-6 text-center",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:t.jsx(qa,{className:"text-4xl text-green-600"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:h.selectedPlan?"Thank You!":"Registration Complete!"}),t.jsx("p",{className:"text-gray-600 mb-6",children:h.selectedPlan?`Thank you for subscribing to the ${h.selectedPlan} plan! Your lead subscription is now active.`:"Your partner registration is complete! You can subscribe to an MG plan anytime from your dashboard."})]}),t.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl p-6",children:[t.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Your Partner ID"}),t.jsx("div",{className:"text-3xl font-bold text-primary",children:k||((ve=c==null?void 0:c._id)==null?void 0:ve.toString().slice(-8))||(c==null?void 0:c.partnerId)||"PRT-XXXXXX"})]}),h.categoryNames&&h.categoryNames.length>0&&t.jsxs("div",{className:"bg-white border-2 border-primary rounded-2xl p-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Selected Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:h.categoryNames.map((ye,Ue)=>t.jsx("span",{className:"bg-primary/10 text-primary px-4 py-2 rounded-full font-semibold",children:ye},Ue))})]}),h.selectedPlan&&t.jsxs("div",{className:"bg-white border-2 border-primary rounded-2xl p-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your MG Plan"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-4xl mb-3",children:h.selectedPlan==="Silver"?"":h.selectedPlan==="Gold"?"":""}),t.jsxs("div",{className:"text-2xl font-bold text-primary mb-2",children:[h.selectedPlan," Plan"]}),t.jsxs("p",{className:"text-gray-600",children:["You've successfully subscribed to the ",h.selectedPlan," plan. You'll receive guaranteed leads and commission benefits."]}),F&&t.jsxs("p",{className:"text-sm text-gray-500 mt-3",children:["Lead fee ",F.leadFee??0,"  Maintain wallet  ",F.minWalletBalance??0," to keep leads flowing."]})]})]}),t.jsxs("div",{className:"flex gap-4 justify-center",children:[t.jsxs(E.a,{onClick:ye=>{ye.preventDefault(),Y(ye)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-green-600 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition flex items-center gap-2",children:[t.jsx(vr,{className:"text-lg"}),"Contact Support"]}),t.jsxs(E.button,{onClick:()=>navigate("/partner/login"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-primary text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition flex items-center gap-2",children:["Go to Dashboard",t.jsx(Hn,{})]})]})]}):t.jsxs("div",{className:"space-y-6",children:[h.selectedPlan&&F&&t.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-300 rounded-2xl p-6 mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:t.jsx(He,{className:"text-white text-2xl"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-green-800",children:"Your Activated Plan"}),t.jsx("p",{className:"text-sm text-green-600",children:"Currently active and receiving leads"})]})]}),t.jsx("div",{className:"text-4xl",children:F.icon})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h4",{className:"text-2xl font-bold text-primary",children:[h.selectedPlan," Plan"]}),t.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["",F.price.toLocaleString("en-IN"),"/mo"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[t.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Guaranteed Leads"}),t.jsxs("p",{className:"text-xl font-bold text-green-700",children:[F.leads,"/month"]})]}),t.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Commission Rate"}),t.jsxs("p",{className:"text-xl font-bold text-blue-700",children:[F.commission,"%"]})]}),t.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Lead Fee"}),t.jsxs("p",{className:"text-xl font-bold text-purple-700",children:["",F.leadFee]})]}),t.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Min Wallet Balance"}),t.jsxs("p",{className:"text-xl font-bold text-orange-700",children:["",F.minWalletBalance]})]})]}),((Ce=F.features)==null?void 0:Ce.length)>0&&t.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[t.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Plan Features:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:F.features.map((ye,Ue)=>t.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:[" ",ye]},Ue))})]})]}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-green-700",children:[t.jsx(He,{}),t.jsx("span",{className:"font-medium",children:"Plan is active and you're receiving leads"})]})]}),t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:h.selectedPlan?"Change Your MG Plan":"Choose Your MG Plan"}),t.jsx("p",{className:"text-gray-600",children:h.selectedPlan?"Select a different plan below to upgrade or change your subscription":"Select a Minimum Guarantee plan to get started"}),h.partnerType&&t.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-blue-50 border border-blue-200 rounded-xl",children:[t.jsx("span",{className:"text-2xl",children:h.partnerType==="individual"?"":""}),t.jsxs("span",{className:"text-sm font-semibold text-blue-700",children:["Showing plans for ",h.partnerType==="individual"?"Individual":"Franchise"," Partners"]})]})]}),A?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ns,{className:"animate-spin text-4xl text-primary mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading available plans..."})]}):C.length===0?t.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50",children:[t.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No MG Plans Available"}),t.jsxs("p",{className:"text-sm text-gray-500",children:[h.partnerType?`No plans available for ${h.partnerType==="individual"?"Individual":"Franchise"} partners yet.`:"No Minimum Guarantee plans have been configured yet."," Please contact admin or skip this step."]})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:C.map(ye=>{var st;const Ue=ye._id||ye.id;return t.jsxs(E.button,{onClick:async()=>{var yt;p(xt=>({...xt,selectedPlan:ye.name,selectedPlanId:Ue||null})),b(!0),w(null);try{if(o&&Ue){if((await ut.subscribeToPlan(o,Ue)).success&&(p($t=>({...$t,selectedPlanId:Ue})),s&&h.categories&&h.categories.length>0&&h.city))try{console.log("Plan subscribed, lead should be created by backend")}catch($t){console.error("Error creating lead after plan selection:",$t)}}else if(o){const $t=(yt=(await ut.getMGPlans(o)).data)==null?void 0:yt.find(Rt=>Rt.name===ye.name);$t&&(await ut.subscribeToPlan(o,$t._id)).success&&p(ct=>({...ct,selectedPlanId:$t._id}))}s||oe(),w(null)}catch(xt){console.error("Failed to subscribe to plan:",xt),w("Failed to subscribe to plan. Please try again.")}finally{b(!1)}},disabled:f,whileHover:{scale:f?1:1.05},whileTap:{scale:f?1:.95},className:`${ye.color} border-2 rounded-2xl p-6 text-left transition relative ${h.selectedPlan===ye.name?`${ye.borderColor} border-4 shadow-lg ring-4 ring-green-200`:"border-gray-200 hover:border-primary"} ${f?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[h.selectedPlan===ye.name&&t.jsxs("div",{className:"absolute -top-3 -right-3 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg flex items-center gap-1 animate-pulse",children:[t.jsx(He,{}),"Active Plan"]}),t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsx("div",{className:"text-4xl",children:ye.icon}),ye.partnerType==="both"&&t.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full font-semibold",children:"All Partners"})]}),t.jsx("div",{className:"font-bold text-xl text-gray-800 mb-2",children:ye.name}),t.jsxs("div",{className:"text-3xl font-bold text-primary mb-3",children:["",ye.price.toLocaleString("en-IN")]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(He,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:[ye.leads," Leads/month"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(He,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:[ye.commission,"% Commission"]})]}),ye.leadFee&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(He,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:["Lead Fee ",ye.leadFee]})]}),ye.minWalletBalance&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(He,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:["Min Wallet ",ye.minWalletBalance]})]})]}),(st=ye.features)!=null&&st.length?t.jsx("ul",{className:"mt-4 space-y-1 text-xs text-gray-600",children:ye.features.map((yt,xt)=>t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(He,{className:"text-primary"}),t.jsx("span",{children:yt})]},xt))}):null,h.selectedPlan===ye.name&&t.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"mt-4",children:t.jsx(He,{className:"text-primary text-2xl mx-auto"})})]},ye.name)})}),h.selectedPlan?t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl p-5 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[t.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:t.jsx(He,{className:"text-white"})}),t.jsxs("p",{className:"text-green-800 font-bold text-lg",children:["Your ",h.selectedPlan," Plan is Active"]})]}),t.jsx("p",{className:"text-sm text-green-700 mb-3",children:"You're currently receiving leads with this plan. Click on any other plan above to upgrade or change your subscription."}),t.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-green-600",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(He,{className:"text-green-500"}),"Leads Active"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(He,{className:"text-green-500"}),"Commission Enabled"]})]})]}):t.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Please select a plan to continue"})]});case 12:return t.jsxs("div",{className:"space-y-6 text-center",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:t.jsx(qa,{className:"text-4xl text-green-600"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"You're Already Registered!"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Your partner profile is already complete. You can proceed to subscribe to a lead plan or manage your account."})]}),t.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl p-6",children:[t.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Your Partner ID"}),t.jsx("div",{className:"text-3xl font-bold text-primary",children:k||((Te=c==null?void 0:c._id)==null?void 0:Te.toString().slice(-8))||(c==null?void 0:c.partnerId)||"PRT-XXXXXX"})]}),h.categoryNames&&h.categoryNames.length>0&&t.jsxs("div",{className:"bg-white border-2 border-primary rounded-2xl p-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:h.categoryNames.map((ye,Ue)=>t.jsx("span",{className:"bg-primary/10 text-primary px-4 py-2 rounded-full font-semibold",children:ye},Ue))})]}),h.selectedPlan&&F?t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-300 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:t.jsx(He,{className:"text-white text-2xl"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("h3",{className:"text-xl font-bold text-green-800",children:"Your Activated Plan"}),t.jsx("p",{className:"text-sm text-green-600",children:"Currently active and receiving leads"})]})]}),t.jsx("div",{className:"text-4xl",children:F.icon})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h4",{className:"text-2xl font-bold text-primary",children:[h.selectedPlan," Plan"]}),t.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["",F.price.toLocaleString("en-IN"),"/mo"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[t.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Guaranteed Leads"}),t.jsxs("p",{className:"text-xl font-bold text-green-700",children:[F.leads,"/month"]})]}),t.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Commission Rate"}),t.jsxs("p",{className:"text-xl font-bold text-blue-700",children:[F.commission,"%"]})]}),t.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Lead Fee"}),t.jsxs("p",{className:"text-xl font-bold text-purple-700",children:["",F.leadFee]})]}),t.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Min Wallet Balance"}),t.jsxs("p",{className:"text-xl font-bold text-orange-700",children:["",F.minWalletBalance]})]})]}),((Xe=F.features)==null?void 0:Xe.length)>0&&t.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[t.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Plan Features:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:F.features.map((ye,Ue)=>t.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:[" ",ye]},Ue))})]})]}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-green-700",children:[t.jsx(He,{}),t.jsx("span",{className:"font-medium",children:"Plan is active and you're receiving leads"})]})]}):t.jsxs("div",{className:"bg-white border-2 border-primary rounded-2xl p-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your MG Plan"}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-gray-600 mb-6",children:"You haven't subscribed to a lead plan yet. Choose a plan to start receiving leads!"})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:wZ.map(ye=>{var Ue;return t.jsxs(E.button,{onClick:async()=>{var st;p(yt=>({...yt,selectedPlan:ye.name,selectedPlanId:null})),b(!0),w(null);try{if(o){const xt=(st=(await ut.getMGPlans(o)).data)==null?void 0:st.find($t=>$t.name===ye.name);xt?(await ut.subscribeToPlan(o,xt._id)).success&&(p(Rt=>({...Rt,selectedPlanId:xt._id})),s&&h.categories&&h.categories.length>0&&h.city&&console.log("Plan subscribed, lead should be created by backend"),l(11),w(null)):w(`Plan "${ye.name}" not available. Please contact support.`)}else w("Please login to subscribe to a plan")}catch(yt){console.error("Failed to subscribe to plan:",yt),w("Failed to subscribe to plan. Please try again.")}finally{b(!1)}},disabled:f,whileHover:{scale:f?1:1.05},whileTap:{scale:f?1:.95},className:`${ye.color} border-2 rounded-2xl p-6 text-left transition ${h.selectedPlan===ye.name?`${ye.borderColor} border-4 shadow-lg`:"border-gray-200 hover:border-primary"} ${f?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[t.jsx("div",{className:"text-4xl mb-3",children:ye.icon}),t.jsx("div",{className:"font-bold text-xl text-gray-800 mb-2",children:ye.name}),t.jsxs("div",{className:"text-3xl font-bold text-primary mb-3",children:["",ye.price.toLocaleString("en-IN")]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(He,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:[ye.leads," Leads/month"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(He,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:[ye.commission,"% Commission"]})]}),ye.leadFee&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(He,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:["Lead Fee ",ye.leadFee]})]}),ye.minWalletBalance&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(He,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:["Min Wallet ",ye.minWalletBalance]})]})]}),(Ue=ye.features)!=null&&Ue.length?t.jsx("ul",{className:"mt-4 space-y-1 text-xs text-gray-600",children:ye.features.map((st,yt)=>t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(He,{className:"text-primary"}),t.jsx("span",{children:st})]},yt))}):null,h.selectedPlan===ye.name&&t.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"mt-4",children:t.jsx(He,{className:"text-primary text-2xl mx-auto"})})]},ye.name)})}),j&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm text-center",children:j})]})]}),t.jsxs("div",{className:"flex gap-4 justify-center",children:[t.jsx(E.a,{href:"/partner/login",whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-primary text-white px-6 py-3 rounded-xl font-semibold",children:"Go to Dashboard"}),t.jsxs(E.a,{onClick:ye=>{ye.preventDefault(),Y(ye)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 py-3 rounded-xl font-semibold flex items-center gap-2",children:[t.jsx(vr,{})," Contact Support"]})]}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"border-t border-gray-200 pt-6 mt-6",children:t.jsxs("div",{className:"bg-blue-50 rounded-xl p-5 border border-blue-200",children:[t.jsxs("div",{className:"text-center mb-4",children:[t.jsxs("h4",{className:"font-semibold text-gray-800 mb-2 flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Want to register a new partner?"]}),t.jsx("p",{className:"text-sm text-gray-600",children:"Clear all saved data and start fresh registration"})]}),t.jsxs(E.button,{onClick:()=>{window.confirm("Are you sure you want to start a new registration? This will clear all saved data from this device.")&&(localStorage.removeItem("partnerOnboardingStep"),localStorage.removeItem("partnerOnboardingFormData"),localStorage.removeItem("partnerOnboardingToken"),localStorage.removeItem("partnerOnboardingPartnerData"),window.location.href="/partner/onboard")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-blue-600 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-blue-700 transition shadow-md",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Register New Partner"]})]})})]});default:return null}};return t.jsxs(t.Fragment,{children:[t.jsx(Ln,{title:"Partner Onboarding | NEXO",description:"Join NEXO as a service partner. Complete your registration in simple steps.",keywords:"partner onboarding, become partner, service partner registration",url:"/partner/onboard"}),Be&&t.jsx(jZ,{paymentData:Be,onSuccess:()=>{fe(null),ce(!1)},onFailure:()=>{fe(null),ce(!1),w("Payment failed. Please try again.")}}),t.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-6 px-4 sm:px-6 pt-20 sm:pt-24",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[i<11&&i!==12&&t.jsxs("div",{className:"mb-4 sm:mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[t.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:["Step ",i," of ",s?pe-2:pe-1]}),t.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-primary",children:[Math.round(i/(s?pe-2:pe-1)*100),"%"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:t.jsx(E.div,{className:"bg-primary h-1.5 rounded-full",initial:{width:0},animate:{width:`${i/(s?pe-2:pe-1)*100}%`},transition:{duration:.3}})})]}),t.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-lg p-4 sm:p-6 md:p-6 lg:p-8",children:[t.jsx(Pl,{mode:"wait",children:t.jsx(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:at()},i)}),i<12&&i!==13&&t.jsxs("div",{className:"flex justify-between items-center mt-6 sm:mt-8 pt-4 sm:pt-6 border-t",children:[t.jsxs("button",{onClick:Se,disabled:i===1,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition ${i===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[t.jsx(jj,{})," Previous"]}),i===2?t.jsxs("button",{onClick:dt,disabled:f||!Ge(),className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[f?t.jsx(ns,{className:"animate-spin"}):"Save & Continue"," ",t.jsx(Hn,{})]}):i===3?t.jsxs("button",{onClick:ze,disabled:f||!Ge(),className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[f?t.jsx(ns,{className:"animate-spin"}):"Upload & Continue"," ",t.jsx(Hn,{})]}):i===4?t.jsxs("button",{onClick:Ae,disabled:f||h.categories.length===0,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[f?t.jsx(ns,{className:"animate-spin"}):"Save Categories & Continue"," ",t.jsx(Hn,{})]}):i===6?t.jsxs("button",{onClick:async()=>{var ve,Ce;if(s)await O();else{b(!0);try{if(o&&h.terms.signature,o)try{const Te=await ut.getProfile(o);if(Te.success&&Te.profile){const Xe=Te.profile;if(Xe.paymentApproved===!0||Xe.registerdFee===!0||((ve=Xe.profile)==null?void 0:ve.paymentApproved)===!0||((Ce=Xe.profile)==null?void 0:Ce.registerdFee)===!0){console.log(" Payment already completed, skipping payment step"),p(We=>{var ye;return{...We,payment:{...We.payment,status:"completed",payId:((ye=Xe.profile)==null?void 0:ye.payId)||Xe.payId||"COMPLETED"}}}),l(9),b(!1);return}}}catch(Te){console.error("Error checking payment status:",Te)}l(7)}catch(Te){w(Te.message||"Failed to accept terms")}finally{b(!1)}}},disabled:!Ge()||f,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[f?t.jsx(ns,{className:"animate-spin"}):s?"Complete Registration":"Accept & Continue"," ",t.jsx(Hn,{})]}):i===7&&!s?t.jsxs("button",{onClick:It,disabled:f,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[f?t.jsx(ns,{className:"animate-spin"}):"Complete Payment"," ",t.jsx(Hn,{})]}):i===8&&h.payment.status!=="failed"?t.jsxs("button",{onClick:kt,disabled:f||!h.payment.payId,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[f?t.jsx(ns,{className:"animate-spin"}):"Confirm Payment & Continue"," ",t.jsx(Hn,{})]}):i===9?t.jsxs("div",{className:"flex gap-3 justify-center",children:[t.jsxs("button",{onClick:Ft,disabled:f,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:["Yes, Choose MG Plan ",t.jsx(Hn,{})]}),t.jsx("button",{onClick:()=>{x(!0),l(11)},disabled:f,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-gray-200 text-gray-700 hover:bg-gray-300 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Skip for Now"})]}):i===10?t.jsxs("button",{onClick:Ft,disabled:!Ge()||f,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:["Next ",t.jsx(Hn,{})]}):t.jsxs("button",{onClick:Ft,disabled:!Ge()||f,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:["Next ",t.jsx(Hn,{})]})]})]})]})})]})},SZ=()=>t.jsxs(t.Fragment,{children:[t.jsx(Ln,{title:"Partner Terms & Conditions | NEXO",description:"Partner Terms & Conditions for service providers on NEXO platform. Read our comprehensive terms covering registration, obligations, penalties, and more.",keywords:"partner terms, service provider terms, NEXO terms and conditions, partner agreement"}),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"bg-white/20 rounded-full p-4",children:t.jsx(rx,{className:"w-12 h-12"})})}),t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Partner Terms & Conditions"}),t.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"Effective Date: 15th November 2025 | Last Updated: 15th November 2025"})]})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(G_,{className:"text-primary"}),"1. Introduction"]}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:'These Partner Terms & Conditions ("Terms") constitute a binding agreement between NEXO ("Company", "Platform", "We", "Us") and the individual or business entity ("Partner", "Service Provider", "You") who registers to provide on-site or online services through the Platform.'}),t.jsx("p",{className:"text-gray-700 leading-relaxed mt-4 font-semibold",children:"By registering or accepting any service request, the Partner expressly agrees to these Terms."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"2. Independent Contractor Status"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"The Partner is an independent contractor, not an employee, representative, or agent of NEXO."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"No employment benefits (PF, ESI, gratuity, insurance, paid leave, salary) shall be applicable."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"The Partner is solely responsible for compliance with GST, income tax, labour laws, and all statutory obligations."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"3. Mandatory Registration & Onboarding Requirements"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"The Partner shall complete mandatory onboarding, including but not limited to:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Valid Government ID"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Address proof"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Skill verification/trade test (if applicable)"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Police verification (whenever required)"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Recent photograph"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Bank account details"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"GST number (if applicable)"})]})]})]}),t.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Payment of applicable onboarding fees:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Registration Fee"}),t.jsx("li",{children:"Toolkit Fee (if provided)"}),t.jsx("li",{children:"Minimum Guarantee (MG) Plan"}),t.jsx("li",{children:"Security Deposit"})]})]}),t.jsx("p",{className:"text-gray-700",children:t.jsx("strong",{children:"All fees are non-refundable, except security deposit which is refundable as per Clause 23."})})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"4. Partner Obligations"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Maintain professional behaviour at all times."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Deliver high-quality, safe, and lawful services."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Carry valid Partner ID during every service."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Reach customer location on time."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Provide correct service estimates before starting work."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Maintain hygiene, wear uniform/ID (if provided)."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),t.jsx("span",{children:"Not engage in misconduct, harassment, abuse, threats, or illegal activity."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"h)"}),t.jsx("span",{children:"Maintain tools and ensure safe operation."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"i)"}),t.jsx("span",{children:"Not demand cash payments directly from customers."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"j)"}),t.jsx("span",{className:"text-red-600 font-semibold",children:"Not solicit or accept off-platform work (strict penalty)."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"5. Pricing, Estimates & Billing"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Partner must follow NEXO pricing structure and guidelines."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Any additional work must be pre-approved through the Platform."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Partner shall not overcharge or misrepresent pricing."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"All payments shall be processed solely through NEXO."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Partner is responsible for issuing bills/invoices where required by law."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"6. Platform Commission & Deductions"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Partner agrees to the following deductions:"}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:t.jsxs("ul",{className:"space-y-2 text-gray-700",children:[t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Kt,{className:"text-red-500"}),t.jsx("span",{children:"Platform Commission (%)"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Kt,{className:"text-red-500"}),t.jsx("span",{children:"Lead Cost per lead"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Kt,{className:"text-red-500"}),t.jsx("span",{children:"GST applicable on Platform Commission"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Kt,{className:"text-red-500"}),t.jsx("span",{children:"Penalties & Fines"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Kt,{className:"text-red-500"}),t.jsx("span",{children:"TDS (if applicable)"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Kt,{className:"text-red-500"}),t.jsx("span",{children:"Outstanding dues from previous jobs"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Kt,{className:"text-red-500"}),t.jsx("span",{children:"MG Plan adjustments"})]})]})}),t.jsx("p",{className:"text-gray-700 font-semibold",children:"All deductions shall be final and binding."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(dd,{className:"text-yellow-500"}),"7. Mandatory Safety Requirements"]}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Follow safety protocols prescribed by NEXO."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Use proper tools and protective equipment."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Not perform services beyond skill level or without proper safety."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Not endanger customer, property, or themselves."})]})]}),t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Failure may result in:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Immediate suspension"}),t.jsx("li",{children:"Penalty up to 5,000"}),t.jsx("li",{children:"Legal action for damages"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"8. Customer Safety & Code of Conduct"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner must strictly adhere to:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"No harassment (verbal, physical, emotional)"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"No misbehaviour, disrespect, abusive language"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"No consumption of alcohol/drugs on duty"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"No theft, damage, or misconduct"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"No photography or unauthorised recording at customer premises"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"No requesting personal favours or discounts"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),t.jsx("span",{children:"No entering restricted areas without consent"})]})]}),t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Any violation may lead to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Permanent termination"}),t.jsx("li",{children:"Police complaint"}),t.jsx("li",{children:"Forfeiture of dues and deposits"}),t.jsx("li",{children:"Penalties up to 25,000"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.9},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"9. Punctuality & Attendance"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Partner must accept bookings only if available."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Must reach customer location on time."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Any delay beyond 20 minutes must be informed."})]})]}),t.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Repeated delays may lead to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"50200 penalty per incident"}),t.jsx("li",{children:"Reduced lead allocation"}),t.jsx("li",{children:"Temporary suspension"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8 border-2 border-red-200",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-red-600 mb-4",children:"10. No Offline Deals (Strictly Prohibited)"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall not:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:""}),t.jsx("span",{children:"Ask customer to cancel platform booking"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:""}),t.jsx("span",{children:"Offer lower pricing for offline work"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:""}),t.jsx("span",{children:"Share personal phone number for future services"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:""}),t.jsx("span",{children:"Accept cash or direct payments"})]})]}),t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Penalty:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"5,000 minimum"}),t.jsx("li",{children:"Permanent termination"}),t.jsx("li",{children:"Deduction from wallet and MG plan"}),t.jsx("li",{children:"Legal action for business loss"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"11. Service Quality & Returns"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner must ensure:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"High-quality workmanship"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Correct problem diagnosis"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Use of original parts (if applicable)"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Guarantee service quality as per NEXO policy"})]})]}),t.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Poor work or customer complaints may attract:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Rework without charges"}),t.jsx("li",{children:"Penalty from 1001,000"}),t.jsx("li",{children:"Suspension on repeated offences"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"12. Damage, Theft, or Loss"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall be fully liable for:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Damage to customer property"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Theft or loss at customer premises"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Fire, accident, or injury caused due to Partner negligence"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Incorrect installation or unsafe practices"})]})]}),t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Recovery will be made through:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Partner wallet"}),t.jsx("li",{children:"Security deposit"}),t.jsx("li",{children:"MG payouts"}),t.jsx("li",{children:"Legal recovery"})]}),t.jsx("p",{className:"text-gray-800 font-semibold mt-3",children:"Police FIR may be filed for severe cases."})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"13. Fraudulent Activities"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Strictly prohibited:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Faking job completion"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"False OTP entry"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Manipulating customer rating"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Overcharging"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Providing false documents"})]})]}),t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Penalty:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Up to 25,000"}),t.jsx("li",{children:"Permanent removal"}),t.jsx("li",{children:"Legal prosecution"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"14. Penalty Structure"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-primary text-white",children:[t.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"Violation"}),t.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"Penalty"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Late arrival"}),t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"50200"})]}),t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Job rejection after acceptance"}),t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"100300"})]}),t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Misbehaviour"}),t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"1,0005,000"})]}),t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Unsafe work"}),t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"2,000"})]}),t.jsxs("tr",{className:"hover:bg-red-50",children:[t.jsx("td",{className:"border border-gray-300 px-4 py-3 font-semibold text-red-600",children:"Offline deal"}),t.jsx("td",{className:"border border-gray-300 px-4 py-3 font-semibold text-red-600",children:"5,000+ termination"})]}),t.jsxs("tr",{className:"hover:bg-red-50",children:[t.jsx("td",{className:"border border-gray-300 px-4 py-3 font-semibold text-red-600",children:"Theft/misconduct"}),t.jsx("td",{className:"border border-gray-300 px-4 py-3 font-semibold text-red-600",children:"Legal action + termination"})]})]})]})}),t.jsx("p",{className:"text-gray-700 mt-4 italic",children:"NEXO reserves the right to modify penalties anytime."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.5},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"15. Partner Wallet & Settlement"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Deductions will be applied in the following order:"}),t.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[t.jsx("li",{children:"Penalties"}),t.jsx("li",{children:"Platform Commission"}),t.jsx("li",{children:"Lead cost"}),t.jsx("li",{children:"MG plan adjustments"}),t.jsx("li",{children:"Pending dues"})]}),t.jsx("p",{className:"text-gray-700 mt-4",children:"Settlement cycles will be weekly or as updated by NEXO."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.6},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"16. MG Plan (Minimum Guarantee)"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"MG plan is optional or mandatory as per category."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"MG provides priority leads based on plan."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"MG fee is non-refundable."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Partner failing to meet service quality/minimum performance may lose MG benefits without refund."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.7},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"17. Ratings & Reviews"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Partner must maintain minimum rating (e.g., 4.0)."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Low ratings may result in reduced leads or suspension."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"False or manipulated ratings are punishable."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.8},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"18. Use of Platform & Technology"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Keep app updated"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Not misuse customer data"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Not reverse engineer, hack, or modify NEXO systems"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Use genuine documents only"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.9},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"19. Termination"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"NEXO may terminate partner access without notice for:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Misconduct"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Fraud"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Unsafe behaviour"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Low performance"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Offline deals"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Customer complaints"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),t.jsx("span",{children:"Violation of any Terms"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"20. Security Deposit Refund"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Refund only upon:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"30-day notice period"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Return of toolkit (if applicable)"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"No pending dues or penalties"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"No active customer complaints"})]})]}),t.jsx("p",{className:"text-gray-700 font-semibold",children:"Refund processing time: 2145 working days."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:2.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"21. Dispute Resolution"}),t.jsxs("div",{className:"space-y-3 text-gray-700",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Jurisdiction:"})," Bangalore, Karnataka"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Governing Law:"})," Laws of India"]}),t.jsx("p",{className:"mt-4",children:t.jsx("strong",{children:"Method:"})}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Internal review"}),t.jsx("li",{children:"Mediation"}),t.jsx("li",{children:"Arbitration (if required)"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:2.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"22. Amendments"}),t.jsx("p",{className:"text-gray-700",children:"NEXO reserves the right to change Terms anytime. Continued use of the Platform constitutes acceptance."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:2.3},className:"mb-12",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Questions or Concerns?"}),t.jsx("p",{className:"text-white/90 mb-4",children:"If you have any questions about these Terms & Conditions, please contact us at:"}),t.jsx("p",{className:"text-white font-semibold",children:"Email: support@nexo.works"})]})})]})]})]}),kZ=()=>t.jsxs(t.Fragment,{children:[t.jsx(Ln,{title:"Customer Terms & Conditions | NEXO",description:"Customer Terms & Conditions for using NEXO platform. Read our comprehensive terms covering bookings, payments, cancellations, and customer rights.",keywords:"customer terms, user terms, NEXO terms and conditions, customer agreement"}),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"bg-white/20 rounded-full p-4",children:t.jsx(rx,{className:"w-12 h-12"})})}),t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Customer Terms & Conditions"}),t.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"Effective Date: 15 Nov 2025 | Last Updated: 15 Nov 2025"})]})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(G_,{className:"text-primary"}),"1. Introduction"]}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:'These Customer Terms & Conditions ("Terms") constitute a legally binding agreement between NEXO ("Company", "Platform", "We", "Us") and any individual or entity ("Customer", "You") who accesses, uses, or avails any service listed on the NEXO mobile application, website, or WhatsApp service platform.'}),t.jsx("p",{className:"text-gray-700 leading-relaxed mt-4 font-semibold",children:"By using or accessing the Platform, You agree to be bound by these Terms."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"2. Eligibility"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"By using the Platform, You confirm:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"You are at least 18 years old;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"You are legally competent to enter into contracts;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Information provided by You is true and accurate;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"You are availing services for lawful purposes only."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"3. Nature of Services"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:'NEXO is an aggregator, facilitating connections between Customers and independent service professionals ("Partners").'})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"NEXO does not employ, control, or supervise Partners."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Services are rendered solely by the Partner, and NEXO is only a facilitating platform."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"4. Customer Obligations"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Customer agrees to:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Provide correct service address, contact details, and description of work;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Ensure availability of an adult at service location;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Verify Partner identity before granting access;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Provide safe, hazard-free environment;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{className:"text-red-600 font-semibold",children:"Not request or engage Partners for offline jobs outside the Platform;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Treat Partners respectfully and refrain from abusive, unlawful, or threatening behaviour;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),t.jsx("span",{children:"Ensure payment is made only through NEXO."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"5. Booking, Cancellation & Rescheduling"}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5.1 Booking Confirmation"}),t.jsx("p",{className:"text-gray-700",children:"A booking is confirmed only upon completion of the applicable Visiting Fee, Service Fee, or pre-payment as required."})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5.2 Cancellation by Customer"}),t.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 mb-4",children:t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Free cancellation within 15 minutes of booking."})}),t.jsx("p",{className:"text-gray-700 mb-3",children:"After 15 minutes, cancellation charges apply:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Before dispatch  50% of visiting fee"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"After Partner dispatch  full visiting fee + 50 penalty"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"After Partner arrival  full visiting fee + applicable labour charges (if work has begun)"})]})]}),t.jsx("p",{className:"text-gray-700 mt-3 font-semibold text-red-600",children:"Repeated cancellations may lead to suspension."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5.3 Rescheduling"}),t.jsxs("ul",{className:"space-y-2 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(He,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Free one-time reschedule if requested at least 60 minutes before service."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Kt,{className:"text-yellow-500 mt-1"}),t.jsx("span",{children:"Subsequent reschedules may attract fee up to 50."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Kt,{className:"text-red-500 mt-1"}),t.jsx("span",{children:"Rescheduling is not permitted once Partner arrives."})]})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"6. Service Charges & Payments"}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6.1 Charges"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"Charges include:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Visiting Fee"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Labour charges"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Service fee"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Additional work approved by Customer"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Cost of materials (if used)"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Government taxes including GST"})]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6.2 Payment Method"}),t.jsxs("ul",{className:"space-y-2 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(He,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"All payments must be processed through the NEXO Platform."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Kt,{className:"text-red-500 mt-1"}),t.jsx("span",{className:"text-red-600 font-semibold",children:"Direct cash/card payments to Partner are strictly prohibited."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(dd,{className:"text-yellow-500 mt-1"}),t.jsx("span",{children:"NEXO is not responsible for any offline payments made by Customer."})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6.3 Final Invoice"}),t.jsx("p",{className:"text-gray-700",children:"Final charges may vary from initial estimate after inspection by Partner."})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(tc,{className:"text-primary"}),"7. Safety, Security & Conduct"]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"7.1 Customer Safety Rights"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"Customer may:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Ask for Partner ID verification"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Refuse entry if Partner identity appears suspicious"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Report misconduct immediately"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Request replacement of Partner if uncomfortable"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"7.2 Customer Responsibilities"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"Customer must ensure:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Home is safe for work"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Pets/children are supervised"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Valuables are secured"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Clear working access for Partner"})]})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"8. Service Quality & Warranty"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"NEXO does not provide warranty on services unless explicitly mentioned."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Workmanship warranty (if any) is provided solely by the Partner."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Customer must inspect work upon completion before payment."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Any rework request must be raised within 24 hours (if applicable)."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.9},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8 border-2 border-red-200",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-red-600 mb-4",children:"9. Prohibited Activities"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Customer shall not:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Harass, abuse, threaten, or intimidate Partners;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Engage in discriminatory or unlawful behaviour;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Request services that are illegal or unsafe;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Ask for personal contact of Partner;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Request offline or private service outside the Platform;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Record Partner without consent;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"g)"}),t.jsx("span",{children:"Provide false complaints or fraudulent claims."})]})]}),t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Violation may result in:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Account suspension"}),t.jsx("li",{children:"Legal action"}),t.jsx("li",{children:"Service denial"}),t.jsx("li",{children:"Blacklisting"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"10. Liability & Damages"}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"10.1 Customer Responsibility"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"Customer is responsible for:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-primary",children:""}),t.jsx("span",{children:"Securing valuables"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-primary",children:""}),t.jsx("span",{children:"Providing accurate service details"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-primary",children:""}),t.jsx("span",{children:"Ensuring safe working conditions"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-primary",children:""}),t.jsx("span",{children:"Reviewing work before job closure"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"10.2 NEXO's Liability Limitation"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"NEXO is not liable for:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Any theft, loss, or damage caused by Partner;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Delays, cancellations, or non-performance by Partner;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Damages arising due to incorrect information provided by Customer;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Losses from natural wear & tear or misuse;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Electrical/plumbing faults not directly caused by Partner;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Third-party or material failures."})]})]}),t.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-4",children:t.jsx("p",{className:"text-gray-800 font-semibold",children:"NEXO's liability, if any, shall not exceed the service fee paid."})})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(K_,{className:"text-primary"}),"11. Partner Misconduct or Issues"]}),t.jsx("p",{className:"text-gray-700 mb-4",children:"If Partner misbehaviour or misconduct is reported (with proof):"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(He,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Immediate review will be conducted"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(He,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Partner may be suspended"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(He,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Replacement may be arranged"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(He,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Refunds (if applicable) may be processed"})]})]}),t.jsx("p",{className:"text-gray-700 mt-4 font-semibold",children:"For severe offences, NEXO may file a police complaint."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"12. Data Privacy"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"Customer data will be used in accordance with NEXO's Privacy Policy."}),t.jsx("p",{className:"text-gray-700",children:"Customer agrees to receive booking updates, OTPs, notifications, and promotional messages."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"13. Intellectual Property Rights"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"All content, branding, design, and material on the Platform is owned by NEXO."}),t.jsx("p",{className:"text-gray-700",children:"Copying, distributing, or modifying Platform content without written permission is prohibited."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"14. Termination of Account"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"NEXO may deactivate or terminate Customer account without notice for:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Fraudulent behaviour"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Misuse of Platform"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Harassment of Partner"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Repeated cancellations"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Illegal activity"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Violation of any Terms"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.5},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"15. Dispute Resolution"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-4",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Raise complaint within 24 hours of service."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Disputes shall be resolved via:"})]})]}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-8 mb-4",children:[t.jsx("li",{children:"Support escalation"}),t.jsx("li",{children:"Mediation"}),t.jsx("li",{children:"Arbitration"})]}),t.jsxs("div",{className:"space-y-2 text-gray-700",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"c)"})," Jurisdiction: Bangalore, Karnataka"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"d)"})," Governing Law: Laws of India"]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.6},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"16. Force Majeure"}),t.jsx("p",{className:"text-gray-700",children:"NEXO is not liable for delays/failures caused by events outside reasonable control including weather, traffic, strikes, pandemics, accidents, or natural disasters."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.7},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"17. Amendments"}),t.jsx("p",{className:"text-gray-700",children:"NEXO may modify these Terms at any time. Updates will be notified, and continued usage constitutes acceptance."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.8},className:"mb-12",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Questions or Concerns?"}),t.jsx("p",{className:"text-white/90 mb-4",children:"If you have any questions about these Terms & Conditions, please contact us at:"}),t.jsx("p",{className:"text-white font-semibold",children:"Email: support@nexo.works"})]})})]})]})]}),CZ=()=>t.jsxs(t.Fragment,{children:[t.jsx(Ln,{title:"Privacy Policy | NEXO",description:"NEXO Privacy Policy - Learn how we collect, use, store, and protect your personal information across our platform.",keywords:"privacy policy, data protection, NEXO privacy, user data, data security"}),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"bg-white/20 rounded-full p-4",children:t.jsx(tc,{className:"w-12 h-12"})})}),t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Privacy Policy"}),t.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"Effective Date: 15 Nov 2025"})]})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(rx,{className:"text-primary"}),"1. Introduction"]}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:'This Privacy Policy explains how NEXO collects, uses, stores, and protects Customer, Partner, and user data across mobile app, website, and WhatsApp ("Platform").'}),t.jsx("p",{className:"text-gray-700 leading-relaxed mt-4 font-semibold",children:"By using the Platform, you agree to this Policy."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(WX,{className:"text-primary"}),"2. Information We Collect"]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2.1 Personal Information"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Name"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Phone number"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Email"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Address & location"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"OTP verification"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Device details"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-yellow-500"}),t.jsx("span",{className:"italic",children:"ID proof (Partners only)"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-yellow-500"}),t.jsx("span",{className:"italic",children:"Bank details (Partners only)"})]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2.2 Usage Information"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-blue-500"}),t.jsx("span",{children:"Browsing behaviour"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-blue-500"}),t.jsx("span",{children:"Clickstream"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-blue-500"}),t.jsx("span",{children:"Transaction data"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-blue-500"}),t.jsx("span",{children:"Service history"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-blue-500"}),t.jsx("span",{children:"Communication logs (WhatsApp/chat/call)"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-blue-500"}),t.jsx("span",{children:"IP address"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2.3 Location Data"}),t.jsx("p",{className:"text-gray-700",children:"For service allocation and partner tracking."})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"3. How We Use Information"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"We use information for:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Booking and service fulfillment"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Identity verification"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Customer support"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Fraud prevention"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Partner allocation & tracking"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Payment processing"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),t.jsx("span",{children:"Safety and dispute resolution"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"h)"}),t.jsx("span",{children:"Marketing & promotional messages"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"i)"}),t.jsx("span",{children:"Legal compliance"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(nJ,{className:"text-primary"}),"4. Data Sharing"]}),t.jsx("p",{className:"text-gray-700 mb-4",children:"We share limited data with:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Partners for service delivery"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Payment gateways"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Background verification agencies"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Marketing automation tools (e.g., AiSensy)"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Law enforcement (upon request)"})]})]}),t.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4",children:t.jsxs("p",{className:"text-gray-800 font-semibold flex items-center gap-2",children:[t.jsx(He,{className:"text-green-500"}),"We never sell personal data."]})})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(s4,{className:"text-primary"}),"5. Data Security"]}),t.jsx("p",{className:"text-gray-700 mb-4",children:"We implement:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Encryption"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Secured servers"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Access restrictions"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"Fraud detection tools"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(He,{className:"text-green-500"}),t.jsx("span",{children:"OTP-based authentication"})]})]}),t.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:t.jsxs("p",{className:"text-gray-800 font-semibold flex items-center gap-2",children:[t.jsx(dd,{className:"text-yellow-500"}),"However, no system is 100% secure."]})})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"6. WhatsApp Data Usage"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Usage of WhatsApp APIs (including AiSensy) includes:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-4",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(He,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Sending booking updates"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(He,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Sending notifications"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(He,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Sending promotional content"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(He,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Customerpartner communication"})]})]}),t.jsx("p",{className:"text-gray-700 font-semibold",children:"All messages follow WhatsApp's commerce policies."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(VX,{className:"text-primary"}),"7. Cookies & Tracking"]}),t.jsx("p",{className:"text-gray-700",children:"Used for analytics, personalization, and fraud prevention."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(K_,{className:"text-primary"}),"8. User Rights"]}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Users may request:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Data access"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Data correction"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Data deletion (subject to legal limits)"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Opt-out of marketing messages"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.9},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"9. Third-Party Links"}),t.jsx("p",{className:"text-gray-700",children:"External links have separate privacy policies; NEXO is not responsible for third-party practices."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"10. Children's Privacy"}),t.jsx("p",{className:"text-gray-700",children:"Platform is not intended for children under age 18."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"11. Amendments"}),t.jsx("p",{className:"text-gray-700",children:"We may update this Policy; changes posted on website/app become effective immediately."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.2},className:"mb-12",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Questions About Privacy?"}),t.jsx("p",{className:"text-white/90 mb-4",children:"If you have any questions about this Privacy Policy or wish to exercise your rights, please contact us at:"}),t.jsx("p",{className:"text-white font-semibold mb-2",children:"Email: support@nexo.works"}),t.jsx("p",{className:"text-white/80 text-sm",children:"For data access, correction, or deletion requests, please include your registered email or phone number."})]})})]})]})]}),PZ=()=>t.jsxs(t.Fragment,{children:[t.jsx(Ln,{title:"Customer Refund Policy | NEXO",description:"NEXO Customer Refund Policy - Learn about refund eligibility, non-refundable fees, refund processing times, and refund methods.",keywords:"refund policy, customer refund, NEXO refund, refund eligibility, refund processing"}),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"bg-white/20 rounded-full p-4",children:t.jsx(rx,{className:"w-12 h-12"})})}),t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Customer Refund Policy"}),t.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"NEXO - Fair & Transparent Refund Process"})]})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(He,{className:"text-green-500"}),"1. Eligibility for Refund"]}),t.jsx("p",{className:"text-gray-700 mb-4",children:"A customer is eligible for a refund only in the following cases:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(He,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Partner fails to arrive within the committed time window."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(He,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Service not initiated due to partner unavailability / NEXO internal issue."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(He,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Service not delivered due to NEXO's fault, such as system failure or incorrect partner assignment."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(He,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Duplicate payment made by the customer."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(He,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Overcharging due to system or billing error."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8 border-2 border-red-200",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-red-600 mb-4 flex items-center gap-3",children:[t.jsx(Kt,{className:"text-red-600"}),"2. Non-Refundable Fees"]}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"The following charges are strictly non-refundable:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Visiting Fee"}),", once the partner has arrived at the customer location."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Service Charge"})," (platform/processing fee)."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Cancellation Fee"})," charged due to last-minute customer cancellation."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Custom materials/parts"})," purchased exclusively for the customer's job."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Any penalties"})," applied due to customer behaviour or policy violation."]})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(ai,{className:"text-primary"}),"3. Refund Time (Customer)"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"p-5 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[t.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(lm,{className:"text-blue-500"}),"Refund to NEXO Wallet:"]}),t.jsx("p",{className:"text-gray-700 text-lg font-semibold",children:"Instant to 24 hours."})]}),t.jsxs("div",{className:"p-5 bg-purple-50 rounded-lg border-l-4 border-purple-500",children:[t.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(lm,{className:"text-purple-500"}),"Refund to Bank Account / UPI:"]}),t.jsx("p",{className:"text-gray-700 text-lg font-semibold",children:"37 working days, depending on bank processing timelines."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"4. Mode of Refund"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Refund will be processed via:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(He,{className:"text-green-500 text-xl"}),t.jsx("span",{className:"text-gray-700 font-semibold",children:"NEXO Wallet"})]}),t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(He,{className:"text-green-500 text-xl"}),t.jsx("span",{className:"text-gray-700 font-semibold",children:"Source Account (UPI/Card/Net Banking)"})]})]}),t.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:t.jsxs("p",{className:"text-gray-800 font-semibold flex items-center gap-2",children:[t.jsx(dd,{className:"text-red-500"}),"No cash refunds are permitted under any circumstances."]})})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(RX,{className:"text-primary"}),"5. Material Purchase Refund"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx("p",{className:"text-gray-700 mb-2",children:t.jsx("strong",{children:"Materials purchased by the partner on customer's request are not refundable once:"})}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Opened"}),t.jsx("li",{children:"Installed"}),t.jsx("li",{children:"Used"}),t.jsx("li",{children:"Customized"})]})]}),t.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-400",children:t.jsxs("p",{className:"text-gray-700",children:[t.jsx("strong",{children:"If unopened and vendor accepts returns,"})," only material cost may be refunded (vendor policies apply)."]})})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mb-12",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Need Help with Refunds?"}),t.jsx("p",{className:"text-white/90 mb-4",children:"If you believe you are eligible for a refund or have questions about our refund policy, please contact our support team:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-white font-semibold",children:"Email: support@nexo.works"}),t.jsx("p",{className:"text-white/80 text-sm",children:"Please include your booking ID and a brief description of the issue for faster processing."})]})]})})]})]})]}),AZ=()=>t.jsxs(t.Fragment,{children:[t.jsx(Ln,{title:"Partner Refund Policy | NEXO",description:"NEXO Partner Refund Policy - Learn about refund eligibility, non-refundable items, refund processing times, and refund methods for partners.",keywords:"partner refund policy, NEXO partner refund, refund eligibility, partner refund processing"}),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"bg-white/20 rounded-full p-4",children:t.jsx(rx,{className:"w-12 h-12"})})}),t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Partner Refund Policy"}),t.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"NEXO Partner Program - Fair & Transparent Refund Process"})]})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(He,{className:"text-green-500"}),"1. Eligibility for Refund"]}),t.jsx("p",{className:"text-gray-700 mb-4",children:"A partner may receive a refund only for the following cases:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(He,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Duplicate payment made by the partner."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(He,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Wallet deduction error due to a system glitch."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(He,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Overcharged commission or lead deduction due to technical error."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-400",children:[t.jsx(He,{className:"text-yellow-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"MG Plan or Subscription"}),"  Refund only if partner has not activated or taken any job (within 24 hours of purchase)."]})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8 border-2 border-red-200",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-red-600 mb-4 flex items-center gap-3",children:[t.jsx(Kt,{className:"text-red-600"}),"2. Non-Refundable Items"]}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"The following are strictly non-refundable:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Minimum Guarantee (MG) Plans"}),", once activated or once a job is assigned."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:t.jsx("strong",{children:"Registration fees"})})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:t.jsx("strong",{children:"Toolkit fees"})})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-400",children:[t.jsx(dd,{className:"text-yellow-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Security deposit"})," (refundable only at exit with conditions)"]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Lead cost"})," deducted for job views, accepts, or responses."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Penalties"})," for cancellations, no-show, customer complaints."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:["Any ",t.jsx("strong",{children:"custom kit, merchandise, uniform, or device cost"}),"."]})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(ai,{className:"text-primary"}),"3. Refund Time (Partner)"]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"p-5 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[t.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(lm,{className:"text-blue-500"}),"Wallet Refunds:"]}),t.jsx("p",{className:"text-gray-700 text-lg font-semibold",children:"Instant to 24 hours"})]}),t.jsxs("div",{className:"p-5 bg-purple-50 rounded-lg border-l-4 border-purple-500",children:[t.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(lm,{className:"text-purple-500"}),"Bank Refunds:"]}),t.jsx("p",{className:"text-gray-700 text-lg font-semibold",children:"37 working days"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"4. Mode of Refund"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Refund will be processed to:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(He,{className:"text-green-500 text-xl"}),t.jsx("span",{className:"text-gray-700 font-semibold",children:"Partner Wallet"})]}),t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(He,{className:"text-green-500 text-xl"}),t.jsx("span",{className:"text-gray-700 font-semibold",children:"Original payment mode (UPI/Card/Net Banking)"})]})]}),t.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:t.jsxs("p",{className:"text-gray-800 font-semibold flex items-center gap-2",children:[t.jsx(dd,{className:"text-red-500"}),"Cash refunds are not permitted."]})})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Need Help with Refunds?"}),t.jsx("p",{className:"text-white/90 mb-4",children:"If you believe you are eligible for a refund or have questions about our refund policy, please contact our partner support team:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-white font-semibold",children:"Email: support@nexo.works"}),t.jsx("p",{className:"text-white/80 text-sm",children:"Please include your Partner ID and a brief description of the issue for faster processing."})]})]})})]})]})]}),ni=({className:e="",variant:r="default"})=>{const s=r==="light",a=s?"#FFFFFF":"#214A73",n=s?"text-white":"text-primary",i=s?"text-white/80":"text-primary/80",l={initial:{scale:1,rotate:0},animate:{rotate:360,scale:[1,1.05,1],transition:{rotate:{duration:8,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}}},hover:{scale:1.15,rotate:[0,360],transition:{duration:.6,ease:"easeOut"}}},o={initial:{opacity:.7},animate:{opacity:[.7,1,.7],strokeWidth:[3,3.5,3],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}},d={initial:{scale:1,rotate:0},animate:{scale:[1,1.3,1],rotate:-360,transition:{scale:{duration:1.5,repeat:1/0,ease:"easeInOut"},rotate:{duration:5,repeat:1/0,ease:"linear"}}}};return t.jsxs("div",{className:`flex items-center gap-3 ${e}`,children:[t.jsx(E.div,{className:"relative w-12 h-12 flex items-center justify-center",variants:l,initial:"initial",animate:"animate",whileHover:"hover",children:t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 0 4px rgba(33, 74, 115, 0.3))"},children:[t.jsx(E.path,{d:"M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z",stroke:a,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:o,initial:"initial",animate:"animate"}),t.jsx(E.path,{d:"M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z",stroke:a,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:o,initial:"initial",animate:"animate",transition:{delay:.2}}),t.jsx(E.path,{d:"M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z",stroke:a,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:o,initial:"initial",animate:"animate",transition:{delay:.4}}),t.jsx(E.path,{d:"M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z",stroke:a,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:o,initial:"initial",animate:"animate",transition:{delay:.6}}),t.jsx(E.circle,{cx:"24",cy:"24",r:"4",fill:a,variants:d,initial:"initial",animate:"animate",style:{filter:"drop-shadow(0 0 6px rgba(33, 74, 115, 0.6))"}})]})}),t.jsxs(E.div,{className:"flex flex-col",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:[t.jsx(E.span,{className:`text-2xl font-bold ${n}`,whileHover:{scale:1.05},transition:{duration:.2},children:"Nexo"}),t.jsx(E.span,{className:`text-xs ${i} font-light`,animate:{opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"Connect. Work. Grow."})]})]})},wM=()=>{const e=er(),r=zr();return{handleHashClick:(a,n)=>{a.preventDefault();const i=n.includes("#")?n.split("#")[1]:null;if(!i){e(n);return}r.pathname==="/"?(window.location.hash=i,setTimeout(()=>{const l=document.getElementById(i);l&&l.scrollIntoView({behavior:"smooth",block:"start"}),window.dispatchEvent(new HashChangeEvent("hashchange"))},50)):(e(`/#${i}`),setTimeout(()=>{const l=document.getElementById(i);l&&setTimeout(()=>{l.scrollIntoView({behavior:"smooth",block:"start"})},100)},100))}}},TZ=()=>{var j,w;const[e,r]=g.useState(!1),[s,a]=g.useState(!1),[n,i]=g.useState(""),[l,o]=g.useState(!1),d=zr(),c=er(),{handleHashClick:u}=wM(),{user:m,isAuthenticated:x,logout:h}=on();g.useEffect(()=>{console.log("Navbar - Auth State:",{isAuthenticated:x,user:m})},[x,m]);const p=()=>{h(),o(!1),c("/")};g.useEffect(()=>{const y=v=>{l&&!v.target.closest(".user-dropdown-container")&&o(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[l]),g.useEffect(()=>{const y=()=>{a(window.scrollY>20)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]),g.useEffect(()=>{const y=()=>{i(window.location.hash)};return y(),window.addEventListener("hashchange",y),d.hash&&i(d.hash),()=>{window.removeEventListener("hashchange",y)}},[d.hash]);const f=y=>{if(y==="/")return d.pathname==="/"&&!d.hash&&!n;if(y.startsWith("/#")){const v=y.substring(2),N=d.hash||n;return d.pathname==="/"&&(N===`#${v}`||N===v)}return d.pathname===y},b=[{name:"Home",path:"/"},{name:"Services",path:"/#services"},{name:"Emergency Service",path:"/emergency"},{name:"Material Store",path:"/materials"},{name:"Partner Program",path:"/partner"},{name:"AMC Plans",path:"/amc"},{name:"Lead Marketplace",path:"/leads"}];return t.jsxs(E.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.5},className:`fixed top-0 left-0 right-0 z-[9999] transition-all duration-300 w-full max-w-full overflow-visible bg-white shadow-md ${s?"shadow-lg":""}`,children:[t.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none",children:t.jsx(E.div,{className:"absolute inset-0",style:{background:"linear-gradient(90deg, transparent 0%, rgba(33, 74, 115, 0.1) 50%, transparent 100%)"},animate:{x:["-100%","100%"]},transition:{duration:15,repeat:1/0,ease:"linear"}})}),t.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex items-center justify-between h-20",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsx(Ht,{to:"/",children:t.jsx(ni,{variant:"default"})})})}),t.jsx("nav",{className:"hidden xl:flex items-center gap-1 flex-1 justify-center max-w-4xl mx-4",children:b.map((y,v)=>{const N=f(y.path);return t.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:v*.05},children:y.path.startsWith("/#")?t.jsxs("a",{href:y.path,onClick:S=>u(S,y.path),className:`relative px-3 py-2 text-sm font-medium transition-colors duration-200 whitespace-nowrap cursor-pointer ${N?"text-primary":"text-gray-700 hover:text-primary"}`,children:[y.name,N&&t.jsx(E.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary",layoutId:"navbar-indicator",initial:!1,transition:{type:"spring",stiffness:380,damping:30}})]}):t.jsxs(Ht,{to:y.path,className:`relative px-3 py-2 text-sm font-medium transition-colors duration-200 whitespace-nowrap ${N?"text-primary":"text-gray-700 hover:text-primary"}`,children:[y.name,N&&t.jsx(E.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary",layoutId:"navbar-indicator",initial:!1,transition:{type:"spring",stiffness:380,damping:30}})]})},y.name)})}),t.jsx("nav",{className:"hidden lg:flex xl:hidden items-center gap-1 flex-1 justify-center max-w-3xl mx-2",children:b.slice(0,5).map((y,v)=>{const N=f(y.path);return y.path.startsWith("/#")?t.jsx("a",{href:y.path,onClick:S=>u(S,y.path),className:`px-2 py-2 text-xs font-medium transition-colors duration-200 whitespace-nowrap cursor-pointer ${N?"text-primary":"text-gray-700 hover:text-primary"}`,children:y.name.length>15?y.name.substring(0,12)+"...":y.name},y.name):t.jsx(Ht,{to:y.path,className:`px-2 py-2 text-xs font-medium transition-colors duration-200 whitespace-nowrap ${N?"text-primary":"text-gray-700 hover:text-primary"}`,children:y.name.length>15?y.name.substring(0,12)+"...":y.name},y.name)})}),t.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3",children:[x&&m?t.jsxs("div",{className:"relative hidden lg:block user-dropdown-container",children:[t.jsxs(E.button,{onClick:()=>o(!l),className:"flex items-center gap-2 px-3 py-2 rounded-full hover:bg-gray-100 transition-all duration-200",whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-primary-dark rounded-full flex items-center justify-center text-white font-bold text-sm overflow-hidden ring-2 ring-white shadow-md",children:m.profilePicture?t.jsx("img",{src:m.profilePicture,alt:m.name||"User",className:"w-full h-full object-cover"}):t.jsx("span",{children:((j=m.name)==null?void 0:j.charAt(0).toUpperCase())||"U"})}),t.jsx("span",{className:"text-sm font-medium text-gray-700 hidden xl:block",children:m.name}),t.jsx(W_,{className:`w-3 h-3 text-gray-500 transition-transform ${l?"rotate-180":""}`})]}),t.jsx(Pl,{children:l&&t.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-[10000]",children:[t.jsxs(Ht,{to:"/user/dashboard",onClick:()=>o(!1),className:"flex items-center gap-3 px-4 py-2 hover:bg-gray-50 transition-colors",children:[t.jsx(LC,{className:"w-4 h-4 text-primary"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Dashboard"})]}),t.jsxs(Ht,{to:"/user/dashboard/profile",onClick:()=>o(!1),className:"flex items-center gap-3 px-4 py-2 hover:bg-gray-50 transition-colors",children:[t.jsx(Rc,{className:"w-4 h-4 text-primary"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"My Profile"})]}),t.jsx("hr",{className:"my-2 border-gray-200"}),t.jsxs("button",{onClick:p,className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-red-50 transition-colors text-left",children:[t.jsx(DC,{className:"w-4 h-4 text-red-600"}),t.jsx("span",{className:"text-sm font-medium text-red-600",children:"Logout"})]})]})})]}):t.jsx(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.3},className:"hidden lg:block",children:t.jsxs(Ht,{to:"/user/login",className:"flex items-center gap-2 px-4 py-2 text-primary hover:bg-primary/10 rounded-full transition-all duration-200 font-medium text-sm",children:[t.jsx(Rc,{className:"w-4 h-4"}),t.jsx("span",{children:"Login"})]})}),t.jsx(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.3},className:"hidden lg:block",children:t.jsxs(Ht,{to:"/partner/onboard",className:"bg-primary text-white px-4 xl:px-5 py-2 xl:py-2.5 rounded-full hover:bg-primary-dark transition-all duration-300 font-semibold shadow-lg hover:shadow-xl flex items-center gap-2 text-xs xl:text-sm whitespace-nowrap",children:[t.jsx(qa,{className:"w-3 h-3 xl:w-4 xl:h-4"}),t.jsx("span",{className:"hidden 2xl:inline",children:"Become a Partner"}),t.jsx("span",{className:"2xl:hidden",children:"Partner"})]})})]}),t.jsx(E.button,{onClick:()=>r(!e),className:"md:hidden focus:outline-none p-2 transition-colors duration-200 text-primary",whileHover:{scale:1.1},whileTap:{scale:.9},children:t.jsx(Pl,{mode:"wait",children:e?t.jsx(E.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:t.jsx(Hl,{className:"h-6 w-6"})},"close"):t.jsx(E.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:t.jsx(LX,{className:"h-6 w-6"})},"menu")})})]}),t.jsx(Pl,{children:e&&t.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden overflow-y-auto max-h-[calc(100vh-5rem)]",children:t.jsxs("div",{className:"py-4 space-y-2 border-t border-gray-200 mt-2",children:[b.map((y,v)=>{const N=f(y.path);return t.jsx(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:v*.1},children:y.path.startsWith("/#")?t.jsx("a",{href:y.path,onClick:S=>{u(S,y.path),r(!1)},className:`block px-4 py-3 rounded-lg transition-all duration-200 cursor-pointer ${N?"bg-primary/10 text-primary font-semibold":"text-gray-700 hover:bg-gray-100 hover:text-primary"}`,children:y.name}):t.jsx(Ht,{to:y.path,onClick:()=>r(!1),className:`block px-4 py-3 rounded-lg transition-all duration-200 ${N?"bg-primary/10 text-primary font-semibold":"text-gray-700 hover:bg-gray-100 hover:text-primary"}`,children:y.name})},y.name)}),t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:b.length*.1},className:"pt-2 space-y-2",children:[x&&m?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"mx-4 p-4 bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg border border-primary/20",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-primary-dark rounded-full flex items-center justify-center text-white font-bold overflow-hidden ring-2 ring-white shadow-md",children:m.profilePicture?t.jsx("img",{src:m.profilePicture,alt:m.name||"User",className:"w-full h-full object-cover"}):t.jsx("span",{children:((w=m.name)==null?void 0:w.charAt(0).toUpperCase())||"U"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:m.name}),t.jsx("p",{className:"text-xs text-gray-600",children:m.email||m.phone})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs(Ht,{to:"/user/dashboard",onClick:()=>r(!1),className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg hover:bg-gray-50 transition-colors",children:[t.jsx(LC,{className:"w-4 h-4 text-primary"}),t.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})]}),t.jsxs(Ht,{to:"/user/dashboard/profile",onClick:()=>r(!1),className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg hover:bg-gray-50 transition-colors",children:[t.jsx(Rc,{className:"w-4 h-4 text-primary"}),t.jsx("span",{className:"text-sm font-medium",children:"My Profile"})]}),t.jsxs("button",{onClick:()=>{p(),r(!1)},className:"w-full flex items-center gap-2 px-3 py-2 bg-red-50 rounded-lg hover:bg-red-100 transition-colors text-left",children:[t.jsx(DC,{className:"w-4 h-4 text-red-600"}),t.jsx("span",{className:"text-sm font-medium text-red-600",children:"Logout"})]})]})]})}):t.jsxs(Ht,{to:"/user/login",onClick:()=>r(!1),className:"block mx-4 bg-gray-100 text-primary px-6 py-3 rounded-full text-center font-semibold flex items-center justify-center gap-2 border-2 border-primary/20",children:[t.jsx(Rc,{className:"w-4 h-4"}),"Login"]}),t.jsxs(Ht,{to:"/partner/onboard",onClick:()=>r(!1),className:"block mx-4 bg-primary text-white px-6 py-3 rounded-full text-center font-semibold shadow-lg flex items-center justify-center gap-2",children:[t.jsx(qa,{className:"w-4 h-4"}),"Become a Partner"]})]})]})})})]})]})},EZ=()=>{const e=ao(),{handleHashClick:r}=wM(),s={company:[{name:"About Us",path:"/#about"},{name:"Services",path:"/#services"},{name:"Partner Program",path:"/partner"},{name:"User Login",path:"/user/login"},{name:"Partner Login",path:"/partner/login"},{name:"Vendor Login",path:"/vendor/login"},{name:"AMC Plans",path:"/amc"}],legal:[{name:"Customer Terms",path:"/terms"},{name:"Partner Terms",path:"/partner-terms"},{name:"Privacy Policy",path:"/privacy"},{name:"Customer Refund Policy",path:"/refund-policy"},{name:"Partner Refund Policy",path:"/partner-refund-policy"}],resources:[{name:"Lead Marketplace",path:"/leads"},{name:"Material Store",path:"/materials"},{name:"Emergency Service",path:"/emergency"},{name:"Brand Partnerships",path:"/brand-partnerships"}]},a=[{icon:OX,href:"#",name:"Facebook"},{icon:DX,href:"#",name:"Twitter"},{icon:_X,href:"#",name:"Instagram"},{icon:MX,href:"#",name:"LinkedIn"}];return t.jsxs("footer",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-primary text-white overflow-hidden pb-20 sm:pb-24",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-0 left-0 w-64 h-64 bg-white/20 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,20,0],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-0 right-0 w-80 h-80 bg-yellow-300/20 rounded-full blur-3xl",animate:{y:[0,30,0],x:[0,-20,0],scale:[1,1.2,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(15)].map((n,i)=>t.jsx(E.div,{className:"absolute rounded-full z-0",style:{width:`${6+i%3*2}px`,height:`${6+i%3*2}px`,left:`${5+i*7%90}%`,top:`${10+i*6%80}%`,backgroundColor:"rgba(255, 255, 255, 0.4)"},animate:{y:[0,-60,0],x:[0,i%2===0?20:-20,0],opacity:[.4,.8,.4],scale:[1,1.8,1]},transition:{duration:7+i%4,repeat:1/0,ease:"easeInOut",delay:i*.3}},`small-${i}`)),[...Array(10)].map((n,i)=>t.jsx(E.div,{className:"absolute rounded-full blur-sm z-0",style:{width:`${12+i%2*4}px`,height:`${12+i%2*4}px`,left:`${8+i*9%85}%`,top:`${12+i*8%75}%`,backgroundColor:"rgba(255, 255, 255, 0.3)"},animate:{y:[0,-80,0],x:[0,i%2===0?30:-30,0],opacity:[.3,.6,.3],scale:[1,1.6,1]},transition:{duration:8+i%3*2,repeat:1/0,ease:"easeInOut",delay:i*.4}},`medium-${i}`)),[...Array(6)].map((n,i)=>t.jsx(E.div,{className:"absolute rounded-full blur-md z-0",style:{width:`${20+i%2*8}px`,height:`${20+i%2*8}px`,left:`${10+i*15%80}%`,top:`${15+i*12%70}%`,backgroundColor:"rgba(255, 255, 255, 0.2)"},animate:{y:[0,-100,0],x:[0,i%2===0?40:-40,0],opacity:[.2,.4,.2],scale:[1,1.4,1]},transition:{duration:10+i%3*2,repeat:1/0,ease:"easeInOut",delay:i*.6}},`large-${i}`)),t.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 sm:gap-12",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5},className:"col-span-1 lg:col-span-2",children:[t.jsx(ni,{className:"mb-4",variant:"light"}),t.jsx("p",{className:"text-sm sm:text-base text-white/80 mt-4 mb-6 max-w-md",children:"Fast, reliable, and affordable home services. Connect with verified experts on WhatsApp."}),t.jsx("div",{className:"space-y-3",children:t.jsxs(E.a,{href:"mailto:support@nexo.works",whileHover:{scale:1.05,x:5},className:"flex items-center gap-3 text-white/80 hover:text-yellow-300 transition-colors duration-200",children:[t.jsx(q_,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm sm:text-base",children:"support@nexo.works"})]})}),t.jsx("div",{className:"flex items-center gap-4 mt-6",children:a.map((n,i)=>{const l=n.icon;return t.jsx(E.a,{href:n.href,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.2,y:-3},whileTap:{scale:.9},className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center text-white/80 hover:text-yellow-300 hover:bg-white/20 transition-all duration-300","aria-label":n.name,children:t.jsx(l,{className:"w-5 h-5"})},i)})})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:.1},children:[t.jsx("h3",{className:"text-white font-bold text-lg mb-4 sm:mb-6",children:"Company"}),t.jsx("ul",{className:"space-y-3",children:s.company.map((n,i)=>t.jsx(E.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:i*.1},children:n.path.startsWith("/#")?t.jsxs("a",{href:n.path,onClick:l=>r(l,n.path),className:"text-sm sm:text-base text-white/80 hover:text-yellow-300 transition-colors duration-200 flex items-center gap-2 group cursor-pointer",children:[t.jsx("span",{className:"w-0 group-hover:w-2 h-0.5 bg-yellow-300 transition-all duration-200"}),n.name]}):t.jsxs(Ht,{to:n.path,className:"text-sm sm:text-base text-white/80 hover:text-yellow-300 transition-colors duration-200 flex items-center gap-2 group",children:[t.jsx("span",{className:"w-0 group-hover:w-2 h-0.5 bg-yellow-300 transition-all duration-200"}),n.name]})},n.name))})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:.2},children:[t.jsx("h3",{className:"text-white font-bold text-lg mb-4 sm:mb-6",children:"Resources"}),t.jsx("ul",{className:"space-y-3",children:s.resources.map((n,i)=>t.jsx(E.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:i*.1},children:t.jsxs(Ht,{to:n.path,className:"text-sm sm:text-base text-white/80 hover:text-yellow-300 transition-colors duration-200 flex items-center gap-2 group",children:[t.jsx("span",{className:"w-0 group-hover:w-2 h-0.5 bg-yellow-300 transition-all duration-200"}),n.name]})},n.name))})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:.3},children:[t.jsx("h3",{className:"text-white font-bold text-lg mb-4 sm:mb-6",children:"Legal"}),t.jsx("ul",{className:"space-y-3",children:s.legal.map((n,i)=>t.jsx(E.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:i*.1},children:t.jsxs(Ht,{to:n.path,className:"text-sm sm:text-base text-white/80 hover:text-yellow-300 transition-colors duration-200 flex items-center gap-2 group",children:[t.jsx("span",{className:"w-0 group-hover:w-2 h-0.5 bg-yellow-300 transition-all duration-200"}),n.name]})},n.name))})]})]}),t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.6},className:"mt-12 sm:mt-16 pt-8 border-t border-white/20",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"text-center sm:text-left",children:[t.jsx("p",{className:"text-white font-semibold text-lg mb-2",children:"Need Help? Chat with us on WhatsApp"}),t.jsx("p",{className:"text-white/80 text-sm sm:text-base",children:"Get instant support 24/7"})]}),t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full font-semibold shadow-lg hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5"}),"Chat on WhatsApp"]})]})}),t.jsx(E.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.6,delay:.4},className:"border-t border-white/20 mt-8 pt-8 text-center",children:t.jsxs("p",{className:"text-sm text-white/60",children:[" ",new Date().getFullYear()," ",t.jsxs("a",{href:"https://parnetsgroup.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:[t.jsx("span",{style:{color:"#2a017d"},children:"Par"}),t.jsx("span",{style:{color:"#f65c0d"},children:"Nets"})," Software India PVT LTD"]}),". All rights reserved. | Connect. Work. Grow"]})})]})]})},IZ=({message:e="Hi, I need help with your services.",className:r=""})=>{const{openDialog:s}=n4(),a=n=>{n.preventDefault(),s()};return t.jsx("div",{className:"fixed bottom-6 right-6 z-[9999]",children:t.jsxs(E.button,{onClick:a,className:`relative bg-[#25D366] text-white rounded-full p-4 shadow-2xl hover:bg-[#20BA5A] transition-all duration-300 flex items-center justify-center ${r}`,initial:{scale:0},animate:{scale:[1,1.05,1],y:[0,-8,0]},whileHover:{scale:1.15,y:-10},whileTap:{scale:.9},transition:{scale:{duration:2,repeat:1/0,ease:"easeInOut",type:"tween"},y:{duration:2,repeat:1/0,ease:"easeInOut",type:"tween"},default:{type:"spring",stiffness:200,damping:15}},style:{boxShadow:"0 10px 40px rgba(37, 211, 102, 0.4)"},"aria-label":"WhatsApp Support",children:[t.jsx(E.div,{className:"absolute inset-0 bg-[#25D366] rounded-full -z-10",animate:{scale:[1,1.5,1.5],opacity:[.5,0,0]},transition:{duration:2,repeat:1/0,ease:"easeOut"}}),t.jsx(E.div,{className:"absolute inset-0 bg-[#25D366] rounded-full -z-10",animate:{scale:[1,1.8,1.8],opacity:[.3,0,0]},transition:{duration:2,repeat:1/0,ease:"easeOut",delay:.5}}),t.jsx("svg",{className:"w-8 h-8 relative z-10",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),t.jsx(E.span,{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white",animate:{scale:[1,1.3,1],opacity:[1,.8,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})]})})},OZ=()=>t.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 overflow-x-hidden w-full max-w-full",children:[t.jsx(TZ,{}),t.jsx("main",{className:"flex-1 w-full max-w-full overflow-x-hidden pt-20",children:t.jsx(so,{})}),t.jsx(EZ,{}),t.jsx(IZ,{})]});function Yc(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function rl(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function _Z(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function Tj(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function Xf(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(e)}function ox(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function hs(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function Jf(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(e)}function bn(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(e)}function y0(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function En(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function MZ(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function Jr(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(e)}function Ps(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function b0(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function vt(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function Tl(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function DZ(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function NM(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function SM(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function LZ(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},child:[]},{tag:"rect",attr:{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"},child:[]}]})(e)}function qr(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function Ej(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"},child:[]}]})(e)}function fs(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(e)}function Yt(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function In(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function gs(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function mp(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(e)}function m4(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function lP(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(e)}function m1(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function Sn(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function Gt(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function Dd(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function FZ(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"6",r:"3"},child:[]},{tag:"path",attr:{d:"M6 21V9a9 9 0 0 0 9 9"},child:[]}]})(e)}function RZ(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 18v-6a9 9 0 0 1 18 0v6"},child:[]},{tag:"path",attr:{d:"M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"},child:[]}]})(e)}function zh(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function rn(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function Qf(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(e)}function kM(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function wo(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(e)}function BZ(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(e)}function $Z(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function hp(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(e)}function Ms(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function Go(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function sn(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function Er(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(e)}function h4(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(e)}function Zy(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function x4(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(e)}function Zf(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function v0(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function CM(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"19",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"5",cy:"12",r:"1"},child:[]}]})(e)}function h1(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"3 11 22 2 13 21 11 13 3 11"},child:[]}]})(e)}function Gr(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function oP(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"},child:[]},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"},child:[]}]})(e)}function an(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function p4(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(e)}function zZ(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(e)}function ar(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function km(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"},child:[]},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"},child:[]},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"},child:[]}]})(e)}function UZ(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"polyline",attr:{points:"23 20 23 14 17 14"},child:[]},{tag:"path",attr:{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"},child:[]}]})(e)}function Dt(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function Zn(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function HZ(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"6",cy:"6",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"line",attr:{x1:"20",y1:"4",x2:"8.12",y2:"15.88"},child:[]},{tag:"line",attr:{x1:"14.47",y1:"14.48",x2:"20",y2:"20"},child:[]},{tag:"line",attr:{x1:"8.12",y1:"8.12",x2:"12",y2:"12"},child:[]}]})(e)}function Fa(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function eg(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(e)}function El(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function kn(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function PM(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(e)}function Oa(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function cP(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(e)}function Pi(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(e)}function f4(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(e)}function Uh(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(e)}function ah(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(e)}function la(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function hd(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(e)}function cr(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function AM(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(e)}function Ko(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function tg(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function lf(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(e)}function Or(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Nr(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function VZ(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]},{tag:"path",attr:{d:"M16.72 11.06A10.94 10.94 0 0 1 19 12.55"},child:[]},{tag:"path",attr:{d:"M5 12.55a10.94 10.94 0 0 1 5.17-2.39"},child:[]},{tag:"path",attr:{d:"M10.71 5.05A16 16 0 0 1 22.58 9"},child:[]},{tag:"path",attr:{d:"M1.42 9a15.91 15.91 0 0 1 4.7-2.88"},child:[]},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12.01",y2:"20"},child:[]}]})(e)}function WZ(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12.55a11 11 0 0 1 14.08 0"},child:[]},{tag:"path",attr:{d:"M1.42 9a16 16 0 0 1 21.16 0"},child:[]},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12.01",y2:"20"},child:[]}]})(e)}function wn(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function mt(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function qi(e){return ke({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}const of=new Map,su=new Map,qZ=3e4,GZ=(e,r,s=[])=>{const a=e.toString(),n=s.length>0?`-${JSON.stringify(s)}`:"";return`${a}-${r||"no-token"}${n}`},lr=(e,r=[])=>{const{token:s}=kr(),[a,n]=g.useState(null),[i,l]=g.useState(!0),[o,d]=g.useState(null),c=g.useRef(e),u=g.useRef(!0),m=g.useRef(null),x=r.includes("skip");g.useEffect(()=>{c.current=e},[e]);const h=g.useMemo(()=>!r||r.length===0?"":JSON.stringify(r),[r]);m.current=g.useMemo(()=>!s||x?null:GZ(e,s,r),[e,s,h,x]);const p=g.useCallback(async()=>{if(!s||!m.current||x){l(!1);return}const b=m.current;if(su.has(b))try{const y=await su.get(b);u.current&&(n(y),l(!1));return}catch{}const j=of.get(b);if(j){const{data:y,timestamp:v}=j;if(Date.now()-v<qZ){u.current&&(n(y),l(!1),d(null));return}}const w=(async()=>{try{u.current&&(l(!0),d(null));const y=await c.current(s);return of.set(b,{data:y,timestamp:Date.now()}),u.current&&(n(y),l(!1),d(null)),y}catch(y){const v=(y==null?void 0:y.message)??"Unable to fetch data";throw u.current&&(d(v),l(!1)),y}finally{su.delete(b)}})();su.set(b,w),await w},[s,x]);g.useEffect(()=>(u.current=!0,x?l(!1):p(),()=>{u.current=!1}),[s,x,...r]),g.useEffect(()=>()=>{u.current=!1},[]);const f=g.useCallback(async()=>{if(!s||!m.current||x)return;const b=m.current;of.delete(b),su.delete(b),await p()},[s,p,x]);return{data:a,isLoading:i,error:o,refresh:f}},KZ=()=>{of.clear(),su.clear()},YZ=()=>{};var dP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=function(e){const r=[];let s=0;for(let a=0;a<e.length;a++){let n=e.charCodeAt(a);n<128?r[s++]=n:n<2048?(r[s++]=n>>6|192,r[s++]=n&63|128):(n&64512)===55296&&a+1<e.length&&(e.charCodeAt(a+1)&64512)===56320?(n=65536+((n&1023)<<10)+(e.charCodeAt(++a)&1023),r[s++]=n>>18|240,r[s++]=n>>12&63|128,r[s++]=n>>6&63|128,r[s++]=n&63|128):(r[s++]=n>>12|224,r[s++]=n>>6&63|128,r[s++]=n&63|128)}return r},XZ=function(e){const r=[];let s=0,a=0;for(;s<e.length;){const n=e[s++];if(n<128)r[a++]=String.fromCharCode(n);else if(n>191&&n<224){const i=e[s++];r[a++]=String.fromCharCode((n&31)<<6|i&63)}else if(n>239&&n<365){const i=e[s++],l=e[s++],o=e[s++],d=((n&7)<<18|(i&63)<<12|(l&63)<<6|o&63)-65536;r[a++]=String.fromCharCode(55296+(d>>10)),r[a++]=String.fromCharCode(56320+(d&1023))}else{const i=e[s++],l=e[s++];r[a++]=String.fromCharCode((n&15)<<12|(i&63)<<6|l&63)}}return r.join("")},EM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,r){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let n=0;n<e.length;n+=3){const i=e[n],l=n+1<e.length,o=l?e[n+1]:0,d=n+2<e.length,c=d?e[n+2]:0,u=i>>2,m=(i&3)<<4|o>>4;let x=(o&15)<<2|c>>6,h=c&63;d||(h=64,l||(x=64)),a.push(s[u],s[m],s[x],s[h])}return a.join("")},encodeString(e,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(e):this.encodeByteArray(TM(e),r)},decodeString(e,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(e):XZ(this.decodeStringToByteArray(e,r))},decodeStringToByteArray(e,r){this.init_();const s=r?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let n=0;n<e.length;){const i=s[e.charAt(n++)],o=n<e.length?s[e.charAt(n)]:0;++n;const c=n<e.length?s[e.charAt(n)]:64;++n;const m=n<e.length?s[e.charAt(n)]:64;if(++n,i==null||o==null||c==null||m==null)throw new JZ;const x=i<<2|o>>4;if(a.push(x),c!==64){const h=o<<4&240|c>>2;if(a.push(h),m!==64){const p=c<<6&192|m;a.push(p)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class JZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QZ=function(e){const r=TM(e);return EM.encodeByteArray(r,!0)},IM=function(e){return QZ(e).replace(/\./g,"")},ZZ=function(e){try{return EM.decodeString(e,!0)}catch(r){console.error("base64Decode failed: ",r)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tee=()=>eee().__FIREBASE_DEFAULTS__,ree=()=>{if(typeof process>"u"||typeof dP>"u")return;const e=dP.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},see=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const r=e&&ZZ(e[1]);return r&&JSON.parse(r)},aee=()=>{try{return YZ()||tee()||ree()||see()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},OM=()=>{var e;return(e=aee())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((r,s)=>{this.resolve=r,this.reject=s})}wrapCallback(r){return(s,a)=>{s?this.reject(s):this.resolve(a),typeof r=="function"&&(this.promise.catch(()=>{}),r.length===1?r(s):r(s,a))}}}function iee(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function g4(){try{return typeof indexedDB=="object"}catch{return!1}}function y4(){return new Promise((e,r)=>{try{let s=!0;const a="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(a);n.onsuccess=()=>{n.result.close(),s||self.indexedDB.deleteDatabase(a),e(!0)},n.onupgradeneeded=()=>{s=!1},n.onerror=()=>{var i;r(((i=n.error)==null?void 0:i.message)||"")}}catch(s){r(s)}})}function _M(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lee="FirebaseError";class Ld extends Error{constructor(r,s,a){super(s),this.code=r,this.customData=a,this.name=lee,Object.setPrototypeOf(this,Ld.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cx.prototype.create)}}class cx{constructor(r,s,a){this.service=r,this.serviceName=s,this.errors=a}create(r,...s){const a=s[0]||{},n=`${this.service}/${r}`,i=this.errors[r],l=i?oee(i,a):"Error",o=`${this.serviceName}: ${l} (${n}).`;return new Ld(n,o,a)}}function oee(e,r){return e.replace(cee,(s,a)=>{const n=r[a];return n!=null?String(n):`<${a}?>`})}const cee=/\{\$([^}]+)}/g;function rg(e,r){if(e===r)return!0;const s=Object.keys(e),a=Object.keys(r);for(const n of s){if(!a.includes(n))return!1;const i=e[n],l=r[n];if(uP(i)&&uP(l)){if(!rg(i,l))return!1}else if(i!==l)return!1}for(const n of a)if(!s.includes(n))return!1;return!0}function uP(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dee=1e3,uee=2,mee=4*60*60*1e3,hee=.5;function mP(e,r=dee,s=uee){const a=r*Math.pow(s,e),n=Math.round(hee*a*(Math.random()-.5)*2);return Math.min(mee,a+n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(e){return e&&e._delegate?e._delegate:e}class sl{constructor(r,s,a){this.name=r,this.instanceFactory=s,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xee=class{constructor(r,s){this.name=r,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(r){const s=this.normalizeInstanceIdentifier(r);if(!this.instancesDeferred.has(s)){const a=new nee;if(this.instancesDeferred.set(s,a),this.isInitialized(s)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:s});n&&a.resolve(n)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(r){const s=this.normalizeInstanceIdentifier(r==null?void 0:r.identifier),a=(r==null?void 0:r.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(n){if(a)return null;throw n}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(r){if(r.name!==this.name)throw Error(`Mismatching Component ${r.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=r,!!this.shouldAutoInitialize()){if(fee(r))try{this.getOrInitializeService({instanceIdentifier:Ac})}catch{}for(const[s,a]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(s);try{const i=this.getOrInitializeService({instanceIdentifier:n});a.resolve(i)}catch{}}}}clearInstance(r=Ac){this.instancesDeferred.delete(r),this.instancesOptions.delete(r),this.instances.delete(r)}async delete(){const r=Array.from(this.instances.values());await Promise.all([...r.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...r.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(r=Ac){return this.instances.has(r)}getOptions(r=Ac){return this.instancesOptions.get(r)||{}}initialize(r={}){const{options:s={}}=r,a=this.normalizeInstanceIdentifier(r.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:a,options:s});for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);a===o&&l.resolve(n)}return n}onInit(r,s){const a=this.normalizeInstanceIdentifier(s),n=this.onInitCallbacks.get(a)??new Set;n.add(r),this.onInitCallbacks.set(a,n);const i=this.instances.get(a);return i&&r(i,a),()=>{n.delete(r)}}invokeOnInitCallbacks(r,s){const a=this.onInitCallbacks.get(s);if(a)for(const n of a)try{n(r,s)}catch{}}getOrInitializeService({instanceIdentifier:r,options:s={}}){let a=this.instances.get(r);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:pee(r),options:s}),this.instances.set(r,a),this.instancesOptions.set(r,s),this.invokeOnInitCallbacks(a,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,a)}catch{}return a||null}normalizeInstanceIdentifier(r=Ac){return this.component?this.component.multipleInstances?r:Ac:r}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function pee(e){return e===Ac?void 0:e}function fee(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(r){this.name=r,this.providers=new Map}addComponent(r){const s=this.getProvider(r.name);if(s.isComponentSet())throw new Error(`Component ${r.name} has already been registered with ${this.name}`);s.setComponent(r)}addOrOverwriteComponent(r){this.getProvider(r.name).isComponentSet()&&this.providers.delete(r.name),this.addComponent(r)}getProvider(r){if(this.providers.has(r))return this.providers.get(r);const s=new xee(r,this);return this.providers.set(r,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Dr||(Dr={}));const yee={debug:Dr.DEBUG,verbose:Dr.VERBOSE,info:Dr.INFO,warn:Dr.WARN,error:Dr.ERROR,silent:Dr.SILENT},bee=Dr.INFO,vee={[Dr.DEBUG]:"log",[Dr.VERBOSE]:"log",[Dr.INFO]:"info",[Dr.WARN]:"warn",[Dr.ERROR]:"error"},jee=(e,r,...s)=>{if(r<e.logLevel)return;const a=new Date().toISOString(),n=vee[r];if(n)console[n](`[${a}]  ${e.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${r})`)};class MM{constructor(r){this.name=r,this._logLevel=bee,this._logHandler=jee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in Dr))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel=typeof r=="string"?yee[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if(typeof r!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(...r){this._userLogHandler&&this._userLogHandler(this,Dr.DEBUG,...r),this._logHandler(this,Dr.DEBUG,...r)}log(...r){this._userLogHandler&&this._userLogHandler(this,Dr.VERBOSE,...r),this._logHandler(this,Dr.VERBOSE,...r)}info(...r){this._userLogHandler&&this._userLogHandler(this,Dr.INFO,...r),this._logHandler(this,Dr.INFO,...r)}warn(...r){this._userLogHandler&&this._userLogHandler(this,Dr.WARN,...r),this._logHandler(this,Dr.WARN,...r)}error(...r){this._userLogHandler&&this._userLogHandler(this,Dr.ERROR,...r),this._logHandler(this,Dr.ERROR,...r)}}const wee=(e,r)=>r.some(s=>e instanceof s);let hP,xP;function Nee(){return hP||(hP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function See(){return xP||(xP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DM=new WeakMap,Ij=new WeakMap,LM=new WeakMap,x1=new WeakMap,b4=new WeakMap;function kee(e){const r=new Promise((s,a)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",l)},i=()=>{s(Il(e.result)),n()},l=()=>{a(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",l)});return r.then(s=>{s instanceof IDBCursor&&DM.set(s,e)}).catch(()=>{}),b4.set(r,e),r}function Cee(e){if(Ij.has(e))return;const r=new Promise((s,a)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",l),e.removeEventListener("abort",l)},i=()=>{s(),n()},l=()=>{a(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",l),e.addEventListener("abort",l)});Ij.set(e,r)}let Oj={get(e,r,s){if(e instanceof IDBTransaction){if(r==="done")return Ij.get(e);if(r==="objectStoreNames")return e.objectStoreNames||LM.get(e);if(r==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Il(e[r])},set(e,r,s){return e[r]=s,!0},has(e,r){return e instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in e}};function Pee(e){Oj=e(Oj)}function Aee(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...s){const a=e.call(p1(this),r,...s);return LM.set(a,r.sort?r.sort():[r]),Il(a)}:See().includes(e)?function(...r){return e.apply(p1(this),r),Il(DM.get(this))}:function(...r){return Il(e.apply(p1(this),r))}}function Tee(e){return typeof e=="function"?Aee(e):(e instanceof IDBTransaction&&Cee(e),wee(e,Nee())?new Proxy(e,Oj):e)}function Il(e){if(e instanceof IDBRequest)return kee(e);if(x1.has(e))return x1.get(e);const r=Tee(e);return r!==e&&(x1.set(e,r),b4.set(r,e)),r}const p1=e=>b4.get(e);function eb(e,r,{blocked:s,upgrade:a,blocking:n,terminated:i}={}){const l=indexedDB.open(e,r),o=Il(l);return a&&l.addEventListener("upgradeneeded",d=>{a(Il(l.result),d.oldVersion,d.newVersion,Il(l.transaction),d)}),s&&l.addEventListener("blocked",d=>s(d.oldVersion,d.newVersion,d)),o.then(d=>{i&&d.addEventListener("close",()=>i()),n&&d.addEventListener("versionchange",c=>n(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}function f1(e,{blocked:r}={}){const s=indexedDB.deleteDatabase(e);return r&&s.addEventListener("blocked",a=>r(a.oldVersion,a)),Il(s).then(()=>{})}const Eee=["get","getKey","getAll","getAllKeys","count"],Iee=["put","add","delete","clear"],g1=new Map;function pP(e,r){if(!(e instanceof IDBDatabase&&!(r in e)&&typeof r=="string"))return;if(g1.get(r))return g1.get(r);const s=r.replace(/FromIndex$/,""),a=r!==s,n=Iee.includes(s);if(!(s in(a?IDBIndex:IDBObjectStore).prototype)||!(n||Eee.includes(s)))return;const i=async function(l,...o){const d=this.transaction(l,n?"readwrite":"readonly");let c=d.store;return a&&(c=c.index(o.shift())),(await Promise.all([c[s](...o),n&&d.done]))[0]};return g1.set(r,i),i}Pee(e=>({...e,get:(r,s,a)=>pP(r,s)||e.get(r,s,a),has:(r,s)=>!!pP(r,s)||e.has(r,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oee{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(_ee(s)){const a=s.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(s=>s).join(" ")}}function _ee(e){const r=e.getComponent();return(r==null?void 0:r.type)==="VERSION"}const _j="@firebase/app",fP="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new MM("@firebase/app"),Mee="@firebase/app-compat",Dee="@firebase/analytics-compat",Lee="@firebase/analytics",Fee="@firebase/app-check-compat",Ree="@firebase/app-check",Bee="@firebase/auth",$ee="@firebase/auth-compat",zee="@firebase/database",Uee="@firebase/data-connect",Hee="@firebase/database-compat",Vee="@firebase/functions",Wee="@firebase/functions-compat",qee="@firebase/installations",Gee="@firebase/installations-compat",Kee="@firebase/messaging",Yee="@firebase/messaging-compat",Xee="@firebase/performance",Jee="@firebase/performance-compat",Qee="@firebase/remote-config",Zee="@firebase/remote-config-compat",ete="@firebase/storage",tte="@firebase/storage-compat",rte="@firebase/firestore",ste="@firebase/ai",ate="@firebase/firestore-compat",nte="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj="[DEFAULT]",ite={[_j]:"fire-core",[Mee]:"fire-core-compat",[Lee]:"fire-analytics",[Dee]:"fire-analytics-compat",[Ree]:"fire-app-check",[Fee]:"fire-app-check-compat",[Bee]:"fire-auth",[$ee]:"fire-auth-compat",[zee]:"fire-rtdb",[Uee]:"fire-data-connect",[Hee]:"fire-rtdb-compat",[Vee]:"fire-fn",[Wee]:"fire-fn-compat",[qee]:"fire-iid",[Gee]:"fire-iid-compat",[Kee]:"fire-fcm",[Yee]:"fire-fcm-compat",[Xee]:"fire-perf",[Jee]:"fire-perf-compat",[Qee]:"fire-rc",[Zee]:"fire-rc-compat",[ete]:"fire-gcs",[tte]:"fire-gcs-compat",[rte]:"fire-fst",[ate]:"fire-fst-compat",[ste]:"fire-vertex","fire-js":"fire-js",[nte]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=new Map,lte=new Map,Dj=new Map;function gP(e,r){try{e.container.addComponent(r)}catch(s){Vl.debug(`Component ${r.name} failed to register with FirebaseApp ${e.name}`,s)}}function Wl(e){const r=e.name;if(Dj.has(r))return Vl.debug(`There were multiple attempts to register component ${r}.`),!1;Dj.set(r,e);for(const s of sg.values())gP(s,e);for(const s of lte.values())gP(s,e);return!0}function dx(e,r){const s=e.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),e.container.getProvider(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ote={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yo=new cx("app","Firebase",ote);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{constructor(r,s,a){this._isDeleted=!1,this._options={...r},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this.checkDestroyed(),this._automaticDataCollectionEnabled=r}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(r){this._isDeleted=r}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}function FM(e,r={}){let s=e;typeof r!="object"&&(r={name:r});const a={name:Mj,automaticDataCollectionEnabled:!0,...r},n=a.name;if(typeof n!="string"||!n)throw Yo.create("bad-app-name",{appName:String(n)});if(s||(s=OM()),!s)throw Yo.create("no-options");const i=sg.get(n);if(i){if(rg(s,i.options)&&rg(a,i.config))return i;throw Yo.create("duplicate-app",{appName:n})}const l=new gee(n);for(const d of Dj.values())l.addComponent(d);const o=new cte(s,a,l);return sg.set(n,o),o}function RM(e=Mj){const r=sg.get(e);if(!r&&e===Mj&&OM())return FM();if(!r)throw Yo.create("no-app",{appName:e});return r}function el(e,r,s){let a=ite[e]??e;s&&(a+=`-${s}`);const n=a.match(/\s|\//),i=r.match(/\s|\//);if(n||i){const l=[`Unable to register library "${a}" with version "${r}":`];n&&l.push(`library name "${a}" contains illegal characters (whitespace or "/")`),n&&i&&l.push("and"),i&&l.push(`version name "${r}" contains illegal characters (whitespace or "/")`),Vl.warn(l.join(" "));return}Wl(new sl(`${a}-version`,()=>({library:a,version:r}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dte="firebase-heartbeat-database",ute=1,j0="firebase-heartbeat-store";let y1=null;function BM(){return y1||(y1=eb(dte,ute,{upgrade:(e,r)=>{switch(r){case 0:try{e.createObjectStore(j0)}catch(s){console.warn(s)}}}}).catch(e=>{throw Yo.create("idb-open",{originalErrorMessage:e.message})})),y1}async function mte(e){try{const s=(await BM()).transaction(j0),a=await s.objectStore(j0).get($M(e));return await s.done,a}catch(r){if(r instanceof Ld)Vl.warn(r.message);else{const s=Yo.create("idb-get",{originalErrorMessage:r==null?void 0:r.message});Vl.warn(s.message)}}}async function yP(e,r){try{const a=(await BM()).transaction(j0,"readwrite");await a.objectStore(j0).put(r,$M(e)),await a.done}catch(s){if(s instanceof Ld)Vl.warn(s.message);else{const a=Yo.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Vl.warn(a.message)}}}function $M(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hte=1024,xte=30;class pte{constructor(r){this.container=r,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new gte(s),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var r,s;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=bP();if(((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>xte){const l=yte(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Vl.warn(a)}}async getHeartbeatsHeader(){var r;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=bP(),{heartbeatsToSend:a,unsentEntries:n}=fte(this._heartbeatsCache.heartbeats),i=IM(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=s,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(s){return Vl.warn(s),""}}}function bP(){return new Date().toISOString().substring(0,10)}function fte(e,r=hte){const s=[];let a=e.slice();for(const n of e){const i=s.find(l=>l.agent===n.agent);if(i){if(i.dates.push(n.date),vP(s)>r){i.dates.pop();break}}else if(s.push({agent:n.agent,dates:[n.date]}),vP(s)>r){s.pop();break}a=a.slice(1)}return{heartbeatsToSend:s,unsentEntries:a}}class gte{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g4()?y4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await mte(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(r){if(await this._canUseIndexedDBPromise){const a=await this.read();return yP(this.app,{lastSentHeartbeatDate:r.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:r.heartbeats})}else return}async add(r){if(await this._canUseIndexedDBPromise){const a=await this.read();return yP(this.app,{lastSentHeartbeatDate:r.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...r.heartbeats]})}else return}}function vP(e){return IM(JSON.stringify({version:2,heartbeats:e})).length}function yte(e){if(e.length===0)return-1;let r=0,s=e[0].date;for(let a=1;a<e.length;a++)e[a].date<s&&(s=e[a].date,r=a);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bte(e){Wl(new sl("platform-logger",r=>new Oee(r),"PRIVATE")),Wl(new sl("heartbeat",r=>new pte(r),"PRIVATE")),el(_j,fP,e),el(_j,fP,"esm2020"),el("fire-js","")}bte("");const zM="@firebase/installations",v4="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=1e4,HM=`w:${v4}`,VM="FIS_v2",vte="https://firebaseinstallations.googleapis.com/v1",jte=60*60*1e3,wte="installations",Nte="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ste={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xd=new cx(wte,Nte,Ste);function WM(e){return e instanceof Ld&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM({projectId:e}){return`${vte}/projects/${e}/installations`}function GM(e){return{token:e.token,requestStatus:2,expiresIn:Cte(e.expiresIn),creationTime:Date.now()}}async function KM(e,r){const a=(await r.json()).error;return xd.create("request-failed",{requestName:e,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function YM({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function kte(e,{refreshToken:r}){const s=YM(e);return s.append("Authorization",Pte(r)),s}async function XM(e){const r=await e();return r.status>=500&&r.status<600?e():r}function Cte(e){return Number(e.replace("s","000"))}function Pte(e){return`${VM} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ate({appConfig:e,heartbeatServiceProvider:r},{fid:s}){const a=qM(e),n=YM(e),i=r.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&n.append("x-firebase-client",c)}const l={fid:s,authVersion:VM,appId:e.appId,sdkVersion:HM},o={method:"POST",headers:n,body:JSON.stringify(l)},d=await XM(()=>fetch(a,o));if(d.ok){const c=await d.json();return{fid:c.fid||s,registrationStatus:2,refreshToken:c.refreshToken,authToken:GM(c.authToken)}}else throw await KM("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(e){return new Promise(r=>{setTimeout(r,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tte(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ete=/^[cdef][\w-]{21}$/,Lj="";function Ite(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const s=Ote(e);return Ete.test(s)?s:Lj}catch{return Lj}}function Ote(e){return Tte(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=new Map;function ZM(e,r){const s=tb(e);e9(s,r),_te(s,r)}function e9(e,r){const s=QM.get(e);if(s)for(const a of s)a(r)}function _te(e,r){const s=Mte();s&&s.postMessage({key:e,fid:r}),Dte()}let $c=null;function Mte(){return!$c&&"BroadcastChannel"in self&&($c=new BroadcastChannel("[Firebase] FID Change"),$c.onmessage=e=>{e9(e.data.key,e.data.fid)}),$c}function Dte(){QM.size===0&&$c&&($c.close(),$c=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lte="firebase-installations-database",Fte=1,pd="firebase-installations-store";let b1=null;function j4(){return b1||(b1=eb(Lte,Fte,{upgrade:(e,r)=>{switch(r){case 0:e.createObjectStore(pd)}}})),b1}async function ag(e,r){const s=tb(e),n=(await j4()).transaction(pd,"readwrite"),i=n.objectStore(pd),l=await i.get(s);return await i.put(r,s),await n.done,(!l||l.fid!==r.fid)&&ZM(e,r.fid),r}async function t9(e){const r=tb(e),a=(await j4()).transaction(pd,"readwrite");await a.objectStore(pd).delete(r),await a.done}async function rb(e,r){const s=tb(e),n=(await j4()).transaction(pd,"readwrite"),i=n.objectStore(pd),l=await i.get(s),o=r(l);return o===void 0?await i.delete(s):await i.put(o,s),await n.done,o&&(!l||l.fid!==o.fid)&&ZM(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(e){let r;const s=await rb(e.appConfig,a=>{const n=Rte(a),i=Bte(e,n);return r=i.registrationPromise,i.installationEntry});return s.fid===Lj?{installationEntry:await r}:{installationEntry:s,registrationPromise:r}}function Rte(e){const r=e||{fid:Ite(),registrationStatus:0};return r9(r)}function Bte(e,r){if(r.registrationStatus===0){if(!navigator.onLine){const n=Promise.reject(xd.create("app-offline"));return{installationEntry:r,registrationPromise:n}}const s={fid:r.fid,registrationStatus:1,registrationTime:Date.now()},a=$te(e,s);return{installationEntry:s,registrationPromise:a}}else return r.registrationStatus===1?{installationEntry:r,registrationPromise:zte(e)}:{installationEntry:r}}async function $te(e,r){try{const s=await Ate(e,r);return ag(e.appConfig,s)}catch(s){throw WM(s)&&s.customData.serverCode===409?await t9(e.appConfig):await ag(e.appConfig,{fid:r.fid,registrationStatus:0}),s}}async function zte(e){let r=await jP(e.appConfig);for(;r.registrationStatus===1;)await JM(100),r=await jP(e.appConfig);if(r.registrationStatus===0){const{installationEntry:s,registrationPromise:a}=await w4(e);return a||s}return r}function jP(e){return rb(e,r=>{if(!r)throw xd.create("installation-not-found");return r9(r)})}function r9(e){return Ute(e)?{fid:e.fid,registrationStatus:0}:e}function Ute(e){return e.registrationStatus===1&&e.registrationTime+UM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hte({appConfig:e,heartbeatServiceProvider:r},s){const a=Vte(e,s),n=kte(e,s),i=r.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&n.append("x-firebase-client",c)}const l={installation:{sdkVersion:HM,appId:e.appId}},o={method:"POST",headers:n,body:JSON.stringify(l)},d=await XM(()=>fetch(a,o));if(d.ok){const c=await d.json();return GM(c)}else throw await KM("Generate Auth Token",d)}function Vte(e,{fid:r}){return`${qM(e)}/${r}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(e,r=!1){let s;const a=await rb(e.appConfig,i=>{if(!s9(i))throw xd.create("not-registered");const l=i.authToken;if(!r&&Gte(l))return i;if(l.requestStatus===1)return s=Wte(e,r),i;{if(!navigator.onLine)throw xd.create("app-offline");const o=Yte(i);return s=qte(e,o),o}});return s?await s:a.authToken}async function Wte(e,r){let s=await wP(e.appConfig);for(;s.authToken.requestStatus===1;)await JM(100),s=await wP(e.appConfig);const a=s.authToken;return a.requestStatus===0?N4(e,r):a}function wP(e){return rb(e,r=>{if(!s9(r))throw xd.create("not-registered");const s=r.authToken;return Xte(s)?{...r,authToken:{requestStatus:0}}:r})}async function qte(e,r){try{const s=await Hte(e,r),a={...r,authToken:s};return await ag(e.appConfig,a),s}catch(s){if(WM(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await t9(e.appConfig);else{const a={...r,authToken:{requestStatus:0}};await ag(e.appConfig,a)}throw s}}function s9(e){return e!==void 0&&e.registrationStatus===2}function Gte(e){return e.requestStatus===2&&!Kte(e)}function Kte(e){const r=Date.now();return r<e.creationTime||e.creationTime+e.expiresIn<r+jte}function Yte(e){const r={requestStatus:1,requestTime:Date.now()};return{...e,authToken:r}}function Xte(e){return e.requestStatus===1&&e.requestTime+UM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jte(e){const r=e,{installationEntry:s,registrationPromise:a}=await w4(r);return a?a.catch(console.error):N4(r).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qte(e,r=!1){const s=e;return await Zte(s),(await N4(s,r)).token}async function Zte(e){const{registrationPromise:r}=await w4(e);r&&await r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ere(e){if(!e||!e.options)throw v1("App Configuration");if(!e.name)throw v1("App Name");const r=["projectId","apiKey","appId"];for(const s of r)if(!e.options[s])throw v1(s);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function v1(e){return xd.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9="installations",tre="installations-internal",rre=e=>{const r=e.getProvider("app").getImmediate(),s=ere(r),a=dx(r,"heartbeat");return{app:r,appConfig:s,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},sre=e=>{const r=e.getProvider("app").getImmediate(),s=dx(r,a9).getImmediate();return{getId:()=>Jte(s),getToken:n=>Qte(s,n)}};function are(){Wl(new sl(a9,rre,"PUBLIC")),Wl(new sl(tre,sre,"PRIVATE"))}are();el(zM,v4);el(zM,v4,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nre="/firebase-messaging-sw.js",ire="/firebase-cloud-messaging-push-scope",n9="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",lre="https://fcmregistrations.googleapis.com/v1",i9="google.c.a.c_id",ore="google.c.a.c_l",cre="google.c.a.ts",dre="google.c.a.e",NP=1e4;var SP;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(SP||(SP={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var w0;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(w0||(w0={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(e){const r=new Uint8Array(e);return btoa(String.fromCharCode(...r)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ure(e){const r="=".repeat((4-e.length%4)%4),s=(e+r).replace(/\-/g,"+").replace(/_/g,"/"),a=atob(s),n=new Uint8Array(a.length);for(let i=0;i<a.length;++i)n[i]=a.charCodeAt(i);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="fcm_token_details_db",mre=5,kP="fcm_token_object_Store";async function hre(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(j1))return null;let r=null;return(await eb(j1,mre,{upgrade:async(a,n,i,l)=>{if(n<2||!a.objectStoreNames.contains(kP))return;const o=l.objectStore(kP),d=await o.index("fcmSenderId").get(e);if(await o.clear(),!!d){if(n===2){const c=d;if(!c.auth||!c.p256dh||!c.endpoint)return;r={token:c.fcmToken,createTime:c.createTime??Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:pl(c.vapidKey)}}}else if(n===3){const c=d;r={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:pl(c.auth),p256dh:pl(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:pl(c.vapidKey)}}}else if(n===4){const c=d;r={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:pl(c.auth),p256dh:pl(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:pl(c.vapidKey)}}}}}})).close(),await f1(j1),await f1("fcm_vapid_details_db"),await f1("undefined"),xre(r)?r:null}function xre(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:r}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof r.auth=="string"&&r.auth.length>0&&typeof r.p256dh=="string"&&r.p256dh.length>0&&typeof r.endpoint=="string"&&r.endpoint.length>0&&typeof r.swScope=="string"&&r.swScope.length>0&&typeof r.vapidKey=="string"&&r.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pre="firebase-messaging-database",fre=1,N0="firebase-messaging-store";let w1=null;function l9(){return w1||(w1=eb(pre,fre,{upgrade:(e,r)=>{switch(r){case 0:e.createObjectStore(N0)}}})),w1}async function gre(e){const r=o9(e),a=await(await l9()).transaction(N0).objectStore(N0).get(r);if(a)return a;{const n=await hre(e.appConfig.senderId);if(n)return await S4(e,n),n}}async function S4(e,r){const s=o9(e),n=(await l9()).transaction(N0,"readwrite");return await n.objectStore(N0).put(r,s),await n.done,r}function o9({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yre={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ba=new cx("messaging","Messaging",yre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bre(e,r){const s=await C4(e),a=c9(r),n={method:"POST",headers:s,body:JSON.stringify(a)};let i;try{i=await(await fetch(k4(e.appConfig),n)).json()}catch(l){throw ba.create("token-subscribe-failed",{errorInfo:l==null?void 0:l.toString()})}if(i.error){const l=i.error.message;throw ba.create("token-subscribe-failed",{errorInfo:l})}if(!i.token)throw ba.create("token-subscribe-no-token");return i.token}async function vre(e,r){const s=await C4(e),a=c9(r.subscriptionOptions),n={method:"PATCH",headers:s,body:JSON.stringify(a)};let i;try{i=await(await fetch(`${k4(e.appConfig)}/${r.token}`,n)).json()}catch(l){throw ba.create("token-update-failed",{errorInfo:l==null?void 0:l.toString()})}if(i.error){const l=i.error.message;throw ba.create("token-update-failed",{errorInfo:l})}if(!i.token)throw ba.create("token-update-no-token");return i.token}async function jre(e,r){const a={method:"DELETE",headers:await C4(e)};try{const i=await(await fetch(`${k4(e.appConfig)}/${r}`,a)).json();if(i.error){const l=i.error.message;throw ba.create("token-unsubscribe-failed",{errorInfo:l})}}catch(n){throw ba.create("token-unsubscribe-failed",{errorInfo:n==null?void 0:n.toString()})}}function k4({projectId:e}){return`${lre}/projects/${e}/registrations`}async function C4({appConfig:e,installations:r}){const s=await r.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${s}`})}function c9({p256dh:e,auth:r,endpoint:s,vapidKey:a}){const n={web:{endpoint:s,auth:r,p256dh:e}};return a!==n9&&(n.web.applicationPubKey=a),n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wre=7*24*60*60*1e3;async function Nre(e){const r=await kre(e.swRegistration,e.vapidKey),s={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:r.endpoint,auth:pl(r.getKey("auth")),p256dh:pl(r.getKey("p256dh"))},a=await gre(e.firebaseDependencies);if(a){if(Cre(a.subscriptionOptions,s))return Date.now()>=a.createTime+wre?Sre(e,{token:a.token,createTime:Date.now(),subscriptionOptions:s}):a.token;try{await jre(e.firebaseDependencies,a.token)}catch(n){console.warn(n)}return CP(e.firebaseDependencies,s)}else return CP(e.firebaseDependencies,s)}async function Sre(e,r){try{const s=await vre(e.firebaseDependencies,r),a={...r,token:s,createTime:Date.now()};return await S4(e.firebaseDependencies,a),s}catch(s){throw s}}async function CP(e,r){const a={token:await bre(e,r),createTime:Date.now(),subscriptionOptions:r};return await S4(e,a),a.token}async function kre(e,r){const s=await e.pushManager.getSubscription();return s||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ure(r)})}function Cre(e,r){const s=r.vapidKey===e.vapidKey,a=r.endpoint===e.endpoint,n=r.auth===e.auth,i=r.p256dh===e.p256dh;return s&&a&&n&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(e){const r={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return Pre(r,e),Are(r,e),Tre(r,e),r}function Pre(e,r){if(!r.notification)return;e.notification={};const s=r.notification.title;s&&(e.notification.title=s);const a=r.notification.body;a&&(e.notification.body=a);const n=r.notification.image;n&&(e.notification.image=n);const i=r.notification.icon;i&&(e.notification.icon=i)}function Are(e,r){r.data&&(e.data=r.data)}function Tre(e,r){var n,i,l,o;if(!r.fcmOptions&&!((n=r.notification)!=null&&n.click_action))return;e.fcmOptions={};const s=((i=r.fcmOptions)==null?void 0:i.link)??((l=r.notification)==null?void 0:l.click_action);s&&(e.fcmOptions.link=s);const a=(o=r.fcmOptions)==null?void 0:o.analytics_label;a&&(e.fcmOptions.analyticsLabel=a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ere(e){return typeof e=="object"&&!!e&&i9 in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ire(e){if(!e||!e.options)throw N1("App Configuration Object");if(!e.name)throw N1("App Name");const r=["projectId","apiKey","appId","messagingSenderId"],{options:s}=e;for(const a of r)if(!s[a])throw N1(a);return{appName:e.name,projectId:s.projectId,apiKey:s.apiKey,appId:s.appId,senderId:s.messagingSenderId}}function N1(e){return ba.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ore{constructor(r,s,a){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const n=Ire(r);this.firebaseDependencies={app:r,appConfig:n,installations:s,analyticsProvider:a}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _re(e){try{e.swRegistration=await navigator.serviceWorker.register(nre,{scope:ire}),e.swRegistration.update().catch(()=>{}),await Mre(e.swRegistration)}catch(r){throw ba.create("failed-service-worker-registration",{browserErrorMessage:r==null?void 0:r.message})}}async function Mre(e){return new Promise((r,s)=>{const a=setTimeout(()=>s(new Error(`Service worker not registered after ${NP} ms`)),NP),n=e.installing||e.waiting;e.active?(clearTimeout(a),r()):n?n.onstatechange=i=>{var l;((l=i.target)==null?void 0:l.state)==="activated"&&(n.onstatechange=null,clearTimeout(a),r())}:(clearTimeout(a),s(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dre(e,r){if(!r&&!e.swRegistration&&await _re(e),!(!r&&e.swRegistration)){if(!(r instanceof ServiceWorkerRegistration))throw ba.create("invalid-sw-registration");e.swRegistration=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lre(e,r){r?e.vapidKey=r:e.vapidKey||(e.vapidKey=n9)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9(e,r){if(!navigator)throw ba.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ba.create("permission-blocked");return await Lre(e,r==null?void 0:r.vapidKey),await Dre(e,r==null?void 0:r.serviceWorkerRegistration),Nre(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fre(e,r,s){const a=Rre(r);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(a,{message_id:s[i9],message_name:s[ore],message_time:s[cre],message_device_time:Math.floor(Date.now()/1e3)})}function Rre(e){switch(e){case w0.NOTIFICATION_CLICKED:return"notification_open";case w0.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bre(e,r){const s=r.data;if(!s.isFirebaseMessaging)return;e.onMessageHandler&&s.messageType===w0.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(PP(s)):e.onMessageHandler.next(PP(s)));const a=s.data;Ere(a)&&a[dre]==="1"&&await Fre(e,s.messageType,a)}const AP="@firebase/messaging",TP="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $re=e=>{const r=new Ore(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",s=>Bre(r,s)),r},zre=e=>{const r=e.getProvider("messaging").getImmediate();return{getToken:a=>d9(r,a)}};function Ure(){Wl(new sl("messaging",$re,"PUBLIC")),Wl(new sl("messaging-internal",zre,"PRIVATE")),el(AP,TP),el(AP,TP,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9(){try{await y4()}catch{return!1}return typeof window<"u"&&g4()&&_M()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hre(e,r){if(!navigator)throw ba.create("only-available-in-window");return e.onMessageHandler=r,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vre(e=RM()){return u9().then(r=>{if(!r)throw ba.create("unsupported-browser")},r=>{throw ba.create("indexed-db-unsupported")}),dx(Cm(e),"messaging").getImmediate()}async function Wre(e,r){return e=Cm(e),d9(e,r)}function qre(e,r){return e=Cm(e),Hre(e,r)}Ure();var Gre="firebase",Kre="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */el(Gre,Kre,"app");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="analytics",Yre="firebase_id",Xre="origin",Jre=60*1e3,Qre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",P4="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new MM("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zre={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Cn=new cx("analytics","Analytics",Zre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ese(e){if(!e.startsWith(P4)){const r=Cn.create("invalid-gtag-resource",{gtagURL:e});return Ra.warn(r.message),""}return e}function m9(e){return Promise.all(e.map(r=>r.catch(s=>s)))}function tse(e,r){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(e,r)),s}function rse(e,r){const s=tse("firebase-js-sdk-policy",{createScriptURL:ese}),a=document.createElement("script"),n=`${P4}?l=${e}&id=${r}`;a.src=s?s==null?void 0:s.createScriptURL(n):n,a.async=!0,document.head.appendChild(a)}function sse(e){let r=[];return Array.isArray(window[e])?r=window[e]:window[e]=r,r}async function ase(e,r,s,a,n,i){const l=a[n];try{if(l)await r[l];else{const d=(await m9(s)).find(c=>c.measurementId===n);d&&await r[d.appId]}}catch(o){Ra.error(o)}e("config",n,i)}async function nse(e,r,s,a,n){try{let i=[];if(n&&n.send_to){let l=n.send_to;Array.isArray(l)||(l=[l]);const o=await m9(s);for(const d of l){const c=o.find(m=>m.measurementId===d),u=c&&r[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(r)),await Promise.all(i),e("event",a,n||{})}catch(i){Ra.error(i)}}function ise(e,r,s,a){async function n(i,...l){try{if(i==="event"){const[o,d]=l;await nse(e,r,s,o,d)}else if(i==="config"){const[o,d]=l;await ase(e,r,s,a,o,d)}else if(i==="consent"){const[o,d]=l;e("consent",o,d)}else if(i==="get"){const[o,d,c]=l;e("get",o,d,c)}else if(i==="set"){const[o]=l;e("set",o)}else e(i,...l)}catch(o){Ra.error(o)}}return n}function lse(e,r,s,a,n){let i=function(...l){window[a].push(arguments)};return window[n]&&typeof window[n]=="function"&&(i=window[n]),window[n]=ise(i,e,r,s),{gtagCore:i,wrappedGtag:window[n]}}function ose(e){const r=window.document.getElementsByTagName("script");for(const s of Object.values(r))if(s.src&&s.src.includes(P4)&&s.src.includes(e))return s;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cse=30,dse=1e3;class use{constructor(r={},s=dse){this.throttleMetadata=r,this.intervalMillis=s}getThrottleMetadata(r){return this.throttleMetadata[r]}setThrottleMetadata(r,s){this.throttleMetadata[r]=s}deleteThrottleMetadata(r){delete this.throttleMetadata[r]}}const h9=new use;function mse(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function hse(e){var l;const{appId:r,apiKey:s}=e,a={method:"GET",headers:mse(s)},n=Qre.replace("{app-id}",r),i=await fetch(n,a);if(i.status!==200&&i.status!==304){let o="";try{const d=await i.json();(l=d.error)!=null&&l.message&&(o=d.error.message)}catch{}throw Cn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function xse(e,r=h9,s){const{appId:a,apiKey:n,measurementId:i}=e.options;if(!a)throw Cn.create("no-app-id");if(!n){if(i)return{measurementId:i,appId:a};throw Cn.create("no-api-key")}const l=r.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new gse;return setTimeout(async()=>{o.abort()},Jre),x9({appId:a,apiKey:n,measurementId:i},l,o,r)}async function x9(e,{throttleEndTimeMillis:r,backoffCount:s},a,n=h9){var o;const{appId:i,measurementId:l}=e;try{await pse(a,r)}catch(d){if(l)return Ra.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:l};throw d}try{const d=await hse(e);return n.deleteThrottleMetadata(i),d}catch(d){const c=d;if(!fse(c)){if(n.deleteThrottleMetadata(i),l)return Ra.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:l};throw d}const u=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?mP(s,n.intervalMillis,cse):mP(s,n.intervalMillis),m={throttleEndTimeMillis:Date.now()+u,backoffCount:s+1};return n.setThrottleMetadata(i,m),Ra.debug(`Calling attemptFetch again in ${u} millis`),x9(e,m,a,n)}}function pse(e,r){return new Promise((s,a)=>{const n=Math.max(r-Date.now(),0),i=setTimeout(s,n);e.addEventListener(()=>{clearTimeout(i),a(Cn.create("fetch-throttle",{throttleEndTimeMillis:r}))})})}function fse(e){if(!(e instanceof Ld)||!e.customData)return!1;const r=Number(e.customData.httpStatus);return r===429||r===500||r===503||r===504}class gse{constructor(){this.listeners=[]}addEventListener(r){this.listeners.push(r)}abort(){this.listeners.forEach(r=>r())}}async function yse(e,r,s,a,n){if(n&&n.global){e("event",s,a);return}else{const i=await r,l={...a,send_to:i};e("event",s,l)}}async function bse(e,r,s,a){if(a&&a.global){const n={};for(const i of Object.keys(s))n[`user_properties.${i}`]=s[i];return e("set",n),Promise.resolve()}else{const n=await r;e("config",n,{update:!0,user_properties:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vse(){if(g4())try{await y4()}catch(e){return Ra.warn(Cn.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ra.warn(Cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function jse(e,r,s,a,n,i,l){const o=xse(e);o.then(x=>{s[x.measurementId]=x.appId,e.options.measurementId&&x.measurementId!==e.options.measurementId&&Ra.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Ra.error(x)),r.push(o);const d=vse().then(x=>{if(x)return a.getId()}),[c,u]=await Promise.all([o,d]);ose(i)||rse(i,c.measurementId),n("js",new Date);const m=(l==null?void 0:l.config)??{};return m[Xre]="firebase",m.update=!0,u!=null&&(m[Yre]=u),n("config",c.measurementId,m),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wse{constructor(r){this.app=r}_delete(){return delete Lu[this.app.options.appId],Promise.resolve()}}let Lu={},EP=[];const IP={};let S1="dataLayer",Nse="gtag",OP,A4,_P=!1;function Sse(){const e=[];if(iee()&&e.push("This is a browser extension environment."),_M()||e.push("Cookies are not available."),e.length>0){const r=e.map((a,n)=>`(${n+1}) ${a}`).join(" "),s=Cn.create("invalid-analytics-context",{errorInfo:r});Ra.warn(s.message)}}function kse(e,r,s){Sse();const a=e.options.appId;if(!a)throw Cn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ra.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Cn.create("no-api-key");if(Lu[a]!=null)throw Cn.create("already-exists",{id:a});if(!_P){sse(S1);const{wrappedGtag:i,gtagCore:l}=lse(Lu,EP,IP,S1,Nse);A4=i,OP=l,_P=!0}return Lu[a]=jse(e,EP,IP,r,OP,S1,s),new wse(e)}function Cse(e=RM()){e=Cm(e);const r=dx(e,ng);return r.isInitialized()?r.getImmediate():Pse(e)}function Pse(e,r={}){const s=dx(e,ng);if(s.isInitialized()){const n=s.getImmediate();if(rg(r,s.getOptions()))return n;throw Cn.create("already-initialized")}return s.initialize({options:r})}function Ase(e,r,s){e=Cm(e),bse(A4,Lu[e.app.options.appId],r,s).catch(a=>Ra.error(a))}function Tse(e,r,s,a){e=Cm(e),yse(A4,Lu[e.app.options.appId],r,s,a).catch(n=>Ra.error(n))}const MP="@firebase/analytics",DP="0.10.19";function Ese(){Wl(new sl(ng,(r,{options:s})=>{const a=r.getProvider("app").getImmediate(),n=r.getProvider("installations-internal").getImmediate();return kse(a,n,s)},"PUBLIC")),Wl(new sl("analytics-internal",e,"PRIVATE")),el(MP,DP),el(MP,DP,"esm2020");function e(r){try{const s=r.getProvider(ng).getImmediate();return{logEvent:(a,n,i)=>Tse(s,a,n,i),setUserProperties:(a,n)=>Ase(s,a,n)}}catch(s){throw Cn.create("interop-component-reg-failed",{reason:s})}}}Ese();const Ise={apiKey:"AIzaSyAwED6Sq3-6cUPJ4QcCdj6xAqEiXfP0J9c",authDomain:"nexo-7fc25.firebaseapp.com",projectId:"nexo-7fc25",storageBucket:"nexo-7fc25.firebasestorage.app",messagingSenderId:"592565521792",appId:"1:592565521792:web:0842ec948362df3e720565",measurementId:"G-11HMWKHPJY"},p9=FM(Ise);typeof window<"u"&&Cse(p9);const Ose="BC4rz7vzSsS59jhKkTcwex63a_XBnJEnBwaEDWpdM_Epk5NGztNTl27jN31usSSOEanFSX6HZuRe96JyAZbPjRg";let Gi=null;const f9=async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.getRegistration("/");if(e)return e;const r=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/"});return await navigator.serviceWorker.ready,r}catch(e){return console.error("Service Worker registration failed:",e),null}return null},g9=async()=>{if(typeof window>"u"||!await u9())return null;await f9();try{return Gi=Vre(p9),Gi}catch(r){return console.error("Error initializing Firebase Messaging:",r),null}},y9=async()=>{if(typeof window>"u"||!("Notification"in window))return null;try{let e=Notification.permission;if(e==="default")try{e=await Notification.requestPermission()}catch(a){return console.error("Error requesting notification permission:",a),null}else if(e==="denied")return null;if(e!=="granted"||(await f9(),await new Promise(a=>setTimeout(a,1e3)),Gi||(Gi=await g9()),!Gi))return null;let r=null,s=3;for(;!r&&s>0;)try{if(r=await Wre(Gi,{vapidKey:Ose}),r)return r}catch{s--,s>0&&await new Promise(n=>setTimeout(n,1e3))}return r||null}catch(e){return console.error("Error getting FCM token:",e),null}};let jc=null,k1=null;const _se=async e=>{try{if(jc&&k1===e)return jc;if(jc&&typeof jc=="function"&&(jc(),jc=null,k1=null),Gi||(Gi=await g9()),!Gi)return null;const r=qre(Gi,s=>{e&&e(s)});return jc=r,k1=e,r}catch(r){return console.error("Error setting up message listener:",r),null}},LP=()=>{try{const e=window.AudioContext||window.webkitAudioContext;if(!e){console.log("Web Audio API not available, browser notification will use default sound");return}const r=new e;r.state==="suspended"?r.resume().then(()=>{console.log("AudioContext resumed, playing notification sound"),FP(r)}).catch(s=>{console.warn("Could not resume AudioContext:",s),console.log("Browser notification will use default sound")}):FP(r)}catch(e){console.warn("Could not play notification sound:",e),console.log("Browser notification will use default sound")}},FP=e=>{try{const r=e.createOscillator(),s=e.createGain();r.connect(s),s.connect(e.destination),r.frequency.value=800,r.type="sine";const a=e.currentTime;s.gain.setValueAtTime(0,a),s.gain.linearRampToValueAtTime(.3,a+.01),s.gain.exponentialRampToValueAtTime(.01,a+.2),r.start(a),r.stop(a+.2),r.onended=()=>{try{e.close()}catch{}}}catch(r){console.warn("Error playing beep sound:",r)}},T4=(e,r,s)=>{const[a,n]=g.useState([]),[i,l]=g.useState(null),[o,d]=g.useState(!1),[c,u]=g.useState(0),[m,x]=g.useState(null),h=g.useRef(null),p=g.useRef(null),f=g.useCallback(async()=>{if(!(!s||!r))try{const v=await y9();if(v&&(e!=null&&e.updateFCMToken)){l(v);try{await e.updateFCMToken(r,v)}catch(N){console.error("Error sending FCM token to backend:",N)}}}catch(v){console.error("Error initializing notifications:",v)}},[s,r,e]),b=g.useCallback(async(v=!1)=>{if(!(!s||!r||!(e!=null&&e.getNotifications))){d(!0);try{const N=await e.getNotifications(r);let S=[];if(N.success&&N.notifications?S=N.notifications:Array.isArray(N)&&(S=N),S.length>0&&p.current){const P=S[0];P._id&&P._id!==p.current&&(v&&!P.read&&!P.seen&&(x(P),LP()),p.current=P._id)}else if(S.length>0){const P=S[0];P._id&&(p.current=P._id)}n(S);const k=S.filter(P=>!P.read).length;u(k)}catch(N){console.error("Error fetching notifications:",N),N.message&&N.message.includes("ERR_CONNECTION_REFUSED"),n([]),u(0)}finally{d(!1)}}},[s,r,e]),j=g.useCallback(async(v=null)=>{if(!(!s||!r||!e))try{if(v&&e.markNotificationAsRead)u(N=>Math.max(0,N-1)),await e.markNotificationAsRead(r,v);else if(e.markNotificationsAsRead)u(0),await e.markNotificationsAsRead(r);else return;await b()}catch(N){console.error("Error marking notifications as read:",N),await b()}},[s,r,e,b]);g.useEffect(()=>{if(!s)return;let v=null;return(async()=>{try{v=await _se(S=>{var re,xe,we,T,z,Q,B,L,R,Z,W,ie,ae,M;const k=((re=S.notification)==null?void 0:re.title)||((xe=S.data)==null?void 0:xe.title)||"New Notification",P=((we=S.notification)==null?void 0:we.body)||((T=S.data)==null?void 0:T.message)||"You have a new notification",C=((z=S.data)==null?void 0:z.type)||((Q=S.data)==null?void 0:Q.notificationType)||"new-notification",_=((B=S.data)==null?void 0:B.isStatusChange)==="true"||C==="status-change",A=((L=S.notification)==null?void 0:L.icon)||((R=S.data)==null?void 0:R.icon),D=((Z=S.notification)==null?void 0:Z.image)||((W=S.data)==null?void 0:W.image);if(LP(),S.notification||S.data){const U=oe=>oe?oe.startsWith("http://")||oe.startsWith("https://")?oe:oe.startsWith("/")?`${window.location.origin}${oe}`:`${window.location.origin}/${oe}`:`${window.location.origin}/android-chrome-192x192.png`,q=U(A)||`${window.location.origin}/android-chrome-192x192.png`,G=`${window.location.origin}/android-chrome-192x192.png`,Y=D?U(D):null;if("Notification"in window&&Notification.permission==="granted"){const oe={body:P,icon:q,badge:G,tag:C,data:S.data,timestamp:Date.now(),vibrate:[200,100,200],silent:!1,...Y&&{image:Y}},Be=new Notification(k,oe);Be.onclick=()=>{var fe;window.focus(),Be.close(),((fe=S.data)==null?void 0:fe.type)==="new-notification"&&b()}}}const H={_id:((ie=S.data)==null?void 0:ie.notificationId)||((ae=S.data)==null?void 0:ae.userId)||((M=S.data)==null?void 0:M.adminId)||Date.now().toString(),title:k,message:P,type:_?"status-change":C||"info",icon:A,image:D,read:!1,seen:!1,createdAt:new Date,isStatusChange:_};x(H),_&&window.dispatchEvent(new CustomEvent("vendorStatusChange",{detail:{title:k,message:P}})),setTimeout(async()=>{try{await b(!1)}catch(U){console.error("Error refreshing notifications list:",U)}},1e3)})}catch(S){console.error("Error setting up message listener:",S)}})(),s&&r&&(e!=null&&e.getNotifications)&&b(!1),()=>{v&&typeof v=="function"&&v(),h.current&&(clearInterval(h.current),h.current=null)}},[s,b,r,e]),g.useEffect(()=>{s&&r&&f()},[s,r,f]),g.useEffect(()=>{const v=()=>{s&&r&&f()};return window.addEventListener("notificationPermissionGranted",v),()=>{window.removeEventListener("notificationPermissionGranted",v)}},[s,r,f]);const w=g.useCallback(()=>{x(null)},[]),y=g.useCallback(async v=>{await j(v),x(null)},[j]);return{notifications:a,fcmToken:i,isLoading:o,unreadCount:c,currentNotification:m,fetchNotifications:b,markAsRead:j,initializeNotifications:f,closeNotificationDialog:w,markNotificationAsRead:y}},C1="https://nexo.works",Me=e=>e.startsWith("/admin/bookings")?`${C1}${e}`:e.startsWith("/api/")?`${C1}${e}`:`${C1}/api/admin${e}`,De=e=>{const r={"Content-Type":"application/json"};return e&&(r.Authorization=`Bearer ${e}`),r},Le=async e=>{const r=e.headers.get("content-type")||"",s=r.includes("application/json"),a=r.includes("text/html"),n=await e.text();if(a||n.trim().startsWith("<!")&&n.trim().toLowerCase().includes("html")){const l=new Error(`Server returned HTML instead of JSON (Status: ${e.status}). This usually means the endpoint doesn't exist or there's a server error.`);throw l.status=e.status,l.isHtml=!0,l.htmlPreview=n.substring(0,500),l}if(!n||n.trim()===""){if(!e.ok){const l=new Error("Empty response from server");throw l.status=e.status,l}return{success:!0,message:"Operation completed successfully"}}let i;if(s)try{i=JSON.parse(n)}catch{if(n.trim().startsWith("<!")){const o=new Error("Server returned HTML instead of JSON");throw o.status=e.status,o.isHtml=!0,o.htmlPreview=n.substring(0,500),o}i=n}else i=n;if(!e.ok){const l=new Error((i==null?void 0:i.message)||(i==null?void 0:i.error)||"Request failed");throw l.status=e.status,l.data=i,l}return i},qe={async login(e){const r=await fetch(Me("/api/admin/login"),{method:"POST",headers:De(),body:JSON.stringify(e)});return await Le(r)},async fetchDashboard(e){const r=await fetch(Me("/api/admin/dashboard"),{headers:De(e)});return await Le(r)},async fetchDashboardCounts(e){const r=await fetch(Me("/api/admin/dashboard/counts"),{headers:De(e)});return await Le(r)},async fetchVendors(e,r={}){const s=new URLSearchParams({page:r.page||1,limit:r.limit||10,...r.search&&{search:r.search},...r.status&&{status:r.status}}).toString(),a=await fetch(Me(`/api/admin/vendors?${s}`),{headers:De(e)});return await Le(a)},async getVendorDetails(e,r){const s=await fetch(Me(`/api/admin/vendors/${r}`),{headers:De(e)});return Le(s)},async createVendor(e,r){const s=await fetch(Me("/api/admin/vendors"),{method:"POST",headers:De(e),body:JSON.stringify(r)});return Le(s)},async updateVendor(e,r,s){const a=await fetch(Me(`/api/admin/vendors/${r}`),{method:"PUT",headers:De(e),body:JSON.stringify(s)});return Le(a)},async updateVendorStatus(e,r,s){const a=await fetch(Me(`/api/admin/vendors/${r}/status`),{method:"PUT",headers:De(e),body:JSON.stringify({status:s})});return Le(a)},async deleteVendor(e,r){const s=await fetch(Me(`/api/admin/vendors/${r}`),{method:"DELETE",headers:De(e)});return Le(s)},async fetchVendorSpareParts(e,r={}){const s=new URLSearchParams;r.vendorId&&s.append("vendorId",r.vendorId),r.category&&s.append("category",r.category),r.status&&s.append("status",r.status),r.search&&s.append("search",r.search);const a=s.toString(),n=Me(`/api/admin/vendors/spare-parts${a?`?${a}`:""}`),i=await fetch(n,{headers:De(e)});return Le(i)},async fetchVendorSparePartsByVendor(e,r,s={}){const a=new URLSearchParams;s.category&&a.append("category",s.category),s.status&&a.append("status",s.status),s.search&&a.append("search",s.search);const n=a.toString(),i=Me(`/api/admin/vendors/${r}/spare-parts${n?`?${n}`:""}`),l=await fetch(i,{headers:De(e)});return Le(l)},async fetchPartners(e,r={}){const s=new URLSearchParams({page:r.page||1,limit:r.limit||10,...r.search&&{search:r.search},...r.status&&{status:r.status}}).toString(),a=await fetch(Me(`/api/admin/partners?${s}`),{headers:De(e)});return await Le(a)},async fetchPartnerRevenueStats(e){const r=await fetch(Me("/partners-revenue-stats"),{headers:De(e)});return await Le(r)},async fetchPendingKYC(e){const r=await fetch(Me("/api/admin/partners/kyc/pending"),{headers:De(e)});return await Le(r)},async fetchPartnerDetails(e,r){const s=await fetch(Me(`/api/admin/partners/${r}`),{headers:De(e)});return await Le(s)},async updatePartnerStatus(e,r,s,a){const n=await fetch(Me(`/api/admin/partners/${r}/status`),{method:"PUT",headers:De(e),body:JSON.stringify({status:s,remarks:a})});return Le(n)},async verifyPartnerKYC(e,r){const s=await fetch(Me(`/api/admin/partners/${r}/kyc`),{method:"PUT",headers:De(e)});return Le(s)},async updatePartnerProfile(e,r,s){const a=Me(`/api/admin/updatePartnerProfile/${r}`),n=await fetch(a,{method:"PUT",headers:De(e),body:JSON.stringify(s)});return Le(n)},async approvePartnerPayment(e,r,s){const a=await fetch(Me(`/api/admin/partners/${r}/approve-payment`),{method:"PUT",headers:De(e),body:JSON.stringify(s)});return Le(a)},async suspendPartner(e,r){const s=await fetch(Me(`/api/admin/partner/${r}/status`),{method:"PUT",headers:De(e),body:JSON.stringify({status:"inactive"})});return Le(s)},async activatePartner(e,r){const s=await fetch(Me(`/api/admin/partner/${r}/status`),{method:"PUT",headers:De(e),body:JSON.stringify({status:"active"})});return Le(s)},async deletePartner(e,r){const s=await fetch(Me(`/api/admin/deletepartner/${r}`),{method:"DELETE",headers:De(e)});return Le(s)},async fetchBookings(e,r={}){const s=new URLSearchParams({page:r.page||1,limit:r.limit||10,status:r.status||"all",...r.fromDate&&{fromDate:r.fromDate},...r.toDate&&{toDate:r.toDate},...r.search&&{search:r.search}}).toString(),a=await fetch(Me(`/api/admin/bookings/bookings?${s}`),{headers:De(e)});return await Le(a)},async assignBooking(e,r,s,a){const n=await fetch(Me("/api/admin/bookings/assign-partner"),{method:"PUT",headers:De(e),body:JSON.stringify({bookingId:r,partnerId:s,teamMemberId:a})});return Le(n)},async fetchTeamMembers(e,r={}){const s=new URLSearchParams({...r.status&&{status:r.status}}).toString(),a=await fetch(Me(`/api/admin/team-members${s?`?${s}`:""}`),{headers:De(e)});return await Le(a)},async completeBooking(e,r){const s=await fetch(Me(`/api/admin/bookings/${r}/complete`),{method:"PUT",headers:De(e)});return Le(s)},async createManualBooking(e,r){const s=await fetch(Me("/api/admin/bookings/create"),{method:"POST",headers:De(e),body:JSON.stringify(r)});return Le(s)},async fetchUsers(e,r={}){const s=new URLSearchParams({page:r.page||1,limit:r.limit||10,...r.search&&{search:r.search},...r.status&&{status:r.status}}).toString(),a=await fetch(Me(`/api/admin/users?${s}`),{headers:De(e)});return await Le(a)},async fetchRevenueAnalytics(e,r={}){const s=new URLSearchParams({...r.startDate&&{startDate:r.startDate},...r.endDate&&{endDate:r.endDate}}).toString(),a=await fetch(Me(`/api/admin/reports/revenue?${s}`),{headers:De(e)}),n=await Le(a);return(n==null?void 0:n.data)||n},async fetchPartnerPerformance(e){const r=await fetch(Me("/api/admin/reports/partners/performance"),{headers:De(e)}),s=await Le(r);return(s==null?void 0:s.data)||s},async fetchUserAnalytics(e){const r=await fetch(Me("/api/admin/reports/users"),{headers:De(e)}),s=await Le(r);return(s==null?void 0:s.data)||s},async fetchCategoryRevenue(e,r={}){const s=new URLSearchParams({...r.startDate&&{startDate:r.startDate},...r.endDate&&{endDate:r.endDate}}).toString(),a=await fetch(Me(`/api/admin/reports/category-revenue?${s}`),{headers:De(e)}),n=await Le(a);return(n==null?void 0:n.data)||n},async fetchTransactionReport(e,r={}){const s=new URLSearchParams({...r.startDate&&{startDate:r.startDate},...r.endDate&&{endDate:r.endDate},...r.status&&{status:r.status}}).toString(),a=await fetch(Me(`/api/admin/reports/transactions?${s}`),{headers:De(e)}),n=await Le(a);return(n==null?void 0:n.data)||n},async fetchLeads(e,r={}){const s=new URLSearchParams({...r.page&&{page:r.page.toString()},...r.limit&&{limit:r.limit.toString()},...r.status&&r.status!=="all"&&{status:r.status},...r.city&&{city:r.city},...r.allocationStrategy&&r.allocationStrategy!=="all"&&{allocationStrategy:r.allocationStrategy},...r.startDate&&{startDate:r.startDate},...r.endDate&&{endDate:r.endDate}}).toString(),a=await fetch(Me(`/api/admin/leads?${s}`),{headers:De(e)});return await Le(a)},async fetchLeadAnalytics(e){const r=await fetch(Me("/api/admin/leads/analytics"),{headers:De(e)}),s=await Le(r);return(s==null?void 0:s.data)||s},async fetchBids(e,r={}){const s=new URLSearchParams({...r.page&&{page:r.page.toString()},...r.limit&&{limit:r.limit.toString()},...r.status&&r.status!=="all"&&{status:r.status},...r.leadId&&{leadId:r.leadId}}).toString(),a=await fetch(Me(`/api/admin/leads/bids?${s}`),{headers:De(e)});return await Le(a)},async createLeadFromBooking(e,r){const s=await fetch(Me("/api/admin/leads/create"),{method:"POST",headers:De(e),body:JSON.stringify({bookingId:r})});return Le(s)},async createManualLead(e,r){const s=await fetch(Me("/api/admin/leads/create-manual"),{method:"POST",headers:De(e),body:JSON.stringify(r)});return Le(s)},async updateLeadStatus(e,r,s,a){const n=await fetch(Me(`/api/admin/leads/${r}/status`),{method:"PUT",headers:De(e),body:JSON.stringify({status:s,assignedPartner:a})});return Le(n)},async acceptBid(e,r,s){const a=await fetch(Me("/api/admin/leads/accept-bid"),{method:"POST",headers:De(e),body:JSON.stringify({leadId:r,bidId:s})});return Le(a)},async syncBookingsToLeads(e){const r=await fetch(Me("/api/admin/leads/sync"),{method:"POST",headers:De(e)});return Le(r)},async fetchReviews(e){const r=await fetch(Me("/api/admin/reviews"),{headers:De(e)}),s=await Le(r);return(s==null?void 0:s.data)||s},async updateReviewStatus(e,r,s){const a=await fetch(Me(`/api/admin/reviews/${r}/status`),{method:"PUT",headers:De(e),body:JSON.stringify({status:s})});return Le(a)},async fetchPartnerEarnings(e,r){const s=await fetch(Me(`/api/admin/partner/${r}/earnings`),{headers:De(e)});return Le(s)},async fetchFeeTransactions(e,r={}){const s=new URLSearchParams;r.partnerId&&typeof r.partnerId=="string"&&r.partnerId.trim()&&s.append("partnerId",r.partnerId.trim()),r.feeType&&typeof r.feeType=="string"&&r.feeType.trim()&&r.feeType!=="all"&&s.append("feeType",r.feeType.trim()),r.status&&typeof r.status=="string"&&r.status.trim()&&r.status!=="all"&&s.append("status",r.status.trim()),r.startDate&&typeof r.startDate=="string"&&r.startDate.trim()&&s.append("startDate",r.startDate.trim()),r.endDate&&typeof r.endDate=="string"&&r.endDate.trim()&&s.append("endDate",r.endDate.trim()),r.page&&s.append("page",r.page.toString()),r.limit&&s.append("limit",r.limit.toString());const a=Me(`/api/admin/fee-transactions${s.toString()?`?${s.toString()}`:""}`),n=await fetch(a,{method:"GET",headers:De(e)});return Le(n)},async fetchPartnerWallet(e,r){const s=await fetch(Me(`/api/admin/adminwallets/${r}`),{headers:De(e)});return Le(s)},async fetchAllWalletTransactions(e,r={}){const s=new URLSearchParams({...r.limit&&{limit:r.limit}}).toString(),a=await fetch(Me(`/api/admin/wallet-transactions?${s}`),{headers:De(e)});return Le(a)},async addWalletTransaction(e,r){const s=await fetch(Me("/api/admin/partner/addwallets"),{method:"PUT",headers:De(e),body:JSON.stringify(r)});return Le(s)},async fetchMGPlans(e){const r=await fetch(Me("/api/admin/mg-plans"),{headers:De(e)});return Le(r)},async fetchSubscriptionPlans(e){try{const r=Me("/api/admin/subscription-plans"),s=await fetch(r,{headers:De(e)});if((s.headers.get("content-type")||"").includes("text/html")){const n=await s.text();throw console.error("Server returned HTML instead of JSON"),console.error("Response status:",s.status,s.statusText),new Error(`API endpoint returned HTML (${s.status}). Check if the endpoint exists: ${r}`)}return await Le(s)}catch(r){throw console.error("Error fetching subscription plans:",r),r}},async createSubscriptionPlan(e,r){const s=await fetch(Me("/api/admin/subscription-plans"),{method:"POST",headers:De(e),body:JSON.stringify(r)});return Le(s)},async updateSubscriptionPlan(e,r,s){const a=await fetch(Me(`/api/admin/subscription-plans/${r}`),{method:"PUT",headers:De(e),body:JSON.stringify(s)});return Le(a)},async deleteSubscriptionPlan(e,r){const s=await fetch(Me(`/api/admin/subscription-plans/${r}`),{method:"DELETE",headers:De(e)});return Le(s)},async fetchAMCPlans(e){try{const r=Me("/api/admin/amc-plans"),s=await fetch(r,{headers:De(e)});if((s.headers.get("content-type")||"").includes("text/html")){const n=await s.text();throw console.error("Server returned HTML instead of JSON"),console.error("Response status:",s.status,s.statusText),new Error(`API endpoint returned HTML (${s.status}). Check if the endpoint exists: ${r}`)}return await Le(s)}catch(r){throw console.error("Error fetching AMC plans:",r),r}},async createAMCPlan(e,r){const s=await fetch(Me("/api/admin/amc-plans"),{method:"POST",headers:De(e),body:JSON.stringify(r)});return Le(s)},async updateAMCPlan(e,r,s){const a=await fetch(Me(`/api/admin/amc-plans/${r}`),{method:"PUT",headers:De(e),body:JSON.stringify(s)});return Le(a)},async deleteAMCPlan(e,r){const s=await fetch(Me(`/api/admin/amc-plans/${r}`),{method:"DELETE",headers:De(e)});return Le(s)},async fetchAMCSubscribers(e){const r=await fetch(Me("/api/admin/amc-subscribers"),{headers:De(e)});return Le(r)},async assignAMCSubscriptionToPartner(e,r){const s=await fetch(Me("/api/admin/amc-subscribers/assign-partner"),{method:"POST",headers:De(e),body:JSON.stringify(r)});return Le(s)},async generateAMCPlansFromServices(e){const r=await fetch(Me("/api/admin/amc-plans/generate-from-services"),{method:"POST",headers:De(e)});return Le(r)},async createAMCContract(e,r){const s=await fetch(Me("/api/admin/amc-contracts"),{method:"POST",headers:De(e),body:JSON.stringify(r)});return Le(s)},async fetchAMCContracts(e){const r=await fetch(Me("/api/admin/amc-contracts"),{headers:De(e)});return Le(r)},async updateAMCContract(e,r,s){const a=await fetch(Me(`/api/admin/amc-contracts/${r}`),{method:"PUT",headers:De(e),body:JSON.stringify(s)});return Le(a)},async deleteAMCContract(e,r){const s=await fetch(Me(`/api/admin/amc-contracts/${r}`),{method:"DELETE",headers:De(e)});return Le(s)},async fetchFeaturedReviews(e){const r=await fetch(Me("/api/admin/featured-reviews"),{headers:De(e)});return Le(r)},async createFeaturedReview(e,r){const s=await fetch(Me("/api/admin/featured-reviews"),{method:"POST",headers:De(e),body:JSON.stringify(r)});return Le(s)},async updateFeaturedReview(e,r,s){const a=await fetch(Me(`/api/admin/featured-reviews/${r}`),{method:"PUT",headers:De(e),body:JSON.stringify(s)});return Le(a)},async deleteFeaturedReview(e,r){const s=await fetch(Me(`/api/admin/featured-reviews/${r}`),{method:"DELETE",headers:De(e)});return Le(s)},async createMGPlan(e,r){const s=await fetch(Me("/api/admin/mg-plans"),{method:"POST",headers:De(e),body:JSON.stringify(r)});return Le(s)},async updateMGPlan(e,r,s){const a=await fetch(Me(`/api/admin/mg-plans/${r}`),{method:"PUT",headers:De(e),body:JSON.stringify(s)});return Le(a)},async deleteMGPlan(e,r){const s=await fetch(Me(`/api/admin/mg-plans/${r}`),{method:"DELETE",headers:De(e)});return Le(s)},async fetchPartnerServiceHubs(e,r){const s=await fetch(Me(`/api/admin/partners/${r}/service-hubs`),{headers:De(e)});return Le(s)},async createPartnerServiceHub(e,r,s){const a=await fetch(Me(`/api/admin/partners/${r}/service-hubs`),{method:"POST",headers:De(e),body:JSON.stringify(s)});return Le(a)},async updatePartnerServiceHub(e,r,s,a){const n=await fetch(Me(`/api/admin/partners/${r}/service-hubs/${s}`),{method:"PUT",headers:De(e),body:JSON.stringify(a)});return Le(n)},async deletePartnerServiceHub(e,r,s){const a=await fetch(Me(`/api/admin/partners/${r}/service-hubs/${s}`),{method:"DELETE",headers:De(e)});return Le(a)},async fetchHubs(e,r={}){const s=new URLSearchParams;r.status&&s.append("status",r.status),r.search&&s.append("search",r.search);const a=s.toString(),n=Me(`/api/admin/hubs${a?`?${a}`:""}`),i=await fetch(n,{headers:De(e)});return Le(i)},async fetchHubById(e,r){const s=await fetch(Me(`/api/admin/hubs/${r}`),{headers:De(e)});return Le(s)},async createHub(e,r){const s=await fetch(Me("/api/admin/hubs"),{method:"POST",headers:De(e),body:JSON.stringify(r)});return Le(s)},async updateHub(e,r,s){const a=await fetch(Me(`/api/admin/hubs/${r}`),{method:"PUT",headers:De(e),body:JSON.stringify(s)});return Le(a)},async deleteHub(e,r){const s=await fetch(Me(`/api/admin/hubs/${r}`),{method:"DELETE",headers:De(e)});return Le(s)},async assignHubToPartner(e,r,s){const a=await fetch(Me(`/api/admin/hubs/${r}/assign-partner`),{method:"POST",headers:De(e),body:JSON.stringify({partnerId:s})});return Le(a)},async unassignHubFromPartner(e,r,s){const a=await fetch(Me(`/api/admin/hubs/${r}/unassign-partner`),{method:"POST",headers:De(e),body:JSON.stringify({partnerId:s})});return Le(a)},async fetchHubPartners(e,r){const s=await fetch(Me(`/api/admin/hubs/${r}/partners`),{headers:De(e)});return Le(s)},async addAreaToHub(e,r,s){const a=await fetch(Me(`/api/admin/hubs/${r}/areas`),{method:"POST",headers:De(e),body:JSON.stringify(s)});return Le(a)},async updateAreaInHub(e,r,s,a){const n=await fetch(Me(`/api/admin/hubs/${r}/areas/${s}`),{method:"PUT",headers:De(e),body:JSON.stringify(a)});return Le(n)},async deleteAreaFromHub(e,r,s){const a=await fetch(Me(`/api/admin/hubs/${r}/areas/${s}`),{method:"DELETE",headers:De(e)});return Le(a)},async fetchHubsByPinCode(e,r){const s=await fetch(Me(`/api/admin/hubs/pin-code/${r}`),{headers:De(e)});return Le(s)},async fetchFees(e){const r=await fetch(Me("/api/admin/fees"),{headers:De(e)});return Le(r)},async updateFees(e,r){const s=await fetch(Me("/api/admin/fees"),{method:"PUT",headers:De(e),body:JSON.stringify(r)});return Le(s)},async fetchCategories(e){const r=await fetch(Me("/api/admin/service-categories"),{headers:De(e)});return Le(r)},async createCategory(e,r){const s=await fetch(Me("/api/admin/service-category"),{method:"POST",headers:De(e),body:JSON.stringify(r)});return Le(s)},async updateCategory(e,r,s){const a=await fetch(Me(`/api/admin/service-category/${r}`),{method:"PUT",headers:De(e),body:JSON.stringify(s)});return Le(a)},async deleteCategory(e,r){const s=await fetch(Me(`/api/admin/service-category/${r}`),{method:"DELETE",headers:De(e)});return Le(s)},async fetchPopularServices(e){const r=await fetch(Me("/api/admin/popular-services"),{headers:De(e)});return Le(r)},async createPopularService(e,r){const s=await fetch(Me("/api/admin/popular-services"),{method:"POST",headers:De(e),body:JSON.stringify(r)});return Le(s)},async updatePopularService(e,r,s){const a=await fetch(Me(`/api/admin/popular-services/${r}`),{method:"PUT",headers:De(e),body:JSON.stringify(s)});return Le(a)},async deletePopularService(e,r){const s=await fetch(Me(`/api/admin/popular-services/${r}`),{method:"DELETE",headers:De(e)});return Le(s)},async migratePopularServices(e){const r=await fetch(Me("/popular-services/migrate"),{method:"POST",headers:De(e)});return Le(r)},async updatePopularServicesOrder(e,r){const s=await fetch(Me("/api/admin/popular-services/order/update"),{method:"PUT",headers:De(e),body:JSON.stringify({services:r})});return Le(s)},async fetchAllCities(e){const r=await fetch(Me("/api/cities/all"),{headers:De(e)});return Le(r)},async fetchModuleData(e,r,s={}){const a=await fetch(Me(e),{...s,headers:{...De(r),...s.headers||{}}});return Le(a)},async fetchMaterialCategories(e){const r=await fetch(Me("/api/admin/material-categories"),{headers:De(e)});return Le(r)},async fetchMaterialCategory(e,r){const s=await fetch(Me(`/api/admin/material-categories/${r}`),{headers:De(e)});return Le(s)},async createMaterialCategory(e,r){const s=await fetch(Me("/api/admin/material-categories"),{method:"POST",headers:De(e),body:JSON.stringify(r)});return Le(s)},async updateMaterialCategory(e,r,s){const a=await fetch(Me(`/api/admin/material-categories/${r}`),{method:"PUT",headers:De(e),body:JSON.stringify(s)});return Le(a)},async deleteMaterialCategory(e,r){const s=await fetch(Me(`/api/admin/material-categories/${r}`),{method:"DELETE",headers:De(e)});return Le(s)},async updateMaterialCategoryOrder(e,r){const s=await fetch(Me("/api/admin/material-categories/order/update"),{method:"PUT",headers:De(e),body:JSON.stringify({categories:r})});return Le(s)},async fetchInventoryItems(e,r={}){const s=new URLSearchParams;r.category&&s.append("category",r.category),r.location&&s.append("location",r.location),r.status&&s.append("status",r.status),r.search&&s.append("search",r.search);const a=s.toString(),n=Me(`/api/admin/inventory/items${a?`?${a}`:""}`),i=await fetch(n,{headers:De(e)});return Le(i)},async fetchInventoryStats(e){const r=await fetch(Me("/api/admin/inventory/items/stats"),{headers:De(e)});return Le(r)},async fetchInventoryItem(e,r){const s=await fetch(Me(`/api/admin/inventory/items/${r}`),{headers:De(e)});return Le(s)},async createInventoryItem(e,r){const s=await fetch(Me("/api/admin/inventory/items"),{method:"POST",headers:De(e),body:JSON.stringify(r)});return Le(s)},async updateInventoryItem(e,r,s){const a=await fetch(Me(`/api/admin/inventory/items/${r}`),{method:"PUT",headers:De(e),body:JSON.stringify(s)});return Le(a)},async deleteInventoryItem(e,r){const s=await fetch(Me(`/api/admin/inventory/items/${r}`),{method:"DELETE",headers:De(e)});return Le(s)},async fetchInventoryItemHistory(e,r){const s=await fetch(Me(`/api/admin/inventory/items/${r}/history`),{headers:De(e)});return Le(s)},async updateInventoryStock(e,r,s){const a=await fetch(Me(`/api/admin/inventory/items/${r}/stock`),{method:"PUT",headers:De(e),body:JSON.stringify(s)});return Le(a)},async fetchPurchaseOrders(e,r={}){const s=new URLSearchParams;r.status&&s.append("status",r.status),r.supplier&&s.append("supplier",r.supplier),r.search&&s.append("search",r.search);const a=s.toString(),n=Me(`/api/admin/inventory/purchase-orders${a?`?${a}`:""}`),i=await fetch(n,{headers:De(e)});return Le(i)},async fetchPurchaseOrder(e,r){const s=await fetch(Me(`/api/admin/inventory/purchase-orders/${r}`),{headers:De(e)});return Le(s)},async createPurchaseOrder(e,r){const s=await fetch(Me("/api/admin/inventory/purchase-orders"),{method:"POST",headers:De(e),body:JSON.stringify(r)});return Le(s)},async updatePurchaseOrder(e,r,s){const a=await fetch(Me(`/api/admin/inventory/purchase-orders/${r}`),{method:"PUT",headers:De(e),body:JSON.stringify(s)});return Le(a)},async deletePurchaseOrder(e,r){const s=await fetch(Me(`/api/admin/inventory/purchase-orders/${r}`),{method:"DELETE",headers:De(e)});return Le(s)},async fetchThresholds(e){const r=await fetch(Me("/api/admin/inventory/thresholds"),{headers:De(e)});return Le(r)},async fetchThreshold(e,r){const s=await fetch(Me(`/api/admin/inventory/thresholds/${r}`),{headers:De(e)});return Le(s)},async upsertThreshold(e,r){const s=await fetch(Me("/api/admin/inventory/thresholds"),{method:"POST",headers:De(e),body:JSON.stringify(r)});return Le(s)},async deleteThreshold(e,r){const s=await fetch(Me(`/api/admin/inventory/thresholds/${r}`),{method:"DELETE",headers:De(e)});return Le(s)},async updateFCMToken(e,r){const s=await fetch(Me("/api/firebase/token"),{method:"POST",headers:De(e),body:JSON.stringify({fcmToken:r,isAdmin:!0})});return Le(s)},async getNotifications(e){const r=await fetch(Me("/api/firebase"),{headers:De(e)});return Le(r)},async getAllQuotations(e,r={}){const s=new URLSearchParams(r).toString(),a=await fetch(Me(`/api/admin/quotations?${s}`),{headers:De(e)});return Le(a)},async getQuotationById(e,r){const s=await fetch(Me(`/api/admin/quotations/${r}`),{headers:De(e)});return Le(s)},async approveQuotation(e,r){const s=await fetch(Me(`/api/admin/quotations/${r}/approve`),{method:"PUT",headers:De(e)});return Le(s)},async rejectQuotation(e,r,s){const a=await fetch(Me(`/api/admin/quotations/${r}/reject`),{method:"PUT",headers:De(e),body:JSON.stringify({rejectionReason:s})});return Le(a)},async markNotificationsAsRead(e){const r=await fetch(Me("/api/firebase/mark-read"),{method:"PUT",headers:De(e)});return Le(r)},async markNotificationAsRead(e,r){const s=await fetch(Me(`/api/firebase/${r}/mark-read`),{method:"PUT",headers:De(e)});return Le(s)},async initializeWhatsApp(e){const r=await fetch(Me("/api/admin/whatsapp/initialize"),{method:"POST",headers:De(e)});return Le(r)},async getWhatsAppQRCode(e){const r=await fetch(Me("/api/admin/whatsapp/qr-code"),{method:"GET",headers:De(e)});return Le(r)},async getWhatsAppStatus(e){const r=await fetch(Me("/api/admin/whatsapp/status"),{method:"GET",headers:De(e)});return Le(r)},async disconnectWhatsApp(e){const r=await fetch(Me("/api/admin/whatsapp/disconnect"),{method:"POST",headers:De(e)});return Le(r)},async sendTestWhatsAppMessage(e,r,s){const a=await fetch(Me("/api/admin/whatsapp/test-message"),{method:"POST",headers:De(e),body:JSON.stringify({phoneNumber:r,message:s})});return Le(a)},async reconnectWhatsApp(e){const r=await fetch(Me("/api/admin/whatsapp/reconnect"),{method:"POST",headers:De(e)});return Le(r)},async setAutoReconnect(e,r){const s=await fetch(Me("/api/admin/whatsapp/auto-reconnect"),{method:"POST",headers:De(e),body:JSON.stringify({enabled:r})});return Le(s)},async manualPartnerRegistration(e,r){const s=await fetch(Me("/api/admin/partners/manual-register"),{method:"POST",headers:De(e),body:JSON.stringify(r)});return Le(s)},async fetchCustomers(e,r={}){const s=new URLSearchParams({page:r.page||1,limit:r.limit||10,...r.search&&{search:r.search},...r.status&&{status:r.status}}).toString(),a=await fetch(Me(`/api/admin/customers?${s}`),{headers:De(e)});return await Le(a)},async getCustomerBookingsPartnerWise(e,r={}){const s=new URLSearchParams({...r.dateRange&&{dateRange:r.dateRange},...r.status&&r.status!=="all"&&{status:r.status},...r.partnerType&&r.partnerType!=="all"&&{partnerType:r.partnerType}}).toString(),a=await fetch(Me(`/api/admin/customer-bookings/partner-wise?${s}`),{headers:De(e)});return await Le(a)},async getAllQuotations(e,r={}){const s=new URLSearchParams({...r.status&&{status:r.status},...r.customerStatus&&{customerStatus:r.customerStatus},...r.adminStatus&&{adminStatus:r.adminStatus}}).toString(),a=await fetch(Me(`/quotations?${s}`),{headers:De(e)});return Le(a)},async getQuotationById(e,r){const s=await fetch(Me(`/quotations/${r}`),{headers:De(e)});return Le(s)},async getQuotationsByBooking(e,r){const s=await fetch(Me(`/bookings/${r}/quotations`),{headers:De(e)});return Le(s)},async approveQuotation(e,r){const s=await fetch(Me(`/quotations/${r}/approve`),{method:"PUT",headers:De(e)});return Le(s)},async rejectQuotation(e,r,s){const a=await fetch(Me(`/quotations/${r}/reject`),{method:"PUT",headers:De(e),body:JSON.stringify({rejectionReason:s})});return Le(a)},async getAllMaterialQuotations(e,r={}){const s=new URLSearchParams({...r.status&&{status:r.status},...r.urgency&&{urgency:r.urgency},...r.serviceType&&{serviceType:r.serviceType},...r.page&&{page:r.page},...r.limit&&{limit:r.limit}}).toString(),a=await fetch(Me(`/material-quotations?${s}`),{headers:De(e)});return Le(a)},async approveMaterialQuotation(e,r,s){const a=await fetch(Me(`/material-quotations/${r}/approve`),{method:"PUT",headers:De(e),body:JSON.stringify(s)});return Le(a)},async markMaterialsDelivered(e,r,s){const a=await fetch(Me(`/material-quotations/${r}/delivered`),{method:"PUT",headers:De(e),body:JSON.stringify(s)});return Le(a)}},b9=g.createContext(null),v9={isLoading:!0,isAuthenticated:!1,admin:null,token:null,error:null};function Mse(e,r){var s,a,n;switch(r.type){case"INIT":return{...e,isLoading:!1,isAuthenticated:!!((s=r.payload)!=null&&s.token),admin:((a=r.payload)==null?void 0:a.admin)??null,token:((n=r.payload)==null?void 0:n.token)??null};case"LOGIN_START":return{...e,isLoading:!0,error:null};case"LOGIN_SUCCESS":return{...e,isLoading:!1,isAuthenticated:!0,admin:r.payload.admin,token:r.payload.token,error:null};case"LOGIN_ERROR":return{...e,isLoading:!1,isAuthenticated:!1,admin:null,token:null,error:r.payload};case"LOGOUT":return{...v9,isLoading:!1};default:return e}}const Dse=({children:e})=>{const[r,s]=g.useReducer(Mse,v9);g.useEffect(()=>{const i=localStorage.getItem("nexo_admin_auth");if(i)try{const l=JSON.parse(i);s({type:"INIT",payload:l})}catch(l){console.error("Failed to parse admin auth cache",l),localStorage.removeItem("nexo_admin_auth"),s({type:"INIT",payload:null})}else s({type:"INIT",payload:null})},[]);const a=T4(qe,r.token,r.isAuthenticated),n=g.useMemo(()=>({...r,notifications:a,login:async(i,l)=>{var o,d;s({type:"LOGIN_START"});try{const c=await i(l),u={token:c.token,admin:c.admin};return localStorage.setItem("nexo_admin_auth",JSON.stringify(u)),s({type:"LOGIN_SUCCESS",payload:u}),u}catch(c){const u=(c==null?void 0:c.message)??((d=(o=c==null?void 0:c.response)==null?void 0:o.data)==null?void 0:d.message)??"Unable to login";throw s({type:"LOGIN_ERROR",payload:u}),new Error(u)}},logout:()=>{localStorage.removeItem("nexo_admin_auth"),KZ(),s({type:"LOGOUT"})},clearError:()=>s({type:"LOGIN_ERROR",payload:null})}),[r,a]);return t.jsx(b9.Provider,{value:n,children:e})},kr=()=>{const e=g.useContext(b9);if(!e)throw new Error("useAdminAuth must be used within AdminAuthProvider");return e},Lse=()=>{const e=er(),r=zr(),{login:s,error:a,clearError:n}=kr(),[i,l]=g.useState({email:"",password:""}),[o,d]=g.useState(!1),[c,u]=g.useState(null),m=h=>{const{name:p,value:f}=h.target;l(b=>({...b,[p]:f})),u(null),a&&n()},x=async h=>{var f,b;h.preventDefault(),d(!0),u(null);let p=null;if("Notification"in window){const j=Notification.permission;if(j==="default"||j==="denied")try{p=Notification.requestPermission()}catch(w){console.error("Cannot request notification permission:",w)}}try{await s(qe.login,i),p&&await p==="granted"&&setTimeout(()=>{window.dispatchEvent(new Event("notificationPermissionGranted"))},500);const j=((b=(f=r.state)==null?void 0:f.from)==null?void 0:b.pathname)??"/admin/dashboard";e(j,{replace:!0})}catch(j){u(j.message)}finally{d(!1)}};return t.jsxs("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center px-4 py-10",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/30 via-primary-dark/30 to-slate-950 opacity-70 pointer-events-none"}),t.jsxs(E.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative max-w-md w-full bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-8 shadow-2xl",children:[t.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary/20 text-primary flex items-center justify-center",children:t.jsx(kn,{className:"text-3xl"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Nexo Admin Access"}),t.jsx("p",{className:"text-sm text-white/60 mt-2",children:"Secure sign-in for operations and leadership teams."})]})]}),t.jsxs("form",{className:"mt-8 space-y-5",onSubmit:x,children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white/80 mb-2",children:"Work Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(sn,{className:"absolute left-3 top-3.5 text-white/40"}),t.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"username",required:!0,value:i.email,onChange:m,className:"w-full bg-white/10 border border-white/10 text-white placeholder:text-white/40 rounded-xl py-3 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-primary focus:bg-white/15 transition",placeholder:"ops@nexo.in"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white/80 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ms,{className:"absolute left-3 top-3.5 text-white/40"}),t.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:i.password,onChange:m,className:"w-full bg-white/10 border border-white/10 text-white placeholder:text-white/40 rounded-xl py-3 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-primary focus:bg-white/15 transition",placeholder:""})]})]}),(a||c)&&t.jsx("p",{className:"text-sm text-rose-300 bg-rose-500/10 border border-rose-500/30 rounded-lg px-4 py-3",children:c||a}),t.jsxs(E.button,{whileTap:{scale:.98},type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl py-3 transition disabled:opacity-70 disabled:cursor-not-allowed",children:[o&&t.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),o?"Verifying access...":"Sign In"]})]}),t.jsx("div",{className:"mt-8 border-t border-white/10 pt-4 text-xs text-white/40 text-center leading-relaxed",children:"Nexo Admin Console is restricted to authorized personnel. All access is monitored and logged for compliance."})]})]})},RP=()=>{const{notifications:e}=kr(),[r,s]=g.useState(!1),a=g.useRef(null),n=(e==null?void 0:e.notifications)||[],i=(e==null?void 0:e.unreadCount)||0,l=e==null?void 0:e.markAsRead,o=e==null?void 0:e.fetchNotifications;g.useEffect(()=>{const m=x=>{a.current&&!a.current.contains(x.target)&&s(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]),g.useEffect(()=>{o&&o()},[o]);const d=async(m=null)=>{l&&(await l(m),o&&await o())},c=async()=>{l&&(await l(),o&&await o())},u=m=>{if(!m)return"";const x=new Date(m),p=new Date-x,f=Math.floor(p/6e4),b=Math.floor(p/36e5),j=Math.floor(p/864e5);return f<1?"Just now":f<60?`${f}m ago`:b<24?`${b}h ago`:j<7?`${j}d ago`:x.toLocaleDateString()};return t.jsxs("div",{className:"relative",ref:a,children:[t.jsxs("button",{onClick:()=>s(!r),className:"relative p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Notifications",children:[t.jsx(En,{className:"w-5 h-5"}),i>0&&t.jsx("span",{className:"absolute top-0 right-0 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs font-semibold text-white transition-opacity duration-200",children:i>9?"9+":i},i)]}),r&&t.jsxs("div",{className:"absolute right-0 mt-2 w-80 md:w-96 bg-white rounded-xl shadow-2xl border border-slate-200 z-50 max-h-[calc(100vh-120px)] sm:max-h-[600px] flex flex-col overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Notifications"}),t.jsxs("div",{className:"flex items-center gap-2",children:[i>0&&t.jsx("button",{onClick:c,className:"text-xs text-primary hover:text-primary-dark font-medium",children:"Mark all read"}),t.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(mt,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:"overflow-y-auto flex-1",children:n.length===0?t.jsxs("div",{className:"p-8 text-center text-slate-500",children:[t.jsx(En,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),t.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):t.jsx("div",{className:"divide-y divide-slate-100",children:n.map(m=>{var h;const x=!m.seen&&!m.read;return t.jsx("div",{className:`p-4 hover:bg-slate-50 transition-colors cursor-pointer ${x?"bg-blue-50/50":""}`,onClick:()=>{x&&d(m._id||m.id)},children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-slate-900 break-words line-clamp-2",children:m.title||((h=m.message)==null?void 0:h.split(": ")[0])||"New notification"}),m.message&&t.jsx("p",{className:"text-xs text-slate-600 mt-1 break-words line-clamp-2",children:m.title?m.message:m.message.split(": ").slice(1).join(": ")||m.message}),t.jsx("p",{className:"text-xs text-slate-400 mt-2",children:u(m.date||m.createdAt)})]}),x&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})})]})},m._id||m.id||Math.random())})})}),n.length>0&&t.jsx("div",{className:"p-3 border-t border-slate-200 bg-slate-50",children:t.jsx("button",{onClick:()=>{s(!1)},className:"w-full text-sm text-center text-primary hover:text-primary-dark font-medium",children:"View all notifications"})})]})]})},E4=({notification:e,onClose:r,onMarkAsRead:s})=>{var o;const[a,n]=g.useState(!1);if(g.useEffect(()=>{if(e){n(!0);const d=setTimeout(()=>{n(!1),setTimeout(()=>{r&&r()},300)},5e3);return()=>clearTimeout(d)}else n(!1)},[e,r]),!e)return null;const i=d=>{switch(d){case"success":return t.jsx(vt,{className:"w-6 h-6 text-emerald-500"});case"alert":return t.jsx(rl,{className:"w-6 h-6 text-amber-500"});case"message":return t.jsx(Zf,{className:"w-6 h-6 text-blue-500"});case"job":return t.jsx(Jr,{className:"w-6 h-6 text-purple-500"});case"info":default:return t.jsx(kM,{className:"w-6 h-6 text-slate-500"})}},l=()=>{s&&e._id&&s(e._id),n(!1),setTimeout(()=>{r()},300)};return t.jsx(Pl,{children:a&&t.jsx("div",{className:"fixed inset-0 z-[10000] flex items-start justify-end pointer-events-none overflow-hidden",style:{padding:"0.5rem"},children:t.jsx(E.div,{initial:{opacity:0,x:400,y:0},animate:{opacity:1,x:0,y:0},exit:{opacity:0,x:400},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white rounded-xl shadow-2xl border border-slate-200 p-4 sm:p-6 pointer-events-auto overflow-hidden flex flex-col",style:{maxWidth:"min(calc(100vw - 1rem), 28rem)",width:"calc(100vw - 1rem)",maxHeight:"calc(100vh - 1rem)",marginTop:"0.5rem",marginRight:"0.5rem"},children:t.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 flex-shrink-0 min-w-0",children:[t.jsx("div",{className:"flex-shrink-0 mt-0.5",children:i(e.type||"info")}),t.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[t.jsx("h3",{className:"text-sm sm:text-base font-semibold text-slate-900 break-words pr-2 flex-1 min-w-0",children:e.title||((o=e.message)==null?void 0:o.split(": ")[0])||"New Notification"}),t.jsx("button",{onClick:()=>{n(!1),setTimeout(()=>r(),300)},className:"flex-shrink-0 p-1 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Close",children:t.jsx(mt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-slate-400"})})]}),e.message&&t.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mb-3 break-words overflow-wrap-anywhere line-clamp-3",children:e.title?e.message:e.message.split(": ").slice(1).join(": ")||e.message}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 flex-shrink-0",children:[t.jsx("button",{onClick:l,className:"flex-1 px-3 sm:px-4 py-2 bg-primary text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-primary-dark transition-colors whitespace-nowrap",children:"Mark as Read"}),t.jsx("button",{onClick:()=>{n(!1),setTimeout(()=>r(),300)},className:"flex-1 px-3 sm:px-4 py-2 bg-slate-100 text-slate-700 rounded-lg text-xs sm:text-sm font-semibold hover:bg-slate-200 transition-colors whitespace-nowrap",children:"Dismiss"})]})]})]})})})})},xp=[{label:"Overview",icon:rn,to:"/admin/dashboard"},{label:"Partner Control",icon:Nr,to:"/admin/partners"},{label:"Vendor Management",icon:PM,to:"/admin/vendors"},{label:"Customers",icon:Nr,to:"/admin/customers"},{label:"Customer Bookings",icon:LZ,to:"/admin/customer-bookings"},{label:"Category Management",icon:f4,to:"/admin/categories"},{label:"Popular Services",icon:Pi,to:"/admin/popular-services"},{label:"AMC Plans",icon:Jr,to:"/admin/amc-plans"},{label:"Featured Reviews",icon:Zf,to:"/admin/featured-reviews"},{label:"Hub Management",icon:Er,to:"/admin/hubs"},{label:"City Management",icon:h4,to:"/admin/cities"},{label:"Spare Parts",icon:Gr,to:"/admin/spares"},{label:"AMC Management",icon:Jr,to:"/admin/amc"},{label:"Lead Management",icon:cr,to:"/admin/leads"},{label:"MG Plans",icon:bn,to:"/admin/mg-plans"},{label:"Fee Management",icon:Yt,to:"/admin/fees"},{label:"Fee Transactions",icon:fs,to:"/admin/fee-transactions"},{label:"Reports",icon:El,to:"/admin/reports"},{label:"Notifications",icon:En,to:"/admin/notifications"},{label:"Refund Management",icon:Dt,to:"/admin/refunds"},{label:"WhatsApp Settings",icon:Zf,to:"/admin/whatsapp-settings"}],Fse=()=>{var c,u;const{admin:e,logout:r,notifications:s}=kr(),a=er(),n=zr(),[i,l]=g.useState(!1),o=g.useMemo(()=>{const m=xp.find(x=>n.pathname.startsWith(x.to));return(m==null?void 0:m.label)??"Overview"},[n.pathname]),d=()=>{r(),a("/admin")};return t.jsxs("div",{className:"min-h-screen bg-slate-100 text-slate-900 flex flex-col",children:[t.jsx("header",{className:"lg:hidden bg-white shadow-md border-b border-slate-200 fixed top-0 left-0 right-0 z-[60] w-full",children:t.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>l(!i),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:i?t.jsx(mt,{className:"text-xl"}):t.jsx(Zy,{className:"text-xl"})}),t.jsx("div",{children:t.jsx("h1",{className:"text-lg font-semibold tracking-tight",children:"Nexo Admin"})})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(RP,{}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center uppercase font-bold shadow-inner text-sm",children:(((c=e==null?void 0:e.name)==null?void 0:c[0])??"A").toUpperCase()})]})]})}),t.jsxs("div",{className:"flex relative flex-1 pt-[64px] lg:pt-0",children:[t.jsxs("aside",{className:"hidden lg:flex lg:w-72 xl:w-80 flex-col bg-slate-900 text-white fixed top-0 left-0 h-screen overflow-hidden z-40",children:[t.jsxs("div",{className:"px-6 py-6 border-b border-slate-800 flex-shrink-0 bg-slate-900 sticky top-0 z-10",children:[t.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Nexo Admin"}),t.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Operations Control Center"})]}),t.jsx("nav",{className:"flex-1 px-3 py-6 space-y-1 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent",children:xp.map(m=>{const x=m.icon;return t.jsxs(Kv,{to:m.to,className:({isActive:h})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 relative group ${h?"bg-white text-slate-900 shadow-lg shadow-white/20":"text-slate-200 hover:bg-slate-800/70"}`,children:[t.jsx(x,{className:"text-lg transition-transform duration-200 group-hover:scale-110"}),m.label]},m.to)})}),t.jsx("div",{className:"px-6 py-6 border-t border-slate-800 flex-shrink-0 bg-slate-900 sticky bottom-0 z-10",children:t.jsxs("button",{onClick:d,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold rounded-xl bg-slate-800 hover:bg-slate-700 transition",type:"button",children:[t.jsx(Go,{})," Logout"]})})]}),i&&t.jsx("div",{className:"lg:hidden fixed inset-0 z-[70] bg-black/50 backdrop-blur-sm transition-opacity",onClick:()=>l(!1),children:t.jsxs("div",{className:"w-80 max-w-[85vw] bg-slate-900 text-white h-full shadow-2xl overflow-y-auto flex flex-col",onClick:m=>m.stopPropagation(),children:[t.jsx("div",{className:"px-6 py-6 border-b border-slate-800 flex-shrink-0 sticky top-0 bg-slate-900 z-10",children:t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-semibold tracking-tight",children:"Nexo Admin"}),t.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Operations Control Center"})]}),t.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition text-white",type:"button",children:t.jsx(mt,{className:"text-xl"})})]})}),t.jsx("nav",{className:"flex-1 px-3 py-6 space-y-1 overflow-y-auto",children:xp.map(m=>{const x=m.icon;return t.jsxs(Kv,{to:m.to,onClick:()=>l(!1),className:({isActive:h})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition ${h?"bg-white text-slate-900 shadow-lg":"text-slate-200 hover:bg-slate-800/70"}`,children:[t.jsx(x,{className:"text-lg"}),m.label]},m.to)})}),t.jsx("div",{className:"px-6 py-6 border-t border-slate-800 flex-shrink-0 sticky bottom-0 bg-slate-900 z-10",children:t.jsxs("button",{onClick:d,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold rounded-xl bg-slate-800 hover:bg-slate-700 transition text-white",type:"button",children:[t.jsx(Go,{})," Logout"]})})]})}),t.jsxs("div",{className:"flex-1 min-w-0 w-full lg:ml-72 xl:ml-80",children:[t.jsx("header",{className:"hidden lg:block bg-white shadow-sm border-b border-slate-200 sticky top-0 z-30",children:t.jsxs("div",{className:"px-5 sm:px-8 py-5 flex items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:["Admin / ",o]}),t.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Admin Dashboard"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(RP,{}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-700",children:(e==null?void 0:e.name)??"Admin"}),t.jsx("p",{className:"text-xs text-slate-400",children:(e==null?void 0:e.role)??"Super Admin"})]}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center uppercase font-bold shadow-inner",children:(((u=e==null?void 0:e.name)==null?void 0:u[0])??"A").toUpperCase()})]})]})}),t.jsx("nav",{className:"lg:hidden bg-white border-b border-slate-200 sticky top-[64px] z-[55]",children:t.jsx("div",{className:"px-4 py-3 flex items-center gap-2 overflow-x-auto scrollbar-hide",children:xp.map(m=>{const x=m.icon;return t.jsxs(Kv,{to:m.to,className:({isActive:h})=>`flex items-center gap-2 px-4 py-2 rounded-full text-xs font-semibold whitespace-nowrap transition ${h?"bg-primary text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[t.jsx(x,{className:"text-sm"}),m.label]},m.to)})})}),t.jsx("main",{className:"px-4 sm:px-6 lg:px-8 py-6 min-h-screen",children:t.jsx(so,{})})]})]}),t.jsx(E4,{notification:s==null?void 0:s.currentNotification,onClose:(s==null?void 0:s.closeNotificationDialog)||(()=>{}),onMarkAsRead:(s==null?void 0:s.markNotificationAsRead)||(()=>{})})]})},Rse=()=>{const{isAuthenticated:e,isLoading:r}=kr(),s=zr();return r?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-900 text-white",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),t.jsx("p",{className:"text-sm font-medium tracking-wide text-white/80",children:"Loading control center..."})]})}):e?t.jsx(so,{}):t.jsx(Ed,{to:"/admin",state:{from:s},replace:!0})},vs=({title:e,subtitle:r,actions:s})=>t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-4 mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:e}),r&&t.jsx("p",{className:"text-sm text-slate-500 mt-2 max-w-2xl",children:r})]}),s&&t.jsx("div",{className:"flex flex-wrap gap-3",children:s})]}),ti=({label:e,value:r,trend:s,intent:a="positive",description:n,icon:i,color:l="bg-primary",gradient:o})=>{const d=a==="negative"?"text-rose-500 bg-rose-500/10 border-rose-500/20":a==="warning"?"text-amber-500 bg-amber-500/10 border-amber-500/20":"text-emerald-500 bg-emerald-500/10 border-emerald-500/20",c=o?`bg-gradient-to-br ${o}`:`${l} bg-opacity-10`;return t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-md hover:shadow-lg transition-all duration-300 px-5 py-6 flex flex-col gap-4 relative overflow-hidden group",children:[t.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 ${c} rounded-full -mr-12 -mt-12 opacity-10 group-hover:opacity-20 transition-opacity`}),t.jsxs("div",{className:"flex items-start justify-between gap-3 relative z-10",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 mb-1",children:e}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1 mb-2",children:typeof r=="number"?r.toLocaleString("en-IN"):r}),s&&t.jsx("div",{className:"flex items-center gap-2 mt-2",children:t.jsx("span",{className:`text-xs font-semibold px-3 py-1.5 rounded-lg border ${d} inline-flex items-center gap-1`,children:s})}),n&&t.jsx("p",{className:"text-xs text-slate-500 mt-2 leading-relaxed",children:n})]}),i&&t.jsx("div",{className:`w-14 h-14 rounded-xl ${c} flex items-center justify-center flex-shrink-0 shadow-sm group-hover:scale-110 transition-transform duration-300`,children:t.jsx(i,{className:`text-xl ${o?"text-white":"text-primary"}`})})]}),t.jsx("div",{className:"relative z-10 mt-2",children:t.jsx("div",{className:"h-0.5 bg-slate-100 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full ${o?`bg-gradient-to-r ${o}`:l} rounded-full transition-all duration-500`,style:{width:"100%"}})})})]})};function j9(e){var r,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(r=0;r<n;r++)e[r]&&(s=j9(e[r]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function nr(){for(var e,r,s=0,a="",n=arguments.length;s<n;s++)(e=arguments[s])&&(r=j9(e))&&(a&&(a+=" "),a+=r);return a}var Bse=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function I4(e){if(typeof e!="string")return!1;var r=Bse;return r.includes(e)}var $se=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function w9(e){if(typeof e!="string")return!1;var r=$se;return r.includes(e)}function N9(e){return typeof e=="string"&&e.startsWith("data-")}function $a(e){var r=Object.entries(e).filter(s=>{var[a]=s;return w9(a)||N9(a)});return Object.fromEntries(r)}function fd(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var r=e.props;return $a(r)}return typeof e=="object"&&!Array.isArray(e)?$a(e):null}function Sa(e){var r=Object.entries(e).filter(s=>{var[a]=s;return w9(a)||N9(a)||I4(a)});return Object.fromEntries(r)}function zse(e){return e==null?null:g.isValidElement(e)?Sa(e.props):typeof e=="object"&&!Array.isArray(e)?Sa(e):null}var Use=["children","width","height","viewBox","className","style","title","desc"];function Fj(){return Fj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Fj.apply(null,arguments)}function Hse(e,r){if(e==null)return{};var s,a,n=Vse(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Vse(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var O4=g.forwardRef((e,r)=>{var{children:s,width:a,height:n,viewBox:i,className:l,style:o,title:d,desc:c}=e,u=Hse(e,Use),m=i||{width:a,height:n,x:0,y:0},x=nr("recharts-surface",l);return g.createElement("svg",Fj({},Sa(u),{className:x,width:a,height:n,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:r}),g.createElement("title",null,d),g.createElement("desc",null,c),s)}),Wse=["children","className"];function Rj(){return Rj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Rj.apply(null,arguments)}function qse(e,r){if(e==null)return{};var s,a,n=Gse(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Gse(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var cs=g.forwardRef((e,r)=>{var{children:s,className:a}=e,n=qse(e,Wse),i=nr("recharts-layer",a);return g.createElement("g",Rj({className:i},Sa(n),{ref:r}),s)}),S9=g.createContext(null),Kse=()=>g.useContext(S9);function Ar(e){return function(){return e}}const k9=Math.cos,ig=Math.sin,Di=Math.sqrt,lg=Math.PI,sb=2*lg,Bj=Math.PI,$j=2*Bj,Tc=1e-6,Yse=$j-Tc;function C9(e){this._+=e[0];for(let r=1,s=e.length;r<s;++r)this._+=arguments[r]+e[r]}function Xse(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return C9;const s=10**r;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*s)/s+a[n]}}class Jse{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?C9:Xse(r)}moveTo(r,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,s){this._append`L${this._x1=+r},${this._y1=+s}`}quadraticCurveTo(r,s,a,n){this._append`Q${+r},${+s},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(r,s,a,n,i,l){this._append`C${+r},${+s},${+a},${+n},${this._x1=+i},${this._y1=+l}`}arcTo(r,s,a,n,i){if(r=+r,s=+s,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,d=a-r,c=n-s,u=l-r,m=o-s,x=u*u+m*m;if(this._x1===null)this._append`M${this._x1=r},${this._y1=s}`;else if(x>Tc)if(!(Math.abs(m*d-c*u)>Tc)||!i)this._append`L${this._x1=r},${this._y1=s}`;else{let h=a-l,p=n-o,f=d*d+c*c,b=h*h+p*p,j=Math.sqrt(f),w=Math.sqrt(x),y=i*Math.tan((Bj-Math.acos((f+x-b)/(2*j*w)))/2),v=y/w,N=y/j;Math.abs(v-1)>Tc&&this._append`L${r+v*u},${s+v*m}`,this._append`A${i},${i},0,0,${+(m*h>u*p)},${this._x1=r+N*d},${this._y1=s+N*c}`}}arc(r,s,a,n,i,l){if(r=+r,s=+s,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let o=a*Math.cos(n),d=a*Math.sin(n),c=r+o,u=s+d,m=1^l,x=l?n-i:i-n;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Tc||Math.abs(this._y1-u)>Tc)&&this._append`L${c},${u}`,a&&(x<0&&(x=x%$j+$j),x>Yse?this._append`A${a},${a},0,1,${m},${r-o},${s-d}A${a},${a},0,1,${m},${this._x1=c},${this._y1=u}`:x>Tc&&this._append`A${a},${a},0,${+(x>=Bj)},${m},${this._x1=r+a*Math.cos(i)},${this._y1=s+a*Math.sin(i)}`)}rect(r,s,a,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function _4(e){let r=3;return e.digits=function(s){if(!arguments.length)return r;if(s==null)r=null;else{const a=Math.floor(s);if(!(a>=0))throw new RangeError(`invalid digits: ${s}`);r=a}return e},()=>new Jse(r)}function M4(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function P9(e){this._context=e}P9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function ab(e){return new P9(e)}function A9(e){return e[0]}function T9(e){return e[1]}function E9(e,r){var s=Ar(!0),a=null,n=ab,i=null,l=_4(o);e=typeof e=="function"?e:e===void 0?A9:Ar(e),r=typeof r=="function"?r:r===void 0?T9:Ar(r);function o(d){var c,u=(d=M4(d)).length,m,x=!1,h;for(a==null&&(i=n(h=l())),c=0;c<=u;++c)!(c<u&&s(m=d[c],c,d))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(m,c,d),+r(m,c,d));if(h)return i=null,h+""||null}return o.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ar(+d),o):e},o.y=function(d){return arguments.length?(r=typeof d=="function"?d:Ar(+d),o):r},o.defined=function(d){return arguments.length?(s=typeof d=="function"?d:Ar(!!d),o):s},o.curve=function(d){return arguments.length?(n=d,a!=null&&(i=n(a)),o):n},o.context=function(d){return arguments.length?(d==null?a=i=null:i=n(a=d),o):a},o}function pp(e,r,s){var a=null,n=Ar(!0),i=null,l=ab,o=null,d=_4(c);e=typeof e=="function"?e:e===void 0?A9:Ar(+e),r=typeof r=="function"?r:Ar(r===void 0?0:+r),s=typeof s=="function"?s:s===void 0?T9:Ar(+s);function c(m){var x,h,p,f=(m=M4(m)).length,b,j=!1,w,y=new Array(f),v=new Array(f);for(i==null&&(o=l(w=d())),x=0;x<=f;++x){if(!(x<f&&n(b=m[x],x,m))===j)if(j=!j)h=x,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=x-1;p>=h;--p)o.point(y[p],v[p]);o.lineEnd(),o.areaEnd()}j&&(y[x]=+e(b,x,m),v[x]=+r(b,x,m),o.point(a?+a(b,x,m):y[x],s?+s(b,x,m):v[x]))}if(w)return o=null,w+""||null}function u(){return E9().defined(n).curve(l).context(i)}return c.x=function(m){return arguments.length?(e=typeof m=="function"?m:Ar(+m),a=null,c):e},c.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Ar(+m),c):e},c.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:Ar(+m),c):a},c.y=function(m){return arguments.length?(r=typeof m=="function"?m:Ar(+m),s=null,c):r},c.y0=function(m){return arguments.length?(r=typeof m=="function"?m:Ar(+m),c):r},c.y1=function(m){return arguments.length?(s=m==null?null:typeof m=="function"?m:Ar(+m),c):s},c.lineX0=c.lineY0=function(){return u().x(e).y(r)},c.lineY1=function(){return u().x(e).y(s)},c.lineX1=function(){return u().x(a).y(r)},c.defined=function(m){return arguments.length?(n=typeof m=="function"?m:Ar(!!m),c):n},c.curve=function(m){return arguments.length?(l=m,i!=null&&(o=l(i)),c):l},c.context=function(m){return arguments.length?(m==null?i=o=null:o=l(i=m),c):i},c}class I9{constructor(r,s){this._context=r,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,s){switch(r=+r,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,s,r,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,r,this._y0,r,s);break}}this._x0=r,this._y0=s}}function Qse(e){return new I9(e,!0)}function Zse(e){return new I9(e,!1)}const D4={draw(e,r){const s=Di(r/lg);e.moveTo(s,0),e.arc(0,0,s,0,sb)}},eae={draw(e,r){const s=Di(r/5)/2;e.moveTo(-3*s,-s),e.lineTo(-s,-s),e.lineTo(-s,-3*s),e.lineTo(s,-3*s),e.lineTo(s,-s),e.lineTo(3*s,-s),e.lineTo(3*s,s),e.lineTo(s,s),e.lineTo(s,3*s),e.lineTo(-s,3*s),e.lineTo(-s,s),e.lineTo(-3*s,s),e.closePath()}},O9=Di(1/3),tae=O9*2,rae={draw(e,r){const s=Di(r/tae),a=s*O9;e.moveTo(0,-s),e.lineTo(a,0),e.lineTo(0,s),e.lineTo(-a,0),e.closePath()}},sae={draw(e,r){const s=Di(r),a=-s/2;e.rect(a,a,s,s)}},aae=.8908130915292852,_9=ig(lg/10)/ig(7*lg/10),nae=ig(sb/10)*_9,iae=-k9(sb/10)*_9,lae={draw(e,r){const s=Di(r*aae),a=nae*s,n=iae*s;e.moveTo(0,-s),e.lineTo(a,n);for(let i=1;i<5;++i){const l=sb*i/5,o=k9(l),d=ig(l);e.lineTo(d*s,-o*s),e.lineTo(o*a-d*n,d*a+o*n)}e.closePath()}},P1=Di(3),oae={draw(e,r){const s=-Di(r/(P1*3));e.moveTo(0,s*2),e.lineTo(-P1*s,-s),e.lineTo(P1*s,-s),e.closePath()}},zn=-.5,Un=Di(3)/2,zj=1/Di(12),cae=(zj/2+1)*3,dae={draw(e,r){const s=Di(r/cae),a=s/2,n=s*zj,i=a,l=s*zj+s,o=-i,d=l;e.moveTo(a,n),e.lineTo(i,l),e.lineTo(o,d),e.lineTo(zn*a-Un*n,Un*a+zn*n),e.lineTo(zn*i-Un*l,Un*i+zn*l),e.lineTo(zn*o-Un*d,Un*o+zn*d),e.lineTo(zn*a+Un*n,zn*n-Un*a),e.lineTo(zn*i+Un*l,zn*l-Un*i),e.lineTo(zn*o+Un*d,zn*d-Un*o),e.closePath()}};function uae(e,r){let s=null,a=_4(n);e=typeof e=="function"?e:Ar(e||D4),r=typeof r=="function"?r:Ar(r===void 0?64:+r);function n(){let i;if(s||(s=i=a()),e.apply(this,arguments).draw(s,+r.apply(this,arguments)),i)return s=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ar(i),n):e},n.size=function(i){return arguments.length?(r=typeof i=="function"?i:Ar(+i),n):r},n.context=function(i){return arguments.length?(s=i??null,n):s},n}function og(){}function cg(e,r,s){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+s)/6)}function M9(e){this._context=e}M9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cg(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function mae(e){return new M9(e)}function D9(e){this._context=e}D9.prototype={areaStart:og,areaEnd:og,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:cg(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function hae(e){return new D9(e)}function L9(e){this._context=e}L9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(s,a):this._context.moveTo(s,a);break;case 3:this._point=4;default:cg(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function xae(e){return new L9(e)}function F9(e){this._context=e}F9.prototype={areaStart:og,areaEnd:og,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function pae(e){return new F9(e)}function BP(e){return e<0?-1:1}function $P(e,r,s){var a=e._x1-e._x0,n=r-e._x1,i=(e._y1-e._y0)/(a||n<0&&-0),l=(s-e._y1)/(n||a<0&&-0),o=(i*n+l*a)/(a+n);return(BP(i)+BP(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function zP(e,r){var s=e._x1-e._x0;return s?(3*(e._y1-e._y0)/s-r)/2:r}function A1(e,r,s){var a=e._x0,n=e._y0,i=e._x1,l=e._y1,o=(i-a)/3;e._context.bezierCurveTo(a+o,n+o*r,i-o,l-o*s,i,l)}function dg(e){this._context=e}dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:A1(this,this._t0,zP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var s=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,A1(this,zP(this,s=$P(this,e,r)),s);break;default:A1(this,this._t0,s=$P(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=s}}};function R9(e){this._context=new B9(e)}(R9.prototype=Object.create(dg.prototype)).point=function(e,r){dg.prototype.point.call(this,r,e)};function B9(e){this._context=e}B9.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,s,a,n,i){this._context.bezierCurveTo(r,e,a,s,i,n)}};function fae(e){return new dg(e)}function gae(e){return new R9(e)}function $9(e){this._context=e}$9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,s=e.length;if(s)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),s===2)this._context.lineTo(e[1],r[1]);else for(var a=UP(e),n=UP(r),i=0,l=1;l<s;++i,++l)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],e[l],r[l]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function UP(e){var r,s=e.length-1,a,n=new Array(s),i=new Array(s),l=new Array(s);for(n[0]=0,i[0]=2,l[0]=e[0]+2*e[1],r=1;r<s-1;++r)n[r]=1,i[r]=4,l[r]=4*e[r]+2*e[r+1];for(n[s-1]=2,i[s-1]=7,l[s-1]=8*e[s-1]+e[s],r=1;r<s;++r)a=n[r]/i[r-1],i[r]-=a,l[r]-=a*l[r-1];for(n[s-1]=l[s-1]/i[s-1],r=s-2;r>=0;--r)n[r]=(l[r]-n[r+1])/i[r];for(i[s-1]=(e[s]+n[s-1])/2,r=0;r<s-1;++r)i[r]=2*e[r+1]-n[r+1];return[n,i]}function yae(e){return new $9(e)}function nb(e,r){this._context=e,this._t=r}nb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var s=this._x*(1-this._t)+e*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,r)}break}}this._x=e,this._y=r}};function bae(e){return new nb(e,.5)}function vae(e){return new nb(e,0)}function jae(e){return new nb(e,1)}function cm(e,r){if((l=e.length)>1)for(var s=1,a,n,i=e[r[0]],l,o=i.length;s<l;++s)for(n=i,i=e[r[s]],a=0;a<o;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function Uj(e){for(var r=e.length,s=new Array(r);--r>=0;)s[r]=r;return s}function wae(e,r){return e[r]}function Nae(e){const r=[];return r.key=e,r}function Sae(){var e=Ar([]),r=Uj,s=cm,a=wae;function n(i){var l=Array.from(e.apply(this,arguments),Nae),o,d=l.length,c=-1,u;for(const m of i)for(o=0,++c;o<d;++o)(l[o][c]=[0,+a(m,l[o].key,c,i)]).data=m;for(o=0,u=M4(r(l));o<d;++o)l[u[o]].index=o;return s(l,u),l}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ar(Array.from(i)),n):e},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:Ar(+i),n):a},n.order=function(i){return arguments.length?(r=i==null?Uj:typeof i=="function"?i:Ar(Array.from(i)),n):r},n.offset=function(i){return arguments.length?(s=i??cm,n):s},n}function kae(e,r){if((a=e.length)>0){for(var s,a,n=0,i=e[0].length,l;n<i;++n){for(l=s=0;s<a;++s)l+=e[s][n][1]||0;if(l)for(s=0;s<a;++s)e[s][n][1]/=l}cm(e,r)}}function Cae(e,r){if((n=e.length)>0){for(var s=0,a=e[r[0]],n,i=a.length;s<i;++s){for(var l=0,o=0;l<n;++l)o+=e[l][s][1]||0;a[s][1]+=a[s][0]=-o/2}cm(e,r)}}function Pae(e,r){if(!(!((l=e.length)>0)||!((i=(n=e[r[0]]).length)>0))){for(var s=0,a=1,n,i,l;a<i;++a){for(var o=0,d=0,c=0;o<l;++o){for(var u=e[r[o]],m=u[a][1]||0,x=u[a-1][1]||0,h=(m-x)/2,p=0;p<o;++p){var f=e[r[p]],b=f[a][1]||0,j=f[a-1][1]||0;h+=b-j}d+=m,c+=h*m}n[a-1][1]+=n[a-1][0]=s,d&&(s-=c/d)}n[a-1][1]+=n[a-1][0]=s,cm(e,r)}}var ib={},z9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==="__proto__"}e.isUnsafeProperty=r})(z9);var L4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){switch(typeof s){case"number":case"symbol":return!1;case"string":return s.includes(".")||s.includes("[")||s.includes("]")}}e.isDeepKey=r})(L4);var lb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){var a;return typeof s=="string"||typeof s=="symbol"?s:Object.is((a=s==null?void 0:s.valueOf)==null?void 0:a.call(s),-0)?"-0":String(s)}e.toKey=r})(lb);var ob={},U9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){if(s==null)return"";if(typeof s=="string")return s;if(Array.isArray(s))return s.map(r).join(",");const a=String(s);return a==="0"&&Object.is(Number(s),-0)?"-0":a}e.toString=r})(U9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=U9,s=lb;function a(n){if(Array.isArray(n))return n.map(s.toKey);if(typeof n=="symbol")return[n];n=r.toString(n);const i=[],l=n.length;if(l===0)return i;let o=0,d="",c="",u=!1;for(n.charCodeAt(0)===46&&(i.push(""),o++);o<l;){const m=n[o];c?m==="\\"&&o+1<l?(o++,d+=n[o]):m===c?c="":d+=m:u?m==='"'||m==="'"?c=m:m==="]"?(u=!1,i.push(d),d=""):d+=m:m==="["?(u=!0,d&&(i.push(d),d="")):m==="."?d&&(i.push(d),d=""):d+=m,o++}return d&&i.push(d),i}e.toPath=a})(ob);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=z9,s=L4,a=lb,n=ob;function i(o,d,c){if(o==null)return c;switch(typeof d){case"string":{if(r.isUnsafeProperty(d))return c;const u=o[d];return u===void 0?s.isDeepKey(d)?i(o,n.toPath(d),c):c:u}case"number":case"symbol":{typeof d=="number"&&(d=a.toKey(d));const u=o[d];return u===void 0?c:u}default:{if(Array.isArray(d))return l(o,d,c);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),r.isUnsafeProperty(d))return c;const u=o[d];return u===void 0?c:u}}}function l(o,d,c){if(d.length===0)return c;let u=o;for(let m=0;m<d.length;m++){if(u==null||r.isUnsafeProperty(d[m]))return c;u=u[d[m]]}return u===void 0?c:u}e.get=i})(ib);var Aae=ib.get;const gd=ui(Aae);var qs=e=>e===0?0:e>0?1:-1,oi=e=>typeof e=="number"&&e!=+e,ql=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,jt=e=>(typeof e=="number"||e instanceof Number)&&!oi(e),al=e=>jt(e)||typeof e=="string",Tae=0,S0=e=>{var r=++Tae;return"".concat(e||"").concat(r)},va=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!jt(r)&&typeof r!="string")return a;var i;if(ql(r)){if(s==null)return a;var l=r.indexOf("%");i=s*parseFloat(r.slice(0,l))/100}else i=+r;return oi(i)&&(i=a),n&&s!=null&&i>s&&(i=s),i},H9=e=>{if(!Array.isArray(e))return!1;for(var r=e.length,s={},a=0;a<r;a++)if(!s[e[a]])s[e[a]]=!0;else return!0;return!1};function ur(e,r,s){return jt(e)&&jt(r)?e+s*(r-e):r}function V9(e,r,s){if(!(!e||!e.length))return e.find(a=>a&&(typeof r=="function"?r(a):gd(a,r))===s)}var Rr=e=>e===null||typeof e>"u",ux=e=>Rr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Eae(e){return e!=null}function Fd(){}var Iae=["type","size","sizeType"];function Hj(){return Hj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Hj.apply(null,arguments)}function HP(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function VP(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?HP(Object(s),!0).forEach(function(a){Oae(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):HP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Oae(e,r,s){return(r=_ae(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function _ae(e){var r=Mae(e,"string");return typeof r=="symbol"?r:r+""}function Mae(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Dae(e,r){if(e==null)return{};var s,a,n=Lae(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Lae(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var W9={symbolCircle:D4,symbolCross:eae,symbolDiamond:rae,symbolSquare:sae,symbolStar:lae,symbolTriangle:oae,symbolWye:dae},Fae=Math.PI/180,Rae=e=>{var r="symbol".concat(ux(e));return W9[r]||D4},Bae=(e,r,s)=>{if(r==="area")return e;switch(s){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Fae;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},$ae=(e,r)=>{W9["symbol".concat(ux(e))]=r},F4=e=>{var{type:r="circle",size:s=64,sizeType:a="area"}=e,n=Dae(e,Iae),i=VP(VP({},n),{},{type:r,size:s,sizeType:a}),l="circle";typeof r=="string"&&(l=r);var o=()=>{var x=Rae(l),h=uae().type(x).size(Bae(s,a,l)),p=h();if(p!==null)return p},{className:d,cx:c,cy:u}=i,m=Sa(i);return jt(c)&&jt(u)&&jt(s)?g.createElement("path",Hj({},m,{className:nr("recharts-symbols",d),transform:"translate(".concat(c,", ").concat(u,")"),d:o()})):null};F4.registerSymbol=$ae;var q9=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,R4=(e,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(g.isValidElement(e)&&(s=e.props),typeof s!="object"&&typeof s!="function")return null;var a={};return Object.keys(s).forEach(n=>{I4(n)&&(a[n]=i=>s[n](s,i))}),a},zae=(e,r,s)=>a=>(e(r,s,a),null),mx=(e,r,s)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(n=>{var i=e[n];I4(n)&&typeof i=="function"&&(a||(a={}),a[n]=zae(i,r,s))}),a};function WP(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Uae(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?WP(Object(s),!0).forEach(function(a){Hae(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):WP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Hae(e,r,s){return(r=Vae(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Vae(e){var r=Wae(e,"string");return typeof r=="symbol"?r:r+""}function Wae(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ds(e,r){var s=Uae({},e),a=r,n=Object.keys(r),i=n.reduce((l,o)=>(l[o]===void 0&&a[o]!==void 0&&(l[o]=a[o]),l),s);return i}function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ug.apply(null,arguments)}function qP(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function qae(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?qP(Object(s),!0).forEach(function(a){Gae(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):qP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Gae(e,r,s){return(r=Kae(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Kae(e){var r=Yae(e,"string");return typeof r=="symbol"?r:r+""}function Yae(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Kn=32,Xae={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Jae(e){var{data:r,iconType:s,inactiveColor:a}=e,n=Kn/2,i=Kn/6,l=Kn/3,o=r.inactive?a:r.color,d=s??r.type;if(d==="none")return null;if(d==="plainline"){var c;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=r.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:n,x2:Kn,y2:n,className:"recharts-legend-icon"})}if(d==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(n,`
            H`).concat(Kn,"M").concat(2*l,",").concat(n,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(n),className:"recharts-legend-icon"});if(d==="rect")return g.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Kn/8,"h").concat(Kn,"v").concat(Kn*3/4,"h").concat(-Kn,"z"),className:"recharts-legend-icon"});if(g.isValidElement(r.legendIcon)){var u=qae({},r);return delete u.legendIcon,g.cloneElement(r.legendIcon,u)}return g.createElement(F4,{fill:o,cx:n,cy:n,size:Kn,sizeType:"diameter",type:d})}function Qae(e){var{payload:r,iconSize:s,layout:a,formatter:n,inactiveColor:i,iconType:l}=e,o={x:0,y:0,width:Kn,height:Kn},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((u,m)=>{var x=u.formatter||n,h=nr({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:u.inactive});if(u.type==="none")return null;var p=u.inactive?i:u.color,f=x?x(u.value,u,m):u.value;return g.createElement("li",ug({className:h,style:d,key:"legend-item-".concat(m)},mx(e,u,m)),g.createElement(O4,{width:s,height:s,viewBox:o,style:c,"aria-label":"".concat(f," legend icon")},g.createElement(Jae,{data:u,iconType:l,inactiveColor:i})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},f))})}var Zae=e=>{var r=ds(e,Xae),{payload:s,layout:a,align:n}=r;if(!s||!s.length)return null;var i={padding:0,margin:0,textAlign:a==="horizontal"?n:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:i},g.createElement(Qae,ug({},r,{payload:s})))},G9={},K9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a){const n=new Map;for(let i=0;i<s.length;i++){const l=s[i],o=a(l);n.has(o)||n.set(o,l)}return Array.from(n.values())}e.uniqBy=r})(K9);var B4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s}e.identity=r})(B4);var Y9={},cb={},X9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Number.isSafeInteger(s)&&s>=0}e.isLength=r})(X9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=X9;function s(a){return a!=null&&typeof a!="function"&&r.isLength(a.length)}e.isArrayLike=s})(cb);var J9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="object"&&s!==null}e.isObjectLike=r})(J9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=cb,s=J9;function a(n){return s.isObjectLike(n)&&r.isArrayLike(n)}e.isArrayLikeObject=a})(Y9);var Q9={},Z9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=ib;function s(a){return function(n){return r.get(n,a)}}e.property=s})(Z9);var eD={},$4={},tD={},z4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s!==null&&(typeof s=="object"||typeof s=="function")}e.isObject=r})(z4);var U4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==null||typeof s!="object"&&typeof s!="function"}e.isPrimitive=r})(U4);var H4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a){return s===a||Number.isNaN(s)&&Number.isNaN(a)}e.eq=r})(H4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=z4,s=U4,a=H4;function n(u,m,x){return typeof x!="function"?n(u,m,()=>{}):i(u,m,function h(p,f,b,j,w,y){const v=x(p,f,b,j,w,y);return v!==void 0?!!v:i(p,f,h,y)},new Map)}function i(u,m,x,h){if(m===u)return!0;switch(typeof m){case"object":return l(u,m,x,h);case"function":return Object.keys(m).length>0?i(u,{...m},x,h):a.eq(u,m);default:return r.isObject(u)?typeof m=="string"?m==="":!0:a.eq(u,m)}}function l(u,m,x,h){if(m==null)return!0;if(Array.isArray(m))return d(u,m,x,h);if(m instanceof Map)return o(u,m,x,h);if(m instanceof Set)return c(u,m,x,h);const p=Object.keys(m);if(u==null)return p.length===0;if(p.length===0)return!0;if(h!=null&&h.has(m))return h.get(m)===u;h==null||h.set(m,u);try{for(let f=0;f<p.length;f++){const b=p[f];if(!s.isPrimitive(u)&&!(b in u)||m[b]===void 0&&u[b]!==void 0||m[b]===null&&u[b]!==null||!x(u[b],m[b],b,u,m,h))return!1}return!0}finally{h==null||h.delete(m)}}function o(u,m,x,h){if(m.size===0)return!0;if(!(u instanceof Map))return!1;for(const[p,f]of m.entries()){const b=u.get(p);if(x(b,f,p,u,m,h)===!1)return!1}return!0}function d(u,m,x,h){if(m.length===0)return!0;if(!Array.isArray(u))return!1;const p=new Set;for(let f=0;f<m.length;f++){const b=m[f];let j=!1;for(let w=0;w<u.length;w++){if(p.has(w))continue;const y=u[w];let v=!1;if(x(y,b,f,u,m,h)&&(v=!0),v){p.add(w),j=!0;break}}if(!j)return!1}return!0}function c(u,m,x,h){return m.size===0?!0:u instanceof Set?d([...u],[...m],x,h):!1}e.isMatchWith=n,e.isSetMatch=c})(tD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=tD;function s(a,n){return r.isMatchWith(a,n,()=>{})}e.isMatch=s})($4);var rD={},V4={},sD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Object.getOwnPropertySymbols(s).filter(a=>Object.prototype.propertyIsEnumerable.call(s,a))}e.getSymbols=r})(sD);var W4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}e.getTag=r})(W4);var q4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r="[object RegExp]",s="[object String]",a="[object Number]",n="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",d="[object Map]",c="[object Set]",u="[object Array]",m="[object Function]",x="[object ArrayBuffer]",h="[object Object]",p="[object Error]",f="[object DataView]",b="[object Uint8Array]",j="[object Uint8ClampedArray]",w="[object Uint16Array]",y="[object Uint32Array]",v="[object BigUint64Array]",N="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",P="[object BigInt64Array]",C="[object Float32Array]",_="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=x,e.arrayTag=u,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=v,e.booleanTag=n,e.dataViewTag=f,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=C,e.float64ArrayTag=_,e.functionTag=m,e.int16ArrayTag=S,e.int32ArrayTag=k,e.int8ArrayTag=N,e.mapTag=d,e.numberTag=a,e.objectTag=h,e.regexpTag=r,e.setTag=c,e.stringTag=s,e.symbolTag=l,e.uint16ArrayTag=w,e.uint32ArrayTag=y,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=j})(q4);var aD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}e.isTypedArray=r})(aD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=sD,s=W4,a=q4,n=U4,i=aD;function l(u,m){return o(u,void 0,u,new Map,m)}function o(u,m,x,h=new Map,p=void 0){const f=p==null?void 0:p(u,m,x,h);if(f!==void 0)return f;if(n.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const b=new Array(u.length);h.set(u,b);for(let j=0;j<u.length;j++)b[j]=o(u[j],j,x,h,p);return Object.hasOwn(u,"index")&&(b.index=u.index),Object.hasOwn(u,"input")&&(b.input=u.input),b}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const b=new RegExp(u.source,u.flags);return b.lastIndex=u.lastIndex,b}if(u instanceof Map){const b=new Map;h.set(u,b);for(const[j,w]of u)b.set(j,o(w,j,x,h,p));return b}if(u instanceof Set){const b=new Set;h.set(u,b);for(const j of u)b.add(o(j,void 0,x,h,p));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const b=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,b);for(let j=0;j<u.length;j++)b[j]=o(u[j],j,x,h,p);return b}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const b=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,b),d(b,u,x,h,p),b}if(typeof File<"u"&&u instanceof File){const b=new File([u],u.name,{type:u.type});return h.set(u,b),d(b,u,x,h,p),b}if(typeof Blob<"u"&&u instanceof Blob){const b=new Blob([u],{type:u.type});return h.set(u,b),d(b,u,x,h,p),b}if(u instanceof Error){const b=new u.constructor;return h.set(u,b),b.message=u.message,b.name=u.name,b.stack=u.stack,b.cause=u.cause,d(b,u,x,h,p),b}if(u instanceof Boolean){const b=new Boolean(u.valueOf());return h.set(u,b),d(b,u,x,h,p),b}if(u instanceof Number){const b=new Number(u.valueOf());return h.set(u,b),d(b,u,x,h,p),b}if(u instanceof String){const b=new String(u.valueOf());return h.set(u,b),d(b,u,x,h,p),b}if(typeof u=="object"&&c(u)){const b=Object.create(Object.getPrototypeOf(u));return h.set(u,b),d(b,u,x,h,p),b}return u}function d(u,m,x=u,h,p){const f=[...Object.keys(m),...r.getSymbols(m)];for(let b=0;b<f.length;b++){const j=f[b],w=Object.getOwnPropertyDescriptor(u,j);(w==null||w.writable)&&(u[j]=o(m[j],j,x,h,p))}}function c(u){switch(s.getTag(u)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=d})(V4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=V4;function s(a){return r.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=s})(rD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=$4,s=rD;function a(n){return n=s.cloneDeep(n),i=>r.isMatch(i,n)}e.matches=a})(eD);var nD={},iD={},lD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=V4,s=q4;function a(n,i){return r.cloneDeepWith(n,(l,o,d,c)=>{const u=i==null?void 0:i(l,o,d,c);if(u!==void 0)return u;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case s.numberTag:case s.stringTag:case s.booleanTag:{const m=new n.constructor(n==null?void 0:n.valueOf());return r.copyProperties(m,n),m}case s.argumentsTag:{const m={};return r.copyProperties(m,n),m.length=n.length,m[Symbol.iterator]=n[Symbol.iterator],m}default:return}})}e.cloneDeepWith=a})(lD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=lD;function s(a){return r.cloneDeepWith(a)}e.cloneDeep=s})(iD);var oD={},G4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;function s(a,n=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<n;case"symbol":return!1;case"string":return r.test(a)}}e.isIndex=s})(G4);var cD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=W4;function s(a){return a!==null&&typeof a=="object"&&r.getTag(a)==="[object Arguments]"}e.isArguments=s})(cD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=L4,s=G4,a=cD,n=ob;function i(l,o){let d;if(Array.isArray(o)?d=o:typeof o=="string"&&r.isDeepKey(o)&&(l==null?void 0:l[o])==null?d=n.toPath(o):d=[o],d.length===0)return!1;let c=l;for(let u=0;u<d.length;u++){const m=d[u];if((c==null||!Object.hasOwn(c,m))&&!((Array.isArray(c)||a.isArguments(c))&&s.isIndex(m)&&m<c.length))return!1;c=c[m]}return!0}e.has=i})(oD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=$4,s=lb,a=iD,n=ib,i=oD;function l(o,d){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=s.toKey(o);break}}return d=a.cloneDeep(d),function(c){const u=n.get(c,o);return u===void 0?i.has(c,o):d===void 0?u===void 0:r.isMatch(u,d)}}e.matchesProperty=l})(nD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=B4,s=Z9,a=eD,n=nD;function i(l){if(l==null)return r.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?n.matchesProperty(l[0],l[1]):a.matches(l);case"string":case"symbol":case"number":return s.property(l)}}e.iteratee=i})(Q9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=K9,s=B4,a=Y9,n=Q9;function i(l,o=s.identity){return a.isArrayLikeObject(l)?r.uniqBy(Array.from(l),n.iteratee(o)):[]}e.uniqBy=i})(G9);var ene=G9.uniqBy;const GP=ui(ene);function dD(e,r,s){return r===!0?GP(e,s):typeof r=="function"?GP(e,r):e}var uD={exports:{}},mD={},hD={exports:{}},xD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm=g;function tne(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var rne=typeof Object.is=="function"?Object.is:tne,sne=dm.useState,ane=dm.useEffect,nne=dm.useLayoutEffect,ine=dm.useDebugValue;function lne(e,r){var s=r(),a=sne({inst:{value:s,getSnapshot:r}}),n=a[0].inst,i=a[1];return nne(function(){n.value=s,n.getSnapshot=r,T1(n)&&i({inst:n})},[e,s,r]),ane(function(){return T1(n)&&i({inst:n}),e(function(){T1(n)&&i({inst:n})})},[e]),ine(s),s}function T1(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!rne(e,s)}catch{return!0}}function one(e,r){return r()}var cne=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?one:lne;xD.useSyncExternalStore=dm.useSyncExternalStore!==void 0?dm.useSyncExternalStore:cne;hD.exports=xD;var dne=hD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db=g,une=dne;function mne(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var hne=typeof Object.is=="function"?Object.is:mne,xne=une.useSyncExternalStore,pne=db.useRef,fne=db.useEffect,gne=db.useMemo,yne=db.useDebugValue;mD.useSyncExternalStoreWithSelector=function(e,r,s,a,n){var i=pne(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=gne(function(){function d(h){if(!c){if(c=!0,u=h,h=a(h),n!==void 0&&l.hasValue){var p=l.value;if(n(p,h))return m=p}return m=h}if(p=m,hne(u,h))return p;var f=a(h);return n!==void 0&&n(p,f)?(u=h,p):(u=h,m=f)}var c=!1,u,m,x=s===void 0?null:s;return[function(){return d(r())},x===null?void 0:function(){return d(x())}]},[r,s,a,n]);var o=xne(e,i[0],i[1]);return fne(function(){l.hasValue=!0,l.value=o},[o]),yne(o),o};uD.exports=mD;var bne=uD.exports,K4=g.createContext(null),vne=e=>e,_r=()=>{var e=g.useContext(K4);return e?e.store.dispatch:vne},cf=()=>{},jne=()=>cf,wne=(e,r)=>e===r;function St(e){var r=g.useContext(K4);return bne.useSyncExternalStoreWithSelector(r?r.subscription.addNestedSub:jne,r?r.store.getState:cf,r?r.store.getState:cf,r?e:cf,wne)}function Nne(e,r=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(r)}function Sne(e,r=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(r)}function kne(e,r="expected all items to be functions, instead received the following types: "){if(!e.every(s=>typeof s=="function")){const s=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${r}[${s}]`)}}var KP=e=>Array.isArray(e)?e:[e];function Cne(e){const r=Array.isArray(e[0])?e[0]:e;return kne(r,"createSelector expects all input-selectors to be functions, but received the following types: "),r}function Pne(e,r){const s=[],{length:a}=e;for(let n=0;n<a;n++)s.push(e[n].apply(null,r));return s}var Ane=class{constructor(e){this.value=e}deref(){return this.value}},Tne=typeof WeakRef<"u"?WeakRef:Ane,Ene=0,YP=1;function fp(){return{s:Ene,v:void 0,o:null,p:null}}function pD(e,r={}){let s=fp();const{resultEqualityCheck:a}=r;let n,i=0;function l(){var m;let o=s;const{length:d}=arguments;for(let x=0,h=d;x<h;x++){const p=arguments[x];if(typeof p=="function"||typeof p=="object"&&p!==null){let f=o.o;f===null&&(o.o=f=new WeakMap);const b=f.get(p);b===void 0?(o=fp(),f.set(p,o)):o=b}else{let f=o.p;f===null&&(o.p=f=new Map);const b=f.get(p);b===void 0?(o=fp(),f.set(p,o)):o=b}}const c=o;let u;if(o.s===YP)u=o.v;else if(u=e.apply(null,arguments),i++,a){const x=((m=n==null?void 0:n.deref)==null?void 0:m.call(n))??n;x!=null&&a(x,u)&&(u=x,i!==0&&i--),n=typeof u=="object"&&u!==null||typeof u=="function"?new Tne(u):u}return c.s=YP,c.v=u,u}return l.clearCache=()=>{s=fp(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function Ine(e,...r){const s=typeof e=="function"?{memoize:e,memoizeOptions:r}:e,a=(...n)=>{let i=0,l=0,o,d={},c=n.pop();typeof c=="object"&&(d=c,c=n.pop()),Nne(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...s,...d},{memoize:m,memoizeOptions:x=[],argsMemoize:h=pD,argsMemoizeOptions:p=[]}=u,f=KP(x),b=KP(p),j=Cne(n),w=m(function(){return i++,c.apply(null,arguments)},...f),y=h(function(){l++;const N=Pne(j,arguments);return o=w.apply(null,N),o},...b);return Object.assign(y,{resultFunc:c,memoizedResultFunc:w,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:h})};return Object.assign(a,{withTypes:()=>a}),a}var Ee=Ine(pD),One=Object.assign((e,r=Ee)=>{Sne(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const s=Object.keys(e),a=s.map(i=>e[i]);return r(a,(...i)=>i.reduce((l,o,d)=>(l[s[d]]=o,l),{}))},{withTypes:()=>One}),fD={},gD={},yD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const s=(a,n,i)=>{if(a!==n){const l=r(a),o=r(n);if(l===o&&l===0){if(a<n)return i==="desc"?1:-1;if(a>n)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=s})(yD);var bD={},Y4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="symbol"||s instanceof Symbol}e.isSymbol=r})(Y4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Y4,s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function n(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||r.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!s.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=n})(bD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=yD,s=bD,a=ob;function n(i,l,o,d){if(i==null)return[];o=d?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(h=>String(h));const c=(h,p)=>{let f=h;for(let b=0;b<p.length&&f!=null;++b)f=f[p[b]];return f},u=(h,p)=>p==null||h==null?p:typeof h=="object"&&"key"in h?Object.hasOwn(p,h.key)?p[h.key]:c(p,h.path):typeof h=="function"?h(p):Array.isArray(h)?c(p,h):typeof p=="object"?p[h]:p,m=l.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||s.isKey(h)?h:{key:h,path:a.toPath(h)}));return i.map(h=>({original:h,criteria:m.map(p=>u(p,h))})).slice().sort((h,p)=>{for(let f=0;f<m.length;f++){const b=r.compareValues(h.criteria[f],p.criteria[f],o[f]);if(b!==0)return b}return 0}).map(h=>h.original)}e.orderBy=n})(gD);var vD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a=1){const n=[],i=Math.floor(a),l=(o,d)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&d<i?l(u,d+1):n.push(u)}};return l(s,0),n}e.flatten=r})(vD);var X4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=G4,s=cb,a=z4,n=H4;function i(l,o,d){return a.isObject(d)&&(typeof o=="number"&&s.isArrayLike(d)&&r.isIndex(o)&&o<d.length||typeof o=="string"&&o in d)?n.eq(d[o],l):!1}e.isIterateeCall=i})(X4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=gD,s=vD,a=X4;function n(i,...l){const o=l.length;return o>1&&a.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&a.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),r.orderBy(i,s.flatten(l),["asc"])}e.sortBy=n})(fD);var _ne=fD.sortBy;const ub=ui(_ne);var jD=e=>e.legend.settings,Mne=e=>e.legend.size,Dne=e=>e.legend.payload,Lne=Ee([Dne,jD],(e,r)=>{var{itemSorter:s}=r,a=e.flat(1);return s?ub(a,s):a});function Fne(){return St(Lne)}var gp=1;function wD(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[r,s]=g.useState({height:0,left:0,top:0,width:0}),a=g.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-r.height)>gp||Math.abs(l.left-r.left)>gp||Math.abs(l.top-r.top)>gp||Math.abs(l.width-r.width)>gp)&&s({height:l.height,left:l.left,top:l.top,width:l.width})}},[r.width,r.height,r.top,r.left,...e]);return[r,a]}function Zs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Rne=typeof Symbol=="function"&&Symbol.observable||"@@observable",XP=Rne,E1=()=>Math.random().toString(36).substring(7).split("").join("."),Bne={INIT:`@@redux/INIT${E1()}`,REPLACE:`@@redux/REPLACE${E1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${E1()}`},mg=Bne;function J4(e){if(typeof e!="object"||e===null)return!1;let r=e;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r||Object.getPrototypeOf(e)===null}function ND(e,r,s){if(typeof e!="function")throw new Error(Zs(2));if(typeof r=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(Zs(0));if(typeof r=="function"&&typeof s>"u"&&(s=r,r=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(Zs(1));return s(ND)(e,r)}let a=e,n=r,i=new Map,l=i,o=0,d=!1;function c(){l===i&&(l=new Map,i.forEach((b,j)=>{l.set(j,b)}))}function u(){if(d)throw new Error(Zs(3));return n}function m(b){if(typeof b!="function")throw new Error(Zs(4));if(d)throw new Error(Zs(5));let j=!0;c();const w=o++;return l.set(w,b),function(){if(j){if(d)throw new Error(Zs(6));j=!1,c(),l.delete(w),i=null}}}function x(b){if(!J4(b))throw new Error(Zs(7));if(typeof b.type>"u")throw new Error(Zs(8));if(typeof b.type!="string")throw new Error(Zs(17));if(d)throw new Error(Zs(9));try{d=!0,n=a(n,b)}finally{d=!1}return(i=l).forEach(w=>{w()}),b}function h(b){if(typeof b!="function")throw new Error(Zs(10));a=b,x({type:mg.REPLACE})}function p(){const b=m;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Zs(11));function w(){const v=j;v.next&&v.next(u())}return w(),{unsubscribe:b(w)}},[XP](){return this}}}return x({type:mg.INIT}),{dispatch:x,subscribe:m,getState:u,replaceReducer:h,[XP]:p}}function $ne(e){Object.keys(e).forEach(r=>{const s=e[r];if(typeof s(void 0,{type:mg.INIT})>"u")throw new Error(Zs(12));if(typeof s(void 0,{type:mg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zs(13))})}function SD(e){const r=Object.keys(e),s={};for(let i=0;i<r.length;i++){const l=r[i];typeof e[l]=="function"&&(s[l]=e[l])}const a=Object.keys(s);let n;try{$ne(s)}catch(i){n=i}return function(l={},o){if(n)throw n;let d=!1;const c={};for(let u=0;u<a.length;u++){const m=a[u],x=s[m],h=l[m],p=x(h,o);if(typeof p>"u")throw o&&o.type,new Error(Zs(14));c[m]=p,d=d||p!==h}return d=d||a.length!==Object.keys(l).length,d?c:l}}function hg(...e){return e.length===0?r=>r:e.length===1?e[0]:e.reduce((r,s)=>(...a)=>r(s(...a)))}function zne(...e){return r=>(s,a)=>{const n=r(s,a);let i=()=>{throw new Error(Zs(15))};const l={getState:n.getState,dispatch:(d,...c)=>i(d,...c)},o=e.map(d=>d(l));return i=hg(...o)(n.dispatch),{...n,dispatch:i}}}function kD(e){return J4(e)&&"type"in e&&typeof e.type=="string"}var CD=Symbol.for("immer-nothing"),JP=Symbol.for("immer-draftable"),On=Symbol.for("immer-state");function Ni(e,...r){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var k0=Object.getPrototypeOf;function yd(e){return!!e&&!!e[On]}function Gl(e){var r;return e?PD(e)||Array.isArray(e)||!!e[JP]||!!((r=e.constructor)!=null&&r[JP])||hx(e)||hb(e):!1}var Une=Object.prototype.constructor.toString(),QP=new WeakMap;function PD(e){if(!e||typeof e!="object")return!1;const r=Object.getPrototypeOf(e);if(r===null||r===Object.prototype)return!0;const s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;if(s===Object)return!0;if(typeof s!="function")return!1;let a=QP.get(s);return a===void 0&&(a=Function.toString.call(s),QP.set(s,a)),a===Une}function xg(e,r,s=!0){mb(e)===0?(s?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{r(n,e[n],e)}):e.forEach((a,n)=>r(n,a,e))}function mb(e){const r=e[On];return r?r.type_:Array.isArray(e)?1:hx(e)?2:hb(e)?3:0}function Vj(e,r){return mb(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function AD(e,r,s){const a=mb(e);a===2?e.set(r,s):a===3?e.add(s):e[r]=s}function Hne(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function hx(e){return e instanceof Map}function hb(e){return e instanceof Set}function Ec(e){return e.copy_||e.base_}function Wj(e,r){if(hx(e))return new Map(e);if(hb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=PD(e);if(r===!0||r==="class_only"&&!s){const a=Object.getOwnPropertyDescriptors(e);delete a[On];let n=Reflect.ownKeys(a);for(let i=0;i<n.length;i++){const l=n[i],o=a[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(a[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(k0(e),a)}else{const a=k0(e);if(a!==null&&s)return{...e};const n=Object.create(a);return Object.assign(n,e)}}function Q4(e,r=!1){return xb(e)||yd(e)||!Gl(e)||(mb(e)>1&&Object.defineProperties(e,{set:yp,add:yp,clear:yp,delete:yp}),Object.freeze(e),r&&Object.values(e).forEach(s=>Q4(s,!0))),e}function Vne(){Ni(2)}var yp={value:Vne};function xb(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Wne={};function bd(e){const r=Wne[e];return r||Ni(0,e),r}var C0;function TD(){return C0}function qne(e,r){return{drafts_:[],parent_:e,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ZP(e,r){r&&(bd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=r)}function qj(e){Gj(e),e.drafts_.forEach(Gne),e.drafts_=null}function Gj(e){e===C0&&(C0=e.parent_)}function eA(e){return C0=qne(C0,e)}function Gne(e){const r=e[On];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function tA(e,r){r.unfinalizedDrafts_=r.drafts_.length;const s=r.drafts_[0];return e!==void 0&&e!==s?(s[On].modified_&&(qj(r),Ni(4)),Gl(e)&&(e=pg(r,e),r.parent_||fg(r,e)),r.patches_&&bd("Patches").generateReplacementPatches_(s[On].base_,e,r.patches_,r.inversePatches_)):e=pg(r,s,[]),qj(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),e!==CD?e:void 0}function pg(e,r,s){if(xb(r))return r;const a=e.immer_.shouldUseStrictIteration(),n=r[On];if(!n)return xg(r,(i,l)=>rA(e,n,r,i,l,s),a),r;if(n.scope_!==e)return r;if(!n.modified_)return fg(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let l=i,o=!1;n.type_===3&&(l=new Set(i),i.clear(),o=!0),xg(l,(d,c)=>rA(e,n,i,d,c,s,o),a),fg(e,i,!1),s&&e.patches_&&bd("Patches").generatePatches_(n,s,e.patches_,e.inversePatches_)}return n.copy_}function rA(e,r,s,a,n,i,l){if(n==null||typeof n!="object"&&!l)return;const o=xb(n);if(!(o&&!l)){if(yd(n)){const d=i&&r&&r.type_!==3&&!Vj(r.assigned_,a)?i.concat(a):void 0,c=pg(e,n,d);if(AD(s,a,c),yd(c))e.canAutoFreeze_=!1;else return}else l&&s.add(n);if(Gl(n)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||r&&r.base_&&r.base_[a]===n&&o)return;pg(e,n),(!r||!r.scope_.parent_)&&typeof a!="symbol"&&(hx(s)?s.has(a):Object.prototype.propertyIsEnumerable.call(s,a))&&fg(e,n)}}}function fg(e,r,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Q4(r,s)}function Kne(e,r){const s=Array.isArray(e),a={type_:s?1:0,scope_:r?r.scope_:TD(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,i=Z4;s&&(n=[a],i=P0);const{revoke:l,proxy:o}=Proxy.revocable(n,i);return a.draft_=o,a.revoke_=l,o}var Z4={get(e,r){if(r===On)return e;const s=Ec(e);if(!Vj(s,r))return Yne(e,s,r);const a=s[r];return e.finalized_||!Gl(a)?a:a===I1(e.base_,r)?(O1(e),e.copy_[r]=Yj(a,e)):a},has(e,r){return r in Ec(e)},ownKeys(e){return Reflect.ownKeys(Ec(e))},set(e,r,s){const a=ED(Ec(e),r);if(a!=null&&a.set)return a.set.call(e.draft_,s),!0;if(!e.modified_){const n=I1(Ec(e),r),i=n==null?void 0:n[On];if(i&&i.base_===s)return e.copy_[r]=s,e.assigned_[r]=!1,!0;if(Hne(s,n)&&(s!==void 0||Vj(e.base_,r)))return!0;O1(e),Kj(e)}return e.copy_[r]===s&&(s!==void 0||r in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[r])||(e.copy_[r]=s,e.assigned_[r]=!0),!0},deleteProperty(e,r){return I1(e.base_,r)!==void 0||r in e.base_?(e.assigned_[r]=!1,O1(e),Kj(e)):delete e.assigned_[r],e.copy_&&delete e.copy_[r],!0},getOwnPropertyDescriptor(e,r){const s=Ec(e),a=Reflect.getOwnPropertyDescriptor(s,r);return a&&{writable:!0,configurable:e.type_!==1||r!=="length",enumerable:a.enumerable,value:s[r]}},defineProperty(){Ni(11)},getPrototypeOf(e){return k0(e.base_)},setPrototypeOf(){Ni(12)}},P0={};xg(Z4,(e,r)=>{P0[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});P0.deleteProperty=function(e,r){return P0.set.call(this,e,r,void 0)};P0.set=function(e,r,s){return Z4.set.call(this,e[0],r,s,e[0])};function I1(e,r){const s=e[On];return(s?Ec(s):e)[r]}function Yne(e,r,s){var n;const a=ED(r,s);return a?"value"in a?a.value:(n=a.get)==null?void 0:n.call(e.draft_):void 0}function ED(e,r){if(!(r in e))return;let s=k0(e);for(;s;){const a=Object.getOwnPropertyDescriptor(s,r);if(a)return a;s=k0(s)}}function Kj(e){e.modified_||(e.modified_=!0,e.parent_&&Kj(e.parent_))}function O1(e){e.copy_||(e.copy_=Wj(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Xne=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(r,s,a)=>{if(typeof r=="function"&&typeof s!="function"){const i=s;s=r;const l=this;return function(d=i,...c){return l.produce(d,u=>s.call(this,u,...c))}}typeof s!="function"&&Ni(6),a!==void 0&&typeof a!="function"&&Ni(7);let n;if(Gl(r)){const i=eA(this),l=Yj(r,void 0);let o=!0;try{n=s(l),o=!1}finally{o?qj(i):Gj(i)}return ZP(i,a),tA(n,i)}else if(!r||typeof r!="object"){if(n=s(r),n===void 0&&(n=r),n===CD&&(n=void 0),this.autoFreeze_&&Q4(n,!0),a){const i=[],l=[];bd("Patches").generateReplacementPatches_(r,n,i,l),a(i,l)}return n}else Ni(1,r)},this.produceWithPatches=(r,s)=>{if(typeof r=="function")return(l,...o)=>this.produceWithPatches(l,d=>r(d,...o));let a,n;return[this.produce(r,s,(l,o)=>{a=l,n=o}),a,n]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Gl(e)||Ni(8),yd(e)&&(e=Ol(e));const r=eA(this),s=Yj(e,void 0);return s[On].isManual_=!0,Gj(r),s}finishDraft(e,r){const s=e&&e[On];(!s||!s.isManual_)&&Ni(9);const{scope_:a}=s;return ZP(a,r),tA(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let s;for(s=r.length-1;s>=0;s--){const n=r[s];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}s>-1&&(r=r.slice(s+1));const a=bd("Patches").applyPatches_;return yd(e)?a(e,r):this.produce(e,n=>a(n,r))}};function Yj(e,r){const s=hx(e)?bd("MapSet").proxyMap_(e,r):hb(e)?bd("MapSet").proxySet_(e,r):Kne(e,r);return(r?r.scope_:TD()).drafts_.push(s),s}function Ol(e){return yd(e)||Ni(10,e),ID(e)}function ID(e){if(!Gl(e)||xb(e))return e;const r=e[On];let s,a=!0;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,s=Wj(e,r.scope_.immer_.useStrictShallowCopy_),a=r.scope_.immer_.shouldUseStrictIteration()}else s=Wj(e,!0);return xg(s,(n,i)=>{AD(s,n,ID(i))},a),r&&(r.finalized_=!1),s}var Xj=new Xne,OD=Xj.produce,Jne=Xj.setUseStrictIteration.bind(Xj);function _D(e){return({dispatch:s,getState:a})=>n=>i=>typeof i=="function"?i(s,a,e):n(i)}var Qne=_D(),Zne=_D,eie=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?hg:hg.apply(null,arguments)};function ci(e,r){function s(...a){if(r){let n=r(...a);if(!n)throw new Error(Pn(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:a[0]}}return s.toString=()=>`${e}`,s.type=e,s.match=a=>kD(a)&&a.type===e,s}var MD=class kh extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,kh.prototype)}static get[Symbol.species](){return kh}concat(...r){return super.concat.apply(this,r)}prepend(...r){return r.length===1&&Array.isArray(r[0])?new kh(...r[0].concat(this)):new kh(...r.concat(this))}};function sA(e){return Gl(e)?OD(e,()=>{}):e}function bp(e,r,s){return e.has(r)?e.get(r):e.set(r,s(r)).get(r)}function tie(e){return typeof e=="boolean"}var rie=()=>function(r){const{thunk:s=!0,immutableCheck:a=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=r??{};let l=new MD;return s&&(tie(s)?l.push(Qne):l.push(Zne(s.extraArgument))),l},DD="RTK_autoBatch",Ls=()=>e=>({payload:e,meta:{[DD]:!0}}),aA=e=>r=>{setTimeout(r,e)},LD=(e={type:"raf"})=>r=>(...s)=>{const a=r(...s);let n=!0,i=!1,l=!1;const o=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:aA(10):e.type==="callback"?e.queueNotification:aA(e.timeout),c=()=>{l=!1,i&&(i=!1,o.forEach(u=>u()))};return Object.assign({},a,{subscribe(u){const m=()=>n&&u(),x=a.subscribe(m);return o.add(u),()=>{x(),o.delete(u)}},dispatch(u){var m;try{return n=!((m=u==null?void 0:u.meta)!=null&&m[DD]),i=!n,i&&(l||(l=!0,d(c))),a.dispatch(u)}finally{n=!0}}})},sie=e=>function(s){const{autoBatch:a=!0}=s??{};let n=new MD(e);return a&&n.push(LD(typeof a=="object"?a:void 0)),n};function aie(e){const r=rie(),{reducer:s=void 0,middleware:a,devTools:n=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof s=="function")o=s;else if(J4(s))o=SD(s);else throw new Error(Pn(1));let d;typeof a=="function"?d=a(r):d=r();let c=hg;n&&(c=eie({trace:!1,...typeof n=="object"&&n}));const u=zne(...d),m=sie(u);let x=typeof l=="function"?l(m):m();const h=c(...x);return ND(o,i,h)}function FD(e){const r={},s=[];let a;const n={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Pn(28));if(o in r)throw new Error(Pn(29));return r[o]=l,n},addAsyncThunk(i,l){return l.pending&&(r[i.pending.type]=l.pending),l.rejected&&(r[i.rejected.type]=l.rejected),l.fulfilled&&(r[i.fulfilled.type]=l.fulfilled),l.settled&&s.push({matcher:i.settled,reducer:l.settled}),n},addMatcher(i,l){return s.push({matcher:i,reducer:l}),n},addDefaultCase(i){return a=i,n}};return e(n),[r,s,a]}Jne(!1);function nie(e){return typeof e=="function"}function iie(e,r){let[s,a,n]=FD(r),i;if(nie(e))i=()=>sA(e());else{const o=sA(e);i=()=>o}function l(o=i(),d){let c=[s[d.type],...a.filter(({matcher:u})=>u(d)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[n]),c.reduce((u,m)=>{if(m)if(yd(u)){const h=m(u,d);return h===void 0?u:h}else{if(Gl(u))return OD(u,x=>m(x,d));{const x=m(u,d);if(x===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return u},o)}return l.getInitialState=i,l}var lie="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",oie=(e=21)=>{let r="",s=e;for(;s--;)r+=lie[Math.random()*64|0];return r},cie=Symbol.for("rtk-slice-createasyncthunk");function die(e,r){return`${e}/${r}`}function uie({creators:e}={}){var s;const r=(s=e==null?void 0:e.asyncThunk)==null?void 0:s[cie];return function(n){const{name:i,reducerPath:l=i}=n;if(!i)throw new Error(Pn(11));const o=(typeof n.reducers=="function"?n.reducers(hie()):n.reducers)||{},d=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(v,N){const S=typeof v=="string"?v:v.type;if(!S)throw new Error(Pn(12));if(S in c.sliceCaseReducersByType)throw new Error(Pn(13));return c.sliceCaseReducersByType[S]=N,u},addMatcher(v,N){return c.sliceMatchers.push({matcher:v,reducer:N}),u},exposeAction(v,N){return c.actionCreators[v]=N,u},exposeCaseReducer(v,N){return c.sliceCaseReducersByName[v]=N,u}};d.forEach(v=>{const N=o[v],S={reducerName:v,type:die(i,v),createNotation:typeof n.reducers=="function"};pie(N)?gie(S,N,u,r):xie(S,N,u)});function m(){const[v={},N=[],S=void 0]=typeof n.extraReducers=="function"?FD(n.extraReducers):[n.extraReducers],k={...v,...c.sliceCaseReducersByType};return iie(n.initialState,P=>{for(let C in k)P.addCase(C,k[C]);for(let C of c.sliceMatchers)P.addMatcher(C.matcher,C.reducer);for(let C of N)P.addMatcher(C.matcher,C.reducer);S&&P.addDefaultCase(S)})}const x=v=>v,h=new Map,p=new WeakMap;let f;function b(v,N){return f||(f=m()),f(v,N)}function j(){return f||(f=m()),f.getInitialState()}function w(v,N=!1){function S(P){let C=P[v];return typeof C>"u"&&N&&(C=bp(p,S,j)),C}function k(P=x){const C=bp(h,N,()=>new WeakMap);return bp(C,P,()=>{const _={};for(const[A,D]of Object.entries(n.selectors??{}))_[A]=mie(D,P,()=>bp(p,P,j),N);return _})}return{reducerPath:v,getSelectors:k,get selectors(){return k(S)},selectSlice:S}}const y={name:i,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:j,...w(l),injectInto(v,{reducerPath:N,...S}={}){const k=N??l;return v.inject({reducerPath:k,reducer:b},S),{...y,...w(k,!0)}}};return y}}function mie(e,r,s,a){function n(i,...l){let o=r(i);return typeof o>"u"&&a&&(o=s()),e(o,...l)}return n.unwrapped=e,n}var cn=uie();function hie(){function e(r,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:r,...s}}return e.withTypes=()=>e,{reducer(r){return Object.assign({[r.name](...s){return r(...s)}}[r.name],{_reducerDefinitionType:"reducer"})},preparedReducer(r,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:r,reducer:s}},asyncThunk:e}}function xie({type:e,reducerName:r,createNotation:s},a,n){let i,l;if("reducer"in a){if(s&&!fie(a))throw new Error(Pn(17));i=a.reducer,l=a.prepare}else i=a;n.addCase(e,i).exposeCaseReducer(r,i).exposeAction(r,l?ci(e,l):ci(e))}function pie(e){return e._reducerDefinitionType==="asyncThunk"}function fie(e){return e._reducerDefinitionType==="reducerWithPrepare"}function gie({type:e,reducerName:r},s,a,n){if(!n)throw new Error(Pn(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:d,settled:c,options:u}=s,m=n(e,i,u);a.exposeAction(r,m),l&&a.addCase(m.fulfilled,l),o&&a.addCase(m.pending,o),d&&a.addCase(m.rejected,d),c&&a.addMatcher(m.settled,c),a.exposeCaseReducer(r,{fulfilled:l||vp,pending:o||vp,rejected:d||vp,settled:c||vp})}function vp(){}var yie="task",RD="listener",BD="completed",e3="cancelled",bie=`task-${e3}`,vie=`task-${BD}`,Jj=`${RD}-${e3}`,jie=`${RD}-${BD}`,pb=class{constructor(e){fi(this,"name","TaskAbortError");fi(this,"message");this.code=e,this.message=`${yie} ${e3} (reason: ${e})`}},t3=(e,r)=>{if(typeof e!="function")throw new TypeError(Pn(32))},gg=()=>{},$D=(e,r=gg)=>(e.catch(r),e),zD=(e,r)=>(e.addEventListener("abort",r,{once:!0}),()=>e.removeEventListener("abort",r)),Xc=(e,r)=>{const s=e.signal;s.aborted||("reason"in s||Object.defineProperty(s,"reason",{enumerable:!0,value:r,configurable:!0,writable:!0}),e.abort(r))},Jc=e=>{if(e.aborted){const{reason:r}=e;throw new pb(r)}};function UD(e,r){let s=gg;return new Promise((a,n)=>{const i=()=>n(new pb(e.reason));if(e.aborted){i();return}s=zD(e,i),r.finally(()=>s()).then(a,n)}).finally(()=>{s=gg})}var wie=async(e,r)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(s){return{status:s instanceof pb?"cancelled":"rejected",error:s}}finally{r==null||r()}},yg=e=>r=>$D(UD(e,r).then(s=>(Jc(e),s))),HD=e=>{const r=yg(e);return s=>r(new Promise(a=>setTimeout(a,s)))},{assign:Fu}=Object,nA={},fb="listenerMiddleware",Nie=(e,r)=>{const s=a=>zD(e,()=>Xc(a,e.reason));return(a,n)=>{t3(a);const i=new AbortController;s(i);const l=wie(async()=>{Jc(e),Jc(i.signal);const o=await a({pause:yg(i.signal),delay:HD(i.signal),signal:i.signal});return Jc(i.signal),o},()=>Xc(i,vie));return n!=null&&n.autoJoin&&r.push(l.catch(gg)),{result:yg(e)(l),cancel(){Xc(i,bie)}}}},Sie=(e,r)=>{const s=async(a,n)=>{Jc(r);let i=()=>{};const o=[new Promise((d,c)=>{let u=e({predicate:a,effect:(m,x)=>{x.unsubscribe(),d([m,x.getState(),x.getOriginalState()])}});i=()=>{u(),c()}})];n!=null&&o.push(new Promise(d=>setTimeout(d,n,null)));try{const d=await UD(r,Promise.race(o));return Jc(r),d}finally{i()}};return(a,n)=>$D(s(a,n))},VD=e=>{let{type:r,actionCreator:s,matcher:a,predicate:n,effect:i}=e;if(r)n=ci(r).match;else if(s)r=s.type,n=s.match;else if(a)n=a;else if(!n)throw new Error(Pn(21));return t3(i),{predicate:n,type:r,effect:i}},WD=Fu(e=>{const{type:r,predicate:s,effect:a}=VD(e);return{id:oie(),effect:a,type:r,predicate:s,pending:new Set,unsubscribe:()=>{throw new Error(Pn(22))}}},{withTypes:()=>WD}),iA=(e,r)=>{const{type:s,effect:a,predicate:n}=VD(r);return Array.from(e.values()).find(i=>(typeof s=="string"?i.type===s:i.predicate===n)&&i.effect===a)},Qj=e=>{e.pending.forEach(r=>{Xc(r,Jj)})},kie=(e,r)=>()=>{for(const s of r.keys())Qj(s);e.clear()},lA=(e,r,s)=>{try{e(r,s)}catch(a){setTimeout(()=>{throw a},0)}},qD=Fu(ci(`${fb}/add`),{withTypes:()=>qD}),Cie=ci(`${fb}/removeAll`),GD=Fu(ci(`${fb}/remove`),{withTypes:()=>GD}),Pie=(...e)=>{console.error(`${fb}/error`,...e)},xx=(e={})=>{const r=new Map,s=new Map,a=h=>{const p=s.get(h)??0;s.set(h,p+1)},n=h=>{const p=s.get(h)??1;p===1?s.delete(h):s.set(h,p-1)},{extra:i,onError:l=Pie}=e;t3(l);const o=h=>(h.unsubscribe=()=>r.delete(h.id),r.set(h.id,h),p=>{h.unsubscribe(),p!=null&&p.cancelActive&&Qj(h)}),d=h=>{const p=iA(r,h)??WD(h);return o(p)};Fu(d,{withTypes:()=>d});const c=h=>{const p=iA(r,h);return p&&(p.unsubscribe(),h.cancelActive&&Qj(p)),!!p};Fu(c,{withTypes:()=>c});const u=async(h,p,f,b)=>{const j=new AbortController,w=Sie(d,j.signal),y=[];try{h.pending.add(j),a(h),await Promise.resolve(h.effect(p,Fu({},f,{getOriginalState:b,condition:(v,N)=>w(v,N).then(Boolean),take:w,delay:HD(j.signal),pause:yg(j.signal),extra:i,signal:j.signal,fork:Nie(j.signal,y),unsubscribe:h.unsubscribe,subscribe:()=>{r.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((v,N,S)=>{v!==j&&(Xc(v,Jj),S.delete(v))})},cancel:()=>{Xc(j,Jj),h.pending.delete(j)},throwIfCancelled:()=>{Jc(j.signal)}})))}catch(v){v instanceof pb||lA(l,v,{raisedBy:"effect"})}finally{await Promise.all(y),Xc(j,jie),n(h),h.pending.delete(j)}},m=kie(r,s);return{middleware:h=>p=>f=>{if(!kD(f))return p(f);if(qD.match(f))return d(f.payload);if(Cie.match(f)){m();return}if(GD.match(f))return c(f.payload);let b=h.getState();const j=()=>{if(b===nA)throw new Error(Pn(23));return b};let w;try{if(w=p(f),r.size>0){const y=h.getState(),v=Array.from(r.values());for(const N of v){let S=!1;try{S=N.predicate(f,y,b)}catch(k){S=!1,lA(l,k,{raisedBy:"predicate"})}S&&u(N,f,h,j)}}}finally{b=nA}return w},startListening:d,stopListening:c,clearListeners:m}};function Pn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Aie={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},KD=cn({name:"chartLayout",initialState:Aie,reducers:{setLayout(e,r){e.layoutType=r.payload},setChartSize(e,r){e.width=r.payload.width,e.height=r.payload.height},setMargin(e,r){var s,a,n,i;e.margin.top=(s=r.payload.top)!==null&&s!==void 0?s:0,e.margin.right=(a=r.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(n=r.payload.bottom)!==null&&n!==void 0?n:0,e.margin.left=(i=r.payload.left)!==null&&i!==void 0?i:0},setScale(e,r){e.scale=r.payload}}}),{setMargin:Tie,setLayout:Eie,setChartSize:Iie,setScale:Oie}=KD.actions,_ie=KD.reducer;function YD(e,r,s){return Array.isArray(e)&&e&&r+s!==0?e.slice(r,s+1):e}function oA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ju(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?oA(Object(s),!0).forEach(function(a){Mie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):oA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Mie(e,r,s){return(r=Die(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Die(e){var r=Lie(e,"string");return typeof r=="symbol"?r:r+""}function Lie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function jr(e,r,s){return Rr(e)||Rr(r)?s:al(r)?gd(e,r,s):typeof r=="function"?r(e):s}var Fie=(e,r,s)=>{if(r&&s){var{width:a,height:n}=s,{align:i,verticalAlign:l,layout:o}=r;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&jt(e[i]))return ju(ju({},e),{},{[i]:e[i]+(a||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&jt(e[l]))return ju(ju({},e),{},{[l]:e[l]+(n||0)})}return e},ul=(e,r)=>e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis",XD=(e,r,s,a)=>{if(a)return e.map(o=>o.coordinate);var n,i,l=e.map(o=>(o.coordinate===r&&(n=!0),o.coordinate===s&&(i=!0),o.coordinate));return n||l.push(r),i||l.push(s),l},JD=(e,r,s)=>{if(!e)return null;var{duplicateDomain:a,type:n,range:i,scale:l,realScaleType:o,isCategorical:d,categoricalDomain:c,tickCount:u,ticks:m,niceTicks:x,axisType:h}=e;if(!l)return null;var p=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,f=n==="category"&&l.bandwidth?l.bandwidth()/p:0;if(f=h==="angleAxis"&&i&&i.length>=2?qs(i[0]-i[1])*2*f:f,m||x){var b=(m||x||[]).map((j,w)=>{var y=a?a.indexOf(j):j;return{coordinate:l(y)+f,value:j,offset:f,index:w}});return b.filter(j=>!oi(j.coordinate))}return d&&c?c.map((j,w)=>({coordinate:l(j)+f,value:j,index:w,offset:f})):l.ticks&&u!=null?l.ticks(u).map((j,w)=>({coordinate:l(j)+f,value:j,offset:f,index:w})):l.domain().map((j,w)=>({coordinate:l(j)+f,value:a?a[j]:j,index:w,offset:f}))},cA=1e-4,Rie=e=>{var r=e.domain();if(!(!r||r.length<=2)){var s=r.length,a=e.range(),n=Math.min(a[0],a[1])-cA,i=Math.max(a[0],a[1])+cA,l=e(r[0]),o=e(r[s-1]);(l<n||l>i||o<n||o>i)&&e.domain([r[0],r[s-1]])}},Bie=(e,r)=>{if(!r||r.length!==2||!jt(r[0])||!jt(r[1]))return e;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),n=[e[0],e[1]];return(!jt(e[0])||e[0]<s)&&(n[0]=s),(!jt(e[1])||e[1]>a)&&(n[1]=a),n[0]>a&&(n[0]=a),n[1]<s&&(n[1]=s),n},$ie=e=>{var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var n=0,i=0,l=0;l<r;++l){var o=oi(e[l][s][1])?e[l][s][0]:e[l][s][1];o>=0?(e[l][s][0]=n,e[l][s][1]=n+o,n=e[l][s][1]):(e[l][s][0]=i,e[l][s][1]=i+o,i=e[l][s][1])}},zie=e=>{var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var n=0,i=0;i<r;++i){var l=oi(e[i][s][1])?e[i][s][0]:e[i][s][1];l>=0?(e[i][s][0]=n,e[i][s][1]=n+l,n=e[i][s][1]):(e[i][s][0]=0,e[i][s][1]=0)}},Uie={sign:$ie,expand:kae,none:cm,silhouette:Cae,wiggle:Pae,positive:zie},Hie=(e,r,s)=>{var a=Uie[s],n=Sae().keys(r).value((i,l)=>Number(jr(i,l,0))).order(Uj).offset(a);return n(e)};function QD(e){return e==null?void 0:String(e)}function bg(e){var{axis:r,ticks:s,bandSize:a,entry:n,index:i,dataKey:l}=e;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!Rr(n[r.dataKey])){var o=V9(s,"value",n[r.dataKey]);if(o)return o.coordinate+a/2}return s[i]?s[i].coordinate+a/2:null}var d=jr(n,Rr(l)?r.dataKey:l);return Rr(d)?null:r.scale(d)}var dA=e=>{var{axis:r,ticks:s,offset:a,bandSize:n,entry:i,index:l}=e;if(r.type==="category")return s[l]?s[l].coordinate+a:null;var o=jr(i,r.dataKey,r.scale.domain()[l]);return Rr(o)?null:r.scale(o)-n/2+a},Vie=e=>{var{numericAxis:r}=e,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),n=Math.max(s[0],s[1]);return a<=0&&n>=0?0:n<0?n:a}return s[0]},Wie=e=>{var r=e.flat(2).filter(jt);return[Math.min(...r),Math.max(...r)]},qie=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Gie=(e,r,s)=>{if(e!=null)return qie(Object.keys(e).reduce((a,n)=>{var i=e[n],{stackedData:l}=i,o=l.reduce((d,c)=>{var u=YD(c,r,s),m=Wie(u);return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],a[0]),Math.max(o[1],a[1])]},[1/0,-1/0]))},uA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rc=(e,r,s)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!s||a>0)return a}if(e&&r&&r.length>=2){for(var n=ub(r,u=>u.coordinate),i=1/0,l=1,o=n.length;l<o;l++){var d=n[l],c=n[l-1];i=Math.min((d.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return s?void 0:0};function hA(e){var{tooltipEntrySettings:r,dataKey:s,payload:a,value:n,name:i}=e;return ju(ju({},r),{},{dataKey:s,payload:a,value:n,name:i})}function xc(e,r){if(e)return String(e);if(typeof r=="string")return r}var Kie=(e,r)=>{if(r==="horizontal")return e.chartX;if(r==="vertical")return e.chartY},Yie=(e,r)=>r==="centric"?e.angle:e.radius,no=e=>e.layout.width,io=e=>e.layout.height,Xie=e=>e.layout.scale,ZD=e=>e.layout.margin,gb=Ee(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),yb=Ee(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),eL="data-recharts-item-index",tL="data-recharts-item-data-key",px=60;function xA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function jp(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?xA(Object(s),!0).forEach(function(a){Jie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):xA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Jie(e,r,s){return(r=Qie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Qie(e){var r=Zie(e,"string");return typeof r=="symbol"?r:r+""}function Zie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ele=e=>e.brush.height;function tle(e){var r=yb(e);return r.reduce((s,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:px;return s+n}return s},0)}function rle(e){var r=yb(e);return r.reduce((s,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:px;return s+n}return s},0)}function sle(e){var r=gb(e);return r.reduce((s,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?s+a.height:s,0)}function ale(e){var r=gb(e);return r.reduce((s,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?s+a.height:s,0)}var Rs=Ee([no,io,ZD,ele,tle,rle,sle,ale,jD,Mne],(e,r,s,a,n,i,l,o,d,c)=>{var u={left:(s.left||0)+n,right:(s.right||0)+i},m={top:(s.top||0)+l,bottom:(s.bottom||0)+o},x=jp(jp({},m),u),h=x.bottom;x.bottom+=a,x=Fie(x,d,c);var p=e-x.left-x.right,f=r-x.top-x.bottom;return jp(jp({brushBottom:h},x),{},{width:Math.max(p,0),height:Math.max(f,0)})}),nle=Ee(Rs,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),r3=Ee(no,io,(e,r)=>({x:0,y:0,width:e,height:r})),ile=g.createContext(null),Xs=()=>g.useContext(ile)!=null,bb=e=>e.brush,vb=Ee([bb,Rs,ZD],(e,r,s)=>({height:e.height,x:jt(e.x)?e.x:r.left,y:jt(e.y)?e.y:r.top+r.height+r.brushBottom-((s==null?void 0:s.bottom)||0),width:jt(e.width)?e.width:r.width})),rL={},sL={},aL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a,{signal:n,edges:i}={}){let l,o=null;const d=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),u=()=>{o!==null&&(s.apply(l,o),l=void 0,o=null)},m=()=>{c&&u(),f()};let x=null;const h=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,m()},a)},p=()=>{x!==null&&(clearTimeout(x),x=null)},f=()=>{p(),l=void 0,o=null},b=()=>{u()},j=function(...w){if(n!=null&&n.aborted)return;l=this,o=w;const y=x==null;h(),d&&y&&u()};return j.schedule=h,j.cancel=f,j.flush=b,n==null||n.addEventListener("abort",f,{once:!0}),j}e.debounce=r})(aL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=aL;function s(a,n=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:d}=i,c=Array(2);l&&(c[0]="leading"),o&&(c[1]="trailing");let u,m=null;const x=r.debounce(function(...f){u=a.apply(this,f),m=null},n,{edges:c}),h=function(...f){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(u=a.apply(this,f),m=Date.now(),x.cancel(),x.schedule(),u):(x.apply(this,f),u)},p=()=>(x.flush(),u);return h.cancel=x.cancel,h.flush=p,h}e.debounce=s})(sL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=sL;function s(a,n=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return r.debounce(a,n,{leading:l,maxWait:n,trailing:o})}e.throttle=s})(rL);var lle=rL.throttle;const ole=ui(lle);var vg=function(r,s){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i]},nL=(e,r,s)=>{var{width:a="100%",height:n="100%",aspect:i,maxHeight:l}=s,o=ql(a)?e:Number(a),d=ql(n)?r:Number(n);return i&&i>0&&(o?d=o/i:d&&(o=d*i),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:o,calculatedHeight:d}},cle={width:0,height:0,overflow:"visible"},dle={width:0,overflowX:"visible"},ule={height:0,overflowY:"visible"},mle={},hle=e=>{var{width:r,height:s}=e,a=ql(r),n=ql(s);return a&&n?cle:a?dle:n?ule:mle};function xle(e){var{width:r,height:s,aspect:a}=e,n=r,i=s;return n===void 0&&i===void 0?(n="100%",i="100%"):n===void 0?n=a&&a>0?void 0:"100%":i===void 0&&(i=a&&a>0?void 0:"100%"),{width:n,height:i}}function Br(e){return Number.isFinite(e)}function nl(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Zj(){return Zj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Zj.apply(null,arguments)}function pA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function fA(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?pA(Object(s),!0).forEach(function(a){ple(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):pA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ple(e,r,s){return(r=fle(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function fle(e){var r=gle(e,"string");return typeof r=="symbol"?r:r+""}function gle(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var iL=g.createContext({width:-1,height:-1});function yle(e){return nl(e.width)&&nl(e.height)}function lL(e){var{children:r,width:s,height:a}=e,n=g.useMemo(()=>({width:s,height:a}),[s,a]);return yle(n)?g.createElement(iL.Provider,{value:n},r):null}var s3=()=>g.useContext(iL),ble=g.forwardRef((e,r)=>{var{aspect:s,initialDimension:a={width:-1,height:-1},width:n,height:i,minWidth:l=0,minHeight:o,maxHeight:d,children:c,debounce:u=0,id:m,className:x,onResize:h,style:p={}}=e,f=g.useRef(null),b=g.useRef();b.current=h,g.useImperativeHandle(r,()=>f.current);var[j,w]=g.useState({containerWidth:a.width,containerHeight:a.height}),y=g.useCallback((P,C)=>{w(_=>{var A=Math.round(P),D=Math.round(C);return _.containerWidth===A&&_.containerHeight===D?_:{containerWidth:A,containerHeight:D}})},[]);g.useEffect(()=>{if(f.current==null||typeof ResizeObserver>"u")return Fd;var P=D=>{var H,{width:re,height:xe}=D[0].contentRect;y(re,xe),(H=b.current)===null||H===void 0||H.call(b,re,xe)};u>0&&(P=ole(P,u,{trailing:!0,leading:!1}));var C=new ResizeObserver(P),{width:_,height:A}=f.current.getBoundingClientRect();return y(_,A),C.observe(f.current),()=>{C.disconnect()}},[y,u]);var{containerWidth:v,containerHeight:N}=j;vg(!s||s>0,"The aspect(%s) must be greater than zero.",s);var{calculatedWidth:S,calculatedHeight:k}=nL(v,N,{width:n,height:i,aspect:s,maxHeight:d});return vg(S!=null&&S>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,k,n,i,l,o,s),g.createElement("div",{id:m?"".concat(m):void 0,className:nr("recharts-responsive-container",x),style:fA(fA({},p),{},{width:n,height:i,minWidth:l,minHeight:o,maxHeight:d}),ref:f},g.createElement("div",{style:hle({width:n,height:i})},g.createElement(lL,{width:S,height:k},c)))}),Ki=g.forwardRef((e,r)=>{var s=s3();if(nl(s.width)&&nl(s.height))return e.children;var{width:a,height:n}=xle({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=nL(void 0,void 0,{width:a,height:n,aspect:e.aspect,maxHeight:e.maxHeight});return jt(i)&&jt(l)?g.createElement(lL,{width:i,height:l},e.children):g.createElement(ble,Zj({},e,{width:a,height:n,ref:r}))});function oL(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var jb=()=>{var e,r=Xs(),s=St(nle),a=St(vb),n=(e=St(bb))===null||e===void 0?void 0:e.padding;return!r||!a||!n?s:{width:a.width-n.left-n.right,height:a.height-n.top-n.bottom,x:n.left,y:n.top}},vle={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},cL=()=>{var e;return(e=St(Rs))!==null&&e!==void 0?e:vle},a3=()=>St(no),n3=()=>St(io),jle=()=>St(e=>e.layout.margin),Zt=e=>e.layout.layoutType,Pm=()=>St(Zt),wle=()=>{var e=Pm();return e!==void 0},wb=e=>{var r=_r(),s=Xs(),{width:a,height:n}=e,i=s3(),l=a,o=n;return i&&(l=i.width>0?i.width:a,o=i.height>0?i.height:n),g.useEffect(()=>{!s&&nl(l)&&nl(o)&&r(Iie({width:l,height:o}))},[r,s,l,o]),null},Nle={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},dL=cn({name:"legend",initialState:Nle,reducers:{setLegendSize(e,r){e.size.width=r.payload.width,e.size.height=r.payload.height},setLegendSettings(e,r){e.settings.align=r.payload.align,e.settings.layout=r.payload.layout,e.settings.verticalAlign=r.payload.verticalAlign,e.settings.itemSorter=r.payload.itemSorter},addLegendPayload:{reducer(e,r){e.payload.push(r.payload)},prepare:Ls()},removeLegendPayload:{reducer(e,r){var s=Ol(e).payload.indexOf(r.payload);s>-1&&e.payload.splice(s,1)},prepare:Ls()}}}),{setLegendSize:gA,setLegendSettings:Sle,addLegendPayload:uL,removeLegendPayload:mL}=dL.actions,kle=dL.reducer,Cle=["contextPayload"];function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ew.apply(null,arguments)}function yA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function um(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?yA(Object(s),!0).forEach(function(a){Ple(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ple(e,r,s){return(r=Ale(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Ale(e){var r=Tle(e,"string");return typeof r=="symbol"?r:r+""}function Tle(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ele(e,r){if(e==null)return{};var s,a,n=Ile(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Ile(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Ole(e){return e.value}function _le(e){var{contextPayload:r}=e,s=Ele(e,Cle),a=dD(r,e.payloadUniqBy,Ole),n=um(um({},s),{},{payload:a});return g.isValidElement(e.content)?g.cloneElement(e.content,n):typeof e.content=="function"?g.createElement(e.content,n):g.createElement(Zae,n)}function Mle(e,r,s,a,n,i){var{layout:l,align:o,verticalAlign:d}=r,c,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&l==="vertical"?c={left:((a||0)-i.width)/2}:c=o==="right"?{right:s&&s.right||0}:{left:s&&s.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?u={top:((n||0)-i.height)/2}:u=d==="bottom"?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),um(um({},c),u)}function Dle(e){var r=_r();return g.useEffect(()=>{r(Sle(e))},[r,e]),null}function Lle(e){var r=_r();return g.useEffect(()=>(r(gA(e)),()=>{r(gA({width:0,height:0}))}),[r,e]),null}function Fle(e,r,s,a){return e==="vertical"&&jt(r)?{height:r}:e==="horizontal"?{width:s||a}:null}var Rle={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Ru(e){var r=ds(e,Rle),s=Fne(),a=Kse(),n=jle(),{width:i,height:l,wrapperStyle:o,portal:d}=r,[c,u]=wD([s]),m=a3(),x=n3();if(m==null||x==null)return null;var h=m-((n==null?void 0:n.left)||0)-((n==null?void 0:n.right)||0),p=Fle(r.layout,l,i,h),f=d?o:um(um({position:"absolute",width:(p==null?void 0:p.width)||i||"auto",height:(p==null?void 0:p.height)||l||"auto"},Mle(o,r,n,m,x,c)),o),b=d??a;if(b==null||s==null)return null;var j=g.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:u},g.createElement(Dle,{layout:r.layout,align:r.align,verticalAlign:r.verticalAlign,itemSorter:r.itemSorter}),g.createElement(Lle,{width:c.width,height:c.height}),g.createElement(_le,ew({},r,p,{margin:n,chartWidth:m,chartHeight:x,contextPayload:s})));return Oy.createPortal(j,b)}Ru.displayName="Legend";function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},tw.apply(null,arguments)}function bA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function _1(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?bA(Object(s),!0).forEach(function(a){Ble(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):bA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ble(e,r,s){return(r=$le(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function $le(e){var r=zle(e,"string");return typeof r=="symbol"?r:r+""}function zle(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ule(e){return Array.isArray(e)&&al(e[0])&&al(e[1])?e.join(" ~ "):e}var Hle=e=>{var{separator:r=" : ",contentStyle:s={},itemStyle:a={},labelStyle:n={},payload:i,formatter:l,itemSorter:o,wrapperClassName:d,labelClassName:c,label:u,labelFormatter:m,accessibilityLayer:x=!1}=e,h=()=>{if(i&&i.length){var N={padding:0,margin:0},S=(o?ub(i,o):i).map((k,P)=>{if(k.type==="none")return null;var C=k.formatter||l||Ule,{value:_,name:A}=k,D=_,H=A;if(C){var re=C(_,A,k,P,i);if(Array.isArray(re))[D,H]=re;else if(re!=null)D=re;else return null}var xe=_1({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},a);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:xe},al(H)?g.createElement("span",{className:"recharts-tooltip-item-name"},H):null,al(H)?g.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,g.createElement("span",{className:"recharts-tooltip-item-value"},D),g.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:N},S)}return null},p=_1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),f=_1({margin:0},n),b=!Rr(u),j=b?u:"",w=nr("recharts-default-tooltip",d),y=nr("recharts-tooltip-label",c);b&&m&&i!==void 0&&i!==null&&(j=m(u,i));var v=x?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",tw({className:w,style:p},v),g.createElement("p",{className:y,style:f},g.isValidElement(j)?j:"".concat(j)),h())},nh="recharts-tooltip-wrapper",Vle={visibility:"hidden"};function Wle(e){var{coordinate:r,translateX:s,translateY:a}=e;return nr(nh,{["".concat(nh,"-right")]:jt(s)&&r&&jt(r.x)&&s>=r.x,["".concat(nh,"-left")]:jt(s)&&r&&jt(r.x)&&s<r.x,["".concat(nh,"-bottom")]:jt(a)&&r&&jt(r.y)&&a>=r.y,["".concat(nh,"-top")]:jt(a)&&r&&jt(r.y)&&a<r.y})}function vA(e){var{allowEscapeViewBox:r,coordinate:s,key:a,offsetTopLeft:n,position:i,reverseDirection:l,tooltipDimension:o,viewBox:d,viewBoxDimension:c}=e;if(i&&jt(i[a]))return i[a];var u=s[a]-o-(n>0?n:0),m=s[a]+n;if(r[a])return l[a]?u:m;var x=d[a];if(x==null)return 0;if(l[a]){var h=u,p=x;return h<p?Math.max(m,x):Math.max(u,x)}if(c==null)return 0;var f=m+o,b=x+c;return f>b?Math.max(u,x):Math.max(m,x)}function qle(e){var{translateX:r,translateY:s,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(r,"px, ").concat(s,"px, 0)"):"translate(".concat(r,"px, ").concat(s,"px)")}}function Gle(e){var{allowEscapeViewBox:r,coordinate:s,offsetTopLeft:a,position:n,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:d}=e,c,u,m;return l.height>0&&l.width>0&&s?(u=vA({allowEscapeViewBox:r,coordinate:s,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=vA({allowEscapeViewBox:r,coordinate:s,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),c=qle({translateX:u,translateY:m,useTranslate3d:o})):c=Vle,{cssProperties:c,cssClasses:Wle({translateX:u,translateY:m,coordinate:s})}}function jA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function wp(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?jA(Object(s),!0).forEach(function(a){rw(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):jA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function rw(e,r,s){return(r=Kle(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Kle(e){var r=Yle(e,"string");return typeof r=="symbol"?r:r+""}function Yle(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class Xle extends g.PureComponent{constructor(){super(...arguments),rw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),rw(this,"handleKeyDown",r=>{if(r.key==="Escape"){var s,a,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&s!==void 0?s:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var r,s;this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:r,allowEscapeViewBox:s,animationDuration:a,animationEasing:n,children:i,coordinate:l,hasPayload:o,isAnimationActive:d,offset:c,position:u,reverseDirection:m,useTranslate3d:x,viewBox:h,wrapperStyle:p,lastBoundingBox:f,innerRef:b,hasPortalFromProps:j}=this.props,{cssClasses:w,cssProperties:y}=Gle({allowEscapeViewBox:s,coordinate:l,offsetTopLeft:c,position:u,reverseDirection:m,tooltipBox:{height:f.height,width:f.width},useTranslate3d:x,viewBox:h}),v=j?{}:wp(wp({transition:d&&r?"transform ".concat(a,"ms ").concat(n):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&o?"visible":"hidden",position:"absolute",top:0,left:0}),N=wp(wp({},v),{},{visibility:!this.state.dismissed&&r&&o?"visible":"hidden"},p);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:N,ref:b},i)}}var Jle=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),lo={devToolsEnabled:!1,isSsr:Jle()},hL=()=>{var e;return(e=St(r=>r.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},sw.apply(null,arguments)}function wA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function NA(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?wA(Object(s),!0).forEach(function(a){Qle(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):wA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Qle(e,r,s){return(r=Zle(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Zle(e){var r=eoe(e,"string");return typeof r=="symbol"?r:r+""}function eoe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var SA={curveBasisClosed:hae,curveBasisOpen:xae,curveBasis:mae,curveBumpX:Qse,curveBumpY:Zse,curveLinearClosed:pae,curveLinear:ab,curveMonotoneX:fae,curveMonotoneY:gae,curveNatural:yae,curveStep:bae,curveStepAfter:jae,curveStepBefore:vae},jg=e=>Br(e.x)&&Br(e.y),kA=e=>e.base!=null&&jg(e.base)&&jg(e),ih=e=>e.x,lh=e=>e.y,toe=(e,r)=>{if(typeof e=="function")return e;var s="curve".concat(ux(e));return(s==="curveMonotone"||s==="curveBump")&&r?SA["".concat(s).concat(r==="vertical"?"Y":"X")]:SA[s]||ab},roe=e=>{var{type:r="linear",points:s=[],baseLine:a,layout:n,connectNulls:i=!1}=e,l=toe(r,n),o=i?s.filter(jg):s,d;if(Array.isArray(a)){var c=s.map((h,p)=>NA(NA({},h),{},{base:a[p]}));n==="vertical"?d=pp().y(lh).x1(ih).x0(h=>h.base.x):d=pp().x(ih).y1(lh).y0(h=>h.base.y);var u=d.defined(kA).curve(l),m=i?c.filter(kA):c;return u(m)}n==="vertical"&&jt(a)?d=pp().y(lh).x1(ih).x0(a):jt(a)?d=pp().x(ih).y1(lh).y0(a):d=E9().x(ih).y(lh);var x=d.defined(jg).curve(l);return x(o)},Bu=e=>{var{className:r,points:s,path:a,pathRef:n}=e;if((!s||!s.length)&&!a)return null;var i=s&&s.length?roe(e):a;return g.createElement("path",sw({},$a(e),R4(e),{className:nr("recharts-curve",r),d:i===null?void 0:i,ref:n}))},soe=["x","y","top","left","width","height","className"];function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},aw.apply(null,arguments)}function CA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function aoe(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?CA(Object(s),!0).forEach(function(a){noe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):CA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function noe(e,r,s){return(r=ioe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function ioe(e){var r=loe(e,"string");return typeof r=="symbol"?r:r+""}function loe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ooe(e,r){if(e==null)return{};var s,a,n=coe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function coe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var doe=(e,r,s,a,n,i)=>"M".concat(e,",").concat(n,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(s),uoe=e=>{var{x:r=0,y:s=0,top:a=0,left:n=0,width:i=0,height:l=0,className:o}=e,d=ooe(e,soe),c=aoe({x:r,y:s,top:a,left:n,width:i,height:l},d);return!jt(r)||!jt(s)||!jt(i)||!jt(l)||!jt(a)||!jt(n)?null:g.createElement("path",aw({},Sa(c),{className:nr("recharts-cross",o),d:doe(r,s,i,l,a,n)}))};function moe(e,r,s,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?r.x-n:s.left+.5,y:e==="horizontal"?s.top+.5:r.y-n,width:e==="horizontal"?a:s.width-1,height:e==="horizontal"?s.height-1:a}}function PA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function AA(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?PA(Object(s),!0).forEach(function(a){hoe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):PA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function hoe(e,r,s){return(r=xoe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function xoe(e){var r=poe(e,"string");return typeof r=="symbol"?r:r+""}function poe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var foe=e=>e.replace(/([A-Z])/g,r=>"-".concat(r.toLowerCase())),xL=(e,r,s)=>e.map(a=>"".concat(foe(a)," ").concat(r,"ms ").concat(s)).join(","),goe=(e,r)=>[Object.keys(e),Object.keys(r)].reduce((s,a)=>s.filter(n=>a.includes(n))),A0=(e,r)=>Object.keys(r).reduce((s,a)=>AA(AA({},s),{},{[a]:e(a,r[a])}),{});function TA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ds(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?TA(Object(s),!0).forEach(function(a){yoe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):TA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function yoe(e,r,s){return(r=boe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function boe(e){var r=voe(e,"string");return typeof r=="symbol"?r:r+""}function voe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var wg=(e,r,s)=>e+(r-e)*s,nw=e=>{var{from:r,to:s}=e;return r!==s},pL=(e,r,s)=>{var a=A0((n,i)=>{if(nw(i)){var[l,o]=e(i.from,i.to,i.velocity);return Ds(Ds({},i),{},{from:l,velocity:o})}return i},r);return s<1?A0((n,i)=>nw(i)?Ds(Ds({},i),{},{velocity:wg(i.velocity,a[n].velocity,s),from:wg(i.from,a[n].from,s)}):i,r):pL(e,a,s-1)};function joe(e,r,s,a,n,i){var l,o=a.reduce((x,h)=>Ds(Ds({},x),{},{[h]:{from:e[h],velocity:0,to:r[h]}}),{}),d=()=>A0((x,h)=>h.from,o),c=()=>!Object.values(o).filter(nw).length,u=null,m=x=>{l||(l=x);var h=x-l,p=h/s.dt;o=pL(s,o,p),n(Ds(Ds(Ds({},e),r),d())),l=x,c()||(u=i.setTimeout(m))};return()=>(u=i.setTimeout(m),()=>{var x;(x=u)===null||x===void 0||x()})}function woe(e,r,s,a,n,i,l){var o=null,d=n.reduce((m,x)=>Ds(Ds({},m),{},{[x]:[e[x],r[x]]}),{}),c,u=m=>{c||(c=m);var x=(m-c)/a,h=A0((f,b)=>wg(...b,s(x)),d);if(i(Ds(Ds(Ds({},e),r),h)),x<1)o=l.setTimeout(u);else{var p=A0((f,b)=>wg(...b,s(1)),d);i(Ds(Ds(Ds({},e),r),p))}};return()=>(o=l.setTimeout(u),()=>{var m;(m=o)===null||m===void 0||m()})}const Noe=(e,r,s,a,n,i)=>{var l=goe(e,r);return s==null?()=>(n(Ds(Ds({},e),r)),()=>{}):s.isStepper===!0?joe(e,r,s,l,n,i):woe(e,r,s,a,l,n,i)};var Ng=1e-4,fL=(e,r)=>[0,3*e,3*r-6*e,3*e-3*r+1],gL=(e,r)=>e.map((s,a)=>s*r**a).reduce((s,a)=>s+a),EA=(e,r)=>s=>{var a=fL(e,r);return gL(a,s)},Soe=(e,r)=>s=>{var a=fL(e,r),n=[...a.map((i,l)=>i*l).slice(1),0];return gL(n,s)},koe=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];if(s.length===1)switch(s[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var n,i=s[0].split("(");if(i[0]==="cubic-bezier"&&((n=i[1])===null||n===void 0?void 0:n.split(")")[0].split(",").length)===4){var l=i[1].split(")")[0].split(",").map(o=>parseFloat(o));return[l[0],l[1],l[2],l[3]]}}}return s.length===4?s:[0,0,1,1]},Coe=(e,r,s,a)=>{var n=EA(e,s),i=EA(r,a),l=Soe(e,s),o=c=>c>1?1:c<0?0:c,d=c=>{for(var u=c>1?1:c,m=u,x=0;x<8;++x){var h=n(m)-u,p=l(m);if(Math.abs(h-u)<Ng||p<Ng)return i(m);m=o(m-h/p)}return i(m)};return d.isStepper=!1,d},IA=function(){return Coe(...koe(...arguments))},Poe=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:s=100,damping:a=8,dt:n=17}=r,i=(l,o,d)=>{var c=-(l-o)*s,u=d*a,m=d+(c-u)*n/1e3,x=d*n/1e3+l;return Math.abs(x-o)<Ng&&Math.abs(m)<Ng?[o,0]:[x,m]};return i.isStepper=!0,i.dt=n,i},Aoe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return IA(e);case"spring":return Poe();default:if(e.split("(")[0]==="cubic-bezier")return IA(e)}return typeof e=="function"?e:null};function Toe(e){var r,s=()=>null,a=!1,n=null,i=l=>{if(!a){if(Array.isArray(l)){if(!l.length)return;var o=l,[d,...c]=o;if(typeof d=="number"){n=e.setTimeout(i.bind(null,c),d);return}i(d),n=e.setTimeout(i.bind(null,c));return}typeof l=="string"&&(r=l,s(r)),typeof l=="object"&&(r=l,s(r)),typeof l=="function"&&l()}};return{stop:()=>{a=!0},start:l=>{a=!1,n&&(n(),n=null),i(l)},subscribe:l=>(s=l,()=>{s=()=>null}),getTimeoutController:()=>e}}class Eoe{setTimeout(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),n=null,i=l=>{l-a>=s?r(l):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{n!=null&&cancelAnimationFrame(n)}}}function Ioe(){return Toe(new Eoe)}var Ooe=g.createContext(Ioe);function _oe(e,r){var s=g.useContext(Ooe);return g.useMemo(()=>r??s(e),[e,r,s])}var Moe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},OA={t:0},M1={t:1};function Am(e){var r=ds(e,Moe),{isActive:s,canBegin:a,duration:n,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:d,children:c}=r,u=_oe(r.animationId,r.animationManager),[m,x]=g.useState(s?OA:M1),h=g.useRef(null);return g.useEffect(()=>{s||x(M1)},[s]),g.useEffect(()=>{if(!s||!a)return Fd;var p=Noe(OA,M1,Aoe(i),n,x,u.getTimeoutController()),f=()=>{h.current=p()};return u.start([d,l,f,n,o]),()=>{u.stop(),h.current&&h.current(),o()}},[s,a,n,i,l,d,o,u]),c(m.t)}function Tm(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",s=g.useRef(S0(r)),a=g.useRef(e);return a.current!==e&&(s.current=S0(r),a.current=e),s.current}var Doe=["radius"],Loe=["radius"];function _A(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function MA(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?_A(Object(s),!0).forEach(function(a){Foe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_A(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Foe(e,r,s){return(r=Roe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Roe(e){var r=Boe(e,"string");return typeof r=="symbol"?r:r+""}function Boe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Sg.apply(null,arguments)}function DA(e,r){if(e==null)return{};var s,a,n=$oe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function $oe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var LA=(e,r,s,a,n)=>{var i=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,o=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,c;if(i>0&&n instanceof Array){for(var u=[0,0,0,0],m=0,x=4;m<x;m++)u[m]=n[m]>i?i:n[m];c="M".concat(e,",").concat(r+l*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(d,",").concat(e+o*u[0],",").concat(r)),c+="L ".concat(e+s-o*u[1],",").concat(r),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(d,`,
        `).concat(e+s,",").concat(r+l*u[1])),c+="L ".concat(e+s,",").concat(r+a-l*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(d,`,
        `).concat(e+s-o*u[2],",").concat(r+a)),c+="L ".concat(e+o*u[3],",").concat(r+a),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+a-l*u[3])),c+="Z"}else if(i>0&&n===+n&&n>0){var h=Math.min(i,n);c="M ".concat(e,",").concat(r+l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(d,",").concat(e+o*h,",").concat(r,`
            L `).concat(e+s-o*h,",").concat(r,`
            A `).concat(h,",").concat(h,",0,0,").concat(d,",").concat(e+s,",").concat(r+l*h,`
            L `).concat(e+s,",").concat(r+a-l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(d,",").concat(e+s-o*h,",").concat(r+a,`
            L `).concat(e+o*h,",").concat(r+a,`
            A `).concat(h,",").concat(h,",0,0,").concat(d,",").concat(e,",").concat(r+a-l*h," Z")}else c="M ".concat(e,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return c},FA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yL=e=>{var r=ds(e,FA),s=g.useRef(null),[a,n]=g.useState(-1);g.useEffect(()=>{if(s.current&&s.current.getTotalLength)try{var T=s.current.getTotalLength();T&&n(T)}catch{}},[]);var{x:i,y:l,width:o,height:d,radius:c,className:u}=r,{animationEasing:m,animationDuration:x,animationBegin:h,isAnimationActive:p,isUpdateAnimationActive:f}=r,b=g.useRef(o),j=g.useRef(d),w=g.useRef(i),y=g.useRef(l),v=g.useMemo(()=>({x:i,y:l,width:o,height:d,radius:c}),[i,l,o,d,c]),N=Tm(v,"rectangle-");if(i!==+i||l!==+l||o!==+o||d!==+d||o===0||d===0)return null;var S=nr("recharts-rectangle",u);if(!f){var k=Sa(r),{radius:P}=k,C=DA(k,Doe);return g.createElement("path",Sg({},C,{radius:typeof c=="number"?c:void 0,className:S,d:LA(i,l,o,d,c)}))}var _=b.current,A=j.current,D=w.current,H=y.current,re="0px ".concat(a===-1?1:a,"px"),xe="".concat(a,"px 0px"),we=xL(["strokeDasharray"],x,typeof m=="string"?m:FA.animationEasing);return g.createElement(Am,{animationId:N,key:N,canBegin:a>0,duration:x,easing:m,isActive:f,begin:h},T=>{var z=ur(_,o,T),Q=ur(A,d,T),B=ur(D,i,T),L=ur(H,l,T);s.current&&(b.current=z,j.current=Q,w.current=B,y.current=L);var R;p?T>0?R={transition:we,strokeDasharray:xe}:R={strokeDasharray:re}:R={strokeDasharray:xe};var Z=Sa(r),{radius:W}=Z,ie=DA(Z,Loe);return g.createElement("path",Sg({},ie,{radius:typeof c=="number"?c:void 0,className:S,d:LA(B,L,z,Q,c),ref:s,style:MA(MA({},R),r.style)}))})};function RA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function BA(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?RA(Object(s),!0).forEach(function(a){zoe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):RA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function zoe(e,r,s){return(r=Uoe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Uoe(e){var r=Hoe(e,"string");return typeof r=="symbol"?r:r+""}function Hoe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var kg=Math.PI/180,Voe=e=>e*180/Math.PI,As=(e,r,s,a)=>({x:e+Math.cos(-kg*a)*s,y:r+Math.sin(-kg*a)*s}),bL=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(a.left||0)-(a.right||0)),Math.abs(s-(a.top||0)-(a.bottom||0)))/2},Woe=(e,r)=>{var{x:s,y:a}=e,{x:n,y:i}=r;return Math.sqrt((s-n)**2+(a-i)**2)},qoe=(e,r)=>{var{x:s,y:a}=e,{cx:n,cy:i}=r,l=Woe({x:s,y:a},{x:n,y:i});if(l<=0)return{radius:l,angle:0};var o=(s-n)/l,d=Math.acos(o);return a>i&&(d=2*Math.PI-d),{radius:l,angle:Voe(d),angleInRadian:d}},Goe=e=>{var{startAngle:r,endAngle:s}=e,a=Math.floor(r/360),n=Math.floor(s/360),i=Math.min(a,n);return{startAngle:r-i*360,endAngle:s-i*360}},Koe=(e,r)=>{var{startAngle:s,endAngle:a}=r,n=Math.floor(s/360),i=Math.floor(a/360),l=Math.min(n,i);return e+l*360},Yoe=(e,r)=>{var{chartX:s,chartY:a}=e,{radius:n,angle:i}=qoe({x:s,y:a},r),{innerRadius:l,outerRadius:o}=r;if(n<l||n>o||n===0)return null;var{startAngle:d,endAngle:c}=Goe(r),u=i,m;if(d<=c){for(;u>c;)u-=360;for(;u<d;)u+=360;m=u>=d&&u<=c}else{for(;u>d;)u-=360;for(;u<c;)u+=360;m=u>=c&&u<=d}return m?BA(BA({},r),{},{radius:n,angle:Koe(u,r)}):null};function vL(e){var{cx:r,cy:s,radius:a,startAngle:n,endAngle:i}=e,l=As(r,s,a,n),o=As(r,s,a,i);return{points:[l,o],cx:r,cy:s,radius:a,startAngle:n,endAngle:i}}function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},iw.apply(null,arguments)}var Xoe=(e,r)=>{var s=qs(r-e),a=Math.min(Math.abs(r-e),359.999);return s*a},Np=e=>{var{cx:r,cy:s,radius:a,angle:n,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:d}=e,c=o*(l?1:-1)+a,u=Math.asin(o/c)/kg,m=d?n:n+i*u,x=As(r,s,c,m),h=As(r,s,a,m),p=d?n-i*u:n,f=As(r,s,c*Math.cos(u*kg),p);return{center:x,circleTangency:h,lineTangency:f,theta:u}},jL=e=>{var{cx:r,cy:s,innerRadius:a,outerRadius:n,startAngle:i,endAngle:l}=e,o=Xoe(i,l),d=i+o,c=As(r,s,n,i),u=As(r,s,n,d),m="M ".concat(c.x,",").concat(c.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>d),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(a>0){var x=As(r,s,a,i),h=As(r,s,a,d);m+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else m+="L ".concat(r,",").concat(s," Z");return m},Joe=e=>{var{cx:r,cy:s,innerRadius:a,outerRadius:n,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:d,endAngle:c}=e,u=qs(c-d),{circleTangency:m,lineTangency:x,theta:h}=Np({cx:r,cy:s,radius:n,angle:d,sign:u,cornerRadius:i,cornerIsExternal:o}),{circleTangency:p,lineTangency:f,theta:b}=Np({cx:r,cy:s,radius:n,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:o}),j=o?Math.abs(d-c):Math.abs(d-c)-h-b;if(j<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):jL({cx:r,cy:s,innerRadius:a,outerRadius:n,startAngle:d,endAngle:c});var w="M ".concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(j>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
  `);if(a>0){var{circleTangency:y,lineTangency:v,theta:N}=Np({cx:r,cy:s,radius:a,angle:d,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:S,lineTangency:k,theta:P}=Np({cx:r,cy:s,radius:a,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),C=o?Math.abs(d-c):Math.abs(d-c)-N-P;if(C<0&&i===0)return"".concat(w,"L").concat(r,",").concat(s,"Z");w+="L".concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(u>0),",").concat(y.x,",").concat(y.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,"Z")}else w+="L".concat(r,",").concat(s,"Z");return w},Qoe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wL=e=>{var r=ds(e,Qoe),{cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:d,startAngle:c,endAngle:u,className:m}=r;if(i<n||c===u)return null;var x=nr("recharts-sector",m),h=i-n,p=va(l,h,0,!0),f;return p>0&&Math.abs(c-u)<360?f=Joe({cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:Math.min(p,h/2),forceCornerRadius:o,cornerIsExternal:d,startAngle:c,endAngle:u}):f=jL({cx:s,cy:a,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u}),g.createElement("path",iw({},Sa(r),{className:x,d:f}))};function Zoe(e,r,s){if(e==="horizontal")return[{x:r.x,y:s.top},{x:r.x,y:s.top+s.height}];if(e==="vertical")return[{x:s.left,y:r.y},{x:s.left+s.width,y:r.y}];if(q9(r)){if(e==="centric"){var{cx:a,cy:n,innerRadius:i,outerRadius:l,angle:o}=r,d=As(a,n,i,o),c=As(a,n,l,o);return[{x:d.x,y:d.y},{x:c.x,y:c.y}]}return vL(r)}}var NL={},SL={},kL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Y4;function s(a){return r.isSymbol(a)?NaN:Number(a)}e.toNumber=s})(kL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=kL;function s(a){return a?(a=r.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=s})(SL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=X4,s=SL;function a(n,i,l){l&&typeof l!="number"&&r.isIterateeCall(n,i,l)&&(i=l=void 0),n=s.toFinite(n),i===void 0?(i=n,n=0):i=s.toFinite(i),l=l===void 0?n<i?1:-1:s.toFinite(l);const o=Math.max(Math.ceil((i-n)/(l||1)),0),d=new Array(o);for(let c=0;c<o;c++)d[c]=n,n+=l;return d}e.range=a})(NL);var ece=NL.range;const CL=ui(ece);function Xo(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function tce(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function i3(e){let r,s,a;e.length!==2?(r=Xo,s=(o,d)=>Xo(e(o),d),a=(o,d)=>e(o)-d):(r=e===Xo||e===tce?e:rce,s=e,a=e);function n(o,d,c=0,u=o.length){if(c<u){if(r(d,d)!==0)return u;do{const m=c+u>>>1;s(o[m],d)<0?c=m+1:u=m}while(c<u)}return c}function i(o,d,c=0,u=o.length){if(c<u){if(r(d,d)!==0)return u;do{const m=c+u>>>1;s(o[m],d)<=0?c=m+1:u=m}while(c<u)}return c}function l(o,d,c=0,u=o.length){const m=n(o,d,c,u-1);return m>c&&a(o[m-1],d)>-a(o[m],d)?m-1:m}return{left:n,center:l,right:i}}function rce(){return 0}function PL(e){return e===null?NaN:+e}function*sce(e,r){for(let s of e)s!=null&&(s=+s)>=s&&(yield s)}const ace=i3(Xo),fx=ace.right;i3(PL).center;class $A extends Map{constructor(r,s=lce){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),r!=null)for(const[a,n]of r)this.set(a,n)}get(r){return super.get(zA(this,r))}has(r){return super.has(zA(this,r))}set(r,s){return super.set(nce(this,r),s)}delete(r){return super.delete(ice(this,r))}}function zA({_intern:e,_key:r},s){const a=r(s);return e.has(a)?e.get(a):s}function nce({_intern:e,_key:r},s){const a=r(s);return e.has(a)?e.get(a):(e.set(a,s),s)}function ice({_intern:e,_key:r},s){const a=r(s);return e.has(a)&&(s=e.get(a),e.delete(a)),s}function lce(e){return e!==null&&typeof e=="object"?e.valueOf():e}function oce(e=Xo){if(e===Xo)return AL;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,s)=>{const a=e(r,s);return a||a===0?a:(e(s,s)===0)-(e(r,r)===0)}}function AL(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}const cce=Math.sqrt(50),dce=Math.sqrt(10),uce=Math.sqrt(2);function Cg(e,r,s){const a=(r-e)/Math.max(0,s),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),l=i>=cce?10:i>=dce?5:i>=uce?2:1;let o,d,c;return n<0?(c=Math.pow(10,-n)/l,o=Math.round(e*c),d=Math.round(r*c),o/c<e&&++o,d/c>r&&--d,c=-c):(c=Math.pow(10,n)*l,o=Math.round(e/c),d=Math.round(r/c),o*c<e&&++o,d*c>r&&--d),d<o&&.5<=s&&s<2?Cg(e,r,s*2):[o,d,c]}function lw(e,r,s){if(r=+r,e=+e,s=+s,!(s>0))return[];if(e===r)return[e];const a=r<e,[n,i,l]=a?Cg(r,e,s):Cg(e,r,s);if(!(i>=n))return[];const o=i-n+1,d=new Array(o);if(a)if(l<0)for(let c=0;c<o;++c)d[c]=(i-c)/-l;else for(let c=0;c<o;++c)d[c]=(i-c)*l;else if(l<0)for(let c=0;c<o;++c)d[c]=(n+c)/-l;else for(let c=0;c<o;++c)d[c]=(n+c)*l;return d}function ow(e,r,s){return r=+r,e=+e,s=+s,Cg(e,r,s)[2]}function cw(e,r,s){r=+r,e=+e,s=+s;const a=r<e,n=a?ow(r,e,s):ow(e,r,s);return(a?-1:1)*(n<0?1/-n:n)}function UA(e,r){let s;for(const a of e)a!=null&&(s<a||s===void 0&&a>=a)&&(s=a);return s}function HA(e,r){let s;for(const a of e)a!=null&&(s>a||s===void 0&&a>=a)&&(s=a);return s}function TL(e,r,s=0,a=1/0,n){if(r=Math.floor(r),s=Math.floor(Math.max(0,s)),a=Math.floor(Math.min(e.length-1,a)),!(s<=r&&r<=a))return e;for(n=n===void 0?AL:oce(n);a>s;){if(a-s>600){const d=a-s+1,c=r-s+1,u=Math.log(d),m=.5*Math.exp(2*u/3),x=.5*Math.sqrt(u*m*(d-m)/d)*(c-d/2<0?-1:1),h=Math.max(s,Math.floor(r-c*m/d+x)),p=Math.min(a,Math.floor(r+(d-c)*m/d+x));TL(e,r,h,p,n)}const i=e[r];let l=s,o=a;for(oh(e,s,r),n(e[a],i)>0&&oh(e,s,a);l<o;){for(oh(e,l,o),++l,--o;n(e[l],i)<0;)++l;for(;n(e[o],i)>0;)--o}n(e[s],i)===0?oh(e,s,o):(++o,oh(e,o,a)),o<=r&&(s=o+1),r<=o&&(a=o-1)}return e}function oh(e,r,s){const a=e[r];e[r]=e[s],e[s]=a}function mce(e,r,s){if(e=Float64Array.from(sce(e)),!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return HA(e);if(r>=1)return UA(e);var a,n=(a-1)*r,i=Math.floor(n),l=UA(TL(e,i).subarray(0,i+1)),o=HA(e.subarray(i+1));return l+(o-l)*(n-i)}}function hce(e,r,s=PL){if(!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return+s(e[0],0,e);if(r>=1)return+s(e[a-1],a-1,e);var a,n=(a-1)*r,i=Math.floor(n),l=+s(e[i],i,e),o=+s(e[i+1],i+1,e);return l+(o-l)*(n-i)}}function xce(e,r,s){e=+e,r=+r,s=(n=arguments.length)<2?(r=e,e=0,1):n<3?1:+s;for(var a=-1,n=Math.max(0,Math.ceil((r-e)/s))|0,i=new Array(n);++a<n;)i[a]=e+a*s;return i}function mi(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function oo(e,r){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const dw=Symbol("implicit");function l3(){var e=new $A,r=[],s=[],a=dw;function n(i){let l=e.get(i);if(l===void 0){if(a!==dw)return a;e.set(i,l=r.push(i)-1)}return s[l%s.length]}return n.domain=function(i){if(!arguments.length)return r.slice();r=[],e=new $A;for(const l of i)e.has(l)||e.set(l,r.push(l)-1);return n},n.range=function(i){return arguments.length?(s=Array.from(i),n):s.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return l3(r,s).unknown(a)},mi.apply(n,arguments),n}function o3(){var e=l3().unknown(void 0),r=e.domain,s=e.range,a=0,n=1,i,l,o=!1,d=0,c=0,u=.5;delete e.unknown;function m(){var x=r().length,h=n<a,p=h?n:a,f=h?a:n;i=(f-p)/Math.max(1,x-d+c*2),o&&(i=Math.floor(i)),p+=(f-p-i*(x-d))*u,l=i*(1-d),o&&(p=Math.round(p),l=Math.round(l));var b=xce(x).map(function(j){return p+i*j});return s(h?b.reverse():b)}return e.domain=function(x){return arguments.length?(r(x),m()):r()},e.range=function(x){return arguments.length?([a,n]=x,a=+a,n=+n,m()):[a,n]},e.rangeRound=function(x){return[a,n]=x,a=+a,n=+n,o=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(x){return arguments.length?(o=!!x,m()):o},e.padding=function(x){return arguments.length?(d=Math.min(1,c=+x),m()):d},e.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),m()):d},e.paddingOuter=function(x){return arguments.length?(c=+x,m()):c},e.align=function(x){return arguments.length?(u=Math.max(0,Math.min(1,x)),m()):u},e.copy=function(){return o3(r(),[a,n]).round(o).paddingInner(d).paddingOuter(c).align(u)},mi.apply(m(),arguments)}function EL(e){var r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return EL(r())},e}function pce(){return EL(o3.apply(null,arguments).paddingInner(1))}function c3(e,r,s){e.prototype=r.prototype=s,s.constructor=e}function IL(e,r){var s=Object.create(e.prototype);for(var a in r)s[a]=r[a];return s}function gx(){}var T0=.7,Pg=1/T0,$u="\\s*([+-]?\\d+)\\s*",E0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fce=/^#([0-9a-f]{3,8})$/,gce=new RegExp(`^rgb\\(${$u},${$u},${$u}\\)$`),yce=new RegExp(`^rgb\\(${tl},${tl},${tl}\\)$`),bce=new RegExp(`^rgba\\(${$u},${$u},${$u},${E0}\\)$`),vce=new RegExp(`^rgba\\(${tl},${tl},${tl},${E0}\\)$`),jce=new RegExp(`^hsl\\(${E0},${tl},${tl}\\)$`),wce=new RegExp(`^hsla\\(${E0},${tl},${tl},${E0}\\)$`),VA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};c3(gx,I0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:WA,formatHex:WA,formatHex8:Nce,formatHsl:Sce,formatRgb:qA,toString:qA});function WA(){return this.rgb().formatHex()}function Nce(){return this.rgb().formatHex8()}function Sce(){return OL(this).formatHsl()}function qA(){return this.rgb().formatRgb()}function I0(e){var r,s;return e=(e+"").trim().toLowerCase(),(r=fce.exec(e))?(s=r[1].length,r=parseInt(r[1],16),s===6?GA(r):s===3?new Ka(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):s===8?Sp(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):s===4?Sp(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=gce.exec(e))?new Ka(r[1],r[2],r[3],1):(r=yce.exec(e))?new Ka(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=bce.exec(e))?Sp(r[1],r[2],r[3],r[4]):(r=vce.exec(e))?Sp(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=jce.exec(e))?XA(r[1],r[2]/100,r[3]/100,1):(r=wce.exec(e))?XA(r[1],r[2]/100,r[3]/100,r[4]):VA.hasOwnProperty(e)?GA(VA[e]):e==="transparent"?new Ka(NaN,NaN,NaN,0):null}function GA(e){return new Ka(e>>16&255,e>>8&255,e&255,1)}function Sp(e,r,s,a){return a<=0&&(e=r=s=NaN),new Ka(e,r,s,a)}function kce(e){return e instanceof gx||(e=I0(e)),e?(e=e.rgb(),new Ka(e.r,e.g,e.b,e.opacity)):new Ka}function uw(e,r,s,a){return arguments.length===1?kce(e):new Ka(e,r,s,a??1)}function Ka(e,r,s,a){this.r=+e,this.g=+r,this.b=+s,this.opacity=+a}c3(Ka,uw,IL(gx,{brighter(e){return e=e==null?Pg:Math.pow(Pg,e),new Ka(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?T0:Math.pow(T0,e),new Ka(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ka(Qc(this.r),Qc(this.g),Qc(this.b),Ag(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KA,formatHex:KA,formatHex8:Cce,formatRgb:YA,toString:YA}));function KA(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}`}function Cce(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}${zc((isNaN(this.opacity)?1:this.opacity)*255)}`}function YA(){const e=Ag(this.opacity);return`${e===1?"rgb(":"rgba("}${Qc(this.r)}, ${Qc(this.g)}, ${Qc(this.b)}${e===1?")":`, ${e})`}`}function Ag(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zc(e){return e=Qc(e),(e<16?"0":"")+e.toString(16)}function XA(e,r,s,a){return a<=0?e=r=s=NaN:s<=0||s>=1?e=r=NaN:r<=0&&(e=NaN),new Si(e,r,s,a)}function OL(e){if(e instanceof Si)return new Si(e.h,e.s,e.l,e.opacity);if(e instanceof gx||(e=I0(e)),!e)return new Si;if(e instanceof Si)return e;e=e.rgb();var r=e.r/255,s=e.g/255,a=e.b/255,n=Math.min(r,s,a),i=Math.max(r,s,a),l=NaN,o=i-n,d=(i+n)/2;return o?(r===i?l=(s-a)/o+(s<a)*6:s===i?l=(a-r)/o+2:l=(r-s)/o+4,o/=d<.5?i+n:2-i-n,l*=60):o=d>0&&d<1?0:l,new Si(l,o,d,e.opacity)}function Pce(e,r,s,a){return arguments.length===1?OL(e):new Si(e,r,s,a??1)}function Si(e,r,s,a){this.h=+e,this.s=+r,this.l=+s,this.opacity=+a}c3(Si,Pce,IL(gx,{brighter(e){return e=e==null?Pg:Math.pow(Pg,e),new Si(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?T0:Math.pow(T0,e),new Si(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*r,n=2*s-a;return new Ka(D1(e>=240?e-240:e+120,n,a),D1(e,n,a),D1(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new Si(JA(this.h),kp(this.s),kp(this.l),Ag(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ag(this.opacity);return`${e===1?"hsl(":"hsla("}${JA(this.h)}, ${kp(this.s)*100}%, ${kp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function JA(e){return e=(e||0)%360,e<0?e+360:e}function kp(e){return Math.max(0,Math.min(1,e||0))}function D1(e,r,s){return(e<60?r+(s-r)*e/60:e<180?s:e<240?r+(s-r)*(240-e)/60:r)*255}const d3=e=>()=>e;function Ace(e,r){return function(s){return e+s*r}}function Tce(e,r,s){return e=Math.pow(e,s),r=Math.pow(r,s)-e,s=1/s,function(a){return Math.pow(e+a*r,s)}}function Ece(e){return(e=+e)==1?_L:function(r,s){return s-r?Tce(r,s,e):d3(isNaN(r)?s:r)}}function _L(e,r){var s=r-e;return s?Ace(e,s):d3(isNaN(e)?r:e)}const QA=function e(r){var s=Ece(r);function a(n,i){var l=s((n=uw(n)).r,(i=uw(i)).r),o=s(n.g,i.g),d=s(n.b,i.b),c=_L(n.opacity,i.opacity);return function(u){return n.r=l(u),n.g=o(u),n.b=d(u),n.opacity=c(u),n+""}}return a.gamma=e,a}(1);function Ice(e,r){r||(r=[]);var s=e?Math.min(r.length,e.length):0,a=r.slice(),n;return function(i){for(n=0;n<s;++n)a[n]=e[n]*(1-i)+r[n]*i;return a}}function Oce(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _ce(e,r){var s=r?r.length:0,a=e?Math.min(s,e.length):0,n=new Array(a),i=new Array(s),l;for(l=0;l<a;++l)n[l]=Em(e[l],r[l]);for(;l<s;++l)i[l]=r[l];return function(o){for(l=0;l<a;++l)i[l]=n[l](o);return i}}function Mce(e,r){var s=new Date;return e=+e,r=+r,function(a){return s.setTime(e*(1-a)+r*a),s}}function Tg(e,r){return e=+e,r=+r,function(s){return e*(1-s)+r*s}}function Dce(e,r){var s={},a={},n;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(n in r)n in e?s[n]=Em(e[n],r[n]):a[n]=r[n];return function(i){for(n in s)a[n]=s[n](i);return a}}var mw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,L1=new RegExp(mw.source,"g");function Lce(e){return function(){return e}}function Fce(e){return function(r){return e(r)+""}}function Rce(e,r){var s=mw.lastIndex=L1.lastIndex=0,a,n,i,l=-1,o=[],d=[];for(e=e+"",r=r+"";(a=mw.exec(e))&&(n=L1.exec(r));)(i=n.index)>s&&(i=r.slice(s,i),o[l]?o[l]+=i:o[++l]=i),(a=a[0])===(n=n[0])?o[l]?o[l]+=n:o[++l]=n:(o[++l]=null,d.push({i:l,x:Tg(a,n)})),s=L1.lastIndex;return s<r.length&&(i=r.slice(s),o[l]?o[l]+=i:o[++l]=i),o.length<2?d[0]?Fce(d[0].x):Lce(r):(r=d.length,function(c){for(var u=0,m;u<r;++u)o[(m=d[u]).i]=m.x(c);return o.join("")})}function Em(e,r){var s=typeof r,a;return r==null||s==="boolean"?d3(r):(s==="number"?Tg:s==="string"?(a=I0(r))?(r=a,QA):Rce:r instanceof I0?QA:r instanceof Date?Mce:Oce(r)?Ice:Array.isArray(r)?_ce:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Dce:Tg)(e,r)}function u3(e,r){return e=+e,r=+r,function(s){return Math.round(e*(1-s)+r*s)}}function Bce(e,r){r===void 0&&(r=e,e=Em);for(var s=0,a=r.length-1,n=r[0],i=new Array(a<0?0:a);s<a;)i[s]=e(n,n=r[++s]);return function(l){var o=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[o](l-o)}}function $ce(e){return function(){return e}}function Eg(e){return+e}var ZA=[0,1];function _a(e){return e}function hw(e,r){return(r-=e=+e)?function(s){return(s-e)/r}:$ce(isNaN(r)?NaN:.5)}function zce(e,r){var s;return e>r&&(s=e,e=r,r=s),function(a){return Math.max(e,Math.min(r,a))}}function Uce(e,r,s){var a=e[0],n=e[1],i=r[0],l=r[1];return n<a?(a=hw(n,a),i=s(l,i)):(a=hw(a,n),i=s(i,l)),function(o){return i(a(o))}}function Hce(e,r,s){var a=Math.min(e.length,r.length)-1,n=new Array(a),i=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++l<a;)n[l]=hw(e[l],e[l+1]),i[l]=s(r[l],r[l+1]);return function(o){var d=fx(e,o,1,a)-1;return i[d](n[d](o))}}function yx(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Nb(){var e=ZA,r=ZA,s=Em,a,n,i,l=_a,o,d,c;function u(){var x=Math.min(e.length,r.length);return l!==_a&&(l=zce(e[0],e[x-1])),o=x>2?Hce:Uce,d=c=null,m}function m(x){return x==null||isNaN(x=+x)?i:(d||(d=o(e.map(a),r,s)))(a(l(x)))}return m.invert=function(x){return l(n((c||(c=o(r,e.map(a),Tg)))(x)))},m.domain=function(x){return arguments.length?(e=Array.from(x,Eg),u()):e.slice()},m.range=function(x){return arguments.length?(r=Array.from(x),u()):r.slice()},m.rangeRound=function(x){return r=Array.from(x),s=u3,u()},m.clamp=function(x){return arguments.length?(l=x?!0:_a,u()):l!==_a},m.interpolate=function(x){return arguments.length?(s=x,u()):s},m.unknown=function(x){return arguments.length?(i=x,m):i},function(x,h){return a=x,n=h,u()}}function m3(){return Nb()(_a,_a)}function Vce(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ig(e,r){if((s=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var s,a=e.slice(0,s);return[a.length>1?a[0]+a.slice(2):a,+e.slice(s+1)]}function mm(e){return e=Ig(Math.abs(e)),e?e[1]:NaN}function Wce(e,r){return function(s,a){for(var n=s.length,i=[],l=0,o=e[0],d=0;n>0&&o>0&&(d+o+1>a&&(o=Math.max(1,a-d)),i.push(s.substring(n-=o,n+o)),!((d+=o+1)>a));)o=e[l=(l+1)%e.length];return i.reverse().join(r)}}function qce(e){return function(r){return r.replace(/[0-9]/g,function(s){return e[+s]})}}var Gce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function O0(e){if(!(r=Gce.exec(e)))throw new Error("invalid format: "+e);var r;return new h3({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}O0.prototype=h3.prototype;function h3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}h3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kce(e){e:for(var r=e.length,s=1,a=-1,n;s<r;++s)switch(e[s]){case".":a=n=s;break;case"0":a===0&&(a=s),n=s;break;default:if(!+e[s])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var ML;function Yce(e,r){var s=Ig(e,r);if(!s)return e+"";var a=s[0],n=s[1],i=n-(ML=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+Ig(e,Math.max(0,r+i-1))[0]}function e8(e,r){var s=Ig(e,r);if(!s)return e+"";var a=s[0],n=s[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const t8={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Vce,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>e8(e*100,r),r:e8,s:Yce,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function r8(e){return e}var s8=Array.prototype.map,a8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Xce(e){var r=e.grouping===void 0||e.thousands===void 0?r8:Wce(s8.call(e.grouping,Number),e.thousands+""),s=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?r8:qce(s8.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function c(m){m=O0(m);var x=m.fill,h=m.align,p=m.sign,f=m.symbol,b=m.zero,j=m.width,w=m.comma,y=m.precision,v=m.trim,N=m.type;N==="n"?(w=!0,N="g"):t8[N]||(y===void 0&&(y=12),v=!0,N="g"),(b||x==="0"&&h==="=")&&(b=!0,x="0",h="=");var S=f==="$"?s:f==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",k=f==="$"?a:/[%p]/.test(N)?l:"",P=t8[N],C=/[defgprs%]/.test(N);y=y===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function _(A){var D=S,H=k,re,xe,we;if(N==="c")H=P(A)+H,A="";else{A=+A;var T=A<0||1/A<0;if(A=isNaN(A)?d:P(Math.abs(A),y),v&&(A=Kce(A)),T&&+A==0&&p!=="+"&&(T=!1),D=(T?p==="("?p:o:p==="-"||p==="("?"":p)+D,H=(N==="s"?a8[8+ML/3]:"")+H+(T&&p==="("?")":""),C){for(re=-1,xe=A.length;++re<xe;)if(we=A.charCodeAt(re),48>we||we>57){H=(we===46?n+A.slice(re+1):A.slice(re))+H,A=A.slice(0,re);break}}}w&&!b&&(A=r(A,1/0));var z=D.length+A.length+H.length,Q=z<j?new Array(j-z+1).join(x):"";switch(w&&b&&(A=r(Q+A,Q.length?j-H.length:1/0),Q=""),h){case"<":A=D+A+H+Q;break;case"=":A=D+Q+A+H;break;case"^":A=Q.slice(0,z=Q.length>>1)+D+A+H+Q.slice(z);break;default:A=Q+D+A+H;break}return i(A)}return _.toString=function(){return m+""},_}function u(m,x){var h=c((m=O0(m),m.type="f",m)),p=Math.max(-8,Math.min(8,Math.floor(mm(x)/3)))*3,f=Math.pow(10,-p),b=a8[8+p/3];return function(j){return h(f*j)+b}}return{format:c,formatPrefix:u}}var Cp,x3,DL;Jce({thousands:",",grouping:[3],currency:["$",""]});function Jce(e){return Cp=Xce(e),x3=Cp.format,DL=Cp.formatPrefix,Cp}function Qce(e){return Math.max(0,-mm(Math.abs(e)))}function Zce(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mm(r)/3)))*3-mm(Math.abs(e)))}function ede(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,mm(r)-mm(e))+1}function LL(e,r,s,a){var n=cw(e,r,s),i;switch(a=O0(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(r));return a.precision==null&&!isNaN(i=Zce(n,l))&&(a.precision=i),DL(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=ede(n,Math.max(Math.abs(e),Math.abs(r))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=Qce(n))&&(a.precision=i-(a.type==="%")*2);break}}return x3(a)}function pc(e){var r=e.domain;return e.ticks=function(s){var a=r();return lw(a[0],a[a.length-1],s??10)},e.tickFormat=function(s,a){var n=r();return LL(n[0],n[n.length-1],s??10,a)},e.nice=function(s){s==null&&(s=10);var a=r(),n=0,i=a.length-1,l=a[n],o=a[i],d,c,u=10;for(o<l&&(c=l,l=o,o=c,c=n,n=i,i=c);u-- >0;){if(c=ow(l,o,s),c===d)return a[n]=l,a[i]=o,r(a);if(c>0)l=Math.floor(l/c)*c,o=Math.ceil(o/c)*c;else if(c<0)l=Math.ceil(l*c)/c,o=Math.floor(o*c)/c;else break;d=c}return e},e}function FL(){var e=m3();return e.copy=function(){return yx(e,FL())},mi.apply(e,arguments),pc(e)}function RL(e){var r;function s(a){return a==null||isNaN(a=+a)?r:a}return s.invert=s,s.domain=s.range=function(a){return arguments.length?(e=Array.from(a,Eg),s):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return RL(e).unknown(r)},e=arguments.length?Array.from(e,Eg):[0,1],pc(s)}function BL(e,r){e=e.slice();var s=0,a=e.length-1,n=e[s],i=e[a],l;return i<n&&(l=s,s=a,a=l,l=n,n=i,i=l),e[s]=r.floor(n),e[a]=r.ceil(i),e}function n8(e){return Math.log(e)}function i8(e){return Math.exp(e)}function tde(e){return-Math.log(-e)}function rde(e){return-Math.exp(-e)}function sde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ade(e){return e===10?sde:e===Math.E?Math.exp:r=>Math.pow(e,r)}function nde(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function l8(e){return(r,s)=>-e(-r,s)}function p3(e){const r=e(n8,i8),s=r.domain;let a=10,n,i;function l(){return n=nde(a),i=ade(a),s()[0]<0?(n=l8(n),i=l8(i),e(tde,rde)):e(n8,i8),r}return r.base=function(o){return arguments.length?(a=+o,l()):a},r.domain=function(o){return arguments.length?(s(o),l()):s()},r.ticks=o=>{const d=s();let c=d[0],u=d[d.length-1];const m=u<c;m&&([c,u]=[u,c]);let x=n(c),h=n(u),p,f;const b=o==null?10:+o;let j=[];if(!(a%1)&&h-x<b){if(x=Math.floor(x),h=Math.ceil(h),c>0){for(;x<=h;++x)for(p=1;p<a;++p)if(f=x<0?p/i(-x):p*i(x),!(f<c)){if(f>u)break;j.push(f)}}else for(;x<=h;++x)for(p=a-1;p>=1;--p)if(f=x>0?p/i(-x):p*i(x),!(f<c)){if(f>u)break;j.push(f)}j.length*2<b&&(j=lw(c,u,b))}else j=lw(x,h,Math.min(h-x,b)).map(i);return m?j.reverse():j},r.tickFormat=(o,d)=>{if(o==null&&(o=10),d==null&&(d=a===10?"s":","),typeof d!="function"&&(!(a%1)&&(d=O0(d)).precision==null&&(d.trim=!0),d=x3(d)),o===1/0)return d;const c=Math.max(1,a*o/r.ticks().length);return u=>{let m=u/i(Math.round(n(u)));return m*a<a-.5&&(m*=a),m<=c?d(u):""}},r.nice=()=>s(BL(s(),{floor:o=>i(Math.floor(n(o))),ceil:o=>i(Math.ceil(n(o)))})),r}function $L(){const e=p3(Nb()).domain([1,10]);return e.copy=()=>yx(e,$L()).base(e.base()),mi.apply(e,arguments),e}function o8(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function c8(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function f3(e){var r=1,s=e(o8(r),c8(r));return s.constant=function(a){return arguments.length?e(o8(r=+a),c8(r)):r},pc(s)}function zL(){var e=f3(Nb());return e.copy=function(){return yx(e,zL()).constant(e.constant())},mi.apply(e,arguments)}function d8(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function ide(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function lde(e){return e<0?-e*e:e*e}function g3(e){var r=e(_a,_a),s=1;function a(){return s===1?e(_a,_a):s===.5?e(ide,lde):e(d8(s),d8(1/s))}return r.exponent=function(n){return arguments.length?(s=+n,a()):s},pc(r)}function y3(){var e=g3(Nb());return e.copy=function(){return yx(e,y3()).exponent(e.exponent())},mi.apply(e,arguments),e}function ode(){return y3.apply(null,arguments).exponent(.5)}function u8(e){return Math.sign(e)*e*e}function cde(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function UL(){var e=m3(),r=[0,1],s=!1,a;function n(i){var l=cde(e(i));return isNaN(l)?a:s?Math.round(l):l}return n.invert=function(i){return e.invert(u8(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((r=Array.from(i,Eg)).map(u8)),n):r.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(s=!!i,n):s},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return UL(e.domain(),r).round(s).clamp(e.clamp()).unknown(a)},mi.apply(n,arguments),pc(n)}function HL(){var e=[],r=[],s=[],a;function n(){var l=0,o=Math.max(1,r.length);for(s=new Array(o-1);++l<o;)s[l-1]=hce(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?a:r[fx(s,l)]}return i.invertExtent=function(l){var o=r.indexOf(l);return o<0?[NaN,NaN]:[o>0?s[o-1]:e[0],o<s.length?s[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Xo),n()},i.range=function(l){return arguments.length?(r=Array.from(l),n()):r.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return s.slice()},i.copy=function(){return HL().domain(e).range(r).unknown(a)},mi.apply(i,arguments)}function VL(){var e=0,r=1,s=1,a=[.5],n=[0,1],i;function l(d){return d!=null&&d<=d?n[fx(a,d,0,s)]:i}function o(){var d=-1;for(a=new Array(s);++d<s;)a[d]=((d+1)*r-(d-s)*e)/(s+1);return l}return l.domain=function(d){return arguments.length?([e,r]=d,e=+e,r=+r,o()):[e,r]},l.range=function(d){return arguments.length?(s=(n=Array.from(d)).length-1,o()):n.slice()},l.invertExtent=function(d){var c=n.indexOf(d);return c<0?[NaN,NaN]:c<1?[e,a[0]]:c>=s?[a[s-1],r]:[a[c-1],a[c]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return a.slice()},l.copy=function(){return VL().domain([e,r]).range(n).unknown(i)},mi.apply(pc(l),arguments)}function WL(){var e=[.5],r=[0,1],s,a=1;function n(i){return i!=null&&i<=i?r[fx(e,i,0,a)]:s}return n.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,r.length-1),n):e.slice()},n.range=function(i){return arguments.length?(r=Array.from(i),a=Math.min(e.length,r.length-1),n):r.slice()},n.invertExtent=function(i){var l=r.indexOf(i);return[e[l-1],e[l]]},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return WL().domain(e).range(r).unknown(s)},mi.apply(n,arguments)}const F1=new Date,R1=new Date;function Bs(e,r,s,a){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),r(i,1),e(i),i),n.round=i=>{const l=n(i),o=n.ceil(i);return i-l<o-i?l:o},n.offset=(i,l)=>(r(i=new Date(+i),l==null?1:Math.floor(l)),i),n.range=(i,l,o)=>{const d=[];if(i=n.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return d;let c;do d.push(c=new Date(+i)),r(i,o),e(i);while(c<i&&i<l);return d},n.filter=i=>Bs(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;r(l,-1),!i(l););else for(;--o>=0;)for(;r(l,1),!i(l););}),s&&(n.count=(i,l)=>(F1.setTime(+i),R1.setTime(+l),e(F1),e(R1),Math.floor(s(F1,R1))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?l=>a(l)%i===0:l=>n.count(0,l)%i===0):n)),n}const Og=Bs(()=>{},(e,r)=>{e.setTime(+e+r)},(e,r)=>r-e);Og.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Bs(r=>{r.setTime(Math.floor(r/e)*e)},(r,s)=>{r.setTime(+r+s*e)},(r,s)=>(s-r)/e):Og);Og.range;const wl=1e3,ri=wl*60,Nl=ri*60,Kl=Nl*24,b3=Kl*7,m8=Kl*30,B1=Kl*365,Uc=Bs(e=>{e.setTime(e-e.getMilliseconds())},(e,r)=>{e.setTime(+e+r*wl)},(e,r)=>(r-e)/wl,e=>e.getUTCSeconds());Uc.range;const v3=Bs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wl)},(e,r)=>{e.setTime(+e+r*ri)},(e,r)=>(r-e)/ri,e=>e.getMinutes());v3.range;const j3=Bs(e=>{e.setUTCSeconds(0,0)},(e,r)=>{e.setTime(+e+r*ri)},(e,r)=>(r-e)/ri,e=>e.getUTCMinutes());j3.range;const w3=Bs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wl-e.getMinutes()*ri)},(e,r)=>{e.setTime(+e+r*Nl)},(e,r)=>(r-e)/Nl,e=>e.getHours());w3.range;const N3=Bs(e=>{e.setUTCMinutes(0,0,0)},(e,r)=>{e.setTime(+e+r*Nl)},(e,r)=>(r-e)/Nl,e=>e.getUTCHours());N3.range;const bx=Bs(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ri)/Kl,e=>e.getDate()-1);bx.range;const Sb=Bs(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/Kl,e=>e.getUTCDate()-1);Sb.range;const qL=Bs(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/Kl,e=>Math.floor(e/Kl));qL.range;function Rd(e){return Bs(r=>{r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},(r,s)=>{r.setDate(r.getDate()+s*7)},(r,s)=>(s-r-(s.getTimezoneOffset()-r.getTimezoneOffset())*ri)/b3)}const kb=Rd(0),_g=Rd(1),dde=Rd(2),ude=Rd(3),hm=Rd(4),mde=Rd(5),hde=Rd(6);kb.range;_g.range;dde.range;ude.range;hm.range;mde.range;hde.range;function Bd(e){return Bs(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCDate(r.getUTCDate()+s*7)},(r,s)=>(s-r)/b3)}const Cb=Bd(0),Mg=Bd(1),xde=Bd(2),pde=Bd(3),xm=Bd(4),fde=Bd(5),gde=Bd(6);Cb.range;Mg.range;xde.range;pde.range;xm.range;fde.range;gde.range;const S3=Bs(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,r)=>{e.setMonth(e.getMonth()+r)},(e,r)=>r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12,e=>e.getMonth());S3.range;const k3=Bs(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCMonth(e.getUTCMonth()+r)},(e,r)=>r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());k3.range;const Yl=Bs(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r)},(e,r)=>r.getFullYear()-e.getFullYear(),e=>e.getFullYear());Yl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bs(r=>{r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,s)=>{r.setFullYear(r.getFullYear()+s*e)});Yl.range;const Xl=Bs(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r)},(e,r)=>r.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Xl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bs(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCFullYear(r.getUTCFullYear()+s*e)});Xl.range;function GL(e,r,s,a,n,i){const l=[[Uc,1,wl],[Uc,5,5*wl],[Uc,15,15*wl],[Uc,30,30*wl],[i,1,ri],[i,5,5*ri],[i,15,15*ri],[i,30,30*ri],[n,1,Nl],[n,3,3*Nl],[n,6,6*Nl],[n,12,12*Nl],[a,1,Kl],[a,2,2*Kl],[s,1,b3],[r,1,m8],[r,3,3*m8],[e,1,B1]];function o(c,u,m){const x=u<c;x&&([c,u]=[u,c]);const h=m&&typeof m.range=="function"?m:d(c,u,m),p=h?h.range(c,+u+1):[];return x?p.reverse():p}function d(c,u,m){const x=Math.abs(u-c)/m,h=i3(([,,b])=>b).right(l,x);if(h===l.length)return e.every(cw(c/B1,u/B1,m));if(h===0)return Og.every(Math.max(cw(c,u,m),1));const[p,f]=l[x/l[h-1][2]<l[h][2]/x?h-1:h];return p.every(f)}return[o,d]}const[yde,bde]=GL(Xl,k3,Cb,qL,N3,j3),[vde,jde]=GL(Yl,S3,kb,bx,w3,v3);function $1(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function z1(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ch(e,r,s){return{y:e,m:r,d:s,H:0,M:0,S:0,L:0}}function wde(e){var r=e.dateTime,s=e.date,a=e.time,n=e.periods,i=e.days,l=e.shortDays,o=e.months,d=e.shortMonths,c=dh(n),u=uh(n),m=dh(i),x=uh(i),h=dh(l),p=uh(l),f=dh(o),b=uh(o),j=dh(d),w=uh(d),y={a:T,A:z,b:Q,B,c:null,d:y8,e:y8,f:Wde,g:tue,G:sue,H:Ude,I:Hde,j:Vde,L:KL,m:qde,M:Gde,p:L,q:R,Q:j8,s:w8,S:Kde,u:Yde,U:Xde,V:Jde,w:Qde,W:Zde,x:null,X:null,y:eue,Y:rue,Z:aue,"%":v8},v={a:Z,A:W,b:ie,B:ae,c:null,d:b8,e:b8,f:oue,g:yue,G:vue,H:nue,I:iue,j:lue,L:XL,m:cue,M:due,p:M,q:U,Q:j8,s:w8,S:uue,u:mue,U:hue,V:xue,w:pue,W:fue,x:null,X:null,y:gue,Y:bue,Z:jue,"%":v8},N={a:_,A,b:D,B:H,c:re,d:f8,e:f8,f:Rde,g:p8,G:x8,H:g8,I:g8,j:Mde,L:Fde,m:_de,M:Dde,p:C,q:Ode,Q:$de,s:zde,S:Lde,u:Pde,U:Ade,V:Tde,w:Cde,W:Ede,x:xe,X:we,y:p8,Y:x8,Z:Ide,"%":Bde};y.x=S(s,y),y.X=S(a,y),y.c=S(r,y),v.x=S(s,v),v.X=S(a,v),v.c=S(r,v);function S(q,G){return function(Y){var oe=[],Be=-1,fe=0,ne=q.length,ce,pe,F;for(Y instanceof Date||(Y=new Date(+Y));++Be<ne;)q.charCodeAt(Be)===37&&(oe.push(q.slice(fe,Be)),(pe=h8[ce=q.charAt(++Be)])!=null?ce=q.charAt(++Be):pe=ce==="e"?" ":"0",(F=G[ce])&&(ce=F(Y,pe)),oe.push(ce),fe=Be+1);return oe.push(q.slice(fe,Be)),oe.join("")}}function k(q,G){return function(Y){var oe=ch(1900,void 0,1),Be=P(oe,q,Y+="",0),fe,ne;if(Be!=Y.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(G&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(fe=z1(ch(oe.y,0,1)),ne=fe.getUTCDay(),fe=ne>4||ne===0?Mg.ceil(fe):Mg(fe),fe=Sb.offset(fe,(oe.V-1)*7),oe.y=fe.getUTCFullYear(),oe.m=fe.getUTCMonth(),oe.d=fe.getUTCDate()+(oe.w+6)%7):(fe=$1(ch(oe.y,0,1)),ne=fe.getDay(),fe=ne>4||ne===0?_g.ceil(fe):_g(fe),fe=bx.offset(fe,(oe.V-1)*7),oe.y=fe.getFullYear(),oe.m=fe.getMonth(),oe.d=fe.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),ne="Z"in oe?z1(ch(oe.y,0,1)).getUTCDay():$1(ch(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(ne+5)%7:oe.w+oe.U*7-(ne+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,z1(oe)):$1(oe)}}function P(q,G,Y,oe){for(var Be=0,fe=G.length,ne=Y.length,ce,pe;Be<fe;){if(oe>=ne)return-1;if(ce=G.charCodeAt(Be++),ce===37){if(ce=G.charAt(Be++),pe=N[ce in h8?G.charAt(Be++):ce],!pe||(oe=pe(q,Y,oe))<0)return-1}else if(ce!=Y.charCodeAt(oe++))return-1}return oe}function C(q,G,Y){var oe=c.exec(G.slice(Y));return oe?(q.p=u.get(oe[0].toLowerCase()),Y+oe[0].length):-1}function _(q,G,Y){var oe=h.exec(G.slice(Y));return oe?(q.w=p.get(oe[0].toLowerCase()),Y+oe[0].length):-1}function A(q,G,Y){var oe=m.exec(G.slice(Y));return oe?(q.w=x.get(oe[0].toLowerCase()),Y+oe[0].length):-1}function D(q,G,Y){var oe=j.exec(G.slice(Y));return oe?(q.m=w.get(oe[0].toLowerCase()),Y+oe[0].length):-1}function H(q,G,Y){var oe=f.exec(G.slice(Y));return oe?(q.m=b.get(oe[0].toLowerCase()),Y+oe[0].length):-1}function re(q,G,Y){return P(q,r,G,Y)}function xe(q,G,Y){return P(q,s,G,Y)}function we(q,G,Y){return P(q,a,G,Y)}function T(q){return l[q.getDay()]}function z(q){return i[q.getDay()]}function Q(q){return d[q.getMonth()]}function B(q){return o[q.getMonth()]}function L(q){return n[+(q.getHours()>=12)]}function R(q){return 1+~~(q.getMonth()/3)}function Z(q){return l[q.getUTCDay()]}function W(q){return i[q.getUTCDay()]}function ie(q){return d[q.getUTCMonth()]}function ae(q){return o[q.getUTCMonth()]}function M(q){return n[+(q.getUTCHours()>=12)]}function U(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var G=S(q+="",y);return G.toString=function(){return q},G},parse:function(q){var G=k(q+="",!1);return G.toString=function(){return q},G},utcFormat:function(q){var G=S(q+="",v);return G.toString=function(){return q},G},utcParse:function(q){var G=k(q+="",!0);return G.toString=function(){return q},G}}}var h8={"-":"",_:" ",0:"0"},Js=/^\s*\d+/,Nde=/^%/,Sde=/[\\^$*+?|[\]().{}]/g;function or(e,r,s){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<s?new Array(s-i+1).join(r)+n:n)}function kde(e){return e.replace(Sde,"\\$&")}function dh(e){return new RegExp("^(?:"+e.map(kde).join("|")+")","i")}function uh(e){return new Map(e.map((r,s)=>[r.toLowerCase(),s]))}function Cde(e,r,s){var a=Js.exec(r.slice(s,s+1));return a?(e.w=+a[0],s+a[0].length):-1}function Pde(e,r,s){var a=Js.exec(r.slice(s,s+1));return a?(e.u=+a[0],s+a[0].length):-1}function Ade(e,r,s){var a=Js.exec(r.slice(s,s+2));return a?(e.U=+a[0],s+a[0].length):-1}function Tde(e,r,s){var a=Js.exec(r.slice(s,s+2));return a?(e.V=+a[0],s+a[0].length):-1}function Ede(e,r,s){var a=Js.exec(r.slice(s,s+2));return a?(e.W=+a[0],s+a[0].length):-1}function x8(e,r,s){var a=Js.exec(r.slice(s,s+4));return a?(e.y=+a[0],s+a[0].length):-1}function p8(e,r,s){var a=Js.exec(r.slice(s,s+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),s+a[0].length):-1}function Ide(e,r,s){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(s,s+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),s+a[0].length):-1}function Ode(e,r,s){var a=Js.exec(r.slice(s,s+1));return a?(e.q=a[0]*3-3,s+a[0].length):-1}function _de(e,r,s){var a=Js.exec(r.slice(s,s+2));return a?(e.m=a[0]-1,s+a[0].length):-1}function f8(e,r,s){var a=Js.exec(r.slice(s,s+2));return a?(e.d=+a[0],s+a[0].length):-1}function Mde(e,r,s){var a=Js.exec(r.slice(s,s+3));return a?(e.m=0,e.d=+a[0],s+a[0].length):-1}function g8(e,r,s){var a=Js.exec(r.slice(s,s+2));return a?(e.H=+a[0],s+a[0].length):-1}function Dde(e,r,s){var a=Js.exec(r.slice(s,s+2));return a?(e.M=+a[0],s+a[0].length):-1}function Lde(e,r,s){var a=Js.exec(r.slice(s,s+2));return a?(e.S=+a[0],s+a[0].length):-1}function Fde(e,r,s){var a=Js.exec(r.slice(s,s+3));return a?(e.L=+a[0],s+a[0].length):-1}function Rde(e,r,s){var a=Js.exec(r.slice(s,s+6));return a?(e.L=Math.floor(a[0]/1e3),s+a[0].length):-1}function Bde(e,r,s){var a=Nde.exec(r.slice(s,s+1));return a?s+a[0].length:-1}function $de(e,r,s){var a=Js.exec(r.slice(s));return a?(e.Q=+a[0],s+a[0].length):-1}function zde(e,r,s){var a=Js.exec(r.slice(s));return a?(e.s=+a[0],s+a[0].length):-1}function y8(e,r){return or(e.getDate(),r,2)}function Ude(e,r){return or(e.getHours(),r,2)}function Hde(e,r){return or(e.getHours()%12||12,r,2)}function Vde(e,r){return or(1+bx.count(Yl(e),e),r,3)}function KL(e,r){return or(e.getMilliseconds(),r,3)}function Wde(e,r){return KL(e,r)+"000"}function qde(e,r){return or(e.getMonth()+1,r,2)}function Gde(e,r){return or(e.getMinutes(),r,2)}function Kde(e,r){return or(e.getSeconds(),r,2)}function Yde(e){var r=e.getDay();return r===0?7:r}function Xde(e,r){return or(kb.count(Yl(e)-1,e),r,2)}function YL(e){var r=e.getDay();return r>=4||r===0?hm(e):hm.ceil(e)}function Jde(e,r){return e=YL(e),or(hm.count(Yl(e),e)+(Yl(e).getDay()===4),r,2)}function Qde(e){return e.getDay()}function Zde(e,r){return or(_g.count(Yl(e)-1,e),r,2)}function eue(e,r){return or(e.getFullYear()%100,r,2)}function tue(e,r){return e=YL(e),or(e.getFullYear()%100,r,2)}function rue(e,r){return or(e.getFullYear()%1e4,r,4)}function sue(e,r){var s=e.getDay();return e=s>=4||s===0?hm(e):hm.ceil(e),or(e.getFullYear()%1e4,r,4)}function aue(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+or(r/60|0,"0",2)+or(r%60,"0",2)}function b8(e,r){return or(e.getUTCDate(),r,2)}function nue(e,r){return or(e.getUTCHours(),r,2)}function iue(e,r){return or(e.getUTCHours()%12||12,r,2)}function lue(e,r){return or(1+Sb.count(Xl(e),e),r,3)}function XL(e,r){return or(e.getUTCMilliseconds(),r,3)}function oue(e,r){return XL(e,r)+"000"}function cue(e,r){return or(e.getUTCMonth()+1,r,2)}function due(e,r){return or(e.getUTCMinutes(),r,2)}function uue(e,r){return or(e.getUTCSeconds(),r,2)}function mue(e){var r=e.getUTCDay();return r===0?7:r}function hue(e,r){return or(Cb.count(Xl(e)-1,e),r,2)}function JL(e){var r=e.getUTCDay();return r>=4||r===0?xm(e):xm.ceil(e)}function xue(e,r){return e=JL(e),or(xm.count(Xl(e),e)+(Xl(e).getUTCDay()===4),r,2)}function pue(e){return e.getUTCDay()}function fue(e,r){return or(Mg.count(Xl(e)-1,e),r,2)}function gue(e,r){return or(e.getUTCFullYear()%100,r,2)}function yue(e,r){return e=JL(e),or(e.getUTCFullYear()%100,r,2)}function bue(e,r){return or(e.getUTCFullYear()%1e4,r,4)}function vue(e,r){var s=e.getUTCDay();return e=s>=4||s===0?xm(e):xm.ceil(e),or(e.getUTCFullYear()%1e4,r,4)}function jue(){return"+0000"}function v8(){return"%"}function j8(e){return+e}function w8(e){return Math.floor(+e/1e3)}var Xd,QL,ZL;wue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wue(e){return Xd=wde(e),QL=Xd.format,Xd.parse,ZL=Xd.utcFormat,Xd.utcParse,Xd}function Nue(e){return new Date(e)}function Sue(e){return e instanceof Date?+e:+new Date(+e)}function C3(e,r,s,a,n,i,l,o,d,c){var u=m3(),m=u.invert,x=u.domain,h=c(".%L"),p=c(":%S"),f=c("%I:%M"),b=c("%I %p"),j=c("%a %d"),w=c("%b %d"),y=c("%B"),v=c("%Y");function N(S){return(d(S)<S?h:o(S)<S?p:l(S)<S?f:i(S)<S?b:a(S)<S?n(S)<S?j:w:s(S)<S?y:v)(S)}return u.invert=function(S){return new Date(m(S))},u.domain=function(S){return arguments.length?x(Array.from(S,Sue)):x().map(Nue)},u.ticks=function(S){var k=x();return e(k[0],k[k.length-1],S??10)},u.tickFormat=function(S,k){return k==null?N:c(k)},u.nice=function(S){var k=x();return(!S||typeof S.range!="function")&&(S=r(k[0],k[k.length-1],S??10)),S?x(BL(k,S)):u},u.copy=function(){return yx(u,C3(e,r,s,a,n,i,l,o,d,c))},u}function kue(){return mi.apply(C3(vde,jde,Yl,S3,kb,bx,w3,v3,Uc,QL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Cue(){return mi.apply(C3(yde,bde,Xl,k3,Cb,Sb,N3,j3,Uc,ZL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Pb(){var e=0,r=1,s,a,n,i,l=_a,o=!1,d;function c(m){return m==null||isNaN(m=+m)?d:l(n===0?.5:(m=(i(m)-s)*n,o?Math.max(0,Math.min(1,m)):m))}c.domain=function(m){return arguments.length?([e,r]=m,s=i(e=+e),a=i(r=+r),n=s===a?0:1/(a-s),c):[e,r]},c.clamp=function(m){return arguments.length?(o=!!m,c):o},c.interpolator=function(m){return arguments.length?(l=m,c):l};function u(m){return function(x){var h,p;return arguments.length?([h,p]=x,l=m(h,p),c):[l(0),l(1)]}}return c.range=u(Em),c.rangeRound=u(u3),c.unknown=function(m){return arguments.length?(d=m,c):d},function(m){return i=m,s=m(e),a=m(r),n=s===a?0:1/(a-s),c}}function fc(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function eF(){var e=pc(Pb()(_a));return e.copy=function(){return fc(e,eF())},oo.apply(e,arguments)}function tF(){var e=p3(Pb()).domain([1,10]);return e.copy=function(){return fc(e,tF()).base(e.base())},oo.apply(e,arguments)}function rF(){var e=f3(Pb());return e.copy=function(){return fc(e,rF()).constant(e.constant())},oo.apply(e,arguments)}function P3(){var e=g3(Pb());return e.copy=function(){return fc(e,P3()).exponent(e.exponent())},oo.apply(e,arguments)}function Pue(){return P3.apply(null,arguments).exponent(.5)}function sF(){var e=[],r=_a;function s(a){if(a!=null&&!isNaN(a=+a))return r((fx(e,a,1)-1)/(e.length-1))}return s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let n of a)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(Xo),s},s.interpolator=function(a){return arguments.length?(r=a,s):r},s.range=function(){return e.map((a,n)=>r(n/(e.length-1)))},s.quantiles=function(a){return Array.from({length:a+1},(n,i)=>mce(e,i/a))},s.copy=function(){return sF(r).domain(e)},oo.apply(s,arguments)}function Ab(){var e=0,r=.5,s=1,a=1,n,i,l,o,d,c=_a,u,m=!1,x;function h(f){return isNaN(f=+f)?x:(f=.5+((f=+u(f))-i)*(a*f<a*i?o:d),c(m?Math.max(0,Math.min(1,f)):f))}h.domain=function(f){return arguments.length?([e,r,s]=f,n=u(e=+e),i=u(r=+r),l=u(s=+s),o=n===i?0:.5/(i-n),d=i===l?0:.5/(l-i),a=i<n?-1:1,h):[e,r,s]},h.clamp=function(f){return arguments.length?(m=!!f,h):m},h.interpolator=function(f){return arguments.length?(c=f,h):c};function p(f){return function(b){var j,w,y;return arguments.length?([j,w,y]=b,c=Bce(f,[j,w,y]),h):[c(0),c(.5),c(1)]}}return h.range=p(Em),h.rangeRound=p(u3),h.unknown=function(f){return arguments.length?(x=f,h):x},function(f){return u=f,n=f(e),i=f(r),l=f(s),o=n===i?0:.5/(i-n),d=i===l?0:.5/(l-i),a=i<n?-1:1,h}}function aF(){var e=pc(Ab()(_a));return e.copy=function(){return fc(e,aF())},oo.apply(e,arguments)}function nF(){var e=p3(Ab()).domain([.1,1,10]);return e.copy=function(){return fc(e,nF()).base(e.base())},oo.apply(e,arguments)}function iF(){var e=f3(Ab());return e.copy=function(){return fc(e,iF()).constant(e.constant())},oo.apply(e,arguments)}function A3(){var e=g3(Ab());return e.copy=function(){return fc(e,A3()).exponent(e.exponent())},oo.apply(e,arguments)}function Aue(){return A3.apply(null,arguments).exponent(.5)}const Ch=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:o3,scaleDiverging:aF,scaleDivergingLog:nF,scaleDivergingPow:A3,scaleDivergingSqrt:Aue,scaleDivergingSymlog:iF,scaleIdentity:RL,scaleImplicit:dw,scaleLinear:FL,scaleLog:$L,scaleOrdinal:l3,scalePoint:pce,scalePow:y3,scaleQuantile:HL,scaleQuantize:VL,scaleRadial:UL,scaleSequential:eF,scaleSequentialLog:tF,scaleSequentialPow:P3,scaleSequentialQuantile:sF,scaleSequentialSqrt:Pue,scaleSequentialSymlog:rF,scaleSqrt:ode,scaleSymlog:zL,scaleThreshold:WL,scaleTime:kue,scaleUtc:Cue,tickFormat:LL},Symbol.toStringTag,{value:"Module"}));var gc=e=>e.chartData,T3=Ee([gc],e=>{var r=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:r,dataStartIndex:0}}),vx=(e,r,s,a)=>a?T3(e):gc(e);function vd(e){if(Array.isArray(e)&&e.length===2){var[r,s]=e;if(Br(r)&&Br(s))return!0}return!1}function N8(e,r,s){return s?e:[Math.min(e[0],r[0]),Math.max(e[1],r[1])]}function lF(e,r){if(r&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[s,a]=e,n,i;if(Br(s))n=s;else if(typeof s=="function")return;if(Br(a))i=a;else if(typeof a=="function")return;var l=[n,i];if(vd(l))return l}}function Tue(e,r,s){if(!(!s&&r==null)){if(typeof e=="function"&&r!=null)try{var a=e(r,s);if(vd(a))return N8(a,r,s)}catch{}if(Array.isArray(e)&&e.length===2){var[n,i]=e,l,o;if(n==="auto")r!=null&&(l=Math.min(...r));else if(jt(n))l=n;else if(typeof n=="function")try{r!=null&&(l=n(r==null?void 0:r[0]))}catch{}else if(typeof n=="string"&&uA.test(n)){var d=uA.exec(n);if(d==null||r==null)l=void 0;else{var c=+d[1];l=r[0]-c}}else l=r==null?void 0:r[0];if(i==="auto")r!=null&&(o=Math.max(...r));else if(jt(i))o=i;else if(typeof i=="function")try{r!=null&&(o=i(r==null?void 0:r[1]))}catch{}else if(typeof i=="string"&&mA.test(i)){var u=mA.exec(i);if(u==null||r==null)o=void 0;else{var m=+u[1];o=r[1]+m}}else o=r==null?void 0:r[1];var x=[l,o];if(vd(x))return r==null?x:N8(x,r,s)}}}var Im=1e9,Eue={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},I3,Wr=!0,di="[DecimalError] ",Zc=di+"Invalid argument: ",E3=di+"Exponent out of range: ",Om=Math.floor,Ic=Math.pow,Iue=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vn,Hs=1e7,Lr=7,oF=9007199254740991,Dg=Om(oF/Lr),Nt={};Nt.absoluteValue=Nt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Nt.comparedTo=Nt.cmp=function(e){var r,s,a,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,n=e.d.length,r=0,s=a<n?a:n;r<s;++r)if(i.d[r]!==e.d[r])return i.d[r]>e.d[r]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};Nt.decimalPlaces=Nt.dp=function(){var e=this,r=e.d.length-1,s=(r-e.e)*Lr;if(r=e.d[r],r)for(;r%10==0;r/=10)s--;return s<0?0:s};Nt.dividedBy=Nt.div=function(e){return _l(this,new this.constructor(e))};Nt.dividedToIntegerBy=Nt.idiv=function(e){var r=this,s=r.constructor;return Sr(_l(r,new s(e),0,1),s.precision)};Nt.equals=Nt.eq=function(e){return!this.cmp(e)};Nt.exponent=function(){return Ts(this)};Nt.greaterThan=Nt.gt=function(e){return this.cmp(e)>0};Nt.greaterThanOrEqualTo=Nt.gte=function(e){return this.cmp(e)>=0};Nt.isInteger=Nt.isint=function(){return this.e>this.d.length-2};Nt.isNegative=Nt.isneg=function(){return this.s<0};Nt.isPositive=Nt.ispos=function(){return this.s>0};Nt.isZero=function(){return this.s===0};Nt.lessThan=Nt.lt=function(e){return this.cmp(e)<0};Nt.lessThanOrEqualTo=Nt.lte=function(e){return this.cmp(e)<1};Nt.logarithm=Nt.log=function(e){var r,s=this,a=s.constructor,n=a.precision,i=n+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(vn))throw Error(di+"NaN");if(s.s<1)throw Error(di+(s.s?"NaN":"-Infinity"));return s.eq(vn)?new a(0):(Wr=!1,r=_l(_0(s,i),_0(e,i),i),Wr=!0,Sr(r,n))};Nt.minus=Nt.sub=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?uF(r,e):cF(r,(e.s=-e.s,e))};Nt.modulo=Nt.mod=function(e){var r,s=this,a=s.constructor,n=a.precision;if(e=new a(e),!e.s)throw Error(di+"NaN");return s.s?(Wr=!1,r=_l(s,e,0,1).times(e),Wr=!0,s.minus(r)):Sr(new a(s),n)};Nt.naturalExponential=Nt.exp=function(){return dF(this)};Nt.naturalLogarithm=Nt.ln=function(){return _0(this)};Nt.negated=Nt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Nt.plus=Nt.add=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?cF(r,e):uF(r,(e.s=-e.s,e))};Nt.precision=Nt.sd=function(e){var r,s,a,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Zc+e);if(r=Ts(n)+1,a=n.d.length-1,s=a*Lr+1,a=n.d[a],a){for(;a%10==0;a/=10)s--;for(a=n.d[0];a>=10;a/=10)s++}return e&&r>s?r:s};Nt.squareRoot=Nt.sqrt=function(){var e,r,s,a,n,i,l,o=this,d=o.constructor;if(o.s<1){if(!o.s)return new d(0);throw Error(di+"NaN")}for(e=Ts(o),Wr=!1,n=Math.sqrt(+o),n==0||n==1/0?(r=Yi(o.d),(r.length+e)%2==0&&(r+="0"),n=Math.sqrt(r),e=Om((e+1)/2)-(e<0||e%2),n==1/0?r="5e"+e:(r=n.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),a=new d(r)):a=new d(n.toString()),s=d.precision,n=l=s+3;;)if(i=a,a=i.plus(_l(o,i,l+2)).times(.5),Yi(i.d).slice(0,l)===(r=Yi(a.d)).slice(0,l)){if(r=r.slice(l-3,l+1),n==l&&r=="4999"){if(Sr(i,s+1,0),i.times(i).eq(o)){a=i;break}}else if(r!="9999")break;l+=4}return Wr=!0,Sr(a,s)};Nt.times=Nt.mul=function(e){var r,s,a,n,i,l,o,d,c,u=this,m=u.constructor,x=u.d,h=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,s=u.e+e.e,d=x.length,c=h.length,d<c&&(i=x,x=h,h=i,l=d,d=c,c=l),i=[],l=d+c,a=l;a--;)i.push(0);for(a=c;--a>=0;){for(r=0,n=d+a;n>a;)o=i[n]+h[a]*x[n-a-1]+r,i[n--]=o%Hs|0,r=o/Hs|0;i[n]=(i[n]+r)%Hs|0}for(;!i[--l];)i.pop();return r?++s:i.shift(),e.d=i,e.e=s,Wr?Sr(e,m.precision):e};Nt.toDecimalPlaces=Nt.todp=function(e,r){var s=this,a=s.constructor;return s=new a(s),e===void 0?s:(il(e,0,Im),r===void 0?r=a.rounding:il(r,0,8),Sr(s,e+Ts(s)+1,r))};Nt.toExponential=function(e,r){var s,a=this,n=a.constructor;return e===void 0?s=jd(a,!0):(il(e,0,Im),r===void 0?r=n.rounding:il(r,0,8),a=Sr(new n(a),e+1,r),s=jd(a,!0,e+1)),s};Nt.toFixed=function(e,r){var s,a,n=this,i=n.constructor;return e===void 0?jd(n):(il(e,0,Im),r===void 0?r=i.rounding:il(r,0,8),a=Sr(new i(n),e+Ts(n)+1,r),s=jd(a.abs(),!1,e+Ts(a)+1),n.isneg()&&!n.isZero()?"-"+s:s)};Nt.toInteger=Nt.toint=function(){var e=this,r=e.constructor;return Sr(new r(e),Ts(e)+1,r.rounding)};Nt.toNumber=function(){return+this};Nt.toPower=Nt.pow=function(e){var r,s,a,n,i,l,o=this,d=o.constructor,c=12,u=+(e=new d(e));if(!e.s)return new d(vn);if(o=new d(o),!o.s){if(e.s<1)throw Error(di+"Infinity");return o}if(o.eq(vn))return o;if(a=d.precision,e.eq(vn))return Sr(o,a);if(r=e.e,s=e.d.length-1,l=r>=s,i=o.s,l){if((s=u<0?-u:u)<=oF){for(n=new d(vn),r=Math.ceil(a/Lr+4),Wr=!1;s%2&&(n=n.times(o),k8(n.d,r)),s=Om(s/2),s!==0;)o=o.times(o),k8(o.d,r);return Wr=!0,e.s<0?new d(vn).div(n):Sr(n,a)}}else if(i<0)throw Error(di+"NaN");return i=i<0&&e.d[Math.max(r,s)]&1?-1:1,o.s=1,Wr=!1,n=e.times(_0(o,a+c)),Wr=!0,n=dF(n),n.s=i,n};Nt.toPrecision=function(e,r){var s,a,n=this,i=n.constructor;return e===void 0?(s=Ts(n),a=jd(n,s<=i.toExpNeg||s>=i.toExpPos)):(il(e,1,Im),r===void 0?r=i.rounding:il(r,0,8),n=Sr(new i(n),e,r),s=Ts(n),a=jd(n,e<=s||s<=i.toExpNeg,e)),a};Nt.toSignificantDigits=Nt.tosd=function(e,r){var s=this,a=s.constructor;return e===void 0?(e=a.precision,r=a.rounding):(il(e,1,Im),r===void 0?r=a.rounding:il(r,0,8)),Sr(new a(s),e,r)};Nt.toString=Nt.valueOf=Nt.val=Nt.toJSON=Nt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,r=Ts(e),s=e.constructor;return jd(e,r<=s.toExpNeg||r>=s.toExpPos)};function cF(e,r){var s,a,n,i,l,o,d,c,u=e.constructor,m=u.precision;if(!e.s||!r.s)return r.s||(r=new u(e)),Wr?Sr(r,m):r;if(d=e.d,c=r.d,l=e.e,n=r.e,d=d.slice(),i=l-n,i){for(i<0?(a=d,i=-i,o=c.length):(a=c,n=l,o=d.length),l=Math.ceil(m/Lr),o=l>o?l+1:o+1,i>o&&(i=o,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(o=d.length,i=c.length,o-i<0&&(i=o,a=c,c=d,d=a),s=0;i;)s=(d[--i]=d[i]+c[i]+s)/Hs|0,d[i]%=Hs;for(s&&(d.unshift(s),++n),o=d.length;d[--o]==0;)d.pop();return r.d=d,r.e=n,Wr?Sr(r,m):r}function il(e,r,s){if(e!==~~e||e<r||e>s)throw Error(Zc+e)}function Yi(e){var r,s,a,n=e.length-1,i="",l=e[0];if(n>0){for(i+=l,r=1;r<n;r++)a=e[r]+"",s=Lr-a.length,s&&(i+=Co(s)),i+=a;l=e[r],a=l+"",s=Lr-a.length,s&&(i+=Co(s))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var _l=function(){function e(a,n){var i,l=0,o=a.length;for(a=a.slice();o--;)i=a[o]*n+l,a[o]=i%Hs|0,l=i/Hs|0;return l&&a.unshift(l),a}function r(a,n,i,l){var o,d;if(i!=l)d=i>l?1:-1;else for(o=d=0;o<i;o++)if(a[o]!=n[o]){d=a[o]>n[o]?1:-1;break}return d}function s(a,n,i){for(var l=0;i--;)a[i]-=l,l=a[i]<n[i]?1:0,a[i]=l*Hs+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,l){var o,d,c,u,m,x,h,p,f,b,j,w,y,v,N,S,k,P,C=a.constructor,_=a.s==n.s?1:-1,A=a.d,D=n.d;if(!a.s)return new C(a);if(!n.s)throw Error(di+"Division by zero");for(d=a.e-n.e,k=D.length,N=A.length,h=new C(_),p=h.d=[],c=0;D[c]==(A[c]||0);)++c;if(D[c]>(A[c]||0)&&--d,i==null?w=i=C.precision:l?w=i+(Ts(a)-Ts(n))+1:w=i,w<0)return new C(0);if(w=w/Lr+2|0,c=0,k==1)for(u=0,D=D[0],w++;(c<N||u)&&w--;c++)y=u*Hs+(A[c]||0),p[c]=y/D|0,u=y%D|0;else{for(u=Hs/(D[0]+1)|0,u>1&&(D=e(D,u),A=e(A,u),k=D.length,N=A.length),v=k,f=A.slice(0,k),b=f.length;b<k;)f[b++]=0;P=D.slice(),P.unshift(0),S=D[0],D[1]>=Hs/2&&++S;do u=0,o=r(D,f,k,b),o<0?(j=f[0],k!=b&&(j=j*Hs+(f[1]||0)),u=j/S|0,u>1?(u>=Hs&&(u=Hs-1),m=e(D,u),x=m.length,b=f.length,o=r(m,f,x,b),o==1&&(u--,s(m,k<x?P:D,x))):(u==0&&(o=u=1),m=D.slice()),x=m.length,x<b&&m.unshift(0),s(f,m,b),o==-1&&(b=f.length,o=r(D,f,k,b),o<1&&(u++,s(f,k<b?P:D,b))),b=f.length):o===0&&(u++,f=[0]),p[c++]=u,o&&f[0]?f[b++]=A[v]||0:(f=[A[v]],b=1);while((v++<N||f[0]!==void 0)&&w--)}return p[0]||p.shift(),h.e=d,Sr(h,l?i+Ts(h)+1:i)}}();function dF(e,r){var s,a,n,i,l,o,d=0,c=0,u=e.constructor,m=u.precision;if(Ts(e)>16)throw Error(E3+Ts(e));if(!e.s)return new u(vn);for(Wr=!1,o=m,l=new u(.03125);e.abs().gte(.1);)e=e.times(l),c+=5;for(a=Math.log(Ic(2,c))/Math.LN10*2+5|0,o+=a,s=n=i=new u(vn),u.precision=o;;){if(n=Sr(n.times(e),o),s=s.times(++d),l=i.plus(_l(n,s,o)),Yi(l.d).slice(0,o)===Yi(i.d).slice(0,o)){for(;c--;)i=Sr(i.times(i),o);return u.precision=m,r==null?(Wr=!0,Sr(i,m)):i}i=l}}function Ts(e){for(var r=e.e*Lr,s=e.d[0];s>=10;s/=10)r++;return r}function U1(e,r,s){if(r>e.LN10.sd())throw Wr=!0,s&&(e.precision=s),Error(di+"LN10 precision limit exceeded");return Sr(new e(e.LN10),r)}function Co(e){for(var r="";e--;)r+="0";return r}function _0(e,r){var s,a,n,i,l,o,d,c,u,m=1,x=10,h=e,p=h.d,f=h.constructor,b=f.precision;if(h.s<1)throw Error(di+(h.s?"NaN":"-Infinity"));if(h.eq(vn))return new f(0);if(r==null?(Wr=!1,c=b):c=r,h.eq(10))return r==null&&(Wr=!0),U1(f,c);if(c+=x,f.precision=c,s=Yi(p),a=s.charAt(0),i=Ts(h),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&s.charAt(1)>3;)h=h.times(e),s=Yi(h.d),a=s.charAt(0),m++;i=Ts(h),a>1?(h=new f("0."+s),i++):h=new f(a+"."+s.slice(1))}else return d=U1(f,c+2,b).times(i+""),h=_0(new f(a+"."+s.slice(1)),c-x).plus(d),f.precision=b,r==null?(Wr=!0,Sr(h,b)):h;for(o=l=h=_l(h.minus(vn),h.plus(vn),c),u=Sr(h.times(h),c),n=3;;){if(l=Sr(l.times(u),c),d=o.plus(_l(l,new f(n),c)),Yi(d.d).slice(0,c)===Yi(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(U1(f,c+2,b).times(i+""))),o=_l(o,new f(m),c),f.precision=b,r==null?(Wr=!0,Sr(o,b)):o;o=d,n+=2}}function S8(e,r){var s,a,n;for((s=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(s<0&&(s=a),s+=+r.slice(a+1),r=r.substring(0,a)):s<0&&(s=r.length),a=0;r.charCodeAt(a)===48;)++a;for(n=r.length;r.charCodeAt(n-1)===48;)--n;if(r=r.slice(a,n),r){if(n-=a,s=s-a-1,e.e=Om(s/Lr),e.d=[],a=(s+1)%Lr,s<0&&(a+=Lr),a<n){for(a&&e.d.push(+r.slice(0,a)),n-=Lr;a<n;)e.d.push(+r.slice(a,a+=Lr));r=r.slice(a),a=Lr-r.length}else a-=n;for(;a--;)r+="0";if(e.d.push(+r),Wr&&(e.e>Dg||e.e<-Dg))throw Error(E3+s)}else e.s=0,e.e=0,e.d=[0];return e}function Sr(e,r,s){var a,n,i,l,o,d,c,u,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(a=r-l,a<0)a+=Lr,n=r,c=m[u=0];else{if(u=Math.ceil((a+1)/Lr),i=m.length,u>=i)return e;for(c=i=m[u],l=1;i>=10;i/=10)l++;a%=Lr,n=a-Lr+l}if(s!==void 0&&(i=Ic(10,l-n-1),o=c/i%10|0,d=r<0||m[u+1]!==void 0||c%i,d=s<4?(o||d)&&(s==0||s==(e.s<0?3:2)):o>5||o==5&&(s==4||d||s==6&&(a>0?n>0?c/Ic(10,l-n):0:m[u-1])%10&1||s==(e.s<0?8:7))),r<1||!m[0])return d?(i=Ts(e),m.length=1,r=r-i-1,m[0]=Ic(10,(Lr-r%Lr)%Lr),e.e=Om(-r/Lr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=u,i=1,u--):(m.length=u+1,i=Ic(10,Lr-a),m[u]=n>0?(c/Ic(10,l-n)%Ic(10,n)|0)*i:0),d)for(;;)if(u==0){(m[0]+=i)==Hs&&(m[0]=1,++e.e);break}else{if(m[u]+=i,m[u]!=Hs)break;m[u--]=0,i=1}for(a=m.length;m[--a]===0;)m.pop();if(Wr&&(e.e>Dg||e.e<-Dg))throw Error(E3+Ts(e));return e}function uF(e,r){var s,a,n,i,l,o,d,c,u,m,x=e.constructor,h=x.precision;if(!e.s||!r.s)return r.s?r.s=-r.s:r=new x(e),Wr?Sr(r,h):r;if(d=e.d,m=r.d,a=r.e,c=e.e,d=d.slice(),l=c-a,l){for(u=l<0,u?(s=d,l=-l,o=m.length):(s=m,a=c,o=d.length),n=Math.max(Math.ceil(h/Lr),o)+2,l>n&&(l=n,s.length=1),s.reverse(),n=l;n--;)s.push(0);s.reverse()}else{for(n=d.length,o=m.length,u=n<o,u&&(o=n),n=0;n<o;n++)if(d[n]!=m[n]){u=d[n]<m[n];break}l=0}for(u&&(s=d,d=m,m=s,r.s=-r.s),o=d.length,n=m.length-o;n>0;--n)d[o++]=0;for(n=m.length;n>l;){if(d[--n]<m[n]){for(i=n;i&&d[--i]===0;)d[i]=Hs-1;--d[i],d[n]+=Hs}d[n]-=m[n]}for(;d[--o]===0;)d.pop();for(;d[0]===0;d.shift())--a;return d[0]?(r.d=d,r.e=a,Wr?Sr(r,h):r):new x(0)}function jd(e,r,s){var a,n=Ts(e),i=Yi(e.d),l=i.length;return r?(s&&(a=s-l)>0?i=i.charAt(0)+"."+i.slice(1)+Co(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+Co(-n-1)+i,s&&(a=s-l)>0&&(i+=Co(a))):n>=l?(i+=Co(n+1-l),s&&(a=s-n-1)>0&&(i=i+"."+Co(a))):((a=n+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),s&&(a=s-l)>0&&(n+1===l&&(i+="."),i+=Co(a))),e.s<0?"-"+i:i}function k8(e,r){if(e.length>r)return e.length=r,!0}function mF(e){var r,s,a;function n(i){var l=this;if(!(l instanceof n))return new n(i);if(l.constructor=n,i instanceof n){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Zc+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return S8(l,i.toString())}else if(typeof i!="string")throw Error(Zc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,Iue.test(i))S8(l,i);else throw Error(Zc+i)}if(n.prototype=Nt,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=mF,n.config=n.set=Oue,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)e.hasOwnProperty(s=a[r++])||(e[s]=this[s]);return n.config(e),n}function Oue(e){if(!e||typeof e!="object")throw Error(di+"Object expected");var r,s,a,n=["precision",1,Im,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<n.length;r+=3)if((a=e[s=n[r]])!==void 0)if(Om(a)===a&&a>=n[r+1]&&a<=n[r+2])this[s]=a;else throw Error(Zc+s+": "+a);if((a=e[s="LN10"])!==void 0)if(a==Math.LN10)this[s]=new this(a);else throw Error(Zc+s+": "+a);return this}var I3=mF(Eue);vn=new I3(1);const pr=I3;var _ue=e=>e,hF={},xF=e=>e===hF,C8=e=>function r(){return arguments.length===0||arguments.length===1&&xF(arguments.length<=0?void 0:arguments[0])?r:e(...arguments)},pF=(e,r)=>e===1?r:C8(function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];var i=a.filter(l=>l!==hF).length;return i>=e?r(...a):pF(e-i,C8(function(){for(var l=arguments.length,o=new Array(l),d=0;d<l;d++)o[d]=arguments[d];var c=a.map(u=>xF(u)?o.shift():u);return r(...c,...o)}))}),Tb=e=>pF(e.length,e),xw=(e,r)=>{for(var s=[],a=e;a<r;++a)s[a-e]=a;return s},Mue=Tb((e,r)=>Array.isArray(r)?r.map(e):Object.keys(r).map(s=>r[s]).map(e)),Due=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];if(!s.length)return _ue;var n=s.reverse(),i=n[0],l=n.slice(1);return function(){return l.reduce((o,d)=>d(o),i(...arguments))}},pw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),fF=e=>{var r=null,s=null;return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r&&n.every((l,o)=>{var d;return l===((d=r)===null||d===void 0?void 0:d[o])})||(r=n,s=e(...n)),s}};function gF(e){var r;return e===0?r=1:r=Math.floor(new pr(e).abs().log(10).toNumber())+1,r}function yF(e,r,s){for(var a=new pr(e),n=0,i=[];a.lt(r)&&n<1e5;)i.push(a.toNumber()),a=a.add(s),n++;return i}Tb((e,r,s)=>{var a=+e,n=+r;return a+s*(n-a)});Tb((e,r,s)=>{var a=r-+e;return a=a||1/0,(s-e)/a});Tb((e,r,s)=>{var a=r-+e;return a=a||1/0,Math.max(0,Math.min(1,(s-e)/a))});var bF=e=>{var[r,s]=e,[a,n]=[r,s];return r>s&&([a,n]=[s,r]),[a,n]},vF=(e,r,s)=>{if(e.lte(0))return new pr(0);var a=gF(e.toNumber()),n=new pr(10).pow(a),i=e.div(n),l=a!==1?.05:.1,o=new pr(Math.ceil(i.div(l).toNumber())).add(s).mul(l),d=o.mul(n);return r?new pr(d.toNumber()):new pr(Math.ceil(d.toNumber()))},Lue=(e,r,s)=>{var a=new pr(1),n=new pr(e);if(!n.isint()&&s){var i=Math.abs(e);i<1?(a=new pr(10).pow(gF(e)-1),n=new pr(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new pr(Math.floor(e)))}else e===0?n=new pr(Math.floor((r-1)/2)):s||(n=new pr(Math.floor(e)));var l=Math.floor((r-1)/2),o=Due(Mue(d=>n.add(new pr(d-l).mul(a)).toNumber()),xw);return o(0,r)},jF=function(r,s,a,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((s-r)/(a-1)))return{step:new pr(0),tickMin:new pr(0),tickMax:new pr(0)};var l=vF(new pr(s).sub(r).div(a-1),n,i),o;r<=0&&s>=0?o=new pr(0):(o=new pr(r).add(s).div(2),o=o.sub(new pr(o).mod(l)));var d=Math.ceil(o.sub(r).div(l).toNumber()),c=Math.ceil(new pr(s).sub(o).div(l).toNumber()),u=d+c+1;return u>a?jF(r,s,a,n,i+1):(u<a&&(c=s>0?c+(a-u):c,d=s>0?d:d+(a-u)),{step:l,tickMin:o.sub(new pr(d).mul(l)),tickMax:o.add(new pr(c).mul(l))})};function Fue(e){var[r,s]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[l,o]=bF([r,s]);if(l===-1/0||o===1/0){var d=o===1/0?[l,...xw(0,a-1).map(()=>1/0)]:[...xw(0,a-1).map(()=>-1/0),o];return r>s?pw(d):d}if(l===o)return Lue(l,a,n);var{step:c,tickMin:u,tickMax:m}=jF(l,o,i,n,0),x=yF(u,m.add(new pr(.1).mul(c)),c);return r>s?pw(x):x}function Rue(e,r){var[s,a]=e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=bF([s,a]);if(i===-1/0||l===1/0)return[s,a];if(i===l)return[i];var o=Math.max(r,2),d=vF(new pr(l).sub(i).div(o-1),n,0),c=[...yF(new pr(i),new pr(l),d),l];return n===!1&&(c=c.map(u=>Math.round(u))),s>a?pw(c):c}var Bue=fF(Fue),$ue=fF(Rue),wF=e=>e.rootProps.maxBarSize,zue=e=>e.rootProps.barGap,NF=e=>e.rootProps.barCategoryGap,Uue=e=>e.rootProps.barSize,jx=e=>e.rootProps.stackOffset,O3=e=>e.options.chartName,_3=e=>e.rootProps.syncId,SF=e=>e.rootProps.syncMethod,M3=e=>e.options.eventEmitter,Hue=e=>e.rootProps.baseValue,ys={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},gl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},pn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Eb=(e,r)=>{if(!(!e||!r))return e!=null&&e.reversed?[r[1],r[0]]:r},Vue={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:gl.angleAxisId,includeHidden:!1,name:void 0,reversed:gl.reversed,scale:gl.scale,tick:gl.tick,tickCount:void 0,ticks:void 0,type:gl.type,unit:void 0},Wue={allowDataOverflow:pn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pn.scale,tick:pn.tick,tickCount:pn.tickCount,ticks:void 0,type:pn.type,unit:void 0},que={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:gl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gl.scale,tick:gl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Gue={allowDataOverflow:pn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pn.scale,tick:pn.tick,tickCount:pn.tickCount,ticks:void 0,type:"category",unit:void 0},D3=(e,r)=>e.polarAxis.angleAxis[r]!=null?e.polarAxis.angleAxis[r]:e.layout.layoutType==="radial"?que:Vue,L3=(e,r)=>e.polarAxis.radiusAxis[r]!=null?e.polarAxis.radiusAxis[r]:e.layout.layoutType==="radial"?Gue:Wue,Ib=e=>e.polarOptions,F3=Ee([no,io,Rs],bL),kF=Ee([Ib,F3],(e,r)=>{if(e!=null)return va(e.innerRadius,r,0)}),CF=Ee([Ib,F3],(e,r)=>{if(e!=null)return va(e.outerRadius,r,r*.8)}),Kue=e=>{if(e==null)return[0,0];var{startAngle:r,endAngle:s}=e;return[r,s]},PF=Ee([Ib],Kue);Ee([D3,PF],Eb);var AF=Ee([F3,kF,CF],(e,r,s)=>{if(!(e==null||r==null||s==null))return[r,s]});Ee([L3,AF],Eb);var TF=Ee([Zt,Ib,kF,CF,no,io],(e,r,s,a,n,i)=>{if(!(e!=="centric"&&e!=="radial"||r==null||s==null||a==null)){var{cx:l,cy:o,startAngle:d,endAngle:c}=r;return{cx:va(l,n,n/2),cy:va(o,i,i/2),innerRadius:s,outerRadius:a,startAngle:d,endAngle:c,clockWise:!1}}}),Kr=(e,r)=>r,wx=(e,r,s)=>s;function Ob(e){return e==null?void 0:e.id}function EF(e,r,s){var{chartData:a=[]}=r,{allowDuplicatedCategory:n,dataKey:i}=s,l=new Map;return e.forEach(o=>{var d,c=(d=o.data)!==null&&d!==void 0?d:a;if(!(c==null||c.length===0)){var u=Ob(o);c.forEach((m,x)=>{var h=i==null||n?x:String(jr(m,i,null)),p=jr(m,o.dataKey,0),f;l.has(h)?f=l.get(h):f={},Object.assign(f,{[u]:p}),l.set(h,f)})}}),Array.from(l.values())}function _b(e){return e.stackId!=null&&e.dataKey!=null}var Mb=(e,r)=>e===r?!0:e==null||r==null?!1:e[0]===r[0]&&e[1]===r[1];function Db(e,r){return Array.isArray(e)&&Array.isArray(r)&&e.length===0&&r.length===0?!0:e===r}function Yue(e,r){if(e.length===r.length){for(var s=0;s<e.length;s++)if(e[s]!==r[s])return!1;return!0}return!1}var $s=e=>{var r=Zt(e);return r==="horizontal"?"xAxis":r==="vertical"?"yAxis":r==="centric"?"angleAxis":"radiusAxis"},_m=e=>e.tooltip.settings.axisId;function P8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Lg(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?P8(Object(s),!0).forEach(function(a){Xue(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):P8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Xue(e,r,s){return(r=Jue(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Jue(e){var r=Que(e,"string");return typeof r=="symbol"?r:r+""}function Que(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var fw=[0,"auto"],un={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},IF=(e,r)=>e.cartesianAxis.xAxis[r],co=(e,r)=>{var s=IF(e,r);return s??un},mn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:fw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:px},OF=(e,r)=>e.cartesianAxis.yAxis[r],uo=(e,r)=>{var s=OF(e,r);return s??mn},Zue={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},R3=(e,r)=>{var s=e.cartesianAxis.zAxis[r];return s??Zue},ts=(e,r,s)=>{switch(r){case"xAxis":return co(e,s);case"yAxis":return uo(e,s);case"zAxis":return R3(e,s);case"angleAxis":return D3(e,s);case"radiusAxis":return L3(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},eme=(e,r,s)=>{switch(r){case"xAxis":return co(e,s);case"yAxis":return uo(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},Nx=(e,r,s)=>{switch(r){case"xAxis":return co(e,s);case"yAxis":return uo(e,s);case"angleAxis":return D3(e,s);case"radiusAxis":return L3(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},_F=e=>e.graphicalItems.cartesianItems.some(r=>r.type==="bar")||e.graphicalItems.polarItems.some(r=>r.type==="radialBar");function B3(e,r){return s=>{switch(e){case"xAxis":return"xAxisId"in s&&s.xAxisId===r;case"yAxis":return"yAxisId"in s&&s.yAxisId===r;case"zAxis":return"zAxisId"in s&&s.zAxisId===r;case"angleAxis":return"angleAxisId"in s&&s.angleAxisId===r;case"radiusAxis":return"radiusAxisId"in s&&s.radiusAxisId===r;default:return!1}}}var Sx=e=>e.graphicalItems.cartesianItems,tme=Ee([Kr,wx],B3),$3=(e,r,s)=>e.filter(s).filter(a=>(r==null?void 0:r.includeHidden)===!0?!0:!a.hide),kx=Ee([Sx,ts,tme],$3,{memoizeOptions:{resultEqualityCheck:Db}}),MF=Ee([kx],e=>e.filter(r=>r.type==="area"||r.type==="bar").filter(_b)),DF=e=>e.filter(r=>!("stackId"in r)||r.stackId===void 0),rme=Ee([kx],DF),z3=e=>e.map(r=>r.data).filter(Boolean).flat(1),sme=Ee([kx],z3,{memoizeOptions:{resultEqualityCheck:Db}}),U3=(e,r)=>{var{chartData:s=[],dataStartIndex:a,dataEndIndex:n}=r;return e.length>0?e:s.slice(a,n+1)},H3=Ee([sme,vx],U3),V3=(e,r,s)=>(r==null?void 0:r.dataKey)!=null?e.map(a=>({value:jr(a,r.dataKey)})):s.length>0?s.map(a=>a.dataKey).flatMap(a=>e.map(n=>({value:jr(n,a)}))):e.map(a=>({value:a})),Lb=Ee([H3,ts,kx],V3);function LF(e,r){switch(e){case"xAxis":return r.direction==="x";case"yAxis":return r.direction==="y";default:return!1}}function df(e){if(al(e)||e instanceof Date){var r=Number(e);if(Br(r))return r}}function A8(e){if(Array.isArray(e)){var r=[df(e[0]),df(e[1])];return vd(r)?r:void 0}var s=df(e);if(s!=null)return[s,s]}function Jl(e){return e.map(df).filter(Eae)}function ame(e,r,s){return!s||typeof r!="number"||oi(r)?[]:s.length?Jl(s.flatMap(a=>{var n=jr(e,a.dataKey),i,l;if(Array.isArray(n)?[i,l]=n:i=l=n,!(!Br(i)||!Br(l)))return[r-i,r+l]})):[]}var zs=e=>{var r=$s(e),s=_m(e);return Nx(e,r,s)},FF=Ee([zs],e=>e==null?void 0:e.dataKey),nme=Ee([MF,vx,zs],EF),RF=(e,r,s)=>{var a={},n=r.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),a);return Object.fromEntries(Object.entries(n).map(i=>{var[l,o]=i,d=o.map(Ob);return[l,{stackedData:Hie(e,d,s),graphicalItems:o}]}))},M0=Ee([nme,MF,jx],RF),BF=(e,r,s,a)=>{var{dataStartIndex:n,dataEndIndex:i}=r;if(a==null&&s!=="zAxis"){var l=Gie(e,n,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},ime=Ee([ts],e=>e.allowDataOverflow),W3=e=>{var r;if(e==null||!("domain"in e))return fw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var s=Jl(e.ticks);return[Math.min(...s),Math.max(...s)]}if(e.type==="category")return e.ticks.map(String)}return(r=e==null?void 0:e.domain)!==null&&r!==void 0?r:fw},q3=Ee([ts],W3),G3=Ee([q3,ime],lF),lme=Ee([M0,gc,Kr,G3],BF,{memoizeOptions:{resultEqualityCheck:Mb}}),Fb=e=>e.errorBars,ome=(e,r,s)=>e.flatMap(a=>r[a.id]).filter(Boolean).filter(a=>LF(s,a)),Fg=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var n=s.filter(Boolean);if(n.length!==0){var i=n.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},K3=(e,r,s,a,n)=>{var i,l;if(s.length>0&&e.forEach(o=>{s.forEach(d=>{var c,u,m=(c=a[d.id])===null||c===void 0?void 0:c.filter(j=>LF(n,j)),x=jr(o,(u=r.dataKey)!==null&&u!==void 0?u:d.dataKey),h=ame(o,x,m);if(h.length>=2){var p=Math.min(...h),f=Math.max(...h);(i==null||p<i)&&(i=p),(l==null||f>l)&&(l=f)}var b=A8(x);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),l=l==null?b[1]:Math.max(l,b[1]))})}),(r==null?void 0:r.dataKey)!=null&&e.forEach(o=>{var d=A8(jr(o,r.dataKey));d!=null&&(i=i==null?d[0]:Math.min(i,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),Br(i)&&Br(l))return[i,l]},cme=Ee([H3,ts,rme,Fb,Kr],K3,{memoizeOptions:{resultEqualityCheck:Mb}});function dme(e){var{value:r}=e;if(al(r)||r instanceof Date)return r}var ume=(e,r,s)=>{var a=e.map(dme).filter(n=>n!=null);return s&&(r.dataKey==null||r.allowDuplicatedCategory&&H9(a))?CL(0,e.length):r.allowDuplicatedCategory?a:Array.from(new Set(a))},$F=e=>e.referenceElements.dots,Mm=(e,r,s)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>r==="xAxis"?a.xAxisId===s:a.yAxisId===s),mme=Ee([$F,Kr,wx],Mm),zF=e=>e.referenceElements.areas,hme=Ee([zF,Kr,wx],Mm),UF=e=>e.referenceElements.lines,xme=Ee([UF,Kr,wx],Mm),HF=(e,r)=>{var s=Jl(e.map(a=>r==="xAxis"?a.x:a.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},pme=Ee(mme,Kr,HF),VF=(e,r)=>{var s=Jl(e.flatMap(a=>[r==="xAxis"?a.x1:a.y1,r==="xAxis"?a.x2:a.y2]));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},fme=Ee([hme,Kr],VF);function gme(e){var r;if(e.x!=null)return Jl([e.x]);var s=(r=e.segment)===null||r===void 0?void 0:r.map(a=>a.x);return s==null||s.length===0?[]:Jl(s)}function yme(e){var r;if(e.y!=null)return Jl([e.y]);var s=(r=e.segment)===null||r===void 0?void 0:r.map(a=>a.y);return s==null||s.length===0?[]:Jl(s)}var WF=(e,r)=>{var s=e.flatMap(a=>r==="xAxis"?gme(a):yme(a));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},bme=Ee([xme,Kr],WF),vme=Ee(pme,bme,fme,(e,r,s)=>Fg(e,s,r)),Y3=(e,r,s,a,n,i,l,o)=>{if(s!=null)return s;var d=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",c=d?Fg(a,i,n):Fg(i,n);return Tue(r,c,e.allowDataOverflow)},jme=Ee([ts,q3,G3,lme,cme,vme,Zt,Kr],Y3,{memoizeOptions:{resultEqualityCheck:Mb}}),wme=[0,1],X3=(e,r,s,a,n,i,l)=>{if(!((e==null||s==null||s.length===0)&&l===void 0)){var{dataKey:o,type:d}=e,c=ul(r,i);if(c&&o==null){var u;return CL(0,(u=s==null?void 0:s.length)!==null&&u!==void 0?u:0)}return d==="category"?ume(a,e,c):n==="expand"?wme:l}},J3=Ee([ts,Zt,H3,Lb,jx,Kr,jme],X3),qF=(e,r,s,a,n)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return r==="radial"&&n==="radiusAxis"?"band":r==="radial"&&n==="angleAxis"?"linear":l==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!s)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(ux(i));return o in Ch?o:"point"}}},Dm=Ee([ts,Zt,_F,O3,Kr],qF);function Nme(e){if(e!=null){if(e in Ch)return Ch[e]();var r="scale".concat(ux(e));if(r in Ch)return Ch[r]()}}function Q3(e,r,s,a){if(!(s==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(s).range(a);var n=Nme(r);if(n!=null){var i=n.domain(s).range(a);return Rie(i),i}}}var Z3=(e,r,s)=>{var a=W3(r);if(!(s!=="auto"&&s!=="linear")){if(r!=null&&r.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&vd(e))return Bue(e,r.tickCount,r.allowDecimals);if(r!=null&&r.tickCount&&r.type==="number"&&vd(e))return $ue(e,r.tickCount,r.allowDecimals)}},e5=Ee([J3,Nx,Dm],Z3),t5=(e,r,s,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&vd(r)&&Array.isArray(s)&&s.length>0){var n=r[0],i=s[0],l=r[1],o=s[s.length-1];return[Math.min(n,i),Math.max(l,o)]}return r},Sme=Ee([ts,J3,e5,Kr],t5),kme=Ee(Lb,ts,(e,r)=>{if(!(!r||r.type!=="number")){var s=1/0,a=Array.from(Jl(e.map(o=>o.value))).sort((o,d)=>o-d);if(a.length<2)return 1/0;var n=a[a.length-1]-a[0];if(n===0)return 1/0;for(var i=0;i<a.length-1;i++){var l=a[i+1]-a[i];s=Math.min(s,l)}return s/n}}),GF=Ee(kme,Zt,NF,Rs,(e,r,s,a)=>a,(e,r,s,a,n)=>{if(!Br(e))return 0;var i=r==="vertical"?a.height:a.width;if(n==="gap")return e*i/2;if(n==="no-gap"){var l=va(s,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),Cme=(e,r)=>{var s=co(e,r);return s==null||typeof s.padding!="string"?0:GF(e,"xAxis",r,s.padding)},Pme=(e,r)=>{var s=uo(e,r);return s==null||typeof s.padding!="string"?0:GF(e,"yAxis",r,s.padding)},Ame=Ee(co,Cme,(e,r)=>{var s,a;if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n=="string"?{left:r,right:r}:{left:((s=n.left)!==null&&s!==void 0?s:0)+r,right:((a=n.right)!==null&&a!==void 0?a:0)+r}}),Tme=Ee(uo,Pme,(e,r)=>{var s,a;if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n=="string"?{top:r,bottom:r}:{top:((s=n.top)!==null&&s!==void 0?s:0)+r,bottom:((a=n.bottom)!==null&&a!==void 0?a:0)+r}}),Eme=Ee([Rs,Ame,vb,bb,(e,r,s)=>s],(e,r,s,a,n)=>{var{padding:i}=a;return n?[i.left,s.width-i.right]:[e.left+r.left,e.left+e.width-r.right]}),Ime=Ee([Rs,Zt,Tme,vb,bb,(e,r,s)=>s],(e,r,s,a,n,i)=>{var{padding:l}=n;return i?[a.height-l.bottom,l.top]:r==="horizontal"?[e.top+e.height-s.bottom,e.top+s.top]:[e.top+s.top,e.top+e.height-s.bottom]}),Cx=(e,r,s,a)=>{var n;switch(r){case"xAxis":return Eme(e,s,a);case"yAxis":return Ime(e,s,a);case"zAxis":return(n=R3(e,s))===null||n===void 0?void 0:n.range;case"angleAxis":return PF(e);case"radiusAxis":return AF(e,s);default:return}},KF=Ee([ts,Cx],Eb),Lm=Ee([ts,Dm,Sme,KF],Q3);Ee([kx,Fb,Kr],ome);function YF(e,r){return e.id<r.id?-1:e.id>r.id?1:0}var Rb=(e,r)=>r,Bb=(e,r,s)=>s,Ome=Ee(gb,Rb,Bb,(e,r,s)=>e.filter(a=>a.orientation===r).filter(a=>a.mirror===s).sort(YF)),_me=Ee(yb,Rb,Bb,(e,r,s)=>e.filter(a=>a.orientation===r).filter(a=>a.mirror===s).sort(YF)),XF=(e,r)=>({width:e.width,height:r.height}),Mme=(e,r)=>{var s=typeof r.width=="number"?r.width:px;return{width:s,height:e.height}},JF=Ee(Rs,co,XF),Dme=(e,r,s)=>{switch(r){case"top":return e.top;case"bottom":return s-e.bottom;default:return 0}},Lme=(e,r,s)=>{switch(r){case"left":return e.left;case"right":return s-e.right;default:return 0}},Fme=Ee(io,Rs,Ome,Rb,Bb,(e,r,s,a,n)=>{var i={},l;return s.forEach(o=>{var d=XF(r,o);l==null&&(l=Dme(r,a,e));var c=a==="top"&&!n||a==="bottom"&&n;i[o.id]=l-Number(c)*d.height,l+=(c?-1:1)*d.height}),i}),Rme=Ee(no,Rs,_me,Rb,Bb,(e,r,s,a,n)=>{var i={},l;return s.forEach(o=>{var d=Mme(r,o);l==null&&(l=Lme(r,a,e));var c=a==="left"&&!n||a==="right"&&n;i[o.id]=l-Number(c)*d.width,l+=(c?-1:1)*d.width}),i}),Bme=(e,r)=>{var s=co(e,r);if(s!=null)return Fme(e,s.orientation,s.mirror)},$me=Ee([Rs,co,Bme,(e,r)=>r],(e,r,s,a)=>{if(r!=null){var n=s==null?void 0:s[a];return n==null?{x:e.left,y:0}:{x:e.left,y:n}}}),zme=(e,r)=>{var s=uo(e,r);if(s!=null)return Rme(e,s.orientation,s.mirror)},Ume=Ee([Rs,uo,zme,(e,r)=>r],(e,r,s,a)=>{if(r!=null){var n=s==null?void 0:s[a];return n==null?{x:0,y:e.top}:{x:n,y:e.top}}}),QF=Ee(Rs,uo,(e,r)=>{var s=typeof r.width=="number"?r.width:px;return{width:s,height:e.height}}),T8=(e,r,s)=>{switch(r){case"xAxis":return JF(e,s).width;case"yAxis":return QF(e,s).height;default:return}},ZF=(e,r,s,a)=>{if(s!=null){var{allowDuplicatedCategory:n,type:i,dataKey:l}=s,o=ul(e,a),d=r.map(c=>c.value);if(l&&o&&i==="category"&&n&&H9(d))return d}},r5=Ee([Zt,Lb,ts,Kr],ZF),eR=(e,r,s,a)=>{if(!(s==null||s.dataKey==null)){var{type:n,scale:i}=s,l=ul(e,a);if(l&&(n==="number"||i!=="auto"))return r.map(o=>o.value)}},s5=Ee([Zt,Lb,Nx,Kr],eR),E8=Ee([Zt,eme,Dm,Lm,r5,s5,Cx,e5,Kr],(e,r,s,a,n,i,l,o,d)=>{if(r!=null){var c=ul(e,d);return{angle:r.angle,interval:r.interval,minTickGap:r.minTickGap,orientation:r.orientation,tick:r.tick,tickCount:r.tickCount,tickFormatter:r.tickFormatter,ticks:r.ticks,type:r.type,unit:r.unit,axisType:d,categoricalDomain:i,duplicateDomain:n,isCategorical:c,niceTicks:o,range:l,realScaleType:s,scale:a}}}),Hme=(e,r,s,a,n,i,l,o,d)=>{if(!(r==null||a==null)){var c=ul(e,d),{type:u,ticks:m,tickCount:x}=r,h=s==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,p=u==="category"&&a.bandwidth?a.bandwidth()/h:0;p=d==="angleAxis"&&i!=null&&i.length>=2?qs(i[0]-i[1])*2*p:p;var f=m||n;if(f){var b=f.map((j,w)=>{var y=l?l.indexOf(j):j;return{index:w,coordinate:a(y)+p,value:j,offset:p}});return b.filter(j=>Br(j.coordinate))}return c&&o?o.map((j,w)=>({coordinate:a(j)+p,value:j,index:w,offset:p})).filter(j=>Br(j.coordinate)):a.ticks?a.ticks(x).map(j=>({coordinate:a(j)+p,value:j,offset:p})):a.domain().map((j,w)=>({coordinate:a(j)+p,value:l?l[j]:j,index:w,offset:p}))}},tR=Ee([Zt,Nx,Dm,Lm,e5,Cx,r5,s5,Kr],Hme),Vme=(e,r,s,a,n,i,l)=>{if(!(r==null||s==null||a==null||a[0]===a[1])){var o=ul(e,l),{tickCount:d}=r,c=0;return c=l==="angleAxis"&&(a==null?void 0:a.length)>=2?qs(a[0]-a[1])*2*c:c,o&&i?i.map((u,m)=>({coordinate:s(u)+c,value:u,index:m,offset:c})):s.ticks?s.ticks(d).map(u=>({coordinate:s(u)+c,value:u,offset:c})):s.domain().map((u,m)=>({coordinate:s(u)+c,value:n?n[u]:u,index:m,offset:c}))}},ll=Ee([Zt,Nx,Lm,Cx,r5,s5,Kr],Vme),ol=Ee(ts,Lm,(e,r)=>{if(!(e==null||r==null))return Lg(Lg({},e),{},{scale:r})}),Wme=Ee([ts,Dm,J3,KF],Q3);Ee((e,r,s)=>R3(e,s),Wme,(e,r)=>{if(!(e==null||r==null))return Lg(Lg({},e),{},{scale:r})});var qme=Ee([Zt,gb,yb],(e,r,s)=>{switch(e){case"horizontal":return r.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return s.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),rR=e=>e.options.defaultTooltipEventType,sR=e=>e.options.validateTooltipEventTypes;function aR(e,r,s){if(e==null)return r;var a=e?"axis":"item";return s==null?r:s.includes(a)?a:r}function a5(e,r){var s=rR(e),a=sR(e);return aR(r,s,a)}function Gme(e){return St(r=>a5(r,e))}var nR=(e,r)=>{var s,a=Number(r);if(!(oi(a)||r==null))return a>=0?e==null||(s=e[a])===null||s===void 0?void 0:s.value:void 0},Kme=e=>e.tooltip.settings,Eo={active:!1,index:null,dataKey:void 0,coordinate:void 0},Yme={itemInteraction:{click:Eo,hover:Eo},axisInteraction:{click:Eo,hover:Eo},keyboardInteraction:Eo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},iR=cn({name:"tooltip",initialState:Yme,reducers:{addTooltipEntrySettings:{reducer(e,r){e.tooltipItemPayloads.push(r.payload)},prepare:Ls()},removeTooltipEntrySettings:{reducer(e,r){var s=Ol(e).tooltipItemPayloads.indexOf(r.payload);s>-1&&e.tooltipItemPayloads.splice(s,1)},prepare:Ls()},setTooltipSettingsState(e,r){e.settings=r.payload},setActiveMouseOverItemIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=r.payload.activeIndex,e.itemInteraction.hover.dataKey=r.payload.activeDataKey,e.itemInteraction.hover.coordinate=r.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,r){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=r.payload.activeIndex,e.itemInteraction.click.dataKey=r.payload.activeDataKey,e.itemInteraction.click.coordinate=r.payload.activeCoordinate},setMouseOverAxisIndex(e,r){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=r.payload.activeIndex,e.axisInteraction.hover.dataKey=r.payload.activeDataKey,e.axisInteraction.hover.coordinate=r.payload.activeCoordinate},setMouseClickAxisIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=r.payload.activeIndex,e.axisInteraction.click.dataKey=r.payload.activeDataKey,e.axisInteraction.click.coordinate=r.payload.activeCoordinate},setSyncInteraction(e,r){e.syncInteraction=r.payload},setKeyboardInteraction(e,r){e.keyboardInteraction.active=r.payload.active,e.keyboardInteraction.index=r.payload.activeIndex,e.keyboardInteraction.coordinate=r.payload.activeCoordinate,e.keyboardInteraction.dataKey=r.payload.activeDataKey}}}),{addTooltipEntrySettings:Xme,removeTooltipEntrySettings:Jme,setTooltipSettingsState:Qme,setActiveMouseOverItemIndex:lR,mouseLeaveItem:Zme,mouseLeaveChart:oR,setActiveClickItemIndex:ehe,setMouseOverAxisIndex:cR,setMouseClickAxisIndex:the,setSyncInteraction:gw,setKeyboardInteraction:yw}=iR.actions,rhe=iR.reducer;function I8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Pp(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?I8(Object(s),!0).forEach(function(a){she(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):I8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function she(e,r,s){return(r=ahe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function ahe(e){var r=nhe(e,"string");return typeof r=="symbol"?r:r+""}function nhe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ihe(e,r,s){return r==="axis"?s==="click"?e.axisInteraction.click:e.axisInteraction.hover:s==="click"?e.itemInteraction.click:e.itemInteraction.hover}function lhe(e){return e.index!=null}var dR=(e,r,s,a)=>{if(r==null)return Eo;var n=ihe(e,r,s);if(n==null)return Eo;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(lhe(n)){if(i)return Pp(Pp({},n),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return Pp(Pp({},Eo),{},{coordinate:n.coordinate})},n5=(e,r)=>{var s=e==null?void 0:e.index;if(s==null)return null;var a=Number(s);if(!Br(a))return s;var n=0,i=1/0;return r.length>0&&(i=r.length-1),String(Math.max(n,Math.min(a,i)))},uR=(e,r,s,a,n,i,l,o)=>{if(!(i==null||o==null)){var d=l[0],c=d==null?void 0:o(d.positions,i);if(c!=null)return c;var u=n==null?void 0:n[Number(i)];if(u)switch(s){case"horizontal":return{x:u.coordinate,y:(a.top+r)/2};default:return{x:(a.left+e)/2,y:u.coordinate}}}},mR=(e,r,s,a)=>{if(r==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var n;return s==="hover"?n=e.itemInteraction.hover.dataKey:n=e.itemInteraction.click.dataKey,n==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===n})},Px=e=>e.options.tooltipPayloadSearcher,Fm=e=>e.tooltip;function O8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function _8(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?O8(Object(s),!0).forEach(function(a){ohe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):O8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ohe(e,r,s){return(r=che(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function che(e){var r=dhe(e,"string");return typeof r=="symbol"?r:r+""}function dhe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function uhe(e,r){return e??r}var hR=(e,r,s,a,n,i,l)=>{if(!(r==null||i==null)){var{chartData:o,computedData:d,dataStartIndex:c,dataEndIndex:u}=s,m=[];return e.reduce((x,h)=>{var p,{dataDefinedOnItem:f,settings:b}=h,j=uhe(f,o),w=Array.isArray(j)?YD(j,c,u):j,y=(p=b==null?void 0:b.dataKey)!==null&&p!==void 0?p:a,v=b==null?void 0:b.nameKey,N;if(a&&Array.isArray(w)&&!Array.isArray(w[0])&&l==="axis"?N=V9(w,a,n):N=i(w,r,d,v),Array.isArray(N))N.forEach(k=>{var P=_8(_8({},b),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});x.push(hA({tooltipEntrySettings:P,dataKey:k.dataKey,payload:k.payload,value:jr(k.payload,k.dataKey),name:k.name}))});else{var S;x.push(hA({tooltipEntrySettings:b,dataKey:y,payload:N,value:jr(N,y),name:(S=jr(N,v))!==null&&S!==void 0?S:b==null?void 0:b.name}))}return x},m)}},i5=Ee([zs,Zt,_F,O3,$s],qF),mhe=Ee([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,r)=>[...e,...r]),hhe=Ee([$s,_m],B3),Ax=Ee([mhe,zs,hhe],$3,{memoizeOptions:{resultEqualityCheck:Db}}),xhe=Ee([Ax],e=>e.filter(_b)),phe=Ee([Ax],z3,{memoizeOptions:{resultEqualityCheck:Db}}),Rm=Ee([phe,gc],U3),fhe=Ee([xhe,gc,zs],EF),l5=Ee([Rm,zs,Ax],V3),xR=Ee([zs],W3),ghe=Ee([zs],e=>e.allowDataOverflow),pR=Ee([xR,ghe],lF),yhe=Ee([Ax],e=>e.filter(_b)),bhe=Ee([fhe,yhe,jx],RF),vhe=Ee([bhe,gc,$s,pR],BF),jhe=Ee([Ax],DF),whe=Ee([Rm,zs,jhe,Fb,$s],K3,{memoizeOptions:{resultEqualityCheck:Mb}}),Nhe=Ee([$F,$s,_m],Mm),She=Ee([Nhe,$s],HF),khe=Ee([zF,$s,_m],Mm),Che=Ee([khe,$s],VF),Phe=Ee([UF,$s,_m],Mm),Ahe=Ee([Phe,$s],WF),The=Ee([She,Ahe,Che],Fg),Ehe=Ee([zs,xR,pR,vhe,whe,The,Zt,$s],Y3),fR=Ee([zs,Zt,Rm,l5,jx,$s,Ehe],X3),Ihe=Ee([fR,zs,i5],Z3),Ohe=Ee([zs,fR,Ihe,$s],t5),gR=e=>{var r=$s(e),s=_m(e),a=!1;return Cx(e,r,s,a)},yR=Ee([zs,gR],Eb),bR=Ee([zs,i5,Ohe,yR],Q3),_he=Ee([Zt,l5,zs,$s],ZF),Mhe=Ee([Zt,l5,zs,$s],eR),Dhe=(e,r,s,a,n,i,l,o)=>{if(r){var{type:d}=r,c=ul(e,o);if(a){var u=s==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,m=d==="category"&&a.bandwidth?a.bandwidth()/u:0;return m=o==="angleAxis"&&n!=null&&(n==null?void 0:n.length)>=2?qs(n[0]-n[1])*2*m:m,c&&l?l.map((x,h)=>({coordinate:a(x)+m,value:x,index:h,offset:m})):a.domain().map((x,h)=>({coordinate:a(x)+m,value:i?i[x]:x,index:h,offset:m}))}}},mo=Ee([Zt,zs,i5,bR,gR,_he,Mhe,$s],Dhe),o5=Ee([rR,sR,Kme],(e,r,s)=>aR(s.shared,e,r)),vR=e=>e.tooltip.settings.trigger,c5=e=>e.tooltip.settings.defaultIndex,$b=Ee([Fm,o5,vR,c5],dR),sc=Ee([$b,Rm],n5),jR=Ee([mo,sc],nR),wR=Ee([$b],e=>{if(e)return e.dataKey}),NR=Ee([Fm,o5,vR,c5],mR),Lhe=Ee([no,io,Zt,Rs,mo,c5,NR,Px],uR),Fhe=Ee([$b,Lhe],(e,r)=>e!=null&&e.coordinate?e.coordinate:r),Rhe=Ee([$b],e=>e.active),Bhe=Ee([NR,sc,gc,FF,jR,Px,o5],hR),$he=Ee([Bhe],e=>{if(e!=null){var r=e.map(s=>s.payload).filter(s=>s!=null);return Array.from(new Set(r))}});function M8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function D8(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?M8(Object(s),!0).forEach(function(a){zhe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):M8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function zhe(e,r,s){return(r=Uhe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Uhe(e){var r=Hhe(e,"string");return typeof r=="symbol"?r:r+""}function Hhe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Vhe=()=>St(zs),Whe=()=>{var e=Vhe(),r=St(mo),s=St(bR);return rc(!e||!s?void 0:D8(D8({},e),{},{scale:s}),r)};function L8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Jd(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?L8(Object(s),!0).forEach(function(a){qhe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):L8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function qhe(e,r,s){return(r=Ghe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Ghe(e){var r=Khe(e,"string");return typeof r=="symbol"?r:r+""}function Khe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Yhe=(e,r,s,a)=>{var n=r.find(i=>i&&i.index===s);if(n){if(e==="horizontal")return{x:n.coordinate,y:a.chartY};if(e==="vertical")return{x:a.chartX,y:n.coordinate}}return{x:0,y:0}},Xhe=(e,r,s,a)=>{var n=r.find(c=>c&&c.index===s);if(n){if(e==="centric"){var i=n.coordinate,{radius:l}=a;return Jd(Jd(Jd({},a),As(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var o=n.coordinate,{angle:d}=a;return Jd(Jd(Jd({},a),As(a.cx,a.cy,o,d)),{},{angle:d,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Jhe(e,r){var{chartX:s,chartY:a}=e;return s>=r.left&&s<=r.left+r.width&&a>=r.top&&a<=r.top+r.height}var SR=(e,r,s,a,n)=>{var i,l=-1,o=(i=r==null?void 0:r.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(a==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var d=0;d<o;d++){var c=d>0?s[d-1].coordinate:s[o-1].coordinate,u=s[d].coordinate,m=d>=o-1?s[0].coordinate:s[d+1].coordinate,x=void 0;if(qs(u-c)!==qs(m-u)){var h=[];if(qs(m-u)===qs(n[1]-n[0])){x=m;var p=u+n[1]-n[0];h[0]=Math.min(p,(p+c)/2),h[1]=Math.max(p,(p+c)/2)}else{x=c;var f=m+n[1]-n[0];h[0]=Math.min(u,(f+u)/2),h[1]=Math.max(u,(f+u)/2)}var b=[Math.min(u,(x+u)/2),Math.max(u,(x+u)/2)];if(e>b[0]&&e<=b[1]||e>=h[0]&&e<=h[1]){({index:l}=s[d]);break}}else{var j=Math.min(c,m),w=Math.max(c,m);if(e>(j+u)/2&&e<=(w+u)/2){({index:l}=s[d]);break}}}else if(r){for(var y=0;y<o;y++)if(y===0&&e<=(r[y].coordinate+r[y+1].coordinate)/2||y>0&&y<o-1&&e>(r[y].coordinate+r[y-1].coordinate)/2&&e<=(r[y].coordinate+r[y+1].coordinate)/2||y===o-1&&e>(r[y].coordinate+r[y-1].coordinate)/2){({index:l}=r[y]);break}}return l},kR=()=>St(O3),d5=(e,r)=>r,CR=(e,r,s)=>s,u5=(e,r,s,a)=>a,Qhe=Ee(mo,e=>ub(e,r=>r.coordinate)),m5=Ee([Fm,d5,CR,u5],dR),PR=Ee([m5,Rm],n5),Zhe=(e,r,s)=>{if(r!=null){var a=Fm(e);return r==="axis"?s==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:s==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},AR=Ee([Fm,d5,CR,u5],mR),Rg=Ee([no,io,Zt,Rs,mo,u5,AR,Px],uR),e0e=Ee([m5,Rg],(e,r)=>{var s;return(s=e.coordinate)!==null&&s!==void 0?s:r}),TR=Ee([mo,PR],nR),t0e=Ee([AR,PR,gc,FF,TR,Px,d5],hR),r0e=Ee([m5],e=>({isActive:e.active,activeIndex:e.index})),s0e=(e,r,s,a,n,i,l)=>{if(!(!e||!s||!a||!n)&&Jhe(e,l)){var o=Kie(e,r),d=SR(o,i,n,s,a),c=Yhe(r,n,d,e);return{activeIndex:String(d),activeCoordinate:c}}},a0e=(e,r,s,a,n,i,l)=>{if(!(!e||!a||!n||!i||!s)){var o=Yoe(e,s);if(o){var d=Yie(o,r),c=SR(d,l,i,a,n),u=Xhe(r,i,c,o);return{activeIndex:String(c),activeCoordinate:u}}}},n0e=(e,r,s,a,n,i,l,o)=>{if(!(!e||!r||!a||!n||!i))return r==="horizontal"||r==="vertical"?s0e(e,r,a,n,i,l,o):a0e(e,r,s,a,n,i,l)},i0e=Ee(e=>e.zIndex.zIndexMap,(e,r)=>r,(e,r,s)=>s,(e,r,s)=>{if(r!=null){var a=e[r];if(a!=null)return s?a.panoramaElementId:a.elementId}}),l0e=Ee(e=>e.zIndex.zIndexMap,e=>{var r=Object.keys(e).map(a=>parseInt(a,10)).concat(Object.values(ys)),s=Array.from(new Set(r));return s.sort((a,n)=>a-n)},{memoizeOptions:{resultEqualityCheck:Yue}});function F8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function R8(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?F8(Object(s),!0).forEach(function(a){o0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):F8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function o0e(e,r,s){return(r=c0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function c0e(e){var r=d0e(e,"string");return typeof r=="symbol"?r:r+""}function d0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var u0e={},m0e={zIndexMap:Object.values(ys).reduce((e,r)=>R8(R8({},e),{},{[r]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),u0e)},h0e=new Set(Object.values(ys));function x0e(e){return h0e.has(e)}var ER=cn({name:"zIndex",initialState:m0e,reducers:{registerZIndexPortal:{reducer:(e,r)=>{var{zIndex:s}=r.payload;e.zIndexMap[s]?e.zIndexMap[s].consumers+=1:e.zIndexMap[s]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ls()},unregisterZIndexPortal:{reducer:(e,r)=>{var{zIndex:s}=r.payload;e.zIndexMap[s]&&(e.zIndexMap[s].consumers-=1,e.zIndexMap[s].consumers<=0&&!x0e(s)&&delete e.zIndexMap[s])},prepare:Ls()},registerZIndexPortalId:{reducer:(e,r)=>{var{zIndex:s,elementId:a,isPanorama:n}=r.payload;e.zIndexMap[s]?n?e.zIndexMap[s].panoramaElementId=a:e.zIndexMap[s].elementId=a:e.zIndexMap[s]={consumers:0,elementId:n?void 0:a,panoramaElementId:n?a:void 0}},prepare:Ls()},unregisterZIndexPortalId:{reducer:(e,r)=>{var{zIndex:s}=r.payload;e.zIndexMap[s]&&(r.payload.isPanorama?e.zIndexMap[s].panoramaElementId=void 0:e.zIndexMap[s].elementId=void 0)},prepare:Ls()}}}),{registerZIndexPortal:p0e,unregisterZIndexPortal:f0e,registerZIndexPortalId:g0e,unregisterZIndexPortalId:y0e}=ER.actions,b0e=ER.reducer;function Ha(e){var{zIndex:r,children:s}=e,a=wle(),n=a&&r!==void 0&&r!==0,i=Xs(),l=_r();g.useLayoutEffect(()=>n?(l(p0e({zIndex:r})),()=>{l(f0e({zIndex:r}))}):Fd,[l,r,n]);var o=St(c=>i0e(c,r,i));if(!n)return s;if(!o)return null;var d=document.getElementById(o);return d?Oy.createPortal(s,d):null}function bw(){return bw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},bw.apply(null,arguments)}function B8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ap(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?B8(Object(s),!0).forEach(function(a){v0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):B8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function v0e(e,r,s){return(r=j0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function j0e(e){var r=w0e(e,"string");return typeof r=="symbol"?r:r+""}function w0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function N0e(e){var{cursor:r,cursorComp:s,cursorProps:a}=e;return g.isValidElement(r)?g.cloneElement(r,a):g.createElement(s,a)}function S0e(e){var r,{coordinate:s,payload:a,index:n,offset:i,tooltipAxisBandSize:l,layout:o,cursor:d,tooltipEventType:c,chartName:u}=e,m=s,x=a,h=n;if(!d||!m||u!=="ScatterChart"&&c!=="axis")return null;var p,f,b;if(u==="ScatterChart")p=m,f=uoe,b=ys.cursorLine;else if(u==="BarChart")p=moe(o,m,i,l),f=yL,b=ys.cursorRectangle;else if(o==="radial"&&q9(m)){var{cx:j,cy:w,radius:y,startAngle:v,endAngle:N}=vL(m);p={cx:j,cy:w,startAngle:v,endAngle:N,innerRadius:y,outerRadius:y},f=wL,b=ys.cursorLine}else p={points:Zoe(o,m,i)},f=Bu,b=ys.cursorLine;var S=typeof d=="object"&&"className"in d?d.className:void 0,k=Ap(Ap(Ap(Ap({stroke:"#ccc",pointerEvents:"none"},i),p),fd(d)),{},{payload:x,payloadIndex:h,className:nr("recharts-tooltip-cursor",S)});return g.createElement(Ha,{zIndex:(r=e.zIndex)!==null&&r!==void 0?r:b},g.createElement(N0e,{cursor:d,cursorComp:f,cursorProps:k}))}function k0e(e){var r=Whe(),s=cL(),a=Pm(),n=kR();return r==null||s==null||a==null||n==null?null:g.createElement(S0e,bw({},e,{offset:s,layout:a,tooltipAxisBandSize:r,chartName:n}))}var IR=g.createContext(null),C0e=()=>g.useContext(IR),OR={exports:{}};(function(e){var r=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function n(d,c,u){this.fn=d,this.context=c,this.once=u||!1}function i(d,c,u,m,x){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new n(u,m||d,x),p=s?s+c:c;return d._events[p]?d._events[p].fn?d._events[p]=[d._events[p],h]:d._events[p].push(h):(d._events[p]=h,d._eventsCount++),d}function l(d,c){--d._eventsCount===0?d._events=new a:delete d._events[c]}function o(){this._events=new a,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,m;if(this._eventsCount===0)return c;for(m in u=this._events)r.call(u,m)&&c.push(s?m.slice(1):m);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=s?s+c:c,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var x=0,h=m.length,p=new Array(h);x<h;x++)p[x]=m[x].fn;return p},o.prototype.listenerCount=function(c){var u=s?s+c:c,m=this._events[u];return m?m.fn?1:m.length:0},o.prototype.emit=function(c,u,m,x,h,p){var f=s?s+c:c;if(!this._events[f])return!1;var b=this._events[f],j=arguments.length,w,y;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),j){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,m),!0;case 4:return b.fn.call(b.context,u,m,x),!0;case 5:return b.fn.call(b.context,u,m,x,h),!0;case 6:return b.fn.call(b.context,u,m,x,h,p),!0}for(y=1,w=new Array(j-1);y<j;y++)w[y-1]=arguments[y];b.fn.apply(b.context,w)}else{var v=b.length,N;for(y=0;y<v;y++)switch(b[y].once&&this.removeListener(c,b[y].fn,void 0,!0),j){case 1:b[y].fn.call(b[y].context);break;case 2:b[y].fn.call(b[y].context,u);break;case 3:b[y].fn.call(b[y].context,u,m);break;case 4:b[y].fn.call(b[y].context,u,m,x);break;default:if(!w)for(N=1,w=new Array(j-1);N<j;N++)w[N-1]=arguments[N];b[y].fn.apply(b[y].context,w)}}return!0},o.prototype.on=function(c,u,m){return i(this,c,u,m,!1)},o.prototype.once=function(c,u,m){return i(this,c,u,m,!0)},o.prototype.removeListener=function(c,u,m,x){var h=s?s+c:c;if(!this._events[h])return this;if(!u)return l(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!x||p.once)&&(!m||p.context===m)&&l(this,h);else{for(var f=0,b=[],j=p.length;f<j;f++)(p[f].fn!==u||x&&!p[f].once||m&&p[f].context!==m)&&b.push(p[f]);b.length?this._events[h]=b.length===1?b[0]:b:l(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=s?s+c:c,this._events[u]&&l(this,u)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=s,o.EventEmitter=o,e.exports=o})(OR);var P0e=OR.exports;const A0e=ui(P0e);var D0=new A0e,vw="recharts.syncEvent.tooltip",$8="recharts.syncEvent.brush";function zb(e,r){if(r){var s=Number.parseInt(r,10);if(!oi(s))return e==null?void 0:e[s]}}var T0e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},_R=cn({name:"options",initialState:T0e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),E0e=_R.reducer,{createEventEmitter:I0e}=_R.actions;function O0e(e){return e.tooltip.syncInteraction}var _0e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},MR=cn({name:"chartData",initialState:_0e,reducers:{setChartData(e,r){if(e.chartData=r.payload,r.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}r.payload.length>0&&e.dataEndIndex!==r.payload.length-1&&(e.dataEndIndex=r.payload.length-1)},setComputedData(e,r){e.computedData=r.payload},setDataStartEndIndexes(e,r){var{startIndex:s,endIndex:a}=r.payload;s!=null&&(e.dataStartIndex=s),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:z8,setDataStartEndIndexes:M0e,setComputedData:RCe}=MR.actions,D0e=MR.reducer,L0e=["x","y"];function U8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Qd(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?U8(Object(s),!0).forEach(function(a){F0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):U8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function F0e(e,r,s){return(r=R0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function R0e(e){var r=B0e(e,"string");return typeof r=="symbol"?r:r+""}function B0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function $0e(e,r){if(e==null)return{};var s,a,n=z0e(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function z0e(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function U0e(){var e=St(_3),r=St(M3),s=_r(),a=St(SF),n=St(mo),i=Pm(),l=jb(),o=St(d=>d.rootProps.className);g.useEffect(()=>{if(e==null)return Fd;var d=(c,u,m)=>{if(r!==m&&e===c){if(a==="index"){var x;if(l&&u!==null&&u!==void 0&&(x=u.payload)!==null&&x!==void 0&&x.coordinate&&u.payload.sourceViewBox){var h=u.payload.coordinate,{x:p,y:f}=h,b=$0e(h,L0e),{x:j,y:w,width:y,height:v}=u.payload.sourceViewBox,N=Qd(Qd({},b),{},{x:l.x+(y?(p-j)/y:0)*l.width,y:l.y+(v?(f-w)/v:0)*l.height});s(Qd(Qd({},u),{},{payload:Qd(Qd({},u.payload),{},{coordinate:N})}))}else s(u);return}if(n!=null){var S;if(typeof a=="function"){var k={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},P=a(n,k);S=n[P]}else a==="value"&&(S=n.find(we=>String(we.value)===u.payload.label));var{coordinate:C}=u.payload;if(S==null||u.payload.active===!1||C==null||l==null){s(gw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:_,y:A}=C,D=Math.min(_,l.x+l.width),H=Math.min(A,l.y+l.height),re={x:i==="horizontal"?S.coordinate:D,y:i==="horizontal"?H:S.coordinate},xe=gw({active:u.payload.active,coordinate:re,dataKey:u.payload.dataKey,index:String(S.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox});s(xe)}}};return D0.on(vw,d),()=>{D0.off(vw,d)}},[o,s,r,e,a,n,i,l])}function H0e(){var e=St(_3),r=St(M3),s=_r();g.useEffect(()=>{if(e==null)return Fd;var a=(n,i,l)=>{r!==l&&e===n&&s(M0e(i))};return D0.on($8,a),()=>{D0.off($8,a)}},[s,r,e])}function V0e(){var e=_r();g.useEffect(()=>{e(I0e())},[e]),U0e(),H0e()}function W0e(e,r,s,a,n,i){var l=St(h=>Zhe(h,e,r)),o=St(M3),d=St(_3),c=St(SF),u=St(O0e),m=u==null?void 0:u.active,x=jb();g.useEffect(()=>{if(!m&&d!=null&&o!=null){var h=gw({active:i,coordinate:s,dataKey:l,index:n,label:typeof a=="number"?String(a):a,sourceViewBox:x});D0.emit(vw,d,h,o)}},[m,s,l,n,a,o,d,c,i,x])}function H8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function V8(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?H8(Object(s),!0).forEach(function(a){q0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):H8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function q0e(e,r,s){return(r=G0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function G0e(e){var r=K0e(e,"string");return typeof r=="symbol"?r:r+""}function K0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Y0e(e){return e.dataKey}function X0e(e,r){return g.isValidElement(e)?g.cloneElement(e,r):typeof e=="function"?g.createElement(e,r):g.createElement(Hle,r)}var W8=[],J0e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!lo.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Xi(e){var r,s,a=ds(e,J0e),{active:n,allowEscapeViewBox:i,animationDuration:l,animationEasing:o,content:d,filterNull:c,isAnimationActive:u,offset:m,payloadUniqBy:x,position:h,reverseDirection:p,useTranslate3d:f,wrapperStyle:b,cursor:j,shared:w,trigger:y,defaultIndex:v,portal:N,axisId:S}=a,k=_r(),P=typeof v=="number"?String(v):v;g.useEffect(()=>{k(Qme({shared:w,trigger:y,axisId:S,active:n,defaultIndex:P}))},[k,w,y,S,n,P]);var C=jb(),_=hL(),A=Gme(w),{activeIndex:D,isActive:H}=(r=St(M=>r0e(M,A,y,P)))!==null&&r!==void 0?r:{},re=St(M=>t0e(M,A,y,P)),xe=St(M=>TR(M,A,y,P)),we=St(M=>e0e(M,A,y,P)),T=re,z=C0e(),Q=(s=n??H)!==null&&s!==void 0?s:!1,[B,L]=wD([T,Q]),R=A==="axis"?xe:void 0;W0e(A,y,we,R,D,Q);var Z=N??z;if(Z==null||C==null||A==null)return null;var W=T??W8;Q||(W=W8),c&&W.length&&(W=dD(W.filter(M=>M.value!=null&&(M.hide!==!0||a.includeHidden)),x,Y0e));var ie=W.length>0,ae=g.createElement(Xle,{allowEscapeViewBox:i,animationDuration:l,animationEasing:o,isAnimationActive:u,active:Q,coordinate:we,hasPayload:ie,offset:m,position:h,reverseDirection:p,useTranslate3d:f,viewBox:C,wrapperStyle:b,lastBoundingBox:B,innerRef:L,hasPortalFromProps:!!N},X0e(d,V8(V8({},a),{},{payload:W,label:R,active:Q,activeIndex:D,coordinate:we,accessibilityLayer:_})));return g.createElement(g.Fragment,null,Oy.createPortal(ae,Z),Q&&g.createElement(k0e,{cursor:j,tooltipEventType:A,coordinate:we,payload:W,index:D}))}var ac=e=>null;ac.displayName="Cell";function Q0e(e,r,s){return(r=Z0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Z0e(e){var r=exe(e,"string");return typeof r=="symbol"?r:r+""}function exe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class txe{constructor(r){Q0e(this,"cache",new Map),this.maxSize=r}get(r){var s=this.cache.get(r);return s!==void 0&&(this.cache.delete(r),this.cache.set(r,s)),s}set(r,s){if(this.cache.has(r))this.cache.delete(r);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(r,s)}clear(){this.cache.clear()}size(){return this.cache.size}}function q8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function rxe(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?q8(Object(s),!0).forEach(function(a){sxe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):q8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function sxe(e,r,s){return(r=axe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function axe(e){var r=nxe(e,"string");return typeof r=="symbol"?r:r+""}function nxe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ixe={cacheSize:2e3,enableCache:!0},DR=rxe({},ixe),G8=new txe(DR.cacheSize),lxe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},K8="recharts_measurement_span";function oxe(e,r){var s=r.fontSize||"",a=r.fontFamily||"",n=r.fontWeight||"",i=r.fontStyle||"",l=r.letterSpacing||"",o=r.textTransform||"";return"".concat(e,"|").concat(s,"|").concat(a,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(o)}var Y8=(e,r)=>{try{var s=document.getElementById(K8);s||(s=document.createElement("span"),s.setAttribute("id",K8),s.setAttribute("aria-hidden","true"),document.body.appendChild(s)),Object.assign(s.style,lxe,r),s.textContent="".concat(e);var a=s.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},Hh=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||lo.isSsr)return{width:0,height:0};if(!DR.enableCache)return Y8(r,s);var a=oxe(r,s),n=G8.get(a);if(n)return n;var i=Y8(r,s);return G8.set(a,i),i},X8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,LR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uxe=Object.keys(LR),wu="NaN";function mxe(e,r){return e*LR[r]}class Va{static parse(r){var s,[,a,n]=(s=dxe.exec(r))!==null&&s!==void 0?s:[];return new Va(parseFloat(a),n??"")}constructor(r,s){this.num=r,this.unit=s,this.num=r,this.unit=s,oi(r)&&(this.unit=""),s!==""&&!cxe.test(s)&&(this.num=NaN,this.unit=""),uxe.includes(s)&&(this.num=mxe(r,s),this.unit="px")}add(r){return this.unit!==r.unit?new Va(NaN,""):new Va(this.num+r.num,this.unit)}subtract(r){return this.unit!==r.unit?new Va(NaN,""):new Va(this.num-r.num,this.unit)}multiply(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new Va(NaN,""):new Va(this.num*r.num,this.unit||r.unit)}divide(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new Va(NaN,""):new Va(this.num/r.num,this.unit||r.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return oi(this.num)}}function FR(e){if(e.includes(wu))return wu;for(var r=e;r.includes("*")||r.includes("/");){var s,[,a,n,i]=(s=X8.exec(r))!==null&&s!==void 0?s:[],l=Va.parse(a??""),o=Va.parse(i??""),d=n==="*"?l.multiply(o):l.divide(o);if(d.isNaN())return wu;r=r.replace(X8,d.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var c,[,u,m,x]=(c=J8.exec(r))!==null&&c!==void 0?c:[],h=Va.parse(u??""),p=Va.parse(x??""),f=m==="+"?h.add(p):h.subtract(p);if(f.isNaN())return wu;r=r.replace(J8,f.toString())}return r}var Q8=/\(([^()]*)\)/;function hxe(e){for(var r=e,s;(s=Q8.exec(r))!=null;){var[,a]=s;r=r.replace(Q8,FR(a))}return r}function xxe(e){var r=e.replace(/\s+/g,"");return r=hxe(r),r=FR(r),r}function pxe(e){try{return xxe(e)}catch{return wu}}function H1(e){var r=pxe(e.slice(5,-1));return r===wu?"":r}var fxe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],gxe=["dx","dy","angle","className","breakAll"];function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},jw.apply(null,arguments)}function Z8(e,r){if(e==null)return{};var s,a,n=yxe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function yxe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var RR=/[ \f\n\r\t\v\u2028\u2029]+/,BR=e=>{var{children:r,breakAll:s,style:a}=e;try{var n=[];Rr(r)||(s?n=r.toString().split(""):n=r.toString().split(RR));var i=n.map(o=>({word:o,width:Hh(o,a).width})),l=s?0:Hh("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}};function bxe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var $R=(e,r,s,a)=>e.reduce((n,i)=>{var{word:l,width:o}=i,d=n[n.length-1];if(d&&o!=null&&(r==null||a||d.width+o+s<Number(r)))d.words.push(l),d.width+=o+s;else{var c={words:[l],width:o};n.push(c)}return n},[]),zR=e=>e.reduce((r,s)=>r.width>s.width?r:s),vxe="",eT=(e,r,s,a,n,i,l,o)=>{var d=e.slice(0,r),c=BR({breakAll:s,style:a,children:d+vxe});if(!c)return[!1,[]];var u=$R(c.wordsWithComputedWidth,i,l,o),m=u.length>n||zR(u).width>Number(i);return[m,u]},jxe=(e,r,s,a,n)=>{var{maxLines:i,children:l,style:o,breakAll:d}=e,c=jt(i),u=String(l),m=$R(r,a,s,n);if(!c||n)return m;var x=m.length>i||zR(m).width>Number(a);if(!x)return m;for(var h=0,p=u.length-1,f=0,b;h<=p&&f<=u.length-1;){var j=Math.floor((h+p)/2),w=j-1,[y,v]=eT(u,w,d,o,i,a,s,n),[N]=eT(u,j,d,o,i,a,s,n);if(!y&&!N&&(h=j+1),y&&N&&(p=j-1),!y&&N){b=v;break}f++}return b||m},tT=e=>{var r=Rr(e)?[]:e.toString().split(RR);return[{words:r,width:void 0}]},wxe=e=>{var{width:r,scaleToFit:s,children:a,style:n,breakAll:i,maxLines:l}=e;if((r||s)&&!lo.isSsr){var o,d,c=BR({breakAll:i,children:a,style:n});if(c){var{wordsWithComputedWidth:u,spaceWidth:m}=c;o=u,d=m}else return tT(a);return jxe({breakAll:i,children:a,maxLines:l,style:n},o,d,r,!!s)}return tT(a)},UR="#808080",Nxe={breakAll:!1,capHeight:"0.71em",fill:UR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ub=g.forwardRef((e,r)=>{var s=ds(e,Nxe),{x:a,y:n,lineHeight:i,capHeight:l,fill:o,scaleToFit:d,textAnchor:c,verticalAnchor:u}=s,m=Z8(s,fxe),x=g.useMemo(()=>wxe({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:d,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,d,m.style,m.width]),{dx:h,dy:p,angle:f,className:b,breakAll:j}=m,w=Z8(m,gxe);if(!al(a)||!al(n)||x.length===0)return null;var y=Number(a)+(jt(h)?h:0),v=Number(n)+(jt(p)?p:0);if(!Br(y)||!Br(v))return null;var N;switch(u){case"start":N=H1("calc(".concat(l,")"));break;case"middle":N=H1("calc(".concat((x.length-1)/2," * -").concat(i," + (").concat(l," / 2))"));break;default:N=H1("calc(".concat(x.length-1," * -").concat(i,")"));break}var S=[];if(d){var k=x[0].width,{width:P}=m;S.push("scale(".concat(jt(P)&&jt(k)?P/k:1,")"))}return f&&S.push("rotate(".concat(f,", ").concat(y,", ").concat(v,")")),S.length&&(w.transform=S.join(" ")),g.createElement("text",jw({},Sa(w),{ref:r,x:y,y:v,className:nr("recharts-text",b),textAnchor:c,fill:o.includes("url")?UR:o}),x.map((C,_)=>{var A=C.words.join(j?"":" ");return g.createElement("tspan",{x:y,dy:_===0?N:i,key:"".concat(A,"-").concat(_)},A)}))});Ub.displayName="Text";var Sxe=["labelRef"];function kxe(e,r){if(e==null)return{};var s,a,n=Cxe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Cxe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function rT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ms(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?rT(Object(s),!0).forEach(function(a){Pxe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):rT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Pxe(e,r,s){return(r=Axe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Axe(e){var r=Txe(e,"string");return typeof r=="symbol"?r:r+""}function Txe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},yl.apply(null,arguments)}var HR=g.createContext(null),Exe=e=>{var{x:r,y:s,upperWidth:a,lowerWidth:n,width:i,height:l,children:o}=e,d=g.useMemo(()=>({x:r,y:s,upperWidth:a,lowerWidth:n,width:i,height:l}),[r,s,a,n,i,l]);return g.createElement(HR.Provider,{value:d},o)},VR=()=>{var e=g.useContext(HR),r=jb();return e||oL(r)},Ixe=g.createContext(null),Oxe=()=>{var e=g.useContext(Ixe),r=St(TF);return e||r},_xe=e=>{var{value:r,formatter:s}=e,a=Rr(e.children)?r:e.children;return typeof s=="function"?s(a):a},h5=e=>e!=null&&typeof e=="function",Mxe=(e,r)=>{var s=qs(r-e),a=Math.min(Math.abs(r-e),360);return s*a},Dxe=(e,r,s,a,n)=>{var{offset:i,className:l}=e,{cx:o,cy:d,innerRadius:c,outerRadius:u,startAngle:m,endAngle:x,clockWise:h}=n,p=(c+u)/2,f=Mxe(m,x),b=f>=0?1:-1,j,w;switch(r){case"insideStart":j=m+b*i,w=h;break;case"insideEnd":j=x-b*i,w=!h;break;case"end":j=x+b*i,w=h;break;default:throw new Error("Unsupported position ".concat(r))}w=f<=0?w:!w;var y=As(o,d,p,j),v=As(o,d,p,j+(w?1:-1)*359),N="M".concat(y.x,",").concat(y.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(v.x,",").concat(v.y),S=Rr(e.id)?S0("recharts-radial-line-"):e.id;return g.createElement("text",yl({},a,{dominantBaseline:"central",className:nr("recharts-radial-bar-label",l)}),g.createElement("defs",null,g.createElement("path",{id:S,d:N})),g.createElement("textPath",{xlinkHref:"#".concat(S)},s))},Lxe=(e,r,s)=>{var{cx:a,cy:n,innerRadius:i,outerRadius:l,startAngle:o,endAngle:d}=e,c=(o+d)/2;if(s==="outside"){var{x:u,y:m}=As(a,n,l+r,c);return{x:u,y:m,textAnchor:u>=a?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"end"};var x=(i+l)/2,{x:h,y:p}=As(a,n,x,c);return{x:h,y:p,textAnchor:"middle",verticalAnchor:"middle"}},ww=e=>"cx"in e&&jt(e.cx),Fxe=(e,r)=>{var{parentViewBox:s,offset:a,position:n}=e,i;s!=null&&!ww(s)&&(i=s);var{x:l,y:o,upperWidth:d,lowerWidth:c,height:u}=r,m=l,x=l+(d-c)/2,h=(m+x)/2,p=(d+c)/2,f=m+d/2,b=u>=0?1:-1,j=b*a,w=b>0?"end":"start",y=b>0?"start":"end",v=d>=0?1:-1,N=v*a,S=v>0?"end":"start",k=v>0?"start":"end";if(n==="top"){var P={x:m+d/2,y:o-j,textAnchor:"middle",verticalAnchor:w};return ms(ms({},P),i?{height:Math.max(o-i.y,0),width:d}:{})}if(n==="bottom"){var C={x:x+c/2,y:o+u+j,textAnchor:"middle",verticalAnchor:y};return ms(ms({},C),i?{height:Math.max(i.y+i.height-(o+u),0),width:c}:{})}if(n==="left"){var _={x:h-N,y:o+u/2,textAnchor:S,verticalAnchor:"middle"};return ms(ms({},_),i?{width:Math.max(_.x-i.x,0),height:u}:{})}if(n==="right"){var A={x:h+p+N,y:o+u/2,textAnchor:k,verticalAnchor:"middle"};return ms(ms({},A),i?{width:Math.max(i.x+i.width-A.x,0),height:u}:{})}var D=i?{width:p,height:u}:{};return n==="insideLeft"?ms({x:h+N,y:o+u/2,textAnchor:k,verticalAnchor:"middle"},D):n==="insideRight"?ms({x:h+p-N,y:o+u/2,textAnchor:S,verticalAnchor:"middle"},D):n==="insideTop"?ms({x:m+d/2,y:o+j,textAnchor:"middle",verticalAnchor:y},D):n==="insideBottom"?ms({x:x+c/2,y:o+u-j,textAnchor:"middle",verticalAnchor:w},D):n==="insideTopLeft"?ms({x:m+N,y:o+j,textAnchor:k,verticalAnchor:y},D):n==="insideTopRight"?ms({x:m+d-N,y:o+j,textAnchor:S,verticalAnchor:y},D):n==="insideBottomLeft"?ms({x:x+N,y:o+u-j,textAnchor:k,verticalAnchor:w},D):n==="insideBottomRight"?ms({x:x+c-N,y:o+u-j,textAnchor:S,verticalAnchor:w},D):n&&typeof n=="object"&&(jt(n.x)||ql(n.x))&&(jt(n.y)||ql(n.y))?ms({x:l+va(n.x,p),y:o+va(n.y,u),textAnchor:"end",verticalAnchor:"end"},D):ms({x:f,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},D)},Rxe={offset:5,zIndex:ys.label};function Po(e){var r=ds(e,Rxe),{viewBox:s,position:a,value:n,children:i,content:l,className:o="",textBreakAll:d,labelRef:c}=r,u=Oxe(),m=VR(),x=a==="center"?m:u??m,h,p,f;if(s==null?h=x:ww(s)?h=s:h=oL(s),!h||Rr(n)&&Rr(i)&&!g.isValidElement(l)&&typeof l!="function")return null;var b=ms(ms({},r),{},{viewBox:h});if(g.isValidElement(l)){var{labelRef:j}=b,w=kxe(b,Sxe);return g.cloneElement(l,w)}if(typeof l=="function"){if(p=g.createElement(l,b),g.isValidElement(p))return p}else p=_xe(r);var y=Sa(r);if(ww(h)){if(a==="insideStart"||a==="insideEnd"||a==="end")return Dxe(r,a,p,y,h);f=Lxe(h,r.offset,r.position)}else f=Fxe(r,h);return g.createElement(Ha,{zIndex:r.zIndex},g.createElement(Ub,yl({ref:c,className:nr("recharts-label",o)},y,f,{textAnchor:bxe(y.textAnchor)?y.textAnchor:f.textAnchor,breakAll:d}),p))}Po.displayName="Label";var Bxe=(e,r,s)=>{if(!e)return null;var a={viewBox:r,labelRef:s};return e===!0?g.createElement(Po,yl({key:"label-implicit"},a)):al(e)?g.createElement(Po,yl({key:"label-implicit",value:e},a)):g.isValidElement(e)?e.type===Po?g.cloneElement(e,ms({key:"label-implicit"},a)):g.createElement(Po,yl({key:"label-implicit",content:e},a)):h5(e)?g.createElement(Po,yl({key:"label-implicit",content:e},a)):e&&typeof e=="object"?g.createElement(Po,yl({},e,{key:"label-implicit"},a)):null};function $xe(e){var{label:r,labelRef:s}=e,a=VR();return Bxe(r,a,s)||null}var WR={},qR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s[s.length-1]}e.last=r})(qR);var GR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Array.isArray(s)?s:Array.from(s)}e.toArray=r})(GR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=qR,s=GR,a=cb;function n(i){if(a.isArrayLike(i))return r.last(s.toArray(i))}e.last=n})(WR);var zxe=WR.last;const Uxe=ui(zxe);var Hxe=["valueAccessor"],Vxe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Bg.apply(null,arguments)}function sT(e,r){if(e==null)return{};var s,a,n=Wxe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Wxe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var qxe=e=>Array.isArray(e.value)?Uxe(e.value):e.value,KR=g.createContext(void 0),x5=KR.Provider,YR=g.createContext(void 0),Gxe=YR.Provider;function Kxe(){return g.useContext(KR)}function Yxe(){return g.useContext(YR)}function uf(e){var{valueAccessor:r=qxe}=e,s=sT(e,Hxe),{dataKey:a,clockWise:n,id:i,textBreakAll:l,zIndex:o}=s,d=sT(s,Vxe),c=Kxe(),u=Yxe(),m=c||u;return!m||!m.length?null:g.createElement(Ha,{zIndex:o??ys.label},g.createElement(cs,{className:"recharts-label-list"},m.map((x,h)=>{var p,f=Rr(a)?r(x,h):jr(x&&x.payload,a),b=Rr(i)?{}:{id:"".concat(i,"-").concat(h)};return g.createElement(Po,Bg({key:"label-".concat(h)},Sa(x),d,b,{fill:(p=s.fill)!==null&&p!==void 0?p:x.fill,parentViewBox:x.parentViewBox,value:f,textBreakAll:l,viewBox:x.viewBox,index:h,zIndex:0}))})))}uf.displayName="LabelList";function Hb(e){var{label:r}=e;return r?r===!0?g.createElement(uf,{key:"labelList-implicit"}):g.isValidElement(r)||h5(r)?g.createElement(uf,{key:"labelList-implicit",content:r}):typeof r=="object"?g.createElement(uf,Bg({key:"labelList-implicit"},r,{type:String(r.type)})):null:null}function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Nw.apply(null,arguments)}var XR=e=>{var{cx:r,cy:s,r:a,className:n}=e,i=nr("recharts-dot",n);return jt(r)&&jt(s)&&jt(a)?g.createElement("circle",Nw({},$a(e),R4(e),{className:i,cx:r,cy:s,r:a})):null},JR=e=>e.graphicalItems.polarItems,Xxe=Ee([Kr,wx],B3),Vb=Ee([JR,ts,Xxe],$3),Jxe=Ee([Vb],z3),Wb=Ee([Jxe,T3],U3),Qxe=Ee([Wb,ts,Vb],V3);Ee([Wb,ts,Vb],(e,r,s)=>s.length>0?e.flatMap(a=>s.flatMap(n=>{var i,l=jr(a,(i=r.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(r==null?void 0:r.dataKey)!=null?e.map(a=>({value:jr(a,r.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var aT=()=>{},Zxe=Ee([Wb,ts,Vb,Fb,Kr],K3),epe=Ee([ts,q3,G3,aT,Zxe,aT,Zt,Kr],Y3),QR=Ee([ts,Zt,Wb,Qxe,jx,Kr,epe],X3),tpe=Ee([QR,ts,Dm],Z3);Ee([ts,QR,tpe,Kr],t5);var rpe={radiusAxis:{},angleAxis:{}},ZR=cn({name:"polarAxis",initialState:rpe,reducers:{addRadiusAxis(e,r){e.radiusAxis[r.payload.id]=r.payload},removeRadiusAxis(e,r){delete e.radiusAxis[r.payload.id]},addAngleAxis(e,r){e.angleAxis[r.payload.id]=r.payload},removeAngleAxis(e,r){delete e.angleAxis[r.payload.id]}}}),{addRadiusAxis:BCe,removeRadiusAxis:$Ce,addAngleAxis:zCe,removeAngleAxis:UCe}=ZR.actions,spe=ZR.reducer;function nT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function iT(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?nT(Object(s),!0).forEach(function(a){ape(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):nT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ape(e,r,s){return(r=npe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function npe(e){var r=ipe(e,"string");return typeof r=="symbol"?r:r+""}function ipe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var lpe=(e,r)=>r,p5=Ee([JR,lpe],(e,r)=>e.filter(s=>s.type==="pie").find(s=>s.id===r)),ope=[],f5=(e,r,s)=>(s==null?void 0:s.length)===0?ope:s,eB=Ee([T3,p5,f5],(e,r,s)=>{var{chartData:a}=e;if(r!=null){var n;if((r==null?void 0:r.data)!=null&&r.data.length>0?n=r.data:n=a,(!n||!n.length)&&s!=null&&(n=s.map(i=>iT(iT({},r.presentationProps),i.props))),n!=null)return n}}),cpe=Ee([eB,p5,f5],(e,r,s)=>{if(!(e==null||r==null))return e.map((a,n)=>{var i,l=jr(a,r.nameKey,r.name),o;return s!=null&&(i=s[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=s[n].props.fill:typeof a=="object"&&a!=null&&"fill"in a?o=a.fill:o=r.fill,{value:xc(l,r.dataKey),color:o,payload:a,type:r.legendType}})}),dpe=Ee([eB,p5,f5,Rs],(e,r,s,a)=>{if(!(r==null||e==null))return lfe({offset:a,pieSettings:r,displayedData:e,cells:s})}),tB={exports:{}},Cr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g5=Symbol.for("react.transitional.element"),y5=Symbol.for("react.portal"),qb=Symbol.for("react.fragment"),Gb=Symbol.for("react.strict_mode"),Kb=Symbol.for("react.profiler"),Yb=Symbol.for("react.consumer"),Xb=Symbol.for("react.context"),Jb=Symbol.for("react.forward_ref"),Qb=Symbol.for("react.suspense"),Zb=Symbol.for("react.suspense_list"),ev=Symbol.for("react.memo"),tv=Symbol.for("react.lazy"),upe=Symbol.for("react.view_transition"),mpe=Symbol.for("react.client.reference");function hi(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case g5:switch(e=e.type,e){case qb:case Kb:case Gb:case Qb:case Zb:case upe:return e;default:switch(e=e&&e.$$typeof,e){case Xb:case Jb:case tv:case ev:return e;case Yb:return e;default:return r}}case y5:return r}}}Cr.ContextConsumer=Yb;Cr.ContextProvider=Xb;Cr.Element=g5;Cr.ForwardRef=Jb;Cr.Fragment=qb;Cr.Lazy=tv;Cr.Memo=ev;Cr.Portal=y5;Cr.Profiler=Kb;Cr.StrictMode=Gb;Cr.Suspense=Qb;Cr.SuspenseList=Zb;Cr.isContextConsumer=function(e){return hi(e)===Yb};Cr.isContextProvider=function(e){return hi(e)===Xb};Cr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===g5};Cr.isForwardRef=function(e){return hi(e)===Jb};Cr.isFragment=function(e){return hi(e)===qb};Cr.isLazy=function(e){return hi(e)===tv};Cr.isMemo=function(e){return hi(e)===ev};Cr.isPortal=function(e){return hi(e)===y5};Cr.isProfiler=function(e){return hi(e)===Kb};Cr.isStrictMode=function(e){return hi(e)===Gb};Cr.isSuspense=function(e){return hi(e)===Qb};Cr.isSuspenseList=function(e){return hi(e)===Zb};Cr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===qb||e===Kb||e===Gb||e===Qb||e===Zb||typeof e=="object"&&e!==null&&(e.$$typeof===tv||e.$$typeof===ev||e.$$typeof===Xb||e.$$typeof===Yb||e.$$typeof===Jb||e.$$typeof===mpe||e.getModuleId!==void 0)};Cr.typeOf=hi;tB.exports=Cr;var hpe=tB.exports,lT=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",oT=null,V1=null,rB=e=>{if(e===oT&&Array.isArray(V1))return V1;var r=[];return g.Children.forEach(e,s=>{Rr(s)||(hpe.isFragment(s)?r=r.concat(rB(s.props.children)):r.push(s))}),V1=r,oT=e,r};function b5(e,r){var s=[],a=[];return Array.isArray(r)?a=r.map(n=>lT(n)):a=[lT(r)],rB(e).forEach(n=>{var i=gd(n,"type.displayName")||gd(n,"type.name");i&&a.indexOf(i)!==-1&&s.push(n)}),s}var v5=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,sB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){var n;if(typeof s!="object"||s==null)return!1;if(Object.getPrototypeOf(s)===null)return!0;if(Object.prototype.toString.call(s)!=="[object Object]"){const i=s[Symbol.toStringTag];return i==null||!((n=Object.getOwnPropertyDescriptor(s,Symbol.toStringTag))!=null&&n.writable)?!1:s.toString()===`[object ${i}]`}let a=s;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(s)===a}e.isPlainObject=r})(sB);var xpe=sB.isPlainObject;const ppe=ui(xpe);function cT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function dT(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?cT(Object(s),!0).forEach(function(a){fpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):cT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function fpe(e,r,s){return(r=gpe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function gpe(e){var r=ype(e,"string");return typeof r=="symbol"?r:r+""}function ype(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},$g.apply(null,arguments)}var uT=(e,r,s,a,n)=>{var i=s-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+s,",").concat(r),l+="L ".concat(e+s-i/2,",").concat(r+n),l+="L ".concat(e+s-i/2-a,",").concat(r+n),l+="L ".concat(e,",").concat(r," Z"),l},bpe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vpe=e=>{var r=ds(e,bpe),{x:s,y:a,upperWidth:n,lowerWidth:i,height:l,className:o}=r,{animationEasing:d,animationDuration:c,animationBegin:u,isUpdateAnimationActive:m}=r,x=g.useRef(null),[h,p]=g.useState(-1),f=g.useRef(n),b=g.useRef(i),j=g.useRef(l),w=g.useRef(s),y=g.useRef(a),v=Tm(e,"trapezoid-");if(g.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var re=x.current.getTotalLength();re&&p(re)}catch{}},[]),s!==+s||a!==+a||n!==+n||i!==+i||l!==+l||n===0&&i===0||l===0)return null;var N=nr("recharts-trapezoid",o);if(!m)return g.createElement("g",null,g.createElement("path",$g({},Sa(r),{className:N,d:uT(s,a,n,i,l)})));var S=f.current,k=b.current,P=j.current,C=w.current,_=y.current,A="0px ".concat(h===-1?1:h,"px"),D="".concat(h,"px 0px"),H=xL(["strokeDasharray"],c,d);return g.createElement(Am,{animationId:v,key:v,canBegin:h>0,duration:c,easing:d,isActive:m,begin:u},re=>{var xe=ur(S,n,re),we=ur(k,i,re),T=ur(P,l,re),z=ur(C,s,re),Q=ur(_,a,re);x.current&&(f.current=xe,b.current=we,j.current=T,w.current=z,y.current=Q);var B=re>0?{transition:H,strokeDasharray:D}:{strokeDasharray:A};return g.createElement("path",$g({},Sa(r),{className:N,d:uT(z,Q,xe,we,T),ref:x,style:dT(dT({},B),r.style)}))})},jpe=["option","shapeType","propTransformer","activeClassName","isActive"];function wpe(e,r){if(e==null)return{};var s,a,n=Npe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Npe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function mT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function zg(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?mT(Object(s),!0).forEach(function(a){Spe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):mT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Spe(e,r,s){return(r=kpe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function kpe(e){var r=Cpe(e,"string");return typeof r=="symbol"?r:r+""}function Cpe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ppe(e,r){return zg(zg({},r),e)}function Ape(e,r){return e==="symbols"}function hT(e){var{shapeType:r,elementProps:s}=e;switch(r){case"rectangle":return g.createElement(yL,s);case"trapezoid":return g.createElement(vpe,s);case"sector":return g.createElement(wL,s);case"symbols":if(Ape(r))return g.createElement(F4,s);break;case"curve":return g.createElement(Bu,s);default:return null}}function Tpe(e){return g.isValidElement(e)?e.props:e}function j5(e){var{option:r,shapeType:s,propTransformer:a=Ppe,activeClassName:n="recharts-active-shape",isActive:i}=e,l=wpe(e,jpe),o;if(g.isValidElement(r))o=g.cloneElement(r,zg(zg({},l),Tpe(r)));else if(typeof r=="function")o=r(l);else if(ppe(r)&&typeof r!="boolean"){var d=a(r,l);o=g.createElement(hT,{shapeType:s,elementProps:d})}else{var c=l;o=g.createElement(hT,{shapeType:s,elementProps:c})}return i?g.createElement(cs,{className:n},o):o}var w5=(e,r)=>{var s=_r();return(a,n)=>i=>{e==null||e(a,n,i),s(lR({activeIndex:String(n),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}},N5=e=>{var r=_r();return(s,a)=>n=>{e==null||e(s,a,n),r(Zme())}},S5=(e,r)=>{var s=_r();return(a,n)=>i=>{e==null||e(a,n,i),s(ehe({activeIndex:String(n),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}};function rv(e){var{fn:r,args:s}=e,a=_r(),n=Xs();return g.useLayoutEffect(()=>{if(!n){var i=r(s);return a(Xme(i)),()=>{a(Jme(i))}}},[r,s,a,n]),null}function k5(e){var{legendPayload:r}=e,s=_r(),a=Xs();return g.useLayoutEffect(()=>a?Fd:(s(uL(r)),()=>{s(mL(r))}),[s,a,r]),null}function Epe(e){var{legendPayload:r}=e,s=_r(),a=St(Zt);return g.useLayoutEffect(()=>a!=="centric"&&a!=="radial"?Fd:(s(uL(r)),()=>{s(mL(r))}),[s,a,r]),null}var W1,Ipe=()=>{var[e]=g.useState(()=>S0("uid-"));return e},Ope=(W1=ZE.useId)!==null&&W1!==void 0?W1:Ipe;function aB(e,r){var s=Ope();return r||(e?"".concat(e,"-").concat(s):s)}var _pe=g.createContext(void 0),sv=e=>{var{id:r,type:s,children:a}=e,n=aB("recharts-".concat(s),r);return g.createElement(_pe.Provider,{value:n},a(n))},Mpe={cartesianItems:[],polarItems:[]},nB=cn({name:"graphicalItems",initialState:Mpe,reducers:{addCartesianGraphicalItem:{reducer(e,r){e.cartesianItems.push(r.payload)},prepare:Ls()},replaceCartesianGraphicalItem:{reducer(e,r){var{prev:s,next:a}=r.payload,n=Ol(e).cartesianItems.indexOf(s);n>-1&&(e.cartesianItems[n]=a)},prepare:Ls()},removeCartesianGraphicalItem:{reducer(e,r){var s=Ol(e).cartesianItems.indexOf(r.payload);s>-1&&e.cartesianItems.splice(s,1)},prepare:Ls()},addPolarGraphicalItem:{reducer(e,r){e.polarItems.push(r.payload)},prepare:Ls()},removePolarGraphicalItem:{reducer(e,r){var s=Ol(e).polarItems.indexOf(r.payload);s>-1&&e.polarItems.splice(s,1)},prepare:Ls()}}}),{addCartesianGraphicalItem:Dpe,replaceCartesianGraphicalItem:Lpe,removeCartesianGraphicalItem:Fpe,addPolarGraphicalItem:Rpe,removePolarGraphicalItem:Bpe}=nB.actions,$pe=nB.reducer;function C5(e){var r=_r(),s=g.useRef(null);return g.useLayoutEffect(()=>{s.current===null?r(Dpe(e)):s.current!==e&&r(Lpe({prev:s.current,next:e})),s.current=e},[r,e]),g.useLayoutEffect(()=>()=>{s.current&&(r(Fpe(s.current)),s.current=null)},[r]),null}function zpe(e){var r=_r();return g.useLayoutEffect(()=>(r(Rpe(e)),()=>{r(Bpe(e))}),[r,e]),null}var Upe=["onMouseEnter","onClick","onMouseLeave"],Hpe=["id"],Vpe=["id"];function P5(e,r){if(e==null)return{};var s,a,n=Wpe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Wpe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function xT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Hr(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?xT(Object(s),!0).forEach(function(a){qpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):xT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function qpe(e,r,s){return(r=Gpe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Gpe(e){var r=Kpe(e,"string");return typeof r=="symbol"?r:r+""}function Kpe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},nc.apply(null,arguments)}function Ype(e){var r=g.useMemo(()=>b5(e.children,ac),[e.children]),s=St(a=>cpe(a,e.id,r));return s==null?null:g.createElement(Epe,{legendPayload:s})}function Xpe(e){var{dataKey:r,nameKey:s,sectors:a,stroke:n,strokeWidth:i,fill:l,name:o,hide:d,tooltipType:c}=e;return{dataDefinedOnItem:a.map(u=>u.tooltipPayload),positions:a.map(u=>u.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:l,dataKey:r,nameKey:s,name:xc(o,r),hide:d,type:c,color:l,unit:""}}}var Jpe=(e,r)=>e>r?"start":e<r?"end":"middle",Qpe=(e,r,s)=>va(typeof r=="function"?r(e):r,s,s*.8),Zpe=(e,r,s)=>{var{top:a,left:n,width:i,height:l}=r,o=bL(i,l),d=n+va(e.cx,i,i/2),c=a+va(e.cy,l,l/2),u=va(e.innerRadius,o,0),m=Qpe(s,e.outerRadius,o),x=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:d,cy:c,innerRadius:u,outerRadius:m,maxRadius:x}},efe=(e,r)=>{var s=qs(r-e),a=Math.min(Math.abs(r-e),360);return s*a};function tfe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var rfe=(e,r)=>{if(g.isValidElement(e))return g.cloneElement(e,r);if(typeof e=="function")return e(r);var s=nr("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return g.createElement(Bu,nc({},r,{type:"linear",className:s}))},sfe=(e,r,s)=>{if(g.isValidElement(e))return g.cloneElement(e,r);var a=s;if(typeof e=="function"&&(a=e(r),g.isValidElement(a)))return a;var n=nr("recharts-pie-label-text",tfe(e));return g.createElement(Ub,nc({},r,{alignmentBaseline:"middle",className:n}),a)};function afe(e){var{sectors:r,props:s,showLabels:a}=e,{label:n,labelLine:i,dataKey:l}=s;if(!a||!n||!r)return null;var o=$a(s),d=fd(n),c=fd(i),u=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,m=r.map((x,h)=>{var p=(x.startAngle+x.endAngle)/2,f=As(x.cx,x.cy,x.outerRadius+u,p),b=Hr(Hr(Hr(Hr({},o),x),{},{stroke:"none"},d),{},{index:h,textAnchor:Jpe(f.x,x.cx)},f),j=Hr(Hr(Hr(Hr({},o),x),{},{fill:"none",stroke:x.fill},c),{},{index:h,points:[As(x.cx,x.cy,x.outerRadius,p),f],key:"line"});return g.createElement(Ha,{zIndex:ys.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(h)},g.createElement(cs,null,i&&rfe(i,j),sfe(n,b,jr(x,l))))});return g.createElement(cs,{className:"recharts-pie-labels"},m)}function nfe(e){var{sectors:r,props:s,showLabels:a}=e,{label:n}=s;return typeof n=="object"&&n!=null&&"position"in n?g.createElement(Hb,{label:n}):g.createElement(afe,{sectors:r,props:s,showLabels:a})}function ife(e){var{sectors:r,activeShape:s,inactiveShape:a,allOtherPieProps:n}=e,i=St(sc),{onMouseEnter:l,onClick:o,onMouseLeave:d}=n,c=P5(n,Upe),u=w5(l,n.dataKey),m=N5(d),x=S5(o,n.dataKey);return r==null||r.length===0?null:g.createElement(g.Fragment,null,r.map((h,p)=>{if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&r.length!==1)return null;var f=s&&String(p)===i,b=i?a:null,j=f?s:b,w=Hr(Hr({},h),{},{stroke:h.stroke,tabIndex:-1,[eL]:p,[tL]:n.dataKey});return g.createElement(cs,nc({key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(p),tabIndex:-1,className:"recharts-pie-sector"},mx(c,h,p),{onMouseEnter:u(h,p),onMouseLeave:m(h,p),onClick:x(h,p)}),g.createElement(j5,nc({option:j,isActive:f,shapeType:"sector"},w)))}))}function lfe(e){var r,{pieSettings:s,displayedData:a,cells:n,offset:i}=e,{cornerRadius:l,startAngle:o,endAngle:d,dataKey:c,nameKey:u,tooltipType:m}=s,x=Math.abs(s.minAngle),h=efe(o,d),p=Math.abs(h),f=a.length<=1?0:(r=s.paddingAngle)!==null&&r!==void 0?r:0,b=a.filter(S=>jr(S,c,0)!==0).length,j=(p>=360?b:b-1)*f,w=p-b*x-j,y=a.reduce((S,k)=>{var P=jr(k,c,0);return S+(jt(P)?P:0)},0),v;if(y>0){var N;v=a.map((S,k)=>{var P=jr(S,c,0),C=jr(S,u,k),_=Zpe(s,i,S),A=(jt(P)?P:0)/y,D,H=Hr(Hr({},S),n&&n[k]&&n[k].props);k?D=N.endAngle+qs(h)*f*(P!==0?1:0):D=o;var re=D+qs(h)*((P!==0?x:0)+A*w),xe=(D+re)/2,we=(_.innerRadius+_.outerRadius)/2,T=[{name:C,value:P,payload:H,dataKey:c,type:m}],z=As(_.cx,_.cy,we,xe);return N=Hr(Hr(Hr(Hr({},s.presentationProps),{},{percent:A,cornerRadius:typeof l=="string"?parseFloat(l):l,name:C,tooltipPayload:T,midAngle:xe,middleRadius:we,tooltipPosition:z},H),_),{},{value:P,startAngle:D,endAngle:re,payload:H,paddingAngle:qs(h)*f}),N})}return v}function ofe(e){var{showLabels:r,sectors:s,children:a}=e,n=g.useMemo(()=>!r||!s?[]:s.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[s,r]);return g.createElement(Gxe,{value:r?n:void 0},a)}function cfe(e){var{props:r,previousSectorsRef:s}=e,{sectors:a,isAnimationActive:n,animationBegin:i,animationDuration:l,animationEasing:o,activeShape:d,inactiveShape:c,onAnimationStart:u,onAnimationEnd:m}=r,x=Tm(r,"recharts-pie-"),h=s.current,[p,f]=g.useState(!1),b=g.useCallback(()=>{typeof m=="function"&&m(),f(!1)},[m]),j=g.useCallback(()=>{typeof u=="function"&&u(),f(!0)},[u]);return g.createElement(ofe,{showLabels:!p,sectors:a},g.createElement(Am,{animationId:x,begin:i,duration:l,isActive:n,easing:o,onAnimationStart:j,onAnimationEnd:b,key:x},w=>{var y=[],v=a&&a[0],N=v==null?void 0:v.startAngle;return a==null||a.forEach((S,k)=>{var P=h&&h[k],C=k>0?gd(S,"paddingAngle",0):0;if(P){var _=ur(P.endAngle-P.startAngle,S.endAngle-S.startAngle,w),A=Hr(Hr({},S),{},{startAngle:N+C,endAngle:N+_+C});y.push(A),N=A.endAngle}else{var{endAngle:D,startAngle:H}=S,re=ur(0,D-H,w),xe=Hr(Hr({},S),{},{startAngle:N+C,endAngle:N+re+C});y.push(xe),N=xe.endAngle}}),s.current=y,g.createElement(cs,null,g.createElement(ife,{sectors:y,activeShape:d,inactiveShape:c,allOtherPieProps:r}))}),g.createElement(nfe,{showLabels:!p,sectors:a,props:r}),r.children)}var dfe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!lo.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ys.area};function ufe(e){var{id:r}=e,s=P5(e,Hpe),{hide:a,className:n,rootTabIndex:i}=e,l=g.useMemo(()=>b5(e.children,ac),[e.children]),o=St(u=>dpe(u,r,l)),d=g.useRef(null),c=nr("recharts-pie",n);return a||o==null?(d.current=null,g.createElement(cs,{tabIndex:i,className:c})):g.createElement(Ha,{zIndex:e.zIndex},g.createElement(rv,{fn:Xpe,args:Hr(Hr({},e),{},{sectors:o})}),g.createElement(cs,{tabIndex:i,className:c},g.createElement(cfe,{props:Hr(Hr({},s),{},{sectors:o}),previousSectorsRef:d})))}function L0(e){var r=ds(e,dfe),{id:s}=r,a=P5(r,Vpe),n=$a(a);return g.createElement(sv,{id:s,type:"pie"},i=>g.createElement(g.Fragment,null,g.createElement(zpe,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:n,maxRadius:r.maxRadius}),g.createElement(Ype,nc({},a,{id:i})),g.createElement(ufe,nc({},a,{id:i}))))}L0.displayName="Pie";var mfe=["points"];function pT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function q1(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?pT(Object(s),!0).forEach(function(a){hfe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):pT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function hfe(e,r,s){return(r=xfe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function xfe(e){var r=pfe(e,"string");return typeof r=="symbol"?r:r+""}function pfe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ug.apply(null,arguments)}function ffe(e,r){if(e==null)return{};var s,a,n=gfe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function gfe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function yfe(e){var{option:r,dotProps:s,className:a}=e;if(g.isValidElement(r))return g.cloneElement(r,s);if(typeof r=="function")return r(s);var n=nr(a,typeof r!="boolean"?r.className:""),i=s??{},{points:l}=i,o=ffe(i,mfe);return g.createElement(XR,Ug({},o,{className:n}))}function bfe(e,r){return e==null?!1:r?!0:e.length===1}function iB(e){var{points:r,dot:s,className:a,dotClassName:n,dataKey:i,baseProps:l,needClip:o,clipPathId:d,zIndex:c=ys.scatter}=e;if(!bfe(r,s))return null;var u=v5(s),m=zse(s),x=r.map((p,f)=>{var b,j,w=q1(q1(q1({r:3},l),m),{},{index:f,cx:(b=p.x)!==null&&b!==void 0?b:void 0,cy:(j=p.y)!==null&&j!==void 0?j:void 0,dataKey:i,value:p.value,payload:p.payload,points:r});return g.createElement(yfe,{key:"dot-".concat(f),option:s,dotProps:w,className:n})}),h={};return o&&d!=null&&(h.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(d,")")),g.createElement(Ha,{zIndex:c},g.createElement(cs,Ug({className:a},h),x))}function fT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function gT(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?fT(Object(s),!0).forEach(function(a){vfe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function vfe(e,r,s){return(r=jfe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function jfe(e){var r=wfe(e,"string");return typeof r=="symbol"?r:r+""}function wfe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Nfe={xAxis:{},yAxis:{},zAxis:{}},lB=cn({name:"cartesianAxis",initialState:Nfe,reducers:{addXAxis:{reducer(e,r){e.xAxis[r.payload.id]=r.payload},prepare:Ls()},removeXAxis:{reducer(e,r){delete e.xAxis[r.payload.id]},prepare:Ls()},addYAxis:{reducer(e,r){e.yAxis[r.payload.id]=r.payload},prepare:Ls()},removeYAxis:{reducer(e,r){delete e.yAxis[r.payload.id]},prepare:Ls()},addZAxis:{reducer(e,r){e.zAxis[r.payload.id]=r.payload},prepare:Ls()},removeZAxis:{reducer(e,r){delete e.zAxis[r.payload.id]},prepare:Ls()},updateYAxisWidth(e,r){var{id:s,width:a}=r.payload,n=e.yAxis[s];if(n){var i=n.widthHistory||[];if(i.length===3&&i[0]===i[2]&&a===i[1]&&a!==n.width&&Math.abs(a-i[0])<=1)return;var l=[...i,a].slice(-3);e.yAxis[s]=gT(gT({},e.yAxis[s]),{},{width:a,widthHistory:l})}}}}),{addXAxis:Sfe,removeXAxis:kfe,addYAxis:Cfe,removeYAxis:Pfe,addZAxis:HCe,removeZAxis:VCe,updateYAxisWidth:Afe}=lB.actions,Tfe=lB.reducer,Efe=Ee([Rs],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Ife=Ee([Efe,no,io],(e,r,s)=>{if(!(!e||r==null||s==null))return{x:e.left,y:e.top,width:Math.max(0,r-e.left-e.right),height:Math.max(0,s-e.top-e.bottom)}}),av=()=>St(Ife),Ofe=()=>St($he);function yT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function G1(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?yT(Object(s),!0).forEach(function(a){_fe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function _fe(e,r,s){return(r=Mfe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Mfe(e){var r=Dfe(e,"string");return typeof r=="symbol"?r:r+""}function Dfe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Lfe=e=>{var{point:r,childIndex:s,mainColor:a,activeDot:n,dataKey:i}=e;if(n===!1||r.x==null||r.y==null)return null;var l={index:s,dataKey:i,cx:r.x,cy:r.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},o=G1(G1(G1({},l),fd(n)),R4(n)),d;return g.isValidElement(n)?d=g.cloneElement(n,o):typeof n=="function"?d=n(o):d=g.createElement(XR,o),g.createElement(cs,{className:"recharts-active-dot"},d)};function Sw(e){var{points:r,mainColor:s,activeDot:a,itemDataKey:n,zIndex:i=ys.activeDot}=e,l=St(sc),o=Ofe();if(r==null||o==null)return null;var d=r.find(c=>o.includes(c.payload));return Rr(d)?null:g.createElement(Ha,{zIndex:i},g.createElement(Lfe,{point:d,childIndex:Number(l),mainColor:s,dataKey:n,activeDot:a}))}var Ffe="Invariant failed";function Rfe(e,r){throw new Error(Ffe)}var Bfe=["x","y"];function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},kw.apply(null,arguments)}function bT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function mh(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?bT(Object(s),!0).forEach(function(a){$fe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):bT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function $fe(e,r,s){return(r=zfe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function zfe(e){var r=Ufe(e,"string");return typeof r=="symbol"?r:r+""}function Ufe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Hfe(e,r){if(e==null)return{};var s,a,n=Vfe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Vfe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Wfe(e,r){var{x:s,y:a}=e,n=Hfe(e,Bfe),i="".concat(s),l=parseInt(i,10),o="".concat(a),d=parseInt(o,10),c="".concat(r.height||n.height),u=parseInt(c,10),m="".concat(r.width||n.width),x=parseInt(m,10);return mh(mh(mh(mh(mh({},r),n),l?{x:l}:{}),d?{y:d}:{}),{},{height:u,width:x,name:r.name,radius:r.radius})}function Hg(e){return g.createElement(j5,kw({shapeType:"rectangle",propTransformer:Wfe,activeClassName:"recharts-active-bar"},e))}var qfe=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if(jt(r))return r;var i=jt(a)||Rr(a);return i?r(a,n):(i||Rfe(),s)}},Gfe={},oB=cn({name:"errorBars",initialState:Gfe,reducers:{addErrorBar:(e,r)=>{var{itemId:s,errorBar:a}=r.payload;e[s]||(e[s]=[]),e[s].push(a)},replaceErrorBar:(e,r)=>{var{itemId:s,prev:a,next:n}=r.payload;e[s]&&(e[s]=e[s].map(i=>i.dataKey===a.dataKey&&i.direction===a.direction?n:i))},removeErrorBar:(e,r)=>{var{itemId:s,errorBar:a}=r.payload;e[s]&&(e[s]=e[s].filter(n=>n.dataKey!==a.dataKey||n.direction!==a.direction))}}}),{addErrorBar:WCe,replaceErrorBar:qCe,removeErrorBar:GCe}=oB.actions,Kfe=oB.reducer,Yfe=["children"];function Xfe(e,r){if(e==null)return{};var s,a,n=Jfe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Jfe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Qfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Zfe=g.createContext(Qfe);function cB(e){var{children:r}=e,s=Xfe(e,Yfe);return g.createElement(Zfe.Provider,{value:s},r)}function nv(e,r){var s,a,n=St(c=>co(c,e)),i=St(c=>uo(c,r)),l=(s=n==null?void 0:n.allowDataOverflow)!==null&&s!==void 0?s:un.allowDataOverflow,o=(a=i==null?void 0:i.allowDataOverflow)!==null&&a!==void 0?a:mn.allowDataOverflow,d=l||o;return{needClip:d,needClipX:l,needClipY:o}}function A5(e){var{xAxisId:r,yAxisId:s,clipPathId:a}=e,n=av(),{needClipX:i,needClipY:l,needClip:o}=nv(r,s);if(!o||!n)return null;var{x:d,y:c,width:u,height:m}=n;return g.createElement("clipPath",{id:"clipPath-".concat(a)},g.createElement("rect",{x:i?d:d-u/2,y:l?c:c-m/2,width:i?u:u*2,height:l?m:m*2}))}function ege(e,r){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Br(e.zIndex)?e.zIndex:r}var tge=["onMouseEnter","onMouseLeave","onClick"],rge=["value","background","tooltipPosition"],sge=["id"],age=["onMouseEnter","onClick","onMouseLeave"];function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ql.apply(null,arguments)}function vT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ia(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?vT(Object(s),!0).forEach(function(a){nge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):vT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function nge(e,r,s){return(r=ige(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function ige(e){var r=lge(e,"string");return typeof r=="symbol"?r:r+""}function lge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Vg(e,r){if(e==null)return{};var s,a,n=oge(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function oge(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var cge=e=>{var{dataKey:r,name:s,fill:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:r,type:n,color:a,value:xc(s,r),payload:e}]};function dge(e){var{dataKey:r,stroke:s,strokeWidth:a,fill:n,name:i,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:s,strokeWidth:a,fill:n,dataKey:r,nameKey:void 0,name:xc(i,r),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function uge(e){var r=St(sc),{data:s,dataKey:a,background:n,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:d}=i,c=Vg(i,tge),u=w5(l,a),m=N5(o),x=S5(d,a);if(!n||s==null)return null;var h=fd(n);return g.createElement(Ha,{zIndex:ege(n,ys.barBackground)},s.map((p,f)=>{var{value:b,background:j,tooltipPosition:w}=p,y=Vg(p,rge);if(!j)return null;var v=u(p,f),N=m(p,f),S=x(p,f),k=Ia(Ia(Ia(Ia(Ia({option:n,isActive:String(f)===r},y),{},{fill:"#eee"},j),h),mx(c,p,f)),{},{onMouseEnter:v,onMouseLeave:N,onClick:S,dataKey:a,index:f,className:"recharts-bar-background-rectangle"});return g.createElement(Hg,Ql({key:"background-bar-".concat(f)},k))}))}function mge(e){var{showLabels:r,children:s,rects:a}=e,n=a==null?void 0:a.map(i=>{var l={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Ia(Ia({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return g.createElement(x5,{value:r?n:void 0},s)}function hge(e){var{shape:r,activeBar:s,baseProps:a,entry:n,index:i,dataKey:l}=e,o=St(sc),d=St(wR),c=s&&String(i)===o&&(d==null||l===d),u=c?s:r;return c?g.createElement(Ha,{zIndex:ys.activeBar},g.createElement(Hg,Ql({},a,{name:String(a.name)},n,{isActive:c,option:u,index:i,dataKey:l}))):g.createElement(Hg,Ql({},a,{name:String(a.name)},n,{isActive:c,option:u,index:i,dataKey:l}))}function xge(e){var{shape:r,baseProps:s,entry:a,index:n,dataKey:i}=e;return g.createElement(Hg,Ql({},s,{name:String(s.name)},a,{isActive:!1,option:r,index:n,dataKey:i}))}function pge(e){var r,{data:s,props:a}=e,n=(r=$a(a))!==null&&r!==void 0?r:{},{id:i}=n,l=Vg(n,sge),{shape:o,dataKey:d,activeBar:c}=a,{onMouseEnter:u,onClick:m,onMouseLeave:x}=a,h=Vg(a,age),p=w5(u,d),f=N5(x),b=S5(m,d);return s?g.createElement(g.Fragment,null,s.map((j,w)=>g.createElement(cs,Ql({key:"rectangle-".concat(j==null?void 0:j.x,"-").concat(j==null?void 0:j.y,"-").concat(j==null?void 0:j.value,"-").concat(w),className:"recharts-bar-rectangle"},mx(h,j,w),{onMouseEnter:p(j,w),onMouseLeave:f(j,w),onClick:b(j,w)}),c?g.createElement(hge,{shape:o,activeBar:c,baseProps:l,entry:j,index:w,dataKey:d}):g.createElement(xge,{shape:o,baseProps:l,entry:j,index:w,dataKey:d})))):null}function fge(e){var{props:r,previousRectanglesRef:s}=e,{data:a,layout:n,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:d,onAnimationEnd:c,onAnimationStart:u}=r,m=s.current,x=Tm(r,"recharts-bar-"),[h,p]=g.useState(!1),f=!h,b=g.useCallback(()=>{typeof c=="function"&&c(),p(!1)},[c]),j=g.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return g.createElement(mge,{showLabels:f,rects:a},g.createElement(Am,{animationId:x,begin:l,duration:o,isActive:i,easing:d,onAnimationEnd:b,onAnimationStart:j,key:x},w=>{var y=w===1?a:a==null?void 0:a.map((v,N)=>{var S=m&&m[N];if(S)return Ia(Ia({},v),{},{x:ur(S.x,v.x,w),y:ur(S.y,v.y,w),width:ur(S.width,v.width,w),height:ur(S.height,v.height,w)});if(n==="horizontal"){var k=ur(0,v.height,w),P=ur(v.stackedBarStart,v.y,w);return Ia(Ia({},v),{},{y:P,height:k})}var C=ur(0,v.width,w),_=ur(v.stackedBarStart,v.x,w);return Ia(Ia({},v),{},{width:C,x:_})});return w>0&&(s.current=y??null),y==null?null:g.createElement(cs,null,g.createElement(pge,{props:r,data:y}))}),g.createElement(Hb,{label:r.label}),r.children)}function gge(e){var r=g.useRef(null);return g.createElement(fge,{previousRectanglesRef:r,props:e})}var dB=0,yge=(e,r)=>{var s=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:s,errorVal:jr(e,r)}};class bge extends g.PureComponent{render(){var{hide:r,data:s,dataKey:a,className:n,xAxisId:i,yAxisId:l,needClip:o,background:d,id:c}=this.props;if(r||s==null)return null;var u=nr("recharts-bar",n),m=c;return g.createElement(cs,{className:u,id:c},o&&g.createElement("defs",null,g.createElement(A5,{clipPathId:m,xAxisId:i,yAxisId:l})),g.createElement(cs,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(m,")"):void 0},g.createElement(uge,{data:s,dataKey:a,background:d,allOtherBarProps:this.props}),g.createElement(gge,this.props)))}}var vge={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!lo.isSsr,legendType:"rect",minPointSize:dB,xAxisId:0,yAxisId:0,zIndex:ys.bar};function jge(e){var{xAxisId:r,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:d,animationEasing:c,isAnimationActive:u}=e,{needClip:m}=nv(r,s),x=Pm(),h=Xs(),p=b5(e.children,ac),f=St(w=>Yge(w,r,s,h,e.id,p));if(x!=="vertical"&&x!=="horizontal")return null;var b,j=f==null?void 0:f[0];return j==null||j.height==null||j.width==null?b=0:b=x==="vertical"?j.height/2:j.width/2,g.createElement(cB,{xAxisId:r,yAxisId:s,data:f,dataPointFormatter:yge,errorBarOffset:b},g.createElement(bge,Ql({},e,{layout:x,needClip:m,data:f,xAxisId:r,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:d,animationEasing:c,isAnimationActive:u})))}function wge(e){var{layout:r,barSettings:{dataKey:s,minPointSize:a},pos:n,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:d,yAxisTicks:c,stackedData:u,displayedData:m,offset:x,cells:h,parentViewBox:p,dataStartIndex:f}=e,b=r==="horizontal"?o:l,j=u?b.scale.domain():null,w=Vie({numericAxis:b}),y=b.scale(w);return m.map((v,N)=>{var S,k,P,C,_,A;u?S=Bie(u[N+f],j):(S=jr(v,s),Array.isArray(S)||(S=[w,S]));var D=qfe(a,dB)(S[1],N);if(r==="horizontal"){var H,[re,xe]=[o.scale(S[0]),o.scale(S[1])];k=dA({axis:l,ticks:d,bandSize:i,offset:n.offset,entry:v,index:N}),P=(H=xe??re)!==null&&H!==void 0?H:void 0,C=n.size;var we=re-xe;if(_=oi(we)?0:we,A={x:k,y:x.top,width:C,height:x.height},Math.abs(D)>0&&Math.abs(_)<Math.abs(D)){var T=qs(_||D)*(Math.abs(D)-Math.abs(_));P-=T,_+=T}}else{var[z,Q]=[l.scale(S[0]),l.scale(S[1])];if(k=z,P=dA({axis:o,ticks:c,bandSize:i,offset:n.offset,entry:v,index:N}),C=Q-z,_=n.size,A={x:x.left,y:P,width:x.width,height:_},Math.abs(D)>0&&Math.abs(C)<Math.abs(D)){var B=qs(C||D)*(Math.abs(D)-Math.abs(C));C+=B}}if(k==null||P==null||C==null||_==null)return null;var L=Ia(Ia({},v),{},{stackedBarStart:y,x:k,y:P,width:C,height:_,value:u?S:S[1],payload:v,background:A,tooltipPosition:{x:k+C/2,y:P+_/2},parentViewBox:p},h&&h[N]&&h[N].props);return L}).filter(Boolean)}function Nge(e){var r=ds(e,vge),s=Xs();return g.createElement(sv,{id:r.id,type:"bar"},a=>g.createElement(g.Fragment,null,g.createElement(k5,{legendPayload:cge(r)}),g.createElement(rv,{fn:dge,args:r}),g.createElement(C5,{type:"bar",id:a,data:void 0,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,stackId:QD(r.stackId),hide:r.hide,barSize:r.barSize,minPointSize:r.minPointSize,maxBarSize:r.maxBarSize,isPanorama:s}),g.createElement(Ha,{zIndex:r.zIndex},g.createElement(jge,Ql({},r,{id:a})))))}var T5=g.memo(Nge);T5.displayName="Bar";function jT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Tp(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?jT(Object(s),!0).forEach(function(a){Sge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):jT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Sge(e,r,s){return(r=kge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function kge(e){var r=Cge(e,"string");return typeof r=="symbol"?r:r+""}function Cge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Pge=(e,r)=>r,Age=(e,r,s)=>s,Tge=(e,r,s,a)=>a,Ege=(e,r,s,a,n)=>n,Tx=Ee([Sx,Ege],(e,r)=>e.filter(s=>s.type==="bar").find(s=>s.id===r)),Ige=Ee([Tx],e=>e==null?void 0:e.maxBarSize),Oge=(e,r,s,a,n,i)=>i,wT=(e,r,s)=>{var a=s??e;if(!Rr(a))return va(a,r,0)},_ge=Ee([Zt,Sx,Pge,Age,Tge],(e,r,s,a,n)=>r.filter(i=>e==="horizontal"?i.xAxisId===s:i.yAxisId===a).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Mge=(e,r,s,a)=>{var n=Zt(e);return n==="horizontal"?M0(e,"yAxis",s,a):M0(e,"xAxis",r,a)},Dge=(e,r,s)=>{var a=Zt(e);return a==="horizontal"?T8(e,"xAxis",r):T8(e,"yAxis",s)},Lge=(e,r,s)=>{var a={},n=e.filter(_b),i=e.filter(c=>c.stackId==null),l=n.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),a),o=Object.entries(l).map(c=>{var[u,m]=c,x=m.map(p=>p.dataKey),h=wT(r,s,m[0].barSize);return{stackId:u,dataKeys:x,barSize:h}}),d=i.map(c=>{var u=[c.dataKey].filter(x=>x!=null),m=wT(r,s,c.barSize);return{stackId:void 0,dataKeys:u,barSize:m}});return[...o,...d]},Fge=Ee([_ge,Uue,Dge],Lge),Rge=(e,r,s,a,n)=>{var i,l,o=Tx(e,r,s,a,n);if(o!=null){var d=Zt(e),c=wF(e),{maxBarSize:u}=o,m=Rr(u)?c:u,x,h;return d==="horizontal"?(x=ol(e,"xAxis",r,a),h=ll(e,"xAxis",r,a)):(x=ol(e,"yAxis",s,a),h=ll(e,"yAxis",s,a)),(i=(l=rc(x,h,!0))!==null&&l!==void 0?l:m)!==null&&i!==void 0?i:0}},uB=(e,r,s,a)=>{var n=Zt(e),i,l;return n==="horizontal"?(i=ol(e,"xAxis",r,a),l=ll(e,"xAxis",r,a)):(i=ol(e,"yAxis",s,a),l=ll(e,"yAxis",s,a)),rc(i,l)};function Bge(e,r,s,a,n){var i=a.length;if(!(i<1)){var l=va(e,s,0,!0),o,d=[];if(Br(a[0].barSize)){var c=!1,u=s/i,m=a.reduce((j,w)=>j+(w.barSize||0),0);m+=(i-1)*l,m>=s&&(m-=(i-1)*l,l=0),m>=s&&u>0&&(c=!0,u*=.9,m=i*u);var x=(s-m)/2>>0,h={offset:x-l,size:0};o=a.reduce((j,w)=>{var y,v={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:h.offset+h.size+l,size:c?u:(y=w.barSize)!==null&&y!==void 0?y:0}},N=[...j,v];return h=N[N.length-1].position,N},d)}else{var p=va(r,s,0,!0);s-2*p-(i-1)*l<=0&&(l=0);var f=(s-2*p-(i-1)*l)/i;f>1&&(f>>=0);var b=Br(n)?Math.min(f,n):f;o=a.reduce((j,w,y)=>[...j,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p+(f+l)*y+(f-b)/2,size:b}}],d)}return o}}var $ge=(e,r,s,a,n,i,l)=>{var o=Rr(l)?r:l,d=Bge(s,a,n!==i?n:i,e,o);return n!==i&&d!=null&&(d=d.map(c=>Tp(Tp({},c),{},{position:Tp(Tp({},c.position),{},{offset:c.position.offset-n/2})}))),d},zge=Ee([Fge,wF,zue,NF,Rge,uB,Ige],$ge),Uge=(e,r,s,a)=>ol(e,"xAxis",r,a),Hge=(e,r,s,a)=>ol(e,"yAxis",s,a),Vge=(e,r,s,a)=>ll(e,"xAxis",r,a),Wge=(e,r,s,a)=>ll(e,"yAxis",s,a),qge=Ee([zge,Tx],(e,r)=>{if(!(e==null||r==null)){var s=e.find(a=>a.stackId===r.stackId&&r.dataKey!=null&&a.dataKeys.includes(r.dataKey));if(s!=null)return s.position}}),Gge=(e,r)=>{var s=Ob(r);if(!(!e||s==null||r==null)){var{stackId:a}=r;if(a!=null){var n=e[a];if(n){var{stackedData:i}=n;if(i)return i.find(l=>l.key===s)}}}},Kge=Ee([Mge,Tx],Gge),Yge=Ee([Rs,r3,Uge,Hge,Vge,Wge,qge,Zt,vx,uB,Kge,Tx,Oge],(e,r,s,a,n,i,l,o,d,c,u,m,x)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:f}=d;if(!(m==null||l==null||r==null||o!=="horizontal"&&o!=="vertical"||s==null||a==null||n==null||i==null||c==null)){var{data:b}=m,j;if(b!=null&&b.length>0?j=b:j=h==null?void 0:h.slice(p,f+1),j!=null)return wge({layout:o,barSettings:m,pos:l,parentViewBox:r,bandSize:c,xAxis:s,yAxis:a,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:j,offset:e,cells:x,dataStartIndex:p})}}),mB=e=>{var{chartData:r}=e,s=_r(),a=Xs();return g.useEffect(()=>a?()=>{}:(s(z8(r)),()=>{s(z8(void 0))}),[r,s,a]),null},NT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},hB=cn({name:"brush",initialState:NT,reducers:{setBrushSettings(e,r){return r.payload==null?NT:r.payload}}}),{setBrushSettings:KCe}=hB.actions,Xge=hB.reducer;function Jge(e,r,s){return(r=Qge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Qge(e){var r=Zge(e,"string");return typeof r=="symbol"?r:r+""}function Zge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class E5{static create(r){return new E5(r)}constructor(r){this.scale=r}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(r){var{bandAware:s,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(r)+i}default:return this.scale(r)}if(s){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}isInRange(r){var s=this.range(),a=s[0],n=s[s.length-1];return a<=n?r>=a&&r<=n:r>=n&&r<=a}}Jge(E5,"EPS",1e-4);function eye(e){return(e%180+180)%180}var tye=function(r){var{width:s,height:a}=r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=eye(n),l=i*Math.PI/180,o=Math.atan(a/s),d=l>o&&l<Math.PI-o?a/Math.sin(l):s/Math.cos(l);return Math.abs(d)},rye={dots:[],areas:[],lines:[]},xB=cn({name:"referenceElements",initialState:rye,reducers:{addDot:(e,r)=>{e.dots.push(r.payload)},removeDot:(e,r)=>{var s=Ol(e).dots.findIndex(a=>a===r.payload);s!==-1&&e.dots.splice(s,1)},addArea:(e,r)=>{e.areas.push(r.payload)},removeArea:(e,r)=>{var s=Ol(e).areas.findIndex(a=>a===r.payload);s!==-1&&e.areas.splice(s,1)},addLine:(e,r)=>{e.lines.push(r.payload)},removeLine:(e,r)=>{var s=Ol(e).lines.findIndex(a=>a===r.payload);s!==-1&&e.lines.splice(s,1)}}}),{addDot:YCe,removeDot:XCe,addArea:JCe,removeArea:QCe,addLine:ZCe,removeLine:ePe}=xB.actions,sye=xB.reducer,aye=g.createContext(void 0),nye=e=>{var{children:r}=e,[s]=g.useState("".concat(S0("recharts"),"-clip")),a=av();if(a==null)return null;var{x:n,y:i,width:l,height:o}=a;return g.createElement(aye.Provider,{value:s},g.createElement("defs",null,g.createElement("clipPath",{id:s},g.createElement("rect",{x:n,y:i,height:o,width:l}))),r)};function pm(e,r){for(var s in e)if({}.hasOwnProperty.call(e,s)&&(!{}.hasOwnProperty.call(r,s)||e[s]!==r[s]))return!1;for(var a in r)if({}.hasOwnProperty.call(r,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function pB(e,r){if(r<1)return[];if(r===1)return e;for(var s=[],a=0;a<e.length;a+=r)s.push(e[a]);return s}function iye(e,r,s){var a={width:e.width+r.width,height:e.height+r.height};return tye(a,s)}function lye(e,r,s){var a=s==="width",{x:n,y:i,width:l,height:o}=e;return r===1?{start:a?n:i,end:a?n+l:i+o}:{start:a?n+l:i+o,end:a?n:i}}function Wg(e,r,s,a,n){if(e*r<e*a||e*r>e*n)return!1;var i=s();return e*(r-e*i/2-a)>=0&&e*(r+e*i/2-n)<=0}function oye(e,r){return pB(e,r+1)}function cye(e,r,s,a,n){for(var i=(a||[]).slice(),{start:l,end:o}=r,d=0,c=1,u=l,m=function(){var p=a==null?void 0:a[d];if(p===void 0)return{v:pB(a,c)};var f=d,b,j=()=>(b===void 0&&(b=s(p,f)),b),w=p.coordinate,y=d===0||Wg(e,w,j,u,o);y||(d=0,u=l,c+=1),y&&(u=w+e*(j()/2+n),d+=c)},x;c<=i.length;)if(x=m(),x)return x.v;return[]}function ST(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function xa(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?ST(Object(s),!0).forEach(function(a){dye(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ST(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function dye(e,r,s){return(r=uye(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function uye(e){var r=mye(e,"string");return typeof r=="symbol"?r:r+""}function mye(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function hye(e,r,s,a,n){for(var i=(a||[]).slice(),l=i.length,{start:o}=r,{end:d}=r,c=function(x){var h=i[x],p,f=()=>(p===void 0&&(p=s(h,x)),p);if(x===l-1){var b=e*(h.coordinate+e*f()/2-d);i[x]=h=xa(xa({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate})}else i[x]=h=xa(xa({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var j=Wg(e,h.tickCoord,f,o,d);j&&(d=h.tickCoord-e*(f()/2+n),i[x]=xa(xa({},h),{},{isShow:!0}))}},u=l-1;u>=0;u--)c(u);return i}function xye(e,r,s,a,n,i){var l=(a||[]).slice(),o=l.length,{start:d,end:c}=r;if(i){var u=a[o-1],m=s(u,o-1),x=e*(u.coordinate+e*m/2-c);if(l[o-1]=u=xa(xa({},u),{},{tickCoord:x>0?u.coordinate-x*e:u.coordinate}),u.tickCoord!=null){var h=Wg(e,u.tickCoord,()=>m,d,c);h&&(c=u.tickCoord-e*(m/2+n),l[o-1]=xa(xa({},u),{},{isShow:!0}))}}for(var p=i?o-1:o,f=function(w){var y=l[w],v,N=()=>(v===void 0&&(v=s(y,w)),v);if(w===0){var S=e*(y.coordinate-e*N()/2-d);l[w]=y=xa(xa({},y),{},{tickCoord:S<0?y.coordinate-S*e:y.coordinate})}else l[w]=y=xa(xa({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var k=Wg(e,y.tickCoord,N,d,c);k&&(d=y.tickCoord+e*(N()/2+n),l[w]=xa(xa({},y),{},{isShow:!0}))}},b=0;b<p;b++)f(b);return l}function I5(e,r,s){var{tick:a,ticks:n,viewBox:i,minTickGap:l,orientation:o,interval:d,tickFormatter:c,unit:u,angle:m}=e;if(!n||!n.length||!a)return[];if(jt(d)||lo.isSsr){var x;return(x=oye(n,jt(d)?d:0))!==null&&x!==void 0?x:[]}var h=[],p=o==="top"||o==="bottom"?"width":"height",f=u&&p==="width"?Hh(u,{fontSize:r,letterSpacing:s}):{width:0,height:0},b=(y,v)=>{var N=typeof c=="function"?c(y.value,v):y.value;return p==="width"?iye(Hh(N,{fontSize:r,letterSpacing:s}),f,m):Hh(N,{fontSize:r,letterSpacing:s})[p]},j=n.length>=2?qs(n[1].coordinate-n[0].coordinate):1,w=lye(i,j,p);return d==="equidistantPreserveStart"?cye(j,w,b,n,l):(d==="preserveStart"||d==="preserveStartEnd"?h=xye(j,w,b,n,l,d==="preserveStartEnd"):h=hye(j,w,b,n,l),h.filter(y=>y.isShow))}var pye=e=>{var{ticks:r,label:s,labelGapWithTick:a=5,tickSize:n=0,tickMargin:i=0}=e,l=0;if(r){Array.from(r).forEach(u=>{if(u){var m=u.getBoundingClientRect();m.width>l&&(l=m.width)}});var o=s?s.getBoundingClientRect().width:0,d=n+i,c=l+d+o+(s?a:0);return Math.round(c)}return 0},fye=["axisLine","width","height","className","hide","ticks","axisType"],gye=["viewBox"],yye=["viewBox"];function Cw(e,r){if(e==null)return{};var s,a,n=bye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function bye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},wd.apply(null,arguments)}function kT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ks(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?kT(Object(s),!0).forEach(function(a){vye(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):kT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function vye(e,r,s){return(r=jye(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function jye(e){var r=wye(e,"string");return typeof r=="symbol"?r:r+""}function wye(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var O5={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ys.axis};function Nye(e){var{x:r,y:s,width:a,height:n,orientation:i,mirror:l,axisLine:o,otherSvgProps:d}=e;if(!o)return null;var c=ks(ks(ks({},d),$a(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!l||i==="bottom"&&l);c=ks(ks({},c),{},{x1:r,y1:s+u*n,x2:r+a,y2:s+u*n})}else{var m=+(i==="left"&&!l||i==="right"&&l);c=ks(ks({},c),{},{x1:r+m*a,y1:s,x2:r+m*a,y2:s+n})}return g.createElement("line",wd({},c,{className:nr("recharts-cartesian-axis-line",gd(o,"className"))}))}function Sye(e,r,s,a,n,i,l,o,d){var c,u,m,x,h,p,f=o?-1:1,b=e.tickSize||l,j=jt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=u=e.coordinate,x=s+ +!o*n,m=x-f*b,p=m-f*d,h=j;break;case"left":m=x=e.coordinate,u=r+ +!o*a,c=u-f*b,h=c-f*d,p=j;break;case"right":m=x=e.coordinate,u=r+ +o*a,c=u+f*b,h=c+f*d,p=j;break;default:c=u=e.coordinate,x=s+ +o*n,m=x+f*b,p=m+f*d,h=j;break}return{line:{x1:c,y1:m,x2:u,y2:x},tick:{x:h,y:p}}}function kye(e,r){switch(e){case"left":return r?"start":"end";case"right":return r?"end":"start";default:return"middle"}}function Cye(e,r){switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}function Pye(e){var{option:r,tickProps:s,value:a}=e,n,i=nr(s.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(r))n=g.cloneElement(r,ks(ks({},s),{},{className:i}));else if(typeof r=="function")n=r(ks(ks({},s),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof r!="boolean"&&(l=nr(l,r==null?void 0:r.className)),n=g.createElement(Ub,wd({},s,{className:l}),a)}return n}var Aye=g.forwardRef((e,r)=>{var{ticks:s=[],tick:a,tickLine:n,stroke:i,tickFormatter:l,unit:o,padding:d,tickTextProps:c,orientation:u,mirror:m,x,y:h,width:p,height:f,tickSize:b,tickMargin:j,fontSize:w,letterSpacing:y,getTicksConfig:v,events:N,axisType:S}=e,k=I5(ks(ks({},v),{},{ticks:s}),w,y),P=kye(u,m),C=Cye(u,m),_=$a(v),A=fd(a),D={};typeof n=="object"&&(D=n);var H=ks(ks({},_),{},{fill:"none"},D),re=k.map(T=>ks({entry:T},Sye(T,x,h,p,f,u,b,m,j))),xe=re.map(T=>{var{entry:z,line:Q}=T;return g.createElement(cs,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},n&&g.createElement("line",wd({},H,Q,{className:nr("recharts-cartesian-axis-tick-line",gd(n,"className"))})))}),we=re.map((T,z)=>{var{entry:Q,tick:B}=T,L=ks(ks(ks(ks({textAnchor:P,verticalAnchor:C},_),{},{stroke:"none",fill:i},A),B),{},{index:z,payload:Q,visibleTicksCount:k.length,tickFormatter:l,padding:d},c);return g.createElement(cs,wd({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},mx(N,Q,z)),a&&g.createElement(Pye,{option:a,tickProps:L,value:"".concat(typeof l=="function"?l(Q.value,z):Q.value).concat(o||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},we.length>0&&g.createElement(Ha,{zIndex:ys.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:r},we)),xe.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},xe))}),Tye=g.forwardRef((e,r)=>{var{axisLine:s,width:a,height:n,className:i,hide:l,ticks:o,axisType:d}=e,c=Cw(e,fye),[u,m]=g.useState(""),[x,h]=g.useState(""),p=g.useRef(null);g.useImperativeHandle(r,()=>({getCalculatedWidth:()=>{var b;return pye({ticks:p.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var f=g.useCallback(b=>{if(b){var j=b.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=j;var w=j[0];if(w){var y=window.getComputedStyle(w),v=y.fontSize,N=y.letterSpacing;(v!==u||N!==x)&&(m(v),h(N))}}},[u,x]);return l||a!=null&&a<=0||n!=null&&n<=0?null:g.createElement(Ha,{zIndex:e.zIndex},g.createElement(cs,{className:nr("recharts-cartesian-axis",i)},g.createElement(Nye,{x:e.x,y:e.y,width:a,height:n,orientation:e.orientation,mirror:e.mirror,axisLine:s,otherSvgProps:$a(e)}),g.createElement(Aye,{ref:f,axisType:d,events:c,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:x,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(Exe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement($xe,{label:e.label,labelRef:e.labelRef}),e.children)))}),Eye=g.memo(Tye,(e,r)=>{var{viewBox:s}=e,a=Cw(e,gye),{viewBox:n}=r,i=Cw(r,yye);return pm(s,n)&&pm(a,i)}),_5=g.forwardRef((e,r)=>{var s=ds(e,O5);return g.createElement(Eye,wd({},s,{ref:r}))});_5.displayName="CartesianAxis";var Iye=["x1","y1","x2","y2","key"],Oye=["offset"],_ye=["xAxisId","yAxisId"],Mye=["xAxisId","yAxisId"];function CT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function fa(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?CT(Object(s),!0).forEach(function(a){Dye(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):CT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Dye(e,r,s){return(r=Lye(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Lye(e){var r=Fye(e,"string");return typeof r=="symbol"?r:r+""}function Fye(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Hc.apply(null,arguments)}function qg(e,r){if(e==null)return{};var s,a,n=Rye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Rye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Bye=e=>{var{fill:r}=e;if(!r||r==="none")return null;var{fillOpacity:s,x:a,y:n,width:i,height:l,ry:o}=e;return g.createElement("rect",{x:a,y:n,ry:o,width:i,height:l,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function fB(e){var{option:r,lineItemProps:s}=e,a;if(g.isValidElement(r))a=g.cloneElement(r,s);else if(typeof r=="function")a=r(s);else{var n,{x1:i,y1:l,x2:o,y2:d,key:c}=s,u=qg(s,Iye),m=(n=$a(u))!==null&&n!==void 0?n:{},{offset:x}=m,h=qg(m,Oye);a=g.createElement("line",Hc({},h,{x1:i,y1:l,x2:o,y2:d,fill:"none",key:c}))}return a}function $ye(e){var{x:r,width:s,horizontal:a=!0,horizontalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=qg(e,_ye),d=n.map((c,u)=>{var m=fa(fa({},o),{},{x1:r,y1:c,x2:r+s,y2:c,key:"line-".concat(u),index:u});return g.createElement(fB,{key:"line-".concat(u),option:a,lineItemProps:m})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function zye(e){var{y:r,height:s,vertical:a=!0,verticalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=qg(e,Mye),d=n.map((c,u)=>{var m=fa(fa({},o),{},{x1:c,y1:r,x2:c,y2:r+s,key:"line-".concat(u),index:u});return g.createElement(fB,{option:a,lineItemProps:m,key:"line-".concat(u)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Uye(e){var{horizontalFill:r,fillOpacity:s,x:a,y:n,width:i,height:l,horizontalPoints:o,horizontal:d=!0}=e;if(!d||!r||!r.length||o==null)return null;var c=o.map(m=>Math.round(m+n-n)).sort((m,x)=>m-x);n!==c[0]&&c.unshift(0);var u=c.map((m,x)=>{var h=!c[x+1],p=h?n+l-m:c[x+1]-m;if(p<=0)return null;var f=x%r.length;return g.createElement("rect",{key:"react-".concat(x),y:m,x:a,height:p,width:i,stroke:"none",fill:r[f],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function Hye(e){var{vertical:r=!0,verticalFill:s,fillOpacity:a,x:n,y:i,width:l,height:o,verticalPoints:d}=e;if(!r||!s||!s.length)return null;var c=d.map(m=>Math.round(m+n-n)).sort((m,x)=>m-x);n!==c[0]&&c.unshift(0);var u=c.map((m,x)=>{var h=!c[x+1],p=h?n+l-m:c[x+1]-m;if(p<=0)return null;var f=x%s.length;return g.createElement("rect",{key:"react-".concat(x),x:m,y:i,width:p,height:o,stroke:"none",fill:s[f],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var Vye=(e,r)=>{var{xAxis:s,width:a,height:n,offset:i}=e;return XD(I5(fa(fa(fa({},O5),s),{},{ticks:JD(s),viewBox:{x:0,y:0,width:a,height:n}})),i.left,i.left+i.width,r)},Wye=(e,r)=>{var{yAxis:s,width:a,height:n,offset:i}=e;return XD(I5(fa(fa(fa({},O5),s),{},{ticks:JD(s),viewBox:{x:0,y:0,width:a,height:n}})),i.top,i.top+i.height,r)},qye={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ys.grid};function ed(e){var r=a3(),s=n3(),a=cL(),n=fa(fa({},ds(e,qye)),{},{x:jt(e.x)?e.x:a.left,y:jt(e.y)?e.y:a.top,width:jt(e.width)?e.width:a.width,height:jt(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:l,x:o,y:d,width:c,height:u,syncWithTicks:m,horizontalValues:x,verticalValues:h}=n,p=Xs(),f=St(C=>E8(C,"xAxis",i,p)),b=St(C=>E8(C,"yAxis",l,p));if(!nl(c)||!nl(u)||!jt(o)||!jt(d))return null;var j=n.verticalCoordinatesGenerator||Vye,w=n.horizontalCoordinatesGenerator||Wye,{horizontalPoints:y,verticalPoints:v}=n;if((!y||!y.length)&&typeof w=="function"){var N=x&&x.length,S=w({yAxis:b?fa(fa({},b),{},{ticks:N?x:b.ticks}):void 0,width:r??c,height:s??u,offset:a},N?!0:m);vg(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(y=S)}if((!v||!v.length)&&typeof j=="function"){var k=h&&h.length,P=j({xAxis:f?fa(fa({},f),{},{ticks:k?h:f.ticks}):void 0,width:r??c,height:s??u,offset:a},k?!0:m);vg(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(v=P)}return g.createElement(Ha,{zIndex:n.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(Bye,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),g.createElement(Uye,Hc({},n,{horizontalPoints:y})),g.createElement(Hye,Hc({},n,{verticalPoints:v})),g.createElement($ye,Hc({},n,{offset:a,horizontalPoints:y,xAxis:f,yAxis:b})),g.createElement(zye,Hc({},n,{offset:a,verticalPoints:v,xAxis:f,yAxis:b}))))}ed.displayName="CartesianGrid";var gB=(e,r,s,a)=>ol(e,"xAxis",r,a),yB=(e,r,s,a)=>ll(e,"xAxis",r,a),bB=(e,r,s,a)=>ol(e,"yAxis",s,a),vB=(e,r,s,a)=>ll(e,"yAxis",s,a),Gye=Ee([Zt,gB,bB,yB,vB],(e,r,s,a,n)=>ul(e,"xAxis")?rc(r,a,!1):rc(s,n,!1)),Kye=(e,r,s,a,n)=>n;function Yye(e){return e.type==="line"}var Xye=Ee([Sx,Kye],(e,r)=>e.filter(Yye).find(s=>s.id===r)),Jye=Ee([Zt,gB,bB,yB,vB,Xye,Gye,vx],(e,r,s,a,n,i,l,o)=>{var{chartData:d,dataStartIndex:c,dataEndIndex:u}=o;if(!(i==null||r==null||s==null||a==null||n==null||a.length===0||n.length===0||l==null)){var{dataKey:m,data:x}=i,h;if(x!=null&&x.length>0?h=x:h=d==null?void 0:d.slice(c,u+1),h!=null)return gbe({layout:e,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataKey:m,bandSize:l,displayedData:h})}});function jB(e){var r=fd(e),s=3,a=2;if(r!=null){var{r:n,strokeWidth:i}=r,l=Number(n),o=Number(i);return(Number.isNaN(l)||l<0)&&(l=s),(Number.isNaN(o)||o<0)&&(o=a),{r:l,strokeWidth:o}}return{r:s,strokeWidth:a}}var Qye=["id"],Zye=["type","layout","connectNulls","needClip","shape"],ebe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},F0.apply(null,arguments)}function PT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Vi(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?PT(Object(s),!0).forEach(function(a){tbe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):PT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function tbe(e,r,s){return(r=rbe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function rbe(e){var r=sbe(e,"string");return typeof r=="symbol"?r:r+""}function sbe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function M5(e,r){if(e==null)return{};var s,a,n=abe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function abe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var nbe=e=>{var{dataKey:r,name:s,stroke:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:r,type:n,color:a,value:xc(s,r),payload:e}]};function ibe(e){var{dataKey:r,data:s,stroke:a,strokeWidth:n,fill:i,name:l,hide:o,unit:d}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:r,nameKey:void 0,name:xc(l,r),hide:o,type:e.tooltipType,color:e.stroke,unit:d}}}var wB=(e,r)=>"".concat(r,"px ").concat(e-r,"px");function lbe(e,r){for(var s=e.length%2!==0?[...e,0]:e,a=[],n=0;n<r;++n)a=[...a,...s];return a}var obe=(e,r,s)=>{var a=s.reduce((m,x)=>m+x);if(!a)return wB(r,e);for(var n=Math.floor(e/a),i=e%a,l=r-e,o=[],d=0,c=0;d<s.length;c+=s[d],++d)if(c+s[d]>i){o=[...s.slice(0,d),i-c];break}var u=o.length%2===0?[0,l]:[l];return[...lbe(s,n),...o,...u].map(m=>"".concat(m,"px")).join(", ")};function cbe(e){var{clipPathId:r,points:s,props:a}=e,{dot:n,dataKey:i,needClip:l}=a,{id:o}=a,d=M5(a,Qye),c=$a(d);return g.createElement(iB,{points:s,dot:n,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:c,needClip:l,clipPathId:r})}function dbe(e){var{showLabels:r,children:s,points:a}=e,n=g.useMemo(()=>a==null?void 0:a.map(i=>{var l,o,d={x:(l=i.x)!==null&&l!==void 0?l:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Vi(Vi({},d),{},{value:i.value,payload:i.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[a]);return g.createElement(x5,{value:r?n:void 0},s)}function AT(e){var{clipPathId:r,pathRef:s,points:a,strokeDasharray:n,props:i}=e,{type:l,layout:o,connectNulls:d,needClip:c,shape:u}=i,m=M5(i,Zye),x=Vi(Vi({},Sa(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(r,")"):void 0,points:a,type:l,layout:o,connectNulls:d,strokeDasharray:n??i.strokeDasharray});return g.createElement(g.Fragment,null,(a==null?void 0:a.length)>1&&g.createElement(j5,F0({shapeType:"curve",option:u},x,{pathRef:s})),g.createElement(cbe,{points:a,clipPathId:r,props:i}))}function ube(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function mbe(e){var{clipPathId:r,props:s,pathRef:a,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:d,animationBegin:c,animationDuration:u,animationEasing:m,animateNewValues:x,width:h,height:p,onAnimationEnd:f,onAnimationStart:b}=s,j=n.current,w=Tm(s,"recharts-line-"),[y,v]=g.useState(!1),N=!y,S=g.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),k=g.useCallback(()=>{typeof b=="function"&&b(),v(!0)},[b]),P=ube(a.current),C=i.current;return g.createElement(dbe,{points:l,showLabels:N},s.children,g.createElement(Am,{animationId:w,begin:c,duration:u,isActive:d,easing:m,onAnimationEnd:S,onAnimationStart:k,key:w},_=>{var A=ur(C,P+C,_),D=Math.min(A,P),H;if(d)if(o){var re="".concat(o).split(/[,\s]+/gim).map(T=>parseFloat(T));H=obe(D,P,re)}else H=wB(P,D);else H=o==null?void 0:String(o);if(j){var xe=j.length/l.length,we=_===1?l:l.map((T,z)=>{var Q=Math.floor(z*xe);if(j[Q]){var B=j[Q];return Vi(Vi({},T),{},{x:ur(B.x,T.x,_),y:ur(B.y,T.y,_)})}return x?Vi(Vi({},T),{},{x:ur(h*2,T.x,_),y:ur(p/2,T.y,_)}):Vi(Vi({},T),{},{x:T.x,y:T.y})});return n.current=we,g.createElement(AT,{props:s,points:we,clipPathId:r,pathRef:a,strokeDasharray:H})}return _>0&&P>0&&(n.current=l,i.current=D),g.createElement(AT,{props:s,points:l,clipPathId:r,pathRef:a,strokeDasharray:H})}),g.createElement(Hb,{label:s.label}))}function hbe(e){var{clipPathId:r,props:s}=e,a=g.useRef(null),n=g.useRef(0),i=g.useRef(null);return g.createElement(mbe,{props:s,clipPathId:r,previousPointsRef:a,longestAnimatedLengthRef:n,pathRef:i})}var xbe=(e,r)=>{var s,a;return{x:(s=e.x)!==null&&s!==void 0?s:void 0,y:(a=e.y)!==null&&a!==void 0?a:void 0,value:e.value,errorVal:jr(e.payload,r)}};class pbe extends g.Component{render(){var{hide:r,dot:s,points:a,className:n,xAxisId:i,yAxisId:l,top:o,left:d,width:c,height:u,id:m,needClip:x,zIndex:h}=this.props;if(r)return null;var p=nr("recharts-line",n),f=m,{r:b,strokeWidth:j}=jB(s),w=v5(s),y=b*2+j;return g.createElement(Ha,{zIndex:h},g.createElement(cs,{className:p},x&&g.createElement("defs",null,g.createElement(A5,{clipPathId:f,xAxisId:i,yAxisId:l}),!w&&g.createElement("clipPath",{id:"clipPath-dots-".concat(f)},g.createElement("rect",{x:d-y/2,y:o-y/2,width:c+y,height:u+y}))),g.createElement(cB,{xAxisId:i,yAxisId:l,data:a,dataPointFormatter:xbe,errorBarOffset:0},g.createElement(hbe,{props:this.props,clipPathId:f}))),g.createElement(Sw,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var NB={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!lo.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ys.line};function fbe(e){var r=ds(e,NB),{activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:o,dot:d,hide:c,isAnimationActive:u,label:m,legendType:x,xAxisId:h,yAxisId:p,id:f}=r,b=M5(r,ebe),{needClip:j}=nv(h,p),w=av(),y=Pm(),v=Xs(),N=St(_=>Jye(_,h,p,v,f));if(y!=="horizontal"&&y!=="vertical"||N==null||w==null)return null;var{height:S,width:k,x:P,y:C}=w;return g.createElement(pbe,F0({},b,{id:f,connectNulls:o,dot:d,activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:l,isAnimationActive:u,hide:c,label:m,legendType:x,xAxisId:h,yAxisId:p,points:N,layout:y,height:S,width:k,left:P,top:C,needClip:j}))}function gbe(e){var{layout:r,xAxis:s,yAxis:a,xAxisTicks:n,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:d}=e;return d.map((c,u)=>{var m=jr(c,l);if(r==="horizontal"){var x=bg({axis:s,ticks:n,bandSize:o,entry:c,index:u}),h=Rr(m)?null:a.scale(m);return{x,y:h,value:m,payload:c}}var p=Rr(m)?null:s.scale(m),f=bg({axis:a,ticks:i,bandSize:o,entry:c,index:u});return p==null||f==null?null:{x:p,y:f,value:m,payload:c}}).filter(Boolean)}function ybe(e){var r=ds(e,NB),s=Xs();return g.createElement(sv,{id:r.id,type:"line"},a=>g.createElement(g.Fragment,null,g.createElement(k5,{legendPayload:nbe(r)}),g.createElement(rv,{fn:ibe,args:r}),g.createElement(C5,{type:"line",id:a,data:r.data,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,hide:r.hide,isPanorama:s}),g.createElement(fbe,F0({},r,{id:a}))))}var SB=g.memo(ybe);SB.displayName="Line";var kB=(e,r,s,a)=>ol(e,"xAxis",r,a),CB=(e,r,s,a)=>ll(e,"xAxis",r,a),PB=(e,r,s,a)=>ol(e,"yAxis",s,a),AB=(e,r,s,a)=>ll(e,"yAxis",s,a),bbe=Ee([Zt,kB,PB,CB,AB],(e,r,s,a,n)=>ul(e,"xAxis")?rc(r,a,!1):rc(s,n,!1)),vbe=(e,r,s,a,n)=>n,TB=Ee([Sx,vbe],(e,r)=>e.filter(s=>s.type==="area").find(s=>s.id===r)),jbe=(e,r,s,a,n)=>{var i,l=TB(e,r,s,a,n);if(l!=null){var o=Zt(e),d=ul(o,"xAxis"),c;if(d?c=M0(e,"yAxis",s,a):c=M0(e,"xAxis",r,a),c!=null){var{stackId:u}=l,m=Ob(l);if(!(u==null||m==null)){var x=(i=c[u])===null||i===void 0?void 0:i.stackedData;return x==null?void 0:x.find(h=>h.key===m)}}}},wbe=Ee([Zt,kB,PB,CB,AB,jbe,vx,bbe,TB,Hue],(e,r,s,a,n,i,l,o,d,c)=>{var{chartData:u,dataStartIndex:m,dataEndIndex:x}=l;if(!(d==null||e!=="horizontal"&&e!=="vertical"||r==null||s==null||a==null||n==null||a.length===0||n.length===0||o==null)){var{data:h}=d,p;if(h&&h.length>0?p=h:p=u==null?void 0:u.slice(m,x+1),p!=null)return zbe({layout:e,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataStartIndex:m,areaSettings:d,stackedData:i,displayedData:p,chartBaseValue:c,bandSize:o})}}),Nbe=["id"],Sbe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function td(){return td=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},td.apply(null,arguments)}function EB(e,r){if(e==null)return{};var s,a,n=kbe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function kbe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function TT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Nu(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?TT(Object(s),!0).forEach(function(a){Cbe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):TT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Cbe(e,r,s){return(r=Pbe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Pbe(e){var r=Abe(e,"string");return typeof r=="symbol"?r:r+""}function Abe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Gg(e,r){return e&&e!=="none"?e:r}var Tbe=e=>{var{dataKey:r,name:s,stroke:a,fill:n,legendType:i,hide:l}=e;return[{inactive:l,dataKey:r,type:i,color:Gg(a,n),value:xc(s,r),payload:e}]};function Ebe(e){var{dataKey:r,data:s,stroke:a,strokeWidth:n,fill:i,name:l,hide:o,unit:d}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:r,nameKey:void 0,name:xc(l,r),hide:o,type:e.tooltipType,color:Gg(a,i),unit:d}}}function Ibe(e){var{clipPathId:r,points:s,props:a}=e,{needClip:n,dot:i,dataKey:l}=a,o=$a(a);return g.createElement(iB,{points:s,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:o,needClip:n,clipPathId:r})}function Obe(e){var{showLabels:r,children:s,points:a}=e,n=a.map(i=>{var l,o,d={x:(l=i.x)!==null&&l!==void 0?l:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Nu(Nu({},d),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return g.createElement(x5,{value:r?n:void 0},s)}function ET(e){var{points:r,baseLine:s,needClip:a,clipPathId:n,props:i}=e,{layout:l,type:o,stroke:d,connectNulls:c,isRange:u}=i,{id:m}=i,x=EB(i,Nbe),h=$a(x),p=Sa(x);return g.createElement(g.Fragment,null,(r==null?void 0:r.length)>1&&g.createElement(cs,{clipPath:a?"url(#clipPath-".concat(n,")"):void 0},g.createElement(Bu,td({},p,{id:m,points:r,connectNulls:c,type:o,baseLine:s,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&g.createElement(Bu,td({},h,{className:"recharts-area-curve",layout:l,type:o,connectNulls:c,fill:"none",points:r})),d!=="none"&&u&&g.createElement(Bu,td({},h,{className:"recharts-area-curve",layout:l,type:o,connectNulls:c,fill:"none",points:s}))),g.createElement(Ibe,{points:r,props:x,clipPathId:n}))}function _be(e){var{alpha:r,baseLine:s,points:a,strokeWidth:n}=e,i=a[0].y,l=a[a.length-1].y;if(!Br(i)||!Br(l))return null;var o=r*Math.abs(i-l),d=Math.max(...a.map(c=>c.x||0));return jt(s)?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(...s.map(c=>c.x||0),d)),jt(d)?g.createElement("rect",{x:0,y:i<l?i:i-o,width:d+(n?parseInt("".concat(n),10):1),height:Math.floor(o)}):null}function Mbe(e){var{alpha:r,baseLine:s,points:a,strokeWidth:n}=e,i=a[0].x,l=a[a.length-1].x;if(!Br(i)||!Br(l))return null;var o=r*Math.abs(i-l),d=Math.max(...a.map(c=>c.y||0));return jt(s)?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(...s.map(c=>c.y||0),d)),jt(d)?g.createElement("rect",{x:i<l?i:i-o,y:0,width:o,height:Math.floor(d+(n?parseInt("".concat(n),10):1))}):null}function Dbe(e){var{alpha:r,layout:s,points:a,baseLine:n,strokeWidth:i}=e;return s==="vertical"?g.createElement(_be,{alpha:r,points:a,baseLine:n,strokeWidth:i}):g.createElement(Mbe,{alpha:r,points:a,baseLine:n,strokeWidth:i})}function Lbe(e){var{needClip:r,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i}=e,{points:l,baseLine:o,isAnimationActive:d,animationBegin:c,animationDuration:u,animationEasing:m,onAnimationStart:x,onAnimationEnd:h}=a,p=Tm(a,"recharts-area-"),[f,b]=g.useState(!1),j=!f,w=g.useCallback(()=>{typeof h=="function"&&h(),b(!1)},[h]),y=g.useCallback(()=>{typeof x=="function"&&x(),b(!0)},[x]),v=n.current,N=i.current;return g.createElement(Obe,{showLabels:j,points:l},a.children,g.createElement(Am,{animationId:p,begin:c,duration:u,isActive:d,easing:m,onAnimationEnd:w,onAnimationStart:y,key:p},S=>{if(v){var k=v.length/l.length,P=S===1?l:l.map((_,A)=>{var D=Math.floor(A*k);if(v[D]){var H=v[D];return Nu(Nu({},_),{},{x:ur(H.x,_.x,S),y:ur(H.y,_.y,S)})}return _}),C;return jt(o)?C=ur(N,o,S):Rr(o)||oi(o)?C=ur(N,0,S):C=o.map((_,A)=>{var D=Math.floor(A*k);if(Array.isArray(N)&&N[D]){var H=N[D];return Nu(Nu({},_),{},{x:ur(H.x,_.x,S),y:ur(H.y,_.y,S)})}return _}),S>0&&(n.current=P,i.current=C),g.createElement(ET,{points:P,baseLine:C,needClip:r,clipPathId:s,props:a})}return S>0&&(n.current=l,i.current=o),g.createElement(cs,null,d&&g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(s)},g.createElement(Dbe,{alpha:S,points:l,baseLine:o,layout:a.layout,strokeWidth:a.strokeWidth}))),g.createElement(cs,{clipPath:"url(#animationClipPath-".concat(s,")")},g.createElement(ET,{points:l,baseLine:o,needClip:r,clipPathId:s,props:a})))}),g.createElement(Hb,{label:a.label}))}function Fbe(e){var{needClip:r,clipPathId:s,props:a}=e,n=g.useRef(null),i=g.useRef();return g.createElement(Lbe,{needClip:r,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i})}class Rbe extends g.PureComponent{render(){var{hide:r,dot:s,points:a,className:n,top:i,left:l,needClip:o,xAxisId:d,yAxisId:c,width:u,height:m,id:x,baseLine:h,zIndex:p}=this.props;if(r)return null;var f=nr("recharts-area",n),b=x,{r:j,strokeWidth:w}=jB(s),y=v5(s),v=j*2+w;return g.createElement(Ha,{zIndex:p},g.createElement(cs,{className:f},o&&g.createElement("defs",null,g.createElement(A5,{clipPathId:b,xAxisId:d,yAxisId:c}),!y&&g.createElement("clipPath",{id:"clipPath-dots-".concat(b)},g.createElement("rect",{x:l-v/2,y:i-v/2,width:u+v,height:m+v}))),g.createElement(Fbe,{needClip:o,clipPathId:b,props:this.props})),g.createElement(Sw,{points:a,mainColor:Gg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(h)&&g.createElement(Sw,{points:h,mainColor:Gg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var IB={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!lo.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0,zIndex:ys.area};function Bbe(e){var r,s=ds(e,IB),{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:o,dot:d,fill:c,fillOpacity:u,hide:m,isAnimationActive:x,legendType:h,stroke:p,xAxisId:f,yAxisId:b}=s,j=EB(s,Sbe),w=Pm(),y=kR(),{needClip:v}=nv(f,b),N=Xs(),{points:S,isRange:k,baseLine:P}=(r=St(re=>wbe(re,f,b,N,e.id)))!==null&&r!==void 0?r:{},C=av();if(w!=="horizontal"&&w!=="vertical"||C==null||y!=="AreaChart"&&y!=="ComposedChart")return null;var{height:_,width:A,x:D,y:H}=C;return!S||!S.length?null:g.createElement(Rbe,td({},j,{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:l,baseLine:P,connectNulls:o,dot:d,fill:c,fillOpacity:u,height:_,hide:m,layout:w,isAnimationActive:x,isRange:k,legendType:h,needClip:v,points:S,stroke:p,width:A,left:D,top:H,xAxisId:f,yAxisId:b}))}var $be=(e,r,s,a,n)=>{var i=s??r;if(jt(i))return i;var l=e==="horizontal"?n:a,o=l.scale.domain();if(l.type==="number"){var d=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return i==="dataMin"?c:i==="dataMax"||d<0?d:Math.max(Math.min(o[0],o[1]),0)}return i==="dataMin"?o[0]:i==="dataMax"?o[1]:o[0]};function zbe(e){var{areaSettings:{connectNulls:r,baseValue:s,dataKey:a},stackedData:n,layout:i,chartBaseValue:l,xAxis:o,yAxis:d,displayedData:c,dataStartIndex:u,xAxisTicks:m,yAxisTicks:x,bandSize:h}=e,p=n&&n.length,f=$be(i,l,s,o,d),b=i==="horizontal",j=!1,w=c.map((v,N)=>{var S;p?S=n[u+N]:(S=jr(v,a),Array.isArray(S)?j=!0:S=[f,S]);var k=S[1]==null||p&&!r&&jr(v,a)==null;return b?{x:bg({axis:o,ticks:m,bandSize:h,entry:v,index:N}),y:k?null:d.scale(S[1]),value:S,payload:v}:{x:k?null:o.scale(S[1]),y:bg({axis:d,ticks:x,bandSize:h,entry:v,index:N}),value:S,payload:v}}),y;return p||j?y=w.map(v=>{var N=Array.isArray(v.value)?v.value[0]:null;return b?{x:v.x,y:N!=null&&v.y!=null?d.scale(N):null,payload:v.payload}:{x:N!=null?o.scale(N):null,y:v.y,payload:v.payload}}):y=b?d.scale(f):o.scale(f),{points:w,baseLine:y,isRange:j}}function Ube(e){var r=ds(e,IB),s=Xs();return g.createElement(sv,{id:r.id,type:"area"},a=>g.createElement(g.Fragment,null,g.createElement(k5,{legendPayload:Tbe(r)}),g.createElement(rv,{fn:Ebe,args:r}),g.createElement(C5,{type:"area",id:a,data:r.data,dataKey:r.dataKey,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,stackId:QD(r.stackId),hide:r.hide,barSize:void 0,baseValue:r.baseValue,isPanorama:s,connectNulls:r.connectNulls}),g.createElement(Bbe,td({},r,{id:a}))))}var R0=g.memo(Ube);R0.displayName="Area";var Hbe=["dangerouslySetInnerHTML","ticks"],Vbe=["id"],Wbe=["domain"],qbe=["domain"];function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Pw.apply(null,arguments)}function Kg(e,r){if(e==null)return{};var s,a,n=Gbe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Gbe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Kbe(e){var r=_r();return g.useLayoutEffect(()=>(r(Sfe(e)),()=>{r(kfe(e))}),[e,r]),null}var Ybe=e=>{var{xAxisId:r,className:s}=e,a=St(r3),n=Xs(),i="xAxis",l=St(b=>Lm(b,i,r,n)),o=St(b=>tR(b,i,r,n)),d=St(b=>JF(b,r)),c=St(b=>$me(b,r)),u=St(b=>IF(b,r));if(d==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:m,ticks:x}=e,h=Kg(e,Hbe),{id:p}=u,f=Kg(u,Vbe);return g.createElement(_5,Pw({},h,f,{scale:l,x:c.x,y:c.y,width:d.width,height:d.height,className:nr("recharts-".concat(i," ").concat(i),s),viewBox:a,ticks:o,axisType:i}))},Xbe={allowDataOverflow:un.allowDataOverflow,allowDecimals:un.allowDecimals,allowDuplicatedCategory:un.allowDuplicatedCategory,height:un.height,hide:!1,mirror:un.mirror,orientation:un.orientation,padding:un.padding,reversed:un.reversed,scale:un.scale,tickCount:un.tickCount,type:un.type,xAxisId:0},Jbe=e=>{var r,s,a,n,i,l=ds(e,Xbe);return g.createElement(g.Fragment,null,g.createElement(Kbe,{interval:(r=l.interval)!==null&&r!==void 0?r:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(s=l.includeHidden)!==null&&s!==void 0?s:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(a=l.angle)!==null&&a!==void 0?a:0,minTickGap:(n=l.minTickGap)!==null&&n!==void 0?n:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),g.createElement(Ybe,l))},Qbe=(e,r)=>{var{domain:s}=e,a=Kg(e,Wbe),{domain:n}=r,i=Kg(r,qbe);return pm(a,i)?Array.isArray(s)&&s.length===2&&Array.isArray(n)&&n.length===2?s[0]===n[0]&&s[1]===n[1]:pm({domain:s},{domain:n}):!1},rd=g.memo(Jbe,Qbe);rd.displayName="XAxis";var Zbe=["dangerouslySetInnerHTML","ticks"],eve=["id"],tve=["domain"],rve=["domain"];function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Aw.apply(null,arguments)}function Yg(e,r){if(e==null)return{};var s,a,n=sve(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function sve(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function ave(e){var r=_r();return g.useLayoutEffect(()=>(r(Cfe(e)),()=>{r(Pfe(e))}),[e,r]),null}var nve=e=>{var{yAxisId:r,className:s,width:a,label:n}=e,i=g.useRef(null),l=g.useRef(null),o=St(r3),d=Xs(),c=_r(),u="yAxis",m=St(N=>Lm(N,u,r,d)),x=St(N=>QF(N,r)),h=St(N=>Ume(N,r)),p=St(N=>tR(N,u,r,d)),f=St(N=>OF(N,r));if(g.useLayoutEffect(()=>{if(!(a!=="auto"||!x||h5(n)||g.isValidElement(n)||f==null)){var N=i.current;if(N){var S=N.getCalculatedWidth();Math.round(x.width)!==Math.round(S)&&c(Afe({id:r,width:S}))}}},[p,x,c,n,r,a,f]),x==null||h==null||f==null)return null;var{dangerouslySetInnerHTML:b,ticks:j}=e,w=Yg(e,Zbe),{id:y}=f,v=Yg(f,eve);return g.createElement(_5,Aw({},w,v,{ref:i,labelRef:l,scale:m,x:h.x,y:h.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:x.width,height:x.height,className:nr("recharts-".concat(u," ").concat(u),s),viewBox:o,ticks:p,axisType:u}))},ive={allowDataOverflow:mn.allowDataOverflow,allowDecimals:mn.allowDecimals,allowDuplicatedCategory:mn.allowDuplicatedCategory,hide:!1,mirror:mn.mirror,orientation:mn.orientation,padding:mn.padding,reversed:mn.reversed,scale:mn.scale,tickCount:mn.tickCount,type:mn.type,width:mn.width,yAxisId:0},lve=e=>{var r,s,a,n,i,l=ds(e,ive);return g.createElement(g.Fragment,null,g.createElement(ave,{interval:(r=l.interval)!==null&&r!==void 0?r:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(s=l.includeHidden)!==null&&s!==void 0?s:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(a=l.angle)!==null&&a!==void 0?a:0,minTickGap:(n=l.minTickGap)!==null&&n!==void 0?n:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),g.createElement(nve,l))},ove=(e,r)=>{var{domain:s}=e,a=Yg(e,tve),{domain:n}=r,i=Yg(r,rve);return pm(a,i)?Array.isArray(s)&&s.length===2&&Array.isArray(n)&&n.length===2?s[0]===n[0]&&s[1]===n[1]:pm({domain:s},{domain:n}):!1},sd=g.memo(lve,ove);sd.displayName="YAxis";var cve={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ex=g;function dve(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var uve=typeof Object.is=="function"?Object.is:dve,mve=Ex.useSyncExternalStore,hve=Ex.useRef,xve=Ex.useEffect,pve=Ex.useMemo,fve=Ex.useDebugValue;cve.useSyncExternalStoreWithSelector=function(e,r,s,a,n){var i=hve(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=pve(function(){function d(h){if(!c){if(c=!0,u=h,h=a(h),n!==void 0&&l.hasValue){var p=l.value;if(n(p,h))return m=p}return m=h}if(p=m,uve(u,h))return p;var f=a(h);return n!==void 0&&n(p,f)?(u=h,p):(u=h,m=f)}var c=!1,u,m,x=s===void 0?null:s;return[function(){return d(r())},x===null?void 0:function(){return d(x())}]},[r,s,a,n]);var o=mve(e,i[0],i[1]);return xve(function(){l.hasValue=!0,l.value=o},[o]),fve(o),o};function gve(e){e()}function yve(){let e=null,r=null;return{clear(){e=null,r=null},notify(){gve(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){const s=[];let a=e;for(;a;)s.push(a),a=a.next;return s},subscribe(s){let a=!0;const n=r={callback:s,next:null,prev:r};return n.prev?n.prev.next=n:e=n,function(){!a||e===null||(a=!1,n.next?n.next.prev=n.prev:r=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var IT={notify(){},get:()=>[]};function bve(e,r){let s,a=IT,n=0,i=!1;function l(f){u();const b=a.subscribe(f);let j=!1;return()=>{j||(j=!0,b(),m())}}function o(){a.notify()}function d(){p.onStateChange&&p.onStateChange()}function c(){return i}function u(){n++,s||(s=e.subscribe(d),a=yve())}function m(){n--,s&&n===0&&(s(),s=void 0,a.clear(),a=IT)}function x(){i||(i=!0,u())}function h(){i&&(i=!1,m())}const p={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:d,isSubscribed:c,trySubscribe:x,tryUnsubscribe:h,getListeners:()=>a};return p}var vve=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jve=vve(),wve=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Nve=wve(),Sve=()=>jve||Nve?g.useLayoutEffect:g.useEffect,kve=Sve(),K1=Symbol.for("react-redux-context"),Y1=typeof globalThis<"u"?globalThis:{};function Cve(){if(!g.createContext)return{};const e=Y1[K1]??(Y1[K1]=new Map);let r=e.get(g.createContext);return r||(r=g.createContext(null),e.set(g.createContext,r)),r}var Pve=Cve();function Ave(e){const{children:r,context:s,serverState:a,store:n}=e,i=g.useMemo(()=>{const d=bve(n);return{store:n,subscription:d,getServerState:a?()=>a:void 0}},[n,a]),l=g.useMemo(()=>n.getState(),[n]);kve(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==n.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,l]);const o=s||Pve;return g.createElement(o.Provider,{value:i},r)}var Tve=Ave,Eve=(e,r)=>r,D5=Ee([Eve,Zt,TF,$s,yR,mo,Qhe,Rs],n0e),L5=e=>{var r=e.currentTarget.getBoundingClientRect(),s=r.width/e.currentTarget.offsetWidth,a=r.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-r.left)/s),chartY:Math.round((e.clientY-r.top)/a)}},OB=ci("mouseClick"),_B=xx();_B.startListening({actionCreator:OB,effect:(e,r)=>{var s=e.payload,a=D5(r.getState(),L5(s));(a==null?void 0:a.activeIndex)!=null&&r.dispatch(the({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var Tw=ci("mouseMove"),MB=xx();MB.startListening({actionCreator:Tw,effect:(e,r)=>{var s=e.payload,a=r.getState(),n=a5(a,a.tooltip.settings.shared),i=D5(a,L5(s));n==="axis"&&((i==null?void 0:i.activeIndex)!=null?r.dispatch(cR({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):r.dispatch(oR()))}});var OT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},DB=cn({name:"rootProps",initialState:OT,reducers:{updateOptions:(e,r)=>{var s;e.accessibilityLayer=r.payload.accessibilityLayer,e.barCategoryGap=r.payload.barCategoryGap,e.barGap=(s=r.payload.barGap)!==null&&s!==void 0?s:OT.barGap,e.barSize=r.payload.barSize,e.maxBarSize=r.payload.maxBarSize,e.stackOffset=r.payload.stackOffset,e.syncId=r.payload.syncId,e.syncMethod=r.payload.syncMethod,e.className=r.payload.className,e.baseValue=r.payload.baseValue}}}),Ive=DB.reducer,{updateOptions:Ove}=DB.actions,LB=cn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,r)=>r.payload}}),{updatePolarOptions:_ve}=LB.actions,Mve=LB.reducer,FB=ci("keyDown"),RB=ci("focus"),F5=xx();F5.startListening({actionCreator:FB,effect:(e,r)=>{var s=r.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(n5(n,Rm(s))),o=mo(s);if(i==="Enter"){var d=Rg(s,"axis","hover",String(n.index));r.dispatch(yw({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:d}));return}var c=qme(s),u=c==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,x=l+m*u;if(!(o==null||x>=o.length||x<0)){var h=Rg(s,"axis","hover",String(x));r.dispatch(yw({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});F5.startListening({actionCreator:RB,effect:(e,r)=>{var s=r.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip;if(!n.active&&n.index==null){var i="0",l=Rg(s,"axis","hover",String(i));r.dispatch(yw({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var Wn=ci("externalEvent"),BB=xx();BB.startListening({actionCreator:Wn,effect:(e,r)=>{if(e.payload.handler!=null){var s=r.getState(),a={activeCoordinate:Fhe(s),activeDataKey:wR(s),activeIndex:sc(s),activeLabel:jR(s),activeTooltipIndex:sc(s),isTooltipActive:Rhe(s)};e.payload.handler(a,e.payload.reactEvent)}}});var Dve=Ee([Fm],e=>e.tooltipItemPayloads),Lve=Ee([Dve,Px,(e,r,s)=>r,(e,r,s)=>s],(e,r,s,a)=>{var n=e.find(o=>o.settings.dataKey===a);if(n!=null){var{positions:i}=n;if(i!=null){var l=r(i,s);return l}}}),$B=ci("touchMove"),zB=xx();zB.startListening({actionCreator:$B,effect:(e,r)=>{var s=e.payload;if(!(s.touches==null||s.touches.length===0)){var a=r.getState(),n=a5(a,a.tooltip.settings.shared);if(n==="axis"){var i=D5(a,L5({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,currentTarget:s.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&r.dispatch(cR({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var l,o=s.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(o.clientX,o.clientY);if(!d||!d.getAttribute)return;var c=d.getAttribute(eL),u=(l=d.getAttribute(tL))!==null&&l!==void 0?l:void 0,m=Lve(r.getState(),c,u);r.dispatch(lR({activeDataKey:u,activeIndex:c,activeCoordinate:m}))}}}});var Fve=SD({brush:Xge,cartesianAxis:Tfe,chartData:D0e,errorBars:Kfe,graphicalItems:$pe,layout:_ie,legend:kle,options:E0e,polarAxis:spe,polarOptions:Mve,referenceElements:sye,rootProps:Ive,tooltip:rhe,zIndex:b0e}),Rve=function(r){return aie({reducer:Fve,preloadedState:r,middleware:s=>s({serializableCheck:!1}).concat([_B.middleware,MB.middleware,F5.middleware,BB.middleware,zB.middleware]),enhancers:s=>{var a=s;return typeof s=="function"&&(a=s()),a.concat(LD({type:"raf"}))},devTools:lo.devToolsEnabled})};function UB(e){var{preloadedState:r,children:s,reduxStoreName:a}=e,n=Xs(),i=g.useRef(null);if(n)return s;i.current==null&&(i.current=Rve(r));var l=K4;return g.createElement(Tve,{context:l,store:i.current},s)}function HB(e){var{layout:r,margin:s}=e,a=_r(),n=Xs();return g.useEffect(()=>{n||(a(Eie(r)),a(Tie(s)))},[a,n,r,s]),null}function VB(e){var r=_r();return g.useEffect(()=>{r(Ove(e))},[r,e]),null}function _T(e){var{zIndex:r,isPanorama:s}=e,a=s?"recharts-zindex-panorama-":"recharts-zindex-",n=aB("".concat(a).concat(r)),i=_r();return g.useLayoutEffect(()=>(i(g0e({zIndex:r,elementId:n,isPanorama:s})),()=>{i(y0e({zIndex:r,isPanorama:s}))}),[i,r,n,s]),g.createElement("g",{id:n})}function MT(e){var{children:r,isPanorama:s}=e,a=St(l0e);if(!a||a.length===0)return r;var n=a.filter(l=>l<0),i=a.filter(l=>l>0);return g.createElement(g.Fragment,null,n.map(l=>g.createElement(_T,{key:l,zIndex:l,isPanorama:s})),r,i.map(l=>g.createElement(_T,{key:l,zIndex:l,isPanorama:s})))}var Bve=["children"];function $ve(e,r){if(e==null)return{};var s,a,n=zve(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function zve(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Xg.apply(null,arguments)}var Uve={width:"100%",height:"100%",display:"block"},Hve=g.forwardRef((e,r)=>{var s=a3(),a=n3(),n=hL();if(!nl(s)||!nl(a))return null;var{children:i,otherAttributes:l,title:o,desc:d}=e,c,u;return l!=null&&(typeof l.tabIndex=="number"?c=l.tabIndex:c=n?0:void 0,typeof l.role=="string"?u=l.role:u=n?"application":void 0),g.createElement(O4,Xg({},l,{title:o,desc:d,role:u,tabIndex:c,width:s,height:a,style:Uve,ref:r}),i)}),Vve=e=>{var{children:r}=e,s=St(vb);if(!s)return null;var{width:a,height:n,y:i,x:l}=s;return g.createElement(O4,{width:a,height:n,x:l,y:i},r)},DT=g.forwardRef((e,r)=>{var{children:s}=e,a=$ve(e,Bve),n=Xs();return n?g.createElement(Vve,null,g.createElement(MT,{isPanorama:!0},s)):g.createElement(Hve,Xg({ref:r},a),g.createElement(MT,{isPanorama:!1},s))});function Wve(){var e=_r(),[r,s]=g.useState(null),a=St(Xie);return g.useEffect(()=>{if(r!=null){var n=r.getBoundingClientRect(),i=n.width/r.offsetWidth;Br(i)&&i!==a&&e(Oie(i))}},[r,e,a]),s}function LT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function qve(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?LT(Object(s),!0).forEach(function(a){Gve(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):LT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Gve(e,r,s){return(r=Kve(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Kve(e){var r=Yve(e,"string");return typeof r=="symbol"?r:r+""}function Yve(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Nd.apply(null,arguments)}var Xve=()=>(V0e(),null);function Jg(e){if(typeof e=="number")return e;if(typeof e=="string"){var r=parseFloat(e);if(!Number.isNaN(r))return r}return 0}var Jve=g.forwardRef((e,r)=>{var s,a,n=g.useRef(null),[i,l]=g.useState({containerWidth:Jg((s=e.style)===null||s===void 0?void 0:s.width),containerHeight:Jg((a=e.style)===null||a===void 0?void 0:a.height)}),o=g.useCallback((c,u)=>{l(m=>{var x=Math.round(c),h=Math.round(u);return m.containerWidth===x&&m.containerHeight===h?m:{containerWidth:x,containerHeight:h}})},[]),d=g.useCallback(c=>{if(typeof r=="function"&&r(c),c!=null&&typeof ResizeObserver<"u"){var{width:u,height:m}=c.getBoundingClientRect();o(u,m);var x=p=>{var{width:f,height:b}=p[0].contentRect;o(f,b)},h=new ResizeObserver(x);h.observe(c),n.current=h}},[r,o]);return g.useEffect(()=>()=>{var c=n.current;c!=null&&c.disconnect()},[o]),g.createElement(g.Fragment,null,g.createElement(wb,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",Nd({ref:d},e)))}),Qve=g.forwardRef((e,r)=>{var{width:s,height:a}=e,[n,i]=g.useState({containerWidth:Jg(s),containerHeight:Jg(a)}),l=g.useCallback((d,c)=>{i(u=>{var m=Math.round(d),x=Math.round(c);return u.containerWidth===m&&u.containerHeight===x?u:{containerWidth:m,containerHeight:x}})},[]),o=g.useCallback(d=>{if(typeof r=="function"&&r(d),d!=null){var{width:c,height:u}=d.getBoundingClientRect();l(c,u)}},[r,l]);return g.createElement(g.Fragment,null,g.createElement(wb,{width:n.containerWidth,height:n.containerHeight}),g.createElement("div",Nd({ref:o},e)))}),Zve=g.forwardRef((e,r)=>{var{width:s,height:a}=e;return g.createElement(g.Fragment,null,g.createElement(wb,{width:s,height:a}),g.createElement("div",Nd({ref:r},e)))}),e1e=g.forwardRef((e,r)=>{var{width:s,height:a}=e;return ql(s)||ql(a)?g.createElement(Qve,Nd({},e,{ref:r})):g.createElement(Zve,Nd({},e,{ref:r}))});function t1e(e){return e===!0?Jve:e1e}var r1e=g.forwardRef((e,r)=>{var{children:s,className:a,height:n,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:d,onMouseEnter:c,onMouseLeave:u,onMouseMove:m,onMouseUp:x,onTouchEnd:h,onTouchMove:p,onTouchStart:f,style:b,width:j,responsive:w,dispatchTouchEvents:y=!0}=e,v=g.useRef(null),N=_r(),[S,k]=g.useState(null),[P,C]=g.useState(null),_=Wve(),A=s3(),D=(A==null?void 0:A.width)>0?A.width:j,H=(A==null?void 0:A.height)>0?A.height:n,re=g.useCallback(q=>{_(q),typeof r=="function"&&r(q),k(q),C(q),q!=null&&(v.current=q)},[_,r,k,C]),xe=g.useCallback(q=>{N(OB(q)),N(Wn({handler:i,reactEvent:q}))},[N,i]),we=g.useCallback(q=>{N(Tw(q)),N(Wn({handler:c,reactEvent:q}))},[N,c]),T=g.useCallback(q=>{N(oR()),N(Wn({handler:u,reactEvent:q}))},[N,u]),z=g.useCallback(q=>{N(Tw(q)),N(Wn({handler:m,reactEvent:q}))},[N,m]),Q=g.useCallback(()=>{N(RB())},[N]),B=g.useCallback(q=>{N(FB(q.key))},[N]),L=g.useCallback(q=>{N(Wn({handler:l,reactEvent:q}))},[N,l]),R=g.useCallback(q=>{N(Wn({handler:o,reactEvent:q}))},[N,o]),Z=g.useCallback(q=>{N(Wn({handler:d,reactEvent:q}))},[N,d]),W=g.useCallback(q=>{N(Wn({handler:x,reactEvent:q}))},[N,x]),ie=g.useCallback(q=>{N(Wn({handler:f,reactEvent:q}))},[N,f]),ae=g.useCallback(q=>{y&&N($B(q)),N(Wn({handler:p,reactEvent:q}))},[N,y,p]),M=g.useCallback(q=>{N(Wn({handler:h,reactEvent:q}))},[N,h]),U=t1e(w);return g.createElement(IR.Provider,{value:S},g.createElement(S9.Provider,{value:P},g.createElement(U,{width:D??(b==null?void 0:b.width),height:H??(b==null?void 0:b.height),className:nr("recharts-wrapper",a),style:qve({position:"relative",cursor:"default",width:D,height:H},b),onClick:xe,onContextMenu:L,onDoubleClick:R,onFocus:Q,onKeyDown:B,onMouseDown:Z,onMouseEnter:we,onMouseLeave:T,onMouseMove:z,onMouseUp:W,onTouchEnd:M,onTouchMove:ae,onTouchStart:ie,ref:re},g.createElement(Xve,null),s)))}),s1e=["width","height","responsive","children","className","style","compact","title","desc"];function a1e(e,r){if(e==null)return{};var s,a,n=n1e(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function n1e(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var WB=g.forwardRef((e,r)=>{var{width:s,height:a,responsive:n,children:i,className:l,style:o,compact:d,title:c,desc:u}=e,m=a1e(e,s1e),x=$a(m);return d?g.createElement(g.Fragment,null,g.createElement(wb,{width:s,height:a}),g.createElement(DT,{otherAttributes:x,title:c,desc:u},i)):g.createElement(r1e,{className:l,style:o,width:s,height:a,responsive:n??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(DT,{otherAttributes:x,title:c,desc:u,ref:r},g.createElement(nye,null,i)))});function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ew.apply(null,arguments)}var i1e={top:5,right:5,bottom:5,left:5},l1e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:i1e,reverseStackOrder:!1,syncMethod:"index",responsive:!1},R5=g.forwardRef(function(r,s){var a,n=ds(r.categoricalChartProps,l1e),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:d,categoricalChartProps:c}=r,u={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:d,eventEmitter:void 0};return g.createElement(UB,{preloadedState:{options:u},reduxStoreName:(a=c.id)!==null&&a!==void 0?a:i},g.createElement(mB,{chartData:c.data}),g.createElement(HB,{layout:n.layout,margin:n.margin}),g.createElement(VB,{baseValue:n.baseValue,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),g.createElement(WB,Ew({},n,{ref:s})))}),o1e=["axis"],c1e=g.forwardRef((e,r)=>g.createElement(R5,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:o1e,tooltipPayloadSearcher:zb,categoricalChartProps:e,ref:r})),d1e=["axis","item"],qB=g.forwardRef((e,r)=>g.createElement(R5,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:d1e,tooltipPayloadSearcher:zb,categoricalChartProps:e,ref:r}));function u1e(e){var r=_r();return g.useEffect(()=>{r(_ve(e))},[r,e]),null}var m1e=["layout"];function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Iw.apply(null,arguments)}function h1e(e,r){if(e==null)return{};var s,a,n=x1e(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function x1e(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var p1e={top:5,right:5,bottom:5,left:5},f1e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:p1e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},g1e=g.forwardRef(function(r,s){var a,n=ds(r.categoricalChartProps,f1e),{layout:i}=n,l=h1e(n,m1e),{chartName:o,defaultTooltipEventType:d,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=r,m={chartName:o,defaultTooltipEventType:d,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return g.createElement(UB,{preloadedState:{options:m},reduxStoreName:(a=n.id)!==null&&a!==void 0?a:o},g.createElement(mB,{chartData:n.data}),g.createElement(HB,{layout:i,margin:n.margin}),g.createElement(VB,{baseValue:void 0,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),g.createElement(u1e,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),g.createElement(WB,Iw({},l,{ref:s})))}),y1e=["item"],b1e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Qg=g.forwardRef((e,r)=>{var s=ds(e,b1e);return g.createElement(g1e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:y1e,tooltipPayloadSearcher:zb,categoricalChartProps:s,ref:r})}),v1e=["axis"],B5=g.forwardRef((e,r)=>g.createElement(R5,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:v1e,tooltipPayloadSearcher:zb,categoricalChartProps:e,ref:r}));const j1e=[{title:"Review pending KYC",to:"/admin/partners",icon:kn,color:"from-amber-500 to-orange-500",bgColor:"bg-amber-50",iconColor:"text-amber-600",description:"Verify partner documents"},{title:"Monitor live bookings",to:"/admin/customer-bookings",icon:Jr,color:"from-blue-500 to-cyan-500",bgColor:"bg-blue-50",iconColor:"text-blue-600",description:"Track active orders"},{title:"Update spare inventory",to:"/admin/spares",icon:Gr,color:"from-purple-500 to-pink-500",bgColor:"bg-purple-50",iconColor:"text-purple-600",description:"Manage stock levels"},{title:"Check AMC renewals",to:"/admin/amc",icon:Dt,color:"from-emerald-500 to-teal-500",bgColor:"bg-emerald-50",iconColor:"text-emerald-600",description:"Review contracts"},{title:"Optimize lead allocation",to:"/admin/leads",icon:cr,color:"from-indigo-500 to-blue-500",bgColor:"bg-indigo-50",iconColor:"text-indigo-600",description:"Assign leads efficiently"},{title:"Send broadcast notification",to:"/admin/notifications",icon:En,color:"from-rose-500 to-pink-500",bgColor:"bg-rose-50",iconColor:"text-rose-600",description:"Notify all users"}],Ep=({icon:e,title:r,description:s,iconColor:a="text-slate-400",bgColor:n="bg-slate-50"})=>t.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] py-8",children:[t.jsxs("div",{className:`w-20 h-20 ${n} rounded-full flex items-center justify-center mb-4 relative`,children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-100 to-slate-200 rounded-full opacity-50"}),t.jsx(e,{className:`${a} text-3xl relative z-10`})]}),t.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:r}),t.jsx("p",{className:"text-sm text-slate-500 text-center max-w-xs",children:s})]}),w1e=()=>{var k,P,C,_,A,D,H,re,xe,we,T,z,Q,B,L,R,Z,W,ie,ae,M,U,q,G;const{data:e,isLoading:r,error:s}=lr(Y=>qe.fetchDashboard(Y),[]),{data:a,isLoading:n,error:i}=lr(Y=>qe.fetchDashboardCounts(Y),[]),{data:l}=lr(Y=>qe.fetchPartnerRevenueStats(Y),[]),[o,d]=g.useState({monthlyBookings:[],monthlyRevenue:[],bookingStatusDistribution:[],partnerStatusDistribution:[],kycStatusDistribution:[]}),c=((k=a==null?void 0:a.data)==null?void 0:k.counts)||(a==null?void 0:a.counts)||{},u=((P=a==null?void 0:a.data)==null?void 0:P.bookingStats)||(a==null?void 0:a.bookingStats)||((A=(_=(C=a==null?void 0:a.data)==null?void 0:C.charts)==null?void 0:_.bookingStats)==null?void 0:A[0])||{},m=((H=(D=a==null?void 0:a.data)==null?void 0:D.charts)==null?void 0:H.monthlyBookings)||((re=a==null?void 0:a.data)==null?void 0:re.monthlyBookingData)||[],x=((we=(xe=a==null?void 0:a.data)==null?void 0:xe.charts)==null?void 0:we.monthlyRevenue)||((T=a==null?void 0:a.data)==null?void 0:T.monthlyRevenueData)||[],h=(e==null?void 0:e.partnerStats)||((z=e==null?void 0:e.data)==null?void 0:z.partnerStats)||{},p=(e==null?void 0:e.kycStats)||((Q=e==null?void 0:e.data)==null?void 0:Q.kycStats)||{};e!=null&&e.registrationStats||(B=e==null?void 0:e.data)!=null&&B.registrationStats,g.useEffect(()=>{var Y,oe;if(!(n||r))try{const Be=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fe={},ne=new Date;for(let ge=5;ge>=0;ge--){const Ne=new Date(ne.getFullYear(),ne.getMonth()-ge,1),Ie=`${Ne.getFullYear()}-${Ne.getMonth()+1}`;fe[Ie]={month:Be[Ne.getMonth()],bookings:0}}Array.isArray(m)&&m.length>0&&m.forEach(ge=>{if(ge&&ge._id&&ge._id.year&&ge._id.month){const Ne=`${ge._id.year}-${ge._id.month}`;fe[Ne]&&(fe[Ne].bookings=ge.count||ge.bookings||0)}else if(ge&&ge.month){const Ne=Object.keys(fe).find(Ie=>fe[Ie].month===ge.month);Ne&&(fe[Ne].bookings=ge.bookings||ge.count||0)}});const ce={};for(let ge=5;ge>=0;ge--){const Ne=new Date(ne.getFullYear(),ne.getMonth()-ge,1),Ie=`${Ne.getFullYear()}-${Ne.getMonth()+1}`;ce[Ie]={month:Be[Ne.getMonth()],revenue:0}}Array.isArray(x)&&x.length>0&&x.forEach(ge=>{if(ge&&ge._id&&ge._id.year&&ge._id.month){const Ne=`${ge._id.year}-${ge._id.month}`;ce[Ne]&&(ce[Ne].revenue=ge.revenue||ge.totalRevenue||0)}else if(ge&&ge.month){const Ne=Object.keys(ce).find(Ie=>ce[Ie].month===ge.month);Ne&&(ce[Ne].revenue=ge.revenue||ge.totalRevenue||0)}});const pe=[];if(u&&typeof u=="object"){const ge={completed:"#10b981",pending:"#f59e0b",accepted:"#3b82f6",in_progress:"#8b5cf6",inProgress:"#8b5cf6",cancelled:"#ef4444",canceled:"#ef4444",rejected:"#dc2626",assigned:"#6366f1",started:"#ec4899"};Array.isArray(u)?u.forEach(Ne=>{Ne&&typeof Ne=="object"&&Object.entries(Ne).forEach(([Ie,Je])=>{typeof Je=="number"&&Je>0&&Ie!=="total"&&pe.push({name:Ie.charAt(0).toUpperCase()+Ie.slice(1).replace(/([A-Z])/g," $1").trim(),value:Je,color:ge[Ie]||ge[Ie.toLowerCase()]||"#6b7280"})})}):Object.entries(u).forEach(([Ne,Ie])=>{if(typeof Ie=="number"&&Ie>0&&Ne!=="total"&&Ne!=="bookings"){const Je=Ne.charAt(0).toUpperCase()+Ne.slice(1).replace(/([A-Z])/g," $1").trim();pe.push({name:Je,value:Ie,color:ge[Ne]||ge[Ne.toLowerCase()]||"#6b7280"})}})}const F=[],ue=(h==null?void 0:h.byStatus)||((Y=h==null?void 0:h.data)==null?void 0:Y.byStatus)||{};if(ue&&typeof ue=="object"&&Object.keys(ue).length>0){const ge={active:"#10b981",pending:"#f59e0b",inactive:"#6b7280",suspended:"#ef4444",verified:"#10b981",unverified:"#f59e0b",null:"#3b82f6",undefined:"#3b82f6"},Ne={active:"Active",pending:"Pending",inactive:"Inactive",suspended:"Suspended",verified:"Verified",unverified:"Unverified",null:"Active",undefined:"Active"};Object.entries(ue).forEach(([Ie,Je])=>{if(Je&&Je>0&&Ie!=="total"){const dt=Ie===null||Ie==="null"||Ie==="undefined"||Ie===void 0?"active":Ie.toLowerCase(),Ae=Ne[dt]||Ne[Ie]||(Ie===null||Ie==="null"||Ie===void 0?"Active":Ie.charAt(0).toUpperCase()+Ie.slice(1));F.push({name:Ae,value:Je,color:ge[dt]||ge[Ie]||ge[Ie==null?void 0:Ie.toLowerCase()]||"#3b82f6"})}})}const J=[],be=(p==null?void 0:p.byStatus)||((oe=p==null?void 0:p.data)==null?void 0:oe.byStatus)||{};if(be&&typeof be=="object"&&Object.keys(be).length>0){const ge={Verified:"#10b981",verified:"#10b981",Pending:"#f59e0b",pending:"#f59e0b",Rejected:"#ef4444",rejected:"#ef4444","Not Submitted":"#6b7280","not submitted":"#6b7280","Not submitted":"#6b7280",null:"#6b7280","":"#6b7280"};Object.entries(be).forEach(([Ne,Ie])=>{if(Ie&&Ie>0&&Ne!=="total"){const Je=Ne===null||Ne==="null"||Ne===""?"Not Submitted":Ne.charAt(0).toUpperCase()+Ne.slice(1);J.push({name:Je,value:Ie,color:ge[Ne]||ge[Ne==null?void 0:Ne.toLowerCase()]||"#6b7280"})}})}if(J.length===0&&(p!=null&&p.verificationStats)){const ge=p.verificationStats;(ge.verified>0||ge.pending>0)&&(ge.verified>0&&J.push({name:"Verified",value:ge.verified,color:"#10b981"}),ge.pending>0&&J.push({name:"Pending",value:ge.pending,color:"#f59e0b"}))}d({monthlyBookings:Object.values(fe),monthlyRevenue:Object.values(ce),bookingStatusDistribution:pe,partnerStatusDistribution:F,kycStatusDistribution:J})}catch(Be){console.error("Error processing chart data:",Be),d({monthlyBookings:[],monthlyRevenue:[],bookingStatusDistribution:[],partnerStatusDistribution:[],kycStatusDistribution:[]})}},[a,n,r,e,u,h,p,m,x]);const f=()=>{if(!(h!=null&&h.byStatus))return null;const Y=h.byStatus,oe=Object.entries(Y).filter(([fe])=>!(fe==="total"||fe===null||fe===void 0||fe==="null"||fe==="undefined")).map(([fe,ne])=>({key:fe,value:ne})).filter(fe=>fe.value>0),Be=Y[null]||Y.null||Y[void 0]||Y.undefined||0;return oe.length===0&&Be>0?`${Be} active`:oe.length>0?oe.slice(0,2).map(({key:ne,value:ce})=>{const pe=ne==="active"||ne==="Active"?"active":ne==="pending"||ne==="Pending"?"pending":ne==="inactive"||ne==="Inactive"?"inactive":ne==="suspended"||ne==="Suspended"?"suspended":ne.toLowerCase();return`${ce} ${pe}`}).join(", "):Be>0?`${Be} active`:null},b=()=>{const Y=(c==null?void 0:c.bookings)??(u==null?void 0:u.total)??0,oe=(u==null?void 0:u.completed)??0;if(Y>0&&oe>0){const Be=Math.round(oe/Y*100);return`${oe} completed (${Be}%)`}return u!=null&&u.completed?`${u.completed} completed`:null},j=(l==null?void 0:l.stats)||{},w=[{label:"Total Bookings",value:(c==null?void 0:c.bookings)??(u==null?void 0:u.total)??0,trend:b(),description:"Across all categories and cities",icon:Jr,color:"bg-blue-500",gradient:"from-blue-500 to-blue-600"},{label:"Total Partners",value:(c==null?void 0:c.partners)??(h==null?void 0:h.total)??0,trend:f(),description:"Active and pending partners",icon:Nr,color:"bg-indigo-500",gradient:"from-indigo-500 to-indigo-600"},{label:"Total Revenue",value:`${((j.totalRevenue||0)/1e3).toFixed(0)}K`,trend:`Reg: ${((j.totalRegistrationFees||0)/1e3).toFixed(0)}K | MG: ${((j.totalMGPlanRevenue||0)/1e3).toFixed(0)}K`,description:"Revenue from approved partners",icon:Yt,color:"bg-emerald-500",gradient:"from-emerald-500 to-emerald-600",intent:"positive"},{label:"Registration Fees",value:`${((j.totalRegistrationFees||0)/1e3).toFixed(0)}K`,trend:`SD: ${((j.totalSecurityDeposit||0)/1e3).toFixed(0)}K | TK: ${((j.totalToolkitFees||0)/1e3).toFixed(0)}K`,description:"Revenue from approved partners only",icon:vt,color:"bg-purple-500",gradient:"from-purple-500 to-purple-600",intent:"positive"},{label:"MG Plan Revenue",value:`${((j.totalMGPlanRevenue||0)/1e3).toFixed(0)}K`,trend:j.totalMGPlanRevenue>0?"From subscriptions":"No subscriptions yet",description:"Minimum guarantee plans",icon:cr,color:"bg-indigo-500",gradient:"from-indigo-500 to-indigo-600",intent:"positive"},{label:"Total Users",value:(c==null?void 0:c.users)??0,trend:null,description:"Registered customers",icon:Or,color:"bg-cyan-500",gradient:"from-cyan-500 to-cyan-600"},{label:"KYC Pending",value:((L=p==null?void 0:p.verificationStats)==null?void 0:L.pending)??((R=p==null?void 0:p.byStatus)==null?void 0:R.Pending)??((Z=p==null?void 0:p.byStatus)==null?void 0:Z.pending)??0,trend:(W=p==null?void 0:p.verificationStats)!=null&&W.verified?`${p.verificationStats.verified} verified`:null,description:"Awaiting verification",intent:(((ie=p==null?void 0:p.verificationStats)==null?void 0:ie.pending)??((ae=p==null?void 0:p.byStatus)==null?void 0:ae.Pending)??((M=p==null?void 0:p.byStatus)==null?void 0:M.pending)??0)>10?"warning":"positive",icon:kn,color:"bg-amber-500",gradient:"from-amber-500 to-amber-600"}],y=((U=p==null?void 0:p.verificationStats)==null?void 0:U.pending)??((q=p==null?void 0:p.byStatus)==null?void 0:q.Pending)??((G=p==null?void 0:p.byStatus)==null?void 0:G.pending)??0,v=(u==null?void 0:u.pending)??0,N=[{name:"Partner Control",status:y>10?"Needs attention":"On track",icon:y>10?Tj:vt,description:y>10?`${y} KYC verifications pending.`:"All partner wallet reconciliations and KYCs are on schedule.",tone:y>10?"warning":"success"},{name:"Customer Bookings",status:v>0?`${v} pending`:"Within SLA",icon:v>5?Tj:vt,description:v>5?`${v} bookings pending assignment.`:"All in-progress bookings are meeting SLA thresholds.",tone:v>5?"warning":"success"},{name:"Service Management",status:c!=null&&c.subServices?`${c.subServices} services`:"Active",icon:qr,description:c!=null&&c.subServices?`${c.subServices} sub-services available across all categories.`:"Service catalog is active.",tone:"success"}],S=()=>{var Y;return r||n?t.jsx("div",{className:"flex justify-center items-center py-24",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Syncing live metrics..."})]})}):s||i?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Unable to fetch dashboard analytics. ",s||i]}):t.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[t.jsx("div",{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-transparent rounded-2xl p-6 sm:p-8 border border-primary/20",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-2",children:"Welcome Back! "}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("div",{className:"px-4 py-2 bg-white rounded-lg shadow-sm border border-slate-200",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Total Revenue"}),t.jsxs("p",{className:"text-lg font-bold text-slate-800",children:["",((((Y=l==null?void 0:l.stats)==null?void 0:Y.totalRevenue)||(u==null?void 0:u.totalRevenue)||(c==null?void 0:c.totalRevenue)||0)/1e5).toFixed(1),"L"]}),(l==null?void 0:l.stats)&&t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Reg: ",((l.stats.totalRegistrationFees||0)/1e3).toFixed(0),"K | MG: ",((l.stats.totalMGPlanRevenue||0)/1e3).toFixed(0),"K"]})]})})]})}),t.jsx("div",{className:"grid gap-4 sm:gap-5 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:w.map(oe=>t.jsx(ti,{...oe},oe.label))}),t.jsxs("div",{className:"grid gap-6 sm:gap-8 lg:grid-cols-2",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-blue-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(Jr,{className:"text-blue-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Monthly Bookings Trend"})]}),o.monthlyBookings.length>0&&o.monthlyBookings.some(oe=>oe.bookings>0)?t.jsx(Ki,{width:"100%",height:250,children:t.jsxs(qB,{data:o.monthlyBookings,children:[t.jsx(ed,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),t.jsx(rd,{dataKey:"month",stroke:"#64748b"}),t.jsx(sd,{stroke:"#64748b"}),t.jsx(Xi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),t.jsx(Ru,{}),t.jsx(T5,{dataKey:"bookings",fill:"#3b82f6",name:"Bookings",radius:[8,8,0,0]})]})}):t.jsx(Ep,{icon:y0,title:"No Booking Data",description:"Booking data will appear here once customers start making bookings.",iconColor:"text-blue-400",bgColor:"bg-blue-50"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-emerald-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:t.jsx(Yt,{className:"text-emerald-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Monthly Revenue Trend"})]}),o.monthlyRevenue.length>0&&o.monthlyRevenue.some(oe=>oe.revenue>0)?t.jsx(Ki,{width:"100%",height:250,children:t.jsxs(B5,{data:o.monthlyRevenue,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),t.jsx(ed,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),t.jsx(rd,{dataKey:"month",stroke:"#64748b"}),t.jsx(sd,{stroke:"#64748b"}),t.jsx(Xi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:oe=>`${(oe/1e3).toFixed(1)}K`}),t.jsx(Ru,{}),t.jsx(R0,{type:"monotone",dataKey:"revenue",stroke:"#10b981",fillOpacity:1,fill:"url(#colorRevenue)",name:"Revenue"})]})}):t.jsx(Ep,{icon:cr,title:"No Revenue Data",description:"Revenue trends will be displayed here once transactions are recorded.",iconColor:"text-emerald-400",bgColor:"bg-emerald-50"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-purple-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx(cr,{className:"text-purple-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Booking Status Distribution"})]}),o.bookingStatusDistribution.length>0?t.jsx(Ki,{width:"100%",height:250,children:t.jsxs(Qg,{children:[t.jsx(L0,{data:o.bookingStatusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:oe,percent:Be})=>`${oe} ${(Be*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.bookingStatusDistribution.map((oe,Be)=>t.jsx(ac,{fill:oe.color},`cell-${Be}`))}),t.jsx(Xi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})}):t.jsx(Ep,{icon:p4,title:"No Booking Status Data",description:"Booking status breakdown will appear here once bookings are created.",iconColor:"text-purple-400",bgColor:"bg-purple-50"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-indigo-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:t.jsx(Nr,{className:"text-indigo-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Partner Status Distribution"})]}),o.partnerStatusDistribution.length>0?t.jsx(Ki,{width:"100%",height:250,children:t.jsxs(Qg,{children:[t.jsx(L0,{data:o.partnerStatusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:oe,percent:Be})=>`${oe} ${(Be*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.partnerStatusDistribution.map((oe,Be)=>t.jsx(ac,{fill:oe.color},`cell-${Be}`))}),t.jsx(Xi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})}):t.jsx(Ep,{icon:Nr,title:"No Partner Data",description:"Partner status distribution will be shown here once partners are registered.",iconColor:"text-indigo-400",bgColor:"bg-indigo-50"})]})]})]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 sm:gap-8",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Module Health"}),t.jsx("div",{className:"space-y-4",children:N.map(oe=>{const Be=oe.icon,fe=oe.tone==="warning"?"text-amber-500":oe.tone==="info"?"text-primary":"text-emerald-500";return t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl px-5 py-4 shadow-sm hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${fe} bg-slate-100`,children:t.jsx(Be,{})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-900",children:oe.name}),t.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${fe}`,children:oe.status})]})]}),t.jsx("p",{className:"text-sm text-slate-500 mt-3 leading-relaxed",children:oe.description})]},oe.name)})})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 sm:p-6 hover:shadow-lg transition-all duration-300 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/5 to-primary/10 rounded-full -mr-16 -mt-16"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-primary to-primary-dark rounded-lg",children:t.jsx(hs,{className:"text-white text-lg"})}),t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Quick Actions"})]}),t.jsx("div",{className:"grid gap-3",children:j1e.map(oe=>{const Be=oe.icon;return t.jsxs(Ht,{to:oe.to,className:"group flex items-center gap-4 px-4 py-4 rounded-xl border border-slate-200 hover:border-transparent hover:shadow-lg transition-all duration-300 relative overflow-hidden bg-white hover:bg-gradient-to-r hover:from-white hover:to-slate-50",children:[t.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${oe.color} flex items-center justify-center flex-shrink-0 shadow-sm group-hover:scale-110 group-hover:shadow-md transition-all duration-300`,children:t.jsx(Be,{className:"text-white text-lg"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-900 group-hover:text-primary transition-colors",children:oe.title}),oe.description&&t.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:oe.description})]}),t.jsx("div",{className:"flex-shrink-0",children:t.jsx(hs,{className:"text-slate-400 group-hover:text-primary group-hover:translate-x-1 transition-all duration-300 text-lg"})}),t.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${oe.color} opacity-0 group-hover:opacity-5 transition-opacity duration-300 rounded-xl`})]},oe.title)})})]})]})]})]})};return t.jsxs("div",{children:[t.jsx(vs,{title:"Operations Overview",subtitle:"Real-time health snapshot across partners, bookings, workflows, and financial controls."}),S()]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Zg={};Zg.version="0.18.5";var GB=1252,N1e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],KB=function(e){N1e.indexOf(e)!=-1&&(GB=e)};function S1e(){KB(1252)}var B0=function(e){KB(e)};function k1e(){B0(1200),S1e()}var Ip=function(r){return String.fromCharCode(r)},FT=function(r){return String.fromCharCode(r)},ey,Do="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function $0(e){for(var r="",s=0,a=0,n=0,i=0,l=0,o=0,d=0,c=0;c<e.length;)s=e.charCodeAt(c++),i=s>>2,a=e.charCodeAt(c++),l=(s&3)<<4|a>>4,n=e.charCodeAt(c++),o=(a&15)<<2|n>>6,d=n&63,isNaN(a)?o=d=64:isNaN(n)&&(d=64),r+=Do.charAt(i)+Do.charAt(l)+Do.charAt(o)+Do.charAt(d);return r}function Zl(e){var r="",s=0,a=0,n=0,i=0,l=0,o=0,d=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=Do.indexOf(e.charAt(c++)),l=Do.indexOf(e.charAt(c++)),s=i<<2|l>>4,r+=String.fromCharCode(s),o=Do.indexOf(e.charAt(c++)),a=(l&15)<<4|o>>2,o!==64&&(r+=String.fromCharCode(a)),d=Do.indexOf(e.charAt(c++)),n=(o&3)<<6|d,d!==64&&(r+=String.fromCharCode(n));return r}var dr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ho=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(r,s){return s?new Buffer(r,s):new Buffer(r)}:Buffer.from.bind(Buffer)}return function(){}}();function Sd(e){return dr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function RT(e){return dr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ki=function(r){return dr?ho(r,"binary"):r.split("").map(function(s){return s.charCodeAt(0)&255})};function iv(e){if(typeof ArrayBuffer>"u")return ki(e);for(var r=new ArrayBuffer(e.length),s=new Uint8Array(r),a=0;a!=e.length;++a)s[a]=e.charCodeAt(a)&255;return r}function Ix(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var r=[],s=0;s<e.length;++s)r[s]=String.fromCharCode(e[s]);return r.join("")}function C1e(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var ra=dr?function(e){return Buffer.concat(e.map(function(r){return Buffer.isBuffer(r)?r:ho(r)}))}:function(e){if(typeof Uint8Array<"u"){var r=0,s=0;for(r=0;r<e.length;++r)s+=e[r].length;var a=new Uint8Array(s),n=0;for(r=0,s=0;r<e.length;s+=n,++r)if(n=e[r].length,e[r]instanceof Uint8Array)a.set(e[r],s);else{if(typeof e[r]=="string")throw"wtf";a.set(new Uint8Array(e[r]),s)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function P1e(e){for(var r=[],s=0,a=e.length+250,n=Sd(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)n[s++]=l;else if(l<2048)n[s++]=192|l>>6&31,n[s++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var o=e.charCodeAt(++i)&1023;n[s++]=240|l>>8&7,n[s++]=128|l>>2&63,n[s++]=128|o>>6&15|(l&3)<<4,n[s++]=128|o&63}else n[s++]=224|l>>12&15,n[s++]=128|l>>6&63,n[s++]=128|l&63;s>a&&(r.push(n.slice(0,s)),s=0,n=Sd(65535),a=65530)}return r.push(n.slice(0,s)),ra(r)}var Vh=/\u0000/g,Op=/[\u0001-\u0006]/g;function zu(e){for(var r="",s=e.length-1;s>=0;)r+=e.charAt(s--);return r}function Ai(e,r){var s=""+e;return s.length>=r?s:ls("0",r-s.length)+s}function $5(e,r){var s=""+e;return s.length>=r?s:ls(" ",r-s.length)+s}function ty(e,r){var s=""+e;return s.length>=r?s:s+ls(" ",r-s.length)}function A1e(e,r){var s=""+Math.round(e);return s.length>=r?s:ls("0",r-s.length)+s}function T1e(e,r){var s=""+e;return s.length>=r?s:ls("0",r-s.length)+s}var BT=Math.pow(2,32);function Zd(e,r){if(e>BT||e<-BT)return A1e(e,r);var s=Math.round(e);return T1e(s,r)}function ry(e,r){return r=r||0,e.length>=7+r&&(e.charCodeAt(r)|32)===103&&(e.charCodeAt(r+1)|32)===101&&(e.charCodeAt(r+2)|32)===110&&(e.charCodeAt(r+3)|32)===101&&(e.charCodeAt(r+4)|32)===114&&(e.charCodeAt(r+5)|32)===97&&(e.charCodeAt(r+6)|32)===108}var $T=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],X1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function E1e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var os={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},zT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},I1e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function sy(e,r,s){for(var a=e<0?-1:1,n=e*a,i=0,l=1,o=0,d=1,c=0,u=0,m=Math.floor(n);c<r&&(m=Math.floor(n),o=m*l+i,u=m*c+d,!(n-m<5e-8));)n=1/(n-m),i=l,l=o,d=c,c=u;if(u>r&&(c>r?(u=d,o=i):(u=c,o=l)),!s)return[0,a*o,u];var x=Math.floor(a*o/u);return[x,a*o-x*u,u]}function _p(e,r,s){if(e>2958465||e<0)return null;var a=e|0,n=Math.floor(86400*(e-a)),i=0,l=[],o={D:a,T:n,u:86400*(e-a)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),r&&r.date1904&&(a+=1462),o.u>.9999&&(o.u=0,++n==86400&&(o.T=n=0,++a,++o.D)),a===60)l=s?[1317,10,29]:[1900,2,29],i=3;else if(a===0)l=s?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var d=new Date(1900,0,1);d.setDate(d.getDate()+a-1),l=[d.getFullYear(),d.getMonth()+1,d.getDate()],i=d.getDay(),a<60&&(i=(i+6)%7),s&&(i=R1e(d,l))}return o.y=l[0],o.m=l[1],o.d=l[2],o.S=n%60,n=Math.floor(n/60),o.M=n%60,n=Math.floor(n/60),o.H=n,o.q=i,o}var YB=new Date(1899,11,31,0,0,0),O1e=YB.getTime(),_1e=new Date(1900,2,1,0,0,0);function XB(e,r){var s=e.getTime();return r?s-=1461*24*60*60*1e3:e>=_1e&&(s+=24*60*60*1e3),(s-(O1e+(e.getTimezoneOffset()-YB.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function z5(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function M1e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function D1e(e){var r=e<0?12:11,s=z5(e.toFixed(12));return s.length<=r||(s=e.toPrecision(10),s.length<=r)?s:e.toExponential(5)}function L1e(e){var r=z5(e.toFixed(11));return r.length>(e<0?12:11)||r==="0"||r==="-0"?e.toPrecision(6):r}function F1e(e){var r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),s;return r>=-4&&r<=-1?s=e.toPrecision(10+r):Math.abs(r)<=9?s=D1e(e):r===10?s=e.toFixed(10).substr(0,12):s=L1e(e),z5(M1e(s.toUpperCase()))}function Ow(e,r){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):F1e(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return ic(14,XB(e,r&&r.date1904),r)}throw new Error("unsupported value in General format: "+e)}function R1e(e,r){r[0]-=581;var s=e.getDay();return e<60&&(s=(s+6)%7),s}function B1e(e,r,s,a){var n="",i=0,l=0,o=s.y,d,c=0;switch(e){case 98:o=s.y+543;case 121:switch(r.length){case 1:case 2:d=o%100,c=2;break;default:d=o%1e4,c=4;break}break;case 109:switch(r.length){case 1:case 2:d=s.m,c=r.length;break;case 3:return X1[s.m-1][1];case 5:return X1[s.m-1][0];default:return X1[s.m-1][2]}break;case 100:switch(r.length){case 1:case 2:d=s.d,c=r.length;break;case 3:return $T[s.q][0];default:return $T[s.q][1]}break;case 104:switch(r.length){case 1:case 2:d=1+(s.H+11)%12,c=r.length;break;default:throw"bad hour format: "+r}break;case 72:switch(r.length){case 1:case 2:d=s.H,c=r.length;break;default:throw"bad hour format: "+r}break;case 77:switch(r.length){case 1:case 2:d=s.M,c=r.length;break;default:throw"bad minute format: "+r}break;case 115:if(r!="s"&&r!="ss"&&r!=".0"&&r!=".00"&&r!=".000")throw"bad second format: "+r;return s.u===0&&(r=="s"||r=="ss")?Ai(s.S,r.length):(a>=2?l=a===3?1e3:100:l=a===1?10:1,i=Math.round(l*(s.S+s.u)),i>=60*l&&(i=0),r==="s"?i===0?"0":""+i/l:(n=Ai(i,2+a),r==="ss"?n.substr(0,2):"."+n.substr(2,r.length-1)));case 90:switch(r){case"[h]":case"[hh]":d=s.D*24+s.H;break;case"[m]":case"[mm]":d=(s.D*24+s.H)*60+s.M;break;case"[s]":case"[ss]":d=((s.D*24+s.H)*60+s.M)*60+Math.round(s.S+s.u);break;default:throw"bad abstime format: "+r}c=r.length===3?1:2;break;case 101:d=o,c=1;break}var u=c>0?Ai(d,c):"";return u}function Lo(e){var r=3;if(e.length<=r)return e;for(var s=e.length%r,a=e.substr(0,s);s!=e.length;s+=r)a+=(a.length>0?",":"")+e.substr(s,r);return a}var JB=/%/g;function $1e(e,r,s){var a=r.replace(JB,""),n=r.length-a.length;return Ml(e,a,s*Math.pow(10,2*n))+ls("%",n)}function z1e(e,r,s){for(var a=r.length-1;r.charCodeAt(a-1)===44;)--a;return Ml(e,r.substr(0,a),s/Math.pow(10,3*(r.length-a)))}function QB(e,r){var s,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+QB(e,-r);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(r)*Math.LOG10E)%n;if(i<0&&(i+=n),s=(r/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),s.indexOf("e")===-1){var l=Math.floor(Math.log(r)*Math.LOG10E);for(s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(l-s.length+i):s+="E+"+(l-i);s.substr(0,2)==="0.";)s=s.charAt(0)+s.substr(2,n)+"."+s.substr(2+n),s=s.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,d,c,u){return d+c+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else s=r.toExponential(a);return e.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),e.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}var ZB=/# (\?+)( ?)\/( ?)(\d+)/;function U1e(e,r,s){var a=parseInt(e[4],10),n=Math.round(r*a),i=Math.floor(n/a),l=n-i*a,o=a;return s+(i===0?"":""+i)+" "+(l===0?ls(" ",e[1].length+1+e[4].length):$5(l,e[1].length)+e[2]+"/"+e[3]+Ai(o,e[4].length))}function H1e(e,r,s){return s+(r===0?"":""+r)+ls(" ",e[1].length+2+e[4].length)}var e$=/^#*0*\.([0#]+)/,t$=/\).*[0#]/,r$=/\(###\) ###\\?-####/;function Ta(e){for(var r="",s,a=0;a!=e.length;++a)switch(s=e.charCodeAt(a)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(s)}return r}function UT(e,r){var s=Math.pow(10,r);return""+Math.round(e*s)/s}function HT(e,r){var s=e-Math.floor(e),a=Math.pow(10,r);return r<(""+Math.round(s*a)).length?0:Math.round(s*a)}function V1e(e,r){return r<(""+Math.round((e-Math.floor(e))*Math.pow(10,r))).length?1:0}function W1e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function qn(e,r,s){if(e.charCodeAt(0)===40&&!r.match(t$)){var a=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?qn("n",a,s):"("+qn("n",a,-s)+")"}if(r.charCodeAt(r.length-1)===44)return z1e(e,r,s);if(r.indexOf("%")!==-1)return $1e(e,r,s);if(r.indexOf("E")!==-1)return QB(r,s);if(r.charCodeAt(0)===36)return"$"+qn(e,r.substr(r.charAt(1)==" "?2:1),s);var n,i,l,o,d=Math.abs(s),c=s<0?"-":"";if(r.match(/^00+$/))return c+Zd(d,r.length);if(r.match(/^[#?]+$/))return n=Zd(s,0),n==="0"&&(n=""),n.length>r.length?n:Ta(r.substr(0,r.length-n.length))+n;if(i=r.match(ZB))return U1e(i,d,c);if(r.match(/^#+0+$/))return c+Zd(d,r.length-r.indexOf("0"));if(i=r.match(e$))return n=UT(s,i[1].length).replace(/^([^\.]+)$/,"$1."+Ta(i[1])).replace(/\.$/,"."+Ta(i[1])).replace(/\.(\d*)$/,function(p,f){return"."+f+ls("0",Ta(i[1]).length-f.length)}),r.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),i=r.match(/^(0*)\.(#*)$/))return c+UT(d,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=r.match(/^#{1,3},##0(\.?)$/))return c+Lo(Zd(d,0));if(i=r.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+qn(e,r,-s):Lo(""+(Math.floor(s)+V1e(s,i[1].length)))+"."+Ai(HT(s,i[1].length),i[1].length);if(i=r.match(/^#,#*,#0/))return qn(e,r.replace(/^#,#*,/,""),s);if(i=r.match(/^([0#]+)(\\?-([0#]+))+$/))return n=zu(qn(e,r.replace(/[\\-]/g,""),s)),l=0,zu(zu(r.replace(/\\/g,"")).replace(/[0#]/g,function(p){return l<n.length?n.charAt(l++):p==="0"?"0":""}));if(r.match(r$))return n=qn(e,"##########",s),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=sy(d,Math.pow(10,l)-1,!1),n=""+c,u=Ml("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=ty(o[2],l),u.length<i[4].length&&(u=Ta(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=sy(d,Math.pow(10,l)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?$5(o[1],l)+i[2]+"/"+i[3]+ty(o[2],l):ls(" ",2*l+1+i[2].length+i[3].length));if(i=r.match(/^[#0?]+$/))return n=Zd(s,0),r.length<=n.length?n:Ta(r.substr(0,r.length-n.length))+n;if(i=r.match(/^([#0?]+)\.([#0]+)$/)){n=""+s.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var m=r.indexOf(".")-l,x=r.length-n.length-m;return Ta(r.substr(0,m)+n+r.substr(r.length-x))}if(i=r.match(/^00,000\.([#0]*0)$/))return l=HT(s,i[1].length),s<0?"-"+qn(e,r,-s):Lo(W1e(s)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Ai(0,3-p.length):"")+p})+"."+Ai(l,i[1].length);switch(r){case"###,##0.00":return qn(e,"#,##0.00",s);case"###,###":case"##,###":case"#,###":var h=Lo(Zd(d,0));return h!=="0"?c+h:"";case"###,###.00":return qn(e,"###,##0.00",s).replace(/^0\./,".");case"#,###.00":return qn(e,"#,##0.00",s).replace(/^0\./,".")}throw new Error("unsupported format |"+r+"|")}function q1e(e,r,s){for(var a=r.length-1;r.charCodeAt(a-1)===44;)--a;return Ml(e,r.substr(0,a),s/Math.pow(10,3*(r.length-a)))}function G1e(e,r,s){var a=r.replace(JB,""),n=r.length-a.length;return Ml(e,a,s*Math.pow(10,2*n))+ls("%",n)}function s$(e,r){var s,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+s$(e,-r);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(r)*Math.LOG10E)%n;if(i<0&&(i+=n),s=(r/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),!s.match(/[Ee]/)){var l=Math.floor(Math.log(r)*Math.LOG10E);s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(l-s.length+i):s+="E+"+(l-i),s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,d,c,u){return d+c+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else s=r.toExponential(a);return e.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),e.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}function zi(e,r,s){if(e.charCodeAt(0)===40&&!r.match(t$)){var a=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?zi("n",a,s):"("+zi("n",a,-s)+")"}if(r.charCodeAt(r.length-1)===44)return q1e(e,r,s);if(r.indexOf("%")!==-1)return G1e(e,r,s);if(r.indexOf("E")!==-1)return s$(r,s);if(r.charCodeAt(0)===36)return"$"+zi(e,r.substr(r.charAt(1)==" "?2:1),s);var n,i,l,o,d=Math.abs(s),c=s<0?"-":"";if(r.match(/^00+$/))return c+Ai(d,r.length);if(r.match(/^[#?]+$/))return n=""+s,s===0&&(n=""),n.length>r.length?n:Ta(r.substr(0,r.length-n.length))+n;if(i=r.match(ZB))return H1e(i,d,c);if(r.match(/^#+0+$/))return c+Ai(d,r.length-r.indexOf("0"));if(i=r.match(e$))return n=(""+s).replace(/^([^\.]+)$/,"$1."+Ta(i[1])).replace(/\.$/,"."+Ta(i[1])),n=n.replace(/\.(\d*)$/,function(p,f){return"."+f+ls("0",Ta(i[1]).length-f.length)}),r.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),i=r.match(/^(0*)\.(#*)$/))return c+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=r.match(/^#{1,3},##0(\.?)$/))return c+Lo(""+d);if(i=r.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+zi(e,r,-s):Lo(""+s)+"."+ls("0",i[1].length);if(i=r.match(/^#,#*,#0/))return zi(e,r.replace(/^#,#*,/,""),s);if(i=r.match(/^([0#]+)(\\?-([0#]+))+$/))return n=zu(zi(e,r.replace(/[\\-]/g,""),s)),l=0,zu(zu(r.replace(/\\/g,"")).replace(/[0#]/g,function(p){return l<n.length?n.charAt(l++):p==="0"?"0":""}));if(r.match(r$))return n=zi(e,"##########",s),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=sy(d,Math.pow(10,l)-1,!1),n=""+c,u=Ml("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=ty(o[2],l),u.length<i[4].length&&(u=Ta(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=sy(d,Math.pow(10,l)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?$5(o[1],l)+i[2]+"/"+i[3]+ty(o[2],l):ls(" ",2*l+1+i[2].length+i[3].length));if(i=r.match(/^[#0?]+$/))return n=""+s,r.length<=n.length?n:Ta(r.substr(0,r.length-n.length))+n;if(i=r.match(/^([#0]+)\.([#0]+)$/)){n=""+s.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var m=r.indexOf(".")-l,x=r.length-n.length-m;return Ta(r.substr(0,m)+n+r.substr(r.length-x))}if(i=r.match(/^00,000\.([#0]*0)$/))return s<0?"-"+zi(e,r,-s):Lo(""+s).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Ai(0,3-p.length):"")+p})+"."+Ai(0,i[1].length);switch(r){case"###,###":case"##,###":case"#,###":var h=Lo(""+d);return h!=="0"?c+h:"";default:if(r.match(/\.[0#?]*$/))return zi(e,r.slice(0,r.lastIndexOf(".")),s)+Ta(r.slice(r.lastIndexOf(".")))}throw new Error("unsupported format |"+r+"|")}function Ml(e,r,s){return(s|0)===s?zi(e,r,s):qn(e,r,s)}function K1e(e){for(var r=[],s=!1,a=0,n=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:s=!s;break;case 95:case 42:case 92:++a;break;case 59:r[r.length]=e.substr(n,a-n),n=a+1}if(r[r.length]=e.substr(n),s===!0)throw new Error("Format |"+e+"| unterminated string ");return r}var a$=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function n$(e){for(var r=0,s="",a="";r<e.length;)switch(s=e.charAt(r)){case"G":ry(e,r)&&(r+=6),r++;break;case'"':for(;e.charCodeAt(++r)!==34&&r<e.length;);++r;break;case"\\":r+=2;break;case"_":r+=2;break;case"@":++r;break;case"B":case"b":if(e.charAt(r+1)==="1"||e.charAt(r+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(r,3).toUpperCase()==="A/P"||e.substr(r,5).toUpperCase()==="AM/PM"||e.substr(r,5).toUpperCase()==="/")return!0;++r;break;case"[":for(a=s;e.charAt(r++)!=="]"&&r<e.length;)a+=e.charAt(r);if(a.match(a$))return!0;break;case".":case"0":case"#":for(;r<e.length&&("0#?.,E+-%".indexOf(s=e.charAt(++r))>-1||s=="\\"&&e.charAt(r+1)=="-"&&"0#".indexOf(e.charAt(r+2))>-1););break;case"?":for(;e.charAt(++r)===s;);break;case"*":++r,(e.charAt(r)==" "||e.charAt(r)=="*")&&++r;break;case"(":case")":++r;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;r<e.length&&"0123456789".indexOf(e.charAt(++r))>-1;);break;case" ":++r;break;default:++r;break}return!1}function Y1e(e,r,s,a){for(var n=[],i="",l=0,o="",d="t",c,u,m,x="H";l<e.length;)switch(o=e.charAt(l)){case"G":if(!ry(e,l))throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(m=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(m);n[n.length]={t:"t",v:i},++l;break;case"\\":var h=e.charAt(++l),p=h==="("||h===")"?h:"t";n[n.length]={t:p,v:h},++l;break;case"_":n[n.length]={t:"t",v:" "},l+=2;break;case"@":n[n.length]={t:"T",v:r},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(c==null&&(c=_p(r,s,e.charAt(l+1)==="2"),c==null))return"";n[n.length]={t:"X",v:e.substr(l,2)},d=o,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(r<0||c==null&&(c=_p(r,s),c==null))return"";for(i=o;++l<e.length&&e.charAt(l).toLowerCase()===o;)i+=o;o==="m"&&d.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=x),n[n.length]={t:o,v:i},d=o;break;case"A":case"a":case"":var f={t:o,v:o};if(c==null&&(c=_p(r,s)),e.substr(l,3).toUpperCase()==="A/P"?(c!=null&&(f.v=c.H>=12?"P":"A"),f.t="T",x="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(c!=null&&(f.v=c.H>=12?"PM":"AM"),f.t="T",l+=5,x="h"):e.substr(l,5).toUpperCase()==="/"?(c!=null&&(f.v=c.H>=12?"":""),f.t="T",l+=5,x="h"):(f.t="t",++l),c==null&&f.t==="T")return"";n[n.length]=f,d=o;break;case"[":for(i=o;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(a$)){if(c==null&&(c=_p(r,s),c==null))return"";n[n.length]={t:"Z",v:i.toLowerCase()},d=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",n$(e)||(n[n.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++l<e.length&&(o=e.charAt(l))==="0";)i+=o;n[n.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++l<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(l))>-1;)i+=o;n[n.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++l)===o;)i+=o;n[n.length]={t:o,v:i},d=o;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":n[n.length]={t:a===1?"t":o,v:o},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);n[n.length]={t:"D",v:i};break;case" ":n[n.length]={t:o,v:o},++l;break;case"$":n[n.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"t",v:o},++l;break}var b=0,j=0,w;for(l=n.length-1,d="t";l>=0;--l)switch(n[l].t){case"h":case"H":n[l].t=x,d="h",b<1&&(b=1);break;case"s":(w=n[l].v.match(/\.0+$/))&&(j=Math.max(j,w[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":d=n[l].t;break;case"m":d==="s"&&(n[l].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&n[l].v.match(/[Hh]/)&&(b=1),b<2&&n[l].v.match(/[Mm]/)&&(b=2),b<3&&n[l].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var y="",v;for(l=0;l<n.length;++l)switch(n[l].t){case"t":case"T":case" ":case"D":break;case"X":n[l].v="",n[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[l].v=B1e(n[l].t.charCodeAt(0),n[l].v,c,j),n[l].t="t";break;case"n":case"?":for(v=l+1;n[v]!=null&&((o=n[v].t)==="?"||o==="D"||(o===" "||o==="t")&&n[v+1]!=null&&(n[v+1].t==="?"||n[v+1].t==="t"&&n[v+1].v==="/")||n[l].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(n[v].v==="/"||n[v].v===" "&&n[v+1]!=null&&n[v+1].t=="?"));)n[l].v+=n[v].v,n[v]={v:"",t:";"},++v;y+=n[l].v,l=v-1;break;case"G":n[l].t="t",n[l].v=Ow(r,s);break}var N="",S,k;if(y.length>0){y.charCodeAt(0)==40?(S=r<0&&y.charCodeAt(0)===45?-r:r,k=Ml("n",y,S)):(S=r<0&&a>1?-r:r,k=Ml("n",y,S),S<0&&n[0]&&n[0].t=="t"&&(k=k.substr(1),n[0].v="-"+n[0].v)),v=k.length-1;var P=n.length;for(l=0;l<n.length;++l)if(n[l]!=null&&n[l].t!="t"&&n[l].v.indexOf(".")>-1){P=l;break}var C=n.length;if(P===n.length&&k.indexOf("E")===-1){for(l=n.length-1;l>=0;--l)n[l]==null||"n?".indexOf(n[l].t)===-1||(v>=n[l].v.length-1?(v-=n[l].v.length,n[l].v=k.substr(v+1,n[l].v.length)):v<0?n[l].v="":(n[l].v=k.substr(0,v+1),v=-1),n[l].t="t",C=l);v>=0&&C<n.length&&(n[C].v=k.substr(0,v+1)+n[C].v)}else if(P!==n.length&&k.indexOf("E")===-1){for(v=k.indexOf(".")-1,l=P;l>=0;--l)if(!(n[l]==null||"n?".indexOf(n[l].t)===-1)){for(u=n[l].v.indexOf(".")>-1&&l===P?n[l].v.indexOf(".")-1:n[l].v.length-1,N=n[l].v.substr(u+1);u>=0;--u)v>=0&&(n[l].v.charAt(u)==="0"||n[l].v.charAt(u)==="#")&&(N=k.charAt(v--)+N);n[l].v=N,n[l].t="t",C=l}for(v>=0&&C<n.length&&(n[C].v=k.substr(0,v+1)+n[C].v),v=k.indexOf(".")+1,l=P;l<n.length;++l)if(!(n[l]==null||"n?(".indexOf(n[l].t)===-1&&l!==P)){for(u=n[l].v.indexOf(".")>-1&&l===P?n[l].v.indexOf(".")+1:0,N=n[l].v.substr(0,u);u<n[l].v.length;++u)v<k.length&&(N+=k.charAt(v++));n[l].v=N,n[l].t="t",C=l}}}for(l=0;l<n.length;++l)n[l]!=null&&"n?".indexOf(n[l].t)>-1&&(S=a>1&&r<0&&l>0&&n[l-1].v==="-"?-r:r,n[l].v=Ml(n[l].t,n[l].v,S),n[l].t="t");var _="";for(l=0;l!==n.length;++l)n[l]!=null&&(_+=n[l].v);return _}var VT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function WT(e,r){if(r==null)return!1;var s=parseFloat(r[2]);switch(r[1]){case"=":if(e==s)return!0;break;case">":if(e>s)return!0;break;case"<":if(e<s)return!0;break;case"<>":if(e!=s)return!0;break;case">=":if(e>=s)return!0;break;case"<=":if(e<=s)return!0;break}return!1}function X1e(e,r){var s=K1e(e),a=s.length,n=s[a-1].indexOf("@");if(a<4&&n>-1&&--a,s.length>4)throw new Error("cannot find right format for |"+s.join("|")+"|");if(typeof r!="number")return[4,s.length===4||n>-1?s[s.length-1]:"@"];switch(s.length){case 1:s=n>-1?["General","General","General",s[0]]:[s[0],s[0],s[0],"@"];break;case 2:s=n>-1?[s[0],s[0],s[0],s[1]]:[s[0],s[1],s[0],"@"];break;case 3:s=n>-1?[s[0],s[1],s[0],s[2]]:[s[0],s[1],s[2],"@"];break}var i=r>0?s[0]:r<0?s[1]:s[2];if(s[0].indexOf("[")===-1&&s[1].indexOf("[")===-1)return[a,i];if(s[0].match(/\[[=<>]/)!=null||s[1].match(/\[[=<>]/)!=null){var l=s[0].match(VT),o=s[1].match(VT);return WT(r,l)?[a,s[0]]:WT(r,o)?[a,s[1]]:[a,s[l!=null&&o!=null?2:1]]}return[a,i]}function ic(e,r,s){s==null&&(s={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&s.dateNF?a=s.dateNF:a=e;break;case"number":e==14&&s.dateNF?a=s.dateNF:a=(s.table!=null?s.table:os)[e],a==null&&(a=s.table&&s.table[zT[e]]||os[zT[e]]),a==null&&(a=I1e[e]||"General");break}if(ry(a,0))return Ow(r,s);r instanceof Date&&(r=XB(r,s.date1904));var n=X1e(a,r);if(ry(n[1]))return Ow(r,s);if(r===!0)r="TRUE";else if(r===!1)r="FALSE";else if(r===""||r==null)return"";return Y1e(n[1],r,s,n[0])}function i$(e,r){if(typeof r!="number"){r=+r||-1;for(var s=0;s<392;++s){if(os[s]==null){r<0&&(r=s);continue}if(os[s]==e){r=s;break}}r<0&&(r=391)}return os[r]=e,r}function lv(e){for(var r=0;r!=392;++r)e[r]!==void 0&&i$(e[r],r)}function ov(){os=E1e()}var l$=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function J1e(e){var r=typeof e=="number"?os[e]:e;return r=r.replace(l$,"(\\d+)"),new RegExp("^"+r+"$")}function Q1e(e,r,s){var a=-1,n=-1,i=-1,l=-1,o=-1,d=-1;(r.match(l$)||[]).forEach(function(m,x){var h=parseInt(s[x+1],10);switch(m.toLowerCase().charAt(0)){case"y":a=h;break;case"d":i=h;break;case"h":l=h;break;case"s":d=h;break;case"m":l>=0?o=h:n=h;break}}),d>=0&&o==-1&&n>=0&&(o=n,n=-1);var c=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return l==-1&&o==-1&&d==-1?c:a==-1&&n==-1&&i==-1?u:c+"T"+u}var Z1e=function(){var e={};e.version="1.2.0";function r(){for(var k=0,P=new Array(256),C=0;C!=256;++C)k=C,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,P[C]=k;return typeof Int32Array<"u"?new Int32Array(P):P}var s=r();function a(k){var P=0,C=0,_=0,A=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(_=0;_!=256;++_)A[_]=k[_];for(_=0;_!=256;++_)for(C=k[_],P=256+_;P<4096;P+=256)C=A[P]=C>>>8^k[C&255];var D=[];for(_=1;_!=16;++_)D[_-1]=typeof Int32Array<"u"?A.subarray(_*256,_*256+256):A.slice(_*256,_*256+256);return D}var n=a(s),i=n[0],l=n[1],o=n[2],d=n[3],c=n[4],u=n[5],m=n[6],x=n[7],h=n[8],p=n[9],f=n[10],b=n[11],j=n[12],w=n[13],y=n[14];function v(k,P){for(var C=P^-1,_=0,A=k.length;_<A;)C=C>>>8^s[(C^k.charCodeAt(_++))&255];return~C}function N(k,P){for(var C=P^-1,_=k.length-15,A=0;A<_;)C=y[k[A++]^C&255]^w[k[A++]^C>>8&255]^j[k[A++]^C>>16&255]^b[k[A++]^C>>>24]^f[k[A++]]^p[k[A++]]^h[k[A++]]^x[k[A++]]^m[k[A++]]^u[k[A++]]^c[k[A++]]^d[k[A++]]^o[k[A++]]^l[k[A++]]^i[k[A++]]^s[k[A++]];for(_+=15;A<_;)C=C>>>8^s[(C^k[A++])&255];return~C}function S(k,P){for(var C=P^-1,_=0,A=k.length,D=0,H=0;_<A;)D=k.charCodeAt(_++),D<128?C=C>>>8^s[(C^D)&255]:D<2048?(C=C>>>8^s[(C^(192|D>>6&31))&255],C=C>>>8^s[(C^(128|D&63))&255]):D>=55296&&D<57344?(D=(D&1023)+64,H=k.charCodeAt(_++)&1023,C=C>>>8^s[(C^(240|D>>8&7))&255],C=C>>>8^s[(C^(128|D>>2&63))&255],C=C>>>8^s[(C^(128|H>>6&15|(D&3)<<4))&255],C=C>>>8^s[(C^(128|H&63))&255]):(C=C>>>8^s[(C^(224|D>>12&15))&255],C=C>>>8^s[(C^(128|D>>6&63))&255],C=C>>>8^s[(C^(128|D&63))&255]);return~C}return e.table=s,e.bstr=v,e.buf=N,e.str=S,e}(),br=function(){var r={};r.version="1.2.1";function s(V,le){for(var ee=V.split("/"),se=le.split("/"),me=0,he=0,I=Math.min(ee.length,se.length);me<I;++me){if(he=ee[me].length-se[me].length)return he;if(ee[me]!=se[me])return ee[me]<se[me]?-1:1}return ee.length-se.length}function a(V){if(V.charAt(V.length-1)=="/")return V.slice(0,-1).indexOf("/")===-1?V:a(V.slice(0,-1));var le=V.lastIndexOf("/");return le===-1?V:V.slice(0,le+1)}function n(V){if(V.charAt(V.length-1)=="/")return n(V.slice(0,-1));var le=V.lastIndexOf("/");return le===-1?V:V.slice(le+1)}function i(V,le){typeof le=="string"&&(le=new Date(le));var ee=le.getHours();ee=ee<<6|le.getMinutes(),ee=ee<<5|le.getSeconds()>>>1,V.write_shift(2,ee);var se=le.getFullYear()-1980;se=se<<4|le.getMonth()+1,se=se<<5|le.getDate(),V.write_shift(2,se)}function l(V){var le=V.read_shift(2)&65535,ee=V.read_shift(2)&65535,se=new Date,me=ee&31;ee>>>=5;var he=ee&15;ee>>>=4,se.setMilliseconds(0),se.setFullYear(ee+1980),se.setMonth(he-1),se.setDate(me);var I=le&31;le>>>=5;var X=le&63;return le>>>=6,se.setHours(le),se.setMinutes(X),se.setSeconds(I<<1),se}function o(V){fn(V,0);for(var le={},ee=0;V.l<=V.length-4;){var se=V.read_shift(2),me=V.read_shift(2),he=V.l+me,I={};switch(se){case 21589:ee=V.read_shift(1),ee&1&&(I.mtime=V.read_shift(4)),me>5&&(ee&2&&(I.atime=V.read_shift(4)),ee&4&&(I.ctime=V.read_shift(4))),I.mtime&&(I.mt=new Date(I.mtime*1e3));break}V.l=he,le[se]=I}return le}var d;function c(){return d||(d={})}function u(V,le){if(V[0]==80&&V[1]==75)return Ce(V,le);if((V[0]|32)==109&&(V[1]|32)==105)return xt(V,le);if(V.length<512)throw new Error("CFB file size "+V.length+" < 512");var ee=3,se=512,me=0,he=0,I=0,X=0,je=0,Pe=[],_e=V.slice(0,512);fn(_e,0);var Ze=m(_e);switch(ee=Ze[0],ee){case 3:se=512;break;case 4:se=4096;break;case 0:if(Ze[1]==0)return Ce(V,le);default:throw new Error("Major Version: Expected 3 or 4 saw "+ee)}se!==512&&(_e=V.slice(0,se),fn(_e,28));var ot=V.slice(0,se);x(_e,ee);var pt=_e.read_shift(4,"i");if(ee===3&&pt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+pt);_e.l+=4,I=_e.read_shift(4,"i"),_e.l+=4,_e.chk("00100000","Mini Stream Cutoff Size: "),X=_e.read_shift(4,"i"),me=_e.read_shift(4,"i"),je=_e.read_shift(4,"i"),he=_e.read_shift(4,"i");for(var Qe=-1,gt=0;gt<109&&(Qe=_e.read_shift(4,"i"),!(Qe<0));++gt)Pe[gt]=Qe;var K=h(V,se);b(je,he,K,se,Pe);var Tt=w(K,I,Pe,se);Tt[I].name="!Directory",me>0&&X!==H&&(Tt[X].name="!MiniFAT"),Tt[Pe[0]].name="!FAT",Tt.fat_addrs=Pe,Tt.ssz=se;var Ke={},Re=[],it=[],bt=[];y(I,Tt,K,Re,me,Ke,it,X),p(it,bt,Re),Re.shift();var Fi={FileIndex:it,FullPaths:bt};return le&&le.raw&&(Fi.raw={header:ot,sectors:K}),Fi}function m(V){if(V[V.l]==80&&V[V.l+1]==75)return[0,0];V.chk(re,"Header Signature: "),V.l+=16;var le=V.read_shift(2,"u");return[V.read_shift(2,"u"),le]}function x(V,le){var ee=9;switch(V.l+=2,ee=V.read_shift(2)){case 9:if(le!=3)throw new Error("Sector Shift: Expected 9 saw "+ee);break;case 12:if(le!=4)throw new Error("Sector Shift: Expected 12 saw "+ee);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ee)}V.chk("0600","Mini Sector Shift: "),V.chk("000000000000","Reserved: ")}function h(V,le){for(var ee=Math.ceil(V.length/le)-1,se=[],me=1;me<ee;++me)se[me-1]=V.slice(me*le,(me+1)*le);return se[ee-1]=V.slice(ee*le),se}function p(V,le,ee){for(var se=0,me=0,he=0,I=0,X=0,je=ee.length,Pe=[],_e=[];se<je;++se)Pe[se]=_e[se]=se,le[se]=ee[se];for(;X<_e.length;++X)se=_e[X],me=V[se].L,he=V[se].R,I=V[se].C,Pe[se]===se&&(me!==-1&&Pe[me]!==me&&(Pe[se]=Pe[me]),he!==-1&&Pe[he]!==he&&(Pe[se]=Pe[he])),I!==-1&&(Pe[I]=se),me!==-1&&se!=Pe[se]&&(Pe[me]=Pe[se],_e.lastIndexOf(me)<X&&_e.push(me)),he!==-1&&se!=Pe[se]&&(Pe[he]=Pe[se],_e.lastIndexOf(he)<X&&_e.push(he));for(se=1;se<je;++se)Pe[se]===se&&(he!==-1&&Pe[he]!==he?Pe[se]=Pe[he]:me!==-1&&Pe[me]!==me&&(Pe[se]=Pe[me]));for(se=1;se<je;++se)if(V[se].type!==0){if(X=se,X!=Pe[X])do X=Pe[X],le[se]=le[X]+"/"+le[se];while(X!==0&&Pe[X]!==-1&&X!=Pe[X]);Pe[se]=-1}for(le[0]+="/",se=1;se<je;++se)V[se].type!==2&&(le[se]+="/")}function f(V,le,ee){for(var se=V.start,me=V.size,he=[],I=se;ee&&me>0&&I>=0;)he.push(le.slice(I*D,I*D+D)),me-=D,I=_c(ee,I*4);return he.length===0?Ve(0):ra(he).slice(0,V.size)}function b(V,le,ee,se,me){var he=H;if(V===H){if(le!==0)throw new Error("DIFAT chain shorter than expected")}else if(V!==-1){var I=ee[V],X=(se>>>2)-1;if(!I)return;for(var je=0;je<X&&(he=_c(I,je*4))!==H;++je)me.push(he);b(_c(I,se-4),le-1,ee,se,me)}}function j(V,le,ee,se,me){var he=[],I=[];me||(me=[]);var X=se-1,je=0,Pe=0;for(je=le;je>=0;){me[je]=!0,he[he.length]=je,I.push(V[je]);var _e=ee[Math.floor(je*4/se)];if(Pe=je*4&X,se<4+Pe)throw new Error("FAT boundary crossed: "+je+" 4 "+se);if(!V[_e])break;je=_c(V[_e],Pe)}return{nodes:he,data:ZT([I])}}function w(V,le,ee,se){var me=V.length,he=[],I=[],X=[],je=[],Pe=se-1,_e=0,Ze=0,ot=0,pt=0;for(_e=0;_e<me;++_e)if(X=[],ot=_e+le,ot>=me&&(ot-=me),!I[ot]){je=[];var Qe=[];for(Ze=ot;Ze>=0;){Qe[Ze]=!0,I[Ze]=!0,X[X.length]=Ze,je.push(V[Ze]);var gt=ee[Math.floor(Ze*4/se)];if(pt=Ze*4&Pe,se<4+pt)throw new Error("FAT boundary crossed: "+Ze+" 4 "+se);if(!V[gt]||(Ze=_c(V[gt],pt),Qe[Ze]))break}he[ot]={nodes:X,data:ZT([je])}}return he}function y(V,le,ee,se,me,he,I,X){for(var je=0,Pe=se.length?2:0,_e=le[V].data,Ze=0,ot=0,pt;Ze<_e.length;Ze+=128){var Qe=_e.slice(Ze,Ze+128);fn(Qe,64),ot=Qe.read_shift(2),pt=q5(Qe,0,ot-Pe),se.push(pt);var gt={name:pt,type:Qe.read_shift(1),color:Qe.read_shift(1),L:Qe.read_shift(4,"i"),R:Qe.read_shift(4,"i"),C:Qe.read_shift(4,"i"),clsid:Qe.read_shift(16),state:Qe.read_shift(4,"i"),start:0,size:0},K=Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2);K!==0&&(gt.ct=v(Qe,Qe.l-8));var Tt=Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2)+Qe.read_shift(2);Tt!==0&&(gt.mt=v(Qe,Qe.l-8)),gt.start=Qe.read_shift(4,"i"),gt.size=Qe.read_shift(4,"i"),gt.size<0&&gt.start<0&&(gt.size=gt.type=0,gt.start=H,gt.name=""),gt.type===5?(je=gt.start,me>0&&je!==H&&(le[je].name="!StreamData")):gt.size>=4096?(gt.storage="fat",le[gt.start]===void 0&&(le[gt.start]=j(ee,gt.start,le.fat_addrs,le.ssz)),le[gt.start].name=gt.name,gt.content=le[gt.start].data.slice(0,gt.size)):(gt.storage="minifat",gt.size<0?gt.size=0:je!==H&&gt.start!==H&&le[je]&&(gt.content=f(gt,le[je].data,(le[X]||{}).data))),gt.content&&fn(gt.content,0),he[pt]=gt,I.push(gt)}}function v(V,le){return new Date((yn(V,le+4)/1e7*Math.pow(2,32)+yn(V,le)/1e7-11644473600)*1e3)}function N(V,le){return c(),u(d.readFileSync(V),le)}function S(V,le){var ee=le&&le.type;switch(ee||dr&&Buffer.isBuffer(V)&&(ee="buffer"),ee||"base64"){case"file":return N(V,le);case"base64":return u(ki(Zl(V)),le);case"binary":return u(ki(V),le)}return u(V,le)}function k(V,le){var ee=le||{},se=ee.root||"Root Entry";if(V.FullPaths||(V.FullPaths=[]),V.FileIndex||(V.FileIndex=[]),V.FullPaths.length!==V.FileIndex.length)throw new Error("inconsistent CFB structure");V.FullPaths.length===0&&(V.FullPaths[0]=se+"/",V.FileIndex[0]={name:se,type:5}),ee.CLSID&&(V.FileIndex[0].clsid=ee.CLSID),P(V)}function P(V){var le="Sh33tJ5";if(!br.find(V,"/"+le)){var ee=Ve(4);ee[0]=55,ee[1]=ee[3]=50,ee[2]=54,V.FileIndex.push({name:le,type:2,content:ee,size:4,L:69,R:69,C:69}),V.FullPaths.push(V.FullPaths[0]+le),C(V)}}function C(V,le){k(V);for(var ee=!1,se=!1,me=V.FullPaths.length-1;me>=0;--me){var he=V.FileIndex[me];switch(he.type){case 0:se?ee=!0:(V.FileIndex.pop(),V.FullPaths.pop());break;case 1:case 2:case 5:se=!0,isNaN(he.R*he.L*he.C)&&(ee=!0),he.R>-1&&he.L>-1&&he.R==he.L&&(ee=!0);break;default:ee=!0;break}}if(!(!ee&&!le)){var I=new Date(1987,1,19),X=0,je=Object.create?Object.create(null):{},Pe=[];for(me=0;me<V.FullPaths.length;++me)je[V.FullPaths[me]]=!0,V.FileIndex[me].type!==0&&Pe.push([V.FullPaths[me],V.FileIndex[me]]);for(me=0;me<Pe.length;++me){var _e=a(Pe[me][0]);se=je[_e],se||(Pe.push([_e,{name:n(_e).replace("/",""),type:1,clsid:we,ct:I,mt:I,content:null}]),je[_e]=!0)}for(Pe.sort(function(pt,Qe){return s(pt[0],Qe[0])}),V.FullPaths=[],V.FileIndex=[],me=0;me<Pe.length;++me)V.FullPaths[me]=Pe[me][0],V.FileIndex[me]=Pe[me][1];for(me=0;me<Pe.length;++me){var Ze=V.FileIndex[me],ot=V.FullPaths[me];if(Ze.name=n(ot).replace("/",""),Ze.L=Ze.R=Ze.C=-(Ze.color=1),Ze.size=Ze.content?Ze.content.length:0,Ze.start=0,Ze.clsid=Ze.clsid||we,me===0)Ze.C=Pe.length>1?1:-1,Ze.size=0,Ze.type=5;else if(ot.slice(-1)=="/"){for(X=me+1;X<Pe.length&&a(V.FullPaths[X])!=ot;++X);for(Ze.C=X>=Pe.length?-1:X,X=me+1;X<Pe.length&&a(V.FullPaths[X])!=a(ot);++X);Ze.R=X>=Pe.length?-1:X,Ze.type=1}else a(V.FullPaths[me+1]||"")==a(ot)&&(Ze.R=me+1),Ze.type=2}}}function _(V,le){var ee=le||{};if(ee.fileType=="mad")return $t(V,ee);switch(C(V),ee.fileType){case"zip":return Xe(V,ee)}var se=function(pt){for(var Qe=0,gt=0,K=0;K<pt.FileIndex.length;++K){var Tt=pt.FileIndex[K];if(Tt.content){var Ke=Tt.content.length;Ke>0&&(Ke<4096?Qe+=Ke+63>>6:gt+=Ke+511>>9)}}for(var Re=pt.FullPaths.length+3>>2,it=Qe+7>>3,bt=Qe+127>>7,Fi=it+gt+Re+bt,ca=Fi+127>>7,Ri=ca<=109?0:Math.ceil((ca-109)/127);Fi+ca+Ri+127>>7>ca;)Ri=++ca<=109?0:Math.ceil((ca-109)/127);var da=[1,Ri,ca,bt,Re,gt,Qe,0];return pt.FileIndex[0].size=Qe<<6,da[7]=(pt.FileIndex[0].start=da[0]+da[1]+da[2]+da[3]+da[4]+da[5])+(da[6]+7>>3),da}(V),me=Ve(se[7]<<9),he=0,I=0;{for(he=0;he<8;++he)me.write_shift(1,xe[he]);for(he=0;he<8;++he)me.write_shift(2,0);for(me.write_shift(2,62),me.write_shift(2,3),me.write_shift(2,65534),me.write_shift(2,9),me.write_shift(2,6),he=0;he<3;++he)me.write_shift(2,0);for(me.write_shift(4,0),me.write_shift(4,se[2]),me.write_shift(4,se[0]+se[1]+se[2]+se[3]-1),me.write_shift(4,0),me.write_shift(4,4096),me.write_shift(4,se[3]?se[0]+se[1]+se[2]-1:H),me.write_shift(4,se[3]),me.write_shift(-4,se[1]?se[0]-1:H),me.write_shift(4,se[1]),he=0;he<109;++he)me.write_shift(-4,he<se[2]?se[1]+he:-1)}if(se[1])for(I=0;I<se[1];++I){for(;he<236+I*127;++he)me.write_shift(-4,he<se[2]?se[1]+he:-1);me.write_shift(-4,I===se[1]-1?H:I+1)}var X=function(pt){for(I+=pt;he<I-1;++he)me.write_shift(-4,he+1);pt&&(++he,me.write_shift(-4,H))};for(I=he=0,I+=se[1];he<I;++he)me.write_shift(-4,T.DIFSECT);for(I+=se[2];he<I;++he)me.write_shift(-4,T.FATSECT);X(se[3]),X(se[4]);for(var je=0,Pe=0,_e=V.FileIndex[0];je<V.FileIndex.length;++je)_e=V.FileIndex[je],_e.content&&(Pe=_e.content.length,!(Pe<4096)&&(_e.start=I,X(Pe+511>>9)));for(X(se[6]+7>>3);me.l&511;)me.write_shift(-4,T.ENDOFCHAIN);for(I=he=0,je=0;je<V.FileIndex.length;++je)_e=V.FileIndex[je],_e.content&&(Pe=_e.content.length,!(!Pe||Pe>=4096)&&(_e.start=I,X(Pe+63>>6)));for(;me.l&511;)me.write_shift(-4,T.ENDOFCHAIN);for(he=0;he<se[4]<<2;++he){var Ze=V.FullPaths[he];if(!Ze||Ze.length===0){for(je=0;je<17;++je)me.write_shift(4,0);for(je=0;je<3;++je)me.write_shift(4,-1);for(je=0;je<12;++je)me.write_shift(4,0);continue}_e=V.FileIndex[he],he===0&&(_e.start=_e.size?_e.start-1:H);var ot=he===0&&ee.root||_e.name;if(Pe=2*(ot.length+1),me.write_shift(64,ot,"utf16le"),me.write_shift(2,Pe),me.write_shift(1,_e.type),me.write_shift(1,_e.color),me.write_shift(-4,_e.L),me.write_shift(-4,_e.R),me.write_shift(-4,_e.C),_e.clsid)me.write_shift(16,_e.clsid,"hex");else for(je=0;je<4;++je)me.write_shift(4,0);me.write_shift(4,_e.state||0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,_e.start),me.write_shift(4,_e.size),me.write_shift(4,0)}for(he=1;he<V.FileIndex.length;++he)if(_e=V.FileIndex[he],_e.size>=4096)if(me.l=_e.start+1<<9,dr&&Buffer.isBuffer(_e.content))_e.content.copy(me,me.l,0,_e.size),me.l+=_e.size+511&-512;else{for(je=0;je<_e.size;++je)me.write_shift(1,_e.content[je]);for(;je&511;++je)me.write_shift(1,0)}for(he=1;he<V.FileIndex.length;++he)if(_e=V.FileIndex[he],_e.size>0&&_e.size<4096)if(dr&&Buffer.isBuffer(_e.content))_e.content.copy(me,me.l,0,_e.size),me.l+=_e.size+63&-64;else{for(je=0;je<_e.size;++je)me.write_shift(1,_e.content[je]);for(;je&63;++je)me.write_shift(1,0)}if(dr)me.l=me.length;else for(;me.l<me.length;)me.write_shift(1,0);return me}function A(V,le){var ee=V.FullPaths.map(function(je){return je.toUpperCase()}),se=ee.map(function(je){var Pe=je.split("/");return Pe[Pe.length-(je.slice(-1)=="/"?2:1)]}),me=!1;le.charCodeAt(0)===47?(me=!0,le=ee[0].slice(0,-1)+le):me=le.indexOf("/")!==-1;var he=le.toUpperCase(),I=me===!0?ee.indexOf(he):se.indexOf(he);if(I!==-1)return V.FileIndex[I];var X=!he.match(Op);for(he=he.replace(Vh,""),X&&(he=he.replace(Op,"!")),I=0;I<ee.length;++I)if((X?ee[I].replace(Op,"!"):ee[I]).replace(Vh,"")==he||(X?se[I].replace(Op,"!"):se[I]).replace(Vh,"")==he)return V.FileIndex[I];return null}var D=64,H=-2,re="d0cf11e0a1b11ae1",xe=[208,207,17,224,161,177,26,225],we="00000000000000000000000000000000",T={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:H,FREESECT:-1,HEADER_SIGNATURE:re,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:we,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function z(V,le,ee){c();var se=_(V,ee);d.writeFileSync(le,se)}function Q(V){for(var le=new Array(V.length),ee=0;ee<V.length;++ee)le[ee]=String.fromCharCode(V[ee]);return le.join("")}function B(V,le){var ee=_(V,le);switch(le&&le.type||"buffer"){case"file":return c(),d.writeFileSync(le.filename,ee),ee;case"binary":return typeof ee=="string"?ee:Q(ee);case"base64":return $0(typeof ee=="string"?ee:Q(ee));case"buffer":if(dr)return Buffer.isBuffer(ee)?ee:ho(ee);case"array":return typeof ee=="string"?ki(ee):ee}return ee}var L;function R(V){try{var le=V.InflateRaw,ee=new le;if(ee._processChunk(new Uint8Array([3,0]),ee._finishFlushFlag),ee.bytesRead)L=V;else throw new Error("zlib does not expose bytesRead")}catch(se){console.error("cannot use native zlib: "+(se.message||se))}}function Z(V,le){if(!L)return ft(V,le);var ee=L.InflateRaw,se=new ee,me=se._processChunk(V.slice(V.l),se._finishFlushFlag);return V.l+=se.bytesRead,me}function W(V){return L?L.deflateRawSync(V):Ft(V)}var ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],M=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function U(V){var le=(V<<1|V<<11)&139536|(V<<5|V<<15)&558144;return(le>>16|le>>8|le)&255}for(var q=typeof Uint8Array<"u",G=q?new Uint8Array(256):[],Y=0;Y<256;++Y)G[Y]=U(Y);function oe(V,le){var ee=G[V&255];return le<=8?ee>>>8-le:(ee=ee<<8|G[V>>8&255],le<=16?ee>>>16-le:(ee=ee<<8|G[V>>16&255],ee>>>24-le))}function Be(V,le){var ee=le&7,se=le>>>3;return(V[se]|(ee<=6?0:V[se+1]<<8))>>>ee&3}function fe(V,le){var ee=le&7,se=le>>>3;return(V[se]|(ee<=5?0:V[se+1]<<8))>>>ee&7}function ne(V,le){var ee=le&7,se=le>>>3;return(V[se]|(ee<=4?0:V[se+1]<<8))>>>ee&15}function ce(V,le){var ee=le&7,se=le>>>3;return(V[se]|(ee<=3?0:V[se+1]<<8))>>>ee&31}function pe(V,le){var ee=le&7,se=le>>>3;return(V[se]|(ee<=1?0:V[se+1]<<8))>>>ee&127}function F(V,le,ee){var se=le&7,me=le>>>3,he=(1<<ee)-1,I=V[me]>>>se;return ee<8-se||(I|=V[me+1]<<8-se,ee<16-se)||(I|=V[me+2]<<16-se,ee<24-se)||(I|=V[me+3]<<24-se),I&he}function ue(V,le,ee){var se=le&7,me=le>>>3;return se<=5?V[me]|=(ee&7)<<se:(V[me]|=ee<<se&255,V[me+1]=(ee&7)>>8-se),le+3}function J(V,le,ee){var se=le&7,me=le>>>3;return ee=(ee&1)<<se,V[me]|=ee,le+1}function be(V,le,ee){var se=le&7,me=le>>>3;return ee<<=se,V[me]|=ee&255,ee>>>=8,V[me+1]=ee,le+8}function ge(V,le,ee){var se=le&7,me=le>>>3;return ee<<=se,V[me]|=ee&255,ee>>>=8,V[me+1]=ee&255,V[me+2]=ee>>>8,le+16}function Ne(V,le){var ee=V.length,se=2*ee>le?2*ee:le+5,me=0;if(ee>=le)return V;if(dr){var he=RT(se);if(V.copy)V.copy(he);else for(;me<V.length;++me)he[me]=V[me];return he}else if(q){var I=new Uint8Array(se);if(I.set)I.set(V);else for(;me<ee;++me)I[me]=V[me];return I}return V.length=se,V}function Ie(V){for(var le=new Array(V),ee=0;ee<V;++ee)le[ee]=0;return le}function Je(V,le,ee){var se=1,me=0,he=0,I=0,X=0,je=V.length,Pe=q?new Uint16Array(32):Ie(32);for(he=0;he<32;++he)Pe[he]=0;for(he=je;he<ee;++he)V[he]=0;je=V.length;var _e=q?new Uint16Array(je):Ie(je);for(he=0;he<je;++he)Pe[me=V[he]]++,se<me&&(se=me),_e[he]=0;for(Pe[0]=0,he=1;he<=se;++he)Pe[he+16]=X=X+Pe[he-1]<<1;for(he=0;he<je;++he)X=V[he],X!=0&&(_e[he]=Pe[X+16]++);var Ze=0;for(he=0;he<je;++he)if(Ze=V[he],Ze!=0)for(X=oe(_e[he],se)>>se-Ze,I=(1<<se+4-Ze)-1;I>=0;--I)le[X|I<<Ze]=Ze&15|he<<4;return se}var dt=q?new Uint16Array(512):Ie(512),Ae=q?new Uint16Array(32):Ie(32);if(!q){for(var ze=0;ze<512;++ze)dt[ze]=0;for(ze=0;ze<32;++ze)Ae[ze]=0}(function(){for(var V=[],le=0;le<32;le++)V.push(5);Je(V,Ae,32);var ee=[];for(le=0;le<=143;le++)ee.push(8);for(;le<=255;le++)ee.push(9);for(;le<=279;le++)ee.push(7);for(;le<=287;le++)ee.push(8);Je(ee,dt,288)})();var It=function(){for(var le=q?new Uint8Array(32768):[],ee=0,se=0;ee<M.length-1;++ee)for(;se<M[ee+1];++se)le[se]=ee;for(;se<32768;++se)le[se]=29;var me=q?new Uint8Array(259):[];for(ee=0,se=0;ee<ae.length-1;++ee)for(;se<ae[ee+1];++se)me[se]=ee;function he(X,je){for(var Pe=0;Pe<X.length;){var _e=Math.min(65535,X.length-Pe),Ze=Pe+_e==X.length;for(je.write_shift(1,+Ze),je.write_shift(2,_e),je.write_shift(2,~_e&65535);_e-- >0;)je[je.l++]=X[Pe++]}return je.l}function I(X,je){for(var Pe=0,_e=0,Ze=q?new Uint16Array(32768):[];_e<X.length;){var ot=Math.min(65535,X.length-_e);if(ot<10){for(Pe=ue(je,Pe,+(_e+ot==X.length)),Pe&7&&(Pe+=8-(Pe&7)),je.l=Pe/8|0,je.write_shift(2,ot),je.write_shift(2,~ot&65535);ot-- >0;)je[je.l++]=X[_e++];Pe=je.l*8;continue}Pe=ue(je,Pe,+(_e+ot==X.length)+2);for(var pt=0;ot-- >0;){var Qe=X[_e];pt=(pt<<5^Qe)&32767;var gt=-1,K=0;if((gt=Ze[pt])&&(gt|=_e&-32768,gt>_e&&(gt-=32768),gt<_e))for(;X[gt+K]==X[_e+K]&&K<250;)++K;if(K>2){Qe=me[K],Qe<=22?Pe=be(je,Pe,G[Qe+1]>>1)-1:(be(je,Pe,3),Pe+=5,be(je,Pe,G[Qe-23]>>5),Pe+=3);var Tt=Qe<8?0:Qe-4>>2;Tt>0&&(ge(je,Pe,K-ae[Qe]),Pe+=Tt),Qe=le[_e-gt],Pe=be(je,Pe,G[Qe]>>3),Pe-=3;var Ke=Qe<4?0:Qe-2>>1;Ke>0&&(ge(je,Pe,_e-gt-M[Qe]),Pe+=Ke);for(var Re=0;Re<K;++Re)Ze[pt]=_e&32767,pt=(pt<<5^X[_e])&32767,++_e;ot-=K-1}else Qe<=143?Qe=Qe+48:Pe=J(je,Pe,1),Pe=be(je,Pe,G[Qe]),Ze[pt]=_e&32767,++_e}Pe=be(je,Pe,0)-1}return je.l=(Pe+7)/8|0,je.l}return function(je,Pe){return je.length<8?he(je,Pe):I(je,Pe)}}();function Ft(V){var le=Ve(50+Math.floor(V.length*1.1)),ee=It(V,le);return le.slice(0,ee)}var Se=q?new Uint16Array(32768):Ie(32768),O=q?new Uint16Array(32768):Ie(32768),de=q?new Uint16Array(128):Ie(128),Oe=1,Ge=1;function kt(V,le){var ee=ce(V,le)+257;le+=5;var se=ce(V,le)+1;le+=5;var me=ne(V,le)+4;le+=4;for(var he=0,I=q?new Uint8Array(19):Ie(19),X=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],je=1,Pe=q?new Uint8Array(8):Ie(8),_e=q?new Uint8Array(8):Ie(8),Ze=I.length,ot=0;ot<me;++ot)I[ie[ot]]=he=fe(V,le),je<he&&(je=he),Pe[he]++,le+=3;var pt=0;for(Pe[0]=0,ot=1;ot<=je;++ot)_e[ot]=pt=pt+Pe[ot-1]<<1;for(ot=0;ot<Ze;++ot)(pt=I[ot])!=0&&(X[ot]=_e[pt]++);var Qe=0;for(ot=0;ot<Ze;++ot)if(Qe=I[ot],Qe!=0){pt=G[X[ot]]>>8-Qe;for(var gt=(1<<7-Qe)-1;gt>=0;--gt)de[pt|gt<<Qe]=Qe&7|ot<<3}var K=[];for(je=1;K.length<ee+se;)switch(pt=de[pe(V,le)],le+=pt&7,pt>>>=3){case 16:for(he=3+Be(V,le),le+=2,pt=K[K.length-1];he-- >0;)K.push(pt);break;case 17:for(he=3+fe(V,le),le+=3;he-- >0;)K.push(0);break;case 18:for(he=11+pe(V,le),le+=7;he-- >0;)K.push(0);break;default:K.push(pt),je<pt&&(je=pt);break}var Tt=K.slice(0,ee),Ke=K.slice(ee);for(ot=ee;ot<286;++ot)Tt[ot]=0;for(ot=se;ot<30;++ot)Ke[ot]=0;return Oe=Je(Tt,Se,286),Ge=Je(Ke,O,30),le}function at(V,le){if(V[0]==3&&!(V[1]&3))return[Sd(le),2];for(var ee=0,se=0,me=RT(le||1<<18),he=0,I=me.length>>>0,X=0,je=0;!(se&1);){if(se=fe(V,ee),ee+=3,se>>>1)se>>1==1?(X=9,je=5):(ee=kt(V,ee),X=Oe,je=Ge);else{ee&7&&(ee+=8-(ee&7));var Pe=V[ee>>>3]|V[(ee>>>3)+1]<<8;if(ee+=32,Pe>0)for(!le&&I<he+Pe&&(me=Ne(me,he+Pe),I=me.length);Pe-- >0;)me[he++]=V[ee>>>3],ee+=8;continue}for(;;){!le&&I<he+32767&&(me=Ne(me,he+32767),I=me.length);var _e=F(V,ee,X),Ze=se>>>1==1?dt[_e]:Se[_e];if(ee+=Ze&15,Ze>>>=4,!(Ze>>>8&255))me[he++]=Ze;else{if(Ze==256)break;Ze-=257;var ot=Ze<8?0:Ze-4>>2;ot>5&&(ot=0);var pt=he+ae[Ze];ot>0&&(pt+=F(V,ee,ot),ee+=ot),_e=F(V,ee,je),Ze=se>>>1==1?Ae[_e]:O[_e],ee+=Ze&15,Ze>>>=4;var Qe=Ze<4?0:Ze-2>>1,gt=M[Ze];for(Qe>0&&(gt+=F(V,ee,Qe),ee+=Qe),!le&&I<pt&&(me=Ne(me,pt+100),I=me.length);he<pt;)me[he]=me[he-gt],++he}}}return le?[me,ee+7>>>3]:[me.slice(0,he),ee+7>>>3]}function ft(V,le){var ee=V.slice(V.l||0),se=at(ee,le);return V.l+=se[1],se[0]}function ve(V,le){if(V)typeof console<"u"&&console.error(le);else throw new Error(le)}function Ce(V,le){var ee=V;fn(ee,0);var se=[],me=[],he={FileIndex:se,FullPaths:me};k(he,{root:le.root});for(var I=ee.length-4;(ee[I]!=80||ee[I+1]!=75||ee[I+2]!=5||ee[I+3]!=6)&&I>=0;)--I;ee.l=I+4,ee.l+=4;var X=ee.read_shift(2);ee.l+=6;var je=ee.read_shift(4);for(ee.l=je,I=0;I<X;++I){ee.l+=20;var Pe=ee.read_shift(4),_e=ee.read_shift(4),Ze=ee.read_shift(2),ot=ee.read_shift(2),pt=ee.read_shift(2);ee.l+=8;var Qe=ee.read_shift(4),gt=o(ee.slice(ee.l+Ze,ee.l+Ze+ot));ee.l+=Ze+ot+pt;var K=ee.l;ee.l=Qe+4,Te(ee,Pe,_e,he,gt),ee.l=K}return he}function Te(V,le,ee,se,me){V.l+=2;var he=V.read_shift(2),I=V.read_shift(2),X=l(V);if(he&8257)throw new Error("Unsupported ZIP encryption");for(var je=V.read_shift(4),Pe=V.read_shift(4),_e=V.read_shift(4),Ze=V.read_shift(2),ot=V.read_shift(2),pt="",Qe=0;Qe<Ze;++Qe)pt+=String.fromCharCode(V[V.l++]);if(ot){var gt=o(V.slice(V.l,V.l+ot));(gt[21589]||{}).mt&&(X=gt[21589].mt),((me||{})[21589]||{}).mt&&(X=me[21589].mt)}V.l+=ot;var K=V.slice(V.l,V.l+Pe);switch(I){case 8:K=Z(V,_e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+I)}var Tt=!1;he&8&&(je=V.read_shift(4),je==134695760&&(je=V.read_shift(4),Tt=!0),Pe=V.read_shift(4),_e=V.read_shift(4)),Pe!=le&&ve(Tt,"Bad compressed size: "+le+" != "+Pe),_e!=ee&&ve(Tt,"Bad uncompressed size: "+ee+" != "+_e),ct(se,pt,K,{unsafe:!0,mt:X})}function Xe(V,le){var ee=le||{},se=[],me=[],he=Ve(1),I=ee.compression?8:0,X=0,je=0,Pe=0,_e=0,Ze=0,ot=V.FullPaths[0],pt=ot,Qe=V.FileIndex[0],gt=[],K=0;for(je=1;je<V.FullPaths.length;++je)if(pt=V.FullPaths[je].slice(ot.length),Qe=V.FileIndex[je],!(!Qe.size||!Qe.content||pt=="Sh33tJ5")){var Tt=_e,Ke=Ve(pt.length);for(Pe=0;Pe<pt.length;++Pe)Ke.write_shift(1,pt.charCodeAt(Pe)&127);Ke=Ke.slice(0,Ke.l),gt[Ze]=Z1e.buf(Qe.content,0);var Re=Qe.content;I==8&&(Re=W(Re)),he=Ve(30),he.write_shift(4,67324752),he.write_shift(2,20),he.write_shift(2,X),he.write_shift(2,I),Qe.mt?i(he,Qe.mt):he.write_shift(4,0),he.write_shift(-4,gt[Ze]),he.write_shift(4,Re.length),he.write_shift(4,Qe.content.length),he.write_shift(2,Ke.length),he.write_shift(2,0),_e+=he.length,se.push(he),_e+=Ke.length,se.push(Ke),_e+=Re.length,se.push(Re),he=Ve(46),he.write_shift(4,33639248),he.write_shift(2,0),he.write_shift(2,20),he.write_shift(2,X),he.write_shift(2,I),he.write_shift(4,0),he.write_shift(-4,gt[Ze]),he.write_shift(4,Re.length),he.write_shift(4,Qe.content.length),he.write_shift(2,Ke.length),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(4,0),he.write_shift(4,Tt),K+=he.l,me.push(he),K+=Ke.length,me.push(Ke),++Ze}return he=Ve(22),he.write_shift(4,101010256),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(2,Ze),he.write_shift(2,Ze),he.write_shift(4,K),he.write_shift(4,_e),he.write_shift(2,0),ra([ra(se),ra(me),he])}var rt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function We(V,le){if(V.ctype)return V.ctype;var ee=V.name||"",se=ee.match(/\.([^\.]+)$/);return se&&rt[se[1]]||le&&(se=(ee=le).match(/[\.\\]([^\.\\])+$/),se&&rt[se[1]])?rt[se[1]]:"application/octet-stream"}function ye(V){for(var le=$0(V),ee=[],se=0;se<le.length;se+=76)ee.push(le.slice(se,se+76));return ee.join(`\r
`)+`\r
`}function Ue(V){var le=V.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Pe){var _e=Pe.charCodeAt(0).toString(16).toUpperCase();return"="+(_e.length==1?"0"+_e:_e)});le=le.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),le.charAt(0)==`
`&&(le="=0D"+le.slice(1)),le=le.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ee=[],se=le.split(`\r
`),me=0;me<se.length;++me){var he=se[me];if(he.length==0){ee.push("");continue}for(var I=0;I<he.length;){var X=76,je=he.slice(I,I+X);je.charAt(X-1)=="="?X--:je.charAt(X-2)=="="?X-=2:je.charAt(X-3)=="="&&(X-=3),je=he.slice(I,I+X),I+=X,I<he.length&&(je+="="),ee.push(je)}}return ee.join(`\r
`)}function st(V){for(var le=[],ee=0;ee<V.length;++ee){for(var se=V[ee];ee<=V.length&&se.charAt(se.length-1)=="=";)se=se.slice(0,se.length-1)+V[++ee];le.push(se)}for(var me=0;me<le.length;++me)le[me]=le[me].replace(/[=][0-9A-Fa-f]{2}/g,function(he){return String.fromCharCode(parseInt(he.slice(1),16))});return ki(le.join(`\r
`))}function yt(V,le,ee){for(var se="",me="",he="",I,X=0;X<10;++X){var je=le[X];if(!je||je.match(/^\s*$/))break;var Pe=je.match(/^(.*?):\s*([^\s].*)$/);if(Pe)switch(Pe[1].toLowerCase()){case"content-location":se=Pe[2].trim();break;case"content-type":he=Pe[2].trim();break;case"content-transfer-encoding":me=Pe[2].trim();break}}switch(++X,me.toLowerCase()){case"base64":I=ki(Zl(le.slice(X).join("")));break;case"quoted-printable":I=st(le.slice(X));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+me)}var _e=ct(V,se.slice(ee.length),I,{unsafe:!0});he&&(_e.ctype=he)}function xt(V,le){if(Q(V.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ee=le&&le.root||"",se=(dr&&Buffer.isBuffer(V)?V.toString("binary"):Q(V)).split(`\r
`),me=0,he="";for(me=0;me<se.length;++me)if(he=se[me],!!/^Content-Location:/i.test(he)&&(he=he.slice(he.indexOf("file")),ee||(ee=he.slice(0,he.lastIndexOf("/")+1)),he.slice(0,ee.length)!=ee))for(;ee.length>0&&(ee=ee.slice(0,ee.length-1),ee=ee.slice(0,ee.lastIndexOf("/")+1),he.slice(0,ee.length)!=ee););var I=(se[1]||"").match(/boundary="(.*?)"/);if(!I)throw new Error("MAD cannot find boundary");var X="--"+(I[1]||""),je=[],Pe=[],_e={FileIndex:je,FullPaths:Pe};k(_e);var Ze,ot=0;for(me=0;me<se.length;++me){var pt=se[me];pt!==X&&pt!==X+"--"||(ot++&&yt(_e,se.slice(Ze,me),ee),Ze=me)}return _e}function $t(V,le){var ee=le||{},se=ee.boundary||"SheetJS";se="------="+se;for(var me=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+se.slice(2)+'"',"","",""],he=V.FullPaths[0],I=he,X=V.FileIndex[0],je=1;je<V.FullPaths.length;++je)if(I=V.FullPaths[je].slice(he.length),X=V.FileIndex[je],!(!X.size||!X.content||I=="Sh33tJ5")){I=I.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(K){return"_x"+K.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(K){return"_u"+K.charCodeAt(0).toString(16)+"_"});for(var Pe=X.content,_e=dr&&Buffer.isBuffer(Pe)?Pe.toString("binary"):Q(Pe),Ze=0,ot=Math.min(1024,_e.length),pt=0,Qe=0;Qe<=ot;++Qe)(pt=_e.charCodeAt(Qe))>=32&&pt<128&&++Ze;var gt=Ze>=ot*4/5;me.push(se),me.push("Content-Location: "+(ee.root||"file:///C:/SheetJS/")+I),me.push("Content-Transfer-Encoding: "+(gt?"quoted-printable":"base64")),me.push("Content-Type: "+We(X,I)),me.push(""),me.push(gt?Ue(_e):ye(_e))}return me.push(se+`--\r
`),me.join(`\r
`)}function Rt(V){var le={};return k(le,V),le}function ct(V,le,ee,se){var me=se&&se.unsafe;me||k(V);var he=!me&&br.find(V,le);if(!he){var I=V.FullPaths[0];le.slice(0,I.length)==I?I=le:(I.slice(-1)!="/"&&(I+="/"),I=(I+le).replace("//","/")),he={name:n(le),type:2},V.FileIndex.push(he),V.FullPaths.push(I),me||br.utils.cfb_gc(V)}return he.content=ee,he.size=ee?ee.length:0,se&&(se.CLSID&&(he.clsid=se.CLSID),se.mt&&(he.mt=se.mt),se.ct&&(he.ct=se.ct)),he}function wr(V,le){k(V);var ee=br.find(V,le);if(ee){for(var se=0;se<V.FileIndex.length;++se)if(V.FileIndex[se]==ee)return V.FileIndex.splice(se,1),V.FullPaths.splice(se,1),!0}return!1}function js(V,le,ee){k(V);var se=br.find(V,le);if(se){for(var me=0;me<V.FileIndex.length;++me)if(V.FileIndex[me]==se)return V.FileIndex[me].name=n(ee),V.FullPaths[me]=ee,!0}return!1}function Ur(V){C(V,!0)}return r.find=A,r.read=S,r.parse=u,r.write=B,r.writeFile=z,r.utils={cfb_new:Rt,cfb_add:ct,cfb_del:wr,cfb_mov:js,cfb_gc:Ur,ReadShift:qh,CheckField:k$,prep_blob:fn,bconcat:ra,use_zlib:R,_deflateRaw:Ft,_inflateRaw:ft,consts:T},r}();function e2e(e){return typeof e=="string"?iv(e):Array.isArray(e)?C1e(e):e}function Ox(e,r,s){if(typeof Deno<"u"){if(s&&typeof r=="string")switch(s){case"utf8":r=new TextEncoder(s).encode(r);break;case"binary":r=iv(r);break;default:throw new Error("Unsupported encoding "+s)}return Deno.writeFileSync(e,r)}var a=s=="utf8"?U0(r):r;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var n=new Blob([e2e(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(typeof saveAs<"u")return saveAs(n,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(r)&&(r=Ix(r)),o.write(r),o.close(),r}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+e)}function oa(e){for(var r=Object.keys(e),s=[],a=0;a<r.length;++a)Object.prototype.hasOwnProperty.call(e,r[a])&&s.push(r[a]);return s}function qT(e,r){for(var s=[],a=oa(e),n=0;n!==a.length;++n)s[e[a[n]][r]]==null&&(s[e[a[n]][r]]=a[n]);return s}function U5(e){for(var r=[],s=oa(e),a=0;a!==s.length;++a)r[e[s[a]]]=s[a];return r}function cv(e){for(var r=[],s=oa(e),a=0;a!==s.length;++a)r[e[s[a]]]=parseInt(s[a],10);return r}function t2e(e){for(var r=[],s=oa(e),a=0;a!==s.length;++a)r[e[s[a]]]==null&&(r[e[s[a]]]=[]),r[e[s[a]]].push(s[a]);return r}var ay=new Date(1899,11,30,0,0,0);function nn(e,r){var s=e.getTime(),a=ay.getTime()+(e.getTimezoneOffset()-ay.getTimezoneOffset())*6e4;return(s-a)/(24*60*60*1e3)}var o$=new Date,r2e=ay.getTime()+(o$.getTimezoneOffset()-ay.getTimezoneOffset())*6e4,GT=o$.getTimezoneOffset();function c$(e){var r=new Date;return r.setTime(e*24*60*60*1e3+r2e),r.getTimezoneOffset()!==GT&&r.setTime(r.getTime()+(r.getTimezoneOffset()-GT)*6e4),r}var KT=new Date("2017-02-19T19:06:09.000Z"),d$=isNaN(KT.getFullYear())?new Date("2/19/17"):KT,s2e=d$.getFullYear()==2017;function Ba(e,r){var s=new Date(e);if(s2e)return r>0?s.setTime(s.getTime()+s.getTimezoneOffset()*60*1e3):r<0&&s.setTime(s.getTime()-s.getTimezoneOffset()*60*1e3),s;if(e instanceof Date)return e;if(d$.getFullYear()==1917&&!isNaN(s.getFullYear())){var a=s.getFullYear();return e.indexOf(""+a)>-1||s.setFullYear(s.getFullYear()+100),s}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function dv(e,r){if(dr&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var s={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return s[i]||i})}catch{}for(var a=[],n=0;n!=e.length;++n)a.push(String.fromCharCode(e[n]));return a.join("")}function ln(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=ln(e[s]));return r}function ls(e,r){for(var s="";s.length<r;)s+=e;return s}function Dl(e){var r=Number(e);if(!isNaN(r))return isFinite(r)?r:NaN;if(!/\d/.test(e))return r;var s=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return s*=100,""});return!isNaN(r=Number(a))||(a=a.replace(/[(](.*)[)]/,function(n,i){return s=-s,i}),!isNaN(r=Number(a)))?r/s:r}var a2e=["january","february","march","april","may","june","july","august","september","october","november","december"];function z0(e){var r=new Date(e),s=new Date(NaN),a=r.getYear(),n=r.getMonth(),i=r.getDate();if(isNaN(i))return s;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&a2e.indexOf(l)==-1)return s}else if(l.match(/[a-z]/))return s;return a<0||a>8099?s:(n>0||i>1)&&a!=101?r:e.match(/[^-0-9:,\/\\]/)?s:r}function Vt(e,r,s){if(e.FullPaths){if(typeof s=="string"){var a;return dr?a=ho(s):a=P1e(s),br.utils.cfb_add(e,r,a)}br.utils.cfb_add(e,r,s)}else e.file(r,s)}function H5(){return br.utils.cfb_new()}var Is=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,n2e={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},V5=U5(n2e),W5=/[&<>'"]/g,i2e=/[\u0000-\u0008\u000b-\u001f]/g;function fr(e){var r=e+"";return r.replace(W5,function(s){return V5[s]}).replace(i2e,function(s){return"_x"+("000"+s.charCodeAt(0).toString(16)).slice(-4)+"_"})}function YT(e){return fr(e).replace(/ /g,"_x0020_")}var u$=/[\u0000-\u001f]/g;function l2e(e){var r=e+"";return r.replace(W5,function(s){return V5[s]}).replace(/\n/g,"<br/>").replace(u$,function(s){return"&#x"+("000"+s.charCodeAt(0).toString(16)).slice(-4)+";"})}function o2e(e){var r=e+"";return r.replace(W5,function(s){return V5[s]}).replace(u$,function(s){return"&#x"+s.charCodeAt(0).toString(16).toUpperCase()+";"})}function c2e(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function d2e(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function J1(e){for(var r="",s=0,a=0,n=0,i=0,l=0,o=0;s<e.length;){if(a=e.charCodeAt(s++),a<128){r+=String.fromCharCode(a);continue}if(n=e.charCodeAt(s++),a>191&&a<224){l=(a&31)<<6,l|=n&63,r+=String.fromCharCode(l);continue}if(i=e.charCodeAt(s++),a<240){r+=String.fromCharCode((a&15)<<12|(n&63)<<6|i&63);continue}l=e.charCodeAt(s++),o=((a&7)<<18|(n&63)<<12|(i&63)<<6|l&63)-65536,r+=String.fromCharCode(55296+(o>>>10&1023)),r+=String.fromCharCode(56320+(o&1023))}return r}function XT(e){var r=Sd(2*e.length),s,a,n=1,i=0,l=0,o;for(a=0;a<e.length;a+=n)n=1,(o=e.charCodeAt(a))<128?s=o:o<224?(s=(o&31)*64+(e.charCodeAt(a+1)&63),n=2):o<240?(s=(o&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),n=3):(n=4,s=(o&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),s-=65536,l=55296+(s>>>10&1023),s=56320+(s&1023)),l!==0&&(r[i++]=l&255,r[i++]=l>>>8,l=0),r[i++]=s%256,r[i++]=s>>>8;return r.slice(0,i).toString("ucs2")}function JT(e){return ho(e,"binary").toString("utf8")}var Mp="foo bar baz",Wh=dr&&(JT(Mp)==J1(Mp)&&JT||XT(Mp)==J1(Mp)&&XT)||J1,U0=dr?function(e){return ho(e,"utf8").toString("binary")}:function(e){for(var r=[],s=0,a=0,n=0;s<e.length;)switch(a=e.charCodeAt(s++),!0){case a<128:r.push(String.fromCharCode(a));break;case a<2048:r.push(String.fromCharCode(192+(a>>6))),r.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,n=e.charCodeAt(s++)-56320+(a<<10),r.push(String.fromCharCode(240+(n>>18&7))),r.push(String.fromCharCode(144+(n>>12&63))),r.push(String.fromCharCode(128+(n>>6&63))),r.push(String.fromCharCode(128+(n&63)));break;default:r.push(String.fromCharCode(224+(a>>12))),r.push(String.fromCharCode(128+(a>>6&63))),r.push(String.fromCharCode(128+(a&63)))}return r.join("")},u2e=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(r){return[new RegExp("&"+r[0]+";","ig"),r[1]]});return function(s){for(var a=s.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)a=a.replace(e[n][0],e[n][1]);return a}}(),m$=/(^\s|\s$|\n)/;function sa(e,r){return"<"+e+(r.match(m$)?' xml:space="preserve"':"")+">"+r+"</"+e+">"}function H0(e){return oa(e).map(function(r){return" "+r+'="'+e[r]+'"'}).join("")}function nt(e,r,s){return"<"+e+(s!=null?H0(s):"")+(r!=null?(r.match(m$)?' xml:space="preserve"':"")+">"+r+"</"+e:"/")+">"}function _w(e,r){try{return e.toISOString().replace(/\.\d*/,"")}catch(s){if(r)throw s}return""}function m2e(e,r){switch(typeof e){case"string":var s=nt("vt:lpwstr",fr(e));return s=s.replace(/&quot;/g,"_x0022_"),s;case"number":return nt((e|0)==e?"vt:i4":"vt:r8",fr(String(e)));case"boolean":return nt("vt:bool",e?"true":"false")}if(e instanceof Date)return nt("vt:filetime",_w(e));throw new Error("Unable to serialize "+e)}var Ws={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Bm=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],gn={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function h2e(e,r){for(var s=1-2*(e[r+7]>>>7),a=((e[r+7]&127)<<4)+(e[r+6]>>>4&15),n=e[r+6]&15,i=5;i>=0;--i)n=n*256+e[r+i];return a==2047?n==0?s*(1/0):NaN:(a==0?a=-1022:(a-=1023,n+=Math.pow(2,52)),s*Math.pow(2,a-52)*n)}function x2e(e,r,s){var a=(r<0||1/r==-1/0?1:0)<<7,n=0,i=0,l=a?-r:r;isFinite(l)?l==0?n=i=0:(n=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-n),n<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?n=-1022:(i-=Math.pow(2,52),n+=1023)):(n=2047,i=isNaN(r)?26985:0);for(var o=0;o<=5;++o,i/=256)e[s+o]=i&255;e[s+6]=(n&15)<<4|i&15,e[s+7]=n>>4|a}var QT=function(e){for(var r=[],s=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var n=0,i=e[0][a].length;n<i;n+=s)r.push.apply(r,e[0][a].slice(n,n+s));return r},ZT=dr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(r){return Buffer.isBuffer(r)?r:ho(r)})):QT(e)}:QT,eE=function(e,r,s){for(var a=[],n=r;n<s;n+=2)a.push(String.fromCharCode(Ph(e,n)));return a.join("").replace(Vh,"")},q5=dr?function(e,r,s){return Buffer.isBuffer(e)?e.toString("utf16le",r,s).replace(Vh,""):eE(e,r,s)}:eE,tE=function(e,r,s){for(var a=[],n=r;n<r+s;++n)a.push(("0"+e[n].toString(16)).slice(-2));return a.join("")},h$=dr?function(e,r,s){return Buffer.isBuffer(e)?e.toString("hex",r,r+s):tE(e,r,s)}:tE,rE=function(e,r,s){for(var a=[],n=r;n<s;n++)a.push(String.fromCharCode(au(e,n)));return a.join("")},_x=dr?function(r,s,a){return Buffer.isBuffer(r)?r.toString("utf8",s,a):rE(r,s,a)}:rE,x$=function(e,r){var s=yn(e,r);return s>0?_x(e,r+4,r+4+s-1):""},p$=x$,f$=function(e,r){var s=yn(e,r);return s>0?_x(e,r+4,r+4+s-1):""},g$=f$,y$=function(e,r){var s=2*yn(e,r);return s>0?_x(e,r+4,r+4+s-1):""},b$=y$,v$=function(r,s){var a=yn(r,s);return a>0?q5(r,s+4,s+4+a):""},j$=v$,w$=function(e,r){var s=yn(e,r);return s>0?_x(e,r+4,r+4+s):""},N$=w$,S$=function(e,r){return h2e(e,r)},ny=S$,G5=function(r){return Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array};dr&&(p$=function(r,s){if(!Buffer.isBuffer(r))return x$(r,s);var a=r.readUInt32LE(s);return a>0?r.toString("utf8",s+4,s+4+a-1):""},g$=function(r,s){if(!Buffer.isBuffer(r))return f$(r,s);var a=r.readUInt32LE(s);return a>0?r.toString("utf8",s+4,s+4+a-1):""},b$=function(r,s){if(!Buffer.isBuffer(r))return y$(r,s);var a=2*r.readUInt32LE(s);return r.toString("utf16le",s+4,s+4+a-1)},j$=function(r,s){if(!Buffer.isBuffer(r))return v$(r,s);var a=r.readUInt32LE(s);return r.toString("utf16le",s+4,s+4+a)},N$=function(r,s){if(!Buffer.isBuffer(r))return w$(r,s);var a=r.readUInt32LE(s);return r.toString("utf8",s+4,s+4+a)},ny=function(r,s){return Buffer.isBuffer(r)?r.readDoubleLE(s):S$(r,s)},G5=function(r){return Buffer.isBuffer(r)||Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array});var au=function(e,r){return e[r]},Ph=function(e,r){return e[r+1]*256+e[r]},p2e=function(e,r){var s=e[r+1]*256+e[r];return s<32768?s:(65535-s+1)*-1},yn=function(e,r){return e[r+3]*(1<<24)+(e[r+2]<<16)+(e[r+1]<<8)+e[r]},_c=function(e,r){return e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]},f2e=function(e,r){return e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]};function qh(e,r){var s="",a,n,i=[],l,o,d,c;switch(r){case"dbcs":if(c=this.l,dr&&Buffer.isBuffer(this))s=this.slice(this.l,this.l+2*e).toString("utf16le");else for(d=0;d<e;++d)s+=String.fromCharCode(Ph(this,c)),c+=2;e*=2;break;case"utf8":s=_x(this,this.l,this.l+e);break;case"utf16le":e*=2,s=q5(this,this.l,this.l+e);break;case"wstr":return qh.call(this,e,"dbcs");case"lpstr-ansi":s=p$(this,this.l),e=4+yn(this,this.l);break;case"lpstr-cp":s=g$(this,this.l),e=4+yn(this,this.l);break;case"lpwstr":s=b$(this,this.l),e=4+2*yn(this,this.l);break;case"lpp4":e=4+yn(this,this.l),s=j$(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+yn(this,this.l),s=N$(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,s="";(l=au(this,this.l+e++))!==0;)i.push(Ip(l));s=i.join("");break;case"_wstr":for(e=0,s="";(l=Ph(this,this.l+e))!==0;)i.push(Ip(l)),e+=2;e+=2,s=i.join("");break;case"dbcs-cont":for(s="",c=this.l,d=0;d<e;++d){if(this.lens&&this.lens.indexOf(c)!==-1)return l=au(this,c),this.l=c+1,o=qh.call(this,e-d,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Ip(Ph(this,c))),c+=2}s=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(s="",c=this.l,d=0;d!=e;++d){if(this.lens&&this.lens.indexOf(c)!==-1)return l=au(this,c),this.l=c+1,o=qh.call(this,e-d,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Ip(au(this,c))),c+=1}s=i.join("");break;default:switch(e){case 1:return a=au(this,this.l),this.l++,a;case 2:return a=(r==="i"?p2e:Ph)(this,this.l),this.l+=2,a;case 4:case-4:return r==="i"||!(this[this.l+3]&128)?(a=(e>0?_c:f2e)(this,this.l),this.l+=4,a):(n=yn(this,this.l),this.l+=4,n);case 8:case-8:if(r==="f")return e==8?n=ny(this,this.l):n=ny([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:s=h$(this,this.l,e);break}}return this.l+=e,s}var g2e=function(e,r,s){e[s]=r&255,e[s+1]=r>>>8&255,e[s+2]=r>>>16&255,e[s+3]=r>>>24&255},y2e=function(e,r,s){e[s]=r&255,e[s+1]=r>>8&255,e[s+2]=r>>16&255,e[s+3]=r>>24&255},b2e=function(e,r,s){e[s]=r&255,e[s+1]=r>>>8&255};function v2e(e,r,s){var a=0,n=0;if(s==="dbcs"){for(n=0;n!=r.length;++n)b2e(this,r.charCodeAt(n),this.l+2*n);a=2*r.length}else if(s==="sbcs"){for(r=r.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=r.length;++n)this[this.l+n]=r.charCodeAt(n)&255;a=r.length}else if(s==="hex"){for(;n<e;++n)this[this.l++]=parseInt(r.slice(2*n,2*n+2),16)||0;return this}else if(s==="utf16le"){var i=Math.min(this.l+e,this.length);for(n=0;n<Math.min(r.length,e);++n){var l=r.charCodeAt(n);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=r&255;break;case 2:a=2,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255;break;case 3:a=3,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255,r>>>=8,this[this.l+2]=r&255;break;case 4:a=4,g2e(this,r,this.l);break;case 8:if(a=8,s==="f"){x2e(this,r,this.l);break}case 16:break;case-4:a=4,y2e(this,r,this.l);break}return this.l+=a,this}function k$(e,r){var s=h$(this,this.l,e.length>>1);if(s!==e)throw new Error(r+"Expected "+e+" saw "+s);this.l+=e.length>>1}function fn(e,r){e.l=r,e.read_shift=qh,e.chk=k$,e.write_shift=v2e}function cl(e,r){e.l+=r}function Ve(e){var r=Sd(e);return fn(r,0),r}function en(){var e=[],r=dr?256:2048,s=function(c){var u=Ve(c);return fn(u,0),u},a=s(r),n=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(c){return a&&c<a.length-a.l?a:(n(),a=s(Math.max(c+1,r)))},l=function(){return n(),ra(e)},o=function(c){n(),a=c,a.l==null&&(a.l=a.length),i(r)};return{next:i,push:o,end:l,_bufs:e}}function Ye(e,r,s,a){var n=+r,i;if(!isNaN(n)){a||(a=h5e[n].p||(s||[]).length||0),i=1+(n>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var l=e.next(i);n<=127?l.write_shift(1,n):(l.write_shift(1,(n&127)+128),l.write_shift(1,n>>7));for(var o=0;o!=4;++o)if(a>=128)l.write_shift(1,(a&127)+128),a>>=7;else{l.write_shift(1,a);break}a>0&&G5(s)&&e.push(s)}}function Gh(e,r,s){var a=ln(e);if(r.s?(a.cRel&&(a.c+=r.s.c),a.rRel&&(a.r+=r.s.r)):(a.cRel&&(a.c+=r.c),a.rRel&&(a.r+=r.r)),!s||s.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function sE(e,r,s){var a=ln(e);return a.s=Gh(a.s,r.s,s),a.e=Gh(a.e,r.s,s),a}function Kh(e,r){if(e.cRel&&e.c<0)for(e=ln(e);e.c<0;)e.c+=r>8?16384:256;if(e.rRel&&e.r<0)for(e=ln(e);e.r<0;)e.r+=r>8?1048576:r>5?65536:16384;var s=yr(e);return!e.cRel&&e.cRel!=null&&(s=N2e(s)),!e.rRel&&e.rRel!=null&&(s=j2e(s)),s}function Q1(e,r){return e.s.r==0&&!e.s.rRel&&e.e.r==(r.biff>=12?1048575:r.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ja(e.s.c)+":"+(e.e.cRel?"":"$")+ja(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(r.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+na(e.s.r)+":"+(e.e.rRel?"":"$")+na(e.e.r):Kh(e.s,r.biff)+":"+Kh(e.e,r.biff)}function K5(e){return parseInt(w2e(e),10)-1}function na(e){return""+(e+1)}function j2e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function w2e(e){return e.replace(/\$(\d+)$/,"$1")}function Y5(e){for(var r=S2e(e),s=0,a=0;a!==r.length;++a)s=26*s+r.charCodeAt(a)-64;return s-1}function ja(e){if(e<0)throw new Error("invalid column "+e);var r="";for(++e;e;e=Math.floor((e-1)/26))r=String.fromCharCode((e-1)%26+65)+r;return r}function N2e(e){return e.replace(/^([A-Z])/,"$$$1")}function S2e(e){return e.replace(/^\$([A-Z])/,"$1")}function k2e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Gs(e){for(var r=0,s=0,a=0;a<e.length;++a){var n=e.charCodeAt(a);n>=48&&n<=57?r=10*r+(n-48):n>=65&&n<=90&&(s=26*s+(n-64))}return{c:s-1,r:r-1}}function yr(e){for(var r=e.c+1,s="";r;r=(r-1)/26|0)s=String.fromCharCode((r-1)%26+65)+s;return s+(e.r+1)}function _n(e){var r=e.indexOf(":");return r==-1?{s:Gs(e),e:Gs(e)}:{s:Gs(e.slice(0,r)),e:Gs(e.slice(r+1))}}function Es(e,r){return typeof r>"u"||typeof r=="number"?Es(e.s,e.e):(typeof e!="string"&&(e=yr(e)),typeof r!="string"&&(r=yr(r)),e==r?e:e+":"+r)}function $r(e){var r={s:{c:0,r:0},e:{c:0,r:0}},s=0,a=0,n=0,i=e.length;for(s=0;a<i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)s=26*s+n;for(r.s.c=--s,s=0;a<i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)s=10*s+n;if(r.s.r=--s,a===i||n!=10)return r.e.c=r.s.c,r.e.r=r.s.r,r;for(++a,s=0;a!=i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)s=26*s+n;for(r.e.c=--s,s=0;a!=i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)s=10*s+n;return r.e.r=--s,r}function aE(e,r){var s=e.t=="d"&&r instanceof Date;if(e.z!=null)try{return e.w=ic(e.z,s?nn(r):r)}catch{}try{return e.w=ic((e.XF||{}).numFmtId||(s?14:0),s?nn(r):r)}catch{return""+r}}function eo(e,r,s){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&s&&s.dateNF&&(e.z=s.dateNF),e.t=="e"?Mx[e.v]||e.v:r==null?aE(e,e.v):aE(e,r))}function $d(e,r){var s=r&&r.sheet?r.sheet:"Sheet1",a={};return a[s]=e,{SheetNames:[s],Sheets:a}}function C$(e,r,s){var a=s||{},n=e?Array.isArray(e):a.dense,i=e||(n?[]:{}),l=0,o=0;if(i&&a.origin!=null){if(typeof a.origin=="number")l=a.origin;else{var d=typeof a.origin=="string"?Gs(a.origin):a.origin;l=d.r,o=d.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=$r(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),l==-1&&(c.e.r=l=u.e.r+1)}for(var m=0;m!=r.length;++m)if(r[m]){if(!Array.isArray(r[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=r[m].length;++x)if(!(typeof r[m][x]>"u")){var h={v:r[m][x]},p=l+m,f=o+x;if(c.s.r>p&&(c.s.r=p),c.s.c>f&&(c.s.c=f),c.e.r<p&&(c.e.r=p),c.e.c<f&&(c.e.c=f),r[m][x]&&typeof r[m][x]=="object"&&!Array.isArray(r[m][x])&&!(r[m][x]instanceof Date))h=r[m][x];else if(Array.isArray(h.v)&&(h.f=r[m][x][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(a.nullError)h.t="e",h.v=0;else if(a.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=a.dateNF||os[14],a.cellDates?(h.t="d",h.w=ic(h.z,nn(h.v))):(h.t="n",h.v=nn(h.v),h.w=ic(h.z,h.v))):h.t="s";if(n)i[p]||(i[p]=[]),i[p][f]&&i[p][f].z&&(h.z=i[p][f].z),i[p][f]=h;else{var b=yr({c:f,r:p});i[b]&&i[b].z&&(h.z=i[b].z),i[b]=h}}}return c.s.c<1e7&&(i["!ref"]=Es(c)),i}function $m(e,r){return C$(null,e,r)}function C2e(e){return e.read_shift(4,"i")}function Ii(e,r){return r||(r=Ve(4)),r.write_shift(4,e),r}function wa(e){var r=e.read_shift(4);return r===0?"":e.read_shift(r,"dbcs")}function Ks(e,r){var s=!1;return r==null&&(s=!0,r=Ve(4+2*e.length)),r.write_shift(4,e.length),e.length>0&&r.write_shift(0,e,"dbcs"),s?r.slice(0,r.l):r}function P2e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function A2e(e,r){return r||(r=Ve(4)),r.write_shift(2,0),r.write_shift(2,0),r}function X5(e,r){var s=e.l,a=e.read_shift(1),n=wa(e),i=[],l={t:n,h:n};if(a&1){for(var o=e.read_shift(4),d=0;d!=o;++d)i.push(P2e(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=s+r,l}function T2e(e,r){var s=!1;return r==null&&(s=!0,r=Ve(15+4*e.t.length)),r.write_shift(1,0),Ks(e.t,r),s?r.slice(0,r.l):r}var E2e=X5;function I2e(e,r){var s=!1;return r==null&&(s=!0,r=Ve(23+4*e.t.length)),r.write_shift(1,1),Ks(e.t,r),r.write_shift(4,1),A2e({},r),s?r.slice(0,r.l):r}function xi(e){var r=e.read_shift(4),s=e.read_shift(2);return s+=e.read_shift(1)<<16,e.l++,{c:r,iStyleRef:s}}function zd(e,r){return r==null&&(r=Ve(8)),r.write_shift(-4,e.c),r.write_shift(3,e.iStyleRef||e.s),r.write_shift(1,0),r}function Ud(e){var r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:r}}function Hd(e,r){return r==null&&(r=Ve(4)),r.write_shift(3,e.iStyleRef||e.s),r.write_shift(1,0),r}var O2e=wa,P$=Ks;function J5(e){var r=e.read_shift(4);return r===0||r===4294967295?"":e.read_shift(r,"dbcs")}function iy(e,r){var s=!1;return r==null&&(s=!0,r=Ve(127)),r.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&r.write_shift(0,e,"dbcs"),s?r.slice(0,r.l):r}var _2e=wa,Mw=J5,Q5=iy;function A$(e){var r=e.slice(e.l,e.l+4),s=r[0]&1,a=r[0]&2;e.l+=4;var n=a===0?ny([0,0,0,0,r[0]&252,r[1],r[2],r[3]],0):_c(r,0)>>2;return s?n/100:n}function T$(e,r){r==null&&(r=Ve(4));var s=0,a=0,n=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(a=1,s=1),a)r.write_shift(-4,((s?n:e)<<2)+(s+2));else throw new Error("unsupported RkNumber "+e)}function E$(e){var r={s:{},e:{}};return r.s.r=e.read_shift(4),r.e.r=e.read_shift(4),r.s.c=e.read_shift(4),r.e.c=e.read_shift(4),r}function M2e(e,r){return r||(r=Ve(16)),r.write_shift(4,e.s.r),r.write_shift(4,e.e.r),r.write_shift(4,e.s.c),r.write_shift(4,e.e.c),r}var Vd=E$,zm=M2e;function Um(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function kd(e,r){return(r||Ve(8)).write_shift(8,e,"f")}function D2e(e){var r={},s=e.read_shift(1),a=s>>>1,n=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),o=e.read_shift(1),d=e.read_shift(1);switch(e.l++,a){case 0:r.auto=1;break;case 1:r.index=n;var c=V2e[n];c&&(r.rgb=pE(c));break;case 2:r.rgb=pE([l,o,d]);break;case 3:r.theme=n;break}return i!=0&&(r.tint=i>0?i/32767:i/32768),r}function ly(e,r){if(r||(r=Ve(8)),!e||e.auto)return r.write_shift(4,0),r.write_shift(4,0),r;e.index!=null?(r.write_shift(1,2),r.write_shift(1,e.index)):e.theme!=null?(r.write_shift(1,6),r.write_shift(1,e.theme)):(r.write_shift(1,5),r.write_shift(1,0));var s=e.tint||0;if(s>0?s*=32767:s<0&&(s*=32768),r.write_shift(2,s),!e.rgb||e.theme!=null)r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),r.write_shift(1,parseInt(a.slice(0,2),16)),r.write_shift(1,parseInt(a.slice(2,4),16)),r.write_shift(1,parseInt(a.slice(4,6),16)),r.write_shift(1,255)}return r}function L2e(e){var r=e.read_shift(1);e.l++;var s={fBold:r&1,fItalic:r&2,fUnderline:r&4,fStrikeout:r&8,fOutline:r&16,fShadow:r&32,fCondense:r&64,fExtend:r&128};return s}function F2e(e,r){r||(r=Ve(2));var s=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return r.write_shift(1,s),r.write_shift(1,0),r}var I$=2,hn=3,Dp=11,oy=19,Lp=64,R2e=65,B2e=71,$2e=4108,z2e=4126,ta=80,nE={1:{n:"CodePage",t:I$},2:{n:"Category",t:ta},3:{n:"PresentationFormat",t:ta},4:{n:"ByteCount",t:hn},5:{n:"LineCount",t:hn},6:{n:"ParagraphCount",t:hn},7:{n:"SlideCount",t:hn},8:{n:"NoteCount",t:hn},9:{n:"HiddenCount",t:hn},10:{n:"MultimediaClipCount",t:hn},11:{n:"ScaleCrop",t:Dp},12:{n:"HeadingPairs",t:$2e},13:{n:"TitlesOfParts",t:z2e},14:{n:"Manager",t:ta},15:{n:"Company",t:ta},16:{n:"LinksUpToDate",t:Dp},17:{n:"CharacterCount",t:hn},19:{n:"SharedDoc",t:Dp},22:{n:"HyperlinksChanged",t:Dp},23:{n:"AppVersion",t:hn,p:"version"},24:{n:"DigSig",t:R2e},26:{n:"ContentType",t:ta},27:{n:"ContentStatus",t:ta},28:{n:"Language",t:ta},29:{n:"Version",t:ta},255:{},2147483648:{n:"Locale",t:oy},2147483651:{n:"Behavior",t:oy},1919054434:{}},iE={1:{n:"CodePage",t:I$},2:{n:"Title",t:ta},3:{n:"Subject",t:ta},4:{n:"Author",t:ta},5:{n:"Keywords",t:ta},6:{n:"Comments",t:ta},7:{n:"Template",t:ta},8:{n:"LastAuthor",t:ta},9:{n:"RevNumber",t:ta},10:{n:"EditTime",t:Lp},11:{n:"LastPrinted",t:Lp},12:{n:"CreatedDate",t:Lp},13:{n:"ModifiedDate",t:Lp},14:{n:"PageCount",t:hn},15:{n:"WordCount",t:hn},16:{n:"CharCount",t:hn},17:{n:"Thumbnail",t:B2e},18:{n:"Application",t:ta},19:{n:"DocSecurity",t:hn},255:{},2147483648:{n:"Locale",t:oy},2147483651:{n:"Behavior",t:oy},1919054434:{}};function U2e(e){return e.map(function(r){return[r>>16&255,r>>8&255,r&255]})}var H2e=U2e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),V2e=ln(H2e),Mx={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},W2e={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Fp={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function O$(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function _$(e,r){var s=t2e(W2e),a=[],n;a[a.length]=Is,a[a.length]=nt("Types",null,{xmlns:Ws.CT,"xmlns:xsd":Ws.xsd,"xmlns:xsi":Ws.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return nt("Default",null,{Extension:d[0],ContentType:d[1]})}));var i=function(d){e[d]&&e[d].length>0&&(n=e[d][0],a[a.length]=nt("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:Fp[d][r.bookType]||Fp[d].xlsx}))},l=function(d){(e[d]||[]).forEach(function(c){a[a.length]=nt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Fp[d][r.bookType]||Fp[d].xlsx})})},o=function(d){(e[d]||[]).forEach(function(c){a[a.length]=nt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:s[d][0]})})};return i("workbooks"),l("sheets"),l("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),l("metadata"),o("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var ir={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function M$(e){var r=e.lastIndexOf("/");return e.slice(0,r+1)+"_rels/"+e.slice(r+1)+".rels"}function Uu(e){var r=[Is,nt("Relationships",null,{xmlns:Ws.RELS})];return oa(e["!id"]).forEach(function(s){r[r.length]=nt("Relationship",null,e["!id"][s])}),r.length>2&&(r[r.length]="</Relationships>",r[1]=r[1].replace("/>",">")),r.join("")}function xr(e,r,s,a,n,i){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),r<0)for(r=e["!idx"];e["!id"]["rId"+r];++r);if(e["!idx"]=r+1,n.Id="rId"+r,n.Type=a,n.Target=s,[ir.HLINK,ir.XPATH,ir.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw new Error("Cannot rewrite rId "+r);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,r}function q2e(e){var r=[Is];r.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),r.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var s=0;s<e.length;++s)r.push('  <manifest:file-entry manifest:full-path="'+e[s][0]+'" manifest:media-type="'+e[s][1]+`"/>
`);return r.push("</manifest:manifest>"),r.join("")}function lE(e,r,s){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(s||"odf")+"#"+r+`"/>
`,`  </rdf:Description>
`].join("")}function G2e(e,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+r+`"/>
`,`  </rdf:Description>
`].join("")}function K2e(e){var r=[Is];r.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var s=0;s!=e.length;++s)r.push(lE(e[s][0],e[s][1])),r.push(G2e("",e[s][0]));return r.push(lE("","Document","pkg")),r.push("</rdf:RDF>"),r.join("")}function D$(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Zg.version+"</meta:generator></office:meta></office:document-meta>"}var ad=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Z1(e,r,s,a,n){n[e]!=null||r==null||r===""||(n[e]=r,r=fr(r),a[a.length]=s?nt(e,r,s):sa(e,r))}function L$(e,r){var s=r||{},a=[Is,nt("cp:coreProperties",null,{"xmlns:cp":Ws.CORE_PROPS,"xmlns:dc":Ws.dc,"xmlns:dcterms":Ws.dcterms,"xmlns:dcmitype":Ws.dcmitype,"xmlns:xsi":Ws.xsi})],n={};if(!e&&!s.Props)return a.join("");e&&(e.CreatedDate!=null&&Z1("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:_w(e.CreatedDate,s.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n),e.ModifiedDate!=null&&Z1("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:_w(e.ModifiedDate,s.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n));for(var i=0;i!=ad.length;++i){var l=ad[i],o=s.Props&&s.Props[l[1]]!=null?s.Props[l[1]]:e?e[l[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Z1(l[0],o,null,a,n)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var Hu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],F$=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function R$(e){var r=[],s=nt;return e||(e={}),e.Application="SheetJS",r[r.length]=Is,r[r.length]=nt("Properties",null,{xmlns:Ws.EXT_PROPS,"xmlns:vt":Ws.vt}),Hu.forEach(function(a){if(e[a[1]]!==void 0){var n;switch(a[2]){case"string":n=fr(String(e[a[1]]));break;case"bool":n=e[a[1]]?"true":"false";break}n!==void 0&&(r[r.length]=s(a[0],n))}}),r[r.length]=s("HeadingPairs",s("vt:vector",s("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+s("vt:variant",s("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),r[r.length]=s("TitlesOfParts",s("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+fr(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}function B$(e){var r=[Is,nt("Properties",null,{xmlns:Ws.CUST_PROPS,"xmlns:vt":Ws.vt})];if(!e)return r.join("");var s=1;return oa(e).forEach(function(n){++s,r[r.length]=nt("property",m2e(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:s,name:fr(n)})}),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}var oE={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Y2e(e,r){var s=[];return oa(oE).map(function(a){for(var n=0;n<ad.length;++n)if(ad[n][1]==a)return ad[n];for(n=0;n<Hu.length;++n)if(Hu[n][1]==a)return Hu[n];throw a}).forEach(function(a){if(e[a[1]]!=null){var n=r&&r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:e[a[1]];switch(a[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),s.push(sa(oE[a[1]]||a[1],n))}}),nt("DocumentProperties",s.join(""),{xmlns:gn.o})}function X2e(e,r){var s=["Worksheets","SheetNames"],a="CustomDocumentProperties",n=[];return e&&oa(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<ad.length;++l)if(i==ad[l][1])return;for(l=0;l<Hu.length;++l)if(i==Hu[l][1])return;for(l=0;l<s.length;++l)if(i==s[l])return;var o=e[i],d="string";typeof o=="number"?(d="float",o=String(o)):o===!0||o===!1?(d="boolean",o=o?"1":"0"):o=String(o),n.push(nt(YT(i),o,{"dt:dt":d}))}}),r&&oa(r).forEach(function(i){if(Object.prototype.hasOwnProperty.call(r,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=r[i],o="string";typeof l=="number"?(o="float",l=String(l)):l===!0||l===!1?(o="boolean",l=l?"1":"0"):l instanceof Date?(o="dateTime.tz",l=l.toISOString()):l=String(l),n.push(nt(YT(i),l,{"dt:dt":o}))}}),"<"+a+' xmlns="'+gn.o+'">'+n.join("")+"</"+a+">"}function J2e(e){var r=typeof e=="string"?new Date(Date.parse(e)):e,s=r.getTime()/1e3+11644473600,a=s%Math.pow(2,32),n=(s-a)/Math.pow(2,32);a*=1e7,n*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),n+=i);var l=Ve(8);return l.write_shift(4,a),l.write_shift(4,n),l}function cE(e,r){var s=Ve(4),a=Ve(4);switch(s.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,r);break;case 5:a=Ve(8),a.write_shift(8,r,"f");break;case 11:a.write_shift(4,r?1:0);break;case 64:a=J2e(r);break;case 31:case 80:for(a=Ve(4+2*(r.length+1)+(r.length%2?0:2)),a.write_shift(4,r.length+1),a.write_shift(0,r,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}return ra([s,a])}var $$=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Q2e(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function dE(e,r,s){var a=Ve(8),n=[],i=[],l=8,o=0,d=Ve(8),c=Ve(8);if(d.write_shift(4,2),d.write_shift(4,1200),c.write_shift(4,1),i.push(d),n.push(c),l+=8+d.length,!r){c=Ve(8),c.write_shift(4,0),n.unshift(c);var u=[Ve(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var m=e[o][0];for(d=Ve(8+2*(m.length+1)+(m.length%2?0:2)),d.write_shift(4,o+2),d.write_shift(4,m.length+1),d.write_shift(0,m,"dbcs");d.l!=d.length;)d.write_shift(1,0);u.push(d)}d=ra(u),i.unshift(d),l+=8+d.length}for(o=0;o<e.length;++o)if(!(r&&!r[e[o][0]])&&!($$.indexOf(e[o][0])>-1||F$.indexOf(e[o][0])>-1)&&e[o][1]!=null){var x=e[o][1],h=0;if(r){h=+r[e[o][0]];var p=s[h];if(p.p=="version"&&typeof x=="string"){var f=x.split(".");x=(+f[0]<<16)+(+f[1]||0)}d=cE(p.t,x)}else{var b=Q2e(x);b==-1&&(b=31,x=String(x)),d=cE(b,x)}i.push(d),c=Ve(8),c.write_shift(4,r?h:2+o),n.push(c),l+=8+d.length}var j=8*(i.length+1);for(o=0;o<i.length;++o)n[o].write_shift(4,j),j+=i[o].length;return a.write_shift(4,l),a.write_shift(4,i.length),ra([a].concat(n).concat(i))}function uE(e,r,s,a,n,i){var l=Ve(n?68:48),o=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,br.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,n?2:1),l.write_shift(16,r,"hex"),l.write_shift(4,n?68:48);var d=dE(e,s,a);if(o.push(d),n){var c=dE(n,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+d.length),o.push(c)}return ra(o)}function Z2e(e,r){r||(r=Ve(e));for(var s=0;s<e;++s)r.write_shift(1,0);return r}function eje(e,r){return e.read_shift(r)===1}function Ea(e,r){return r||(r=Ve(2)),r.write_shift(2,+!!e),r}function z$(e){return e.read_shift(2,"u")}function Xn(e,r){return r||(r=Ve(2)),r.write_shift(2,e),r}function U$(e,r,s){return s||(s=Ve(2)),s.write_shift(1,r=="e"?+e:+!!e),s.write_shift(1,r=="e"?1:0),s}function H$(e,r,s){var a=e.read_shift(s&&s.biff>=12?2:1),n="sbcs-cont";if(s&&s.biff>=8,!s||s.biff==8){var i=e.read_shift(1);i&&(n="dbcs-cont")}else s.biff==12&&(n="wstr");s.biff>=2&&s.biff<=5&&(n="cpstr");var l=a?e.read_shift(a,n):"";return l}function tje(e){var r=e.t||"",s=Ve(3);s.write_shift(2,r.length),s.write_shift(1,1);var a=Ve(2*r.length);a.write_shift(2*r.length,r,"utf16le");var n=[s,a];return ra(n)}function rje(e,r,s){var a;if(s){if(s.biff>=2&&s.biff<=5)return e.read_shift(r,"cpstr");if(s.biff>=12)return e.read_shift(r,"dbcs-cont")}var n=e.read_shift(1);return n===0?a=e.read_shift(r,"sbcs-cont"):a=e.read_shift(r,"dbcs-cont"),a}function sje(e,r,s){var a=e.read_shift(s&&s.biff==2?1:2);return a===0?(e.l++,""):rje(e,a,s)}function aje(e,r,s){if(s.biff>5)return sje(e,r,s);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,s.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function V$(e,r,s){return s||(s=Ve(3+2*e.length)),s.write_shift(2,e.length),s.write_shift(1,1),s.write_shift(31,e,"utf16le"),s}function mE(e,r){r||(r=Ve(6+e.length*2)),r.write_shift(4,1+e.length);for(var s=0;s<e.length;++s)r.write_shift(2,e.charCodeAt(s));return r.write_shift(2,0),r}function nje(e){var r=Ve(512),s=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var n=a.indexOf("#"),i=n>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}r.write_shift(4,2),r.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(s=0;s<l.length;++s)r.write_shift(4,l[s]);if(i==28)a=a.slice(1),mE(a,r);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<l.length;++s)r.write_shift(1,parseInt(l[s],16));var o=n>-1?a.slice(0,n):a;for(r.write_shift(4,2*(o.length+1)),s=0;s<o.length;++s)r.write_shift(2,o.charCodeAt(s));r.write_shift(2,0),i&8&&mE(n>-1?a.slice(n+1):"",r)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),s=0;s<l.length;++s)r.write_shift(1,parseInt(l[s],16));for(var d=0;a.slice(d*3,d*3+3)=="../"||a.slice(d*3,d*3+3)=="..\\";)++d;for(r.write_shift(2,d),r.write_shift(4,a.length-3*d+1),s=0;s<a.length-3*d;++s)r.write_shift(1,a.charCodeAt(s+3*d)&255);for(r.write_shift(1,0),r.write_shift(2,65535),r.write_shift(2,57005),s=0;s<6;++s)r.write_shift(4,0)}return r.slice(0,r.l)}function Cd(e,r,s,a){return a||(a=Ve(6)),a.write_shift(2,e),a.write_shift(2,r),a.write_shift(2,s||0),a}function ije(e,r,s){var a=s.biff>8?4:2,n=e.read_shift(a),i=e.read_shift(a,"i"),l=e.read_shift(a,"i");return[n,i,l]}function lje(e){var r=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2);return{s:{c:a,r},e:{c:n,r:s}}}function W$(e,r){return r||(r=Ve(8)),r.write_shift(2,e.s.r),r.write_shift(2,e.e.r),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c),r}function Z5(e,r,s){var a=1536,n=16;switch(s.bookType){case"biff8":break;case"biff5":a=1280,n=8;break;case"biff4":a=4,n=6;break;case"biff3":a=3,n=6;break;case"biff2":a=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Ve(n);return i.write_shift(2,a),i.write_shift(2,r),n>4&&i.write_shift(2,29282),n>6&&i.write_shift(2,1997),n>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function oje(e,r){var s=!r||r.biff==8,a=Ve(s?112:54);for(a.write_shift(r.biff==8?2:1,7),s&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(s?0:536870912));a.l<a.length;)a.write_shift(1,s?0:32);return a}function cje(e,r){var s=!r||r.biff>=8?2:1,a=Ve(8+s*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),r.biff>=8&&a.write_shift(1,1),a.write_shift(s*e.name.length,e.name,r.biff<8?"sbcs":"utf16le");var n=a.slice(0,a.l);return n.l=a.l,n}function dje(e,r){var s=Ve(8);s.write_shift(4,e.Count),s.write_shift(4,e.Unique);for(var a=[],n=0;n<e.length;++n)a[n]=tje(e[n]);var i=ra([s].concat(a));return i.parts=[s.length].concat(a.map(function(l){return l.length})),i}function uje(){var e=Ve(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function mje(e){var r=Ve(18),s=1718;return e&&e.RTL&&(s|=64),r.write_shift(2,s),r.write_shift(4,0),r.write_shift(4,64),r.write_shift(4,0),r.write_shift(4,0),r}function hje(e,r){var s=e.name||"Arial",a=r&&r.biff==5,n=a?15+s.length:16+2*s.length,i=Ve(n);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,s.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*s.length,s,a?"sbcs":"utf16le"),i}function xje(e,r,s,a){var n=Ve(10);return Cd(e,r,a,n),n.write_shift(4,s),n}function pje(e,r,s,a,n){var i=!n||n.biff==8,l=Ve(8+ +i+(1+i)*s.length);return Cd(e,r,a,l),l.write_shift(2,s.length),i&&l.write_shift(1,1),l.write_shift((1+i)*s.length,s,i?"utf16le":"sbcs"),l}function fje(e,r,s,a){var n=s&&s.biff==5;a||(a=Ve(n?3+r.length:5+2*r.length)),a.write_shift(2,e),a.write_shift(n?1:2,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}function gje(e,r){var s=r.biff==8||!r.biff?4:2,a=Ve(2*s+6);return a.write_shift(s,e.s.r),a.write_shift(s,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function hE(e,r,s,a){var n=s&&s.biff==5;a||(a=Ve(n?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,r<<4));var i=0;return e.numFmtId>0&&n&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),n||a.write_shift(4,0),a.write_shift(2,0),a}function yje(e){var r=Ve(8);return r.write_shift(4,0),r.write_shift(2,0),r.write_shift(2,0),r}function bje(e,r,s,a,n,i){var l=Ve(8);return Cd(e,r,a,l),U$(s,i,l),l}function vje(e,r,s,a){var n=Ve(14);return Cd(e,r,a,n),kd(s,n),n}function jje(e,r,s){if(s.biff<8)return wje(e,r,s);for(var a=[],n=e.l+r,i=e.read_shift(s.biff>8?4:2);i--!==0;)a.push(ije(e,s.biff>8?12:6,s));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return a}function wje(e,r,s){e[e.l+1]==3&&e[e.l]++;var a=H$(e,r,s);return a.charCodeAt(0)==3?a.slice(1):a}function Nje(e){var r=Ve(2+e.length*8);r.write_shift(2,e.length);for(var s=0;s<e.length;++s)W$(e[s],r);return r}function Sje(e){var r=Ve(24),s=Gs(e[0]);r.write_shift(2,s.r),r.write_shift(2,s.r),r.write_shift(2,s.c),r.write_shift(2,s.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)r.write_shift(1,parseInt(a[n],16));return ra([r,nje(e[1])])}function kje(e){var r=e[1].Tooltip,s=Ve(10+2*(r.length+1));s.write_shift(2,2048);var a=Gs(e[0]);s.write_shift(2,a.r),s.write_shift(2,a.r),s.write_shift(2,a.c),s.write_shift(2,a.c);for(var n=0;n<r.length;++n)s.write_shift(2,r.charCodeAt(n));return s.write_shift(2,0),s}function Cje(e){return e||(e=Ve(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Pje(e,r,s){if(!s.cellStyles)return cl(e,r);var a=s&&s.biff>=12?4:2,n=e.read_shift(a),i=e.read_shift(a),l=e.read_shift(a),o=e.read_shift(a),d=e.read_shift(2);a==2&&(e.l+=2);var c={s:n,e:i,w:l,ixfe:o,flags:d};return(s.biff>=5||!s.biff)&&(c.level=d>>8&7),c}function Aje(e,r){var s=Ve(12);s.write_shift(2,r),s.write_shift(2,r),s.write_shift(2,e.width*256),s.write_shift(2,0);var a=0;return e.hidden&&(a|=1),s.write_shift(1,a),a=e.level||0,s.write_shift(1,a),s.write_shift(2,0),s}function Tje(e){for(var r=Ve(2*e),s=0;s<e;++s)r.write_shift(2,s+1);return r}function Eje(e,r,s){var a=Ve(15);return Lx(a,e,r),a.write_shift(8,s,"f"),a}function Ije(e,r,s){var a=Ve(9);return Lx(a,e,r),a.write_shift(2,s),a}var Oje=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},r=U5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function s(o,d){var c=[],u=Sd(1);switch(d.type){case"base64":u=ki(Zl(o));break;case"binary":u=ki(o);break;case"buffer":case"array":u=o;break}fn(u,0);var m=u.read_shift(1),x=!!(m&136),h=!1,p=!1;switch(m){case 2:break;case 3:break;case 48:h=!0,x=!0;break;case 49:h=!0,x=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var f=0,b=521;m==2&&(f=u.read_shift(2)),u.l+=3,m!=2&&(f=u.read_shift(4)),f>1048576&&(f=1e6),m!=2&&(b=u.read_shift(2));var j=u.read_shift(2),w=d.codepage||1252;m!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(w=e[u[u.l]]),u.l+=1,u.l+=2),p&&(u.l+=36);for(var y=[],v={},N=Math.min(u.length,m==2?521:b-10-(h?264:0)),S=p?32:11;u.l<N&&u[u.l]!=13;)switch(v={},v.name=ey.utils.decode(w,u.slice(u.l,u.l+S)).replace(/[\u0000\r\n].*$/g,""),u.l+=S,v.type=String.fromCharCode(u.read_shift(1)),m!=2&&!p&&(v.offset=u.read_shift(4)),v.len=u.read_shift(1),m==2&&(v.offset=u.read_shift(2)),v.dec=u.read_shift(1),v.name.length&&y.push(v),m!=2&&(u.l+=p?13:14),v.type){case"B":(!h||v.len!=8)&&d.WTF&&console.log("Skipping "+v.name+":"+v.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+v.name+":"+v.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+v.type)}if(u[u.l]!==13&&(u.l=b-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=b;var k=0,P=0;for(c[0]=[],P=0;P!=y.length;++P)c[0][P]=y[P].name;for(;f-- >0;){if(u[u.l]===42){u.l+=j;continue}for(++u.l,c[++k]=[],P=0,P=0;P!=y.length;++P){var C=u.slice(u.l,u.l+y[P].len);u.l+=y[P].len,fn(C,0);var _=ey.utils.decode(w,C);switch(y[P].type){case"C":_.trim().length&&(c[k][P]=_.replace(/\s+$/,""));break;case"D":_.length===8?c[k][P]=new Date(+_.slice(0,4),+_.slice(4,6)-1,+_.slice(6,8)):c[k][P]=_;break;case"F":c[k][P]=parseFloat(_.trim());break;case"+":case"I":c[k][P]=p?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(_.trim().toUpperCase()){case"Y":case"T":c[k][P]=!0;break;case"N":case"F":c[k][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+_+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));c[k][P]="##MEMO##"+(p?parseInt(_.trim(),10):C.read_shift(4));break;case"N":_=_.replace(/\u0000/g,"").trim(),_&&_!="."&&(c[k][P]=+_||0);break;case"@":c[k][P]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":c[k][P]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":c[k][P]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[k][P]=-C.read_shift(-8,"f");break;case"B":if(h&&y[P].len==8){c[k][P]=C.read_shift(8,"f");break}case"G":case"P":C.l+=y[P].len;break;case"0":if(y[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[P].type)}}}if(m!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return d&&d.sheetRows&&(c=c.slice(0,d.sheetRows)),d.DBF=y,c}function a(o,d){var c=d||{};c.dateNF||(c.dateNF="yyyymmdd");var u=$m(s(o,c),c);return u["!cols"]=c.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete c.DBF,u}function n(o,d){try{return $d(a(o,d),d)}catch(c){if(d&&d.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(o,d){var c=d||{};if(+c.codepage>=0&&B0(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=en(),m=hy(o,{header:1,raw:!0,cellDates:!0}),x=m[0],h=m.slice(1),p=o["!cols"]||[],f=0,b=0,j=0,w=1;for(f=0;f<x.length;++f){if(((p[f]||{}).DBF||{}).name){x[f]=p[f].DBF.name,++j;continue}if(x[f]!=null){if(++j,typeof x[f]=="number"&&(x[f]=x[f].toString(10)),typeof x[f]!="string")throw new Error("DBF Invalid column name "+x[f]+" |"+typeof x[f]+"|");if(x.indexOf(x[f])!==f){for(b=0;b<1024;++b)if(x.indexOf(x[f]+"_"+b)==-1){x[f]+="_"+b;break}}}}var y=$r(o["!ref"]),v=[],N=[],S=[];for(f=0;f<=y.e.c-y.s.c;++f){var k="",P="",C=0,_=[];for(b=0;b<h.length;++b)h[b][f]!=null&&_.push(h[b][f]);if(_.length==0||x[f]==null){v[f]="?";continue}for(b=0;b<_.length;++b){switch(typeof _[b]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=_[b]instanceof Date?"D":"C";break;default:P="C"}C=Math.max(C,String(_[b]).length),k=k&&k!=P?"C":P}C>250&&(C=250),P=((p[f]||{}).DBF||{}).type,P=="C"&&p[f].DBF.len>C&&(C=p[f].DBF.len),k=="B"&&P=="N"&&(k="N",S[f]=p[f].DBF.dec,C=p[f].DBF.len),N[f]=k=="C"||P=="N"?C:i[k]||0,w+=N[f],v[f]=k}var A=u.next(32);for(A.write_shift(4,318902576),A.write_shift(4,h.length),A.write_shift(2,296+32*j),A.write_shift(2,w),f=0;f<4;++f)A.write_shift(4,0);for(A.write_shift(4,0|(+r[GB]||3)<<8),f=0,b=0;f<x.length;++f)if(x[f]!=null){var D=u.next(32),H=(x[f].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);D.write_shift(1,H,"sbcs"),D.write_shift(1,v[f]=="?"?"C":v[f],"sbcs"),D.write_shift(4,b),D.write_shift(1,N[f]||i[v[f]]||0),D.write_shift(1,S[f]||0),D.write_shift(1,2),D.write_shift(4,0),D.write_shift(1,0),D.write_shift(4,0),D.write_shift(4,0),b+=N[f]||i[v[f]]||0}var re=u.next(264);for(re.write_shift(4,13),f=0;f<65;++f)re.write_shift(4,0);for(f=0;f<h.length;++f){var xe=u.next(w);for(xe.write_shift(1,0),b=0;b<x.length;++b)if(x[b]!=null)switch(v[b]){case"L":xe.write_shift(1,h[f][b]==null?63:h[f][b]?84:70);break;case"B":xe.write_shift(8,h[f][b]||0,"f");break;case"N":var we="0";for(typeof h[f][b]=="number"&&(we=h[f][b].toFixed(S[b]||0)),j=0;j<N[b]-we.length;++j)xe.write_shift(1,32);xe.write_shift(1,we,"sbcs");break;case"D":h[f][b]?(xe.write_shift(4,("0000"+h[f][b].getFullYear()).slice(-4),"sbcs"),xe.write_shift(2,("00"+(h[f][b].getMonth()+1)).slice(-2),"sbcs"),xe.write_shift(2,("00"+h[f][b].getDate()).slice(-2),"sbcs")):xe.write_shift(8,"00000000","sbcs");break;case"C":var T=String(h[f][b]!=null?h[f][b]:"").slice(0,N[b]);for(xe.write_shift(1,T,"sbcs"),j=0;j<N[b]-T.length;++j)xe.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:n,to_sheet:a,from_sheet:l}}(),_je=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},r=new RegExp("\x1BN("+oa(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),s=function(x,h){var p=e[h];return typeof p=="number"?FT(p):p},a=function(x,h,p){var f=h.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return f==59?x:FT(f)};e["|"]=254;function n(x,h){switch(h.type){case"base64":return i(Zl(x),h);case"binary":return i(x,h);case"buffer":return i(dr&&Buffer.isBuffer(x)?x.toString("binary"):Ix(x),h);case"array":return i(dv(x),h)}throw new Error("Unrecognized type "+h.type)}function i(x,h){var p=x.split(/[\n\r]+/),f=-1,b=-1,j=0,w=0,y=[],v=[],N=null,S={},k=[],P=[],C=[],_=0,A;for(+h.codepage>=0&&B0(+h.codepage);j!==p.length;++j){_=0;var D=p[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(r,s),H=D.replace(/;;/g,"\0").split(";").map(function(ie){return ie.replace(/\u0000/g,";")}),re=H[0],xe;if(D.length>0)switch(re){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":H[1].charAt(0)=="P"&&v.push(D.slice(3).replace(/;;/g,";"));break;case"C":var we=!1,T=!1,z=!1,Q=!1,B=-1,L=-1;for(w=1;w<H.length;++w)switch(H[w].charAt(0)){case"A":break;case"X":b=parseInt(H[w].slice(1))-1,T=!0;break;case"Y":for(f=parseInt(H[w].slice(1))-1,T||(b=0),A=y.length;A<=f;++A)y[A]=[];break;case"K":xe=H[w].slice(1),xe.charAt(0)==='"'?xe=xe.slice(1,xe.length-1):xe==="TRUE"?xe=!0:xe==="FALSE"?xe=!1:isNaN(Dl(xe))?isNaN(z0(xe).getDate())||(xe=Ba(xe)):(xe=Dl(xe),N!==null&&n$(N)&&(xe=c$(xe))),we=!0;break;case"E":Q=!0;var R=Iwe(H[w].slice(1),{r:f,c:b});y[f][b]=[y[f][b],R];break;case"S":z=!0,y[f][b]=[y[f][b],"S5S"];break;case"G":break;case"R":B=parseInt(H[w].slice(1))-1;break;case"C":L=parseInt(H[w].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+D)}if(we&&(y[f][b]&&y[f][b].length==2?y[f][b][0]=xe:y[f][b]=xe,N=null),z){if(Q)throw new Error("SYLK shared formula cannot have own formula");var Z=B>-1&&y[B][L];if(!Z||!Z[1])throw new Error("SYLK shared formula cannot find base");y[f][b][1]=Owe(Z[1],{r:f-B,c:b-L})}break;case"F":var W=0;for(w=1;w<H.length;++w)switch(H[w].charAt(0)){case"X":b=parseInt(H[w].slice(1))-1,++W;break;case"Y":for(f=parseInt(H[w].slice(1))-1,A=y.length;A<=f;++A)y[A]=[];break;case"M":_=parseInt(H[w].slice(1))/20;break;case"F":break;case"G":break;case"P":N=v[parseInt(H[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=H[w].slice(1).split(" "),A=parseInt(C[0],10);A<=parseInt(C[1],10);++A)_=parseInt(C[2],10),P[A-1]=_===0?{hidden:!0}:{wch:_},e6(P[A-1]);break;case"C":b=parseInt(H[w].slice(1))-1,P[b]||(P[b]={});break;case"R":f=parseInt(H[w].slice(1))-1,k[f]||(k[f]={}),_>0?(k[f].hpt=_,k[f].hpx=X$(_)):_===0&&(k[f].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+D)}W<1&&(N=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+D)}}return k.length>0&&(S["!rows"]=k),P.length>0&&(S["!cols"]=P),h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),[y,S]}function l(x,h){var p=n(x,h),f=p[0],b=p[1],j=$m(f,h);return oa(b).forEach(function(w){j[w]=b[w]}),j}function o(x,h){return $d(l(x,h),h)}function d(x,h,p,f){var b="C;Y"+(p+1)+";X"+(f+1)+";K";switch(x.t){case"n":b+=x.v||0,x.f&&!x.F&&(b+=";E"+r6(x.f,{r:p,c:f}));break;case"b":b+=x.v?"TRUE":"FALSE";break;case"e":b+=x.w||x.v;break;case"d":b+='"'+(x.w||x.v)+'"';break;case"s":b+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function c(x,h){h.forEach(function(p,f){var b="F;W"+(f+1)+" "+(f+1)+" ";p.hidden?b+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=cy(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=dy(p.wpx)),typeof p.wch=="number"&&(b+=Math.round(p.wch))),b.charAt(b.length-1)!=" "&&x.push(b)})}function u(x,h){h.forEach(function(p,f){var b="F;";p.hidden?b+="M0;":p.hpt?b+="M"+20*p.hpt+";":p.hpx&&(b+="M"+20*uy(p.hpx)+";"),b.length>2&&x.push(b+"R"+(f+1))})}function m(x,h){var p=["ID;PWXL;N;E"],f=[],b=$r(x["!ref"]),j,w=Array.isArray(x),y=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),x["!cols"]&&c(p,x["!cols"]),x["!rows"]&&u(p,x["!rows"]),p.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var v=b.s.r;v<=b.e.r;++v)for(var N=b.s.c;N<=b.e.c;++N){var S=yr({r:v,c:N});j=w?(x[v]||[])[N]:x[S],!(!j||j.v==null&&(!j.f||j.F))&&f.push(d(j,x,v,N))}return p.join(y)+y+f.join(y)+y+"E"+y}return{to_workbook:o,to_sheet:l,from_sheet:m}}(),Mje=function(){function e(i,l){switch(l.type){case"base64":return r(Zl(i),l);case"binary":return r(i,l);case"buffer":return r(dr&&Buffer.isBuffer(i)?i.toString("binary"):Ix(i),l);case"array":return r(dv(i),l)}throw new Error("Unrecognized type "+l.type)}function r(i,l){for(var o=i.split(`
`),d=-1,c=-1,u=0,m=[];u!==o.length;++u){if(o[u].trim()==="BOT"){m[++d]=[],c=0;continue}if(!(d<0)){var x=o[u].trim().split(","),h=x[0],p=x[1];++u;for(var f=o[u]||"";(f.match(/["]/g)||[]).length&1&&u<o.length-1;)f+=`
`+o[++u];switch(f=f.trim(),+h){case-1:if(f==="BOT"){m[++d]=[],c=0;continue}else if(f!=="EOD")throw new Error("Unrecognized DIF special command "+f);break;case 0:f==="TRUE"?m[d][c]=!0:f==="FALSE"?m[d][c]=!1:isNaN(Dl(p))?isNaN(z0(p).getDate())?m[d][c]=p:m[d][c]=Ba(p):m[d][c]=Dl(p),++c;break;case 1:f=f.slice(1,f.length-1),f=f.replace(/""/g,'"'),f&&f.match(/^=".*"$/)&&(f=f.slice(2,-1)),m[d][c++]=f!==""?f:null;break}if(f==="EOD")break}}return l&&l.sheetRows&&(m=m.slice(0,l.sheetRows)),m}function s(i,l){return $m(e(i,l),l)}function a(i,l){return $d(s(i,l),l)}var n=function(){var i=function(d,c,u,m,x){d.push(c),d.push(u+","+m),d.push('"'+x.replace(/"/g,'""')+'"')},l=function(d,c,u,m){d.push(c+","+u),d.push(c==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(d){var c=[],u=$r(d["!ref"]),m,x=Array.isArray(d);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){l(c,-1,0,"BOT");for(var p=u.s.c;p<=u.e.c;++p){var f=yr({r:h,c:p});if(m=x?(d[h]||[])[p]:d[f],!m){l(c,1,0,"");continue}switch(m.t){case"n":var b=m.w;!b&&m.v!=null&&(b=m.v),b==null?m.f&&!m.F?l(c,1,0,"="+m.f):l(c,1,0,""):l(c,0,b,"V");break;case"b":l(c,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":l(c,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=ic(m.z||os[14],nn(Ba(m.v)))),l(c,0,m.w,"V");break;default:l(c,1,0,"")}}}l(c,-1,0,"EOD");var j=`\r
`,w=c.join(j);return w}}();return{to_workbook:a,to_sheet:s,from_sheet:n}}(),q$=function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function r(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function s(m,x){for(var h=m.split(`
`),p=-1,f=-1,b=0,j=[];b!==h.length;++b){var w=h[b].trim().split(":");if(w[0]==="cell"){var y=Gs(w[1]);if(j.length<=y.r)for(p=j.length;p<=y.r;++p)j[p]||(j[p]=[]);switch(p=y.r,f=y.c,w[2]){case"t":j[p][f]=e(w[3]);break;case"v":j[p][f]=+w[3];break;case"vtf":var v=w[w.length-1];case"vtc":switch(w[3]){case"nl":j[p][f]=!!+w[4];break;default:j[p][f]=+w[4];break}w[2]=="vtf"&&(j[p][f]=[j[p][f],v])}}}return x&&x.sheetRows&&(j=j.slice(0,x.sheetRows)),j}function a(m,x){return $m(s(m,x),x)}function n(m,x){return $d(a(m,x),x)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function c(m){if(!m||!m["!ref"])return"";for(var x=[],h=[],p,f="",b=_n(m["!ref"]),j=Array.isArray(m),w=b.s.r;w<=b.e.r;++w)for(var y=b.s.c;y<=b.e.c;++y)if(f=yr({r:w,c:y}),p=j?(m[w]||[])[y]:m[f],!(!p||p.v==null||p.t==="z")){switch(h=["cell",f,"t"],p.t){case"s":case"str":h.push(r(p.v));break;case"n":p.f?(h[2]="vtf",h[3]="n",h[4]=p.v,h[5]=r(p.f)):(h[2]="v",h[3]=p.v);break;case"b":h[2]="vt"+(p.f?"f":"c"),h[3]="nl",h[4]=p.v?"1":"0",h[5]=r(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var v=nn(Ba(p.v));h[2]="vtc",h[3]="nd",h[4]=""+v,h[5]=p.w||ic(p.z||os[14],v);break;case"e":continue}x.push(h.join(":"))}return x.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function u(m){return[i,l,o,l,c(m),d].join(`
`)}return{to_workbook:n,to_sheet:a,from_sheet:u}}(),Dje=function(){function e(u,m,x,h,p){p.raw?m[x][h]=u:u===""||(u==="TRUE"?m[x][h]=!0:u==="FALSE"?m[x][h]=!1:isNaN(Dl(u))?isNaN(z0(u).getDate())?m[x][h]=u:m[x][h]=Ba(u):m[x][h]=Dl(u))}function r(u,m){var x=m||{},h=[];if(!u||u.length===0)return h;for(var p=u.split(/[\r\n]/),f=p.length-1;f>=0&&p[f].length===0;)--f;for(var b=10,j=0,w=0;w<=f;++w)j=p[w].indexOf(" "),j==-1?j=p[w].length:j++,b=Math.max(b,j);for(w=0;w<=f;++w){h[w]=[];var y=0;for(e(p[w].slice(0,b).trim(),h,w,y,x),y=1;y<=(p[w].length-b)/10+1;++y)e(p[w].slice(b+(y-1)*10,b+y*10).trim(),h,w,y,x)}return x.sheetRows&&(h=h.slice(0,x.sheetRows)),h}var s={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function n(u){for(var m={},x=!1,h=0,p=0;h<u.length;++h)(p=u.charCodeAt(h))==34?x=!x:!x&&p in s&&(m[p]=(m[p]||0)+1);p=[];for(h in m)Object.prototype.hasOwnProperty.call(m,h)&&p.push([m[h],h]);if(!p.length){m=a;for(h in m)Object.prototype.hasOwnProperty.call(m,h)&&p.push([m[h],h])}return p.sort(function(f,b){return f[0]-b[0]||a[f[1]]-a[b[1]]}),s[p.pop()[1]]||44}function i(u,m){var x=m||{},h="",p=x.dense?[]:{},f={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=n(u.slice(0,1024)):x&&x.FS?h=x.FS:h=n(u.slice(0,1024));var b=0,j=0,w=0,y=0,v=0,N=h.charCodeAt(0),S=!1,k=0,P=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var C=x.dateNF!=null?J1e(x.dateNF):null;function _(){var A=u.slice(y,v),D={};if(A.charAt(0)=='"'&&A.charAt(A.length-1)=='"'&&(A=A.slice(1,-1).replace(/""/g,'"')),A.length===0)D.t="z";else if(x.raw)D.t="s",D.v=A;else if(A.trim().length===0)D.t="s",D.v=A;else if(A.charCodeAt(0)==61)A.charCodeAt(1)==34&&A.charCodeAt(A.length-1)==34?(D.t="s",D.v=A.slice(2,-1).replace(/""/g,'"')):_we(A)?(D.t="n",D.f=A.slice(1)):(D.t="s",D.v=A);else if(A=="TRUE")D.t="b",D.v=!0;else if(A=="FALSE")D.t="b",D.v=!1;else if(!isNaN(w=Dl(A)))D.t="n",x.cellText!==!1&&(D.w=A),D.v=w;else if(!isNaN(z0(A).getDate())||C&&A.match(C)){D.z=x.dateNF||os[14];var H=0;C&&A.match(C)&&(A=Q1e(A,x.dateNF,A.match(C)||[]),H=1),x.cellDates?(D.t="d",D.v=Ba(A,H)):(D.t="n",D.v=nn(Ba(A,H))),x.cellText!==!1&&(D.w=ic(D.z,D.v instanceof Date?nn(D.v):D.v)),x.cellNF||delete D.z}else D.t="s",D.v=A;if(D.t=="z"||(x.dense?(p[b]||(p[b]=[]),p[b][j]=D):p[yr({c:j,r:b})]=D),y=v+1,P=u.charCodeAt(y),f.e.c<j&&(f.e.c=j),f.e.r<b&&(f.e.r=b),k==N)++j;else if(j=0,++b,x.sheetRows&&x.sheetRows<=b)return!0}e:for(;v<u.length;++v)switch(k=u.charCodeAt(v)){case 34:P===34&&(S=!S);break;case N:case 10:case 13:if(!S&&_())break e;break}return v-y>0&&_(),p["!ref"]=Es(f),p}function l(u,m){return!(m&&m.PRN)||m.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,m):$m(r(u,m),m)}function o(u,m){var x="",h=m.type=="string"?[0,0,0,0]:G5e(u,m);switch(m.type){case"base64":x=Zl(u);break;case"binary":x=u;break;case"buffer":m.codepage==65001?x=u.toString("utf8"):m.codepage&&typeof ey<"u"||(x=dr&&Buffer.isBuffer(u)?u.toString("binary"):Ix(u));break;case"array":x=dv(u);break;case"string":x=u;break;default:throw new Error("Unrecognized type "+m.type)}return h[0]==239&&h[1]==187&&h[2]==191?x=Wh(x.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?x=Wh(x):m.type=="binary"&&typeof ey<"u",x.slice(0,19)=="socialcalc:version:"?q$.to_sheet(m.type=="string"?x:Wh(x),m):l(x,m)}function d(u,m){return $d(o(u,m),m)}function c(u){for(var m=[],x=$r(u["!ref"]),h,p=Array.isArray(u),f=x.s.r;f<=x.e.r;++f){for(var b=[],j=x.s.c;j<=x.e.c;++j){var w=yr({r:f,c:j});if(h=p?(u[f]||[])[j]:u[w],!h||h.v==null){b.push("          ");continue}for(var y=(h.w||(eo(h),h.w)||"").slice(0,10);y.length<10;)y+=" ";b.push(y+(j===0?" ":""))}m.push(b.join(""))}return m.join(`
`)}return{to_workbook:d,to_sheet:o,from_sheet:c}}(),xE=function(){function e(R,Z,W){if(R){fn(R,R.l||0);for(var ie=W.Enum||B;R.l<R.length;){var ae=R.read_shift(2),M=ie[ae]||ie[65535],U=R.read_shift(2),q=R.l+U,G=M.f&&M.f(R,U,W);if(R.l=q,Z(G,M,ae))return}}}function r(R,Z){switch(Z.type){case"base64":return s(ki(Zl(R)),Z);case"binary":return s(ki(R),Z);case"buffer":case"array":return s(R,Z)}throw"Unsupported type "+Z.type}function s(R,Z){if(!R)return R;var W=Z||{},ie=W.dense?[]:{},ae="Sheet1",M="",U=0,q={},G=[],Y=[],oe={s:{r:0,c:0},e:{r:0,c:0}},Be=W.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)W.Enum=B,e(R,function(pe,F,ue){switch(ue){case 0:W.vers=pe,pe>=4096&&(W.qpro=!0);break;case 6:oe=pe;break;case 204:pe&&(M=pe);break;case 222:M=pe;break;case 15:case 51:W.qpro||(pe[1].v=pe[1].v.slice(1));case 13:case 14:case 16:ue==14&&(pe[2]&112)==112&&(pe[2]&15)>1&&(pe[2]&15)<15&&(pe[1].z=W.dateNF||os[14],W.cellDates&&(pe[1].t="d",pe[1].v=c$(pe[1].v))),W.qpro&&pe[3]>U&&(ie["!ref"]=Es(oe),q[ae]=ie,G.push(ae),ie=W.dense?[]:{},oe={s:{r:0,c:0},e:{r:0,c:0}},U=pe[3],ae=M||"Sheet"+(U+1),M="");var J=W.dense?(ie[pe[0].r]||[])[pe[0].c]:ie[yr(pe[0])];if(J){J.t=pe[1].t,J.v=pe[1].v,pe[1].z!=null&&(J.z=pe[1].z),pe[1].f!=null&&(J.f=pe[1].f);break}W.dense?(ie[pe[0].r]||(ie[pe[0].r]=[]),ie[pe[0].r][pe[0].c]=pe[1]):ie[yr(pe[0])]=pe[1];break}},W);else if(R[2]==26||R[2]==14)W.Enum=L,R[2]==14&&(W.qpro=!0,R.l=0),e(R,function(pe,F,ue){switch(ue){case 204:ae=pe;break;case 22:pe[1].v=pe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(pe[3]>U&&(ie["!ref"]=Es(oe),q[ae]=ie,G.push(ae),ie=W.dense?[]:{},oe={s:{r:0,c:0},e:{r:0,c:0}},U=pe[3],ae="Sheet"+(U+1)),Be>0&&pe[0].r>=Be)break;W.dense?(ie[pe[0].r]||(ie[pe[0].r]=[]),ie[pe[0].r][pe[0].c]=pe[1]):ie[yr(pe[0])]=pe[1],oe.e.c<pe[0].c&&(oe.e.c=pe[0].c),oe.e.r<pe[0].r&&(oe.e.r=pe[0].r);break;case 27:pe[14e3]&&(Y[pe[14e3][0]]=pe[14e3][1]);break;case 1537:Y[pe[0]]=pe[1],pe[0]==U&&(ae=pe[1]);break}},W);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(ie["!ref"]=Es(oe),q[M||ae]=ie,G.push(M||ae),!Y.length)return{SheetNames:G,Sheets:q};for(var fe={},ne=[],ce=0;ce<Y.length;++ce)q[G[ce]]?(ne.push(Y[ce]||G[ce]),fe[Y[ce]]=q[Y[ce]]||q[G[ce]]):(ne.push(Y[ce]),fe[Y[ce]]={"!ref":"A1"});return{SheetNames:ne,Sheets:fe}}function a(R,Z){var W=Z||{};if(+W.codepage>=0&&B0(+W.codepage),W.type=="string")throw new Error("Cannot write WK1 to JS string");var ie=en(),ae=$r(R["!ref"]),M=Array.isArray(R),U=[];lt(ie,0,i(1030)),lt(ie,6,d(ae));for(var q=Math.min(ae.e.r,8191),G=ae.s.r;G<=q;++G)for(var Y=na(G),oe=ae.s.c;oe<=ae.e.c;++oe){G===ae.s.r&&(U[oe]=ja(oe));var Be=U[oe]+Y,fe=M?(R[G]||[])[oe]:R[Be];if(!(!fe||fe.t=="z"))if(fe.t=="n")(fe.v|0)==fe.v&&fe.v>=-32768&&fe.v<=32767?lt(ie,13,h(G,oe,fe.v)):lt(ie,14,f(G,oe,fe.v));else{var ne=eo(fe);lt(ie,15,m(G,oe,ne.slice(0,239)))}}return lt(ie,1),ie.end()}function n(R,Z){var W=Z||{};if(+W.codepage>=0&&B0(+W.codepage),W.type=="string")throw new Error("Cannot write WK3 to JS string");var ie=en();lt(ie,0,l(R));for(var ae=0,M=0;ae<R.SheetNames.length;++ae)(R.Sheets[R.SheetNames[ae]]||{})["!ref"]&&lt(ie,27,Q(R.SheetNames[ae],M++));var U=0;for(ae=0;ae<R.SheetNames.length;++ae){var q=R.Sheets[R.SheetNames[ae]];if(!(!q||!q["!ref"])){for(var G=$r(q["!ref"]),Y=Array.isArray(q),oe=[],Be=Math.min(G.e.r,8191),fe=G.s.r;fe<=Be;++fe)for(var ne=na(fe),ce=G.s.c;ce<=G.e.c;++ce){fe===G.s.r&&(oe[ce]=ja(ce));var pe=oe[ce]+ne,F=Y?(q[fe]||[])[ce]:q[pe];if(!(!F||F.t=="z"))if(F.t=="n")lt(ie,23,_(fe,ce,U,F.v));else{var ue=eo(F);lt(ie,22,k(fe,ce,U,ue.slice(0,239)))}}++U}}return lt(ie,1),ie.end()}function i(R){var Z=Ve(2);return Z.write_shift(2,R),Z}function l(R){var Z=Ve(26);Z.write_shift(2,4096),Z.write_shift(2,4),Z.write_shift(4,0);for(var W=0,ie=0,ae=0,M=0;M<R.SheetNames.length;++M){var U=R.SheetNames[M],q=R.Sheets[U];if(!(!q||!q["!ref"])){++ae;var G=_n(q["!ref"]);W<G.e.r&&(W=G.e.r),ie<G.e.c&&(ie=G.e.c)}}return W>8191&&(W=8191),Z.write_shift(2,W),Z.write_shift(1,ae),Z.write_shift(1,ie),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(1,1),Z.write_shift(1,2),Z.write_shift(4,0),Z.write_shift(4,0),Z}function o(R,Z,W){var ie={s:{c:0,r:0},e:{c:0,r:0}};return Z==8&&W.qpro?(ie.s.c=R.read_shift(1),R.l++,ie.s.r=R.read_shift(2),ie.e.c=R.read_shift(1),R.l++,ie.e.r=R.read_shift(2),ie):(ie.s.c=R.read_shift(2),ie.s.r=R.read_shift(2),Z==12&&W.qpro&&(R.l+=2),ie.e.c=R.read_shift(2),ie.e.r=R.read_shift(2),Z==12&&W.qpro&&(R.l+=2),ie.s.c==65535&&(ie.s.c=ie.e.c=ie.s.r=ie.e.r=0),ie)}function d(R){var Z=Ve(8);return Z.write_shift(2,R.s.c),Z.write_shift(2,R.s.r),Z.write_shift(2,R.e.c),Z.write_shift(2,R.e.r),Z}function c(R,Z,W){var ie=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&W.vers!=20768?(ie[0].c=R.read_shift(1),ie[3]=R.read_shift(1),ie[0].r=R.read_shift(2),R.l+=2):(ie[2]=R.read_shift(1),ie[0].c=R.read_shift(2),ie[0].r=R.read_shift(2)),ie}function u(R,Z,W){var ie=R.l+Z,ae=c(R,Z,W);if(ae[1].t="s",W.vers==20768){R.l++;var M=R.read_shift(1);return ae[1].v=R.read_shift(M,"utf8"),ae}return W.qpro&&R.l++,ae[1].v=R.read_shift(ie-R.l,"cstr"),ae}function m(R,Z,W){var ie=Ve(7+W.length);ie.write_shift(1,255),ie.write_shift(2,Z),ie.write_shift(2,R),ie.write_shift(1,39);for(var ae=0;ae<ie.length;++ae){var M=W.charCodeAt(ae);ie.write_shift(1,M>=128?95:M)}return ie.write_shift(1,0),ie}function x(R,Z,W){var ie=c(R,Z,W);return ie[1].v=R.read_shift(2,"i"),ie}function h(R,Z,W){var ie=Ve(7);return ie.write_shift(1,255),ie.write_shift(2,Z),ie.write_shift(2,R),ie.write_shift(2,W,"i"),ie}function p(R,Z,W){var ie=c(R,Z,W);return ie[1].v=R.read_shift(8,"f"),ie}function f(R,Z,W){var ie=Ve(13);return ie.write_shift(1,255),ie.write_shift(2,Z),ie.write_shift(2,R),ie.write_shift(8,W,"f"),ie}function b(R,Z,W){var ie=R.l+Z,ae=c(R,Z,W);if(ae[1].v=R.read_shift(8,"f"),W.qpro)R.l=ie;else{var M=R.read_shift(2);v(R.slice(R.l,R.l+M),ae),R.l+=M}return ae}function j(R,Z,W){var ie=Z&32768;return Z&=-32769,Z=(ie?R:0)+(Z>=8192?Z-16384:Z),(ie?"":"$")+(W?ja(Z):na(Z))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function v(R,Z){fn(R,0);for(var W=[],ie=0,ae="",M="",U="",q="";R.l<R.length;){var G=R[R.l++];switch(G){case 0:W.push(R.read_shift(8,"f"));break;case 1:M=j(Z[0].c,R.read_shift(2),!0),ae=j(Z[0].r,R.read_shift(2),!1),W.push(M+ae);break;case 2:{var Y=j(Z[0].c,R.read_shift(2),!0),oe=j(Z[0].r,R.read_shift(2),!1);M=j(Z[0].c,R.read_shift(2),!0),ae=j(Z[0].r,R.read_shift(2),!1),W.push(Y+oe+":"+M+ae)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(R.read_shift(2));break;case 6:{for(var Be="";G=R[R.l++];)Be+=String.fromCharCode(G);W.push('"'+Be.replace(/"/g,'""')+'"')}break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:q=W.pop(),U=W.pop(),W.push(["AND","OR"][G-20]+"("+U+","+q+")");break;default:if(G<32&&y[G])q=W.pop(),U=W.pop(),W.push(U+y[G]+q);else if(w[G]){if(ie=w[G][1],ie==69&&(ie=R[R.l++]),ie>W.length){console.error("WK1 bad formula parse 0x"+G.toString(16)+":|"+W.join("|")+"|");return}var fe=W.slice(-ie);W.length-=ie,W.push(w[G][0]+"("+fe.join(",")+")")}else return G<=7?console.error("WK1 invalid opcode "+G.toString(16)):G<=24?console.error("WK1 unsupported op "+G.toString(16)):G<=30?console.error("WK1 invalid opcode "+G.toString(16)):G<=115?console.error("WK1 unsupported function opcode "+G.toString(16)):console.error("WK1 unrecognized opcode "+G.toString(16))}}W.length==1?Z[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")}function N(R){var Z=[{c:0,r:0},{t:"n",v:0},0];return Z[0].r=R.read_shift(2),Z[3]=R[R.l++],Z[0].c=R[R.l++],Z}function S(R,Z){var W=N(R);return W[1].t="s",W[1].v=R.read_shift(Z-4,"cstr"),W}function k(R,Z,W,ie){var ae=Ve(6+ie.length);ae.write_shift(2,R),ae.write_shift(1,W),ae.write_shift(1,Z),ae.write_shift(1,39);for(var M=0;M<ie.length;++M){var U=ie.charCodeAt(M);ae.write_shift(1,U>=128?95:U)}return ae.write_shift(1,0),ae}function P(R,Z){var W=N(R);W[1].v=R.read_shift(2);var ie=W[1].v>>1;if(W[1].v&1)switch(ie&7){case 0:ie=(ie>>3)*5e3;break;case 1:ie=(ie>>3)*500;break;case 2:ie=(ie>>3)/20;break;case 3:ie=(ie>>3)/200;break;case 4:ie=(ie>>3)/2e3;break;case 5:ie=(ie>>3)/2e4;break;case 6:ie=(ie>>3)/16;break;case 7:ie=(ie>>3)/64;break}return W[1].v=ie,W}function C(R,Z){var W=N(R),ie=R.read_shift(4),ae=R.read_shift(4),M=R.read_shift(2);if(M==65535)return ie===0&&ae===3221225472?(W[1].t="e",W[1].v=15):ie===0&&ae===3489660928?(W[1].t="e",W[1].v=42):W[1].v=0,W;var U=M&32768;return M=(M&32767)-16446,W[1].v=(1-U*2)*(ae*Math.pow(2,M+32)+ie*Math.pow(2,M)),W}function _(R,Z,W,ie){var ae=Ve(14);if(ae.write_shift(2,R),ae.write_shift(1,W),ae.write_shift(1,Z),ie==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var M=0,U=0,q=0,G=0;return ie<0&&(M=1,ie=-ie),U=Math.log2(ie)|0,ie/=Math.pow(2,U-31),G=ie>>>0,G&2147483648||(ie/=2,++U,G=ie>>>0),ie-=G,G|=2147483648,G>>>=0,ie*=Math.pow(2,32),q=ie>>>0,ae.write_shift(4,q),ae.write_shift(4,G),U+=16383+(M?32768:0),ae.write_shift(2,U),ae}function A(R,Z){var W=C(R);return R.l+=Z-14,W}function D(R,Z){var W=N(R),ie=R.read_shift(4);return W[1].v=ie>>6,W}function H(R,Z){var W=N(R),ie=R.read_shift(8,"f");return W[1].v=ie,W}function re(R,Z){var W=H(R);return R.l+=Z-10,W}function xe(R,Z){return R[R.l+Z-1]==0?R.read_shift(Z,"cstr"):""}function we(R,Z){var W=R[R.l++];W>Z-1&&(W=Z-1);for(var ie="";ie.length<W;)ie+=String.fromCharCode(R[R.l++]);return ie}function T(R,Z,W){if(!(!W.qpro||Z<21)){var ie=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var ae=R.read_shift(Z-21,"cstr");return[ie,ae]}}function z(R,Z){for(var W={},ie=R.l+Z;R.l<ie;){var ae=R.read_shift(2);if(ae==14e3){for(W[ae]=[0,""],W[ae][0]=R.read_shift(2);R[R.l];)W[ae][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return W}function Q(R,Z){var W=Ve(5+R.length);W.write_shift(2,14e3),W.write_shift(2,Z);for(var ie=0;ie<R.length;++ie){var ae=R.charCodeAt(ie);W[W.l++]=ae>127?95:ae}return W[W.l++]=0,W}var B={0:{n:"BOF",f:z$},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:xe},222:{n:"SHEETNAMELP",f:we},65535:{n:""}},L={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:A},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:z},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:D},38:{n:"??"},39:{n:"NUMBER27",f:H},40:{n:"FORMULA28",f:re},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:xe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:T},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:n,to_workbook:r}}(),Lje=/^\s|\s$|[\t\n\r]/;function G$(e,r){if(!r.bookSST)return"";var s=[Is];s[s.length]=nt("sst",null,{xmlns:Bm[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var n=e[a],i="<si>";n.r?i+=n.r:(i+="<t",n.t||(n.t=""),n.t.match(Lje)&&(i+=' xml:space="preserve"'),i+=">"+fr(n.t)+"</t>"),i+="</si>",s[s.length]=i}return s.length>2&&(s[s.length]="</sst>",s[1]=s[1].replace("/>",">")),s.join("")}function Fje(e){return[e.read_shift(4),e.read_shift(4)]}function Rje(e,r){return r||(r=Ve(8)),r.write_shift(4,e.Count),r.write_shift(4,e.Unique),r}var Bje=T2e;function $je(e){var r=en();Ye(r,159,Rje(e));for(var s=0;s<e.length;++s)Ye(r,19,Bje(e[s]));return Ye(r,160),r.end()}function zje(e){for(var r=[],s=e.split(""),a=0;a<s.length;++a)r[a]=s[a].charCodeAt(0);return r}function K$(e){var r=0,s,a=zje(e),n=a.length+1,i,l,o,d,c;for(s=Sd(n),s[0]=a.length,i=1;i!=n;++i)s[i]=a[i-1];for(i=n-1;i>=0;--i)l=s[i],o=r&16384?1:0,d=r<<1&32767,c=o|d,r=c^l;return r^52811}var Uje=function(){function e(n,i){switch(i.type){case"base64":return r(Zl(n),i);case"binary":return r(n,i);case"buffer":return r(dr&&Buffer.isBuffer(n)?n.toString("binary"):Ix(n),i);case"array":return r(dv(n),i)}throw new Error("Unrecognized type "+i.type)}function r(n,i){var l=i||{},o=l.dense?[]:{},d=n.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(u,m){Array.isArray(o)&&(o[m]=[]);for(var x=/\\\w+\b/g,h=0,p,f=-1;p=x.exec(u);){switch(p[0]){case"\\cell":var b=u.slice(h,x.lastIndex-p[0].length);if(b[0]==" "&&(b=b.slice(1)),++f,b.length){var j={v:b,t:"s"};Array.isArray(o)?o[m][f]=j:o[yr({r:m,c:f})]=j}break}h=x.lastIndex}f>c.e.c&&(c.e.c=f)}),o["!ref"]=Es(c),o}function s(n,i){return $d(e(n,i),i)}function a(n){for(var i=["{\\rtf1\\ansi"],l=$r(n["!ref"]),o,d=Array.isArray(n),c=l.s.r;c<=l.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=l.s.c;u<=l.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=l.s.c;u<=l.e.c;++u){var m=yr({r:c,c:u});o=d?(n[c]||[])[u]:n[m],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(eo(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:s,to_sheet:e,from_sheet:a}}();function pE(e){for(var r=0,s=1;r!=3;++r)s=s*256+(e[r]>255?255:e[r]<0?0:e[r]);return s.toString(16).toUpperCase().slice(1)}var Hje=6,Ll=Hje;function cy(e){return Math.floor((e+Math.round(128/Ll)/256)*Ll)}function dy(e){return Math.floor((e-5)/Ll*100+.5)/100}function Dw(e){return Math.round((e*Ll+5)/Ll*256)/256}function e6(e){e.width?(e.wpx=cy(e.width),e.wch=dy(e.wpx),e.MDW=Ll):e.wpx?(e.wch=dy(e.wpx),e.width=Dw(e.wch),e.MDW=Ll):typeof e.wch=="number"&&(e.width=Dw(e.wch),e.wpx=cy(e.width),e.MDW=Ll),e.customWidth&&delete e.customWidth}var Vje=96,Y$=Vje;function uy(e){return e*96/Y$}function X$(e){return e*Y$/96}function Wje(e){var r=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)e[a]!=null&&(r[r.length]=nt("numFmt",null,{numFmtId:a,formatCode:fr(e[a])}))}),r.length===1?"":(r[r.length]="</numFmts>",r[0]=nt("numFmts",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function qje(e){var r=[];return r[r.length]=nt("cellXfs",null),e.forEach(function(s){r[r.length]=nt("xf",null,s)}),r[r.length]="</cellXfs>",r.length===2?"":(r[0]=nt("cellXfs",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function J$(e,r){var s=[Is,nt("styleSheet",null,{xmlns:Bm[0],"xmlns:vt":Ws.vt})],a;return e.SSF&&(a=Wje(e.SSF))!=null&&(s[s.length]=a),s[s.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',s[s.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',s[s.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',s[s.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=qje(r.cellXfs))&&(s[s.length]=a),s[s.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',s[s.length]='<dxfs count="0"/>',s[s.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',s.length>2&&(s[s.length]="</styleSheet>",s[1]=s[1].replace("/>",">")),s.join("")}function Gje(e,r){var s=e.read_shift(2),a=wa(e);return[s,a]}function Kje(e,r,s){s||(s=Ve(6+4*r.length)),s.write_shift(2,e),Ks(r,s);var a=s.length>s.l?s.slice(0,s.l):s;return s.l==null&&(s.l=s.length),a}function Yje(e,r,s){var a={};a.sz=e.read_shift(2)/20;var n=L2e(e);n.fItalic&&(a.italic=1),n.fCondense&&(a.condense=1),n.fExtend&&(a.extend=1),n.fShadow&&(a.shadow=1),n.fOutline&&(a.outline=1),n.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(a.underline=l);var o=e.read_shift(1);o>0&&(a.family=o);var d=e.read_shift(1);switch(d>0&&(a.charset=d),e.l++,a.color=D2e(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=wa(e),a}function Xje(e,r){r||(r=Ve(25+4*32)),r.write_shift(2,e.sz*20),F2e(e,r),r.write_shift(2,e.bold?700:400);var s=0;e.vertAlign=="superscript"?s=1:e.vertAlign=="subscript"&&(s=2),r.write_shift(2,s),r.write_shift(1,e.underline||0),r.write_shift(1,e.family||0),r.write_shift(1,e.charset||0),r.write_shift(1,0),ly(e.color,r);var a=0;return a=2,r.write_shift(1,a),Ks(e.name,r),r.length>r.l?r.slice(0,r.l):r}var Jje=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],e2,Qje=cl;function fE(e,r){r||(r=Ve(4*3+8*7+16*1)),e2||(e2=U5(Jje));var s=e2[e.patternType];s==null&&(s=40),r.write_shift(4,s);var a=0;if(s!=40)for(ly({auto:1},r),ly({auto:1},r);a<12;++a)r.write_shift(4,0);else{for(;a<4;++a)r.write_shift(4,0);for(;a<12;++a)r.write_shift(4,0)}return r.length>r.l?r.slice(0,r.l):r}function Zje(e,r){var s=e.l+r,a=e.read_shift(2),n=e.read_shift(2);return e.l=s,{ixfe:a,numFmtId:n}}function Q$(e,r,s){s||(s=Ve(16)),s.write_shift(2,r||0),s.write_shift(2,e.numFmtId||0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(1,0),s.write_shift(1,0);var a=0;return s.write_shift(1,a),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(1,0),s}function hh(e,r){return r||(r=Ve(10)),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(4,0),r}var ewe=cl;function twe(e,r){return r||(r=Ve(51)),r.write_shift(1,0),hh(null,r),hh(null,r),hh(null,r),hh(null,r),hh(null,r),r.length>r.l?r.slice(0,r.l):r}function rwe(e,r){return r||(r=Ve(12+4*10)),r.write_shift(4,e.xfId),r.write_shift(2,1),r.write_shift(1,0),r.write_shift(1,0),iy(e.name||"",r),r.length>r.l?r.slice(0,r.l):r}function swe(e,r,s){var a=Ve(2052);return a.write_shift(4,e),iy(r,a),iy(s,a),a.length>a.l?a.slice(0,a.l):a}function awe(e,r){if(r){var s=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)r[n]!=null&&++s}),s!=0&&(Ye(e,615,Ii(s)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)r[n]!=null&&Ye(e,44,Kje(n,r[n]))}),Ye(e,616))}}function nwe(e){var r=1;Ye(e,611,Ii(r)),Ye(e,43,Xje({sz:12,color:{theme:1},name:"Calibri",family:2})),Ye(e,612)}function iwe(e){var r=2;Ye(e,603,Ii(r)),Ye(e,45,fE({patternType:"none"})),Ye(e,45,fE({patternType:"gray125"})),Ye(e,604)}function lwe(e){var r=1;Ye(e,613,Ii(r)),Ye(e,46,twe()),Ye(e,614)}function owe(e){var r=1;Ye(e,626,Ii(r)),Ye(e,47,Q$({numFmtId:0},65535)),Ye(e,627)}function cwe(e,r){Ye(e,617,Ii(r.length)),r.forEach(function(s){Ye(e,47,Q$(s,0))}),Ye(e,618)}function dwe(e){var r=1;Ye(e,619,Ii(r)),Ye(e,48,rwe({xfId:0,name:"Normal"})),Ye(e,620)}function uwe(e){var r=0;Ye(e,505,Ii(r)),Ye(e,506)}function mwe(e){var r=0;Ye(e,508,swe(r,"TableStyleMedium9","PivotStyleMedium4")),Ye(e,509)}function hwe(e,r){var s=en();return Ye(s,278),awe(s,e.SSF),nwe(s),iwe(s),lwe(s),owe(s),cwe(s,r.cellXfs),dwe(s),uwe(s),mwe(s),Ye(s,279),s.end()}function Z$(e,r){if(r&&r.themeXLSX)return r.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var s=[Is];return s[s.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',s[s.length]="<a:themeElements>",s[s.length]='<a:clrScheme name="Office">',s[s.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',s[s.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',s[s.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',s[s.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',s[s.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',s[s.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',s[s.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',s[s.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',s[s.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',s[s.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',s[s.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',s[s.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',s[s.length]="</a:clrScheme>",s[s.length]='<a:fontScheme name="Office">',s[s.length]="<a:majorFont>",s[s.length]='<a:latin typeface="Cambria"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface=" "/>',s[s.length]='<a:font script="Hang" typeface=" "/>',s[s.length]='<a:font script="Hans" typeface=""/>',s[s.length]='<a:font script="Hant" typeface=""/>',s[s.length]='<a:font script="Arab" typeface="Times New Roman"/>',s[s.length]='<a:font script="Hebr" typeface="Times New Roman"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="MoolBoran"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Times New Roman"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:majorFont>",s[s.length]="<a:minorFont>",s[s.length]='<a:latin typeface="Calibri"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface=" "/>',s[s.length]='<a:font script="Hang" typeface=" "/>',s[s.length]='<a:font script="Hans" typeface=""/>',s[s.length]='<a:font script="Hant" typeface=""/>',s[s.length]='<a:font script="Arab" typeface="Arial"/>',s[s.length]='<a:font script="Hebr" typeface="Arial"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="DaunPenh"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Arial"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:minorFont>",s[s.length]="</a:fontScheme>",s[s.length]='<a:fmtScheme name="Office">',s[s.length]="<a:fillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="1"/>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="0"/>',s[s.length]="</a:gradFill>",s[s.length]="</a:fillStyleLst>",s[s.length]="<a:lnStyleLst>",s[s.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]="</a:lnStyleLst>",s[s.length]="<a:effectStyleLst>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',s[s.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',s[s.length]="</a:effectStyle>",s[s.length]="</a:effectStyleLst>",s[s.length]="<a:bgFillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]="</a:bgFillStyleLst>",s[s.length]="</a:fmtScheme>",s[s.length]="</a:themeElements>",s[s.length]="<a:objectDefaults>",s[s.length]="<a:spDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',s[s.length]="</a:spDef>",s[s.length]="<a:lnDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',s[s.length]="</a:lnDef>",s[s.length]="</a:objectDefaults>",s[s.length]="<a:extraClrSchemeLst/>",s[s.length]="</a:theme>",s.join("")}function xwe(e,r){return{flags:e.read_shift(4),version:e.read_shift(4),name:wa(e)}}function pwe(e){var r=Ve(12+2*e.name.length);return r.write_shift(4,e.flags),r.write_shift(4,e.version),Ks(e.name,r),r.slice(0,r.l)}function fwe(e){for(var r=[],s=e.read_shift(4);s-- >0;)r.push([e.read_shift(4),e.read_shift(4)]);return r}function gwe(e){var r=Ve(4+8*e.length);r.write_shift(4,e.length);for(var s=0;s<e.length;++s)r.write_shift(4,e[s][0]),r.write_shift(4,e[s][1]);return r}function ywe(e,r){var s=Ve(8+2*r.length);return s.write_shift(4,e),Ks(r,s),s.slice(0,s.l)}function bwe(e){return e.l+=4,e.read_shift(4)!=0}function vwe(e,r){var s=Ve(8);return s.write_shift(4,e),s.write_shift(4,1),s}function jwe(){var e=en();return Ye(e,332),Ye(e,334,Ii(1)),Ye(e,335,pwe({name:"XLDAPR",version:12e4,flags:3496657072})),Ye(e,336),Ye(e,339,ywe(1,"XLDAPR")),Ye(e,52),Ye(e,35,Ii(514)),Ye(e,4096,Ii(0)),Ye(e,4097,Xn(1)),Ye(e,36),Ye(e,53),Ye(e,340),Ye(e,337,vwe(1)),Ye(e,51,gwe([[1,0]])),Ye(e,338),Ye(e,333),e.end()}function ez(){var e=[Is];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function wwe(e){var r={};r.i=e.read_shift(4);var s={};s.r=e.read_shift(4),s.c=e.read_shift(4),r.r=yr(s);var a=e.read_shift(1);return a&2&&(r.l="1"),a&8&&(r.a="1"),r}var Su=1024;function tz(e,r){for(var s=[21600,21600],a=["m0,0l0",s[1],s[0],s[1],s[0],"0xe"].join(","),n=[nt("xml",null,{"xmlns:v":gn.v,"xmlns:o":gn.o,"xmlns:x":gn.x,"xmlns:mv":gn.mv}).replace(/\/>/,">"),nt("o:shapelayout",nt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),nt("v:shapetype",[nt("v:stroke",null,{joinstyle:"miter"}),nt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:s.join(","),path:a})];Su<e*1e3;)Su+=1e3;return r.forEach(function(i){var l=Gs(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var d=o.type=="gradient"?nt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=nt("v:fill",d,o),u={on:"t",obscured:"t"};++Su,n=n.concat(["<v:shape"+H0({id:"_x0000_s"+Su,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,nt("v:shadow",null,u),nt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",sa("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),sa("x:AutoFill","False"),sa("x:Row",String(l.r)),sa("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function rz(e){var r=[Is,nt("comments",null,{xmlns:Bm[0]})],s=[];return r.push("<authors>"),e.forEach(function(a){a[1].forEach(function(n){var i=fr(n.a);s.indexOf(i)==-1&&(s.push(i),r.push("<author>"+i+"</author>")),n.T&&n.ID&&s.indexOf("tc="+n.ID)==-1&&(s.push("tc="+n.ID),r.push("<author>tc="+n.ID+"</author>"))})}),s.length==0&&(s.push("SheetJ5"),r.push("<author>SheetJ5</author>")),r.push("</authors>"),r.push("<commentList>"),e.forEach(function(a){var n=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?n=s.indexOf("tc="+a[1][0].ID):a[1].forEach(function(d){d.a&&(n=s.indexOf(fr(d.a))),i.push(d.t||"")}),r.push('<comment ref="'+a[0]+'" authorId="'+n+'"><text>'),i.length<=1)r.push(sa("t",fr(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)l+=`Reply:
    `+i[o]+`
`;r.push(sa("t",fr(l)))}r.push("</text></comment>")}),r.push("</commentList>"),r.length>2&&(r[r.length]="</comments>",r[1]=r[1].replace("/>",">")),r.join("")}function Nwe(e,r,s){var a=[Is,nt("ThreadedComments",null,{xmlns:Ws.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(n){var i="";(n[1]||[]).forEach(function(l,o){if(!l.T){delete l.ID;return}l.a&&r.indexOf(l.a)==-1&&r.push(l.a);var d={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+s.tcid++).slice(-12)+"}"};o==0?i=d.id:d.parentId=i,l.ID=d.id,l.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+r.indexOf(l.a)).slice(-12)+"}"),a.push(nt("threadedComment",sa("text",l.t||""),d))})}),a.push("</ThreadedComments>"),a.join("")}function Swe(e){var r=[Is,nt("personList",null,{xmlns:Ws.TCMNT,"xmlns:x":Bm[0]}).replace(/[\/]>/,">")];return e.forEach(function(s,a){r.push(nt("person",null,{displayName:s,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:s,providerId:"None"}))}),r.push("</personList>"),r.join("")}function kwe(e){var r={};r.iauthor=e.read_shift(4);var s=Vd(e);return r.rfx=s.s,r.ref=yr(s.s),e.l+=16,r}function Cwe(e,r){return r==null&&(r=Ve(36)),r.write_shift(4,e[1].iauthor),zm(e[0],r),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r}var Pwe=wa;function Awe(e){return Ks(e.slice(0,54))}function Twe(e){var r=en(),s=[];return Ye(r,628),Ye(r,630),e.forEach(function(a){a[1].forEach(function(n){s.indexOf(n.a)>-1||(s.push(n.a.slice(0,54)),Ye(r,632,Awe(n.a)))})}),Ye(r,631),Ye(r,633),e.forEach(function(a){a[1].forEach(function(n){n.iauthor=s.indexOf(n.a);var i={s:Gs(a[0]),e:Gs(a[0])};Ye(r,635,Cwe([i,n])),n.t&&n.t.length>0&&Ye(r,637,I2e(n)),Ye(r,636),delete n.iauthor})}),Ye(r,634),Ye(r,629),r.end()}function Ewe(e,r){r.FullPaths.forEach(function(s,a){if(a!=0){var n=s.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&br.utils.cfb_add(e,n,r.FileIndex[a].content)}})}var sz=["xlsb","xlsm","xlam","biff8","xla"],Iwe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,r={r:0,c:0};function s(a,n,i,l){var o=!1,d=!1;i.length==0?d=!0:i.charAt(0)=="["&&(d=!0,i=i.slice(1,-1)),l.length==0?o=!0:l.charAt(0)=="["&&(o=!0,l=l.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=l.length>0?parseInt(l,10)|0:0;return o?u+=r.c:--u,d?c+=r.r:--c,n+(o?"":"$")+ja(u)+(d?"":"$")+na(c)}return function(n,i){return r=i,n.replace(e,s)}}(),t6=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,r6=function(){return function(r,s){return r.replace(t6,function(a,n,i,l,o,d){var c=Y5(l)-(i?0:s.c),u=K5(d)-(o?0:s.r),m=u==0?"":o?u+1:"["+u+"]",x=c==0?"":i?c+1:"["+c+"]";return n+"R"+m+"C"+x})}}();function Owe(e,r){return e.replace(t6,function(s,a,n,i,l,o){return a+(n=="$"?n+i:ja(Y5(i)+r.c))+(l=="$"?l+o:na(K5(o)+r.r))})}function _we(e){return e.length!=1}function ws(e){e.l+=1}function lc(e,r){var s=e.read_shift(2);return[s&16383,s>>14&1,s>>15&1]}function az(e,r,s){var a=2;if(s){if(s.biff>=2&&s.biff<=5)return nz(e);s.biff==12&&(a=4)}var n=e.read_shift(a),i=e.read_shift(a),l=lc(e),o=lc(e);return{s:{r:n,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function nz(e){var r=lc(e),s=lc(e),a=e.read_shift(1),n=e.read_shift(1);return{s:{r:r[0],c:a,cRel:r[1],rRel:r[2]},e:{r:s[0],c:n,cRel:s[1],rRel:s[2]}}}function Mwe(e,r,s){if(s.biff<8)return nz(e);var a=e.read_shift(s.biff==12?4:2),n=e.read_shift(s.biff==12?4:2),i=lc(e),l=lc(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:n,c:l[0],cRel:l[1],rRel:l[2]}}}function iz(e,r,s){if(s&&s.biff>=2&&s.biff<=5)return Dwe(e);var a=e.read_shift(s&&s.biff==12?4:2),n=lc(e);return{r:a,c:n[0],cRel:n[1],rRel:n[2]}}function Dwe(e){var r=lc(e),s=e.read_shift(1);return{r:r[0],c:s,cRel:r[1],rRel:r[2]}}function Lwe(e){var r=e.read_shift(2),s=e.read_shift(2);return{r,c:s&255,fQuoted:!!(s&16384),cRel:s>>15,rRel:s>>15}}function Fwe(e,r,s){var a=s&&s.biff?s.biff:8;if(a>=2&&a<=5)return Rwe(e);var n=e.read_shift(a>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;n>524287;)n-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:n,c:i,cRel:l,rRel:o}}function Rwe(e){var r=e.read_shift(2),s=e.read_shift(1),a=(r&32768)>>15,n=(r&16384)>>14;return r&=16383,a==1&&r>=8192&&(r=r-16384),n==1&&s>=128&&(s=s-256),{r,c:s,cRel:n,rRel:a}}function Bwe(e,r,s){var a=(e[e.l++]&96)>>5,n=az(e,s.biff>=2&&s.biff<=5?6:8,s);return[a,n]}function $we(e,r,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),i=8;if(s)switch(s.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=az(e,i,s);return[a,n,l]}function zwe(e,r,s){var a=(e[e.l++]&96)>>5;return e.l+=s&&s.biff>8?12:s.biff<8?6:8,[a]}function Uwe(e,r,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=8;if(s)switch(s.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,n]}function Hwe(e,r,s){var a=(e[e.l++]&96)>>5,n=Mwe(e,r-1,s);return[a,n]}function Vwe(e,r,s){var a=(e[e.l++]&96)>>5;return e.l+=s.biff==2?6:s.biff==12?14:7,[a]}function gE(e){var r=e[e.l+1]&1,s=1;return e.l+=4,[r,s]}function Wwe(e,r,s){e.l+=2;for(var a=e.read_shift(s&&s.biff==2?1:2),n=[],i=0;i<=a;++i)n.push(e.read_shift(s&&s.biff==2?1:2));return n}function qwe(e,r,s){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(s&&s.biff==2?1:2)]}function Gwe(e,r,s){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(s&&s.biff==2?1:2)]}function Kwe(e){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(2)]}function Ywe(e,r,s){var a=e[e.l+1]&255?1:0;return e.l+=s&&s.biff==2?3:4,[a]}function lz(e){var r=e.read_shift(1),s=e.read_shift(1);return[r,s]}function Xwe(e){return e.read_shift(2),lz(e)}function Jwe(e){return e.read_shift(2),lz(e)}function Qwe(e,r,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=iz(e,0,s);return[a,n]}function Zwe(e,r,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=Fwe(e,0,s);return[a,n]}function eNe(e,r,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);s&&s.biff==5&&(e.l+=12);var i=iz(e,0,s);return[a,n,i]}function tNe(e,r,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(s&&s.biff<=3?1:2);return[t4e[n],dz[n],a]}function rNe(e,r,s){var a=e[e.l++],n=e.read_shift(1),i=s&&s.biff<=3?[a==88?-1:0,e.read_shift(1)]:sNe(e);return[n,(i[0]===0?dz:e4e)[i[1]]]}function sNe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function aNe(e,r,s){e.l+=s&&s.biff==2?3:4}function nNe(e,r,s){if(e.l++,s&&s.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function iNe(e){return e.l++,Mx[e.read_shift(1)]}function lNe(e){return e.l++,e.read_shift(2)}function oNe(e){return e.l++,e.read_shift(1)!==0}function cNe(e){return e.l++,Um(e)}function dNe(e,r,s){return e.l++,H$(e,r-1,s)}function uNe(e,r){var s=[e.read_shift(1)];if(r==12)switch(s[0]){case 2:s[0]=4;break;case 4:s[0]=16;break;case 0:s[0]=1;break;case 1:s[0]=2;break}switch(s[0]){case 4:s[1]=eje(e,1)?"TRUE":"FALSE",r!=12&&(e.l+=7);break;case 37:case 16:s[1]=Mx[e[e.l]],e.l+=r==12?4:8;break;case 0:e.l+=8;break;case 1:s[1]=Um(e);break;case 2:s[1]=aje(e,0,{biff:r>0&&r<8?2:r});break;default:throw new Error("Bad SerAr: "+s[0])}return s}function mNe(e,r,s){for(var a=e.read_shift(s.biff==12?4:2),n=[],i=0;i!=a;++i)n.push((s.biff==12?Vd:lje)(e));return n}function hNe(e,r,s){var a=0,n=0;s.biff==12?(a=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),a=1+e.read_shift(2)),s.biff>=2&&s.biff<8&&(--a,--n==0&&(n=256));for(var i=0,l=[];i!=a&&(l[i]=[]);++i)for(var o=0;o!=n;++o)l[i][o]=uNe(e,s.biff);return l}function xNe(e,r,s){var a=e.read_shift(1)>>>5&3,n=!s||s.biff>=8?4:2,i=e.read_shift(n);switch(s.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function pNe(e,r,s){if(s.biff==5)return fNe(e);var a=e.read_shift(1)>>>5&3,n=e.read_shift(2),i=e.read_shift(4);return[a,n,i]}function fNe(e){var r=e.read_shift(1)>>>5&3,s=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[r,s,a]}function gNe(e,r,s){var a=e.read_shift(1)>>>5&3;e.l+=s&&s.biff==2?3:4;var n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function yNe(e,r,s){var a=e.read_shift(1)>>>5&3,n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function bNe(e,r,s){var a=e.read_shift(1)>>>5&3;return e.l+=4,s.biff<8&&e.l--,s.biff==12&&(e.l+=2),[a]}function vNe(e,r,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=4;if(s)switch(s.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,n]}var jNe=cl,wNe=cl,NNe=cl;function Dx(e,r,s){return e.l+=2,[Lwe(e)]}function s6(e){return e.l+=6,[]}var SNe=Dx,kNe=s6,CNe=s6,PNe=Dx;function oz(e){return e.l+=2,[z$(e),e.read_shift(2)&1]}var ANe=Dx,TNe=oz,ENe=s6,INe=Dx,ONe=Dx,_Ne=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function MNe(e){e.l+=2;var r=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(4),n=e.read_shift(2),i=e.read_shift(2),l=_Ne[s>>2&31];return{ixti:r,coltype:s&3,rt:l,idx:a,c:n,C:i}}function DNe(e){return e.l+=2,[e.read_shift(4)]}function LNe(e,r,s){return e.l+=5,e.l+=2,e.l+=s.biff==2?1:4,["PTGSHEET"]}function FNe(e,r,s){return e.l+=s.biff==2?4:5,["PTGENDSHEET"]}function RNe(e){var r=e.read_shift(1)>>>5&3,s=e.read_shift(2);return[r,s]}function BNe(e){var r=e.read_shift(1)>>>5&3,s=e.read_shift(2);return[r,s]}function $Ne(e){return e.l+=4,[0,0]}var yE={1:{n:"PtgExp",f:nNe},2:{n:"PtgTbl",f:NNe},3:{n:"PtgAdd",f:ws},4:{n:"PtgSub",f:ws},5:{n:"PtgMul",f:ws},6:{n:"PtgDiv",f:ws},7:{n:"PtgPower",f:ws},8:{n:"PtgConcat",f:ws},9:{n:"PtgLt",f:ws},10:{n:"PtgLe",f:ws},11:{n:"PtgEq",f:ws},12:{n:"PtgGe",f:ws},13:{n:"PtgGt",f:ws},14:{n:"PtgNe",f:ws},15:{n:"PtgIsect",f:ws},16:{n:"PtgUnion",f:ws},17:{n:"PtgRange",f:ws},18:{n:"PtgUplus",f:ws},19:{n:"PtgUminus",f:ws},20:{n:"PtgPercent",f:ws},21:{n:"PtgParen",f:ws},22:{n:"PtgMissArg",f:ws},23:{n:"PtgStr",f:dNe},26:{n:"PtgSheet",f:LNe},27:{n:"PtgEndSheet",f:FNe},28:{n:"PtgErr",f:iNe},29:{n:"PtgBool",f:oNe},30:{n:"PtgInt",f:lNe},31:{n:"PtgNum",f:cNe},32:{n:"PtgArray",f:Vwe},33:{n:"PtgFunc",f:tNe},34:{n:"PtgFuncVar",f:rNe},35:{n:"PtgName",f:xNe},36:{n:"PtgRef",f:Qwe},37:{n:"PtgArea",f:Bwe},38:{n:"PtgMemArea",f:gNe},39:{n:"PtgMemErr",f:jNe},40:{n:"PtgMemNoMem",f:wNe},41:{n:"PtgMemFunc",f:yNe},42:{n:"PtgRefErr",f:bNe},43:{n:"PtgAreaErr",f:zwe},44:{n:"PtgRefN",f:Zwe},45:{n:"PtgAreaN",f:Hwe},46:{n:"PtgMemAreaN",f:RNe},47:{n:"PtgMemNoMemN",f:BNe},57:{n:"PtgNameX",f:pNe},58:{n:"PtgRef3d",f:eNe},59:{n:"PtgArea3d",f:$we},60:{n:"PtgRefErr3d",f:vNe},61:{n:"PtgAreaErr3d",f:Uwe},255:{}},zNe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},UNe={1:{n:"PtgElfLel",f:oz},2:{n:"PtgElfRw",f:INe},3:{n:"PtgElfCol",f:SNe},6:{n:"PtgElfRwV",f:ONe},7:{n:"PtgElfColV",f:PNe},10:{n:"PtgElfRadical",f:ANe},11:{n:"PtgElfRadicalS",f:ENe},13:{n:"PtgElfColS",f:kNe},15:{n:"PtgElfColSV",f:CNe},16:{n:"PtgElfRadicalLel",f:TNe},25:{n:"PtgList",f:MNe},29:{n:"PtgSxName",f:DNe},255:{}},HNe={0:{n:"PtgAttrNoop",f:$Ne},1:{n:"PtgAttrSemi",f:Ywe},2:{n:"PtgAttrIf",f:Gwe},4:{n:"PtgAttrChoose",f:Wwe},8:{n:"PtgAttrGoto",f:qwe},16:{n:"PtgAttrSum",f:aNe},32:{n:"PtgAttrBaxcel",f:gE},33:{n:"PtgAttrBaxcel",f:gE},64:{n:"PtgAttrSpace",f:Xwe},65:{n:"PtgAttrSpaceSemi",f:Jwe},128:{n:"PtgAttrIfError",f:Kwe},255:{}};function VNe(e,r,s,a){if(a.biff<8)return cl(e,r);for(var n=e.l+r,i=[],l=0;l!==s.length;++l)switch(s[l][0]){case"PtgArray":s[l][1]=hNe(e,0,a),i.push(s[l][1]);break;case"PtgMemArea":s[l][2]=mNe(e,s[l][1],a),i.push(s[l][2]);break;case"PtgExp":a&&a.biff==12&&(s[l][1][1]=e.read_shift(4),i.push(s[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+s[l][0]}return r=n-e.l,r!==0&&i.push(cl(e,r)),i}function WNe(e,r,s){for(var a=e.l+r,n,i,l=[];a!=e.l;)r=a-e.l,i=e[e.l],n=yE[i]||yE[zNe[i]],(i===24||i===25)&&(n=(i===24?UNe:HNe)[e[e.l+1]]),!n||!n.f?cl(e,r):l.push([n.n,n.f(e,r,s)]);return l}function qNe(e){for(var r=[],s=0;s<e.length;++s){for(var a=e[s],n=[],i=0;i<a.length;++i){var l=a[i];if(l)switch(l[0]){case 2:n.push('"'+l[1].replace(/"/g,'""')+'"');break;default:n.push(l[1])}else n.push("")}r.push(n.join(","))}return r.join(";")}var GNe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function KNe(e,r){if(!e&&!(r&&r.biff<=5&&r.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function cz(e,r,s){if(!e)return"SH33TJSERR0";if(s.biff>8&&(!e.XTI||!e.XTI[r]))return e.SheetNames[r];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[r];if(s.biff<8)return r>1e4&&(r-=65536),r<0&&(r=-r),r==0?"":e.XTI[r-1];if(!a)return"SH33TJSERR1";var n="";if(s.biff>8)switch(e[a[0]][0]){case 357:return n=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 358:return s.SID!=null?e.SheetNames[s.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return n=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(n=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?n:n+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function bE(e,r,s){var a=cz(e,r,s);return a=="#REF"?a:KNe(a,s)}function fm(e,r,s,a,n){var i=n&&n.biff||8,l={s:{c:0,r:0}},o=[],d,c,u,m=0,x=0,h,p="";if(!e[0]||!e[0][0])return"";for(var f=-1,b="",j=0,w=e[0].length;j<w;++j){var y=e[0][j];switch(y[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=o.pop(),c=o.pop(),f>=0){switch(e[0][f][1][0]){case 0:b=ls(" ",e[0][f][1][1]);break;case 1:b=ls("\r",e[0][f][1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][f][1][0])}c=c+b,f=-1}o.push(c+GNe[y[0]]+d);break;case"PtgIsect":d=o.pop(),c=o.pop(),o.push(c+" "+d);break;case"PtgUnion":d=o.pop(),c=o.pop(),o.push(c+","+d);break;case"PtgRange":d=o.pop(),c=o.pop(),o.push(c+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Gh(y[1][1],l,n),o.push(Kh(u,i));break;case"PtgRefN":u=s?Gh(y[1][1],s,n):y[1][1],o.push(Kh(u,i));break;case"PtgRef3d":m=y[1][1],u=Gh(y[1][2],l,n),p=bE(a,m,n),o.push(p+"!"+Kh(u,i));break;case"PtgFunc":case"PtgFuncVar":var v=y[1][0],N=y[1][1];v||(v=0),v&=127;var S=v==0?[]:o.slice(-v);o.length-=v,N==="User"&&(N=S.shift()),o.push(N+"("+S.join(",")+")");break;case"PtgBool":o.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(y[1]);break;case"PtgNum":o.push(String(y[1]));break;case"PtgStr":o.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(y[1]);break;case"PtgAreaN":h=sE(y[1][1],s?{s}:l,n),o.push(Q1(h,n));break;case"PtgArea":h=sE(y[1][1],l,n),o.push(Q1(h,n));break;case"PtgArea3d":m=y[1][1],h=y[1][2],p=bE(a,m,n),o.push(p+"!"+Q1(h,n));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=y[1][2];var k=(a.names||[])[x-1]||(a[0]||[])[x],P=k?k.Name:"SH33TJSNAME"+String(x);P&&P.slice(0,6)=="_xlfn."&&!n.xlfn&&(P=P.slice(6)),o.push(P);break;case"PtgNameX":var C=y[1][1];x=y[1][2];var _;if(n.biff<=5)C<0&&(C=-C),a[C]&&(_=a[C][x]);else{var A="";if(((a[C]||[])[0]||[])[0]==14849||(((a[C]||[])[0]||[])[0]==1025?a[C][x]&&a[C][x].itab>0&&(A=a.SheetNames[a[C][x].itab-1]+"!"):A=a.SheetNames[x-1]+"!"),a[C]&&a[C][x])A+=a[C][x].Name;else if(a[0]&&a[0][x])A+=a[0][x].Name;else{var D=(cz(a,C,n)||"").split(";;");D[x-1]?A=D[x-1]:A+="SH33TJSERRX"}o.push(A);break}_||(_={Name:"SH33TJSERRY"}),o.push(_.Name);break;case"PtgParen":var H="(",re=")";if(f>=0){switch(b="",e[0][f][1][0]){case 2:H=ls(" ",e[0][f][1][1])+H;break;case 3:H=ls("\r",e[0][f][1][1])+H;break;case 4:re=ls(" ",e[0][f][1][1])+re;break;case 5:re=ls("\r",e[0][f][1][1])+re;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][f][1][0])}f=-1}o.push(H+o.pop()+re);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:y[1][1],r:y[1][0]};var xe={c:s.c,r:s.r};if(a.sharedf[yr(u)]){var we=a.sharedf[yr(u)];o.push(fm(we,l,xe,a,n))}else{var T=!1;for(d=0;d!=a.arrayf.length;++d)if(c=a.arrayf[d],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(fm(c[1],l,xe,a,n)),T=!0;break}T||o.push(y[1])}break;case"PtgArray":o.push("{"+qNe(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":f=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&f>=0&&z.indexOf(e[0][j][0])==-1){y=e[0][f];var Q=!0;switch(y[1][0]){case 4:Q=!1;case 0:b=ls(" ",y[1][1]);break;case 5:Q=!1;case 1:b=ls("\r",y[1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}o.push((Q?b:"")+o.pop()+(Q?"":b)),f=-1}}if(o.length>1&&n.WTF)throw new Error("bad formula stack");return o[0]}function YNe(e){if(e==null){var r=Ve(8);return r.write_shift(1,3),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,65535),r}else if(typeof e=="number")return kd(e);return kd(0)}function XNe(e,r,s,a,n){var i=Cd(r,s,n),l=YNe(e.v),o=Ve(6),d=33;o.write_shift(2,d),o.write_shift(4,0);for(var c=Ve(e.bf.length),u=0;u<e.bf.length;++u)c[u]=e.bf[u];var m=ra([i,l,o,c]);return m}function uv(e,r,s){var a=e.read_shift(4),n=WNe(e,a,s),i=e.read_shift(4),l=i>0?VNe(e,i,n,s):null;return[n,l]}var JNe=uv,mv=uv,QNe=uv,ZNe=uv,e4e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},dz={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},t4e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function r4e(e){var r="of:="+e.replace(t6,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return r.replace(/;/g,"|").replace(/,/g,";")}function s4e(e){return e.replace(/\./,"!")}var Yh=typeof Map<"u";function a6(e,r,s){var a=0,n=e.length;if(s){if(Yh?s.has(r):Object.prototype.hasOwnProperty.call(s,r)){for(var i=Yh?s.get(r):s[r];a<i.length;++a)if(e[i[a]].t===r)return e.Count++,i[a]}}else for(;a<n;++a)if(e[a].t===r)return e.Count++,a;return e[n]={t:r},e.Count++,e.Unique++,s&&(Yh?(s.has(r)||s.set(r,[]),s.get(r).push(n)):(Object.prototype.hasOwnProperty.call(s,r)||(s[r]=[]),s[r].push(n))),n}function hv(e,r){var s={min:e+1,max:e+1},a=-1;return r.MDW&&(Ll=r.MDW),r.width!=null?s.customWidth=1:r.wpx!=null?a=dy(r.wpx):r.wch!=null&&(a=r.wch),a>-1?(s.width=Dw(a),s.customWidth=1):r.width!=null&&(s.width=r.width),r.hidden&&(s.hidden=!0),r.level!=null&&(s.outlineLevel=s.level=r.level),s}function uz(e,r){if(e){var s=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=s[0]),e.right==null&&(e.right=s[1]),e.top==null&&(e.top=s[2]),e.bottom==null&&(e.bottom=s[3]),e.header==null&&(e.header=s[4]),e.footer==null&&(e.footer=s[5])}}function yc(e,r,s){var a=s.revssf[r.z!=null?r.z:"General"],n=60,i=e.length;if(a==null&&s.ssf){for(;n<392;++n)if(s.ssf[n]==null){i$(r.z,n),s.ssf[n]=r.z,s.revssf[r.z]=a=n;break}}for(n=0;n!=i;++n)if(e[n].numFmtId===a)return n;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function a4e(e,r,s){if(e&&e["!ref"]){var a=$r(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+s+"): "+e["!ref"])}}function n4e(e){if(e.length===0)return"";for(var r='<mergeCells count="'+e.length+'">',s=0;s!=e.length;++s)r+='<mergeCell ref="'+Es(e[s])+'"/>';return r+"</mergeCells>"}function i4e(e,r,s,a,n){var i=!1,l={},o=null;if(a.bookType!=="xlsx"&&r.vbaraw){var d=r.SheetNames[s];try{r.Workbook&&(d=r.Workbook.Sheets[s].CodeName||d)}catch{}i=!0,l.codeName=U0(fr(d))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+nt("outlinePr",null,c)}!i&&!o||(n[n.length]=nt("sheetPr",o,l))}var l4e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],o4e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function c4e(e){var r={sheet:1};return l4e.forEach(function(s){e[s]!=null&&e[s]&&(r[s]="1")}),o4e.forEach(function(s){e[s]!=null&&!e[s]&&(r[s]="0")}),e.password&&(r.password=K$(e.password).toString(16).toUpperCase()),nt("sheetProtection",null,r)}function d4e(e){return uz(e),nt("pageMargins",null,e)}function u4e(e,r){for(var s=["<cols>"],a,n=0;n!=r.length;++n)(a=r[n])&&(s[s.length]=nt("col",null,hv(n,a)));return s[s.length]="</cols>",s.join("")}function m4e(e,r,s,a){var n=typeof e.ref=="string"?e.ref:Es(e.ref);s.Workbook||(s.Workbook={Sheets:[]}),s.Workbook.Names||(s.Workbook.Names=[]);var i=s.Workbook.Names,l=_n(n);l.s.r==l.e.r&&(l.e.r=_n(r["!ref"]).e.r,n=Es(l));for(var o=0;o<i.length;++o){var d=i[o];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==a){d.Ref="'"+s.SheetNames[a]+"'!"+n;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+s.SheetNames[a]+"'!"+n}),nt("autoFilter",null,{ref:n})}function h4e(e,r,s,a){var n={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),nt("sheetViews",nt("sheetView",null,n),{})}function x4e(e,r,s,a){if(e.c&&s["!comments"].push([r,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var n="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=Mx[e.v];break;case"d":a&&a.cellDates?n=Ba(e.v,-1).toISOString():(e=ln(e),e.t="n",n=""+(e.v=nn(Ba(e.v)))),typeof e.z>"u"&&(e.z=os[14]);break;default:n=e.v;break}var o=sa("v",fr(n)),d={r},c=yc(a.cellXfs,e,a);switch(c!==0&&(d.s=c),e.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){o=sa("v",""+a6(a.Strings,e.v,a.revStrings)),d.t="s";break}d.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,r.length)==r?{t:"array",ref:e.F}:null;o=nt("f",fr(e.f),u)+(e.v!=null?o:"")}return e.l&&s["!links"].push([r,e.l]),e.D&&(d.cm=1),nt("c",o,d)}function p4e(e,r,s,a){var n=[],i=[],l=$r(e["!ref"]),o="",d,c="",u=[],m=0,x=0,h=e["!rows"],p=Array.isArray(e),f={r:c},b,j=-1;for(x=l.s.c;x<=l.e.c;++x)u[x]=ja(x);for(m=l.s.r;m<=l.e.r;++m){for(i=[],c=na(m),x=l.s.c;x<=l.e.c;++x){d=u[x]+c;var w=p?(e[m]||[])[x]:e[d];w!==void 0&&(o=x4e(w,d,e,r))!=null&&i.push(o)}(i.length>0||h&&h[m])&&(f={r:c},h&&h[m]&&(b=h[m],b.hidden&&(f.hidden=1),j=-1,b.hpx?j=uy(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(f.ht=j,f.customHeight=1),b.level&&(f.outlineLevel=b.level)),n[n.length]=nt("row",i.join(""),f))}if(h)for(;m<h.length;++m)h&&h[m]&&(f={r:m+1},b=h[m],b.hidden&&(f.hidden=1),j=-1,b.hpx?j=uy(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(f.ht=j,f.customHeight=1),b.level&&(f.outlineLevel=b.level),n[n.length]=nt("row","",f));return n.join("")}function mz(e,r,s,a){var n=[Is,nt("worksheet",null,{xmlns:Bm[0],"xmlns:r":Ws.r})],i=s.SheetNames[e],l=0,o="",d=s.Sheets[i];d==null&&(d={});var c=d["!ref"]||"A1",u=$r(c);if(u.e.c>16383||u.e.r>1048575){if(r.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=Es(u)}a||(a={}),d["!comments"]=[];var m=[];i4e(d,s,e,r,n),n[n.length]=nt("dimension",null,{ref:c}),n[n.length]=h4e(d,r,e,s),r.sheetFormat&&(n[n.length]=nt("sheetFormatPr",null,{defaultRowHeight:r.sheetFormat.defaultRowHeight||"16",baseColWidth:r.sheetFormat.baseColWidth||"10",outlineLevelRow:r.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(n[n.length]=u4e(d,d["!cols"])),n[l=n.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(o=p4e(d,r),o.length>0&&(n[n.length]=o)),n.length>l+1&&(n[n.length]="</sheetData>",n[l]=n[l].replace("/>",">")),d["!protect"]&&(n[n.length]=c4e(d["!protect"])),d["!autofilter"]!=null&&(n[n.length]=m4e(d["!autofilter"],d,s,e)),d["!merges"]!=null&&d["!merges"].length>0&&(n[n.length]=n4e(d["!merges"]));var x=-1,h,p=-1;return d["!links"].length>0&&(n[n.length]="<hyperlinks>",d["!links"].forEach(function(f){f[1].Target&&(h={ref:f[0]},f[1].Target.charAt(0)!="#"&&(p=xr(a,-1,fr(f[1].Target).replace(/#.*$/,""),ir.HLINK),h["r:id"]="rId"+p),(x=f[1].Target.indexOf("#"))>-1&&(h.location=fr(f[1].Target.slice(x+1))),f[1].Tooltip&&(h.tooltip=fr(f[1].Tooltip)),n[n.length]=nt("hyperlink",null,h))}),n[n.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(n[n.length]=d4e(d["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&(n[n.length]=sa("ignoredErrors",nt("ignoredError",null,{numberStoredAsText:1,sqref:c}))),m.length>0&&(p=xr(a,-1,"../drawings/drawing"+(e+1)+".xml",ir.DRAW),n[n.length]=nt("drawing",null,{"r:id":"rId"+p}),d["!drawing"]=m),d["!comments"].length>0&&(p=xr(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ir.VML),n[n.length]=nt("legacyDrawing",null,{"r:id":"rId"+p}),d["!legacy"]=p),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function f4e(e,r){var s={},a=e.l+r;s.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(s.level=i&7),i&16&&(s.hidden=!0),i&32&&(s.hpt=n/20),s}function g4e(e,r,s){var a=Ve(145),n=(s["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;n.hpx?i=uy(n.hpx)*20:n.hpt&&(i=n.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var l=0;n.level&&(l|=n.level),n.hidden&&(l|=16),(n.hpx||n.hpt)&&(l|=32),a.write_shift(1,l),a.write_shift(1,0);var o=0,d=a.l;a.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(r.s.c>u+1<<10||r.e.c<u<<10)){for(var m=-1,x=-1,h=u<<10;h<u+1<<10;++h){c.c=h;var p=Array.isArray(s)?(s[c.r]||[])[c.c]:s[yr(c)];p&&(m<0&&(m=h),x=h)}m<0||(++o,a.write_shift(4,m),a.write_shift(4,x))}var f=a.l;return a.l=d,a.write_shift(4,o),a.l=f,a.length>a.l?a.slice(0,a.l):a}function y4e(e,r,s,a){var n=g4e(a,s,r);(n.length>17||(r["!rows"]||[])[a])&&Ye(e,0,n)}var b4e=Vd,v4e=zm;function j4e(){}function w4e(e,r){var s={},a=e[e.l];return++e.l,s.above=!(a&64),s.left=!(a&128),e.l+=18,s.name=O2e(e),s}function N4e(e,r,s){s==null&&(s=Ve(84+4*e.length));var a=192;r&&(r.above&&(a&=-65),r.left&&(a&=-129)),s.write_shift(1,a);for(var n=1;n<3;++n)s.write_shift(1,0);return ly({auto:1},s),s.write_shift(-4,-1),s.write_shift(-4,-1),P$(e,s),s.slice(0,s.l)}function S4e(e){var r=xi(e);return[r]}function k4e(e,r,s){return s==null&&(s=Ve(8)),zd(r,s)}function C4e(e){var r=Ud(e);return[r]}function P4e(e,r,s){return s==null&&(s=Ve(4)),Hd(r,s)}function A4e(e){var r=xi(e),s=e.read_shift(1);return[r,s,"b"]}function T4e(e,r,s){return s==null&&(s=Ve(9)),zd(r,s),s.write_shift(1,e.v?1:0),s}function E4e(e){var r=Ud(e),s=e.read_shift(1);return[r,s,"b"]}function I4e(e,r,s){return s==null&&(s=Ve(5)),Hd(r,s),s.write_shift(1,e.v?1:0),s}function O4e(e){var r=xi(e),s=e.read_shift(1);return[r,s,"e"]}function _4e(e,r,s){return s==null&&(s=Ve(9)),zd(r,s),s.write_shift(1,e.v),s}function M4e(e){var r=Ud(e),s=e.read_shift(1);return[r,s,"e"]}function D4e(e,r,s){return s==null&&(s=Ve(8)),Hd(r,s),s.write_shift(1,e.v),s.write_shift(2,0),s.write_shift(1,0),s}function L4e(e){var r=xi(e),s=e.read_shift(4);return[r,s,"s"]}function F4e(e,r,s){return s==null&&(s=Ve(12)),zd(r,s),s.write_shift(4,r.v),s}function R4e(e){var r=Ud(e),s=e.read_shift(4);return[r,s,"s"]}function B4e(e,r,s){return s==null&&(s=Ve(8)),Hd(r,s),s.write_shift(4,r.v),s}function $4e(e){var r=xi(e),s=Um(e);return[r,s,"n"]}function z4e(e,r,s){return s==null&&(s=Ve(16)),zd(r,s),kd(e.v,s),s}function U4e(e){var r=Ud(e),s=Um(e);return[r,s,"n"]}function H4e(e,r,s){return s==null&&(s=Ve(12)),Hd(r,s),kd(e.v,s),s}function V4e(e){var r=xi(e),s=A$(e);return[r,s,"n"]}function W4e(e,r,s){return s==null&&(s=Ve(12)),zd(r,s),T$(e.v,s),s}function q4e(e){var r=Ud(e),s=A$(e);return[r,s,"n"]}function G4e(e,r,s){return s==null&&(s=Ve(8)),Hd(r,s),T$(e.v,s),s}function K4e(e){var r=xi(e),s=X5(e);return[r,s,"is"]}function Y4e(e){var r=xi(e),s=wa(e);return[r,s,"str"]}function X4e(e,r,s){return s==null&&(s=Ve(12+4*e.v.length)),zd(r,s),Ks(e.v,s),s.length>s.l?s.slice(0,s.l):s}function J4e(e){var r=Ud(e),s=wa(e);return[r,s,"str"]}function Q4e(e,r,s){return s==null&&(s=Ve(8+4*e.v.length)),Hd(r,s),Ks(e.v,s),s.length>s.l?s.slice(0,s.l):s}function Z4e(e,r,s){var a=e.l+r,n=xi(e);n.r=s["!row"];var i=e.read_shift(1),l=[n,i,"b"];if(s.cellFormula){e.l+=2;var o=mv(e,a-e.l,s);l[3]=fm(o,null,n,s.supbooks,s)}else e.l=a;return l}function e3e(e,r,s){var a=e.l+r,n=xi(e);n.r=s["!row"];var i=e.read_shift(1),l=[n,i,"e"];if(s.cellFormula){e.l+=2;var o=mv(e,a-e.l,s);l[3]=fm(o,null,n,s.supbooks,s)}else e.l=a;return l}function t3e(e,r,s){var a=e.l+r,n=xi(e);n.r=s["!row"];var i=Um(e),l=[n,i,"n"];if(s.cellFormula){e.l+=2;var o=mv(e,a-e.l,s);l[3]=fm(o,null,n,s.supbooks,s)}else e.l=a;return l}function r3e(e,r,s){var a=e.l+r,n=xi(e);n.r=s["!row"];var i=wa(e),l=[n,i,"str"];if(s.cellFormula){e.l+=2;var o=mv(e,a-e.l,s);l[3]=fm(o,null,n,s.supbooks,s)}else e.l=a;return l}var s3e=Vd,a3e=zm;function n3e(e,r){return r==null&&(r=Ve(4)),r.write_shift(4,e),r}function i3e(e,r){var s=e.l+r,a=Vd(e),n=J5(e),i=wa(e),l=wa(e),o=wa(e);e.l=s;var d={rfx:a,relId:n,loc:i,display:o};return l&&(d.Tooltip=l),d}function l3e(e,r){var s=Ve(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));zm({s:Gs(e[0]),e:Gs(e[0])},s),Q5("rId"+r,s);var a=e[1].Target.indexOf("#"),n=a==-1?"":e[1].Target.slice(a+1);return Ks(n||"",s),Ks(e[1].Tooltip||"",s),Ks("",s),s.slice(0,s.l)}function o3e(){}function c3e(e,r,s){var a=e.l+r,n=E$(e),i=e.read_shift(1),l=[n];if(l[2]=i,s.cellFormula){var o=JNe(e,a-e.l,s);l[1]=o}else e.l=a;return l}function d3e(e,r,s){var a=e.l+r,n=Vd(e),i=[n];if(s.cellFormula){var l=ZNe(e,a-e.l,s);i[1]=l,e.l=a}else e.l=a;return i}function u3e(e,r,s){s==null&&(s=Ve(18));var a=hv(e,r);s.write_shift(-4,e),s.write_shift(-4,e),s.write_shift(4,(a.width||10)*256),s.write_shift(4,0);var n=0;return r.hidden&&(n|=1),typeof a.width=="number"&&(n|=2),r.level&&(n|=r.level<<8),s.write_shift(2,n),s}var hz=["left","right","top","bottom","header","footer"];function m3e(e){var r={};return hz.forEach(function(s){r[s]=Um(e)}),r}function h3e(e,r){return r==null&&(r=Ve(6*8)),uz(e),hz.forEach(function(s){kd(e[s],r)}),r}function x3e(e){var r=e.read_shift(2);return e.l+=28,{RTL:r&32}}function p3e(e,r,s){s==null&&(s=Ve(30));var a=924;return(((r||{}).Views||[])[0]||{}).RTL&&(a|=32),s.write_shift(2,a),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(2,0),s.write_shift(2,100),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(4,0),s}function f3e(e){var r=Ve(24);return r.write_shift(4,4),r.write_shift(4,1),zm(e,r),r}function g3e(e,r){return r==null&&(r=Ve(16*4+2)),r.write_shift(2,e.password?K$(e.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(s){s[1]?r.write_shift(4,e[s[0]]!=null&&!e[s[0]]?1:0):r.write_shift(4,e[s[0]]!=null&&e[s[0]]?0:1)}),r}function y3e(){}function b3e(){}function v3e(e,r,s,a,n,i,l){if(r.v===void 0)return!1;var o="";switch(r.t){case"b":o=r.v?"1":"0";break;case"d":r=ln(r),r.z=r.z||os[14],r.v=nn(Ba(r.v)),r.t="n";break;case"n":case"e":o=""+r.v;break;default:o=r.v;break}var d={r:s,c:a};switch(d.s=yc(n.cellXfs,r,n),r.l&&i["!links"].push([yr(d),r.l]),r.c&&i["!comments"].push([yr(d),r.c]),r.t){case"s":case"str":return n.bookSST?(o=a6(n.Strings,r.v,n.revStrings),d.t="s",d.v=o,l?Ye(e,18,B4e(r,d)):Ye(e,7,F4e(r,d))):(d.t="str",l?Ye(e,17,Q4e(r,d)):Ye(e,6,X4e(r,d))),!0;case"n":return r.v==(r.v|0)&&r.v>-1e3&&r.v<1e3?l?Ye(e,13,G4e(r,d)):Ye(e,2,W4e(r,d)):l?Ye(e,16,H4e(r,d)):Ye(e,5,z4e(r,d)),!0;case"b":return d.t="b",l?Ye(e,15,I4e(r,d)):Ye(e,4,T4e(r,d)),!0;case"e":return d.t="e",l?Ye(e,14,D4e(r,d)):Ye(e,3,_4e(r,d)),!0}return l?Ye(e,12,P4e(r,d)):Ye(e,1,k4e(r,d)),!0}function j3e(e,r,s,a){var n=$r(r["!ref"]||"A1"),i,l="",o=[];Ye(e,145);var d=Array.isArray(r),c=n.e.r;r["!rows"]&&(c=Math.max(n.e.r,r["!rows"].length-1));for(var u=n.s.r;u<=c;++u){l=na(u),y4e(e,r,n,u);var m=!1;if(u<=n.e.r)for(var x=n.s.c;x<=n.e.c;++x){u===n.s.r&&(o[x]=ja(x)),i=o[x]+l;var h=d?(r[u]||[])[x]:r[i];if(!h){m=!1;continue}m=v3e(e,h,u,x,a,r,m)}}Ye(e,146)}function w3e(e,r){!r||!r["!merges"]||(Ye(e,177,n3e(r["!merges"].length)),r["!merges"].forEach(function(s){Ye(e,176,a3e(s))}),Ye(e,178))}function N3e(e,r){!r||!r["!cols"]||(Ye(e,390),r["!cols"].forEach(function(s,a){s&&Ye(e,60,u3e(a,s))}),Ye(e,391))}function S3e(e,r){!r||!r["!ref"]||(Ye(e,648),Ye(e,649,f3e($r(r["!ref"]))),Ye(e,650))}function k3e(e,r,s){r["!links"].forEach(function(a){if(a[1].Target){var n=xr(s,-1,a[1].Target.replace(/#.*$/,""),ir.HLINK);Ye(e,494,l3e(a,n))}}),delete r["!links"]}function C3e(e,r,s,a){if(r["!comments"].length>0){var n=xr(a,-1,"../drawings/vmlDrawing"+(s+1)+".vml",ir.VML);Ye(e,551,Q5("rId"+n)),r["!legacy"]=n}}function P3e(e,r,s,a){if(r["!autofilter"]){var n=r["!autofilter"],i=typeof n.ref=="string"?n.ref:Es(n.ref);s.Workbook||(s.Workbook={Sheets:[]}),s.Workbook.Names||(s.Workbook.Names=[]);var l=s.Workbook.Names,o=_n(i);o.s.r==o.e.r&&(o.e.r=_n(r["!ref"]).e.r,i=Es(o));for(var d=0;d<l.length;++d){var c=l[d];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==a){c.Ref="'"+s.SheetNames[a]+"'!"+i;break}}d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+s.SheetNames[a]+"'!"+i}),Ye(e,161,zm($r(i))),Ye(e,162)}}function A3e(e,r,s){Ye(e,133),Ye(e,137,p3e(r,s)),Ye(e,138),Ye(e,134)}function T3e(e,r){r["!protect"]&&Ye(e,535,g3e(r["!protect"]))}function E3e(e,r,s,a){var n=en(),i=s.SheetNames[e],l=s.Sheets[i]||{},o=i;try{s&&s.Workbook&&(o=s.Workbook.Sheets[e].CodeName||o)}catch{}var d=$r(l["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(r.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Ye(n,129),(s.vbaraw||l["!outline"])&&Ye(n,147,N4e(o,l["!outline"])),Ye(n,148,v4e(d)),A3e(n,l,s.Workbook),N3e(n,l),j3e(n,l,e,r),T3e(n,l),P3e(n,l,s,e),w3e(n,l),k3e(n,l,a),l["!margins"]&&Ye(n,476,h3e(l["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&S3e(n,l),C3e(n,l,e,a),Ye(n,130),n.end()}function I3e(e,r){e.l+=10;var s=wa(e);return{name:s}}var O3e=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function _3e(e){return!e.Workbook||!e.Workbook.WBProps?"false":d2e(e.Workbook.WBProps.date1904)?"true":"false"}var M3e="][*?/\\".split("");function xz(e,r){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var s=!0;return M3e.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),s}function D3e(e,r,s){e.forEach(function(a,n){xz(a);for(var i=0;i<n;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(s){var l=r&&r[n]&&r[n].CodeName||a;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function L3e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var r=e.Workbook&&e.Workbook.Sheets||[];D3e(e.SheetNames,r,!!e.vbaraw);for(var s=0;s<e.SheetNames.length;++s)a4e(e.Sheets[e.SheetNames[s]],e.SheetNames[s],s)}function pz(e){var r=[Is];r[r.length]=nt("workbook",null,{xmlns:Bm[0],"xmlns:r":Ws.r});var s=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(O3e.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(a[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),r[r.length]=nt("workbookPr",null,a);var n=e.Workbook&&e.Workbook.Sheets||[],i=0;if(n&&n[0]&&n[0].Hidden){for(r[r.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!n[i]||!n[i].Hidden);++i);i==e.SheetNames.length&&(i=0),r[r.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',r[r.length]="</bookViews>"}for(r[r.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:fr(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),n[i])switch(n[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}r[r.length]=nt("sheet",null,l)}return r[r.length]="</sheets>",s&&(r[r.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var d={name:o.Name};o.Comment&&(d.comment=o.Comment),o.Sheet!=null&&(d.localSheetId=""+o.Sheet),o.Hidden&&(d.hidden="1"),o.Ref&&(r[r.length]=nt("definedName",fr(o.Ref),d))}),r[r.length]="</definedNames>"),r.length>2&&(r[r.length]="</workbook>",r[1]=r[1].replace("/>",">")),r.join("")}function F3e(e,r){var s={};return s.Hidden=e.read_shift(4),s.iTabID=e.read_shift(4),s.strRelID=Mw(e),s.name=wa(e),s}function R3e(e,r){return r||(r=Ve(127)),r.write_shift(4,e.Hidden),r.write_shift(4,e.iTabID),Q5(e.strRelID,r),Ks(e.name.slice(0,31),r),r.length>r.l?r.slice(0,r.l):r}function B3e(e,r){var s={},a=e.read_shift(4);s.defaultThemeVersion=e.read_shift(4);var n=r>8?wa(e):"";return n.length>0&&(s.CodeName=n),s.autoCompressPictures=!!(a&65536),s.backupFile=!!(a&64),s.checkCompatibility=!!(a&4096),s.date1904=!!(a&1),s.filterPrivacy=!!(a&8),s.hidePivotFieldList=!!(a&1024),s.promptedSolutions=!!(a&16),s.publishItems=!!(a&2048),s.refreshAllConnections=!!(a&262144),s.saveExternalLinkValues=!!(a&128),s.showBorderUnselectedTables=!!(a&4),s.showInkAnnotation=!!(a&32),s.showObjects=["all","placeholders","none"][a>>13&3],s.showPivotChartFilter=!!(a&32768),s.updateLinks=["userSet","never","always"][a>>8&3],s}function $3e(e,r){r||(r=Ve(72));var s=0;return e&&e.filterPrivacy&&(s|=8),r.write_shift(4,s),r.write_shift(4,0),P$(e&&e.CodeName||"ThisWorkbook",r),r.slice(0,r.l)}function z3e(e,r,s){var a=e.l+r;e.l+=4,e.l+=1;var n=e.read_shift(4),i=_2e(e),l=QNe(e,0,s),o=J5(e);e.l=a;var d={Name:i,Ptg:l};return n<268435455&&(d.Sheet=n),o&&(d.Comment=o),d}function U3e(e,r){Ye(e,143);for(var s=0;s!=r.SheetNames.length;++s){var a=r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[s]&&r.Workbook.Sheets[s].Hidden||0,n={Hidden:a,iTabID:s+1,strRelID:"rId"+(s+1),name:r.SheetNames[s]};Ye(e,156,R3e(n))}Ye(e,144)}function H3e(e,r){r||(r=Ve(127));for(var s=0;s!=4;++s)r.write_shift(4,0);return Ks("SheetJS",r),Ks(Zg.version,r),Ks(Zg.version,r),Ks("7262",r),r.length>r.l?r.slice(0,r.l):r}function V3e(e,r){r||(r=Ve(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,e),r.write_shift(4,e);var s=120;return r.write_shift(1,s),r.length>r.l?r.slice(0,r.l):r}function W3e(e,r){if(!(!r.Workbook||!r.Workbook.Sheets)){for(var s=r.Workbook.Sheets,a=0,n=-1,i=-1;a<s.length;++a)!s[a]||!s[a].Hidden&&n==-1?n=a:s[a].Hidden==1&&i==-1&&(i=a);i>n||(Ye(e,135),Ye(e,158,V3e(n)),Ye(e,136))}}function q3e(e,r){var s=en();return Ye(s,131),Ye(s,128,H3e()),Ye(s,153,$3e(e.Workbook&&e.Workbook.WBProps||null)),W3e(s,e),U3e(s,e),Ye(s,132),s.end()}function G3e(e,r,s){return(r.slice(-4)===".bin"?q3e:pz)(e)}function K3e(e,r,s,a,n){return(r.slice(-4)===".bin"?E3e:mz)(e,s,a,n)}function Y3e(e,r,s){return(r.slice(-4)===".bin"?hwe:J$)(e,s)}function X3e(e,r,s){return(r.slice(-4)===".bin"?$je:G$)(e,s)}function J3e(e,r,s){return(r.slice(-4)===".bin"?Twe:rz)(e)}function Q3e(e){return(e.slice(-4)===".bin"?jwe:ez)()}function Z3e(e,r){var s=[];return e.Props&&s.push(Y2e(e.Props,r)),e.Custprops&&s.push(X2e(e.Props,e.Custprops)),s.join("")}function e5e(){return""}function t5e(e,r){var s=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return r.cellXfs.forEach(function(a,n){var i=[];i.push(nt("NumberFormat",null,{"ss:Format":fr(os[a.numFmtId])}));var l={"ss:ID":"s"+(21+n)};s.push(nt("Style",i.join(""),l))}),nt("Styles",s.join(""))}function fz(e){return nt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+r6(e.Ref,{r:0,c:0})})}function r5e(e){if(!((e||{}).Workbook||{}).Names)return"";for(var r=e.Workbook.Names,s=[],a=0;a<r.length;++a){var n=r[a];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||s.push(fz(n)))}return nt("Names",s.join(""))}function s5e(e,r,s,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var n=a.Workbook.Names,i=[],l=0;l<n.length;++l){var o=n[l];o.Sheet==s&&(o.Name.match(/^_xlfn\./)||i.push(fz(o)))}return i.join("")}function a5e(e,r,s,a){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(nt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(nt("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(nt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[s])if(a.Workbook.Sheets[s].Hidden)n.push(nt("Visible",a.Workbook.Sheets[s].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<s&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==s&&n.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(sa("ProtectContents","True")),e["!protect"].objects&&n.push(sa("ProtectObjects","True")),e["!protect"].scenarios&&n.push(sa("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?n.push(sa("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&n.push(sa("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&n.push("<"+l[1]+"/>")})),n.length==0?"":nt("WorksheetOptions",n.join(""),{xmlns:gn.x})}function n5e(e){return e.map(function(r){var s=c2e(r.t||""),a=nt("ss:Data",s,{xmlns:"http://www.w3.org/TR/REC-html40"});return nt("Comment",a,{"ss:Author":r.a})}).join("")}function i5e(e,r,s,a,n,i,l){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+fr(r6(e.f,l))),e.F&&e.F.slice(0,r.length)==r){var d=Gs(e.F.slice(r.length+1));o["ss:ArrayRange"]="RC:R"+(d.r==l.r?"":"["+(d.r-l.r)+"]")+"C"+(d.c==l.c?"":"["+(d.c-l.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=fr(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=fr(e.l.Tooltip))),s["!merges"])for(var c=s["!merges"],u=0;u!=c.length;++u)c[u].s.c!=l.c||c[u].s.r!=l.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var m="",x="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":m="Number",x=String(e.v);break;case"b":m="Boolean",x=e.v?"1":"0";break;case"e":m="Error",x=Mx[e.v];break;case"d":m="DateTime",x=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||os[14]);break;case"s":m="String",x=o2e(e.v||"");break}var h=yc(a.cellXfs,e,a);o["ss:StyleID"]="s"+(21+h),o["ss:Index"]=l.c+1;var p=e.v!=null?x:"",f=e.t=="z"?"":'<Data ss:Type="'+m+'">'+p+"</Data>";return(e.c||[]).length>0&&(f+=n5e(e.c)),nt("Cell",f,o)}function l5e(e,r){var s='<Row ss:Index="'+(e+1)+'"';return r&&(r.hpt&&!r.hpx&&(r.hpx=X$(r.hpt)),r.hpx&&(s+=' ss:AutoFitHeight="0" ss:Height="'+r.hpx+'"'),r.hidden&&(s+=' ss:Hidden="1"')),s+">"}function o5e(e,r,s,a){if(!e["!ref"])return"";var n=$r(e["!ref"]),i=e["!merges"]||[],l=0,o=[];e["!cols"]&&e["!cols"].forEach(function(b,j){e6(b);var w=!!b.width,y=hv(j,b),v={"ss:Index":j+1};w&&(v["ss:Width"]=cy(y.width)),b.hidden&&(v["ss:Hidden"]="1"),o.push(nt("Column",null,v))});for(var d=Array.isArray(e),c=n.s.r;c<=n.e.r;++c){for(var u=[l5e(c,(e["!rows"]||[])[c])],m=n.s.c;m<=n.e.c;++m){var x=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>m)&&!(i[l].s.r>c)&&!(i[l].e.c<m)&&!(i[l].e.r<c)){(i[l].s.c!=m||i[l].s.r!=c)&&(x=!0);break}if(!x){var h={r:c,c:m},p=yr(h),f=d?(e[c]||[])[m]:e[p];u.push(i5e(f,p,e,r,s,a,h))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function c5e(e,r,s){var a=[],n=s.SheetNames[e],i=s.Sheets[n],l=i?s5e(i,r,e,s):"";return l.length>0&&a.push("<Names>"+l+"</Names>"),l=i?o5e(i,r,e,s):"",l.length>0&&a.push("<Table>"+l+"</Table>"),a.push(a5e(i,r,e,s)),a.join("")}function d5e(e,r){r||(r={}),e.SSF||(e.SSF=ln(os)),e.SSF&&(ov(),lv(e.SSF),r.revssf=cv(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF,r.cellXfs=[],yc(r.cellXfs,{},{revssf:{General:0}}));var s=[];s.push(Z3e(e,r)),s.push(e5e()),s.push(""),s.push("");for(var a=0;a<e.SheetNames.length;++a)s.push(nt("Worksheet",c5e(a,r,e),{"ss:Name":fr(e.SheetNames[a])}));return s[2]=t5e(e,r),s[3]=r5e(e),Is+nt("Workbook",s.join(""),{xmlns:gn.ss,"xmlns:o":gn.o,"xmlns:x":gn.x,"xmlns:ss":gn.ss,"xmlns:dt":gn.dt,"xmlns:html":gn.html})}var t2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function u5e(e,r){var s=[],a=[],n=[],i=0,l,o=qT(nE,"n"),d=qT(iE,"n");if(e.Props)for(l=oa(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(o,l[i])?s:Object.prototype.hasOwnProperty.call(d,l[i])?a:n).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=oa(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(o,l[i])?s:Object.prototype.hasOwnProperty.call(d,l[i])?a:n).push([l[i],e.Custprops[l[i]]]);var c=[];for(i=0;i<n.length;++i)$$.indexOf(n[i][0])>-1||F$.indexOf(n[i][0])>-1||n[i][1]!=null&&c.push(n[i]);a.length&&br.utils.cfb_add(r,"/SummaryInformation",uE(a,t2.SI,d,iE)),(s.length||c.length)&&br.utils.cfb_add(r,"/DocumentSummaryInformation",uE(s,t2.DSI,o,nE,c.length?c:null,t2.UDI))}function m5e(e,r){var s=r||{},a=br.utils.cfb_new({root:"R"}),n="/Workbook";switch(s.bookType||"xls"){case"xls":s.bookType="biff8";case"xla":s.bookType||(s.bookType="xla");case"biff8":n="/Workbook",s.biff=8;break;case"biff5":n="/Book",s.biff=5;break;default:throw new Error("invalid type "+s.bookType+" for XLS CFB")}return br.utils.cfb_add(a,n,gz(e,s)),s.biff==8&&(e.Props||e.Custprops)&&u5e(e,a),s.biff==8&&e.vbaraw&&Ewe(a,br.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var h5e={0:{f:f4e},1:{f:S4e},2:{f:V4e},3:{f:O4e},4:{f:A4e},5:{f:$4e},6:{f:Y4e},7:{f:L4e},8:{f:r3e},9:{f:t3e},10:{f:Z4e},11:{f:e3e},12:{f:C4e},13:{f:q4e},14:{f:M4e},15:{f:E4e},16:{f:U4e},17:{f:J4e},18:{f:R4e},19:{f:X5},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:z3e},40:{},42:{},43:{f:Yje},44:{f:Gje},45:{f:Qje},46:{f:ewe},47:{f:Zje},48:{},49:{f:C2e},50:{},51:{f:fwe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Pje},62:{f:K4e},63:{f:wwe},64:{f:y3e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:cl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:x3e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:w4e},148:{f:b4e,p:16},151:{f:o3e},152:{},153:{f:B3e},154:{},155:{},156:{f:F3e},157:{},158:{},159:{T:1,f:Fje},160:{T:-1},161:{T:1,f:Vd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:s3e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:xwe},336:{T:-1},337:{f:bwe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Mw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:jje},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:c3e},427:{f:d3e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:m3e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:j4e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:i3e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Mw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Pwe},633:{T:1},634:{T:-1},635:{T:1,f:kwe},636:{T:-1},637:{f:E2e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:I3e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:b3e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function lt(e,r,s,a){var n=r;if(!isNaN(n)){var i=a||(s||[]).length||0,l=e.next(4);l.write_shift(2,n),l.write_shift(2,i),i>0&&G5(s)&&e.push(s)}}function x5e(e,r,s,a){var n=(s||[]).length||0;if(n<=8224)return lt(e,r,s,n);var i=r;if(!isNaN(i)){for(var l=s.parts||[],o=0,d=0,c=0;c+(l[o]||8224)<=8224;)c+=l[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,c),e.push(s.slice(d,d+c)),d+=c;d<n;){for(u=e.next(4),u.write_shift(2,60),c=0;c+(l[o]||8224)<=8224;)c+=l[o]||8224,o++;u.write_shift(2,c),e.push(s.slice(d,d+c)),d+=c}}}function Lx(e,r,s){return e||(e=Ve(7)),e.write_shift(2,r),e.write_shift(2,s),e.write_shift(2,0),e.write_shift(1,0),e}function p5e(e,r,s,a){var n=Ve(9);return Lx(n,e,r),U$(s,a||"b",n),n}function f5e(e,r,s){var a=Ve(8+2*s.length);return Lx(a,e,r),a.write_shift(1,s.length),a.write_shift(s.length,s,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function g5e(e,r,s,a){if(r.v!=null)switch(r.t){case"d":case"n":var n=r.t=="d"?nn(Ba(r.v)):r.v;n==(n|0)&&n>=0&&n<65536?lt(e,2,Ije(s,a,n)):lt(e,3,Eje(s,a,n));return;case"b":case"e":lt(e,5,p5e(s,a,r.v,r.t));return;case"s":case"str":lt(e,4,f5e(s,a,(r.v||"").slice(0,255)));return}lt(e,1,Lx(null,s,a))}function y5e(e,r,s,a){var n=Array.isArray(r),i=$r(r["!ref"]||"A1"),l,o="",d=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(r["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=Es(i)}for(var c=i.s.r;c<=i.e.r;++c){o=na(c);for(var u=i.s.c;u<=i.e.c;++u){c===i.s.r&&(d[u]=ja(u)),l=d[u]+o;var m=n?(r[c]||[])[u]:r[l];m&&g5e(e,m,c,u)}}}function b5e(e,r){for(var s=r||{},a=en(),n=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==s.sheet&&(n=i);if(n==0&&s.sheet&&e.SheetNames[0]!=s.sheet)throw new Error("Sheet not found: "+s.sheet);return lt(a,s.biff==4?1033:s.biff==3?521:9,Z5(e,16,s)),y5e(a,e.Sheets[e.SheetNames[n]],n,s),lt(a,10),a.end()}function v5e(e,r,s){lt(e,49,hje({sz:12,name:"Arial"},s))}function j5e(e,r,s){r&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)r[n]!=null&&lt(e,1054,fje(n,r[n],s))})}function w5e(e,r){var s=Ve(19);s.write_shift(4,2151),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,3),s.write_shift(1,1),s.write_shift(4,0),lt(e,2151,s),s=Ve(39),s.write_shift(4,2152),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,3),s.write_shift(1,0),s.write_shift(4,0),s.write_shift(2,1),s.write_shift(4,4),s.write_shift(2,0),W$($r(r["!ref"]||"A1"),s),s.write_shift(4,4),lt(e,2152,s)}function N5e(e,r){for(var s=0;s<16;++s)lt(e,224,hE({numFmtId:0,style:!0},0,r));r.cellXfs.forEach(function(a){lt(e,224,hE(a,0,r))})}function S5e(e,r){for(var s=0;s<r["!links"].length;++s){var a=r["!links"][s];lt(e,440,Sje(a)),a[1].Tooltip&&lt(e,2048,kje(a))}delete r["!links"]}function k5e(e,r){if(r){var s=0;r.forEach(function(a,n){++s<=256&&a&&lt(e,125,Aje(hv(n,a),n))})}}function C5e(e,r,s,a,n){var i=16+yc(n.cellXfs,r,n);if(r.v==null&&!r.bf){lt(e,513,Cd(s,a,i));return}if(r.bf)lt(e,6,XNe(r,s,a,n,i));else switch(r.t){case"d":case"n":var l=r.t=="d"?nn(Ba(r.v)):r.v;lt(e,515,vje(s,a,l,i));break;case"b":case"e":lt(e,517,bje(s,a,r.v,i,n,r.t));break;case"s":case"str":if(n.bookSST){var o=a6(n.Strings,r.v,n.revStrings);lt(e,253,xje(s,a,o,i))}else lt(e,516,pje(s,a,(r.v||"").slice(0,255),i,n));break;default:lt(e,513,Cd(s,a,i))}}function P5e(e,r,s){var a=en(),n=s.SheetNames[e],i=s.Sheets[n]||{},l=(s||{}).Workbook||{},o=(l.Sheets||[])[e]||{},d=Array.isArray(i),c=r.biff==8,u,m="",x=[],h=$r(i["!ref"]||"A1"),p=c?65536:16384;if(h.e.c>255||h.e.r>=p){if(r.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,p-1)}lt(a,2057,Z5(s,16,r)),lt(a,13,Xn(1)),lt(a,12,Xn(100)),lt(a,15,Ea(!0)),lt(a,17,Ea(!1)),lt(a,16,kd(.001)),lt(a,95,Ea(!0)),lt(a,42,Ea(!1)),lt(a,43,Ea(!1)),lt(a,130,Xn(1)),lt(a,128,yje()),lt(a,131,Ea(!1)),lt(a,132,Ea(!1)),c&&k5e(a,i["!cols"]),lt(a,512,gje(h,r)),c&&(i["!links"]=[]);for(var f=h.s.r;f<=h.e.r;++f){m=na(f);for(var b=h.s.c;b<=h.e.c;++b){f===h.s.r&&(x[b]=ja(b)),u=x[b]+m;var j=d?(i[f]||[])[b]:i[u];j&&(C5e(a,j,f,b,r),c&&j.l&&i["!links"].push([u,j.l]))}}var w=o.CodeName||o.name||n;return c&&lt(a,574,mje((l.Views||[])[0])),c&&(i["!merges"]||[]).length&&lt(a,229,Nje(i["!merges"])),c&&S5e(a,i),lt(a,442,V$(w)),c&&w5e(a,i),lt(a,10),a.end()}function A5e(e,r,s){var a=en(),n=(e||{}).Workbook||{},i=n.Sheets||[],l=n.WBProps||{},o=s.biff==8,d=s.biff==5;if(lt(a,2057,Z5(e,5,s)),s.bookType=="xla"&&lt(a,135),lt(a,225,o?Xn(1200):null),lt(a,193,Z2e(2)),d&&lt(a,191),d&&lt(a,192),lt(a,226),lt(a,92,oje("SheetJS",s)),lt(a,66,Xn(o?1200:1252)),o&&lt(a,353,Xn(0)),o&&lt(a,448),lt(a,317,Tje(e.SheetNames.length)),o&&e.vbaraw&&lt(a,211),o&&e.vbaraw){var c=l.CodeName||"ThisWorkbook";lt(a,442,V$(c))}lt(a,156,Xn(17)),lt(a,25,Ea(!1)),lt(a,18,Ea(!1)),lt(a,19,Xn(0)),o&&lt(a,431,Ea(!1)),o&&lt(a,444,Xn(0)),lt(a,61,uje()),lt(a,64,Ea(!1)),lt(a,141,Xn(0)),lt(a,34,Ea(_3e(e)=="true")),lt(a,14,Ea(!0)),o&&lt(a,439,Ea(!1)),lt(a,218,Xn(0)),v5e(a,e,s),j5e(a,e.SSF,s),N5e(a,s),o&&lt(a,352,Ea(!1));var u=a.end(),m=en();o&&lt(m,140,Cje()),o&&s.Strings&&x5e(m,252,dje(s.Strings)),lt(m,10);var x=m.end(),h=en(),p=0,f=0;for(f=0;f<e.SheetNames.length;++f)p+=(o?12:11)+(o?2:1)*e.SheetNames[f].length;var b=u.length+p+x.length;for(f=0;f<e.SheetNames.length;++f){var j=i[f]||{};lt(h,133,cje({pos:b,hs:j.Hidden||0,dt:0,name:e.SheetNames[f]},s)),b+=r[f].length}var w=h.end();if(p!=w.length)throw new Error("BS8 "+p+" != "+w.length);var y=[];return u.length&&y.push(u),w.length&&y.push(w),x.length&&y.push(x),ra(y)}function T5e(e,r){var s=r||{},a=[];e&&!e.SSF&&(e.SSF=ln(os)),e&&e.SSF&&(ov(),lv(e.SSF),s.revssf=cv(e.SSF),s.revssf[e.SSF[65535]]=0,s.ssf=e.SSF),s.Strings=[],s.Strings.Count=0,s.Strings.Unique=0,n6(s),s.cellXfs=[],yc(s.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var n=0;n<e.SheetNames.length;++n)a[a.length]=P5e(n,s,e);return a.unshift(A5e(e,a,s)),ra(a)}function gz(e,r){for(var s=0;s<=e.SheetNames.length;++s){var a=e.Sheets[e.SheetNames[s]];if(!(!a||!a["!ref"])){var n=_n(a["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[s]+"' extends beyond column IV (255).  Data may be lost.")}}var i=r||{};switch(i.biff||2){case 8:case 5:return T5e(e,r);case 4:case 3:case 2:return b5e(e,r)}throw new Error("invalid type "+i.bookType+" for BIFF")}function E5e(e,r,s,a){for(var n=e["!merges"]||[],i=[],l=r.s.c;l<=r.e.c;++l){for(var o=0,d=0,c=0;c<n.length;++c)if(!(n[c].s.r>s||n[c].s.c>l)&&!(n[c].e.r<s||n[c].e.c<l)){if(n[c].s.r<s||n[c].s.c<l){o=-1;break}o=n[c].e.r-n[c].s.r+1,d=n[c].e.c-n[c].s.c+1;break}if(!(o<0)){var u=yr({r:s,c:l}),m=a.dense?(e[s]||[])[l]:e[u],x=m&&m.v!=null&&(m.h||l2e(m.w||(eo(m),m.w)||""))||"",h={};o>1&&(h.rowspan=o),d>1&&(h.colspan=d),a.editable?x='<span contenteditable="true">'+x+"</span>":m&&(h["data-t"]=m&&m.t||"z",m.v!=null&&(h["data-v"]=m.v),m.z!=null&&(h["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+m.l.Target+'">'+x+"</a>")),h.id=(a.id||"sjs")+"-"+u,i.push(nt("td",x,h))}}var p="<tr>";return p+i.join("")+"</tr>"}var I5e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',O5e="</body></html>";function _5e(e,r,s){var a=[];return a.join("")+"<table"+(s&&s.id?' id="'+s.id+'"':"")+">"}function yz(e,r){var s=r||{},a=s.header!=null?s.header:I5e,n=s.footer!=null?s.footer:O5e,i=[a],l=_n(e["!ref"]);s.dense=Array.isArray(e),i.push(_5e(e,l,s));for(var o=l.s.r;o<=l.e.r;++o)i.push(E5e(e,l,o,s));return i.push("</table>"+n),i.join("")}function bz(e,r,s){var a=s||{},n=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")n=a.origin;else{var l=typeof a.origin=="string"?Gs(a.origin):a.origin;n=l.r,i=l.c}var o=r.getElementsByTagName("tr"),d=Math.min(a.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:n,c:i}};if(e["!ref"]){var u=_n(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),n==-1&&(c.e.r=n=u.e.r+1)}var m=[],x=0,h=e["!rows"]||(e["!rows"]=[]),p=0,f=0,b=0,j=0,w=0,y=0;for(e["!cols"]||(e["!cols"]=[]);p<o.length&&f<d;++p){var v=o[p];if(vE(v)){if(a.display)continue;h[f]={hidden:!0}}var N=v.children;for(b=j=0;b<N.length;++b){var S=N[b];if(!(a.display&&vE(S))){var k=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):u2e(S.innerHTML),P=S.getAttribute("data-z")||S.getAttribute("z");for(x=0;x<m.length;++x){var C=m[x];C.s.c==j+i&&C.s.r<f+n&&f+n<=C.e.r&&(j=C.e.c+1-i,x=-1)}y=+S.getAttribute("colspan")||1,((w=+S.getAttribute("rowspan")||1)>1||y>1)&&m.push({s:{r:f+n,c:j+i},e:{r:f+n+(w||1)-1,c:j+i+(y||1)-1}});var _={t:"s",v:k},A=S.getAttribute("data-t")||S.getAttribute("t")||"";k!=null&&(k.length==0?_.t=A||"z":a.raw||k.trim().length==0||A=="s"||(k==="TRUE"?_={t:"b",v:!0}:k==="FALSE"?_={t:"b",v:!1}:isNaN(Dl(k))?isNaN(z0(k).getDate())||(_={t:"d",v:Ba(k)},a.cellDates||(_={t:"n",v:nn(_.v)}),_.z=a.dateNF||os[14]):_={t:"n",v:Dl(k)})),_.z===void 0&&P!=null&&(_.z=P);var D="",H=S.getElementsByTagName("A");if(H&&H.length)for(var re=0;re<H.length&&!(H[re].hasAttribute("href")&&(D=H[re].getAttribute("href"),D.charAt(0)!="#"));++re);D&&D.charAt(0)!="#"&&(_.l={Target:D}),a.dense?(e[f+n]||(e[f+n]=[]),e[f+n][j+i]=_):e[yr({c:j+i,r:f+n})]=_,c.e.c<j+i&&(c.e.c=j+i),j+=y}}++f}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),c.e.r=Math.max(c.e.r,f-1+n),e["!ref"]=Es(c),f>=d&&(e["!fullref"]=Es((c.e.r=o.length-p+f-1+n,c))),e}function vz(e,r){var s=r||{},a=s.dense?[]:{};return bz(a,e,r)}function M5e(e,r){return $d(vz(e,r),r)}function vE(e){var r="",s=D5e(e);return s&&(r=s(e).getPropertyValue("display")),r||(r=e.style&&e.style.display),r==="none"}function D5e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var L5e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),r="<office:document-styles "+H0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Is+r}}(),jE=function(){var e=function(i){return fr(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},r=`          <table:table-cell />
`,s=`          <table:covered-table-cell/>
`,a=function(i,l,o){var d=[];d.push('      <table:table table:name="'+fr(l.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,m=_n(i["!ref"]||"A1"),x=i["!merges"]||[],h=0,p=Array.isArray(i);if(i["!cols"])for(u=0;u<=m.e.c;++u)d.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var f="",b=i["!rows"]||[];for(c=0;c<m.s.r;++c)f=b[c]?' table:style-name="ro'+b[c].ods+'"':"",d.push("        <table:table-row"+f+`></table:table-row>
`);for(;c<=m.e.r;++c){for(f=b[c]?' table:style-name="ro'+b[c].ods+'"':"",d.push("        <table:table-row"+f+`>
`),u=0;u<m.s.c;++u)d.push(r);for(;u<=m.e.c;++u){var j=!1,w={},y="";for(h=0;h!=x.length;++h)if(!(x[h].s.c>u)&&!(x[h].s.r>c)&&!(x[h].e.c<u)&&!(x[h].e.r<c)){(x[h].s.c!=u||x[h].s.r!=c)&&(j=!0),w["table:number-columns-spanned"]=x[h].e.c-x[h].s.c+1,w["table:number-rows-spanned"]=x[h].e.r-x[h].s.r+1;break}if(j){d.push(s);continue}var v=yr({r:c,c:u}),N=p?(i[c]||[])[u]:i[v];if(N&&N.f&&(w["table:formula"]=fr(r4e(N.f)),N.F&&N.F.slice(0,v.length)==v)){var S=_n(N.F);w["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,w["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!N){d.push(r);continue}switch(N.t){case"b":y=N.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=N.v?"true":"false";break;case"n":y=N.w||String(N.v||0),w["office:value-type"]="float",w["office:value"]=N.v||0;break;case"s":case"str":y=N.v==null?"":N.v,w["office:value-type"]="string";break;case"d":y=N.w||Ba(N.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=Ba(N.v).toISOString(),w["table:style-name"]="ce1";break;default:d.push(r);continue}var k=e(y);if(N.l&&N.l.Target){var P=N.l.Target;P=P.charAt(0)=="#"?"#"+s4e(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),k=nt("text:a",k,{"xlink:href":P.replace(/&/g,"&amp;")})}d.push("          "+nt("table:table-cell",nt("text:p",k,{}),w)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},n=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;l.SheetNames.map(function(c){return l.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var m=c["!cols"][u];if(m.width==null&&m.wpx==null&&m.wch==null)continue;e6(m),m.ods=o;var x=c["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+x+`"/>
`),i.push(`  </style:style>
`),++o}}});var d=0;l.SheetNames.map(function(c){return l.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=d;var m=c["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),i.push(`  </style:style>
`),++d}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,o){var d=[Is],c=H0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=H0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(d.push("<office:document"+c+u+`>
`),d.push(D$().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+c+`>
`),n(d,l),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var m=0;m!=l.SheetNames.length;++m)d.push(a(l.Sheets[l.SheetNames[m]],l,m));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),o.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}}();function jz(e,r){if(r.bookType=="fods")return jE(e,r);var s=H5(),a="",n=[],i=[];return a="mimetype",Vt(s,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",Vt(s,a,jE(e,r)),n.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",Vt(s,a,L5e(e,r)),n.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",Vt(s,a,Is+D$()),n.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",Vt(s,a,K2e(i)),n.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",Vt(s,a,q2e(n)),s}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function my(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function F5e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):ki(U0(e))}function R5e(e,r){e:for(var s=0;s<=e.length-r.length;++s){for(var a=0;a<r.length;++a)if(e[s+a]!=r[a])continue e;return!0}return!1}function oc(e){var r=e.reduce(function(n,i){return n+i.length},0),s=new Uint8Array(r),a=0;return e.forEach(function(n){s.set(n,a),a+=n.length}),s}function B5e(e,r,s){var a=Math.floor(s==0?0:Math.LOG10E*Math.log(Math.abs(s)))+6176-20,n=s/Math.pow(10,a-6176);e[r+15]|=a>>7,e[r+14]|=(a&127)<<1;for(var i=0;n>=1;++i,n/=256)e[r+i]=n&255;e[r+15]|=s>=0?0:128}function V0(e,r){var s=r?r[0]:0,a=e[s]&127;e:if(e[s++]>=128&&(a|=(e[s]&127)<<7,e[s++]<128||(a|=(e[s]&127)<<14,e[s++]<128)||(a|=(e[s]&127)<<21,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,28),++s,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,35),++s,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,42),++s,e[s++]<128)))break e;return r&&(r[0]=s),a}function mr(e){var r=new Uint8Array(7);r[0]=e&127;var s=1;e:if(e>127){if(r[s-1]|=128,r[s]=e>>7&127,++s,e<=16383||(r[s-1]|=128,r[s]=e>>14&127,++s,e<=2097151)||(r[s-1]|=128,r[s]=e>>21&127,++s,e<=268435455)||(r[s-1]|=128,r[s]=e/256>>>21&127,++s,e<=34359738367)||(r[s-1]|=128,r[s]=e/65536>>>21&127,++s,e<=4398046511103))break e;r[s-1]|=128,r[s]=e/16777216>>>21&127,++s}return r.slice(0,s)}function Vu(e){var r=0,s=e[r]&127;e:if(e[r++]>=128){if(s|=(e[r]&127)<<7,e[r++]<128||(s|=(e[r]&127)<<14,e[r++]<128)||(s|=(e[r]&127)<<21,e[r++]<128))break e;s|=(e[r]&127)<<28}return s}function Os(e){for(var r=[],s=[0];s[0]<e.length;){var a=s[0],n=V0(e,s),i=n&7;n=Math.floor(n/8);var l=0,o;if(n==0)break;switch(i){case 0:{for(var d=s[0];e[s[0]++]>=128;);o=e.slice(d,s[0])}break;case 5:l=4,o=e.slice(s[0],s[0]+l),s[0]+=l;break;case 1:l=8,o=e.slice(s[0],s[0]+l),s[0]+=l;break;case 2:l=V0(e,s),o=e.slice(s[0],s[0]+l),s[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(n," at offset ").concat(a))}var c={data:o,type:i};r[n]==null?r[n]=[c]:r[n].push(c)}return r}function Qs(e){var r=[];return e.forEach(function(s,a){s.forEach(function(n){n.data&&(r.push(mr(a*8+n.type)),n.type==2&&r.push(mr(n.data.length)),r.push(n.data))})}),oc(r)}function yi(e){for(var r,s=[],a=[0];a[0]<e.length;){var n=V0(e,a),i=Os(e.slice(a[0],a[0]+n));a[0]+=n;var l={id:Vu(i[1][0].data),messages:[]};i[2].forEach(function(o){var d=Os(o.data),c=Vu(d[3][0].data);l.messages.push({meta:d,data:e.slice(a[0],a[0]+c)}),a[0]+=c}),(r=i[3])!=null&&r[0]&&(l.merge=Vu(i[3][0].data)>>>0>0),s.push(l)}return s}function eu(e){var r=[];return e.forEach(function(s){var a=[];a[1]=[{data:mr(s.id),type:0}],a[2]=[],s.merge!=null&&(a[3]=[{data:mr(+!!s.merge),type:0}]);var n=[];s.messages.forEach(function(l){n.push(l.data),l.meta[3]=[{type:0,data:mr(l.data.length)}],a[2].push({data:Qs(l.meta),type:2})});var i=Qs(a);r.push(mr(i.length)),r.push(i),n.forEach(function(l){return r.push(l)})}),oc(r)}function $5e(e,r){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var s=[0],a=V0(r,s),n=[];s[0]<r.length;){var i=r[s[0]]&3;if(i==0){var l=r[s[0]++]>>2;if(l<60)++l;else{var o=l-59;l=r[s[0]],o>1&&(l|=r[s[0]+1]<<8),o>2&&(l|=r[s[0]+2]<<16),o>3&&(l|=r[s[0]+3]<<24),l>>>=0,l++,s[0]+=o}n.push(r.slice(s[0],s[0]+l)),s[0]+=l;continue}else{var d=0,c=0;if(i==1?(c=(r[s[0]]>>2&7)+4,d=(r[s[0]++]&224)<<3,d|=r[s[0]++]):(c=(r[s[0]++]>>2)+1,i==2?(d=r[s[0]]|r[s[0]+1]<<8,s[0]+=2):(d=(r[s[0]]|r[s[0]+1]<<8|r[s[0]+2]<<16|r[s[0]+3]<<24)>>>0,s[0]+=4)),n=[oc(n)],d==0)throw new Error("Invalid offset 0");if(d>n[0].length)throw new Error("Invalid offset beyond length");if(c>=d)for(n.push(n[0].slice(-d)),c-=d;c>=n[n.length-1].length;)n.push(n[n.length-1]),c-=n[n.length-1].length;n.push(n[0].slice(-d,-d+c))}}var u=oc(n);if(u.length!=a)throw new Error("Unexpected length: ".concat(u.length," != ").concat(a));return u}function bi(e){for(var r=[],s=0;s<e.length;){var a=e[s++],n=e[s]|e[s+1]<<8|e[s+2]<<16;s+=3,r.push($5e(a,e.slice(s,s+n))),s+=n}if(s!==e.length)throw new Error("data is not a valid framed stream!");return oc(r)}function tu(e){for(var r=[],s=0;s<e.length;){var a=Math.min(e.length-s,268435455),n=new Uint8Array(4);r.push(n);var i=mr(a),l=i.length;r.push(i),a<=60?(l++,r.push(new Uint8Array([a-1<<2]))):a<=256?(l+=2,r.push(new Uint8Array([240,a-1&255]))):a<=65536?(l+=3,r.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(l+=4,r.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(l+=5,r.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),r.push(e.slice(s,s+a)),l+=a,n[0]=0,n[1]=l&255,n[2]=l>>8&255,n[3]=l>>16&255,s+=a}return oc(r)}function r2(e,r){var s=new Uint8Array(32),a=my(s),n=12,i=0;switch(s[0]=5,e.t){case"n":s[1]=2,B5e(s,n,e.v),i|=1,n+=16;break;case"b":s[1]=6,a.setFloat64(n,e.v?1:0,!0),i|=2,n+=8;break;case"s":if(r.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));s[1]=3,a.setUint32(n,r.indexOf(e.v),!0),i|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),s.slice(0,n)}function s2(e,r){var s=new Uint8Array(32),a=my(s),n=12,i=0;switch(s[0]=3,e.t){case"n":s[2]=2,a.setFloat64(n,e.v,!0),i|=32,n+=8;break;case"b":s[2]=6,a.setFloat64(n,e.v?1:0,!0),i|=32,n+=8;break;case"s":if(r.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));s[2]=3,a.setUint32(n,r.indexOf(e.v),!0),i|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),s.slice(0,n)}function yo(e){var r=Os(e);return V0(r[1][0].data)}function z5e(e,r,s){var a,n,i,l;if(!((a=e[6])!=null&&a[0])||!((n=e[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var o=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&Vu(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var d=0,c=my(e[7][0].data),u=0,m=[],x=my(e[4][0].data),h=0,p=[],f=0;f<r.length;++f){if(r[f]==null){c.setUint16(f*2,65535,!0),x.setUint16(f*2,65535);continue}c.setUint16(f*2,u,!0),x.setUint16(f*2,h,!0);var b,j;switch(typeof r[f]){case"string":b=r2({t:"s",v:r[f]},s),j=s2({t:"s",v:r[f]},s);break;case"number":b=r2({t:"n",v:r[f]},s),j=s2({t:"n",v:r[f]},s);break;case"boolean":b=r2({t:"b",v:r[f]},s),j=s2({t:"b",v:r[f]},s);break;default:throw new Error("Unsupported value "+r[f])}m.push(b),u+=b.length,p.push(j),h+=j.length,++d}for(e[2][0].data=mr(d);f<e[7][0].data.length/2;++f)c.setUint16(f*2,65535,!0),x.setUint16(f*2,65535,!0);return e[6][0].data=oc(m),e[3][0].data=oc(p),d}function U5e(e,r){if(!r||!r.numbers)throw new Error("Must pass a `numbers` option -- check the README");var s=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=_n(s["!ref"]);a.s.r=a.s.c=0;var n=!1;a.e.c>9&&(n=!0,a.e.c=9),a.e.r>49&&(n=!0,a.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(Es(a)));var i=hy(s,{range:a,header:1}),l=["~Sh33tJ5~"];i.forEach(function(Z){return Z.forEach(function(W){typeof W=="string"&&l.push(W)})});var o={},d=[],c=br.read(r.numbers,{type:"base64"});c.FileIndex.map(function(Z,W){return[Z,c.FullPaths[W]]}).forEach(function(Z){var W=Z[0],ie=Z[1];if(W.type==2&&W.name.match(/\.iwa/)){var ae=W.content,M=bi(ae),U=yi(M);U.forEach(function(q){d.push(q.id),o[q.id]={deps:[],location:ie,type:Vu(q.messages[0].meta[1][0].data)}})}}),d.sort(function(Z,W){return Z-W});var u=d.filter(function(Z){return Z>1}).map(function(Z){return[Z,mr(Z)]});c.FileIndex.map(function(Z,W){return[Z,c.FullPaths[W]]}).forEach(function(Z){var W=Z[0];if(Z[1],!!W.name.match(/\.iwa/)){var ie=yi(bi(W.content));ie.forEach(function(ae){ae.messages.forEach(function(M){u.forEach(function(U){ae.messages.some(function(q){return Vu(q.meta[1][0].data)!=11006&&R5e(q.data,U[1])})&&o[U[0]].deps.push(ae.id)})})})}});for(var m=br.find(c,o[1].location),x=yi(bi(m.content)),h,p=0;p<x.length;++p){var f=x[p];f.id==1&&(h=f)}var b=yo(Os(h.messages[0].data)[1][0].data);for(m=br.find(c,o[b].location),x=yi(bi(m.content)),p=0;p<x.length;++p)f=x[p],f.id==b&&(h=f);for(b=yo(Os(h.messages[0].data)[2][0].data),m=br.find(c,o[b].location),x=yi(bi(m.content)),p=0;p<x.length;++p)f=x[p],f.id==b&&(h=f);for(b=yo(Os(h.messages[0].data)[2][0].data),m=br.find(c,o[b].location),x=yi(bi(m.content)),p=0;p<x.length;++p)f=x[p],f.id==b&&(h=f);var j=Os(h.messages[0].data);{j[6][0].data=mr(a.e.r+1),j[7][0].data=mr(a.e.c+1);var w=yo(j[46][0].data),y=br.find(c,o[w].location),v=yi(bi(y.content));{for(var N=0;N<v.length&&v[N].id!=w;++N);if(v[N].id!=w)throw"Bad ColumnRowUIDMapArchive";var S=Os(v[N].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var k=0;k<=a.e.c;++k){var P=[];P[1]=P[2]=[{type:0,data:mr(k+420690)}],S[1].push({type:2,data:Qs(P)}),S[2].push({type:0,data:mr(k)}),S[3].push({type:0,data:mr(k)})}S[4]=[],S[5]=[],S[6]=[];for(var C=0;C<=a.e.r;++C)P=[],P[1]=P[2]=[{type:0,data:mr(C+726270)}],S[4].push({type:2,data:Qs(P)}),S[5].push({type:0,data:mr(C)}),S[6].push({type:0,data:mr(C)});v[N].messages[0].data=Qs(S)}y.content=tu(eu(v)),y.size=y.content.length,delete j[46];var _=Os(j[4][0].data);{_[7][0].data=mr(a.e.r+1);var A=Os(_[1][0].data),D=yo(A[2][0].data);y=br.find(c,o[D].location),v=yi(bi(y.content));{if(v[0].id!=D)throw"Bad HeaderStorageBucket";var H=Os(v[0].messages[0].data);for(C=0;C<i.length;++C){var re=Os(H[2][0].data);re[1][0].data=mr(C),re[4][0].data=mr(i[C].length),H[2][C]={type:H[2][0].type,data:Qs(re)}}v[0].messages[0].data=Qs(H)}y.content=tu(eu(v)),y.size=y.content.length;var xe=yo(_[2][0].data);y=br.find(c,o[xe].location),v=yi(bi(y.content));{if(v[0].id!=xe)throw"Bad HeaderStorageBucket";for(H=Os(v[0].messages[0].data),k=0;k<=a.e.c;++k)re=Os(H[2][0].data),re[1][0].data=mr(k),re[4][0].data=mr(a.e.r+1),H[2][k]={type:H[2][0].type,data:Qs(re)};v[0].messages[0].data=Qs(H)}y.content=tu(eu(v)),y.size=y.content.length;var we=yo(_[4][0].data);(function(){for(var Z=br.find(c,o[we].location),W=yi(bi(Z.content)),ie,ae=0;ae<W.length;++ae){var M=W[ae];M.id==we&&(ie=M)}var U=Os(ie.messages[0].data);{U[3]=[];var q=[];l.forEach(function(oe,Be){q[1]=[{type:0,data:mr(Be)}],q[2]=[{type:0,data:mr(1)}],q[3]=[{type:2,data:F5e(oe)}],U[3].push({type:2,data:Qs(q)})})}ie.messages[0].data=Qs(U);var G=eu(W),Y=tu(G);Z.content=Y,Z.size=Z.content.length})();var T=Os(_[3][0].data);{var z=T[1][0];delete T[2];var Q=Os(z.data);{var B=yo(Q[2][0].data);(function(){for(var Z=br.find(c,o[B].location),W=yi(bi(Z.content)),ie,ae=0;ae<W.length;++ae){var M=W[ae];M.id==B&&(ie=M)}var U=Os(ie.messages[0].data);{delete U[6],delete T[7];var q=new Uint8Array(U[5][0].data);U[5]=[];for(var G=0,Y=0;Y<=a.e.r;++Y){var oe=Os(q);G+=z5e(oe,i[Y],l),oe[1][0].data=mr(Y),U[5].push({data:Qs(oe),type:2})}U[1]=[{type:0,data:mr(a.e.c+1)}],U[2]=[{type:0,data:mr(a.e.r+1)}],U[3]=[{type:0,data:mr(G)}],U[4]=[{type:0,data:mr(a.e.r+1)}]}ie.messages[0].data=Qs(U);var Be=eu(W),fe=tu(Be);Z.content=fe,Z.size=Z.content.length})()}z.data=Qs(Q)}_[3][0].data=Qs(T)}j[4][0].data=Qs(_)}h.messages[0].data=Qs(j);var L=eu(x),R=tu(L);return m.content=R,m.size=m.content.length,c}function H5e(e){return function(s){for(var a=0;a!=e.length;++a){var n=e[a];s[n[0]]===void 0&&(s[n[0]]=n[1]),n[2]==="n"&&(s[n[0]]=Number(s[n[0]]))}}}function n6(e){H5e([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function V5e(e,r){return r.bookType=="ods"?jz(e,r):r.bookType=="numbers"?U5e(e,r):r.bookType=="xlsb"?W5e(e,r):q5e(e,r)}function W5e(e,r){Su=1024,e&&!e.SSF&&(e.SSF=ln(os)),e&&e.SSF&&(ov(),lv(e.SSF),r.revssf=cv(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Yh?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var s=r.bookType=="xlsb"?"bin":"xml",a=sz.indexOf(r.bookType)>-1,n=O$();n6(r=r||{});var i=H5(),l="",o=0;if(r.cellXfs=[],yc(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Vt(i,l,L$(e.Props,r)),n.coreprops.push(l),xr(r.rels,2,l,ir.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&d.push(e.SheetNames[c]);e.Props.SheetNames=d}for(e.Props.Worksheets=e.Props.SheetNames.length,Vt(i,l,R$(e.Props)),n.extprops.push(l),xr(r.rels,3,l,ir.EXT_PROPS),e.Custprops!==e.Props&&oa(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Vt(i,l,B$(e.Custprops)),n.custprops.push(l),xr(r.rels,4,l,ir.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},m=e.Sheets[e.SheetNames[o-1]],x=(m||{})["!type"]||"sheet";switch(x){case"chart":default:l="xl/worksheets/sheet"+o+"."+s,Vt(i,l,K3e(o-1,l,r,e,u)),n.sheets.push(l),xr(r.wbrels,-1,"worksheets/sheet"+o+"."+s,ir.WS[0])}if(m){var h=m["!comments"],p=!1,f="";h&&h.length>0&&(f="xl/comments"+o+"."+s,Vt(i,f,J3e(h,f)),n.comments.push(f),xr(u,-1,"../comments"+o+"."+s,ir.CMNT),p=!0),m["!legacy"]&&p&&Vt(i,"xl/drawings/vmlDrawing"+o+".vml",tz(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}u["!id"].rId1&&Vt(i,M$(l),Uu(u))}return r.Strings!=null&&r.Strings.length>0&&(l="xl/sharedStrings."+s,Vt(i,l,X3e(r.Strings,l,r)),n.strs.push(l),xr(r.wbrels,-1,"sharedStrings."+s,ir.SST)),l="xl/workbook."+s,Vt(i,l,G3e(e,l)),n.workbooks.push(l),xr(r.rels,1,l,ir.WB),l="xl/theme/theme1.xml",Vt(i,l,Z$(e.Themes,r)),n.themes.push(l),xr(r.wbrels,-1,"theme/theme1.xml",ir.THEME),l="xl/styles."+s,Vt(i,l,Y3e(e,l,r)),n.styles.push(l),xr(r.wbrels,-1,"styles."+s,ir.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",Vt(i,l,e.vbaraw),n.vba.push(l),xr(r.wbrels,-1,"vbaProject.bin",ir.VBA)),l="xl/metadata."+s,Vt(i,l,Q3e(l)),n.metadata.push(l),xr(r.wbrels,-1,"metadata."+s,ir.XLMETA),Vt(i,"[Content_Types].xml",_$(n,r)),Vt(i,"_rels/.rels",Uu(r.rels)),Vt(i,"xl/_rels/workbook."+s+".rels",Uu(r.wbrels)),delete r.revssf,delete r.ssf,i}function q5e(e,r){Su=1024,e&&!e.SSF&&(e.SSF=ln(os)),e&&e.SSF&&(ov(),lv(e.SSF),r.revssf=cv(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Yh?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var s="xml",a=sz.indexOf(r.bookType)>-1,n=O$();n6(r=r||{});var i=H5(),l="",o=0;if(r.cellXfs=[],yc(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Vt(i,l,L$(e.Props,r)),n.coreprops.push(l),xr(r.rels,2,l,ir.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&d.push(e.SheetNames[c]);e.Props.SheetNames=d}e.Props.Worksheets=e.Props.SheetNames.length,Vt(i,l,R$(e.Props)),n.extprops.push(l),xr(r.rels,3,l,ir.EXT_PROPS),e.Custprops!==e.Props&&oa(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Vt(i,l,B$(e.Custprops)),n.custprops.push(l),xr(r.rels,4,l,ir.CUST_PROPS));var u=["SheetJ5"];for(r.tcid=0,o=1;o<=e.SheetNames.length;++o){var m={"!id":{}},x=e.Sheets[e.SheetNames[o-1]],h=(x||{})["!type"]||"sheet";switch(h){case"chart":default:l="xl/worksheets/sheet"+o+"."+s,Vt(i,l,mz(o-1,r,e,m)),n.sheets.push(l),xr(r.wbrels,-1,"worksheets/sheet"+o+"."+s,ir.WS[0])}if(x){var p=x["!comments"],f=!1,b="";if(p&&p.length>0){var j=!1;p.forEach(function(w){w[1].forEach(function(y){y.T==!0&&(j=!0)})}),j&&(b="xl/threadedComments/threadedComment"+o+"."+s,Vt(i,b,Nwe(p,u,r)),n.threadedcomments.push(b),xr(m,-1,"../threadedComments/threadedComment"+o+"."+s,ir.TCMNT)),b="xl/comments"+o+"."+s,Vt(i,b,rz(p)),n.comments.push(b),xr(m,-1,"../comments"+o+"."+s,ir.CMNT),f=!0}x["!legacy"]&&f&&Vt(i,"xl/drawings/vmlDrawing"+o+".vml",tz(o,x["!comments"])),delete x["!comments"],delete x["!legacy"]}m["!id"].rId1&&Vt(i,M$(l),Uu(m))}return r.Strings!=null&&r.Strings.length>0&&(l="xl/sharedStrings."+s,Vt(i,l,G$(r.Strings,r)),n.strs.push(l),xr(r.wbrels,-1,"sharedStrings."+s,ir.SST)),l="xl/workbook."+s,Vt(i,l,pz(e)),n.workbooks.push(l),xr(r.rels,1,l,ir.WB),l="xl/theme/theme1.xml",Vt(i,l,Z$(e.Themes,r)),n.themes.push(l),xr(r.wbrels,-1,"theme/theme1.xml",ir.THEME),l="xl/styles."+s,Vt(i,l,J$(e,r)),n.styles.push(l),xr(r.wbrels,-1,"styles."+s,ir.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",Vt(i,l,e.vbaraw),n.vba.push(l),xr(r.wbrels,-1,"vbaProject.bin",ir.VBA)),l="xl/metadata."+s,Vt(i,l,ez()),n.metadata.push(l),xr(r.wbrels,-1,"metadata."+s,ir.XLMETA),u.length>1&&(l="xl/persons/person.xml",Vt(i,l,Swe(u)),n.people.push(l),xr(r.wbrels,-1,"persons/person.xml",ir.PEOPLE)),Vt(i,"[Content_Types].xml",_$(n,r)),Vt(i,"_rels/.rels",Uu(r.rels)),Vt(i,"xl/_rels/workbook."+s+".rels",Uu(r.wbrels)),delete r.revssf,delete r.ssf,i}function G5e(e,r){var s="";switch((r||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":s=Zl(e.slice(0,12));break;case"binary":s=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(r&&r.type||"undefined"))}return[s.charCodeAt(0),s.charCodeAt(1),s.charCodeAt(2),s.charCodeAt(3),s.charCodeAt(4),s.charCodeAt(5),s.charCodeAt(6),s.charCodeAt(7)]}function wz(e,r){switch(r.type){case"base64":case"binary":break;case"buffer":case"array":r.type="";break;case"file":return Ox(r.file,br.write(e,{type:dr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");default:throw new Error("Unrecognized type "+r.type)}return br.write(e,r)}function K5e(e,r){var s=ln(r||{}),a=V5e(e,s);return Y5e(a,s)}function Y5e(e,r){var s={},a=dr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(r.compression&&(s.compression="DEFLATE"),r.password)s.type=a;else switch(r.type){case"base64":s.type="base64";break;case"binary":s.type="string";break;case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");case"buffer":case"file":s.type=a;break;default:throw new Error("Unrecognized type "+r.type)}var n=e.FullPaths?br.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[s.type]||s.type,compression:!!r.compression}):e.generate(s);if(typeof Deno<"u"&&typeof n=="string"){if(r.type=="binary"||r.type=="base64")return n;n=new Uint8Array(iv(n))}return r.password&&typeof encrypt_agile<"u"?wz(encrypt_agile(n,r.password),r):r.type==="file"?Ox(r.file,n):r.type=="string"?Wh(n):n}function X5e(e,r){var s=r||{},a=m5e(e,s);return wz(a,s)}function Ui(e,r,s){s||(s="");var a=s+e;switch(r.type){case"base64":return $0(U0(a));case"binary":return U0(a);case"string":return e;case"file":return Ox(r.file,a,"utf8");case"buffer":return dr?ho(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):Ui(a,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function J5e(e,r){switch(r.type){case"base64":return $0(e);case"binary":return e;case"string":return e;case"file":return Ox(r.file,e,"binary");case"buffer":return dr?ho(e,"binary"):e.split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function Rp(e,r){switch(r.type){case"string":case"base64":case"binary":for(var s="",a=0;a<e.length;++a)s+=String.fromCharCode(e[a]);return r.type=="base64"?$0(s):r.type=="string"?Wh(s):s;case"file":return Ox(r.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+r.type)}}function Nz(e,r){k1e(),L3e(e);var s=ln(r||{});if(s.cellStyles&&(s.cellNF=!0,s.sheetStubs=!0),s.type=="array"){s.type="binary";var a=Nz(e,s);return s.type="array",iv(a)}var n=0;if(s.sheet&&(typeof s.sheet=="number"?n=s.sheet:n=e.SheetNames.indexOf(s.sheet),!e.SheetNames[n]))throw new Error("Sheet not found: "+s.sheet+" : "+typeof s.sheet);switch(s.bookType||"xlsb"){case"xml":case"xlml":return Ui(d5e(e,s),s);case"slk":case"sylk":return Ui(_je.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"htm":case"html":return Ui(yz(e.Sheets[e.SheetNames[n]],s),s);case"txt":return J5e(kz(e.Sheets[e.SheetNames[n]],s),s);case"csv":return Ui(i6(e.Sheets[e.SheetNames[n]],s),s,"\uFEFF");case"dif":return Ui(Mje.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"dbf":return Rp(Oje.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"prn":return Ui(Dje.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"rtf":return Ui(Uje.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"eth":return Ui(q$.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"fods":return Ui(jz(e,s),s);case"wk1":return Rp(xE.sheet_to_wk1(e.Sheets[e.SheetNames[n]],s),s);case"wk3":return Rp(xE.book_to_wk3(e,s),s);case"biff2":s.biff||(s.biff=2);case"biff3":s.biff||(s.biff=3);case"biff4":return s.biff||(s.biff=4),Rp(gz(e,s),s);case"biff5":s.biff||(s.biff=5);case"biff8":case"xla":case"xls":return s.biff||(s.biff=8),X5e(e,s);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return K5e(e,s);default:throw new Error("Unrecognized bookType |"+s.bookType+"|")}}function Q5e(e){if(!e.bookType){var r={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},s=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();s.match(/^\.[a-z]+$/)&&(e.bookType=s.slice(1)),e.bookType=r[e.bookType]||e.bookType}}function Sz(e,r,s){var a={};return a.type="file",a.file=r,Q5e(a),Nz(e,a)}function Z5e(e,r,s,a,n,i,l,o){var d=na(s),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),m=!0,x=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:s,enumerable:!1})}catch{x.__rowNum__=s}else x.__rowNum__=s;if(!l||e[s])for(var h=r.s.c;h<=r.e.c;++h){var p=l?e[s][h]:e[a[h]+d];if(p===void 0||p.t===void 0){if(c===void 0)continue;i[h]!=null&&(x[i[h]]=c);continue}var f=p.v;switch(p.t){case"z":if(f==null)break;continue;case"e":f=f==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[h]!=null){if(f==null)if(p.t=="e"&&f===null)x[i[h]]=null;else if(c!==void 0)x[i[h]]=c;else if(u&&f===null)x[i[h]]=null;else continue;else x[i[h]]=u&&(p.t!=="n"||p.t==="n"&&o.rawNumbers!==!1)?f:eo(p,f,o);f!=null&&(m=!1)}}return{row:x,isempty:m}}function hy(e,r){if(e==null||e["!ref"]==null)return[];var s={t:"n",v:0},a=0,n=1,i=[],l=0,o="",d={s:{r:0,c:0},e:{r:0,c:0}},c=r||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?a=1:c.header==="A"?a=2:Array.isArray(c.header)?a=3:c.header==null&&(a=0),typeof u){case"string":d=$r(u);break;case"number":d=$r(e["!ref"]),d.s.r=u;break;default:d=u}a>0&&(n=0);var m=na(d.s.r),x=[],h=[],p=0,f=0,b=Array.isArray(e),j=d.s.r,w=0,y={};b&&!e[j]&&(e[j]=[]);var v=c.skipHidden&&e["!cols"]||[],N=c.skipHidden&&e["!rows"]||[];for(w=d.s.c;w<=d.e.c;++w)if(!(v[w]||{}).hidden)switch(x[w]=ja(w),s=b?e[j][w]:e[x[w]+m],a){case 1:i[w]=w-d.s.c;break;case 2:i[w]=x[w];break;case 3:i[w]=c.header[w-d.s.c];break;default:if(s==null&&(s={w:"__EMPTY",t:"s"}),o=l=eo(s,null,c),f=y[l]||0,!f)y[l]=1;else{do o=l+"_"+f++;while(y[o]);y[l]=f,y[o]=1}i[w]=o}for(j=d.s.r+n;j<=d.e.r;++j)if(!(N[j]||{}).hidden){var S=Z5e(e,d,j,x,a,i,b,c);(S.isempty===!1||(a===1?c.blankrows!==!1:c.blankrows))&&(h[p++]=S.row)}return h.length=p,h}var wE=/"/g;function e6e(e,r,s,a,n,i,l,o){for(var d=!0,c=[],u="",m=na(s),x=r.s.c;x<=r.e.c;++x)if(a[x]){var h=o.dense?(e[s]||[])[x]:e[a[x]+m];if(h==null)u="";else if(h.v!=null){d=!1,u=""+(o.rawNumbers&&h.t=="n"?h.v:eo(h,null,o));for(var p=0,f=0;p!==u.length;++p)if((f=u.charCodeAt(p))===n||f===i||f===34||o.forceQuotes){u='"'+u.replace(wE,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(d=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(wE,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&d?null:c.join(l)}function i6(e,r){var s=[],a=r??{};if(e==null||e["!ref"]==null)return"";var n=$r(e["!ref"]),i=a.FS!==void 0?a.FS:",",l=i.charCodeAt(0),o=a.RS!==void 0?a.RS:`
`,d=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",m=[];a.dense=Array.isArray(e);for(var x=a.skipHidden&&e["!cols"]||[],h=a.skipHidden&&e["!rows"]||[],p=n.s.c;p<=n.e.c;++p)(x[p]||{}).hidden||(m[p]=ja(p));for(var f=0,b=n.s.r;b<=n.e.r;++b)(h[b]||{}).hidden||(u=e6e(e,n,b,m,l,d,i,a),u!=null&&(a.strip&&(u=u.replace(c,"")),(u||a.blankrows!==!1)&&s.push((f++?o:"")+u)));return delete a.dense,s.join("")}function kz(e,r){r||(r={}),r.FS="	",r.RS=`
`;var s=i6(e,r);return s}function t6e(e){var r="",s,a="";if(e==null||e["!ref"]==null)return[];var n=$r(e["!ref"]),i="",l=[],o,d=[],c=Array.isArray(e);for(o=n.s.c;o<=n.e.c;++o)l[o]=ja(o);for(var u=n.s.r;u<=n.e.r;++u)for(i=na(u),o=n.s.c;o<=n.e.c;++o)if(r=l[o]+i,s=c?(e[u]||[])[o]:e[r],a="",s!==void 0){if(s.F!=null){if(r=s.F,!s.f)continue;a=s.f,r.indexOf(":")==-1&&(r=r+":"+r)}if(s.f!=null)a=s.f;else{if(s.t=="z")continue;if(s.t=="n"&&s.v!=null)a=""+s.v;else if(s.t=="b")a=s.v?"TRUE":"FALSE";else if(s.w!==void 0)a="'"+s.w;else{if(s.v===void 0)continue;s.t=="s"?a="'"+s.v:a=""+s.v}}d[d.length]=r+"="+a}return d}function Cz(e,r,s){var a=s||{},n=+!a.skipHeader,i=e||{},l=0,o=0;if(i&&a.origin!=null)if(typeof a.origin=="number")l=a.origin;else{var d=typeof a.origin=="string"?Gs(a.origin):a.origin;l=d.r,o=d.c}var c,u={s:{c:0,r:0},e:{c:o,r:l+r.length-1+n}};if(i["!ref"]){var m=$r(i["!ref"]);u.e.c=Math.max(u.e.c,m.e.c),u.e.r=Math.max(u.e.r,m.e.r),l==-1&&(l=m.e.r+1,u.e.r=l+r.length-1+n)}else l==-1&&(l=0,u.e.r=r.length-1+n);var x=a.header||[],h=0;r.forEach(function(f,b){oa(f).forEach(function(j){(h=x.indexOf(j))==-1&&(x[h=x.length]=j);var w=f[j],y="z",v="",N=yr({c:o+h,r:l+b+n});c=W0(i,N),w&&typeof w=="object"&&!(w instanceof Date)?i[N]=w:(typeof w=="number"?y="n":typeof w=="boolean"?y="b":typeof w=="string"?y="s":w instanceof Date?(y="d",a.cellDates||(y="n",w=nn(w)),v=a.dateNF||os[14]):w===null&&a.nullError&&(y="e",w=0),c?(c.t=y,c.v=w,delete c.w,delete c.R,v&&(c.z=v)):i[N]=c={t:y,v:w},v&&(c.z=v))})}),u.e.c=Math.max(u.e.c,o+x.length-1);var p=na(l);if(n)for(h=0;h<x.length;++h)i[ja(h+o)+p]={t:"s",v:x[h]};return i["!ref"]=Es(u),i}function r6e(e,r){return Cz(null,e,r)}function W0(e,r,s){if(typeof r=="string"){if(Array.isArray(e)){var a=Gs(r);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[r]||(e[r]={t:"z"})}return typeof r!="number"?W0(e,yr(r)):W0(e,yr({r,c:s||0}))}function s6e(e,r){if(typeof r=="number"){if(r>=0&&e.SheetNames.length>r)return r;throw new Error("Cannot find sheet # "+r)}else if(typeof r=="string"){var s=e.SheetNames.indexOf(r);if(s>-1)return s;throw new Error("Cannot find sheet name |"+r+"|")}else throw new Error("Cannot find sheet |"+r+"|")}function a6e(){return{SheetNames:[],Sheets:{}}}function n6e(e,r,s,a){var n=1;if(!s)for(;n<=65535&&e.SheetNames.indexOf(s="Sheet"+n)!=-1;++n,s=void 0);if(!s||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(s)>=0){var i=s.match(/(^.*?)(\d+)$/);n=i&&+i[2]||0;var l=i&&i[1]||s;for(++n;n<=65535&&e.SheetNames.indexOf(s=l+n)!=-1;++n);}if(xz(s),e.SheetNames.indexOf(s)>=0)throw new Error("Worksheet with name |"+s+"| already exists!");return e.SheetNames.push(s),e.Sheets[s]=r,s}function i6e(e,r,s){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=s6e(e,r);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),s){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+s)}e.Workbook.Sheets[a].Hidden=s}function l6e(e,r){return e.z=r,e}function Pz(e,r,s){return r?(e.l={Target:r},s&&(e.l.Tooltip=s)):delete e.l,e}function o6e(e,r,s){return Pz(e,"#"+r,s)}function c6e(e,r,s){e.c||(e.c=[]),e.c.push({t:r,a:s||"SheetJS"})}function d6e(e,r,s,a){for(var n=typeof r!="string"?r:$r(r),i=typeof r=="string"?r:Es(r),l=n.s.r;l<=n.e.r;++l)for(var o=n.s.c;o<=n.e.c;++o){var d=W0(e,l,o);d.t="n",d.F=i,delete d.v,l==n.s.r&&o==n.s.c&&(d.f=s,a&&(d.D=!0))}return e}var Wu={encode_col:ja,encode_row:na,encode_cell:yr,encode_range:Es,decode_col:Y5,decode_row:K5,split_cell:k2e,decode_cell:Gs,decode_range:_n,format_cell:eo,sheet_add_aoa:C$,sheet_add_json:Cz,sheet_add_dom:bz,aoa_to_sheet:$m,json_to_sheet:r6e,table_to_sheet:vz,table_to_book:M5e,sheet_to_csv:i6,sheet_to_txt:kz,sheet_to_json:hy,sheet_to_html:yz,sheet_to_formulae:t6e,sheet_to_row_object_array:hy,sheet_get_cell:W0,book_new:a6e,book_append_sheet:n6e,book_set_sheet_visibility:i6e,cell_set_number_format:l6e,cell_set_hyperlink:Pz,cell_set_internal_link:o6e,cell_add_comment:c6e,sheet_set_array_formula:d6e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Ma=({columns:e,data:r,emptyLabel:s="No records found",renderActions:a})=>t.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200 shadow-sm bg-white",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[t.jsx("thead",{className:"bg-slate-50",children:t.jsxs("tr",{children:[e.map(n=>t.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500",children:n.header},n.key??n.accessor)),a&&t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Actions"})]})}),t.jsxs("tbody",{className:"divide-y divide-slate-100",children:[r.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:e.length+(a?1:0),className:"px-4 py-6 text-center text-sm text-slate-400",children:s})}),r.map((n,i)=>t.jsxs("tr",{children:[e.map(l=>t.jsx("td",{className:"px-4 py-4 text-sm text-slate-700",children:typeof l.render=="function"?l.render(n[l.accessor],n):n[l.accessor]},l.key??l.accessor)),a&&t.jsx("td",{className:"px-4 py-4 text-sm text-slate-500",children:a(n)})]},n.id??n._id??`row-${i}`))]})]})})}),Wd=(e,r,s,a="Sheet1",n={})=>{if(!e||e.length===0){alert("No data to export");return}try{const i=e.map(u=>{const m={};return r.forEach(x=>{const h=x.accessor||x.key;let p=u[h];p==null?p="N/A":typeof p=="object"&&p!==null?p instanceof Date?p=p.toLocaleString("en-IN"):p=JSON.stringify(p):typeof p=="string"&&p.includes("")&&(p=p.replace(/[,]/g,"")),x.excelFormatter&&typeof x.excelFormatter=="function"&&(p=x.excelFormatter(p,u)),m[x.header]=p}),m}),l=Wu.json_to_sheet(i),o=Wu.book_new();Wu.book_append_sheet(o,l,a),n.columnWidths&&Array.isArray(n.columnWidths)?l["!cols"]=n.columnWidths.map(u=>({wch:u})):l["!cols"]=r.map(()=>({wch:50}));const d=new Date().toISOString().split("T")[0].replace(/-/g,"_"),c=`${s}_${d}.xlsx`;Sz(o,c)}catch(i){console.error("Excel export error:",i),alert("Failed to export data. Please try again.")}},u6e=[{header:"Partner",accessor:"partnerName"},{header:"Txn ID",accessor:"transactionId"},{header:"Type",accessor:"type"},{header:"Amount",accessor:"amount"},{header:"Balance",accessor:"balance"},{header:"Initiated By",accessor:"initiatedBy"}],m6e=[{header:"Name",accessor:"name"},{header:"Phone",accessor:"phone"},{header:"Email",accessor:"email"},{header:"Partner",accessor:"partnerName"},{header:"Role",accessor:"role"},{header:"Status",accessor:"status"},{header:"Joined Date",accessor:"joinedDate"}],h6e=({token:e})=>{const[r,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState(null);if(g.useEffect(()=>{if(!e)return;(async()=>{n(!0),l(null);try{const c=await qe.fetchTeamMembers(e,{status:"all"}),u=(c==null?void 0:c.data)||(c==null?void 0:c.teamMembers)||[];s(Array.isArray(u)?u:[])}catch(c){console.error("Fetch team members error:",c),l(c.message||"Failed to fetch team members"),s([])}finally{n(!1)}})()},[e]),a)return t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading team members..."})]});if(i)return t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:t.jsx("p",{className:"text-rose-500 text-sm",children:i})});const o=r.map(d=>{var c,u,m,x,h;return{id:d._id,name:d.name||"N/A",phone:d.phone||"N/A",email:d.email||"N/A",partnerName:((u=(c=d.partner)==null?void 0:c.profile)==null?void 0:u.name)||((x=(m=d.partner)==null?void 0:m.Profile)==null?void 0:x.name)||((h=d.partner)==null?void 0:h.name)||"N/A",role:d.role?d.role.charAt(0).toUpperCase()+d.role.slice(1):"N/A",status:d.status?d.status.charAt(0).toUpperCase()+d.status.slice(1):"N/A",joinedDate:d.joinedDate?new Date(d.joinedDate).toLocaleDateString("en-IN"):"N/A"}});return t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex items-center justify-end",children:r.length>0&&t.jsxs("button",{onClick:()=>{const d=r.map(c=>{var u,m,x,h,p,f,b,j;return{Name:c.name||"N/A",Phone:c.phone||"N/A",Email:c.email||"N/A","Partner Name":((m=(u=c.partner)==null?void 0:u.profile)==null?void 0:m.name)||((h=(x=c.partner)==null?void 0:x.Profile)==null?void 0:h.name)||((p=c.partner)==null?void 0:p.name)||"N/A","Partner Phone":((f=c.partner)==null?void 0:f.phone)||((j=(b=c.partner)==null?void 0:b.Profile)==null?void 0:j.phone)||"N/A",Role:c.role?c.role.charAt(0).toUpperCase()+c.role.slice(1):"N/A",Status:c.status?c.status.charAt(0).toUpperCase()+c.status.slice(1):"N/A",Qualification:c.qualification||"N/A",Experience:c.experience||"N/A",City:c.city||"N/A","Joined Date":c.joinedDate?new Date(c.joinedDate).toLocaleDateString("en-IN"):"N/A"}});Wd(d,[{header:"Name",accessor:"Name"},{header:"Phone",accessor:"Phone"},{header:"Email",accessor:"Email"},{header:"Partner Name",accessor:"Partner Name"},{header:"Partner Phone",accessor:"Partner Phone"},{header:"Role",accessor:"Role"},{header:"Status",accessor:"Status"},{header:"Qualification",accessor:"Qualification"},{header:"Experience",accessor:"Experience"},{header:"City",accessor:"City"},{header:"Joined Date",accessor:"Joined Date"}],"Team_Members_List","Team Members",{columnWidths:[20,15,25,25,15,15,12,20,15,15,15]})},disabled:r.length===0,className:"text-xs font-semibold text-primary hover:text-primary-dark disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2 transition px-3 py-1.5 border border-primary rounded-lg hover:bg-primary/10",title:"Export Team Members to Excel",children:[t.jsx(In,{className:"w-4 h-4"}),"Export Team Members"]})}),t.jsx(Ma,{columns:m6e,data:o,emptyLabel:"No team members found."})]})},x6e=()=>{const{token:e}=kr(),r=er(),[s,a]=g.useState(""),[n,i]=g.useState(1),[l]=g.useState(10),[o,d]=g.useState(""),[c,u]=g.useState(null),[m,x]=g.useState(!1),[h,p]=g.useState(null),[f,b]=g.useState([]),[j,w]=g.useState(!1),[y,v]=g.useState({totalRegistrationFees:0,totalSecurityDeposit:0,totalToolkitFees:0,totalMGPlanRevenue:0,totalPartnerEarnings:0,totalRevenue:0});g.useEffect(()=>{if(!e)return;const B=async()=>{x(!0),p(null);try{const R=await qe.fetchPartners(e,{page:n,limit:l,search:s,status:o});u(R)}catch(R){p(R.message||"Failed to fetch partners"),console.error("Fetch partners error:",R)}finally{x(!1)}},L=setTimeout(()=>{B()},s?500:0);return()=>clearTimeout(L)},[n,s,o,e,l]),g.useEffect(()=>{if(!e)return;(async()=>{try{const L=await qe.fetchPartnerRevenueStats(e);L!=null&&L.success&&(L!=null&&L.stats)&&v(L.stats)}catch(L){console.error("Fetch revenue stats error:",L)}})()},[e]),g.useEffect(()=>{if(!e)return;(async()=>{w(!0);try{const L=await qe.fetchAllWalletTransactions(e,{limit:50});b((L==null?void 0:L.transactions)||(L==null?void 0:L.success)||[])}catch(L){console.error("Fetch wallet transactions error:",L),b([])}finally{w(!1)}})()},[e]);const N=(c==null?void 0:c.partners)||[],S=(c==null?void 0:c.total)||0,k=(c==null?void 0:c.totalPages)||0,P=B=>{const L=B._id||B.id;L&&r(`/admin/partners/${L}`)},C=B=>{a(B.target.value),i(1)},_=B=>{d(B.target.value),i(1)},A=B=>{B>=1&&B<=k&&(i(B),window.scrollTo({top:0,behavior:"smooth"}))},D=async(B,L)=>{if(confirm(`Are you sure you want to approve payment for ${L}?`))try{const R={paymentApproved:!0,approvedBy:"Admin",approvedAt:new Date().toISOString()},Z=await qe.approvePartnerPayment(e,B,R);Z.success?(alert(`Payment approved successfully for ${L}!`),fetchAllPartners()):alert(`Failed to approve payment: ${Z.message||"Unknown error"}`)}catch(R){console.error("Payment approval error:",R),alert(`Error approving payment: ${R.message}`)}},H=()=>{if(!f||f.length===0){alert("No transactions to export");return}const B=f.map(ae=>({"Transaction ID":ae.transactionId||"N/A","Partner Name":ae.partnerName||"N/A",Type:ae.type?ae.type.charAt(0).toUpperCase()+ae.type.slice(1):"N/A","Amount ()":ae.amount||0,"Balance ()":ae.balance||0,Description:ae.description||"",Reference:ae.reference||"","Initiated By":ae.initiatedBy||"System",Date:ae.createdAt?new Date(ae.createdAt).toLocaleString("en-IN"):"N/A"})),L=Wu.json_to_sheet(B),R=Wu.book_new();Wu.book_append_sheet(R,L,"Wallet Transactions");const Z=[{wch:20},{wch:25},{wch:12},{wch:15},{wch:15},{wch:30},{wch:20},{wch:15},{wch:25}];L["!cols"]=Z;const ie=`wallet-transactions-${new Date().toISOString().split("T")[0]}.xlsx`;Sz(R,ie)},re=y.totalRegistrationFees,xe=y.totalSecurityDeposit,we=y.totalToolkitFees,T=y.totalMGPlanRevenue;y.totalPartnerEarnings;const z=y.totalRevenue,Q=[{label:"Total Partners",value:S,trend:"Across all service categories",description:"Total registered partners",icon:Nr},{label:"Active Partners",value:N.filter(B=>{var R,Z,W;return(((Z=(R=B.Profile)==null?void 0:R.KYC)==null?void 0:Z.status)||((W=B.kyc)==null?void 0:W.status)||B.status||"pending")==="approved"}).length,trend:"Verified and active",icon:vt,description:"Approved partners",intent:"positive"},{label:"Total Revenue",value:`${z.toLocaleString("en-IN")}`,trend:`Reg: ${re.toLocaleString("en-IN")} | SD: ${xe.toLocaleString("en-IN")} | TK: ${we.toLocaleString("en-IN")}`,description:"All revenue streams combined",icon:bn,intent:"positive"},{label:"Registration Fees",value:`${re.toLocaleString("en-IN")}`,trend:"Partner onboarding fees",description:"Total registration revenue",icon:vt,intent:"positive"},{label:"Security Deposit",value:`${xe.toLocaleString("en-IN")}`,trend:"Refundable deposits",description:"Total security deposits",icon:vt,intent:"positive"},{label:"Toolkit Fees",value:`${we.toLocaleString("en-IN")}`,trend:"Equipment & tools",description:"Total toolkit revenue",icon:vt,intent:"positive"},{label:"MG Plan Revenue",value:`${T.toLocaleString("en-IN")}`,trend:"From MG plan subscriptions",description:"Total MG plan revenue",icon:bn,intent:"positive"},{label:"Suspended Accounts",value:(c==null?void 0:c.suspended)??0,trend:"Auto-suspend post SLA breach",intent:"warning",icon:lf,description:"Auto-suspend post SLA breach"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx(vs,{title:"Partner Control",subtitle:"Manage the partner lifecycle end-to-end with unified KYC, wallet management, penalty controls, and payouts."}),t.jsxs("button",{onClick:()=>r("/admin/partners/manual-register"),className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition flex items-center gap-2 font-semibold shadow-sm",children:[t.jsx(Nr,{className:"w-5 h-5"}),"Add New Partner"]})]}),t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:Q.map(B=>t.jsx(ti,{...B},B.label))}),t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),t.jsx("input",{type:"text",placeholder:"Search by name, email, phone, city, pincode...",value:s,onChange:C,className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("select",{value:o,onChange:_,className:"px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"approved",children:"Approved"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"rejected",children:"Rejected"}),t.jsx("option",{value:"suspended",children:"Suspended"})]})]}),t.jsx("div",{className:"text-sm text-slate-600",children:m?t.jsx("span",{children:"Loading..."}):t.jsxs("span",{children:["Showing ",N.length," of ",S," partners",s&&` matching "${s}"`]})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Partner Ledger"}),t.jsxs("div",{className:"flex items-center gap-3",children:[h&&t.jsx("span",{className:"text-xs text-rose-500",children:h}),N.length>0&&t.jsxs("button",{onClick:()=>{(async()=>{try{const L=await qe.fetchPartners(e,{page:1,limit:1e3,search:s,status:o}),Z=((L==null?void 0:L.partners)||[]).map(W=>{var q,G,Y,oe,Be,fe,ne,ce,pe,F,ue,J,be,ge,Ne,Ie,Je,dt,Ae,ze,It,Ft;const ie=W.mgPlan||W.mgPlanSummary,ae=(ie==null?void 0:ie.leads)||W.mgPlanLeadQuota||0,M=W.mgPlanLeadsUsed||0,U=Math.max(ae-M,0);return{"Partner ID":((q=W.Profile)==null?void 0:q.id)||W._id||W.id||"N/A",Name:((G=W.Profile)==null?void 0:G.name)||((Y=W.profile)==null?void 0:Y.name)||"N/A",Email:((oe=W.Profile)==null?void 0:oe.email)||((Be=W.profile)==null?void 0:Be.email)||"N/A",Phone:((fe=W.Profile)==null?void 0:fe.phone)||W.phone||"N/A","Partner Type":(W.partnerType||((ne=W.Profile)==null?void 0:ne.partnerType)||"individual")==="franchise"?"Franchise":"Individual",City:((ue=(F=(pe=(ce=W.Profile)==null?void 0:ce.address)==null?void 0:pe.split(","))==null?void 0:F.pop())==null?void 0:ue.trim())||((J=W.profile)==null?void 0:J.city)||"N/A","Total Earnings ()":((be=W.Earnings)==null?void 0:be.totalEarnings)||0,"KYC Status":((Ne=(ge=W.Profile)==null?void 0:ge.KYC)==null?void 0:Ne.status)||((Ie=W.kyc)==null?void 0:Ie.status)||W.status||"pending","Payment Status":W.registerAmount>0&&W.payId&&W.payId!=="N/A"?"Verified":"Pending",Status:((dt=(Je=W.Profile)==null?void 0:Je.KYC)==null?void 0:dt.status)==="approved"||((Ae=W.kyc)==null?void 0:Ae.status)==="approved"?"Active":((It=(ze=W.Profile)==null?void 0:ze.KYC)==null?void 0:It.status)==="Pending"||((Ft=W.kyc)==null?void 0:Ft.status)==="Pending"?"KYC Pending":"Inactive","Registration Amount ()":W.registerAmount||0,"Security Deposit ()":W.securityDeposit||0,"Toolkit Price ()":W.toolkitPrice||0,"Pay ID":W.payId||"N/A","Paid By":W.paidBy||"N/A","MG Plan":(ie==null?void 0:ie.name)||"No Plan","Leads Guaranteed":ae,"Leads Used":M,"Leads Remaining":U,"Plan Expires":W.mgPlanExpiresAt?new Date(W.mgPlanExpiresAt).toLocaleDateString("en-IN"):"N/A"}});Wd(Z,[{header:"Partner ID",accessor:"Partner ID"},{header:"Name",accessor:"Name"},{header:"Email",accessor:"Email"},{header:"Phone",accessor:"Phone"},{header:"Partner Type",accessor:"Partner Type"},{header:"City",accessor:"City"},{header:"Total Earnings ()",accessor:"Total Earnings ()"},{header:"KYC Status",accessor:"KYC Status"},{header:"Payment Status",accessor:"Payment Status"},{header:"Status",accessor:"Status"},{header:"Registration Amount ()",accessor:"Registration Amount ()"},{header:"Security Deposit ()",accessor:"Security Deposit ()"},{header:"Toolkit Price ()",accessor:"Toolkit Price ()"},{header:"Pay ID",accessor:"Pay ID"},{header:"Paid By",accessor:"Paid By"},{header:"MG Plan",accessor:"MG Plan"},{header:"Leads Guaranteed",accessor:"Leads Guaranteed"},{header:"Leads Used",accessor:"Leads Used"},{header:"Leads Remaining",accessor:"Leads Remaining"},{header:"Plan Expires",accessor:"Plan Expires"}],"Partners_List","Partners",{columnWidths:[15,25,25,15,15,20,18,15,15,20,18,18,15,15,15,15,15,15,15,15]})}catch(L){console.error("Export error:",L),alert("Failed to export partners. Please try again.")}})()},disabled:m||N.length===0,className:"text-xs font-semibold text-primary hover:text-primary-dark disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2 transition px-3 py-1.5 border border-primary rounded-lg hover:bg-primary/10",title:"Export Partners to Excel",children:[t.jsx(In,{className:"w-4 h-4"}),"Export Partners"]})]})]}),m?t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading partners..."})]}):N.length>0?t.jsx("div",{className:"space-y-4",children:N.map(B=>{var oe,Be,fe,ne,ce,pe,F,ue,J,be,ge,Ne,Ie,Je,dt,Ae,ze,It,Ft,Se,O,de,Oe,Ge,kt,at,ft,ve,Ce,Te,Xe,rt,We,ye;const L=B.mgPlan||B.mgPlanSummary,R=(L==null?void 0:L.leads)||B.mgPlanLeadQuota||0,Z=B.mgPlanLeadsUsed||0,W=Math.max(R-Z,0),ie=new Date,ae=B.mgPlanExpiresAt,M=ae?ie>new Date(ae):!1,U=ae?Math.ceil((new Date(ae)-ie)/(1e3*60*60*24)):0,q=M||U<=7,G=L?M?"Expired":q?"Needs Renewal":"Active":"No Plan";B._partnerTypeLogged||(console.log("Partner structure:",{hasPartnerType:!!B.partnerType,partnerType:B.partnerType,hasProfilePartnerType:!!((oe=B.Profile)!=null&&oe.partnerType),profilePartnerType:(Be=B.Profile)==null?void 0:Be.partnerType,partnerKeys:Object.keys(B),profileKeys:B.Profile?Object.keys(B.Profile):[]}),B._partnerTypeLogged=!0);const Y={id:((fe=B.Profile)==null?void 0:fe.id)||B._id||B.id,_id:((ne=B.Profile)==null?void 0:ne.id)||B._id||B.id,name:((ce=B.Profile)==null?void 0:ce.name)||((pe=B.profile)==null?void 0:pe.name)||"N/A",city:((be=(J=(ue=(F=B.Profile)==null?void 0:F.address)==null?void 0:ue.split(","))==null?void 0:J.pop())==null?void 0:be.trim())||((ge=B.profile)==null?void 0:ge.city)||((dt=(Je=(Ie=(Ne=B.profile)==null?void 0:Ne.address)==null?void 0:Ie.split(","))==null?void 0:Je.pop())==null?void 0:dt.trim())||"N/A",walletBalance:(Ae=B.Earnings)!=null&&Ae.totalEarnings?`${B.Earnings.totalEarnings.toLocaleString("en-IN")}`:"0",totalEarnings:((ze=B.Earnings)==null?void 0:ze.totalEarnings)||0,complianceScore:((Ft=(It=B.Profile)==null?void 0:It.KYC)==null?void 0:Ft.status)==="approved"||((Se=B.kyc)==null?void 0:Se.status)==="approved"||B.status==="approved"?"100%":"0%",status:((de=(O=B.Profile)==null?void 0:O.KYC)==null?void 0:de.status)==="approved"||((Oe=B.kyc)==null?void 0:Oe.status)==="approved"||B.status==="approved"?"Active":((kt=(Ge=B.Profile)==null?void 0:Ge.KYC)==null?void 0:kt.status)==="pending"||((at=B.kyc)==null?void 0:at.status)==="pending"||B.status==="pending"?"KYC Pending":"Inactive",kycStatus:((ve=(ft=B.Profile)==null?void 0:ft.KYC)==null?void 0:ve.status)||((Ce=B.kyc)==null?void 0:Ce.status)||B.status||"pending",email:((Te=B.Profile)==null?void 0:Te.email)||((Xe=B.profile)==null?void 0:Xe.email)||"N/A",phone:((rt=B.Profile)==null?void 0:rt.phone)||B.phone||"N/A",partnerType:B.partnerType||((We=B.Profile)==null?void 0:We.partnerType)||"individual",registerAmount:B.registerAmount||0,securityDeposit:B.securityDeposit||0,toolkitPrice:B.toolkitPrice||0,payId:B.payId||"N/A",paidBy:B.paidBy||"N/A",paymentStatus:B.registerAmount>0&&B.payId&&B.payId!=="N/A"?"Verified":"Pending",mgPlan:L?{name:L.name||"N/A",status:G,leadsGuaranteed:R,leadsUsed:Z,leadsRemaining:W,leadsCarryForward:W>0?W:0,isExpired:M,daysUntilRenewal:U>0?U:0}:null};return t.jsxs("div",{onClick:()=>P(Y),className:"block bg-white border border-slate-200 rounded-2xl px-5 py-4 shadow-sm hover:shadow-md transition cursor-pointer",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Y.name}),t.jsxs("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:[((ye=Y.id)==null?void 0:ye.toString().slice(-8))||"N/A","  ",Y.city]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Total Earnings"}),t.jsx("p",{className:"text-lg font-semibold text-primary",children:Y.walletBalance})]})]}),t.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-xs",children:[t.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-slate-100 text-slate-600 font-medium",children:["Compliance ",Y.complianceScore]}),t.jsx("span",{className:`px-2.5 py-1 rounded-full font-semibold ${Y.status==="Active"?"bg-emerald-500/10 text-emerald-600":Y.status==="KYC Pending"||Y.kycStatus==="pending"?"bg-amber-500/10 text-amber-600":"bg-rose-500/10 text-rose-600"}`,children:Y.status}),t.jsx("span",{className:`px-2.5 py-1 rounded-full font-semibold ${Y.partnerType==="franchise"?"bg-purple-500/10 text-purple-600":"bg-blue-500/10 text-blue-600"}`,children:Y.partnerType==="franchise"?"Franchise":"Individual"}),Y.registerAmount>0&&t.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-green-500/10 text-green-600 font-semibold",children:["Reg: ",Y.registerAmount.toLocaleString("en-IN")]}),Y.securityDeposit>0&&t.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-blue-500/10 text-blue-600 font-semibold",children:["SD: ",Y.securityDeposit.toLocaleString("en-IN")]}),Y.toolkitPrice>0&&t.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-orange-500/10 text-orange-600 font-semibold",children:["TK: ",Y.toolkitPrice.toLocaleString("en-IN")]}),Y.mgPlan&&t.jsxs("span",{className:`px-2.5 py-1 rounded-full font-semibold flex items-center gap-1 ${Y.mgPlan.status==="Active"?"bg-purple-500/10 text-purple-600":Y.mgPlan.status==="Needs Renewal"?"bg-amber-500/10 text-amber-600":Y.mgPlan.status==="Expired"?"bg-rose-500/10 text-rose-600":"bg-slate-500/10 text-slate-600"}`,title:`${Y.mgPlan.name} Plan - ${Y.mgPlan.leadsUsed}/${Y.mgPlan.leadsGuaranteed} leads used${Y.mgPlan.leadsCarryForward>0?` (${Y.mgPlan.leadsCarryForward} carry forward)`:""}`,children:[t.jsx(bn,{className:"w-3 h-3"}),Y.mgPlan.name," ",Y.mgPlan.status!=="No Plan"&&`(${Y.mgPlan.leadsRemaining} left)`]}),t.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[Y.paymentStatus==="Pending"&&t.jsxs("button",{onClick:Ue=>{Ue.stopPropagation(),D(Y.id,Y.name)},className:"px-3 py-1 text-xs bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition flex items-center gap-1",title:"Approve Payment",children:[t.jsx(vt,{className:"w-3 h-3"}),"Approve Payment"]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.paymentStatus==="Verified"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:Y.paymentStatus}),Y.payId!=="N/A"&&t.jsxs("span",{className:"text-xs text-slate-500",children:["Pay ID: ",Y.payId]}),t.jsx("span",{className:"text-xs text-slate-500",children:"Click to view details "})]})]})]},Y.id)})}):t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:t.jsx("p",{className:"text-slate-500",children:s?`No partners found matching "${s}"`:"No partners found"})}),k>1&&t.jsxs("div",{className:"mt-6 flex items-center justify-between bg-white border border-slate-200 rounded-2xl shadow-sm px-6 py-4",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",n," of ",k]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>A(n-1),disabled:n===1||m,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition",children:[t.jsx(NM,{className:"w-4 h-4"}),"Previous"]}),t.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,k)},(B,L)=>{let R;return k<=5||n<=3?R=L+1:n>=k-2?R=k-4+L:R=n-2+L,t.jsx("button",{onClick:()=>A(R),disabled:m,className:`px-3 py-1.5 rounded-lg text-sm font-medium transition ${n===R?"bg-primary text-white":"text-slate-600 hover:bg-slate-100"} disabled:opacity-50 disabled:cursor-not-allowed`,children:R},R)})}),t.jsxs("button",{onClick:()=>A(n+1),disabled:n===k||m,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition",children:["Next",t.jsx(SM,{className:"w-4 h-4"})]})]})]})]}),t.jsxs("div",{className:"space-y-4 mt-8",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Team Members"})}),t.jsx(h6e,{token:e})]}),t.jsxs("div",{className:"space-y-4 mt-8",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Wallet Transactions"}),t.jsxs("button",{onClick:H,disabled:j||!f||f.length===0,className:"text-xs font-semibold text-primary hover:text-primary-dark disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2 transition",children:[t.jsx(In,{className:"w-4 h-4"}),"Export to Excel"]})]}),j?t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading transactions..."})]}):t.jsx(Ma,{columns:u6e,data:f.map(B=>({id:B.id||B.transactionId,partnerName:B.partnerName||"N/A",transactionId:B.transactionId||"N/A",type:B.type?B.type.charAt(0).toUpperCase()+B.type.slice(1):"N/A",amount:`${(B.amount||0).toLocaleString("en-IN")}`,balance:`${(B.balance||0).toLocaleString("en-IN")}`,initiatedBy:B.initiatedBy||"System"})),emptyLabel:"No recent transactions recorded."})]})]})]})};var p6e=Object.defineProperty,xy=Object.getOwnPropertySymbols,Az=Object.prototype.hasOwnProperty,Tz=Object.prototype.propertyIsEnumerable,NE=(e,r,s)=>r in e?p6e(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s,Lw=(e,r)=>{for(var s in r||(r={}))Az.call(r,s)&&NE(e,s,r[s]);if(xy)for(var s of xy(r))Tz.call(r,s)&&NE(e,s,r[s]);return e},Fw=(e,r)=>{var s={};for(var a in e)Az.call(e,a)&&r.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&xy)for(var a of xy(e))r.indexOf(a)<0&&Tz.call(e,a)&&(s[a]=e[a]);return s};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Pd;(e=>{const r=class Jt{constructor(d,c,u,m){if(this.version=d,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],d<Jt.MIN_VERSION||d>Jt.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let x=[];for(let p=0;p<this.size;p++)x.push(!1);for(let p=0;p<this.size;p++)this.modules.push(x.slice()),this.isFunction.push(x.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(u);if(this.drawCodewords(h),m==-1){let p=1e9;for(let f=0;f<8;f++){this.applyMask(f),this.drawFormatBits(f);const b=this.getPenaltyScore();b<p&&(m=f,p=b),this.applyMask(f)}}n(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(d,c){const u=e.QrSegment.makeSegments(d);return Jt.encodeSegments(u,c)}static encodeBinary(d,c){const u=e.QrSegment.makeBytes(d);return Jt.encodeSegments([u],c)}static encodeSegments(d,c,u=1,m=40,x=-1,h=!0){if(!(Jt.MIN_VERSION<=u&&u<=m&&m<=Jt.MAX_VERSION)||x<-1||x>7)throw new RangeError("Invalid value");let p,f;for(p=u;;p++){const y=Jt.getNumDataCodewords(p,c)*8,v=l.getTotalBits(d,p);if(v<=y){f=v;break}if(p>=m)throw new RangeError("Data too long")}for(const y of[Jt.Ecc.MEDIUM,Jt.Ecc.QUARTILE,Jt.Ecc.HIGH])h&&f<=Jt.getNumDataCodewords(p,y)*8&&(c=y);let b=[];for(const y of d){s(y.mode.modeBits,4,b),s(y.numChars,y.mode.numCharCountBits(p),b);for(const v of y.getData())b.push(v)}n(b.length==f);const j=Jt.getNumDataCodewords(p,c)*8;n(b.length<=j),s(0,Math.min(4,j-b.length),b),s(0,(8-b.length%8)%8,b),n(b.length%8==0);for(let y=236;b.length<j;y^=253)s(y,8,b);let w=[];for(;w.length*8<b.length;)w.push(0);return b.forEach((y,v)=>w[v>>>3]|=y<<7-(v&7)),new Jt(p,c,w,x)}getModule(d,c){return 0<=d&&d<this.size&&0<=c&&c<this.size&&this.modules[c][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),c=d.length;for(let u=0;u<c;u++)for(let m=0;m<c;m++)u==0&&m==0||u==0&&m==c-1||u==c-1&&m==0||this.drawAlignmentPattern(d[u],d[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const c=this.errorCorrectionLevel.formatBits<<3|d;let u=c;for(let x=0;x<10;x++)u=u<<1^(u>>>9)*1335;const m=(c<<10|u)^21522;n(m>>>15==0);for(let x=0;x<=5;x++)this.setFunctionModule(8,x,a(m,x));this.setFunctionModule(8,7,a(m,6)),this.setFunctionModule(8,8,a(m,7)),this.setFunctionModule(7,8,a(m,8));for(let x=9;x<15;x++)this.setFunctionModule(14-x,8,a(m,x));for(let x=0;x<8;x++)this.setFunctionModule(this.size-1-x,8,a(m,x));for(let x=8;x<15;x++)this.setFunctionModule(8,this.size-15+x,a(m,x));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let u=0;u<12;u++)d=d<<1^(d>>>11)*7973;const c=this.version<<12|d;n(c>>>18==0);for(let u=0;u<18;u++){const m=a(c,u),x=this.size-11+u%3,h=Math.floor(u/3);this.setFunctionModule(x,h,m),this.setFunctionModule(h,x,m)}}drawFinderPattern(d,c){for(let u=-4;u<=4;u++)for(let m=-4;m<=4;m++){const x=Math.max(Math.abs(m),Math.abs(u)),h=d+m,p=c+u;0<=h&&h<this.size&&0<=p&&p<this.size&&this.setFunctionModule(h,p,x!=2&&x!=4)}}drawAlignmentPattern(d,c){for(let u=-2;u<=2;u++)for(let m=-2;m<=2;m++)this.setFunctionModule(d+m,c+u,Math.max(Math.abs(m),Math.abs(u))!=1)}setFunctionModule(d,c,u){this.modules[c][d]=u,this.isFunction[c][d]=!0}addEccAndInterleave(d){const c=this.version,u=this.errorCorrectionLevel;if(d.length!=Jt.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const m=Jt.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],x=Jt.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],h=Math.floor(Jt.getNumRawDataModules(c)/8),p=m-h%m,f=Math.floor(h/m);let b=[];const j=Jt.reedSolomonComputeDivisor(x);for(let y=0,v=0;y<m;y++){let N=d.slice(v,v+f-x+(y<p?0:1));v+=N.length;const S=Jt.reedSolomonComputeRemainder(N,j);y<p&&N.push(0),b.push(N.concat(S))}let w=[];for(let y=0;y<b[0].length;y++)b.forEach((v,N)=>{(y!=f-x||N>=p)&&w.push(v[y])});return n(w.length==h),w}drawCodewords(d){if(d.length!=Math.floor(Jt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let m=0;m<this.size;m++)for(let x=0;x<2;x++){const h=u-x,f=(u+1&2)==0?this.size-1-m:m;!this.isFunction[f][h]&&c<d.length*8&&(this.modules[f][h]=a(d[c>>>3],7-(c&7)),c++)}}n(c==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let m;switch(d){case 0:m=(u+c)%2==0;break;case 1:m=c%2==0;break;case 2:m=u%3==0;break;case 3:m=(u+c)%3==0;break;case 4:m=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:m=u*c%2+u*c%3==0;break;case 6:m=(u*c%2+u*c%3)%2==0;break;case 7:m=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&m&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let d=0;for(let x=0;x<this.size;x++){let h=!1,p=0,f=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[x][b]==h?(p++,p==5?d+=Jt.PENALTY_N1:p>5&&d++):(this.finderPenaltyAddHistory(p,f),h||(d+=this.finderPenaltyCountPatterns(f)*Jt.PENALTY_N3),h=this.modules[x][b],p=1);d+=this.finderPenaltyTerminateAndCount(h,p,f)*Jt.PENALTY_N3}for(let x=0;x<this.size;x++){let h=!1,p=0,f=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][x]==h?(p++,p==5?d+=Jt.PENALTY_N1:p>5&&d++):(this.finderPenaltyAddHistory(p,f),h||(d+=this.finderPenaltyCountPatterns(f)*Jt.PENALTY_N3),h=this.modules[b][x],p=1);d+=this.finderPenaltyTerminateAndCount(h,p,f)*Jt.PENALTY_N3}for(let x=0;x<this.size-1;x++)for(let h=0;h<this.size-1;h++){const p=this.modules[x][h];p==this.modules[x][h+1]&&p==this.modules[x+1][h]&&p==this.modules[x+1][h+1]&&(d+=Jt.PENALTY_N2)}let c=0;for(const x of this.modules)c=x.reduce((h,p)=>h+(p?1:0),c);const u=this.size*this.size,m=Math.ceil(Math.abs(c*20-u*10)/u)-1;return n(0<=m&&m<=9),d+=m*Jt.PENALTY_N4,n(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let u=[6];for(let m=this.size-7;u.length<d;m-=c)u.splice(1,0,m);return u}}static getNumRawDataModules(d){if(d<Jt.MIN_VERSION||d>Jt.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*d+128)*d+64;if(d>=2){const u=Math.floor(d/7)+2;c-=(25*u-10)*u-55,d>=7&&(c-=36)}return n(208<=c&&c<=29648),c}static getNumDataCodewords(d,c){return Math.floor(Jt.getNumRawDataModules(d)/8)-Jt.ECC_CODEWORDS_PER_BLOCK[c.ordinal][d]*Jt.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let c=[];for(let m=0;m<d-1;m++)c.push(0);c.push(1);let u=1;for(let m=0;m<d;m++){for(let x=0;x<c.length;x++)c[x]=Jt.reedSolomonMultiply(c[x],u),x+1<c.length&&(c[x]^=c[x+1]);u=Jt.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(d,c){let u=c.map(m=>0);for(const m of d){const x=m^u.shift();u.push(0),c.forEach((h,p)=>u[p]^=Jt.reedSolomonMultiply(h,x))}return u}static reedSolomonMultiply(d,c){if(d>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let m=7;m>=0;m--)u=u<<1^(u>>>7)*285,u^=(c>>>m&1)*d;return n(u>>>8==0),u}finderPenaltyCountPatterns(d){const c=d[1];n(c<=this.size*3);const u=c>0&&d[2]==c&&d[3]==c*3&&d[4]==c&&d[5]==c;return(u&&d[0]>=c*4&&d[6]>=c?1:0)+(u&&d[6]>=c*4&&d[0]>=c?1:0)}finderPenaltyTerminateAndCount(d,c,u){return d&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(d,c){c[0]==0&&(d+=this.size),c.pop(),c.unshift(d)}};r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;function s(o,d,c){if(d<0||d>31||o>>>d)throw new RangeError("Value out of range");for(let u=d-1;u>=0;u--)c.push(o>>>u&1)}function a(o,d){return(o>>>d&1)!=0}function n(o){if(!o)throw new Error("Assertion error")}const i=class as{constructor(d,c,u){if(this.mode=d,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(d){let c=[];for(const u of d)s(u,8,c);return new as(as.Mode.BYTE,d.length,c)}static makeNumeric(d){if(!as.isNumeric(d))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<d.length;){const m=Math.min(d.length-u,3);s(parseInt(d.substring(u,u+m),10),m*3+1,c),u+=m}return new as(as.Mode.NUMERIC,d.length,c)}static makeAlphanumeric(d){if(!as.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=d.length;u+=2){let m=as.ALPHANUMERIC_CHARSET.indexOf(d.charAt(u))*45;m+=as.ALPHANUMERIC_CHARSET.indexOf(d.charAt(u+1)),s(m,11,c)}return u<d.length&&s(as.ALPHANUMERIC_CHARSET.indexOf(d.charAt(u)),6,c),new as(as.Mode.ALPHANUMERIC,d.length,c)}static makeSegments(d){return d==""?[]:as.isNumeric(d)?[as.makeNumeric(d)]:as.isAlphanumeric(d)?[as.makeAlphanumeric(d)]:[as.makeBytes(as.toUtf8ByteArray(d))]}static makeEci(d){let c=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)s(d,8,c);else if(d<16384)s(2,2,c),s(d,14,c);else if(d<1e6)s(6,3,c),s(d,21,c);else throw new RangeError("ECI assignment value out of range");return new as(as.Mode.ECI,0,c)}static isNumeric(d){return as.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return as.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,c){let u=0;for(const m of d){const x=m.mode.numCharCountBits(c);if(m.numChars>=1<<x)return 1/0;u+=4+x+m.bitData.length}return u}static toUtf8ByteArray(d){d=encodeURI(d);let c=[];for(let u=0;u<d.length;u++)d.charAt(u)!="%"?c.push(d.charCodeAt(u)):(c.push(parseInt(d.substring(u+1,u+3),16)),u+=2);return c}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=i;e.QrSegment=i})(Pd||(Pd={}));(e=>{(r=>{const s=class{constructor(n,i){this.ordinal=n,this.formatBits=i}};s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),r.Ecc=s})(e.QrCode||(e.QrCode={}))})(Pd||(Pd={}));(e=>{(r=>{const s=class{constructor(n,i){this.modeBits=n,this.numBitsCharCount=i}numCharCountBits(n){return this.numBitsCharCount[Math.floor((n+7)/17)]}};s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),r.Mode=s})(e.QrSegment||(e.QrSegment={}))})(Pd||(Pd={}));var ku=Pd;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var f6e={L:ku.QrCode.Ecc.LOW,M:ku.QrCode.Ecc.MEDIUM,Q:ku.QrCode.Ecc.QUARTILE,H:ku.QrCode.Ecc.HIGH},Ez=128,Iz="L",Oz="#FFFFFF",_z="#000000",Mz=!1,Dz=1,g6e=4,y6e=0,b6e=.1;function Lz(e,r=0){const s=[];return e.forEach(function(a,n){let i=null;a.forEach(function(l,o){if(!l&&i!==null){s.push(`M${i+r} ${n+r}h${o-i}v1H${i+r}z`),i=null;return}if(o===a.length-1){if(!l)return;i===null?s.push(`M${o+r},${n+r} h1v1H${o+r}z`):s.push(`M${i+r},${n+r} h${o+1-i}v1H${i+r}z`);return}l&&i===null&&(i=o)})}),s.join("")}function Fz(e,r){return e.slice().map((s,a)=>a<r.y||a>=r.y+r.h?s:s.map((n,i)=>i<r.x||i>=r.x+r.w?n:!1))}function v6e(e,r,s,a){if(a==null)return null;const n=e.length+s*2,i=Math.floor(r*b6e),l=n/r,o=(a.width||i)*l,d=(a.height||i)*l,c=a.x==null?e.length/2-o/2:a.x*l,u=a.y==null?e.length/2-d/2:a.y*l,m=a.opacity==null?1:a.opacity;let x=null;if(a.excavate){let p=Math.floor(c),f=Math.floor(u),b=Math.ceil(o+c-p),j=Math.ceil(d+u-f);x={x:p,y:f,w:b,h:j}}const h=a.crossOrigin;return{x:c,y:u,h:d,w:o,excavation:x,opacity:m,crossOrigin:h}}function j6e(e,r){return r!=null?Math.max(Math.floor(r),0):e?g6e:y6e}function Rz({value:e,level:r,minVersion:s,includeMargin:a,marginSize:n,imageSettings:i,size:l,boostLevel:o}){let d=_t.useMemo(()=>{const p=(Array.isArray(e)?e:[e]).reduce((f,b)=>(f.push(...ku.QrSegment.makeSegments(b)),f),[]);return ku.QrCode.encodeSegments(p,f6e[r],s,void 0,void 0,o)},[e,r,s,o]);const{cells:c,margin:u,numCells:m,calculatedImageSettings:x}=_t.useMemo(()=>{let h=d.getModules();const p=j6e(a,n),f=h.length+p*2,b=v6e(h,l,p,i);return{cells:h,margin:p,numCells:f,calculatedImageSettings:b}},[d,l,i,a,n]);return{qrcode:d,margin:u,cells:c,numCells:m,calculatedImageSettings:x}}var w6e=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),N6e=_t.forwardRef(function(r,s){const a=r,{value:n,size:i=Ez,level:l=Iz,bgColor:o=Oz,fgColor:d=_z,includeMargin:c=Mz,minVersion:u=Dz,boostLevel:m,marginSize:x,imageSettings:h}=a,f=Fw(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:b}=f,j=Fw(f,["style"]),w=h==null?void 0:h.src,y=_t.useRef(null),v=_t.useRef(null),N=_t.useCallback(re=>{y.current=re,typeof s=="function"?s(re):s&&(s.current=re)},[s]),[S,k]=_t.useState(!1),{margin:P,cells:C,numCells:_,calculatedImageSettings:A}=Rz({value:n,level:l,minVersion:u,boostLevel:m,includeMargin:c,marginSize:x,imageSettings:h,size:i});_t.useEffect(()=>{if(y.current!=null){const re=y.current,xe=re.getContext("2d");if(!xe)return;let we=C;const T=v.current,z=A!=null&&T!==null&&T.complete&&T.naturalHeight!==0&&T.naturalWidth!==0;z&&A.excavation!=null&&(we=Fz(C,A.excavation));const Q=window.devicePixelRatio||1;re.height=re.width=i*Q;const B=i/_*Q;xe.scale(B,B),xe.fillStyle=o,xe.fillRect(0,0,_,_),xe.fillStyle=d,w6e?xe.fill(new Path2D(Lz(we,P))):C.forEach(function(L,R){L.forEach(function(Z,W){Z&&xe.fillRect(W+P,R+P,1,1)})}),A&&(xe.globalAlpha=A.opacity),z&&xe.drawImage(T,A.x+P,A.y+P,A.w,A.h)}}),_t.useEffect(()=>{k(!1)},[w]);const D=Lw({height:i,width:i},b);let H=null;return w!=null&&(H=_t.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{k(!0)},ref:v,crossOrigin:A==null?void 0:A.crossOrigin})),_t.createElement(_t.Fragment,null,_t.createElement("canvas",Lw({style:D,height:i,width:i,ref:N,role:"img"},j)),H)});N6e.displayName="QRCodeCanvas";var l6=_t.forwardRef(function(r,s){const a=r,{value:n,size:i=Ez,level:l=Iz,bgColor:o=Oz,fgColor:d=_z,includeMargin:c=Mz,minVersion:u=Dz,boostLevel:m,title:x,marginSize:h,imageSettings:p}=a,f=Fw(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:b,cells:j,numCells:w,calculatedImageSettings:y}=Rz({value:n,level:l,minVersion:u,boostLevel:m,includeMargin:c,marginSize:h,imageSettings:p,size:i});let v=j,N=null;p!=null&&y!=null&&(y.excavation!=null&&(v=Fz(j,y.excavation)),N=_t.createElement("image",{href:p.src,height:y.h,width:y.w,x:y.x+b,y:y.y+b,preserveAspectRatio:"none",opacity:y.opacity,crossOrigin:y.crossOrigin}));const S=Lz(v,b);return _t.createElement("svg",Lw({height:i,width:i,viewBox:`0 0 ${w} ${w}`,ref:s,role:"img"},f),!!x&&_t.createElement("title",null,x),_t.createElement("path",{fill:o,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),_t.createElement("path",{fill:d,d:S,shapeRendering:"crispEdges"}),N)});l6.displayName="QRCodeSVG";const Bz=({profile:e,partner:r,onClose:s})=>{var p,f,b,j,w;const a=g.useRef(null),n=async()=>{const y=a.current.querySelector("svg");let v="";if(y){const k=new XMLSerializer().serializeToString(y),P=new Blob([k],{type:"image/svg+xml;charset=utf-8"}),C=URL.createObjectURL(P),_=new Image;await new Promise(A=>{_.onload=()=>{const D=document.createElement("canvas");D.width=_.width,D.height=_.height,D.getContext("2d").drawImage(_,0,0),v=D.toDataURL("image/png"),URL.revokeObjectURL(C),A()},_.src=C})}const N=window.open("","_blank"),S=a.current.innerHTML.replace(/<svg[\s\S]*?<\/svg>/,`<img src="${v}" style="width: 80px; height: 80px; display: block;" />`);N.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Partner ID Card - Nexo</title>
          <style>
            @media print {
              @page {
                size: A4;
                margin: 0;
              }
              body {
                margin: 0;
                padding: 0;
                display: flex;
                justify-content: center;
                align-items: flex-start;
                min-height: 100vh;
                padding-top: 30px;
              }
              .id-card {
                transform: scale(1.8);
                transform-origin: top center;
                margin: 0 auto;
              }
            }
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
              background: #f5f5f5;
            }
            .id-card {
              width: 85.6mm;
              height: 53.98mm;
              background: linear-gradient(135deg, #214A73 0%, #2d5a8a 100%);
              border-radius: 12px;
              padding: 10px;
              box-shadow: 0 10px 40px rgba(33, 74, 115, 0.4);
              position: relative;
              overflow: hidden;
            }
            .id-card::before {
              content: '';
              position: absolute;
              top: -50%;
              right: -50%;
              width: 200%;
              height: 200%;
              background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%);
            }
            .id-card::after {
              content: '';
              position: absolute;
              bottom: 0;
              left: 0;
              right: 0;
              height: 3px;
              background: linear-gradient(90deg, #214A73 0%, #2d5a8a 50%, #214A73 100%);
            }
            .id-card-content {
              position: relative;
              z-index: 1;
              display: flex;
              height: 100%;
              background: white;
              border-radius: 8px;
              padding: 8px;
              box-shadow: inset 0 0 20px rgba(33, 74, 115, 0.1);
            }
            .id-card-left {
              flex: 1;
              display: flex;
              flex-direction: column;
              justify-content: space-between;
              padding-right: 8px;
            }
            .id-card-header {
              display: flex;
              align-items: center;
              gap: 6px;
              margin-bottom: 6px;
              padding-bottom: 6px;
              border-bottom: 2px solid #214A73;
            }
            .id-card-logo {
              width: 28px;
              height: 28px;
              background: linear-gradient(135deg, #214A73 0%, #2d5a8a 100%);
              border-radius: 4px;
              display: flex;
              align-items: center;
              justify-content: center;
              color: white;
              font-weight: 800;
              font-size: 11px;
              letter-spacing: 0.5px;
            }
            .id-card-title {
              font-size: 9px;
              font-weight: 800;
              color: #214A73;
              text-transform: uppercase;
              letter-spacing: 1.2px;
            }
            .id-card-photo {
              width: 65px;
              height: 65px;
              border-radius: 8px;
              border: 3px solid #214A73;
              object-fit: cover;
              margin: 6px 0;
              box-shadow: 0 2px 8px rgba(33, 74, 115, 0.2);
            }
            .id-card-name {
              font-size: 15px;
              font-weight: 800;
              color: #1a202c;
              margin-bottom: 4px;
              letter-spacing: 0.3px;
            }
            .id-card-details {
              font-size: 8.5px;
              color: #4a5568;
              line-height: 1.5;
            }
            .id-card-detail-item {
              margin-bottom: 3px;
              display: flex;
              align-items: center;
              gap: 4px;
            }
            .id-card-detail-item strong {
              color: #214A73;
              font-weight: 700;
              min-width: 45px;
            }
            .id-card-right {
              width: 85px;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              gap: 6px;
              border-left: 2px dashed #e2e8f0;
              padding-left: 8px;
            }
            .id-card-qr {
              width: 75px;
              height: 75px;
              padding: 5px;
              background: white;
              border-radius: 6px;
              border: 2px solid #214A73;
              display: flex;
              align-items: center;
              justify-content: center;
              box-shadow: 0 2px 8px rgba(33, 74, 115, 0.15);
            }
            .id-card-verified {
              font-size: 7px;
              color: #48bb78;
              text-align: center;
              font-weight: 700;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 3px;
              background: #f0fdf4;
              padding: 3px 6px;
              border-radius: 4px;
              border: 1px solid #86efac;
            }
            .id-card-id {
              font-size: 7.5px;
              color: #214A73;
              text-align: center;
              font-weight: 700;
              letter-spacing: 0.5px;
            }
            .id-card-footer {
              font-size: 6.5px;
              color: #718096;
              text-align: center;
              margin-top: 2px;
            }
          </style>
        </head>
        <body>
          ${S}
        </body>
      </html>
    `),N.document.close(),setTimeout(()=>{N.print()},250)},i=(e==null?void 0:e.id)||(r==null?void 0:r._id)||"unknown",l=`${window.location.origin}/verify/partner/${i}`,o=i!=="unknown"?i.toString().slice(-8).toUpperCase():"N/A",d=(e==null?void 0:e.name)||((p=r==null?void 0:r.profile)==null?void 0:p.name)||"Partner Name",c=(e==null?void 0:e.phone)||(r==null?void 0:r.phone)||"N/A",u=(e==null?void 0:e.city)||((f=r==null?void 0:r.profile)==null?void 0:f.city)||"N/A";e!=null&&e.email||(b=r==null?void 0:r.profile)!=null&&b.email;const m=(e==null?void 0:e.profilePicture)||(r==null?void 0:r.profilePicture)||null,x=m?m.startsWith("http")?m:`https://nexo.works/${m}`:null,h=((j=e==null?void 0:e.kyc)==null?void 0:j.status)==="approved"||((w=e==null?void 0:e.kyc)==null?void 0:w.status)==="verified";return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-lg w-full",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-primary mb-1",children:"Partner ID Card"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Professional identification card with QR verification"})]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"text-xl"})})]}),t.jsx("div",{className:"flex justify-center mb-6 bg-gradient-to-br from-slate-50 to-slate-100 p-8 rounded-xl",children:t.jsxs("div",{ref:a,className:"id-card",style:{width:"85.6mm",height:"53.98mm",background:"linear-gradient(135deg, #214A73 0%, #2d5a8a 100%)",borderRadius:"12px",padding:"10px",boxShadow:"0 10px 40px rgba(33, 74, 115, 0.4)",position:"relative",overflow:"hidden"},children:[t.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 20% 20%, rgba(255,255,255,0.15) 0%, transparent 50%)",pointerEvents:"none"}}),t.jsxs("div",{className:"id-card-content",style:{position:"relative",zIndex:1,display:"flex",height:"100%",background:"white",borderRadius:"8px",padding:"8px",boxShadow:"inset 0 0 20px rgba(33, 74, 115, 0.1)"},children:[t.jsx("div",{className:"id-card-left",style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",paddingRight:"8px"},children:t.jsxs("div",{children:[t.jsxs("div",{className:"id-card-header",style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"6px",paddingBottom:"6px",borderBottom:"2px solid #214A73"},children:[t.jsx("div",{className:"id-card-logo",style:{width:"28px",height:"28px",background:"linear-gradient(135deg, #214A73 0%, #2d5a8a 100%)",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:800,fontSize:"11px",letterSpacing:"0.5px"},children:"NEXO"}),t.jsx("div",{className:"id-card-title",style:{fontSize:"9px",fontWeight:800,color:"#214A73",textTransform:"uppercase",letterSpacing:"1.2px"},children:"Verified Partner"})]}),x?t.jsx("img",{src:x,alt:d,className:"id-card-photo",style:{width:"65px",height:"65px",borderRadius:"8px",border:"3px solid #214A73",objectFit:"cover",margin:"6px 0",boxShadow:"0 2px 8px rgba(33, 74, 115, 0.2)"}}):t.jsx("div",{className:"id-card-photo",style:{width:"65px",height:"65px",borderRadius:"8px",border:"3px solid #214A73",background:"linear-gradient(135deg, #214A73 0%, #2d5a8a 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"24px",margin:"6px 0",boxShadow:"0 2px 8px rgba(33, 74, 115, 0.2)"},children:d.charAt(0).toUpperCase()}),t.jsx("div",{className:"id-card-name",style:{fontSize:"15px",fontWeight:800,color:"#1a202c",marginBottom:"4px",letterSpacing:"0.3px"},children:d}),t.jsxs("div",{className:"id-card-details",style:{fontSize:"8.5px",color:"#4a5568",lineHeight:1.5},children:[t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#214A73",fontWeight:700,minWidth:"45px"},children:"ID:"}),t.jsx("span",{children:o})]}),t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#214A73",fontWeight:700,minWidth:"45px"},children:"Phone:"}),t.jsx("span",{children:c})]}),t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#214A73",fontWeight:700,minWidth:"45px"},children:"City:"}),t.jsx("span",{children:u})]})]})]})}),t.jsxs("div",{className:"id-card-right",style:{width:"85px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"6px",borderLeft:"2px dashed #e2e8f0",paddingLeft:"8px"},children:[t.jsx("div",{className:"id-card-qr",style:{width:"75px",height:"75px",padding:"5px",background:"white",borderRadius:"6px",border:"2px solid #214A73",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(33, 74, 115, 0.15)"},children:t.jsx(l6,{value:l,size:65,level:"H",includeMargin:!1})}),h&&t.jsxs("div",{className:"id-card-verified",style:{fontSize:"7px",color:"#48bb78",textAlign:"center",fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",gap:"3px",background:"#f0fdf4",padding:"3px 6px",borderRadius:"4px",border:"1px solid #86efac"},children:[t.jsx(vt,{style:{fontSize:"8px"}}),"Verified"]}),t.jsx("div",{className:"id-card-id",style:{fontSize:"7.5px",color:"#214A73",textAlign:"center",fontWeight:700,letterSpacing:"0.5px"},children:"Scan to Verify"}),t.jsx("div",{className:"id-card-footer",style:{fontSize:"6.5px",color:"#718096",textAlign:"center",marginTop:"2px"},children:"nexo.works"})]})]})]})}),t.jsxs("div",{className:"flex gap-3 justify-center mt-6",children:[t.jsxs("button",{onClick:n,className:"px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2 shadow-lg",children:[t.jsx(km,{})," Print ID Card"]}),t.jsxs("button",{onClick:s,className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center gap-2",children:[t.jsx(mt,{})," Close"]})]}),t.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(kn,{className:"text-primary text-xl flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-primary mb-1",children:"Verification Features"}),t.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[t.jsx("li",{children:" QR code links to public verification page"}),t.jsx("li",{children:" Anyone can scan to verify your partner status"}),t.jsx("li",{children:" Shows your verification status and credentials"}),t.jsx("li",{children:" Professional ID card format for printing"})]})]})]})})]})})},S6e=[{header:"Date",accessor:"date"},{header:"Type",accessor:"type"},{header:"Amount",accessor:"amount"},{header:"Description",accessor:"description"},{header:"Balance",accessor:"balance"},{header:"Reference",accessor:"reference"}],k6e=()=>{var p6,f6,g6,y6,b6,v6,j6,w6,N6,S6,k6,C6,P6,A6,T6,E6,I6,O6,_6,M6,D6,L6,F6,R6,B6,$6,z6,U6,H6,V6,W6,q6,G6,K6,Y6,X6,J6,Q6,Z6,eS,tS,rS,sS,aS,nS,iS;const{partnerId:e}=wm(),r=er(),{token:s}=kr(),[a,n]=g.useState(!1),[i,l]=g.useState("credit"),[o,d]=g.useState(""),[c,u]=g.useState(""),[m,x]=g.useState(""),[h,p]=g.useState(!1),[f,b]=g.useState(!1),[j,w]=g.useState(!1),[y,v]=g.useState([]),N=g.useRef(null),[S,k]=g.useState(!1),[P,C]=g.useState({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",partnerType:"individual",address:"",landmark:"",pincode:"",city:"",gstNumber:"",referralCode:"",categories:[],categoryNames:[],accountHolderName:"",accountNumber:"",ifscCode:"",bankName:"",kycStatus:"",kycRemarks:"",registerAmount:"",payId:"",paidBy:"",profileCompleted:!1}),[_,A]=g.useState([]),[D,H]=g.useState(!1),[re,xe]=g.useState(!1),[we,T]=g.useState(!1),[z,Q]=g.useState(""),[B,L]=g.useState(""),[R,Z]=g.useState(!1),[W,ie]=g.useState(!1),[ae,M]=g.useState({panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null}),[U,q]=g.useState(null),[G,Y]=g.useState(!1),[oe,Be]=g.useState(!1),[fe,ne]=g.useState([]),[ce,pe]=g.useState(null),[F,ue]=g.useState(!1),[J,be]=g.useState("cash"),[ge,Ne]=g.useState(""),[Ie,Je]=g.useState(""),[dt,Ae]=g.useState(!1),[ze,It]=g.useState("cash"),[Ft,Se]=g.useState(""),[O,de]=g.useState(""),[Oe,Ge]=g.useState(!1),[kt,at]=g.useState("cash"),[ft,ve]=g.useState(""),[Ce,Te]=g.useState(!1),[Xe,rt]=g.useState(!1),[We,ye]=g.useState(!1),{data:Ue,isLoading:st,error:yt}=lr(te=>qe.fetchPartnerDetails(te,e),[e]),{data:xt,isLoading:$t,refresh:Rt}=lr(te=>qe.fetchPartnerEarnings(te,e),[e]),{data:ct,isLoading:wr,error:js,refresh:Ur}=lr(te=>qe.fetchPartnerWallet(te,e),[e]),{data:V,isLoading:le,error:ee}=lr(te=>qe.fetchFeeTransactions(te,{partnerId:e}),[e]),{data:se,isLoading:me,error:he,refresh:I}=lr(async te=>{var $e,Ct;try{const ht=await qe.fetchPartnerDetails(te,e),Lt=(ht==null?void 0:ht.partner)||(ht==null?void 0:ht.data)||{};console.log("Partner Details:",{partnerId:e,hasHubs:!!Lt.hubs,hubsCount:(($e=Lt.hubs)==null?void 0:$e.length)||0,hubs:Lt.hubs});const rr=Lt.displayHubs||Lt.hubs||[],Bt=rr.map(Ca=>typeof Ca=="object"&&Ca._id?Ca._id.toString():Ca.toString());console.log("Assigned Hub IDs:",Bt),console.log("Using displayHubs:",!!Lt.displayHubs,"serviceHubs count:",((Ct=Lt.serviceHubs)==null?void 0:Ct.length)||0);const Pr=await qe.fetchHubs(te),tr=(Pr==null?void 0:Pr.data)||[],Us=tr.map(Ca=>({...Ca,isAssigned:Bt.some(Fn=>{var pi;return Fn.toString()===((pi=Ca._id)==null?void 0:pi.toString())})})),Hm=rr.map(Ca=>typeof Ca=="object"&&Ca._id?{...Ca,isAssigned:!0}:tr.find(Fn=>{var pi;return((pi=Fn._id)==null?void 0:pi.toString())===Ca.toString()})).filter(Boolean);return{success:!0,data:Us,assignedHubIds:Bt,assignedHubs:Hm}}catch(ht){if(ht.status===500||ht.status===404)return console.warn("Hubs fetch failed, returning empty array:",ht.message),{success:!0,data:[],assignedHubIds:[],assignedHubs:[]};throw ht}},[e]);g.useEffect(()=>{(async()=>{if(s){H(!0);try{const $e=await qe.fetchCategories(s);$e.success&&$e.data&&A($e.data)}catch($e){console.error("Failed to fetch categories:",$e)}finally{H(!1)}}})()},[s]),g.useEffect(()=>{(async()=>{const $e=(Ue==null?void 0:Ue.partner)||{},ht={...(xt==null?void 0:xt.partner)||{},...$e};if(!(!s||!(ht!=null&&ht._id)))try{const Lt=await qe.fetchMGPlans(s),rr=Lt.plans||Lt.data||[],Bt=(ht==null?void 0:ht.partnerType)||"individual",Pr=rr.filter(tr=>!tr.partnerType||tr.partnerType==="both"?!0:tr.partnerType===Bt);ne(Pr)}catch(Lt){console.error("Error fetching MG plans:",Lt)}})()},[s,Ue,xt]);const X=async()=>{var ht,Lt,rr,Bt,Pr,tr;const te=P.payId||((ht=K==null?void 0:K.profile)==null?void 0:ht.payId)||"",$e=P.registerAmount||((Lt=K==null?void 0:K.profile)==null?void 0:Lt.registerAmount)||0,Ct=P.paidBy||((rr=K==null?void 0:K.profile)==null?void 0:rr.paidBy)||"Manual Approval";if(!te||te.trim()===""){alert("Please enter a Payment ID before approving");return}if(confirm(`Approve payment for ${((Bt=K==null?void 0:K.profile)==null?void 0:Bt.name)||"this partner"}?

Payment ID: ${te}
Amount: ${$e}
Paid By: ${Ct}`)){T(!0);try{const Us={id:e,registerAmount:parseFloat($e)||0,payId:te.trim(),paidBy:Ct,securityDeposit:parseFloat(P.securityDeposit||((Pr=K==null?void 0:K.profile)==null?void 0:Pr.securityDeposit)||0),toolkitPrice:parseFloat(P.toolkitPrice||((tr=K==null?void 0:K.profile)==null?void 0:tr.toolkitPrice)||0),paymentApproved:!0,approvedBy:"Admin",approvedAt:new Date().toISOString()},Hm=await qe.approvePartnerPayment(s,e,Us);Hm.success?(alert("Payment approved successfully!"),window.location.reload()):alert("Failed to approve payment: "+(Hm.message||"Unknown error"))}catch(Us){console.error("Payment approval error:",Us),alert("Error approving payment: "+Us.message)}finally{T(!1)}}},je=async te=>{if(te.preventDefault(),!o||!c){alert("Please fill all required fields");return}p(!0);try{await qe.addWalletTransaction(s,{type:i,amount:Number(o),description:c,reference:m||void 0,paymentMode:kt,transactionId:ft||void 0,partner:e}),d(""),u(""),x(""),at("cash"),ve(""),n(!1),Ur(),Rt(),alert("Transaction added successfully!")}catch($e){alert($e.message||"Failed to add transaction")}finally{p(!1)}},Pe=async()=>{if(ze==="cash"&&!Ft.trim()){alert("Please enter who collected the payment");return}if((ze==="online"||ze==="upi")&&!O.trim()){alert("Please enter the transaction ID");return}Ge(!0);try{const te={paymentMethod:ze,...ze==="cash"?{collectedBy:Ft}:{transactionId:O}},Ct=await(await fetch(`https://nexo.works/api/admin/partners/${e}/mg-plan/payment-details`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(te)})).json();Ct.success?(alert("Payment details updated successfully!"),Ae(!1),It("cash"),Se(""),de(""),window.location.reload()):alert(Ct.message||"Failed to update payment details")}catch(te){console.error("Error updating payment details:",te),alert("Error updating payment details")}finally{Ge(!1)}},_e=async()=>{if(!ce){alert("Please select an MG plan");return}if(J==="cash"&&!ge.trim()){alert("Please enter who collected the payment");return}if((J==="online"||J==="upi")&&!Ie.trim()){alert("Please enter the transaction ID");return}ue(!0);try{const te={paymentMethod:J,...J==="cash"?{collectedBy:ge}:{transactionId:Ie}},Ct=await(await fetch(`https://nexo.works/api/admin/mg-plans/${ce}/subscribe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({partnerId:e,...te})})).json();Ct.success?(alert("MG Plan assigned successfully!"),Be(!1),pe(null),be("cash"),Ne(""),Je(""),window.location.reload()):alert(Ct.message||"Failed to assign MG plan")}catch(te){console.error("Error assigning MG plan:",te),alert("Error assigning MG plan")}finally{ue(!1)}};g.useEffect(()=>{se!=null&&se.assignedHubIds&&v(se.assignedHubIds.map(te=>te.toString()))},[se]);const Ze=()=>{const te=(se==null?void 0:se.assignedHubIds)||[];v(te.map($e=>$e.toString())),b(!0)},ot=te=>{const $e=te.toString();v(Ct=>Ct.includes($e)?Ct.filter(ht=>ht!==$e):[...Ct,$e])},pt=async te=>{te.preventDefault(),w(!0);try{const Ct=((se==null?void 0:se.data)||[]).filter(Bt=>Bt.isAssigned).map(Bt=>Bt._id.toString()),ht=y,Lt=ht.filter(Bt=>!Ct.includes(Bt)),rr=Ct.filter(Bt=>!ht.includes(Bt));for(const Bt of Lt)await qe.assignHubToPartner(s,Bt,e);for(const Bt of rr)await qe.unassignHubFromPartner(s,Bt,e);b(!1),I(),window.location.reload()}catch($e){alert($e.message||"Failed to update hub assignments")}finally{w(!1)}},Qe=(Ue==null?void 0:Ue.partner)||{},gt=(xt==null?void 0:xt.partner)||{},K={...gt,...Qe},Tt=(K==null?void 0:K.mgPlanSummary)||{};console.log("Partner Payment Data:",{partnerId:K==null?void 0:K._id,registerAmount:(p6=K==null?void 0:K.profile)==null?void 0:p6.registerAmount,payId:(f6=K==null?void 0:K.profile)==null?void 0:f6.payId,paidBy:(g6=K==null?void 0:K.profile)==null?void 0:g6.paidBy,registerdFee:(y6=K==null?void 0:K.profile)==null?void 0:y6.registerdFee,paymentApproved:(b6=K==null?void 0:K.profile)==null?void 0:b6.paymentApproved,securityDeposit:(v6=K==null?void 0:K.profile)==null?void 0:v6.securityDeposit,toolkitPrice:(j6=K==null?void 0:K.profile)==null?void 0:j6.toolkitPrice});const Ke=(K==null?void 0:K.profile)||{},Re=(K==null?void 0:K.kyc)||{},it=(K==null?void 0:K.bankDetails)||{},bt=(K==null?void 0:K.terms)||(K==null?void 0:K.partnerTerms)||(K==null?void 0:K.termsAccepted)||((w6=K==null?void 0:K.onboardingData)==null?void 0:w6.terms)||{},Fi=(K==null?void 0:K.category)||(K==null?void 0:K.categories)||[],ca=Array.isArray(Fi)?Fi:Fi?[Fi]:[],Ri=(K==null?void 0:K.categoryNames)||[];console.log(" Partner Categories Debug:",{partnerId:K==null?void 0:K._id,hasCategoryField:!!(K!=null&&K.category),hasCategoriesField:!!(K!=null&&K.categories),categoryRaw:K==null?void 0:K.category,categoriesRaw:K==null?void 0:K.categories,categoryCount:ca.length,categoryNamesCount:Ri.length,categories:ca,categoryNames:Ri,fullPartnerKeys:Object.keys(Qe),earningsPartnerKeys:Object.keys(gt)});const da=g.useMemo(()=>{if(Ri.length>0)return Ri;const te=ca.map($e=>typeof $e=="object"&&$e!==null&&$e!==void 0&&($e.name||$e.description)||null).filter(Boolean);if(te.length>0)return te;if(ca.length>0&&_.length>0){const $e=ca.map(Ct=>{const ht=String(typeof Ct=="object"&&Ct!==null&&(Ct._id||Ct.id)||Ct),Lt=_.find(rr=>String(rr._id||rr.id||rr)===ht);return(Lt==null?void 0:Lt.name)||null}).filter(Boolean);if($e.length>0)return $e}return[]},[Ri,ca,_]);console.log("Final Display Category Names:",da,{partnerCategoryNames:Ri,partnerCategoriesCount:ca.length,categoriesCount:_.length});const Fx=(K==null?void 0:K.service)||[],Rx=(K==null?void 0:K.subcategory)||[],Ut=(K==null?void 0:K.mgPlan)||{},Jz=()=>{var te,$e,Ct,ht,Lt,rr,Bt,Pr;if(N.current){const tr=window.open("","_blank"),Us=($e=(bt==null?void 0:bt.signature)||((te=K==null?void 0:K.terms)==null?void 0:te.signature))!=null&&$e.startsWith("data:")?(bt==null?void 0:bt.signature)||((Ct=K==null?void 0:K.terms)==null?void 0:Ct.signature):(Lt=(bt==null?void 0:bt.signature)||((ht=K==null?void 0:K.terms)==null?void 0:ht.signature))!=null&&Lt.startsWith("http")?(bt==null?void 0:bt.signature)||((rr=K==null?void 0:K.terms)==null?void 0:rr.signature):bt!=null&&bt.signature||(Bt=K==null?void 0:K.terms)!=null&&Bt.signature?`/uploads/signatures/${(bt==null?void 0:bt.signature)||((Pr=K==null?void 0:K.terms)==null?void 0:Pr.signature)}`:null;tr.document.write(`
        <html>
          <head>
            <title>Partner Full Details - ${(Ke==null?void 0:Ke.name)||"N/A"}</title>
            <style>
              @media print {
                @page { 
                  size: A4;
                  margin: 18mm 15mm 15mm 15mm;
                }
                
                @page {
                  @top-center {
                    content: element(header);
                  }
                  @bottom-center {
                    content: element(footer);
                  }
                  counter-increment: page;
                }
                
                @page:first {
                  counter-reset: page 0;
                }
                
                .print-page-header {
                  position: running(header);
                  width: 100%;
                  height: 18mm;
                  min-height: 18mm;
                  max-height: 18mm;
                  background: linear-gradient(135deg, #214A73 0%, #0ea5a4 100%);
                  color: white;
                  padding: 5px 0;
                  display: flex;
                  align-items: center;
                  justify-content: space-between;
                  border-bottom: 2px solid #0ea5a4;
                  box-sizing: border-box;
                }
                
                .print-page-header-left {
                  display: flex;
                  align-items: center;
                  gap: 12px;
                  padding-left: 15mm;
                }
                
                .print-page-header-logo {
                  width: 40px;
                  height: 40px;
                  min-width: 40px;
                  min-height: 40px;
                  background: white;
                  border-radius: 6px;
                  padding: 6px;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  flex-shrink: 0;
                }
                
                .print-page-header-logo svg {
                  width: 100%;
                  height: 100%;
                }
                
                .print-page-header-text {
                  display: flex;
                  flex-direction: column;
                  flex: 1;
                }
                
                .print-page-header-text h1 {
                  font-size: 18px;
                  font-weight: bold;
                  margin: 0;
                  line-height: 1.1;
                  padding: 0;
                }
                
                .print-page-header-text p {
                  font-size: 9px;
                  margin: 0;
                  padding: 0;
                  opacity: 0.9;
                  line-height: 1.1;
                }
                
                .print-page-header-right {
                  text-align: right;
                  font-size: 9px;
                  flex-shrink: 0;
                  margin-left: 10px;
                  padding-right: 15mm;
                }
                
                .print-page-header-right .date {
                  font-weight: bold;
                  margin-bottom: 2px;
                  line-height: 1.2;
                }
                
                .print-page-footer {
                  position: running(footer);
                  width: 100%;
                  height: 15mm;
                  min-height: 15mm;
                  max-height: 15mm;
                  background: #f8fafc;
                  border-top: 2px solid #e2e8f0;
                  padding: 4px 0;
                  display: flex;
                  align-items: center;
                  justify-content: space-between;
                  font-size: 8px;
                  color: #64748b;
                  box-sizing: border-box;
                }
                
                .print-page-footer-left {
                  display: flex;
                  align-items: center;
                  gap: 8px;
                  padding-left: 15mm;
                }
                
                .print-page-footer-signature {
                  display: flex;
                  align-items: center;
                  gap: 8px;
                }
                
                .print-page-footer-signature {
                  display: flex !important;
                  align-items: center !important;
                  gap: 8px !important;
                }
                
                .print-page-footer-signature img {
                  max-width: 70px !important;
                  max-height: 30px !important;
                  width: auto !important;
                  height: auto !important;
                  border: 1px solid #cbd5e1 !important;
                  padding: 3px !important;
                  background: white !important;
                  object-fit: contain !important;
                  display: block !important;
                  flex-shrink: 0 !important;
                }
                
                @media print {
                  .print-page-footer-signature {
                    display: flex !important;
                    align-items: center !important;
                    gap: 8px !important;
                  }
                  
                  .print-page-footer-signature img {
                    display: block !important;
                    visibility: visible !important;
                    max-width: 70px !important;
                    max-height: 30px !important;
                  }
                }
                
                .print-page-footer-signature-text {
                  font-size: 8px;
                  color: #475569;
                  line-height: 1.2;
                }
                
                .print-page-footer-signature-text div {
                  margin: 0;
                  padding: 0;
                }
                
                .print-page-footer-right {
                  text-align: right;
                  font-size: 8px;
                  padding-right: 15mm;
                }
                
                .print-page-footer-right .page-info {
                  font-weight: bold;
                  color: #214A73;
                  margin-bottom: 2px;
                }
                
                .print-page-footer-right .page-info::after {
                  content: counter(page);
                }
                
                * { 
                  -webkit-print-color-adjust: exact !important;
                  print-color-adjust: exact !important;
                }
                
                body { 
                  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
                  font-size: 11px; 
                  line-height: 1.5; 
                  color: #1e293b;
                  margin: 0;
                  padding: 0;
                  background: white;
                }
                
                /* Ensure header and footer don't interfere with content */
                .print-content-wrapper {
                  position: relative;
                  z-index: 1;
                  margin: 0;
                  padding: 0;
                  width: 100%;
                  display: block;
                  visibility: visible;
                  opacity: 1;
                }
                
                /* Ensure first content section is visible */
                .print-content-wrapper > *:first-child {
                  margin-top: 0 !important;
                  padding-top: 0 !important;
                }
                
                /* Profile section specific fixes */
                .print-content-wrapper .print-section:first-of-type {
                  page-break-after: avoid;
                  margin-top: 0;
                }
                
                /* Hide header/footer in screen view, show only in print */
                .print-page-header,
                .print-page-footer {
                  display: none;
                }
                
                @media print {
                  body {
                    margin: 0;
                    padding: 0;
                    background: white;
                  }
                  
                  .print-page-header,
                  .print-page-footer {
                    display: flex !important;
                  }
                  
                  .print-content-wrapper {
                    display: block !important;
                    visibility: visible !important;
                    opacity: 1 !important;
                    width: 100% !important;
                    margin: 0 !important;
                    padding: 0 !important;
                  }
                  
                  /* Ensure all content is visible */
                  .print-content-wrapper * {
                    visibility: visible !important;
                  }
                  
                  /* Preserve layout structures */
                  .print-content-wrapper .print-section {
                    display: block !important;
                    visibility: visible !important;
                  }
                  
                  .print-content-wrapper .print-grid {
                    display: grid !important;
                    visibility: visible !important;
                  }
                  
                  .print-content-wrapper .print-label,
                  .print-content-wrapper .print-value {
                    display: block !important;
                    visibility: visible !important;
                  }
                  
                  /* Ensure flex containers work */
                  .print-content-wrapper [class*="flex"] {
                    display: flex !important;
                  }
                  
                  /* Ensure grid containers work */
                  .print-content-wrapper [class*="grid"] {
                    display: grid !important;
                  }
                  
                  /* Ensure tables are visible */
                  table {
                    display: table !important;
                    visibility: visible !important;
                  }
                  
                  tr {
                    display: table-row !important;
                  }
                  
                  td, th {
                    display: table-cell !important;
                  }
                }
                .print-header { 
                  border-bottom: 3px solid #000; 
                  padding-bottom: 15px; 
                  margin-bottom: 25px; 
                  display: flex;
                  align-items: center;
                  gap: 20px;
                }
                .print-logo {
                  width: 80px;
                  height: 80px;
                }
                .print-header-content {
                  flex: 1;
                }
                .print-header h1 {
                  font-size: 24px;
                  margin-bottom: 8px;
                }
                .print-section { 
                  margin-bottom: 20px; 
                  page-break-inside: auto; 
                  padding-bottom: 10px;
                  display: block;
                  visibility: visible;
                  opacity: 1;
                  width: 100%;
                }
                
                @media print {
                  .print-section { 
                    page-break-inside: auto;
                    break-inside: auto;
                    margin-bottom: 15px;
                    page-break-after: auto;
                    orphans: 3;
                    widows: 3;
                  }
                  
                  /* Ensure first section is visible */
                  .print-section:first-of-type {
                    margin-top: 0;
                    padding-top: 0;
                  }
                }
                .print-section-title { 
                  font-size: 16px; 
                  font-weight: bold; 
                  color: #1e293b; 
                  margin-bottom: 12px; 
                  border-bottom: 2px solid #e2e8f0; 
                  padding-bottom: 8px; 
                }
                .print-grid { 
                  display: grid; 
                  grid-template-columns: 1fr 1fr; 
                  gap: 12px 20px; 
                  margin-bottom: 15px;
                  width: 100%;
                }
                
                @media print {
                  .print-grid {
                    display: grid !important;
                    grid-template-columns: 1fr 1fr !important;
                    gap: 10px 15px !important;
                    margin-bottom: 12px !important;
                    width: 100% !important;
                    page-break-inside: auto;
                  }
                  
                  /* Ensure grid items are visible */
                  .print-grid > * {
                    display: block !important;
                    visibility: visible !important;
                    page-break-inside: avoid;
                    min-height: auto;
                  }
                }
                .print-label { 
                  font-weight: 600; 
                  color: #64748b; 
                  margin-bottom: 4px; 
                  font-size: 10px;
                  text-transform: uppercase;
                  letter-spacing: 0.5px;
                }
                .print-value { 
                  margin-bottom: 12px; 
                  color: #1e293b; 
                  font-size: 12px;
                }
                .print-full-width { 
                  grid-column: 1 / -1; 
                }
                table { 
                  width: 100%; 
                  border-collapse: collapse; 
                  margin-top: 15px; 
                  font-size: 10px; 
                }
                th, td { 
                  border: 1px solid #cbd5e1; 
                  padding: 10px; 
                  text-align: left; 
                }
                th { 
                  background-color: #f1f5f9; 
                  font-weight: bold; 
                  color: #475569;
                }
                .status-badge { 
                  display: inline-block; 
                  padding: 4px 10px; 
                  border-radius: 4px; 
                  font-size: 9px; 
                  font-weight: bold; 
                }
                .status-approved { 
                  background-color: #d1fae5 !important; 
                  color: #065f46 !important; 
                }
                .status-pending { 
                  background-color: #fef3c7 !important; 
                  color: #92400e !important; 
                }
                .status-rejected { 
                  background-color: #fee2e2 !important; 
                  color: #991b1b !important; 
                }
                .kyc-doc { 
                  margin: 5px 0; 
                  padding: 8px; 
                  background-color: #f8fafc; 
                  border-left: 3px solid #3b82f6; 
                }
                img {
                  max-width: 100%;
                  height: auto;
                  display: block;
                  page-break-inside: avoid;
                }
                /* KYC Documents Container */
                .kyc-documents-container {
                  display: flex !important;
                  flex-wrap: wrap !important;
                  gap: 15px !important;
                  align-items: flex-start !important;
                  justify-content: flex-start !important;
                  width: 100% !important;
                }
                
                /* KYC Document Cards */
                .kyc-doc {
                  flex: 0 0 auto !important;
                  width: 200px !important;
                  min-width: 180px !important;
                  max-width: 220px !important;
                  display: flex !important;
                  flex-direction: column !important;
                  margin: 0 !important;
                  vertical-align: top !important;
                  text-align: center !important;
                }
                
                .kyc-doc div[class*="aspect"] {
                  width: 100% !important;
                  max-height: 150px !important;
                  overflow: hidden !important;
                }
                
                .kyc-doc img {
                  max-width: 100% !important;
                  max-height: 150px !important;
                  width: 100% !important;
                  height: auto !important;
                  object-fit: contain !important;
                  border: 1px solid #cbd5e1 !important;
                  padding: 5px !important;
                  background: white !important;
                  display: block !important;
                  margin: 0 auto !important;
                }
                
                /* Ensure KYC document cards maintain structure */
                .kyc-doc > div {
                  width: 100% !important;
                }
                
                /* Grid Images */
                .grid img,
                div[class*="grid"] img {
                  max-width: 100% !important;
                  max-height: 150px !important;
                  width: auto !important;
                  height: auto !important;
                  object-fit: contain !important;
                  display: block !important;
                  margin: 5px auto !important;
                }
                
                /* Aspect Ratio Images */
                div[class*="aspect"] {
                  max-height: 150px !important;
                  overflow: visible !important;
                  margin: 5px 0 !important;
                }
                
                div[class*="aspect"] img {
                  max-width: 100% !important;
                  max-height: 150px !important;
                  width: auto !important;
                  height: auto !important;
                  object-fit: contain !important;
                  display: block !important;
                  margin: 0 auto !important;
                }
                
                /* Signature Images */
                .signature-image,
                img.signature-image {
                  max-width: 250px !important;
                  max-height: 100px !important;
                  border: 1px solid #cbd5e1 !important;
                  padding: 10px !important;
                  background: white !important;
                  object-fit: contain !important;
                  width: auto !important;
                  height: auto !important;
                  display: block !important;
                  margin: 0 auto !important;
                }
                
                /* Profile Images */
                img[alt="Profile"],
                .profile-image {
                  max-width: 120px !important;
                  max-height: 120px !important;
                  width: 120px !important;
                  height: 120px !important;
                  border-radius: 50% !important;
                  object-fit: cover !important;
                  border: 4px solid #e2e8f0 !important;
                  display: block !important;
                  margin: 0 auto !important;
                }
                
                /* Image Container Alignment */
                @media print {
                  /* Profile image container - use class-based selectors */
                  div[class*="flex"] {
                    display: flex !important;
                    align-items: center !important;
                    gap: 15px !important;
                  }
                  
                  /* KYC Documents Container - Print */
                  .kyc-documents-container {
                    display: flex !important;
                    flex-wrap: wrap !important;
                    gap: 15px !important;
                    align-items: flex-start !important;
                    justify-content: flex-start !important;
                    width: 100% !important;
                    page-break-inside: auto !important;
                  }
                  
                  /* KYC Document Cards - Print */
                  .kyc-doc {
                    flex: 0 0 auto !important;
                    width: 200px !important;
                    min-width: 180px !important;
                    max-width: 220px !important;
                    display: flex !important;
                    flex-direction: column !important;
                    margin: 0 !important;
                    vertical-align: top !important;
                    text-align: center !important;
                    page-break-inside: avoid !important;
                    page-break-after: auto !important;
                  }
                  
                  .kyc-doc img {
                    max-width: 100% !important;
                    max-height: 150px !important;
                    width: 100% !important;
                    height: auto !important;
                    object-fit: contain !important;
                    page-break-inside: avoid !important;
                  }
                  
                  /* Grid containers */
                  .grid,
                  div[class*="grid"] {
                    display: grid !important;
                    gap: 15px !important;
                    align-items: start !important;
                    margin: 10px 0 !important;
                  }
                  
                  /* Grid with images - responsive columns */
                  .grid img,
                  div[class*="grid"] img {
                    max-width: 180px !important;
                  }
                  
                  /* Ensure images don't break across pages */
                  img {
                    page-break-inside: avoid !important;
                    page-break-after: auto !important;
                    display: block !important;
                  }
                  
                  /* Document sections with images */
                  .print-section {
                    page-break-inside: auto !important;
                  }
                  
                  /* Better spacing for sections with images */
                  .print-section .kyc-doc,
                  .print-section img {
                    margin-bottom: 10px !important;
                  }
                }
                .terms-full-text {
                  margin-top: 20px;
                  padding: 15px;
                  background: #f8fafc;
                  border: 1px solid #e2e8f0;
                  border-radius: 8px;
                  font-size: 11px;
                  line-height: 1.6;
                  color: #334155;
                }
                .terms-full-text h4 {
                  font-size: 12px;
                  font-weight: bold;
                  margin-top: 12px;
                  margin-bottom: 6px;
                  color: #1e293b;
                }
                .terms-full-text ol,
                .terms-full-text ul {
                  margin-left: 20px;
                  margin-top: 8px;
                  margin-bottom: 8px;
                }
                .terms-full-text li {
                  margin-bottom: 4px;
                }
                .terms-full-text .penalty-table {
                  background: #fff7ed;
                  border: 1px solid #fed7aa;
                  padding: 10px;
                  border-radius: 6px;
                  margin-top: 10px;
                  width: 100%;
                }
                .penalty-box {
                  background: #fff7f0;
                  border: 1px solid #ffd8b5;
                  padding: 10px;
                  border-radius: 6px;
                  margin-top: 10px;
                }
              }
            </style>
          </head>
          <body>
            <!-- Print Header (appears on every page) -->
            <div class="print-page-header">
              <div class="print-page-header-left">
                <div class="print-page-header-logo">
                  <svg width="60" height="60" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z" stroke="#214A73" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <path d="M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z" stroke="#214A73" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <path d="M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z" stroke="#214A73" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <path d="M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z" stroke="#214A73" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <circle cx="24" cy="24" r="4" fill="#214A73"/>
      </svg>
                </div>
                <div class="print-page-header-text">
                  <h1>NEXO</h1>
                  <p>Partner Details Document</p>
                </div>
              </div>
              <div class="print-page-header-right">
                <div class="date">${new Date().toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})}</div>
                <div>Partner ID: ${(e==null?void 0:e.toString().slice(-8))||"N/A"}</div>
              </div>
            </div>
            
            <!-- Print Footer (appears on every page) -->
            <div class="print-page-footer">
              <div class="print-page-footer-left">
                ${Us?`
                  <div class="print-page-footer-signature">
                    <img src="${Us}" alt="Partner Signature" onerror="this.style.display='none'" />
                    <div class="print-page-footer-signature-text">
                      <div><strong>Partner Signature</strong></div>
                      <div>${(Ke==null?void 0:Ke.name)||"Partner"}</div>
                    </div>
                  </div>
                `:`
                  <div class="print-page-footer-signature-text">
                    <div><strong>NEXO Partner Platform</strong></div>
                    <div>Official Document</div>
                  </div>
                `}
              </div>
              <div class="print-page-footer-right">
                <div class="page-info">Page </div>
                <div>www.nexo.works</div>
              </div>
            </div>
            
            <!-- Main Content -->
            <div class="print-content-wrapper">
              ${N.current.innerHTML}
            </div>
          </body>
        </html>
      `),tr.document.close(),tr.focus(),setTimeout(()=>{const Ca=tr.document.querySelectorAll("img");let Fn=0;const pi=Ca.length;if(pi===0){tr.print(),setTimeout(()=>tr.close(),100);return}Ca.forEach(Vm=>{if(Vm.src.startsWith("data:")){Fn++,Fn===pi&&(tr.print(),setTimeout(()=>tr.close(),100));return}const po=new Image;po.crossOrigin="anonymous",po.onload=()=>{try{const Gd=document.createElement("canvas");Gd.width=po.width,Gd.height=po.height,Gd.getContext("2d").drawImage(po,0,0),Vm.src=Gd.toDataURL("image/png"),Fn++,Fn===pi&&(tr.print(),setTimeout(()=>tr.close(),100))}catch(Gd){console.warn("Failed to convert image:",Gd),Fn++,Fn===pi&&(tr.print(),setTimeout(()=>tr.close(),100))}},po.onerror=()=>{Fn++,Fn===pi&&(tr.print(),setTimeout(()=>tr.close(),100))},Vm.src.startsWith("/")?po.src=window.location.origin+Vm.src:po.src=Vm.src})},500)}},Bx=(xt==null?void 0:xt.transactions)||(xt==null?void 0:xt.bookings)||((N6=xt==null?void 0:xt.data)==null?void 0:N6.transactions)||[],u6=(xt==null?void 0:xt.totalEarnings)||((S6=xt==null?void 0:xt.data)==null?void 0:S6.totalEarnings)||0,ka=(ct==null?void 0:ct.data)||ct||{},qd=(ka==null?void 0:ka.balance)||0,m6=(ka==null?void 0:ka.transactions)||((k6=ka==null?void 0:ka.data)==null?void 0:k6.transactions)||[],$x=(se==null?void 0:se.data)||[],h6=(se==null?void 0:se.assignedHubs)||[],pv=h6.length>0?h6:$x.filter(te=>te.isAssigned),zx=(ka==null?void 0:ka.minWalletBalance)??Tt.minWalletBalance??0,x6=(ka==null?void 0:ka.leadFee)??Tt.leadFee??0,Qz=qd<zx?`Wallet below minimum threshold (${zx}). Recharge to resume lead notifications.`:`Wallet healthy. Minimum required: ${zx}`,fv=Tt.leadsGuaranteed??0,gv=Tt.leadsUsed??0,Zz=Tt.leadsRemaining??Math.max(fv-gv,0),eU=Tt.refundStatus||"pending";Bx.map(te=>{var $e,Ct;return{bookingId:(($e=te.bookingId)==null?void 0:$e.toString().slice(-8))||"N/A",customerName:((Ct=te.user)==null?void 0:Ct.name)||"N/A",serviceName:te.subService||te.service||"N/A",totalAmount:`${(te.totalAmount||0).toLocaleString("en-IN")}`,commissionAmount:`${(te.commissionAmount||0).toLocaleString("en-IN")}`,partnerEarnings:`${(te.partnerEarnings||0).toLocaleString("en-IN")}`,completedAt:te.completedAt?new Date(te.completedAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A"}});const tU=m6.map((te,$e)=>({id:te._id||te.id||`txn-${$e}`,date:te.createdAt?new Date(te.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):new Date().toLocaleDateString("en-IN"),type:t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${te.type==="credit"?"bg-emerald-500/10 text-emerald-600":"bg-rose-500/10 text-rose-600"}`,children:te.type==="credit"?"Credit":"Debit"}),amount:`${(te.amount||0).toLocaleString("en-IN")}`,description:te.description||"N/A",balance:`${(te.balance||0).toLocaleString("en-IN")}`,reference:te.reference||"N/A"}));return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>r("/admin/partners"),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(ox,{className:"w-5 h-5 text-slate-600"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:(Ke==null?void 0:Ke.name)||"Partner Details"}),t.jsxs("p",{className:"text-sm text-slate-500",children:["Partner ID: ",(e==null?void 0:e.toString().slice(-8))||"N/A"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[t.jsxs("div",{className:"relative group",children:[t.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition font-semibold",children:[t.jsx(Yt,{className:"w-5 h-5"}),"Wallet",t.jsx("span",{className:"text-xs ml-1",children:""})]}),t.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-slate-200 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50",children:t.jsxs("div",{className:"p-2",children:[t.jsxs("div",{className:"px-3 py-2 mb-2 bg-slate-50 rounded",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Current Balance"}),t.jsxs("p",{className:"text-lg font-bold text-slate-900",children:["",qd.toLocaleString("en-IN")]})]}),t.jsxs("button",{onClick:()=>{l("credit"),n(!0)},className:"w-full text-left px-4 py-2.5 hover:bg-slate-50 flex items-center gap-2 text-sm rounded transition",children:[t.jsx(ar,{className:"w-4 h-4 text-emerald-600"}),t.jsx("span",{children:"Add Funds"})]}),t.jsxs("button",{onClick:()=>{l("debit"),n(!0)},className:"w-full text-left px-4 py-2.5 hover:bg-slate-50 flex items-center gap-2 text-sm rounded transition",children:[t.jsx(v0,{className:"w-4 h-4 text-rose-600"}),t.jsx("span",{children:"Deduct Funds"})]}),t.jsx("div",{className:"border-t border-slate-200 my-1"}),t.jsxs("button",{onClick:()=>Te(!0),className:"w-full text-left px-4 py-2.5 hover:bg-slate-50 flex items-center gap-2 text-sm rounded transition",children:[t.jsx(Sn,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{children:"View Wallet Transactions"})]}),t.jsxs("button",{onClick:()=>rt(!0),className:"w-full text-left px-4 py-2.5 hover:bg-slate-50 flex items-center gap-2 text-sm rounded transition",children:[t.jsx(fs,{className:"w-4 h-4 text-purple-600"}),t.jsx("span",{children:"View Fee Transactions"})]})]})})]}),Re&&t.jsxs("div",{className:"flex items-center gap-2",children:[Re.status!=="approved"&&t.jsxs("button",{onClick:async()=>{if(window.confirm("Approve KYC for this partner?"))try{await qe.updatePartnerProfile(s,e,{kycStatus:"approved",kycRemarks:"Approved by admin"}),window.location.reload()}catch(te){alert(te.message||"Failed to approve KYC")}},className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition font-semibold",children:[t.jsx(vt,{className:"w-5 h-5"}),"Approve KYC"]}),Re.status!=="rejected"&&t.jsxs("button",{onClick:async()=>{const te=prompt("Enter rejection reason:");if(te)try{await qe.updatePartnerProfile(s,e,{kycStatus:"rejected",kycRemarks:te}),window.location.reload()}catch($e){alert($e.message||"Failed to reject KYC")}},className:"flex items-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition font-semibold",children:[t.jsx(wn,{className:"w-5 h-5"}),"Reject KYC"]})]}),t.jsxs("button",{onClick:()=>Z(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold",children:[t.jsx(Ko,{className:"w-5 h-5"}),"Update KYC"]}),t.jsxs("button",{onClick:()=>ie(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-semibold",children:[t.jsx(Qf,{className:"w-5 h-5"}),"Profile Image"]}),t.jsxs("button",{onClick:()=>{var te,$e,Ct,ht,Lt,rr,Bt,Pr,tr;C({name:(Ke==null?void 0:Ke.name)||"",email:(Ke==null?void 0:Ke.email)||"",phone:(K==null?void 0:K.phone)||"",whatsappNumber:(K==null?void 0:K.whatsappNumber)||"",qualification:(K==null?void 0:K.qualification)||"",experience:((te=K==null?void 0:K.experience)==null?void 0:te.toString())||"",partnerType:(K==null?void 0:K.partnerType)||"individual",address:(Ke==null?void 0:Ke.address)||"",landmark:(Ke==null?void 0:Ke.landmark)||"",pincode:(Ke==null?void 0:Ke.pincode)||"",city:(Ke==null?void 0:Ke.city)||"",gstNumber:(Ke==null?void 0:Ke.gstNumber)||(K==null?void 0:K.gstNumber)||"",referralCode:(K==null?void 0:K.referralCode)||"",categories:ca.map(Us=>Us._id||Us.id||Us).filter(Boolean),categoryNames:da,accountHolderName:(it==null?void 0:it.accountHolderName)||"",accountNumber:(it==null?void 0:it.accountNumber)||"",ifscCode:(it==null?void 0:it.ifscCode)||"",bankName:(it==null?void 0:it.bankName)||"",kycStatus:(Re==null?void 0:Re.status)||"",kycRemarks:(Re==null?void 0:Re.remarks)||"",registerAmount:((Ct=($e=K==null?void 0:K.profile)==null?void 0:$e.registerAmount)==null?void 0:Ct.toString())||"",payId:((ht=K==null?void 0:K.profile)==null?void 0:ht.payId)||"",paidBy:((Lt=K==null?void 0:K.profile)==null?void 0:Lt.paidBy)||"",securityDeposit:((Bt=(rr=K==null?void 0:K.profile)==null?void 0:rr.securityDeposit)==null?void 0:Bt.toString())||"",toolkitPrice:((tr=(Pr=K==null?void 0:K.profile)==null?void 0:Pr.toolkitPrice)==null?void 0:tr.toString())||"",profileCompleted:(K==null?void 0:K.profileCompleted)||!1}),k(!0),Q(""),L("")},className:"flex items-center gap-2 px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition font-semibold",children:[t.jsx(gs,{className:"w-5 h-5"}),"Update Details"]}),t.jsxs("button",{onClick:Jz,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold",children:[t.jsx(km,{className:"w-5 h-5"}),"Print"]}),t.jsxs("button",{onClick:()=>ye(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-semibold",children:[t.jsx(bn,{className:"w-5 h-5"}),"ID Card"]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6 mb-8",ref:N,children:[t.jsxs("div",{className:"print-header hidden print:block mb-6",children:[t.jsx("div",{className:"print-logo",children:t.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z",stroke:"#214A73",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),t.jsx("path",{d:"M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z",stroke:"#214A73",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),t.jsx("path",{d:"M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z",stroke:"#214A73",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),t.jsx("path",{d:"M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z",stroke:"#214A73",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),t.jsx("circle",{cx:"24",cy:"24",r:"4",fill:"#214A73"})]})}),t.jsxs("div",{className:"print-header-content",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Nexo - Partner Full Details Report"}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Generated on ",new Date().toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Partner ID: ",e]})]})]}),(st||$t)&&!(Qe!=null&&Qe._id)?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading partner details..."})]}):yt?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg text-sm",children:["Error loading partner details: ",yt]}):t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"print-section",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(Or,{className:"w-5 h-5"}),"Basic Information"]}),((Ke==null?void 0:Ke.profileImage)||(K==null?void 0:K.profilePicture))&&t.jsxs("div",{className:"mb-6 flex items-center gap-4 pb-6 border-b border-slate-200",children:[t.jsx("div",{className:"relative",children:t.jsx("img",{src:(C6=(Ke==null?void 0:Ke.profileImage)||(K==null?void 0:K.profilePicture))!=null&&C6.startsWith("http")?(Ke==null?void 0:Ke.profileImage)||(K==null?void 0:K.profilePicture):`/uploads/profiles/${(Ke==null?void 0:Ke.profileImage)||(K==null?void 0:K.profilePicture)}`,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-slate-200 profile-image",onError:te=>{te.target.src="https://via.placeholder.com/150?text=No+Image"}})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Profile Picture"}),t.jsx("a",{href:(P6=(Ke==null?void 0:Ke.profileImage)||(K==null?void 0:K.profilePicture))!=null&&P6.startsWith("http")?(Ke==null?void 0:Ke.profileImage)||(K==null?void 0:K.profilePicture):`/uploads/profiles/${(Ke==null?void 0:Ke.profileImage)||(K==null?void 0:K.profilePicture)}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline",children:"View Full Size"})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-x-8 gap-y-4 print-grid",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Full Name"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(Ke==null?void 0:Ke.name)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Email"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(Ke==null?void 0:Ke.email)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Phone Number"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(K==null?void 0:K.phone)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"WhatsApp Number"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(K==null?void 0:K.whatsappNumber)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Qualification"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(K==null?void 0:K.qualification)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Experience (Years)"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(K==null?void 0:K.experience)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Referral Code"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(K==null?void 0:K.referralCode)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"GST Number"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(Ke==null?void 0:Ke.gstNumber)||(K==null?void 0:K.gstNumber)||"Not Provided"})]}),t.jsxs("div",{className:"md:col-span-2 space-y-1 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Address"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(Ke==null?void 0:Ke.address)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Landmark"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(Ke==null?void 0:Ke.landmark)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Pincode"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(Ke==null?void 0:Ke.pincode)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"City"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(Ke==null?void 0:Ke.city)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Profile Status"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${K!=null&&K.profileCompleted?"bg-emerald-500/10 text-emerald-600 status-badge status-approved":"bg-amber-500/10 text-amber-600 status-badge status-pending"}`,children:K!=null&&K.profileCompleted?"COMPLETED":"INCOMPLETE"}),t.jsx("button",{onClick:async()=>{const te=!(K!=null&&K.profileCompleted),$e=te?"Mark this profile as COMPLETED?":"Mark this profile as INCOMPLETE?";if(window.confirm($e))try{xe(!0),await qe.updatePartnerProfile(s,e,{profileCompleted:te}),alert("Profile status updated successfully!"),window.location.reload()}catch(Ct){alert("Failed to update profile status: "+Ct.message)}finally{xe(!1)}},className:"print:hidden p-1.5 text-slate-600 hover:text-primary hover:bg-slate-100 rounded-lg transition",title:"Toggle Profile Status",children:t.jsx(gs,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Partner Type"}),t.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${(K==null?void 0:K.partnerType)==="franchise"?"bg-purple-500/10 text-purple-600 status-badge":"bg-blue-500/10 text-blue-600 status-badge"}`,children:(K==null?void 0:K.partnerType)==="franchise"?"FRANCHISE":"INDIVIDUAL"})]})]})]}),t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(Jr,{className:"w-5 h-5"}),"Service Information"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:da.length>0?da.map((te,$e)=>t.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-semibold",children:te},$e)):t.jsx("span",{className:"text-slate-500",children:"No categories selected"})})]}),Rx.length>0&&t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Sub-Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Rx.map((te,$e)=>t.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:(te==null?void 0:te.name)||"N/A"},$e))})]}),Fx.length>0&&t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Services"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Fx.map((te,$e)=>t.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:(te==null?void 0:te.name)||"N/A"},$e))})]}),(K==null?void 0:K.modeOfService)&&t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Mode of Service"}),t.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-semibold capitalize",children:K.modeOfService==="online"?"Online":K.modeOfService==="offline"?"Offline":K.modeOfService})]})]})]}),t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(Gt,{className:"w-5 h-5"}),"KYC Documents & Status"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"KYC Status"}),t.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${(Re==null?void 0:Re.status)==="approved"||(K==null?void 0:K.status)==="approved"?"bg-emerald-500/10 text-emerald-600 status-badge status-approved":(Re==null?void 0:Re.status)==="rejected"||(K==null?void 0:K.status)==="rejected"?"bg-rose-500/10 text-rose-600 status-badge status-rejected":"bg-amber-500/10 text-amber-600 status-badge status-pending"}`,children:((Re==null?void 0:Re.status)||(K==null?void 0:K.status)||"pending").toUpperCase()})]}),(Re==null?void 0:Re.remarks)&&t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"KYC Remarks"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:Re.remarks})]}),t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-4 print-label",children:"KYC Documents"}),t.jsxs("div",{className:"flex flex-wrap gap-4 kyc-documents-container",children:[(Re==null?void 0:Re.panCard)&&t.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[t.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[t.jsx("img",{src:Re.panCard.startsWith("http")?Re.panCard:`/uploads/kyc/${Re.panCard}`,alt:"PAN Card",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:te=>{te.target.style.display="none",te.target.nextSibling&&(te.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:t.jsx(Gt,{className:"w-12 h-12 text-slate-400"})})]}),t.jsxs("div",{className:"p-3 bg-white",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"PAN Card"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Identity Document"})]}),t.jsx("a",{href:Re.panCard.startsWith("http")?Re.panCard:`/uploads/kyc/${Re.panCard}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),(Re==null?void 0:Re.aadhaar)&&t.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[t.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[t.jsx("img",{src:Re.aadhaar.startsWith("http")?Re.aadhaar:`/uploads/kyc/${Re.aadhaar}`,alt:"Aadhaar Front",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:te=>{te.target.style.display="none",te.target.nextSibling&&(te.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:t.jsx(Gt,{className:"w-12 h-12 text-slate-400"})})]}),t.jsxs("div",{className:"p-3 bg-white",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Aadhaar (Front)"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Identity Document"})]}),t.jsx("a",{href:Re.aadhaar.startsWith("http")?Re.aadhaar:`/uploads/kyc/${Re.aadhaar}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),(Re==null?void 0:Re.aadhaarback)&&t.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[t.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[t.jsx("img",{src:Re.aadhaarback.startsWith("http")?Re.aadhaarback:`/uploads/kyc/${Re.aadhaarback}`,alt:"Aadhaar Back",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:te=>{te.target.style.display="none",te.target.nextSibling&&(te.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:t.jsx(Gt,{className:"w-12 h-12 text-slate-400"})})]}),t.jsxs("div",{className:"p-3 bg-white",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Aadhaar (Back)"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Identity Document"})]}),t.jsx("a",{href:Re.aadhaarback.startsWith("http")?Re.aadhaarback:`/uploads/kyc/${Re.aadhaarback}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),(Re==null?void 0:Re.drivingLicence)&&t.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[t.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[t.jsx("img",{src:Re.drivingLicence.startsWith("http")?Re.drivingLicence:`/uploads/kyc/${Re.drivingLicence}`,alt:"Driving Licence",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:te=>{te.target.style.display="none",te.target.nextSibling&&(te.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:t.jsx(Gt,{className:"w-12 h-12 text-slate-400"})})]}),t.jsxs("div",{className:"p-3 bg-white",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Driving Licence"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Identity Document"})]}),t.jsx("a",{href:Re.drivingLicence.startsWith("http")?Re.drivingLicence:`/uploads/kyc/${Re.drivingLicence}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),(Re==null?void 0:Re.bill)&&t.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[t.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[t.jsx("img",{src:Re.bill.startsWith("http")?Re.bill:`/uploads/kyc/${Re.bill}`,alt:"Utility Bill",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:te=>{te.target.style.display="none",te.target.nextSibling&&(te.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:t.jsx(Gt,{className:"w-12 h-12 text-slate-400"})})]}),t.jsxs("div",{className:"p-3 bg-white",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Utility Bill"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Address Proof"})]}),t.jsx("a",{href:Re.bill.startsWith("http")?Re.bill:`/uploads/kyc/${Re.bill}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),((Re==null?void 0:Re.chequeImage)||(it==null?void 0:it.chequeImage))&&t.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[t.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[t.jsx("img",{src:(A6=(Re==null?void 0:Re.chequeImage)||(it==null?void 0:it.chequeImage))!=null&&A6.startsWith("http")||(T6=(Re==null?void 0:Re.chequeImage)||(it==null?void 0:it.chequeImage))!=null&&T6.includes("s3.amazonaws.com")?(Re==null?void 0:Re.chequeImage)||(it==null?void 0:it.chequeImage):`/uploads/kyc/${(Re==null?void 0:Re.chequeImage)||(it==null?void 0:it.chequeImage)}`,alt:"Cancelled Cheque",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:te=>{te.target.style.display="none",te.target.nextSibling&&(te.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:t.jsx(Gt,{className:"w-12 h-12 text-slate-400"})})]}),t.jsxs("div",{className:"p-3 bg-white",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Cancelled Cheque"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Bank Proof"})]}),t.jsx("a",{href:(E6=(Re==null?void 0:Re.chequeImage)||(it==null?void 0:it.chequeImage))!=null&&E6.startsWith("http")||(I6=(Re==null?void 0:Re.chequeImage)||(it==null?void 0:it.chequeImage))!=null&&I6.includes("s3.amazonaws.com")?(Re==null?void 0:Re.chequeImage)||(it==null?void 0:it.chequeImage):`/uploads/kyc/${(Re==null?void 0:Re.chequeImage)||(it==null?void 0:it.chequeImage)}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]})]})]})]})]}),t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(fs,{className:"w-5 h-5"}),"Payment Information"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Registration Amount"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(((O6=K==null?void 0:K.profile)==null?void 0:O6.registerAmount)||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Payment ID"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-mono",children:((_6=K==null?void 0:K.profile)==null?void 0:_6.payId)||"Not Provided"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Security Deposit"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(((M6=K==null?void 0:K.profile)==null?void 0:M6.securityDeposit)||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Toolkit Price"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(((D6=K==null?void 0:K.profile)==null?void 0:D6.toolkitPrice)||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Paid By"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:((L6=K==null?void 0:K.profile)==null?void 0:L6.paidBy)||"Not Specified"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Payment Status"}),(F6=K==null?void 0:K.profile)!=null&&F6.paymentApproved?t.jsx("p",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold print-value bg-emerald-500/10 text-emerald-600",children:"Paid"}):t.jsxs("button",{onClick:X,disabled:we,className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-amber-500/10 text-amber-600 hover:bg-amber-500/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[we?t.jsx(hp,{className:"w-3 h-3 animate-spin mr-1"}):null,we?"Verifying...":"Verify Payment"]})]})]})]}),((K==null?void 0:K.terms)||(bt==null?void 0:bt.signature)||(bt==null?void 0:bt.accepted))&&t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(Gt,{className:"w-5 h-5"}),"Terms & Conditions Acceptance"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Terms Accepted"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:bt.accepted||(R6=K==null?void 0:K.terms)!=null&&R6.accepted?t.jsxs("span",{className:"inline-flex items-center gap-2 text-emerald-600 font-semibold",children:[t.jsx(vt,{className:"w-5 h-5"}),"Accepted"]}):t.jsx("span",{className:"text-slate-400",children:"Not Accepted"})})]}),(bt.acceptedAt||((B6=K==null?void 0:K.terms)==null?void 0:B6.acceptedAt))&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Accepted On"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:new Date(bt.acceptedAt||(($6=K==null?void 0:K.terms)==null?void 0:$6.acceptedAt)).toLocaleString("en-IN")})]}),(bt.signature||((z6=K==null?void 0:K.terms)==null?void 0:z6.signature))&&t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Digital Signature"}),t.jsx("img",{src:(H6=bt.signature||((U6=K==null?void 0:K.terms)==null?void 0:U6.signature))!=null&&H6.startsWith("data:")?bt.signature||((V6=K==null?void 0:K.terms)==null?void 0:V6.signature):(q6=bt.signature||((W6=K==null?void 0:K.terms)==null?void 0:W6.signature))!=null&&q6.startsWith("http")?bt.signature||((G6=K==null?void 0:K.terms)==null?void 0:G6.signature):`/uploads/signatures/${bt.signature||((K6=K==null?void 0:K.terms)==null?void 0:K6.signature)}`,alt:"Partner Signature",className:"signature-image",style:{maxWidth:"250px",maxHeight:"100px",objectFit:"contain"},onError:te=>{te.target.style.display="none"}})]}),t.jsx("div",{className:"md:col-span-2 print-full-width",children:t.jsxs("div",{className:"terms-full-text",children:[t.jsx("h4",{children:"AGREEMENT"}),t.jsx("p",{children:'This Partner Service Agreement ("Agreement") is between NEXO ("Company") and the registered service provider ("Partner"). It governs onboarding, obligations, fees, penalties, liabilities and termination.'}),t.jsx("h4",{children:"Key Points:"}),t.jsxs("ol",{children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Onboarding:"})," Partner shall provide valid KYC (Aadhaar, PAN, Address proof, Photo). Police verification required within 30 days."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Fees:"})," Registration fee, Toolkit fee, MG Plan, Security deposit (terms set by Platform)."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Obligations:"})," Partner shall perform services with due skill, follow SOP, not solicit off-platform, not collect customer data off platform."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Payments:"})," All payments routed through Platform; Partner is independent contractor."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Safety:"})," No intoxication, no harassment; female-customer safety prioritized."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Penalties:"})," Attempt to take customer offline  5,000 + termination; Last-minute cancellations, no-shows, delays and verified complaints trigger specified monetary penalties and suspension/termination for repeated violations."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Liability:"})," Partner responsible for damages caused by negligence; Company not responsible for Partner's personal injury or tools."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Confidentiality:"})," Partner must keep customer and Company data confidential."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Governing Law:"})," Indian law; exclusive jurisdiction of Bengaluru Courts."]})]}),t.jsxs("div",{className:"penalty-table",children:[t.jsx("h4",{children:"Representative Penalty Table:"}),t.jsxs("ul",{children:[t.jsxs("li",{children:["Offline / direct contact with customer: ",t.jsx("strong",{children:"5,000 + termination + wallet freeze"})]}),t.jsxs("li",{children:["Cancel within 2 hours: ",t.jsx("strong",{children:"199"})," | Cancel after reaching site: ",t.jsx("strong",{children:"299"})]}),t.jsxs("li",{children:["No-show after accept: ",t.jsx("strong",{children:"299"})," | Delay > 30 mins: ",t.jsx("strong",{children:"99"})]}),t.jsxs("li",{children:["Verified complaint: ",t.jsx("strong",{children:"199999"})," depending on severity"]})]})]}),t.jsx("p",{style:{marginTop:"12px",fontSize:"10px",color:"#64748b"},children:"Full and binding terms are published on the Platform. By signing and accepting above you confirm you read and agree to all terms and penalties."})]})})]})]}),t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(fs,{className:"w-5 h-5"}),"Bank Details"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Account Holder Name"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:(it==null?void 0:it.accountHolderName)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Account Number"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:(it==null?void 0:it.accountNumber)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"IFSC Code"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:(it==null?void 0:it.ifscCode)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Bank Name"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:(it==null?void 0:it.bankName)||"N/A"})]}),((it==null?void 0:it.chequeImage)||(Re==null?void 0:Re.chequeImage))&&t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Cancelled Cheque"}),t.jsxs("div",{className:"bg-slate-50 rounded-lg border border-slate-200 overflow-hidden",children:[t.jsx("img",{src:(Y6=(it==null?void 0:it.chequeImage)||(Re==null?void 0:Re.chequeImage))!=null&&Y6.startsWith("http")||(X6=(it==null?void 0:it.chequeImage)||(Re==null?void 0:Re.chequeImage))!=null&&X6.includes("s3.amazonaws.com")?(it==null?void 0:it.chequeImage)||(Re==null?void 0:Re.chequeImage):`/uploads/kyc/${(it==null?void 0:it.chequeImage)||(Re==null?void 0:Re.chequeImage)}`,alt:"Cancelled Cheque",className:"w-full h-auto max-h-64 object-contain",onError:te=>{te.target.style.display="none",te.target.nextSibling&&(te.target.nextSibling.style.display="block")}}),t.jsxs("div",{className:"hidden p-4 text-center text-slate-500",children:[t.jsx(Gt,{className:"w-12 h-12 mx-auto mb-2"}),t.jsx("p",{className:"text-sm",children:"Image not available"})]}),t.jsx("a",{href:(J6=(it==null?void 0:it.chequeImage)||(Re==null?void 0:Re.chequeImage))!=null&&J6.startsWith("http")||(Q6=(it==null?void 0:it.chequeImage)||(Re==null?void 0:Re.chequeImage))!=null&&Q6.includes("s3.amazonaws.com")?(it==null?void 0:it.chequeImage)||(Re==null?void 0:Re.chequeImage):`/uploads/kyc/${(it==null?void 0:it.chequeImage)||(Re==null?void 0:Re.chequeImage)}`,target:"_blank",rel:"noopener noreferrer",className:"block text-xs text-primary hover:underline mt-2 text-center",children:"View Full Size"})]})]})]})]}),((Ut==null?void 0:Ut._id)||(Ut==null?void 0:Ut.name))&&t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(bn,{className:"w-5 h-5"}),"MG Plan Details"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Plan Name"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:(Ut==null?void 0:Ut.name)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Plan Price"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(Ut.price||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Guaranteed Leads"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:[Ut.leads||0," leads/month"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Commission Rate"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:[Ut.commission||0,"%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Lead Fee"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(Ut.leadFee||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Minimum Wallet Balance"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(Ut.minWalletBalance||0).toLocaleString("en-IN")]})]}),(K==null?void 0:K.mgPlanSubscribedAt)&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Subscribed On"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:new Date(K.mgPlanSubscribedAt).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]}),(K==null?void 0:K.mgPlanExpiresAt)&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Expires On"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:new Date(K.mgPlanExpiresAt).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]})]})]}),t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(Yt,{className:"w-5 h-5"}),"Performance Summary"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Total Earnings"}),t.jsxs("p",{className:"text-2xl font-bold text-emerald-600 print-value",children:["",u6.toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Wallet Balance"}),t.jsxs("p",{className:"text-2xl font-bold text-primary print-value",children:["",qd.toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Completed Bookings"}),t.jsx("p",{className:"text-xl font-bold text-slate-900 print-value",children:Bx.length})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"MG Plan Leads Used"}),t.jsxs("p",{className:"text-xl font-bold text-slate-900 print-value",children:[gv," / ",fv]})]})]})]}),t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title",children:"PARTNER TERMS & CONDITIONS"}),t.jsxs("div",{className:"terms-full-text",children:[t.jsx("div",{className:"mb-4 pb-3 border-b border-gray-200",children:t.jsxs("div",{className:"text-xs text-gray-600 space-y-1 mb-3",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Effective Date:"})," 15th November 2025"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Last Updated:"})," 15th November 2025"]})]})}),t.jsxs("div",{className:"space-y-4 text-sm text-gray-700",children:[t.jsxs("div",{children:[t.jsx("h4",{children:"1. Introduction"}),t.jsx("p",{children:'These Partner Terms & Conditions ("Terms") constitute a binding agreement between NEXO ("Company", "Platform", "We", "Us") and the individual or business entity ("Partner", "Service Provider", "You") who registers to provide on-site or online services through the Platform.'}),t.jsx("p",{children:"By registering or accepting any service request, the Partner expressly agrees to these Terms."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"2. Independent Contractor Status"}),t.jsxs("ul",{children:[t.jsx("li",{children:"The Partner is an independent contractor, not an employee, representative, or agent of NEXO."}),t.jsx("li",{children:"No employment benefits (PF, ESI, gratuity, insurance, paid leave, salary) shall be applicable."}),t.jsx("li",{children:"The Partner is solely responsible for compliance with GST, income tax, labour laws, and all statutory obligations."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"3. Mandatory Registration & Onboarding Requirements"}),t.jsx("p",{children:"The Partner shall complete mandatory onboarding, including but not limited to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Valid Government ID"}),t.jsx("li",{children:"Address proof"}),t.jsx("li",{children:"Skill verification/trade test (if applicable)"}),t.jsx("li",{children:"Police verification (whenever required)"}),t.jsx("li",{children:"Recent photograph"}),t.jsx("li",{children:"Bank account details"}),t.jsx("li",{children:"GST number (if applicable)"})]}),t.jsx("p",{children:t.jsx("strong",{children:"Payment of applicable onboarding fees:"})}),t.jsxs("ul",{children:[t.jsx("li",{children:"Registration Fee"}),t.jsx("li",{children:"Toolkit Fee (if provided)"}),t.jsx("li",{children:"Minimum Guarantee (MG) Plan"}),t.jsx("li",{children:"Security Deposit"})]}),t.jsx("p",{className:"text-xs",children:"All fees are non-refundable, except security deposit which is refundable as per Clause 20."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"4. Partner Obligations"}),t.jsx("p",{children:"Partner shall:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Maintain professional behaviour at all times."}),t.jsx("li",{children:"Deliver high-quality, safe, and lawful services."}),t.jsx("li",{children:"Carry valid Partner ID during every service."}),t.jsx("li",{children:"Reach customer location on time."}),t.jsx("li",{children:"Provide correct service estimates before starting work."}),t.jsx("li",{children:"Maintain hygiene, wear uniform/ID (if provided)."}),t.jsx("li",{children:"Not engage in misconduct, harassment, abuse, threats, or illegal activity."}),t.jsx("li",{children:"Maintain tools and ensure safe operation."}),t.jsx("li",{children:"Not demand cash payments directly from customers."}),t.jsx("li",{children:"Not solicit or accept off-platform work (strict penalty)."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"5. Pricing, Estimates & Billing"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Partner must follow NEXO pricing structure and guidelines."}),t.jsx("li",{children:"Any additional work must be pre-approved through the Platform."}),t.jsx("li",{children:"Partner shall not overcharge or misrepresent pricing."}),t.jsx("li",{children:"All payments shall be processed solely through NEXO."}),t.jsx("li",{children:"Partner is responsible for issuing bills/invoices where required by law."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"6. Platform Commission & Deductions"}),t.jsx("p",{children:"Partner agrees to the following deductions:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Platform Commission (%)"}),t.jsx("li",{children:"Lead Cost per lead"}),t.jsx("li",{children:"GST applicable on Platform Commission"}),t.jsx("li",{children:"Penalties & Fines"}),t.jsx("li",{children:"TDS (if applicable)"}),t.jsx("li",{children:"Outstanding dues from previous jobs"}),t.jsx("li",{children:"MG Plan adjustments"})]}),t.jsx("p",{className:"text-xs",children:"All deductions shall be final and binding."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"7. Mandatory Safety Requirements"}),t.jsx("p",{children:"Partner shall:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Follow safety protocols prescribed by NEXO."}),t.jsx("li",{children:"Use proper tools and protective equipment."}),t.jsx("li",{children:"Not perform services beyond skill level or without proper safety."}),t.jsx("li",{children:"Not endanger customer, property, or themselves."})]}),t.jsx("p",{children:"Failure may result in:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Immediate suspension"}),t.jsx("li",{children:"Penalty up to 5,000"}),t.jsx("li",{children:"Legal action for damages"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"8. Customer Safety & Code of Conduct"}),t.jsx("p",{children:"Partner must strictly adhere to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"No harassment (verbal, physical, emotional)"}),t.jsx("li",{children:"No misbehaviour, disrespect, abusive language"}),t.jsx("li",{children:"No consumption of alcohol/drugs on duty"}),t.jsx("li",{children:"No theft, damage, or misconduct"}),t.jsx("li",{children:"No photography or unauthorised recording at customer premises"}),t.jsx("li",{children:"No requesting personal favours or discounts"}),t.jsx("li",{children:"No entering restricted areas without consent"})]}),t.jsx("p",{children:"Any violation may lead to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Permanent termination"}),t.jsx("li",{children:"Police complaint"}),t.jsx("li",{children:"Forfeiture of dues and deposits"}),t.jsx("li",{children:"Penalties up to 25,000"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"9. Punctuality & Attendance"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Partner must accept bookings only if available."}),t.jsx("li",{children:"Must reach customer location on time."}),t.jsx("li",{children:"Any delay beyond 20 minutes must be informed."})]}),t.jsx("p",{children:"Repeated delays may lead to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"50200 penalty per incident"}),t.jsx("li",{children:"Reduced lead allocation"}),t.jsx("li",{children:"Temporary suspension"})]})]}),t.jsxs("div",{className:"penalty-box",children:[t.jsx("h4",{children:"10. No Offline Deals (Strictly Prohibited)"}),t.jsx("p",{children:"Partner shall not:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Ask customer to cancel platform booking"}),t.jsx("li",{children:"Offer lower pricing for offline work"}),t.jsx("li",{children:"Share personal phone number for future services"}),t.jsx("li",{children:"Accept cash or direct payments"})]}),t.jsx("p",{children:t.jsx("strong",{children:"Penalty:"})}),t.jsxs("ul",{children:[t.jsx("li",{children:"5,000 minimum"}),t.jsx("li",{children:"Permanent termination"}),t.jsx("li",{children:"Deduction from wallet and MG plan"}),t.jsx("li",{children:"Legal action for business loss"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"11. Service Quality & Returns"}),t.jsx("p",{children:"Partner must ensure:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"High-quality workmanship"}),t.jsx("li",{children:"Correct problem diagnosis"}),t.jsx("li",{children:"Use of original parts (if applicable)"}),t.jsx("li",{children:"Guarantee service quality as per NEXO policy"})]}),t.jsx("p",{children:"Poor work or customer complaints may attract:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Rework without charges"}),t.jsx("li",{children:"Penalty from 1001,000"}),t.jsx("li",{children:"Suspension on repeated offences"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"12. Damage, Theft, or Loss"}),t.jsx("p",{children:"Partner shall be fully liable for:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Damage to customer property"}),t.jsx("li",{children:"Theft or loss at customer premises"}),t.jsx("li",{children:"Fire, accident, or injury caused due to Partner negligence"}),t.jsx("li",{children:"Incorrect installation or unsafe practices"})]}),t.jsx("p",{children:"Recovery will be made through:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Partner wallet"}),t.jsx("li",{children:"Security deposit"}),t.jsx("li",{children:"MG payouts"}),t.jsx("li",{children:"Legal recovery"})]}),t.jsx("p",{className:"text-xs",children:"Police FIR may be filed for severe cases."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"13. Fraudulent Activities"}),t.jsx("p",{children:"Strictly prohibited:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Faking job completion"}),t.jsx("li",{children:"False OTP entry"}),t.jsx("li",{children:"Manipulating customer rating"}),t.jsx("li",{children:"Overcharging"}),t.jsx("li",{children:"Providing false documents"})]}),t.jsx("p",{children:"Penalty:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Up to 25,000"}),t.jsx("li",{children:"Permanent removal"}),t.jsx("li",{children:"Legal prosecution"})]})]}),t.jsxs("div",{className:"penalty-box",children:[t.jsx("h4",{children:"14. Penalty Structure"}),t.jsxs("table",{className:"penalty-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Violation"}),t.jsx("th",{children:"Penalty"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:"Late arrival"}),t.jsx("td",{children:"50200"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Job rejection after acceptance"}),t.jsx("td",{children:"100300"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Misbehaviour"}),t.jsx("td",{children:"1,0005,000"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Unsafe work"}),t.jsx("td",{children:"2,000"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Offline deal"}),t.jsx("td",{children:"5,000+ termination"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Theft/misconduct"}),t.jsx("td",{children:"Legal action + termination"})]})]})]}),t.jsx("p",{className:"text-xs mt-2",children:"NEXO reserves the right to modify penalties anytime."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"15. Partner Wallet & Settlement"}),t.jsx("p",{children:"Deductions will be applied in the following order:"}),t.jsxs("ol",{children:[t.jsx("li",{children:"Penalties"}),t.jsx("li",{children:"Platform Commission"}),t.jsx("li",{children:"Lead cost"}),t.jsx("li",{children:"MG plan adjustments"}),t.jsx("li",{children:"Pending dues"})]}),t.jsx("p",{children:"Settlement cycles will be weekly or as updated by NEXO."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"16. MG Plan (Minimum Guarantee)"}),t.jsxs("ul",{children:[t.jsx("li",{children:"MG plan is mandatory as per category."}),t.jsx("li",{children:"MG provides priority leads based on plan."}),t.jsx("li",{children:"MG fee is non-refundable."}),t.jsx("li",{children:"Partner failing to meet service quality/minimum performance may lose MG benefits without refund."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"17. Ratings & Reviews"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Partner must maintain minimum rating (e.g., 4.0)."}),t.jsx("li",{children:"Low ratings may result in reduced leads or suspension."}),t.jsx("li",{children:"False or manipulated ratings are punishable."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"18. Use of Platform & Technology"}),t.jsx("p",{children:"Partner shall:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Keep app updated"}),t.jsx("li",{children:"Not misuse customer data"}),t.jsx("li",{children:"Not reverse engineer, hack, or modify NEXO systems"}),t.jsx("li",{children:"Use genuine documents only"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"19. Termination"}),t.jsx("p",{children:"NEXO may terminate partner access without notice for:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Misconduct"}),t.jsx("li",{children:"Fraud"}),t.jsx("li",{children:"Unsafe behaviour"}),t.jsx("li",{children:"Low performance"}),t.jsx("li",{children:"Offline deals"}),t.jsx("li",{children:"Customer complaints"}),t.jsx("li",{children:"Violation of any Terms"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"20. Security Deposit Refund"}),t.jsx("p",{children:"Refund only upon:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"30-day notice period"}),t.jsx("li",{children:"Return of toolkit (if applicable)"}),t.jsx("li",{children:"No pending dues or penalties"}),t.jsx("li",{children:"No active customer complaints"})]}),t.jsx("p",{children:"Refund processing time: 2145 working days."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"21. Dispute Resolution"}),t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Jurisdiction:"})," Bangalore, Karnataka"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Governing Law:"})," Laws of India"]})]}),t.jsx("p",{children:t.jsx("strong",{children:"Method:"})}),t.jsxs("ul",{children:[t.jsx("li",{children:"Internal review"}),t.jsx("li",{children:"Mediation"}),t.jsx("li",{children:"Arbitration (if required)"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"22. Amendments"}),t.jsx("p",{children:"NEXO reserves the right to change Terms anytime. Continued use of the Platform constitutes acceptance."})]}),t.jsx("div",{className:"penalty-box",style:{background:"#eff6ff",borderColor:"#93c5fd"},children:t.jsxs("p",{className:"text-xs",children:[t.jsx("strong",{children:"By signing and accepting this Agreement, Partner confirms that:"})," (i) they have read, understood, and agree to be bound by all terms, conditions, and penalties outlined herein; (ii) they have had the opportunity to review the full terms published on the Platform; (iii) they understand that this Agreement is legally binding; and (iv) they agree to comply with all obligations and accept all penalties for violations."]})})]})]})]})]})]}),t.jsxs("div",{className:"grid gap-5 md:grid-cols-4 mb-8",children:[t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-500",children:"Total Earnings"}),t.jsx(Yt,{className:"w-5 h-5 text-emerald-500"})]}),t.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:["",u6.toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["From ",Bx.length," completed bookings"]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-500",children:"Wallet Balance"}),t.jsx(Yt,{className:"w-5 h-5 text-primary"})]}),t.jsxs("p",{className:"text-3xl font-bold text-primary",children:["",qd.toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[m6.length," transactions  Lead fee ",x6.toLocaleString("en-IN")]}),t.jsx("p",{className:`text-xs mt-2 ${qd<zx?"text-rose-500":"text-emerald-500"}`,children:Qz})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-500",children:"Total Bookings"}),t.jsx(Ps,{className:"w-5 h-5 text-blue-500"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:Bx.length}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Completed bookings"})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-500",children:"MG Plan Progress"}),t.jsx(bn,{className:"w-5 h-5 text-purple-500"})]}),t.jsx("p",{className:"text-lg font-bold text-purple-600 mb-1",children:(Ut==null?void 0:Ut.name)||"No Plan"}),t.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[Zz," / ",fv]}),t.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Leads remaining  Used ",gv]}),t.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Expires ",Tt.expiresAt?new Date(Tt.expiresAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):""]})]})]}),Tt.leadAcceptancePaused&&t.jsx("div",{className:"bg-amber-50 border border-amber-200 text-amber-700 px-4 py-3 rounded-2xl mb-8 text-sm",children:"Lead notifications are currently paused due to low wallet balance. Top up to resume assignments."}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mb-8",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500 mb-4",children:"Service Categories & MG Plan"}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Selected Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:da.length>0?da.map((te,$e)=>t.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-semibold",children:te},$e)):t.jsx("span",{className:"text-slate-500 text-sm",children:"No categories selected"})}),Rx.length>0&&t.jsxs("div",{className:"mt-3",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Sub-Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Rx.map((te,$e)=>t.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:(te==null?void 0:te.name)||"N/A"},$e))})]}),Fx.length>0&&t.jsxs("div",{className:"mt-3",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Services"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Fx.map((te,$e)=>t.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:(te==null?void 0:te.name)||"N/A"},$e))})]}),(K==null?void 0:K.modeOfService)&&t.jsxs("div",{className:"mt-3",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Mode of Service"}),t.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-semibold capitalize inline-block",children:K.modeOfService==="online"?"Online":K.modeOfService==="offline"?"Offline":K.modeOfService})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"MG Plan"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(bn,{className:"w-5 h-5 text-purple-600"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-lg font-bold text-purple-600",children:(Ut==null?void 0:Ut.name)||"No Plan Assigned"}),(Ut==null?void 0:Ut.name)&&t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[Ut.leads||0," leads  ",Ut.commission||0,"% commission"]})]}),t.jsx("button",{onClick:()=>Be(!0),className:"px-3 py-1.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition text-sm font-semibold",children:Ut!=null&&Ut.name?"Change Plan":"Assign Plan"})]})]})]})]}),eU==="eligible"&&t.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-2xl mb-6 text-sm",children:"Plan refund eligible: guaranteed leads not met before expiry."}),((bt==null?void 0:bt.signature)||(bt==null?void 0:bt.accepted))&&Object.keys(bt).length>0&&t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mt-8",children:[t.jsxs("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500 mb-4 flex items-center gap-2",children:[t.jsx(Gt,{className:"w-5 h-5"}),"Terms & Conditions"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Terms Accepted"}),bt.accepted?t.jsxs("span",{className:"inline-flex items-center gap-2 text-emerald-600 font-semibold",children:[t.jsx(vt,{className:"w-5 h-5"}),"Accepted"]}):t.jsx("span",{className:"text-slate-400",children:"Not Accepted"})]}),bt.acceptedAt&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Accepted On"}),t.jsx("p",{className:"text-base text-slate-900 font-medium",children:new Date(bt.acceptedAt).toLocaleString("en-IN")})]}),bt.signature&&t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Digital Signature"}),t.jsx("div",{className:"border-2 border-slate-200 rounded-lg p-4 bg-slate-50 inline-block",children:t.jsx("img",{src:bt.signature.startsWith("data:")||bt.signature.startsWith("http")?bt.signature:`/uploads/signatures/${bt.signature}`,alt:"Partner Signature",className:"max-w-xs max-h-32 h-auto object-contain",onError:te=>{te.target.style.display="none"}})})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mt-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Service Hubs"}),t.jsx("p",{className:"text-xs text-slate-400",children:"Assign hubs to this partner. Hubs are created in Hub Management."})]}),t.jsxs("button",{onClick:Ze,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl text-xs font-semibold hover:bg-primary-dark transition",children:[t.jsx(ar,{})," ",pv.length>0?"Update Hubs":"Assign Hubs"]})]}),me?t.jsx("div",{className:"text-sm text-slate-400 py-4",children:"Loading hubs..."}):he?t.jsxs("div",{className:"text-sm text-rose-500 py-4",children:["Failed to load hubs: ",he]}):pv.length===0?t.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-slate-300 rounded-xl bg-slate-50",children:[t.jsx(Er,{className:"text-4xl text-slate-400 mx-auto mb-3"}),t.jsx("p",{className:"text-sm text-slate-600 font-medium mb-1",children:"No Hubs Assigned"}),t.jsx("p",{className:"text-xs text-slate-500",children:'Click "Assign Hubs" to assign service hubs to this partner.'})]}):t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:pv.map(te=>{var ht,Lt,rr;const $e=((ht=te.areas)==null?void 0:ht.reduce((Bt,Pr)=>[...Bt,...Pr.pinCodes||[]],[]))||[],Ct=[...new Set($e)];return t.jsxs("div",{className:"border-2 border-primary/20 rounded-xl p-4 bg-primary/5",children:[t.jsx("div",{className:"flex items-start justify-between mb-3",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(Er,{className:"text-primary"}),t.jsx("p",{className:"text-sm font-semibold text-slate-800",children:te.name})]}),(te.city||te.state)&&t.jsx("p",{className:"text-xs text-slate-500 ml-6",children:[te.city,te.state].filter(Boolean).join(", ")}),t.jsxs("p",{className:"text-xs text-slate-500 ml-6 mt-1",children:[((Lt=te.areas)==null?void 0:Lt.length)||0," area",((rr=te.areas)==null?void 0:rr.length)===1?"":"s","  ",Ct.length," pin code",Ct.length===1?"":"s"]})]})}),te.areas&&te.areas.length>0&&t.jsx("div",{className:"mt-3 space-y-2",children:te.areas.map(Bt=>t.jsxs("div",{className:"bg-white rounded-lg p-2",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700 mb-1",children:Bt.areaName}),Bt.pinCodes&&Bt.pinCodes.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1.5",children:Bt.pinCodes.map(Pr=>t.jsx("span",{className:"px-2 py-0.5 bg-primary/10 border border-primary/20 rounded-full text-xs font-semibold text-primary",children:Pr},Pr))})]},Bt._id))})]},te._id)})})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mt-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"MG Plan History"}),t.jsxs("span",{className:"text-xs text-slate-400",children:["Commission: ",Tt.commission??"--","%"]})]}),Tt.history&&Tt.history.length>0?t.jsx("div",{className:"space-y-4",children:Tt.history.slice().reverse().map((te,$e)=>t.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[te.planName,"  ",(te.price||0).toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-slate-500",children:[te.subscribedAt?new Date(te.subscribedAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):""," ",""," ",te.expiresAt?new Date(te.expiresAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):""]})]}),t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${te.refundStatus==="eligible"?"bg-amber-500/10 text-amber-600":te.refundStatus==="processed"?"bg-emerald-500/10 text-emerald-600":"bg-slate-200 text-slate-600"}`,children:te.refundStatus??"pending"})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-4 gap-3 text-xs text-slate-600",children:[t.jsxs("div",{children:[t.jsx("span",{className:"block font-semibold text-slate-500",children:"Guaranteed"}),te.leadsGuaranteed??""," leads"]}),t.jsxs("div",{children:[t.jsx("span",{className:"block font-semibold text-slate-500",children:"Consumed"}),te.leadsConsumed??0," leads"]}),t.jsxs("div",{children:[t.jsx("span",{className:"block font-semibold text-slate-500",children:"Lead Fee"}),"",(te.leadFee??x6).toLocaleString("en-IN")]}),t.jsxs("div",{children:[t.jsx("span",{className:"block font-semibold text-slate-500",children:"Commission"}),te.commissionRate??Tt.commission??0,"%"]})]}),te.refundNotes&&t.jsx("p",{className:"mt-2 text-xs text-slate-500 italic",children:te.refundNotes})]},$e))}):t.jsx("p",{className:"text-sm text-slate-500",children:"No MG plan history recorded."})]}),a&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Add Wallet Transaction"}),t.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:je,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Transaction Type ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{type:"button",onClick:()=>l("credit"),className:`flex-1 px-4 py-3 rounded-xl font-semibold transition ${i==="credit"?"bg-emerald-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[t.jsx(ar,{className:"w-4 h-4 inline mr-2"}),"Credit (Add)"]}),t.jsxs("button",{type:"button",onClick:()=>l("debit"),className:`flex-1 px-4 py-3 rounded-xl font-semibold transition ${i==="debit"?"bg-rose-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[t.jsx(v0,{className:"w-4 h-4 inline mr-2"}),"Debit (Deduct)"]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Amount ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:o,onChange:te=>d(te.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter amount",min:"0",step:"0.01",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Description ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:c,onChange:te=>u(te.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter transaction description",rows:3,required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Reference (Optional)"}),t.jsx("input",{type:"text",value:m,onChange:te=>x(te.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Transaction reference number"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Payment Mode ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:kt,onChange:te=>at(te.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",required:!0,children:[t.jsx("option",{value:"cash",children:"Cash"}),t.jsx("option",{value:"online",children:"Online"}),t.jsx("option",{value:"cheque",children:"Cheque"}),t.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]}),kt==="online"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Transaction ID"}),t.jsx("input",{type:"text",value:ft,onChange:te=>ve(te.target.value),placeholder:"Enter transaction/reference ID",className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary"})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:h,className:`flex-1 px-4 py-3 rounded-xl font-semibold text-white transition ${i==="credit"?"bg-emerald-500 hover:bg-emerald-600":"bg-rose-500 hover:bg-rose-600"} disabled:opacity-50 disabled:cursor-not-allowed`,children:h?"Processing...":i==="credit"?"Add Funds":"Deduct Funds"})]})]})]})}),S&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Update Partner Details"}),t.jsx("button",{onClick:()=>{k(!1),Q(""),L("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:async te=>{te.preventDefault(),xe(!0),Q(""),L("");try{const $e=_.filter(Lt=>P.categories.includes(Lt._id||Lt.id)).map(Lt=>Lt.name),Ct={name:P.name,email:P.email,phone:P.phone,whatsappNumber:P.whatsappNumber,qualification:P.qualification,experience:P.experience,partnerType:P.partnerType||"individual",address:P.address,landmark:P.landmark,pincode:P.pincode,city:P.city,gstNumber:P.gstNumber,referralCode:P.referralCode,categories:P.categories,categoryNames:$e,accountHolderName:P.accountHolderName,accountNumber:P.accountNumber,ifscCode:P.ifscCode,bankName:P.bankName,kycStatus:P.kycStatus,kycRemarks:P.kycRemarks,registerAmount:P.registerAmount,payId:P.payId,paidBy:P.paidBy,securityDeposit:P.securityDeposit,toolkitPrice:P.toolkitPrice,profileCompleted:P.profileCompleted},ht=await qe.updatePartnerProfile(s,e,Ct);ht.success?(L("Partner details updated successfully!"),setTimeout(()=>{window.location.reload()},1e3)):ht.errors&&Array.isArray(ht.errors)?Q(ht.errors.join(", ")):Q(ht.message||"Failed to update partner details")}catch($e){console.error("Update error:",$e),$e.errors&&Array.isArray($e.errors)?Q($e.errors.join(", ")):Q($e.message||"Failed to update partner details")}finally{xe(!1)}},className:"p-6 space-y-6",children:[z&&t.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg text-sm",children:z}),B&&t.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg text-sm",children:B}),t.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Or,{className:"w-5 h-5"}),"Basic Information"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Full Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:P.name,onChange:te=>C($e=>({...$e,name:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Email ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"email",value:P.email,onChange:te=>C($e=>({...$e,email:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Phone Number ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"tel",value:P.phone,onChange:te=>C($e=>({...$e,phone:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"WhatsApp Number"}),t.jsx("input",{type:"tel",value:P.whatsappNumber,onChange:te=>C($e=>({...$e,whatsappNumber:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Qualification"}),t.jsx("input",{type:"text",value:P.qualification,onChange:te=>C($e=>({...$e,qualification:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Experience (Years)"}),t.jsx("input",{type:"number",value:P.experience,onChange:te=>C($e=>({...$e,experience:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",min:"0"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Partner Type ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:P.partnerType||"individual",onChange:te=>C($e=>({...$e,partnerType:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,children:[t.jsx("option",{value:"individual",children:"Individual"}),t.jsx("option",{value:"franchise",children:"Franchise"})]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Address"}),t.jsx("textarea",{value:P.address,onChange:te=>C($e=>({...$e,address:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",rows:2})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Landmark"}),t.jsx("input",{type:"text",value:P.landmark,onChange:te=>C($e=>({...$e,landmark:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:P.pincode,onChange:te=>C($e=>({...$e,pincode:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),t.jsx("input",{type:"text",value:P.city,onChange:te=>C($e=>({...$e,city:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Number"}),t.jsx("input",{type:"text",value:P.gstNumber,onChange:te=>C($e=>({...$e,gstNumber:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Referral Code"}),t.jsx("input",{type:"text",value:P.referralCode,onChange:te=>C($e=>({...$e,referralCode:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]})]})]}),t.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Jr,{className:"w-5 h-5"}),"Service Categories"]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Select Categories ",t.jsx("span",{className:"text-red-500",children:"*"})]}),D?t.jsx("div",{className:"text-sm text-slate-500 py-4",children:"Loading categories..."}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 max-h-48 overflow-y-auto p-3 border-2 border-slate-300 rounded-lg",children:_.map(te=>t.jsxs("label",{className:"flex items-center gap-2 p-2 rounded-lg border-2 cursor-pointer transition hover:bg-slate-50",style:{borderColor:P.categories.includes(te._id||te.id)?"#3b82f6":"#e2e8f0",backgroundColor:P.categories.includes(te._id||te.id)?"#eff6ff":"transparent"},children:[t.jsx("input",{type:"checkbox",checked:P.categories.includes(te._id||te.id),onChange:$e=>{const Ct=te._id||te.id;$e.target.checked?C(ht=>({...ht,categories:[...ht.categories,Ct]})):C(ht=>({...ht,categories:ht.categories.filter(Lt=>Lt!==Ct)}))},className:"w-4 h-4 text-primary border-2 border-gray-300 rounded focus:ring-primary cursor-pointer"}),t.jsxs("span",{className:"text-sm font-medium text-slate-700 flex-1",children:[te.icon&&t.jsx("span",{className:"mr-1",children:te.icon}),te.name]})]},te._id||te.id))}),P.categories.length>0&&t.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[P.categories.length," categor",P.categories.length===1?"y":"ies"," selected"]})]})]}),((bt==null?void 0:bt.signature)||(bt==null?void 0:bt.accepted))&&Object.keys(bt).length>0&&t.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Gt,{className:"w-5 h-5"}),"Terms & Conditions"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2",children:"Terms Accepted"}),bt.accepted?t.jsxs("span",{className:"inline-flex items-center gap-2 text-emerald-600 font-semibold",children:[t.jsx(vt,{className:"w-5 h-5"}),"Accepted"]}):t.jsx("span",{className:"text-slate-400",children:"Not Accepted"})]}),bt.acceptedAt&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2",children:"Accepted On"}),t.jsx("p",{className:"text-base text-slate-900",children:new Date(bt.acceptedAt).toLocaleString("en-IN")})]}),bt.signature&&t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2",children:"Digital Signature"}),t.jsx("div",{className:"border-2 border-slate-200 rounded-lg p-4 bg-slate-50 inline-block",children:t.jsx("img",{src:bt.signature.startsWith("data:")||bt.signature.startsWith("http")?bt.signature:`/uploads/signatures/${bt.signature}`,alt:"Partner Signature",className:"max-w-md h-auto",onError:te=>{te.target.style.display="none"}})})]})]})]}),t.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(fs,{className:"w-5 h-5"}),"Bank Details"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Holder Name"}),t.jsx("input",{type:"text",value:P.accountHolderName,onChange:te=>C($e=>({...$e,accountHolderName:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Number"}),t.jsx("input",{type:"text",value:P.accountNumber,onChange:te=>C($e=>({...$e,accountNumber:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"IFSC Code"}),t.jsx("input",{type:"text",value:P.ifscCode,onChange:te=>C($e=>({...$e,ifscCode:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Bank Name"}),t.jsx("input",{type:"text",value:P.bankName,onChange:te=>C($e=>({...$e,bankName:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]})]})]}),t.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Gt,{className:"w-5 h-5"}),"KYC Status"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"KYC Status"}),t.jsxs("select",{value:P.kycStatus,onChange:te=>C($e=>({...$e,kycStatus:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",children:[t.jsx("option",{value:"",children:"Select Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"approved",children:"Approved"}),t.jsx("option",{value:"rejected",children:"Rejected"})]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"KYC Remarks"}),t.jsx("textarea",{value:P.kycRemarks,onChange:te=>C($e=>({...$e,kycRemarks:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",rows:3,placeholder:"Enter remarks or notes about KYC verification"})]})]})]}),t.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Or,{className:"w-5 h-5"}),"Profile Status"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Profile Completion Status"}),t.jsxs("select",{value:P.profileCompleted?"completed":"incomplete",onChange:te=>C($e=>({...$e,profileCompleted:te.target.value==="completed"})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",children:[t.jsx("option",{value:"incomplete",children:"INCOMPLETE"}),t.jsx("option",{value:"completed",children:"COMPLETED"})]})]}),t.jsx("div",{className:"flex items-end",children:t.jsxs("div",{className:`px-4 py-2 rounded-lg text-sm font-semibold ${P.profileCompleted?"bg-emerald-500/10 text-emerald-600":"bg-amber-500/10 text-amber-600"}`,children:["Current: ",P.profileCompleted?"COMPLETED":"INCOMPLETE"]})})]})]}),t.jsxs("div",{className:"pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Yt,{className:"w-5 h-5"}),"Payment Information"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Registration Amount"}),t.jsx("input",{type:"number",value:P.registerAmount,onChange:te=>C($e=>({...$e,registerAmount:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",min:"0",step:"0.01"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Payment ID"}),t.jsx("input",{type:"text",value:P.payId,onChange:te=>C($e=>({...$e,payId:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Paid By"}),t.jsx("input",{type:"text",value:P.paidBy,onChange:te=>C($e=>({...$e,paidBy:te.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",placeholder:"e.g., UPI, Bank Transfer, Cash"})]})]}),t.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Payment Status"}),t.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${K!=null&&K.registerdFee&&(K!=null&&K.payId)?"bg-emerald-500/10 text-emerald-600":"bg-amber-500/10 text-amber-600"}`,children:K!=null&&K.registerdFee&&(K!=null&&K.payId)?"Verified":"Pending Verification"})]}),(!(K!=null&&K.registerdFee)||!(K!=null&&K.payId))&&t.jsxs("button",{type:"button",onClick:X,disabled:we,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:[we?t.jsx(hp,{className:"w-4 h-4 animate-spin"}):t.jsx(vt,{className:"w-4 h-4"}),we?"Approving...":"Approve Payment"]})]}),(K==null?void 0:K.registerdFee)&&(K==null?void 0:K.payId)&&t.jsx("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-3",children:t.jsxs("div",{className:"flex items-center gap-2 text-emerald-700",children:[t.jsx(vt,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Payment has been verified and approved"})]})})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>{k(!1),Q(""),L("")},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:re||P.categories.length===0,className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:re?"Updating...":"Update Partner"})]})]})]})}),R&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Update KYC Documents"}),t.jsx("button",{onClick:()=>{Z(!1),M({panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null})},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:async te=>{var Ct;if(te.preventDefault(),!Object.values(ae).some(ht=>ht!==null)){alert("Please select at least one document to upload");return}Y(!0);try{const ht=new FormData;ae.panCard&&ht.append("panCard",ae.panCard),ae.aadhaar&&ht.append("aadhaar",ae.aadhaar),ae.aadhaarback&&ht.append("aadhaarback",ae.aadhaarback),ae.drivingLicence&&ht.append("drivingLicence",ae.drivingLicence),ae.bill&&ht.append("bill",ae.bill),ae.chequeImage&&ht.append("chequeImage",ae.chequeImage),ht.append("id",e);const Lt=await fetch("https://nexo.works/api/admin/updatedDocuments",{method:"PUT",headers:{Authorization:`Bearer ${s}`},body:ht}),rr=await Lt.json();if(rr.success===!0||Lt.ok){const Bt=((Ct=rr.uploadedFiles)==null?void 0:Ct.length)||Object.values(ae).filter(Pr=>Pr!==null).length;alert(`KYC documents updated successfully! ${Bt} file(s) uploaded.`),Z(!1),M({panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null}),window.location.reload()}else alert(rr.message||rr.error||"Failed to update KYC documents")}catch(ht){console.error("KYC upload error:",ht),alert(ht.message||"Failed to update KYC documents")}finally{Y(!1)}},className:"p-6 space-y-6",children:[t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{key:"panCard",label:"PAN Card"},{key:"aadhaar",label:"Aadhaar (Front)"},{key:"aadhaarback",label:"Aadhaar (Back)"},{key:"drivingLicence",label:"Driving Licence"},{key:"bill",label:"Utility Bill"},{key:"chequeImage",label:"Cancelled Cheque"}].map(({key:te,label:$e})=>t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:$e}),t.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-4 text-center",children:[t.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:Ct=>{Ct.target.files[0]&&M(ht=>({...ht,[te]:Ct.target.files[0]}))},className:"hidden",id:`kyc-${te}`}),t.jsxs("label",{htmlFor:`kyc-${te}`,className:"cursor-pointer flex flex-col items-center",children:[t.jsx(Ko,{className:"text-2xl text-slate-400 mb-2"}),ae[te]?t.jsxs("span",{className:"text-sm text-emerald-600",children:[" ",ae[te].name]}):t.jsx("span",{className:"text-sm text-slate-600",children:"Click to upload"})]})]})]},te))}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>{Z(!1),M({panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null})},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:G||!Object.values(ae).some(te=>te!==null),className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:G?"Uploading...":"Update KYC Documents"})]})]})]})}),W&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Update Profile Image"}),t.jsx("button",{onClick:()=>{ie(!1),q(null)},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:async te=>{if(te.preventDefault(),!U){alert("Please select an image");return}Y(!0);try{const $e=new FormData;$e.append("profileImage",U);const ht=await(await fetch(`https://nexo.works/api/admin/updatePartnerProfile/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${s}`},body:$e})).json();ht.success?(alert("Profile image updated successfully!"),ie(!1),q(null),window.location.reload()):alert(ht.message||"Failed to update profile image")}catch($e){console.error("Profile image upload error:",$e),alert($e.message||"Failed to update profile image")}finally{Y(!1)}},className:"space-y-4",children:[t.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:te=>q(te.target.files[0]),className:"hidden",id:"profile-image"}),t.jsxs("label",{htmlFor:"profile-image",className:"cursor-pointer flex flex-col items-center",children:[t.jsx(Qf,{className:"text-4xl text-slate-400 mb-2"}),U?t.jsxs("div",{className:"mt-4",children:[t.jsx("img",{src:URL.createObjectURL(U),alt:"Preview",className:"w-32 h-32 rounded-full object-cover mx-auto"}),t.jsxs("p",{className:"text-sm text-emerald-600 mt-2",children:[" ",U.name]})]}):t.jsx("span",{className:"text-sm text-slate-600",children:"Click to upload profile image"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{ie(!1),q(null)},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:G||!U,className:"flex-1 px-4 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:G?"Uploading...":"Update Image"})]})]})]})}),Ce&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Wallet Transactions"}),t.jsx("button",{onClick:()=>Te(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"mb-4 p-4 bg-slate-50 rounded-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Current Balance"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",qd.toLocaleString("en-IN")]})]}),t.jsxs("button",{onClick:()=>{Te(!1),n(!0)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold",children:[t.jsx(ar,{className:"w-4 h-4 inline mr-2"}),"Add Transaction"]})]})}),wr?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading transactions..."})]}):js?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg text-sm",children:["Error loading transactions: ",js]}):t.jsx(Ma,{columns:S6e,data:tU,emptyLabel:"No transactions found."})]})]})}),Xe&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Fee Transactions"}),t.jsx("button",{onClick:()=>rt(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("div",{className:"p-6",children:[(V==null?void 0:V.stats)&&t.jsxs("div",{className:"mb-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Amount"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",((Z6=V.stats.totalAmount)==null?void 0:Z6.toLocaleString("en-IN"))||0]})]}),t.jsxs("div",{className:"p-4 bg-emerald-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-emerald-600",children:"Successful"}),t.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:["",((eS=V.stats.successAmount)==null?void 0:eS.toLocaleString("en-IN"))||0]}),t.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:[V.stats.successCount||0," transactions"]})]}),t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Transactions"}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:V.stats.totalCount||0})]}),t.jsxs("div",{className:"p-4 bg-rose-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-rose-600",children:"Failed"}),t.jsx("p",{className:"text-2xl font-bold text-rose-600",children:V.stats.failedCount||0})]})]}),le?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading fee transactions..."})]}):ee?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg text-sm",children:["Error loading fee transactions: ",ee]}):((tS=V==null?void 0:V.data)==null?void 0:tS.length)===0?t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-slate-500",children:"No fee transactions found."})}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Date"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Fee Type"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Amount"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Description"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Transaction ID"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:(rS=V==null?void 0:V.data)==null?void 0:rS.map((te,$e)=>{var Ct,ht,Lt,rr,Bt;return t.jsxs("tr",{className:"hover:bg-slate-50",children:[t.jsx("td",{className:"px-4 py-3 text-sm text-slate-700",children:new Date(te.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${te.feeType==="registration"?"bg-blue-500/10 text-blue-600":te.feeType==="mg_plan"?"bg-purple-500/10 text-purple-600":te.feeType==="security_deposit"?"bg-yellow-500/10 text-yellow-600":te.feeType==="toolkit"?"bg-green-500/10 text-green-600":"bg-slate-500/10 text-slate-600"}`,children:((Ct=te.feeType)==null?void 0:Ct.replace("_"," ").replace(/\b\w/g,Pr=>Pr.toUpperCase()))||"Other"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:["",((ht=te.amount)==null?void 0:ht.toLocaleString("en-IN"))||0]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${te.status==="success"?"bg-emerald-500/10 text-emerald-600":te.status==="failed"?"bg-rose-500/10 text-rose-600":te.status==="pending"?"bg-yellow-500/10 text-yellow-600":"bg-slate-500/10 text-slate-600"}`,children:((Lt=te.status)==null?void 0:Lt.charAt(0).toUpperCase())+((rr=te.status)==null?void 0:rr.slice(1))||"Unknown"})}),t.jsx("td",{className:"px-4 py-3 text-sm text-slate-700 max-w-xs",children:t.jsxs("div",{children:[t.jsx("p",{className:"truncate",children:te.description||"N/A"}),((Bt=te.metadata)==null?void 0:Bt.priceBreakdown)&&t.jsxs("details",{className:"mt-1",children:[t.jsx("summary",{className:"text-xs text-primary cursor-pointer hover:underline",children:"View Payment Breakdown"}),t.jsxs("div",{className:"mt-1 text-xs text-slate-500 space-y-0.5 pl-2 bg-slate-50 p-2 rounded",children:[te.metadata.priceBreakdown.registrationFee>0&&t.jsxs("p",{children:["Registration Fee: ",te.metadata.priceBreakdown.registrationFee.toLocaleString("en-IN")]}),te.metadata.priceBreakdown.securityDeposit>0&&t.jsxs("p",{children:["Security Deposit: ",te.metadata.priceBreakdown.securityDeposit.toLocaleString("en-IN")]}),te.metadata.priceBreakdown.toolkitPrice>0&&t.jsxs("p",{children:["Toolkit: ",te.metadata.priceBreakdown.toolkitPrice.toLocaleString("en-IN")]}),te.metadata.priceBreakdown.totalAmount>0&&t.jsxs("p",{className:"font-semibold text-slate-700 border-t border-slate-200 pt-1 mt-1",children:["Total Paid: ",te.metadata.priceBreakdown.totalAmount.toLocaleString("en-IN")]})]})]})]})}),t.jsx("td",{className:"px-4 py-3 text-xs text-slate-500 font-mono",children:te.transactionId||"N/A"})]},te._id||$e)})})]})})]})]})}),oe&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:Ut!=null&&Ut.name?"Change MG Plan":"Assign MG Plan"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select a plan and provide payment details"})]}),t.jsx("button",{onClick:()=>{Be(!1),pe(null),be("cash"),Ne(""),Je("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),(Ut==null?void 0:Ut.name)&&t.jsxs("div",{className:"mb-6 space-y-4",children:[t.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(bn,{className:"w-5 h-5 text-purple-600"}),t.jsx("h3",{className:"font-semibold text-purple-900",children:"Current Plan"})]}),!(Tt!=null&&Tt.paymentMethod)&&t.jsxs("button",{type:"button",onClick:()=>Ae(!dt),className:"text-xs px-3 py-1.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-semibold flex items-center gap-1",children:[t.jsx(gs,{className:"w-3 h-3"}),dt?"Cancel":"Add Payment Details"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm mb-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Plan Name"}),t.jsx("p",{className:"font-semibold text-slate-900",children:Ut.name})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Leads"}),t.jsx("p",{className:"font-semibold text-slate-900",children:Ut.leads||0})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Commission"}),t.jsxs("p",{className:"font-semibold text-slate-900",children:[Ut.commission||0,"%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Price"}),t.jsxs("p",{className:"font-semibold text-slate-900",children:["",((sS=Ut.price)==null?void 0:sS.toLocaleString("en-IN"))||0]})]}),(Tt==null?void 0:Tt.paymentMethod)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Payment Method"}),t.jsx("p",{className:"font-semibold text-slate-900 capitalize",children:Tt.paymentMethod})]}),Tt.paymentMethod==="cash"&&Tt.collectedBy&&t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Collected By"}),t.jsx("p",{className:"font-semibold text-slate-900",children:Tt.collectedBy})]}),(Tt.paymentMethod==="online"||Tt.paymentMethod==="upi")&&Tt.transactionId&&t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Transaction ID"}),t.jsx("p",{className:"font-semibold text-slate-900 font-mono text-xs",children:Tt.transactionId})]})]})]}),!(Tt!=null&&Tt.paymentMethod)&&dt&&t.jsxs("div",{className:"border-t border-purple-200 pt-4 space-y-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-purple-900",children:"Add Payment Details"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Payment Method *"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:["cash","online","upi"].map(te=>t.jsx("button",{type:"button",onClick:()=>{It(te),Se(""),de("")},className:`px-3 py-2 rounded-lg font-semibold text-xs transition ${ze===te?"bg-purple-600 text-white":"bg-white text-slate-700 hover:bg-slate-100 border border-slate-200"}`,children:te.toUpperCase()},te))})]}),ze==="cash"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Collected By *"}),t.jsx("input",{type:"text",value:Ft,onChange:te=>Se(te.target.value),placeholder:"Enter name of person who collected payment",className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent"})]}),(ze==="online"||ze==="upi")&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Transaction ID *"}),t.jsx("input",{type:"text",value:O,onChange:te=>de(te.target.value),placeholder:"Enter transaction ID",className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent font-mono"})]}),t.jsx("button",{type:"button",onClick:Pe,disabled:Oe,className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm",children:Oe?t.jsxs(t.Fragment,{children:[t.jsx(hp,{className:"w-4 h-4 animate-spin"}),"Updating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Tl,{className:"w-4 h-4"}),"Update Payment Details"]})})]})]}),!(Tt!=null&&Tt.paymentMethod)&&!dt&&t.jsx("div",{className:"p-4 bg-amber-50 border-2 border-amber-300 rounded-xl",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(rl,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold text-amber-900 mb-1",children:"Payment Details Missing"}),t.jsx("p",{className:"text-sm text-amber-700 mb-2",children:`This MG plan doesn't have payment details recorded. Click "Add Payment Details" above to add them now.`}),t.jsx("p",{className:"text-xs text-amber-600 italic",children:"Note: When you change the plan below, you'll be required to provide payment details for the new plan."})]})]})})]}),t.jsxs("form",{onSubmit:te=>{te.preventDefault(),_e()},className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Select MG Plan *"}),fe.length===0?t.jsx("div",{className:"text-center py-8 bg-slate-50 rounded-xl",children:t.jsx("p",{className:"text-slate-500",children:"No MG plans available for this partner type"})}):t.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:fe.map(te=>{var Ct;const $e=ce===te._id;return t.jsx("div",{className:`border-2 rounded-xl p-4 transition-all cursor-pointer ${$e?"border-purple-600 bg-purple-50":"border-slate-200 hover:border-purple-300 bg-white"}`,onClick:()=>pe(te._id),children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("input",{type:"radio",checked:$e,onChange:()=>pe(te._id),className:"mt-1 w-4 h-4 text-purple-600 border-slate-300 focus:ring-purple-600",onClick:ht=>ht.stopPropagation()}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-semibold text-slate-800",children:te.name}),t.jsxs("span",{className:"text-lg font-bold text-purple-600",children:["",((Ct=te.price)==null?void 0:Ct.toLocaleString("en-IN"))||0]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Leads"}),t.jsx("p",{className:"font-semibold text-slate-700",children:te.leads||0})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Commission"}),t.jsxs("p",{className:"font-semibold text-slate-700",children:[te.commission||0,"%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Duration"}),t.jsxs("p",{className:"font-semibold text-slate-700",children:[te.duration||0," days"]})]})]}),te.description&&t.jsx("p",{className:"text-xs text-slate-500 mt-2",children:te.description})]})]})},te._id)})})]}),ce&&t.jsxs("div",{className:"border-t border-slate-200 pt-6 space-y-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Payment Details"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Payment Method *"}),t.jsx("div",{className:"grid grid-cols-3 gap-3",children:["cash","online","upi"].map(te=>t.jsx("button",{type:"button",onClick:()=>{be(te),Ne(""),Je("")},className:`px-4 py-2 rounded-lg font-semibold text-sm transition ${J===te?"bg-purple-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:te.toUpperCase()},te))})]}),J==="cash"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Collected By *"}),t.jsx("input",{type:"text",value:ge,onChange:te=>Ne(te.target.value),placeholder:"Enter name of person who collected payment",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent",required:!0})]}),(J==="online"||J==="upi")&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Transaction ID *"}),t.jsx("input",{type:"text",value:Ie,onChange:te=>Je(te.target.value),placeholder:"Enter transaction ID",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent font-mono",required:!0})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>{Be(!1),pe(null),be("cash"),Ne(""),Je("")},className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:F||!ce||fe.length===0,className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:F?t.jsxs(t.Fragment,{children:[t.jsx(hp,{className:"w-4 h-4 animate-spin"}),"Assigning..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Tl,{className:"w-4 h-4"}),Ut!=null&&Ut.name?"Change Plan":"Assign Plan"]})})]})]})]})}),f&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Assign Service Hubs"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select hubs to assign to this partner"})]}),t.jsx("button",{onClick:()=>{b(!1)},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:pt,className:"space-y-4",children:[$x.length===0?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-slate-500",children:"No hubs available. Create hubs in Hub Management first."})}):t.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:$x.map(te=>{var Lt,rr,Bt,Pr;const $e=y.includes((Lt=te._id)==null?void 0:Lt.toString()),Ct=((rr=te.areas)==null?void 0:rr.reduce((tr,Us)=>[...tr,...Us.pinCodes||[]],[]))||[],ht=[...new Set(Ct)];return t.jsx("div",{className:`border-2 rounded-xl p-4 transition-all cursor-pointer ${$e?"border-primary bg-primary/5":"border-slate-200 hover:border-primary/50 bg-white"}`,onClick:()=>ot(te._id),children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("input",{type:"checkbox",checked:$e,onChange:()=>ot(te._id),className:"mt-1 w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary",onClick:tr=>tr.stopPropagation()}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(Er,{className:"text-primary"}),t.jsx("h4",{className:"font-semibold text-slate-800",children:te.name})]}),(te.city||te.state)&&t.jsx("p",{className:"text-xs text-slate-500 ml-6",children:[te.city,te.state].filter(Boolean).join(", ")}),t.jsxs("p",{className:"text-xs text-slate-500 ml-6 mt-1",children:[((Bt=te.areas)==null?void 0:Bt.length)||0," area",((Pr=te.areas)==null?void 0:Pr.length)===1?"":"s","  ",ht.length," pin code",ht.length===1?"":"s"]}),te.areas&&te.areas.length>0&&t.jsxs("div",{className:"mt-2 ml-6 space-y-1",children:[te.areas.slice(0,2).map(tr=>{var Us;return t.jsxs("div",{className:"text-xs text-slate-600",children:[" ",tr.areaName," (",((Us=tr.pinCodes)==null?void 0:Us.length)||0," pins)"]},tr._id)}),te.areas.length>2&&t.jsxs("div",{className:"text-xs text-slate-500",children:["+ ",te.areas.length-2," more area",te.areas.length-2===1?"":"s"]})]})]})]})},te._id)})}),t.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-200",children:[t.jsxs("p",{className:"text-sm text-slate-600",children:[y.length," hub",y.length===1?"":"s"," selected"]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:()=>{b(!1)},className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:j||$x.length===0,className:"px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Updating...":"Update Hubs"})]})]})]})]})}),We&&Qe&&t.jsx(Bz,{profile:{id:Qe._id,name:(Ke==null?void 0:Ke.name)||((aS=Qe.profile)==null?void 0:aS.name)||"N/A",email:(Ke==null?void 0:Ke.email)||((nS=Qe.profile)==null?void 0:nS.email)||"N/A",phone:Qe.phone||"N/A",city:(Ke==null?void 0:Ke.city)||((iS=Qe.profile)==null?void 0:iS.city)||"N/A",profilePicture:(Ke==null?void 0:Ke.profileImage)||Qe.profilePicture||null,kyc:{status:(Re==null?void 0:Re.status)||"pending"}},partner:Qe,onClose:()=>ye(!1)})]})},C6e=()=>{const{token:e}=kr(),r=er(),[s,a]=g.useState(!1),[n,i]=g.useState(null),[l,o]=g.useState(!1),[d,c]=g.useState([]),[u,m]=g.useState([]),[x,h]=g.useState([]),[p,f]=g.useState(null),[b,j]=g.useState(!0),w=g.useRef(null),[y,v]=g.useState(!1),[N,S]=g.useState({phone:"",whatsappNumber:"",name:"",email:"",qualification:"",experience:"",partnerType:"individual",address:"",landmark:"",pincode:"",city:"",category:[],categoryNames:[],modeOfService:"both",selectedHubs:[],selectedPlan:null,selectedPlanId:null,profilePicture:null,profilePicturePreview:null,kycDocuments:{panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null},bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""},registerAmount:0,securityDeposit:0,toolkitPrice:0,paymentApproved:!1,registerdFee:!1,paidBy:"Admin",terms:{accepted:!1,signature:null},agentName:"",gstNumber:"",referralCode:"",profileStatus:"active"});g.useEffect(()=>{(async()=>{var L;if(!e){console.log("No token available"),j(!1);return}j(!0);try{console.log("Fetching categories, hubs, fees, and MG plans...");try{const R=await qe.fetchCategories(e);console.log("Categories response:",R);const Z=R.categories||R.data||[];c(Z),console.log("Categories set:",Z.length)}catch(R){console.error("Error fetching categories:",R),i("Failed to load categories. Please refresh the page.")}try{const R=await qe.fetchHubs(e);console.log("Hubs response:",R);const Z=R.hubs||R.data||[];m(Z),console.log("Hubs set:",Z.length)}catch(R){console.error("Error fetching hubs:",R),i("Failed to load hubs. Please refresh the page.")}try{const R=await qe.fetchFees(e);console.log("Fees response:",R),f(R.data||R);const Z=((L=R.data)==null?void 0:L.individual)||R.individual||R.data||R;S(W=>({...W,registerAmount:Z.registrationFee||0,securityDeposit:Z.securityDeposit||0,toolkitPrice:Z.toolkitPrice||0}))}catch(R){console.error("Error fetching fees:",R)}}catch(R){console.error("Error in fetchData:",R),i("Failed to load data. Please refresh the page.")}finally{j(!1)}})()},[e]),g.useEffect(()=>{if(p&&N.partnerType){const B=p[N.partnerType]||p;S(L=>({...L,registerAmount:B.registrationFee||0,securityDeposit:B.securityDeposit||0,toolkitPrice:B.toolkitPrice||0,selectedPlanId:null,selectedPlan:null}))}},[N.partnerType,p]),g.useEffect(()=>{const B=async()=>{if(e)try{console.log("Fetching MG plans for partner type:",N.partnerType);const L=await qe.fetchMGPlans(e);console.log("MG Plans response:",L);const Z=(L.plans||L.data||[]).filter(W=>!W.partnerType||W.partnerType==="both"?!0:W.partnerType===N.partnerType);console.log("Filtered MG Plans:",Z.length,"for type:",N.partnerType),h(Z)}catch(L){console.error("Error fetching MG plans:",L),h([])}};N.partnerType&&B()},[N.partnerType,e]);const k=B=>{const{name:L,value:R,type:Z,checked:W}=B.target;S(ie=>({...ie,[L]:Z==="checkbox"?W:R}))},P=B=>{const{name:L,value:R}=B.target;S(Z=>({...Z,bankDetails:{...Z.bankDetails,[L]:R}}))},C=B=>{S(L=>{const Z=L.category.includes(B)?L.category.filter(ae=>ae!==B):[...L.category,B],ie=d.filter(ae=>Z.includes(ae._id)).map(ae=>ae.name);return{...L,category:Z,categoryNames:ie}})},_=B=>{S(L=>{var W;const R=L.selectedHubs.some(ie=>ie.hubId===B),Z=u.find(ie=>ie._id===B);return R?{...L,selectedHubs:L.selectedHubs.filter(ie=>ie.hubId!==B)}:{...L,selectedHubs:[...L.selectedHubs,{hubId:Z._id,name:Z.name,pinCodes:((W=Z.areas)==null?void 0:W.flatMap(ie=>ie.pinCodes||[]))||[]}]}})},A=(B,L)=>{L&&S(R=>({...R,kycDocuments:{...R.kycDocuments,[B]:L}}))},D=B=>{if(!B)return;const L=new FileReader;L.onloadend=()=>{S(R=>({...R,profilePicture:B,profilePicturePreview:L.result}))},L.readAsDataURL(B)},H=B=>{S(L=>({...L,kycDocuments:{...L.kycDocuments,[B]:null}}))},re=()=>{S(B=>({...B,profilePicture:null,profilePicturePreview:null}))},xe=B=>{const L=w.current;if(!L)return;const R=L.getBoundingClientRect(),Z=B.clientX-R.left,W=B.clientY-R.top,ie=L.getContext("2d");ie.beginPath(),ie.moveTo(Z,W),v(!0)},we=B=>{if(!y)return;const L=w.current;if(!L)return;const R=L.getBoundingClientRect(),Z=B.clientX-R.left,W=B.clientY-R.top,ie=L.getContext("2d");ie.lineTo(Z,W),ie.stroke()},T=()=>{if(y){const B=w.current;if(B){const L=B.toDataURL("image/png");S(R=>({...R,terms:{...R.terms,signature:L}}))}}v(!1)},z=()=>{const B=w.current;if(!B)return;B.getContext("2d").clearRect(0,0,B.width,B.height),S(R=>({...R,terms:{...R.terms,signature:null}}))},Q=async B=>{B.preventDefault(),a(!0),i(null),o(!1);try{const L=new FormData;L.append("phone",N.phone),L.append("whatsappNumber",N.whatsappNumber||N.phone),L.append("name",N.name),L.append("email",N.email),L.append("qualification",N.qualification),L.append("experience",N.experience),L.append("partnerType",N.partnerType),L.append("address",N.address),L.append("landmark",N.landmark),L.append("pincode",N.pincode),L.append("city",N.city),L.append("modeOfService",N.modeOfService),L.append("agentName",N.agentName),L.append("gstNumber",N.gstNumber),L.append("referralCode",N.referralCode),L.append("profileStatus",N.profileStatus),L.append("category",JSON.stringify(N.category)),L.append("categoryNames",JSON.stringify(N.categoryNames)),console.log("Selected Hubs being sent:",N.selectedHubs),L.append("selectedHubs",JSON.stringify(N.selectedHubs)),L.append("bankDetails",JSON.stringify(N.bankDetails)),L.append("registerAmount",N.registerAmount),L.append("securityDeposit",N.securityDeposit),L.append("toolkitPrice",N.toolkitPrice),L.append("paymentApproved",N.paymentApproved),L.append("registerdFee",N.registerdFee),L.append("paidBy",N.paidBy),L.append("termsAccepted",N.terms.accepted),N.terms.signature&&L.append("signature",N.terms.signature),N.selectedPlanId&&(L.append("selectedPlanId",N.selectedPlanId),L.append("selectedPlan",N.selectedPlan)),N.profilePicture&&L.append("profilePicture",N.profilePicture),Object.keys(N.kycDocuments).forEach(ae=>{N.kycDocuments[ae]&&L.append(ae,N.kycDocuments[ae])}),console.log("Submitting partner registration...");const R="https://nexo.works";console.log("API URL:",R);const Z=await fetch(`${R}/api/admin/partners/manual-register`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:L});console.log("Response status:",Z.status),console.log("Response headers:",Z.headers.get("content-type"));const W=Z.headers.get("content-type");if(!W||!W.includes("application/json")){const ae=await Z.text();throw console.error("Non-JSON response:",ae),new Error("Server returned invalid response. Please check server logs.")}const ie=await Z.json();if(console.log("Response data:",ie),!Z.ok)throw new Error(ie.message||"Failed to register partner");o(!0),setTimeout(()=>{r(`/admin/partners/${ie.partner._id}`)},2e3)}catch(L){i(L.message)}finally{a(!1)}};return t.jsxs("div",{children:[t.jsx(vs,{title:"Manual Partner Registration",subtitle:"Register a new partner with complete details manually"}),t.jsxs("div",{className:"max-w-5xl mx-auto",children:[t.jsxs("button",{onClick:()=>r("/admin/partners"),className:"mb-6 flex items-center gap-2 text-slate-600 hover:text-primary transition",children:[t.jsx(ox,{className:"w-4 h-4"}),"Back to Partners"]}),l&&t.jsxs("div",{className:"mb-6 bg-emerald-50 border border-emerald-200 rounded-xl p-4 flex items-center gap-3",children:[t.jsx(vt,{className:"w-5 h-5 text-emerald-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-emerald-800 font-semibold",children:"Partner registered successfully!"}),t.jsx("p",{className:"text-emerald-600 text-sm",children:"Redirecting to partner details..."})]})]}),n&&t.jsxs("div",{className:"mb-6 bg-rose-50 border border-rose-200 rounded-xl p-4 flex items-center gap-3",children:[t.jsx(rl,{className:"w-5 h-5 text-rose-600"}),t.jsx("p",{className:"text-rose-800",children:n})]}),t.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Or,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Phone Number ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"tel",name:"phone",value:N.phone,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"10-digit mobile number"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"WhatsApp Number"}),t.jsx("input",{type:"tel",name:"whatsappNumber",value:N.whatsappNumber,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"WhatsApp number"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Full Name ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",name:"name",value:N.name,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Partner's full name"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Email ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"email",name:"email",value:N.email,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"email@example.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Qualification"}),t.jsx("input",{type:"text",name:"qualification",value:N.qualification,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Educational qualification"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Experience"}),t.jsx("input",{type:"text",name:"experience",value:N.experience,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Years of experience"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Partner Type ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsxs("select",{name:"partnerType",value:N.partnerType,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"individual",children:"Individual"}),t.jsx("option",{value:"franchise",children:"Franchise"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Agent Name"}),t.jsx("input",{type:"text",name:"agentName",value:N.agentName,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Referring agent name"})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Er,{className:"w-5 h-5 text-primary"}),"Address Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Address ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("textarea",{name:"address",value:N.address,onChange:k,required:!0,rows:"2",className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Complete address"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Landmark ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",name:"landmark",value:N.landmark,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Nearby landmark"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Pincode ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",name:"pincode",value:N.pincode,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"6-digit pincode"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["City ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",name:"city",value:N.city,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"City name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"GST Number"}),t.jsx("input",{type:"text",name:"gstNumber",value:N.gstNumber,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"GST number (if applicable)"})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Gt,{className:"w-5 h-5 text-primary"}),"Service Information"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Service Categories ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),b?t.jsxs("div",{className:"flex items-center justify-center p-8 border border-slate-200 rounded-lg",children:[t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),t.jsx("span",{className:"ml-3 text-slate-600",children:"Loading categories..."})]}):d.length===0?t.jsx("div",{className:"p-4 border border-amber-200 bg-amber-50 rounded-lg text-amber-800 text-sm",children:"No categories available. Please add categories first."}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:d.map(B=>t.jsxs("label",{className:"flex items-center gap-2 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:N.category.includes(B._id),onChange:()=>C(B._id),className:"w-4 h-4 text-primary focus:ring-primary"}),t.jsx("span",{className:"text-sm text-slate-700",children:B.name})]},B._id))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Mode of Service ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsxs("select",{name:"modeOfService",value:N.modeOfService,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"online",children:"Online"}),t.jsx("option",{value:"offline",children:"Offline"}),t.jsx("option",{value:"both",children:"Both"})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(b0,{className:"w-5 h-5 text-primary"}),"Profile Picture"]}),t.jsxs("div",{className:"flex items-center gap-6",children:[N.profilePicturePreview?t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:N.profilePicturePreview,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-primary"}),t.jsx("button",{type:"button",onClick:re,className:"absolute -top-2 -right-2 bg-rose-500 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-rose-600 transition",children:t.jsx(mt,{className:"w-4 h-4"})})]}):t.jsx("div",{className:"w-32 h-32 rounded-full bg-slate-100 flex items-center justify-center border-2 border-dashed border-slate-300",children:t.jsx(b0,{className:"w-8 h-8 text-slate-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:[t.jsx(Ko,{className:"w-4 h-4"}),"Upload Photo",t.jsx("input",{type:"file",accept:"image/*",onChange:B=>D(B.target.files[0]),className:"hidden"})]}),t.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Recommended: Square image, at least 400x400px"})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Er,{className:"w-5 h-5 text-primary"}),"Service Hubs"]}),t.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Select the service hubs where this partner will operate"}),b?t.jsxs("div",{className:"flex items-center justify-center p-8 border border-slate-200 rounded-lg",children:[t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),t.jsx("span",{className:"ml-3 text-slate-600",children:"Loading hubs..."})]}):u.length===0?t.jsx("div",{className:"p-4 border border-amber-200 bg-amber-50 rounded-lg text-amber-800 text-sm",children:"No hubs available. Please create hubs first in Hub Management."}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:u.map(B=>{var Z;const L=N.selectedHubs.some(W=>W.hubId===B._id),R=((Z=B.areas)==null?void 0:Z.reduce((W,ie)=>{var ae;return W+(((ae=ie.pinCodes)==null?void 0:ae.length)||0)},0))||0;return t.jsxs("label",{className:`flex items-start gap-3 p-4 border-2 rounded-lg cursor-pointer transition ${L?"border-primary bg-primary/5":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:[t.jsx("input",{type:"checkbox",checked:L,onChange:()=>_(B._id),className:"w-5 h-5 text-primary focus:ring-primary mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-semibold text-slate-900",children:B.name}),t.jsx("div",{className:"text-sm text-slate-600",children:B.city||"N/A"}),t.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[R," pin codes"]})]})]},B._id)})}),N.selectedHubs.length>0&&t.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Selected Hubs: ",N.selectedHubs.length]}),t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:N.selectedHubs.map(B=>t.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:B.name},B.hubId))})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Gt,{className:"w-5 h-5 text-primary"}),"KYC Documents"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"panCard",label:"PAN Card"},{key:"aadhaar",label:"Aadhaar Front"},{key:"aadhaarback",label:"Aadhaar Back"},{key:"drivingLicence",label:"Driving Licence"},{key:"bill",label:"Utility Bill"},{key:"chequeImage",label:"Cancelled Cheque"}].map(({key:B,label:L})=>t.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:L}),N.kycDocuments[B]?t.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"text-sm text-green-800",children:N.kycDocuments[B].name})]}),t.jsx("button",{type:"button",onClick:()=>H(B),className:"text-rose-600 hover:text-rose-700",children:t.jsx(mt,{className:"w-4 h-4"})})]}):t.jsxs("label",{className:"cursor-pointer flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-slate-300 rounded-lg hover:border-primary hover:bg-slate-50 transition",children:[t.jsx(Ko,{className:"w-4 h-4 text-slate-400"}),t.jsxs("span",{className:"text-sm text-slate-600",children:["Upload ",L]}),t.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:R=>A(B,R.target.files[0]),className:"hidden"})]})]},B))})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(fs,{className:"w-5 h-5 text-primary"}),"Bank Details"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Account Number"}),t.jsx("input",{type:"text",name:"accountNumber",value:N.bankDetails.accountNumber,onChange:P,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Bank account number"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"IFSC Code"}),t.jsx("input",{type:"text",name:"ifscCode",value:N.bankDetails.ifscCode,onChange:P,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"IFSC code"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Account Holder Name"}),t.jsx("input",{type:"text",name:"accountHolderName",value:N.bankDetails.accountHolderName,onChange:P,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"As per bank records"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bank Name"}),t.jsx("input",{type:"text",name:"bankName",value:N.bankDetails.bankName,onChange:P,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Bank name"})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(m4,{className:"w-5 h-5 text-primary"}),"Terms & Conditions"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"flex items-start gap-3",children:[t.jsx("input",{type:"checkbox",checked:N.terms.accepted,onChange:B=>S(L=>({...L,terms:{...L.terms,accepted:B.target.checked}})),className:"w-5 h-5 text-primary focus:ring-primary mt-0.5"}),t.jsx("span",{className:"text-sm text-slate-700",children:"I confirm that the partner has accepted all terms and conditions"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Partner Signature"}),t.jsx("div",{className:"border-2 border-slate-300 rounded-lg overflow-hidden",children:t.jsx("canvas",{ref:w,width:600,height:200,onMouseDown:xe,onMouseMove:we,onMouseUp:T,onMouseLeave:T,className:"w-full cursor-crosshair bg-white",style:{touchAction:"none"}})}),t.jsxs("div",{className:"flex items-center justify-between mt-2",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Draw signature above"}),t.jsx("button",{type:"button",onClick:z,className:"text-sm text-rose-600 hover:text-rose-700 font-medium",children:"Clear Signature"})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(vt,{className:"w-5 h-5 text-primary"}),"MG Plan Selection (Optional)"]}),t.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Select an MG plan for the partner (can be done later)"}),t.jsx("div",{className:"mb-4 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("p",{className:"text-xs text-blue-800",children:["Showing plans for: ",t.jsx("strong",{className:"capitalize",children:N.partnerType})," partners"]})}),b?t.jsxs("div",{className:"flex items-center justify-center p-8 border border-slate-200 rounded-lg",children:[t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),t.jsx("span",{className:"ml-3 text-slate-600",children:"Loading MG plans..."})]}):x.length===0?t.jsx("div",{className:"p-4 border border-slate-200 bg-slate-50 rounded-lg text-slate-600 text-sm",children:"No MG plans available. Partner can select a plan later."}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:x.map(B=>t.jsxs("label",{className:`relative p-4 border-2 rounded-lg cursor-pointer transition ${N.selectedPlanId===B._id?"border-primary bg-primary/5":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:[t.jsx("input",{type:"radio",name:"selectedPlanId",value:B._id,checked:N.selectedPlanId===B._id,onChange:L=>S(R=>({...R,selectedPlanId:L.target.value,selectedPlan:B.name})),className:"absolute top-4 right-4 w-4 h-4 text-primary focus:ring-primary"}),t.jsxs("div",{className:"pr-8",children:[t.jsx("div",{className:"text-lg font-bold text-slate-900",children:B.name}),t.jsxs("div",{className:"text-2xl font-bold text-primary mt-2",children:["",B.price]}),t.jsxs("div",{className:"text-sm text-slate-600 mt-2 space-y-1",children:[t.jsxs("div",{children:[" ",B.leads," leads/month"]}),t.jsxs("div",{children:[" ",B.commission,"% commission"]}),t.jsxs("div",{children:[" ",B.leadFee," per lead"]})]})]})]},B._id))})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(fs,{className:"w-5 h-5 text-primary"}),"Payment Information"]}),t.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("p",{className:"text-sm text-blue-800",children:[t.jsx("strong",{children:"Note:"})," Fees are automatically set based on partner type (",N.partnerType,"). You can override them if needed."]})}),(()=>{const B=Number(N.registerAmount)||0,L=Number(N.securityDeposit)||0,R=Number(N.toolkitPrice)||0,Z=x.find(ae=>ae._id===N.selectedPlanId),W=Z?Number(Z.price):0,ie=B+L+R+W;return ie>0?t.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-primary/20 rounded-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Total Amount Breakdown:"}),t.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",ie.toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[B>0&&t.jsxs("div",{className:"flex justify-between text-slate-600",children:[t.jsx("span",{children:"Registration Fee:"}),t.jsxs("span",{className:"font-semibold",children:["",B.toLocaleString("en-IN")]})]}),L>0&&t.jsxs("div",{className:"flex justify-between text-slate-600",children:[t.jsx("span",{children:"Security Deposit:"}),t.jsxs("span",{className:"font-semibold",children:["",L.toLocaleString("en-IN")]})]}),R>0&&t.jsxs("div",{className:"flex justify-between text-slate-600",children:[t.jsx("span",{children:"Toolkit Price:"}),t.jsxs("span",{className:"font-semibold",children:["",R.toLocaleString("en-IN")]})]}),W>0&&t.jsxs("div",{className:"flex justify-between text-primary font-semibold",children:[t.jsxs("span",{children:["MG Plan (",Z.name,"):"]}),t.jsxs("span",{children:["",W.toLocaleString("en-IN")]})]})]})]}):null})(),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Registration Amount () ",t.jsx("span",{className:"text-xs text-slate-500",children:"(Auto-fetched)"})]}),t.jsx("input",{type:"number",name:"registerAmount",value:N.registerAmount,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-slate-50",placeholder:"0"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Security Deposit () ",t.jsx("span",{className:"text-xs text-slate-500",children:"(Auto-fetched)"})]}),t.jsx("input",{type:"number",name:"securityDeposit",value:N.securityDeposit,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-slate-50",placeholder:"0"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Toolkit Price () ",t.jsx("span",{className:"text-xs text-slate-500",children:"(Auto-fetched)"})]}),t.jsx("input",{type:"number",name:"toolkitPrice",value:N.toolkitPrice,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-slate-50",placeholder:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Paid By"}),t.jsx("input",{type:"text",name:"paidBy",value:N.paidBy,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Admin/Self/Agent"})]}),t.jsx("div",{className:"md:col-span-2",children:t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",name:"registerdFee",checked:N.registerdFee,onChange:k,className:"w-4 h-4 text-primary focus:ring-primary"}),t.jsx("span",{className:"text-sm text-slate-700",children:"Registration Fee Paid"})]}),t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",name:"paymentApproved",checked:N.paymentApproved,onChange:k,className:"w-4 h-4 text-primary focus:ring-primary"}),t.jsx("span",{className:"text-sm text-slate-700",children:"Payment Approved"})]})]})})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:()=>r("/admin/partners"),className:"px-6 py-3 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:s,className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:s?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Registering..."]}):t.jsxs(t.Fragment,{children:[t.jsx(vt,{className:"w-4 h-4"}),"Register Partner"]})})]})]})]})]})},P6e=[{header:"Name",accessor:"name"},{header:"Email",accessor:"email"},{header:"Phone",accessor:"phone"},{header:"Company",accessor:"companyName"},{header:"Spare Parts",accessor:"sparePartsCount"},{header:"Bookings",accessor:"bookingsCount"},{header:"Revenue",accessor:"revenue"},{header:"Status",accessor:"status"},{header:"Actions",accessor:"actions"}],A6e=()=>{var Q,B,L,R,Z,W,ie,ae,M;const e=er(),{token:r}=kr(),[s,a]=g.useState([]),[n,i]=g.useState(!0),[l,o]=g.useState(null),[d,c]=g.useState(""),[u,m]=g.useState("all"),[x,h]=g.useState(1),[p,f]=g.useState(1),[b,j]=g.useState(!1),[w,y]=g.useState(!1),[v,N]=g.useState(null),[S,k]=g.useState({name:"",email:"",phone:"",password:"",companyName:"",address:{street:"",city:"",state:"",pincode:"",country:"India"},gstNumber:"",panNumber:"",bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}}),[P,C]=g.useState(!1);g.useEffect(()=>{_()},[r,x,u,d]);const _=async()=>{if(r){i(!0),o(null);try{const U=await qe.fetchVendors(r,{page:x,limit:10,search:d,status:u!=="all"?u:""});U.success?(a(U.vendors||[]),f(U.totalPages||1)):o(U.message||"Failed to fetch vendors")}catch(U){console.error("Fetch vendors error:",U),o(U.message||"Failed to fetch vendors"),a([])}finally{i(!1)}}},A=U=>{U.preventDefault(),h(1),_()},D=async(U,q)=>{if(window.confirm(`Are you sure you want to ${q==="active"?"activate":q==="suspended"?"suspend":"deactivate"} this vendor?`))try{await qe.updateVendorStatus(r,U,q),_()}catch(G){alert(G.message||"Failed to update vendor status")}},H=async U=>{if(window.confirm("Are you sure you want to delete this vendor? This action cannot be undone."))try{await qe.deleteVendor(r,U),_()}catch(q){alert(q.message||"Failed to delete vendor")}},re=async U=>{U.preventDefault(),C(!0);try{await qe.createVendor(r,S),j(!1),k({name:"",email:"",phone:"",password:"",companyName:"",address:{street:"",city:"",state:"",pincode:"",country:"India"},gstNumber:"",panNumber:"",bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}}),_()}catch(q){alert(q.message||"Failed to create vendor")}finally{C(!1)}},xe=async U=>{var q;U.preventDefault(),C(!0);try{const G={...S};!G.password||G.password.trim()===""?(delete G.password,console.log("Password field empty, will not update password")):console.log("Password provided, will update password"),console.log("Updating vendor with data:",{vendorId:v._id,fields:Object.keys(G),hasPassword:!!G.password});const Y=await qe.updateVendor(r,v._id,G);console.log("Update response:",Y),Y.success&&(y(!1),N(null),k({name:"",email:"",phone:"",password:"",companyName:"",address:{street:"",city:"",state:"",pincode:"",country:"India"},gstNumber:"",panNumber:"",bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}}),_(),alert("Vendor updated successfully!"))}catch(G){console.error("Update vendor error:",G),alert(G.message||((q=G.data)==null?void 0:q.message)||"Failed to update vendor")}finally{C(!1)}},we=U=>{N(U),k({name:U.name||"",email:U.email||"",phone:U.phone||"",password:"",companyName:U.companyName||"",address:U.address||{street:"",city:"",state:"",pincode:"",country:"India"},gstNumber:U.gstNumber||"",panNumber:U.panNumber||"",bankDetails:U.bankDetails||{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}}),y(!0)},T={total:s.length,active:s.filter(U=>U.status==="active").length,suspended:s.filter(U=>U.status==="suspended").length,inactive:s.filter(U=>U.status==="inactive").length},z=s.map(U=>{var q,G,Y;return{id:U._id,name:U.name||"N/A",email:U.email||"N/A",phone:U.phone||"N/A",companyName:U.companyName||"N/A",sparePartsCount:((q=U.stats)==null?void 0:q.sparePartsCount)||0,bookingsCount:((G=U.stats)==null?void 0:G.bookingsCount)||0,revenue:`${(((Y=U.stats)==null?void 0:Y.totalRevenue)||0).toLocaleString("en-IN")}`,status:U.status||"active",actions:U}});return t.jsxs("div",{className:"space-y-6",children:[t.jsx(vs,{title:"Vendor Management",description:"Create, manage, and monitor vendor accounts",icon:Nr}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(ti,{title:"Total Vendors",value:T.total,icon:Nr,color:"blue"}),t.jsx(ti,{title:"Active Vendors",value:T.active,icon:vt,color:"green"}),t.jsx(ti,{title:"Suspended",value:T.suspended,icon:lf,color:"red"}),t.jsx(ti,{title:"Inactive",value:T.inactive,icon:lf,color:"gray"})]}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[t.jsx("form",{onSubmit:A,className:"flex-1 w-full",children:t.jsxs("div",{className:"relative",children:[t.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",value:d,onChange:U=>c(U.target.value),placeholder:"Search by name, email, phone, company...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),t.jsxs("select",{value:u,onChange:U=>{m(U.target.value),h(1)},className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"}),t.jsx("option",{value:"suspended",children:"Suspended"})]}),t.jsxs("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2",children:[t.jsx(ar,{})," Create Vendor"]})]})}),n?t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading vendors..."})]}):l?t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsx("p",{className:"text-rose-500",children:l}),t.jsx("button",{onClick:_,className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:"Retry"})]}):s.length===0?t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:[t.jsx(Nr,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No Vendors Found"}),t.jsx("p",{className:"text-slate-500 mb-6",children:d||u!=="all"?"No vendors match your current filters. Try adjusting your search or filters.":"Get started by creating your first vendor account."}),!d&&u==="all"&&t.jsxs("button",{onClick:()=>j(!0),className:"px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2 mx-auto",children:[t.jsx(ar,{})," Create First Vendor"]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden",children:t.jsx(Ma,{columns:P6e,data:z.map(U=>({...U,status:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${U.status==="active"?"bg-green-100 text-green-800":U.status==="suspended"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:U.status}),actions:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>e(`/admin/vendors/${U.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"View Details",children:t.jsx(Sn,{})}),t.jsx("button",{onClick:()=>we(U.actions),className:"p-2 text-primary hover:bg-primary/10 rounded-lg transition",title:"Edit",children:t.jsx(m4,{})}),U.status==="active"?t.jsx("button",{onClick:()=>D(U.id,"suspended"),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Suspend",children:t.jsx(lf,{})}):t.jsx("button",{onClick:()=>D(U.id,"active"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition",title:"Activate",children:t.jsx(vt,{})}),t.jsx("button",{onClick:()=>H(U.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete",children:t.jsx(la,{})})]})}))})}),p>1&&t.jsxs("div",{className:"flex items-center justify-between bg-white border border-slate-200 rounded-2xl shadow-sm p-4",children:[t.jsxs("button",{onClick:()=>h(U=>Math.max(1,U-1)),disabled:x===1,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(NM,{})," Previous"]}),t.jsxs("span",{className:"text-slate-600",children:["Page ",x," of ",p]}),t.jsxs("button",{onClick:()=>h(U=>Math.min(p,U+1)),disabled:x===p,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next ",t.jsx(SM,{})]})]})]}),b&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 flex items-center justify-between",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Create New Vendor"}),t.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{})})]}),t.jsxs("form",{onSubmit:re,className:"p-6 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Name *"}),t.jsx("input",{type:"text",value:S.name,onChange:U=>k({...S,name:U.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email *"}),t.jsx("input",{type:"email",value:S.email,onChange:U=>k({...S,email:U.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone *"}),t.jsx("input",{type:"tel",value:S.phone,onChange:U=>k({...S,phone:U.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Password *"}),t.jsx("input",{type:"password",value:S.password,onChange:U=>k({...S,password:U.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Company Name"}),t.jsx("input",{type:"text",value:S.companyName,onChange:U=>k({...S,companyName:U.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Number"}),t.jsx("input",{type:"text",value:S.gstNumber,onChange:U=>k({...S,gstNumber:U.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"PAN Number"}),t.jsx("input",{type:"text",value:S.panNumber,onChange:U=>k({...S,panNumber:U.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),t.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Address"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Street Address"}),t.jsx("input",{type:"text",value:S.address.street||"",onChange:U=>k({...S,address:{...S.address,street:U.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),t.jsx("input",{type:"text",value:S.address.city||"",onChange:U=>k({...S,address:{...S.address,city:U.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"State"}),t.jsx("input",{type:"text",value:S.address.state||"",onChange:U=>k({...S,address:{...S.address,state:U.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:S.address.pincode||"",onChange:U=>k({...S,address:{...S.address,pincode:U.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Country"}),t.jsx("input",{type:"text",value:S.address.country||"India",onChange:U=>k({...S,address:{...S.address,country:U.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),t.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Bank Details"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Bank Name"}),t.jsx("input",{type:"text",value:S.bankDetails.bankName||"",onChange:U=>k({...S,bankDetails:{...S.bankDetails,bankName:U.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Holder Name"}),t.jsx("input",{type:"text",value:S.bankDetails.accountHolderName||"",onChange:U=>k({...S,bankDetails:{...S.bankDetails,accountHolderName:U.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Number"}),t.jsx("input",{type:"text",value:S.bankDetails.accountNumber||"",onChange:U=>k({...S,bankDetails:{...S.bankDetails,accountNumber:U.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"IFSC Code"}),t.jsx("input",{type:"text",value:S.bankDetails.ifscCode||"",onChange:U=>k({...S,bankDetails:{...S.bankDetails,ifscCode:U.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx("button",{type:"submit",disabled:P,className:"flex-1 px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50",children:P?"Creating...":"Create Vendor"}),t.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"})]})]})]})}),w&&v&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 flex items-center justify-between",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Edit Vendor"}),t.jsx("button",{onClick:()=>{y(!1),N(null)},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{})})]}),t.jsxs("form",{onSubmit:xe,className:"p-6 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Name *"}),t.jsx("input",{type:"text",value:S.name,onChange:U=>k({...S,name:U.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email *"}),t.jsx("input",{type:"email",value:S.email,onChange:U=>k({...S,email:U.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone *"}),t.jsx("input",{type:"tel",value:S.phone,onChange:U=>k({...S,phone:U.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"New Password (leave blank to keep current)"}),t.jsx("input",{type:"password",value:S.password,onChange:U=>k({...S,password:U.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Company Name"}),t.jsx("input",{type:"text",value:S.companyName,onChange:U=>k({...S,companyName:U.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Number"}),t.jsx("input",{type:"text",value:S.gstNumber,onChange:U=>k({...S,gstNumber:U.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"PAN Number"}),t.jsx("input",{type:"text",value:S.panNumber,onChange:U=>k({...S,panNumber:U.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),t.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Address"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Street Address"}),t.jsx("input",{type:"text",value:((Q=S.address)==null?void 0:Q.street)||"",onChange:U=>k({...S,address:{...S.address,street:U.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),t.jsx("input",{type:"text",value:((B=S.address)==null?void 0:B.city)||"",onChange:U=>k({...S,address:{...S.address,city:U.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"State"}),t.jsx("input",{type:"text",value:((L=S.address)==null?void 0:L.state)||"",onChange:U=>k({...S,address:{...S.address,state:U.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:((R=S.address)==null?void 0:R.pincode)||"",onChange:U=>k({...S,address:{...S.address,pincode:U.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Country"}),t.jsx("input",{type:"text",value:((Z=S.address)==null?void 0:Z.country)||"India",onChange:U=>k({...S,address:{...S.address,country:U.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),t.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Bank Details"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Bank Name"}),t.jsx("input",{type:"text",value:((W=S.bankDetails)==null?void 0:W.bankName)||"",onChange:U=>k({...S,bankDetails:{...S.bankDetails,bankName:U.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Holder Name"}),t.jsx("input",{type:"text",value:((ie=S.bankDetails)==null?void 0:ie.accountHolderName)||"",onChange:U=>k({...S,bankDetails:{...S.bankDetails,accountHolderName:U.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Number"}),t.jsx("input",{type:"text",value:((ae=S.bankDetails)==null?void 0:ae.accountNumber)||"",onChange:U=>k({...S,bankDetails:{...S.bankDetails,accountNumber:U.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"IFSC Code"}),t.jsx("input",{type:"text",value:((M=S.bankDetails)==null?void 0:M.ifscCode)||"",onChange:U=>k({...S,bankDetails:{...S.bankDetails,ifscCode:U.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx("button",{type:"submit",disabled:P,className:"flex-1 px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50",children:P?"Updating...":"Update Vendor"}),t.jsx("button",{type:"button",onClick:()=>{y(!1),N(null)},className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"})]})]})]})})]})},T6e=()=>{var u,m,x,h;const{vendorId:e}=wm(),r=er(),{token:s}=kr(),[a,n]=g.useState(null),[i,l]=g.useState(!0),[o,d]=g.useState(null);g.useEffect(()=>{c()},[s,e]);const c=async()=>{if(!(!s||!e)){l(!0),d(null);try{const p=await qe.getVendorDetails(s,e);p.success?n(p.vendor):d(p.message||"Failed to fetch vendor details")}catch(p){console.error("Fetch vendor details error:",p),d(p.message||"Failed to fetch vendor details")}finally{l(!1)}}};return i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):o||!a?t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsx("p",{className:"text-rose-500",children:o||"Vendor not found"}),t.jsx("button",{onClick:()=>r("/admin/vendors"),className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:"Back to Vendors"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>r("/admin/vendors"),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(ox,{className:"text-xl"})}),t.jsx(vs,{title:`Vendor: ${a.name}`,description:"View vendor details and activities",icon:Or})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Spare Parts"}),t.jsx(Gr,{className:"text-primary text-xl"})]}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((u=a.stats)==null?void 0:u.sparePartsCount)||0})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Bookings"}),t.jsx(Oa,{className:"text-primary text-xl"})]}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((m=a.stats)==null?void 0:m.bookingsCount)||0})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Total Revenue"}),t.jsx(Yt,{className:"text-primary text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:["",(((x=a.stats)==null?void 0:x.totalRevenue)||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Balance"}),t.jsx(Yt,{className:"text-primary text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:["",(((h=a.stats)==null?void 0:h.balance)||0).toLocaleString("en-IN")]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Vendor Information"}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${a.status==="active"?"bg-green-100 text-green-800":a.status==="suspended"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:a.status})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Name"}),t.jsxs("p",{className:"text-slate-800 flex items-center gap-2",children:[t.jsx(Or,{className:"text-slate-400"}),a.name]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Email"}),t.jsxs("p",{className:"text-slate-800 flex items-center gap-2",children:[t.jsx(sn,{className:"text-slate-400"}),a.email]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Phone"}),t.jsxs("p",{className:"text-slate-800 flex items-center gap-2",children:[t.jsx(an,{className:"text-slate-400"}),a.phone]})]}),a.companyName&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Company Name"}),t.jsx("p",{className:"text-slate-800",children:a.companyName})]}),a.gstNumber&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"GST Number"}),t.jsx("p",{className:"text-slate-800",children:a.gstNumber})]}),a.panNumber&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"PAN Number"}),t.jsx("p",{className:"text-slate-800",children:a.panNumber})]}),a.address&&t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Address"}),t.jsxs("p",{className:"text-slate-800",children:[a.address.street&&`${a.address.street}, `,a.address.city&&`${a.address.city}, `,a.address.state&&`${a.address.state} - `,a.address.pincode]})]}),a.bankDetails&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Bank Name"}),t.jsx("p",{className:"text-slate-800",children:a.bankDetails.bankName||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Account Number"}),t.jsx("p",{className:"text-slate-800",children:a.bankDetails.accountNumber||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"IFSC Code"}),t.jsx("p",{className:"text-slate-800",children:a.bankDetails.ifscCode||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Account Holder Name"}),t.jsx("p",{className:"text-slate-800",children:a.bankDetails.accountHolderName||"N/A"})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Created At"}),t.jsx("p",{className:"text-slate-800",children:new Date(a.createdAt).toLocaleDateString()})]}),a.lastLogin&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Last Login"}),t.jsx("p",{className:"text-slate-800",children:new Date(a.lastLogin).toLocaleDateString()})]})]})]}),a.spareParts&&a.spareParts.length>0&&t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Recent Spare Parts"}),t.jsx("div",{className:"space-y-2",children:a.spareParts.slice(0,5).map(p=>{var f;return t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-slate-800",children:p.name}),t.jsxs("p",{className:"text-sm text-slate-600",children:["",(f=p.price)==null?void 0:f.toLocaleString("en-IN")," | Stock: ",p.stock]})]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${p.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.status})]},p._id)})})]}),a.recentBookings&&a.recentBookings.length>0&&t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Recent Bookings"}),t.jsx("div",{className:"space-y-2",children:a.recentBookings.slice(0,5).map(p=>{var f,b;return t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-slate-800",children:((f=p.sparePart)==null?void 0:f.name)||"N/A"}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Qty: ",p.quantity," | ",(b=p.totalAmount)==null?void 0:b.toLocaleString("en-IN")]})]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${p.status==="delivered"?"bg-green-100 text-green-800":p.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:p.status})]},p._id)})})]})]})},E6e=()=>{const{token:e}=kr(),[r,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState(""),[o,d]=g.useState("all"),[c,u]=g.useState(null),[m,x]=g.useState(!1);g.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{n(!0);const j=await qe.fetchCustomers(e,{page:1,limit:1e3});s(j.customers||[])}catch(j){console.error("Error fetching customers:",j),s([])}finally{n(!1)}},p=r.filter(j=>{var v,N,S;const w=((v=j.name)==null?void 0:v.toLowerCase().includes(i.toLowerCase()))||((N=j.email)==null?void 0:N.toLowerCase().includes(i.toLowerCase()))||((S=j.phone)==null?void 0:S.includes(i)),y=o==="all"||j.status===o;return w&&y}),f=j=>{u(j),x(!0)},b=()=>{const j=["Name","Email","Phone","Total Bookings","Total Spent","Joined Date"],w=p.map(k=>[k.name,k.email,k.phone,k.totalBookings||0,k.totalSpent||0,new Date(k.createdAt).toLocaleDateString()]),y=[j,...w].map(k=>k.join(",")).join(`
`),v=new Blob([y],{type:"text/csv"}),N=window.URL.createObjectURL(v),S=document.createElement("a");S.href=N,S.download="customers.csv",S.click()};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Customer Management"}),t.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Manage and view all registered customers"})]}),t.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:[t.jsx(In,{})," Export CSV"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Customers"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800 mt-1",children:r.length})]}),t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(Sn,{className:"text-blue-600 text-xl"})})]})}),t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Active Customers"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800 mt-1",children:r.filter(j=>j.status==="active").length})]}),t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx(PM,{className:"text-green-600 text-xl"})})]})}),t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"New This Month"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800 mt-1",children:r.filter(j=>{const w=new Date(j.createdAt),y=new Date;return w.getMonth()===y.getMonth()&&w.getFullYear()===y.getFullYear()}).length})]}),t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx(Ps,{className:"text-purple-600 text-xl"})})]})}),t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-800 mt-1",children:["",r.reduce((j,w)=>j+(w.totalSpent||0),0).toLocaleString()]})]}),t.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:t.jsx(fs,{className:"text-yellow-600 text-xl"})})]})})]}),t.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Fa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search by name, email, or phone...",value:i,onChange:j=>l(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Dd,{className:"text-slate-400"}),t.jsxs("select",{value:o,onChange:j=>d(j.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:a?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),t.jsx("p",{className:"text-slate-500 mt-4",children:"Loading customers..."})]}):p.length===0?t.jsx("div",{className:"p-8 text-center",children:t.jsx("p",{className:"text-slate-500",children:"No customers found"})}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Customer"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Contact"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Bookings"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total Spent"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Joined"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:p.map(j=>{var w;return t.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-semibold",children:(w=j.name)==null?void 0:w.charAt(0).toUpperCase()}),t.jsxs("div",{className:"ml-3",children:[t.jsx("p",{className:"text-sm font-medium text-slate-900",children:j.name}),t.jsx("p",{className:"text-xs text-slate-500",children:j.email})]})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm text-slate-900",children:j.phone}),j.currentAddress&&t.jsx("div",{className:"text-xs text-slate-500 mt-1",children:j.currentAddress.pincode&&`PIN: ${j.currentAddress.pincode}`})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-slate-900",children:j.totalBookings||0})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-medium text-slate-900",children:["",(j.totalSpent||0).toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-slate-500",children:new Date(j.createdAt).toLocaleDateString()})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${j.status==="active"?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:j.status||"active"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:t.jsx("button",{onClick:()=>f(j),className:"text-primary hover:text-primary-dark font-medium",children:"View Details"})})]},j._id)})})]})})}),m&&c&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsx("div",{className:"p-6 border-b border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Customer Details"}),t.jsx("button",{onClick:()=>x(!1),className:"text-slate-400 hover:text-slate-600",children:""})]})}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase mb-3",children:"Basic Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Name"}),t.jsx("p",{className:"text-sm font-medium text-slate-900",children:c.name})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Status"}),t.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full ${c.status==="active"?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:c.status||"active"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase mb-3",children:"Contact Information"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(sn,{className:"text-slate-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Email"}),t.jsx("p",{className:"text-sm text-slate-900",children:c.email||"N/A"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(an,{className:"text-slate-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Phone"}),t.jsx("p",{className:"text-sm text-slate-900",children:c.phone})]})]}),c.currentAddress&&t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Er,{className:"text-slate-400 mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Current Address"}),t.jsx("p",{className:"text-sm text-slate-900",children:c.currentAddress.address}),c.currentAddress.landmark&&t.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:["Landmark: ",c.currentAddress.landmark]}),t.jsxs("div",{className:"flex gap-2 mt-1",children:[c.currentAddress.addressType&&t.jsx("span",{className:"inline-block px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:c.currentAddress.addressType}),c.currentAddress.pincode&&t.jsxs("span",{className:"inline-block px-2 py-0.5 text-xs font-medium bg-slate-100 text-slate-800 rounded",children:["PIN: ",c.currentAddress.pincode]})]})]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase mb-3",children:"Statistics"}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Total Bookings"}),t.jsx("p",{className:"text-xl font-bold text-slate-900",children:c.totalBookings||0})]}),t.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Total Spent"}),t.jsxs("p",{className:"text-xl font-bold text-slate-900",children:["",(c.totalSpent||0).toLocaleString()]})]}),t.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Member Since"}),t.jsx("p",{className:"text-sm font-medium text-slate-900",children:new Date(c.createdAt).toLocaleDateString()})]})]})]}),c.addresses&&c.addresses.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase mb-3",children:"All Saved Addresses"}),t.jsx("div",{className:"space-y-3",children:c.addresses.map((j,w)=>t.jsx("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-slate-900",children:j.address}),j.landmark&&t.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:["Landmark: ",j.landmark]}),t.jsxs("div",{className:"flex gap-2 mt-2",children:[j.addressType&&t.jsx("span",{className:"inline-block px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:j.addressType}),j.pincode&&t.jsxs("span",{className:"inline-block px-2 py-0.5 text-xs font-medium bg-slate-200 text-slate-800 rounded",children:["PIN: ",j.pincode]})]})]}),c.selectedAddress===j._id&&t.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-semibold bg-green-100 text-green-800 rounded",children:"Current"})]})},w))})]})]})]})})]})},o6=({booking:e,variant:r="primary",size:s="md",showText:a=!0,className:n="",disabled:i=!1})=>{const l=er(),o=()=>!!e,d=()=>{if(!e||i)return;const p=e._id||e.id||e.bookingId;if(!p){console.error("No booking ID found");return}l(`/invoice?bookingId=${p}`)},c=p=>{if(p.stopPropagation(),!e||i)return;const f=e._id||e.id||e.bookingId;if(!f){console.error("No booking ID found");return}const b=`/invoice?bookingId=${f}`,j=window.open(b,"_blank","width=800,height=600");j&&j.addEventListener("load",()=>{setTimeout(()=>{j.print()},1e3)})};if(!o())return null;const u="inline-flex items-center justify-center rounded-xl font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",m={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 border-2 border-blue-600",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500 border-2 border-gray-200",outline:"border-2 border-blue-600 bg-white text-blue-600 hover:bg-blue-50 focus:ring-blue-500",success:"bg-green-50 text-green-700 hover:bg-green-100 border-2 border-green-200 focus:ring-green-500",ghost:"text-blue-600 hover:bg-blue-50 focus:ring-blue-500"},x={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base"},h={sm:16,md:18,lg:20};return t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:d,disabled:i,className:`${u} ${m[r]} ${x[s]} ${n} ${i?"opacity-50 cursor-not-allowed":""} flex-1 min-w-[120px]`,title:"View Invoice",children:[t.jsx(Gt,{size:h[s],className:a?"mr-2":""}),a&&"View Invoice"]}),t.jsx("button",{onClick:c,disabled:i,className:`${u} ${m.ghost} ${x[s]} ${i?"opacity-50 cursor-not-allowed":""} px-3`,title:"Print Invoice",children:t.jsx(km,{size:h[s]})})]})},I6e=({booking:e,className:r=""})=>t.jsx(o6,{booking:e,variant:"ghost",size:"sm",showText:!1,className:r}),O6e=({booking:e,className:r=""})=>{var n;if(!e)return null;const s=(n=e.status)==null?void 0:n.toLowerCase();let a="outline";return["completed","delivered"].includes(s)?a="success":["confirmed","paid"].includes(s)?a="primary":["pending"].includes(s)&&(a="secondary"),t.jsx(o6,{booking:e,variant:a,size:"md",showText:!0,className:r})},c6=({quotation:e,onClose:r,onAccept:s,onReject:a,userType:n,token:i})=>{var N,S,k,P,C,_,A,D,H,re,xe,we,T,z;const[l,o]=g.useState(""),[d,c]=g.useState(!1),[u,m]=g.useState(!1),[x,h]=g.useState(null);if(!e)return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Error"}),t.jsx("p",{className:"text-slate-600 mb-4",children:"Quotation data is missing or invalid."}),t.jsx("button",{onClick:r,className:"w-full px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition",children:"Close"})]})});const p=Q=>{switch(Q){case"accepted":case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"expired":return"bg-gray-100 text-gray-800";default:return"bg-slate-100 text-slate-800"}},f=Q=>{switch(Q){case"accepted":case"approved":return t.jsx(vt,{className:"w-4 h-4"});case"rejected":return t.jsx(wn,{className:"w-4 h-4"});case"pending":return t.jsx(qr,{className:"w-4 h-4"});default:return t.jsx(qr,{className:"w-4 h-4"})}},b=async()=>{h(null),m(!0);try{await s(e._id),r()}catch(Q){h(Q.message||"Failed to accept quotation")}finally{m(!1)}},j=async()=>{if(!l.trim()&&n==="admin"){h("Please provide a rejection reason");return}h(null),m(!0);try{await a(e._id,l),r()}catch(Q){h(Q.message||"Failed to reject quotation")}finally{m(!1)}},w=n==="customer"&&e.customerStatus==="pending",y=n==="partner"&&e.partnerStatus==="pending",v=e.validTill?new Date(e.validTill)<new Date:!1;return g.useEffect(()=>{var Q;console.log("=== QuotationDetailsModal Debug ==="),console.log("Quotation data:",e),console.log("Quotation ID:",e._id),console.log("Quotation Number:",e.quotationNumber),console.log("Items:",e.items),console.log("Items count:",((Q=e.items)==null?void 0:Q.length)||0),console.log("User:",e.user),console.log("Partner:",e.partner),console.log("Booking:",e.booking),console.log("Subtotal:",e.subtotal),console.log("Total Amount:",e.totalAmount),console.log("===============================")},[e]),t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Quotation Details"}),t.jsxs("p",{className:"text-sm text-slate-600",children:["#",e.quotationNumber]})]}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:u,children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[x&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:x}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Or,{className:"w-4 h-4 text-slate-600"}),t.jsx("span",{className:"text-xs text-slate-600",children:"Customer Status"})]}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 w-fit ${p(e.customerStatus)}`,children:[f(e.customerStatus),((N=e.customerStatus)==null?void 0:N.charAt(0).toUpperCase())+((S=e.customerStatus)==null?void 0:S.slice(1))||"Pending"]}),e.customerResponseAt&&t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:new Date(e.customerResponseAt).toLocaleString()})]}),e.partnerStatus!=="not_required"&&t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Jr,{className:"w-4 h-4 text-slate-600"}),t.jsx("span",{className:"text-xs text-slate-600",children:"Partner Status"})]}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 w-fit ${p(e.partnerStatus)}`,children:[f(e.partnerStatus),e.partnerStatus==="not_required"?"Not Required":((k=e.partnerStatus)==null?void 0:k.charAt(0).toUpperCase())+((P=e.partnerStatus)==null?void 0:P.slice(1))||"Pending"]}),e.partnerResponseAt&&t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:new Date(e.partnerResponseAt).toLocaleString()})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(qr,{className:"w-4 h-4 text-slate-600"}),t.jsx("span",{className:"text-xs text-slate-600",children:"Overall Status"})]}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 w-fit ${p(e.status)}`,children:[f(e.status),((C=e.status)==null?void 0:C.replace("_"," ").split(" ").map(Q=>Q.charAt(0).toUpperCase()+Q.slice(1)).join(" "))||"Pending"]})]})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Booking Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-600",children:"Booking ID:"}),t.jsx("span",{className:"ml-2 font-semibold",children:((_=e.booking)==null?void 0:_.bookingId)||((D=(A=e.booking)==null?void 0:A._id)==null?void 0:D.toString().slice(-8))||((H=e.booking)==null?void 0:H.toString().slice(-8))||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-600",children:"Customer:"}),t.jsx("span",{className:"ml-2 font-semibold",children:((re=e.user)==null?void 0:re.name)||e.user||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-600",children:"Partner:"}),t.jsx("span",{className:"ml-2 font-semibold",children:((we=(xe=e.partner)==null?void 0:xe.profile)==null?void 0:we.name)||((T=e.partner)==null?void 0:T.phone)||((z=e.partner)==null?void 0:z.name)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-600",children:"Valid Till:"}),t.jsxs("span",{className:`ml-2 font-semibold ${v?"text-red-600":""}`,children:[e.validTill?new Date(e.validTill).toLocaleDateString():"N/A",v&&" (Expired)"]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Items"}),e.items&&e.items.length>0?t.jsx("div",{className:"space-y-2",children:e.items.map((Q,B)=>t.jsxs("div",{className:"border border-slate-200 rounded-lg p-3",children:[t.jsxs("div",{className:"flex justify-between items-start mb-1",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-slate-800",children:Q.name||"Item "+(B+1)}),Q.description&&t.jsx("p",{className:"text-xs text-slate-600 mt-1",children:Q.description})]}),t.jsxs("p",{className:"font-semibold text-slate-800",children:["",(Q.total||0).toFixed(2)]})]}),t.jsxs("div",{className:"flex gap-4 text-xs text-slate-600",children:[t.jsxs("span",{children:["Qty: ",Q.quantity||1]}),t.jsxs("span",{children:["Unit Price: ",(Q.unitPrice||0).toFixed(2)]})]})]},B))}):t.jsx("p",{className:"text-sm text-slate-500 italic",children:"No items found in this quotation."})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Subtotal:"}),t.jsxs("span",{className:"font-semibold",children:["",(e.subtotal||0).toFixed(2)]})]}),(e.tax||0)>0&&t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Tax:"}),t.jsxs("span",{className:"font-semibold",children:["",(e.tax||0).toFixed(2)]})]}),(e.discount||0)>0&&t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Discount:"}),t.jsxs("span",{className:"font-semibold",children:["-",(e.discount||0).toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-base font-bold pt-2 border-t border-slate-300",children:[t.jsx("span",{children:"Total Amount:"}),t.jsxs("span",{className:"text-primary",children:["",(e.totalAmount||0).toFixed(2)]})]})]}),e.description&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Description"}),t.jsx("p",{className:"text-sm text-slate-600",children:e.description})]}),e.notes&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Notes"}),t.jsx("p",{className:"text-sm text-slate-600",children:e.notes})]}),e.customerRejectionReason&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-red-700 mb-1",children:"Customer Rejection Reason"}),t.jsx("p",{className:"text-sm text-red-600",children:e.customerRejectionReason})]}),e.partnerRejectionReason&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-red-700 mb-1",children:"Partner Rejection Reason"}),t.jsx("p",{className:"text-sm text-red-600",children:e.partnerRejectionReason})]}),e.adminRejectionReason&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-red-700 mb-1",children:"Admin Rejection Reason"}),t.jsx("p",{className:"text-sm text-red-600",children:e.adminRejectionReason})]}),(w||y)&&!v&&t.jsx("div",{className:"pt-4 border-t border-slate-200",children:d?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Rejection Reason ",n==="partner"&&t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:l,onChange:Q=>o(Q.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"Please provide a reason for rejection...",disabled:u})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:()=>{c(!1),o(""),h(null)},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",disabled:u,children:"Cancel"}),t.jsx("button",{type:"button",onClick:j,className:"flex-1 px-4 py-3 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:u,children:u?"Rejecting...":"Confirm Rejection"})]})]}):t.jsxs("div",{className:"space-y-3",children:[y&&t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-blue-700 mb-2",children:"Partner Approval Required"}),t.jsx("p",{className:"text-sm text-blue-600 mb-3",children:"As a franchise partner, you need to approve this quotation before the customer can accept it."}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{type:"button",onClick:b,className:"flex-1 px-4 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",disabled:u,children:[t.jsx(vt,{className:"w-5 h-5"}),u?"Approving...":"Approve Quotation"]}),t.jsxs("button",{type:"button",onClick:()=>c(!0),className:"flex-1 px-4 py-3 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",disabled:u,children:[t.jsx(wn,{className:"w-5 h-5"}),"Reject Quotation"]})]})]}),w&&t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{type:"button",onClick:b,className:"flex-1 px-4 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",disabled:u,children:[t.jsx(vt,{className:"w-5 h-5"}),u?"Processing...":"Accept Quotation"]}),t.jsxs("button",{type:"button",onClick:()=>c(!0),className:"flex-1 px-4 py-3 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",disabled:u,children:[t.jsx(wn,{className:"w-5 h-5"}),"Reject Quotation"]})]})]})}),!w&&!y&&t.jsx("div",{className:"pt-4 border-t border-slate-200",children:t.jsx("button",{type:"button",onClick:r,className:"w-full px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Close"})})]})]})})},_6e=()=>{const{token:e}=kr(),[r,s]=g.useState([]),[a,n]=g.useState([]),[i,l]=g.useState({}),[o,d]=g.useState(!0),[c,u]=g.useState(!1),[m,x]=g.useState(null),[h,p]=g.useState({dateRange:"all",status:"all",search:""}),[f,b]=g.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:20,hasNextPage:!1,hasPrevPage:!1}),[j,w]=g.useState(null),[y,v]=g.useState(!1),[N,S]=g.useState(null),[k,P]=g.useState({}),[C,_]=g.useState(!1),[A,D]=g.useState(null),[H,re]=g.useState({search:"",sortBy:"name",sortOrder:"asc",partnerType:"all"});g.useEffect(()=>{e&&z(f.currentPage)},[e,h.dateRange,h.status,h.search,f.currentPage,f.itemsPerPage]),g.useEffect(()=>{r.length>0&&e&&xe()},[r,e]);const xe=async()=>{_(!0);try{const ne=r.map(async F=>{try{const ue=F._id||F.bookingId;if(!ue)return null;const J=await qe.getQuotationsByBooking?await qe.getQuotationsByBooking(e,ue):await fetch(`https://nexo.works/api/admin/bookings/${ue}/quotations`,{headers:{Authorization:`Bearer ${e}`}}).then(be=>be.json());return J&&J.success&&J.data?{bookingId:ue,quotations:J.data}:null}catch(ue){return console.error(`Failed to fetch quotations for booking ${F._id}:`,ue),null}}),ce=await Promise.allSettled(ne),pe={};ce.forEach(F=>{if(F.status==="fulfilled"&&F.value){const{bookingId:ue,quotations:J}=F.value;pe[ue]=J}}),P(pe)}catch(ne){console.error("Error fetching quotations:",ne)}finally{_(!1)}},we=async ne=>{try{(await qe.approveQuotation(e,ne)).success&&(await xe(),alert("Quotation approved successfully!"))}catch(ce){throw console.error("Error approving quotation:",ce),ce}},T=async(ne,ce)=>{try{(await qe.rejectQuotation(e,ne,ce)).success&&(await xe(),alert("Quotation rejected successfully!"))}catch(pe){throw console.error("Error rejecting quotation:",pe),pe}},z=async(ne=f.currentPage)=>{var ce,pe;try{d(!0);const F=typeof ne=="number"?ne:parseInt(ne)||1,ue=await qe.fetchBookings(e,{page:F,limit:f.itemsPerPage,status:h.status!=="all"?h.status:void 0,fromDate:(ce=L(h.dateRange))==null?void 0:ce.from,toDate:(pe=L(h.dateRange))==null?void 0:pe.to,search:h.search||void 0});s(ue.data||[]),ue.pagination&&b(J=>({...J,currentPage:ue.pagination.currentPage,totalPages:ue.pagination.totalPages,totalItems:ue.pagination.totalItems,hasNextPage:ue.pagination.hasNextPage,hasPrevPage:ue.pagination.hasPrevPage}))}catch(F){x(F.message||"Failed to fetch bookings")}finally{d(!1)}},Q=async()=>{try{const ne=await qe.fetchTeamMembers(e,{status:"active"}),ce={};ne.data&&ne.data.forEach(pe=>{var ue;const F=((ue=pe.partner)==null?void 0:ue._id)||pe.partner;F&&(ce[F]||(ce[F]=[]),ce[F].push(pe))}),l(ce)}catch(ne){console.error("Failed to fetch team members:",ne)}},B=async()=>{try{u(!0);const ce=((await qe.fetchPartners(e,{page:1,limit:100,status:"approved"})).partners||[]).map(pe=>({_id:pe.Profile.id,profile:{name:pe.Profile.name,email:pe.Profile.email,city:pe.Profile.address||`Pincode: ${pe.Profile.pincode}`,pincode:pe.Profile.pincode,address:pe.Profile.address},phone:pe.Profile.phone,partnerType:pe.Profile.partnerType,mgPlan:pe.mgPlan,mgPlanLeadQuota:pe.mgPlanLeadQuota||0,mgPlanLeadsUsed:pe.mgPlanLeadsUsed||0,mgPlanSubscribedAt:pe.mgPlanSubscribedAt,mgPlanExpiresAt:pe.mgPlanExpiresAt}));n(ce),await Q()}catch(ne){console.error("Failed to fetch partners:",ne)}finally{u(!1)}},L=ne=>{const ce=new Date;switch(ne){case"today":return{from:new Date(ce.getFullYear(),ce.getMonth(),ce.getDate()).toISOString(),to:new Date(ce.getFullYear(),ce.getMonth(),ce.getDate()+1).toISOString()};case"week":const pe=new Date(ce.setDate(ce.getDate()-ce.getDay()));return{from:new Date(pe.getFullYear(),pe.getMonth(),pe.getDate()).toISOString(),to:new Date().toISOString()};case"month":return{from:new Date(ce.getFullYear(),ce.getMonth(),1).toISOString(),to:new Date().toISOString()};default:return null}},R=ne=>{ne>=1&&ne<=f.totalPages&&b(ce=>({...ce,currentPage:ne}))},Z=ne=>{b(ce=>({...ce,itemsPerPage:ne,currentPage:1}))},W=()=>{b(ne=>({...ne,currentPage:1}))},ie=(ne,ce)=>{p(pe=>({...pe,[ne]:ce})),W()},ae=ne=>({pending:"text-yellow-600 bg-yellow-50",confirmed:"text-blue-600 bg-blue-50",in_progress:"text-purple-600 bg-purple-50",completed:"text-green-600 bg-green-50",cancelled:"text-red-600 bg-red-50",accepted:"text-indigo-600 bg-indigo-50"})[ne]||"text-gray-600 bg-gray-50",M=ne=>({pending:qr,confirmed:vt,in_progress:Dt,completed:vt,cancelled:wn,accepted:vt})[ne]||rl,U=g.useCallback(ne=>ne.mgPlan?Math.max(0,ne.mgPlanLeadQuota-ne.mgPlanLeadsUsed):"No Plan",[]),q=g.useCallback(ne=>!ne.mgPlan||ne.mgPlanLeadQuota===0?0:Math.min(100,ne.mgPlanLeadsUsed/ne.mgPlanLeadQuota*100),[]),G=ne=>{w(ne),v(!0),re({search:"",sortBy:"name",sortOrder:"asc",partnerType:"all"}),B()},Y=(ne,ce)=>{re(pe=>({...pe,[ne]:ce}))},oe=g.useMemo(()=>{let ne=a;if(H.partnerType&&H.partnerType!=="all"&&(ne=ne.filter(ce=>ce.partnerType===H.partnerType)),H.search){const ce=H.search.toLowerCase();ne=ne.filter(pe=>{var F,ue,J,be,ge,Ne,Ie,Je,dt;return((ue=(F=pe.profile)==null?void 0:F.name)==null?void 0:ue.toLowerCase().includes(ce))||((J=pe.phone)==null?void 0:J.includes(H.search))||((ge=(be=pe.profile)==null?void 0:be.address)==null?void 0:ge.toLowerCase().includes(ce))||((Ie=(Ne=pe.profile)==null?void 0:Ne.city)==null?void 0:Ie.toLowerCase().includes(ce))||((dt=(Je=pe.mgPlan)==null?void 0:Je.name)==null?void 0:dt.toLowerCase().includes(ce))})}return ne.sort((ce,pe)=>{var J,be,ge,Ne,Ie,Je;let F,ue;switch(H.sortBy){case"name":F=((J=ce.profile)==null?void 0:J.name)||"",ue=((be=pe.profile)==null?void 0:be.name)||"";break;case"leads":F=U(ce),ue=U(pe),F=typeof F=="string"?-1:F,ue=typeof ue=="string"?-1:ue;break;case"mgPlan":F=((ge=ce.mgPlan)==null?void 0:ge.name)||"No Plan",ue=((Ne=pe.mgPlan)==null?void 0:Ne.name)||"No Plan";break;case"leadUsage":F=q(ce),ue=q(pe);break;default:F=((Ie=ce.profile)==null?void 0:Ie.name)||"",ue=((Je=pe.profile)==null?void 0:Je.name)||""}return typeof F=="string"&&typeof ue=="string"?H.sortOrder==="asc"?F.localeCompare(ue):ue.localeCompare(F):H.sortOrder==="asc"?F-ue:ue-F}),ne},[a,H,U,q]),Be=async ne=>{var ce;try{S(ne);const pe=((ce=j.booking)==null?void 0:ce._id)||j._id;await qe.assignBooking(e,pe,ne,null);const F=a.find(ue=>ue._id===ne);s(ue=>ue.map(J=>{var be;return J._id===j._id?{...J,partner:F,partnerName:((be=F==null?void 0:F.profile)==null?void 0:be.name)||"Unknown Partner",partnerPhone:(F==null?void 0:F.phone)||"No phone",partnerId:ne}:J})),v(!1),w(null),alert("Partner assigned successfully!")}catch(pe){console.error("Failed to assign partner:",pe),alert("Failed to assign partner: "+(pe.message||"Unknown error"))}finally{S(null)}},fe=r;return o?t.jsx("div",{className:"flex items-center justify-center min-h-96",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Dt,{className:"animate-spin text-2xl text-primary"}),t.jsx("span",{className:"text-lg",children:"Loading bookings..."})]})}):m?t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 text-red-700",children:[t.jsx(wn,{className:"text-xl"}),t.jsx("span",{className:"font-medium",children:"Error loading data"})]}),t.jsx("p",{className:"text-red-600 mt-2",children:m}),t.jsx("button",{onClick:z,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Try Again"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customer Bookings"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and assign bookings to partners"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:[t.jsx(Dt,{className:"text-sm"}),"Refresh"]}),t.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[t.jsx(In,{className:"text-sm"}),"Export"]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(Dd,{className:"text-gray-500"}),t.jsx("span",{className:"font-medium text-gray-700",children:"Filters & Search"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),t.jsxs("div",{className:"relative",children:[t.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search by customer, phone, service...",value:h.search,onChange:ne=>ie("search",ne.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),t.jsxs("select",{value:h.dateRange,onChange:ne=>ie("dateRange",ne.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Time"}),t.jsx("option",{value:"today",children:"Today"}),t.jsx("option",{value:"week",children:"This Week"}),t.jsx("option",{value:"month",children:"This Month"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),t.jsxs("select",{value:h.status,onChange:ne=>ie("status",ne.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"confirmed",children:"Confirmed"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),t.jsx("div",{className:"flex items-end",children:t.jsx("button",{onClick:()=>p({dateRange:"all",status:"all",search:""}),className:"w-full px-3 py-2 text-sm text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Clear Filters"})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Bookings"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.totalItems}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Showing ",fe.length," on this page"]})]}),t.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:t.jsx(Ps,{className:"text-xl text-blue-600"})})]})}),t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Assignment"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:fe.filter(ne=>!ne.partner&&ne.partnerName==="Still not assigned").length}),t.jsx("p",{className:"text-xs text-gray-500",children:"On current page"})]}),t.jsx("div",{className:"p-3 bg-yellow-50 rounded-lg",children:t.jsx(tg,{className:"text-xl text-yellow-600"})})]})}),t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Assigned"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:fe.filter(ne=>ne.partner||ne.partnerName!=="Still not assigned").length}),t.jsx("p",{className:"text-xs text-gray-500",children:"On current page"})]}),t.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:t.jsx(vt,{className:"text-xl text-green-600"})})]})}),t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Page Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",fe.reduce((ne,ce)=>ne+(ce.amount||0),0).toLocaleString()]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Current page total"})]}),t.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:t.jsx(Yt,{className:"text-xl text-purple-600"})})]})}),t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Quotations"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Object.values(k).reduce((ne,ce)=>ne+ce.length,0)}),t.jsxs("p",{className:"text-xs text-gray-500",children:[Object.values(k).reduce((ne,ce)=>ne+ce.filter(pe=>pe.adminStatus==="pending").length,0)," pending review"]})]}),t.jsx("div",{className:"p-3 bg-indigo-50 rounded-lg",children:t.jsx(Sn,{className:"text-xl text-indigo-600"})})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"All Bookings"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned Partner"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quotations"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:fe.map(ne=>{var pe,F,ue,J,be;const ce=M(ne.status);return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:t.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-semibold",children:((F=(pe=ne.customerName)==null?void 0:pe.charAt(0))==null?void 0:F.toUpperCase())||"U"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:ne.customerName||"Unknown Customer"}),t.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[t.jsx(an,{className:"text-xs"}),ne.customerPhone]})]})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:ne.serviceName||"Service Booking"}),t.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[t.jsx(Er,{className:"text-xs"}),((J=(ue=ne.location)==null?void 0:ue.address)==null?void 0:J.substring(0,30))||"No address","..."]})]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Date(ne.scheduledDate).toLocaleDateString()}),t.jsx("div",{className:"text-sm text-gray-500",children:ne.scheduledTime})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["",((be=ne.amount)==null?void 0:be.toLocaleString())||"0"]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${ae(ne.status)}`,children:[t.jsx(ce,{className:"text-xs"}),ne.status]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ne.partnerName&&ne.partnerName!=="Still not assigned"?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:t.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center text-white font-semibold text-xs",children:(()=>{var Ie;const ge=ne.partnerName||"P";return((Ie=(typeof ge=="string"?ge.trim():"P").charAt(0))==null?void 0:Ie.toUpperCase())||"P"})()})}),t.jsxs("div",{className:"ml-3 flex flex-col",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 leading-tight",children:ne.partnerName&&ne.partnerName!=="Still not assigned"?ne.partnerName:"Unknown Partner"}),t.jsx("div",{className:"text-sm text-gray-500 leading-tight mt-1",children:ne.partnerPhone&&ne.partnerPhone!=="N/A"?ne.partnerPhone:"No phone"})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"Not assigned"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Dt,{className:"animate-spin text-sm text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-400",children:"Loading..."})]}):k[ne._id]&&k[ne._id].length>0?t.jsxs("div",{className:"space-y-1",children:[k[ne._id].slice(0,2).map(ge=>{var Ne,Ie,Je;return t.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition",onClick:()=>D(ge),children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("p",{className:"text-xs font-semibold text-gray-800",children:["#",ge.quotationNumber]}),t.jsxs("p",{className:"text-xs text-gray-600",children:["",((Ne=ge.totalAmount)==null?void 0:Ne.toFixed(2))||"0.00"]})]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsxs("span",{className:`px-1.5 py-0.5 rounded text-xs font-semibold ${ge.customerStatus==="accepted"?"bg-green-100 text-green-800":ge.customerStatus==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:["C: ",(Ie=ge.customerStatus)==null?void 0:Ie.charAt(0).toUpperCase()]}),ge.partnerStatus!=="not_required"&&t.jsxs("span",{className:`px-1.5 py-0.5 rounded text-xs font-semibold ${ge.partnerStatus==="accepted"?"bg-green-100 text-green-800":ge.partnerStatus==="rejected"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:["P: ",(Je=ge.partnerStatus)==null?void 0:Je.charAt(0).toUpperCase()]})]})]},ge._id)}),k[ne._id].length>2&&t.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",k[ne._id].length-2," more"]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"No quotations"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t.jsxs("div",{className:"flex items-center gap-2",children:[ne.partnerName==="Still not assigned"?t.jsxs("button",{onClick:()=>G(ne),className:"inline-flex items-center gap-1 px-3 py-1 bg-primary text-white rounded-lg hover:bg-primary-dark transition text-xs",children:[t.jsx(tg,{className:"text-xs"}),"Assign"]}):t.jsxs("button",{onClick:()=>G(ne),className:"inline-flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition text-xs",children:[t.jsx(Sn,{className:"text-xs"}),"Change"]}),t.jsx(I6e,{booking:ne,className:"ml-2"})]})})]},ne._id)})})]})}),fe.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Ps,{className:"mx-auto text-4xl text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bookings found"}),t.jsx("p",{className:"text-gray-500",children:"No bookings match your current filters."})]})]}),f.totalItems>0&&t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 px-6 py-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(f.currentPage-1)*f.itemsPerPage+1," to"," ",Math.min(f.currentPage*f.itemsPerPage,f.totalItems)," of"," ",f.totalItems," bookings"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm text-gray-600",children:"Show:"}),t.jsxs("select",{value:f.itemsPerPage,onChange:ne=>Z(Number(ne.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:10,children:"10"}),t.jsx("option",{value:20,children:"20"}),t.jsx("option",{value:50,children:"50"}),t.jsx("option",{value:100,children:"100"})]}),t.jsx("span",{className:"text-sm text-gray-600",children:"per page"})]})]}),f.totalPages>1&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>R(1),disabled:!f.hasPrevPage,className:`px-3 py-2 text-sm font-medium rounded-lg transition ${f.hasPrevPage?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"First"}),t.jsx("button",{onClick:()=>R(f.currentPage-1),disabled:!f.hasPrevPage,className:`px-3 py-2 text-sm font-medium rounded-lg transition ${f.hasPrevPage?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"Previous"}),t.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,f.totalPages)},(ne,ce)=>{let pe;return f.totalPages<=5||f.currentPage<=3?pe=ce+1:f.currentPage>=f.totalPages-2?pe=f.totalPages-4+ce:pe=f.currentPage-2+ce,t.jsx("button",{onClick:()=>R(pe),className:`px-3 py-2 text-sm font-medium rounded-lg transition ${pe===f.currentPage?"bg-primary text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:pe},pe)})}),f.totalPages>5&&t.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Go to:"}),t.jsx("input",{type:"number",min:"1",max:f.totalPages,placeholder:"Page",className:"w-16 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-primary focus:border-transparent",onKeyPress:ne=>{if(ne.key==="Enter"){const ce=parseInt(ne.target.value);ce>=1&&ce<=f.totalPages&&(R(ce),ne.target.value="")}}})]}),t.jsx("button",{onClick:()=>R(f.currentPage+1),disabled:!f.hasNextPage,className:`px-3 py-2 text-sm font-medium rounded-lg transition ${f.hasNextPage?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"Next"}),t.jsx("button",{onClick:()=>R(f.totalPages),disabled:!f.hasNextPage,className:`px-3 py-2 text-sm font-medium rounded-lg transition ${f.hasNextPage?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"Last"})]})]})}),y&&j&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Assign Partner - ",j.serviceName]}),t.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(wn,{className:"text-xl"})})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Booking Details"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Customer: ",t.jsx("span",{className:"font-medium",children:j.customerName})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",t.jsx("span",{className:"font-medium",children:j.customerPhone})]})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",t.jsx("span",{className:"font-medium",children:new Date(j.scheduledDate).toLocaleDateString()})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Amount: ",t.jsxs("span",{className:"font-medium",children:["",j.amount]})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:"Available Partners"}),t.jsxs("div",{className:"text-sm text-gray-500",children:[oe.length," of ",a.length," partners"]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Partners"}),t.jsxs("div",{className:"relative",children:[t.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm"}),t.jsx("input",{type:"text",placeholder:"Name, phone, location...",value:H.search,onChange:ne=>Y("search",ne.target.value),className:"w-full pl-9 pr-9 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",autoFocus:!0}),H.search&&t.jsx("button",{onClick:()=>Y("search",""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t.jsx(wn,{className:"text-sm"})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Sort By",H.sortOrder==="asc"?t.jsx(cr,{className:"inline ml-1 text-xs text-green-600"}):t.jsx(hd,{className:"inline ml-1 text-xs text-red-600"})]}),t.jsxs("select",{value:H.sortBy,onChange:ne=>Y("sortBy",ne.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"name",children:"Partner Name"}),t.jsx("option",{value:"leads",children:"Remaining Leads"}),t.jsx("option",{value:"mgPlan",children:"MG Plan"}),t.jsx("option",{value:"leadUsage",children:"Lead Usage %"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),t.jsxs("select",{value:H.sortOrder,onChange:ne=>Y("sortOrder",ne.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"asc",children:H.sortBy==="name"||H.sortBy==="mgPlan"?"A to Z":"Low to High"}),t.jsx("option",{value:"desc",children:H.sortBy==="name"||H.sortBy==="mgPlan"?"Z to A":"High to Low"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Partner Type"}),t.jsxs("select",{value:H.partnerType,onChange:ne=>Y("partnerType",ne.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"franchise",children:"Franchise"}),t.jsx("option",{value:"individual",children:"Individual"})]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[t.jsx("button",{onClick:()=>re(ne=>({...ne,search:"",sortBy:"leads",sortOrder:"desc"})),className:"px-3 py-1 text-xs bg-green-100 text-green-700 rounded-full hover:bg-green-200 transition",children:"Most Leads Available"}),t.jsx("button",{onClick:()=>re(ne=>({...ne,search:"",sortBy:"leadUsage",sortOrder:"asc"})),className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200 transition",children:"Least Used"}),t.jsx("button",{onClick:()=>re(ne=>({...ne,search:"",partnerType:"franchise",sortBy:"name",sortOrder:"asc"})),className:"px-3 py-1 text-xs bg-purple-100 text-purple-700 rounded-full hover:bg-purple-200 transition",children:"Franchise Only"}),t.jsx("button",{onClick:()=>re(ne=>({...ne,search:"",partnerType:"individual",sortBy:"name",sortOrder:"asc"})),className:"px-3 py-1 text-xs bg-indigo-100 text-indigo-700 rounded-full hover:bg-indigo-200 transition",children:"Individual Only"}),t.jsx("button",{onClick:()=>re(ne=>({...ne,search:"",partnerType:"all",sortBy:"name",sortOrder:"asc"})),className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition",children:"Reset Filters"})]})]}),c?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(Dt,{className:"animate-spin text-xl text-primary mr-2"}),t.jsx("span",{children:"Loading partners..."})]}):t.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[oe.map(ne=>{var J,be,ge,Ne,Ie,Je;const ce=U(ne),pe=q(ne),F=j.partnerId===ne._id,ue=i[ne._id]||[];return t.jsxs("div",{className:`border rounded-lg p-4 ${F?"border-primary bg-primary-50":"border-gray-200"}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:t.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-primary to-primary-dark flex items-center justify-center text-white font-semibold",children:((ge=(be=(J=ne.profile)==null?void 0:J.name)==null?void 0:be.charAt(0))==null?void 0:ge.toUpperCase())||"P"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("h5",{className:"font-medium text-gray-900",children:((Ne=ne.profile)==null?void 0:Ne.name)||"Unknown Partner"}),F&&t.jsx("span",{className:"px-2 py-1 bg-primary text-white text-xs rounded-full",children:"Current"}),ne.partnerType==="franchise"&&t.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Franchise"}),ne.mgPlan&&t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:ne.mgPlan.name}),!ne.mgPlan&&t.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:"No Plan"})]}),t.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[t.jsx(an,{className:"text-xs"}),ne.phone]}),t.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[t.jsx(Er,{className:"text-xs"}),((Ie=ne.profile)==null?void 0:Ie.address)||((Je=ne.profile)==null?void 0:Je.city)||"Location not specified"]}),ne.partnerType==="franchise"&&t.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[t.jsx(Nr,{className:"text-xs"}),"Team: ",ue.length," member",ue.length!==1?"s":""]})]})]}),t.jsxs("div",{className:"text-right",children:[ne.mgPlan?t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:ne.mgPlan.name}),t.jsxs("div",{className:"text-xs text-gray-500",children:["",ne.mgPlan.price]}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsxs("div",{className:"text-xs text-gray-600",children:[ne.mgPlanLeadsUsed||0,"/",ne.mgPlanLeadQuota||0," leads"]}),t.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-1",children:t.jsx("div",{className:`h-1 rounded-full ${pe>=90?"bg-red-500":pe>=70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${pe}%`}})})]}),t.jsxs("div",{className:`text-xs font-medium flex items-center gap-1 ${typeof ce=="number"&&ce<=5?"text-red-600":"text-green-600"}`,children:[typeof ce=="number"&&ce<=5?t.jsx(rl,{className:"text-xs"}):t.jsx(vt,{className:"text-xs"}),ce," remaining"]})]}):t.jsx("div",{className:"mb-3",children:t.jsx("span",{className:"text-xs text-gray-400",children:"No MG Plan"})}),t.jsx("button",{onClick:()=>Be(ne._id),disabled:N===ne._id||typeof ce=="number"&&ce<=0,className:`px-4 py-2 rounded-lg text-sm font-medium transition ${N===ne._id?"bg-gray-300 text-gray-500 cursor-not-allowed":typeof ce=="number"&&ce<=0?"bg-red-100 text-red-600 cursor-not-allowed":F?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-primary text-white hover:bg-primary-dark"}`,children:N===ne._id?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Dt,{className:"animate-spin text-xs"}),"Assigning..."]}):typeof ce=="number"&&ce<=0?"No Leads Left":F?"Currently Assigned":"Assign Partner"})]})]}),ne.partnerType==="franchise"&&ue.length>0&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[t.jsxs("h6",{className:"text-sm font-medium text-gray-700 mb-3",children:["Team Members (",ue.length,")"]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[ue.slice(0,4).map(dt=>{var Ae,ze;return t.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:t.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-gray-400 to-gray-600 flex items-center justify-center text-white font-semibold text-xs",children:((ze=(Ae=dt.name)==null?void 0:Ae.charAt(0))==null?void 0:ze.toUpperCase())||"T"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-xs font-medium text-gray-900 truncate",children:dt.name}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:dt.role||"technician"})]})]},dt._id)}),ue.length>4&&t.jsxs("div",{className:"flex items-center justify-center p-2 bg-gray-50 rounded-lg text-xs text-gray-500",children:["+",ue.length-4," more"]})]})]})]},ne._id)}),oe.length===0&&a.length>0&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Fa,{className:"mx-auto text-3xl text-gray-400 mb-2"}),t.jsx("p",{className:"text-gray-500",children:"No partners match your search criteria"}),t.jsx("button",{onClick:()=>re(ne=>({...ne,search:""})),className:"mt-2 text-sm text-primary hover:text-primary-dark",children:"Clear search"})]}),a.length===0&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Nr,{className:"mx-auto text-3xl text-gray-400 mb-2"}),t.jsx("p",{className:"text-gray-500",children:"No partners available"})]})]})]})]})]})}),A&&t.jsx(c6,{quotation:A,onClose:()=>D(null),onAccept:we,onReject:T,userType:"admin",token:e})]})},xh=[{emoji:"",name:"Wrench",category:"Tools"},{emoji:"",name:"Hammer",category:"Tools"},{emoji:"",name:"Tools",category:"Tools"},{emoji:"",name:"Gear",category:"Tools"},{emoji:"",name:"Nut & Bolt",category:"Tools"},{emoji:"",name:"Electrical",category:"Electrical"},{emoji:"",name:"Light Bulb",category:"Electrical"},{emoji:"",name:"Plug",category:"Electrical"},{emoji:"",name:"Antenna",category:"Electrical"},{emoji:"",name:"Battery",category:"Electrical"},{emoji:"",name:"Shower",category:"Plumbing"},{emoji:"",name:"Water",category:"Plumbing"},{emoji:"",name:"Droplet",category:"Plumbing"},{emoji:"",name:"Wave",category:"Plumbing"},{emoji:"",name:"Tap",category:"Plumbing"},{emoji:"",name:"Paint",category:"Painting"},{emoji:"",name:"Paintbrush",category:"Painting"},{emoji:"",name:"Frame",category:"Decor"},{emoji:"",name:"Window",category:"Decor"},{emoji:"",name:"Door",category:"Decor"},{emoji:"",name:"Snowflake",category:"AC"},{emoji:"",name:"Thermometer",category:"AC"},{emoji:"",name:"Cyclone",category:"AC"},{emoji:"",name:"Wind",category:"AC"},{emoji:"",name:"Broom",category:"Cleaning"},{emoji:"",name:"Sponge",category:"Cleaning"},{emoji:"",name:"Bottle",category:"Cleaning"},{emoji:"",name:"Soap",category:"Cleaning"},{emoji:"",name:"Fire Extinguisher",category:"Safety"},{emoji:"",name:"Paperclip",category:"Hardware"},{emoji:"",name:"Pushpin",category:"Hardware"},{emoji:"",name:"Lock",category:"Hardware"},{emoji:"",name:"Key",category:"Hardware"},{emoji:"",name:"Hook",category:"Hardware"},{emoji:"",name:"TV",category:"Appliances"},{emoji:"",name:"Phone",category:"Appliances"},{emoji:"",name:"Laptop",category:"Appliances"},{emoji:"",name:"Computer",category:"Appliances"},{emoji:"",name:"Keyboard",category:"Appliances"},{emoji:"",name:"Construction",category:"Building"},{emoji:"",name:"Brick",category:"Building"},{emoji:"",name:"House",category:"Building"},{emoji:"",name:"Building",category:"Building"},{emoji:"",name:"Factory",category:"Building"},{emoji:"",name:"Package",category:"Storage"},{emoji:"",name:"Clipboard",category:"Storage"},{emoji:"",name:"Card Index",category:"Storage"},{emoji:"",name:"Folder",category:"Storage"},{emoji:"",name:"File Cabinet",category:"Storage"},{emoji:"",name:"Toolbox",category:"General"},{emoji:"",name:"Shopping Cart",category:"General"},{emoji:"",name:"Chart",category:"General"},{emoji:"",name:"Star",category:"General"},{emoji:"",name:"Sparkle",category:"General"},{emoji:"",name:"Glowing Star",category:"General"},{emoji:"",name:"Diamond",category:"General"},{emoji:"",name:"Target",category:"General"},{emoji:"",name:"Check Mark",category:"General"},{emoji:"",name:"Magnifying Glass",category:"General"},{emoji:"",name:"Ladder",category:"Tools"},{emoji:"",name:"Bucket",category:"Tools"},{emoji:"",name:"Magnet",category:"Tools"},{emoji:"",name:"Flashlight",category:"Tools"},{emoji:"",name:"Screwdriver",category:"Tools"}],M6e=[{header:"PO",accessor:"poId"},{header:"Supplier",accessor:"supplier"},{header:"Parts",accessor:"items",render:e=>typeof e=="string"?e:Array.isArray(e)?e.map(r=>`${r.name||r.sku} (${r.quantity})`).join(", "):"N/A"},{header:"Value",accessor:"value",render:(e,r)=>{if(typeof e=="string")return e;const s=r.totalValue||0;return s>1e5?`${(s/1e5).toFixed(1)}L`:`${s.toLocaleString()}`}},{header:"Status",accessor:"status",render:e=>t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${e==="Delivered"?"bg-emerald-500/10 text-emerald-600":e==="In Transit"?"bg-blue-500/10 text-blue-600":e==="Pending"?"bg-amber-500/10 text-amber-600":e==="Cancelled"?"bg-rose-500/10 text-rose-600":"bg-slate-500/10 text-slate-600"}`,children:e})},{header:"ETA",accessor:"eta",render:(e,r)=>typeof e=="string"?e:r.expectedDeliveryDate?new Date(r.expectedDeliveryDate).toLocaleDateString("en-GB",{day:"numeric",month:"short"}):"N/A"}],D6e=()=>{var me,he;const{token:e}=kr(),[r,s]=g.useState("inventory"),[a,n]=g.useState(!1),[i,l]=g.useState(null),[o,d]=g.useState({name:"",icon:"",items:[],order:0,isActive:!0}),[c,u]=g.useState({name:"",priceMin:"",priceMax:"",sellingPrice:"",commission:"",brand:"",model:"",description:"",specifications:"",warranty:"",unit:"piece",weight:"",dimensions:"",category:"",tags:"",supplier:"",stock:"",minStockLevel:""}),[m,x]=g.useState(!1),[h,p]=g.useState(""),[f,b]=g.useState(""),[j,w]=g.useState(!1),[y,v]=g.useState(""),[N,S]=g.useState(!1),[k,P]=g.useState(!1),[C,_]=g.useState({supplier:"",supplierContact:"",expectedDeliveryDate:"",notes:"",items:[]}),[A,D]=g.useState({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""}),[H,re]=g.useState(""),[xe,we]=g.useState(!1),[T,z]=g.useState(!1),[Q,B]=g.useState(null),[L,R]=g.useState([]),[Z,W]=g.useState(!1),[ie,ae]=g.useState(null),[M,U]=g.useState({action:"add",quantity:"",reason:"",notes:"",location:"",supplier:""}),[q,G]=g.useState(!1),[Y,oe]=g.useState({materialCategoryId:"",materialItemIndex:"",sku:"",name:"",category:"",location:"",initialStock:"",unit:"piece",supplier:"",unitPrice:"",leadTime:"",minStockLevel:"",reorderLevel:""}),Be=g.useRef(null),[fe,ne]=g.useState({category:"",minStockLevel:5,reorderLevel:10,criticalLevel:3,autoReorder:!1,autoReorderQuantity:20,leadTimeDays:7}),{data:ce,refresh:pe}=lr(I=>qe.fetchInventoryStats(I),[]),{data:F,isLoading:ue,error:J,refresh:be}=lr(I=>qe.fetchInventoryItems(I),r==="inventory"?[]:["skip"]),{data:ge,isLoading:Ne,error:Ie,refresh:Je}=lr(I=>qe.fetchPurchaseOrders(I),r==="inventory"?[]:["skip"]),{data:dt,isLoading:Ae,error:ze,refresh:It}=lr(I=>qe.fetchMaterialCategories(I),r==="materials"?[]:["skip"]),{data:Ft,isLoading:Se,error:O,refresh:de}=lr(I=>qe.fetchVendorSpareParts(I),r==="vendor-parts"?[]:["skip"]),Oe=r==="materials"||a||N||Z||q,{data:Ge,isLoading:kt,error:at,refresh:ft}=lr(I=>qe.fetchVendors(I,{page:1,limit:100}),Oe?[]:["skip"]),ve=(dt==null?void 0:dt.data)||[],Ce=(F==null?void 0:F.data)||[],Te=(ge==null?void 0:ge.data)||[],Xe=(ce==null?void 0:ce.data)||{},rt=(Ft==null?void 0:Ft.data)||[],We=(Ge==null?void 0:Ge.vendors)||[],ye=I=>{s(I)},Ue=async I=>{var X;try{const je=await qe.fetchInventoryItemHistory(e,I);R(((X=je.data)==null?void 0:X.history)||[]),B(I),z(!0)}catch{b("Failed to load item history")}},st=async I=>{if(I.preventDefault(),!ie||!M.quantity){b("Please fill in all required fields");return}x(!0);try{await qe.updateInventoryStock(e,ie._id,{action:M.action,quantity:parseInt(M.quantity),reason:M.reason,notes:M.notes,location:M.location,supplier:M.supplier}),p(`Stock ${M.action==="add"?"added":"removed"} successfully!`),be(),pe(),setTimeout(()=>{W(!1),ae(null),U({action:"add",quantity:"",reason:"",notes:"",location:"",supplier:""})},1e3)}catch(X){b(X.message||"Failed to update stock")}finally{x(!1)}},yt=async I=>{if(I.preventDefault(),!Y.name||!Y.sku){b("Please fill in all required fields");return}x(!0);try{await qe.createInventoryItem(e,{...Y,initialStock:parseInt(Y.initialStock)||0,unitPrice:parseFloat(Y.unitPrice)||0,leadTime:parseInt(Y.leadTime)||0,minStockLevel:parseInt(Y.minStockLevel)||5,reorderLevel:parseInt(Y.reorderLevel)||10}),p("Inventory item created successfully!"),be(),pe(),setTimeout(()=>{G(!1),oe({materialCategoryId:"",materialItemIndex:"",sku:"",name:"",category:"",location:"",initialStock:"",unit:"piece",supplier:"",unitPrice:"",leadTime:"",minStockLevel:"",reorderLevel:""})},1e3)}catch(X){b(X.message||"Failed to create inventory item")}finally{x(!1)}},xt=(I,X,je)=>{oe({materialCategoryId:I._id,materialItemIndex:je,sku:`${I.name.substring(0,3).toUpperCase()}-${je+1}`.replace(/\s/g,""),name:X.name,category:X.category||I.name,location:"",initialStock:"",unit:X.unit||"piece",supplier:"",unitPrice:X.sellingPrice||X.priceMin||"",leadTime:"7",minStockLevel:"5",reorderLevel:"10"}),G(!0)},$t=[{header:"SKU",accessor:"sku"},{header:"Part Name",accessor:"name"},{header:"Category",accessor:"category"},{header:"Location",accessor:"location"},{header:"Stock",accessor:"stock",render:(I,X)=>{const je=typeof I=="string"?I:`${X.stock||0} ${X.unit||"units"}`;return t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${X.status==="Critical"?"bg-rose-500/10 text-rose-600":X.status==="Low"?"bg-amber-500/10 text-amber-600":"bg-emerald-500/10 text-emerald-600"}`,children:je})}},{header:"Supplier",accessor:"supplier"},{header:"Lead Time",accessor:"leadTime",render:I=>typeof I=="string"?I:`${I||0} days`},{header:"Actions",accessor:"_id",render:(I,X)=>t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>{ae(X),U({action:"add",quantity:"",reason:"",notes:"",location:X.location||"",supplier:X.supplier||""}),W(!0)},className:"p-1.5 text-slate-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition",title:"Update Stock",children:t.jsx(ar,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>Ue(I),className:"p-1.5 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",title:"View History",children:t.jsx(qr,{className:"w-4 h-4"})})]})}],Rt=[{label:"Inventory Value",value:Xe.valuation||"0",trend:"Real-time",icon:MZ,description:`Across ${Xe.totalItems||0} items`},{label:"Critical SKUs",value:Xe.criticalCount||0,trend:Xe.criticalCount>0?"Action required":"All good",icon:Tj,intent:Xe.criticalCount>0?"warning":"positive",description:"Below configured safety stock"},{label:"Active Suppliers",value:Xe.suppliers||0,trend:"Active vendors",icon:BZ,description:"With active purchase orders"},{label:"In-transit Shipments",value:Xe.inTransit||0,trend:"Pending delivery",icon:AM,description:"Purchase orders in transit"}],ct=(I=null)=>{I?(l(I._id),d({name:I.name||"",icon:I.icon||"",items:I.items||[],order:I.order||0,isActive:I.isActive!==void 0?I.isActive:!0})):(l(null),d({name:"",icon:"",items:[],order:ve.length>0?Math.max(...ve.map(X=>X.order||0))+1:0,isActive:!0})),u({name:"",priceMin:"",priceMax:"",sellingPrice:"",commission:"",brand:"",model:"",description:"",specifications:"",warranty:"",unit:"piece",weight:"",dimensions:"",category:"",tags:"",supplier:"",stock:"",minStockLevel:""}),n(!0),b(""),p("")},wr=()=>{n(!1),l(null),d({name:"",icon:"",items:[],order:0,isActive:!0}),u({name:"",priceMin:"",priceMax:"",sellingPrice:"",commission:"",brand:"",model:"",description:"",specifications:"",warranty:"",unit:"piece",weight:"",dimensions:"",category:"",tags:"",supplier:"",stock:"",minStockLevel:""}),b(""),p(""),w(!1),v("")},js=()=>{c.name.trim()&&(d(I=>({...I,items:[...I.items,{name:c.name.trim(),priceMin:c.priceMin?Number(c.priceMin):null,priceMax:c.priceMax?Number(c.priceMax):null,sellingPrice:c.sellingPrice?Number(c.sellingPrice):null,commission:c.commission?Number(c.commission):null,brand:c.brand.trim(),model:c.model.trim(),description:c.description.trim(),specifications:c.specifications.trim(),warranty:c.warranty.trim(),unit:c.unit||"piece",weight:c.weight.trim(),dimensions:c.dimensions.trim(),category:c.category.trim(),tags:c.tags.trim(),supplier:c.supplier.trim(),stock:c.stock?Number(c.stock):0,minStockLevel:c.minStockLevel?Number(c.minStockLevel):5}]})),u({name:"",priceMin:"",priceMax:"",sellingPrice:"",commission:"",brand:"",model:"",description:"",specifications:"",warranty:"",unit:"piece",weight:"",dimensions:"",category:"",tags:"",supplier:"",stock:"",minStockLevel:""}))},Ur=I=>{d(X=>({...X,items:X.items.filter((je,Pe)=>Pe!==I)}))},V=async I=>{I.preventDefault(),x(!0),b(""),p("");try{if(!o.name||!o.icon||o.items.length===0){b("Please fill in all required fields and add at least one item"),x(!1);return}i?(await qe.updateMaterialCategory(e,i,o),p("Material category updated successfully!")):(await qe.createMaterialCategory(e,o),p("Material category created successfully!")),setTimeout(()=>{It(),wr()},1e3)}catch(X){b(X.message||"Failed to save material category")}finally{x(!1)}},le=async I=>{if(window.confirm("Are you sure you want to delete this material category?"))try{await qe.deleteMaterialCategory(e,I),p("Material category deleted successfully!"),setTimeout(()=>{It(),p("")},1e3)}catch(X){b(X.message||"Failed to delete material category"),setTimeout(()=>b(""),3e3)}},ee=async(I,X)=>{const je=ve.findIndex(pt=>pt._id===I);if(je===-1)return;const Pe=X==="up"?je-1:je+1;if(Pe<0||Pe>=ve.length)return;const _e=[...ve],[Ze]=_e.splice(je,1);_e.splice(Pe,0,Ze);const ot=_e.map((pt,Qe)=>({id:pt._id,order:Qe}));try{await qe.updateMaterialCategoryOrder(e,ot),It()}catch(pt){b(pt.message||"Failed to update order"),setTimeout(()=>b(""),3e3)}},se=[{header:"Icon",accessor:"icon",render:I=>t.jsx("span",{className:"text-2xl",children:I})},{header:"Name",accessor:"name"},{header:"Items",accessor:"items",render:I=>t.jsxs("div",{className:"space-y-1",children:[t.jsxs("span",{className:"text-sm text-slate-600",children:[Array.isArray(I)?I.length:0," items"]}),Array.isArray(I)&&I.length>0&&t.jsxs("div",{className:"text-xs text-slate-400",children:[I.slice(0,2).map(X=>X.name||X).join(", "),I.length>2&&` +${I.length-2} more`]})]})},{header:"Status",accessor:"isActive",render:I=>t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${I?"bg-emerald-500/10 text-emerald-600":"bg-slate-500/10 text-slate-600"}`,children:I?"Active":"Inactive"})},{header:"Order",accessor:"order"},{header:"Actions",accessor:"_id",render:(I,X)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>ee(I,"up"),className:"p-1.5 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",disabled:ve.findIndex(je=>je._id===I)===0,children:t.jsx(Jf,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>ee(I,"down"),className:"p-1.5 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",disabled:ve.findIndex(je=>je._id===I)===ve.length-1,children:t.jsx(Xf,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>ct(X),className:"p-1.5 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition",children:t.jsx(gs,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>le(I),className:"p-1.5 text-slate-600 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",children:t.jsx(la,{className:"w-4 h-4"})})]})}];return t.jsxs("div",{children:[t.jsx(vs,{title:"Spare Parts",subtitle:"Stay ahead of technician demand with predictive inventory, supplier tracking, and automated procurement flows.",actions:t.jsxs("div",{className:"flex gap-2",children:[r==="materials"&&t.jsxs("button",{onClick:()=>ct(),className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition flex items-center gap-2",children:[t.jsx(ar,{className:"w-4 h-4"}),"Add Material Category"]}),r==="inventory"&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>S(!0),className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition flex items-center gap-2",children:[t.jsx(ar,{className:"w-4 h-4"}),"Create Purchase Order"]}),t.jsx("button",{onClick:()=>P(!0),className:"px-4 py-2 rounded-xl border border-primary text-primary text-sm font-semibold hover:bg-primary/10 transition",children:"Configure Thresholds"})]})]})}),t.jsxs("div",{className:"flex gap-2 mb-6 border-b border-slate-200",children:[t.jsx("button",{onClick:()=>ye("inventory"),className:`px-4 py-2 font-semibold text-sm transition ${r==="inventory"?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"}`,children:"Inventory"}),t.jsx("button",{onClick:()=>ye("materials"),className:`px-4 py-2 font-semibold text-sm transition ${r==="materials"?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"}`,children:"Available Materials"}),t.jsx("button",{onClick:()=>ye("vendor-parts"),className:`px-4 py-2 font-semibold text-sm transition ${r==="vendor-parts"?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"}`,children:"Vendor Spare Parts"})]}),h&&t.jsx("div",{className:"mb-4 p-3 bg-emerald-50 border border-emerald-200 text-emerald-700 rounded-lg text-sm",children:h}),f&&t.jsx("div",{className:"mb-4 p-3 bg-rose-50 border border-rose-200 text-rose-700 rounded-lg text-sm",children:f}),r==="materials"&&t.jsxs("section",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Material Categories"}),t.jsxs("div",{className:"flex items-center gap-3",children:[Ae&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading..."}),ze&&t.jsx("span",{className:"text-xs text-rose-500",children:"Error loading materials"}),!Ae&&!ze&&t.jsxs("span",{className:"text-xs text-slate-500",children:[ve.length," categories"]})]})]}),Ae?t.jsxs("div",{className:"flex items-center justify-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),t.jsx("span",{className:"ml-3 text-slate-600",children:"Loading material categories..."})]}):t.jsx(Ma,{columns:se,data:ve,emptyLabel:"No material categories found. Click 'Add Material Category' to create one."})]}),r==="vendor-parts"&&t.jsxs("section",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Vendor Spare Parts"}),t.jsxs("div",{className:"flex items-center gap-3",children:[O&&t.jsxs("span",{className:"text-xs text-rose-500",children:["Error loading vendor parts. ",rt.length>0?`Showing ${rt.length} cached items.`:"Please refresh."]}),Se&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading..."}),!Se&&!O&&t.jsxs("span",{className:"text-xs text-slate-500",children:[rt.length," parts"]}),t.jsxs("button",{onClick:()=>de(),className:"text-xs text-primary hover:text-primary-dark font-semibold flex items-center gap-1",children:[t.jsx(Dt,{className:"w-3 h-3"}),"Refresh"]})]})]}),Se?t.jsxs("div",{className:"flex items-center justify-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),t.jsx("span",{className:"ml-3 text-slate-600",children:"Loading vendor spare parts..."})]}):t.jsx(Ma,{columns:[{header:"Image/Icon",accessor:"image",render:(I,X)=>t.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-slate-100 flex items-center justify-center",children:X.image?t.jsx("img",{src:X.image,alt:X.name,className:"w-full h-full object-cover"}):X.icon?t.jsx("span",{className:"text-2xl",children:X.icon}):t.jsx(Gr,{className:"w-6 h-6 text-slate-400"})})},{header:"Name",accessor:"name"},{header:"Category",accessor:"category"},{header:"Brand",accessor:"brand"},{header:"Price",accessor:"price",render:I=>`${(I==null?void 0:I.toLocaleString("en-IN"))||0}`},{header:"Stock",accessor:"stock",render:(I,X)=>`${I||0} ${X.unit||"units"}`},{header:"Vendor",accessor:"vendor",render:I=>typeof I=="object"&&I!==null?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Or,{className:"w-4 h-4 text-slate-400"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium",children:I.name||"N/A"}),t.jsx("div",{className:"text-xs text-slate-500",children:I.companyName||I.email||""})]})]}):"N/A"},{header:"Status",accessor:"status",render:I=>t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${I==="active"?"bg-emerald-500/10 text-emerald-600":I==="out_of_stock"?"bg-rose-500/10 text-rose-600":"bg-slate-500/10 text-slate-600"}`,children:I==="out_of_stock"?"Out of Stock":I||"Inactive"})},{header:"Actions",accessor:"_id",render:(I,X)=>t.jsx("button",{onClick:()=>{var je;return window.open(`/admin/vendors/${((je=X.vendor)==null?void 0:je._id)||X.vendor}`,"_blank")},className:"p-1.5 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",title:"View Vendor",children:t.jsx(Sn,{className:"w-4 h-4"})})}],data:rt,emptyLabel:"No vendor spare parts found. Vendors can add spare parts from their dashboard."})]}),r==="inventory"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:Rt.map(I=>t.jsx(ti,{...I},I.label))}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("section",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Inventory Positions"}),t.jsxs("div",{className:"flex items-center gap-3",children:[J&&t.jsxs("span",{className:"text-xs text-rose-500",children:["Error loading inventory data. ",Ce.length>0?`Showing ${Ce.length} cached items.`:"Please refresh."]}),ue&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading stock data..."}),!ue&&!J&&t.jsxs("span",{className:"text-xs text-slate-500",children:[Ce.length," items"]}),t.jsxs("button",{onClick:()=>be(),className:"text-xs text-primary hover:text-primary-dark font-semibold flex items-center gap-1",children:[t.jsx(Dt,{className:"w-3 h-3"}),"Refresh"]})]})]}),t.jsx(Ma,{columns:$t,data:Ce,emptyLabel:"No inventory items found. Add items to track stock levels."})]}),t.jsxs("section",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Available Material Categories"}),t.jsxs("span",{className:"text-xs text-slate-500",children:[ve.length," categories"]})]}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:Ae?t.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"Loading materials..."}):ve.length===0?t.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No material categories found"}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ve.map(I=>t.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary/5 to-primary/10 rounded-xl border border-primary/20",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsx("div",{className:"text-3xl",children:I.icon}),t.jsx("button",{onClick:()=>ct(I),className:"p-1 text-slate-400 hover:text-primary transition",title:"Edit Category",children:t.jsx(gs,{className:"w-4 h-4"})})]}),t.jsx("div",{className:"font-semibold text-sm text-primary mb-1",children:I.name}),t.jsxs("div",{className:"text-xs text-slate-600 mb-3",children:[Array.isArray(I.items)?I.items.length:0," items"]}),Array.isArray(I.items)&&I.items.length>0&&t.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:[I.items.slice(0,3).map((X,je)=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/50 rounded-lg text-xs",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"font-medium text-slate-800 truncate",children:X.name}),X.sellingPrice&&t.jsxs("div",{className:"text-slate-500",children:["",X.sellingPrice]})]}),t.jsx("button",{onClick:()=>xt(I,X,je),className:"ml-2 p-1 text-green-600 hover:text-green-700 hover:bg-green-50 rounded transition",title:"Add to Inventory",children:t.jsx(ar,{className:"w-3 h-3"})})]},je)),I.items.length>3&&t.jsxs("div",{className:"text-xs text-slate-400 text-center py-1",children:["+",I.items.length-3," more items"]})]})]},I._id))})})]}),t.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Procurement Tracker"}),Ie&&t.jsx("span",{className:"text-xs text-rose-500",children:"Error loading orders"}),Ne&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading..."})]}),t.jsx(Ma,{columns:M6e,data:Te,emptyLabel:"No purchase orders found. Create a purchase order to track procurement."})]}),t.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Supplier SLA Watch"}),t.jsx("p",{className:"text-sm text-white/75 leading-relaxed",children:"Track lead times, fill rate, and defect rate for each supplier. Auto-notify procurement ops when SLA breaches exceed configured thresholds."}),t.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[t.jsx("li",{children:" Auto-assign alternate supplier if new ETA > threshold"}),t.jsx("li",{children:" Auto-create debit notes for warranty failure"}),t.jsx("li",{children:" Maintain compliance badges for marketplace visibility"})]})]})]})]})]}),N&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-5 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Create Purchase Order"}),t.jsx("button",{onClick:()=>{S(!1),_({supplier:"",supplierContact:"",expectedDeliveryDate:"",notes:"",items:[]}),D({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""}),re(""),we(!1)},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:async I=>{if(I.preventDefault(),C.items.length===0){b("Please add at least one item to the purchase order");return}x(!0);try{await qe.createPurchaseOrder(e,{...C,expectedDeliveryDate:new Date(C.expectedDeliveryDate).toISOString()}),p("Purchase order created successfully!"),Je(),pe(),setTimeout(()=>{S(!1),_({supplier:"",supplierContact:"",expectedDeliveryDate:"",notes:"",items:[]}),D({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""}),re(""),we(!1)},1e3)}catch(X){b(X.message||"Failed to create purchase order")}finally{x(!1)}},className:"p-5 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Supplier (Vendor) *"}),t.jsxs("select",{value:C.supplier,onChange:I=>{const X=We.find(je=>je._id===I.target.value);_(je=>({...je,supplier:X?X.name:I.target.value,supplierContact:X?X.phone||X.email:je.supplierContact}))},className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",required:!0,disabled:kt,children:[t.jsx("option",{value:"",children:kt?"Loading vendors...":"Select Vendor"}),!kt&&!at&&We.map(I=>t.jsxs("option",{value:I._id,children:[I.name," ",I.companyName&&`(${I.companyName})`]},I._id)),at&&t.jsx("option",{value:"",disabled:!0,children:"Error loading vendors"}),t.jsx("option",{value:"other",children:"Other (Manual Entry)"})]}),C.supplier==="other"&&t.jsx("input",{type:"text",placeholder:"Enter supplier name manually",onChange:I=>_(X=>({...X,supplier:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary mt-2",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Contact"}),t.jsx("input",{type:"text",value:C.supplierContact,onChange:I=>_(X=>({...X,supplierContact:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",placeholder:C.supplier&&We.find(I=>I._id===C.supplier)?"Auto-filled from vendor":"Enter contact info"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Expected Delivery Date *"}),t.jsx("input",{type:"date",value:C.expectedDeliveryDate,onChange:I=>_(X=>({...X,expectedDeliveryDate:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Items *"}),t.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 space-y-3",children:[t.jsxs("div",{className:"mb-4 pb-4 border-b border-slate-200",children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Select from Existing Inventory Items"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1 relative",ref:Be,children:[t.jsx(Fa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4"}),t.jsx("input",{type:"text",placeholder:"Search inventory items by SKU, name, or category...",value:H,onChange:I=>{re(I.target.value),we(!0)},onFocus:()=>we(!0),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-primary focus:border-transparent"}),xe&&Ce.length>0&&t.jsxs("div",{className:"absolute z-20 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[Ce.filter(I=>{var X,je,Pe;return H===""||((X=I.sku)==null?void 0:X.toLowerCase().includes(H.toLowerCase()))||((je=I.name)==null?void 0:je.toLowerCase().includes(H.toLowerCase()))||((Pe=I.category)==null?void 0:Pe.toLowerCase().includes(H.toLowerCase()))}).slice(0,10).map(I=>t.jsxs("button",{type:"button",onClick:()=>{typeof I.stock=="string"?parseInt(I.stock.split(" ")[0]):I.stock,D({selectedInventoryItem:I._id,sku:I.sku,name:I.name,quantity:"",unitPrice:I.unitPrice||0}),re(`${I.sku} - ${I.name}`),we(!1)},className:"w-full text-left px-4 py-2 hover:bg-primary/10 transition flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-sm",children:I.sku}),t.jsx("div",{className:"text-xs text-slate-600",children:I.name}),t.jsxs("div",{className:"text-xs text-slate-400",children:[I.category,"  ",I.location]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-xs font-semibold text-primary",children:["",I.unitPrice||0]}),t.jsxs("div",{className:"text-xs text-slate-400",children:["Stock: ",stockNum]})]})]},I._id)),Ce.filter(I=>{var X,je,Pe;return H===""||((X=I.sku)==null?void 0:X.toLowerCase().includes(H.toLowerCase()))||((je=I.name)==null?void 0:je.toLowerCase().includes(H.toLowerCase()))||((Pe=I.category)==null?void 0:Pe.toLowerCase().includes(H.toLowerCase()))}).length===0&&t.jsx("div",{className:"px-4 py-3 text-sm text-slate-500 text-center",children:"No inventory items found"})]})]}),t.jsx("button",{type:"button",onClick:()=>{re(""),we(!1),D({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""})},className:"px-3 py-2 text-sm text-slate-600 hover:bg-slate-100 border border-slate-300 rounded-lg transition",children:"Clear"})]}),A.selectedInventoryItem&&t.jsxs("div",{className:"mt-2 p-2 bg-primary/5 border border-primary/20 rounded-lg text-xs",children:[t.jsx("span",{className:"font-semibold text-primary",children:"Selected:"})," ",A.sku," - ",A.name]})]})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"SKU *"}),t.jsx("input",{type:"text",placeholder:"SKU",value:A.sku,onChange:I=>D(X=>({...X,sku:I.target.value,selectedInventoryItem:""})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Name *"}),t.jsx("input",{type:"text",placeholder:"Item Name",value:A.name,onChange:I=>D(X=>({...X,name:I.target.value,selectedInventoryItem:""})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Quantity *"}),t.jsx("input",{type:"number",placeholder:"Qty",value:A.quantity,onChange:I=>D(X=>({...X,quantity:I.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",min:"1",required:!0})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Unit Price *"}),t.jsx("input",{type:"number",placeholder:"Price",value:A.unitPrice,onChange:I=>D(X=>({...X,unitPrice:I.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",min:"0",step:"0.01",required:!0})]}),t.jsx("div",{className:"flex items-end",children:t.jsx("button",{type:"button",onClick:()=>{A.sku&&A.name&&A.quantity&&A.unitPrice?(_(I=>({...I,items:[...I.items,{inventoryItemId:A.selectedInventoryItem||null,sku:A.sku,name:A.name,quantity:parseInt(A.quantity),unitPrice:parseFloat(A.unitPrice)}]})),D({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""}),re(""),we(!1)):b("Please fill all item fields (SKU, Name, Quantity, Unit Price)")},className:"px-4 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary-dark font-semibold",children:"Add"})})]})]}),t.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[C.items.length===0?t.jsx("div",{className:"text-center py-4 text-slate-400 text-sm",children:"No items added yet. Select from inventory or enter manually."}):C.items.map((I,X)=>{const je=I.quantity*I.unitPrice;return t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg text-sm border border-slate-200",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-semibold",children:I.name}),t.jsxs("div",{className:"text-xs text-slate-600",children:["SKU: ",I.sku,"  Qty: ",I.quantity,"  ",I.unitPrice]})]}),t.jsx("div",{className:"text-right mr-3",children:t.jsxs("div",{className:"font-semibold text-primary",children:["",je.toLocaleString()]})}),t.jsx("button",{type:"button",onClick:()=>_(Pe=>({...Pe,items:Pe.items.filter((_e,Ze)=>Ze!==X)})),className:"text-rose-600 hover:bg-rose-50 p-1.5 rounded transition",children:t.jsx(mt,{className:"w-4 h-4"})})]},X)}),C.items.length>0&&t.jsx("div",{className:"pt-2 border-t border-slate-200",children:t.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[t.jsx("span",{children:"Total Value:"}),t.jsxs("span",{className:"text-primary text-lg",children:["",C.items.reduce((I,X)=>I+X.quantity*X.unitPrice,0).toLocaleString()]})]})})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Notes"}),t.jsx("textarea",{value:C.notes,onChange:I=>_(X=>({...X,notes:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",rows:"3"})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsxs("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:[t.jsx(Zn,{className:"w-4 h-4"}),m?"Creating...":"Create Purchase Order"]}),t.jsx("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:"Cancel"})]})]})]})}),k&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-5 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Configure Thresholds"}),t.jsx("button",{onClick:()=>P(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:async I=>{I.preventDefault(),x(!0);try{await qe.upsertThreshold(e,fe),p("Threshold configured successfully!"),pe(),be(),setTimeout(()=>{P(!1)},1e3)}catch(X){b(X.message||"Failed to save threshold")}finally{x(!1)}},className:"p-5 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Category *"}),t.jsx("input",{type:"text",value:fe.category,onChange:I=>ne(X=>({...X,category:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",placeholder:"e.g., Air Conditioning",required:!0})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Critical Level"}),t.jsx("input",{type:"number",value:fe.criticalLevel,onChange:I=>ne(X=>({...X,criticalLevel:parseInt(I.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Min Stock Level"}),t.jsx("input",{type:"number",value:fe.minStockLevel,onChange:I=>ne(X=>({...X,minStockLevel:parseInt(I.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Reorder Level"}),t.jsx("input",{type:"number",value:fe.reorderLevel,onChange:I=>ne(X=>({...X,reorderLevel:parseInt(I.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Lead Time (Days)"}),t.jsx("input",{type:"number",value:fe.leadTimeDays,onChange:I=>ne(X=>({...X,leadTimeDays:parseInt(I.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Auto Reorder Quantity"}),t.jsx("input",{type:"number",value:fe.autoReorderQuantity,onChange:I=>ne(X=>({...X,autoReorderQuantity:parseInt(I.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",id:"autoReorder",checked:fe.autoReorder,onChange:I=>ne(X=>({...X,autoReorder:I.target.checked})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),t.jsx("label",{htmlFor:"autoReorder",className:"text-sm font-semibold text-slate-700",children:"Enable Auto Reorder"})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsxs("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:[t.jsx(Zn,{className:"w-4 h-4"}),m?"Saving...":"Save Threshold"]}),t.jsx("button",{type:"button",onClick:()=>P(!1),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:"Cancel"})]})]})]})}),T&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-5 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Item History"}),t.jsx("button",{onClick:()=>{z(!1),B(null),R([])},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"p-5",children:L.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-400",children:[t.jsx(qr,{className:"w-12 h-12 mx-auto mb-4 text-slate-300"}),t.jsx("p",{children:"No history available for this item"})]}):t.jsx("div",{className:"space-y-3",children:L.sort((I,X)=>new Date(X.timestamp)-new Date(I.timestamp)).map((I,X)=>t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-sm capitalize",children:I.action.replace("_"," ")}),t.jsx("div",{className:"text-xs text-slate-500",children:new Date(I.timestamp).toLocaleString()})]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${I.action==="created"?"bg-emerald-500/10 text-emerald-600":I.action==="stock_added"?"bg-blue-500/10 text-blue-600":I.action==="stock_removed"?"bg-amber-500/10 text-amber-600":I.action==="status_changed"?"bg-purple-500/10 text-purple-600":"bg-slate-500/10 text-slate-600"}`,children:I.action.replace("_"," ")})]}),I.quantity&&t.jsxs("div",{className:"text-sm text-slate-700",children:["Quantity: ",t.jsx("span",{className:"font-semibold",children:I.quantity})]}),I.previousValue!==void 0&&I.newValue!==void 0&&t.jsxs("div",{className:"text-sm text-slate-700 mt-1",children:[t.jsx("span",{className:"line-through text-slate-400",children:I.previousValue}),"  ",t.jsx("span",{className:"font-semibold text-primary",children:I.newValue})]}),I.notes&&t.jsx("div",{className:"text-xs text-slate-600 mt-2 italic",children:I.notes})]},X))})})]})}),a&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-5 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:i?"Edit Material Category":"Add Material Category"}),t.jsx("button",{onClick:wr,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:V,className:"p-5 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Category Name *"}),t.jsx("input",{type:"text",value:o.name,onChange:I=>d(X=>({...X,name:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"e.g., Plumbing materials",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Icon (Emoji) *"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-3xl pointer-events-none z-10 flex items-center justify-center w-10 h-10",children:o.icon||""}),t.jsx("input",{type:"text",value:o.icon,onChange:I=>d(X=>({...X,icon:I.target.value})),className:"w-full px-4 py-2 pl-16 pr-4 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-transparent caret-slate-700",placeholder:"",required:!0,maxLength:2,style:{color:"transparent",textShadow:"0 0 0 transparent"}}),!o.icon&&t.jsx("div",{className:"absolute left-16 top-1/2 -translate-y-1/2 text-slate-400 text-sm pointer-events-none",children:"Enter emoji or pick from list"})]}),t.jsxs("button",{type:"button",onClick:()=>{w(!j),v("")},className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 border border-slate-300 rounded-lg transition flex items-center gap-2 text-sm font-semibold",children:[t.jsx("span",{className:"text-lg",children:""}),j?"Hide":"Pick Icon"]})]}),j&&t.jsxs("div",{className:"border-2 border-slate-200 rounded-xl p-4 bg-slate-50 max-h-80 overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"relative mb-3",children:[t.jsx(Fa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4"}),t.jsx("input",{type:"text",value:y,onChange:I=>v(I.target.value),placeholder:"Search icons...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-sm"})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto",children:[t.jsx("div",{className:"grid grid-cols-8 sm:grid-cols-10 gap-2",children:xh.filter(I=>y===""||I.name.toLowerCase().includes(y.toLowerCase())||I.category.toLowerCase().includes(y.toLowerCase())||I.emoji.includes(y)).map((I,X)=>t.jsx("button",{type:"button",onClick:()=>{d(je=>({...je,icon:I.emoji})),w(!1)},className:`w-10 h-10 rounded-lg flex items-center justify-center text-xl transition-all duration-200 ${o.icon===I.emoji?"bg-primary text-white ring-2 ring-primary ring-offset-2 scale-110":"bg-white hover:bg-primary/10 hover:scale-105 border border-slate-200"}`,title:`${I.name} (${I.category})`,children:I.emoji},X))}),xh.filter(I=>y===""||I.name.toLowerCase().includes(y.toLowerCase())||I.category.toLowerCase().includes(y.toLowerCase())||I.emoji.includes(y)).length===0&&t.jsx("div",{className:"text-center py-8 text-slate-500",children:t.jsxs("p",{className:"text-sm",children:['No icons found matching "',y,'"']})})]}),t.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-600 mb-2",children:"Quick Filter:"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:["All","Tools","Electrical","Plumbing","Painting","AC","Cleaning","Hardware","Appliances","Building"].map(I=>t.jsx("button",{type:"button",onClick:()=>v(I==="All"?"":I),className:`px-2 py-1 text-xs rounded-md transition ${I==="All"&&y===""||y===I?"bg-primary text-white":"bg-white text-slate-600 hover:bg-slate-100 border border-slate-200"}`,children:I},I))})]})]}),t.jsx("p",{className:"text-xs text-slate-500",children:o.icon?t.jsxs("span",{children:["Selected: ",t.jsx("span",{className:"font-semibold",children:((me=xh.find(I=>I.emoji===o.icon))==null?void 0:me.name)||"Custom icon"}),xh.find(I=>I.emoji===o.icon)&&t.jsxs("span",{className:"text-slate-400 ml-1",children:["(",(he=xh.find(I=>I.emoji===o.icon))==null?void 0:he.category,")"]})]}):'Click "Pick Icon" to browse available icons or type a custom emoji directly'})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3 flex items-center justify-between",children:t.jsxs("span",{className:"flex items-center gap-2",children:["Items *",t.jsxs("span",{className:"text-xs font-normal text-slate-500 bg-slate-100 px-2 py-0.5 rounded-full",children:[o.items.length," ",o.items.length===1?"item":"items"]})]})}),t.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-br from-slate-50 to-slate-100/50 rounded-xl border-2 border-slate-200 shadow-sm",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Item Name *"}),t.jsx("input",{type:"text",value:c.name,onChange:I=>u(X=>({...X,name:I.target.value})),onKeyPress:I=>I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),js()),className:"w-full px-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"e.g., PVC Pipe, Copper Wire, Paint Bucket"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Category"}),t.jsx("input",{type:"text",value:c.category,onChange:I=>u(X=>({...X,category:I.target.value})),className:"w-full px-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"e.g., Plumbing, Electrical"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Brand"}),t.jsx("input",{type:"text",value:c.brand,onChange:I=>u(X=>({...X,brand:I.target.value})),className:"w-full px-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"e.g., Havells, Philips"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Model"}),t.jsx("input",{type:"text",value:c.model,onChange:I=>u(X=>({...X,model:I.target.value})),className:"w-full px-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"e.g., XYZ-123"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Description"}),t.jsx("textarea",{value:c.description,onChange:I=>u(X=>({...X,description:I.target.value})),className:"w-full px-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"Brief description of the item",rows:"2"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Min Price ()"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-medium",children:""}),t.jsx("input",{type:"number",value:c.priceMin,onChange:I=>u(X=>({...X,priceMin:I.target.value})),className:"w-full pl-8 pr-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"600",min:"0"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Max Price ()"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-medium",children:""}),t.jsx("input",{type:"number",value:c.priceMax,onChange:I=>u(X=>({...X,priceMax:I.target.value})),className:"w-full pl-8 pr-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"1000",min:"0"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Selling Price ()"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-medium",children:""}),t.jsx("input",{type:"number",value:c.sellingPrice,onChange:I=>u(X=>({...X,sellingPrice:I.target.value})),className:"w-full pl-8 pr-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"800",min:"0"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Commission (%)"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"number",value:c.commission,onChange:I=>u(X=>({...X,commission:I.target.value})),className:"w-full px-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"10",min:"0",max:"100"}),t.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 font-medium",children:"%"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Unit"}),t.jsxs("select",{value:c.unit,onChange:I=>u(X=>({...X,unit:I.target.value})),className:"w-full px-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",children:[t.jsx("option",{value:"piece",children:"Piece"}),t.jsx("option",{value:"meter",children:"Meter"}),t.jsx("option",{value:"kg",children:"Kilogram"}),t.jsx("option",{value:"liter",children:"Liter"}),t.jsx("option",{value:"box",children:"Box"}),t.jsx("option",{value:"set",children:"Set"}),t.jsx("option",{value:"roll",children:"Roll"}),t.jsx("option",{value:"packet",children:"Packet"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Weight"}),t.jsx("input",{type:"text",value:c.weight,onChange:I=>u(X=>({...X,weight:I.target.value})),className:"w-full px-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"e.g., 2.5 kg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Dimensions"}),t.jsx("input",{type:"text",value:c.dimensions,onChange:I=>u(X=>({...X,dimensions:I.target.value})),className:"w-full px-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"e.g., 10x5x2 cm"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Warranty"}),t.jsx("input",{type:"text",value:c.warranty,onChange:I=>u(X=>({...X,warranty:I.target.value})),className:"w-full px-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"e.g., 1 year, 6 months"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Tags"}),t.jsx("input",{type:"text",value:c.tags,onChange:I=>u(X=>({...X,tags:I.target.value})),className:"w-full px-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"e.g., durable, waterproof"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Specifications"}),t.jsx("textarea",{value:c.specifications,onChange:I=>u(X=>({...X,specifications:I.target.value})),className:"w-full px-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"Technical specifications, features, etc.",rows:"2"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Supplier (Vendor)"}),t.jsxs("select",{value:c.supplier||"",onChange:I=>{if(I.target.value==="retry"){ft();return}const X=We.find(je=>je._id===I.target.value);u(je=>({...je,supplier:X?X.name:I.target.value}))},className:"w-full px-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",children:[t.jsx("option",{value:"",children:kt?"Loading vendors...":at?"Error loading vendors":We.length===0?"No vendors found":`Select Vendor (${We.length} available)`}),!kt&&!at&&We.length===0&&t.jsx("option",{value:"",disabled:!0,children:"No vendors found. Please create vendors first."}),!kt&&!at&&We.map(I=>t.jsxs("option",{value:I._id,children:[I.name," ",I.companyName&&`(${I.companyName})`]},I._id)),at&&t.jsxs(t.Fragment,{children:[t.jsxs("option",{value:"",disabled:!0,children:["Error: ",at.message||"Failed to load vendors"]}),t.jsx("option",{value:"retry",style:{color:"blue"},children:" Retry Loading Vendors"})]}),t.jsx("option",{value:"other",children:"Other (Manual Entry)"})]}),c.supplier==="other"&&t.jsx("input",{type:"text",placeholder:"Enter supplier name manually",onChange:I=>u(X=>({...X,supplier:I.target.value})),className:"w-full px-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white mt-2"}),!kt&&!at&&We.length===0&&t.jsx("div",{className:"mt-2 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-amber-600 mt-0.5",children:""}),t.jsxs("div",{className:"text-sm",children:[t.jsx("div",{className:"font-semibold text-amber-800",children:"No vendors found"}),t.jsxs("div",{className:"text-amber-700 mt-1",children:["Please create vendors first in the"," ",t.jsx("button",{type:"button",onClick:()=>window.open("/admin/vendors","_blank"),className:"underline hover:no-underline font-semibold",children:"Vendor Management"})," ",'section, or select "Other" to enter manually.']})]})]})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Current Stock"}),t.jsx("input",{type:"number",value:c.stock||"",onChange:I=>u(X=>({...X,stock:I.target.value})),className:"w-full px-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"0",min:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Min Stock Level"}),t.jsx("input",{type:"number",value:c.minStockLevel||"",onChange:I=>u(X=>({...X,minStockLevel:I.target.value})),className:"w-full px-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"5",min:"0"})]})]}),t.jsxs("button",{type:"button",onClick:js,disabled:!c.name.trim(),className:"w-full px-4 py-2.5 bg-primary text-white rounded-lg hover:bg-primary-dark transition-all font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md",children:[t.jsx(ar,{className:"w-4 h-4"}),"Add Item"]})]}),t.jsxs("p",{className:"text-xs text-slate-500 mt-3 flex items-start gap-1.5",children:[t.jsx("span",{className:"text-primary mt-0.5",children:""}),t.jsx("span",{children:"Price range is optional. Press Enter to quickly add items."})]})]}),o.items.length>0?t.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-1",children:o.items.map((I,X)=>t.jsxs("div",{className:"group flex flex-col gap-3 p-4 bg-white border-2 border-slate-200 rounded-lg hover:border-primary/50 hover:shadow-sm transition-all",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-slate-100 group-hover:bg-primary/10 rounded-full flex items-center justify-center text-xs font-bold text-slate-600 group-hover:text-primary transition-colors",children:X+1}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"font-semibold text-slate-800 text-sm break-words",children:I.name||I}),I.brand&&t.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Brand: ",I.brand," ",I.model&&` Model: ${I.model}`]})]}),t.jsx("button",{type:"button",onClick:()=>Ur(X),className:"flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all",title:"Remove item",children:t.jsx(la,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 text-xs",children:[(I.priceMin||I.priceMax||I.sellingPrice)&&t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"font-semibold text-slate-600",children:"Pricing"}),(I.priceMin||I.priceMax)&&t.jsx("div",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-emerald-50 border border-emerald-200 rounded-md",children:t.jsxs("span",{className:"font-semibold text-emerald-700",children:["",I.priceMin||"0","  ",I.priceMax||""]})}),I.sellingPrice&&t.jsxs("div",{className:"text-slate-600",children:["Selling: ",t.jsxs("span",{className:"font-semibold text-primary",children:["",I.sellingPrice]})]}),I.commission&&t.jsxs("div",{className:"text-slate-600",children:["Commission: ",t.jsxs("span",{className:"font-semibold text-orange-600",children:[I.commission,"%"]})]})]}),(I.unit||I.weight||I.dimensions)&&t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"font-semibold text-slate-600",children:"Physical"}),I.unit&&t.jsxs("div",{className:"text-slate-600",children:["Unit: ",t.jsx("span",{className:"font-medium",children:I.unit})]}),I.weight&&t.jsxs("div",{className:"text-slate-600",children:["Weight: ",t.jsx("span",{className:"font-medium",children:I.weight})]}),I.dimensions&&t.jsxs("div",{className:"text-slate-600",children:["Size: ",t.jsx("span",{className:"font-medium",children:I.dimensions})]})]}),(I.category||I.warranty||I.tags)&&t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"font-semibold text-slate-600",children:"Details"}),I.category&&t.jsxs("div",{className:"text-slate-600",children:["Category: ",t.jsx("span",{className:"font-medium",children:I.category})]}),I.warranty&&t.jsxs("div",{className:"text-slate-600",children:["Warranty: ",t.jsx("span",{className:"font-medium",children:I.warranty})]}),I.tags&&t.jsxs("div",{className:"text-slate-600",children:["Tags: ",t.jsx("span",{className:"font-medium",children:I.tags})]})]})]}),(I.description||I.specifications)&&t.jsxs("div",{className:"pt-2 border-t border-slate-100 space-y-2",children:[I.description&&t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-semibold text-slate-600 mb-1",children:"Description"}),t.jsx("div",{className:"text-xs text-slate-700 bg-slate-50 p-2 rounded",children:I.description})]}),I.specifications&&t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-semibold text-slate-600 mb-1",children:"Specifications"}),t.jsx("div",{className:"text-xs text-slate-700 bg-slate-50 p-2 rounded",children:I.specifications})]})]})]},X))}):t.jsxs("div",{className:"text-center py-8 px-4 bg-slate-50 border-2 border-dashed border-slate-300 rounded-lg",children:[t.jsx(Gr,{className:"w-10 h-10 text-slate-300 mx-auto mb-2"}),t.jsx("p",{className:"text-sm font-medium text-slate-500",children:"No items added yet"}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add at least one item to continue"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Order"}),t.jsx("input",{type:"number",value:o.order,onChange:I=>d(X=>({...X,order:parseInt(I.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Status"}),t.jsxs("select",{value:o.isActive?"active":"inactive",onChange:I=>d(X=>({...X,isActive:I.target.value==="active"})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsxs("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:[t.jsx(Zn,{className:"w-4 h-4"}),m?"Saving...":i?"Update":"Create"]}),t.jsx("button",{type:"button",onClick:wr,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:"Cancel"})]})]})]})}),Z&&ie&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-5 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold",children:["Update Stock - ",ie.name]}),ie.supplier&&t.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Current Supplier: ",t.jsx("span",{className:"font-medium",children:ie.supplier})]})]}),t.jsx("button",{onClick:()=>{W(!1),ae(null)},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:st,className:"p-5 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Action *"}),t.jsxs("select",{value:M.action,onChange:I=>U(X=>({...X,action:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",required:!0,children:[t.jsx("option",{value:"add",children:"Add Stock"}),t.jsx("option",{value:"remove",children:"Remove Stock"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Quantity *"}),t.jsx("input",{type:"number",value:M.quantity,onChange:I=>U(X=>({...X,quantity:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",placeholder:"Enter quantity",min:"1",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Reason *"}),t.jsxs("select",{value:M.reason,onChange:I=>U(X=>({...X,reason:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",required:!0,children:[t.jsx("option",{value:"",children:"Select reason"}),t.jsx("option",{value:"purchase",children:"Purchase/Procurement"}),t.jsx("option",{value:"return",children:"Customer Return"}),t.jsx("option",{value:"adjustment",children:"Stock Adjustment"}),t.jsx("option",{value:"sale",children:"Sale/Issue"}),t.jsx("option",{value:"damage",children:"Damage/Loss"}),t.jsx("option",{value:"transfer",children:"Transfer"}),t.jsx("option",{value:"other",children:"Other"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Supplier (Vendor)",t.jsx("span",{className:"text-xs font-normal text-slate-500 ml-2",children:"(Optional - helps track stock sources)"})]}),t.jsxs("select",{value:M.supplier||"",onChange:I=>{if(I.target.value==="retry"){ft();return}const X=We.find(je=>je._id===I.target.value);U(je=>({...je,supplier:X?X.name:I.target.value}))},className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"",children:kt?"Loading vendors...":at?"Error loading vendors":We.length===0?"No vendors found":`Select Vendor (${We.length} available)`}),!kt&&!at&&We.length===0&&t.jsx("option",{value:"",disabled:!0,children:"No vendors found. Please create vendors first."}),!kt&&!at&&We.map(I=>t.jsxs("option",{value:I._id,children:[I.name," ",I.companyName&&`(${I.companyName})`]},I._id)),at&&t.jsxs(t.Fragment,{children:[t.jsxs("option",{value:"",disabled:!0,children:["Error: ",at.message||"Failed to load vendors"]}),t.jsx("option",{value:"retry",style:{color:"blue"},children:" Retry Loading Vendors"})]}),t.jsx("option",{value:"other",children:"Other (Manual Entry)"})]}),M.supplier==="other"&&t.jsx("input",{type:"text",placeholder:"Enter supplier name manually",onChange:I=>U(X=>({...X,supplier:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary mt-2"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:M.action==="add"?"Select the supplier providing this stock (for purchases, returns, transfers)":"Track which supplier this stock was originally from (optional)"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Location"}),t.jsx("input",{type:"text",value:M.location,onChange:I=>U(X=>({...X,location:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",placeholder:"Storage location"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Notes"}),t.jsx("textarea",{value:M.notes,onChange:I=>U(X=>({...X,notes:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",placeholder:"Additional notes",rows:"3"})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsxs("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:[t.jsx(Zn,{className:"w-4 h-4"}),m?"Updating...":`${M.action==="add"?"Add":"Remove"} Stock`]}),t.jsx("button",{type:"button",onClick:()=>W(!1),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:"Cancel"})]})]})]})}),q&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-5 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Add Inventory Item"}),t.jsx("button",{onClick:()=>{G(!1),oe({materialCategoryId:"",materialItemIndex:"",sku:"",name:"",category:"",location:"",initialStock:"",unit:"piece",supplier:"",unitPrice:"",leadTime:"",minStockLevel:"",reorderLevel:""})},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:yt,className:"p-5 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"SKU *"}),t.jsx("input",{type:"text",value:Y.sku,onChange:I=>oe(X=>({...X,sku:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",placeholder:"e.g., PLB-001",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Item Name *"}),t.jsx("input",{type:"text",value:Y.name,onChange:I=>oe(X=>({...X,name:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",placeholder:"Item name",required:!0})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Category"}),t.jsx("input",{type:"text",value:Y.category,onChange:I=>oe(X=>({...X,category:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",placeholder:"Category"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Location"}),t.jsx("input",{type:"text",value:Y.location,onChange:I=>oe(X=>({...X,location:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",placeholder:"Storage location"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Initial Stock"}),t.jsx("input",{type:"number",value:Y.initialStock,onChange:I=>oe(X=>({...X,initialStock:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",placeholder:"0",min:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Unit"}),t.jsxs("select",{value:Y.unit,onChange:I=>oe(X=>({...X,unit:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"piece",children:"Piece"}),t.jsx("option",{value:"meter",children:"Meter"}),t.jsx("option",{value:"kg",children:"Kilogram"}),t.jsx("option",{value:"liter",children:"Liter"}),t.jsx("option",{value:"box",children:"Box"}),t.jsx("option",{value:"set",children:"Set"}),t.jsx("option",{value:"roll",children:"Roll"}),t.jsx("option",{value:"packet",children:"Packet"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Unit Price ()"}),t.jsx("input",{type:"number",value:Y.unitPrice,onChange:I=>oe(X=>({...X,unitPrice:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",placeholder:"0",min:"0",step:"0.01"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Supplier (Vendor)"}),t.jsxs("select",{value:Y.supplier,onChange:I=>{const X=We.find(je=>je._id===I.target.value);oe(je=>({...je,supplier:X?X.name:I.target.value}))},className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"",children:kt?"Loading vendors...":"Select Vendor"}),!kt&&!at&&We.map(I=>t.jsxs("option",{value:I._id,children:[I.name," ",I.companyName&&`(${I.companyName})`]},I._id)),at&&t.jsx("option",{value:"",disabled:!0,children:"Error loading vendors"}),t.jsx("option",{value:"other",children:"Other (Manual Entry)"})]}),Y.supplier==="other"&&t.jsx("input",{type:"text",placeholder:"Enter supplier name manually",onChange:I=>oe(X=>({...X,supplier:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary mt-2"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Lead Time (Days)"}),t.jsx("input",{type:"number",value:Y.leadTime,onChange:I=>oe(X=>({...X,leadTime:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",placeholder:"7",min:"0"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Min Stock Level"}),t.jsx("input",{type:"number",value:Y.minStockLevel,onChange:I=>oe(X=>({...X,minStockLevel:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",placeholder:"5",min:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Reorder Level"}),t.jsx("input",{type:"number",value:Y.reorderLevel,onChange:I=>oe(X=>({...X,reorderLevel:I.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",placeholder:"10",min:"0"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsxs("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:[t.jsx(Zn,{className:"w-4 h-4"}),m?"Creating...":"Create Inventory Item"]}),t.jsx("button",{type:"button",onClick:()=>G(!1),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:"Cancel"})]})]})]})})]})},L6e=()=>{var we;const{token:e}=kr(),[r,s]=g.useState([]),[a,n]=g.useState(!1),[i,l]=g.useState({totalRevenue:0,totalSubscribers:0,activeSubscriptions:0}),[o,d]=g.useState([]),[c,u]=g.useState(!1),[m,x]=g.useState(null),[h,p]=g.useState(""),[f,b]=g.useState(!1),[j,w]=g.useState(!1),[y,v]=g.useState({customerName:"",customerPhone:"",customerEmail:"",customerAddress:"",partnerId:"",planId:"",startDate:"",duration:12,durationUnit:"months",totalAmount:"",paymentTerms:"monthly",specialTerms:"",status:"draft"}),[N,S]=g.useState([]),[k,P]=g.useState(!1);g.useEffect(()=>{const T=async()=>{if(!e){console.log("No token available, skipping AMC subscribers fetch");return}n(!0);try{console.log("Fetching AMC subscribers with token:",e?"Present":"Missing");const Q=await qe.fetchAMCSubscribers(e);if(console.log("AMC subscribers response:",Q),Q&&Q.success){const B=Q.data||[];s(B);const L=B.reduce((Z,W)=>Z+(W.amount||0),0),R=B.filter(Z=>Z.status==="active").length;l({totalRevenue:L,totalSubscribers:B.length,activeSubscriptions:R})}}catch(Q){console.error("Error fetching subscribers:",Q),console.error("Error details:",Q),Q.message&&!Q.message.includes("Authentication")&&alert("Error loading AMC subscribers: "+Q.message)}finally{n(!1)}},z=async()=>{if(!e){console.log("No token available, skipping partners fetch");return}try{const Q=await qe.fetchPartners(e,{status:"active",limit:100});Q&&Q.success&&d(Q.data||[])}catch(Q){console.error("Error fetching partners:",Q)}};e&&(T(),z(),C())},[e]);const C=async()=>{try{const T=await qe.fetchAMCPlans(e);T&&T.success&&S(T.data||[])}catch(T){console.error("Error fetching AMC plans:",T)}},_=T=>{x(T),p(""),u(!0)},A=async()=>{if(!(!h||!m)){b(!0);try{console.log("Assigning partner with data:",{userId:m.userId,subscriptionId:m._id||m.txnid,partnerId:h,token:e?"Present":"Missing"});const T=await qe.assignAMCSubscriptionToPartner(e,{userId:m.userId,subscriptionId:m._id||m.txnid,partnerId:h});if(console.log("Assignment response:",T),T.success){const z=await qe.fetchAMCSubscribers(e);z.success&&s(z.data||[]),u(!1),x(null),p("")}}catch(T){console.error("Error assigning partner:",T),alert("Error assigning partner: "+T.message)}finally{b(!1)}}},D=()=>{v({customerName:"",customerPhone:"",customerEmail:"",customerAddress:"",partnerId:"",planId:"",startDate:new Date().toISOString().split("T")[0],duration:12,durationUnit:"months",totalAmount:"",paymentTerms:"monthly",specialTerms:"",status:"draft"}),w(!0)},H=async T=>{T.preventDefault(),P(!0);try{const z=await qe.createAMCContract(e,y);z.success?(alert("AMC Contract created successfully!"),w(!1),fetchSubscribers()):alert("Failed to create contract: "+(z.message||"Unknown error"))}catch(z){console.error("Error creating contract:",z),alert("Error creating contract: "+z.message)}finally{P(!1)}},re=[{label:"Plan Subscribers",value:i.totalSubscribers||0,trend:`${i.activeSubscriptions||0} active`,icon:Nr,intent:i.totalSubscribers>0?"positive":"neutral",description:"Users with AMC plans"},{label:"AMC Revenue",value:i.totalRevenue>0?`${(i.totalRevenue/1e3).toFixed(1)}K`:"0",trend:"From plan subscriptions",icon:Yt,intent:i.totalRevenue>0?"positive":"neutral",description:"Total revenue generated"},{label:"Assigned Subscriptions",value:r.filter(T=>T.assignedPartner).length||0,trend:`${r.length-r.filter(T=>T.assignedPartner).length||0} unassigned`,icon:Gt,intent:r.filter(T=>T.assignedPartner).length>0?"positive":"neutral",description:"Subscriptions with assigned partners"},{label:"Active Partners",value:o.length||0,trend:"Available for assignment",icon:Ps,description:"Partners ready to handle AMC services"}],xe=[{header:"User Name",accessor:"userName"},{header:"Contact",accessor:"userPhone"},{header:"Plan",accessor:"planName"},{header:"Amount",accessor:"amount",render:T=>t.jsxs("span",{className:"font-semibold text-primary",children:["",(T==null?void 0:T.toLocaleString("en-IN"))||0]})},{header:"Status",accessor:"status",render:T=>t.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-full text-xs font-semibold ${T==="active"?"bg-green-100 text-green-800":T==="expired"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:T||"pending"})},{header:"Assigned Partner",accessor:"assignedPartner",render:(T,z)=>t.jsxs("div",{className:"flex items-center gap-2",children:[T?t.jsx("span",{className:"text-sm text-slate-600",children:T}):t.jsx("span",{className:"text-xs text-slate-400",children:"Not assigned"}),t.jsx("button",{onClick:()=>_(z),className:"p-1 hover:bg-slate-100 rounded transition-colors",title:"Assign Partner",children:t.jsx(tg,{className:"w-4 h-4 text-primary"})})]})},{header:"Subscribed On",accessor:"subscribedAt",render:T=>T?new Date(T).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A"}];return t.jsxs("div",{children:[t.jsx(vs,{title:"AMC Management",subtitle:"Coordinate multi-asset contracts, recurring maintenance routines, and SLA commitments with predictive renewal insights.",actions:t.jsx("button",{onClick:D,className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition",children:"New AMC Contract"})}),t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:re.map(T=>t.jsx(ti,{...T},T.label))}),t.jsxs("div",{className:"space-y-10",children:[t.jsxs("section",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"AMC Plan Subscribers"}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Users who purchased AMC plans via payment gateway"})]}),a&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading subscribers..."})]}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden",children:a?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):r.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(fs,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),t.jsx("p",{className:"text-slate-500 font-medium",children:"No AMC plan subscribers yet"}),t.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Users who purchase plans will appear here"})]}):t.jsx(Ma,{columns:xe,data:r,emptyLabel:"No subscribers found."})})]}),t.jsxs("section",{children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Partner Assignment Overview"})}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Assignment Statistics"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600",children:"Total Subscriptions:"}),t.jsx("span",{className:"font-semibold",children:r.length})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600",children:"Assigned:"}),t.jsx("span",{className:"font-semibold text-green-600",children:r.filter(T=>T.assignedPartner).length})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600",children:"Unassigned:"}),t.jsx("span",{className:"font-semibold text-orange-600",children:r.length-r.filter(T=>T.assignedPartner).length})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600",children:"Available Partners:"}),t.jsx("span",{className:"font-semibold text-blue-600",children:o.length})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Quick Actions"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("button",{className:"w-full px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition text-sm",children:"Bulk Assign Partners"}),t.jsx("button",{className:"w-full px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition text-sm",children:"Export Assignment Report"}),t.jsx("button",{className:"w-full px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition text-sm",children:"Partner Performance"})]})]})]})})]}),t.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Recent Partner Assignments"}),t.jsx("button",{className:"text-xs text-primary font-semibold",children:"View All"})]}),r.filter(T=>T.assignedPartner&&T.assignedAt).length>0?t.jsx("div",{className:"space-y-3",children:r.filter(T=>T.assignedPartner&&T.assignedAt).slice(0,5).map((T,z)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-800",children:T.userName}),t.jsx("p",{className:"text-sm text-slate-600",children:T.planName})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-medium text-slate-800",children:T.assignedPartner}),t.jsx("p",{className:"text-xs text-slate-500",children:T.assignedAt?new Date(T.assignedAt).toLocaleDateString("en-IN"):"Recently"})]})]},z))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Nr,{className:"w-10 h-10 text-slate-300 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-slate-500",children:"No partner assignments yet"}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Assignments will appear here once partners are assigned"})]})]}),t.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"AMC Management"}),t.jsx("p",{className:"text-sm text-white/75 leading-relaxed",children:"Efficiently manage AMC plan subscriptions and partner assignments. Ensure customers get the best service by assigning the right partners."}),t.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[t.jsx("li",{children:" Assign partners based on location and expertise"}),t.jsx("li",{children:" Track subscription status and partner performance"}),t.jsx("li",{children:" Monitor revenue from AMC plan sales"}),t.jsx("li",{children:" Automated notifications for assignments"})]})]})]})]}),j&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[t.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Create New AMC Contract"}),t.jsx("button",{onClick:()=>w(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(mt,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:H,className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[t.jsx(Nr,{className:"w-5 h-5 text-primary"}),"Customer Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Customer Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:y.customerName,onChange:T=>v(z=>({...z,customerName:T.target.value})),required:!0,placeholder:"Enter customer name",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Phone Number ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"tel",value:y.customerPhone,onChange:T=>v(z=>({...z,customerPhone:T.target.value})),required:!0,placeholder:"Enter phone number",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),t.jsx("input",{type:"email",value:y.customerEmail,onChange:T=>v(z=>({...z,customerEmail:T.target.value})),placeholder:"Enter email address",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:y.customerAddress,onChange:T=>v(z=>({...z,customerAddress:T.target.value})),required:!0,placeholder:"Enter customer address",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[t.jsx(Gt,{className:"w-5 h-5 text-primary"}),"Contract Details"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Select AMC Plan ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:y.planId,onChange:T=>{const z=N.find(Q=>Q._id===T.target.value);v(Q=>({...Q,planId:T.target.value,totalAmount:z?z.price:""}))},required:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Choose an AMC plan..."}),N.map(T=>{var z;return t.jsxs("option",{value:T._id,children:[T.name," - ",(z=T.price)==null?void 0:z.toLocaleString("en-IN")," (",T.planType,")"]},T._id)})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Assign Partner ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:y.partnerId,onChange:T=>v(z=>({...z,partnerId:T.target.value})),required:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Choose a partner..."}),o.map(T=>{var z,Q;return t.jsxs("option",{value:T._id,children:[((z=T.profile)==null?void 0:z.name)||T.phone," - ",((Q=T.profile)==null?void 0:Q.city)||"No city"]},T._id)})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Contract Start Date ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",value:y.startDate,onChange:T=>v(z=>({...z,startDate:T.target.value})),required:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Contract Duration"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"number",value:y.duration,onChange:T=>v(z=>({...z,duration:parseInt(T.target.value)||1})),min:"1",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"}),t.jsxs("select",{value:y.durationUnit,onChange:T=>v(z=>({...z,durationUnit:T.target.value})),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"months",children:"Months"}),t.jsx("option",{value:"years",children:"Years"})]})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[t.jsx(Yt,{className:"w-5 h-5 text-primary"}),"Financial Terms"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Total Contract Amount () ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:y.totalAmount,onChange:T=>v(z=>({...z,totalAmount:T.target.value})),required:!0,min:"0",step:"0.01",placeholder:"Enter total amount",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Payment Terms"}),t.jsxs("select",{value:y.paymentTerms,onChange:T=>v(z=>({...z,paymentTerms:T.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"monthly",children:"Monthly"}),t.jsx("option",{value:"quarterly",children:"Quarterly"}),t.jsx("option",{value:"half-yearly",children:"Half-Yearly"}),t.jsx("option",{value:"yearly",children:"Yearly"}),t.jsx("option",{value:"upfront",children:"Full Payment Upfront"})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[t.jsx(Gt,{className:"w-5 h-5 text-primary"}),"Additional Terms & Conditions"]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Special Terms & Conditions"}),t.jsx("textarea",{value:y.specialTerms,onChange:T=>v(z=>({...z,specialTerms:T.target.value})),rows:"4",placeholder:"Enter any special terms, conditions, or notes for this contract...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Contract Status"}),t.jsxs("select",{value:y.status,onChange:T=>v(z=>({...z,status:T.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"draft",children:"Draft"}),t.jsx("option",{value:"pending",children:"Pending Approval"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"suspended",children:"Suspended"})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 transition-colors",children:"Cancel"}),t.jsxs("button",{type:"submit",disabled:k,className:"px-6 py-2 bg-primary text-white text-sm font-semibold rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[k&&t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),k?"Creating Contract...":"Create Contract"]})]})]})]})}),c&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Assign Partner"}),t.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(mt,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Customer Details"}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 text-sm",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Name:"})," ",m==null?void 0:m.userName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Phone:"})," ",m==null?void 0:m.userPhone]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Plan:"})," ",m==null?void 0:m.planName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Amount:"})," ",(we=m==null?void 0:m.amount)==null?void 0:we.toLocaleString("en-IN")]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Select Partner"}),t.jsxs("select",{value:h,onChange:T=>p(T.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Choose a partner..."}),o.map(T=>{var z,Q;return t.jsxs("option",{value:T._id,children:[((z=T.profile)==null?void 0:z.name)||T.phone," - ",((Q=T.profile)==null?void 0:Q.city)||"No city"]},T._id)})]})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-slate-200",children:[t.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:A,disabled:!h||f,className:"px-4 py-2 bg-primary text-white text-sm font-semibold rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[f&&t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),f?"Assigning...":"Assign Partner"]})]})]})})]})},wc="https://nexo.works",SE=[{name:"FaMapMarkerAlt",icon:Ul,label:"Map Marker"},{name:"FaCity",icon:UX,label:"City"},{name:"FaBuilding",icon:Mo,label:"Building"},{name:"FaMapPin",icon:eJ,label:"Map Pin"}],F6e=()=>{const{token:e}=kr(),[r,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState(!1),[o,d]=g.useState(null),[c,u]=g.useState({name:"",icon:"FaMapMarkerAlt",description:"",state:"",displayOrder:0,isEnabled:!0,image:""}),[m,x]=g.useState(null),[h,p]=g.useState(null),[f,b]=g.useState(!1);g.useEffect(()=>{e&&j()},[e]);const j=async()=>{try{n(!0);const C=await Et.get(`${wc}/api/cities/all`,{headers:{Authorization:`Bearer ${e}`}});C.data.success&&s(C.data.data)}catch(C){console.error("Error fetching cities:",C),alert("Failed to fetch cities")}finally{n(!1)}},w=C=>{const _=C.target.files[0];if(_){x(_);const A=new FileReader;A.onloadend=()=>{p(A.result)},A.readAsDataURL(_)}},y=async()=>{if(!m)return null;const C=new FormData;C.append("image",m);try{return b(!0),(await Et.post(`${wc}/api/cities/upload-image`,C,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}})).data.imageUrl}catch(_){throw console.error("Error uploading image:",_),_}finally{b(!1)}},v=async C=>{var _,A;C.preventDefault();try{let D=c.image;m&&(D=await y());const H={...c,image:D};o?(await Et.put(`${wc}/api/cities/${o._id}`,H,{headers:{Authorization:`Bearer ${e}`}}),alert("City updated successfully")):(await Et.post(`${wc}/api/cities`,H,{headers:{Authorization:`Bearer ${e}`}}),alert("City created successfully")),l(!1),P(),j(),Du.clearCache()}catch(D){console.error("Error saving city:",D),alert(((A=(_=D.response)==null?void 0:_.data)==null?void 0:A.message)||"Failed to save city")}},N=C=>{d(C),u({name:C.name,icon:C.icon,description:C.description||"",state:C.state||"",displayOrder:C.displayOrder||0,isEnabled:C.isEnabled,image:C.image||""}),p(C.image||null),x(null),l(!0)},S=async C=>{try{await Et.patch(`${wc}/api/cities/${C}/toggle`,{},{headers:{Authorization:`Bearer ${e}`}}),j(),Du.clearCache()}catch(_){console.error("Error toggling city:",_),alert("Failed to toggle city status")}},k=async C=>{if(window.confirm("Are you sure you want to delete this city?"))try{await Et.delete(`${wc}/api/cities/${C}`,{headers:{Authorization:`Bearer ${e}`}}),alert("City deleted successfully"),j(),Du.clearCache()}catch(_){console.error("Error deleting city:",_),alert("Failed to delete city")}},P=()=>{d(null),u({name:"",icon:"FaMapMarkerAlt",description:"",state:"",displayOrder:0,isEnabled:!0,image:""}),x(null),p(null)};return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-primary",children:"City Management"}),t.jsxs("button",{onClick:()=>{P(),l(!0)},className:"bg-primary text-white px-6 py-3 rounded-lg flex items-center gap-2 hover:bg-primary-dark transition-colors",children:[t.jsx(us,{})," Add City"]})]}),a?t.jsx("div",{className:"text-center py-12",children:"Loading..."}):t.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Image"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"City"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"State"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(C=>{var A;const _=((A=SE.find(D=>D.name===C.icon))==null?void 0:A.icon)||Ul;return t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4",children:C.image?t.jsx("img",{src:C.image.startsWith("http")?C.image:`${wc}${C.image.startsWith("/")?C.image:"/uploads/"+C.image}`,alt:C.name,className:"w-12 h-12 object-cover rounded-lg shadow-sm",onError:D=>{D.target.style.display="none",D.target.parentElement.innerHTML='<div class="w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center"><span class="text-gray-400 text-xs">Error</span></div>'}}):t.jsx(_,{className:"w-6 h-6 text-primary"})}),t.jsx("td",{className:"px-6 py-4 font-medium",children:C.name}),t.jsx("td",{className:"px-6 py-4",children:C.state||"-"}),t.jsx("td",{className:"px-6 py-4",children:C.displayOrder}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${C.isEnabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.isEnabled?"Enabled":"Disabled"})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>S(C._id),className:"p-2 hover:bg-gray-100 rounded",children:C.isEnabled?t.jsx(oJ,{className:"text-green-600"}):t.jsx(lJ,{className:"text-gray-400"})}),t.jsx("button",{onClick:()=>N(C),className:"p-2 hover:bg-gray-100 rounded",children:t.jsx(qX,{className:"text-blue-600"})}),t.jsx("button",{onClick:()=>k(C._id),className:"p-2 hover:bg-gray-100 rounded",children:t.jsx(dJ,{className:"text-red-600"})})]})})]},C._id)})})]})}),i&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:o?"Edit City":"Add City"}),t.jsxs("form",{onSubmit:v,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"City Name *"}),t.jsx("input",{type:"text",value:c.name,onChange:C=>u({...c,name:C.target.value}),className:"w-full border rounded-lg px-4 py-2",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Icon"}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:SE.map(C=>t.jsxs("button",{type:"button",onClick:()=>u({...c,icon:C.name}),className:`p-4 border rounded-lg flex flex-col items-center gap-2 ${c.icon===C.name?"border-primary bg-primary/10":"border-gray-300"}`,children:[t.jsx(C.icon,{className:"w-6 h-6"}),t.jsx("span",{className:"text-xs",children:C.label})]},C.name))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"State"}),t.jsx("input",{type:"text",value:c.state,onChange:C=>u({...c,state:C.target.value}),className:"w-full border rounded-lg px-4 py-2"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),t.jsx("textarea",{value:c.description,onChange:C=>u({...c,description:C.target.value}),className:"w-full border rounded-lg px-4 py-2",rows:"3"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"City Image"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"w-full border rounded-lg px-4 py-2"}),h&&t.jsxs("div",{className:"relative w-full h-48 border rounded-lg overflow-hidden",children:[t.jsx("img",{src:h,alt:"Preview",className:"w-full h-full object-cover"}),t.jsx("button",{type:"button",onClick:()=>{x(null),p(null),u({...c,image:""})},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600",children:""})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Display Order"}),t.jsx("input",{type:"number",value:c.displayOrder,onChange:C=>u({...c,displayOrder:parseInt(C.target.value)}),className:"w-full border rounded-lg px-4 py-2"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:c.isEnabled,onChange:C=>u({...c,isEnabled:C.target.checked}),className:"w-4 h-4"}),t.jsx("label",{className:"text-sm font-medium",children:"Enabled"})]}),t.jsxs("div",{className:"flex gap-2 justify-end",children:[t.jsx("button",{type:"button",onClick:()=>{l(!1),P()},className:"px-6 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark disabled:opacity-50",children:f?"Uploading...":o?"Update":"Create"})]})]})]})})]})},R6e=()=>{var Je,dt;const{token:e}=kr(),[r,s]=g.useState({status:"all",city:"",allocationStrategy:"all"}),[a,n]=g.useState(1),[i,l]=g.useState(!1),[o,d]=g.useState(1),[c,u]=g.useState(""),[m,x]=g.useState(null),[h,p]=g.useState(!1),[f,b]=g.useState({category:"",service:"",subService:"",city:"",address:"",landmark:"",pincode:"",value:"",allocationStrategy:"rule_based",priority:"medium",description:""}),[j,w]=g.useState([]),[y,v]=g.useState([]),[N,S]=g.useState([]),[k,P]=g.useState(!1),[C,_]=g.useState(!1),[A,D]=g.useState(null),[H,re]=g.useState(!1),xe=g.useMemo(()=>{const Ae={page:a,limit:50};return r.status&&r.status!=="all"&&(Ae.status=r.status),r.city&&r.city.trim()&&(Ae.city=r.city.trim()),r.allocationStrategy&&r.allocationStrategy!=="all"&&(Ae.allocationStrategy=r.allocationStrategy),Ae},[r.status,r.city,r.allocationStrategy,a]),we=g.useMemo(()=>JSON.stringify(xe),[xe]),{data:T,isLoading:z,error:Q,refresh:B}=lr(Ae=>qe.fetchLeads(Ae,xe),[we]),{data:L,isLoading:R,error:Z}=lr(Ae=>qe.fetchLeadAnalytics(Ae),[]),{data:W,isLoading:ie,error:ae}=lr(Ae=>qe.fetchBids(Ae,{page:1,limit:50}),[]),M=z||R||ie,U=Q||Z||ae,q=Array.isArray(T==null?void 0:T.data)?T.data:[],G=Array.isArray(W==null?void 0:W.data)?W.data:[],Y=L||{},oe=(T==null?void 0:T.pagination)||{};_t.useEffect(()=>{var Ae,ze;T&&console.log(" Lead Management - API Response:",{success:T.success,hasData:!!T.data,dataType:Array.isArray(T.data)?"array":typeof T.data,dataLength:((Ae=T.data)==null?void 0:Ae.length)||0,pagination:T.pagination,firstLead:(ze=T.data)==null?void 0:ze[0]}),Q&&console.error(" Lead Management - Error:",Q),console.log(" Extracted leads:",q.length,q)},[T,Q,q]);const Be=[{label:"Lead Pool",value:Y.active||0,trend:Y.highValueLeads?`${Y.highValueLeads} high-value leads awaiting bids`:null,icon:Uh,description:Y.cityCount?`Across ${Y.cityCount} cities`:"Active leads"},{label:"Conversion Rate",value:Y.conversion||"0%",trend:Y.convertedLeads30d?`${Y.convertedLeads30d} converted (30d)`:null,icon:bn,description:"Rolling 30-day window"},{label:"Avg Allocation Time",value:Y.allocationTime||"0m 0s",trend:"Includes dispute overrides",icon:Ej,description:"From ingestion to assignment"},{label:"Bid Health",value:Y.bidParticipation||"0.0 bids/lead",trend:"Maintaining fair marketplace",icon:FZ,description:"Ensures SLA coverage"}],fe=[{header:"Lead ID",accessor:"leadId"},{header:"Source",accessor:"source",render:Ae=>{const ze={"Partner Registration":"bg-purple-500/10 text-purple-600","Plan Subscription":"bg-blue-500/10 text-blue-600","Customer Enquiry":"bg-green-500/10 text-green-600",Booking:"bg-indigo-500/10 text-indigo-600",Manual:"bg-gray-500/10 text-gray-600"};return t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${ze[Ae]||"bg-slate-200 text-slate-700"}`,children:Ae})}},{header:"Partner/Customer",accessor:"partnerName",render:(Ae,ze)=>{const It=ze.partnerName||ze.customerName||"N/A",Ft=ze.partnerPhone||ze.customerPhone||"",Se=ze.partnerEmail||ze.customerEmail||"";return It==="N/A"?t.jsx("span",{className:"text-slate-400",children:"N/A"}):t.jsxs("div",{className:"text-sm",children:[t.jsx("div",{className:"font-semibold text-slate-900",children:It}),Ft&&t.jsx("div",{className:"text-xs text-slate-500",children:Ft}),Se&&t.jsx("div",{className:"text-xs text-slate-400",children:Se})]})}},{header:"Service",accessor:"service"},{header:"City",accessor:"city"},{header:"Value",accessor:"value"},{header:"Allocation",accessor:"allocationStrategy"},{header:"Assigned To",accessor:"assignedPartner"},{header:"Bids",accessor:"bids"},{header:"Status",accessor:"status",render:Ae=>{const ze={Pending:"bg-slate-500/10 text-slate-600","Awaiting Bid":"bg-amber-500/10 text-amber-600",Bidding:"bg-blue-500/10 text-blue-600",Assigned:"bg-indigo-500/10 text-indigo-600",Converted:"bg-emerald-500/10 text-emerald-600",Escalated:"bg-rose-500/10 text-rose-600",Cancelled:"bg-gray-500/10 text-gray-600",Expired:"bg-orange-500/10 text-orange-600"};return t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${ze[Ae]||"bg-slate-200 text-slate-700"}`,children:Ae})}}],ne=[{header:"Lead",accessor:"lead"},{header:"Partner",accessor:"partner"},{header:"Bid Amount",accessor:"amount"},{header:"Score",accessor:"score"},{header:"ETA",accessor:"eta"},{header:"Status",accessor:"status",render:Ae=>{const ze={Pending:"bg-amber-500/10 text-amber-600",Accepted:"bg-emerald-500/10 text-emerald-600",Rejected:"bg-rose-500/10 text-rose-600",Withdrawn:"bg-gray-500/10 text-gray-600"};return t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${ze[Ae]||"bg-slate-200 text-slate-700"}`,children:Ae})}}],ce=(Ae,ze)=>{s(It=>({...It,[Ae]:ze})),n(1)},pe=()=>{s({status:"all",city:"",allocationStrategy:"all"}),n(1)},F=()=>{try{let Ae=`Lead Bidding Activity Export
`;Ae+=`Exported At: ${new Date().toLocaleString("en-IN")}

`,Ae+=`Lead,Partner,Bid Amount,Score,ETA,Status,Submitted At
`,G.forEach(Se=>{const O=Se.submittedAt?new Date(Se.submittedAt).toLocaleString("en-IN"):"N/A";Ae+=`${Se.lead},${Se.partner},${Se.amount},${Se.score},${Se.eta},${Se.status},${O}
`});const ze=new Blob([Ae],{type:"text/csv;charset=utf-8;"}),It=document.createElement("a"),Ft=URL.createObjectURL(ze);It.setAttribute("href",Ft),It.setAttribute("download",`bids-export-${new Date().toISOString().split("T")[0]}.csv`),It.style.visibility="hidden",document.body.appendChild(It),It.click(),document.body.removeChild(It)}catch(Ae){console.error("Error exporting bids:",Ae),alert("Failed to export bids. Please try again.")}},ue=async(Ae,ze)=>{if(window.confirm(`Change lead status to ${ze}?`))try{await qe.updateLeadStatus(e,Ae,ze),alert("Lead status updated successfully!"),B()}catch(It){alert("Failed to update lead status: "+(It.message||"Unknown error"))}};_t.useEffect(()=>{i&&o===2&&j.length===0&&(async()=>{try{const ze=await qe.fetchCategories(e);ze!=null&&ze.data&&w(ze.data)}catch(ze){console.error("Error loading categories:",ze)}})()},[i,o,e]);const J=async()=>{if(!c.trim()){alert("Please enter partner phone number or ID");return}p(!0);try{const Ae=await qe.fetchPartners(e,{search:c.trim(),limit:10});if(Ae!=null&&Ae.data&&Ae.data.length>0){const ze=Ae.data[0];x(ze),d(2)}else alert("Partner not found. Please check the phone number or ID.")}catch(Ae){alert("Error searching partner: "+(Ae.message||"Unknown error"))}finally{p(!1)}},be=async Ae=>{if(b(ze=>({...ze,category:Ae,service:"",subService:""})),v([]),S([]),Ae)try{const ze=j.find(It=>It._id===Ae);ze!=null&&ze.services&&v(ze.services||[])}catch(ze){console.error("Error loading services:",ze)}},ge=Ae=>{if(b(ze=>({...ze,service:Ae,subService:""})),S([]),Ae){const ze=y.find(It=>It._id===Ae);ze!=null&&ze.subServices&&S(ze.subServices||[])}},Ne=async Ae=>{if(Ae.preventDefault(),!m){alert("Please verify partner first");return}if(!f.category||!f.city||!f.value){alert("Please fill all required fields");return}P(!0);try{const ze={partnerId:m._id,category:f.category,service:f.service,subService:f.subService,city:f.city,address:f.address,landmark:f.landmark,pincode:f.pincode,value:parseFloat(f.value),allocationStrategy:f.allocationStrategy,priority:f.priority,description:f.description};(await qe.createManualLead(e,ze)).success&&(alert("Lead created successfully!"),l(!1),d(1),x(null),u(""),b({category:"",service:"",subService:"",city:"",address:"",landmark:"",pincode:"",value:"",allocationStrategy:"rule_based",priority:"medium",description:""}),B())}catch(ze){alert("Failed to create lead: "+(ze.message||"Unknown error"))}finally{P(!1)}},Ie=Ae=>{var Ft;const It={Pending:"pending","Awaiting Bid":"awaiting_bid",Bidding:"bidding",Assigned:"assigned",Converted:"converted",Escalated:"escalated",Cancelled:"cancelled",Expired:"expired"}[Ae.status]||((Ft=Ae.status)==null?void 0:Ft.toLowerCase().replace(" ","_"))||"pending";return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>{D(Ae),re(!0)},className:"text-xs px-2 py-1 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition",title:"View Details",children:t.jsx(Gt,{className:"w-4 h-4"})}),t.jsxs("select",{value:It,onChange:Se=>ue(Ae.id,Se.target.value),className:"text-xs px-2 py-1 border border-slate-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary",children:[t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"awaiting_bid",children:"Awaiting Bid"}),t.jsx("option",{value:"bidding",children:"Bidding"}),t.jsx("option",{value:"assigned",children:"Assigned"}),t.jsx("option",{value:"converted",children:"Converted"}),t.jsx("option",{value:"escalated",children:"Escalated"}),t.jsx("option",{value:"cancelled",children:"Cancelled"}),t.jsx("option",{value:"expired",children:"Expired"})]})]})};return t.jsxs("div",{children:[t.jsx(vs,{title:"Lead Management",subtitle:"Automate allocation logic, manage partner bidding, and maximize conversion across acquisition funnels.",actions:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:async()=>{if(window.confirm("This will create leads from all pending bookings. Continue?"))try{await qe.syncBookingsToLeads(e),alert("Leads synced successfully!"),B()}catch(Ae){alert("Failed to sync leads: "+(Ae.message||"Unknown error"))}},className:"px-4 py-2 rounded-xl border border-slate-300 text-slate-700 text-sm font-semibold hover:bg-slate-50 transition inline-flex items-center gap-2",children:[t.jsx(Dt,{})," Sync from Bookings"]}),t.jsxs("button",{className:"px-4 py-2 rounded-xl border border-primary text-primary text-sm font-semibold hover:bg-primary/10 transition inline-flex items-center gap-2",children:[t.jsx(El,{})," Configure Allocation Rules"]})]})}),t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:Be.map(Ae=>t.jsx(ti,{...Ae},Ae.label))}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Dd,{className:"w-5 h-5 text-slate-500"}),t.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Filters"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:B,className:"p-2 hover:bg-slate-100 rounded-lg transition",title:"Refresh",children:t.jsx(Dt,{className:"w-4 h-4 text-slate-600"})}),(r.status!=="all"||r.city||r.allocationStrategy!=="all")&&t.jsxs("button",{onClick:pe,className:"px-3 py-1.5 text-xs font-semibold text-slate-600 hover:text-slate-900 transition inline-flex items-center gap-1",children:[t.jsx(mt,{className:"w-3 h-3"}),"Clear Filters"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Status"}),t.jsxs("select",{value:r.status,onChange:Ae=>ce("status",Ae.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"awaiting_bid",children:"Awaiting Bid"}),t.jsx("option",{value:"bidding",children:"Bidding"}),t.jsx("option",{value:"assigned",children:"Assigned"}),t.jsx("option",{value:"converted",children:"Converted"}),t.jsx("option",{value:"escalated",children:"Escalated"}),t.jsx("option",{value:"cancelled",children:"Cancelled"}),t.jsx("option",{value:"expired",children:"Expired"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"City"}),t.jsx("input",{type:"text",value:r.city,onChange:Ae=>ce("city",Ae.target.value),placeholder:"Filter by city...",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Allocation Strategy"}),t.jsxs("select",{value:r.allocationStrategy,onChange:Ae=>ce("allocationStrategy",Ae.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",children:[t.jsx("option",{value:"all",children:"All Strategies"}),t.jsx("option",{value:"instant_assign",children:"Instant Assign"}),t.jsx("option",{value:"tiered_bid",children:"Tiered Bid"}),t.jsx("option",{value:"rule_based",children:"Rule Based"}),t.jsx("option",{value:"manual",children:"Manual"})]})]})]})]}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("section",{children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[U&&t.jsxs("span",{className:"text-xs text-rose-500",children:["Error: ",U]}),M&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading leads..."}),!M&&!U&&t.jsxs("span",{className:"text-xs text-slate-500",children:[oe.total||0," total leads"]})]})}),t.jsx(Ma,{columns:fe,data:q,emptyLabel:"No leads available. Try syncing from bookings or creating a manual lead.",renderActions:Ie}),oe.pages>1&&t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",(oe.page-1)*oe.limit+1," to ",Math.min(oe.page*oe.limit,oe.total)," of ",oe.total," leads"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>n(Ae=>Math.max(1,Ae-1)),disabled:oe.page===1,className:"px-3 py-1.5 border border-slate-300 rounded-lg text-sm font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),t.jsxs("span",{className:"text-sm text-slate-600",children:["Page ",oe.page," of ",oe.pages]}),t.jsx("button",{onClick:()=>n(Ae=>Math.min(oe.pages,Ae+1)),disabled:oe.page===oe.pages,className:"px-3 py-1.5 border border-slate-300 rounded-lg text-sm font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),t.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Bidding Activity"}),t.jsxs("button",{onClick:F,className:"text-xs text-primary font-semibold hover:underline inline-flex items-center gap-1",children:[t.jsx(In,{className:"w-3 h-3"})," Download Logs"]})]}),t.jsx(Ma,{columns:ne,data:G,emptyLabel:"No bids registered."})]}),t.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Allocation Intelligence"}),t.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:"Blend skill matrices, SLA history, proximity, and wallet health before assigning leads. Override manually when enterprise SLAs demand it."}),t.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(vt,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"Auto-standby pool when primary declines"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(vt,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"Bid ceilings to maintain margin guardrails"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(vt,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"Quality scores updated post each job"})]})]})]})]})]}),i&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[t.jsx(Uh,{className:"w-5 h-5"}),o===1?"Verify Partner":"Create Lead"]}),t.jsx("button",{onClick:()=>{l(!1),d(1),x(null),u("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsx("div",{className:"p-6",children:o===1?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:t.jsxs("p",{className:"text-sm text-blue-700",children:[t.jsx("strong",{children:"Step 1:"})," Verify the partner by entering their phone number or partner ID."]})}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Or,{className:"w-4 h-4 inline mr-1"}),"Partner Phone Number or ID"]}),t.jsx("input",{type:"text",value:c,onChange:Ae=>u(Ae.target.value),placeholder:"Enter phone number (e.g., 9876543210) or partner ID",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",onKeyPress:Ae=>Ae.key==="Enter"&&J()})]}),m&&t.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(vt,{className:"w-5 h-5 text-emerald-600"}),t.jsx("span",{className:"font-semibold text-emerald-900",children:"Partner Verified"})]}),t.jsxs("p",{className:"text-sm text-emerald-700",children:[t.jsx("strong",{children:"Name:"})," ",((Je=m.profile)==null?void 0:Je.name)||"N/A",t.jsx("br",{}),t.jsx("strong",{children:"Phone:"})," ",m.phone||"N/A",t.jsx("br",{}),t.jsx("strong",{children:"Status:"})," ",m.profileStatus||"N/A"]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{onClick:J,disabled:h||!c.trim(),className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",children:h?t.jsxs(t.Fragment,{children:[t.jsx(qr,{className:"w-4 h-4 animate-spin"}),"Searching..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Fa,{className:"w-4 h-4"}),"Verify Partner"]})})]})]}):t.jsxs("form",{onSubmit:Ne,className:"space-y-6",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsxs("p",{className:"text-sm text-blue-700",children:[t.jsx("strong",{children:"Step 2:"})," Fill in the lead details below."]}),m&&t.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Partner: ",((dt=m.profile)==null?void 0:dt.name)||m.phone]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Category ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsxs("select",{value:f.category,onChange:Ae=>be(Ae.target.value),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select Category"}),j.map(Ae=>t.jsx("option",{value:Ae._id,children:Ae.name},Ae._id))]})]}),y.length>0&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service"}),t.jsxs("select",{value:f.service,onChange:Ae=>ge(Ae.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select Service"}),y.map(Ae=>t.jsx("option",{value:Ae._id,children:Ae.name},Ae._id))]})]}),N.length>0&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Sub Service"}),t.jsxs("select",{value:f.subService,onChange:Ae=>b(ze=>({...ze,subService:Ae.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select Sub Service"}),N.map(Ae=>t.jsx("option",{value:Ae._id,children:Ae.name},Ae._id))]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Er,{className:"w-4 h-4 inline mr-1"}),"City ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",value:f.city,onChange:Ae=>b(ze=>({...ze,city:Ae.target.value})),required:!0,placeholder:"Enter city",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Yt,{className:"w-4 h-4 inline mr-1"}),"Lead Value () ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"number",value:f.value,onChange:Ae=>b(ze=>({...ze,value:Ae.target.value})),required:!0,min:"0",step:"0.01",placeholder:"Enter lead value",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Allocation Strategy"}),t.jsxs("select",{value:f.allocationStrategy,onChange:Ae=>b(ze=>({...ze,allocationStrategy:Ae.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"rule_based",children:"Rule Based"}),t.jsx("option",{value:"instant_assign",children:"Instant Assign"}),t.jsx("option",{value:"tiered_bid",children:"Tiered Bid"}),t.jsx("option",{value:"manual",children:"Manual"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Priority"}),t.jsxs("select",{value:f.priority,onChange:Ae=>b(ze=>({...ze,priority:Ae.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"}),t.jsx("option",{value:"urgent",children:"Urgent"})]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Er,{className:"w-4 h-4 inline mr-1"}),"Address"]}),t.jsx("input",{type:"text",value:f.address,onChange:Ae=>b(ze=>({...ze,address:Ae.target.value})),placeholder:"Enter full address",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Landmark"}),t.jsx("input",{type:"text",value:f.landmark,onChange:Ae=>b(ze=>({...ze,landmark:Ae.target.value})),placeholder:"Enter landmark",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:f.pincode,onChange:Ae=>b(ze=>({...ze,pincode:Ae.target.value})),placeholder:"Enter pincode",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Gt,{className:"w-4 h-4 inline mr-1"}),"Description"]}),t.jsx("textarea",{value:f.description,onChange:Ae=>b(ze=>({...ze,description:Ae.target.value})),placeholder:"Enter lead description or notes",rows:"3",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>d(1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Back"}),t.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:k,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",children:k?t.jsxs(t.Fragment,{children:[t.jsx(qr,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(vt,{className:"w-4 h-4"}),"Create Lead"]})})]})]})})]})}),H&&A&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>re(!1),children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:Ae=>Ae.stopPropagation(),children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Lead Details"}),t.jsx("button",{onClick:()=>re(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Lead ID"}),t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:A.leadId})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Source"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.source})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Service"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.service})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"City"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.city})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Value"}),t.jsx("div",{className:"text-sm font-semibold text-primary",children:A.value})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Status"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.status})]})]}),(A.partnerName||A.customerName)&&t.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:A.source==="Partner Registration"||A.source==="Plan Subscription"?"Partner Information":"Customer Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Name"}),t.jsx("div",{className:"text-sm text-slate-900 font-semibold",children:A.partnerName||A.customerName})]}),(A.partnerPhone||A.customerPhone)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Phone"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.partnerPhone||A.customerPhone})]}),(A.partnerEmail||A.customerEmail)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Email"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.partnerEmail||A.customerEmail})]}),A.partnerId&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Partner ID"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.partnerId})]})]})]}),A.description&&t.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-2",children:"Description"}),t.jsx("div",{className:"text-sm text-slate-700 bg-slate-50 p-3 rounded-lg",children:A.description})]}),A.metadata&&Object.keys(A.metadata).length>0&&t.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-2",children:"Additional Information"}),t.jsx("div",{className:"text-xs text-slate-600 bg-slate-50 p-3 rounded-lg",children:t.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(A.metadata,null,2)})})]})]})]})})]})},B6e=[{label:"Revenue",key:"revenue",intent:"positive",icon:cr},{label:"Penalties",key:"penalties",intent:"warning",icon:y0},{label:"Refunds",key:"refunds",intent:"negative",icon:p4},{label:"Average Rating",key:"ratings",intent:"positive",icon:cr}],$6e=()=>{const{token:e}=kr(),[r,s]=g.useState(!1),[a,n]=g.useState(""),[i,l]=g.useState("weekly"),[o,d]=g.useState(!1),{data:c,isLoading:u,error:m}=lr(T=>qe.fetchRevenueAnalytics(T),[]),{data:x,isLoading:h,error:p}=lr(T=>qe.fetchUserAnalytics(T),[]),{data:f,isLoading:b,error:j}=lr(T=>qe.fetchPartnerPerformance(T),[]),{data:w,isLoading:y,error:v}=lr(T=>qe.fetchCategoryRevenue(T),[]),N=u||h||b||y,S=m||p||j||v,k=c||{},P=x||{},C=f||[],_=Array.isArray(w)?w:[],A=[{label:"Total Revenue",value:k!=null&&k.totalRevenue?`${(k.totalRevenue/1e5).toFixed(1)}L`:"0",trend:k!=null&&k.transactionCount?`${k.transactionCount} transactions`:null,description:"After refunds and penalties",icon:cr},{label:"Successful Transactions",value:(k==null?void 0:k.successfulTransactions)??0,trend:k!=null&&k.failedTransactions?`${k.failedTransactions} failed`:null,description:"Payment gateway success rate",icon:y0,intent:"positive"},{label:"Total Users",value:(P==null?void 0:P.totalUsers)??0,trend:P!=null&&P.newUsers?`${P.newUsers} new (30d)`:null,description:"Registered customers",icon:p4},{label:"User Retention",value:P!=null&&P.userRetentionRate?`${P.userRetentionRate.toFixed(1)}%`:"0%",trend:P!=null&&P.activeUsers?`${P.activeUsers} active`:null,description:"Active user percentage",icon:cr}],D=_.length>0?Math.max(..._.map(T=>T.revenue||0)):1,H=()=>t.jsx("div",{className:"flex items-center justify-center py-16",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}),re=async()=>{d(!0);try{const T={summary:{totalRevenue:(k==null?void 0:k.totalRevenue)||0,transactionCount:(k==null?void 0:k.transactionCount)||0,successfulTransactions:(k==null?void 0:k.successfulTransactions)||0,failedTransactions:(k==null?void 0:k.failedTransactions)||0,totalUsers:(P==null?void 0:P.totalUsers)||0,activeUsers:(P==null?void 0:P.activeUsers)||0,newUsers:(P==null?void 0:P.newUsers)||0,userRetentionRate:(P==null?void 0:P.userRetentionRate)||0},categoryRevenue:_,partnerPerformance:C,exportedAt:new Date().toISOString()};let z=`Reports & Analytics Dashboard Export
`;z+=`Exported At: ${new Date().toLocaleString("en-IN")}

`,z+=`SUMMARY STATISTICS
`,z+=`Metric,Value
`,z+=`Total Revenue,${(T.summary.totalRevenue||0).toLocaleString("en-IN")}
`,z+=`Total Transactions,${T.summary.transactionCount}
`,z+=`Successful Transactions,${T.summary.successfulTransactions}
`,z+=`Failed Transactions,${T.summary.failedTransactions}
`,z+=`Total Users,${T.summary.totalUsers}
`,z+=`Active Users,${T.summary.activeUsers}
`,z+=`New Users (30d),${T.summary.newUsers}
`,z+=`User Retention Rate,${T.summary.userRetentionRate.toFixed(2)}%

`,_.length>0&&(z+=`CATEGORY-WISE REVENUE
`,z+=`Category,Revenue,Penalties,Rating,Booking Count
`,_.forEach(R=>{z+=`${R.category},${(R.revenue||0).toLocaleString("en-IN")},${(R.penalties||0).toLocaleString("en-IN")},${R.rating||0},${R.bookingCount||0}
`}),z+=`
`),C.length>0&&(z+=`PARTNER PERFORMANCE
`,z+=`Partner Name,Rating,Completion Rate,Total Earnings,Completed Bookings,Cancelled Bookings
`,C.forEach(R=>{var Z;z+=`${R.name||"Unknown"},${R.rating||0},${((Z=R.completionRate)==null?void 0:Z.toFixed(2))||0}%,${(R.totalEarnings||0).toLocaleString("en-IN")},${R.completedBookings||0},${R.cancelledBookings||0}
`}));const Q=new Blob([z],{type:"text/csv;charset=utf-8;"}),B=document.createElement("a"),L=URL.createObjectURL(Q);B.setAttribute("href",L),B.setAttribute("download",`dashboard-export-${new Date().toISOString().split("T")[0]}.csv`),B.style.visibility="hidden",document.body.appendChild(B),B.click(),document.body.removeChild(B)}catch(T){console.error("Error exporting dashboard:",T),alert("Failed to export dashboard. Please try again.")}finally{d(!1)}},xe=()=>{s(!0)},we=async T=>{T.preventDefault(),alert(`Email digest scheduled for ${a} (${i}). This feature will be implemented soon.`),s(!1),n("")};return t.jsxs("div",{children:[t.jsx(vs,{title:"Reports & Analytics",subtitle:"Get finance-ready metrics by category, city, partner performance, penalties, and customer satisfaction.",actions:t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:xe,className:"px-4 py-2 rounded-xl border border-primary text-primary text-sm font-semibold hover:bg-primary/10 transition inline-flex items-center gap-2",children:[t.jsx(Ps,{})," Schedule Digest"]}),t.jsxs("button",{onClick:re,disabled:o||N,className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(In,{})," ",o?"Exporting...":"Export Dashboard"]})]})}),t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:A.map(T=>t.jsx(ti,{...T},T.label))}),N?H():S?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Unable to fetch live analytics. ",S]}):t.jsxs("div",{className:"space-y-10",children:[t.jsxs("section",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500 mb-6",children:"Category-wise Revenue Snapshot"}),_.length===0?t.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No category revenue data available"}):t.jsx("div",{className:"space-y-6",children:_.map(T=>{const z=D>0?T.revenue/D*100:0;return t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-900",children:T.category}),t.jsxs("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:["Revenue: ",T.revenueFormatted||`${(T.revenue||0).toLocaleString("en-IN")}`,"  Penalties: ",T.penaltiesFormatted||`${(T.penalties||0).toLocaleString("en-IN")}`]})]}),T.rating>0&&t.jsxs("div",{className:"text-sm font-semibold text-primary",children:["Rating ",T.rating]})]}),t.jsx("div",{className:"h-2 rounded-full bg-slate-100 overflow-hidden",children:t.jsx("div",{className:"h-full bg-primary rounded-full transition-all",style:{width:`${z}%`}})})]},T.categoryId||T.category)})})]}),t.jsx("section",{className:"grid lg:grid-cols-3 gap-6",children:B6e.map(T=>t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-900",children:T.label}),t.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Trendline (12 weeks)"})]}),t.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 text-primary flex items-center justify-center",children:t.jsx(T.icon,{})})]}),t.jsx("div",{className:"mt-5 h-28",children:t.jsx("div",{className:"w-full h-full rounded-lg bg-gradient-to-br from-primary/5 to-primary/20 flex items-center justify-center text-sm text-primary font-semibold",children:t.jsx("span",{children:"Coming soon"})})})]},T.label))})]}),r&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[t.jsx(sn,{className:"w-5 h-5"}),"Schedule Email Digest"]}),t.jsx("button",{onClick:()=>{s(!1),n("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:we,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email Address"}),t.jsx("input",{type:"email",value:a,onChange:T=>n(T.target.value),required:!0,placeholder:"admin@example.com",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Frequency"}),t.jsxs("select",{value:i,onChange:T=>l(T.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"daily",children:"Daily"}),t.jsx("option",{value:"weekly",children:"Weekly"}),t.jsx("option",{value:"monthly",children:"Monthly"})]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-700",children:[t.jsx("p",{className:"font-semibold mb-1",children:"Coming Soon"}),t.jsx("p",{children:"Email digest scheduling will be available soon. You'll receive automated reports with all analytics data."})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{s(!1),n("")},className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition",children:"Schedule"})]})]})]})})]})},z6e=[{header:"Template",accessor:"name"},{header:"Channel",accessor:"channel"},{header:"Audience",accessor:"audience"},{header:"Last Updated",accessor:"updatedAt"},{header:"Owner",accessor:"owner"},{header:"Status",accessor:"status",render:e=>t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${e==="Active"?"bg-emerald-500/10 text-emerald-600":e==="Draft"?"bg-slate-200 text-slate-700":"bg-amber-500/10 text-amber-600"}`,children:e})}],U6e=[{header:"Flow",accessor:"flow"},{header:"Trigger",accessor:"trigger"},{header:"Audience",accessor:"audience"},{header:"Channels",accessor:"channels"},{header:"Sends (7d)",accessor:"sends"},{header:"Status",accessor:"status"}],H6e=[{id:1,name:"Booking Confirmation",channel:"WhatsApp",audience:"Customer",updatedAt:"12 Nov, 10:12",owner:"CX Ops",status:"Active"},{id:2,name:"Partner Allocation Alert",channel:"SMS + WhatsApp",audience:"Partner",updatedAt:"11 Nov, 18:04",owner:"Partner Ops",status:"Active"},{id:3,name:"Refund Initiated",channel:"WhatsApp",audience:"Customer",updatedAt:"10 Nov, 16:40",owner:"Finance",status:"Draft"}],V6e=()=>{const{data:e,isLoading:r,error:s}=lr(n=>qe.fetchModuleData("/notifications/templates",n)),a=[{label:"Templates Live",value:(e==null?void 0:e.templateCount)??48,trend:"8 pending WhatsApp approval",icon:x4,description:"Across partners, customers, finance"},{label:"Automation Journeys",value:(e==null?void 0:e.journeys)??14,trend:"3 paused due to SLA breach",icon:El,description:"Trigger-condition-action flows"},{label:"Messages Sent (24h)",value:(e==null?void 0:e.messagesSent)??"18,240",trend:"Delivery rate 97.4%",icon:eg,description:"WhatsApp + SMS combined"},{label:"Tokenized Content",value:(e==null?void 0:e.tokenUsage)??"83%",trend:"Personalized with real-time data",icon:qi,description:"Dynamic placeholders"}];return t.jsxs("div",{children:[t.jsx(vs,{title:"Notifications",subtitle:"Build and orchestrate WhatsApp and SMS templates with audit-ready versions, journey automation, and compliance guardrails.",actions:t.jsx("button",{className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition",children:"Create Template"})}),t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:a.map(n=>t.jsx(ti,{...n},n.label))}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("section",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Template Library"}),s&&t.jsx("span",{className:"text-xs text-rose-500",children:"Template sync failed. Showing cached data."}),r&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading templates..."})]}),t.jsx(Ma,{columns:z6e,data:(e==null?void 0:e.templates)??H6e,emptyLabel:"No templates created."})]}),t.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Journey Automation"}),t.jsx("button",{className:"text-xs text-primary font-semibold",children:"New Flow"})]}),t.jsx(Ma,{columns:U6e,data:(e==null?void 0:e.journeySummary)??[{id:1,flow:"Lead Allocated  Partner Reminder",trigger:"No bid in 15 mins",audience:"Partner",channels:"WhatsApp + Push",sends:"546",status:"Active"},{id:2,flow:"Service Completed  Feedback",trigger:"Job completion event",audience:"Customer",channels:"WhatsApp + Email",sends:"1,824",status:"Active"}],emptyLabel:"No automation journeys configured."})]}),t.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Compliance Guardrails"}),t.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:"Centralized audit logs, template versioning, and opt-out controls ensure every WhatsApp or SMS message adheres to regulatory requirements."}),t.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[t.jsx("li",{children:" Maintain DLT IDs and expiry alerts"}),t.jsx("li",{children:" Auto-block sending if opt-out thresholds exceeded"}),t.jsx("li",{children:" Attach escalation notes for manual overrides"})]})]})]})]})]})},W6e=()=>{const{notifications:e}=kr(),r=(e==null?void 0:e.notifications)||[],s=(e==null?void 0:e.isLoading)||!1,a=(e==null?void 0:e.unreadCount)||0,n=e==null?void 0:e.markAsRead,i=e==null?void 0:e.fetchNotifications,[l,o]=g.useState("all"),d=r.filter(x=>l==="unread"?!x.seen&&!x.read:l==="read"?x.seen||x.read:!0),c=async(x=null)=>{n&&(await n(x),i&&await i())},u=async()=>{n&&(await n(),i&&await i())},m=x=>{if(!x)return"";const h=new Date(x),f=new Date-h,b=Math.floor(f/6e4),j=Math.floor(f/36e5),w=Math.floor(f/864e5);return b<1?"Just now":b<60?`${b} minutes ago`:j<24?`${j} hours ago`:w<7?`${w} days ago`:h.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return t.jsxs("div",{children:[t.jsx(vs,{title:"Notifications",subtitle:"View and manage all your notifications",actions:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>i&&i(),className:"px-4 py-2 rounded-xl bg-slate-100 text-slate-700 text-sm font-semibold hover:bg-slate-200 transition flex items-center gap-2",children:[t.jsx(Dt,{className:"w-4 h-4"}),"Refresh"]}),a>0&&t.jsxs("button",{onClick:u,className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition flex items-center gap-2",children:[t.jsx(vt,{className:"w-4 h-4"}),"Mark All Read"]})]})}),t.jsxs("div",{className:"mb-6 flex items-center gap-2 border-b border-slate-200",children:[t.jsxs("button",{onClick:()=>o("all"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${l==="all"?"border-primary text-primary":"border-transparent text-slate-600 hover:text-slate-900"}`,children:["All (",r.length,")"]}),t.jsxs("button",{onClick:()=>o("unread"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${l==="unread"?"border-primary text-primary":"border-transparent text-slate-600 hover:text-slate-900"}`,children:["Unread (",a,")"]}),t.jsxs("button",{onClick:()=>o("read"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${l==="read"?"border-primary text-primary":"border-transparent text-slate-600 hover:text-slate-900"}`,children:["Read (",r.length-a,")"]})]}),s?t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-12 text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600",children:"Loading notifications..."})]}):d.length===0?t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-12 text-center",children:[t.jsx(En,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No notifications"}),t.jsx("p",{className:"text-slate-600",children:l==="unread"?"You're all caught up! No unread notifications.":l==="read"?"No read notifications to display.":"You don't have any notifications yet."})]}):t.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 divide-y divide-slate-100",children:d.map(x=>{var p;const h=!x.seen&&!x.read;return t.jsx("div",{className:`p-6 hover:bg-slate-50 transition-colors ${h?"bg-blue-50/30 border-l-4 border-l-primary":""}`,children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:t.jsx("div",{className:`w-3 h-3 rounded-full ${h?"bg-primary":"bg-slate-300"}`})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-1",children:x.title||((p=x.message)==null?void 0:p.split(": ")[0])||"New notification"}),x.message&&t.jsx("p",{className:"text-sm text-slate-600 mb-2 line-clamp-3",children:x.title?x.message:x.message.split(": ").slice(1).join(": ")||x.message}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-400",children:[t.jsx("span",{children:m(x.date||x.createdAt)}),x.type&&t.jsx("span",{className:"px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:x.type})]})]}),h&&t.jsx("button",{onClick:()=>c(x._id||x.id),className:"flex-shrink-0 p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Mark as read",children:t.jsx(Tl,{className:"w-5 h-5 text-slate-400 hover:text-primary"})})]})})]})},x._id||x.id||Math.random())})})]})},q6e=[{header:"Refund ID",accessor:"refundId"},{header:"Booking",accessor:"bookingId"},{header:"Customer",accessor:"customer"},{header:"Reason",accessor:"reason"},{header:"Channel",accessor:"channel"},{header:"Amount",accessor:"amount"},{header:"Status",accessor:"status",render:e=>t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${e==="Auto Refunded"?"bg-emerald-500/10 text-emerald-600":e==="Manual Review"?"bg-amber-500/10 text-amber-600":"bg-slate-200 text-slate-700"}`,children:e})},{header:"SLA",accessor:"sla"}],G6e=[{header:"Case",accessor:"caseId"},{header:"Booking",accessor:"bookingId"},{header:"Escalation Level",accessor:"level"},{header:"Amount",accessor:"amount"},{header:"Owner",accessor:"owner"},{header:"Status",accessor:"status"}],K6e=[{id:1,refundId:"RF-2210",bookingId:"BK-2991",customer:"Megha Patil",reason:"Technician no-show",channel:"Auto",amount:"1,299",status:"Auto Refunded",sla:"Closed in 1.8 hrs"},{id:2,refundId:"RF-2206",bookingId:"BK-2986",customer:"Arjun Desai",reason:"Quality dispute",channel:"Manual",amount:"2,450",status:"Manual Review",sla:"Awaiting Finance (4.2 hrs)"},{id:3,refundId:"RF-2201",bookingId:"BK-2978",customer:"Latika Rao",reason:"Double charge",channel:"Auto",amount:"1,049",status:"Auto Refunded",sla:"Closed in 35 mins"}],Y6e=()=>{const{data:e,isLoading:r,error:s}=lr(n=>qe.fetchModuleData("/refunds",n)),a=[{label:"Auto Closure Rate",value:(e==null?void 0:e.autoRate)??"76%",trend:"Policy engine handling majority scenarios",icon:UZ,description:"Within defined risk guardrails"},{label:"Average Turnaround",value:(e==null?void 0:e.turnaround)??"2.1 hrs",trend:"Manual queue aging at 6.4 hrs",icon:qr,description:"From request to settlement",intent:(e==null?void 0:e.turnaround)>3?"warning":"positive"},{label:"Finance Exceptions",value:(e==null?void 0:e.exceptions)??12,trend:"Escalated to level-2 for approval",icon:_Z,description:"Needs manual override",intent:"warning"},{label:"Chargeback Prevention",value:(e==null?void 0:e.chargebackAvoided)??"4.6L",trend:"By proactive customer engagement",icon:kn,description:"Month to date"}];return t.jsxs("div",{children:[t.jsx(vs,{title:"Refund Management",subtitle:"Track refund automation logs, manual overrides, and finance escalations with granular audit trails.",actions:t.jsx("button",{className:"px-4 py-2 rounded-xl border border-primary text-primary text-sm font-semibold hover:bg-primary/10 transition",children:"Configure Policies"})}),t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:a.map(n=>t.jsx(ti,{...n},n.label))}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("section",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Refund Ledger"}),s&&t.jsx("span",{className:"text-xs text-rose-500",children:"Refund service offline."}),r&&t.jsx("span",{className:"text-xs text-slate-400",children:"Syncing latest refunds..."})]}),t.jsx(Ma,{columns:q6e,data:(e==null?void 0:e.refunds)??K6e,emptyLabel:"No refunds recorded today."})]}),t.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Manual Overrides"}),t.jsx("button",{className:"text-xs text-primary font-semibold",children:"New Override"})]}),t.jsx(Ma,{columns:G6e,data:(e==null?void 0:e.exceptionsList)??[{id:1,caseId:"EX-1982",bookingId:"BK-2986",level:"Finance L2",amount:"2,450",owner:"Sana Qureshi",status:"Pending"},{id:2,caseId:"EX-1979",bookingId:"BK-2971",level:"Ops L1",amount:"980",owner:"Raghav Iyer",status:"Approved"}],emptyLabel:"No manual overrides pending."})]}),t.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Risk & Escalation Engine"}),t.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:"Every refund request is scored on past incidents, ticket sentiment, wallet health, and policy compliance. Higher risk cases auto-assign to finance controllers."}),t.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[t.jsx("li",{children:" Auto-close low-risk refunds instantly"}),t.jsx("li",{children:" Dual-auth approvals above 5,000"}),t.jsx("li",{children:" SLA breach alerts for pending overrides"})]})]})]})]})]})},X6e=()=>{const{token:e}=kr(),{data:r,isLoading:s,error:a,refresh:n}=lr(y=>qe.fetchMGPlans(y),[]),[i,l]=g.useState(!1),[o,d]=g.useState(null),[c,u]=g.useState({name:"",price:"",leads:"",commission:"",leadFee:"",minWalletBalance:"",description:"",refundPolicy:"",features:"",validityType:"monthly",validityMonths:"",partnerType:"individual",isDefault:!1,isActive:!0}),[m,x]=g.useState(!1),h=(r==null?void 0:r.data)||[],p=()=>{d(null),u({name:"",price:"",leads:"",commission:"",leadFee:"",minWalletBalance:"",description:"",refundPolicy:"",features:"",validityType:"monthly",validityMonths:"",partnerType:"individual",isDefault:!1,isActive:!0}),l(!0)},f=y=>{var v;d(y),u({name:y.name,price:y.price,leads:y.leads,commission:y.commission,leadFee:y.leadFee??"",minWalletBalance:y.minWalletBalance??"",description:y.description||"",refundPolicy:y.refundPolicy||"",features:((v=y.features)==null?void 0:v.join(`
`))||"",validityType:y.validityType||"monthly",validityMonths:y.validityType==="custom"&&y.validityMonths||"",partnerType:y.partnerType||"individual",isDefault:y.isDefault||!1,isActive:y.isActive!==void 0?y.isActive:!0}),l(!0)},b=async y=>{y.preventDefault(),x(!0);try{const v={...c,price:Number(c.price),leads:Number(c.leads),commission:Number(c.commission),leadFee:c.leadFee===""?void 0:Number(c.leadFee),minWalletBalance:c.minWalletBalance===""?void 0:Number(c.minWalletBalance),features:c.features.split(`
`).filter(N=>N.trim()),validityType:c.validityType,validityMonths:c.validityType==="custom"&&c.validityMonths?Number(c.validityMonths):void 0};o?await qe.updateMGPlan(e,o._id,v):await qe.createMGPlan(e,v),l(!1),n()}catch(v){alert(v.message||"Failed to save plan")}finally{x(!1)}},j=async y=>{if(confirm("Are you sure you want to delete this plan?"))try{await qe.deleteMGPlan(e,y),n()}catch(v){alert(v.message||"Failed to delete plan")}},w=y=>{if(!y)return"";const v=y.toLowerCase();return v.includes("silver")?"":v.includes("gold")?"":v.includes("platinum")?"":v.includes("basic")?"":v.includes("premium")?"":v.includes("enterprise")||v.includes("business")?"":v.includes("starter")?"":v.includes("pro")?"":""};return t.jsxs("div",{children:[t.jsx(vs,{title:"MG Plan Management",subtitle:"Manage Minimum Guarantee plans for partners - pricing, leads, and commission rates."}),t.jsx("div",{className:"mb-6 flex justify-end",children:t.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition",children:[t.jsx(ar,{})," Create New Plan"]})}),s?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Error loading plans: ",a]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:h.map(y=>{var v;return t.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-6 shadow-sm hover:shadow-md transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-4xl",children:w(y.name)}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:y.name}),y.isDefault&&t.jsx("span",{className:"text-xs text-primary font-semibold",children:"Default Plan"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>f(y),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(gs,{className:"text-slate-600"})}),t.jsx("button",{onClick:()=>j(y._id),className:"p-2 hover:bg-rose-50 rounded-lg transition",children:t.jsx(la,{className:"text-rose-600"})})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-3xl font-bold text-primary",children:["",y.price.toLocaleString("en-IN")]}),t.jsx("div",{className:"text-sm text-gray-500",children:"per month"})]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:[y.leads," Guaranteed Leads"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:[y.commission,"% Commission Rate"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:["Lead Fee ",(y.leadFee??0).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:["Min Wallet ",(y.minWalletBalance??0).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-blue-500"}),t.jsxs("span",{className:"text-gray-700",children:["Validity: ",y.validityType==="monthly"?"1 Month":y.validityType==="quarterly"?"3 Months":y.validityType==="yearly"?"12 Months":y.validityType==="custom"?`${y.validityMonths||1} Month(s)`:"1 Month"]})]})]}),y.description&&t.jsx("p",{className:"text-sm text-gray-600 mt-3",children:y.description}),y.refundPolicy&&t.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:y.refundPolicy}),(v=y.features)!=null&&v.length?t.jsxs("div",{className:"pt-3 border-t",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-2",children:"Highlights"}),t.jsx("ul",{className:"space-y-1 text-xs text-slate-600",children:y.features.map((N,S)=>t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-green-500"}),t.jsx("span",{children:N})]},S))})]}):null,t.jsxs("div",{className:"pt-3 border-t flex items-center gap-2 flex-wrap",children:[t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${y.isActive?"bg-emerald-500/10 text-emerald-600":"bg-gray-500/10 text-gray-600"}`,children:y.isActive?"Active":"Inactive"}),t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${y.partnerType==="franchise"?"bg-purple-500/10 text-purple-600":y.partnerType==="both"?"bg-blue-500/10 text-blue-600":"bg-slate-500/10 text-slate-600"}`,children:y.partnerType==="franchise"?"Franchise":y.partnerType==="both"?"Both":"Individual"})]})]})]},y._id)})}),i&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:o?"Edit Plan":"Create New Plan"}),t.jsxs("form",{onSubmit:b,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Plan Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:c.name,onChange:y=>u(v=>({...v,name:y.target.value.trim()})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter plan name (e.g., Silver, Gold, Platinum, Basic, Premium, etc.)",required:!0}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:'You can use the same name for different partner types (e.g., "Silver" for Individual and "Silver" for Franchise)'})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Partner Type ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:c.partnerType,onChange:y=>u(v=>({...v,partnerType:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",required:!0,children:[t.jsx("option",{value:"individual",children:"Individual Partner"}),t.jsx("option",{value:"franchise",children:"Franchise Partner"}),t.jsx("option",{value:"both",children:"Both (Individual & Franchise)"})]}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select which partner type can subscribe to this plan"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Price () ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:c.price,onChange:y=>u(v=>({...v,price:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"1000",min:"0",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Guaranteed Leads ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:c.leads,onChange:y=>u(v=>({...v,leads:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"20",min:"0",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Commission (%) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:c.commission,onChange:y=>u(v=>({...v,commission:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"5",min:"0",max:"100",step:"0.1",required:!0})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Lead Fee () ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:c.leadFee,onChange:y=>u(v=>({...v,leadFee:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"50",min:"0",required:!0})]}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Min Wallet Balance () ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:c.minWalletBalance,onChange:y=>u(v=>({...v,minWalletBalance:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"20",min:"0",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),t.jsx("textarea",{value:c.description,onChange:y=>u(v=>({...v,description:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",rows:3,placeholder:"Plan description..."})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Plan Validity ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:c.validityType,onChange:y=>u(v=>({...v,validityType:y.target.value,validityMonths:y.target.value==="custom"?v.validityMonths:""})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",required:!0,children:[t.jsx("option",{value:"monthly",children:"Monthly (1 Month)"}),t.jsx("option",{value:"quarterly",children:"Quarterly (3 Months)"}),t.jsx("option",{value:"yearly",children:"Yearly (12 Months)"}),t.jsx("option",{value:"custom",children:"Custom Duration"})]}),c.validityType==="custom"&&t.jsxs("div",{className:"mt-3",children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Custom Duration (Months) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:c.validityMonths,onChange:y=>u(v=>({...v,validityMonths:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter number of months",min:"1",required:c.validityType==="custom"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Enter the number of months for plan validity"})]}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select how long the plan remains valid after subscription"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Refund Policy"}),t.jsx("textarea",{value:c.refundPolicy,onChange:y=>u(v=>({...v,refundPolicy:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",rows:2,placeholder:"Refund policy details..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Features (one per line)"}),t.jsx("textarea",{value:c.features,onChange:y=>u(v=>({...v,features:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",rows:4,placeholder:`Feature 1
Feature 2
Feature 3`})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:c.isDefault,onChange:y=>u(v=>({...v,isDefault:y.target.checked})),className:"w-4 h-4 text-primary rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Set as Default Plan"})]})}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:c.isActive,onChange:y=>u(v=>({...v,isActive:y.target.checked})),className:"w-4 h-4 text-primary rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Active"})]})}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition disabled:opacity-50",children:m?"Saving...":o?"Update Plan":"Create Plan"})]})]})]})})]})},J6e=()=>{const{token:e}=kr(),[r,s]=g.useState("individual"),[a,n]=g.useState({individual:{registrationFee:"",securityDeposit:"",toolkitPrice:"",registrationFeeRefundable:!1,securityDepositRefundable:!1,toolkitPriceRefundable:!1},franchise:{registrationFee:"",securityDeposit:"",toolkitPrice:"",registrationFeeRefundable:!1,securityDepositRefundable:!1,toolkitPriceRefundable:!1}}),[i,l]=g.useState(!1),[o,d]=g.useState(""),[c,u]=g.useState(""),{data:m,isLoading:x,error:h,refresh:p}=lr(y=>qe.fetchFees(y),[]);_t.useEffect(()=>{var y,v,N,S,k,P,C,_,A,D,H,re;m!=null&&m.data&&n({individual:{registrationFee:((y=m.data.individual)==null?void 0:y.registrationFee)||m.data.registrationFee||"",securityDeposit:((v=m.data.individual)==null?void 0:v.securityDeposit)||m.data.securityDeposit||"",toolkitPrice:((N=m.data.individual)==null?void 0:N.toolkitPrice)||m.data.toolkitPrice||"",registrationFeeRefundable:((S=m.data.individual)==null?void 0:S.registrationFeeRefundable)||m.data.registrationFeeRefundable||!1,securityDepositRefundable:((k=m.data.individual)==null?void 0:k.securityDepositRefundable)||m.data.securityDepositRefundable||!1,toolkitPriceRefundable:((P=m.data.individual)==null?void 0:P.toolkitPriceRefundable)||m.data.toolkitPriceRefundable||!1},franchise:{registrationFee:((C=m.data.franchise)==null?void 0:C.registrationFee)||m.data.registrationFee||"",securityDeposit:((_=m.data.franchise)==null?void 0:_.securityDeposit)||m.data.securityDeposit||"",toolkitPrice:((A=m.data.franchise)==null?void 0:A.toolkitPrice)||m.data.toolkitPrice||"",registrationFeeRefundable:((D=m.data.franchise)==null?void 0:D.registrationFeeRefundable)||m.data.registrationFeeRefundable||!1,securityDepositRefundable:((H=m.data.franchise)==null?void 0:H.securityDepositRefundable)||m.data.securityDepositRefundable||!1,toolkitPriceRefundable:((re=m.data.franchise)==null?void 0:re.toolkitPriceRefundable)||m.data.toolkitPriceRefundable||!1}})},[m]);const f=async y=>{y.preventDefault(),l(!0),u(""),d("");try{const v=a[r];await qe.updateFees(e,{partnerType:r,registrationFee:Number(v.registrationFee),securityDeposit:Number(v.securityDeposit),toolkitPrice:Number(v.toolkitPrice),registrationFeeRefundable:v.registrationFeeRefundable,securityDepositRefundable:v.securityDepositRefundable,toolkitPriceRefundable:v.toolkitPriceRefundable}),d(`${r==="individual"?"Individual":"Franchise"} partner fees updated successfully!`),p(),setTimeout(()=>{d("")},3e3)}catch(v){u(v.message||"Failed to update fees")}finally{l(!1)}},b=()=>{var y,v,N,S,k,P,C,_,A,D,H,re;m!=null&&m.data&&n({individual:{registrationFee:((y=m.data.individual)==null?void 0:y.registrationFee)||m.data.registrationFee||"",securityDeposit:((v=m.data.individual)==null?void 0:v.securityDeposit)||m.data.securityDeposit||"",toolkitPrice:((N=m.data.individual)==null?void 0:N.toolkitPrice)||m.data.toolkitPrice||"",registrationFeeRefundable:((S=m.data.individual)==null?void 0:S.registrationFeeRefundable)||m.data.registrationFeeRefundable||!1,securityDepositRefundable:((k=m.data.individual)==null?void 0:k.securityDepositRefundable)||m.data.securityDepositRefundable||!1,toolkitPriceRefundable:((P=m.data.individual)==null?void 0:P.toolkitPriceRefundable)||m.data.toolkitPriceRefundable||!1},franchise:{registrationFee:((C=m.data.franchise)==null?void 0:C.registrationFee)||m.data.registrationFee||"",securityDeposit:((_=m.data.franchise)==null?void 0:_.securityDeposit)||m.data.securityDeposit||"",toolkitPrice:((A=m.data.franchise)==null?void 0:A.toolkitPrice)||m.data.toolkitPrice||"",registrationFeeRefundable:((D=m.data.franchise)==null?void 0:D.registrationFeeRefundable)||m.data.registrationFeeRefundable||!1,securityDepositRefundable:((H=m.data.franchise)==null?void 0:H.securityDepositRefundable)||m.data.securityDepositRefundable||!1,toolkitPriceRefundable:((re=m.data.franchise)==null?void 0:re.toolkitPriceRefundable)||m.data.toolkitPriceRefundable||!1}}),u(""),d("")},j=()=>{const y=a[r],v=Number(y.registrationFee)||0,N=Number(y.securityDeposit)||0;return v+N},w=a[r];return t.jsxs("div",{children:[t.jsx(vs,{title:"Fee Management",subtitle:"Manage registration fee, security deposit, and toolkit pricing for partner onboarding."}),x?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):h?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Error loading fees: ",h]}):t.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Update Fees"}),t.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg transition",children:[t.jsx(Dt,{className:"w-4 h-4"}),"Reset"]})]}),t.jsxs("div",{className:"flex gap-2 mb-6 p-1 bg-slate-100 rounded-xl",children:[t.jsx("button",{type:"button",onClick:()=>s("individual"),className:`flex-1 px-4 py-2.5 rounded-lg font-semibold transition ${r==="individual"?"bg-white text-primary shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"Individual Partner"}),t.jsx("button",{type:"button",onClick:()=>s("franchise"),className:`flex-1 px-4 py-2.5 rounded-lg font-semibold transition ${r==="franchise"?"bg-white text-purple-600 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"Franchise Partner"})]}),c&&t.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg mb-6 text-sm",children:c}),o&&t.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg mb-6 text-sm",children:o}),t.jsxs("form",{onSubmit:f,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Registration Fee () ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:""}),t.jsx("input",{type:"number",value:w.registrationFee,onChange:y=>n(v=>({...v,[r]:{...v[r],registrationFee:y.target.value}})),className:"w-full pl-8 pr-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"500",min:"0",step:"1",required:!0})]}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["One-time registration fee charged to ",r==="individual"?"individual":"franchise"," partners during onboarding"]}),t.jsxs("div",{className:"flex items-center gap-3 mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsx("input",{type:"checkbox",id:"registrationFeeRefundable",checked:w.registrationFeeRefundable,onChange:y=>n(v=>({...v,[r]:{...v[r],registrationFeeRefundable:y.target.checked}})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),t.jsx("label",{htmlFor:"registrationFeeRefundable",className:"flex-1 cursor-pointer",children:t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Registration Fee is Refundable"})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Security Deposit () ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:""}),t.jsx("input",{type:"number",value:w.securityDeposit,onChange:y=>n(v=>({...v,[r]:{...v[r],securityDeposit:y.target.value}})),className:"w-full pl-8 pr-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"1000",min:"0",step:"1",required:!0})]}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Security deposit amount collected from ",r==="individual"?"individual":"franchise"," partners"]}),t.jsxs("div",{className:"flex items-center gap-3 mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsx("input",{type:"checkbox",id:"securityDepositRefundable",checked:w.securityDepositRefundable,onChange:y=>n(v=>({...v,[r]:{...v[r],securityDepositRefundable:y.target.checked}})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),t.jsx("label",{htmlFor:"securityDepositRefundable",className:"flex-1 cursor-pointer",children:t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Security Deposit is Refundable"})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Toolkit Price () ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:""}),t.jsx("input",{type:"number",value:w.toolkitPrice,onChange:y=>n(v=>({...v,[r]:{...v[r],toolkitPrice:y.target.value}})),className:"w-full pl-8 pr-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"2499",min:"0",step:"1",required:!0})]}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Price for professional toolkit (optional purchase during onboarding)"}),t.jsxs("div",{className:"flex items-center gap-3 mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsx("input",{type:"checkbox",id:"toolkitPriceRefundable",checked:w.toolkitPriceRefundable,onChange:y=>n(v=>({...v,[r]:{...v[r],toolkitPriceRefundable:y.target.checked}})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),t.jsx("label",{htmlFor:"toolkitPriceRefundable",className:"flex-1 cursor-pointer",children:t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Toolkit Price is Refundable"})})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:b,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:i,className:"flex-1 px-4 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Zn,{className:"w-5 h-5"}),"Update Fees"]})})]})]})]})}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:`bg-gradient-to-br border rounded-2xl p-6 sticky top-6 ${r==="individual"?"from-primary/10 to-primary/5 border-primary/20":"from-purple-500/10 to-purple-500/5 border-purple-500/20"}`,children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-2 flex items-center gap-2",children:[t.jsx(Yt,{className:`w-5 h-5 ${r==="individual"?"text-primary":"text-purple-600"}`}),"Fee Summary"]}),t.jsxs("p",{className:"text-xs text-slate-600 mb-4",children:[r==="individual"?"Individual Partner":"Franchise Partner"," Fees"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white/80 rounded-xl p-4",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Registration Fee"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",(Number(w.registrationFee)||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"bg-white/80 rounded-xl p-4",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Security Deposit"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",(Number(w.securityDeposit)||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"bg-white/80 rounded-xl p-4",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Toolkit Price"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",(Number(w.toolkitPrice)||0).toLocaleString("en-IN")]})]}),t.jsx("div",{className:`border-t pt-4 mt-4 ${r==="individual"?"border-primary/20":"border-purple-500/20"}`,children:t.jsxs("div",{className:"bg-white/80 rounded-xl p-4",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Total Onboarding Fee"}),t.jsxs("p",{className:`text-2xl font-bold ${r==="individual"?"text-primary":"text-purple-600"}`,children:["",j().toLocaleString("en-IN")]}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"(Registration + Security Deposit)"})]})}),t.jsxs("div",{className:"bg-white/80 rounded-xl p-4 space-y-2",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2 font-semibold",children:"Refundable Status"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-slate-600",children:"Registration Fee:"}),t.jsx("span",{className:`text-xs font-semibold ${w.registrationFeeRefundable?"text-emerald-600":"text-slate-600"}`,children:w.registrationFeeRefundable?" Refundable":" Non-Refundable"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-slate-600",children:"Security Deposit:"}),t.jsx("span",{className:`text-xs font-semibold ${w.securityDepositRefundable?"text-emerald-600":"text-slate-600"}`,children:w.securityDepositRefundable?" Refundable":" Non-Refundable"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-slate-600",children:"Toolkit Price:"}),t.jsx("span",{className:`text-xs font-semibold ${w.toolkitPriceRefundable?"text-emerald-600":"text-slate-600"}`,children:w.toolkitPriceRefundable?" Refundable":" Non-Refundable"})]})]})]}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mt-4",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(kM,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"text-xs text-blue-700",children:[t.jsx("p",{className:"font-semibold mb-1",children:"Note:"}),t.jsx("p",{children:"Toolkit is optional. Total onboarding fee = Registration Fee + Security Deposit"}),(w.registrationFeeRefundable||w.securityDepositRefundable||w.toolkitPriceRefundable)&&t.jsxs("p",{className:"mt-2 text-emerald-700 font-semibold",children:[" Refundable fees will be displayed to ",r==="individual"?"individual":"franchise"," partners during onboarding"]})]})]})})]})]})})]})]})},$z=6048e5,Q6e=864e5,kE=Symbol.for("constructDateFrom");function cc(e,r){return typeof e=="function"?e(r):e&&typeof e=="object"&&kE in e?e[kE](r):e instanceof Date?new e.constructor(r):new Date(r)}function Li(e,r){return cc(r||e,e)}let Z6e={};function xv(){return Z6e}function q0(e,r){var o,d,c,u;const s=xv(),a=(r==null?void 0:r.weekStartsOn)??((d=(o=r==null?void 0:r.locale)==null?void 0:o.options)==null?void 0:d.weekStartsOn)??s.weekStartsOn??((u=(c=s.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,n=Li(e,r==null?void 0:r.in),i=n.getDay(),l=(i<a?7:0)+i-a;return n.setDate(n.getDate()-l),n.setHours(0,0,0,0),n}function py(e,r){return q0(e,{...r,weekStartsOn:1})}function zz(e,r){const s=Li(e,r==null?void 0:r.in),a=s.getFullYear(),n=cc(s,0);n.setFullYear(a+1,0,4),n.setHours(0,0,0,0);const i=py(n),l=cc(s,0);l.setFullYear(a,0,4),l.setHours(0,0,0,0);const o=py(l);return s.getTime()>=i.getTime()?a+1:s.getTime()>=o.getTime()?a:a-1}function CE(e){const r=Li(e),s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),+e-+s}function eSe(e,...r){const s=cc.bind(null,r.find(a=>typeof a=="object"));return r.map(s)}function PE(e,r){const s=Li(e,r==null?void 0:r.in);return s.setHours(0,0,0,0),s}function tSe(e,r,s){const[a,n]=eSe(s==null?void 0:s.in,e,r),i=PE(a),l=PE(n),o=+i-CE(i),d=+l-CE(l);return Math.round((o-d)/Q6e)}function rSe(e,r){const s=zz(e,r),a=cc(e,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),py(a)}function sSe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function aSe(e){return!(!sSe(e)&&typeof e!="number"||isNaN(+Li(e)))}function nSe(e,r){const s=Li(e,r==null?void 0:r.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const iSe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lSe=(e,r,s)=>{let a;const n=iSe[e];return typeof n=="string"?a=n:r===1?a=n.one:a=n.other.replace("{{count}}",r.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function a2(e){return(r={})=>{const s=r.width?String(r.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const oSe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cSe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dSe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uSe={date:a2({formats:oSe,defaultWidth:"full"}),time:a2({formats:cSe,defaultWidth:"full"}),dateTime:a2({formats:dSe,defaultWidth:"full"})},mSe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hSe=(e,r,s,a)=>mSe[e];function ph(e){return(r,s)=>{const a=s!=null&&s.context?String(s.context):"standalone";let n;if(a==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,o=s!=null&&s.width?String(s.width):l;n=e.formattingValues[o]||e.formattingValues[l]}else{const l=e.defaultWidth,o=s!=null&&s.width?String(s.width):e.defaultWidth;n=e.values[o]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(r):r;return n[i]}}const xSe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pSe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fSe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gSe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ySe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vSe=(e,r)=>{const s=Number(e),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},jSe={ordinalNumber:vSe,era:ph({values:xSe,defaultWidth:"wide"}),quarter:ph({values:pSe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ph({values:fSe,defaultWidth:"wide"}),day:ph({values:gSe,defaultWidth:"wide"}),dayPeriod:ph({values:ySe,defaultWidth:"wide",formattingValues:bSe,defaultFormattingWidth:"wide"})};function fh(e){return(r,s={})=>{const a=s.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=r.match(n);if(!i)return null;const l=i[0],o=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(o)?NSe(o,m=>m.test(l)):wSe(o,m=>m.test(l));let c;c=e.valueCallback?e.valueCallback(d):d,c=s.valueCallback?s.valueCallback(c):c;const u=r.slice(l.length);return{value:c,rest:u}}}function wSe(e,r){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&r(e[s]))return s}function NSe(e,r){for(let s=0;s<e.length;s++)if(r(e[s]))return s}function SSe(e){return(r,s={})=>{const a=r.match(e.matchPattern);if(!a)return null;const n=a[0],i=r.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=s.valueCallback?s.valueCallback(l):l;const o=r.slice(n.length);return{value:l,rest:o}}}const kSe=/^(\d+)(th|st|nd|rd)?/i,CSe=/\d+/i,PSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ASe={any:[/^b/i,/^(a|c)/i]},TSe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ESe={any:[/1/i,/2/i,/3/i,/4/i]},ISe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},OSe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_Se={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},MSe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},DSe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},LSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},FSe={ordinalNumber:SSe({matchPattern:kSe,parsePattern:CSe,valueCallback:e=>parseInt(e,10)}),era:fh({matchPatterns:PSe,defaultMatchWidth:"wide",parsePatterns:ASe,defaultParseWidth:"any"}),quarter:fh({matchPatterns:TSe,defaultMatchWidth:"wide",parsePatterns:ESe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:fh({matchPatterns:ISe,defaultMatchWidth:"wide",parsePatterns:OSe,defaultParseWidth:"any"}),day:fh({matchPatterns:_Se,defaultMatchWidth:"wide",parsePatterns:MSe,defaultParseWidth:"any"}),dayPeriod:fh({matchPatterns:DSe,defaultMatchWidth:"any",parsePatterns:LSe,defaultParseWidth:"any"})},RSe={code:"en-US",formatDistance:lSe,formatLong:uSe,formatRelative:hSe,localize:jSe,match:FSe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function BSe(e,r){const s=Li(e,r==null?void 0:r.in);return tSe(s,nSe(s))+1}function $Se(e,r){const s=Li(e,r==null?void 0:r.in),a=+py(s)-+rSe(s);return Math.round(a/$z)+1}function Uz(e,r){var u,m,x,h;const s=Li(e,r==null?void 0:r.in),a=s.getFullYear(),n=xv(),i=(r==null?void 0:r.firstWeekContainsDate)??((m=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(x=n.locale)==null?void 0:x.options)==null?void 0:h.firstWeekContainsDate)??1,l=cc((r==null?void 0:r.in)||e,0);l.setFullYear(a+1,0,i),l.setHours(0,0,0,0);const o=q0(l,r),d=cc((r==null?void 0:r.in)||e,0);d.setFullYear(a,0,i),d.setHours(0,0,0,0);const c=q0(d,r);return+s>=+o?a+1:+s>=+c?a:a-1}function zSe(e,r){var o,d,c,u;const s=xv(),a=(r==null?void 0:r.firstWeekContainsDate)??((d=(o=r==null?void 0:r.locale)==null?void 0:o.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((u=(c=s.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,n=Uz(e,r),i=cc((r==null?void 0:r.in)||e,0);return i.setFullYear(n,0,a),i.setHours(0,0,0,0),q0(i,r)}function USe(e,r){const s=Li(e,r==null?void 0:r.in),a=+q0(s,r)-+zSe(s,r);return Math.round(a/$z)+1}function hr(e,r){const s=e<0?"-":"",a=Math.abs(e).toString().padStart(r,"0");return s+a}const bo={y(e,r){const s=e.getFullYear(),a=s>0?s:1-s;return hr(r==="yy"?a%100:a,r.length)},M(e,r){const s=e.getMonth();return r==="M"?String(s+1):hr(s+1,2)},d(e,r){return hr(e.getDate(),r.length)},a(e,r){const s=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,r){return hr(e.getHours()%12||12,r.length)},H(e,r){return hr(e.getHours(),r.length)},m(e,r){return hr(e.getMinutes(),r.length)},s(e,r){return hr(e.getSeconds(),r.length)},S(e,r){const s=r.length,a=e.getMilliseconds(),n=Math.trunc(a*Math.pow(10,s-3));return hr(n,r.length)}},ru={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},AE={G:function(e,r,s){const a=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(e,r,s){if(r==="yo"){const a=e.getFullYear(),n=a>0?a:1-a;return s.ordinalNumber(n,{unit:"year"})}return bo.y(e,r)},Y:function(e,r,s,a){const n=Uz(e,a),i=n>0?n:1-n;if(r==="YY"){const l=i%100;return hr(l,2)}return r==="Yo"?s.ordinalNumber(i,{unit:"year"}):hr(i,r.length)},R:function(e,r){const s=zz(e);return hr(s,r.length)},u:function(e,r){const s=e.getFullYear();return hr(s,r.length)},Q:function(e,r,s){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return hr(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,s){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return hr(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,s){const a=e.getMonth();switch(r){case"M":case"MM":return bo.M(e,r);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,s){const a=e.getMonth();switch(r){case"L":return String(a+1);case"LL":return hr(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,s,a){const n=USe(e,a);return r==="wo"?s.ordinalNumber(n,{unit:"week"}):hr(n,r.length)},I:function(e,r,s){const a=$Se(e);return r==="Io"?s.ordinalNumber(a,{unit:"week"}):hr(a,r.length)},d:function(e,r,s){return r==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):bo.d(e,r)},D:function(e,r,s){const a=BSe(e);return r==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):hr(a,r.length)},E:function(e,r,s){const a=e.getDay();switch(r){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,s,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return hr(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})}},c:function(e,r,s,a){const n=e.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return hr(i,r.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})}},i:function(e,r,s){const a=e.getDay(),n=a===0?7:a;switch(r){case"i":return String(n);case"ii":return hr(n,r.length);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,s){const n=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,r,s){const a=e.getHours();let n;switch(a===12?n=ru.noon:a===0?n=ru.midnight:n=a/12>=1?"pm":"am",r){case"b":case"bb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,r,s){const a=e.getHours();let n;switch(a>=17?n=ru.evening:a>=12?n=ru.afternoon:a>=4?n=ru.morning:n=ru.night,r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,r,s){if(r==="ho"){let a=e.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return bo.h(e,r)},H:function(e,r,s){return r==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):bo.H(e,r)},K:function(e,r,s){const a=e.getHours()%12;return r==="Ko"?s.ordinalNumber(a,{unit:"hour"}):hr(a,r.length)},k:function(e,r,s){let a=e.getHours();return a===0&&(a=24),r==="ko"?s.ordinalNumber(a,{unit:"hour"}):hr(a,r.length)},m:function(e,r,s){return r==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):bo.m(e,r)},s:function(e,r,s){return r==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):bo.s(e,r)},S:function(e,r){return bo.S(e,r)},X:function(e,r,s){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return EE(a);case"XXXX":case"XX":return Oc(a);case"XXXXX":case"XXX":default:return Oc(a,":")}},x:function(e,r,s){const a=e.getTimezoneOffset();switch(r){case"x":return EE(a);case"xxxx":case"xx":return Oc(a);case"xxxxx":case"xxx":default:return Oc(a,":")}},O:function(e,r,s){const a=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+TE(a,":");case"OOOO":default:return"GMT"+Oc(a,":")}},z:function(e,r,s){const a=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+TE(a,":");case"zzzz":default:return"GMT"+Oc(a,":")}},t:function(e,r,s){const a=Math.trunc(+e/1e3);return hr(a,r.length)},T:function(e,r,s){return hr(+e,r.length)}};function TE(e,r=""){const s=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),i=a%60;return i===0?s+String(n):s+String(n)+r+hr(i,2)}function EE(e,r){return e%60===0?(e>0?"-":"+")+hr(Math.abs(e)/60,2):Oc(e,r)}function Oc(e,r=""){const s=e>0?"-":"+",a=Math.abs(e),n=hr(Math.trunc(a/60),2),i=hr(a%60,2);return s+n+r+i}const IE=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Hz=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},HSe=(e,r)=>{const s=e.match(/(P+)(p+)?/)||[],a=s[1],n=s[2];if(!n)return IE(e,r);let i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",IE(a,r)).replace("{{time}}",Hz(n,r))},VSe={p:Hz,P:HSe},WSe=/^D+$/,qSe=/^Y+$/,GSe=["D","DD","YY","YYYY"];function KSe(e){return WSe.test(e)}function YSe(e){return qSe.test(e)}function XSe(e,r,s){const a=JSe(e,r,s);if(console.warn(a),GSe.includes(e))throw new RangeError(a)}function JSe(e,r,s){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const QSe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ZSe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eke=/^'([^]*?)'?$/,tke=/''/g,rke=/[a-zA-Z]/;function Cu(e,r,s){var u,m,x,h;const a=xv(),n=a.locale??RSe,i=a.firstWeekContainsDate??((m=(u=a.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??1,l=a.weekStartsOn??((h=(x=a.locale)==null?void 0:x.options)==null?void 0:h.weekStartsOn)??0,o=Li(e,s==null?void 0:s.in);if(!aSe(o))throw new RangeError("Invalid time value");let d=r.match(ZSe).map(p=>{const f=p[0];if(f==="p"||f==="P"){const b=VSe[f];return b(p,n.formatLong)}return p}).join("").match(QSe).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const f=p[0];if(f==="'")return{isToken:!1,value:ske(p)};if(AE[f])return{isToken:!0,value:p};if(f.match(rke))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:p}});n.localize.preprocessor&&(d=n.localize.preprocessor(o,d));const c={firstWeekContainsDate:i,weekStartsOn:l,locale:n};return d.map(p=>{if(!p.isToken)return p.value;const f=p.value;(YSe(f)||KSe(f))&&XSe(f,r,String(e));const b=AE[f[0]];return b(o,f,n.localize,c)}).join("")}function ske(e){const r=e.match(eke);return r?r[1].replace(tke,"'"):e}const Vz=({onPrint:e})=>{const r=()=>{window.print(),e&&e()};return t.jsxs("div",{className:"print:hidden",children:[t.jsx("div",{className:"flex flex-wrap gap-3 mb-4",children:t.jsxs("button",{onClick:r,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx(km,{className:"w-4 h-4 mr-2"}),"Print Invoice"]})}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:[t.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:" Print Tips"}),t.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[t.jsx("li",{children:' Click "Print Invoice" to print the invoice'}),t.jsx("li",{children:" For best results, use A4 paper in portrait orientation"}),t.jsx("li",{children:' Enable "Print backgrounds" in your browser for proper colors'}),t.jsx("li",{children:" The invoice is optimized for single-page printing"})]})]})]})},d6=({invoiceData:e,data:r,type:s,onClose:a,onPrint:n})=>{var f,b,j,w;let i=e||r;if(!i)return console.error("Invoice component: No invoice data provided"),t.jsxs("div",{className:"text-center p-8",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Error"}),t.jsx("p",{className:"text-slate-600 mb-4",children:"Invoice data is missing or invalid."}),a&&t.jsx("button",{onClick:a,className:"px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition",children:"Close"})]});if(s==="booking"&&i){const y=i;i={invoiceNumber:y.bookingId||`INV-${(f=y._id)==null?void 0:f.slice(-8)}`||"INV-000001",date:y.createdAt||new Date().toISOString(),status:y.status==="completed"?"COMPLETED":"CONFIRMED",customer:{name:((b=y.user)==null?void 0:b.name)||y.customerName||"Customer",email:((j=y.user)==null?void 0:j.email)||y.customerEmail||"",phone:((w=y.user)==null?void 0:w.phone)||y.customerPhone||"",address:y.address||"Address not provided"},services:y.services?y.services.map(v=>({name:v.name||v.serviceName||"Service",description:v.description||"",quantity:1,rate:v.price||v.amount||0})):[{name:y.serviceName||"Service",description:y.description||"",quantity:1,rate:y.totalAmount||y.amount||0}],paymentDetails:{method:y.paymentMethod||"Cash",status:y.paymentStatus||"Pending",amount:y.totalAmount||y.amount||0},companyDetails:{name:"ParNets Software India PVT LTD",gstin:"29AANCP7155K1ZN",address:"GROUND FLOOR, 104/1, Singapura Main Road, Grace Mens Wear, Singapura",city:"Bengaluru, Bengaluru Urban, Karnataka, 560097",phone:"+91-9740016068",email:"support@nexo.works",website:"www.nexo.works"}}}const{invoiceNumber:l,date:o,status:d="CONFIRMED",customer:c,services:u,paymentDetails:m,companyDetails:x}=i,h=u&&u.length>0?u.reduce((y,v)=>y+(v.quantity||1)*(v.rate||0),0):0,p=h;return t.jsxs("div",{className:"max-w-4xl mx-auto bg-white",children:[t.jsx(Vz,{onPrint:n,invoiceData:i}),t.jsxs("div",{className:"border border-gray-300 p-6 print:border-0 print:p-0 invoice-container no-page-break",children:[t.jsxs("div",{className:"flex justify-between items-start mb-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold text-xl mr-3",children:"N"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Nexo"}),t.jsx("p",{className:"text-sm text-gray-600",children:"ParNets Software India PVT LTD"})]})]}),t.jsxs("div",{className:"text-sm text-gray-600 space-y-0.5",children:[t.jsx("p",{children:(x==null?void 0:x.name)||"ParNets Software India PVT LTD"}),t.jsxs("p",{children:["GSTIN: ",(x==null?void 0:x.gstin)||"29AANCP7155K1ZN"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("h2",{className:"text-3xl font-light text-gray-600 mb-2",children:"INVOICE"}),t.jsxs("div",{className:"text-sm space-y-0.5",children:[t.jsxs("p",{className:"font-semibold",children:["#",l]}),t.jsxs("p",{children:["Date: ",Cu(o?new Date(o):new Date,"dd MMMM yyyy")]}),t.jsx("span",{className:`inline-block px-3 py-1 rounded text-xs font-medium ${d==="CONFIRMED"?"bg-blue-100 text-blue-800":d==="COMPLETED"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:d})]})]})]}),t.jsxs("div",{className:"mb-6 text-sm text-gray-600",children:[t.jsx("p",{className:"font-semibold mb-1",children:"Registered Office:"}),t.jsx("p",{children:(x==null?void 0:x.address)||"GROUND FLOOR, 104/1, Singapura Main Road, Grace Mens Wear, Singapura"}),t.jsx("p",{children:(x==null?void 0:x.city)||"Bengaluru, Bengaluru Urban, Karnataka, 560097"}),t.jsxs("div",{className:"mt-2 space-y-0.5",children:[t.jsxs("p",{children:["Contact: ",(x==null?void 0:x.phone)||"+91-9740016068"]}),t.jsxs("p",{children:["Email: ",(x==null?void 0:x.email)||"support@nexo.works"]}),t.jsxs("p",{children:["Website: ",(x==null?void 0:x.website)||"www.nexo.works"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"BILL TO"}),t.jsxs("div",{className:"space-y-1.5 text-sm",children:[t.jsx("p",{className:"font-semibold text-lg",children:(c==null?void 0:c.name)||"Customer Name"}),t.jsxs("p",{children:["Phone: ",(c==null?void 0:c.phone)||"N/A"]}),t.jsxs("p",{children:["Email: ",(c==null?void 0:c.email)||"N/A"]}),t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"font-medium",children:"Address:"}),t.jsx("p",{children:(c==null?void 0:c.address)||"Address not provided"}),(c==null?void 0:c.landmark)&&t.jsxs("p",{children:["Landmark: ",c.landmark]}),(c==null?void 0:c.pincode)&&t.jsxs("p",{children:["Pincode: ",c.pincode]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"SERVICE DETAILS"}),t.jsxs("div",{className:"space-y-1.5 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Booking ID:"}),t.jsxs("span",{className:"font-medium",children:["#",(m==null?void 0:m.bookingId)||l]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Service Date:"}),t.jsx("span",{children:m!=null&&m.serviceDate?Cu(new Date(m.serviceDate),"dd MMMM yyyy"):Cu(new Date(o),"dd MMMM yyyy")})]}),(m==null?void 0:m.serviceTime)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Service Time:"}),t.jsx("span",{children:m.serviceTime})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Payment Mode:"}),t.jsx("span",{className:"font-medium",children:(m==null?void 0:m.paymentMode)||(m==null?void 0:m.method)||"ONLINE"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Payment Status:"}),t.jsx("span",{className:"font-medium text-green-600",children:(m==null?void 0:m.paymentStatus)||(m==null?void 0:m.status)||"COMPLETED"})]}),(m==null?void 0:m.transactionId)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Transaction ID:"}),t.jsx("span",{className:"font-mono text-xs",children:m.transactionId})]})]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Services & Items"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50",children:[t.jsx("th",{className:"border border-gray-200 px-3 py-2 text-left text-sm font-medium text-gray-700",children:"DESCRIPTION"}),t.jsx("th",{className:"border border-gray-200 px-3 py-2 text-center text-sm font-medium text-gray-700",children:"QUANTITY"}),t.jsx("th",{className:"border border-gray-200 px-3 py-2 text-center text-sm font-medium text-gray-700",children:"RATE"}),t.jsx("th",{className:"border border-gray-200 px-3 py-2 text-right text-sm font-medium text-gray-700",children:"AMOUNT"})]})}),t.jsx("tbody",{children:u&&u.length>0?u.map((y,v)=>t.jsxs("tr",{children:[t.jsx("td",{className:"border border-gray-200 px-3 py-2 text-sm",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:y.name||"Service"}),y.description&&t.jsx("p",{className:"text-gray-600 text-xs mt-1",children:y.description})]})}),t.jsx("td",{className:"border border-gray-200 px-3 py-2 text-center text-sm",children:y.quantity||1}),t.jsxs("td",{className:"border border-gray-200 px-3 py-2 text-center text-sm",children:["",y.rate||0]}),t.jsxs("td",{className:"border border-gray-200 px-3 py-2 text-right text-sm",children:["",(y.quantity||1)*(y.rate||0)]})]},v)):t.jsx("tr",{children:t.jsx("td",{colSpan:"4",className:"border border-gray-200 px-3 py-4 text-center text-sm text-gray-500",children:"No services found"})})})]})})]}),t.jsx("div",{className:"flex justify-end mb-6",children:t.jsxs("div",{className:"w-64",children:[t.jsxs("div",{className:"flex justify-between py-1.5 text-sm",children:[t.jsx("span",{children:"Subtotal:"}),t.jsxs("span",{children:["",h]})]}),t.jsxs("div",{className:"flex justify-between py-2 bg-gray-800 text-white px-3 font-semibold",children:[t.jsx("span",{children:"TOTAL AMOUNT:"}),t.jsxs("span",{children:["",p]})]})]})}),t.jsxs("div",{className:"text-center border-t pt-4",children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Thank You for Choosing Our Services!"}),t.jsxs("div",{className:"text-sm text-gray-600 space-y-1.5",children:[t.jsxs("p",{children:["For any queries regarding this invoice, please contact us at"," ",t.jsx("span",{className:"text-blue-600",children:(x==null?void 0:x.email)||"support@nexo.works"})," ","or call ",t.jsx("span",{className:"text-blue-600",children:(x==null?void 0:x.phone)||"+91-9740016068"})]}),t.jsxs("p",{children:["Visit our website at"," ",t.jsx("span",{className:"text-blue-600",children:(x==null?void 0:x.website)||"www.nexo.works"})," ","for more services"]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["This is a computer-generated invoice and does not require a physical signature.",t.jsx("br",{}),"Subject to Bengaluru jurisdiction. Terms and conditions apply."]})]})]})]})]})},ake=()=>{const{token:e}=kr(),[r,s]=g.useState({feeType:"all",status:"all",source:"all",startDate:"",endDate:""}),[a,n]=g.useState(1),[i,l]=g.useState("individual"),[o,d]=g.useState(null),c=g.useMemo(()=>{const A={page:a,limit:r.feeType!=="all"||r.status!=="all"||r.startDate||r.endDate?100:50};return r.feeType&&r.feeType!=="all"&&(A.feeType=r.feeType),r.status&&r.status!=="all"&&(A.status=r.status),r.startDate&&(A.startDate=r.startDate),r.endDate&&(A.endDate=r.endDate),A},[r.feeType,r.status,r.startDate,r.endDate,a]),u=g.useMemo(()=>JSON.stringify(c),[c]),m=g.useMemo(()=>{const A={...c};return D=>qe.fetchFeeTransactions(D,A)},[u]),{data:x,isLoading:h,error:p,refresh:f}=lr(m,[u]),b=Array.isArray(x==null?void 0:x.data)?x.data:[],j=(x==null?void 0:x.stats)||{},w=(x==null?void 0:x.pagination)||{},y=b&&b.length>0,v=g.useMemo(()=>{if(i!=="grouped")return{};const A={};return b.forEach(D=>{const H=D.feeType||"other";A[H]||(A[H]={feeType:H,transactions:[],totalAmount:0,count:0,successCount:0,successAmount:0}),A[H].transactions.push(D),A[H].totalAmount+=D.amount||0,A[H].count+=1,D.status==="success"&&(A[H].successCount+=1,A[H].successAmount+=D.amount||0)}),A},[b,i]),N=(A,D)=>{s(H=>{const re={...H,[A]:D};return A==="startDate"&&D&&re.endDate&&new Date(D)>new Date(re.endDate)&&(re.endDate=""),A==="endDate"&&D&&re.startDate&&new Date(D)<new Date(re.startDate)&&(re.startDate=""),re}),n(1)},S=()=>{s({feeType:"all",status:"all",source:"all",startDate:"",endDate:""}),n(1)},k=A=>{switch(A){case"registration":return"bg-blue-500/10 text-blue-600";case"mg_plan":return"bg-purple-500/10 text-purple-600";case"security_deposit":return"bg-yellow-500/10 text-yellow-600";case"toolkit":return"bg-green-500/10 text-green-600";case"lead_fee":return"bg-orange-500/10 text-orange-600";case"amc_plan":return"bg-indigo-500/10 text-indigo-600";case"subscription":return"bg-pink-500/10 text-pink-600";case"wallet_recharge":return"bg-teal-500/10 text-teal-600";default:return"bg-slate-500/10 text-slate-600"}},P=(A,D)=>{const H=(D==null?void 0:D.manualApproval)===!0;switch(A){case"partner":return{color:"bg-blue-500/10 text-blue-600",label:"Partner Payment"};case"user":return{color:"bg-green-500/10 text-green-600",label:"User Payment"};case"admin":return H?{color:"bg-orange-500/10 text-orange-600",label:"Manual Approval",icon:""}:{color:"bg-purple-500/10 text-purple-600",label:"Admin Entry"};default:return{color:"bg-slate-500/10 text-slate-600",label:"Unknown"}}},C=A=>{switch(A){case"success":return"bg-emerald-500/10 text-emerald-600";case"failed":return"bg-rose-500/10 text-rose-600";case"pending":return"bg-yellow-500/10 text-yellow-600";case"refunded":return"bg-blue-500/10 text-blue-600";default:return"bg-slate-500/10 text-slate-600"}},_=A=>(A==null?void 0:A.replace("_"," ").replace(/\b\w/g,D=>D.toUpperCase()))||"Other";return t.jsxs("div",{children:[t.jsx(vs,{title:"Fee Transactions",subtitle:"View and manage all fee transactions including registration fees, MG plans, security deposits, and toolkit purchases.",actions:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 rounded-lg p-1",children:[t.jsxs("button",{onClick:()=>l("individual"),className:`px-3 py-1.5 rounded-md text-sm font-semibold transition flex items-center gap-2 ${i==="individual"?"bg-white text-primary shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:[t.jsx($Z,{className:"w-4 h-4"}),"Individual"]}),t.jsxs("button",{onClick:()=>l("grouped"),className:`px-3 py-1.5 rounded-md text-sm font-semibold transition flex items-center gap-2 ${i==="grouped"?"bg-white text-primary shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:[t.jsx(wo,{className:"w-4 h-4"}),"Grouped"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>{const A=b.map(D=>{var H,re,xe,we,T,z,Q,B,L,R,Z,W,ie,ae,M;return{"Date & Time":new Date(D.createdAt).toLocaleString("en-IN"),Name:((H=D.partner)==null?void 0:H.name)||((re=D.user)==null?void 0:re.name)||((xe=D.metadata)==null?void 0:xe.partnerName)||((we=D.metadata)==null?void 0:we.userName)||"Unknown",Phone:((T=D.partner)==null?void 0:T.phone)||((z=D.user)==null?void 0:z.phone)||((Q=D.metadata)==null?void 0:Q.partnerPhone)||((B=D.metadata)==null?void 0:B.userPhone)||D.partnerId||D.userId||"N/A",Source:P(D.source||((L=D.metadata)==null?void 0:L.source)||"partner",D.metadata).label,"Manual Approval":(R=D.metadata)!=null&&R.manualApproval?"Yes":"No","Approved By":((Z=D.metadata)==null?void 0:Z.approvedBy)||"N/A","Amount ()":D.amount||0,Status:((W=D.status)==null?void 0:W.charAt(0).toUpperCase())+((ie=D.status)==null?void 0:ie.slice(1))||"Unknown","Payment Method":((ae=D.paymentMethod)==null?void 0:ae.charAt(0).toUpperCase())+((M=D.paymentMethod)==null?void 0:M.slice(1))||"N/A","Transaction ID":D.transactionId||"N/A",Description:D.description||"N/A","Fee Type":D.feeType||"N/A"}});Wd(A,[{header:"Date & Time",accessor:"Date & Time"},{header:"Name",accessor:"Name"},{header:"Phone",accessor:"Phone"},{header:"Source",accessor:"Source"},{header:"Manual Approval",accessor:"Manual Approval"},{header:"Approved By",accessor:"Approved By"},{header:"Amount ()",accessor:"Amount ()"},{header:"Status",accessor:"Status"},{header:"Payment Method",accessor:"Payment Method"},{header:"Transaction ID",accessor:"Transaction ID"},{header:"Description",accessor:"Description"},{header:"Fee Type",accessor:"Fee Type"}],"Fee_Transactions","Transactions",{columnWidths:[20,20,15,12,12,15,15,12,15,25,30,15]})},disabled:!y,className:"px-4 py-2 rounded-xl border border-slate-300 text-slate-700 text-sm font-semibold hover:bg-slate-50 transition inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:"Export to Excel",children:[t.jsx(In,{})," Export Excel"]}),t.jsxs("button",{onClick:f,className:"px-4 py-2 rounded-xl border border-slate-300 text-slate-700 text-sm font-semibold hover:bg-slate-50 transition inline-flex items-center gap-2",children:[t.jsx(Dt,{})," Refresh"]})]})]})}),!h&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Amount"}),t.jsx(fs,{className:"w-5 h-5 text-slate-400"})]}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",(j.totalAmount||0).toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[j.totalCount||0," transaction",(j.totalCount||0)!==1?"s":""]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Successful"}),t.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-500/20 flex items-center justify-center",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 rounded-full"})})]}),t.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:["",(j.successAmount||0).toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[j.successCount||0," transaction",(j.successCount||0)!==1?"s":""]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Manual Approvals"}),t.jsx("div",{className:"w-5 h-5 rounded-full bg-orange-500/20 flex items-center justify-center",children:t.jsx("span",{className:"text-xs",children:""})})]}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:b.filter(A=>{var D;return(D=A.metadata)==null?void 0:D.manualApproval}).length}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Admin approved"})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Failed"}),t.jsx("div",{className:"w-5 h-5 rounded-full bg-rose-500/20 flex items-center justify-center",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-500 rounded-full"})})]}),t.jsx("p",{className:"text-2xl font-bold text-rose-600",children:j.failedCount||0}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Failed transaction",(j.failedCount||0)!==1?"s":""]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Success Rate"}),t.jsx(Dt,{className:"w-5 h-5 text-slate-400"})]}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[(j.totalCount||0)>0?((j.successCount||0)/(j.totalCount||1)*100).toFixed(1):0,"%"]}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Payment success rate"})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(Dd,{className:"w-5 h-5 text-slate-500"}),t.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Filters"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Fee Type"}),t.jsxs("select",{value:r.feeType,onChange:A=>N("feeType",A.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"registration",children:"Registration"}),t.jsx("option",{value:"security_deposit",children:"Security Deposit"}),t.jsx("option",{value:"toolkit",children:"Toolkit"}),t.jsx("option",{value:"mg_plan",children:"MG Plan"}),t.jsx("option",{value:"lead_fee",children:"Lead Fee"}),t.jsx("option",{value:"amc_plan",children:"AMC Plan"}),t.jsx("option",{value:"subscription",children:"Subscription"}),t.jsx("option",{value:"wallet_recharge",children:"Wallet Recharge"}),t.jsx("option",{value:"other",children:"Other"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Transaction Source"}),t.jsxs("select",{value:r.source,onChange:A=>N("source",A.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",children:[t.jsx("option",{value:"all",children:"All Sources"}),t.jsx("option",{value:"partner",children:"Partner Payments"}),t.jsx("option",{value:"user",children:"User Payments"}),t.jsx("option",{value:"admin",children:"Admin Manual Entry"}),t.jsx("option",{value:"manual_approval",children:"Manual Approvals"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Status"}),t.jsxs("select",{value:r.status,onChange:A=>N("status",A.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"success",children:"Success"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"failed",children:"Failed"}),t.jsx("option",{value:"refunded",children:"Refunded"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Date Range"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"date",value:r.startDate,onChange:A=>N("startDate",A.target.value),max:r.endDate||void 0,className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",placeholder:"Start Date"}),t.jsx("input",{type:"date",value:r.endDate,onChange:A=>N("endDate",A.target.value),min:r.startDate||void 0,className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",placeholder:"End Date"})]}),r.startDate&&r.endDate&&new Date(r.startDate)>new Date(r.endDate)&&t.jsx("p",{className:"text-xs text-rose-600 mt-1",children:"End date must be after start date"})]})]}),(r.feeType!=="all"||r.status!=="all"||r.source!=="all"||r.startDate||r.endDate)&&t.jsx("div",{className:"mt-4 flex justify-end",children:t.jsxs("button",{onClick:S,className:"px-4 py-2 text-sm font-semibold text-slate-600 hover:text-slate-900 transition inline-flex items-center gap-2",children:[t.jsx(mt,{className:"w-4 h-4"}),"Clear Filters"]})})]}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm overflow-hidden",children:h?t.jsx("div",{className:"flex items-center justify-center py-16",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):p?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 m-6 rounded-lg",children:[t.jsx("p",{className:"font-semibold mb-1",children:"Error loading transactions"}),t.jsx("p",{className:"text-sm",children:p}),t.jsx("button",{onClick:f,className:"mt-3 px-4 py-2 bg-rose-600 text-white rounded-lg text-sm font-semibold hover:bg-rose-700 transition",children:"Retry"})]}):y?i==="grouped"?t.jsx("div",{className:"divide-y divide-slate-200",children:!y||Object.keys(v).length===0?t.jsxs("div",{className:"text-center py-16",children:[t.jsx(fs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-500 font-medium text-lg mb-2",children:"No transactions found"}),t.jsx("p",{className:"text-sm text-slate-400 mb-4",children:r.feeType!=="all"||r.status!=="all"||r.startDate||r.endDate?"No transactions match your current filters. Try adjusting your filters or clear them to see all transactions.":"There are no fee transactions in the system yet."}),(r.feeType!=="all"||r.status!=="all"||r.startDate||r.endDate)&&t.jsxs("button",{onClick:S,className:"px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[t.jsx(mt,{className:"w-4 h-4"}),"Clear All Filters"]})]}):Object.values(v).map(A=>t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-semibold ${k(A.feeType)}`,children:_(A.feeType)}),t.jsxs("span",{className:"text-sm text-slate-500",children:[A.count," transaction",A.count!==1?"s":""]})]}),t.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-slate-500",children:"Total Amount"}),t.jsxs("p",{className:"font-bold text-slate-900",children:["",A.totalAmount.toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-slate-500",children:"Successful"}),t.jsxs("p",{className:"font-bold text-emerald-600",children:["",A.successAmount.toLocaleString("en-IN")]})]})]})]}),A.transactions.length===0?t.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No transactions in this group"}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Date & Time"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Partner/User"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Source"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Amount"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Status"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Payment Method"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Transaction ID"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Description"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:A.transactions.map(D=>{var H,re,xe,we,T,z,Q,B,L,R,Z,W,ie,ae,M;return t.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-700",children:new Date(D.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm",children:[t.jsx("p",{className:"font-semibold text-slate-900",children:((H=D.partner)==null?void 0:H.name)||((re=D.user)==null?void 0:re.name)||((xe=D.metadata)==null?void 0:xe.partnerName)||((we=D.metadata)==null?void 0:we.userName)||"Unknown"}),t.jsx("p",{className:"text-xs text-slate-500",children:((T=D.partner)==null?void 0:T.phone)||((z=D.user)==null?void 0:z.phone)||((Q=D.metadata)==null?void 0:Q.partnerPhone)||((B=D.metadata)==null?void 0:B.userPhone)||D.partnerId||D.userId||"N/A"})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:(()=>{var q,G;const U=P(D.source||((q=D.metadata)==null?void 0:q.source)||"partner",D.metadata);return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${U.color}`,children:[U.icon&&t.jsx("span",{className:"mr-1",children:U.icon}),U.label]}),((G=D.metadata)==null?void 0:G.manualApproval)&&t.jsxs("span",{className:"text-xs text-orange-600 font-medium",children:["By: ",D.metadata.approvedBy||"Admin"]})]})})()}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:["",((L=D.amount)==null?void 0:L.toLocaleString("en-IN"))||0]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${C(D.status)}`,children:((R=D.status)==null?void 0:R.charAt(0).toUpperCase())+((Z=D.status)==null?void 0:Z.slice(1))||"Unknown"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600",children:((W=D.paymentMethod)==null?void 0:W.charAt(0).toUpperCase())+((ie=D.paymentMethod)==null?void 0:ie.slice(1))||"N/A"}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-xs text-slate-500 font-mono",children:D.transactionId||"N/A"})}),t.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 max-w-xs",children:t.jsxs("div",{children:[t.jsx("p",{className:"truncate",children:D.description||"N/A"}),((ae=D.metadata)==null?void 0:ae.manualApproval)&&t.jsxs("div",{className:"mt-1 text-xs bg-orange-50 border border-orange-200 rounded p-2",children:[t.jsx("p",{className:"font-semibold text-orange-700 mb-1",children:" Manual Approval"}),t.jsxs("div",{className:"space-y-0.5 text-orange-600",children:[t.jsxs("p",{children:["By: ",D.metadata.approvedBy]}),t.jsxs("p",{children:["Method: ",D.metadata.paymentMethod||"Manual"]})]})]}),((M=D.metadata)==null?void 0:M.priceBreakdown)&&t.jsxs("details",{className:"mt-1",children:[t.jsx("summary",{className:"text-xs text-primary cursor-pointer hover:underline",children:"View Payment Breakdown"}),t.jsxs("div",{className:"mt-1 text-xs text-slate-500 space-y-0.5 pl-2 bg-slate-50 p-2 rounded",children:[D.metadata.priceBreakdown.registrationFee>0&&t.jsxs("p",{className:r.feeType==="registration"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Registration Fee: ",D.metadata.priceBreakdown.registrationFee.toLocaleString("en-IN"),r.feeType==="registration"&&" (Current Filter)"]}),D.metadata.priceBreakdown.securityDeposit>0&&t.jsxs("p",{className:r.feeType==="security_deposit"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Security Deposit: ",D.metadata.priceBreakdown.securityDeposit.toLocaleString("en-IN"),r.feeType==="security_deposit"&&" (Current Filter)"]}),D.metadata.priceBreakdown.toolkitPrice>0&&t.jsxs("p",{className:r.feeType==="toolkit"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Toolkit: ",D.metadata.priceBreakdown.toolkitPrice.toLocaleString("en-IN"),r.feeType==="toolkit"&&" (Current Filter)"]}),D.metadata.priceBreakdown.totalAmount>0&&t.jsxs("p",{className:"font-semibold text-slate-700 border-t border-slate-200 pt-1 mt-1",children:["Total Paid: ",D.metadata.priceBreakdown.totalAmount.toLocaleString("en-IN")]})]})]})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("button",{onClick:()=>d({data:D,type:"transaction"}),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-sm font-semibold hover:bg-primary/20 transition flex items-center gap-2",children:[t.jsx(Gt,{})," Invoice"]})})]},D._id)})})]})})]},A.feeType))}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Date & Time"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Partner/User"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Fee Type"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Source"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Payment Method"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Transaction ID"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Description"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:b.map(A=>{var D,H,re,xe,we,T,z,Q,B,L,R,Z,W,ie,ae;return t.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700",children:new Date(A.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm",children:[t.jsx("p",{className:"font-semibold text-slate-900",children:((D=A.partner)==null?void 0:D.name)||((H=A.user)==null?void 0:H.name)||((re=A.metadata)==null?void 0:re.partnerName)||((xe=A.metadata)==null?void 0:xe.userName)||"Unknown"}),t.jsx("p",{className:"text-xs text-slate-500",children:((we=A.partner)==null?void 0:we.phone)||((T=A.user)==null?void 0:T.phone)||((z=A.metadata)==null?void 0:z.partnerPhone)||((Q=A.metadata)==null?void 0:Q.userPhone)||A.partnerId||A.userId||"N/A"})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${k(A.feeType)}`,children:_(A.feeType)})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(()=>{var U,q;const M=P(A.source||((U=A.metadata)==null?void 0:U.source)||"partner",A.metadata);return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${M.color}`,children:[M.icon&&t.jsx("span",{className:"mr-1",children:M.icon}),M.label]}),((q=A.metadata)==null?void 0:q.manualApproval)&&t.jsxs("span",{className:"text-xs text-orange-600 font-medium",children:["By: ",A.metadata.approvedBy||"Admin"]})]})})()}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:["",((B=A.amount)==null?void 0:B.toLocaleString("en-IN"))||0]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${C(A.status)}`,children:((L=A.status)==null?void 0:L.charAt(0).toUpperCase())+((R=A.status)==null?void 0:R.slice(1))||"Unknown"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:((Z=A.paymentMethod)==null?void 0:Z.charAt(0).toUpperCase())+((W=A.paymentMethod)==null?void 0:W.slice(1))||"N/A"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-xs text-slate-500 font-mono",children:A.transactionId||"N/A"})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 max-w-xs",children:t.jsxs("div",{children:[t.jsx("p",{className:"truncate",children:A.description||"N/A"}),((ie=A.metadata)==null?void 0:ie.manualApproval)&&t.jsxs("div",{className:"mt-1 text-xs bg-orange-50 border border-orange-200 rounded p-2",children:[t.jsx("p",{className:"font-semibold text-orange-700 mb-1",children:" Manual Approval Details"}),t.jsxs("div",{className:"space-y-0.5 text-orange-600",children:[t.jsxs("p",{children:["Approved by: ",A.metadata.approvedBy]}),t.jsxs("p",{children:["Date: ",new Date(A.metadata.approvedAt).toLocaleDateString("en-IN")]}),t.jsxs("p",{children:["Payment Method: ",A.metadata.paymentMethod||"Manual"]}),A.metadata.originalPayId&&t.jsxs("p",{children:["Reference: ",A.metadata.originalPayId]})]})]}),((ae=A.metadata)==null?void 0:ae.priceBreakdown)&&t.jsxs("details",{className:"mt-1",children:[t.jsx("summary",{className:"text-xs text-primary cursor-pointer hover:underline",children:"View Payment Breakdown"}),t.jsxs("div",{className:"mt-1 text-xs text-slate-500 space-y-0.5 pl-2 bg-slate-50 p-2 rounded",children:[A.metadata.priceBreakdown.registrationFee>0&&t.jsxs("p",{className:r.feeType==="registration"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Registration Fee: ",A.metadata.priceBreakdown.registrationFee.toLocaleString("en-IN"),r.feeType==="registration"&&" (Current Filter)"]}),A.metadata.priceBreakdown.securityDeposit>0&&t.jsxs("p",{className:r.feeType==="security_deposit"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Security Deposit: ",A.metadata.priceBreakdown.securityDeposit.toLocaleString("en-IN"),r.feeType==="security_deposit"&&" (Current Filter)"]}),A.metadata.priceBreakdown.toolkitPrice>0&&t.jsxs("p",{className:r.feeType==="toolkit"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Toolkit: ",A.metadata.priceBreakdown.toolkitPrice.toLocaleString("en-IN"),r.feeType==="toolkit"&&" (Current Filter)"]}),A.metadata.priceBreakdown.totalAmount>0&&t.jsxs("p",{className:"font-semibold text-slate-700 border-t border-slate-200 pt-1 mt-1",children:["Total Paid: ",A.metadata.priceBreakdown.totalAmount.toLocaleString("en-IN")]})]})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("button",{onClick:()=>d({data:A,type:"transaction"}),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-sm font-semibold hover:bg-primary/20 transition flex items-center gap-2",children:[t.jsx(Gt,{})," Invoice"]})})]},A._id)})})]})}),w.pages>1&&t.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",(a-1)*(w.limit||20)+1," to"," ",Math.min(a*(w.limit||20),w.total)," of"," ",w.total," transactions"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>n(A=>Math.max(1,A-1)),disabled:a===1,className:"px-4 py-2 text-sm font-semibold text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Previous"}),t.jsxs("span",{className:"px-4 py-2 text-sm font-semibold text-slate-700",children:["Page ",a," of ",w.pages||1]}),t.jsx("button",{onClick:()=>n(A=>Math.min(w.pages||1,A+1)),disabled:a>=(w.pages||1),className:"px-4 py-2 text-sm font-semibold text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Next"})]})]})]}):t.jsxs("div",{className:"text-center py-16",children:[t.jsx(fs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-500 font-medium text-lg mb-2",children:"No transactions found"}),t.jsx("p",{className:"text-sm text-slate-400 mb-4",children:r.feeType!=="all"||r.status!=="all"||r.startDate||r.endDate?"No transactions match your current filters. Try adjusting your filters or clear them to see all transactions.":"There are no fee transactions in the system yet."}),(r.feeType!=="all"||r.status!=="all"||r.startDate||r.endDate)&&t.jsxs("button",{onClick:S,className:"px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[t.jsx(mt,{className:"w-4 h-4"}),"Clear All Filters"]})]})}),o&&t.jsx(d6,{data:o.data,type:o.type,onClose:()=>d(null)})]})},nke=[{emoji:"",name:"Tools"},{emoji:"",name:"Home"},{emoji:"",name:"Plumbing"},{emoji:"",name:"Electrical"},{emoji:"",name:"Cleaning"},{emoji:"",name:"Painting"},{emoji:"",name:"Carpentry"},{emoji:"",name:"Repair"},{emoji:"",name:"Gardening"},{emoji:"",name:"Automotive"},{emoji:"",name:"Tech"},{emoji:"",name:"Commercial"},{emoji:"",name:"Security"},{emoji:"",name:"AC/Heating"},{emoji:"",name:"Moving"},{emoji:"",name:"Maintenance"},{emoji:"",name:"Mobile"},{emoji:"",name:"Lighting"},{emoji:"",name:"Doors"},{emoji:"",name:"Windows"},{emoji:"",name:"Construction"},{emoji:"",name:"Fire Safety"},{emoji:"",name:"Water"},{emoji:"",name:"Internet"},{emoji:"",name:"TV/Media"},{emoji:"",name:"Appliances"},{emoji:"",name:"Protection"},{emoji:"",name:"Target"},{emoji:"",name:"Star"},{emoji:"",name:"Premium"},{emoji:"",name:"Gift"},{emoji:"",name:"Hot"},{emoji:"",name:"Sparkle"},{emoji:"",name:"Shining"},{emoji:"",name:"Event"},{emoji:"",name:"Medical"},{emoji:"",name:"Kitchen"},{emoji:"",name:"Furniture"},{emoji:"",name:"Bathroom"},{emoji:"",name:"Bedroom"},{emoji:"",name:"Package"},{emoji:"",name:"Design"},{emoji:"",name:"Photography"},{emoji:"",name:"Video"},{emoji:"",name:"Music"},{emoji:"",name:"Fitness"},{emoji:"",name:"Beauty"},{emoji:"",name:"Hair"},{emoji:"",name:"Nails"},{emoji:"",name:"Professional"},{emoji:"",name:"Education"},{emoji:"",name:"Learning"},{emoji:"",name:"Computer"},{emoji:"",name:"Keyboard"},{emoji:"",name:"Printer"},{emoji:"",name:"Phone"},{emoji:"",name:"Watch"},{emoji:"",name:"Audio"},{emoji:"",name:"Camera"},{emoji:"",name:"Gaming"},{emoji:"",name:"Bicycle"},{emoji:"",name:"Scooter"},{emoji:"",name:"Travel"},{emoji:"",name:"Hotel"},{emoji:"",name:"Food"},{emoji:"",name:"Coffee"},{emoji:"",name:"Bakery"},{emoji:"",name:"Restaurant"},{emoji:"",name:"Shopping"},{emoji:"",name:"Payment"},{emoji:"",name:"Bank"},{emoji:"",name:"Analytics"},{emoji:"",name:"Growth"},{emoji:"",name:"Business"},{emoji:"",name:"Partnership"},{emoji:"",name:"Global"},{emoji:"",name:"Location"},{emoji:"",name:"Map"},{emoji:"",name:"Time"},{emoji:"",name:"Calendar"},{emoji:"",name:"Check"},{emoji:"",name:"Cross"},{emoji:"",name:"Warning"},{emoji:"",name:"Info"},{emoji:"",name:"Search"},{emoji:"",name:"Chat"},{emoji:"",name:"Call"},{emoji:"",name:"Email"},{emoji:"",name:"Document"},{emoji:"",name:"Clipboard"},{emoji:"",name:"File"},{emoji:"",name:"Pages"},{emoji:"",name:"Bookmark"},{emoji:"",name:"Label"},{emoji:"",name:"Ticket"},{emoji:"",name:"Voucher"},{emoji:"",name:"Dice"},{emoji:"",name:"Casino"},{emoji:"",name:"Theater"},{emoji:"",name:"Art"},{emoji:"",name:"Frame"},{emoji:"",name:"Paintbrush"},{emoji:"",name:"Crayon"},{emoji:"",name:"Pencil"},{emoji:"",name:"Pen"},{emoji:"",name:"Ballpoint"},{emoji:"",name:"Fountain Pen"},{emoji:"",name:"Ruler"},{emoji:"",name:"Triangle"},{emoji:"",name:"Scissors"},{emoji:"",name:"Pin"},{emoji:"",name:"Pushpin"},{emoji:"",name:"Paperclip"},{emoji:"",name:"Linked Clips"},{emoji:"",name:"Straight Ruler"},{emoji:"",name:"Triangular Ruler"},{emoji:"",name:"Card Index"},{emoji:"",name:"Folder"},{emoji:"",name:"Open Folder"},{emoji:"",name:"Card File"},{emoji:"",name:"File Cabinet"},{emoji:"",name:"Bar Chart"},{emoji:"",name:"Chart Increasing"},{emoji:"",name:"Chart Decreasing"},{emoji:"",name:"Clipboard"},{emoji:"",name:"Pushpin"},{emoji:"",name:"Round Pushpin"},{emoji:"",name:"Paperclip"},{emoji:"",name:"Linked Paperclips"},{emoji:"",name:"Straightedge Ruler"},{emoji:"",name:"Triangular Ruler"},{emoji:"",name:"Scissors"},{emoji:"",name:"Card File Box"},{emoji:"",name:"File Cabinet"},{emoji:"",name:"Wastebasket"}],ike=()=>{const{token:e}=kr(),[r,s]=g.useState(!1),[a,n]=g.useState(null),[i,l]=g.useState({name:"",description:"",subtitle:"",icon:"",isActive:!0}),[o,d]=g.useState(!1),[c,u]=g.useState(""),[m,x]=g.useState(""),[h,p]=g.useState(""),{data:f,isLoading:b,error:j,refresh:w}=lr(_=>qe.fetchCategories(_),[]),v=((f==null?void 0:f.data)||[]).filter(_=>{var A,D;return((A=_.name)==null?void 0:A.toLowerCase().includes(h.toLowerCase()))||((D=_.description)==null?void 0:D.toLowerCase().includes(h.toLowerCase()))}),N=(_=null)=>{_?(n(_._id),l({name:_.name||"",description:_.description||"",subtitle:_.subtitle||"",icon:_.icon||"",isActive:_.isActive!==void 0?_.isActive:!0})):(n(null),l({name:"",description:"",subtitle:"",icon:"",isActive:!0})),s(!0),x(""),u("")},S=()=>{s(!1),n(null),l({name:"",description:"",subtitle:"",icon:"",isActive:!0}),x(""),u("")},k=async _=>{_.preventDefault(),d(!0),x(""),u("");try{a?(await qe.updateCategory(e,a,{name:i.name,description:i.description,subtitle:i.subtitle,icon:i.icon,isActive:i.isActive}),u("Category updated successfully!")):(await qe.createCategory(e,{name:i.name,description:i.description,subtitle:i.subtitle,icon:i.icon,isActive:i.isActive}),u("Category created successfully!")),w(),setTimeout(()=>{S()},1500)}catch(A){x(A.message||"Failed to save category")}finally{d(!1)}},P=async _=>{if(window.confirm("Are you sure you want to delete this category?"))try{await qe.deleteCategory(e,_),u("Category deleted successfully!"),w(),setTimeout(()=>u(""),3e3)}catch(A){x(A.message||"Failed to delete category"),setTimeout(()=>x(""),3e3)}},C=_=>/[\u{1F300}-\u{1F9FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]/u.test(_);return t.jsxs("div",{children:[t.jsx(vs,{title:"Category Management",subtitle:"Manage service categories with icons, descriptions, and status.",actions:t.jsxs("button",{onClick:()=>N(),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition",children:[t.jsx(ar,{className:"w-5 h-5"}),"Add Category"]})}),m&&t.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg mb-6",children:m}),c&&t.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg mb-6",children:c}),t.jsx("div",{className:"mb-6",children:t.jsx("input",{type:"text",placeholder:"Search categories...",value:h,onChange:_=>p(_.target.value),className:"w-full max-w-md px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary"})}),b?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):j?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Error loading categories: ",j]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(_=>t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6 hover:shadow-md transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center text-2xl",children:[C(_.icon)?_.icon:t.jsx("img",{src:_.icon,alt:_.name,className:"w-8 h-8 object-contain",onError:A=>{A.target.style.display="none",A.target.nextSibling.style.display="block"}}),t.jsx("span",{style:{display:"none"},children:""})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900",children:_.name}),t.jsx("p",{className:"text-sm text-slate-500",children:_.subtitle})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>N(_),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition",children:t.jsx(gs,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>P(_._id),className:"p-2 text-rose-600 hover:bg-rose-50 rounded-lg transition",children:t.jsx(la,{className:"w-4 h-4"})})]})]}),t.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:_.description}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${_.isActive?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:_.isActive?"Active":"Inactive"}),t.jsx("span",{className:"text-xs text-slate-400",children:new Date(_.createdAt).toLocaleDateString()})]})]},_._id))}),r&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:a?"Edit Category":"Create New Category"}),t.jsx("button",{onClick:S,className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5"})})]}),m&&t.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg mb-6 text-sm",children:m}),c&&t.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg mb-6 text-sm",children:c}),t.jsxs("form",{onSubmit:k,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Category Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:i.name,onChange:_=>l(A=>({...A,name:_.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"e.g., Plumbing, Electrical, Cleaning",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Subtitle ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:i.subtitle,onChange:_=>l(A=>({...A,subtitle:_.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Short description or tagline",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Description ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:i.description,onChange:_=>l(A=>({...A,description:_.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Detailed description of the category",rows:"3",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Icon ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"grid grid-cols-8 gap-2 max-h-48 overflow-y-auto p-2 border-2 border-slate-200 rounded-xl",children:nke.map((_,A)=>t.jsx("button",{type:"button",onClick:()=>l(D=>({...D,icon:_.emoji})),className:`w-12 h-12 rounded-lg flex items-center justify-center text-2xl transition ${i.icon===_.emoji?"bg-primary text-white ring-2 ring-primary ring-offset-2":"bg-slate-100 hover:bg-slate-200"}`,title:_.name,children:_.emoji},A))}),t.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Selected: ",i.icon||"None"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",id:"isActive",checked:i.isActive,onChange:_=>l(A=>({...A,isActive:_.target.checked})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),t.jsx("label",{htmlFor:"isActive",className:"text-sm font-semibold text-gray-700",children:"Active (Category will be visible to partners)"})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:S,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Zn,{className:"w-5 h-5"}),a?"Update Category":"Create Category"]})})]})]})]})})]})},lke=()=>{const{token:e}=kr(),[r,s]=g.useState(!1),[a,n]=g.useState(!1),[i,l]=g.useState(null),[o,d]=g.useState(null),[c,u]=g.useState(null),[m,x]=g.useState(""),[h,p]=g.useState({name:"",description:"",city:"",state:"",status:"active"}),[f,b]=g.useState({areaName:"",pinCodesText:""}),[j,w]=g.useState(!1),{data:y,isLoading:v,error:N,refresh:S}=lr(B=>qe.fetchHubs(B,{search:m}),[m]),{data:k}=lr(B=>qe.fetchPartners(B),[]),P=(y==null?void 0:y.data)||[];k!=null&&k.partners;const C=()=>{p({name:"",description:"",city:"",state:"",status:"active"}),l(null)},_=()=>{b({areaName:"",pinCodesText:""}),d(null),u(null)},A=()=>{C(),s(!0)},D=B=>{p({name:B.name||"",description:B.description||"",city:B.city||"",state:B.state||"",status:B.status||"active"}),l(B),s(!0)},H=B=>{_(),u(B),n(!0)},re=(B,L)=>{var R;b({areaName:L.areaName||"",pinCodesText:((R=L.pinCodes)==null?void 0:R.join(", "))||""}),d(L),u(B),n(!0)},xe=async B=>{if(B.preventDefault(),!h.name.trim()){alert("Hub name is required");return}w(!0);try{i?await qe.updateHub(e,i._id,h):await qe.createHub(e,{...h,areas:[]}),s(!1),C(),S()}catch(L){alert(L.message||"Failed to save hub")}finally{w(!1)}},we=async B=>{if(B.preventDefault(),!f.areaName.trim()||!f.pinCodesText.trim()){alert("Area name and pin codes are required");return}const L=Array.from(new Set(f.pinCodesText.split(/[\s,]+/).map(R=>R.trim()).filter(R=>R.length>0&&/^\d{6}$/.test(R))));if(L.length===0){alert("Please add at least one valid 6-digit pin code");return}w(!0);try{o?await qe.updateAreaInHub(e,c._id,o._id,{areaName:f.areaName.trim(),pinCodes:L}):await qe.addAreaToHub(e,c._id,{areaName:f.areaName.trim(),pinCodes:L}),n(!1),_(),S()}catch(R){alert(R.message||"Failed to save area")}finally{w(!1)}},T=async B=>{if(window.confirm("Are you sure you want to delete this hub? This action cannot be undone."))try{await qe.deleteHub(e,B),S()}catch(L){alert(L.message||"Failed to delete hub")}},z=async(B,L)=>{if(window.confirm("Are you sure you want to delete this area?"))try{await qe.deleteAreaFromHub(e,B,L),S()}catch(R){alert(R.message||"Failed to delete area")}},Q=B=>{var L;return((L=B.areas)==null?void 0:L.reduce((R,Z)=>[...R,...Z.pinCodes||[]],[]))||[]};return t.jsxs("div",{children:[t.jsx(vs,{title:"Hub Management",subtitle:"Create and manage service hubs with pin codes. Hubs can be assigned to partners in Partner Control."}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mb-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[t.jsx("div",{className:"flex-1 w-full md:w-auto",children:t.jsxs("div",{className:"relative",children:[t.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",value:m,onChange:B=>x(B.target.value),placeholder:"Search hubs by name, city, or state...",className:"w-full md:w-96 pl-10 pr-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]})}),t.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl text-sm font-semibold hover:bg-primary-dark transition",children:[t.jsx(ar,{})," Create Hub"]})]})}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:["All Hubs (",P.length,")"]}),t.jsx("p",{className:"text-xs text-slate-400",children:"Manage hubs and their area-wise pin codes"})]}),t.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-3 py-2 bg-slate-100 text-slate-700 rounded-lg text-xs font-semibold hover:bg-slate-200 transition",children:[t.jsx(Dt,{})," Refresh"]})]}),v?t.jsx("div",{className:"text-sm text-slate-400 py-8 text-center",children:"Loading hubs..."}):N?t.jsxs("div",{className:"text-sm text-rose-500 py-8 text-center",children:["Failed to load hubs: ",N]}):P.length===0?t.jsx("div",{className:"text-sm text-slate-500 py-8 text-center",children:m?"No hubs found matching your search.":"No hubs created yet. Create your first hub above."}):t.jsx("div",{className:"space-y-4",children:P.map(B=>{var Z,W,ie;const L=Q(B),R=((Z=B.assignedPartners)==null?void 0:Z.length)||0;return t.jsxs("div",{className:"border border-slate-200 rounded-xl p-5 bg-slate-50 hover:bg-slate-100 transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Er,{className:"text-primary text-xl"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900",children:B.name}),(B.city||B.state)&&t.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:[B.city,B.state].filter(Boolean).join(", ")})]}),t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${B.status==="active"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:B.status})]}),B.description&&t.jsx("p",{className:"text-sm text-slate-600 mt-2",children:B.description}),t.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-slate-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Er,{})," ",((W=B.areas)==null?void 0:W.length)||0," Area",((ie=B.areas)==null?void 0:ie.length)===1?"":"s"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Er,{})," ",L.length," Pin Code",L.length===1?"":"s"]}),R>0&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Nr,{})," ",R," Partner",R===1?"":"s"]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>H(B),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-xs font-semibold hover:bg-primary/20 transition",title:"Add Area",children:[t.jsx(ar,{className:"inline mr-1"})," Area"]}),t.jsx("button",{onClick:()=>D(B),className:"p-2 hover:bg-slate-200 rounded-lg transition",title:"Edit Hub",children:t.jsx(gs,{className:"text-slate-600"})}),t.jsx("button",{onClick:()=>T(B._id),className:"p-2 hover:bg-rose-100 rounded-lg transition",title:"Delete Hub",children:t.jsx(la,{className:"text-rose-600"})})]})]}),B.areas&&B.areas.length>0?t.jsxs("div",{className:"mt-4 space-y-3",children:[t.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Areas"}),B.areas.map(ae=>{var M,U;return t.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-800",children:ae.areaName}),t.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:[((M=ae.pinCodes)==null?void 0:M.length)||0," pin code",((U=ae.pinCodes)==null?void 0:U.length)===1?"":"s"]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>re(B,ae),className:"p-1.5 hover:bg-slate-100 rounded transition",title:"Edit Area",children:t.jsx(gs,{className:"text-slate-600 text-sm"})}),t.jsx("button",{onClick:()=>z(B._id,ae._id),className:"p-1.5 hover:bg-rose-100 rounded transition",title:"Delete Area",children:t.jsx(la,{className:"text-rose-600 text-sm"})})]})]}),ae.pinCodes&&ae.pinCodes.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:ae.pinCodes.map(q=>t.jsx("span",{className:"px-2.5 py-1 bg-primary/10 border border-primary/20 rounded-full text-xs font-semibold text-primary",children:q},q))})]},ae._id)})]}):t.jsx("div",{className:"mt-4 text-center py-4 bg-slate-100 rounded-lg",children:t.jsx("p",{className:"text-xs text-slate-500",children:'No areas added yet. Click "Add Area" to get started.'})})]},B._id)})})]}),r&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:i?"Edit Hub":"Create Hub"}),t.jsx("button",{onClick:()=>{s(!1),C()},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Hub Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.name,onChange:B=>p(L=>({...L,name:B.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,placeholder:"e.g., Whitefield"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),t.jsx("textarea",{value:h.description,onChange:B=>p(L=>({...L,description:B.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",rows:3,placeholder:"Hub description (optional)"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),t.jsx("input",{type:"text",value:h.city,onChange:B=>p(L=>({...L,city:B.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",placeholder:"e.g., Bangalore"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"State"}),t.jsx("input",{type:"text",value:h.state,onChange:B=>p(L=>({...L,state:B.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",placeholder:"e.g., Karnataka"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Status"}),t.jsxs("select",{value:h.status,onChange:B=>p(L=>({...L,status:B.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{s(!1),C()},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:j,className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Saving...":i?"Update Hub":"Create Hub"})]})]})]})}),a&&c&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:o?"Edit Area":"Add Area"}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Hub: ",c.name]})]}),t.jsx("button",{onClick:()=>{n(!1),_()},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:we,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Area Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:f.areaName,onChange:B=>b(L=>({...L,areaName:B.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,placeholder:"e.g., Whitefield Main, ITPL"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Pin Codes ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:f.pinCodesText,onChange:B=>b(L=>({...L,pinCodesText:B.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",rows:4,required:!0,placeholder:"Enter pin codes separated by commas or spaces (e.g., 560066, 560067, 560087)"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Separate multiple pin codes with commas or spaces. Each pin code must be 6 digits."})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{n(!1),_()},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:j,className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Saving...":o?"Update Area":"Add Area"})]})]})]})})]})},Bp=[{name:"FaSnowflake",label:"AC Service",icon:nm},{name:"FaBolt",label:"Electrical",icon:Al},{name:"FaTint",label:"Plumbing",icon:im},{name:"FaBroom",label:"Cleaning",icon:rm},{name:"FaPaintRoller",label:"Painting",icon:am},{name:"FaTools",label:"Tools/Repair",icon:ya},{name:"FaHammer",label:"Carpentry",icon:sm},{name:"FaFilter",label:"Water Filter",icon:ud},{name:"FaPlug",label:"Plug/Outlet",icon:Gy},{name:"FaWrench",label:"Wrench",icon:sx},{name:"FaCheckCircle",label:"Check Circle",icon:He},{name:"FaRupeeSign",label:"Rupee",icon:Md},{name:"FaCreditCard",label:"Credit Card",icon:_i},{name:"FaMobileAlt",label:"Mobile",icon:qy},{name:"FaUserCheck",label:"User Check",icon:qa},{name:"FaCommentDots",label:"Comment",icon:Wy}],oke=()=>{const{token:e}=kr(),r=er(),[s,a]=g.useState(!1),[n,i]=g.useState(null),[l,o]=g.useState({name:"",slug:"",icon:"FaTools",description:"",price:"",basePrice:0,discount:0,discountType:"percentage",cgst:0,sgst:0,serviceCharge:0,serviceChargeType:"amount",trusted:"Trusted by thousands of homes",included:[],excluded:[],addOns:[],cities:[],order:0,isActive:!0}),[d,c]=g.useState({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools",included:[],excluded:[],subServices:[]}),[u,m]=g.useState(""),[x,h]=g.useState(""),[p,f]=g.useState({name:"",shortDescription:"",price:"",icon:"FaTools"}),[b,j]=g.useState(null),[w,y]=g.useState(null),[v,N]=g.useState(!1),[S,k]=g.useState(""),[P,C]=g.useState(""),[_,A]=g.useState(""),[D,H]=g.useState(!1),[re,xe]=g.useState(null),[we,T]=g.useState([]),[z,Q]=g.useState(!1),{data:B,isLoading:L,error:R,refresh:Z}=lr(O=>qe.fetchPopularServices(O),[]),W=(B==null?void 0:B.data)||[],ie=W.filter(O=>{var de,Oe;return((de=O.name)==null?void 0:de.toLowerCase().includes(_.toLowerCase()))||((Oe=O.slug)==null?void 0:Oe.toLowerCase().includes(_.toLowerCase()))});g.useEffect(()=>{e&&(async()=>{Q(!0);try{const de=await qe.fetchAllCities(e);de.success&&T(de.data||[])}catch(de){console.error("Failed to fetch cities:",de)}finally{Q(!1)}})()},[e]);const ae=(O=null)=>{var de,Oe;O?(i(O._id),o({name:O.name||"",slug:O.slug||"",icon:O.icon||"FaTools",description:O.description||"",price:O.price||"",basePrice:O.basePrice||0,discount:O.discount||0,discountType:O.discountType||"percentage",cgst:O.cgst||0,sgst:O.sgst||0,serviceCharge:O.serviceCharge||0,serviceChargeType:O.serviceChargeType||"amount",trusted:O.trusted||"Trusted by thousands of homes",included:O.included||[],excluded:O.excluded||[],addOns:((de=O.addOns)==null?void 0:de.map(Ge=>({...Ge,included:Ge.included||[],excluded:Ge.excluded||[],subServices:Ge.subServices||[]})))||[],cities:((Oe=O.cities)==null?void 0:Oe.map(Ge=>typeof Ge=="string"?Ge:Ge._id))||[],order:O.order||0,isActive:O.isActive!==void 0?O.isActive:!0})):(i(null),o({name:"",slug:"",icon:"FaTools",description:"",price:"",basePrice:0,discount:0,discountType:"percentage",cgst:0,sgst:0,serviceCharge:0,serviceChargeType:"amount",trusted:"Trusted by thousands of homes",included:[],excluded:[],addOns:[],cities:[],order:W.length>0?Math.max(...W.map(Ge=>Ge.order||0))+1:0,isActive:!0})),c({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools",included:[],excluded:[],subServices:[]}),m(""),h(""),f({name:"",shortDescription:"",price:"",icon:"FaTools"}),j(null),y(null),a(!0),C(""),k("")},M=()=>{a(!1),i(null),o({name:"",slug:"",icon:"FaTools",description:"",price:"",basePrice:0,discount:0,discountType:"percentage",cgst:0,sgst:0,serviceCharge:0,serviceChargeType:"amount",trusted:"Trusted by thousands of homes",included:[],excluded:[],addOns:[],cities:[],order:0,isActive:!0}),m(""),h(""),f({name:"",shortDescription:"",price:"",icon:"FaTools"}),C(""),k("")},U=()=>{u.trim()&&(c(O=>({...O,included:[...O.included,u.trim()]})),m(""))},q=O=>{c(de=>({...de,included:de.included.filter((Oe,Ge)=>Ge!==O)}))},G=()=>{x.trim()&&(c(O=>({...O,excluded:[...O.excluded,x.trim()]})),h(""))},Y=O=>{c(de=>({...de,excluded:de.excluded.filter((Oe,Ge)=>Ge!==O)}))},oe=()=>{p.name.trim()&&p.price.trim()&&(w!==null?(c(O=>({...O,subServices:O.subServices.map((de,Oe)=>Oe===w?{...p}:de)})),y(null)):c(O=>({...O,subServices:[...O.subServices,{...p}]})),f({name:"",shortDescription:"",price:""}))},Be=O=>{const de=d.subServices[O];f({name:de.name||"",shortDescription:de.shortDescription||"",price:de.price||"",icon:de.icon||"FaTools"}),y(O)},fe=O=>{c(de=>({...de,subServices:de.subServices.filter((Oe,Ge)=>Ge!==O)})),w===O&&(y(null),f({name:"",shortDescription:"",price:""}))},ne=()=>{y(null),f({name:"",shortDescription:"",price:"",icon:"FaTools"})},ce=O=>{if(!O.basePrice||O.basePrice<=0)return"";let de=O.basePrice||0;O.discount>0&&(de-=de*O.discount/100),O.serviceCharge>0&&(de+=O.serviceCharge);const Oe=(O.basePrice||0)-(O.discount>0?(O.basePrice||0)*O.discount/100:0)+(O.serviceCharge||0);return de+=Oe*(O.cgst||0)/100+Oe*(O.sgst||0)/100,`${Math.round(de)}`};g.useEffect(()=>{if(d.basePrice>0){const O=ce(d);(!d.price||d.price.startsWith("")||d.price==="")&&c(de=>({...de,price:O}))}},[d.basePrice,d.discount,d.cgst,d.sgst,d.serviceCharge]);const pe=()=>{if(d.name.trim()&&d.basePrice>0){const O={...d,price:d.price||ce(d),included:d.included||[],excluded:d.excluded||[],subServices:d.subServices||[]};b!==null?(o(de=>({...de,addOns:de.addOns.map((Oe,Ge)=>Ge===b?O:Oe)})),j(null)):o(de=>({...de,addOns:[...de.addOns,O]})),c({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools",included:[],excluded:[],subServices:[]}),m(""),h(""),f({name:"",shortDescription:"",price:""}),y(null)}},F=O=>{const de=l.addOns[O];c({name:de.name||"",description:de.description||"",basePrice:de.basePrice||0,discount:de.discount||0,cgst:de.cgst||0,sgst:de.sgst||0,serviceCharge:de.serviceCharge||0,price:de.price||"",icon:de.icon||"FaTools",included:de.included||[],excluded:de.excluded||[],subServices:de.subServices||[]}),j(O),m(""),h(""),f({name:"",shortDescription:"",price:"",icon:"FaTools"}),y(null)},ue=O=>{o(de=>({...de,addOns:de.addOns.filter((Oe,Ge)=>Ge!==O)})),b===O&&(j(null),c({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools"}))},J=()=>{j(null),c({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools",included:[],excluded:[],subServices:[]}),m(""),h(""),f({name:"",shortDescription:"",price:"",icon:"FaTools"}),y(null)},be=O=>O.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),ge=O=>{o(de=>({...de,name:O,slug:n?de.slug:be(O)}))},Ne=async O=>{O.preventDefault(),N(!0),C(""),k("");try{n?(await qe.updatePopularService(e,n,l),k("Popular service updated successfully!")):(await qe.createPopularService(e,l),k("Popular service created successfully!")),Z(),setTimeout(()=>{M()},1500)}catch(de){C(de.message||"Failed to save popular service")}finally{N(!1)}},Ie=async O=>{if(window.confirm("Are you sure you want to delete this popular service?"))try{await qe.deletePopularService(e,O),k("Popular service deleted successfully!"),Z(),setTimeout(()=>k(""),3e3)}catch(de){C(de.message||"Failed to delete popular service"),setTimeout(()=>C(""),3e3)}},Je=async(O,de)=>{const Oe=W.find(ft=>ft._id===O);if(!Oe)return;const Ge=Oe.order||0,kt=de==="up"?Ge-1:Ge+1,at=W.find(ft=>(ft.order||0)===kt);try{const ft=[{id:O,order:kt}];at&&ft.push({id:at._id,order:Ge}),await qe.updatePopularServicesOrder(e,ft),Z()}catch(ft){C(ft.message||"Failed to update order"),setTimeout(()=>C(""),3e3)}},dt=O=>{const de=Bp.find(Oe=>Oe.name===O);return de?de.icon:ya},Ae=O=>{xe(O),H(!0)},ze=()=>{H(!1),xe(null)},It=O=>{if(!O||!O.basePrice)return 0;let de=O.basePrice||0;O.discount>0&&(O.discountType==="percentage"?de-=de*O.discount/100:de-=O.discount),O.serviceCharge>0&&(O.serviceChargeType==="percentage"?de+=(O.basePrice||0)*O.serviceCharge/100:de+=O.serviceCharge);const Oe=(O.basePrice||0)-(O.discount>0?O.discountType==="percentage"?(O.basePrice||0)*O.discount/100:O.discount:0)+(O.serviceCharge>0?O.serviceChargeType==="percentage"?(O.basePrice||0)*O.serviceCharge/100:O.serviceCharge:0);return de+=Oe*(O.cgst||0)/100+Oe*(O.sgst||0)/100,de},Ft=(O=l)=>{if(!O.basePrice||O.basePrice<=0)return"";const de=It(O);return`Starting at ${Math.round(de)}`};g.useEffect(()=>{if(l.basePrice>0){const O=Ft(l);(!l.price||l.price.startsWith("Starting at ")||l.price==="")&&o(de=>({...de,price:O}))}},[l.basePrice,l.discount,l.discountType,l.cgst,l.sgst,l.serviceCharge,l.serviceChargeType]);const Se=async()=>{if(window.confirm("This will update all existing services in the database with new fields (basePrice, discount, CGST, SGST, serviceCharge, excluded, etc.). This ensures all services have the required fields. Continue?")){N(!0),C(""),k("");try{await qe.migratePopularServices(e),k("Migration completed successfully! All existing services have been updated with new fields."),Z(),setTimeout(()=>k(""),5e3)}catch(O){C(O.message||"Failed to migrate services"),setTimeout(()=>C(""),5e3)}finally{N(!1)}}};return t.jsxs("div",{children:[t.jsx(vs,{title:"Popular Services Management",subtitle:"Manage popular services displayed on the homepage. Control order, icons, and visibility.",actions:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:Se,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition",title:"Update existing services with new fields",children:[t.jsx(Dt,{className:"w-5 h-5"}),"Migrate Data"]}),t.jsxs("button",{onClick:()=>ae(),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition",children:[t.jsx(ar,{className:"w-5 h-5"}),"Add Service"]})]})}),P&&t.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg mb-6",children:P}),S&&t.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg mb-6",children:S}),t.jsx("div",{className:"mb-6",children:t.jsx("input",{type:"text",placeholder:"Search popular services...",value:_,onChange:O=>A(O.target.value),className:"w-full max-w-md px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary"})}),L?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):R?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Error loading popular services: ",R]}):t.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Order"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Icon"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Name"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Slug"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Cities"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:ie.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-slate-400",children:'No popular services found. Click "Add Service" to create one.'})}):ie.sort((O,de)=>(O.order||0)-(de.order||0)).map((O,de)=>{const Oe=dt(O.icon);return t.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-medium text-slate-700",children:O.order||0}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("button",{onClick:()=>Je(O._id,"up"),disabled:de===0,className:"p-1 text-slate-400 hover:text-primary disabled:opacity-30 disabled:cursor-not-allowed",title:"Move up",children:t.jsx(Jf,{className:"w-3 h-3"})}),t.jsx("button",{onClick:()=>Je(O._id,"down"),disabled:de===ie.length-1,className:"p-1 text-slate-400 hover:text-primary disabled:opacity-30 disabled:cursor-not-allowed",title:"Move down",children:t.jsx(Xf,{className:"w-3 h-3"})})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:t.jsx(Oe,{className:"w-5 h-5 text-primary"})})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:O.name})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"text-sm text-slate-500 font-mono",children:O.slug})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"text-xs text-slate-600",children:!O.cities||O.cities.length===0?t.jsx("span",{className:"text-slate-400",children:"All cities"}):t.jsxs("div",{className:"flex flex-wrap gap-1",children:[O.cities.slice(0,2).map((Ge,kt)=>t.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-blue-50 text-blue-700",children:typeof Ge=="string"?Ge:Ge.name},kt)),O.cities.length>2&&t.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-slate-100 text-slate-600",children:["+",O.cities.length-2," more"]})]})})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold ${O.isActive?"bg-emerald-500/10 text-emerald-600":"bg-slate-200 text-slate-600"}`,children:O.isActive?"Active":"Inactive"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:()=>{O!=null&&O.slug&&r(`/service/${O.slug}`)},className:"p-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"View Service on Website",children:t.jsx(lP,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>Ae(O),className:"p-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"View Details",children:t.jsx(Sn,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>ae(O),className:"p-2 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",title:"Edit",children:t.jsx(gs,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>Ie(O._id),className:"p-2 text-slate-600 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",title:"Delete",children:t.jsx(la,{className:"w-4 h-4"})})]})})]},O._id)})})]})})}),s&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:n?"Edit Popular Service":"Add Popular Service"}),t.jsx("button",{onClick:M,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:Ne,className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Name *"}),t.jsx("input",{type:"text",value:l.name,onChange:O=>ge(O.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"e.g., AC Service"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Slug *"}),t.jsx("input",{type:"text",value:l.slug,onChange:O=>o(de=>({...de,slug:O.target.value})),required:!0,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary font-mono",placeholder:"e.g., ac-service"}),t.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"URL-friendly identifier (auto-generated from name)"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Icon *"}),t.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-3",children:Bp.map(O=>{const de=O.icon,Oe=l.icon===O.name;return t.jsxs("button",{type:"button",onClick:()=>o(Ge=>({...Ge,icon:O.name})),className:`p-4 rounded-xl border-2 transition ${Oe?"border-primary bg-primary/10":"border-slate-200 hover:border-primary/50"}`,title:O.label,children:[t.jsx(de,{className:`w-6 h-6 mx-auto ${Oe?"text-primary":"text-slate-400"}`}),t.jsx("p",{className:"mt-2 text-xs text-center text-slate-600",children:O.label})]},O.name)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),t.jsx("textarea",{value:l.description,onChange:O=>o(de=>({...de,description:O.target.value})),rows:"3",className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Service description..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Trusted Text"}),t.jsx("input",{type:"text",value:l.trusted,onChange:O=>o(de=>({...de,trusted:O.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"e.g., Trusted by thousands of homes"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Add-On Services"}),t.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border-2 border-slate-200 mb-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-3",children:b!==null?"Edit Add-On Service":"Add New Add-On Service"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Name *"}),t.jsx("input",{type:"text",value:d.name,onChange:O=>c(de=>({...de,name:O.target.value})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"Add-on service name..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Description"}),t.jsx("textarea",{value:d.description,onChange:O=>c(de=>({...de,description:O.target.value})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"Service description...",rows:"2"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Base Price () *"}),t.jsx("input",{type:"number",value:d.basePrice,onChange:O=>c(de=>({...de,basePrice:parseFloat(O.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Discount (%)"}),t.jsx("input",{type:"number",value:d.discount,onChange:O=>c(de=>({...de,discount:parseFloat(O.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"CGST (%)"}),t.jsx("input",{type:"number",value:d.cgst,onChange:O=>c(de=>({...de,cgst:parseFloat(O.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"SGST (%)"}),t.jsx("input",{type:"number",value:d.sgst,onChange:O=>c(de=>({...de,sgst:parseFloat(O.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Service Charge ()"}),t.jsx("input",{type:"number",value:d.serviceCharge,onChange:O=>c(de=>({...de,serviceCharge:parseFloat(O.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:["Display Price (Text) ",t.jsx("span",{className:"text-slate-400",children:"(Auto-calculated)"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:d.price,onChange:O=>c(de=>({...de,price:O.target.value})),className:"flex-1 px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"e.g., 299"}),d.basePrice>0&&t.jsx("button",{type:"button",onClick:()=>{const O=ce(d);c(de=>({...de,price:O}))},className:"px-3 py-2 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition text-xs font-semibold whitespace-nowrap",children:"Auto Calculate"})]}),d.basePrice>0&&t.jsxs("p",{className:"mt-1 text-xs text-emerald-600",children:[" Calculated: ",ce(d)]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Icon"}),t.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-2",children:Bp.map(O=>{const de=O.icon,Oe=d.icon===O.name;return t.jsx("button",{type:"button",onClick:()=>c(Ge=>({...Ge,icon:O.name})),className:`p-2 rounded-lg border-2 transition ${Oe?"border-primary bg-primary/10":"border-slate-200 hover:border-primary/50"}`,title:O.label,children:t.jsx(de,{className:`w-4 h-4 mx-auto ${Oe?"text-primary":"text-slate-400"}`})},O.name)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Included Items"}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:u,onChange:O=>m(O.target.value),onKeyPress:O=>O.key==="Enter"&&(O.preventDefault(),U()),className:"flex-1 px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"Add included item..."}),t.jsx("button",{type:"button",onClick:U,className:"px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition text-sm",children:"Add"})]}),t.jsx("div",{className:"space-y-1",children:d.included.map((O,de)=>t.jsxs("div",{className:"flex items-center justify-between bg-white px-2 py-1.5 rounded border border-slate-200",children:[t.jsx("span",{className:"text-xs text-slate-700",children:O}),t.jsx("button",{type:"button",onClick:()=>q(de),className:"text-rose-600 hover:text-rose-700",children:t.jsx(mt,{className:"w-3 h-3"})})]},de))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Excluded Items"}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:x,onChange:O=>h(O.target.value),onKeyPress:O=>O.key==="Enter"&&(O.preventDefault(),G()),className:"flex-1 px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"Add excluded item..."}),t.jsx("button",{type:"button",onClick:G,className:"px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition text-sm",children:"Add"})]}),t.jsx("div",{className:"space-y-1",children:d.excluded.map((O,de)=>t.jsxs("div",{className:"flex items-center justify-between bg-white px-2 py-1.5 rounded border border-slate-200",children:[t.jsx("span",{className:"text-xs text-slate-700",children:O}),t.jsx("button",{type:"button",onClick:()=>Y(de),className:"text-rose-600 hover:text-rose-700",children:t.jsx(mt,{className:"w-3 h-3"})})]},de))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Sub-Services"}),t.jsxs("div",{className:"bg-white p-3 rounded-lg border-2 border-slate-200 space-y-2 mb-2",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Service Name *"}),t.jsx("input",{type:"text",value:p.name,onChange:O=>f(de=>({...de,name:O.target.value})),className:"w-full px-2 py-1.5 border border-slate-300 rounded focus:outline-none focus:border-primary text-xs",placeholder:"Sub-service name..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Short Description"}),t.jsx("input",{type:"text",value:p.shortDescription,onChange:O=>f(de=>({...de,shortDescription:O.target.value})),className:"w-full px-2 py-1.5 border border-slate-300 rounded focus:outline-none focus:border-primary text-xs",placeholder:"Brief description..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Price *"}),t.jsx("input",{type:"text",value:p.price,onChange:O=>f(de=>({...de,price:O.target.value})),className:"w-full px-2 py-1.5 border border-slate-300 rounded focus:outline-none focus:border-primary text-xs",placeholder:"e.g., 299"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Icon"}),t.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-1.5 max-h-32 overflow-y-auto p-1 border border-slate-200 rounded",children:Bp.map(O=>{const de=O.icon,Oe=p.icon===O.name;return t.jsx("button",{type:"button",onClick:()=>f(Ge=>({...Ge,icon:O.name})),className:`p-1.5 rounded border transition ${Oe?"border-primary bg-primary/10":"border-slate-200 hover:border-primary/50"}`,title:O.label,children:t.jsx(de,{className:`w-3 h-3 mx-auto ${Oe?"text-primary":"text-slate-400"}`})},O.name)})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{type:"button",onClick:oe,className:"flex-1 px-3 py-1.5 bg-primary text-white rounded hover:bg-primary-dark transition text-xs font-semibold",children:w!==null?"Update Sub-Service":"Add Sub-Service"}),w!==null&&t.jsx("button",{type:"button",onClick:ne,className:"px-3 py-1.5 bg-slate-200 text-slate-700 rounded hover:bg-slate-300 transition text-xs font-semibold",children:"Cancel"})]})]}),t.jsx("div",{className:"space-y-1",children:d.subServices.map((O,de)=>{const Oe=dt(O.icon||"FaTools");return t.jsxs("div",{className:"flex items-start justify-between bg-white px-3 py-2 rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-start gap-2 flex-1",children:[t.jsx("div",{className:"w-6 h-6 bg-primary/10 rounded flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx(Oe,{className:"w-3 h-3 text-primary"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-900",children:O.name}),O.shortDescription&&t.jsx("div",{className:"text-xs text-slate-600 mt-0.5",children:O.shortDescription}),t.jsx("div",{className:"text-xs text-primary font-semibold mt-0.5",children:O.price})]})]}),t.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[t.jsx("button",{type:"button",onClick:()=>Be(de),className:"p-1 text-primary hover:bg-primary/10 rounded transition",title:"Edit",children:t.jsx(gs,{className:"w-3 h-3"})}),t.jsx("button",{type:"button",onClick:()=>fe(de),className:"p-1 text-rose-600 hover:bg-rose-50 rounded transition",title:"Remove",children:t.jsx(mt,{className:"w-3 h-3"})})]})]},de)})})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsx("button",{type:"button",onClick:pe,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold text-sm",children:b!==null?"Update Add-On":"Add Add-On"}),b!==null&&t.jsx("button",{type:"button",onClick:J,className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition font-semibold text-sm",children:"Cancel"})]})]})]}),t.jsx("div",{className:"space-y-2",children:l.addOns.length===0?t.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"No add-on services added yet"}):l.addOns.map((O,de)=>{const Oe=dt(O.icon||"FaTools");return t.jsxs("div",{className:"flex items-start justify-between bg-slate-50 px-4 py-3 rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[t.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx(Oe,{className:"w-4 h-4 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:O.name}),O.description&&t.jsx("div",{className:"text-xs text-slate-600 mt-1",children:O.description}),t.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Base: ",O.basePrice||0," |",O.discount>0&&` Discount: ${O.discount}% |`,O.cgst>0&&` CGST: ${O.cgst}% |`,O.sgst>0&&` SGST: ${O.sgst}% |`,O.serviceCharge>0&&` Charge: ${O.serviceCharge} |`," ","Price: ",O.price||"N/A"]}),O.included&&O.included.length>0&&t.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[t.jsx("span",{className:"font-semibold",children:"Included:"})," ",O.included.join(", ")]}),O.excluded&&O.excluded.length>0&&t.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[t.jsx("span",{className:"font-semibold",children:"Excluded:"})," ",O.excluded.join(", ")]}),O.subServices&&O.subServices.length>0&&t.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[t.jsx("span",{className:"font-semibold",children:"Sub-Services:"})," ",O.subServices.length," item(s)"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[t.jsx("button",{type:"button",onClick:()=>F(de),className:"p-1.5 text-primary hover:bg-primary/10 rounded transition",title:"Edit",children:t.jsx(gs,{className:"w-4 h-4"})}),t.jsx("button",{type:"button",onClick:()=>ue(de),className:"p-1.5 text-rose-600 hover:bg-rose-50 rounded transition",title:"Remove",children:t.jsx(mt,{className:"w-4 h-4"})})]})]},de)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Available Cities"}),z?t.jsx("div",{className:"text-sm text-slate-500",children:"Loading cities..."}):t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("button",{type:"button",onClick:()=>{const O=we.map(de=>de._id);o(de=>({...de,cities:O}))},className:"px-3 py-1.5 text-xs bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition font-semibold",children:"Select All"}),t.jsx("button",{type:"button",onClick:()=>o(O=>({...O,cities:[]})),className:"px-3 py-1.5 text-xs bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition font-semibold",children:"Clear All"})]}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 max-h-48 overflow-y-auto p-2 border-2 border-slate-200 rounded-xl",children:we.length===0?t.jsx("div",{className:"col-span-full text-sm text-slate-400 text-center py-4",children:"No cities available. Please add cities first."}):we.map(O=>t.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg border-2 cursor-pointer transition ${l.cities.includes(O._id)?"border-primary bg-primary/5":"border-slate-200 hover:border-primary/50"} ${O.isEnabled?"":"opacity-50"}`,children:[t.jsx("input",{type:"checkbox",checked:l.cities.includes(O._id),onChange:de=>{de.target.checked?o(Oe=>({...Oe,cities:[...Oe.cities,O._id]})):o(Oe=>({...Oe,cities:Oe.cities.filter(Ge=>Ge!==O._id)}))},className:"w-4 h-4 text-primary rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm text-slate-700 flex-1",children:O.name}),!O.isEnabled&&t.jsx("span",{className:"text-xs text-slate-400",children:"(Disabled)"})]},O._id))}),t.jsx("p",{className:"mt-1 text-xs text-slate-500",children:l.cities.length===0?"No cities selected - service will be available in all cities":`Selected ${l.cities.length} ${l.cities.length===1?"city":"cities"}`})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Display Order"}),t.jsx("input",{type:"number",value:l.order,onChange:O=>o(de=>({...de,order:parseInt(O.target.value)||0})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",min:"0"}),t.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Lower numbers appear first"})]}),t.jsx("div",{children:t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:l.isActive,onChange:O=>o(de=>({...de,isActive:O.target.checked})),className:"w-5 h-5 text-primary rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Active (visible on homepage)"})]})}),t.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:M,className:"px-6 py-3 text-slate-600 font-semibold rounded-xl hover:bg-slate-100 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:v,className:"flex items-center gap-2 px-6 py-3 bg-primary text-white font-semibold rounded-xl hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:v?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Zn,{className:"w-4 h-4"}),n?"Update":"Create"]})})]})]})]})}),D&&re&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:ze,children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:O=>O.stopPropagation(),children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsxs("h3",{className:"text-xl font-semibold text-slate-900",children:["Service Details: ",re.name]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>{re!=null&&re.slug&&(r(`/service/${re.slug}`),ze())},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm font-semibold flex items-center gap-2",title:"View service on website",children:[t.jsx(lP,{className:"w-4 h-4"}),"View Service"]}),t.jsxs("button",{onClick:()=>{ze(),ae(re)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition text-sm font-semibold flex items-center gap-2",children:[t.jsx(gs,{className:"w-4 h-4"}),"Edit"]}),t.jsx("button",{onClick:ze,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Basic Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Service Name"}),t.jsx("p",{className:"text-base text-slate-900 mt-1",children:re.name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Slug"}),t.jsx("p",{className:"text-base text-slate-900 font-mono mt-1",children:re.slug})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Icon"}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:_t.createElement(dt(re.icon),{className:"w-5 h-5 text-primary"})}),t.jsx("span",{className:"text-base text-slate-900",children:re.icon})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Display Order"}),t.jsx("p",{className:"text-base text-slate-900 mt-1",children:re.order||0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Status"}),t.jsx("p",{className:"mt-1",children:t.jsx("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold ${re.isActive?"bg-emerald-500/10 text-emerald-600":"bg-slate-200 text-slate-600"}`,children:re.isActive?"Active":"Inactive"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Display Price"}),t.jsx("p",{className:"text-base text-slate-900 mt-1",children:re.price||"Not set"})]})]}),re.description&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Description"}),t.jsx("p",{className:"text-base text-slate-900 mt-1",children:re.description})]}),re.trusted&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Trusted Text"}),t.jsx("p",{className:"text-base text-slate-900 mt-1",children:re.trusted})]})]}),t.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Available Cities"}),!re.cities||re.cities.length===0?t.jsx("p",{className:"text-slate-600",children:"Available in all cities"}):t.jsx("div",{className:"flex flex-wrap gap-2",children:re.cities.map((O,de)=>t.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-blue-100 text-blue-700 text-sm font-semibold",children:typeof O=="string"?O:O.name},de))})]}),re.included&&re.included.length>0&&t.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Included Items"}),t.jsx("ul",{className:"space-y-2",children:re.included.map((O,de)=>t.jsxs("li",{className:"flex items-center gap-2 text-slate-900",children:[t.jsx(He,{className:"text-primary flex-shrink-0"}),t.jsx("span",{children:O})]},de))})]}),re.excluded&&re.excluded.length>0&&t.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Excluded Items"}),t.jsx("ul",{className:"space-y-2",children:re.excluded.map((O,de)=>t.jsxs("li",{className:"flex items-center gap-2 text-slate-900",children:[t.jsx(Kt,{className:"text-rose-600 flex-shrink-0"}),t.jsx("span",{children:O})]},de))})]}),re.addOns&&re.addOns.length>0&&t.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Add-On Services"}),t.jsx("div",{className:"grid sm:grid-cols-1 gap-4",children:re.addOns.map((O,de)=>{const Oe=dt(O.icon||"FaTools"),kt=(at=>{if(!at.basePrice||at.basePrice<=0)return 0;let ft=at.basePrice||0;at.discount>0&&(ft-=ft*at.discount/100),at.serviceCharge>0&&(ft+=at.serviceCharge);const ve=(at.basePrice||0)-(at.discount>0?(at.basePrice||0)*at.discount/100:0)+(at.serviceCharge||0);return ft+=ve*(at.cgst||0)/100+ve*(at.sgst||0)/100,ft})(O);return t.jsxs("div",{className:"bg-white p-5 rounded-lg border-2 border-slate-200 hover:border-primary/30 transition",children:[t.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(Oe,{className:"w-6 h-6 text-primary"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-bold text-slate-900 text-lg",children:O.name}),O.description&&t.jsx("p",{className:"text-sm text-slate-600 mt-1",children:O.description})]})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 space-y-1.5 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Base Price:"}),t.jsxs("span",{className:"font-semibold text-slate-900",children:["",(O.basePrice||0).toFixed(2)]})]}),O.discount>0&&t.jsxs("div",{className:"flex justify-between text-rose-600",children:[t.jsxs("span",{children:["Discount (",O.discount,"%):"]}),t.jsxs("span",{children:["-",((O.basePrice||0)*O.discount/100).toFixed(2)]})]}),O.serviceCharge>0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Service Charge:"}),t.jsxs("span",{className:"font-semibold text-slate-900",children:["+",(O.serviceCharge||0).toFixed(2)]})]}),(O.cgst>0||O.sgst>0)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-slate-600",children:["GST (",(O.cgst||0)+(O.sgst||0),"%):"]}),t.jsxs("span",{className:"font-semibold text-slate-900",children:["+",(()=>{const at=(O.basePrice||0)-(O.discount>0?(O.basePrice||0)*O.discount/100:0)+(O.serviceCharge||0);return(at*(O.cgst||0)/100+at*(O.sgst||0)/100).toFixed(2)})()]})]}),t.jsxs("div",{className:"flex justify-between pt-2 mt-2 border-t border-slate-200",children:[t.jsx("span",{className:"font-bold text-slate-900",children:"Total Price:"}),t.jsxs("span",{className:"text-lg font-bold text-primary",children:["",kt.toFixed(2)]})]}),O.price&&t.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Display Price: ",O.price]})]}),O.included&&O.included.length>0&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[t.jsx("h5",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Included Items"}),t.jsx("ul",{className:"space-y-1",children:O.included.map((at,ft)=>t.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-700",children:[t.jsx(He,{className:"text-primary flex-shrink-0 text-xs"}),t.jsx("span",{children:at})]},ft))})]}),O.excluded&&O.excluded.length>0&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[t.jsx("h5",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Excluded Items"}),t.jsx("ul",{className:"space-y-1",children:O.excluded.map((at,ft)=>t.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-700",children:[t.jsx(Kt,{className:"text-rose-600 flex-shrink-0 text-xs"}),t.jsx("span",{children:at})]},ft))})]}),O.subServices&&O.subServices.length>0&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[t.jsx("h5",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Sub-Services"}),t.jsx("div",{className:"space-y-2",children:O.subServices.map((at,ft)=>{const ve=dt(at.icon||"FaTools");return t.jsxs("div",{className:"bg-white p-2 rounded border border-slate-200 flex items-start gap-2",children:[t.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(ve,{className:"w-4 h-4 text-primary"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:at.name}),at.shortDescription&&t.jsx("div",{className:"text-xs text-slate-600 mt-0.5",children:at.shortDescription}),t.jsx("div",{className:"text-xs text-primary font-semibold mt-1",children:at.price})]})]},ft)})})]})]},de)})})]}),t.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Metadata"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-slate-600 font-semibold",children:"Created At"}),t.jsx("p",{className:"text-slate-900 mt-1",children:re.createdAt?new Date(re.createdAt).toLocaleString():"N/A"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-slate-600 font-semibold",children:"Last Updated"}),t.jsx("p",{className:"text-slate-900 mt-1",children:re.updatedAt?new Date(re.updatedAt).toLocaleString():"N/A"})]})]})]})]})]})})]})},cke=()=>{const{token:e}=kr(),{data:r,isLoading:s,error:a,refresh:n}=lr(y=>qe.fetchFeaturedReviews(y),[]),[i,l]=g.useState(!1),[o,d]=g.useState(null),[c,u]=g.useState({text:"",author:"",rating:5,authorRole:"",authorLocation:"",serviceType:"",isActive:!0,displayOrder:0,featured:!1}),[m,x]=g.useState(!1),h=_t.useMemo(()=>r?typeof r=="string"&&r.trim().startsWith("<!")?[]:typeof r!="object"||r===null?[]:Array.isArray(r)?r:r.success&&Array.isArray(r.data)||Array.isArray(r.data)?r.data:[]:[],[r]),p=()=>{d(null),u({text:"",author:"",rating:5,authorRole:"",authorLocation:"",serviceType:"",isActive:!0,displayOrder:h.length,featured:!1}),l(!0)},f=y=>{d(y),u({text:y.text||"",author:y.author||"",rating:y.rating||5,authorRole:y.authorRole||"",authorLocation:y.authorLocation||"",serviceType:y.serviceType||"",isActive:y.isActive!==void 0?y.isActive:!0,displayOrder:y.displayOrder||0,featured:y.featured||!1}),l(!0)},b=async y=>{y.preventDefault(),x(!0);try{const v={...c,rating:Number(c.rating),displayOrder:Number(c.displayOrder)||0};o?await qe.updateFeaturedReview(e,o._id,v):await qe.createFeaturedReview(e,v),l(!1),n()}catch(v){alert(v.message||"Failed to save review")}finally{x(!1)}},j=async y=>{if(confirm("Are you sure you want to delete this review?"))try{await qe.deleteFeaturedReview(e,y),n()}catch(v){alert(v.message||"Failed to delete review")}},w=y=>[...Array(5)].map((v,N)=>t.jsx("span",{className:N<y?"text-yellow-400":"text-gray-300",children:""},N));return t.jsxs("div",{children:[t.jsx(vs,{title:"Featured Reviews Management",subtitle:"Manage customer reviews displayed on the home page."}),t.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[t.jsx("div",{className:"text-sm text-slate-600",children:h.length>0&&t.jsxs("span",{children:["Total Reviews: ",t.jsx("strong",{children:h.length})]})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:n,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-slate-200 text-slate-700 rounded-xl font-semibold hover:bg-slate-300 transition disabled:opacity-50",children:s?"Loading...":"Refresh"}),t.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition",children:[t.jsx(ar,{})," Add New Review"]})]})]}),s?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:[t.jsx("p",{className:"font-semibold mb-2",children:"Error loading reviews"}),t.jsx("p",{className:"text-sm mb-4",children:a}),t.jsx("button",{onClick:n,className:"px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition",children:"Retry"})]}):h.length===0?t.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-slate-300 rounded-2xl p-12 text-center",children:[t.jsx("p",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No reviews found"}),t.jsx("p",{className:"text-slate-600 mb-6",children:"Add your first customer review to get started"}),t.jsxs("button",{onClick:p,className:"px-6 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[t.jsx(ar,{})," Add First Review"]})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(y=>t.jsxs("div",{className:`bg-white border-2 rounded-2xl p-6 shadow-sm hover:shadow-md transition ${y.featured?"border-primary border-l-4":"border-slate-200"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"flex gap-1",children:w(y.rating)}),y.featured&&t.jsx("span",{className:"text-xs bg-primary text-white px-2 py-1 rounded",children:"Featured"}),!y.isActive&&t.jsx("span",{className:"text-xs text-rose-600 font-semibold",children:"Inactive"})]}),t.jsxs("p",{className:"text-sm text-gray-600 italic mb-3 line-clamp-3",children:['"',y.text,'"']}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-primary font-semibold",children:[" ",y.author]}),y.authorLocation&&t.jsx("p",{className:"text-xs text-gray-500",children:y.authorLocation}),y.serviceType&&t.jsx("p",{className:"text-xs text-gray-500",children:y.serviceType})]})]}),t.jsxs("div",{className:"flex gap-2 ml-2",children:[t.jsx("button",{onClick:()=>f(y),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(gs,{className:"text-slate-600"})}),t.jsx("button",{onClick:()=>j(y._id),className:"p-2 hover:bg-rose-50 rounded-lg transition",children:t.jsx(la,{className:"text-rose-600"})})]})]}),t.jsxs("div",{className:"pt-3 border-t border-slate-200 text-xs text-gray-500",children:["Order: ",y.displayOrder]})]},y._id))}),i&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:o?"Edit Review":"Add New Review"}),t.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Review Text ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("textarea",{value:c.text,onChange:y=>u(v=>({...v,text:y.target.value})),required:!0,rows:"4",placeholder:"Enter the customer review text...",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Author Name ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",value:c.author,onChange:y=>u(v=>({...v,author:y.target.value})),required:!0,placeholder:"e.g., Rajesh K.",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Rating ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsxs("select",{value:c.rating,onChange:y=>u(v=>({...v,rating:Number(y.target.value)})),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:5,children:"5 Stars"}),t.jsx("option",{value:4,children:"4 Stars"}),t.jsx("option",{value:3,children:"3 Stars"}),t.jsx("option",{value:2,children:"2 Stars"}),t.jsx("option",{value:1,children:"1 Star"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Author Role (Optional)"}),t.jsx("input",{type:"text",value:c.authorRole,onChange:y=>u(v=>({...v,authorRole:y.target.value})),placeholder:"e.g., Homeowner, Business Owner",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Location (Optional)"}),t.jsx("input",{type:"text",value:c.authorLocation,onChange:y=>u(v=>({...v,authorLocation:y.target.value})),placeholder:"e.g., Mumbai, Delhi",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Type (Optional)"}),t.jsx("input",{type:"text",value:c.serviceType,onChange:y=>u(v=>({...v,serviceType:y.target.value})),placeholder:"e.g., AC Service, Plumbing",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Display Order"}),t.jsx("input",{type:"number",value:c.displayOrder,onChange:y=>u(v=>({...v,displayOrder:y.target.value})),min:"0",placeholder:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:c.isActive,onChange:y=>u(v=>({...v,isActive:y.target.checked})),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Active"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:c.featured,onChange:y=>u(v=>({...v,featured:y.target.checked})),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Featured"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Saving...":o?"Update Review":"Create Review"})]})]})]})})]})},dke=()=>{const{token:e}=kr(),{data:r,isLoading:s,error:a,refresh:n}=lr(T=>qe.fetchAMCPlans(T),[]),[i,l]=g.useState("plans"),[o,d]=g.useState([]),[c,u]=g.useState(!1),[m,x]=g.useState(!1),[h,p]=g.useState(null),[f,b]=g.useState({name:"",price:"",priceDisplay:"",features:"",description:"",isActive:!0,displayOrder:0,highlight:!1,highlightText:"",whatsappNumber:"",planType:"business",targetCustomer:"",includedServices:[],serviceFrequency:{},duration:12,durationUnit:"months"}),[j,w]=g.useState([]),[y,v]=g.useState(!1),[N,S]=g.useState(!1),[k,P]=g.useState("all");g.useEffect(()=>{e&&(async()=>{var z;v(!0);try{const Q=await qe.fetchPopularServices(e);Q.success&&(w(Q.data||[]),console.log(" Loaded popular services:",((z=Q.data)==null?void 0:z.length)||0))}catch(Q){console.error(" Failed to fetch popular services:",Q)}finally{v(!1)}})()},[e]);const C=_t.useMemo(()=>r?typeof r=="string"&&r.trim().startsWith("<!")?(console.error(" API returned HTML instead of JSON"),[]):typeof r!="object"||r===null?[]:Array.isArray(r)?r:r.success&&Array.isArray(r.data)||Array.isArray(r.data)?r.data:[]:[],[r]);g.useEffect(()=>{C.length>0&&j.length>0&&(console.log(" Plans with services:",C.length,"Popular services:",j.length),C.forEach(T=>{T.includedServices&&T.includedServices.length>0&&T.includedServices.forEach(z=>{const Q=typeof z=="object"?z._id:z;!j.find(L=>L._id===Q)&&typeof z=="string"&&console.warn(" Service not found in popular services:",Q)})}))},[C,j]);const _=()=>{p(null),b({name:"",price:"",priceDisplay:"",features:"",description:"",isActive:!0,displayOrder:C.length,highlight:!1,highlightText:"",whatsappNumber:"",planType:"business",targetCustomer:"",includedServices:[],serviceFrequency:{},duration:12,durationUnit:"months"}),x(!0)},A=T=>{var z;p(T),b({name:T.name||"",price:T.price||"",priceDisplay:T.priceDisplay||`${T.price||""}`,features:((z=T.features)==null?void 0:z.join(`
`))||"",description:T.description||"",isActive:T.isActive!==void 0?T.isActive:!0,displayOrder:T.displayOrder||0,highlight:T.highlight||!1,highlightText:T.highlightText||"",whatsappNumber:T.whatsappNumber||"",planType:T.planType||"business",targetCustomer:T.targetCustomer||"",includedServices:T.includedServices||[],serviceFrequency:T.serviceFrequency||{},duration:T.duration||12,durationUnit:T.durationUnit||"months"}),x(!0)},D=async T=>{T.preventDefault(),S(!0);try{const z={...f,price:Number(f.price),priceDisplay:f.priceDisplay||`${Number(f.price).toLocaleString("en-IN")}`,features:f.features.split(`
`).filter(Q=>Q.trim()),displayOrder:Number(f.displayOrder)||0,duration:Number(f.duration)||12,durationUnit:f.durationUnit||"months",planType:f.planType||"business",targetCustomer:f.targetCustomer||"",includedServices:f.includedServices||[],serviceFrequency:f.serviceFrequency||{}};h?await qe.updateAMCPlan(e,h._id,z):await qe.createAMCPlan(e,z),x(!1),n()}catch(z){alert(z.message||"Failed to save plan")}finally{S(!1)}},H=async T=>{if(confirm("Are you sure you want to delete this plan?"))try{await qe.deleteAMCPlan(e,T),n()}catch(z){alert(z.message||"Failed to delete plan")}},re=async()=>{if(confirm("This will generate AMC plans based on your popular services. Existing plans with the same names will not be overwritten. Continue?")){S(!0);try{const T=await qe.generateAMCPlansFromServices(e);alert(`Successfully generated ${T.data.createdPlans} AMC plans from ${T.data.totalServices} popular services!`),n()}catch(T){alert(T.message||"Failed to generate AMC plans from services")}finally{S(!1)}}},xe=async()=>{var T;v(!0);try{const z=await qe.fetchPopularServices(e);z.success&&(w(z.data||[]),console.log(" Refreshed popular services:",((T=z.data)==null?void 0:T.length)||0))}catch(z){console.error(" Failed to refresh popular services:",z),alert("Failed to refresh services. Please try again.")}finally{v(!1)}},we=async()=>{u(!0);try{const T=await qe.fetchAMCSubscribers(e);T.success?d(T.data||[]):d([])}catch(T){console.error("Error fetching subscribers:",T),d([])}finally{u(!1)}};return _t.useEffect(()=>{i==="subscribers"&&we()},[i]),t.jsx("div",{className:"min-h-screen bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto p-4",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx(vs,{title:"AMC Plans Management",subtitle:"Create and manage service-based AMC plans for different customer segments"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[t.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:t.jsx(wo,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-gray-900",children:C.length}),t.jsx("div",{className:"text-xs text-gray-600",children:"Total Plans"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:t.jsx(El,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-gray-900",children:j.length}),t.jsx("div",{className:"text-xs text-gray-600",children:"Services"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx(vt,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-gray-900",children:C.filter(T=>T.isActive).length}),t.jsx("div",{className:"text-xs text-gray-600",children:"Active"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(Uh,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-gray-900",children:C.filter(T=>T.includedServices&&T.includedServices.length>0).length}),t.jsx("div",{className:"text-xs text-gray-600",children:"Service-Based"})]})]})})]})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"bg-white rounded-xl p-1 shadow-sm border border-gray-200 inline-flex",children:[t.jsxs("button",{onClick:()=>l("plans"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center gap-2 text-sm ${i==="plans"?"bg-primary text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[t.jsx(wo,{className:"w-4 h-4"}),"Plans Management"]}),t.jsxs("button",{onClick:()=>l("subscribers"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center gap-2 text-sm ${i==="subscribers"?"bg-primary text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[t.jsx(Nr,{className:"w-4 h-4"}),"Plan Subscribers"]})]})}),i==="plans"?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"}),t.jsxs("div",{className:"flex gap-1",children:[t.jsxs("button",{onClick:()=>P("all"),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition flex items-center gap-1.5 ${k==="all"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx(wo,{className:"w-3 h-3"}),"All Plans"]}),t.jsxs("button",{onClick:()=>P("individual"),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition flex items-center gap-1.5 ${k==="individual"?"bg-primary text-white":"bg-blue-50 text-blue-700 hover:bg-blue-100"}`,children:[t.jsx(rn,{className:"w-3 h-3"}),"Individual"]}),t.jsxs("button",{onClick:()=>P("business"),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition flex items-center gap-1.5 ${k==="business"?"bg-primary text-white":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:[t.jsx(Uh,{className:"w-3 h-3"}),"Business"]}),t.jsxs("button",{onClick:()=>P("corporate"),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition flex items-center gap-1.5 ${k==="corporate"?"bg-primary text-white":"bg-purple-50 text-purple-700 hover:bg-purple-100"}`,children:[t.jsx(wo,{className:"w-3 h-3"}),"Corporate"]})]})]})}),t.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-6 text-sm text-slate-600",children:[C.length>0&&t.jsxs("span",{children:["Total Plans: ",t.jsx("strong",{children:C.length}),k!=="all"&&t.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["(Showing ",C.filter(T=>T.planType===k).length," ",k," plans)"]})]}),t.jsxs("span",{className:j.length>0?"text-green-600":"text-red-600",children:["Available Services: ",t.jsx("strong",{children:j.length}),j.length===0&&t.jsx("span",{className:"ml-2 text-xs",children:"( No services loaded)"})]}),C.length>0&&t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("span",{children:[" Individual: ",t.jsx("strong",{children:C.filter(T=>T.planType==="individual").length})]}),t.jsxs("span",{children:[" Business: ",t.jsx("strong",{children:C.filter(T=>T.planType==="business").length})]}),t.jsxs("span",{children:[" Corporate: ",t.jsx("strong",{children:C.filter(T=>T.planType==="corporate").length})]})]}),y&&t.jsxs("span",{className:"text-blue-600",children:[t.jsx("span",{className:"animate-spin inline-block mr-1",children:""}),"Loading services..."]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[t.jsxs("button",{onClick:n,disabled:s,className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg text-sm font-medium hover:border-gray-300 hover:shadow-sm transition-all disabled:opacity-50",children:[t.jsx(Dt,{className:`w-4 h-4 ${s?"animate-spin":""}`}),s?"Loading...":"Refresh"]}),t.jsxs("button",{onClick:xe,disabled:y,className:"flex items-center gap-2 px-3 py-2 bg-blue-50 border border-blue-200 text-blue-700 rounded-lg text-sm font-medium hover:bg-blue-100 transition-all disabled:opacity-50",children:[t.jsx(El,{className:`w-4 h-4 ${y?"animate-spin":""}`}),"Services"]}),t.jsxs("button",{onClick:re,disabled:N||y||j.length===0,className:"flex items-center gap-2 px-3 py-2 bg-primary/10 border border-primary/20 text-primary rounded-lg text-sm font-medium hover:bg-primary/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(cr,{className:`w-4 h-4 ${N?"animate-spin":""}`}),N?"Generating...":"Auto-Generate"]}),t.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg text-sm font-medium hover:bg-primary-dark shadow-sm hover:shadow-md transition-all",children:[t.jsx(ar,{className:"w-4 h-4"}),"Create Plan"]})]})]}),s?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:[t.jsx("p",{className:"font-semibold mb-2",children:"Error loading plans"}),t.jsx("p",{className:"text-sm mb-4",children:a}),t.jsx("button",{onClick:n,className:"px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition",children:"Retry"})]}):C.length===0?t.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-slate-300 rounded-2xl p-12 text-center",children:[t.jsx("p",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No AMC plans found"}),t.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first AMC plan to get started."}),t.jsxs("div",{className:"flex gap-3 justify-center",children:[t.jsxs("button",{onClick:_,className:"px-6 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[t.jsx(ar,{})," Create First Plan"]}),t.jsx("button",{onClick:n,className:"px-6 py-3 bg-slate-200 text-slate-700 rounded-xl font-semibold hover:bg-slate-300 transition inline-flex items-center gap-2",children:"Refresh"})]})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:C.filter(T=>k==="all"||T.planType===k).map(T=>{var z,Q,B,L;return t.jsxs("div",{className:`bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden relative border ${T.highlight?"border-primary shadow-md":"border-gray-200 hover:border-gray-300"}`,children:[t.jsx("div",{className:`absolute top-0 right-0 px-2 py-1 rounded-bl-lg text-xs font-medium ${T.planType==="individual"?"bg-blue-500 text-white":T.planType==="business"?"bg-green-500 text-white":T.planType==="corporate"?"bg-purple-500 text-white":"bg-gray-500 text-white"}`,children:T.planType==="individual"?t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(rn,{className:"w-3 h-3"}),t.jsx("span",{children:"Individual"})]}):T.planType==="business"?t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Uh,{className:"w-3 h-3"}),t.jsx("span",{children:"Business"})]}):T.planType==="corporate"?t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(wo,{className:"w-3 h-3"}),t.jsx("span",{children:"Corporate"})]}):t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(wo,{className:"w-3 h-3"}),t.jsx("span",{children:"General"})]})}),T.highlight&&t.jsx("div",{className:"absolute top-2 left-2 bg-primary text-white px-2 py-1 rounded-lg text-xs font-medium shadow-sm",children:T.highlightText||"Featured"}),t.jsxs("div",{className:"p-4 pt-8",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1 truncate",children:T.name}),T.targetCustomer&&t.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:T.targetCustomer}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${T.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[t.jsx(vt,{className:"w-3 h-3 mr-1"}),T.isActive?"Active":"Inactive"]})})]}),t.jsxs("div",{className:"flex gap-1 ml-2",children:[t.jsx("button",{onClick:()=>A(T),className:"p-2 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",title:"Edit Plan",children:t.jsx(gs,{className:"w-3 h-3"})}),t.jsx("button",{onClick:()=>H(T._id),className:"p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors",title:"Delete Plan",children:t.jsx(la,{className:"w-3 h-3"})})]})]}),t.jsxs("div",{className:"bg-primary/5 rounded-lg p-3 mb-3 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[t.jsx(Md,{className:"w-4 h-4 text-primary"}),t.jsx("span",{className:"text-2xl font-bold text-primary",children:((z=T.price)==null?void 0:z.toLocaleString("en-IN"))||0})]}),t.jsxs("div",{className:"text-xs text-gray-600",children:["per ",T.durationUnit==="years"?"year":`${T.duration||12} months`]})]}),T.description&&t.jsx("div",{className:"mb-3",children:t.jsx("p",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded-lg",children:T.description})}),t.jsxs("div",{className:"mb-3",children:[t.jsxs("h4",{className:"text-xs font-semibold text-gray-700 mb-2 flex items-center gap-1",children:[t.jsx(vt,{className:"w-3 h-3 text-green-600"}),"Features (",((Q=T.features)==null?void 0:Q.length)||0,")"]}),t.jsxs("div",{className:"space-y-1",children:[(B=T.features)==null?void 0:B.slice(0,3).map((R,Z)=>t.jsxs("div",{className:"flex items-start gap-2 text-xs text-gray-700",children:[t.jsx(He,{className:"text-green-600 flex-shrink-0 mt-0.5 w-2 h-2"}),t.jsx("span",{className:"line-clamp-2",children:R})]},Z)),((L=T.features)==null?void 0:L.length)>3&&t.jsxs("div",{className:"text-xs text-gray-500",children:["+",T.features.length-3," more features"]})]})]}),T.includedServices&&T.includedServices.length>0&&t.jsxs("div",{className:"mb-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("h4",{className:"text-xs font-semibold text-gray-700 flex items-center gap-1",children:[t.jsx(El,{className:"w-3 h-3 text-primary"}),"Services",t.jsx("span",{className:"bg-primary/10 text-primary px-1.5 py-0.5 rounded text-xs font-medium",children:T.includedServices.length})]}),j.length===0&&t.jsx("button",{onClick:xe,className:"text-xs text-blue-600 hover:text-blue-700 underline",children:"Load"})]}),t.jsxs("div",{className:"space-y-2",children:[T.includedServices.slice(0,4).map((R,Z)=>{var U;let W=null,ie=null;typeof R=="object"&&R!==null?(W=R,ie=R._id):(ie=R,W=j.find(q=>q._id===ie));const ae=(U=T.serviceFrequency)==null?void 0:U[ie],M=q=>({FaSnowflake:nm,FaBolt:Al,FaTint:im,FaBroom:rm,FaPaintRoller:am,FaTools:ya,FaHammer:sm,FaFilter:ud,FaPlug:Gy,FaWrench:sx})[q]||ya;if(W){const q=M(W.icon);return t.jsxs("div",{className:"flex items-center justify-between p-2 bg-primary/5 rounded-lg border border-primary/10",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-6 h-6 bg-white rounded-md flex items-center justify-center",children:t.jsx(q,{className:"w-3 h-3 text-primary"})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("div",{className:"text-xs font-medium text-gray-800 truncate",children:W.name}),W.price&&t.jsx("div",{className:"text-xs text-gray-500",children:W.price})]})]}),ae&&t.jsx("div",{className:"text-right ml-2",children:t.jsx("div",{className:"text-xs font-semibold text-primary",children:ae==="unlimited"?"":`${ae}x`})})]},Z)}else return t.jsx("div",{className:"flex items-center justify-between p-2 bg-yellow-50 rounded-lg border border-yellow-200",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-6 h-6 bg-yellow-100 rounded-md flex items-center justify-center",children:t.jsx(mt,{className:"w-3 h-3 text-yellow-600"})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("div",{className:"text-xs font-medium text-yellow-800",children:"Unavailable"}),t.jsx("div",{className:"text-xs text-yellow-600 font-mono",children:(ie==null?void 0:ie.slice(-6))||"Unknown"})]})]})},Z)}),T.includedServices.length>3&&t.jsx("div",{className:"text-center mt-2",children:t.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-gray-100 rounded-lg text-xs text-gray-600 font-medium",children:[t.jsx(wo,{className:"w-3 h-3 mr-1"}),"+",T.includedServices.length-3," more"]})})]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[t.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg",children:[t.jsx("div",{className:"text-gray-500 mb-0.5",children:"Duration"}),t.jsxs("div",{className:"font-medium text-gray-700",children:[T.duration||12," ",T.durationUnit||"months"]})]}),t.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg",children:[t.jsx("div",{className:"text-gray-500 mb-0.5",children:"Order"}),t.jsx("div",{className:"font-medium text-gray-700",children:T.displayOrder})]})]})})]})]},T._id)})}),m&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:h?"Edit AMC Plan":"Create AMC Plan"}),t.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:D,className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Plan Name ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",value:f.name,onChange:T=>b(z=>({...z,name:T.target.value})),required:!0,placeholder:"e.g., Basic, Standard, Premium",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Price () ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"number",value:f.price,onChange:T=>{const z=T.target.value;b(Q=>({...Q,price:z,priceDisplay:Q.priceDisplay||`${Number(z).toLocaleString("en-IN")}`}))},required:!0,min:"0",step:"0.01",placeholder:"2500",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Price Display"}),t.jsx("input",{type:"text",value:f.priceDisplay,onChange:T=>b(z=>({...z,priceDisplay:T.target.value})),placeholder:"2,500 (auto-generated if empty)",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Plan Type ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsxs("select",{value:f.planType,onChange:T=>b(z=>({...z,planType:T.target.value})),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"individual",children:" Individual (Homeowners)"}),t.jsx("option",{value:"business",children:" Business (Small-Medium)"}),t.jsx("option",{value:"corporate",children:" Corporate (Large Enterprise)"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Target Customer Description"}),t.jsx("input",{type:"text",value:f.targetCustomer,onChange:T=>b(z=>({...z,targetCustomer:T.target.value})),placeholder:"e.g., Small businesses with 10-50 employees, Homeowners with 2-3 BHK",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),t.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Optional description of who this plan is designed for"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Display Order"}),t.jsx("input",{type:"number",value:f.displayOrder,onChange:T=>b(z=>({...z,displayOrder:T.target.value})),min:"0",placeholder:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsx("div",{className:"flex items-end",children:t.jsxs("div",{className:"w-full",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Plan Category"}),t.jsx("div",{className:`px-4 py-2 rounded-lg border-2 text-sm font-medium ${f.planType==="individual"?"border-blue-200 bg-blue-50 text-blue-700":f.planType==="business"?"border-green-200 bg-green-50 text-green-700":"border-purple-200 bg-purple-50 text-purple-700"}`,children:f.planType==="individual"?" Individual Plan":f.planType==="business"?" Business Plan":" Corporate Plan"})]})})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Features ",t.jsx("span",{className:"text-rose-500",children:"*"}),t.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(One per line)"})]}),t.jsx("textarea",{value:f.features,onChange:T=>b(z=>({...z,features:T.target.value})),required:!0,rows:"6",placeholder:`Monthly inspection
Basic repairs included
Electrical maintenance
Plumbing maintenance
AC service (quarterly)`,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Plan Duration"}),t.jsx("input",{type:"number",value:f.duration,onChange:T=>b(z=>({...z,duration:parseInt(T.target.value)||1})),min:"1",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"12"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Duration Unit"}),t.jsxs("select",{value:f.durationUnit,onChange:T=>b(z=>({...z,durationUnit:T.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"months",children:"Months"}),t.jsx("option",{value:"years",children:"Years"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:[" Select Services for AMC Plan",t.jsx("span",{className:"text-xs text-slate-500 ml-2 block mt-1",children:"Choose which services to include in this AMC plan and configure their frequencies"})]}),y?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"text-sm text-slate-500",children:"Loading available services..."})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-700 mr-2",children:"Quick Select:"}),t.jsx("button",{type:"button",onClick:()=>{const T=j.filter(z=>["ac","electrical","plumbing"].some(Q=>z.name.toLowerCase().includes(Q))).map(z=>z._id);b(z=>({...z,includedServices:T,serviceFrequency:T.reduce((Q,B)=>({...Q,[B]:"4"}),{})}))},className:"px-3 py-1.5 text-xs bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition font-semibold",children:" Essential (AC, Electrical, Plumbing)"}),t.jsx("button",{type:"button",onClick:()=>{const T=j.filter(z=>["cleaning","maintenance","repair"].some(Q=>z.name.toLowerCase().includes(Q))).map(z=>z._id);b(z=>({...z,includedServices:T,serviceFrequency:T.reduce((Q,B)=>({...Q,[B]:"6"}),{})}))},className:"px-3 py-1.5 text-xs bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition font-semibold",children:" Maintenance & Cleaning"}),t.jsx("button",{type:"button",onClick:()=>{const T=j.map(z=>z._id);b(z=>({...z,includedServices:T,serviceFrequency:T.reduce((Q,B)=>({...Q,[B]:"2"}),{})}))},className:"px-3 py-1.5 text-xs bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition font-semibold",children:" All Services"}),t.jsx("button",{type:"button",onClick:()=>b(T=>({...T,includedServices:[],serviceFrequency:{}})),className:"px-3 py-1.5 text-xs bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition font-semibold",children:" Clear All"})]}),t.jsxs("div",{className:"border-2 border-slate-200 rounded-xl bg-slate-50 p-4",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsxs("span",{className:"text-sm font-medium text-slate-700",children:["Available Services (",j.length,")"]}),t.jsxs("span",{className:"text-xs text-slate-500",children:[f.includedServices.length," selected"]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-80 overflow-y-auto",children:j.length===0?t.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border-2 border-dashed border-slate-300",children:[t.jsx("div",{className:"text-4xl mb-3",children:""}),t.jsx("div",{className:"text-sm font-medium text-slate-600 mb-1",children:"No services available"}),t.jsx("div",{className:"text-xs text-slate-500",children:"Please add popular services first to include them in AMC plans"})]}):j.map(T=>{const z=f.includedServices.includes(T._id),Q=B=>({FaSnowflake:"",FaBolt:"",FaTint:"",FaBroom:"",FaPaintRoller:"",FaTools:"",FaHammer:"",FaFilter:"",FaPlug:"",FaWrench:""})[B]||"";return t.jsxs("div",{className:`bg-white rounded-lg border-2 transition-all duration-200 ${z?"border-primary shadow-lg ring-2 ring-primary/20":"border-slate-200 hover:border-slate-300 hover:shadow-md"}`,children:[t.jsx("div",{className:`p-4 ${z?"bg-primary/5":""}`,children:t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:z,onChange:B=>{B.target.checked?b(L=>({...L,includedServices:[...L.includedServices,T._id],serviceFrequency:{...L.serviceFrequency,[T._id]:"4"}})):b(L=>({...L,includedServices:L.includedServices.filter(R=>R!==T._id),serviceFrequency:{...L.serviceFrequency,[T._id]:void 0}}))},className:"w-5 h-5 text-primary rounded focus:ring-primary"}),t.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[t.jsx("span",{className:"text-2xl",children:Q(T.icon)}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h4",{className:"text-sm font-semibold text-slate-900",children:T.name}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${T.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:T.isActive?" Active":" Inactive"})]}),t.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[T.price&&t.jsx("span",{className:"text-xs font-medium text-primary bg-primary/10 px-2 py-0.5 rounded",children:T.price}),T.basePrice&&t.jsxs("span",{className:"text-xs text-slate-500",children:["Base: ",T.basePrice]})]})]})]})]})}),z&&t.jsx("div",{className:"px-4 pb-4 border-t border-slate-200 bg-slate-50/50",children:t.jsxs("div",{className:"pt-4 space-y-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-semibold text-slate-700 mb-2",children:[" Service Frequency (per ",f.durationUnit==="years"?"year":f.duration+" months",")"]}),t.jsxs("select",{value:f.serviceFrequency[T._id]||"4",onChange:B=>b(L=>({...L,serviceFrequency:{...L.serviceFrequency,[T._id]:B.target.value}})),className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white",children:[t.jsx("option",{value:"1",children:"1 time (Annual) - Basic maintenance"}),t.jsx("option",{value:"2",children:"2 times (Bi-annual) - Standard care"}),t.jsx("option",{value:"4",children:"4 times (Quarterly) - Regular maintenance"}),t.jsx("option",{value:"6",children:"6 times (Bi-monthly) - Frequent care"}),t.jsx("option",{value:"12",children:"12 times (Monthly) - Premium maintenance"}),t.jsx("option",{value:"unlimited",children:"Unlimited visits - On-demand"})]})]}),T.basePrice&&t.jsxs("div",{className:"bg-green-50 border border-green-200 p-3 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-medium text-green-800",children:" Estimated Cost"}),t.jsxs("span",{className:"text-sm font-bold text-green-700",children:["",f.serviceFrequency[T._id]==="unlimited"?(T.basePrice*12).toLocaleString("en-IN"):((T.basePrice||0)*parseInt(f.serviceFrequency[T._id]||4)).toLocaleString("en-IN")]})]}),t.jsx("div",{className:"text-xs text-green-600 mt-1",children:f.serviceFrequency[T._id]==="unlimited"?"Unlimited visits (calculated as 12x base price)":`${T.basePrice}  ${f.serviceFrequency[T._id]||4} visits`})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded-lg",children:[t.jsx("div",{className:"text-xs font-medium text-blue-800 mb-1",children:" Recommendation"}),t.jsxs("div",{className:"text-xs text-blue-700",children:[T.name.toLowerCase().includes("ac")&&"AC services work best with quarterly maintenance for optimal performance",T.name.toLowerCase().includes("electrical")&&"Electrical systems should be inspected bi-annually for safety",T.name.toLowerCase().includes("plumbing")&&"Plumbing maintenance prevents major issues when done annually",T.name.toLowerCase().includes("cleaning")&&"Regular cleaning maintains hygiene and professional appearance",!T.name.toLowerCase().match(/(ac|electrical|plumbing|cleaning)/)&&"Configure frequency based on your business requirements"]})]})]})})]},T._id)})}),f.includedServices.length>0&&t.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-primary/5 to-primary/10 border-2 border-primary/20 rounded-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h4",{className:"text-sm font-bold text-slate-800 flex items-center gap-2",children:" AMC Plan Summary"}),t.jsxs("span",{className:"px-3 py-1 bg-primary text-white text-xs font-semibold rounded-full",children:[f.includedServices.length," Services"]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-2 mb-4",children:f.includedServices.map(T=>{const z=j.find(R=>R._id===T),Q=f.serviceFrequency[T]||"4",B=(z==null?void 0:z.basePrice)||0,L=Q==="unlimited"?B*12:B*parseInt(Q);return z?t.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-lg",children:z.icon==="FaSnowflake"?"":z.icon==="FaBolt"?"":z.icon==="FaTint"?"":z.icon==="FaBroom"?"":""}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-slate-800",children:z.name}),t.jsx("div",{className:"text-xs text-slate-500",children:Q==="unlimited"?"Unlimited visits":`${Q} visits per ${f.durationUnit==="years"?"year":f.duration+" months"}`})]})]}),B>0&&t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-semibold text-primary",children:["",L.toLocaleString("en-IN")]}),t.jsxs("div",{className:"text-xs text-slate-500",children:["",B,"  ",Q==="unlimited"?"12":Q]})]})]},T):null})}),t.jsxs("div",{className:"border-t border-primary/20 pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-800",children:" Total Estimated Cost"}),t.jsxs("span",{className:"text-xl font-bold text-primary",children:["",f.includedServices.reduce((T,z)=>{const Q=j.find(Z=>Z._id===z),B=f.serviceFrequency[z]||"4",L=(Q==null?void 0:Q.basePrice)||0,R=B==="unlimited"?L*12:L*parseInt(B);return T+R},0).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"text-xs text-slate-600 mb-3",children:["Per ",f.durationUnit==="years"?"year":f.duration+" months","  Based on service base prices"]}),t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-3 rounded-lg",children:[t.jsx("div",{className:"text-xs font-medium text-yellow-800 mb-1",children:" Pricing Tip"}),t.jsx("div",{className:"text-xs text-yellow-700",children:"Set your plan price above to add profit margin or offer customer discounts. Consider market rates and competitor pricing."})]})]})]}),t.jsx("div",{className:"mt-4",children:t.jsx("p",{className:"text-xs text-slate-500 text-center",children:f.includedServices.length===0?"No services selected - Select services above to include in this AMC plan":` ${f.includedServices.length} service${f.includedServices.length===1?"":"s"} selected for this AMC plan`})})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),t.jsx("textarea",{value:f.description,onChange:T=>b(z=>({...z,description:T.target.value})),rows:"3",placeholder:"Optional description for the plan",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"WhatsApp Number (Optional)"}),t.jsx("input",{type:"text",value:f.whatsappNumber,onChange:T=>b(z=>({...z,whatsappNumber:T.target.value})),placeholder:"919590926068",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.isActive,onChange:T=>b(z=>({...z,isActive:T.target.checked})),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Active"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.highlight,onChange:T=>b(z=>({...z,highlight:T.target.checked})),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Highlight"})]})]})]}),f.highlight&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Highlight Text"}),t.jsx("input",{type:"text",value:f.highlightText,onChange:T=>b(z=>({...z,highlightText:T.target.value})),placeholder:"e.g., Most Popular, Recommended",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:N,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Saving...":h?"Update Plan":"Create Plan"})]})]})]})})]}):t.jsxs("div",{children:[t.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[t.jsx("div",{className:"text-sm text-slate-600",children:o.length>0&&t.jsxs("span",{children:["Total Subscribers: ",t.jsx("strong",{children:o.length})]})}),t.jsx("button",{onClick:we,disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-slate-200 text-slate-700 rounded-xl font-semibold hover:bg-slate-300 transition disabled:opacity-50",children:c?"Loading...":"Refresh"})]}),c?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):o.length===0?t.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-slate-300 rounded-2xl p-12 text-center",children:[t.jsx("p",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No subscribers yet"}),t.jsx("p",{className:"text-slate-600",children:"Users who purchase AMC plans will appear here."})]}):t.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"User"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Plan"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Transaction ID"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Subscribed On"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:o.map((T,z)=>{var Q;return t.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-slate-900",children:T.userName||"N/A"}),t.jsx("div",{className:"text-sm text-slate-600",children:T.userEmail||T.userPhone||"N/A"})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"font-medium text-slate-900",children:T.planName||"N/A"})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"font-semibold text-primary",children:["",((Q=T.amount)==null?void 0:Q.toLocaleString("en-IN"))||"0"]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"font-mono text-xs text-slate-600",children:T.txnid||"N/A"})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-semibold ${T.status==="active"?"bg-green-100 text-green-800":T.status==="expired"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:T.status||"pending"})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:T.subscribedAt?new Date(T.subscribedAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A"})]},z)})})]})})})]})]})})},uke=()=>{const{token:e}=kr(),[r,s]=g.useState({isReady:!1,isAuthenticated:!1,qrCode:null,autoReconnect:!0,reconnectAttempts:0,isReconnecting:!1}),[a,n]=g.useState(!1),[i,l]=g.useState(null),[o,d]=g.useState(null),[c,u]=g.useState(""),[m,x]=g.useState(""),[h,p]=g.useState(!1),[f,b]=g.useState(!1),j=g.useRef(!1);g.useEffect(()=>{if(w(),!r.isReady||r.isReconnecting){b(!0);const k=setInterval(()=>{w()},15e3);return()=>{clearInterval(k),b(!1)}}else b(!1)},[r.isReady,r.isReconnecting]);const w=async()=>{if(!j.current){j.current=!0;try{const k=await qe.getWhatsAppStatus(e);k.success&&s(P=>{const C={isReady:k.isReady||!1,isAuthenticated:k.isAuthenticated||!1,qrCode:k.qrCode||null,autoReconnect:k.autoReconnect!==void 0?k.autoReconnect:!0,reconnectAttempts:k.reconnectAttempts||0,isReconnecting:k.isReconnecting||!1};return P.isReady!==C.isReady||P.isReconnecting!==C.isReconnecting||P.qrCode!==C.qrCode||P.reconnectAttempts!==C.reconnectAttempts?C:P})}catch(k){console.error("Error checking status:",k)}finally{j.current=!1}}},y=async()=>{n(!0),l(null),d(null);try{const k=await qe.initializeWhatsApp(e);k.success&&(s({isReady:k.isReady||!1,isAuthenticated:k.isAuthenticated||!1,qrCode:k.qrCode||null}),d("WhatsApp client initialized. Please scan the QR code."),setTimeout(()=>{v()},2e3))}catch(k){l(k.message||"Failed to initialize WhatsApp")}finally{n(!1)}},v=async()=>{try{const k=await qe.getWhatsAppQRCode(e);k.success&&s(P=>({...P,qrCode:k.qrCode||null,isReady:k.isReady||!1,isAuthenticated:k.isAuthenticated||!1}))}catch(k){console.error("Error fetching QR code:",k)}},N=async()=>{if(window.confirm("Are you sure you want to disconnect WhatsApp? This will require re-authentication.")){n(!0),l(null),d(null);try{(await qe.disconnectWhatsApp(e)).success&&(s({isReady:!1,isAuthenticated:!1,qrCode:null}),d("WhatsApp disconnected successfully"))}catch(k){l(k.message||"Failed to disconnect WhatsApp")}finally{n(!1)}}},S=async()=>{if(!c){l("Please enter a phone number");return}p(!0),l(null),d(null);try{(await qe.sendTestWhatsAppMessage(e,c,m||"Test message from Nexo Works")).success&&(d("Test message sent successfully!"),u(""),x(""))}catch(k){l(k.message||"Failed to send test message")}finally{p(!1)}};return t.jsxs("div",{className:"space-y-6",children:[t.jsx(vs,{title:"WhatsApp Settings",subtitle:"Connect WhatsApp to send OTP messages for free"}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Connection Status"}),t.jsx("button",{onClick:w,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:a,children:t.jsx(Dt,{className:`text-slate-600 ${a?"animate-spin":""}`})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"flex items-center gap-4",children:r.isReady?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[t.jsx(vt,{className:"text-2xl"}),t.jsx("span",{className:"font-semibold",children:"Connected"})]}),t.jsx("p",{className:"text-sm text-slate-600",children:"WhatsApp is connected and ready to send OTP messages"})]}):r.isReconnecting?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2 text-yellow-600",children:[t.jsx(Dt,{className:"text-2xl animate-spin"}),t.jsx("span",{className:"font-semibold",children:"Reconnecting..."})]}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Attempting to reconnect automatically (Attempt ",r.reconnectAttempts,"/10)"]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[t.jsx(wn,{className:"text-2xl"}),t.jsx("span",{className:"font-semibold",children:"Not Connected"})]}),t.jsxs("p",{className:"text-sm text-slate-600",children:["WhatsApp is not connected. ",r.autoReconnect?"Auto-reconnect is enabled.":"Please scan QR code to connect."]})]})}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${r.autoReconnect?"bg-green-500":"bg-gray-400"}`}),t.jsxs("span",{children:["Auto-reconnect: ",r.autoReconnect?"Enabled":"Disabled"]}),r.reconnectAttempts>0&&t.jsxs("span",{className:"ml-2",children:[" Attempts: ",r.reconnectAttempts,"/10"]})]})]})]}),!r.isReady&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Scan QR Code"}),r.qrCode?t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"bg-white p-4 rounded-lg border-2 border-slate-200",children:t.jsx("img",{src:r.qrCode,alt:"WhatsApp QR Code",className:"w-64 h-64"})}),t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Scan this QR code with your WhatsApp"}),t.jsxs("ol",{className:"text-sm text-slate-600 text-left max-w-md mx-auto space-y-1",children:[t.jsx("li",{children:"1. Open WhatsApp on your phone"}),t.jsx("li",{children:"2. Go to Settings  Linked Devices"}),t.jsx("li",{children:'3. Tap "Link a Device"'}),t.jsx("li",{children:"4. Scan this QR code"})]})]})]}):t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-slate-600 mb-4",children:'No QR code available. Click "Initialize" to generate one.'})}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:y,disabled:a,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:a?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Initializing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(WZ,{}),"Initialize WhatsApp"]})}),r.qrCode&&t.jsx("button",{onClick:v,className:"px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:t.jsx(Dt,{})})]})]}),r.isReady&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Actions"}),t.jsx("div",{className:"space-y-4",children:t.jsxs("button",{onClick:N,disabled:a,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-50 text-red-600 rounded-lg font-semibold hover:bg-red-100 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(VZ,{}),"Disconnect WhatsApp"]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Auto-Reconnect Settings"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-700",children:"Automatic Reconnection"}),t.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Automatically reconnect WhatsApp if connection is lost"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:r.autoReconnect,onChange:async k=>{try{await qe.setAutoReconnect(e,k.target.checked),s(P=>({...P,autoReconnect:k.target.checked})),d(`Auto-reconnect ${k.target.checked?"enabled":"disabled"}`)}catch(P){l(P.message||"Failed to update auto-reconnect setting")}},className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),!r.isReady&&t.jsxs("button",{onClick:async()=>{n(!0),l(null),d(null);try{const k=await qe.reconnectWhatsApp(e);k.success&&(s(P=>({...P,isReady:k.isReady||!1,isAuthenticated:k.isAuthenticated||!1,qrCode:k.qrCode||null})),d("Reconnection initiated. Please wait..."),setTimeout(()=>w(),3e3))}catch(k){l(k.message||"Failed to reconnect")}finally{n(!1)}},disabled:a||r.isReconnecting,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(Dt,{className:a?"animate-spin":""}),r.isReconnecting?"Reconnecting...":"Manual Reconnect"]})]})]}),r.isReady&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[t.jsx(Zf,{}),"Send Test Message"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Phone Number (with country code, e.g., 919876543210)"}),t.jsx("input",{type:"text",value:c,onChange:k=>u(k.target.value),placeholder:"919876543210",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Message (optional)"}),t.jsx("textarea",{value:m,onChange:k=>x(k.target.value),placeholder:"Test message from Nexo Works",rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsx("button",{onClick:S,disabled:h||!c,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:h?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(eg,{}),"Send Test Message"]})})]})]}),i&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2 text-red-700",children:[t.jsx(wn,{}),t.jsx("span",{children:i})]}),o&&t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-2 text-green-700",children:[t.jsx(vt,{}),t.jsx("span",{children:o})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"How it works:"}),t.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[t.jsx("li",{children:' Click "Initialize WhatsApp" to generate a QR code'}),t.jsx("li",{children:" Scan the QR code with your WhatsApp mobile app"}),t.jsx("li",{children:" Once connected, all OTP messages will be sent via WhatsApp instead of SMS"}),t.jsx("li",{children:" This is completely free and doesn't require any SMS API"}),t.jsx("li",{children:" The connection persists until you disconnect or restart the server"})]})]})]})},Wz=g.createContext(null),qz={isLoading:!0,isAuthenticated:!1,partner:null,token:null,error:null};function mke(e,r){var s,a,n;switch(r.type){case"INIT":return{...e,isLoading:!1,isAuthenticated:!!((s=r.payload)!=null&&s.token),partner:((a=r.payload)==null?void 0:a.partner)??null,token:((n=r.payload)==null?void 0:n.token)??null};case"LOGIN_START":return{...e,isLoading:!0,error:null};case"LOGIN_SUCCESS":return{...e,isLoading:!1,isAuthenticated:!0,partner:r.payload.partner,token:r.payload.token,error:null};case"LOGIN_ERROR":return{...e,isLoading:!1,isAuthenticated:!1,partner:null,token:null,error:r.payload};case"LOGOUT":return{...qz,isLoading:!1};case"UPDATE_PARTNER":return{...e,partner:{...e.partner,...r.payload}};default:return e}}const hke=({children:e})=>{const[r,s]=g.useReducer(mke,qz);g.useEffect(()=>{(async()=>{var o;const l=localStorage.getItem("nexo_partner_auth");if(l)try{const d=JSON.parse(l);if(s({type:"INIT",payload:d}),d.token)try{const c=await ut.getProfile(d.token);if(c.success&&c.profile){const u={...d.partner,...c.profile,profile:{...(o=d.partner)==null?void 0:o.profile,...c.profile}},m={token:d.token,partner:u};localStorage.setItem("nexo_partner_auth",JSON.stringify(m)),s({type:"UPDATE_PARTNER",payload:u})}}catch(c){console.error("Failed to fetch profile on init:",c)}}catch(d){console.error("Failed to parse partner auth cache",d),localStorage.removeItem("nexo_partner_auth"),s({type:"INIT",payload:null})}else s({type:"INIT",payload:null})})()},[]);const a=T4(ut,r.token,r.isAuthenticated),n=g.useMemo(()=>({...r,notifications:a,login:async(i,l)=>{s({type:"LOGIN_START"});try{const o=await ut.verifyOTP(i,l);if(o.success&&o.partner){let d=o.partner;try{const u=await ut.getProfile(o.partner.token);u.success&&u.profile&&(d={...o.partner,...u.profile,profile:{...o.partner.profile,...u.profile}})}catch(u){console.error("Failed to fetch complete profile:",u)}const c={token:o.partner.token,partner:d};return localStorage.setItem("nexo_partner_auth",JSON.stringify(c)),s({type:"LOGIN_SUCCESS",payload:c}),c}else throw new Error(o.message||"Login failed")}catch(o){const d=(o==null?void 0:o.message)??"Unable to login";throw s({type:"LOGIN_ERROR",payload:d}),new Error(d)}},logout:()=>{localStorage.removeItem("nexo_partner_auth"),s({type:"LOGOUT"})},clearError:()=>s({type:"LOGIN_ERROR",payload:null}),updatePartner:i=>{const l=localStorage.getItem("nexo_partner_auth");if(l)try{const o=JSON.parse(l);o.partner={...o.partner,...i},localStorage.setItem("nexo_partner_auth",JSON.stringify(o)),s({type:"UPDATE_PARTNER",payload:i})}catch(o){console.error("Failed to update partner data",o)}},refreshProfile:async()=>{var i;if(r.token)try{const l=await ut.getProfile(r.token);if(l.success&&l.profile){const o={...r.partner,...l.profile,profile:{...(i=r.partner)==null?void 0:i.profile,...l.profile}},d=localStorage.getItem("nexo_partner_auth");if(d){const c=JSON.parse(d);c.partner=o,localStorage.setItem("nexo_partner_auth",JSON.stringify(c))}return s({type:"UPDATE_PARTNER",payload:o}),o}}catch(l){console.error("Failed to refresh profile:",l)}}}),[r,a]);return t.jsx(Wz.Provider,{value:n,children:e})},dn=()=>{const e=g.useContext(Wz);if(!e)throw new Error("usePartnerAuth must be used within PartnerAuthProvider");return e},xke=()=>{const e=er(),{login:r,error:s,clearError:a}=dn(),[n,i]=g.useState(1),[l,o]=g.useState({phone:"",otp:""}),[d,c]=g.useState(!1),[u,m]=g.useState(null),[x,h]=g.useState(!1),[p,f]=g.useState(0);_t.useEffect(()=>{let v=null;return p>0&&(v=setInterval(()=>{f(N=>N-1)},1e3)),()=>{v&&clearInterval(v)}},[p]);const b=async v=>{if(v.preventDefault(),m(null),a(),!l.phone||l.phone.length!==10){m("Please enter a valid 10-digit phone number");return}c(!0);try{const N=await ut.sendOTP(l.phone);N.success?(N.otp&&alert(`OTP for testing: ${N.otp}`),h(!0),i(2),f(60)):m(N.message||"Failed to send OTP")}catch(N){m(N.message||"Failed to send OTP. Please try again.")}finally{c(!1)}},j=async()=>{if(!(p>0)){c(!0),m(null);try{const v=await ut.resendOTP(l.phone);v.success?f(60):m(v.message||"Failed to resend OTP")}catch(v){m(v.message||"Failed to resend OTP")}finally{c(!1)}}},w=async v=>{if(v.preventDefault(),m(null),a(),!l.otp||l.otp.length!==6){m("Please enter a valid 6-digit OTP");return}c(!0);let N=null;if("Notification"in window){const S=Notification.permission;if(S==="default"||S==="denied")try{N=Notification.requestPermission()}catch(k){console.error("Cannot request notification permission:",k)}}try{await r(l.phone,l.otp),N&&await N==="granted"&&setTimeout(()=>{window.dispatchEvent(new Event("notificationPermissionGranted"))},500),e("/partner/dashboard",{replace:!0})}catch(S){m(S.message||"Invalid OTP. Please try again.")}finally{c(!1)}},y=v=>{const{name:N,value:S}=v.target;o(k=>({...k,[N]:S.replace(/\D/g,"").slice(0,N==="otp"?6:10)})),m(null),s&&a()};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center px-4 py-10",children:t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-full mb-4",children:t.jsx(Ms,{className:"text-2xl text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Partner Login"}),t.jsx("p",{className:"text-slate-300",children:"Welcome back! Please login to continue"})]}),(u||s)&&t.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-xl text-red-200 text-sm",children:u||s}),n===1&&t.jsxs("form",{onSubmit:b,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Phone Number"}),t.jsxs("div",{className:"relative",children:[t.jsx(an,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:y,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0,disabled:d})]})]}),t.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Sending OTP..."]}):t.jsxs(t.Fragment,{children:["Send OTP",t.jsx(hs,{})]})})]}),n===2&&t.jsxs("form",{onSubmit:w,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Enter OTP"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ms,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",name:"otp",value:l.otp,onChange:y,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-center text-2xl tracking-widest",placeholder:"000000",maxLength:6,required:!0,disabled:d,autoFocus:!0})]}),t.jsxs("p",{className:"mt-2 text-xs text-slate-400 text-center",children:["OTP sent to +91 ",l.phone]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("button",{type:"button",onClick:()=>{i(1),o(v=>({...v,otp:""})),h(!1),f(0)},className:"text-slate-300 hover:text-white transition",children:"Change Number"}),t.jsx("button",{type:"button",onClick:j,disabled:p>0||d,className:"text-primary hover:text-primary-light transition disabled:opacity-50 disabled:cursor-not-allowed",children:p>0?`Resend OTP in ${p}s`:"Resend OTP"})]}),t.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Verifying..."]}):t.jsxs(t.Fragment,{children:["Login",t.jsx(hs,{})]})})]}),t.jsx("div",{className:"mt-8 text-center",children:t.jsxs("p",{className:"text-sm text-slate-400",children:["Don't have an account?"," ",t.jsx("button",{onClick:()=>e("/partner/onboard"),className:"text-primary hover:text-primary-light font-semibold transition",children:"Register as Partner"})]})})]})})})},pke=()=>{const{token:e}=dn(),[r,s]=g.useState(null),[a,n]=g.useState(!0),[i,l]=g.useState(null),[o,d]=g.useState(!1),[c,u]=g.useState(""),[m,x]=g.useState(""),[h,p]=g.useState(!1),[f]=g.useState([500,1e3,2e3,5e3,1e4]);g.useEffect(()=>{b()},[e]);const b=async()=>{if(e){n(!0),l(null);try{const N=await ut.getWallet(e);s((N==null?void 0:N.data)||N)}catch(N){l(N.message||"Failed to fetch wallet")}finally{n(!1)}}},j=async()=>{if(!c||parseFloat(c)<=0){alert("Please enter a valid amount");return}p(!0);try{const N=await ut.topUpWallet(e,parseFloat(c),m||"Topup",`TOPUP-${Date.now()}`);N.success||N.message?(alert("Wallet topped up successfully!"),d(!1),u(""),x(""),await b()):alert(N.message||"Failed to top up wallet")}catch(N){console.error("Top-up error:",N),alert(N.message||"Failed to top up wallet")}finally{p(!1)}};if(a)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(i)return t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[t.jsx("p",{className:"text-red-600",children:i}),t.jsx("button",{onClick:b,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Retry"})]});const w=(r==null?void 0:r.balance)||0,y=(r==null?void 0:r.transactions)||[],v=(r==null?void 0:r.mgPlan)||null;return t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Wallet"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your wallet balance and transactions"})]}),t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[t.jsxs("button",{onClick:()=>d(!0),className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2 shadow-lg text-sm sm:text-base",children:[t.jsx(ar,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Top Up Wallet"}),t.jsx("span",{className:"sm:hidden",children:"Top Up"})]}),t.jsx("button",{onClick:b,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200",children:t.jsx(Dt,{className:"text-lg sm:text-xl text-slate-600"})})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-primary to-primary-dark rounded-2xl shadow-xl p-6 sm:p-8 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white/80 text-xs sm:text-sm mb-1",children:"Current Balance"}),t.jsxs("h2",{className:"text-3xl sm:text-4xl font-bold",children:["",w.toLocaleString("en-IN")]})]}),t.jsx("div",{className:"bg-white/20 p-3 sm:p-4 rounded-xl",children:t.jsx(Yt,{className:"text-3xl sm:text-4xl"})})]}),v&&t.jsxs("div",{className:"bg-white/10 rounded-xl p-4 mt-4",children:[t.jsxs("p",{className:"text-sm text-white/80 mb-2",children:["Active Plan: ",v.name]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{children:["Leads Remaining: ",v.leadsRemaining||0]}),t.jsxs("span",{children:["Lead Fee: ",v.leadFee||0]})]})]}),(r==null?void 0:r.minWalletBalance)&&w<r.minWalletBalance&&t.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/50 rounded-xl p-4 mt-4",children:t.jsxs("p",{className:"text-sm text-yellow-100",children:[" Wallet balance is below minimum threshold (",r.minWalletBalance,"). Recharge to continue accepting leads."]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4",children:[t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Recent Transactions"}),y.length>0&&t.jsxs("button",{onClick:()=>{const N=y.map(S=>{var k,P;return{"Date & Time":S.createdAt?new Date(S.createdAt).toLocaleString("en-IN"):"N/A",Type:((k=S.type)==null?void 0:k.charAt(0).toUpperCase())+((P=S.type)==null?void 0:P.slice(1))||"N/A","Amount ()":S.amount||0,"Balance ()":S.balance||0,Description:S.description||"N/A",Reference:S.reference||"N/A"}});Wd(N,[{header:"Date & Time",accessor:"Date & Time"},{header:"Type",accessor:"Type"},{header:"Amount ()",accessor:"Amount ()"},{header:"Balance ()",accessor:"Balance ()"},{header:"Description",accessor:"Description"},{header:"Reference",accessor:"Reference"}],"Wallet_Transactions","Transactions",{columnWidths:[20,12,15,15,30,20]})},className:"px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-semibold bg-primary text-white hover:bg-primary-dark transition inline-flex items-center gap-2 self-start sm:self-auto",title:"Export to Excel",children:[t.jsx(In,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Export Excel"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})]}),y.length===0?t.jsxs("div",{className:"text-center py-8 text-slate-500",children:[t.jsx(Yt,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No transactions yet"})]}):t.jsx("div",{className:"space-y-3",children:y.slice(0,10).map((N,S)=>{var k,P;return t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1",children:[t.jsx("div",{className:`p-2 sm:p-3 rounded-lg flex-shrink-0 ${N.type==="credit"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:N.type==="credit"?t.jsx(cr,{className:"text-lg sm:text-xl"}):t.jsx(hd,{className:"text-lg sm:text-xl"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 text-sm sm:text-base truncate",children:N.description||"Transaction"}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-500",children:N.createdAt?new Date(N.createdAt).toLocaleString("en-IN"):new Date().toLocaleString("en-IN")})]})]}),t.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[t.jsxs("p",{className:`font-bold text-lg sm:text-xl ${N.type==="credit"?"text-green-600":"text-red-600"}`,children:[N.type==="credit"?"+":"-","",((k=N.amount)==null?void 0:k.toLocaleString("en-IN"))||0]}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-500",children:["Balance: ",((P=N.balance)==null?void 0:P.toLocaleString("en-IN"))||0]})]})]},S)})})]}),o&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-4 sm:p-6 my-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Top Up Wallet"}),t.jsx("button",{onClick:()=>{d(!1),u(""),x("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"text-lg sm:text-xl"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Amount ()"}),t.jsx("input",{type:"number",value:c,onChange:N=>u(N.target.value),placeholder:"Enter amount",min:"1",step:"0.01",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Quick Select"}),t.jsx("div",{className:"grid grid-cols-5 gap-2",children:f.map(N=>t.jsxs("button",{onClick:()=>u(N.toString()),className:`px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold transition ${c===N.toString()?"bg-primary text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:["",N]},N))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description (Optional)"}),t.jsx("input",{type:"text",value:m,onChange:N=>x(N.target.value),placeholder:"Add a note for this transaction",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Current Balance:"}),t.jsxs("span",{className:"font-bold text-slate-800",children:["",w.toLocaleString("en-IN")]})]}),c&&parseFloat(c)>0&&t.jsxs("div",{className:"flex items-center justify-between text-sm mt-2",children:[t.jsx("span",{className:"text-slate-600",children:"After Top-up:"}),t.jsxs("span",{className:"font-bold text-green-600",children:["",(w+parseFloat(c)).toLocaleString("en-IN")]})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{onClick:j,disabled:h||!c||parseFloat(c)<=0,className:"flex-1 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Processing...":"Top Up"}),t.jsx("button",{onClick:()=>{d(!1),u(""),x("")},className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"})]})]})]})})]})},fke=({member:e,partner:r,onClose:s})=>{var f;const a=g.useRef(null),[n,i]=g.useState(!1),l=async()=>{var C;const b=(C=a.current)==null?void 0:C.querySelector("svg");let j="";if(b){const _=new XMLSerializer().serializeToString(b),A=new Blob([_],{type:"image/svg+xml;charset=utf-8"}),D=URL.createObjectURL(A),H=new Image;await new Promise(re=>{H.onload=()=>{const xe=document.createElement("canvas");xe.width=H.width,xe.height=H.height,xe.getContext("2d").drawImage(H,0,0),j=xe.toDataURL("image/png"),URL.revokeObjectURL(D),re()},H.onerror=()=>re(),H.src=D})}const w=a.current;if(!w)return;const y=w.cloneNode(!0);n&&y.classList.add("id-card-cut");const v=(_,A)=>{const D=window.getComputedStyle(_);Array.from(D).forEach(H=>{A.style.setProperty(H,D.getPropertyValue(H),D.getPropertyPriority(H))})},N=y.querySelectorAll("*"),S=w.querySelectorAll("*");if(N.forEach((_,A)=>{S[A]&&v(S[A],_)}),v(w,y),j){const _=y.querySelector("svg");if(_&&_.parentNode){const A=document.createElement("img");A.src=j,A.style.width="65px",A.style.height="65px",A.style.display="block",_.parentNode.replaceChild(A,_)}}const k=window.open("","_blank"),P=y.outerHTML;k.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Team Member ID Card - Nexo</title>
          <style>
            @media print {
              @page {
                size: A4;
                margin: 0;
              }
              body {
                margin: 0;
                padding: 0;
                display: flex;
                justify-content: center;
                align-items: flex-start;
                min-height: 100vh;
                padding-top: 30px;
              }
              .id-card {
                transform: scale(1.8);
                transform-origin: top center;
                margin: 0 auto;
              }
            }
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
              background: #f5f5f5;
            }
            .id-card {
              width: 85.6mm;
              height: 53.98mm;
              background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
              border-radius: 12px;
              padding: 10px;
              box-shadow: 0 10px 40px rgba(79, 70, 229, 0.4);
              position: relative;
              overflow: hidden;
            }
            .id-card-cut {
              height: 70mm;
              overflow: visible;
            }
            .id-card-cut::after {
              content: '';
              position: absolute;
              bottom: 16mm;
              left: 5mm;
              right: 5mm;
              height: 1px;
              border-top: 1px dashed rgba(255,255,255,0.6);
            }
            .id-card::before {
              content: '';
              position: absolute;
              top: -50%;
              right: -50%;
              width: 200%;
              height: 200%;
              background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%);
            }
            .id-card::after {
              content: '';
              position: absolute;
              bottom: 0;
              left: 0;
              right: 0;
              height: 3px;
              background: linear-gradient(90deg, #4F46E5 0%, #7C3AED 50%, #4F46E5 100%);
            }
            .id-card-content {
              position: relative;
              z-index: 1;
              display: flex;
              height: 100%;
              background: white;
              border-radius: 8px;
              padding: 8px;
              box-shadow: inset 0 0 20px rgba(79, 70, 229, 0.1);
            }
            .id-card-cut .id-card-content {
              height: calc(100% - 16mm);
              margin-bottom: 16mm;
            }
            .id-card-tear-section {
              position: absolute;
              bottom: 0;
              left: 0;
              right: 0;
              height: 16mm;
              background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
              border-radius: 0 0 12px 12px;
              padding: 4px 8px;
              display: flex;
              flex-direction: column;
              justify-content: center;
              align-items: center;
              gap: 2px;
              z-index: 5;
              font-size: 6px;
              color: rgba(255,255,255,0.9);
              text-align: center;
            }
            .id-card-left {
              flex: 1;
              display: flex;
              flex-direction: column;
              justify-content: space-between;
              padding-right: 8px;
            }
            .id-card-header {
              display: flex;
              align-items: center;
              gap: 6px;
              margin-bottom: 6px;
              padding-bottom: 6px;
              border-bottom: 2px solid #4F46E5;
            }
            .id-card-logo {
              width: 28px;
              height: 28px;
              background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
              border-radius: 4px;
              display: flex;
              align-items: center;
              justify-content: center;
              color: white;
              font-weight: 800;
              font-size: 11px;
              letter-spacing: 0.5px;
            }
            .id-card-title {
              font-size: 9px;
              font-weight: 800;
              color: #4F46E5;
              text-transform: uppercase;
              letter-spacing: 1.2px;
            }
            .id-card-photo {
              width: 65px;
              height: 65px;
              border-radius: 8px;
              border: 3px solid #4F46E5;
              object-fit: cover;
              margin: 6px 0;
              box-shadow: 0 2px 8px rgba(79, 70, 229, 0.2);
            }
            .id-card-name {
              font-size: 15px;
              font-weight: 800;
              color: #1a202c;
              margin-bottom: 4px;
              letter-spacing: 0.3px;
            }
            .id-card-details {
              font-size: 8.5px;
              color: #4a5568;
              line-height: 1.5;
            }
            .id-card-detail-item {
              margin-bottom: 3px;
              display: flex;
              align-items: center;
              gap: 4px;
            }
            .id-card-detail-item strong {
              color: #4F46E5;
              font-weight: 700;
              min-width: 45px;
            }
            .id-card-right {
              width: 85px;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              gap: 6px;
              border-left: 2px dashed #e2e8f0;
              padding-left: 8px;
            }
            .id-card-qr {
              width: 75px;
              height: 75px;
              padding: 5px;
              background: white;
              border-radius: 6px;
              border: 2px solid #4F46E5;
              display: flex;
              align-items: center;
              justify-content: center;
              box-shadow: 0 2px 8px rgba(79, 70, 229, 0.15);
            }
            .id-card-verified {
              font-size: 7px;
              color: #48bb78;
              text-align: center;
              font-weight: 700;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 3px;
              background: #f0fdf4;
              padding: 3px 6px;
              border-radius: 4px;
              border: 1px solid #86efac;
            }
            .id-card-id {
              font-size: 7.5px;
              color: #4F46E5;
              text-align: center;
              font-weight: 700;
              letter-spacing: 0.5px;
            }
            .id-card-footer {
              font-size: 6.5px;
              color: #718096;
              text-align: center;
              margin-top: 2px;
            }
          </style>
        </head>
        <body>
          ${P}
        </body>
      </html>
    `),k.document.close(),setTimeout(()=>{k.print()},250)},o=(e._id||e.id||"").toString().slice(-8).toUpperCase(),d=`${window.location.origin}/verify/team-member/${e._id||e.id}`,c=e.name||"Team Member",u=e.phone||"N/A",m=e.city||"N/A",x=(e.role||"technician").toUpperCase(),h=e.profilePicture?e.profilePicture.startsWith("http")?e.profilePicture:`https://nexo.works/${e.profilePicture}`:null,p=((f=e.kyc)==null?void 0:f.status)==="approved"||e.status==="active";return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-lg w-full",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-primary mb-1",children:"Team Member ID Card"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Professional identification card with QR verification"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>i(!n),className:`px-4 py-2 rounded-lg font-semibold transition flex items-center gap-2 ${n?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,title:n?"Switch to Regular Card":"Switch to Cut Card",children:[t.jsx(HZ,{}),n?"Cut Card":"Regular Card"]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"text-xl"})})]})]}),t.jsx("div",{className:"flex justify-center mb-6 bg-gradient-to-br from-slate-50 to-slate-100 p-8 rounded-xl",children:t.jsxs("div",{ref:a,className:"id-card",style:{width:"85.6mm",height:n?"70mm":"53.98mm",background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",borderRadius:"12px",padding:"10px",boxShadow:"0 10px 40px rgba(79, 70, 229, 0.4)",position:"relative",overflow:n?"visible":"hidden"},children:[n&&t.jsx("div",{style:{position:"absolute",bottom:"16mm",left:"5mm",right:"5mm",height:"1px",borderTop:"1px dashed #fff",opacity:.6,zIndex:10}}),n&&t.jsxs("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"16mm",background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",borderRadius:"0 0 12px 12px",padding:"4px 8px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"2px",zIndex:5},children:[t.jsx("div",{style:{fontSize:"6px",color:"rgba(255,255,255,0.9)",fontWeight:600,textAlign:"center",letterSpacing:"0.5px"},children:"TEAR HERE"}),t.jsx("div",{style:{fontSize:"5.5px",color:"rgba(255,255,255,0.7)",textAlign:"center",marginTop:"2px"},children:o}),t.jsx("div",{style:{fontSize:"5px",color:"rgba(255,255,255,0.6)",textAlign:"center",marginTop:"1px"},children:"Keep this section for records"})]}),t.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 20% 20%, rgba(255,255,255,0.15) 0%, transparent 50%)",pointerEvents:"none"}}),t.jsxs("div",{className:"id-card-content",style:{position:"relative",zIndex:1,display:"flex",height:"100%",background:"white",borderRadius:"8px",padding:"8px",boxShadow:"inset 0 0 20px rgba(79, 70, 229, 0.1)"},children:[t.jsx("div",{className:"id-card-left",style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",paddingRight:"8px"},children:t.jsxs("div",{children:[t.jsxs("div",{className:"id-card-header",style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"6px",paddingBottom:"6px",borderBottom:"2px solid #4F46E5"},children:[t.jsx("div",{className:"id-card-logo",style:{width:"28px",height:"28px",background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:800,fontSize:"11px",letterSpacing:"0.5px"},children:"NEXO"}),t.jsx("div",{className:"id-card-title",style:{fontSize:"9px",fontWeight:800,color:"#4F46E5",textTransform:"uppercase",letterSpacing:"1.2px"},children:"Team Member"})]}),h?t.jsx("img",{src:h,alt:c,className:"id-card-photo",style:{width:"65px",height:"65px",borderRadius:"8px",border:"3px solid #4F46E5",objectFit:"cover",margin:"6px 0",boxShadow:"0 2px 8px rgba(79, 70, 229, 0.2)"}}):t.jsx("div",{className:"id-card-photo",style:{width:"65px",height:"65px",borderRadius:"8px",border:"3px solid #4F46E5",background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"24px",margin:"6px 0",boxShadow:"0 2px 8px rgba(79, 70, 229, 0.2)"},children:c.charAt(0).toUpperCase()}),t.jsx("div",{className:"id-card-name",style:{fontSize:"15px",fontWeight:800,color:"#1a202c",marginBottom:"4px",letterSpacing:"0.3px"},children:c}),t.jsxs("div",{className:"id-card-details",style:{fontSize:"8.5px",color:"#4a5568",lineHeight:1.5},children:[t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#4F46E5",fontWeight:700,minWidth:"45px"},children:"ID:"}),t.jsx("span",{children:o})]}),t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#4F46E5",fontWeight:700,minWidth:"45px"},children:"Role:"}),t.jsx("span",{children:x})]}),t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#4F46E5",fontWeight:700,minWidth:"45px"},children:"Phone:"}),t.jsx("span",{children:u})]}),m!=="N/A"&&t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#4F46E5",fontWeight:700,minWidth:"45px"},children:"City:"}),t.jsx("span",{children:m})]})]})]})}),t.jsxs("div",{className:"id-card-right",style:{width:"85px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"6px",borderLeft:"2px dashed #e2e8f0",paddingLeft:"8px"},children:[t.jsx("div",{className:"id-card-qr",style:{width:"75px",height:"75px",padding:"5px",background:"white",borderRadius:"6px",border:"2px solid #4F46E5",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(79, 70, 229, 0.15)"},children:t.jsx(l6,{value:d,size:65,level:"H",includeMargin:!1})}),p&&t.jsxs("div",{className:"id-card-verified",style:{fontSize:"7px",color:"#48bb78",textAlign:"center",fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",gap:"3px",background:"#f0fdf4",padding:"3px 6px",borderRadius:"4px",border:"1px solid #86efac"},children:[t.jsx(vt,{style:{fontSize:"8px"}}),"Verified"]}),t.jsx("div",{className:"id-card-id",style:{fontSize:"7.5px",color:"#4F46E5",textAlign:"center",fontWeight:700,letterSpacing:"0.5px"},children:"Scan to Verify"}),t.jsx("div",{className:"id-card-footer",style:{fontSize:"6.5px",color:"#718096",textAlign:"center",marginTop:"2px"},children:"nexo.works"})]})]})]})}),t.jsxs("div",{className:"flex gap-3 justify-center mt-6",children:[t.jsxs("button",{onClick:l,className:"px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2 shadow-lg",children:[t.jsx(km,{})," Print ID Card"]}),t.jsxs("button",{onClick:s,className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center gap-2",children:[t.jsx(mt,{})," Close"]})]}),t.jsx("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg border border-indigo-200",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(kn,{className:"text-indigo-600 text-xl flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-indigo-600 mb-1",children:"Verification Features"}),t.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[t.jsx("li",{children:" QR code links to public verification page"}),t.jsx("li",{children:" Anyone can scan to verify team member status"}),t.jsx("li",{children:" Shows verification status and credentials"}),t.jsx("li",{children:" Professional ID card format for printing"})]})]})]})})]})})},gke=()=>{const{token:e}=dn(),[r,s]=g.useState([]),[a,n]=g.useState(!1),[i,l]=g.useState(null),[o,d]=g.useState(!1),[c,u]=g.useState(null),[m,x]=g.useState({}),[h,p]=g.useState({}),[f,b]=g.useState(null);g.useEffect(()=>{e&&(j(),w(),y())},[e]);const j=async()=>{if(e){d(!0);try{const M=await ut.getTeamMembers(e),U=(M==null?void 0:M.data)||M||[];s(Array.isArray(U)?U:[])}catch(M){console.error("Failed to fetch team members:",M),s([])}finally{d(!1)}}},w=async()=>{try{const M=await ut.getAvailableHubs(e),U=(M==null?void 0:M.data)||M||[];H(Array.isArray(U)?U:[])}catch(M){console.error("Failed to fetch hubs:",M),H([])}},y=async()=>{try{const M=await ut.getCategories(e),U=(M==null?void 0:M.categories)||(M==null?void 0:M.data)||M||[];xe(Array.isArray(U)?U:[])}catch(M){console.error("Failed to fetch categories:",M),xe([])}},[v,N]=g.useState({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),[S,k]=g.useState(null),[P,C]=g.useState({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),[_,A]=g.useState({}),[D,H]=g.useState([]),[re,xe]=g.useState([]),[we,T]=g.useState(!1),z=async()=>{if(!v.name||!v.phone){alert("Please fill in all required fields");return}if(!e){alert("Authentication required");return}d(!0);try{const M={...v,profilePicture:v.profilePicture,kycData:P},U=await ut.addTeamMember(e,M);U.success?(await j(),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),k(null),C({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),n(!1),T(!1),alert("Team member added successfully!")):alert(U.message||"Failed to add team member")}catch(M){console.error("Failed to add team member:",M),alert(M.message||"Failed to add team member")}finally{d(!1)}},Q=M=>{l(M),N({name:M.name||"",email:M.email||"",phone:M.phone||"",whatsappNumber:M.whatsappNumber||"",qualification:M.qualification||"",experience:M.experience||"",address:M.address||"",city:M.city||"",pincode:M.pincode||"",role:M.role||"technician",profilePicture:null,categories:M.categories||[],categoryNames:M.categoryNames||[],hubs:M.hubs||[]}),k(M.profilePicture||null),C(M.kycData||{panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A(M.kyc||{}),n(!0)},B=M=>{const U=M.target.files[0];if(U){N({...v,profilePicture:U});const q=new FileReader;q.onloadend=()=>{k(q.result)},q.readAsDataURL(U)}},L=(M,U)=>{if(U){C(G=>({...G,[M]:U}));const q=new FileReader;q.onloadend=()=>{A(G=>({...G,[M]:q.result}))},q.readAsDataURL(U)}},R=(M,U)=>{(v.categories||[]).includes(M)?N(G=>({...G,categories:(G.categories||[]).filter(Y=>Y!==M),categoryNames:(G.categoryNames||[]).filter(Y=>Y!==U)})):N(G=>({...G,categories:[...G.categories||[],M],categoryNames:[...G.categoryNames||[],U]}))},Z=M=>{(v.hubs||[]).includes(M)?N(q=>({...q,hubs:(q.hubs||[]).filter(G=>G!==M)})):N(q=>({...q,hubs:[...q.hubs||[],M]}))},W=async()=>{if(!v.name||!v.phone){alert("Please fill in all required fields");return}if(!e||!i){alert("Authentication required");return}const M=i._id||i.id;if(!M){alert("Invalid team member");return}d(!0);try{const U={...v,profilePicture:v.profilePicture,kycData:P},q=await ut.updateTeamMember(e,M,U);q.success?(await j(),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),k(null),C({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),l(null),n(!1),T(!1),alert("Team member updated successfully!")):alert(q.message||"Failed to update team member")}catch(U){console.error("Failed to update team member:",U),alert(U.message||"Failed to update team member")}finally{d(!1)}},ie=async M=>{if(!window.confirm("Are you sure you want to remove this team member?"))return;if(!e){alert("Authentication required");return}const U=M._id||M.id;if(!U){alert("Invalid team member");return}d(!0);try{const q=await ut.deleteTeamMember(e,U);q.success?(await j(),alert("Team member deleted successfully!")):alert(q.message||"Failed to delete team member")}catch(q){console.error("Failed to delete team member:",q),alert(q.message||"Failed to delete team member")}finally{d(!1)}},ae=async M=>{const U=M._id||M.id;if(!(!U||!e)){if(m[U]){u(M);return}p(q=>({...q,[U]:!0}));try{const q=await ut.getTeamMemberActivities(e,U),G=(q==null?void 0:q.data)||q||[];x(Y=>({...Y,[U]:G})),u(M)}catch(q){console.error("Failed to fetch activities:",q),x(G=>({...G,[U]:[]})),u(M)}finally{p(q=>({...q,[U]:!1}))}}};return t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Team Members"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your team members and technicians"})]}),t.jsxs("button",{onClick:()=>{l(null),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),k(null),C({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),T(!1),n(!0)},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2 text-sm sm:text-base self-start sm:self-auto",children:[t.jsx(tg,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Add Team Member"}),t.jsx("span",{className:"sm:hidden",children:"Add Member"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Total Members"}),t.jsx(Nr,{className:"text-primary text-lg sm:text-xl"})]}),t.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:r.length})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Active Members"}),t.jsx(Nr,{className:"text-green-600 text-lg sm:text-xl"})]}),t.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-green-600",children:r.filter(M=>M.status==="active").length})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Technicians"}),t.jsx(Nr,{className:"text-blue-600 text-lg sm:text-xl"})]}),t.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-blue-600",children:r.filter(M=>M.role==="technician").length})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden",children:[r.length>0&&t.jsx("div",{className:"p-3 sm:p-4 border-b border-slate-200 flex items-center justify-end",children:t.jsxs("button",{onClick:()=>{const M=r.map(U=>{var q;return{Name:U.name||"N/A",Phone:U.phone||"N/A",Email:U.email||"N/A",WhatsApp:U.whatsappNumber||"N/A",Role:U.role||"N/A",Status:U.status||"N/A",Qualification:U.qualification||"N/A",Experience:U.experience||"N/A",Address:U.address||"N/A",City:U.city||"N/A",Pincode:U.pincode||"N/A",Categories:((q=U.categoryNames)==null?void 0:q.join(", "))||"N/A","Joined Date":U.joinedDate?new Date(U.joinedDate).toLocaleDateString("en-IN"):"N/A"}});Wd(M,[{header:"Name",accessor:"Name"},{header:"Phone",accessor:"Phone"},{header:"Email",accessor:"Email"},{header:"WhatsApp",accessor:"WhatsApp"},{header:"Role",accessor:"Role"},{header:"Status",accessor:"Status"},{header:"Qualification",accessor:"Qualification"},{header:"Experience",accessor:"Experience"},{header:"Address",accessor:"Address"},{header:"City",accessor:"City"},{header:"Pincode",accessor:"Pincode"},{header:"Categories",accessor:"Categories"},{header:"Joined Date",accessor:"Joined Date"}],"Team_Members","Team Members",{columnWidths:[20,15,25,15,12,12,20,15,30,15,10,30,15]})},className:"px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-semibold bg-primary text-white hover:bg-primary-dark transition inline-flex items-center gap-2",title:"Export to Excel",type:"button",children:[t.jsx(In,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Export Excel"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})}),r.length===0?t.jsxs("div",{className:"p-12 text-center text-slate-500",children:[t.jsx(Nr,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"mb-4",children:"No team members added yet"}),t.jsx("button",{onClick:()=>{l(null),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),k(null),C({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),T(!1),n(!0)},className:"px-6 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition",children:"Add Your First Team Member"})]}):o?t.jsx("div",{className:"p-12 text-center text-slate-500",children:t.jsx("p",{children:"Loading team members..."})}):t.jsx("div",{className:"divide-y divide-slate-200",children:r.map(M=>{const U=M._id||M.id,q=M.categoryNames||M.categories&&M.categories.map(Y=>typeof Y=="object"?Y.name:Y)||[],G=M.hubs||[];return t.jsx("div",{className:"p-3 sm:p-4 hover:bg-slate-50 transition",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 flex-1 min-w-0",children:[M.profilePicture?t.jsx("img",{src:M.profilePicture,alt:M.name,className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full object-cover border-2 border-primary/20 flex-shrink-0"}):t.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-lg sm:text-xl border-2 border-primary/20 flex-shrink-0",children:M.name.charAt(0).toUpperCase()}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-2",children:[t.jsx("h3",{className:"text-base sm:text-lg font-bold text-slate-800 truncate",children:M.name}),t.jsx("span",{className:"px-2 py-1 bg-slate-100 rounded text-xs font-semibold whitespace-nowrap",children:M.role||"technician"}),M.kyc&&t.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs font-semibold flex items-center gap-1 whitespace-nowrap",children:[t.jsx(kn,{className:"text-xs"}),"KYC"]}),M.status==="active"&&t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs font-semibold whitespace-nowrap",children:"Active"})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 text-xs sm:text-sm text-slate-600 mb-2",children:[M.email&&t.jsxs("span",{className:"flex items-center gap-1 truncate max-w-full",children:[t.jsx(sn,{className:"text-xs flex-shrink-0"}),t.jsx("span",{className:"truncate",children:M.email})]}),M.phone&&t.jsxs("span",{className:"flex items-center gap-1 whitespace-nowrap",children:[t.jsx(an,{className:"text-xs flex-shrink-0"}),M.phone]}),M.city&&t.jsxs("span",{className:"flex items-center gap-1 whitespace-nowrap",children:[t.jsx(Er,{className:"text-xs flex-shrink-0"}),M.city]})]}),q.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:q.map((Y,oe)=>t.jsxs("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded text-xs font-medium flex items-center gap-1",children:[t.jsx(f4,{className:"text-xs flex-shrink-0"}),t.jsx("span",{className:"truncate",children:typeof Y=="object"?Y.name:Y})]},oe))}),G.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:G.map((Y,oe)=>{var ne,ce;const Be=typeof Y=="object"?Y.name:((ne=D.find(pe=>(pe._id||pe.id)===Y))==null?void 0:ne.name)||Y,fe=typeof Y=="object"?Y.city:((ce=D.find(pe=>(pe._id||pe.id)===Y))==null?void 0:ce.city)||"";return t.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium flex items-center gap-1",children:[t.jsx(h4,{className:"text-xs flex-shrink-0"}),t.jsxs("span",{className:"truncate",children:[Be," ",fe&&`(${fe})`]})]},oe)})})]}),t.jsx("div",{className:"hidden lg:block opacity-40 flex-shrink-0",children:t.jsx(ni,{className:"scale-50"})})]}),t.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-wrap sm:flex-nowrap flex-shrink-0 self-start sm:self-auto",children:[t.jsx("button",{onClick:()=>b(M),className:"p-2 hover:bg-green-50 rounded-lg text-green-600 transition flex-shrink-0",title:"View ID Card",type:"button",children:t.jsx(fs,{className:"text-base sm:text-lg"})}),t.jsx("button",{onClick:()=>ae(M),className:"p-2 hover:bg-purple-50 rounded-lg text-purple-600 transition flex-shrink-0",title:"View Activities",type:"button",children:t.jsx(Yc,{className:"text-base sm:text-lg"})}),t.jsx("button",{onClick:()=>Q(M),className:"p-2 hover:bg-blue-50 rounded-lg text-blue-600 transition flex-shrink-0",title:"Edit Member",type:"button",children:t.jsx(gs,{className:"text-base sm:text-lg"})}),t.jsx("button",{onClick:()=>ie(M),className:"p-2 hover:bg-red-50 rounded-lg text-red-600 transition flex-shrink-0",title:"Delete Member",type:"button",children:t.jsx(la,{className:"text-base sm:text-lg"})})]})]})},U)})})]}),a&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-3 sm:p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full p-4 sm:p-6 my-auto max-h-[95vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:i?"Edit Team Member":"Add Team Member"}),t.jsx("button",{onClick:()=>{n(!1),l(null),N({name:"",email:"",phone:"",role:"technician",profilePicture:null}),k(null)},className:"p-2 hover:bg-slate-100 rounded-lg transition flex-shrink-0",type:"button",children:t.jsx(mt,{className:"text-lg sm:text-xl"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Profile Picture"}),t.jsxs("div",{className:"flex items-center gap-4",children:[S?t.jsx("img",{src:S,alt:"Preview",className:"w-20 h-20 rounded-full object-cover border-2 border-primary/20"}):t.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-2xl border-2 border-primary/20",children:v.name?v.name.charAt(0).toUpperCase():"?"}),t.jsxs("label",{className:"px-4 py-2 bg-primary text-white rounded-lg cursor-pointer hover:bg-primary-dark transition flex items-center gap-2",children:[t.jsx(b0,{}),S?"Change":"Upload"," Photo",t.jsx("input",{type:"file",accept:"image/*",onChange:B,className:"hidden"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:v.name,onChange:M=>N({...v,name:M.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter name"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Phone ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"tel",value:v.phone,onChange:M=>N({...v,phone:M.target.value.replace(/\D/g,"").slice(0,10)}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number",maxLength:10})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email"}),t.jsx("input",{type:"email",value:v.email,onChange:M=>N({...v,email:M.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"WhatsApp Number"}),t.jsx("input",{type:"tel",value:v.whatsappNumber,onChange:M=>N({...v,whatsappNumber:M.target.value.replace(/\D/g,"").slice(0,10)}),className:"w-full px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"WhatsApp number"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Qualification"}),t.jsx("input",{type:"text",value:v.qualification,onChange:M=>N({...v,qualification:M.target.value}),className:"w-full px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Qualification"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Experience (Years)"}),t.jsx("input",{type:"number",value:v.experience,onChange:M=>N({...v,experience:M.target.value}),className:"w-full px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Years"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),t.jsx("input",{type:"text",value:v.city,onChange:M=>N({...v,city:M.target.value}),className:"w-full px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"City"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Address"}),t.jsx("textarea",{value:v.address,onChange:M=>N({...v,address:M.target.value}),rows:2,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Full address"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:v.pincode,onChange:M=>N({...v,pincode:M.target.value.replace(/\D/g,"").slice(0,6)}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"6-digit pincode",maxLength:6})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Categories"}),t.jsx("div",{className:"max-h-40 overflow-y-auto p-3 bg-slate-50 rounded-lg border border-slate-200 grid grid-cols-1 sm:grid-cols-2 gap-2",children:re.length>0?re.map(M=>{const U=(v.categories||[]).includes(M._id||M.id);return t.jsxs("label",{className:`flex items-center gap-2 p-2 rounded cursor-pointer border-2 transition ${U?"bg-primary/10 border-primary":"bg-white border-slate-200 hover:border-primary/50"}`,children:[t.jsx("input",{type:"checkbox",checked:U,onChange:()=>R(M._id||M.id,M.name),className:"w-4 h-4 text-primary rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-medium text-slate-800",children:M.name})]},M._id||M.id)}):t.jsx("div",{className:"col-span-2 text-center text-sm text-slate-500 py-4",children:"No service categories available"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Hubs"}),t.jsx("div",{className:"max-h-40 overflow-y-auto p-3 bg-slate-50 rounded-lg border border-slate-200 space-y-2",children:D.length>0?D.map(M=>{const U=(v.hubs||[]).includes(M._id||M.id);return t.jsxs("label",{className:`flex items-center justify-between p-2 rounded cursor-pointer border-2 transition ${U?"bg-primary/10 border-primary":"bg-white border-slate-200 hover:border-primary/50"}`,children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-slate-800",children:M.name}),t.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:[M.city,", ",M.state]})]}),t.jsx("input",{type:"checkbox",checked:U,onChange:()=>Z(M._id||M.id),className:"w-4 h-4 text-primary rounded focus:ring-primary"})]},M._id||M.id)}):t.jsx("div",{className:"text-center text-sm text-slate-500 py-4",children:"No service hubs available"})})]}),t.jsx("div",{children:t.jsxs("button",{type:"button",onClick:()=>T(!we),className:"w-full px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center justify-between",children:[t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(kn,{}),"KYC Documents ",we?"(Hide)":"(Show)"]}),t.jsx("span",{children:we?"":"+"})]})}),we&&t.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsx("h4",{className:"font-semibold text-slate-800",children:"KYC Documents"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"PAN Card"}),_.panCard&&t.jsx("img",{src:_.panCard,alt:"PAN",className:"w-full h-20 object-cover rounded mb-1"}),t.jsxs("label",{className:"block w-full px-3 py-2 border-2 border-dashed border-slate-300 rounded cursor-pointer hover:border-primary transition text-center text-xs",children:[t.jsx(Gt,{className:"inline mr-1"}),_.panCard?"Change":"Upload"," PAN",t.jsx("input",{type:"file",accept:"image/*",onChange:M=>L("panCard",M.target.files[0]),className:"hidden"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Aadhaar Front"}),_.aadhaar&&t.jsx("img",{src:_.aadhaar,alt:"Aadhaar",className:"w-full h-20 object-cover rounded mb-1"}),t.jsxs("label",{className:"block w-full px-3 py-2 border-2 border-dashed border-slate-300 rounded cursor-pointer hover:border-primary transition text-center text-xs",children:[t.jsx(Gt,{className:"inline mr-1"}),_.aadhaar?"Change":"Upload"," Aadhaar",t.jsx("input",{type:"file",accept:"image/*",onChange:M=>L("aadhaar",M.target.files[0]),className:"hidden"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Aadhaar Back"}),_.aadhaarback&&t.jsx("img",{src:_.aadhaarback,alt:"Aadhaar Back",className:"w-full h-20 object-cover rounded mb-1"}),t.jsxs("label",{className:"block w-full px-3 py-2 border-2 border-dashed border-slate-300 rounded cursor-pointer hover:border-primary transition text-center text-xs",children:[t.jsx(Gt,{className:"inline mr-1"}),_.aadhaarback?"Change":"Upload"," Aadhaar Back",t.jsx("input",{type:"file",accept:"image/*",onChange:M=>L("aadhaarback",M.target.files[0]),className:"hidden"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Cheque"}),_.chequeImage&&t.jsx("img",{src:_.chequeImage,alt:"Cheque",className:"w-full h-20 object-cover rounded mb-1"}),t.jsxs("label",{className:"block w-full px-3 py-2 border-2 border-dashed border-slate-300 rounded cursor-pointer hover:border-primary transition text-center text-xs",children:[t.jsx(Gt,{className:"inline mr-1"}),_.chequeImage?"Change":"Upload"," Cheque",t.jsx("input",{type:"file",accept:"image/*",onChange:M=>L("chequeImage",M.target.files[0]),className:"hidden"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Account Number"}),t.jsx("input",{type:"text",value:P.accountNumber,onChange:M=>C({...P,accountNumber:M.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"IFSC Code"}),t.jsx("input",{type:"text",value:P.ifscCode,onChange:M=>C({...P,ifscCode:M.target.value.toUpperCase()}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm"})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[t.jsx("button",{onClick:i?W:z,disabled:o,className:"flex-1 py-2.5 sm:py-3 bg-primary text-white rounded-lg text-sm sm:text-base font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:o?"Processing...":(i?"Update":"Add")+" Member"}),t.jsx("button",{onClick:()=>{n(!1),l(null),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),k(null),C({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),T(!1)},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg text-sm sm:text-base font-semibold hover:bg-slate-200 transition",type:"button",children:"Cancel"})]})]})]})}),f&&t.jsx(fke,{member:f,partner:null,onClose:()=>b(null)}),c&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-3 sm:p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full p-4 sm:p-6 my-auto max-h-[95vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800 truncate",children:[c.name,"'s Activities"]}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mt-1",children:"View all bookings and activities"})]}),t.jsx("button",{onClick:()=>u(null),className:"p-2 hover:bg-slate-100 rounded-lg transition flex-shrink-0 self-end sm:self-auto",type:"button",children:t.jsx(mt,{className:"text-lg sm:text-xl"})})]}),h[c._id||c.id]?t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-slate-500",children:"Loading activities..."})}):t.jsx("div",{className:"space-y-4",children:(()=>{const M=c._id||c.id,U=m[M]||[];return U.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-500",children:[t.jsx(Yc,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No activities found for this team member"})]}):U.map((q,G)=>{var Y,oe;return t.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 hover:bg-slate-50 transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold text-slate-800",children:((Y=q.subService)==null?void 0:Y.name)||((oe=q.service)==null?void 0:oe.name)||"Service"}),q.user&&t.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Customer: ",q.user.name," (",q.user.phone,")"]})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${q.status==="completed"?"bg-green-100 text-green-800":q.status==="in_progress"?"bg-blue-100 text-blue-800":q.status==="accepted"?"bg-purple-100 text-purple-800":"bg-slate-100 text-slate-800"}`,children:q.status})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mt-3 text-xs sm:text-sm",children:[q.scheduledDate&&t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Scheduled Date"}),t.jsx("p",{className:"font-medium",children:new Date(q.scheduledDate).toLocaleDateString()})]}),q.scheduledTime&&t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Time"}),t.jsx("p",{className:"font-medium",children:q.scheduledTime})]}),q.amount&&t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Amount"}),t.jsxs("p",{className:"font-medium",children:["",q.amount]})]}),q.completedAt&&t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Completed"}),t.jsx("p",{className:"font-medium",children:new Date(q.completedAt).toLocaleDateString()})]})]}),q.location&&t.jsxs("div",{className:"mt-3 text-sm",children:[t.jsx("p",{className:"text-slate-500",children:"Location"}),t.jsxs("p",{className:"font-medium",children:[q.location.address,", ",q.location.city," - ",q.location.pincode]})]})]},G)})})()})]})})]})},yke=({booking:e,onClose:r,onComplete:s,token:a})=>{var y,v,N;const[n,i]=g.useState([]),[l,o]=g.useState([]),[d,c]=g.useState(""),[u,m]=g.useState(!1),[x,h]=g.useState(null),p=S=>{const k=Array.from(S.target.files);i(P=>[...P,...k])},f=S=>{const k=Array.from(S.target.files);o(P=>[...P,...k])},b=S=>{i(k=>k.filter((P,C)=>C!==S))},j=S=>{o(k=>k.filter((P,C)=>C!==S))},w=async S=>{if(S.preventDefault(),h(null),n.length===0&&l.length===0){h("Please upload at least one photo or video");return}m(!0);try{const k=new FormData;n.forEach(P=>{k.append("photos",P)}),l.forEach(P=>{k.append("videos",P)}),d.trim()&&k.append("remark",d.trim()),await s(e._id||e.bookingId,k),r()}catch(k){h(k.message||"Failed to complete job")}finally{m(!1)}};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Complete Job"}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:u,children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[x&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:x}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[t.jsx("strong",{children:"Booking ID:"})," ",e.bookingId||((y=e._id)==null?void 0:y.toString().slice(-8))||"N/A"]}),t.jsxs("p",{className:"text-sm text-slate-600",children:[t.jsx("strong",{children:"Service:"})," ",((v=e.service)==null?void 0:v.name)||((N=e.subService)==null?void 0:N.name)||"N/A"]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Qf,{className:"inline mr-2"}),"Upload Photos ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition",children:[t.jsx(Ko,{className:"w-5 h-5 text-slate-600 mr-2"}),t.jsx("span",{className:"text-sm text-slate-600",children:"Click to upload photos"}),t.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:p,className:"hidden",disabled:u})]}),n.length>0&&t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:n.map((S,k)=>t.jsxs("div",{className:"relative group",children:[t.jsx("img",{src:URL.createObjectURL(S),alt:`Preview ${k+1}`,className:"w-full h-24 object-cover rounded-lg"}),t.jsx("button",{type:"button",onClick:()=>b(k),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition",children:t.jsx(mt,{className:"w-3 h-3"})})]},k))})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Ko,{className:"inline mr-2"}),"Upload Videos (Optional)"]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition",children:[t.jsx(Ko,{className:"w-5 h-5 text-slate-600 mr-2"}),t.jsx("span",{className:"text-sm text-slate-600",children:"Click to upload videos"}),t.jsx("input",{type:"file",accept:"video/*",multiple:!0,onChange:f,className:"hidden",disabled:u})]}),l.length>0&&t.jsx("div",{className:"space-y-2",children:l.map((S,k)=>t.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-2 rounded-lg",children:[t.jsx("span",{className:"text-sm text-slate-600 truncate flex-1",children:S.name}),t.jsx("button",{type:"button",onClick:()=>j(k),className:"ml-2 text-red-500 hover:text-red-700",children:t.jsx(mt,{className:"w-4 h-4"})})]},k))})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Gt,{className:"inline mr-2"}),"Remark (Optional)"]}),t.jsx("textarea",{value:d,onChange:S=>c(S.target.value),rows:4,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"Add any remarks or notes about the job completion...",disabled:u})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",disabled:u,children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:u||n.length===0&&l.length===0,children:u?"Completing...":"Complete Job"})]})]})]})})},bke=({booking:e,onClose:r,onPause:s,token:a})=>{var b,j,w;const[n,i]=g.useState(""),[l,o]=g.useState(""),[d,c]=g.useState(""),[u,m]=g.useState(!1),[x,h]=g.useState(null),p=async y=>{if(y.preventDefault(),h(null),!n||!l){h("Please provide both date and time for resuming the job");return}m(!0);try{await s(e._id||e.bookingId,{nextScheduledDate:n,nextScheduledTime:l,pauseReason:d.trim()||"Not specified"}),r()}catch(v){h(v.message||"Failed to pause job")}finally{m(!1)}},f=()=>{const y=new Date;return y.setDate(y.getDate()+1),y.toISOString().split("T")[0]};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Pause Job"}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:u,children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[x&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:x}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[t.jsx("strong",{children:"Booking ID:"})," ",e.bookingId||((b=e._id)==null?void 0:b.toString().slice(-8))||"N/A"]}),t.jsxs("p",{className:"text-sm text-slate-600",children:[t.jsx("strong",{children:"Service:"})," ",((j=e.service)==null?void 0:j.name)||((w=e.subService)==null?void 0:w.name)||"N/A"]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(qr,{className:"inline mr-2"}),"Next Scheduled Date ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",value:n,onChange:y=>i(y.target.value),min:f(),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,disabled:u})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(qr,{className:"inline mr-2"}),"Next Scheduled Time ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"time",value:l,onChange:y=>o(y.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,disabled:u})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Reason for Pausing (Optional)"}),t.jsx("textarea",{value:d,onChange:y=>c(y.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"e.g., Waiting for parts, Customer requested delay, etc.",disabled:u})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",disabled:u,children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-yellow-500 text-white rounded-lg font-semibold hover:bg-yellow-600 transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:u,children:u?"Pausing...":"Pause Job"})]})]})]})})},vke=({booking:e,onClose:r,onCreate:s,token:a})=>{var Y,oe,Be;const[n,i]=g.useState([{name:"",description:"",quantity:1,unitPrice:0,total:0}]),[l,o]=g.useState(0),[d,c]=g.useState(0),[u,m]=g.useState(0),[x,h]=g.useState(0),[p,f]=g.useState(""),[b,j]=g.useState(""),[w,y]=g.useState(""),[v,N]=g.useState(!1),[S,k]=g.useState(null),[P,C]=g.useState(!1),[_,A]=g.useState([]),[D,H]=g.useState("all"),[re,xe]=g.useState([]),[we,T]=g.useState(""),[z,Q]=g.useState(!1);g.useEffect(()=>{B()},[]),g.useEffect(()=>{D!=="all"&&L(D)},[D]),_t.useEffect(()=>{const fe=n.reduce((ce,pe)=>{const F=Number(pe.quantity)||0,ue=Number(pe.unitPrice)||0,J=F*ue;if(pe.total!==J){const be=[...n],ge=n.indexOf(pe);ge!==-1&&(be[ge]={...pe,total:J},i(be))}return ce+J},0);o(fe);const ne=fe+(Number(d)||0)-(Number(u)||0);h(ne)},[n,d,u]);const B=async()=>{try{const ne=await(await fetch("/api/public/material-categories")).json();ne.success&&A(ne.data||[])}catch(fe){console.error("Failed to fetch material categories:",fe)}},L=async fe=>{if(!fe||fe==="all"){xe([]);return}Q(!0);try{const ne=_.find(ce=>ce._id===fe);if(ne&&ne.items){const ce=ne.items.map((pe,F)=>({_id:`temp-${fe}-${F}`,name:typeof pe=="string"?pe:pe.name,description:typeof pe=="object"&&pe.description||"",sellingPrice:typeof pe=="object"&&(pe.priceMax||pe.priceMin)||0,priceMin:typeof pe=="object"&&pe.priceMin||0,priceMax:typeof pe=="object"&&pe.priceMax||0,category:ne.name,isFromCatalog:!0}));xe(ce)}else xe([])}catch(ne){console.error("Failed to fetch category items:",ne),xe([])}finally{Q(!1)}},R=()=>{i([...n,{name:"",description:"",quantity:1,unitPrice:0,total:0}])},Z=fe=>{const ne=n.findIndex(ce=>fe.isFromCatalog&&ce.name===fe.name&&ce.category===fe.category||!fe.isFromCatalog&&ce.materialId===fe._id);if(ne!==-1){const ce=[...n],pe=Number(ce[ne].quantity)||0,F=Number(ce[ne].unitPrice)||0;ce[ne].quantity=pe+1,ce[ne].total=ce[ne].quantity*F,i(ce)}else{const ce=Number(fe.sellingPrice||fe.priceMax||fe.priceMin)||0,pe={name:String(fe.name||"").trim(),description:String(fe.description||"").trim(),quantity:1,unitPrice:ce,total:ce,materialId:fe.isFromCatalog?null:fe._id,category:String(fe.category||"").trim()};i([...n,pe])}},W=(fe,ne)=>{const ce=n.findIndex(pe=>fe.isFromCatalog&&pe.name===fe.name&&pe.category===fe.category||!fe.isFromCatalog&&pe.materialId===fe._id);if(ce!==-1){const pe=[...n],F=Number(pe[ce].quantity)||0,ue=Number(pe[ce].unitPrice)||0,J=Math.max(1,F+ne);pe[ce].quantity=J,pe[ce].total=J*ue,i(pe)}},ie=fe=>{const ne=n.find(ce=>fe.isFromCatalog&&ce.name===fe.name&&ce.category===fe.category||!fe.isFromCatalog&&ce.materialId===fe._id);return ne?ne.quantity:0},ae=fe=>{n.length>1&&i(n.filter((ne,ce)=>ce!==fe))},M=(fe,ne,ce)=>{const pe=[...n];if((ne==="quantity"||ne==="unitPrice")&&(ce=Number(ce)||0),pe[fe][ne]=ce,ne==="quantity"||ne==="unitPrice"){const F=Number(pe[fe].quantity)||0,ue=Number(pe[fe].unitPrice)||0;pe[fe].total=F*ue}i(pe)},U=async fe=>{if(fe.preventDefault(),k(null),n.some(ce=>!ce.name||!String(ce.name).trim())){k("Please fill all item names");return}if(n.some(ce=>!ce.quantity||Number(ce.quantity)<=0)){k("Please ensure all items have valid quantities greater than 0");return}if(n.some(ce=>!ce.unitPrice||Number(ce.unitPrice)<=0)){k("Please ensure all items have valid unit prices greater than 0");return}if(!b){k("Please select a valid till date");return}if(Number(x)<=0){k("Total amount must be greater than 0");return}const ne=new Date(b);if(ne<=new Date){k("Valid till date must be in the future");return}N(!0);try{const ce={items:n.map(pe=>{const F={name:String(pe.name||"").trim(),description:String(pe.description||"").trim(),quantity:Number(pe.quantity)||1,unitPrice:Number(pe.unitPrice)||0,total:Number(pe.total)||0,materialId:pe.materialId&&/^[0-9a-fA-F]{24}$/.test(pe.materialId)?pe.materialId:null,category:String(pe.category||"").trim()};return console.log("Processing item for quotation:",pe.name,"originalMaterialId:",pe.materialId,"processedMaterialId:",F.materialId),F}),subtotal:Number(l)||0,tax:Number(d)||0,discount:Number(u)||0,totalAmount:Number(x)||0,description:String(p||"").trim(),validTill:ne.toISOString(),notes:String(w||"").trim()};console.log("Sending quotation data:",ce),await s(e._id||e.bookingId,ce),r()}catch(ce){k(ce.message||"Failed to create quotation")}finally{N(!1)}},q=()=>{const fe=new Date;return fe.setDate(fe.getDate()+1),fe.toISOString().split("T")[0]},G=re.filter(fe=>{var ne;return fe.name.toLowerCase().includes(we.toLowerCase())||((ne=fe.description)==null?void 0:ne.toLowerCase().includes(we.toLowerCase()))});return t.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Send Extra Quotation"}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:v,children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:U,className:"p-6 space-y-6",children:[S&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:S}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[t.jsx("strong",{children:"Booking ID:"})," ",e.bookingId||((Y=e._id)==null?void 0:Y.toString().slice(-8))||"N/A"]}),t.jsxs("p",{className:"text-sm text-slate-600",children:[t.jsx("strong",{children:"Service:"})," ",((oe=e.service)==null?void 0:oe.name)||((Be=e.subService)==null?void 0:Be.name)||"N/A"]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700",children:["Items ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{type:"button",onClick:()=>C(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg text-sm font-semibold hover:bg-green-700 transition inline-flex items-center gap-2",children:[t.jsx(Gr,{className:"w-4 h-4"})," Add from Materials"]}),t.jsxs("button",{type:"button",onClick:R,className:"px-3 py-1.5 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[t.jsx(ar,{className:"w-4 h-4"})," Add Manual Item"]})]})]}),t.jsx("div",{className:"space-y-3",children:n.map((fe,ne)=>t.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("h4",{className:"text-sm font-semibold text-slate-700",children:["Item ",ne+1]}),fe.materialId&&t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Material"}),fe.category&&t.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:fe.category})]}),n.length>1&&t.jsx("button",{type:"button",onClick:()=>ae(ne),className:"text-red-500 hover:text-red-700",children:t.jsx(la,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Item Name *"}),t.jsx("input",{type:"text",value:fe.name,onChange:ce=>M(ne,"name",ce.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"e.g., Spare Part, Additional Service",required:!0,disabled:v})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Quantity *"}),t.jsx("input",{type:"number",value:fe.quantity,onChange:ce=>M(ne,"quantity",parseFloat(ce.target.value)||0),min:"1",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",required:!0,disabled:v})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Unit Price () *"}),t.jsx("input",{type:"number",value:fe.unitPrice,onChange:ce=>M(ne,"unitPrice",parseFloat(ce.target.value)||0),min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",required:!0,disabled:v})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Total ()"}),t.jsx("input",{type:"number",value:fe.total.toFixed(2),readOnly:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg bg-slate-50 text-sm"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Description"}),t.jsx("textarea",{value:fe.description,onChange:ce=>M(ne,"description",ce.target.value),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm resize-none",placeholder:"Item description...",disabled:v})]})]},ne))})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Subtotal:"}),t.jsxs("span",{className:"font-semibold",children:["",l.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Tax:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",value:d,onChange:fe=>c(parseFloat(fe.target.value)||0),min:"0",step:"0.01",className:"w-24 px-2 py-1 border border-slate-300 rounded text-sm",disabled:v}),t.jsxs("span",{className:"font-semibold",children:["",d.toFixed(2)]})]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Discount:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",value:u,onChange:fe=>m(parseFloat(fe.target.value)||0),min:"0",step:"0.01",className:"w-24 px-2 py-1 border border-slate-300 rounded text-sm",disabled:v}),t.jsxs("span",{className:"font-semibold",children:["",u.toFixed(2)]})]})]}),t.jsxs("div",{className:"flex justify-between text-base font-bold pt-2 border-t border-slate-300",children:[t.jsx("span",{children:"Total Amount:"}),t.jsxs("span",{className:"text-primary",children:["",x.toFixed(2)]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),t.jsx("textarea",{value:p,onChange:fe=>f(fe.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"Additional description about the quotation...",disabled:v})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Ps,{className:"inline mr-2"}),"Valid Till ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",value:b,onChange:fe=>j(fe.target.value),min:q(),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,disabled:v})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Notes (Optional)"}),t.jsx("textarea",{value:w,onChange:fe=>y(fe.target.value),rows:2,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"Internal notes...",disabled:v})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",disabled:v,children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:v||x<=0,children:v?"Sending...":"Send Quotation"})]})]})]}),P&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[80vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Select Material Items"}),t.jsx("button",{onClick:()=>C(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Material Category"}),t.jsxs("select",{value:D,onChange:fe=>H(fe.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Categories"}),_.map(fe=>t.jsxs("option",{value:fe._id,children:[fe.icon," ",fe.name]},fe._id))]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),t.jsx("input",{type:"text",placeholder:"Search items...",value:we,onChange:fe=>T(fe.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:z?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):G.length>0?G.map(fe=>{const ne=ie(fe);return t.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg transition-all ${ne>0?"border-green-300 bg-green-50 hover:bg-green-100":"border-slate-200 hover:bg-slate-50"}`,children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h4",{className:"font-medium text-slate-900",children:fe.name}),ne>0&&t.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-800 text-xs font-semibold rounded-full",children:"Added"})]}),t.jsx("div",{className:"text-sm text-slate-600",children:t.jsxs("span",{children:["",fe.sellingPrice||fe.priceMax||fe.priceMin||0]})}),fe.description&&t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:fe.description})]}),ne>0?t.jsxs("div",{className:"flex items-center gap-2 ml-3",children:[t.jsx("button",{onClick:()=>W(fe,-1),className:"p-1.5 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",children:t.jsx(v0,{className:"w-3 h-3"})}),t.jsx("span",{className:"w-8 text-center font-semibold text-slate-700",children:ne}),t.jsx("button",{onClick:()=>W(fe,1),className:"p-1.5 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",children:t.jsx(ar,{className:"w-3 h-3"})})]}):t.jsx("button",{onClick:()=>Z(fe),className:"ml-3 p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:t.jsx(Oa,{className:"w-4 h-4"})})]},fe._id)}):t.jsxs("div",{className:"text-center py-8 text-slate-500",children:[t.jsx(Gr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No items found"}),D!=="all"&&t.jsx("p",{className:"text-sm",children:"Try selecting a different category"})]})})]})]})})]})},jke=()=>{const{token:e}=dn(),[r,s]=g.useState([]),[a,n]=g.useState([]),[i,l]=g.useState(!0),[o,d]=g.useState(null),[c,u]=g.useState("all"),[m,x]=g.useState(null),[h,p]=g.useState(null),[f,b]=g.useState(null),[j,w]=g.useState(null),[y,v]=g.useState(null),[N,S]=g.useState(null),[k,P]=g.useState({}),[C,_]=g.useState(!1),A=async(M,U=2,q=1e3)=>{try{return await M()}catch(G){if(U>0&&(G.message.includes("Network error")||G.message.includes("Failed to fetch")))return console.log(`Retrying request in ${q}ms... (${U} retries left)`),await new Promise(Y=>setTimeout(Y,q)),A(M,U-1,q*2);throw G}};g.useEffect(()=>{re(),H()},[e]),g.useEffect(()=>{(async()=>{if(r.length>0&&e){_(!0);const U=r.map(async q=>{try{const G=q._id||q.bookingId;if(!G)return console.warn("Booking missing ID:",q),null;const Y=await A(()=>ut.getQuotationsByBooking(e,G));return Y&&Y.success&&Y.data?{bookingId:G,quotations:Y.data}:null}catch(G){return console.error(`Failed to fetch quotations for booking ${q._id||q.bookingId} after retries:`,G.message),null}});try{const q=await Promise.allSettled(U),G={};q.forEach(Y=>{if(Y.status==="fulfilled"&&Y.value){const{bookingId:oe,quotations:Be}=Y.value;G[oe]=Be}}),Object.keys(G).length>0&&P(Y=>({...Y,...G}))}catch(q){console.error("Error processing quotation results:",q)}finally{_(!1)}}})()},[r,e]);const D=async()=>{l(!0),_(!0);try{await re(),await H()}catch(M){console.error("Error refreshing data:",M),d("Failed to refresh data. Please try again.")}},H=async()=>{if(e)try{const M=await ut.getTeamMembers(e),U=(M==null?void 0:M.data)||M||[];n(Array.isArray(U)?U:[])}catch(M){console.error("Failed to fetch team members:",M)}},re=async()=>{if(e){l(!0),d(null);try{const M=await ut.getBookings(e);let U=[];M!=null&&M.bookings?Object.values(M.bookings).forEach(q=>{Array.isArray(q)&&(U=U.concat(q))}):Array.isArray(M)?U=M:Array.isArray(M==null?void 0:M.data)?U=M.data:Array.isArray(M==null?void 0:M.bookings)?U=M.bookings:M!=null&&M.data&&Array.isArray(M.data)&&(U=M.data),s(U)}catch(M){d(M.message||"Failed to fetch bookings")}finally{l(!1)}}},xe=r.filter(M=>c==="all"?!0:M.status===c),we=M=>{switch(M){case"completed":return"bg-green-100 text-green-800";case"accepted":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-purple-100 text-purple-800";case"pending":return"bg-yellow-100 text-yellow-800";case"paused":return"bg-orange-100 text-orange-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-slate-100 text-slate-800"}},T=M=>{switch(M){case"completed":return t.jsx(vt,{});case"accepted":case"in_progress":return t.jsx(qr,{});case"paused":return t.jsx(oP,{});case"rejected":return t.jsx(wn,{});default:return t.jsx(Jr,{})}},z=async(M,U)=>{if(!(!e||!U)){x(M);try{const q=await ut.assignBookingToTeamMember(e,M,U);q.success?(await re(),alert("Team member assigned successfully!")):alert(q.message||"Failed to assign team member")}catch(q){console.error("Failed to assign team member:",q),alert(q.message||"Failed to assign team member")}finally{x(null)}}},Q=async(M,U)=>{try{const q=await ut.completeJob(e,M,U);if(q.success)await re(),alert("Job completed successfully!");else throw new Error(q.message||"Failed to complete job")}catch(q){throw console.error("Failed to complete job:",q),q}},B=async(M,U)=>{try{const q=await ut.pauseJob(e,M,U);if(q.success)await re(),alert("Job paused successfully!");else throw new Error(q.message||"Failed to pause job")}catch(q){throw console.error("Failed to pause job:",q),q}},L=async M=>{if(window.confirm("Are you sure you want to continue this job?"))try{const U=await ut.resumeJob(e,M);if(U.success)await re(),alert("Job continued successfully!");else throw new Error(U.message||"Failed to resume job")}catch(U){console.error("Failed to resume job:",U),alert(U.message||"Failed to resume job")}},R=async(M,U)=>{if(window.confirm("Are you sure you want to delete this quotation? This action cannot be undone."))try{const q=await ut.deleteQuotation(e,M);if(q.success){const G=await ut.getQuotationsByBooking(e,U);G.success&&G.data&&P(Y=>({...Y,[U]:G.data})),alert("Quotation deleted successfully!")}else throw new Error(q.message||"Failed to delete quotation")}catch(q){console.error("Failed to delete quotation:",q);let G="Failed to delete quotation";q.message.includes("Cannot delete quotation")?G="Cannot delete quotation that has been accepted or rejected.":q.message.includes("not authorized")?G="You are not authorized to delete this quotation.":q.message&&(G=q.message),alert(G)}},Z=async(M,U)=>{try{console.log("Creating quotation with data:",U);const q=await ut.createQuotation(e,M,U);if(q.success){const G=await ut.getQuotationsByBooking(e,M);G.success&&G.data&&P(Y=>({...Y,[M]:G.data})),await re(),alert("Quotation sent successfully!")}else throw new Error(q.message||"Failed to create quotation")}catch(q){console.error("Failed to create quotation:",q);let G="Failed to create quotation";throw q.message.includes("Validation error")?G="Please check all fields are filled correctly. Ensure all items have valid names, quantities, and prices.":q.message.includes("Invalid booking")?G="Invalid booking. Please refresh and try again.":q.message.includes("authorization")?G="You are not authorized to create quotation for this booking.":q.message&&(G=q.message),new Error(G)}},W=async M=>{try{console.log("[JobsManagement] Approving quotation:",M);const U=await ut.approveQuotation(e,M);if(console.log("[JobsManagement] Approve response:",U),U.success){const q=Object.keys(k).find(G=>k[G].some(Y=>Y._id===M));if(console.log("[JobsManagement] Found booking ID:",q),q){const G=await ut.getQuotationsByBooking(e,q);G.success&&G.data&&P(Y=>({...Y,[q]:G.data}))}alert("Quotation approved successfully!")}else throw new Error(U.message||"Failed to approve quotation")}catch(U){throw console.error("Failed to approve quotation:",U),new Error(U.message||"Failed to approve quotation")}},ie=async(M,U)=>{try{console.log("[JobsManagement] Rejecting quotation:",M,"reason:",U);const q=await ut.rejectQuotation(e,M,U);if(console.log("[JobsManagement] Reject response:",q),q.success){const G=Object.keys(k).find(Y=>k[Y].some(oe=>oe._id===M));if(G){const Y=await ut.getQuotationsByBooking(e,G);Y.success&&Y.data&&P(oe=>({...oe,[G]:Y.data}))}alert("Quotation rejected successfully.")}else throw new Error(q.message||"Failed to reject quotation")}catch(q){throw console.error("Failed to reject quotation:",q),new Error(q.message||"Failed to reject quotation")}};if(i)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})});const ae={total:r.length,pending:r.filter(M=>M.status==="pending").length,accepted:r.filter(M=>M.status==="accepted").length,in_progress:r.filter(M=>M.status==="in_progress").length,paused:r.filter(M=>M.status==="paused").length,completed:r.filter(M=>M.status==="completed").length,rejected:r.filter(M=>M.status==="rejected").length};return t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Jobs Management"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage all your service bookings and jobs"})]}),t.jsx("button",{onClick:D,disabled:i||C,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto disabled:opacity-50 disabled:cursor-not-allowed",children:t.jsx(Dt,{className:`text-lg sm:text-xl text-slate-600 ${i||C?"animate-spin":""}`})})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total Jobs"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:ae.total})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Pending"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:ae.pending})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Accepted"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ae.accepted})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Completed"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:ae.completed})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Rejected"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:ae.rejected})]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-4 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-wrap",children:[t.jsx(Dd,{className:"text-slate-600 hidden sm:block"}),["all","pending","accepted","in_progress","paused","completed","rejected"].map(M=>t.jsx("button",{onClick:()=>u(M),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold transition ${c===M?"bg-primary text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:M.charAt(0).toUpperCase()+M.slice(1)},M))]}),t.jsxs("button",{onClick:()=>{const M=xe.map(U=>{var q,G,Y,oe,Be,fe;return{"Booking ID":((q=U._id)==null?void 0:q.toString().slice(-8))||"N/A","Customer Name":((G=U.user)==null?void 0:G.name)||"N/A","Customer Phone":((Y=U.user)==null?void 0:Y.phone)||"N/A",Service:((oe=U.subService)==null?void 0:oe.name)||"N/A","Amount ()":U.amount||0,Status:U.status||"N/A","Scheduled Date":U.scheduledDate?new Date(U.scheduledDate).toLocaleDateString("en-IN"):"N/A","Scheduled Time":U.scheduledTime||"N/A",Location:((Be=U.location)==null?void 0:Be.address)||"N/A","Team Member":((fe=U.teamMember)==null?void 0:fe.name)||"Not Assigned","Created At":U.createdAt?new Date(U.createdAt).toLocaleString("en-IN"):"N/A"}});Wd(M,[{header:"Booking ID",accessor:"Booking ID"},{header:"Customer Name",accessor:"Customer Name"},{header:"Customer Phone",accessor:"Customer Phone"},{header:"Service",accessor:"Service"},{header:"Amount ()",accessor:"Amount ()"},{header:"Status",accessor:"Status"},{header:"Scheduled Date",accessor:"Scheduled Date"},{header:"Scheduled Time",accessor:"Scheduled Time"},{header:"Location",accessor:"Location"},{header:"Team Member",accessor:"Team Member"},{header:"Created At",accessor:"Created At"}],"Jobs_Management","Jobs",{columnWidths:[15,20,15,25,15,12,15,12,30,20,20]})},disabled:xe.length===0,className:"px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-semibold bg-primary text-white hover:bg-primary-dark transition inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed self-start sm:self-auto",title:"Export to Excel",children:[t.jsx(In,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Export Excel"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden",children:o?t.jsx("div",{className:"p-6 text-center text-red-600",children:o}):xe.length===0?t.jsxs("div",{className:"p-12 text-center text-slate-500",children:[t.jsx(Jr,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No bookings found"})]}):t.jsx("div",{className:"divide-y divide-slate-200",children:xe.map((M,U)=>{var q,G,Y,oe,Be,fe,ne;return t.jsxs("div",{className:"p-4 sm:p-6 hover:bg-slate-50 transition",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4 mb-3 sm:mb-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[t.jsx("h3",{className:"text-base sm:text-lg font-bold text-slate-800 truncate",children:((q=M.service)==null?void 0:q.name)||M.serviceName||"Service Booking"}),t.jsxs("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 w-fit ${we(M.status)}`,children:[T(M.status),((G=M.status)==null?void 0:G.charAt(0).toUpperCase())+((Y=M.status)==null?void 0:Y.slice(1))||"Unknown"]})]}),t.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:["Booking ID: ",M.bookingId||M._id||"N/A"]}),t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[M.user&&t.jsxs("p",{className:"text-sm text-slate-600",children:["Customer: ",((oe=M.user)==null?void 0:oe.name)||M.userName||"N/A"]}),M.teamMember&&t.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-semibold flex items-center gap-1",children:[t.jsx(Or,{className:"text-xs"}),"Team: ",((Be=M.teamMember)==null?void 0:Be.name)||"Team Member"]})]}),!M.teamMember&&(M.status==="accepted"||M.status==="in_progress")&&a.length>0&&t.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[t.jsxs("select",{onChange:ce=>{ce.target.value&&(z(M._id||M.bookingId,ce.target.value),ce.target.value="")},disabled:m===(M._id||M.bookingId),className:"px-3 py-1.5 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white",children:[t.jsx("option",{value:"",children:"Assign to Team Member..."}),a.filter(ce=>ce.status==="active").map(ce=>t.jsxs("option",{value:ce._id||ce.id,children:[ce.name," (",ce.role||"technician",")"]},ce._id||ce.id))]}),m===(M._id||M.bookingId)&&t.jsx("span",{className:"text-xs text-slate-500",children:"Assigning..."})]})]}),t.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[t.jsxs("p",{className:"text-lg sm:text-xl font-bold text-primary",children:["",((fe=M.totalAmount)==null?void 0:fe.toLocaleString("en-IN"))||((ne=M.amount)==null?void 0:ne.toLocaleString("en-IN"))||0]}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-500",children:M.createdAt?new Date(M.createdAt).toLocaleDateString("en-IN"):"N/A"}),t.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[t.jsxs("button",{onClick:()=>p({data:M,type:"booking"}),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-primary/10 text-primary rounded-lg text-xs sm:text-sm font-semibold hover:bg-primary/20 transition inline-flex items-center gap-1 sm:gap-2",children:[t.jsx(Gt,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Invoice"})]}),M.status==="paused"&&t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("button",{onClick:()=>L(M._id||M.bookingId),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-green-500 text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-green-600 transition inline-flex items-center gap-1 sm:gap-2",children:[t.jsx(zZ,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Continue Job"}),t.jsx("span",{className:"sm:hidden",children:"Continue"})]}),M.pauseDetails&&t.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[t.jsxs("p",{children:["Resume: ",M.pauseDetails.nextScheduledDate?new Date(M.pauseDetails.nextScheduledDate).toLocaleDateString():"N/A"," ",M.pauseDetails.nextScheduledTime||""]}),M.pauseDetails.pauseReason&&t.jsxs("p",{className:"text-slate-500",children:["Reason: ",M.pauseDetails.pauseReason]})]})]}),(M.status==="accepted"||M.status==="in_progress")&&t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("button",{onClick:()=>b(M),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-green-500 text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-green-600 transition inline-flex items-center gap-1 sm:gap-2",children:[t.jsx(vt,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Complete"}),t.jsx("span",{className:"sm:hidden",children:"Complete"})]}),t.jsxs("button",{onClick:()=>w(M),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-yellow-500 text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-yellow-600 transition inline-flex items-center gap-1 sm:gap-2",children:[t.jsx(oP,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Pause"}),t.jsx("span",{className:"sm:hidden",children:"Pause"})]}),t.jsxs("button",{onClick:()=>v(M),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-blue-500 text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-blue-600 transition inline-flex items-center gap-1 sm:gap-2",children:[t.jsx(Yt,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Send Quote"}),t.jsx("span",{className:"sm:hidden",children:"Quote"})]})]})]})]})]}),M.address&&t.jsx("div",{className:"mt-4 p-3 bg-slate-50 rounded-lg",children:t.jsxs("p",{className:"text-sm text-slate-600",children:[t.jsx("strong",{children:"Address:"})," ",M.address]})}),k[M._id||M.bookingId]&&k[M._id||M.bookingId].length>0&&t.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[t.jsx("div",{className:"flex items-center justify-between mb-2",children:t.jsxs("p",{className:"text-sm font-semibold text-blue-800",children:[t.jsx(Yt,{className:"inline mr-1"}),"Quotations (",k[M._id||M.bookingId].length,")"]})}),t.jsx("div",{className:"space-y-2",children:k[M._id||M.bookingId].map(ce=>{var pe;return t.jsxs("div",{className:"bg-white rounded-lg p-2 flex items-center justify-between hover:bg-blue-100 transition",children:[t.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>S(ce),children:[t.jsxs("p",{className:"text-xs font-semibold text-slate-800",children:["#",ce.quotationNumber," - ",((pe=ce.totalAmount)==null?void 0:pe.toFixed(2))||"0.00"]}),t.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[t.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-semibold ${ce.customerStatus==="accepted"?"bg-green-100 text-green-800":ce.customerStatus==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:["Customer: ",ce.customerStatus]}),ce.partnerStatus!=="not_required"&&t.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-semibold ${ce.partnerStatus==="accepted"?"bg-green-100 text-green-800":ce.partnerStatus==="rejected"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:["Partner: ",ce.partnerStatus]}),ce.adminStatus!=="not_required"&&t.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-semibold ${ce.adminStatus==="accepted"?"bg-green-100 text-green-800":ce.adminStatus==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:["Admin: ",ce.adminStatus]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[t.jsx("button",{onClick:()=>S(ce),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition",title:"View Details",children:t.jsx(Sn,{className:"w-4 h-4"})}),ce.customerStatus==="pending"&&t.jsx("button",{onClick:F=>{F.stopPropagation(),R(ce._id,M._id||M.bookingId)},className:"p-1 text-red-600 hover:bg-red-100 rounded transition",title:"Delete Quotation",children:t.jsx(la,{className:"w-4 h-4"})})]})]},ce._id)})})]})]},U)})})}),h&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Invoice"}),t.jsx("button",{onClick:()=>p(null),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(mt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsx("div",{className:"p-6",children:t.jsx(d6,{data:h.data,type:h.type,onClose:()=>p(null)})})]})}),f&&t.jsx(yke,{booking:f,onClose:()=>b(null),onComplete:Q,token:e}),j&&t.jsx(bke,{booking:j,onClose:()=>w(null),onPause:B,token:e}),y&&t.jsx(vke,{booking:y,onClose:()=>v(null),onCreate:Z,token:e}),N&&t.jsx(c6,{quotation:N,onClose:()=>S(null),onAccept:W,onReject:ie,userType:"partner",token:e})]})},wke=()=>{const{token:e}=dn(),[r,s]=g.useState([]),[a,n]=g.useState(null),[i,l]=g.useState([]),[o,d]=g.useState([]),[c,u]=g.useState("all"),[m,x]=g.useState([]),[h,p]=g.useState(""),[f,b]=g.useState(!0),[j,w]=g.useState(!1),[y,v]=g.useState(!1),[N,S]=g.useState({name:"",quantity:1,unitPrice:0,description:""});g.useEffect(()=>{k(),P()},[e]),g.useEffect(()=>{a&&C(a._id)},[a]),g.useEffect(()=>{c!=="all"&&_(c)},[c]);const k=async()=>{if(e)try{const T=await ut.getBookings(e);let z=[];T!=null&&T.bookings?Object.values(T.bookings).forEach(B=>{Array.isArray(B)&&(z=z.concat(B))}):Array.isArray(T)?z=T:Array.isArray(T==null?void 0:T.data)&&(z=T.data);const Q=z.filter(B=>["accepted","in-progress","paused"].includes(B.status));s(Q),Q.length>0&&!a&&n(Q[0])}catch(T){console.error("Failed to fetch jobs:",T)}finally{b(!1)}},P=async()=>{try{const z=await(await fetch("/api/public/material-categories")).json();z.success&&d(z.data||[])}catch(T){console.error("Failed to fetch material categories:",T)}},C=async T=>{if(!(!e||!T))try{const z=await ut.getJobItems(e,T);l(z.data||[])}catch(z){console.error("Failed to fetch job items:",z),l([])}},_=async T=>{try{const z=await ut.getProductsByCategory(e,T);let Q=[];Array.isArray(z)?Q=z:Array.isArray(z==null?void 0:z.data)?Q=z.data:Array.isArray(z==null?void 0:z.products)&&(Q=z.products),x(Q)}catch(z){console.error("Failed to fetch category items:",z),x([])}},A=async T=>{if(!a||!e)return;const z=i.find(Q=>Q.itemId===T._id);if(z)H(z._id,1);else{const Q={jobId:a._id,itemId:T._id,itemName:T.name,quantity:1,unitPrice:T.sellingPrice||T.priceMin||0,totalPrice:T.sellingPrice||T.priceMin||0,description:T.description||"",category:T.category};try{w(!0);const B=await ut.addJobItem(e,Q);B.success&&l([...i,B.data])}catch{alert("Failed to add item to job")}finally{w(!1)}}},D=async()=>{if(!a||!e||!N.name)return;const T={jobId:a._id,itemName:N.name,quantity:N.quantity,unitPrice:N.unitPrice,totalPrice:N.quantity*N.unitPrice,description:N.description,isManual:!0};try{w(!0);const z=await ut.addJobItem(e,T);z.success&&(l([...i,z.data]),S({name:"",quantity:1,unitPrice:0,description:""}),v(!1))}catch{alert("Failed to add manual item")}finally{w(!1)}},H=async(T,z)=>{const Q=i.find(R=>R._id===T);if(!Q||!e)return;const B=Math.max(1,Q.quantity+z),L=B*Q.unitPrice;try{w(!0),(await ut.updateJobItem(e,T,{quantity:B,totalPrice:L})).success&&l(i.map(Z=>Z._id===T?{...Z,quantity:B,totalPrice:L}:Z))}catch{alert("Failed to update item quantity")}finally{w(!1)}},re=async T=>{if(e)try{w(!0),(await ut.deleteJobItem(e,T)).success&&l(i.filter(Q=>Q._id!==T))}catch{alert("Failed to remove item")}finally{w(!1)}},xe=m.filter(T=>{var z;return T.name.toLowerCase().includes(h.toLowerCase())||((z=T.description)==null?void 0:z.toLowerCase().includes(h.toLowerCase()))}),we=i.reduce((T,z)=>T+(z.totalPrice||0),0);return f?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Job Items Management"}),t.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Add and manage items for your jobs"})]}),t.jsx("div",{className:"flex flex-wrap gap-3",children:t.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx(ar,{className:"w-4 h-4 mr-2"}),"Add Manual Item"]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 p-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Select Job"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(T=>t.jsxs("div",{onClick:()=>n(T),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${(a==null?void 0:a._id)===T._id?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"font-medium text-slate-900",children:T.serviceType||"Service"}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${T.status==="accepted"?"bg-green-100 text-green-800":T.status==="in-progress"?"bg-blue-100 text-blue-800":T.status==="paused"?"bg-yellow-100 text-yellow-800":"bg-slate-100 text-slate-800"}`,children:T.status})]}),t.jsx("p",{className:"text-sm text-slate-600",children:T.customerName||"Customer"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:new Date(T.createdAt).toLocaleDateString()})]},T._id))})]}),a&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 p-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Available Items"}),t.jsx("div",{className:"mb-4",children:t.jsxs("select",{value:c,onChange:T=>u(T.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Categories"}),o.map(T=>t.jsxs("option",{value:T._id,children:[T.icon," ",T.name]},T._id))]})}),t.jsxs("div",{className:"relative mb-4",children:[t.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),t.jsx("input",{type:"text",placeholder:"Search items...",value:h,onChange:T=>p(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:xe.map(T=>t.jsxs("div",{className:"flex items-center justify-between p-3 border border-slate-200 rounded-lg hover:bg-slate-50",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium text-slate-900",children:T.name}),t.jsxs("p",{className:"text-sm text-slate-600",children:["",T.sellingPrice||T.priceMin||0]}),T.description&&t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:T.description})]}),t.jsx("button",{onClick:()=>A(T),disabled:j,className:"ml-3 p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:t.jsx(ar,{className:"w-4 h-4"})})]},T._id))})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Job Items"}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Total Cost"}),t.jsxs("p",{className:"text-xl font-bold text-blue-600",children:["",we.toLocaleString()]})]})]}),t.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[i.map(T=>t.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium text-slate-900",children:T.itemName}),t.jsxs("p",{className:"text-sm text-slate-600",children:["",T.unitPrice," per unit"]}),T.description&&t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:T.description})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>H(T._id,-1),disabled:j||T.quantity<=1,className:"p-1 bg-slate-100 text-slate-600 rounded hover:bg-slate-200 transition-colors disabled:opacity-50",children:t.jsx(v0,{className:"w-3 h-3"})}),t.jsx("span",{className:"w-8 text-center font-medium",children:T.quantity}),t.jsx("button",{onClick:()=>H(T._id,1),disabled:j,className:"p-1 bg-slate-100 text-slate-600 rounded hover:bg-slate-200 transition-colors disabled:opacity-50",children:t.jsx(ar,{className:"w-3 h-3"})})]}),t.jsx("div",{className:"text-right",children:t.jsxs("p",{className:"font-semibold text-slate-900",children:["",T.totalPrice]})}),t.jsx("button",{onClick:()=>re(T._id),disabled:j,className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors disabled:opacity-50",children:t.jsx(la,{className:"w-4 h-4"})})]})]},T._id)),i.length===0&&t.jsxs("div",{className:"text-center py-8 text-slate-500",children:[t.jsx(Gr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No items added to this job yet"})]})]})]})]}),y&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Add Manual Item"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Item Name *"}),t.jsx("input",{type:"text",value:N.name,onChange:T=>S({...N,name:T.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter item name"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Quantity *"}),t.jsx("input",{type:"number",min:"1",value:N.quantity,onChange:T=>S({...N,quantity:parseInt(T.target.value)||1}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Unit Price () *"}),t.jsx("input",{type:"number",min:"0",step:"0.01",value:N.unitPrice,onChange:T=>S({...N,unitPrice:parseFloat(T.target.value)||0}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Total ()"}),t.jsx("input",{type:"text",value:`${(N.quantity*N.unitPrice).toFixed(2)}`,readOnly:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg bg-slate-50 text-slate-600"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),t.jsx("textarea",{value:N.description,onChange:T=>S({...N,description:T.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3",placeholder:"Optional description"})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:()=>v(!1),className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:D,disabled:!N.name||j,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:j?"Adding...":"Add Item"})]})]})})]})},Nke=()=>{var h,p;const{token:e,partner:r}=dn(),[s,a]=g.useState(null),[n,i]=g.useState([]),[l,o]=g.useState(!0),[d,c]=g.useState(null);g.useEffect(()=>{u()},[e]);const u=async()=>{if(e){o(!0),c(null);try{const f=(r==null?void 0:r.partnerType)||null,[b,j]=await Promise.all([ut.getCurrentPlan(e).catch(()=>null),ut.getMGPlans(e,f).catch(()=>null)]);b!=null&&b.data?a(b.data):b&&a(b),j!=null&&j.data?i(j.data):j&&i(Array.isArray(j)?j:[])}catch(f){c(f.message||"Failed to fetch mg plans")}finally{o(!1)}}},m=async f=>{if(e)try{(await ut.subscribeToPlan(e,f)).success&&(alert("Successfully subscribed to plan!"),u())}catch(b){alert(b.message||"Failed to subscribe to plan")}},x=async()=>{if(e)try{(await ut.renewPlan(e)).success&&(alert("Plan renewed successfully!"),u())}catch(f){alert(f.message||"Failed to renew plan")}};return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"MG Plan"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your mg plans details"})]}),t.jsx("button",{onClick:u,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg sm:text-xl text-slate-600"})})]}),s&&t.jsxs("div",{className:"bg-gradient-to-br from-primary to-primary-dark rounded-2xl shadow-xl p-6 sm:p-8 text-white",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 sm:gap-6 mb-4 sm:mb-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Current Plan"}),((h=s.plan)==null?void 0:h.partnerType)&&t.jsx("span",{className:"text-xs px-2 py-1 bg-white/20 rounded-full font-semibold",children:s.plan.partnerType==="individual"?" Individual":s.plan.partnerType==="franchise"?" Franchise":" Both"})]}),t.jsx("p",{className:"text-sm sm:text-base text-white/80",children:((p=s.plan)==null?void 0:p.name)||s.name||"MG Plan"})]}),t.jsx("div",{className:"bg-white/20 p-3 sm:p-4 rounded-xl self-start sm:self-auto",children:t.jsx(fs,{className:"text-3xl sm:text-4xl"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[t.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[t.jsx("p",{className:"text-sm text-white/80 mb-1",children:"Leads Guaranteed"}),t.jsx("p",{className:"text-2xl font-bold",children:s.leadsGuaranteed||0})]}),t.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[t.jsx("p",{className:"text-sm text-white/80 mb-1",children:"Leads Used"}),t.jsx("p",{className:"text-2xl font-bold",children:s.leadsUsed||0})]}),t.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[t.jsx("p",{className:"text-sm text-white/80 mb-1",children:"Leads Remaining"}),t.jsx("p",{className:"text-2xl font-bold",children:s.leadsRemaining||0})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[t.jsxs("div",{className:"bg-white/10 rounded-xl p-3 sm:p-4",children:[t.jsx("p",{className:"text-xs sm:text-sm text-white/80 mb-1",children:"Lead Fee"}),t.jsxs("p",{className:"text-lg sm:text-xl font-bold",children:["",s.leadFee||0]})]}),t.jsxs("div",{className:"bg-white/10 rounded-xl p-3 sm:p-4",children:[t.jsx("p",{className:"text-xs sm:text-sm text-white/80 mb-1",children:"Commission"}),t.jsxs("p",{className:"text-lg sm:text-xl font-bold",children:[s.commission||0,"%"]})]})]}),s.expiresAt&&t.jsxs("div",{className:"bg-white/10 rounded-xl p-3 sm:p-4 mb-4 sm:mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Ps,{className:"text-lg sm:text-xl"}),t.jsx("p",{className:"text-sm sm:text-base font-semibold",children:"Plan Expires"})]}),t.jsx("p",{className:"text-base sm:text-lg",children:new Date(s.expiresAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}),s.daysUntilRenewal!==void 0&&s.daysUntilRenewal<=7&&t.jsx("button",{onClick:x,className:"mt-3 sm:mt-4 w-full py-2 bg-white text-primary rounded-lg text-sm sm:text-base font-semibold hover:bg-white/90 transition",children:"Renew Plan"})]}),s.isExpired&&t.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-xl p-4",children:t.jsx("p",{className:"text-red-100",children:" Your plan has expired. Please renew to continue."})})]}),!s&&t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Available Plans"}),(r==null?void 0:r.partnerType)&&t.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-semibold ${r.partnerType==="individual"?"bg-slate-100 text-slate-700":"bg-purple-100 text-purple-700"}`,children:r.partnerType==="individual"?" Individual":" Franchise"})]}),d?t.jsx("div",{className:"text-center text-red-600 py-8",children:d}):n.length===0?t.jsxs("div",{className:"text-center text-slate-500 py-8",children:[t.jsx(fs,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No plans available"})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:n.map((f,b)=>{var j;return t.jsxs("div",{className:"border-2 border-slate-200 rounded-xl p-4 sm:p-6 hover:border-primary transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:f.name||"Plan"}),f.partnerType&&t.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-semibold flex-shrink-0 ${f.partnerType==="individual"?"bg-slate-100 text-slate-700":f.partnerType==="franchise"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:f.partnerType==="individual"?" Individual":f.partnerType==="franchise"?" Franchise":" Both"})]}),t.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-primary mb-3 sm:mb-4",children:["",((j=f.price)==null?void 0:j.toLocaleString("en-IN"))||0]}),t.jsxs("ul",{className:"space-y-2 mb-4 sm:mb-6",children:[t.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-slate-600",children:[t.jsx(Tl,{className:"text-green-600 flex-shrink-0"}),f.leads||0," Leads Guaranteed"]}),t.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-slate-600",children:[t.jsx(Tl,{className:"text-green-600 flex-shrink-0"}),"Lead Fee: ",f.leadFee||0]}),t.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-slate-600",children:[t.jsx(Tl,{className:"text-green-600 flex-shrink-0"}),"Commission: ",f.commission||0,"%"]})]}),t.jsx("button",{onClick:()=>m(f._id||f.id),className:"w-full py-2.5 sm:py-3 bg-primary text-white rounded-lg text-sm sm:text-base font-semibold hover:bg-primary-dark transition",children:"Subscribe Now"})]},b)})})]})]})},Ske=()=>{const{token:e}=dn(),[r,s]=g.useState([]),[a,n]=g.useState([]),[i,l]=g.useState(!0),[o,d]=g.useState(null),[c,u]=g.useState(""),[m,x]=g.useState("all"),[h,p]=g.useState([]);g.useEffect(()=>{f()},[e,m]);const f=async()=>{if(e){l(!0),d(null);try{if(m!=="all"){const N=await ut.getProductsByCategory(e,m);let S=[];Array.isArray(N)?S=N:Array.isArray(N==null?void 0:N.data)?S=N.data:Array.isArray(N==null?void 0:N.products)&&(S=N.products),s(S)}else{const N=await ut.getCategories(e);let S=[];Array.isArray(N)?S=N:Array.isArray(N==null?void 0:N.data)?S=N.data:Array.isArray(N==null?void 0:N.categories)&&(S=N.categories),p(S),s([])}}catch(N){d(N.message||"Failed to fetch spare parts")}finally{l(!1)}}},b=async N=>{if(e)try{(await ut.addToCart(e,{productId:N._id||N.id,quantity:1})).success&&n([...a,{...N,quantity:1}])}catch(S){alert(S.message||"Failed to add to cart")}},j=(N,S)=>{n(a.map(k=>k._id===N||k.id===N?{...k,quantity:Math.max(1,k.quantity+S)}:k))},w=N=>{n(a.filter(S=>S._id!==N&&S.id!==N))},y=r.filter(N=>{var k,P;return((k=N.name)==null?void 0:k.toLowerCase().includes(c.toLowerCase()))||((P=N.description)==null?void 0:P.toLowerCase().includes(c.toLowerCase()))}),v=a.reduce((N,S)=>N+(S.price||0)*(S.quantity||1),0);return i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Spare Parts"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Browse and order spare parts for your services"})]}),t.jsx("button",{onClick:f,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg sm:text-xl text-slate-600"})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-4 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",value:c,onChange:N=>u(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Search spare parts..."})]}),t.jsxs("select",{value:m,onChange:N=>x(N.target.value),className:"px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",children:[t.jsx("option",{value:"all",children:"All Categories"}),Array.isArray(h)&&h.map((N,S)=>t.jsx("option",{value:N._id||N.id||N.name,children:N.name||"Category"},S))]})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:o?t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center text-red-600",children:o}):y.length===0?t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center border border-slate-200",children:[t.jsx(Gr,{className:"text-4xl mx-auto mb-2 opacity-50 text-slate-400"}),t.jsx("p",{className:"text-slate-500",children:"No spare parts found"}),t.jsx("p",{className:"text-sm text-slate-400 mt-2",children:m==="all"?"Please select a category to view products":"Try a different category or search term"})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:y.map((N,S)=>{var k;return t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200 hover:shadow-lg transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-base sm:text-lg font-bold text-slate-800 mb-1 sm:mb-2 truncate",children:N.name||"Spare Part"}),N.description&&t.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mb-2 line-clamp-2",children:N.description})]}),t.jsx("div",{className:"bg-primary/10 p-2 sm:p-3 rounded-lg flex-shrink-0 ml-2",children:t.jsx(Gr,{className:"text-primary text-lg sm:text-xl"})})]}),t.jsx("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-primary",children:["",((k=N.price)==null?void 0:k.toLocaleString("en-IN"))||0]}),N.stock!==void 0&&t.jsxs("p",{className:"text-xs sm:text-sm text-slate-500",children:["Stock: ",N.stock," ",N.unit||"units"]})]})}),t.jsxs("button",{onClick:()=>b(N),disabled:N.stock===0,className:"w-full py-2 bg-primary text-white rounded-lg text-sm sm:text-base font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[t.jsx(Oa,{}),t.jsx("span",{className:"hidden sm:inline",children:N.stock===0?"Out of Stock":"Add to Cart"}),t.jsx("span",{className:"sm:hidden",children:N.stock===0?"Out":"Add"})]})]},S)})})}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200 lg:sticky lg:top-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Cart"}),t.jsx(Oa,{className:"text-lg sm:text-xl text-slate-600"})]}),a.length===0?t.jsxs("div",{className:"text-center py-8 text-slate-500",children:[t.jsx(Oa,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"Your cart is empty"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"space-y-3 mb-4 max-h-96 overflow-y-auto",children:a.map((N,S)=>t.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-semibold text-slate-800 text-sm",children:N.name}),t.jsx("button",{onClick:()=>w(N._id||N.id),className:"text-red-600 hover:text-red-700",children:""})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>j(N._id||N.id,-1),className:"p-1 bg-white rounded border border-slate-300 hover:bg-slate-100",children:t.jsx(v0,{className:"text-xs"})}),t.jsx("span",{className:"px-2 font-semibold",children:N.quantity||1}),t.jsx("button",{onClick:()=>j(N._id||N.id,1),className:"p-1 bg-white rounded border border-slate-300 hover:bg-slate-100",children:t.jsx(ar,{className:"text-xs"})})]}),t.jsxs("p",{className:"font-bold text-primary",children:["",((N.price||0)*(N.quantity||1)).toLocaleString("en-IN")]})]})]},S))}),t.jsxs("div",{className:"border-t border-slate-200 pt-3 sm:pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[t.jsx("span",{className:"text-base sm:text-lg font-semibold text-slate-800",children:"Total:"}),t.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-primary",children:["",v.toLocaleString("en-IN")]})]}),t.jsx("button",{className:"w-full py-2.5 sm:py-3 bg-primary text-white rounded-lg text-sm sm:text-base font-semibold hover:bg-primary-dark transition",children:"Place Order"})]})]})]})})]})]})},kke=()=>{const{token:e}=dn(),[r,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState(null),[o,d]=g.useState("all"),[c,u]=g.useState(null);g.useEffect(()=>{m()},[e]);const m=async()=>{if(e){n(!0),l(null);try{const f=await ut.getTransactions(e),b=(f==null?void 0:f.transactions)||(f==null?void 0:f.data)||[];s(b)}catch(f){l(f.message||"Failed to fetch transactions")}finally{n(!1)}}},x=r.filter(f=>o==="all"?!0:f.type===o),h=r.filter(f=>f.type==="credit").reduce((f,b)=>f+(b.amount||0),0),p=r.filter(f=>f.type==="debit").reduce((f,b)=>f+(b.amount||0),0);return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Transactions"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"View all your wallet transactions"})]}),t.jsx("button",{onClick:m,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg sm:text-xl text-slate-600"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Total Credits"}),t.jsx(cr,{className:"text-green-600 text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",h.toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Total Debits"}),t.jsx(hd,{className:"text-red-600 text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",p.toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Net Balance"}),t.jsx(cr,{className:"text-primary text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-primary",children:["",(h-p).toLocaleString("en-IN")]})]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-4 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-wrap",children:[t.jsx(Dd,{className:"text-slate-600 hidden sm:block"}),t.jsx("div",{className:"flex gap-2",children:["all","credit","debit"].map(f=>t.jsx("button",{onClick:()=>d(f),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold transition ${o===f?"bg-primary text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),t.jsxs("button",{onClick:()=>{const f=x.map(b=>{var j,w;return{"Date & Time":b.createdAt?new Date(b.createdAt).toLocaleString("en-IN"):"N/A",Type:((j=b.type)==null?void 0:j.charAt(0).toUpperCase())+((w=b.type)==null?void 0:w.slice(1))||"N/A","Amount ()":b.amount||0,"Balance ()":b.balance||0,Description:b.description||"N/A",Reference:b.reference||"N/A","Transaction ID":b.transactionId||b._id||"N/A"}});Wd(f,[{header:"Date & Time",accessor:"Date & Time"},{header:"Type",accessor:"Type"},{header:"Amount ()",accessor:"Amount ()"},{header:"Balance ()",accessor:"Balance ()"},{header:"Description",accessor:"Description"},{header:"Reference",accessor:"Reference"},{header:"Transaction ID",accessor:"Transaction ID"}],"Transactions","Transactions",{columnWidths:[20,12,15,15,30,20,25]})},disabled:x.length===0,className:"px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-semibold bg-primary text-white hover:bg-primary-dark transition inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed self-start sm:self-auto",title:"Export to Excel",children:[t.jsx(In,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Export Excel"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b border-slate-200",children:t.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"All Transactions"})}),i?t.jsx("div",{className:"p-6 text-center text-red-600",children:i}):x.length===0?t.jsxs("div",{className:"p-12 text-center text-slate-500",children:[t.jsx(cr,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No transactions found"})]}):t.jsx("div",{className:"divide-y divide-slate-200",children:x.map((f,b)=>{var j,w;return t.jsxs("div",{className:"p-4 sm:p-6 hover:bg-slate-50 transition flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[t.jsx("div",{className:`p-2 sm:p-3 rounded-lg flex-shrink-0 ${f.type==="credit"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:f.type==="credit"?t.jsx(cr,{className:"text-lg sm:text-xl"}):t.jsx(hd,{className:"text-lg sm:text-xl"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[t.jsx("p",{className:"font-semibold text-slate-800 text-sm sm:text-base truncate",children:f.description||"Transaction"}),f.teamMember&&t.jsxs("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded text-xs font-semibold flex items-center gap-1",children:[t.jsx(Or,{className:"text-xs"}),f.teamMember.name]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 mt-1",children:[t.jsx("p",{className:"text-xs sm:text-sm text-slate-500",children:f.createdAt?new Date(f.createdAt).toLocaleString("en-IN"):f.timestamp?new Date(f.timestamp).toLocaleString("en-IN"):"N/A"}),f.transactionId&&t.jsxs("p",{className:"text-xs text-slate-400",children:["ID: ",f.transactionId]})]})]})]}),t.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[t.jsxs("p",{className:`text-lg sm:text-xl font-bold ${f.type==="credit"?"text-green-600":"text-red-600"}`,children:[f.type==="credit"?"+":"-","",((j=f.amount)==null?void 0:j.toLocaleString("en-IN"))||0]}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-500",children:["Balance: ",((w=f.balance)==null?void 0:w.toLocaleString("en-IN"))||0]}),t.jsxs("button",{onClick:()=>u({data:f,type:"transaction"}),className:"mt-2 px-2 sm:px-3 py-1 sm:py-1.5 bg-primary/10 text-primary rounded-lg text-xs sm:text-sm font-semibold hover:bg-primary/20 transition inline-flex items-center gap-1 sm:gap-2",children:[t.jsx(Gt,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Invoice"})]})]})]},b)})})]}),c&&t.jsx(d6,{data:c.data,type:c.type,onClose:()=>u(null)})]})},Cke=()=>{var P,C,_;const{partner:e,token:r}=dn(),a=((e==null?void 0:e.partnerType)||"individual")==="franchise",[n,i]=g.useState({walletBalance:0,totalJobs:0,completedJobs:0,pendingJobs:0,totalEarnings:0,teamMembers:0}),[l,o]=g.useState(!0),[d,c]=g.useState({monthlyJobs:[],monthlyEarnings:[],statusDistribution:[],transactionTrend:[]}),[u,m]=g.useState([]),[x,h]=g.useState([]),[p,f]=g.useState(null);g.useEffect(()=>{(async()=>{var D,H,re;if(r)try{const xe=await ut.getWallet(r),we=((D=xe==null?void 0:xe.data)==null?void 0:D.balance)||((H=xe==null?void 0:xe.success)==null?void 0:H.balance)||0,T=((re=xe==null?void 0:xe.data)==null?void 0:re.transactions)||(xe==null?void 0:xe.transactions)||[],z=await ut.getBookings(r);let Q=[];z!=null&&z.bookings?Object.values(z.bookings).forEach(J=>{Array.isArray(J)&&(Q=Q.concat(J))}):Array.isArray(z)?Q=z:Array.isArray(z==null?void 0:z.data)?Q=z.data:Array.isArray(z==null?void 0:z.bookings)&&(Q=z.bookings);const B=Q.length,L=Q.filter(J=>(J==null?void 0:J.status)==="completed").length,R=Q.filter(J=>["pending","accepted","in_progress"].includes(J==null?void 0:J.status)).length;let Z=0;if(a)try{const J=await ut.getTeamMembers(r),be=(J==null?void 0:J.data)||J||[];Z=Array.isArray(be)?be.filter(ge=>ge.status==="active").length:0}catch(J){console.error("Error fetching team members:",J)}const W=Q.filter(J=>(J==null?void 0:J.status)==="completed").reduce((J,be)=>J+((be==null?void 0:be.amount)||(be==null?void 0:be.totalAmount)||0),0);i({walletBalance:we,totalJobs:B,completedJobs:L,pendingJobs:R,totalEarnings:W,teamMembers:Z});const ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ae=new Date,M={},U={};for(let J=5;J>=0;J--){const be=new Date(ae.getFullYear(),ae.getMonth()-J,1),ge=`${be.getFullYear()}-${be.getMonth()+1}`;M[ge]={month:ie[be.getMonth()],jobs:0,earnings:0},U[ge]={month:ie[be.getMonth()],earnings:0}}Q.forEach(J=>{if(J.createdAt){const be=new Date(J.createdAt),ge=`${be.getFullYear()}-${be.getMonth()+1}`;M[ge]&&(M[ge].jobs++,J.status==="completed"&&(M[ge].earnings+=J.amount||J.totalAmount||0,U[ge].earnings+=J.amount||J.totalAmount||0))}});const q=Object.values(M),G=Object.values(U),Y={completed:Q.filter(J=>(J==null?void 0:J.status)==="completed").length,pending:Q.filter(J=>(J==null?void 0:J.status)==="pending").length,accepted:Q.filter(J=>(J==null?void 0:J.status)==="accepted").length,in_progress:Q.filter(J=>(J==null?void 0:J.status)==="in_progress").length,rejected:Q.filter(J=>(J==null?void 0:J.status)==="rejected").length},oe=[{name:"Completed",value:Y.completed,color:"#10b981"},{name:"Pending",value:Y.pending,color:"#f59e0b"},{name:"Accepted",value:Y.accepted,color:"#3b82f6"},{name:"In Progress",value:Y.in_progress,color:"#8b5cf6"},{name:"Rejected",value:Y.rejected,color:"#ef4444"}].filter(J=>J.value>0),Be={},fe=new Date;fe.setDate(fe.getDate()-30);for(let J=29;J>=0;J--){const be=new Date;be.setDate(be.getDate()-J);const ge=be.toISOString().split("T")[0];Be[ge]={date:be.toLocaleDateString("en-IN",{month:"short",day:"numeric"}),credit:0,debit:0}}T.forEach(J=>{if(J.createdAt||J.timestamp){const be=new Date(J.createdAt||J.timestamp);if(be>=fe){const ge=be.toISOString().split("T")[0];Be[ge]&&(J.type==="credit"?Be[ge].credit+=J.amount||0:J.type==="debit"&&(Be[ge].debit+=J.amount||0))}}});const ne=Object.values(Be),ce=Q.sort((J,be)=>new Date(be.createdAt||be.updatedAt)-new Date(J.createdAt||J.updatedAt)).slice(0,5),pe=T.sort((J,be)=>new Date(be.createdAt||be.timestamp)-new Date(J.createdAt||J.timestamp)).slice(0,5),F=Q.filter(J=>J.status==="accepted"&&J.createdAt&&(J.acceptedAt||J.updatedAt));let ue=null;if(F.length>0){const J=F.map(Ne=>{const Ie=new Date(Ne.createdAt);return new Date(Ne.acceptedAt||Ne.updatedAt)-Ie}),be=J.reduce((Ne,Ie)=>Ne+Ie,0)/J.length,ge=be/(1e3*60*60);if(ge<1){const Ne=be/6e4;ue=`${Math.round(Ne)}m`}else ue=`${ge.toFixed(1)}h`}c({monthlyJobs:q,monthlyEarnings:G,statusDistribution:oe,transactionTrend:ne}),m(ce),h(pe),f(ue)}catch(xe){console.error("Error fetching stats:",xe)}finally{o(!1)}})()},[r,a]);const b=({percentage:A,size:D=80,strokeWidth:H=8,color:re,children:xe})=>{const we=(D-H)/2,T=we*2*Math.PI,z=T-A/100*T,Q={blue:{stroke:"#3b82f6",text:"text-blue-600"},green:{stroke:"#10b981",text:"text-green-600"},purple:{stroke:"#8b5cf6",text:"text-purple-600"},emerald:{stroke:"#10b981",text:"text-emerald-600"},orange:{stroke:"#f59e0b",text:"text-orange-600"},indigo:{stroke:"#6366f1",text:"text-indigo-600"}},B=Q[re]||Q.blue;return t.jsxs("div",{className:"relative",style:{width:D,height:D},children:[t.jsxs("svg",{width:D,height:D,className:"transform -rotate-90",children:[t.jsx("circle",{cx:D/2,cy:D/2,r:we,stroke:"#e2e8f0",strokeWidth:H,fill:"none"}),t.jsx("circle",{cx:D/2,cy:D/2,r:we,stroke:B.stroke,strokeWidth:H,fill:"none",strokeDasharray:T,strokeDashoffset:z,strokeLinecap:"round",className:"transition-all duration-1000 ease-out",style:{transition:"stroke-dashoffset 1s ease-out"}})]}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"text-center",children:xe})})]})},j=n.totalJobs>0?Math.round(n.completedJobs/n.totalJobs*100):0,w=n.totalJobs>0?Math.round(n.pendingJobs/n.totalJobs*100):0,y=Math.min(Math.round(n.walletBalance/1e5*100),100),v=Math.min(Math.round(n.teamMembers/10*100),100),N=Math.min(Math.round(n.totalEarnings/1e5*100),100),k=[{label:"Wallet Balance",value:`${n.walletBalance.toLocaleString("en-IN")}`,icon:Yt,color:"blue",bgColor:"bg-blue-500",link:"/partner/dashboard/wallet",percentage:y,subtitle:"Balance"},{label:"Total Jobs",value:n.totalJobs,icon:Jr,color:"green",bgColor:"bg-green-500",link:"/partner/dashboard/jobs",percentage:j,subtitle:`${j}% completed`},{label:"Completed Jobs",value:n.completedJobs,icon:cr,color:"purple",bgColor:"bg-purple-500",link:"/partner/dashboard/jobs",percentage:j,subtitle:"Success rate"},{label:"Total Earnings",value:`${n.totalEarnings.toLocaleString("en-IN")}`,icon:Yt,color:"emerald",bgColor:"bg-emerald-500",link:"/partner/dashboard/jobs",percentage:N,subtitle:"Total revenue"},{label:"Pending Jobs",value:n.pendingJobs,icon:Jr,color:"orange",bgColor:"bg-orange-500",link:"/partner/dashboard/jobs",percentage:w,subtitle:`${w}% pending`},{label:"Team Members",value:n.teamMembers,icon:Nr,color:"indigo",bgColor:"bg-indigo-500",link:"/partner/dashboard/team",percentage:v,subtitle:"Active members",showOnlyForFranchise:!0}].filter(A=>!A.showOnlyForFranchise||a);return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-transparent rounded-xl p-4 sm:p-6 border border-primary/20 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-primary/5 rounded-full -mr-20 -mt-20"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-primary/5 rounded-full -ml-16 -mb-16"}),t.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2 flex items-center gap-2",children:[t.jsx("span",{children:"Dashboard Overview"}),t.jsx("span",{className:"text-lg sm:text-xl",children:""})]}),t.jsxs("p",{className:"text-sm sm:text-base text-slate-600",children:["Welcome back, ",t.jsx("span",{className:"font-semibold text-primary",children:((P=e==null?void 0:e.profile)==null?void 0:P.name)||(e==null?void 0:e.name)||"Partner"}),"! "]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),t.jsxs("span",{className:"text-slate-600",children:[t.jsxs("span",{className:"font-semibold text-slate-800",children:[j,"%"]})," completion rate"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),t.jsxs("span",{className:"text-slate-600",children:[t.jsx("span",{className:"font-semibold text-slate-800",children:n.totalJobs})," total jobs"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[t.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),t.jsxs("span",{className:"text-slate-600",children:[t.jsxs("span",{className:"font-semibold text-slate-800",children:["",n.totalEarnings.toLocaleString("en-IN")]})," earned"]})]})]})]}),t.jsxs("div",{className:"text-xs sm:text-sm text-slate-500 bg-white/80 backdrop-blur-sm px-4 py-2 rounded-lg shadow-sm border border-slate-200",children:[t.jsx("div",{className:"font-medium text-slate-700 mb-0.5",children:"Today"}),new Date().toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:k.map((A,D)=>{const H=A.icon;return t.jsxs(Ht,{to:A.link,className:"bg-white rounded-xl shadow-md hover:shadow-2xl transition-all duration-300 p-4 sm:p-6 border border-slate-200 hover:border-primary/50 group transform hover:-translate-y-1 relative overflow-hidden",children:[t.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 bg-gradient-to-br ${A.bgColor} opacity-5 rounded-full -mr-12 -mt-12 group-hover:opacity-10 transition-opacity`}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:`${A.bgColor} p-2.5 sm:p-3 rounded-xl text-white shadow-lg group-hover:scale-110 transition-transform duration-300`,children:t.jsx(H,{className:"text-lg sm:text-xl"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-xs sm:text-sm font-medium text-slate-600 mb-0.5",children:A.label}),A.subtitle&&t.jsx("p",{className:"text-xs text-slate-400",children:A.subtitle})]})]}),t.jsx("p",{className:"text-xl sm:text-2xl font-bold text-slate-800 group-hover:text-primary transition-colors mb-4",children:A.value})]}),t.jsx("div",{className:"flex-shrink-0",children:t.jsx(b,{percentage:A.percentage,size:70,strokeWidth:6,color:A.color,children:t.jsxs("span",{className:`text-xs sm:text-sm font-bold ${A.color==="blue"?"text-blue-600":A.color==="green"?"text-green-600":A.color==="purple"?"text-purple-600":A.color==="emerald"?"text-emerald-600":A.color==="orange"?"text-orange-600":"text-indigo-600"}`,children:[A.percentage,"%"]})})})]}),t.jsx("div",{className:"mt-4 h-1 bg-slate-100 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full ${A.bgColor} rounded-full transition-all duration-1000 ease-out`,style:{width:`${A.percentage}%`}})})]})]},D)})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-blue-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(Jr,{className:"text-blue-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Monthly Jobs Trend"})]}),t.jsx(Ki,{width:"100%",height:250,children:t.jsxs(qB,{data:d.monthlyJobs,children:[t.jsx(ed,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),t.jsx(rd,{dataKey:"month",stroke:"#64748b"}),t.jsx(sd,{stroke:"#64748b"}),t.jsx(Xi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),t.jsx(Ru,{}),t.jsx(T5,{dataKey:"jobs",fill:"#3b82f6",name:"Jobs",radius:[8,8,0,0]})]})})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-purple-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx(cr,{className:"text-purple-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Jobs Status Distribution"})]}),d.statusDistribution.length>0?t.jsx(Ki,{width:"100%",height:250,children:t.jsxs(Qg,{children:[t.jsx(L0,{data:d.statusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:A,percent:D})=>`${A}: ${(D*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:d.statusDistribution.map((A,D)=>t.jsx(ac,{fill:A.color},`cell-${D}`))}),t.jsx(Xi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] text-slate-400",children:[t.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mb-3",children:t.jsx(cr,{className:"text-2xl text-purple-400"})}),t.jsx("p",{className:"text-sm font-medium text-slate-500",children:"No data available"}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Start completing jobs to see statistics"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-green-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(Yt,{className:"text-green-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Monthly Earnings Trend"})]}),t.jsx(Ki,{width:"100%",height:250,children:t.jsxs(c1e,{data:d.monthlyEarnings,children:[t.jsx(ed,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),t.jsx(rd,{dataKey:"month",stroke:"#64748b"}),t.jsx(sd,{stroke:"#64748b"}),t.jsx(Xi,{formatter:A=>`${A.toLocaleString("en-IN")}`,contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),t.jsx(Ru,{}),t.jsx(SB,{type:"monotone",dataKey:"earnings",stroke:"#10b981",strokeWidth:3,name:"Earnings ()",dot:{fill:"#10b981",r:4},activeDot:{r:6}})]})})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-orange-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:t.jsx(cr,{className:"text-orange-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Transaction Trend (Last 30 Days)"})]}),d.transactionTrend.length>0?t.jsx(Ki,{width:"100%",height:250,children:t.jsxs(B5,{data:d.transactionTrend,children:[t.jsx(ed,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),t.jsx(rd,{dataKey:"date",angle:-45,textAnchor:"end",height:80,stroke:"#64748b"}),t.jsx(sd,{stroke:"#64748b"}),t.jsx(Xi,{formatter:A=>`${A.toLocaleString("en-IN")}`,contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),t.jsx(Ru,{}),t.jsx(R0,{type:"monotone",dataKey:"credit",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Credits"}),t.jsx(R0,{type:"monotone",dataKey:"debit",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Debits"})]})}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] text-slate-400",children:[t.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mb-3",children:t.jsx(cr,{className:"text-2xl text-orange-400"})}),t.jsx("p",{className:"text-sm font-medium text-slate-500",children:"No transaction data"}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Transactions will appear here"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/5 to-primary/10 rounded-full -mr-16 -mt-16"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-primary to-primary-dark rounded-lg",children:t.jsx(qi,{className:"text-white text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Performance Insights"})]})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 border border-blue-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs font-medium text-blue-700",children:"Avg Response Time"}),t.jsx(qr,{className:"text-blue-600 text-sm"})]}),t.jsx("p",{className:"text-2xl font-bold text-blue-900",children:p||"0h"}),t.jsx("p",{className:"text-xs text-blue-600 mt-1",children:p?"Based on accepted jobs":"No accepted jobs yet"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl p-4 border border-emerald-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs font-medium text-emerald-700",children:"Success Rate"}),t.jsx(bn,{className:"text-emerald-600 text-sm"})]}),t.jsxs("p",{className:"text-2xl font-bold text-emerald-900",children:[j,"%"]}),t.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:[n.completedJobs," completed"]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4 border border-purple-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs font-medium text-purple-700",children:"Monthly Growth"}),t.jsx(cr,{className:"text-purple-600 text-sm"})]}),t.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[d.monthlyJobs.length>1?Math.round((((C=d.monthlyJobs[d.monthlyJobs.length-1])==null?void 0:C.jobs)||0)/Math.max(((_=d.monthlyJobs[d.monthlyJobs.length-2])==null?void 0:_.jobs)||1,1)*100):0,"%"]}),t.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"vs last month"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-4 border border-orange-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs font-medium text-orange-700",children:"Active Jobs"}),t.jsx(Yc,{className:"text-orange-600 text-sm"})]}),t.jsx("p",{className:"text-2xl font-bold text-orange-900",children:n.pendingJobs}),t.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"In progress"})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-purple-500/5 rounded-full -mr-12 -mt-12"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx(Yc,{className:"text-purple-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Recent Activity"})]}),t.jsx(Ht,{to:"/partner/dashboard/jobs",className:"text-xs text-primary hover:underline",children:"View all"})]}),t.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:u.length>0?u.map((A,D)=>{const H={completed:"bg-green-100 text-green-700 border-green-200",pending:"bg-yellow-100 text-yellow-700 border-yellow-200",accepted:"bg-blue-100 text-blue-700 border-blue-200",in_progress:"bg-purple-100 text-purple-700 border-purple-200",rejected:"bg-red-100 text-red-700 border-red-200"},re=H[A.status]||H.pending;return t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[t.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${A.status==="completed"?"bg-green-500":A.status==="in_progress"?"bg-purple-500":"bg-yellow-500"}`}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-800 truncate",children:A.serviceName||A.serviceCategory||"Service"}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full border ${re} font-medium`,children:A.status||"pending"})]}),t.jsxs("p",{className:"text-xs text-slate-600 mb-1",children:["",(A.amount||A.totalAmount||0).toLocaleString("en-IN")]}),t.jsx("p",{className:"text-xs text-slate-400",children:A.createdAt?new Date(A.createdAt).toLocaleDateString("en-IN",{month:"short",day:"numeric"}):"Recently"})]})]},D)}):t.jsxs("div",{className:"text-center py-8 text-slate-400",children:[t.jsx(Jr,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:"No recent activity"})]})})]})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-primary/5 rounded-full -mr-20 -mt-20"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-primary to-primary-dark rounded-lg",children:t.jsx(qi,{className:"text-white text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Quick Actions"})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[t.jsxs(Ht,{to:"/partner/dashboard/wallet",className:"group p-4 sm:p-5 bg-gradient-to-br from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 rounded-xl transition-all duration-300 text-center transform hover:-translate-y-1 hover:shadow-lg relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-blue-500/10 rounded-full -mr-8 -mt-8 group-hover:bg-blue-500/20 transition-colors"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform shadow-lg",children:t.jsx(Yt,{className:"text-xl sm:text-2xl text-white"})}),t.jsx("p",{className:"text-xs sm:text-sm font-semibold text-blue-800",children:"View Wallet"})]})]}),t.jsxs(Ht,{to:"/partner/dashboard/jobs",className:"group p-4 sm:p-5 bg-gradient-to-br from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 rounded-xl transition-all duration-300 text-center transform hover:-translate-y-1 hover:shadow-lg relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-green-500/10 rounded-full -mr-8 -mt-8 group-hover:bg-green-500/20 transition-colors"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform shadow-lg",children:t.jsx(Jr,{className:"text-xl sm:text-2xl text-white"})}),t.jsx("p",{className:"text-xs sm:text-sm font-semibold text-green-800",children:"Manage Jobs"})]})]}),t.jsxs(Ht,{to:"/partner/dashboard/spare-parts",className:"group p-4 sm:p-5 bg-gradient-to-br from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200 rounded-xl transition-all duration-300 text-center transform hover:-translate-y-1 hover:shadow-lg relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-purple-500/10 rounded-full -mr-8 -mt-8 group-hover:bg-purple-500/20 transition-colors"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"bg-purple-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform shadow-lg",children:t.jsx(Gr,{className:"text-xl sm:text-2xl text-white"})}),t.jsx("p",{className:"text-xs sm:text-sm font-semibold text-purple-800",children:"Spare Parts"})]})]}),t.jsxs(Ht,{to:"/partner/dashboard/transactions",className:"group p-4 sm:p-5 bg-gradient-to-br from-orange-50 to-orange-100 hover:from-orange-100 hover:to-orange-200 rounded-xl transition-all duration-300 text-center transform hover:-translate-y-1 hover:shadow-lg relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-orange-500/10 rounded-full -mr-8 -mt-8 group-hover:bg-orange-500/20 transition-colors"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"bg-orange-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform shadow-lg",children:t.jsx(cr,{className:"text-xl sm:text-2xl text-white"})}),t.jsx("p",{className:"text-xs sm:text-sm font-semibold text-orange-800",children:"Transactions"})]})]})]})]})]}),x.length>0&&t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full -mr-16 -mt-16"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:t.jsx(fs,{className:"text-emerald-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Recent Transactions"})]}),t.jsxs(Ht,{to:"/partner/dashboard/transactions",className:"text-xs text-primary hover:underline flex items-center gap-1",children:["View all ",t.jsx(hs,{className:"text-xs"})]})]}),t.jsx("div",{className:"space-y-2",children:x.slice(0,3).map((A,D)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${A.type==="credit"?"bg-green-100":"bg-red-100"}`,children:A.type==="credit"?t.jsx(cr,{className:`text-lg ${A.type==="credit"?"text-green-600":"text-red-600"}`}):t.jsx(cr,{className:`text-lg rotate-180 ${A.type==="credit"?"text-green-600":"text-red-600"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-800",children:A.description||A.type==="credit"?"Credit":"Debit"}),t.jsx("p",{className:"text-xs text-slate-500",children:A.createdAt?new Date(A.createdAt).toLocaleDateString("en-IN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Recently"})]})]}),t.jsxs("div",{className:`text-sm font-bold ${A.type==="credit"?"text-green-600":"text-red-600"}`,children:[A.type==="credit"?"+":"-","",(A.amount||0).toLocaleString("en-IN")]})]},D))})]})]})]})},Pke=()=>{var dt,Ae,ze,It,Ft,Se;const{partner:e,token:r,updatePartner:s}=dn(),[a,n]=g.useState(null),[i,l]=g.useState(!0),[o,d]=g.useState(!1),[c,u]=g.useState(!1),[m,x]=g.useState(!1),[h,p]=g.useState(!1),[f,b]=g.useState({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",landmark:"",pincode:"",city:"",gstNumber:""}),[j,w]=g.useState({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),[y,v]=g.useState({}),[N,S]=g.useState(null),[k,P]=g.useState(null),[C,_]=g.useState([]),[A,D]=g.useState([]),[H,re]=g.useState([]),[xe,we]=g.useState([]),[T,z]=g.useState([]),[Q,B]=g.useState([]),[L,R]=g.useState([]),[Z,W]=g.useState(!1),[ie,ae]=g.useState(null),[M,U]=g.useState(null),[q,G]=g.useState(!1);g.useEffect(()=>{Y(),oe(),Be()},[r]),g.useEffect(()=>{if(a&&C.length>0){const O=(a==null?void 0:a.hubs)||(e==null?void 0:e.hubs)||[];if(console.log("Profile Hubs:",O),console.log("Available Hubs:",C),O.length>0){const de=O.map(Oe=>{var Ge,kt;return typeof Oe=="string"?Oe:Oe&&typeof Oe=="object"?((Ge=Oe._id)==null?void 0:Ge.toString())||((kt=Oe.id)==null?void 0:kt.toString())||Oe.toString():Oe==null?void 0:Oe.toString()}).filter(Boolean);console.log("Setting selected hubs:",de),D(de)}else console.log("No hubs found in profile"),D([])}},[a,C,e]);const Y=async()=>{var O,de,Oe,Ge,kt,at;if(r){l(!0);try{const ft=await ut.getProfile(r);if(ft.success&&ft.profile){const ve=ft.profile;if(n(ve),b({name:ve.name||"",email:ve.email||((O=ve.profile)==null?void 0:O.email)||"",phone:ve.phone||"",whatsappNumber:ve.whatsappNumber||"",qualification:ve.qualification||"",experience:ve.experience||"",address:ve.address||((de=ve.profile)==null?void 0:de.address)||"",landmark:ve.landmark||((Oe=ve.profile)==null?void 0:Oe.landmark)||"",pincode:ve.pincode||((Ge=ve.profile)==null?void 0:Ge.pincode)||"",city:ve.city||((kt=ve.profile)==null?void 0:kt.city)||"",gstNumber:ve.gstNumber||((at=ve.profile)==null?void 0:at.gstNumber)||""}),ve.profilePicture){const Ce=ve.profilePicture.startsWith("http")?ve.profilePicture:`https://nexo.works/${ve.profilePicture}`;P(Ce)}if(ve.kyc){w(Te=>{var Xe,rt,We,ye;return{...Te,accountNumber:((Xe=ve.bankDetails)==null?void 0:Xe.accountNumber)||"",ifscCode:((rt=ve.bankDetails)==null?void 0:rt.ifscCode)||"",accountHolderName:((We=ve.bankDetails)==null?void 0:We.accountHolderName)||"",bankName:((ye=ve.bankDetails)==null?void 0:ye.bankName)||""}});const Ce={};ve.kyc.panCard&&(Ce.panCard=fe(ve.kyc.panCard)),ve.kyc.aadhaar&&(Ce.aadhaar=fe(ve.kyc.aadhaar)),ve.kyc.aadhaarback&&(Ce.aadhaarback=fe(ve.kyc.aadhaarback)),ve.kyc.chequeImage&&(Ce.chequeImage=fe(ve.kyc.chequeImage)),ve.kyc.drivingLicence&&(Ce.drivingLicence=fe(ve.kyc.drivingLicence)),ve.kyc.bill&&(Ce.bill=fe(ve.kyc.bill)),v(Ce)}if(ve.category&&ve.category.length>0){const Ce=ve.category.map(Te=>Te._id||Te);we(Ce),z(ve.categoryNames||ve.category.map(Te=>Te.name||"").filter(Boolean))}ve.subcategory&&B(Array.isArray(ve.subcategory)?ve.subcategory:[ve.subcategory]),ve.service&&R(Array.isArray(ve.service)?ve.service:[ve.service]),console.log("Profile loaded with hubs:",ve.hubs)}}catch(ft){ae(ft.message||"Failed to fetch profile")}finally{l(!1)}}},oe=async()=>{if(r)try{const O=await ut.getAvailableHubs(r),de=(O==null?void 0:O.data)||O||[];_(Array.isArray(de)?de:[])}catch(O){console.error("Failed to fetch hubs:",O)}},Be=async()=>{if(r)try{const O=await ut.getCategories(r),de=(O==null?void 0:O.data)||O||[];re(Array.isArray(de)?de:[])}catch(O){console.error("Failed to fetch categories:",O)}},fe=O=>O?O.startsWith("http")?O:`https://nexo.works/${O}`:null,ne=O=>{const de=O.target.files[0];if(de){S(de);const Oe=new FileReader;Oe.onloadend=()=>{P(Oe.result)},Oe.readAsDataURL(de)}},ce=(O,de)=>{if(de){w(Ge=>({...Ge,[O]:de}));const Oe=new FileReader;Oe.onloadend=()=>{v(Ge=>({...Ge,[O]:Oe.result}))},Oe.readAsDataURL(de)}},pe=async()=>{if(r){W(!0),ae(null),U(null);try{const O=new FormData;Object.keys(f).forEach(Oe=>{f[Oe]&&O.append(Oe,f[Oe])}),N&&O.append("profilePicture",N);const de=await ut.updateProfile(r,O);de.success?(U("Profile updated successfully!"),d(!1),s(de.profile||f),Y()):ae(de.message||"Failed to update profile")}catch(O){ae(O.message||"Failed to update profile")}finally{W(!1)}}},F=async()=>{if(r){W(!0),ae(null),U(null);try{const O=await ut.updateKYC(r,j);O.success?(U("KYC documents updated successfully!"),u(!1),Y()):ae(O.message||"Failed to update KYC")}catch(O){ae(O.message||"Failed to update KYC")}finally{W(!1)}}},ue=async()=>{if(r){W(!0),ae(null),U(null);try{const O=await ut.selectCategoryAndService(r,{partnerId:(e==null?void 0:e._id)||(a==null?void 0:a.id),category:xe,categoryNames:T,subcategory:Q,service:L});O.success?(U("Categories and services updated successfully!"),x(!1),Y()):ae(O.message||"Failed to update categories")}catch(O){ae(O.message||"Failed to update categories")}finally{W(!1)}}},J=async O=>{if(r)try{const de=O==null?void 0:O.toString(),Oe=A.some(Ge=>(Ge==null?void 0:Ge.toString())===de);Oe?(await ut.unassignHub(r,de),D(Ge=>Ge.filter(kt=>(kt==null?void 0:kt.toString())!==de))):(await ut.assignHub(r,de),D(Ge=>[...Ge,de])),U(`Hub ${Oe?"unassigned":"assigned"} successfully!`),setTimeout(()=>Y(),500)}catch(de){ae(de.message||"Failed to update hub assignment")}},be=(O,de)=>{xe.includes(O)?(we(Oe=>Oe.filter(Ge=>Ge!==O)),z(Oe=>Oe.filter(Ge=>Ge!==de))):(we(Oe=>[...Oe,O]),z(Oe=>[...Oe,de]))};if(i)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})});const ge=k||(a==null?void 0:a.profilePicture)||null,Ne=f.name||((dt=e==null?void 0:e.profile)==null?void 0:dt.name)||(e==null?void 0:e.name)||"Partner",Ie=Ne.charAt(0).toUpperCase(),Je=((Ae=a==null?void 0:a.kyc)==null?void 0:Ae.status)||"pending";return t.jsxs("div",{className:"space-y-4 md:space-y-6 px-2 sm:px-4 md:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Profile"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your complete profile information"})]}),t.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:!o&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>G(!0),className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[t.jsx(bn,{})," ID Card"]}),t.jsxs("button",{onClick:()=>d(!0),className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[t.jsx(gs,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Edit Profile"}),t.jsx("span",{className:"sm:hidden",children:"Edit"})]})]})})]}),M&&t.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-green-700",children:M}),ie&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-red-700",children:ie}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-4 md:gap-6",children:[t.jsxs("div",{className:"relative flex-shrink-0",children:[t.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden border-4 border-primary/20 bg-gradient-to-br from-primary to-primary-dark flex items-center justify-center",children:ge?t.jsx("img",{src:ge,alt:Ne,className:"w-full h-full object-cover"}):t.jsx("span",{className:"text-3xl sm:text-4xl font-bold text-white",children:Ie})}),o&&t.jsxs("label",{className:"absolute bottom-0 right-0 bg-primary text-white p-1.5 sm:p-2 rounded-full cursor-pointer hover:bg-primary-dark transition shadow-lg",children:[t.jsx(b0,{className:"text-base sm:text-lg"}),t.jsx("input",{type:"file",accept:"image/*",onChange:ne,className:"hidden"})]})]}),t.jsxs("div",{className:"flex-1 w-full text-center md:text-left",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2 justify-center md:justify-start",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:Ne}),t.jsx("div",{className:`px-2 sm:px-3 py-1 rounded-full text-xs font-semibold inline-block ${Je==="approved"?"bg-green-100 text-green-800":Je==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:Je==="approved"?" Verified":Je==="rejected"?" Rejected":" Pending"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-sm text-slate-600",children:[f.email&&t.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2",children:[t.jsx(sn,{className:"text-slate-400 flex-shrink-0"}),t.jsx("span",{className:"truncate",children:f.email})]}),f.phone&&t.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2",children:[t.jsx(an,{className:"text-slate-400 flex-shrink-0"}),t.jsxs("span",{children:["+91 ",f.phone]})]}),f.city&&t.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 sm:col-span-2",children:[t.jsx(Er,{className:"text-slate-400 flex-shrink-0"}),t.jsx("span",{children:f.city})]})]})]}),t.jsx("div",{className:"hidden lg:block flex-shrink-0",children:t.jsx(ni,{className:"opacity-60"})})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsx("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Personal Information"})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Full Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:f.name,onChange:O=>b({...f,name:O.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Email ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"email",value:f.email,onChange:O=>b({...f,email:O.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone Number"}),t.jsx("input",{type:"tel",value:f.phone,onChange:O=>b({...f,phone:O.target.value.replace(/\D/g,"").slice(0,10)}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"WhatsApp Number"}),t.jsx("input",{type:"tel",value:f.whatsappNumber,onChange:O=>b({...f,whatsappNumber:O.target.value.replace(/\D/g,"").slice(0,10)}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Qualification"}),t.jsx("input",{type:"text",value:f.qualification,onChange:O=>b({...f,qualification:O.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Experience (Years)"}),t.jsx("input",{type:"number",value:f.experience,onChange:O=>b({...f,experience:O.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),t.jsx("input",{type:"text",value:f.city,onChange:O=>b({...f,city:O.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:f.pincode,onChange:O=>b({...f,pincode:O.target.value.replace(/\D/g,"").slice(0,6)}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Address"}),t.jsx("textarea",{value:f.address,onChange:O=>b({...f,address:O.target.value}),disabled:!o,rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Landmark"}),t.jsx("input",{type:"text",value:f.landmark,onChange:O=>b({...f,landmark:O.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Number"}),t.jsx("input",{type:"text",value:f.gstNumber,onChange:O=>b({...f,gstNumber:O.target.value.toUpperCase()}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]})]}),o&&t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 sm:mt-6",children:[t.jsxs("button",{onClick:pe,disabled:Z,className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 disabled:opacity-50 text-sm sm:text-base",children:[t.jsx(Zn,{})," ",Z?"Saving...":"Save Changes"]}),t.jsxs("button",{onClick:()=>{d(!1),Y()},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[t.jsx(mt,{})," Cancel"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Categories & Services"}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-500 mt-1",children:"Select your service categories and services"})]}),!m&&t.jsxs("button",{onClick:()=>x(!0),className:"px-3 sm:px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 text-sm sm:text-base self-start sm:self-auto",children:[t.jsx(gs,{})," Edit"]})]}),T.length>0?t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Selected Categories:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:T.map((O,de)=>t.jsxs("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium flex items-center gap-2",children:[t.jsx(f4,{})," ",O]},de))})]})}):t.jsx("p",{className:"text-slate-500 text-center py-4",children:"No categories selected"}),m&&t.jsxs("div",{className:"mt-4 sm:mt-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Select Categories:"}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3 max-h-60 overflow-y-auto p-3 bg-slate-50 rounded-lg",children:H.map(O=>{const de=xe.includes(O._id||O.id);return t.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer border-2 transition ${de?"bg-primary/10 border-primary":"bg-white border-slate-200 hover:border-primary/50"}`,children:[t.jsx("input",{type:"checkbox",checked:de,onChange:()=>be(O._id||O.id,O.name),className:"w-4 h-4 text-primary rounded focus:ring-primary"}),t.jsx("span",{className:"font-medium text-slate-800",children:O.name})]},O._id||O.id)})})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("button",{onClick:ue,disabled:Z||xe.length===0,className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 disabled:opacity-50 text-sm sm:text-base",children:[t.jsx(Zn,{})," Save Categories"]}),t.jsxs("button",{onClick:()=>{x(!1),Y()},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[t.jsx(mt,{})," Cancel"]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Service Hubs"}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-500 mt-1",children:"Manage your assigned service hubs"})]}),!h&&t.jsxs("button",{onClick:()=>p(!0),className:"px-3 sm:px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 text-sm sm:text-base self-start sm:self-auto",children:[t.jsx(gs,{})," Edit"]})]}),A.length>0?t.jsx("div",{className:"space-y-3",children:C.filter(O=>{var Oe;const de=(Oe=O._id||O.id)==null?void 0:Oe.toString();return A.some(Ge=>(Ge==null?void 0:Ge.toString())===de)}).map(O=>t.jsxs("div",{className:"p-3 sm:p-4 bg-slate-50 rounded-lg border border-slate-200 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsx(h4,{className:"text-primary text-lg sm:text-xl flex-shrink-0"}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"font-semibold text-slate-800 truncate",children:O.name}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 truncate",children:[O.city,", ",O.state]})]})]}),h&&t.jsx("button",{onClick:()=>{var de;return J((de=O._id||O.id)==null?void 0:de.toString())},className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-red-100 text-red-600 rounded-lg font-semibold hover:bg-red-200 transition text-sm sm:text-base w-full sm:w-auto",children:"Remove"})]},O._id||O.id))}):t.jsx("p",{className:"text-slate-500 text-center py-4",children:"No hubs assigned"}),h&&t.jsxs("div",{className:"mt-4 sm:mt-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Available Hubs:"}),t.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto p-3 bg-slate-50 rounded-lg",children:C.map(O=>{var Ge;const de=(Ge=O._id||O.id)==null?void 0:Ge.toString(),Oe=A.some(kt=>(kt==null?void 0:kt.toString())===de);return t.jsxs("div",{className:`p-3 rounded-lg border-2 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 ${Oe?"bg-primary/10 border-primary":"bg-white border-slate-200"}`,children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 truncate",children:O.name}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 truncate",children:[O.city,", ",O.state]})]}),t.jsx("button",{onClick:()=>J(O._id||O.id),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg font-semibold transition text-sm sm:text-base w-full sm:w-auto ${Oe?"bg-red-100 text-red-600 hover:bg-red-200":"bg-primary text-white hover:bg-primary-dark"}`,children:Oe?"Remove":"Assign"})]},O._id||O.id)})})]}),t.jsx("button",{onClick:()=>{p(!1),Y()},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition text-sm sm:text-base w-full sm:w-auto",children:"Done"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"KYC Documents"}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-500 mt-1",children:"Upload and manage your KYC documents"}),((ze=a==null?void 0:a.kyc)==null?void 0:ze.status)&&t.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[t.jsx("span",{className:"text-xs font-semibold",children:"Status:"}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${a.kyc.status==="approved"?"bg-green-100 text-green-800":a.kyc.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:a.kyc.status.charAt(0).toUpperCase()+a.kyc.status.slice(1)}),a.kyc.remarks&&t.jsxs("span",{className:"text-xs text-slate-500 break-words",children:["(",a.kyc.remarks,")"]})]})]}),!c&&t.jsxs("button",{onClick:()=>u(!0),className:"px-3 sm:px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 text-sm sm:text-base self-start sm:self-auto",children:[t.jsx(gs,{})," ",t.jsx("span",{className:"hidden sm:inline",children:a!=null&&a.kyc?"Update KYC":"Upload KYC"}),t.jsx("span",{className:"sm:hidden",children:a!=null&&a.kyc?"Update":"Upload"})]})]}),c?t.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["PAN Card ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"space-y-2",children:[y.panCard&&t.jsx("img",{src:y.panCard,alt:"PAN Card",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),t.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[t.jsx(Gt,{className:"inline text-slate-400 mr-2"}),y.panCard?"Change":"Upload"," PAN Card",t.jsx("input",{type:"file",accept:"image/*",onChange:O=>ce("panCard",O.target.files[0]),className:"hidden"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Aadhaar Card (Front) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"space-y-2",children:[y.aadhaar&&t.jsx("img",{src:y.aadhaar,alt:"Aadhaar Front",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),t.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[t.jsx(Gt,{className:"inline text-slate-400 mr-2"}),y.aadhaar?"Change":"Upload"," Aadhaar Front",t.jsx("input",{type:"file",accept:"image/*",onChange:O=>ce("aadhaar",O.target.files[0]),className:"hidden"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Aadhaar Card (Back) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"space-y-2",children:[y.aadhaarback&&t.jsx("img",{src:y.aadhaarback,alt:"Aadhaar Back",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),t.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[t.jsx(Gt,{className:"inline text-slate-400 mr-2"}),y.aadhaarback?"Change":"Upload"," Aadhaar Back",t.jsx("input",{type:"file",accept:"image/*",onChange:O=>ce("aadhaarback",O.target.files[0]),className:"hidden"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Cancelled Cheque ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"space-y-2",children:[y.chequeImage&&t.jsx("img",{src:y.chequeImage,alt:"Cheque",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),t.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[t.jsx(Gt,{className:"inline text-slate-400 mr-2"}),y.chequeImage?"Change":"Upload"," Cheque",t.jsx("input",{type:"file",accept:"image/*",onChange:O=>ce("chequeImage",O.target.files[0]),className:"hidden"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Driving Licence ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"space-y-2",children:[y.drivingLicence&&t.jsx("img",{src:y.drivingLicence,alt:"Driving Licence",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),t.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[t.jsx(Gt,{className:"inline text-slate-400 mr-2"}),y.drivingLicence?"Change":"Upload"," Driving Licence",t.jsx("input",{type:"file",accept:"image/*",onChange:O=>ce("drivingLicence",O.target.files[0]),className:"hidden"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Utility Bill ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"space-y-2",children:[y.bill&&t.jsx("img",{src:y.bill,alt:"Utility Bill",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),t.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[t.jsx(Gt,{className:"inline text-slate-400 mr-2"}),y.bill?"Change":"Upload"," Utility Bill",t.jsx("input",{type:"file",accept:"image/*",onChange:O=>ce("bill",O.target.files[0]),className:"hidden"})]})]})]})]}),t.jsxs("div",{className:"border-t border-slate-200 pt-4 sm:pt-6",children:[t.jsx("h4",{className:"text-base sm:text-lg font-bold text-slate-800 mb-3 sm:mb-4",children:"Bank Details"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Account Number ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:j.accountNumber,onChange:O=>w({...j,accountNumber:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["IFSC Code ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:j.ifscCode,onChange:O=>w({...j,ifscCode:O.target.value.toUpperCase()}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Account Holder Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:j.accountHolderName,onChange:O=>w({...j,accountHolderName:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Bank Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:j.bankName,onChange:O=>w({...j,bankName:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("button",{onClick:F,disabled:Z,className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 disabled:opacity-50 text-sm sm:text-base",children:[t.jsx(Zn,{})," ",Z?"Saving...":"Save KYC"]}),t.jsxs("button",{onClick:()=>{u(!1),Y()},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[t.jsx(mt,{})," Cancel"]})]})]}):t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[((It=a==null?void 0:a.kyc)==null?void 0:It.panCard)&&t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Gt,{className:"text-primary"}),t.jsx("span",{className:"font-semibold text-slate-800",children:"PAN Card"})]}),t.jsx("img",{src:fe(a.kyc.panCard),alt:"PAN",className:"w-full h-24 object-cover rounded"})]}),((Ft=a==null?void 0:a.kyc)==null?void 0:Ft.aadhaar)&&t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Gt,{className:"text-primary"}),t.jsx("span",{className:"font-semibold text-slate-800",children:"Aadhaar Front"})]}),t.jsx("img",{src:fe(a.kyc.aadhaar),alt:"Aadhaar",className:"w-full h-24 object-cover rounded"})]}),((Se=a==null?void 0:a.kyc)==null?void 0:Se.chequeImage)&&t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(fs,{className:"text-primary"}),t.jsx("span",{className:"font-semibold text-slate-800",children:"Cheque"})]}),t.jsx("img",{src:fe(a.kyc.chequeImage),alt:"Cheque",className:"w-full h-24 object-cover rounded"})]}),!(a!=null&&a.kyc)&&t.jsx("p",{className:"text-slate-500 text-center py-4 md:col-span-3",children:"No KYC documents uploaded yet"})]})]}),q&&a&&t.jsx(Bz,{profile:a,partner:e,onClose:()=>G(!1)})]})},Ake=()=>{const{partner:e}=dn(),s=((e==null?void 0:e.partnerType)||"individual")==="franchise";return t.jsx("div",{className:"space-y-6",children:t.jsxs(Ly,{children:[t.jsx(et,{index:!0,element:t.jsx(Cke,{})}),t.jsx(et,{path:"profile",element:t.jsx(Pke,{})}),t.jsx(et,{path:"wallet",element:t.jsx(pke,{})}),s&&t.jsx(et,{path:"team",element:t.jsx(gke,{})}),t.jsx(et,{path:"jobs",element:t.jsx(jke,{})}),t.jsx(et,{path:"job-items",element:t.jsx(wke,{})}),t.jsx(et,{path:"subscription",element:t.jsx(Nke,{})}),t.jsx(et,{path:"spare-parts",element:t.jsx(Ske,{})}),t.jsx(et,{path:"transactions",element:t.jsx(kke,{})}),t.jsx(et,{path:"*",element:t.jsx(Ed,{to:"/partner/dashboard",replace:!0})})]})})},OE=()=>{const{notifications:e}=dn(),[r,s]=g.useState(!1),a=g.useRef(null),n=(e==null?void 0:e.notifications)||[],i=(e==null?void 0:e.unreadCount)||0,l=e==null?void 0:e.markAsRead,o=e==null?void 0:e.fetchNotifications;g.useEffect(()=>{const m=x=>{a.current&&!a.current.contains(x.target)&&s(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]),g.useEffect(()=>{o&&o()},[o]);const d=async(m=null)=>{if(l)try{await l(m),o&&await o()}catch(x){console.error("Error marking notification as read:",x)}},c=async m=>{if(m==null||m.preventDefault(),m==null||m.stopPropagation(),!!l)try{await l(),o&&await o()}catch(x){console.error("Error marking all as read:",x)}},u=m=>{if(!m)return"";const x=new Date(m),p=new Date-x,f=Math.floor(p/6e4),b=Math.floor(p/36e5),j=Math.floor(p/864e5);return f<1?"Just now":f<60?`${f}m ago`:b<24?`${b}h ago`:j<7?`${j}d ago`:x.toLocaleDateString()};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"relative",ref:a,children:t.jsxs("button",{onClick:()=>s(!r),className:"relative p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Notifications",children:[t.jsx(En,{className:"w-5 h-5"}),i>0&&t.jsx("span",{className:"absolute top-0 right-0 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs font-semibold text-white transition-opacity duration-200",children:i>9?"9+":i},i)]})}),r&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black/20 z-[9998]",onClick:m=>{m.stopPropagation(),s(!1)}}),t.jsxs("div",{className:"fixed right-4 top-16 lg:right-4 lg:top-20 w-80 md:w-96 bg-white rounded-xl shadow-2xl border border-slate-200 z-[9999] max-h-[calc(100vh-140px)] flex flex-col overflow-hidden",onClick:m=>{m.stopPropagation()},onMouseDown:m=>{m.stopPropagation()},children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Notifications"}),t.jsxs("div",{className:"flex items-center gap-2",children:[i>0&&t.jsx("button",{onClick:m=>{m.preventDefault(),m.stopPropagation(),c(m)},className:"text-xs text-primary hover:text-primary-dark font-medium px-2 py-1 rounded hover:bg-primary/10 transition-colors",type:"button",children:"Mark all read"}),t.jsx("button",{onClick:m=>{m.stopPropagation(),s(!1)},className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",type:"button",children:t.jsx(mt,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:"overflow-y-auto flex-1",children:n.length===0?t.jsxs("div",{className:"p-8 text-center text-slate-500",children:[t.jsx(En,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),t.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):t.jsx("div",{className:"divide-y divide-slate-100",children:n.map(m=>{const x=!m.read;return t.jsx("div",{className:`p-4 hover:bg-slate-50 transition-colors cursor-pointer ${x?"bg-blue-50/50":""}`,onClick:h=>{h.stopPropagation(),x&&d(m._id||m.id)},onMouseDown:h=>{h.stopPropagation()},children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:t.jsx("div",{className:`w-2 h-2 rounded-full ${x?"bg-primary":"bg-slate-300"}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`text-sm font-medium line-clamp-2 ${x?"text-slate-900":"text-slate-600"}`,children:m.title||"New notification"}),m.message&&t.jsx("p",{className:"text-xs text-slate-600 mt-1 line-clamp-2",children:m.message}),t.jsx("p",{className:"text-xs text-slate-400 mt-2",children:u(m.createdAt||m.date)})]}),x&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})})]})},m._id||m.id||Math.random())})})}),n.length>0&&t.jsx("div",{className:"p-3 border-t border-slate-200 bg-slate-50",children:t.jsx("button",{onClick:m=>{m.stopPropagation(),s(!1)},className:"w-full text-sm text-center text-primary hover:text-primary-dark font-medium",type:"button",children:"View all notifications"})})]})]})]})},Tke=()=>{var m;const{partner:e,logout:r,notifications:s}=dn(),a=er();zr();const[n,i]=g.useState(!1),l=()=>{r(),a("/partner/login",{replace:!0})},o=((m=e==null?void 0:e.profile)==null?void 0:m.name)||(e==null?void 0:e.name)||"Partner",d=o.charAt(0).toUpperCase(),c=(e==null?void 0:e.partnerType)||"individual",u=c==="franchise";return g.useEffect(()=>{console.log("Partner Layout - Partner Data:",{partnerType:c,showTeamTab:u,hasPartner:!!e,partnerKeys:e?Object.keys(e):[]})},[e,c,u]),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex flex-col",children:[t.jsx("header",{className:"lg:hidden bg-white shadow-md border-b border-slate-200 fixed top-0 left-0 right-0 z-[60] w-full",children:t.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>i(!n),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:n?t.jsx(mt,{className:"text-xl"}):t.jsx(Zy,{className:"text-xl"})}),t.jsx(ni,{className:"scale-75 origin-left"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(OE,{}),e!=null&&e.profilePicture?t.jsx("img",{src:e.profilePicture.startsWith("http")?e.profilePicture:`https://nexo.works/${e.profilePicture}`,alt:o,className:"w-10 h-10 rounded-full object-cover border-2 border-primary/20"}):t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold shadow-md",children:d})]})]})}),t.jsxs("div",{className:"flex relative flex-1 pt-[64px] lg:pt-0",children:[t.jsxs("aside",{className:"hidden lg:flex lg:w-64 flex-col bg-white shadow-xl border-r border-slate-200 fixed top-0 left-0 h-screen overflow-hidden z-40",children:[t.jsx("div",{className:"px-4 py-4 border-b border-slate-200 flex-shrink-0 bg-white sticky top-0 z-10",children:t.jsx(ni,{className:"scale-75 origin-left"})}),t.jsx("div",{className:"px-4 py-4 border-b border-slate-200 bg-gradient-to-br from-primary/5 to-primary/10 flex-shrink-0",children:t.jsxs("div",{className:"flex items-center gap-3",children:[e!=null&&e.profilePicture?t.jsx("img",{src:e.profilePicture.startsWith("http")?e.profilePicture:`https://nexo.works/${e.profilePicture}`,alt:o,className:"w-12 h-12 rounded-full object-cover border-2 border-primary/20"}):t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-lg border-2 border-primary/20",children:d}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 truncate text-sm",children:o}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:(e==null?void 0:e.phone)||"N/A"})]}),t.jsx(OE,{})]})}),t.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",children:[t.jsx(ml,{to:"/partner/dashboard",icon:rn,label:"Dashboard"}),t.jsx(ml,{to:"/partner/dashboard/profile",icon:Or,label:"Profile"}),t.jsx(ml,{to:"/partner/dashboard/wallet",icon:Yt,label:"Wallet"}),u&&t.jsx(ml,{to:"/partner/dashboard/team",icon:Nr,label:"Team"}),t.jsx(ml,{to:"/partner/dashboard/jobs",icon:Jr,label:"Jobs"}),t.jsx(ml,{to:"/partner/dashboard/job-items",icon:Oa,label:"Job Items"}),t.jsx(ml,{to:"/partner/dashboard/subscription",icon:fs,label:"MG Plan"}),t.jsx(ml,{to:"/partner/dashboard/spare-parts",icon:Gr,label:"Spare Parts"}),t.jsx(ml,{to:"/partner/dashboard/transactions",icon:Yt,label:"Transactions"})]}),t.jsx("div",{className:"px-4 py-4 border-t border-slate-200 flex-shrink-0 bg-white sticky bottom-0 z-10",children:t.jsxs("button",{onClick:l,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-semibold rounded-lg bg-red-50 hover:bg-red-100 text-red-600 transition",children:[t.jsx(Go,{})," Logout"]})})]}),n&&t.jsx("div",{className:"lg:hidden fixed inset-0 z-[70] bg-black/50 backdrop-blur-sm transition-opacity",onClick:()=>i(!1),children:t.jsxs("div",{className:"w-80 max-w-[85vw] bg-white h-full shadow-2xl overflow-y-auto flex flex-col",onClick:x=>x.stopPropagation(),children:[t.jsxs("div",{className:"px-4 py-4 border-b border-slate-200 flex-shrink-0 sticky top-0 bg-white z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx(ni,{className:"scale-75 origin-left"}),t.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:t.jsx(mt,{className:"text-xl"})})]}),t.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-br from-primary/5 to-primary/10 p-3 rounded-lg",children:[e!=null&&e.profilePicture?t.jsx("img",{src:e.profilePicture.startsWith("http")?e.profilePicture:`https://nexo.works/${e.profilePicture}`,alt:o,className:"w-10 h-10 rounded-full object-cover border-2 border-primary/20"}):t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold border-2 border-primary/20",children:d}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 truncate text-sm",children:o}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:(e==null?void 0:e.phone)||"N/A"})]})]})]}),t.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:[t.jsx(hl,{to:"/partner/dashboard",icon:rn,label:"Dashboard",onClick:()=>i(!1)}),t.jsx(hl,{to:"/partner/dashboard/profile",icon:Or,label:"Profile",onClick:()=>i(!1)}),t.jsx(hl,{to:"/partner/dashboard/wallet",icon:Yt,label:"Wallet",onClick:()=>i(!1)}),u&&t.jsx(hl,{to:"/partner/dashboard/team",icon:Nr,label:"Team",onClick:()=>i(!1)}),t.jsx(hl,{to:"/partner/dashboard/jobs",icon:Jr,label:"Jobs",onClick:()=>i(!1)}),t.jsx(hl,{to:"/partner/dashboard/job-items",icon:Oa,label:"Job Items",onClick:()=>i(!1)}),t.jsx(hl,{to:"/partner/dashboard/subscription",icon:fs,label:"MG Plan",onClick:()=>i(!1)}),t.jsx(hl,{to:"/partner/dashboard/spare-parts",icon:Gr,label:"Spare Parts",onClick:()=>i(!1)}),t.jsx(hl,{to:"/partner/dashboard/transactions",icon:Yt,label:"Transactions",onClick:()=>i(!1)})]}),t.jsx("div",{className:"px-6 py-6 border-t border-slate-200 flex-shrink-0 sticky bottom-0 bg-white z-10",children:t.jsxs("button",{onClick:l,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold rounded-xl bg-red-50 hover:bg-red-100 text-red-600 transition",type:"button",children:[t.jsx(Go,{})," Logout"]})})]})}),t.jsx("div",{className:"flex-1 min-w-0 w-full lg:ml-64",children:t.jsx("main",{className:"p-4 sm:p-6 lg:p-8 min-h-screen",children:t.jsx(so,{})})})]}),t.jsx(E4,{notification:s==null?void 0:s.currentNotification,onClose:(s==null?void 0:s.closeNotificationDialog)||(()=>{}),onMarkAsRead:(s==null?void 0:s.markNotificationAsRead)||(()=>{})})]})},ml=({to:e,icon:r,label:s})=>{const a=zr(),n=a.pathname===e||a.pathname.startsWith(e+"/");return t.jsxs(Ht,{to:e,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 relative group ${n?"bg-primary text-white shadow-md shadow-primary/20":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,children:[t.jsx(r,{className:`text-base transition-transform duration-200 ${n?"scale-110":"group-hover:scale-110"}`}),t.jsx("span",{className:"relative z-10",children:s}),n&&t.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-white rounded-r-full"})]})},hl=({to:e,icon:r,label:s,onClick:a})=>{const n=zr(),i=n.pathname===e||n.pathname.startsWith(e+"/");return t.jsxs(Ht,{to:e,onClick:a,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition ${i?"bg-primary text-white shadow-md":"text-slate-600 hover:bg-slate-100"}`,children:[t.jsx(r,{className:"text-base"}),s]})},Eke=()=>{const{isAuthenticated:e,isLoading:r}=dn(),s=zr();return r?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),t.jsx("p",{className:"text-sm font-medium tracking-wide text-white/80",children:"Loading partner portal..."})]})}):e?t.jsx(so,{}):t.jsx(Ed,{to:"/partner/login",state:{from:s},replace:!0})},_E="https://nexo.works",rs=e=>e.startsWith("/api/")?`${_E}${e}`:`${_E}/api/vendor${e}`,Ns=e=>{const r={"Content-Type":"application/json"};return e&&(r.Authorization=`Bearer ${e}`),r},ss=async e=>{const r=e.headers.get("content-type"),s=r&&r.includes("application/json");let a;try{a=s?await e.json():await e.text()}catch(n){throw console.error("Error parsing response:",n),new Error("Invalid response from server")}if(!e.ok){const n=a!=null&&a.message||a!=null&&a.error||(a==null?void 0:a.success)===!1?a==null?void 0:a.message:"Request failed",i=new Error(n);throw i.status=e.status,i.data=a,i}return a},bs={async sendOTP(e){try{const r=rs("/auth/send-otp");console.log(" Vendor OTP API call:",{url:r,phone:e});const s=await fetch(r,{method:"POST",headers:Ns(),body:JSON.stringify({phone:e})});return console.log(" Vendor OTP API response status:",s.status),ss(s)}catch(r){throw console.error(" Vendor OTP API fetch error:",r),r}},async verifyOTP(e,r){const s=await fetch(rs("/auth/verify-otp"),{method:"POST",headers:Ns(),body:JSON.stringify({phone:e,otp:r})});return ss(s)},async loginWithPassword(e,r){const s=await fetch(rs("/auth/login"),{method:"POST",headers:Ns(),body:JSON.stringify({email:e,password:r})});return ss(s)},async updateFCMToken(e,r){const s=await fetch(rs("/auth/update-fcm-token"),{method:"PUT",headers:Ns(e),body:JSON.stringify({token:r})});return ss(s)},async getProfile(e){const r=await fetch(rs("/auth/profile"),{headers:Ns(e)});return ss(r)},async getSpareParts(e,r={}){const s=new URLSearchParams(r).toString(),a=rs(`/spare-parts${s?`?${s}`:""}`),n=await fetch(a,{headers:Ns(e)});return ss(n)},async getSparePart(e,r){const s=await fetch(rs(`/spare-parts/${r}`),{headers:Ns(e)});return ss(s)},async addSparePart(e,r){const s=await fetch(rs("/spare-parts"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:r});return ss(s)},async updateSparePart(e,r,s){const a=await fetch(rs(`/spare-parts/${r}`),{method:"PUT",headers:{Authorization:`Bearer ${e}`},body:s});return ss(a)},async deleteSparePart(e,r){const s=await fetch(rs(`/spare-parts/${r}`),{method:"DELETE",headers:Ns(e)});return ss(s)},async getCategories(e){const r=await fetch(rs("/spare-parts/categories"),{headers:Ns(e)});return ss(r)},async getBookings(e,r={}){const s=new URLSearchParams(r).toString(),a=rs(`/bookings${s?`?${s}`:""}`),n=await fetch(a,{headers:Ns(e)});return ss(n)},async getBooking(e,r){const s=await fetch(rs(`/bookings/${r}`),{headers:Ns(e)});return ss(s)},async updateBookingStatus(e,r,s){const a=await fetch(rs(`/bookings/${r}/status`),{method:"PUT",headers:Ns(e),body:JSON.stringify(s)});return ss(a)},async getBookingStats(e){const r=await fetch(rs("/bookings/stats"),{headers:Ns(e)});return ss(r)},async getTransactions(e,r={}){const s=new URLSearchParams(r).toString(),a=rs(`/transactions${s?`?${s}`:""}`),n=await fetch(a,{headers:Ns(e)});return ss(n)},async getTransaction(e,r){const s=await fetch(rs(`/transactions/${r}`),{headers:Ns(e)});return ss(s)},async getTransactionStats(e){const r=await fetch(rs("/transactions/stats"),{headers:Ns(e)});return ss(r)},async createTransaction(e,r){const s=await fetch(rs("/transactions"),{method:"POST",headers:Ns(e),body:JSON.stringify(r)});return ss(s)},async getNotifications(e){try{const r=await fetch(rs("/notifications"),{headers:Ns(e)});return ss(r)}catch(r){if(console.error("Error fetching vendor notifications:",r),r.message&&(r.message.includes("Failed to fetch")||r.message.includes("ERR_CONNECTION_REFUSED")))return{success:!1,notifications:[],message:"Unable to connect to server"};throw r}},async markNotificationAsRead(e,r){const s=await fetch(rs(`/notifications/${r}/mark-read`),{method:"PUT",headers:Ns(e)});return ss(s)},async markNotificationsAsRead(e){const r=await fetch(rs("/notifications/mark-read"),{method:"PUT",headers:Ns(e)});return ss(r)}},Gz=g.createContext(null),Kz={isLoading:!0,isAuthenticated:!1,vendor:null,token:null,error:null};function Ike(e,r){var s,a,n;switch(r.type){case"INIT":return{...e,isLoading:!1,isAuthenticated:!!((s=r.payload)!=null&&s.token),vendor:((a=r.payload)==null?void 0:a.vendor)??null,token:((n=r.payload)==null?void 0:n.token)??null};case"LOGIN_START":return{...e,isLoading:!0,error:null};case"LOGIN_SUCCESS":return{...e,isLoading:!1,isAuthenticated:!0,vendor:r.payload.vendor,token:r.payload.token,error:null};case"LOGIN_ERROR":return{...e,isLoading:!1,isAuthenticated:!1,vendor:null,token:null,error:r.payload};case"LOGOUT":return{...Kz,isLoading:!1};case"UPDATE_VENDOR":return{...e,vendor:{...e.vendor,...r.payload}};default:return e}}const Oke=({children:e})=>{const[r,s]=g.useReducer(Ike,Kz);g.useEffect(()=>{const i=localStorage.getItem("nexo_vendor_auth");if(i)try{const l=JSON.parse(i);s({type:"INIT",payload:l})}catch(l){console.error("Failed to parse vendor auth cache",l),localStorage.removeItem("nexo_vendor_auth"),s({type:"INIT",payload:null})}else s({type:"INIT",payload:null})},[]);const a=T4(bs,r.token,r.isAuthenticated),n=g.useMemo(()=>({...r,notifications:a,login:async(i,l)=>{s({type:"LOGIN_START"});try{const o=await bs.verifyOTP(i,l);if(o.success&&o.vendor){const d={token:o.vendor.token,vendor:o.vendor};return localStorage.setItem("nexo_vendor_auth",JSON.stringify(d)),s({type:"LOGIN_SUCCESS",payload:d}),d}else throw new Error(o.message||"Login failed")}catch(o){const d=(o==null?void 0:o.message)??"Unable to login";throw s({type:"LOGIN_ERROR",payload:d}),new Error(d)}},loginWithPassword:async(i,l)=>{var o;s({type:"LOGIN_START"});try{const d=await bs.loginWithPassword(i,l);if(console.log("Login response:",d),d.success&&d.vendor){const c={token:d.vendor.token,vendor:d.vendor};return localStorage.setItem("nexo_vendor_auth",JSON.stringify(c)),s({type:"LOGIN_SUCCESS",payload:c}),c}else{const c=d.message||"Login failed";throw console.error("Login failed:",c,d),new Error(c)}}catch(d){console.error("Login error caught:",d);const c=(d==null?void 0:d.message)||((o=d==null?void 0:d.data)==null?void 0:o.message)||"Unable to login";throw s({type:"LOGIN_ERROR",payload:c}),new Error(c)}},logout:()=>{localStorage.removeItem("nexo_vendor_auth"),s({type:"LOGOUT"})},clearError:()=>s({type:"LOGIN_ERROR",payload:null}),updateVendor:i=>{const l=localStorage.getItem("nexo_vendor_auth");if(l)try{const o=JSON.parse(l);o.vendor={...o.vendor,...i},localStorage.setItem("nexo_vendor_auth",JSON.stringify(o)),s({type:"UPDATE_VENDOR",payload:i})}catch(o){console.error("Failed to update vendor data",o)}}}),[r,a]);return t.jsx(Gz.Provider,{value:n,children:e})},xo=()=>{const e=g.useContext(Gz);if(!e)throw new Error("useVendorAuth must be used within VendorAuthProvider");return e},_ke=()=>{const e=er(),{login:r,loginWithPassword:s,error:a,clearError:n}=xo(),[i,l]=g.useState("password"),[o,d]=g.useState(1),[c,u]=g.useState({phone:"",email:"",password:"",otp:""}),[m,x]=g.useState(!1),[h,p]=g.useState(null),[f,b]=g.useState(!1),[j,w]=g.useState(0);_t.useEffect(()=>{let P=null;return j>0&&(P=setInterval(()=>{w(C=>C-1)},1e3)),()=>{P&&clearInterval(P)}},[j]);const y=async P=>{var C;if(P.preventDefault(),P.stopPropagation(),p(null),n(),!c.phone||c.phone.length!==10){p("Please enter a valid 10-digit phone number");return}x(!0);try{console.log(" Vendor OTP request initiated for:",c.phone);const _=await bs.sendOTP(c.phone);if(console.log(" Vendor OTP API response:",_),_&&_.success)b(!0),d(2),w(60);else{const A=(_==null?void 0:_.message)||(_==null?void 0:_.error)||"Failed to send OTP";p(A),console.error(" Vendor OTP failed:",A)}}catch(_){console.error(" Vendor OTP error:",_);const A=_.message||((C=_.data)==null?void 0:C.message)||"Failed to send OTP. Please try again.";p(A)}finally{x(!1)}},v=async P=>{var C;if(P.preventDefault(),p(null),n(),!c.email||!c.password){p("Please enter email and password");return}x(!0);try{await s(c.email.trim(),c.password),e("/vendor/dashboard",{replace:!0})}catch(_){const A=_.message||((C=_.data)==null?void 0:C.message)||"Login failed. Please check your credentials.";p(A),console.error("Login error:",_)}finally{x(!1)}},N=async()=>{if(!(j>0)){x(!0),p(null);try{const P=await bs.sendOTP(c.phone);P.success?w(60):p(P.message||"Failed to resend OTP")}catch(P){p(P.message||"Failed to resend OTP")}finally{x(!1)}}},S=async P=>{if(P.preventDefault(),p(null),n(),!c.otp||c.otp.length!==6){p("Please enter a valid 6-digit OTP");return}x(!0);try{await r(c.phone,c.otp),e("/vendor/dashboard",{replace:!0})}catch(C){p(C.message||"Invalid OTP. Please try again.")}finally{x(!1)}},k=P=>{const{name:C,value:_}=P.target;let A=_;(C==="phone"||C==="otp")&&(A=_.replace(/\D/g,"").slice(0,C==="otp"?6:10)),u(D=>({...D,[C]:A})),p(null),a&&n()};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center px-4 py-10",children:t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-full mb-4",children:t.jsx(Ms,{className:"text-2xl text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Vendor Login"}),t.jsx("p",{className:"text-slate-300",children:"Welcome back! Please login to continue"})]}),o===1&&t.jsxs("div",{className:"mb-6 flex gap-2 bg-white/5 rounded-lg p-1",children:[t.jsx("button",{type:"button",onClick:()=>{l("password"),u({phone:"",email:"",password:"",otp:""}),p(null)},className:`flex-1 py-2 px-4 rounded-md text-sm font-semibold transition ${i==="password"?"bg-primary text-white":"text-slate-300 hover:text-white"}`,children:"Password"}),t.jsx("button",{type:"button",onClick:()=>{l("otp"),u({phone:"",email:"",password:"",otp:""}),p(null)},className:`flex-1 py-2 px-4 rounded-md text-sm font-semibold transition ${i==="otp"?"bg-primary text-white":"text-slate-300 hover:text-white"}`,children:"OTP"})]}),(h||a)&&t.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-xl text-red-200 text-sm",children:h||a}),i==="password"&&o===1&&t.jsxs("form",{onSubmit:v,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(sn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"email",name:"email",value:c.email,onChange:k,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter your email",required:!0,disabled:m})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ms,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"password",name:"password",value:c.password,onChange:k,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter your password",required:!0,disabled:m})]})]}),t.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:m?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Logging in..."]}):t.jsxs(t.Fragment,{children:["Login",t.jsx(hs,{})]})})]}),i==="otp"&&o===1&&t.jsxs("form",{onSubmit:y,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Phone Number"}),t.jsxs("div",{className:"relative",children:[t.jsx(an,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"tel",name:"phone",value:c.phone,onChange:k,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0,disabled:m})]})]}),t.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:m?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Sending OTP..."]}):t.jsxs(t.Fragment,{children:["Send OTP",t.jsx(hs,{})]})})]}),i==="otp"&&o===2&&t.jsxs("form",{onSubmit:S,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Enter OTP"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ms,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",name:"otp",value:c.otp,onChange:k,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-center text-2xl tracking-widest",placeholder:"000000",maxLength:6,required:!0,disabled:m,autoFocus:!0})]}),t.jsxs("p",{className:"mt-2 text-xs text-slate-400 text-center",children:["OTP sent to +91 ",c.phone]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("button",{type:"button",onClick:()=>{d(1),u(P=>({...P,otp:""})),b(!1),w(0)},className:"text-slate-300 hover:text-white transition",children:"Change Number"}),t.jsx("button",{type:"button",onClick:N,disabled:j>0||m,className:"text-primary hover:text-primary-light transition disabled:opacity-50 disabled:cursor-not-allowed",children:j>0?`Resend OTP in ${j}s`:"Resend OTP"})]}),t.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:m?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Verifying..."]}):t.jsxs(t.Fragment,{children:["Login",t.jsx(hs,{})]})})]})]})})})},Mke=()=>{const{token:e,vendor:r}=xo(),[s,a]=g.useState({totalSpareParts:0,totalBookings:0,totalRevenue:0,pendingBookings:0,completedBookings:0,cancelledBookings:0,monthlyRevenue:0,averageOrderValue:0,lowStockItems:0}),[n,i]=g.useState(!0),[l,o]=g.useState({monthlyRevenue:[],bookingStatus:[],monthlyBookings:[]}),[d,c]=g.useState([]),[u,m]=g.useState([]),[x,h]=g.useState({revenueTrend:0,bookingsTrend:0}),p=g.useCallback(async()=>{var y;if(e)try{const[v,N,S]=await Promise.all([bs.getSpareParts(e),bs.getBookings(e),bs.getTransactionStats(e)]),k=v.data||v.spareParts||[],P=N.data||N.bookings||[],C=S.data||S||{},_=C.totalCredits||0,A=C.totalDebits||0,D=C.balance||_-A,H=P.filter(W=>W.status==="completed").length,re=P.filter(W=>W.status==="pending"||W.status==="confirmed").length,xe=P.filter(W=>W.status==="cancelled").length,we=P.filter(W=>W.status==="completed"&&W.totalAmount),T=we.length>0?we.reduce((W,ie)=>W+(ie.totalAmount||0),0)/we.length:0,z=k.filter(W=>(W.stock||0)<10).length,Q=f(P,[]),B=[{name:"Completed",value:H,color:"#10b981"},{name:"Pending",value:re,color:"#f59e0b"},{name:"Cancelled",value:xe,color:"#ef4444"}],L=b(P),R=j(Q),Z=j(L);a({totalSpareParts:k.length,totalBookings:P.length,totalRevenue:D,pendingBookings:re,completedBookings:H,cancelledBookings:xe,monthlyRevenue:((y=Q[Q.length-1])==null?void 0:y.revenue)||0,averageOrderValue:T,lowStockItems:z}),o({monthlyRevenue:Q,bookingStatus:B,monthlyBookings:L}),h({revenueTrend:R,bookingsTrend:Z}),c(P.slice(0,5));try{const W=await bs.getTransactions(e),ie=W.data||W.transactions||[];m(ie.slice(0,5))}catch(W){console.error("Failed to fetch recent transactions:",W),m([])}}catch(v){console.error("Failed to fetch dashboard data:",v)}finally{i(!1)}},[e]);g.useEffect(()=>{if(!e)return;p();const y=setInterval(()=>{p()},3e5);return()=>clearInterval(y)},[e,p]);const f=(y,v=[])=>{const N=[],S=new Date;for(let k=5;k>=0;k--){const P=new Date(S.getFullYear(),S.getMonth()-k,1),C=P.toLocaleDateString("en-US",{month:"short"}),A=y.filter(D=>{const H=new Date(D.orderDate||D.createdAt);return H.getMonth()===P.getMonth()&&H.getFullYear()===P.getFullYear()&&D.status==="completed"}).reduce((D,H)=>D+(H.totalAmount||0),0);N.push({month:C,revenue:Math.round(A)})}return N},b=y=>{const v=[],N=new Date;for(let S=5;S>=0;S--){const k=new Date(N.getFullYear(),N.getMonth()-S,1),P=k.toLocaleDateString("en-US",{month:"short"}),C=y.filter(_=>{const A=new Date(_.orderDate||_.createdAt);return A.getMonth()===k.getMonth()&&A.getFullYear()===k.getFullYear()});v.push({month:P,bookings:C.length})}return v},j=y=>{var S,k,P,C;if(y.length<2)return 0;const v=((S=y[y.length-1])==null?void 0:S.revenue)||((k=y[y.length-1])==null?void 0:k.bookings)||0,N=((P=y[y.length-2])==null?void 0:P.revenue)||((C=y[y.length-2])==null?void 0:C.bookings)||0;return N===0?v>0?100:0:Math.round((v-N)/N*100)};if(n)return t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600",children:"Loading dashboard..."})]})});const w=[{title:"Total Revenue",value:`${s.totalRevenue.toLocaleString("en-IN")}`,icon:Yt,color:"text-emerald-600",bgColor:"bg-emerald-50",borderColor:"border-emerald-200",trend:x.revenueTrend,subtitle:`${s.monthlyRevenue.toLocaleString("en-IN")} this month`},{title:"Total Bookings",value:s.totalBookings,icon:Oa,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",trend:x.bookingsTrend,subtitle:`${s.completedBookings} completed`},{title:"Spare Parts",value:s.totalSpareParts,icon:Gr,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",subtitle:s.lowStockItems>0?`${s.lowStockItems} low stock`:"All in stock"},{title:"Pending Orders",value:s.pendingBookings,icon:qr,color:"text-amber-600",bgColor:"bg-amber-50",borderColor:"border-amber-200",subtitle:"Requires attention"}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:["Welcome back, ",(r==null?void 0:r.name)||"Vendor","!"]}),t.jsx("p",{className:"text-slate-600",children:"Here's what's happening with your business today"})]}),t.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors text-sm font-medium text-slate-700",children:[t.jsx(Dt,{className:"w-4 h-4"}),"Refresh"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map((y,v)=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-lg hover:border-primary/20 transition-all duration-300 group cursor-pointer",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("div",{className:`${y.bgColor} p-3 rounded-xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-sm`,children:t.jsx(y.icon,{className:`${y.color} text-xl`})}),y.trend!==void 0&&y.trend!==0&&t.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold ${y.trend>=0?"bg-emerald-50 text-emerald-700 border border-emerald-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[y.trend>=0?t.jsx(cr,{className:"w-3 h-3"}):t.jsx(hd,{className:"w-3 h-3"}),Math.abs(y.trend),"%"]})]}),t.jsx("h3",{className:"text-sm font-semibold text-slate-600 mb-2",children:y.title}),t.jsx("p",{className:"text-3xl font-bold text-slate-800 mb-2 group-hover:text-primary transition-colors",children:y.value}),y.subtitle&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-400"}),t.jsx("p",{className:"text-xs text-slate-500",children:y.subtitle})]})]},v))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Revenue Trend"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Last 6 months"})]}),t.jsx("div",{className:"p-2 bg-emerald-50 rounded-lg",children:t.jsx(y0,{className:"w-5 h-5 text-emerald-600"})})]}),l.monthlyRevenue.length>0&&l.monthlyRevenue.some(y=>y.revenue>0)?t.jsx(Ki,{width:"100%",height:250,children:t.jsxs(B5,{data:l.monthlyRevenue,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),t.jsx(ed,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),t.jsx(rd,{dataKey:"month",stroke:"#64748b",fontSize:12}),t.jsx(sd,{stroke:"#64748b",fontSize:12}),t.jsx(Xi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:y=>[`${y.toLocaleString("en-IN")}`,"Revenue"]}),t.jsx(R0,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)"})]})}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] text-center py-8",children:[t.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(y0,{className:"w-10 h-10 text-slate-400"})}),t.jsx("p",{className:"text-slate-600 font-medium mb-1",children:"No Revenue Data"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Revenue data will appear here once you start receiving payments"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Booking Status"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Distribution overview"})]}),t.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:t.jsx(Yc,{className:"w-5 h-5 text-blue-600"})})]}),l.bookingStatus.length>0&&l.bookingStatus.some(y=>y.value>0)?t.jsx(Ki,{width:"100%",height:250,children:t.jsxs(Qg,{children:[t.jsx(L0,{data:l.bookingStatus,cx:"50%",cy:"50%",labelLine:!1,label:({name:y,percent:v})=>`${y}: ${(v*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:l.bookingStatus.map((y,v)=>t.jsx(ac,{fill:y.color},`cell-${v}`))}),t.jsx(Xi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] text-center py-8",children:[t.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Yc,{className:"w-10 h-10 text-slate-400"})}),t.jsx("p",{className:"text-slate-600 font-medium mb-1",children:"No Booking Data"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Booking statistics will appear here once you receive orders"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Recent Bookings"}),t.jsxs(Ht,{to:"/vendor/dashboard/bookings",className:"text-sm text-primary hover:text-primary-dark font-medium flex items-center gap-1",children:["View all",t.jsx(hs,{className:"w-4 h-4"})]})]}),t.jsx("div",{className:"space-y-3",children:d.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Oa,{className:"w-8 h-8 text-slate-400"})}),t.jsx("p",{className:"text-slate-600 font-medium mb-1",children:"No Recent Bookings"}),t.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Your recent bookings will appear here"}),t.jsxs(Ht,{to:"/vendor/dashboard/add-spare-part",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm font-medium",children:[t.jsx(Gr,{className:"w-4 h-4"}),"Add Spare Parts"]})]}):d.map(y=>{var v,N;return t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-slate-50 to-white rounded-xl border border-slate-200 hover:border-primary/30 hover:shadow-md transition-all duration-200 group",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsx("div",{className:`p-2 rounded-lg ${y.status==="completed"?"bg-emerald-100":y.status==="pending"?"bg-amber-100":y.status==="cancelled"?"bg-red-100":"bg-blue-100"}`,children:t.jsx(Oa,{className:`w-4 h-4 ${y.status==="completed"?"text-emerald-600":y.status==="pending"?"text-amber-600":y.status==="cancelled"?"text-red-600":"text-blue-600"}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 text-sm truncate group-hover:text-primary transition-colors",children:((v=y.sparePart)==null?void 0:v.name)||y.sparePartName||"Spare Part"}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx("p",{className:"text-xs text-slate-600",children:((N=y.customer)==null?void 0:N.name)||"Customer"}),t.jsx("span",{className:"text-slate-300",children:""}),t.jsx("p",{className:"text-xs text-slate-500",children:new Date(y.orderDate||y.createdAt).toLocaleDateString()})]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[t.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-semibold border ${y.status==="completed"?"bg-emerald-50 text-emerald-700 border-emerald-200":y.status==="pending"?"bg-amber-50 text-amber-700 border-amber-200":y.status==="cancelled"?"bg-red-50 text-red-700 border-red-200":"bg-blue-50 text-blue-700 border-blue-200"}`,children:y.status}),t.jsxs("span",{className:"font-bold text-slate-800 text-lg",children:["",(y.totalAmount||0).toLocaleString("en-IN")]})]})]},y._id||y.id)})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Recent Transactions"}),t.jsxs(Ht,{to:"/vendor/dashboard/transactions",className:"text-sm text-primary hover:text-primary-dark font-medium flex items-center gap-1",children:["View all",t.jsx(hs,{className:"w-4 h-4"})]})]}),t.jsx("div",{className:"space-y-3",children:u.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Yt,{className:"w-8 h-8 text-slate-400"})}),t.jsx("p",{className:"text-slate-600 font-medium mb-1",children:"No Recent Transactions"}),t.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Transaction history will appear here"}),t.jsxs(Ht,{to:"/vendor/dashboard/bookings",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm font-medium",children:[t.jsx(Oa,{className:"w-4 h-4"}),"View Bookings"]})]}):u.map(y=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-slate-50 to-white rounded-xl border border-slate-200 hover:border-primary/30 hover:shadow-md transition-all duration-200 group",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsx("div",{className:`p-2.5 rounded-lg shadow-sm ${y.type==="credit"?"bg-emerald-100":"bg-red-100"}`,children:y.type==="credit"?t.jsx(cr,{className:"w-5 h-5 text-emerald-600"}):t.jsx(hd,{className:"w-5 h-5 text-red-600"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 text-sm group-hover:text-primary transition-colors",children:y.description||(y.type==="credit"?"Payment Received":"Payment Sent")}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(Ps,{className:"w-3 h-3 text-slate-400"}),t.jsx("p",{className:"text-xs text-slate-500",children:new Date(y.transactionDate||y.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})]}),t.jsxs("span",{className:`font-bold text-lg ${y.type==="credit"?"text-emerald-600":"text-red-600"}`,children:[y.type==="credit"?"+":"-","",(y.amount||0).toLocaleString("en-IN")]})]},y._id||y.id))})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Quick Actions"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Get things done faster"})]}),t.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:t.jsx(Yc,{className:"w-5 h-5 text-primary"})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(Ht,{to:"/vendor/dashboard/add-spare-part",className:"group relative p-6 bg-white border-2 border-slate-200 rounded-xl hover:border-primary hover:shadow-lg transition-all duration-300 text-center overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full -mr-10 -mt-10 group-hover:scale-150 transition-transform duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"inline-flex p-3 bg-primary/10 rounded-xl mb-3 group-hover:bg-primary group-hover:scale-110 transition-all duration-300",children:t.jsx(Gr,{className:"text-2xl text-primary group-hover:text-white transition-colors"})}),t.jsx("p",{className:"font-bold text-slate-800 mb-1 group-hover:text-primary transition-colors",children:"Add Spare Part"}),t.jsx("p",{className:"text-xs text-slate-600",children:"Add new inventory item"})]})]}),t.jsxs(Ht,{to:"/vendor/dashboard/bookings",className:"group relative p-6 bg-white border-2 border-slate-200 rounded-xl hover:border-primary hover:shadow-lg transition-all duration-300 text-center overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full -mr-10 -mt-10 group-hover:scale-150 transition-transform duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"inline-flex p-3 bg-primary/10 rounded-xl mb-3 group-hover:bg-primary group-hover:scale-110 transition-all duration-300",children:t.jsx(Oa,{className:"text-2xl text-primary group-hover:text-white transition-colors"})}),t.jsx("p",{className:"font-bold text-slate-800 mb-1 group-hover:text-primary transition-colors",children:"View Bookings"}),t.jsx("p",{className:"text-xs text-slate-600",children:"Manage all orders"})]})]}),t.jsxs(Ht,{to:"/vendor/dashboard/transactions",className:"group relative p-6 bg-white border-2 border-slate-200 rounded-xl hover:border-primary hover:shadow-lg transition-all duration-300 text-center overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full -mr-10 -mt-10 group-hover:scale-150 transition-transform duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"inline-flex p-3 bg-primary/10 rounded-xl mb-3 group-hover:bg-primary group-hover:scale-110 transition-all duration-300",children:t.jsx(Yt,{className:"text-2xl text-primary group-hover:text-white transition-colors"})}),t.jsx("p",{className:"font-bold text-slate-800 mb-1 group-hover:text-primary transition-colors",children:"View Transactions"}),t.jsx("p",{className:"text-xs text-slate-600",children:"Track payments"})]})]})]})]})]})},Dke=()=>{const{token:e}=xo(),[r,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState(""),[o,d]=g.useState("all"),[c,u]=g.useState([]);g.useEffect(()=>{m(),x()},[e,o]);const m=async()=>{if(e){n(!0);try{const f={};o!=="all"&&(f.category=o),i&&(f.search=i);const b=await bs.getSpareParts(e,f);s(b.data||[])}catch(f){console.error("Failed to fetch spare parts:",f)}finally{n(!1)}}},x=async()=>{if(e)try{const f=await bs.getCategories(e),b=f.data||f.categories||[];console.log("Fetched categories:",b),u(b)}catch(f){console.error("Failed to fetch categories:",f),u([])}},h=async f=>{if(window.confirm("Are you sure you want to delete this spare part?"))try{await bs.deleteSparePart(e,f),m()}catch{alert("Failed to delete spare part")}},p=r.filter(f=>{var b,j,w;if(o!=="all"&&f.category!==o)return!1;if(i){const y=i.toLowerCase();return((b=f.name)==null?void 0:b.toLowerCase().includes(y))||((j=f.description)==null?void 0:j.toLowerCase().includes(y))||((w=f.brand)==null?void 0:w.toLowerCase().includes(y))}return!0});return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:"Spare Parts"}),t.jsx("p",{className:"text-slate-600",children:"Manage your spare parts inventory"})]}),t.jsx("button",{onClick:m,className:"p-2.5 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg text-slate-600"})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",value:i,onChange:f=>l(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Search spare parts..."})]}),t.jsxs("select",{value:o,onChange:f=>d(f.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white min-w-[180px]",children:[t.jsx("option",{value:"all",children:"All Categories"}),c.length>0?c.map((f,b)=>t.jsx("option",{value:f,children:f},b)):t.jsx("option",{value:"",disabled:!0,children:"No categories available"})]})]})}),p.length===0?t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center border border-slate-200",children:[t.jsx(Gr,{className:"text-4xl mx-auto mb-2 opacity-50 text-slate-400"}),t.jsx("p",{className:"text-slate-500",children:"No spare parts found"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(f=>{var b;return t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200 hover:shadow-lg transition",children:[t.jsx("div",{className:"w-full h-48 rounded-lg mb-4 overflow-hidden bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center relative",children:f.image?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:f.image.startsWith("http")?f.image:f.image.startsWith("/")?`https://nexo.works${f.image}`:f.image,alt:f.name,className:"w-full h-full object-cover",onError:j=>{j.target.style.display="none",j.target.nextSibling&&(j.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 items-center justify-center bg-gradient-to-br from-primary/10 to-primary/20",children:f.icon?t.jsx("span",{className:"text-6xl",children:f.icon}):t.jsx(Gr,{className:"w-16 h-16 text-primary/40"})})]}):f.icon?t.jsx("span",{className:"text-7xl",children:f.icon}):t.jsx(Gr,{className:"w-16 h-16 text-slate-400"})}),t.jsx("div",{className:"flex items-start justify-between mb-2",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-1",children:f.name}),f.brand&&t.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:["Brand: ",f.brand]}),f.description&&t.jsx("p",{className:"text-sm text-slate-600 mb-2 line-clamp-2",children:f.description})]})}),t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-xl font-bold text-primary",children:["",((b=f.price)==null?void 0:b.toLocaleString("en-IN"))||0]}),t.jsxs("p",{className:"text-sm text-slate-500",children:["Stock: ",f.stock," ",f.unit]})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${f.status==="active"?"bg-green-100 text-green-800":f.status==="out_of_stock"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:f.status})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("a",{href:`/vendor/dashboard/add-spare-part?id=${f._id}`,className:"flex-1 py-2 bg-primary/10 text-primary rounded-lg font-semibold hover:bg-primary/20 transition text-center",children:[t.jsx(m4,{className:"inline mr-2"}),"Edit"]}),t.jsx("button",{onClick:()=>h(f._id),className:"py-2 px-4 bg-red-50 text-red-600 rounded-lg font-semibold hover:bg-red-100 transition",children:t.jsx(la,{})})]})]},f._id)})})]})},Lke=[{emoji:"",name:"Wrench",category:"Tools"},{emoji:"",name:"Hammer",category:"Tools"},{emoji:"",name:"Tools",category:"Tools"},{emoji:"",name:"Gear",category:"Tools"},{emoji:"",name:"Nut & Bolt",category:"Tools"},{emoji:"",name:"Electrical",category:"Electrical"},{emoji:"",name:"Light Bulb",category:"Electrical"},{emoji:"",name:"Plug",category:"Electrical"},{emoji:"",name:"Antenna",category:"Electrical"},{emoji:"",name:"Battery",category:"Electrical"},{emoji:"",name:"Shower",category:"Plumbing"},{emoji:"",name:"Water",category:"Plumbing"},{emoji:"",name:"Droplet",category:"Plumbing"},{emoji:"",name:"Wave",category:"Plumbing"},{emoji:"",name:"Paint",category:"Painting"},{emoji:"",name:"Paintbrush",category:"Painting"},{emoji:"",name:"Frame",category:"Decor"},{emoji:"",name:"Window",category:"Decor"},{emoji:"",name:"Door",category:"Decor"},{emoji:"",name:"Snowflake",category:"AC"},{emoji:"",name:"Thermometer",category:"AC"},{emoji:"",name:"Cyclone",category:"AC"},{emoji:"",name:"Wind",category:"AC"},{emoji:"",name:"Broom",category:"Cleaning"},{emoji:"",name:"Sponge",category:"Cleaning"},{emoji:"",name:"Bottle",category:"Cleaning"},{emoji:"",name:"Soap",category:"Cleaning"},{emoji:"",name:"Fire Extinguisher",category:"Safety"},{emoji:"",name:"Paperclip",category:"Hardware"},{emoji:"",name:"Pushpin",category:"Hardware"},{emoji:"",name:"Lock",category:"Hardware"},{emoji:"",name:"Key",category:"Hardware"},{emoji:"",name:"Hook",category:"Hardware"},{emoji:"",name:"TV",category:"Appliances"},{emoji:"",name:"Phone",category:"Appliances"},{emoji:"",name:"Laptop",category:"Appliances"},{emoji:"",name:"Computer",category:"Appliances"},{emoji:"",name:"Keyboard",category:"Appliances"},{emoji:"",name:"Construction",category:"Building"},{emoji:"",name:"Brick",category:"Building"},{emoji:"",name:"House",category:"Building"},{emoji:"",name:"Building",category:"Building"},{emoji:"",name:"Factory",category:"Building"},{emoji:"",name:"Package",category:"Storage"},{emoji:"",name:"Clipboard",category:"Storage"},{emoji:"",name:"Card Index",category:"Storage"},{emoji:"",name:"Folder",category:"Storage"},{emoji:"",name:"File Cabinet",category:"Storage"},{emoji:"",name:"Toolbox",category:"General"},{emoji:"",name:"Shopping Cart",category:"General"},{emoji:"",name:"Chart",category:"General"},{emoji:"",name:"Star",category:"General"},{emoji:"",name:"Sparkle",category:"General"},{emoji:"",name:"Glowing Star",category:"General"},{emoji:"",name:"Diamond",category:"General"},{emoji:"",name:"Target",category:"General"},{emoji:"",name:"Check Mark",category:"General"},{emoji:"",name:"Magnifying Glass",category:"General"},{emoji:"",name:"Ladder",category:"Tools"},{emoji:"",name:"Bucket",category:"Tools"},{emoji:"",name:"Magnet",category:"Tools"},{emoji:"",name:"Flashlight",category:"Tools"},{emoji:"",name:"Screwdriver",category:"Tools"}],Fke=()=>{const{token:e}=xo(),r=er(),[s]=Id(),a=s.get("id"),[n,i]=g.useState(!1),[l,o]=g.useState({name:"",description:"",category:"",brand:"",price:"",stock:"",unit:"units",specifications:"",hsnCode:"",gstPercentage:"0",image:null,icon:""}),[d,c]=g.useState(null),[u,m]=g.useState([]),[x,h]=g.useState(!1),[p,f]=g.useState(null),[b,j]=g.useState("icon"),[w,y]=g.useState(!1),[v,N]=g.useState("");g.useEffect(()=>{S(),a&&k()},[e,a]);const S=async()=>{if(e)try{const H=await bs.getCategories(e),re=H.data||H.categories||[];console.log("Fetched categories for form:",re),m(re)}catch(H){console.error("Failed to fetch categories:",H),m([])}},k=async()=>{if(!(!e||!a))try{const re=(await bs.getSparePart(e,a)).data;o({name:re.name||"",description:re.description||"",category:re.category||"",brand:re.brand||"",price:re.price||"",stock:re.stock||"",unit:re.unit||"units",specifications:re.specifications||"",hsnCode:re.hsnCode||"",gstPercentage:re.gstPercentage||"0",image:null,icon:re.icon||""}),re.image?(c(re.image),j("image")):re.icon&&j("icon")}catch(H){console.error("Failed to fetch spare part:",H)}},P=H=>{const{name:re,value:xe}=H.target;o(we=>({...we,[re]:xe}))},C=H=>{const re=H.target.files[0];if(re){o(we=>({...we,image:re,icon:""})),j("image");const xe=new FileReader;xe.onloadend=()=>{c(xe.result)},xe.readAsDataURL(re)}},_=H=>{o(re=>({...re,icon:H,image:null})),j("icon"),c(null),y(!1)},A=async H=>{H.preventDefault(),i(!0),f(null),h(!1);try{const re=new FormData;if(Object.keys(l).forEach(xe=>{xe!=="image"&&xe!=="icon"&&l[xe]!==null&&l[xe]!==void 0&&l[xe]!==""&&re.append(xe,l[xe])}),b==="image"&&l.image)re.append("image",l.image),re.append("icon","");else if(b==="icon"&&l.icon){const xe=Array.isArray(l.icon)?l.icon[0]:l.icon;xe&&xe.trim()!==""&&re.append("icon",xe.trim())}else re.append("icon","");a?(await bs.updateSparePart(e,a,re),h(!0),setTimeout(()=>{r("/vendor/dashboard/spare-parts")},1500)):(await bs.addSparePart(e,re),h(!0),o({name:"",description:"",category:"",brand:"",price:"",stock:"",unit:"units",specifications:"",hsnCode:"",gstPercentage:"0",image:null,icon:""}),c(null),j("icon"),setTimeout(()=>h(!1),3e3))}catch(re){f(re.message||"Failed to save spare part")}finally{i(!1)}},D=Lke.filter(H=>v===""||H.name.toLowerCase().includes(v.toLowerCase())||H.category.toLowerCase().includes(v.toLowerCase())||H.emoji.includes(v));return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:a?"Edit Spare Part":"Add New Spare Part"}),t.jsx("p",{className:"text-slate-600",children:"Add or update spare part information"})]}),x&&t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-green-800",children:["Spare part ",a?"updated":"added"," successfully!"]}),p&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-800",children:p}),t.jsxs("form",{onSubmit:A,className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Name *"}),t.jsx("input",{type:"text",name:"name",value:l.name,onChange:P,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),t.jsx("textarea",{name:"description",value:l.description,onChange:P,rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Category *"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",name:"category",value:l.category,onChange:P,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white",list:"categories",placeholder:u.length>0?"Select existing or enter new category":"Enter category name (e.g., Engine Parts, Brake Parts)",required:!0}),u.length>0&&t.jsx("datalist",{id:"categories",children:u.map((H,re)=>t.jsx("option",{value:H},re))})]}),u.length>0?t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[u.length," existing categor",u.length===1?"y":"ies"," available. Type to see suggestions or enter a new one."]}):t.jsxs("p",{className:"text-xs text-slate-500 mt-1 flex items-center gap-1",children:[t.jsx(Gr,{className:"w-3 h-3"}),"No existing categories. This will create your first category."]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Brand"}),t.jsx("input",{type:"text",name:"brand",value:l.brand,onChange:P,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Price () *"}),t.jsx("input",{type:"number",name:"price",value:l.price,onChange:P,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Stock *"}),t.jsx("input",{type:"number",name:"stock",value:l.stock,onChange:P,min:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Unit"}),t.jsx("input",{type:"text",name:"unit",value:l.unit,onChange:P,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"HSN Code"}),t.jsx("input",{type:"text",name:"hsnCode",value:l.hsnCode,onChange:P,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Percentage (%)"}),t.jsx("input",{type:"number",name:"gstPercentage",value:l.gstPercentage,onChange:P,min:"0",max:"100",step:"0.01",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Specifications"}),t.jsx("textarea",{name:"specifications",value:l.specifications,onChange:P,rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Visual Representation"}),t.jsxs("div",{className:"flex gap-2 mb-4",children:[t.jsxs("button",{type:"button",onClick:()=>{j("icon"),o(H=>({...H,image:null})),c(null)},className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${b==="icon"?"bg-primary text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[t.jsx(cP,{className:"w-4 h-4"}),"Select Icon"]}),t.jsxs("button",{type:"button",onClick:()=>{j("image"),o(H=>({...H,icon:""}))},className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${b==="image"?"bg-primary text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[t.jsx(Qf,{className:"w-4 h-4"}),"Upload Image"]})]}),b==="image"?t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("label",{className:"flex-1 cursor-pointer",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"hidden"}),t.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-primary transition",children:[t.jsx(Ko,{className:"text-2xl text-slate-400 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-slate-600",children:d?"Change Image":"Upload Image"})]})]}),d&&t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:d,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg"}),t.jsx("button",{type:"button",onClick:()=>{c(null),o(H=>({...H,image:null}))},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:t.jsx(mt,{})})]})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{type:"button",onClick:()=>y(!w),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:[t.jsx(cP,{className:"w-4 h-4"}),l.icon?"Change Icon":"Select Icon"]}),l.icon&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary/10 to-primary/20 rounded-lg flex items-center justify-center text-4xl",children:l.icon}),t.jsx("button",{type:"button",onClick:()=>o(H=>({...H,icon:""})),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition",children:t.jsx(mt,{})})]})]}),w&&t.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:[t.jsx("div",{className:"mb-4",children:t.jsx("input",{type:"text",placeholder:"Search icons...",value:v,onChange:H=>N(H.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})}),t.jsx("div",{className:"grid grid-cols-8 sm:grid-cols-10 gap-2 max-h-64 overflow-y-auto",children:D.map((H,re)=>t.jsx("button",{type:"button",onClick:()=>_(H.emoji),className:`w-10 h-10 rounded-lg flex items-center justify-center text-xl transition-all duration-200 ${l.icon===H.emoji?"bg-primary text-white ring-2 ring-primary ring-offset-2 scale-110":"bg-white hover:bg-primary/10 hover:scale-105 border border-slate-200"}`,title:`${H.name} (${H.category})`,children:H.emoji},re))}),t.jsx("div",{className:"mt-4 flex justify-end",children:t.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition",children:"Close"})})]})]})]})]}),t.jsxs("div",{className:"mt-6 flex gap-4",children:[t.jsx("button",{type:"submit",disabled:n,className:"px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Saving...":a?"Update Spare Part":"Add Spare Part"}),t.jsx("button",{type:"button",onClick:()=>r("/vendor/dashboard/spare-parts"),className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"})]})]})]})},Rke=()=>{const{token:e}=xo(),[r,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState("all"),[o,d]=g.useState(null),[c,u]=g.useState(!1);g.useEffect(()=>{m()},[e,i]);const m=async()=>{if(e){n(!0);try{const p={};i!=="all"&&(p.status=i);const f=await bs.getBookings(e,p);s(f.data||[])}catch(p){console.error("Failed to fetch bookings:",p)}finally{n(!1)}}},x=async(p,f,b={})=>{u(!0);try{await bs.updateBookingStatus(e,p,{status:f,...b}),m(),d(null)}catch{alert("Failed to update booking status")}finally{u(!1)}},h=p=>{switch(p){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"dispatched":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:"Bookings"}),t.jsx("p",{className:"text-slate-600",children:"Manage spare part bookings"})]}),t.jsx("button",{onClick:m,className:"p-2.5 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg text-slate-600"})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:t.jsxs("select",{value:i,onChange:p=>l(p.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"confirmed",children:"Confirmed"}),t.jsx("option",{value:"dispatched",children:"Dispatched"}),t.jsx("option",{value:"delivered",children:"Delivered"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]})}),r.length===0?t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center border border-slate-200",children:[t.jsx(Oa,{className:"text-4xl mx-auto mb-2 opacity-50 text-slate-400"}),t.jsx("p",{className:"text-slate-500",children:"No bookings found"})]}):t.jsx("div",{className:"space-y-4",children:r.map(p=>{var f,b,j,w,y,v;return t.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200 hover:shadow-lg transition",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-1",children:((f=p.sparePart)==null?void 0:f.name)||"Spare Part"}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Order Date: ",new Date(p.orderDate).toLocaleDateString()]})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${h(p.status)}`,children:p.status})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Quantity"}),t.jsx("p",{className:"font-semibold text-slate-800",children:p.quantity})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Unit Price"}),t.jsxs("p",{className:"font-semibold text-slate-800",children:["",((b=p.unitPrice)==null?void 0:b.toLocaleString("en-IN"))||0]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Total Amount"}),t.jsxs("p",{className:"font-semibold text-primary",children:["",((j=p.totalAmount)==null?void 0:j.toLocaleString("en-IN"))||0]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Customer"}),t.jsx("p",{className:"font-semibold text-slate-800",children:((w=p.customer)==null?void 0:w.name)||((v=(y=p.partner)==null?void 0:y.profile)==null?void 0:v.name)||"N/A"})]})]}),p.shippingAddress&&t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Shipping Address"}),t.jsxs("p",{className:"text-sm text-slate-700",children:[p.shippingAddress.name,", ",p.shippingAddress.street,","," ",p.shippingAddress.city,", ",p.shippingAddress.state," -"," ",p.shippingAddress.pincode]}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Phone: ",p.shippingAddress.phone]})]}),p.trackingNumber&&t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Tracking Number"}),t.jsx("p",{className:"text-sm font-semibold text-slate-800",children:p.trackingNumber})]})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[p.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>x(p._id,"confirmed"),disabled:c,className:"px-4 py-2 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition disabled:opacity-50",children:[t.jsx(vt,{className:"inline mr-2"}),"Confirm"]}),t.jsxs("button",{onClick:()=>x(p._id,"cancelled"),disabled:c,className:"px-4 py-2 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition disabled:opacity-50",children:[t.jsx(mt,{className:"inline mr-2"}),"Cancel"]})]}),p.status==="confirmed"&&t.jsxs("button",{onClick:()=>{const N=prompt("Enter tracking number:");N&&x(p._id,"dispatched",{trackingNumber:N})},disabled:c,className:"px-4 py-2 bg-purple-500 text-white rounded-lg font-semibold hover:bg-purple-600 transition disabled:opacity-50",children:[t.jsx(AM,{className:"inline mr-2"}),"Dispatch"]}),p.status==="dispatched"&&t.jsxs("button",{onClick:()=>x(p._id,"delivered"),disabled:c,className:"px-4 py-2 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition disabled:opacity-50",children:[t.jsx(vt,{className:"inline mr-2"}),"Mark Delivered"]})]})]})},p._id)})})]})},Bke=()=>{var f,b,j;const{token:e}=xo(),[r,s]=g.useState([]),[a,n]=g.useState({totalCredits:0,totalDebits:0,balance:0}),[i,l]=g.useState(!0),[o,d]=g.useState("all"),[c,u]=g.useState("all");g.useEffect(()=>{m(),x()},[e,o,c]);const m=async()=>{if(e){l(!0);try{const w={};o!=="all"&&(w.type=o),c!=="all"&&(w.status=c);const y=await bs.getTransactions(e,w);s(y.data||[])}catch(w){console.error("Failed to fetch transactions:",w)}finally{l(!1)}}},x=async()=>{if(e)try{const w=await bs.getTransactionStats(e);n(w.data||{})}catch(w){console.error("Failed to fetch transaction stats:",w)}},h=w=>w==="credit"?"text-green-600":"text-red-600",p=w=>{switch(w){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"refunded":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:"Transactions"}),t.jsx("p",{className:"text-slate-600",children:"View your transaction history"})]}),t.jsx("button",{onClick:()=>{m(),x()},className:"p-2.5 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg text-slate-600"})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Total Credits"}),t.jsx(cr,{className:"text-green-500 text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",((f=a.totalCredits)==null?void 0:f.toLocaleString("en-IN"))||0]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Total Debits"}),t.jsx(hd,{className:"text-red-500 text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",((b=a.totalDebits)==null?void 0:b.toLocaleString("en-IN"))||0]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Balance"}),t.jsx(Yt,{className:"text-primary text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-primary",children:["",((j=a.balance)==null?void 0:j.toLocaleString("en-IN"))||0]})]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("select",{value:o,onChange:w=>d(w.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"credit",children:"Credit"}),t.jsx("option",{value:"debit",children:"Debit"})]}),t.jsxs("select",{value:c,onChange:w=>u(w.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"failed",children:"Failed"}),t.jsx("option",{value:"refunded",children:"Refunded"})]})]})}),r.length===0?t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center border border-slate-200",children:[t.jsx(Yt,{className:"text-4xl mx-auto mb-2 opacity-50 text-slate-400"}),t.jsx("p",{className:"text-slate-500",children:"No transactions found"})]}):t.jsx("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Description"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Reference"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:r.map(w=>{var y;return t.jsxs("tr",{className:"hover:bg-slate-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700",children:new Date(w.transactionDate).toLocaleDateString()}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:w.description}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${w.type==="credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.type})}),t.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-bold ${h(w.type)}`,children:[w.type==="credit"?"+":"-","",((y=w.amount)==null?void 0:y.toLocaleString("en-IN"))||0]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${p(w.status)}`,children:w.status})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:w.reference||"N/A"})]},w._id)})})]})})})]})},$ke=()=>t.jsx("div",{className:"space-y-6",children:t.jsxs(Ly,{children:[t.jsx(et,{index:!0,element:t.jsx(Mke,{})}),t.jsx(et,{path:"spare-parts",element:t.jsx(Dke,{})}),t.jsx(et,{path:"add-spare-part",element:t.jsx(Fke,{})}),t.jsx(et,{path:"bookings",element:t.jsx(Rke,{})}),t.jsx(et,{path:"transactions",element:t.jsx(Bke,{})}),t.jsx(et,{path:"*",element:t.jsx(Ed,{to:"/vendor/dashboard",replace:!0})})]})}),ME=()=>{const{notifications:e}=xo(),[r,s]=g.useState(!1),[a,n]=g.useState({}),i=g.useRef(null),l=g.useRef(null),o=(e==null?void 0:e.notifications)||[],d=(e==null?void 0:e.unreadCount)||0,c=e==null?void 0:e.markAsRead,u=e==null?void 0:e.fetchNotifications;g.useEffect(()=>{if(r&&l.current){const p=()=>{if(!l.current)return;const b=l.current.getBoundingClientRect(),j=window.innerWidth,w=window.innerHeight,y=384,v=Math.min(w-100,600);if(j<640)n({position:"fixed",top:"4rem",right:"0.5rem",width:"calc(100vw - 1rem)",maxWidth:"24rem",maxHeight:`${v}px`,zIndex:9999});else{const N=j-b.right,S=b.left,k=b.left<300;let P=y,C=0,_="auto";if(k){const A=Math.min(y,N+b.width-16);n({position:"fixed",left:`${b.left}px`,top:`${b.bottom+8}px`,width:`${Math.max(280,A)}px`,maxWidth:"24rem",maxHeight:`${v}px`,minWidth:"280px",zIndex:9999});return}else C=0,_="auto",N<y&&(S>N?(_=0,C="auto",P=Math.min(y,S-8)):P=Math.max(300,N-8)),n({position:"absolute",right:C,left:_,top:"100%",marginTop:"0.5rem",width:`${Math.max(280,P)}px`,maxWidth:"24rem",maxHeight:`${v}px`,minWidth:"280px",zIndex:9999})}},f=setTimeout(p,0);return window.addEventListener("resize",p),window.addEventListener("scroll",p,!0),()=>{clearTimeout(f),window.removeEventListener("resize",p),window.removeEventListener("scroll",p,!0)}}else n({})},[r]),g.useEffect(()=>{const p=f=>{i.current&&!i.current.contains(f.target)&&l.current&&!l.current.contains(f.target)&&s(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]),g.useEffect(()=>{u&&u()},[u]);const m=async(p=null)=>{c&&(await c(p),u&&await u())},x=async()=>{c&&(await c(),u&&await u())},h=p=>{if(!p)return"";const f=new Date(p),j=new Date-f,w=Math.floor(j/6e4),y=Math.floor(j/36e5),v=Math.floor(j/864e5);return w<1?"Just now":w<60?`${w}m ago`:y<24?`${y}h ago`:v<7?`${v}d ago`:f.toLocaleDateString()};return t.jsxs("div",{className:"relative z-50",ref:i,children:[t.jsxs("button",{ref:l,onClick:()=>s(!r),className:"relative p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors z-50","aria-label":"Notifications",children:[t.jsx(En,{className:"w-5 h-5"}),d>0&&t.jsx("span",{className:"absolute top-0 right-0 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs font-semibold text-white transition-opacity duration-200",children:d>9?"9+":d},d)]}),r&&t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-slate-200 flex flex-col overflow-hidden",style:{...a,zIndex:9999,position:a.position||"absolute"},children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 flex-shrink-0",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Notifications"}),t.jsxs("div",{className:"flex items-center gap-2",children:[d>0&&t.jsx("button",{onClick:x,className:"text-xs text-primary hover:text-primary-dark font-medium",children:"Mark all read"}),t.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(mt,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:"overflow-y-auto flex-1 min-h-0",children:o.length===0?t.jsxs("div",{className:"p-8 text-center text-slate-500",children:[t.jsx(En,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),t.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):t.jsx("div",{className:"divide-y divide-slate-100",children:o.map(p=>{var b;const f=!p.seen&&!p.read;return t.jsx("div",{className:`p-4 hover:bg-slate-50 transition-colors cursor-pointer ${f?"bg-blue-50/50":""}`,onClick:()=>{f&&m(p._id||p.id)},children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-slate-900 break-words line-clamp-2",children:p.title||((b=p.message)==null?void 0:b.split(": ")[0])||"New notification"}),p.message&&t.jsx("p",{className:"text-xs text-slate-600 mt-1 break-words line-clamp-2",children:p.title?p.message:p.message.split(": ").slice(1).join(": ")||p.message}),t.jsx("p",{className:"text-xs text-slate-400 mt-2",children:h(p.date||p.createdAt)})]}),f&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})})]})},p._id||p.id||Math.random())})})}),o.length>0&&t.jsx("div",{className:"p-3 border-t border-slate-200 bg-slate-50 flex-shrink-0",children:t.jsx("button",{onClick:()=>{s(!1)},className:"w-full text-sm text-center text-primary hover:text-primary-dark font-medium",children:"View all notifications"})})]})]})},zke=()=>{const{vendor:e,token:r,logout:s,updateVendor:a,notifications:n}=xo(),i=er();zr();const[l,o]=g.useState(!1),[d,c]=g.useState(e==null?void 0:e.status),[u,m]=g.useState(!0),x=g.useRef(!1),h=g.useRef(e),p=g.useRef(a);g.useEffect(()=>{h.current=e,p.current=a},[e,a]);const f=g.useCallback(async(v=!1)=>{var N,S,k,P,C;if(!r){m(!1);return}if(!(x.current&&!v)){x.current=!0,m(!0);try{const _=await bs.getProfile(r);if(_.success&&_.vendor){const A=_.vendor.status;c(A),p.current&&p.current({..._.vendor})}else c(((N=h.current)==null?void 0:N.status)||"active")}catch(_){console.error("Error checking vendor status:",_),_.status===403||(S=_.data)!=null&&S.status?(c(((k=_.data)==null?void 0:k.status)||"suspended"),h.current&&p.current&&p.current({status:((P=_.data)==null?void 0:P.status)||"suspended"})):c(((C=h.current)==null?void 0:C.status)||"active")}finally{m(!1),x.current=!1}}},[r]);g.useEffect(()=>{if(!r)return;f(!0);const v=setInterval(()=>{f(!1)},3e5);return()=>{clearInterval(v),x.current=!1}},[r,f]),g.useEffect(()=>{if(!(n!=null&&n.currentNotification))return;const v=n.currentNotification,N=v.title||"",S=v.message||"",k=v.type||"";(v.isStatusChange===!0||k==="status-change"||k==="alert"||N.toLowerCase().includes("account")&&(N.toLowerCase().includes("activated")||N.toLowerCase().includes("suspended")||N.toLowerCase().includes("deactivated"))||S.toLowerCase().includes("account")&&(S.toLowerCase().includes("activated")||S.toLowerCase().includes("suspended")||S.toLowerCase().includes("deactivated")))&&(console.log("Status change notification detected, refreshing vendor status..."),setTimeout(()=>{f(!0)},1e3))},[n==null?void 0:n.currentNotification,f]),g.useEffect(()=>{const v=()=>{console.log("Status change event received, refreshing vendor status..."),setTimeout(()=>{f(!0)},1e3)};return window.addEventListener("vendorStatusChange",v),()=>{window.removeEventListener("vendorStatusChange",v)}},[f]);const b=()=>{s(),i("/vendor/login",{replace:!0})},j=(e==null?void 0:e.name)||(e==null?void 0:e.companyName)||"Vendor",w=j.charAt(0).toUpperCase(),y=d==="suspended"||d==="inactive";return u?t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:t.jsxs(E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:20},className:"text-center",children:[t.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),t.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-slate-600",children:"Loading..."})]})}):y?t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:t.jsxs(E.div,{initial:{scale:.5,opacity:0,y:100,rotateX:-90},animate:{scale:1,opacity:1,y:0,rotateX:0},transition:{type:"spring",damping:15,stiffness:200,delay:.2,duration:.8},className:"max-w-2xl w-full bg-white rounded-2xl shadow-2xl border border-slate-200 p-8 md:p-12 text-center",children:[t.jsx(E.div,{initial:{scale:0,rotate:-360,opacity:0},animate:{scale:1,rotate:0,opacity:1},transition:{type:"spring",damping:10,stiffness:150,delay:.4},className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-red-100 via-red-200 to-red-300 rounded-full flex items-center justify-center shadow-xl",children:t.jsx(E.div,{animate:{rotate:[0,-20,20,-20,0],scale:[1,1.2,1]},transition:{duration:.8,delay:1,repeat:3,ease:"easeInOut"},children:t.jsx(rl,{className:"text-5xl text-red-600"})})},`alert-icon-${d}`),t.jsxs(E.h1,{initial:{opacity:0,y:-30,scale:.8},animate:{opacity:1,y:0,scale:1},transition:{delay:.6,type:"spring",stiffness:200,damping:15},className:"text-4xl font-bold text-slate-800 mb-4",children:["Account ",d==="suspended"?"Suspended":"Blocked"]},`title-${d}`),t.jsxs(E.p,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:.7,type:"spring",stiffness:200,damping:15},className:"text-lg text-slate-600 mb-6",children:["Your vendor account has been ",d==="suspended"?"suspended":"blocked","."]},`description-${d}`),t.jsxs(E.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{delay:.7,type:"spring",stiffness:200},className:"bg-gradient-to-br from-red-50 to-red-100 border-2 border-red-200 rounded-lg p-6 mb-8 shadow-md",children:[t.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-slate-700 mb-4 font-medium",children:"Please contact Nexo Admin to resolve this issue and restore access to your account."}),t.jsxs(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.9,type:"spring",stiffness:300},className:"flex items-center justify-center gap-3 text-slate-700",children:[t.jsx(E.div,{animate:{scale:[1,1.3,1],rotate:[0,10,-10,0]},transition:{duration:2.5,repeat:1/0,repeatDelay:2,ease:"easeInOut"},className:"p-2 bg-white rounded-full shadow-md",children:t.jsx(sn,{className:"text-red-600 text-xl"})}),t.jsxs("span",{className:"text-lg",children:["Email: ",t.jsx(E.a,{href:"mailto:support@nexo.works",className:"text-primary hover:underline font-semibold inline-block",whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.95},transition:{type:"spring",stiffness:400},children:"support@nexo.works"})]})]})]},"contact-box"),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,type:"spring",stiffness:200},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsxs(E.button,{whileHover:{scale:1.08,boxShadow:"0 15px 30px rgba(59, 130, 246, 0.3)",y:-2},whileTap:{scale:.92,y:0},onClick:b,className:"px-8 py-3 bg-gradient-to-r from-primary to-primary-dark text-white rounded-lg font-semibold flex items-center justify-center gap-2 shadow-lg",children:[t.jsx(E.span,{animate:{x:[0,-3,3,0]},transition:{duration:1.5,repeat:1/0,repeatDelay:2},children:t.jsx(Go,{})}),t.jsx("span",{children:"Logout"})]}),t.jsxs(E.button,{whileHover:{scale:1.08,boxShadow:"0 15px 30px rgba(0, 0, 0, 0.15)",y:-2,backgroundColor:"#e2e8f0"},whileTap:{scale:.92,y:0},onClick:()=>window.location.href="mailto:support@nexo.works?subject=Account Access Issue",className:"px-8 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold flex items-center justify-center gap-2 shadow-lg",children:[t.jsx(E.span,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:t.jsx(sn,{})}),t.jsx("span",{children:"Contact Admin"})]})]},"buttons"),d==="suspended"&&t.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"mt-6 text-sm text-slate-500",children:"If you believe this is an error, please contact our support team immediately."})]},`blocked-card-${d}`)},"blocked-screen"):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex flex-col",children:[t.jsx("header",{className:"lg:hidden bg-white shadow-md border-b border-slate-200 fixed top-0 left-0 right-0 z-40 w-full",children:t.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>o(!l),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:l?t.jsx(mt,{className:"text-xl"}):t.jsx(Zy,{className:"text-xl"})}),t.jsx(ni,{className:"scale-75 origin-left"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ME,{}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold shadow-md",children:w})]})]})}),t.jsxs("div",{className:"flex relative flex-1 pt-[64px] lg:pt-0",children:[t.jsxs("aside",{className:"hidden lg:flex lg:w-64 flex-col bg-white shadow-xl border-r border-slate-200 fixed top-0 left-0 h-screen overflow-visible z-30",children:[t.jsx("div",{className:"px-4 py-4 border-b border-slate-200 flex-shrink-0 bg-white sticky top-0 z-10",children:t.jsx(ni,{className:"scale-75 origin-left"})}),t.jsx("div",{className:"px-4 py-4 border-b border-slate-200 bg-gradient-to-br from-primary/5 to-primary/10 flex-shrink-0 relative overflow-visible",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-lg border-2 border-primary/20",children:w}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 truncate text-sm",children:j}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:(e==null?void 0:e.email)||"N/A"})]}),t.jsx(ME,{})]})}),t.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",children:[t.jsx(gh,{to:"/vendor/dashboard",icon:rn,label:"Dashboard"}),t.jsx(gh,{to:"/vendor/dashboard/spare-parts",icon:Gr,label:"Spare Parts"}),t.jsx(gh,{to:"/vendor/dashboard/add-spare-part",icon:ar,label:"Add Spare Part"}),t.jsx(gh,{to:"/vendor/dashboard/bookings",icon:Oa,label:"Bookings"}),t.jsx(gh,{to:"/vendor/dashboard/transactions",icon:Yt,label:"Transactions"})]}),t.jsx("div",{className:"px-4 py-4 border-t border-slate-200 flex-shrink-0 bg-white sticky bottom-0 z-10",children:t.jsxs("button",{onClick:b,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-semibold rounded-lg bg-red-50 hover:bg-red-100 text-red-600 transition",children:[t.jsx(Go,{})," Logout"]})})]}),l&&t.jsx("div",{className:"lg:hidden fixed inset-0 z-[70] bg-black/50 backdrop-blur-sm transition-opacity",onClick:()=>o(!1),children:t.jsxs("div",{className:"w-80 max-w-[85vw] bg-white h-full shadow-2xl overflow-y-auto flex flex-col",onClick:v=>v.stopPropagation(),children:[t.jsxs("div",{className:"px-4 py-4 border-b border-slate-200 flex-shrink-0 sticky top-0 bg-white z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx(ni,{className:"scale-75 origin-left"}),t.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:t.jsx(mt,{className:"text-xl"})})]}),t.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-br from-primary/5 to-primary/10 p-3 rounded-lg",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold border-2 border-primary/20",children:w}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 truncate text-sm",children:j}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:(e==null?void 0:e.email)||"N/A"})]})]})]}),t.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:[t.jsx(yh,{to:"/vendor/dashboard",icon:rn,label:"Dashboard",onClick:()=>o(!1)}),t.jsx(yh,{to:"/vendor/dashboard/spare-parts",icon:Gr,label:"Spare Parts",onClick:()=>o(!1)}),t.jsx(yh,{to:"/vendor/dashboard/add-spare-part",icon:ar,label:"Add Spare Part",onClick:()=>o(!1)}),t.jsx(yh,{to:"/vendor/dashboard/bookings",icon:Oa,label:"Bookings",onClick:()=>o(!1)}),t.jsx(yh,{to:"/vendor/dashboard/transactions",icon:Yt,label:"Transactions",onClick:()=>o(!1)})]}),t.jsx("div",{className:"px-6 py-6 border-t border-slate-200 flex-shrink-0 sticky bottom-0 bg-white z-10",children:t.jsxs("button",{onClick:b,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold rounded-xl bg-red-50 hover:bg-red-100 text-red-600 transition",type:"button",children:[t.jsx(Go,{})," Logout"]})})]})}),t.jsx("div",{className:"flex-1 min-w-0 w-full lg:ml-64",children:t.jsx("main",{className:"p-4 sm:p-6 lg:p-8 min-h-screen",children:t.jsx(so,{})})})]}),t.jsx(E4,{notification:n==null?void 0:n.currentNotification,onClose:(n==null?void 0:n.closeNotificationDialog)||(()=>{}),onMarkAsRead:(n==null?void 0:n.markNotificationAsRead)||(()=>{})})]})},gh=({to:e,icon:r,label:s})=>{const a=zr(),n=a.pathname===e||a.pathname.startsWith(e+"/");return t.jsxs(Ht,{to:e,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 relative group ${n?"bg-primary text-white shadow-md shadow-primary/20":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,children:[t.jsx(r,{className:`text-base transition-transform duration-200 ${n?"scale-110":"group-hover:scale-110"}`}),t.jsx("span",{className:"relative z-10",children:s}),n&&t.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-white rounded-r-full"})]})},yh=({to:e,icon:r,label:s,onClick:a})=>{const n=zr(),i=n.pathname===e||n.pathname.startsWith(e+"/");return t.jsxs(Ht,{to:e,onClick:a,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition ${i?"bg-primary text-white shadow-md":"text-slate-600 hover:bg-slate-100"}`,children:[t.jsx(r,{className:"text-base"}),s]})},Uke=()=>{const{isAuthenticated:e,isLoading:r}=xo(),s=zr();return r?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),t.jsx("p",{className:"text-sm font-medium tracking-wide text-white/80",children:"Loading vendor portal..."})]})}):e?t.jsx(so,{}):t.jsx(Ed,{to:"/vendor/login",state:{from:s},replace:!0})},Hke=()=>{var u;const{partnerId:e}=wm(),[r,s]=g.useState(null),[a,n]=g.useState(!0),[i,l]=g.useState(null);g.useEffect(()=>{o()},[e]);const o=async()=>{try{n(!0);const h=await(await fetch(`https://nexo.works/api/partner/verify/${e}`)).json();h.success&&h.partner?s(h.partner):l(h.message||"Partner not found")}catch(m){l("Failed to verify partner"),console.error("Verification error:",m)}finally{n(!1)}};if(a)return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600",children:"Verifying partner..."})]})});if(i||!r)return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[t.jsx(wn,{className:"text-red-500 text-6xl mx-auto mb-4"}),t.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Verification Failed"}),t.jsx("p",{className:"text-slate-600 mb-6",children:i||"Partner not found or invalid ID"}),t.jsx("a",{href:"/",className:"inline-block px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition",children:"Go to Home"})]})});const d=r.kycStatus==="approved"||r.kycStatus==="verified",c=r.profilePicture?r.profilePicture.startsWith("http")?r.profilePicture:`https://nexo.works/${r.profilePicture}`:null;return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-12 px-4",children:t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(ni,{className:"mx-auto mb-4"}),t.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Partner Verification"}),t.jsx("p",{className:"text-slate-600",children:"Verify Nexo Partner Identity"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[t.jsx("div",{className:`${d?"bg-green-500":"bg-yellow-500"} text-white p-4 text-center`,children:t.jsx("div",{className:"flex items-center justify-center gap-3",children:d?t.jsxs(t.Fragment,{children:[t.jsx(vt,{className:"text-2xl"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:"Verified Partner"}),t.jsx("p",{className:"text-sm opacity-90",children:"This partner is verified by Nexo"})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(kn,{className:"text-2xl"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:"Verification Pending"}),t.jsx("p",{className:"text-sm opacity-90",children:"KYC verification in progress"})]})]})})}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[t.jsx("div",{className:"flex-shrink-0",children:c?t.jsx("img",{src:c,alt:r.name,className:"w-32 h-32 rounded-full object-cover border-4 border-primary/20"}):t.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-4xl border-4 border-primary/20",children:((u=r.name)==null?void 0:u.charAt(0).toUpperCase())||"P"})}),t.jsxs("div",{className:"flex-1 space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-1",children:r.name||"N/A"}),t.jsxs("p",{className:"text-slate-500",children:["Partner ID: ",r.partnerId||e]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.phone&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:t.jsx(an,{className:"text-slate-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Phone"}),t.jsx("p",{className:"font-semibold text-slate-800",children:r.phone})]})]}),r.email&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:t.jsx(sn,{className:"text-slate-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Email"}),t.jsx("p",{className:"font-semibold text-slate-800",children:r.email})]})]}),r.city&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:t.jsx(Er,{className:"text-slate-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"City"}),t.jsx("p",{className:"font-semibold text-slate-800",children:r.city})]})]}),r.experience&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:t.jsx(Or,{className:"text-slate-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Experience"}),t.jsxs("p",{className:"font-semibold text-slate-800",children:[r.experience," Years"]})]})]})]}),r.categoryNames&&r.categoryNames.length>0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Service Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:r.categoryNames.map((m,x)=>t.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium",children:m},x))})]})]})]})}),t.jsx("div",{className:"bg-slate-50 border-t border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx(kn,{className:"text-primary text-2xl flex-shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Verification Details"}),t.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[t.jsxs("li",{children:[" Partner ID verified: ",r.partnerId||e]}),t.jsxs("li",{children:[" KYC Status: ",t.jsx("span",{className:"font-semibold",children:r.kycStatus||"Pending"})]}),r.verifiedAt&&t.jsxs("li",{children:[" Verified on: ",new Date(r.verifiedAt).toLocaleDateString()]})]})]})]})})]}),t.jsx("div",{className:"text-center mt-6",children:t.jsx("a",{href:"/",className:"text-primary hover:text-primary-dark font-semibold",children:" Back to Home"})})]})})},Vke=()=>{const e=er(),r=zr(),s="919590926068",a=ao(),[n,i]=g.useState({x:0,y:0}),[l,o]=g.useState(0);g.useEffect(()=>{const h=setInterval(()=>{o(p=>p+1)},1e3);return()=>clearInterval(h)},[]),g.useEffect(()=>{const h=p=>{i({x:p.clientX/window.innerWidth*100,y:p.clientY/window.innerHeight*100})};return window.addEventListener("mousemove",h),()=>window.removeEventListener("mousemove",h)},[]);const d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.1}}},c={hidden:{y:30,opacity:0},visible:{y:0,opacity:1,transition:{duration:.7,ease:[.22,1,.36,1]}}},u={animate:{y:[0,-30,0],x:[0,10,0],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}},m={animate:{rotate:[0,360],transition:{duration:20,repeat:1/0,ease:"linear"}}},x=[{path:"/",label:"Home",icon:rn,color:"from-blue-500 to-blue-600"},{path:"/partner",label:"Partner Program",icon:cr,color:"from-green-500 to-green-600"},{path:"/leads",label:"Lead Marketplace",icon:qi,color:"from-yellow-500 to-yellow-600"},{path:"/materials",label:"Material Store",icon:Ej,color:"from-purple-500 to-purple-600"},{path:"/amc",label:"AMC Plans",icon:Er,color:"from-pink-500 to-pink-600"},{path:"/emergency",label:"Emergency Service",icon:qi,color:"from-red-500 to-red-600"}];return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/50 to-indigo-50 flex items-center justify-center p-4 sm:p-6 relative overflow-hidden",children:[t.jsx("div",{className:"absolute pointer-events-none transition-all duration-300 ease-out",style:{left:`${n.x}%`,top:`${n.y}%`,transform:"translate(-50%, -50%)"},children:t.jsx("div",{className:"w-96 h-96 bg-primary/5 rounded-full blur-3xl opacity-30 transition-opacity duration-500"})}),t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx(E.div,{className:"absolute top-20 left-10 w-72 h-72 bg-gradient-to-br from-primary/20 to-primary/5 rounded-full blur-3xl",variants:u,animate:"animate"}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-96 h-96 bg-gradient-to-br from-blue-400/10 to-indigo-400/5 rounded-full blur-3xl",variants:u,animate:"animate",transition:{delay:1,duration:5}}),t.jsx(E.div,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-3xl",variants:u,animate:"animate",transition:{delay:.5,duration:6}}),t.jsx(E.div,{className:"absolute top-1/4 right-1/4 w-48 h-48 bg-gradient-to-br from-yellow-300/10 to-orange-300/5 rounded-full blur-2xl",variants:m,animate:"animate"})]}),t.jsx(E.div,{className:"absolute inset-0 opacity-[0.03]",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:30,repeat:1/0,repeatType:"reverse"},style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23214A73' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat",backgroundSize:"60px 60px"}}),t.jsxs(E.div,{className:"relative z-10 max-w-6xl w-full mx-auto",variants:d,initial:"hidden",animate:"visible",children:[t.jsxs(E.div,{variants:c,className:"text-center mb-8 sm:mb-12",children:[t.jsx("div",{className:"flex justify-center mb-4 sm:mb-6",children:t.jsx(ni,{className:"scale-110 sm:scale-125"})}),l>5&&t.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"inline-flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-full text-sm text-slate-600 shadow-lg mb-4",children:[t.jsx(zh,{className:"text-primary"}),t.jsxs("span",{children:["You've been here for ",l,"s"]})]})]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-8 items-start lg:items-center",children:[t.jsxs(E.div,{variants:c,className:"text-center lg:text-left",children:[t.jsxs("div",{className:"relative mb-6 sm:mb-8",children:[t.jsx(E.h1,{className:"text-[8rem] sm:text-[12rem] lg:text-[14rem] xl:text-[16rem] font-black text-transparent bg-clip-text bg-gradient-to-r from-primary via-primary-dark to-primary leading-none relative select-none",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 200%"},children:"404"}),[...Array(6)].map((h,p)=>t.jsx(E.div,{className:"absolute w-3 h-3 bg-primary/30 rounded-full",style:{top:`${20+p*15}%`,left:`${10+p*12}%`},animate:{y:[0,-20,0],opacity:[.3,.7,.3],scale:[1,1.5,1]},transition:{duration:2+p*.3,repeat:1/0,delay:p*.2}},p))]}),t.jsx(E.div,{variants:c,className:"flex justify-center lg:justify-start mb-6 sm:mb-8",children:t.jsxs("div",{className:"relative",children:[t.jsxs(E.div,{className:"w-24 h-24 sm:w-28 sm:h-28 lg:w-36 lg:h-36 rounded-full bg-gradient-to-br from-primary via-primary-dark to-primary flex items-center justify-center shadow-2xl relative overflow-hidden",animate:{scale:[1,1.15,1],rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),t.jsx(rl,{className:"text-white text-5xl sm:text-6xl lg:text-7xl relative z-10"})]}),[1,2,3].map(h=>t.jsx(E.div,{className:"absolute inset-0 rounded-full border-2 border-primary/20",style:{top:`-${h*20}px`,left:`-${h*20}px`,right:`-${h*20}px`,bottom:`-${h*20}px`},animate:{scale:[1,1.5+h*.2,1],opacity:[.3,0,.3]},transition:{duration:2+h*.5,repeat:1/0,delay:h*.3}},h))]})}),t.jsxs(E.div,{variants:c,children:[t.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-slate-800 mb-3 sm:mb-4",children:"Page Not Found"}),t.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-slate-600 mb-2 sm:mb-3",children:"Oops! We couldn't find what you're looking for."}),t.jsxs("p",{className:"text-sm sm:text-base text-slate-500 break-words",children:["The page ",t.jsx("span",{className:"font-mono text-primary bg-primary/10 px-2 py-1 rounded break-all",children:r.pathname})," doesn't exist or has been moved."]})]})]}),t.jsxs(E.div,{variants:c,className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[t.jsxs(Ht,{to:"/",className:"group flex-1 px-5 py-3 sm:px-6 sm:py-4 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl font-semibold hover:shadow-2xl transition-all duration-300 flex items-center justify-center gap-2 sm:gap-3 transform hover:scale-105 hover:-translate-y-1",children:[t.jsx(rn,{className:"text-lg sm:text-xl group-hover:scale-110 transition-transform"}),t.jsx("span",{className:"text-base sm:text-lg",children:"Go to Home"})]}),t.jsxs("button",{onClick:()=>e(-1),className:"group flex-1 px-5 py-3 sm:px-6 sm:py-4 bg-white text-primary border-2 border-primary rounded-xl font-semibold hover:bg-primary hover:text-white transition-all duration-300 flex items-center justify-center gap-2 sm:gap-3 transform hover:scale-105 hover:-translate-y-1 shadow-lg",children:[t.jsx(ox,{className:"text-lg sm:text-xl group-hover:scale-110 transition-transform"}),t.jsx("span",{className:"text-base sm:text-lg",children:"Go Back"})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[t.jsx(Ej,{className:"text-primary"}),"Popular Pages"]}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:x.map((h,p)=>{const f=h.icon;return t.jsx(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:p*.1},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},children:t.jsxs(Ht,{to:h.path,className:"group block p-4 bg-white/90 backdrop-blur-sm rounded-xl border-2 border-slate-200 hover:border-primary transition-all duration-300 shadow-md hover:shadow-xl",children:[t.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-br ${h.color} flex items-center justify-center mb-3 mx-auto group-hover:scale-110 transition-transform`,children:t.jsx(f,{className:"text-white text-xl"})}),t.jsx("p",{className:"text-sm font-semibold text-slate-700 group-hover:text-primary transition-colors text-center",children:h.label})]})},h.path)})})]}),t.jsxs(E.div,{variants:c,className:"p-6 bg-gradient-to-br from-white/90 to-blue-50/50 backdrop-blur-sm rounded-2xl border-2 border-primary/20 shadow-xl",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[t.jsx(zh,{className:"text-primary"}),"Need Help?"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("button",{onClick:()=>a(s),className:"w-full px-4 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg font-semibold hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-3 transform hover:scale-105",children:[t.jsx(vr,{className:"text-xl"}),t.jsx("span",{children:"Chat on WhatsApp"})]}),t.jsxs(Ht,{to:"/partner",className:"block w-full px-4 py-3 bg-white text-primary border-2 border-primary rounded-lg font-semibold hover:bg-primary hover:text-white transition-all duration-300 flex items-center justify-center gap-3 transform hover:scale-105",children:[t.jsx(x4,{className:"text-xl"}),t.jsx("span",{children:"Become a Partner"})]})]})]}),t.jsx(E.div,{variants:c,className:"p-5 bg-white/80 backdrop-blur-sm rounded-xl border-2 border-primary/30 shadow-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:t.jsx(Fa,{className:"text-primary text-xl"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-800 mb-1",children:"Can't find what you're looking for?"}),t.jsx("p",{className:"text-xs text-slate-600",children:"Try using the navigation menu or contact our support team for assistance."})]})]})})]})]}),t.jsx(E.div,{variants:c,className:"mt-8 sm:mt-12 text-center",children:t.jsxs("div",{className:"inline-flex flex-wrap items-center justify-center gap-4 sm:gap-6 px-4 sm:px-6 py-3 bg-white/60 backdrop-blur-sm rounded-full shadow-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-slate-600",children:[t.jsx(qi,{className:"text-primary"}),t.jsx("span",{children:"Fast Response"})]}),t.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full hidden sm:block"}),t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-slate-600",children:[t.jsx(zh,{className:"text-primary"}),t.jsx("span",{children:"24/7 Support"})]}),t.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full hidden sm:block"}),t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-slate-600",children:[t.jsx(cr,{className:"text-primary"}),t.jsx("span",{children:"Trusted Platform"})]})]})})]})]})},Wke=({onPermissionGranted:e})=>{const[r,s]=g.useState(!1),[a,n]=g.useState(!1),[i,l]=g.useState("default");g.useEffect(()=>{if("Notification"in window){const m=Notification.permission;if(l(m),console.log("Current notification permission:",m),m==="default"){const x=setTimeout(()=>{s(!0)},3e3);return()=>clearTimeout(x)}else if(m==="denied"){const x=setTimeout(()=>{s(!0)},2e3);return()=>clearTimeout(x)}else m==="granted"&&console.log("Notification permission already granted")}},[]);const o=async()=>{n(!0);try{const m=await y9();m?(s(!1),l("granted"),e&&e(m)):l("denied")}catch(m){console.error("Error requesting permission:",m),l("denied")}finally{n(!1)}},d=()=>{s(!1),sessionStorage.setItem("notificationPromptDismissed","true")},c=()=>{const m=navigator.userAgent.toLowerCase();return m.includes("chrome")&&!m.includes("edge")?["Chrome Instructions:","1. Click the lock icon (or info icon) in the address bar",'2. Click "Site settings"','3. Find "Notifications"','4. Change from "Block" to "Allow"',"5. Refresh this page"]:m.includes("firefox")?["Firefox Instructions:","1. Click the lock icon in the address bar",'2. Click "More Information"','3. Go to "Permissions" tab','4. Find "Notifications"','5. Change from "Block" to "Allow"',"6. Refresh this page"]:m.includes("safari")?["Safari Instructions:","1. Go to Safari  Settings  Websites",'2. Click "Notifications"',"3. Find this website in the list",'4. Change to "Allow"',"5. Refresh this page"]:m.includes("edge")?["Edge Instructions:","1. Click the lock icon in the address bar",'2. Click "Permissions"','3. Find "Notifications"','4. Change from "Block" to "Allow"',"5. Refresh this page"]:["Browser Instructions:","1. Click the lock/info icon in the address bar","2. Go to Site settings/Permissions",'3. Find "Notifications"','4. Change from "Block" to "Allow"',"5. Refresh this page"]},u=()=>c().join(`
`);return sessionStorage.getItem("notificationPromptDismissed")==="true"&&i!=="denied"||!r?null:i==="denied"?t.jsx("div",{className:"fixed bottom-4 right-4 z-[10000] max-w-sm",children:t.jsx("div",{className:"bg-white rounded-xl shadow-2xl border border-amber-200 p-6",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-100 flex items-center justify-center",children:t.jsx(rl,{className:"w-6 h-6 text-amber-600"})})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Notifications Blocked"}),t.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Notifications are currently blocked. To enable them:"}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 mb-4",children:[t.jsx("p",{className:"text-xs text-slate-700 font-medium mb-2",children:"How to enable:"}),t.jsx("ol",{className:"text-xs text-slate-600 space-y-1 list-decimal list-inside",children:c().slice(1).map((m,x)=>t.jsx("li",{className:"ml-2",children:m.replace(/^\d+\.\s*/,"")},x))})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>{const m=u();navigator.clipboard.writeText(m).then(()=>{alert("Instructions copied to clipboard! Follow the steps to enable notifications.")}).catch(()=>{const x=document.createElement("textarea");x.value=m,document.body.appendChild(x),x.select(),document.execCommand("copy"),document.body.removeChild(x),alert("Instructions copied to clipboard! Follow the steps to enable notifications.")})},className:"px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition-colors flex items-center gap-2",children:[t.jsx(El,{className:"w-4 h-4"}),"Copy Instructions"]}),t.jsx("button",{onClick:d,className:"p-2 text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Dismiss",children:t.jsx(mt,{className:"w-5 h-5"})})]})]})]})})}):t.jsx("div",{className:"fixed bottom-4 right-4 z-[10000] max-w-sm",children:t.jsx("div",{className:"bg-white rounded-xl shadow-2xl border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:t.jsx(En,{className:"w-6 h-6 text-primary"})})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Enable Notifications"}),t.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Get instant updates about bookings, messages, and important alerts even when your browser is closed."}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:o,disabled:a,className:"px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Enabling...":"Enable Notifications"}),t.jsx("button",{onClick:d,className:"p-2 text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Dismiss",children:t.jsx(mt,{className:"w-5 h-5"})})]})]})]})})})},qke="https://nexo.works",Gke=({user:e,onClose:r,onPlanSelect:s})=>{var N;const{isAuthenticated:a}=on(),[n,i]=g.useState([]),[l,o]=g.useState(!0),[d,c]=g.useState(null),[u,m]=g.useState(!1),[x,h]=g.useState(null),p="919590926068";g.useEffect(()=>{(async()=>{try{const P=await(await fetch(`${qke}/api/amc-plans`)).json();P.success&&P.data&&i(P.data)}catch(k){console.error("Error fetching AMC plans:",k)}finally{o(!1)}})()},[]);const f=S=>{var A;const k=((A=e==null?void 0:e.companyDetails)==null?void 0:A.companyName)||"your company";let P=`Hi! I'm ${e==null?void 0:e.name} from ${k}. I'm interested in the ${S.name} AMC plan (${S.price.toLocaleString("en-IN")}/year).`;e!=null&&e.companyDetails&&(P+=`

Company Details:`,P+=`
 Company: ${e.companyDetails.companyName}`,e.companyDetails.companySize&&(P+=`
 Size: ${e.companyDetails.companySize}`),e.companyDetails.industry&&(P+=`
 Industry: ${e.companyDetails.industry}`)),P+=`

Please provide more details about this plan and help me get started.`;const C=encodeURIComponent(P),_=`https://wa.me/${p}?text=${C}`;window.open(_,"_blank"),s&&s(S)},b=S=>{if(!a){alert("Please login to proceed with payment");return}h(S),m(!0)},j=S=>{console.log("Payment successful:",S),m(!1),h(null),alert(`Payment successful! Your ${x==null?void 0:x.name} AMC plan is now active.`),s&&s(x),r&&r()},w=S=>{console.error("Payment failed:",S),m(!1),alert("Payment failed. Please try again or contact support.")},y=()=>{m(!1),h(null)},v=()=>{r&&r()};return t.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[t.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark text-white p-6 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Mo,{className:"w-8 h-8"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Choose Your AMC Plan"}),t.jsxs("p",{className:"text-white/90",children:["Welcome ",((N=e==null?void 0:e.companyDetails)==null?void 0:N.companyName)||(e==null?void 0:e.name),"! Select an Annual Maintenance Contract plan."]})]})]}),t.jsx("button",{onClick:v,className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition",children:t.jsx(Hl,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ns,{className:"w-12 h-12 text-primary animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading AMC plans..."})]}):n.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Mo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No AMC Plans Available"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"We're currently setting up our AMC plans. Please contact us for custom quotes."}),t.jsxs(E.button,{onClick:()=>f({name:"Custom AMC Plan",price:0}),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 py-3 rounded-full font-semibold hover:bg-[#20BA5A] transition-all duration-300 flex items-center gap-2 mx-auto",children:[t.jsx(vr,{className:"w-5 h-5"}),"Contact Us for Custom Plan"]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-center mb-8",children:t.jsx("p",{className:"text-gray-600",children:"Choose the perfect AMC plan for your business needs. Get priority support, scheduled maintenance, and significant cost savings."})}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((S,k)=>t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:k*.1},whileHover:{y:-5,scale:1.02},className:`bg-white rounded-xl shadow-lg border-2 transition-all duration-300 overflow-hidden ${S.highlight?"border-primary scale-105 shadow-xl shadow-primary/20":"border-gray-200 hover:border-primary/30 hover:shadow-xl"}`,children:[S.highlight&&t.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-dark text-white text-center py-2 px-4",children:t.jsx("span",{className:"text-sm font-bold",children:S.highlightText||"RECOMMENDED"})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:S.name}),t.jsxs("div",{className:"mb-4",children:[t.jsx("span",{className:"text-3xl font-bold text-primary",children:S.priceDisplay||`${S.price.toLocaleString("en-IN")}`}),t.jsx("span",{className:"text-gray-600",children:"/year"})]}),S.description&&t.jsx("p",{className:"text-gray-600 text-sm",children:S.description})]}),t.jsxs("ul",{className:"space-y-2 mb-6",children:[S.features.slice(0,4).map((P,C)=>t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(He,{className:"text-green-500 mt-0.5 flex-shrink-0 text-sm"}),t.jsx("span",{className:"text-gray-700 text-sm",children:P})]},C)),S.features.length>4&&t.jsxs("li",{className:"text-gray-500 text-sm",children:["+",S.features.length-4," more features"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(E.button,{onClick:()=>b(S),whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:`w-full py-3 rounded-xl font-bold transition-all duration-300 flex items-center justify-center gap-2 ${S.highlight?"bg-gradient-to-r from-primary to-primary-dark text-white hover:from-primary-dark hover:to-primary shadow-lg":"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800"}`,children:[t.jsx(_i,{className:"w-4 h-4"}),"Pay Now"]}),t.jsxs(E.button,{onClick:()=>f(S),whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:"w-full py-2 rounded-lg font-medium transition-all duration-300 flex items-center justify-center gap-2 bg-[#25D366] text-white hover:bg-[#20BA5A]",children:[t.jsx(vr,{className:"w-4 h-4"}),"Discuss on WhatsApp"]})]})]})]},S._id||k))})]})}),t.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[t.jsx("div",{className:"text-sm text-gray-600",children:t.jsx("p",{children:"Need a custom plan? Our team will help you find the perfect solution."})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:v,className:"px-6 py-2 text-gray-600 hover:text-gray-800 font-semibold transition",children:"Skip for now"}),t.jsxs(E.button,{onClick:()=>f({name:"Custom AMC Plan",price:0}),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 py-2 rounded-lg font-semibold hover:bg-[#20BA5A] transition-all duration-300 flex items-center gap-2",children:[t.jsx(vr,{className:"w-4 h-4"}),"Custom Plan"]})]})]})})]}),u&&x&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:t.jsx("div",{className:"max-w-md w-full",children:t.jsx(u4,{amount:x.price,orderData:{productinfo:`${x.name} AMC Plan`,userId:(e==null?void 0:e._id)||(e==null?void 0:e.userId)},onSuccess:j,onFailure:w,onCancel:y,title:`Pay for ${x.name}`,description:`Annual Maintenance Contract - ${x.name}`})})})]})},Kke=e=>{var r,s,a,n,i;return e?{id:e._id||e.id||"N/A",serviceName:e.serviceName||((r=e.service)==null?void 0:r.name)||((s=e.subService)==null?void 0:s.name)||((n=(a=e.subService)==null?void 0:a.service)==null?void 0:n.name)||((i=e.product)==null?void 0:i.name)||"Service Booking",status:e.status||"pending",date:e.scheduledDate||e.bookingDate||e.serviceDate||e.createdAt||e.date||new Date,amount:e.totalAmount||e.amount||e.price||e.cost||0}:null},Yke=()=>{var x,h,p;const e=er(),{user:r}=on(),[s,a]=g.useState({totalBookings:0,activeBookings:0,completedBookings:0,walletBalance:0}),[n,i]=g.useState([]),[l,o]=g.useState(!0),[d,c]=g.useState(!1);g.useEffect(()=>{r!=null&&r._id&&u()},[r==null?void 0:r._id]),g.useEffect(()=>{var f;if((r==null?void 0:r.userType)==="company"&&!((f=r==null?void 0:r.amcSubscription)!=null&&f.isActive)){const b=setTimeout(()=>{c(!0)},2e3);return()=>clearTimeout(b)}},[r]);const u=async()=>{try{const f=localStorage.getItem("userToken"),b=(r==null?void 0:r._id)||localStorage.getItem("userId"),j={headers:{Authorization:`Bearer ${f}`}};let w=[];try{console.log(" Trying main bookings endpoint...");const v=await Et.get("https://nexo.works/api/user/bookings",j);console.log(" Bookings API Response:",v.data),v.data.success&&v.data.data?w=v.data.data.bookings||v.data.data||[]:v.data.bookings?w=v.data.bookings:Array.isArray(v.data.data)?w=v.data.data:Array.isArray(v.data)&&(w=v.data),console.log(" Processed bookings from main endpoint:",w.length)}catch(v){console.warn(" Main endpoint failed, trying alternative..."),console.warn("   Main error:",v.message);try{const N=await Et.get("https://nexo.works/api/user/bookings/all",j);console.log(" Alternative API Response:",N.data),N.data.success&&N.data.data&&(N.data.data.bookings?w=N.data.data.bookings:Array.isArray(N.data.data)&&(w=N.data.data)),console.log(" Processed bookings from alternative endpoint:",w.length)}catch(N){console.error(" Both booking endpoints failed"),console.error("   Alt error:",N.message),w=[]}}w=Array.isArray(w)?w:[],console.log(" Final bookings array:",w.length);let y=0;if(b)try{const v=await Et.get(`https://nexo.works/api/user/wallet/${b}`,j);v.data.success&&v.data.data&&(y=v.data.data.balance||0)}catch(v){console.error("Error fetching wallet balance:",v)}a({totalBookings:w.length,activeBookings:w.filter(v=>["pending","confirmed","in-progress"].includes(v.status)).length,completedBookings:w.filter(v=>v.status==="completed").length,walletBalance:y}),i(w.slice(0,5))}catch(f){console.error("Error fetching dashboard data:",f),a({totalBookings:0,activeBookings:0,completedBookings:0,walletBalance:0}),i([])}finally{o(!1)}},m=[{icon:Ps,label:"Total Bookings",value:s.totalBookings,color:"blue"},{icon:qr,label:"Active Bookings",value:s.activeBookings,color:"orange"},{icon:Pi,label:"Completed",value:s.completedBookings,color:"green"},{icon:Yt,label:"Wallet Balance",value:`${s.walletBalance}`,color:"purple"}];return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.jsxs("div",{className:"space-y-6",children:[(r==null?void 0:r.userType)==="company"&&t.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 rounded-2xl p-6 text-white overflow-hidden shadow-xl animate-fade-in",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),t.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-xl rounded-xl flex items-center justify-center",children:t.jsx(Mo,{className:"text-white",size:24})}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-bold mb-1",children:["Welcome ",((x=r==null?void 0:r.companyDetails)==null?void 0:x.companyName)||"Corporate User","!"]}),t.jsx("p",{className:"text-blue-100",children:(h=r==null?void 0:r.amcSubscription)!=null&&h.isActive?`Your ${r.amcSubscription.planName} AMC plan is active`:"Get comprehensive AMC plans for your business needs"})]})]}),!((p=r==null?void 0:r.amcSubscription)!=null&&p.isActive)&&t.jsx("button",{onClick:()=>c(!0),className:"px-6 py-3 bg-white text-blue-600 rounded-xl hover:bg-blue-50 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold whitespace-nowrap",children:"View AMC Plans"})]})]}),t.jsxs("div",{className:"relative bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 rounded-2xl p-4 md:p-6 text-white overflow-hidden shadow-xl animate-fade-in",style:{animationDelay:"200ms"},children:[t.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzR2LTRoLTJ2NGgtNHYyaDR2NGgydi00aDR2LTJoLTR6bTAtMzBWMGgtMnY0aC00djJoNHY0aDJWNmg0VjRoLTR6TTYgMzR2LTRINHY0SDB2Mmg0djRoMnYtNGg0di0ySDZ6TTYgNFYwSDR2NEgwdjJoNHY0aDJWNmg0VjRINnoiLz48L2c+PC9nPjwvc3ZnPg==')] opacity-20"}),t.jsx("div",{className:"relative z-10",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[t.jsxs("div",{className:"relative flex-shrink-0",children:[t.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 bg-white/20 backdrop-blur-xl rounded-xl flex items-center justify-center animate-bounce-slow",children:t.jsxs("div",{className:"relative",children:[t.jsx(ah,{className:"text-yellow-300 animate-pulse",size:28}),t.jsx(qi,{className:"absolute -top-1 -right-1 text-white animate-ping",size:12})]})}),t.jsx("div",{className:"absolute top-0 left-0 w-full h-full animate-spin",style:{animationDuration:"4s"},children:t.jsx(El,{className:"absolute -top-1 left-1/2 -ml-2 text-yellow-300",size:12})}),t.jsx("div",{className:"absolute top-0 left-0 w-full h-full animate-spin",style:{animationDuration:"3s",animationDirection:"reverse"},children:t.jsx(ah,{className:"absolute -bottom-1 left-1/2 -ml-2 text-white",size:10})}),t.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-300 rounded-full animate-ping"})]}),t.jsxs("div",{className:"text-left",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxs("span",{className:"text-xs font-bold bg-white/20 px-2 py-0.5 rounded-full animate-pulse flex items-center gap-1",children:[t.jsx(qi,{size:10}),"LIVE NOW"]}),t.jsxs("span",{className:"text-xs md:text-sm font-semibold text-yellow-300 flex items-center gap-1",children:[t.jsx(El,{className:"animate-spin",size:14,style:{animationDuration:"3s"}}),"Fast Home Service"]})]}),t.jsxs("h3",{className:"text-lg md:text-xl font-bold leading-tight flex items-center gap-2",children:[t.jsx(ah,{className:"text-yellow-300 animate-pulse",size:18}),"Service in ",t.jsx("span",{className:"text-yellow-300 animate-pulse",children:"Quick Time!"}),t.jsx(vt,{className:"text-green-300 animate-bounce",size:20})]}),t.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-xs md:text-sm text-white/90",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Nr,{className:"animate-pulse",size:14}),"Expert Technicians"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(bn,{className:"animate-pulse",size:14,style:{animationDelay:"0.5s"}}),"Certified"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Pi,{className:"animate-pulse",size:14,style:{animationDelay:"1s"}}),"4.9"]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 md:gap-4 flex-shrink-0",children:[t.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[t.jsxs("div",{className:"text-center px-3 py-2 bg-white/10 backdrop-blur-sm rounded-lg border border-white/20 hover:bg-white/20 transition-all group",children:[t.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[t.jsx(ah,{className:"text-yellow-300 group-hover:animate-spin",size:16}),t.jsx("div",{className:"text-lg font-bold",children:"1000+"})]}),t.jsx("div",{className:"text-xs text-white/80",children:"Services Done"})]}),t.jsxs("div",{className:"text-center px-3 py-2 bg-white/10 backdrop-blur-sm rounded-lg border border-white/20 hover:bg-white/20 transition-all group",children:[t.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[t.jsx(qi,{className:"text-yellow-300 animate-pulse group-hover:animate-bounce",size:16}),t.jsx("div",{className:"text-lg font-bold",children:"Fast"})]}),t.jsx("div",{className:"text-xs text-white/80",children:"Response"})]})]}),t.jsxs("button",{onClick:()=>e("/"),className:"group relative px-5 md:px-6 py-2.5 md:py-3 bg-white text-orange-600 rounded-xl font-bold shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-110 whitespace-nowrap overflow-hidden",children:[t.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[t.jsx(ah,{className:"group-hover:rotate-12 transition-transform",size:18}),t.jsx("span",{className:"text-sm md:text-base",children:"Book Service"}),t.jsx(hs,{className:"group-hover:translate-x-2 transition-transform",size:16})]}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-300 to-yellow-400 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left"})]})]})]})})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map((f,b)=>{const j=f.icon,w={blue:"from-primary to-primary-light",orange:"from-orange-500 to-orange-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600"};return t.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-6 overflow-hidden border border-gray-100 hover:border-primary/30 transform hover:-translate-y-2 animate-fade-in",style:{animationDelay:`${b*100}ms`},children:[t.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${w[f.color]} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${w[f.color]} shadow-lg group-hover:scale-110 transition-transform duration-300`,children:t.jsx(j,{className:"text-white",size:24})}),t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx(hs,{className:"text-gray-600",size:16})})]}),t.jsx("p",{className:"text-slate-500 text-sm font-medium mb-1",children:f.label}),t.jsx("p",{className:"text-3xl font-bold text-slate-800 group-hover:text-primary transition-colors",children:f.value})]})]},b)})}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 animate-fade-in",style:{animationDelay:"400ms"},children:[t.jsx("div",{className:"p-6 border-b border-slate-100 bg-gradient-to-r from-primary/5 to-primary-light/5",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-primary-dark rounded-xl flex items-center justify-center transform hover:scale-110 hover:rotate-6 transition-all duration-300",children:t.jsx(Ps,{className:"text-white",size:20})}),t.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Recent Bookings"})]}),t.jsxs("button",{onClick:()=>e("/user/dashboard/bookings"),className:"group flex items-center gap-2 px-4 py-2 bg-primary/10 text-primary hover:bg-primary hover:text-white rounded-xl font-medium transition-all duration-200",children:["View All",t.jsx(hs,{className:"group-hover:translate-x-1 transition-transform",size:16})]})]})}),t.jsx("div",{className:"p-6",children:n.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Ps,{className:"text-slate-400",size:32})}),t.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"No bookings yet"}),t.jsx("p",{className:"text-slate-500 text-sm mb-6",children:"Start booking services to see them here"}),t.jsx("button",{onClick:()=>e("/"),className:"px-6 py-3 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl hover:shadow-lg hover:shadow-primary/30 transition-all duration-200 font-medium",children:"Book a Service"})]}):t.jsx("div",{className:"space-y-3",children:n.map((f,b)=>{const j=Kke(f);return j?t.jsxs("div",{onClick:()=>e(`/user/dashboard/bookings/${j.id}`),className:"group flex items-center justify-between p-4 border-2 border-slate-200 rounded-xl hover:border-primary hover:bg-primary/5 cursor-pointer transition-all duration-200 transform hover:scale-[1.02] animate-slide-in-left",style:{animationDelay:`${b*50}ms`},children:[t.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary/10 to-primary-light/10 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:t.jsx(Ps,{className:"text-primary",size:20})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-slate-800 group-hover:text-primary transition-colors",children:j.serviceName}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(qr,{className:"text-slate-400",size:14}),t.jsx("p",{className:"text-sm text-slate-600",children:new Date(j.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}),j.amount>0&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-slate-300",children:""}),t.jsxs("span",{className:"text-sm font-medium text-slate-700",children:["",j.amount]})]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`px-4 py-2 rounded-xl text-sm font-semibold border-2 capitalize
                        ${j.status==="completed"?"bg-green-50 text-green-700 border-green-200":j.status==="cancelled"?"bg-red-50 text-red-700 border-red-200":"bg-blue-50 text-blue-700 border-blue-200"}`,children:j.status}),t.jsx(hs,{className:"text-slate-400 group-hover:text-primary group-hover:translate-x-1 transition-all",size:20})]})]},j.id):null})})})]}),t.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-2xl p-6 text-white mb-6 animate-fade-in",style:{animationDelay:"300ms"},children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold mb-2",children:" Get Standard Plan"}),t.jsx("p",{className:"text-green-100",children:"Unlock premium features with our Standard subscription plan"}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(vt,{}),"Priority Support"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Pi,{}),"Premium Features"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(qi,{}),"Fast Service"]})]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold mb-1",children:"299"}),t.jsx("div",{className:"text-green-100 text-sm mb-3",children:"per month"}),t.jsx("button",{onClick:()=>e("/#subscription-plans"),className:"bg-white text-green-600 px-6 py-3 rounded-xl font-bold hover:bg-green-50 transition-all shadow-lg hover:shadow-xl transform hover:scale-105",children:"Get Standard Plan"})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("button",{onClick:()=>e("/"),className:"group relative bg-gradient-to-br from-primary to-primary-light rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-8 text-left overflow-hidden transform hover:scale-105 animate-fade-in",style:{animationDelay:"500ms"},children:[t.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"}),t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-xl rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:t.jsx(Ps,{className:"text-white",size:28})}),t.jsx("h3",{className:"font-bold text-white text-lg mb-2",children:"Book a Service"}),t.jsx("p",{className:"text-blue-100 text-sm",children:"Browse and book services instantly"}),t.jsxs("div",{className:"mt-4 flex items-center text-white text-sm font-medium",children:[t.jsx("span",{children:"Explore Services"}),t.jsx(hs,{className:"ml-2 group-hover:translate-x-2 transition-transform"})]})]})]}),t.jsxs("button",{onClick:()=>e("/user/dashboard/wallet"),className:"group relative bg-gradient-to-br from-green-500 to-green-600 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-8 text-left overflow-hidden transform hover:scale-105 animate-fade-in",style:{animationDelay:"600ms"},children:[t.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"}),t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-xl rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:t.jsx(Yt,{className:"text-white",size:28})}),t.jsx("h3",{className:"font-bold text-white text-lg mb-2",children:"Add Money"}),t.jsx("p",{className:"text-green-100 text-sm",children:"Top up your wallet balance"}),t.jsxs("div",{className:"mt-4 flex items-center text-white text-sm font-medium",children:[t.jsx("span",{children:"Manage Wallet"}),t.jsx(hs,{className:"ml-2 group-hover:translate-x-2 transition-transform"})]})]})]}),t.jsxs("button",{onClick:()=>e("/user/dashboard/support"),className:"group relative bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-8 text-left overflow-hidden transform hover:scale-105 animate-fade-in",style:{animationDelay:"700ms"},children:[t.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"}),t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-xl rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:t.jsx(cr,{className:"text-white",size:28})}),t.jsx("h3",{className:"font-bold text-white text-lg mb-2",children:"Get Help"}),t.jsx("p",{className:"text-purple-100 text-sm",children:"Contact our support team"}),t.jsxs("div",{className:"mt-4 flex items-center text-white text-sm font-medium",children:[t.jsx("span",{children:"Contact Support"}),t.jsx(hs,{className:"ml-2 group-hover:translate-x-2 transition-transform"})]})]})]})]}),d&&t.jsx(Gke,{user:r,onClose:()=>c(!1),onPlanSelect:f=>{console.log("Selected AMC plan:",f),c(!1)}})]})},Xke=()=>{var Z,W,ie,ae,M,U,q;const e=er(),[r,s]=g.useState([]),[a,n]=g.useState([]),[i,l]=g.useState(!0),[o,d]=g.useState("all"),[c,u]=g.useState(!1),[m,x]=g.useState(null),[h,p]=g.useState(!1),[f,b]=g.useState(""),[j,w]=g.useState(!1),[y,v]=g.useState(null),[N,S]=g.useState({rating:5,comment:""}),[k,P]=g.useState(!1),[C,_]=g.useState(null),A=g.useRef(null),D=G=>{if(!G.date)return!1;let Y;if(G.time){const fe=new Date(G.date),[ne,ce]=G.time.split(":");Y=new Date(fe),Y.setHours(parseInt(ne),parseInt(ce),0,0)}else Y=new Date(G.date);const oe=new Date(Y.getTime()-2*60*60*1e3);return new Date<oe},H=G=>{if(!G)return null;if(typeof G=="string")return G;if(typeof G=="object"){const Y=[],oe=G.address||G.street||G.addressLine1||G.line1||"",Be=G.landmark||"",fe=G.city||"",ne=G.pincode||G.zipcode||"";return oe&&Y.push(oe),Be&&Y.push(Be),fe&&Y.push(fe),ne&&Y.push(ne),Y.filter(Boolean).join(", ")||null}return null},re=G=>{var oe,Be,fe,ne,ce,pe,F,ue,J;let Y=null;return G.address?Y=H(G.address):G.userAddress?Y=H(G.userAddress):G.serviceAddress?Y=H(G.serviceAddress):G.location?Y=H(G.location):(Be=(oe=G.user)==null?void 0:oe.addresses)!=null&&Be[0]&&(Y=H(G.user.addresses[0])),{id:G._id||G.id||"N/A",serviceName:G.serviceName||((fe=G.service)==null?void 0:fe.name)||((ne=G.subService)==null?void 0:ne.name)||((pe=(ce=G.subService)==null?void 0:ce.service)==null?void 0:pe.name)||((F=G.product)==null?void 0:F.name)||"Service Booking",status:G.status||"pending",date:G.scheduledDate||G.bookingDate||G.serviceDate||G.createdAt||G.date||null,time:G.scheduledTime||G.bookingTime||G.serviceTime||G.time||null,address:Y,amount:G.totalAmount||G.amount||G.price||G.cost||0,customerName:((ue=G.user)==null?void 0:ue.name)||G.userName||G.customerName||G.name||"Customer",customerPhone:((J=G.user)==null?void 0:J.phone)||G.userPhone||G.customerPhone||G.phone||null,cartItems:G.cartItems||G.items||G.services||[],hasReview:G.hasReview||!1,userRating:G.userRating||null}};g.useEffect(()=>{xe()},[]),g.useEffect(()=>{we()},[o,r]);const xe=async()=>{var G,Y;try{const oe=localStorage.getItem("userToken");if(console.log(" Debug - Fetching bookings..."),console.log("   Token exists:",!!oe),console.log("   Token preview:",oe?`${oe.substring(0,20)}...`:"No token"),!oe){console.error(" No authentication token found"),s([]),l(!1);return}let Be=[];try{console.log(" Trying main bookings endpoint...");const ne=await Et.get("https://nexo.works/api/user/bookings",{headers:{Authorization:`Bearer ${oe}`}});console.log(" Bookings API Response:",ne.data),ne.data.success&&ne.data.data?Be=ne.data.data.bookings||ne.data.data||[]:ne.data.bookings?Be=ne.data.bookings:Array.isArray(ne.data.data)?Be=ne.data.data:Array.isArray(ne.data)&&(Be=ne.data),console.log(" Processed bookings from main endpoint:",Be.length)}catch(ne){console.warn(" Main endpoint failed, trying alternative..."),console.warn("   Main error:",ne.message);try{const ce=await Et.get("https://nexo.works/api/user/bookings/all",{headers:{Authorization:`Bearer ${oe}`}});console.log(" Alternative API Response:",ce.data),ce.data.success&&ce.data.data&&(ce.data.data.bookings?Be=ce.data.data.bookings:Array.isArray(ce.data.data)&&(Be=ce.data.data)),console.log(" Processed bookings from alternative endpoint:",Be.length)}catch{throw console.error(" Both endpoints failed"),ne}}const fe=Array.isArray(Be)?Be:[];console.log(" Final bookings count:",fe.length),s(fe)}catch(oe){console.error(" Error fetching bookings:",oe),console.error("   Error response:",(G=oe.response)==null?void 0:G.data),console.error("   Error status:",(Y=oe.response)==null?void 0:Y.status),s([])}finally{l(!1)}},we=()=>{const G=Array.isArray(r)?r:[];n(o==="all"?G:G.filter(Y=>Y.status===o))},T=G=>({pending:"bg-yellow-100 text-yellow-800 border-yellow-200",confirmed:"bg-blue-100 text-blue-800 border-blue-200","in-progress":"bg-purple-100 text-purple-800 border-purple-200",completed:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200"})[G]||"bg-gray-100 text-gray-800 border-gray-200",z=G=>({pending:t.jsx(qr,{className:"inline",size:14}),confirmed:t.jsx(vt,{className:"inline",size:14}),"in-progress":t.jsx(Dt,{className:"inline animate-spin",size:14}),completed:t.jsx(vt,{className:"inline",size:14}),cancelled:t.jsx(mt,{className:"inline",size:14})})[G]||t.jsx(rl,{className:"inline",size:14}),Q=async()=>{var G,Y;if(y)try{const oe=localStorage.getItem("userToken"),Be=re(y);await Et.post(`https://nexo.works/api/user/bookings/${Be.id}/review`,{rating:N.rating,comment:N.comment,bookingId:Be.id},{headers:{Authorization:`Bearer ${oe}`}}),b("Review submitted successfully"),p(!0),setTimeout(()=>p(!1),3e3),w(!1),v(null),S({rating:5,comment:""}),xe()}catch(oe){console.error("Error submitting review:",oe);const Be=((Y=(G=oe.response)==null?void 0:G.data)==null?void 0:Y.message)||"Failed to submit review. Please try again.";alert(Be)}},B=async()=>{var G,Y;if(m)try{const oe=localStorage.getItem("userToken"),Be=re(m);if(!D(Be)){alert("Cancellation is no longer available. Bookings can only be cancelled up to 2 hours before the scheduled time."),u(!1),x(null);return}await Et.put(`https://nexo.works/api/user/bookings/${Be.id}/cancel`,{cancellationReason:"Customer requested cancellation",cancellationTime:new Date().toISOString()},{headers:{Authorization:`Bearer ${oe}`}}),b("Booking cancelled successfully"),p(!0),setTimeout(()=>p(!1),3e3),u(!1),x(null),xe()}catch(oe){console.error("Error cancelling booking:",oe);const Be=((Y=(G=oe.response)==null?void 0:G.data)==null?void 0:Y.message)||"Failed to cancel booking. Please try again.";alert(Be)}},L=()=>{const G=A.current,Y=window.open("","","height=800,width=800");Y.document.write("<html><head><title>Invoice</title>"),Y.document.write("<style>"),Y.document.write(`
      @page {
        size: A4;
        margin: 20mm;
      }
      
      body { 
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
        padding: 0;
        margin: 0;
        color: #333;
        line-height: 1.4;
      }
      
      .invoice-container { 
        max-width: 800px; 
        margin: 0 auto; 
        background: white;
        border: 2px solid #e5e7eb;
      }
      
      .invoice-header { 
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        padding: 30px;
        border-bottom: 2px solid #e5e7eb;
        background: #f9fafb;
      }
      
      .company-info h1 {
        font-size: 32px;
        font-weight: bold;
        color: #1e40af;
        margin: 0 0 5px 0;
      }
      
      .company-info p {
        margin: 2px 0;
        font-size: 12px;
        color: #6b7280;
      }
      
      .invoice-title {
        text-align: right;
      }
      
      .invoice-title h2 {
        font-size: 36px;
        font-weight: bold;
        color: #374151;
        margin: 0;
      }
      
      .invoice-number {
        font-size: 14px;
        color: #1e40af;
        font-weight: 600;
        margin: 5px 0;
      }
      
      .invoice-date {
        font-size: 12px;
        color: #6b7280;
      }
      
      .status-badge {
        display: inline-block;
        padding: 4px 12px;
        background: #10b981;
        color: white;
        font-size: 12px;
        font-weight: 600;
        border-radius: 4px;
        margin-top: 5px;
      }
      
      .invoice-body {
        padding: 30px;
      }
      
      .billing-section {
        display: flex;
        justify-content: space-between;
        margin-bottom: 40px;
      }
      
      .bill-to, .service-details {
        flex: 1;
      }
      
      .service-details {
        margin-left: 40px;
      }
      
      .section-title {
        font-size: 14px;
        font-weight: 600;
        color: #374151;
        margin-bottom: 15px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }
      
      .customer-info, .service-info {
        font-size: 13px;
        line-height: 1.6;
      }
      
      .customer-name {
        font-weight: 600;
        color: #111827;
        font-size: 16px;
        margin-bottom: 5px;
      }
      
      .info-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 3px;
      }
      
      .info-label {
        color: #6b7280;
        min-width: 120px;
      }
      
      .info-value {
        color: #111827;
        font-weight: 500;
      }
      
      .services-table {
        width: 100%;
        border-collapse: collapse;
        margin: 30px 0;
        border: 1px solid #e5e7eb;
      }
      
      .services-table th {
        background: #f3f4f6;
        padding: 15px;
        text-align: left;
        font-weight: 600;
        font-size: 12px;
        color: #374151;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        border-bottom: 2px solid #e5e7eb;
      }
      
      .services-table td {
        padding: 15px;
        border-bottom: 1px solid #e5e7eb;
        font-size: 13px;
      }
      
      .services-table .description {
        font-weight: 500;
        color: #111827;
      }
      
      .services-table .quantity, .services-table .rate, .services-table .amount {
        text-align: right;
        font-weight: 500;
      }
      
      .totals-section {
        margin-top: 30px;
        display: flex;
        justify-content: flex-end;
      }
      
      .totals-table {
        width: 300px;
      }
      
      .total-row {
        display: flex;
        justify-content: space-between;
        padding: 8px 0;
        font-size: 13px;
      }
      
      .total-row.subtotal {
        border-bottom: 1px solid #e5e7eb;
        color: #6b7280;
      }
      
      .total-row.final {
        border-top: 2px solid #374151;
        padding-top: 15px;
        margin-top: 10px;
        font-size: 18px;
        font-weight: bold;
        color: #111827;
      }
      
      .total-row.final .amount {
        background: #374151;
        color: white;
        padding: 8px 15px;
        border-radius: 4px;
      }
      
      .footer {
        margin-top: 50px;
        text-align: center;
        padding-top: 30px;
        border-top: 2px solid #e5e7eb;
      }
      
      .thank-you {
        font-size: 18px;
        font-weight: 600;
        color: #111827;
        margin-bottom: 15px;
      }
      
      .contact-info {
        font-size: 12px;
        color: #6b7280;
        line-height: 1.6;
      }
      
      .disclaimer {
        font-size: 10px;
        color: #9ca3af;
        margin-top: 20px;
        font-style: italic;
      }
      
      @media print {
        body { print-color-adjust: exact; -webkit-print-color-adjust: exact; }
        .invoice-container { border: none; }
      }
    `),Y.document.write("</style></head><body>"),Y.document.write(G.innerHTML),Y.document.write("</body></html>"),Y.document.close(),setTimeout(()=>{Y.print(),Y.close()},250)},R=()=>{L()};return i?t.jsxs("div",{className:"flex items-center justify-center h-64",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),t.jsx("p",{className:"ml-4 text-gray-600",children:"Loading your bookings..."})]}):t.jsxs("div",{className:"space-y-6",children:[h&&t.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 animate-slide-in",children:[t.jsx(vt,{size:24}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Success!"}),t.jsx("p",{className:"text-sm text-green-100",children:f})]})]}),t.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-3xl p-8 md:p-12 text-white overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full -ml-24 -mb-24"}),t.jsx("div",{className:"relative z-10",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(Ps,{size:24})}),t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"My Bookings"})]}),t.jsx("p",{className:"text-blue-100 text-lg",children:"Manage and track all your service bookings"})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 text-center min-w-[100px]",children:[t.jsx("p",{className:"text-3xl font-bold mb-1",children:Array.isArray(r)?r.length:0}),t.jsx("p",{className:"text-sm text-blue-100",children:"Total Bookings"})]}),t.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 text-center min-w-[100px]",children:[t.jsx("p",{className:"text-3xl font-bold mb-1",children:Array.isArray(r)?r.filter(G=>["pending","confirmed","in-progress"].includes(G.status)).length:0}),t.jsx("p",{className:"text-sm text-blue-100",children:"Active"})]})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(Dd,{className:"text-primary",size:20}),t.jsx("h3",{className:"font-semibold text-gray-800",children:"Filter Bookings"})]}),t.jsx("div",{className:"flex flex-wrap gap-3",children:["all","pending","confirmed","in-progress","completed","cancelled"].map(G=>t.jsxs("button",{onClick:()=>d(G),className:`px-5 py-2.5 rounded-xl font-medium capitalize transition-all transform hover:scale-105 ${o===G?"bg-gradient-to-r from-primary to-primary-light text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[G.replace("-"," "),G!=="all"&&t.jsxs("span",{className:"ml-2 text-xs opacity-75",children:["(",Array.isArray(r)?r.filter(Y=>Y.status===G).length:0,")"]})]},G))})]}),a.length===0?t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-12 text-center",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary/10 to-primary-light/10 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Ps,{className:"text-primary",size:48})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:"No Bookings Found"}),t.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:o==="all"?"You haven't made any bookings yet. Start by booking a service!":`No ${o.replace("-"," ")} bookings at the moment.`}),t.jsxs("button",{onClick:()=>e("/"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-primary to-primary-light text-white rounded-xl hover:from-primary-dark hover:to-primary font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[t.jsx(Gr,{size:20}),"Book a Service Now"]})]}):t.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.map(G=>{const Y=re(G);return t.jsx("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 hover:border-primary/30 overflow-hidden",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary/10 to-primary-light/10 rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(Gr,{className:"text-primary",size:20})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:Y.serviceName}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Booking ID: #",Y.id.slice(-8)]})]})]}),t.jsxs("div",{className:"space-y-2 ml-15",children:[Y.date&&t.jsxs("div",{className:"flex items-center text-gray-600",children:[t.jsx(Ps,{className:"mr-2 text-primary",size:16}),t.jsx("span",{className:"text-sm font-medium",children:new Date(Y.date).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]}),Y.time&&t.jsxs("div",{className:"flex items-center text-gray-600",children:[t.jsx(qr,{className:"mr-2 text-primary",size:16}),t.jsx("span",{className:"text-sm font-medium",children:Y.time})]}),Y.address&&t.jsxs("div",{className:"flex items-start text-gray-600",children:[t.jsx(Er,{className:"mr-2 mt-1 text-primary flex-shrink-0",size:16}),t.jsx("span",{className:"text-sm",children:typeof Y.address=="string"?Y.address:"Address not available"})]})]})]}),t.jsxs("span",{className:`px-4 py-2 rounded-xl text-sm font-semibold border-2 flex items-center gap-2 ${T(Y.status)}`,children:[z(Y.status),Y.status.replace("-"," ")]})]}),Y.cartItems&&Y.cartItems.length>0&&t.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Services:"}),t.jsxs("div",{className:"space-y-1",children:[Y.cartItems.slice(0,3).map((oe,Be)=>t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsxs("span",{className:"text-gray-600",children:[" ",oe.name||oe.serviceName||oe.productName||"Service Item"]}),t.jsxs("span",{className:"text-gray-800 font-medium",children:["",oe.price||oe.amount||oe.cost||0]})]},Be)),Y.cartItems.length>3&&t.jsxs("p",{className:"text-xs text-gray-500 italic",children:["+",Y.cartItems.length-3," more service(s)"]})]})]}),Y.amount>0&&t.jsx("div",{className:"pt-4 border-t border-gray-100 mt-4",children:t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("span",{className:"text-gray-600 font-medium",children:"Total Amount"}),t.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",Y.amount]})]})}),t.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[t.jsxs("button",{onClick:oe=>{oe.stopPropagation(),e(`/user/dashboard/bookings/${Y.id}`)},className:"flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2.5 bg-primary text-white rounded-xl hover:bg-primary-dark transition-all font-medium",children:[t.jsx(Sn,{size:18}),"View Details"]}),t.jsx(O6e,{booking:G,className:"flex-1 min-w-[140px]"}),["pending","confirmed"].includes(Y.status)&&D(Y)&&t.jsxs("button",{onClick:oe=>{oe.stopPropagation(),x(G),u(!0)},className:"flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2.5 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 transition-all font-medium border-2 border-red-200",children:[t.jsx(mt,{size:18}),"Cancel Booking"]}),["pending","confirmed"].includes(Y.status)&&!D(Y)&&t.jsxs("div",{className:"flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-50 text-gray-500 rounded-xl border-2 border-gray-200 cursor-help",title:"Cancellation is only available up to 2 hours before the scheduled service time",children:[t.jsx(qr,{size:18}),t.jsx("span",{className:"text-sm",children:"Cannot Cancel"})]}),Y.status==="completed"&&!Y.hasReview&&t.jsxs("button",{onClick:oe=>{oe.stopPropagation(),v(G),w(!0)},className:"flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2.5 bg-yellow-50 text-yellow-700 rounded-xl hover:bg-yellow-100 transition-all font-medium border-2 border-yellow-200",children:[t.jsx(Pi,{size:18}),"Write Review"]}),Y.status==="completed"&&Y.hasReview&&t.jsxs("div",{className:"flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2.5 bg-green-50 text-green-700 rounded-xl border-2 border-green-200",children:[t.jsx(Pi,{size:18}),t.jsx("span",{className:"text-sm",children:"Review Submitted"})]})]})]})},Y.id)})}),c&&m&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl overflow-hidden animate-slide-up",children:[t.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 p-6 text-white",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(rl,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold",children:"Cancel Booking?"}),t.jsx("p",{className:"text-red-100 text-sm",children:"This action cannot be undone"})]})]})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to cancel this booking for ",t.jsx("strong",{children:re(m).serviceName}),"?"]}),t.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 mb-6",children:t.jsxs("p",{className:"text-sm text-yellow-800",children:[t.jsx("strong",{children:"Cancellation Policy:"})," Bookings can only be cancelled up to 2 hours before the scheduled service time. Cancellation charges may apply based on the cancellation policy."]})}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:()=>{u(!1),x(null)},className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-all",children:"Keep Booking"}),t.jsx("button",{onClick:B,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:from-red-600 hover:to-red-700 font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:"Yes, Cancel"})]})]})]})}),k&&C&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full shadow-2xl overflow-hidden animate-slide-up my-8",children:[t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-light p-6 text-white flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(Gt,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold",children:"Invoice"}),t.jsxs("p",{className:"text-blue-100 text-sm",children:["Booking #",C._id.slice(-8)]})]})]}),t.jsx("button",{onClick:()=>P(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:t.jsx(mt,{size:24})})]}),t.jsxs("div",{className:"p-8",children:[t.jsx("div",{ref:A,children:t.jsxs("div",{className:"invoice-container",children:[t.jsxs("div",{className:"invoice-header",children:[t.jsxs("div",{className:"company-info",children:[t.jsx("h1",{children:"NEXO"}),t.jsx("p",{children:"ParNets Software India PVT LTD"}),t.jsx("p",{children:"Email: support@nexo.works"}),t.jsx("p",{children:"Phone: +91 1800-XXX-XXXX"}),t.jsx("p",{children:"Website: www.nexo.works"})]}),t.jsxs("div",{className:"invoice-title",children:[t.jsx("h2",{children:"INVOICE"}),t.jsxs("div",{className:"invoice-number",children:["INV-",C._id?C._id.slice(-8).toUpperCase():"N/A"]}),t.jsxs("div",{className:"invoice-date",children:["Date: ",new Date().toLocaleDateString("en-IN")]}),t.jsx("div",{className:"status-badge",children:C.status==="completed"?"PAID":((Z=C.status)==null?void 0:Z.toUpperCase())||"PENDING"})]})]}),t.jsxs("div",{className:"invoice-body",children:[t.jsxs("div",{className:"billing-section",children:[t.jsxs("div",{className:"bill-to",children:[t.jsx("div",{className:"section-title",children:"Bill To"}),t.jsxs("div",{className:"customer-info",children:[t.jsx("div",{className:"customer-name",children:((W=C.user)==null?void 0:W.name)||C.userName||C.customerName||"Customer"}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Phone:"}),t.jsx("span",{className:"info-value",children:((ie=C.user)==null?void 0:ie.phone)||C.userPhone||C.customerPhone||"N/A"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Address:"}),t.jsx("span",{className:"info-value",children:H(C.address||C.userAddress||((M=(ae=C.user)==null?void 0:ae.addresses)==null?void 0:M[0]))||"Address not available"})]})]})]}),t.jsxs("div",{className:"service-details",children:[t.jsx("div",{className:"section-title",children:"Service Details"}),t.jsxs("div",{className:"service-info",children:[t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Booking ID:"}),t.jsxs("span",{className:"info-value",children:["#",C._id?C._id.slice(-8):"N/A"]})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Service Date:"}),t.jsx("span",{className:"info-value",children:C.scheduledDate||C.bookingDate||C.createdAt?new Date(C.scheduledDate||C.bookingDate||C.createdAt).toLocaleDateString("en-IN"):"Date not available"})]}),(C.scheduledTime||C.bookingTime)&&t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Service Time:"}),t.jsx("span",{className:"info-value",children:C.scheduledTime||C.bookingTime})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"info-label",children:"Status:"}),t.jsx("span",{className:"info-value",children:((U=C.status)==null?void 0:U.charAt(0).toUpperCase())+((q=C.status)==null?void 0:q.slice(1))||"Unknown"})]})]})]})]}),t.jsxs("table",{className:"services-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:"description",children:"Description"}),t.jsx("th",{className:"quantity",children:"Qty"}),t.jsx("th",{className:"rate",children:"Rate"}),t.jsx("th",{className:"amount",children:"Amount"})]})}),t.jsx("tbody",{children:C.cartItems&&C.cartItems.length>0?C.cartItems.map((G,Y)=>t.jsxs("tr",{children:[t.jsxs("td",{className:"description",children:[t.jsx("div",{children:G.name||G.serviceName||G.productName||"Service Item"}),G.description&&t.jsx("div",{style:{fontSize:"11px",color:"#6b7280",marginTop:"2px"},children:G.description})]}),t.jsx("td",{className:"quantity",children:G.quantity||1}),t.jsxs("td",{className:"rate",children:["",G.price||G.amount||G.cost||0]}),t.jsxs("td",{className:"amount",children:["",(G.price||G.amount||G.cost||0)*(G.quantity||1)]})]},Y)):t.jsxs("tr",{children:[t.jsxs("td",{className:"description",children:[t.jsx("div",{children:C.serviceName||C.subService&&C.subService.name||"Professional Service"}),t.jsxs("div",{style:{fontSize:"11px",color:"#6b7280",marginTop:"2px"},children:["Service provided on ",C.scheduledDate||C.bookingDate||C.createdAt?new Date(C.scheduledDate||C.bookingDate||C.createdAt).toLocaleDateString("en-IN"):"scheduled date"]})]}),t.jsx("td",{className:"quantity",children:"1"}),t.jsxs("td",{className:"rate",children:["",C.amount||C.totalAmount||0]}),t.jsxs("td",{className:"amount",children:["",C.amount||C.totalAmount||0]})]})})]}),t.jsx("div",{className:"totals-section",children:t.jsxs("div",{className:"totals-table",children:[t.jsxs("div",{className:"total-row subtotal",children:[t.jsx("span",{children:"Subtotal"}),t.jsxs("span",{children:["",C.amount||C.totalAmount||0]})]}),C.gstAmount&&C.gstAmount>0&&t.jsxs("div",{className:"total-row subtotal",children:[t.jsx("span",{children:"GST (18%)"}),t.jsxs("span",{children:["",C.gstAmount]})]}),C.discount&&C.discount>0&&t.jsxs("div",{className:"total-row subtotal",style:{color:"#10b981"},children:[t.jsx("span",{children:"Discount"}),t.jsxs("span",{children:["-",C.discount]})]}),C.usewallet&&C.usewallet>0&&t.jsxs("div",{className:"total-row subtotal",style:{color:"#10b981"},children:[t.jsx("span",{children:"Wallet Used"}),t.jsxs("span",{children:["-",C.usewallet]})]}),t.jsxs("div",{className:"total-row final",children:[t.jsx("span",{children:"Total Amount"}),t.jsxs("span",{className:"amount",children:["",C.totalAmount||C.amount||0]})]})]})}),t.jsxs("div",{className:"footer",children:[t.jsx("div",{className:"thank-you",children:"Thank you for choosing Nexo!"}),t.jsxs("div",{className:"contact-info",children:["For any queries or support, please contact us:",t.jsx("br",{}),"Email: support@nexo.works | Phone: +91 1800-XXX-XXXX",t.jsx("br",{}),"Visit us at: www.nexo.works"]}),t.jsx("div",{className:"disclaimer",children:"This is a computer-generated invoice and does not require a physical signature. All services are subject to our terms and conditions."})]})]})]})}),t.jsxs("div",{className:"flex gap-4 mt-8 pt-6 border-t border-gray-200",children:[t.jsxs("button",{onClick:L,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-primary text-white rounded-xl hover:bg-primary-dark transition-all font-semibold",children:[t.jsx(km,{size:20}),"Print Invoice"]}),t.jsxs("button",{onClick:R,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all font-semibold",children:[t.jsx(In,{size:20}),"Download PDF"]}),t.jsx("button",{onClick:()=>P(!1),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-all",children:"Close"})]})]})]})}),j&&y&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl overflow-hidden animate-slide-up",children:[t.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 p-6 text-white",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(Pi,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold",children:"Write a Review"}),t.jsx("p",{className:"text-yellow-100 text-sm",children:"Share your experience"})]})]})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:re(y).serviceName}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Booking ID: #",re(y).id.slice(-8)]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Rating"}),t.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(G=>t.jsx("button",{onClick:()=>S({...N,rating:G}),className:`p-2 rounded-lg transition-all ${G<=N.rating?"text-yellow-500 bg-yellow-50":"text-gray-300 hover:text-yellow-400"}`,children:t.jsx(Pi,{size:24,fill:G<=N.rating?"currentColor":"none"})},G))}),t.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[N.rating===1&&"Poor",N.rating===2&&"Fair",N.rating===3&&"Good",N.rating===4&&"Very Good",N.rating===5&&"Excellent"]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comment (Optional)"}),t.jsx("textarea",{value:N.comment,onChange:G=>S({...N,comment:G.target.value}),placeholder:"Share your experience with this service...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent resize-none",rows:4})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:()=>{w(!1),v(null),S({rating:5,comment:""})},className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-all",children:"Cancel"}),t.jsx("button",{onClick:Q,className:"flex-1 px-6 py-3 bg-gradient-to-r from-yellow-500 to-yellow-600 text-white rounded-xl hover:from-yellow-600 hover:to-yellow-700 font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:"Submit Review"})]})]})]})})]})},DE="https://nexo.works",Wt=e=>e.startsWith("/api/")?`${DE}${e}`:`${DE}/api/user${e}`,Xt=e=>{const r={"Content-Type":"application/json"};return e&&(r.Authorization=`Bearer ${e}`),r},qt=async e=>{const r=e.headers.get("content-type")||"",s=r.includes("application/json"),a=await e.text();if(console.log("API Response:",{status:e.status,ok:e.ok,contentType:r,text:a.substring(0,200)}),!a||a.trim()===""){if(!e.ok){const i=new Error("Empty response from server");throw i.status=e.status,i}return{success:!0,message:"Operation completed successfully"}}let n;if(s)try{n=JSON.parse(a)}catch(i){console.error("JSON Parse Error:",i),n=a}else n=a;if(!e.ok){const i=new Error((n==null?void 0:n.message)||(n==null?void 0:n.error)||"Request failed");throw i.status=e.status,i.data=n,i}return n},Da={async register(e){const r=await fetch(Wt("/register"),{method:"POST",headers:Xt(),body:JSON.stringify(e)});return qt(r)},async sendOTP(e){const r=Wt("/auth/send-otp");console.log("Sending OTP to URL:",r,"Phone:",e);const s=await fetch(r,{method:"POST",headers:Xt(),body:JSON.stringify({phone:e})});return qt(s)},async sendLoginOTP(e){const r=Wt("/login/otp/send");console.log("Sending Login OTP to URL:",r,"Phone:",e);const s=await fetch(r,{method:"POST",headers:Xt(),body:JSON.stringify({phone:e})});return qt(s)},async verifyOTP(e,r){const s=await fetch(Wt("/login/otp/verify"),{method:"POST",headers:Xt(),body:JSON.stringify({phone:e,otp:r})});return qt(s)},async loginWithPassword(e,r){const s=await fetch(Wt("/login/password"),{method:"POST",headers:Xt(),body:JSON.stringify({email:e,password:r})});return qt(s)},async getProfile(e){const r=await fetch(Wt("/profile"),{headers:Xt(e)});return qt(r)},async updateProfile(e,r){const s={Authorization:`Bearer ${e}`},a=await fetch(Wt("/profile"),{method:"PUT",headers:s,body:r});return qt(a)},async changePassword(e,r,s){const a=await fetch(Wt("/change-password"),{method:"PUT",headers:Xt(e),body:JSON.stringify({currentPassword:r,newPassword:s})});return qt(a)},async addAddress(e,r){const s=await fetch(Wt("/address"),{method:"POST",headers:Xt(e),body:JSON.stringify(r)});return qt(s)},async updateAddress(e,r,s){const a=await fetch(Wt(`/address/${r}`),{method:"PUT",headers:Xt(e),body:JSON.stringify(s)});return qt(a)},async deleteAddress(e,r){const s=await fetch(Wt(`/address/${r}`),{method:"DELETE",headers:Xt(e)});return qt(s)},async getBookings(e){console.log(" userApi.getBookings called"),console.log("   buildUrl result:",Wt("/bookings"));const r=await fetch(Wt("/bookings"),{headers:Xt(e)});return qt(r)},async getBookingDetails(e,r){const s=await fetch(Wt(`/bookings/${r}`),{headers:Xt(e)});return qt(s)},async cancelBooking(e,r){const s=await fetch(Wt(`/bookings/${r}/cancel`),{method:"PUT",headers:Xt(e)});return qt(s)},async getWalletBalance(e,r){const s=await fetch(Wt(`/wallet/${r}`),{headers:Xt(e)});return qt(s)},async getWalletDetails(e,r){const s=await fetch(Wt(`/wallet/${r}`),{headers:Xt(e)});return qt(s)},async initiateWalletPayment(e,r,s){const a=await fetch(Wt("/wallet/initiate-payment"),{method:"POST",headers:Xt(e),body:JSON.stringify({amount:r,userId:s})});return qt(a)},async checkWalletPaymentStatus(e,r){const s=await fetch(Wt(`/wallet/payment-status/${r}`),{headers:Xt(e)});return qt(s)},async getNotifications(e){const r=await fetch(Wt("/notifications"),{headers:Xt(e)});return qt(r)},async markNotificationAsRead(e,r){const s=await fetch(Wt(`/notifications/${r}/read`),{method:"PUT",headers:Xt(e)});return qt(s)},async deleteNotification(e,r){const s=await fetch(Wt(`/notifications/${r}`),{method:"DELETE",headers:Xt(e)});return qt(s)},async sendSupportMessage(e,r,s){const a=await fetch(Wt("/contactus"),{method:"POST",headers:Xt(e),body:JSON.stringify({subject:r,message:s})});return qt(a)},async submitReview(e,r){const s=await fetch(Wt("/reviews"),{method:"POST",headers:Xt(e),body:JSON.stringify(r)});return qt(s)},async getDashboard(e){const r=await fetch(Wt("/dashboard"),{headers:Xt(e)});return qt(r)},async getQuickStats(e){const r=await fetch(Wt("/dashboard/quick-stats"),{headers:Xt(e)});return qt(r)},async getSmartAlerts(e){const r=await fetch(Wt("/dashboard/alerts"),{headers:Xt(e)});return qt(r)},async getActivityStreak(e){const r=await fetch(Wt("/dashboard/streak"),{headers:Xt(e)});return qt(r)},async getSuggestions(e){const r=await fetch(Wt("/dashboard/suggestions"),{headers:Xt(e)});return qt(r)},async getRecentActivity(e,r=15){const s=await fetch(Wt(`/dashboard/activity?limit=${r}`),{headers:Xt(e)});return qt(s)},async getBookingStats(e){const r=await fetch(Wt("/dashboard/booking-stats"),{headers:Xt(e)});return qt(r)},async getWalletSummaryDashboard(e){const r=await fetch(Wt("/dashboard/wallet-summary"),{headers:Xt(e)});return qt(r)},async getDashboardInsights(e){const r=await fetch(Wt("/dashboard/insights"),{headers:Xt(e)});return qt(r)},async getRecommendations(e){const r=await fetch(Wt("/dashboard/recommendations"),{headers:Xt(e)});return qt(r)},async getGreeting(e){const r=await fetch(Wt("/dashboard/greeting"),{headers:Xt(e)});return qt(r)},async getQuotationsByBooking(e,r){const s=await fetch(Wt(`/bookings/${r}/quotations`),{headers:Xt(e)});return qt(s)},async getQuotationById(e,r){const s=await fetch(Wt(`/quotations/${r}`),{headers:Xt(e)});return qt(s)},async acceptQuotation(e,r){const s=await fetch(Wt(`/quotations/${r}/accept`),{method:"POST",headers:Xt(e)});return qt(s)},async rejectQuotation(e,r,s){const a=await fetch(Wt(`/quotations/${r}/reject`),{method:"POST",headers:Xt(e),body:JSON.stringify({rejectionReason:s})});return qt(a)}},LE=e=>{if(!e.date)return!1;let r;if(e.time){const n=new Date(e.date),[i,l]=e.time.split(":");r=new Date(n),r.setHours(parseInt(i),parseInt(l),0,0)}else r=new Date(e.date);const s=new Date(r.getTime()-2*60*60*1e3);return new Date<s},FE=e=>{if(!e.date)return null;let r;if(e.time){const a=new Date(e.date),[n,i]=e.time.split(":");r=new Date(a),r.setHours(parseInt(n),parseInt(i),0,0)}else r=new Date(e.date);return new Date(r.getTime()-2*60*60*1e3)},bh=e=>{if(!e)return null;if(typeof e=="string")return e;if(typeof e=="object"){const r=[],s=e.address||e.street||e.addressLine1||e.line1||"",a=e.landmark||"",n=e.city||"",i=e.pincode||e.zipcode||"";return s&&r.push(s),a&&r.push(a),n&&r.push(n),i&&r.push(i),r.filter(Boolean).join(", ")||null}return null},RE=e=>{var s,a,n,i,l,o,d,c,u,m,x;if(!e)return null;let r=null;return e.address?r=bh(e.address):e.userAddress?r=bh(e.userAddress):e.serviceAddress?r=bh(e.serviceAddress):e.location?r=bh(e.location):(a=(s=e.user)==null?void 0:s.addresses)!=null&&a[0]&&(r=bh(e.user.addresses[0])),{id:e._id||e.id||"N/A",serviceName:e.serviceName||((n=e.service)==null?void 0:n.name)||((i=e.subService)==null?void 0:i.name)||((o=(l=e.subService)==null?void 0:l.service)==null?void 0:o.name)||((d=e.product)==null?void 0:d.name)||"Service Booking",status:e.status||"pending",paymentStatus:e.paymentStatus||"pending",date:e.scheduledDate||e.bookingDate||e.serviceDate||e.createdAt||e.date||null,time:e.scheduledTime||e.bookingTime||e.serviceTime||e.time||null,address:r,amount:e.amount||e.subtotal||0,totalAmount:e.totalAmount||e.amount||e.price||e.cost||0,gstAmount:e.gstAmount||0,usewallet:e.usewallet||e.walletUsed||0,discount:e.discount||0,customerName:((c=e.user)==null?void 0:c.name)||e.userName||e.customerName||e.name||"Customer",customerPhone:((u=e.user)==null?void 0:u.phone)||e.userPhone||e.customerPhone||e.phone||null,partner:e.partner?{name:e.partner.name||((m=e.partner.profile)==null?void 0:m.name)||e.partnerName||"Service Provider",phone:e.partner.phone||((x=e.partner.profile)==null?void 0:x.phone)||e.partnerPhone||null}:null,cartItems:e.cartItems||e.items||e.services||[],hasReview:e.hasReview||e.reviewed||!1,userRating:e.userRating||null}},Jke=()=>{const{bookingId:e}=wm(),r=er(),[s,a]=g.useState(null),[n,i]=g.useState(!0),[l,o]=g.useState([]),[d,c]=g.useState(!1),[u,m]=g.useState(null);g.useEffect(()=>{f(),x()},[e]);const x=async()=>{try{const w=localStorage.getItem("userToken");if(!w)return;c(!0);const y=await Da.getQuotationsByBooking(w,e);y.success&&y.data&&o(y.data)}catch(w){console.error("Error fetching quotations:",w)}finally{c(!1)}},h=async w=>{try{const y=localStorage.getItem("userToken");(await Da.acceptQuotation(y,w)).success&&(await x(),alert("Quotation accepted successfully!"))}catch(y){throw console.error("Error accepting quotation:",y),y}},p=async(w,y)=>{try{const v=localStorage.getItem("userToken");(await Da.rejectQuotation(v,w,y)).success&&(await x(),alert("Quotation rejected successfully!"))}catch(v){throw console.error("Error rejecting quotation:",v),v}},f=async()=>{try{const w=localStorage.getItem("userToken");console.log(" Fetching booking details for ID:",e);const y=await Et.get(`https://nexo.works/api/user/bookings/${e}`,{headers:{Authorization:`Bearer ${w}`}}),v=y.data.data||y.data.booking||y.data;console.log(" Extracted booking:",v),a(v)}catch(w){console.error("Error fetching booking details:",w)}finally{i(!1)}},b=async()=>{var w,y;if(confirm("Are you sure you want to cancel this booking?"))try{const v=localStorage.getItem("userToken"),N=RE(s);if(!LE(N)){alert("Cancellation is no longer available. Bookings can only be cancelled up to 2 hours before the scheduled time.");return}await Et.put(`https://nexo.works/api/user/bookings/${e}/cancel`,{cancellationReason:"Customer requested cancellation from booking details",cancellationTime:new Date().toISOString()},{headers:{Authorization:`Bearer ${v}`}}),alert("Booking cancelled successfully"),f()}catch(v){console.error("Error cancelling booking:",v);const N=((y=(w=v.response)==null?void 0:w.data)==null?void 0:y.message)||"Failed to cancel booking. Please try again.";alert(N)}};if(n)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!s)return t.jsxs("div",{className:"text-center py-12",children:[t.jsx("p",{className:"text-gray-500",children:"Booking not found"}),t.jsx("button",{onClick:()=>r("/user/dashboard/bookings"),className:"mt-4 text-blue-600 hover:text-blue-700",children:"Back to Bookings"})]});const j=RE(s);return j?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>r("/user/dashboard/bookings"),className:"p-2 hover:bg-gray-100 rounded-lg",children:t.jsx(ox,{size:24})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Booking Details"})]}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:j.serviceName}),t.jsxs("p",{className:"text-gray-500",children:["Booking ID: #",j.id.slice(-8)]})]}),t.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-medium capitalize
            ${j.status==="completed"?"bg-green-100 text-green-800":j.status==="cancelled"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:j.status})]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Booking Information"}),t.jsxs("div",{className:"space-y-4",children:[j.date&&t.jsxs("div",{className:"flex items-start",children:[t.jsx(Ps,{className:"text-gray-400 mt-1 mr-3",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),t.jsx("p",{className:"font-medium text-gray-800",children:new Date(j.date).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]})]}),j.time&&t.jsxs("div",{className:"flex items-start",children:[t.jsx(qr,{className:"text-gray-400 mt-1 mr-3",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Time"}),t.jsx("p",{className:"font-medium text-gray-800",children:j.time})]})]}),j.address&&t.jsxs("div",{className:"flex items-start",children:[t.jsx(Er,{className:"text-gray-400 mt-1 mr-3",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),t.jsx("p",{className:"font-medium text-gray-800",children:typeof j.address=="string"?j.address:"Address not available"})]})]})]})]}),j.partner&&t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Provider"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx(Or,{className:"text-gray-400 mt-1 mr-3",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),t.jsx("p",{className:"font-medium text-gray-800",children:j.partner.name})]})]}),j.partner.phone&&t.jsxs("div",{className:"flex items-start",children:[t.jsx(an,{className:"text-gray-400 mt-1 mr-3",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),t.jsx("p",{className:"font-medium text-gray-800",children:j.partner.phone})]})]})]})]}),j.cartItems&&j.cartItems.length>0&&t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Services Booked"}),t.jsx("div",{className:"space-y-3",children:j.cartItems.map((w,y)=>t.jsxs("div",{className:"flex justify-between items-start py-2 border-b border-gray-100 last:border-0",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-800",children:w.name||w.serviceName||w.productName||"Service Item"}),w.description&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:w.description}),w.quantity&&w.quantity>1&&t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Quantity: ",w.quantity]})]}),t.jsxs("span",{className:"font-medium text-gray-800 ml-4",children:["",w.price||w.amount||w.cost||0]})]},y))})]}),j.totalAmount>0&&t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Payment Details"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Subtotal"}),t.jsxs("span",{children:["",j.amount]})]}),j.gstAmount>0&&t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"GST (18%)"}),t.jsxs("span",{children:["",j.gstAmount]})]}),j.usewallet>0&&t.jsxs("div",{className:"flex justify-between text-green-600",children:[t.jsx("span",{children:"Wallet Used"}),t.jsxs("span",{children:["- ",j.usewallet]})]}),j.discount>0&&t.jsxs("div",{className:"flex justify-between text-green-600",children:[t.jsx("span",{children:"Discount"}),t.jsxs("span",{children:["- ",j.discount]})]}),t.jsxs("div",{className:"pt-3 border-t",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total Amount"}),t.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:["",j.totalAmount]})]}),t.jsx("div",{className:"mt-2",children:t.jsxs("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium capitalize ${j.paymentStatus==="completed"?"bg-green-100 text-green-800":j.paymentStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:["Payment: ",j.paymentStatus]})})]})]})]}),l.length>0&&t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:[t.jsx(Yt,{className:"inline mr-2"}),"Quotations (",l.length,")"]}),d&&t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})]}),t.jsx("div",{className:"space-y-3",children:l.map(w=>{var y;return t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-gray-800",children:["#",w.quotationNumber," - ",((y=w.totalAmount)==null?void 0:y.toFixed(2))||"0.00"]}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Valid till: ",w.validTill?new Date(w.validTill).toLocaleDateString():"N/A"]})]}),t.jsx("button",{onClick:()=>m(w),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition",title:"View Details",children:t.jsx(Sn,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs("span",{className:`px-2 py-1 rounded text-xs font-semibold ${w.customerStatus==="accepted"?"bg-green-100 text-green-800":w.customerStatus==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:["Your Status: ",w.customerStatus]}),w.partnerStatus!=="not_required"&&t.jsxs("span",{className:`px-2 py-1 rounded text-xs font-semibold ${w.partnerStatus==="accepted"?"bg-green-100 text-green-800":w.partnerStatus==="rejected"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:["Partner Status: ",w.partnerStatus]})]})]},w._id)})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Invoice & Documents"}),t.jsx(o6,{booking:s,variant:"primary",size:"lg",className:"w-full"})]}),j.status!=="cancelled"&&j.status!=="completed"&&t.jsx("div",{className:"space-y-4",children:LE(j)?t.jsx("div",{className:"flex gap-4",children:t.jsx("button",{onClick:b,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all",children:"Cancel Booking"})}):t.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx(qr,{className:"text-yellow-600",size:16})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-yellow-800 mb-1",children:"Cancellation Not Available"}),t.jsx("p",{className:"text-sm text-yellow-700 mb-2",children:"Bookings can only be cancelled up to 2 hours before the scheduled time."}),FE(j)&&t.jsxs("p",{className:"text-xs text-yellow-600",children:["Cancellation was available until: ",FE(j).toLocaleString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})})}),j.status==="completed"&&!j.hasReview&&t.jsx("button",{onClick:()=>r(`/user/dashboard/bookings/${e}/review`),className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Write a Review"}),u&&t.jsx(c6,{quotation:u,onClose:()=>m(null),onAccept:h,onReject:p,userType:"customer",token:localStorage.getItem("userToken")})]}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("p",{className:"text-gray-500",children:"Unable to load booking data"}),t.jsx("button",{onClick:()=>r("/user/dashboard/bookings"),className:"mt-4 text-blue-600 hover:text-blue-700",children:"Back to Bookings"})]})},BE="https://nexo.works",Qke=()=>{const{checkAuth:e}=on(),[r,s]=g.useState({name:"",email:"",phone:"",profilePicture:"",userType:"home",companyDetails:{companyName:"",companySize:"",industry:"",gstNumber:"",contactPerson:"",designation:""}}),[a,n]=g.useState(!0),[i,l]=g.useState(!1),[o,d]=g.useState(null),[c,u]=g.useState(!1),[m,x]=g.useState(!1),[h,p]=g.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[f,b]=g.useState(!1),[j,w]=g.useState(!1),[y,v]=g.useState(!1),[N,S]=g.useState(!1);g.useEffect(()=>{k()},[]);const k=async()=>{try{const H=localStorage.getItem("userToken"),xe=(await Et.get(`${BE}/api/user/profile`,{headers:{Authorization:`Bearer ${H}`}})).data.user;console.log("Fetched user data:",xe);const we={name:xe.name||"",email:xe.email||"",phone:xe.phone||"",profilePicture:xe.profilePicture||"",userType:xe.userType||"home",companyDetails:xe.companyDetails||{companyName:"",companySize:"",industry:"",gstNumber:"",contactPerson:"",designation:""}};console.log("Setting profile data:",we),s(we),xe.profilePicture&&d(xe.profilePicture)}catch(H){console.error("Error fetching profile:",H)}finally{n(!1)}},P=H=>{s({...r,[H.target.name]:H.target.value})},C=H=>{s({...r,companyDetails:{...r.companyDetails,[H.target.name]:H.target.value}})},_=H=>{const re=H.target.files[0];if(re){const xe=new FileReader;xe.onloadend=()=>{d(xe.result)},xe.readAsDataURL(re),s({...r,profilePicture:re})}},A=async H=>{H.preventDefault(),l(!0);try{const re=localStorage.getItem("userToken"),xe=new FormData;xe.append("name",r.name),xe.append("email",r.email),xe.append("userType",r.userType),r.userType==="company"&&xe.append("companyDetails",JSON.stringify(r.companyDetails)),r.profilePicture instanceof File&&xe.append("profilePicture",r.profilePicture),await Et.put(`${BE}/api/user/profile`,xe,{headers:{Authorization:`Bearer ${re}`,"Content-Type":"multipart/form-data"}}),u(!0),setTimeout(()=>u(!1),3e3),await k(),await e()}catch(re){console.error("Error updating profile:",re),alert("Failed to update profile")}finally{l(!1)}},D=async H=>{if(H.preventDefault(),h.newPassword!==h.confirmPassword){alert("New password and confirm password do not match");return}if(h.newPassword.length<6){alert("Password must be at least 6 characters long");return}S(!0);try{const re=localStorage.getItem("userToken");await Da.changePassword(re,h.currentPassword,h.newPassword),u(!0),setTimeout(()=>u(!1),3e3),p({currentPassword:"",newPassword:"",confirmPassword:""}),x(!1)}catch(re){console.error("Error changing password:",re),alert(re.message||"Failed to change password. Please check your current password.")}finally{S(!1)}};return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.jsxs("div",{className:"space-y-6",children:[c&&t.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 animate-slide-in",children:[t.jsx(vt,{size:24}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Profile Updated!"}),t.jsx("p",{className:"text-sm text-green-100",children:"Your changes have been saved successfully."})]})]}),t.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-3xl p-8 md:p-12 text-white overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full -ml-24 -mb-24"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(Or,{size:24})}),t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"My Profile"})]}),t.jsx("p",{className:"text-blue-100 text-lg",children:"Manage your personal information and account settings"})]})]}),t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-primary-light/10 p-8 border-b border-gray-200",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"w-32 h-32 rounded-2xl overflow-hidden bg-gradient-to-br from-primary/20 to-primary-light/20 ring-4 ring-white shadow-xl",children:o?t.jsx("img",{src:o,alt:"Profile",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary to-primary-light",children:t.jsx(Or,{size:48,className:"text-white"})})}),t.jsxs("label",{className:"absolute bottom-0 right-0 p-3 bg-primary rounded-xl cursor-pointer hover:bg-primary-dark transition-all shadow-lg group-hover:scale-110 transform duration-300",children:[t.jsx(b0,{className:"text-white",size:20}),t.jsx("input",{type:"file",accept:"image/*",onChange:_,className:"hidden"})]})]}),t.jsxs("div",{className:"text-center md:text-left",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:r.name||"User"}),t.jsx("p",{className:"text-gray-600 mb-3",children:r.email||"No email provided"}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary",children:[t.jsx(kn,{size:16}),t.jsx("span",{className:"font-medium",children:"Verified Account"})]})]})]})}),t.jsxs("form",{onSubmit:A,className:"p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx(mp,{size:16,className:"text-primary"}),"Full Name *"]}),t.jsxs("div",{className:"relative",children:[t.jsx(Or,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",name:"name",value:r.name,onChange:P,className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Enter your full name",required:!0})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx(mp,{size:16,className:"text-primary"}),"Email Address *"]}),t.jsxs("div",{className:"relative",children:[t.jsx(sn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"email",name:"email",value:r.email,onChange:P,className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Enter your email address",required:!0})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:[t.jsxs("label",{className:"block text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(mp,{size:20,className:"text-primary"}),"Account Type *"]}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose your account type to get personalized services and AMC plans"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[{value:"home",label:"Home",icon:rn,desc:"Personal/Residential"},{value:"pg",label:"PG/Hostel",icon:Nr,desc:"Paying Guest/Hostel"},{value:"company",label:"Business",icon:Jr,desc:"Company/Organization"}].map(H=>{const re=H.icon,xe=r.userType===H.value;return t.jsxs("div",{onClick:()=>s({...r,userType:H.value}),className:`relative p-4 border-2 rounded-xl cursor-pointer transition-all duration-300 ${xe?"border-primary bg-primary/5 shadow-md":"border-gray-200 hover:border-primary/50 hover:shadow-sm"}`,children:[t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-2 ${xe?"bg-primary text-white":"bg-gray-100 text-gray-600"}`,children:t.jsx(re,{size:24})}),t.jsx("h3",{className:`font-semibold text-sm ${xe?"text-primary":"text-gray-900"}`,children:H.label}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:H.desc})]}),xe&&t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx(vt,{className:"text-primary",size:20})})]},H.value)})}),t.jsx("div",{className:"mt-4 p-3 bg-white border border-blue-200 rounded-lg",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-green-500",size:16}),t.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Current selection: ",t.jsx("span",{className:"text-primary font-bold",children:r.userType==="home"?"Home (Personal/Residential)":r.userType==="pg"?"PG/Hostel (Paying Guest/Hostel)":"Business (Company/Organization)"})]})]})})]}),r.userType==="company"&&t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(Jr,{className:"text-blue-600",size:20}),t.jsx("h3",{className:"text-lg font-bold text-blue-900",children:"Company Details"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Company Name *"}),t.jsx("input",{type:"text",name:"companyName",value:r.companyDetails.companyName,onChange:C,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Enter company name",required:r.userType==="company"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Company Size"}),t.jsxs("select",{name:"companySize",value:r.companyDetails.companySize,onChange:C,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",children:[t.jsx("option",{value:"",children:"Select company size"}),t.jsx("option",{value:"small",children:"Small (1-50 employees)"}),t.jsx("option",{value:"medium",children:"Medium (51-200 employees)"}),t.jsx("option",{value:"large",children:"Large (201-1000 employees)"}),t.jsx("option",{value:"enterprise",children:"Enterprise (1000+ employees)"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Industry"}),t.jsx("input",{type:"text",name:"industry",value:r.companyDetails.industry,onChange:C,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"e.g., Technology, Healthcare, Manufacturing"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GST Number"}),t.jsx("input",{type:"text",name:"gstNumber",value:r.companyDetails.gstNumber,onChange:C,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Enter GST number (optional)"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Contact Person"}),t.jsx("input",{type:"text",name:"contactPerson",value:r.companyDetails.contactPerson,onChange:C,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Primary contact person name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Designation"}),t.jsx("input",{type:"text",name:"designation",value:r.companyDetails.designation,onChange:C,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"e.g., Manager, Director, Owner"})]})]}),t.jsx("div",{className:"bg-blue-100 border border-blue-300 rounded-lg p-3 mt-4",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(vt,{className:"text-blue-600 mt-0.5 flex-shrink-0",size:16}),t.jsxs("div",{className:"text-sm text-blue-800",children:[t.jsx("p",{className:"font-medium mb-1",children:"Business Account Benefits:"}),t.jsxs("ul",{className:"text-xs space-y-1",children:[t.jsx("li",{children:" Access to business AMC plans"}),t.jsx("li",{children:" Priority customer support"}),t.jsx("li",{children:" Bulk service discounts"}),t.jsx("li",{children:" Dedicated account manager"})]})]})]})})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx(kn,{size:16,className:"text-gray-400"}),"Phone Number (Verified)"]}),t.jsxs("div",{className:"relative",children:[t.jsx(an,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"tel",value:r.phone,className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl bg-gray-50 text-gray-600 cursor-not-allowed",disabled:!0})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-500",children:[t.jsx(vt,{size:14,className:"text-green-500"}),t.jsx("span",{children:"Phone number is verified and cannot be changed"})]})]}),t.jsx("div",{className:"pt-4",children:t.jsx("button",{type:"submit",disabled:i,className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-gradient-to-r from-primary to-primary-light text-white rounded-xl hover:from-primary-dark hover:to-primary disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",children:i?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Saving Changes..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Zn,{size:20}),"Save Changes"]})})})]})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[t.jsxs("button",{onClick:()=>x(!m),className:"w-full bg-gradient-to-r from-primary/10 to-primary-light/10 p-6 border-b border-gray-200 flex items-center justify-between hover:from-primary/15 hover:to-primary-light/15 transition-all",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center",children:t.jsx(Ms,{className:"text-white",size:20})}),t.jsxs("div",{className:"text-left",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Change Password"}),t.jsx("p",{className:"text-gray-600 text-sm mt-0.5",children:"Update your account password"})]})]}),t.jsx("div",{className:`transform transition-transform ${m?"rotate-180":""}`,children:t.jsx(mp,{className:"text-primary",size:20})})]}),m&&t.jsxs("form",{onSubmit:D,className:"p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx(Ms,{size:16,className:"text-primary"}),"Current Password *"]}),t.jsxs("div",{className:"relative",children:[t.jsx(Ms,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:f?"text":"password",value:h.currentPassword,onChange:H=>p({...h,currentPassword:H.target.value}),className:"w-full pl-12 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Enter current password",required:!0}),t.jsx("button",{type:"button",onClick:()=>b(!f),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f?t.jsx(m1,{size:20}):t.jsx(Sn,{size:20})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx(Ms,{size:16,className:"text-primary"}),"New Password *"]}),t.jsxs("div",{className:"relative",children:[t.jsx(Ms,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:j?"text":"password",value:h.newPassword,onChange:H=>p({...h,newPassword:H.target.value}),className:"w-full pl-12 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Enter new password (min 6 characters)",required:!0,minLength:6}),t.jsx("button",{type:"button",onClick:()=>w(!j),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:j?t.jsx(m1,{size:20}):t.jsx(Sn,{size:20})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx(Ms,{size:16,className:"text-primary"}),"Confirm New Password *"]}),t.jsxs("div",{className:"relative",children:[t.jsx(Ms,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:y?"text":"password",value:h.confirmPassword,onChange:H=>p({...h,confirmPassword:H.target.value}),className:"w-full pl-12 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Confirm new password",required:!0}),t.jsx("button",{type:"button",onClick:()=>v(!y),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:y?t.jsx(m1,{size:20}):t.jsx(Sn,{size:20})})]}),h.newPassword&&h.confirmPassword&&h.newPassword!==h.confirmPassword&&t.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Passwords do not match"})]}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{x(!1),p({currentPassword:"",newPassword:"",confirmPassword:""})},className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-all",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:N||h.newPassword!==h.confirmPassword,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-primary to-primary-light text-white rounded-xl hover:from-primary-dark hover:to-primary disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:N?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Changing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ms,{size:20}),"Change Password"]})})]})]})]}),t.jsx("div",{className:"bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-2xl p-6 text-white shadow-xl",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(kn,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-lg mb-2",children:"Account Security"}),t.jsx("p",{className:"text-blue-100 mb-4",children:"Your account is secured with phone verification. Keep your profile information up to date for the best experience."}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsx("div",{className:"px-3 py-1.5 bg-white/20 backdrop-blur-sm rounded-lg text-sm font-medium",children:" Phone Verified"}),t.jsx("div",{className:"px-3 py-1.5 bg-white/20 backdrop-blur-sm rounded-lg text-sm font-medium",children:" Active Account"}),r.password&&t.jsx("div",{className:"px-3 py-1.5 bg-white/20 backdrop-blur-sm rounded-lg text-sm font-medium",children:" Password Set"})]})]})]})})]})]})},Zke=()=>{const[e,r]=g.useState([]),[s,a]=g.useState(!0),[n,i]=g.useState(!1),[l,o]=g.useState(null),[d,c]=g.useState(!1),[u,m]=g.useState(!1),[x,h]=g.useState(!1),[p,f]=g.useState({address:"",lat:"",lng:"",landmark:"",addressType:"home"});g.useEffect(()=>{b()},[]);const b=async()=>{try{const S=localStorage.getItem("userToken"),k=await Et.get("https://nexo.works/api/user/profile",{headers:{Authorization:`Bearer ${S}`}});r(k.data.user.addresses||[])}catch(S){console.error("Error fetching addresses:",S)}finally{a(!1)}},j=async S=>{S.preventDefault(),m(!0);try{const k=localStorage.getItem("userToken");l?await Et.put(`https://nexo.works/api/user/address/${l._id}`,p,{headers:{Authorization:`Bearer ${k}`}}):await Et.post("https://nexo.works/api/user/address",p,{headers:{Authorization:`Bearer ${k}`}}),c(!0),setTimeout(()=>c(!1),3e3),i(!1),o(null),f({address:"",lat:"",lng:"",landmark:"",addressType:"home"}),b()}catch(k){console.error("Error saving address:",k),alert("Failed to save address. Please try again.")}finally{m(!1)}},w=async S=>{if(confirm("Are you sure you want to delete this address?"))try{const k=localStorage.getItem("userToken");await Et.delete(`https://nexo.works/api/user/address/${S}`,{headers:{Authorization:`Bearer ${k}`}}),alert("Address deleted successfully"),b()}catch(k){console.error("Error deleting address:",k),alert("Failed to delete address")}},y=S=>{o(S),f({address:S.address,lat:S.lat||"",lng:S.lng||"",landmark:S.landmark||"",addressType:S.addressType||"home"}),i(!0)},v=S=>S==="work"?t.jsx(Jr,{size:20}):t.jsx(rn,{size:20}),N=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}h(!0),navigator.geolocation.getCurrentPosition(async S=>{const{latitude:k,longitude:P}=S.coords;try{const _=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${k}&lon=${P}&zoom=18&addressdetails=1`)).json();_&&_.display_name?f({...p,address:_.display_name,lat:k.toString(),lng:P.toString()}):f({...p,address:`Location: ${k.toFixed(6)}, ${P.toFixed(6)}`,lat:k.toString(),lng:P.toString()})}catch(C){console.error("Error reverse geocoding:",C),f({...p,address:`Location: ${k.toFixed(6)}, ${P.toFixed(6)}`,lat:k.toString(),lng:P.toString()})}finally{h(!1)}},S=>{console.error("Error getting location:",S);let k="Unable to get your location. ";switch(S.code){case S.PERMISSION_DENIED:k+="Please allow location access in your browser settings.";break;case S.POSITION_UNAVAILABLE:k+="Location information is unavailable.";break;case S.TIMEOUT:k+="Location request timed out.";break;default:k+="An unknown error occurred."}alert(k),h(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return s?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.jsxs("div",{className:"space-y-6",children:[d&&t.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 animate-slide-in",children:[t.jsx(vt,{size:24}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Success!"}),t.jsx("p",{className:"text-sm text-green-100",children:"Address saved successfully."})]})]}),t.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-3xl p-8 md:p-12 text-white overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full -ml-24 -mb-24"}),t.jsx("div",{className:"relative z-10",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(Er,{size:24})}),t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"My Addresses"})]}),t.jsx("p",{className:"text-blue-100 text-lg",children:"Manage your saved addresses for faster bookings"})]}),t.jsxs("button",{onClick:()=>{o(null),f({address:"",lat:"",lng:"",landmark:"",addressType:"home"}),i(!0)},className:"flex items-center justify-center gap-2 px-6 py-3 bg-white text-primary rounded-xl hover:bg-blue-50 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold",children:[t.jsx(ar,{size:20}),"Add New Address"]})]})})]}),e.length===0?t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-12 text-center",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary/10 to-primary-light/10 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Er,{className:"text-primary",size:48})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:"No Addresses Yet"}),t.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Add your first address to make booking services faster and easier. You can save multiple addresses for home, work, and more."}),t.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-primary to-primary-light text-white rounded-xl hover:from-primary-dark hover:to-primary font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[t.jsx(ar,{size:20}),"Add Your First Address"]})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((S,k)=>t.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-6 border border-gray-100 hover:border-primary/30 hover:-translate-y-1",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`p-3 rounded-xl ${S.addressType==="home"?"bg-blue-100 text-blue-600":S.addressType==="work"?"bg-purple-100 text-purple-600":"bg-green-100 text-green-600"} group-hover:scale-110 transition-transform`,children:v(S.addressType)}),t.jsxs("div",{children:[t.jsx("span",{className:"font-bold text-gray-800 capitalize block",children:S.addressType}),t.jsxs("span",{className:"text-xs text-gray-500",children:["Address #",k+1]})]})]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:()=>y(S),className:"p-2 text-primary hover:bg-primary/10 rounded-lg transition-colors",title:"Edit address",children:t.jsx(gs,{size:18})}),t.jsx("button",{onClick:()=>w(S._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete address",children:t.jsx(la,{size:18})})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Er,{className:"text-gray-400 mt-1 flex-shrink-0",size:16}),t.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:S.address})]}),S.landmark&&t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(h1,{className:"text-gray-400 mt-1 flex-shrink-0",size:16}),t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium",children:"Landmark:"})," ",S.landmark]})]})]}),t.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:t.jsx("button",{onClick:()=>y(S),className:"w-full py-2 text-primary hover:bg-primary/5 rounded-lg transition-colors text-sm font-medium",children:"Edit Details"})})]},S._id))}),n&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-2xl overflow-hidden animate-slide-up",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-primary-light/10 p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center",children:t.jsx(Er,{className:"text-white",size:20})}),t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:l?"Edit Address":"Add New Address"})]}),t.jsx("button",{onClick:()=>{i(!1),o(null)},className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:t.jsx(mt,{size:20,className:"text-gray-600"})})]})}),t.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Address Type *"}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("label",{className:`flex flex-col items-center justify-center p-4 border-2 rounded-xl cursor-pointer transition-all ${p.addressType==="home"?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/30"}`,children:[t.jsx("input",{type:"radio",name:"addressType",value:"home",checked:p.addressType==="home",onChange:S=>f({...p,addressType:S.target.value}),className:"sr-only"}),t.jsx(rn,{size:24,className:p.addressType==="home"?"text-primary":"text-gray-400"}),t.jsx("span",{className:`mt-2 text-sm font-medium ${p.addressType==="home"?"text-primary":"text-gray-600"}`,children:"Home"})]}),t.jsxs("label",{className:`flex flex-col items-center justify-center p-4 border-2 rounded-xl cursor-pointer transition-all ${p.addressType==="work"?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/30"}`,children:[t.jsx("input",{type:"radio",name:"addressType",value:"work",checked:p.addressType==="work",onChange:S=>f({...p,addressType:S.target.value}),className:"sr-only"}),t.jsx(Jr,{size:24,className:p.addressType==="work"?"text-primary":"text-gray-400"}),t.jsx("span",{className:`mt-2 text-sm font-medium ${p.addressType==="work"?"text-primary":"text-gray-600"}`,children:"Work"})]}),t.jsxs("label",{className:`flex flex-col items-center justify-center p-4 border-2 rounded-xl cursor-pointer transition-all ${p.addressType==="other"?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/30"}`,children:[t.jsx("input",{type:"radio",name:"addressType",value:"other",checked:p.addressType==="other",onChange:S=>f({...p,addressType:S.target.value}),className:"sr-only"}),t.jsx(CM,{size:24,className:p.addressType==="other"?"text-primary":"text-gray-400"}),t.jsx("span",{className:`mt-2 text-sm font-medium ${p.addressType==="other"?"text-primary":"text-gray-600"}`,children:"Other"})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Complete Address *"}),t.jsx("button",{type:"button",onClick:N,disabled:x,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-primary hover:bg-primary/10 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:x?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),"Getting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(h1,{size:16}),"Use Current Location"]})})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Er,{className:"absolute left-4 top-4 text-gray-400",size:18}),t.jsx("textarea",{value:p.address,onChange:S=>f({...p,address:S.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all resize-none",rows:"3",placeholder:"House/Flat No., Building Name, Street, Area",required:!0})]}),p.lat&&p.lng&&t.jsxs("p",{className:"text-xs text-green-600 mt-2 flex items-center gap-1",children:[t.jsx(vt,{size:12}),"Location coordinates saved: ",parseFloat(p.lat).toFixed(4),", ",parseFloat(p.lng).toFixed(4)]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Landmark (Optional)"}),t.jsxs("div",{className:"relative",children:[t.jsx(h1,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"text",value:p.landmark,onChange:S=>f({...p,landmark:S.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Nearby landmark for easy location"})]})]}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{i(!1),o(null)},disabled:u,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:u,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-primary to-primary-light text-white rounded-xl hover:from-primary-dark hover:to-primary disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:u?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(vt,{size:20}),"Save Address"]})})]})]})]})})]})},eCe=()=>{const[e,r]=g.useState(null),[s,a]=g.useState(0),[n,i]=g.useState([]),[l,o]=g.useState(!0),[d,c]=g.useState(!1),[u,m]=g.useState(""),[x,h]=g.useState(!1),[p,f]=g.useState(null);g.useEffect(()=>{b(),w(),j()},[]);const b=async()=>{try{const v=localStorage.getItem("userToken");if(v){const N=await Da.getProfile(v);r(N.user)}}catch(v){console.error("Error fetching user profile:",v)}},j=()=>{const v=new URLSearchParams(window.location.search),N=v.get("payment"),S=v.get("amount"),k=v.get("reason");N==="success"?(f({type:"success",message:`${S} added successfully to your wallet!`}),window.history.replaceState({},document.title,window.location.pathname),setTimeout(()=>{w(),f(null)},3e3)):N==="failed"&&(f({type:"error",message:`Payment failed: ${k||"Unknown error"}`}),setTimeout(()=>f(null),5e3))},w=async()=>{try{const v=localStorage.getItem("userToken"),N=(e==null?void 0:e._id)||localStorage.getItem("userId");if(!v||!N){console.error("No token or userId found"),o(!1);return}const S=await Da.getWalletDetails(v,N);S.success&&(a(S.data.balance||0),i(S.data.transactions||[])),o(!1)}catch(v){console.error("Error fetching wallet data:",v),a(0),i([]),o(!1)}},y=async v=>{if(v.preventDefault(),!u||u<=0){alert("Please enter a valid amount");return}try{h(!0);const N=localStorage.getItem("userToken"),S=(e==null?void 0:e._id)||localStorage.getItem("userId");if(!N||!S){alert("Please login to continue"),h(!1);return}const k=await Da.initiateWalletPayment(N,parseFloat(u),S);if(k.success){const P=document.createElement("form");P.method="POST",P.action=k.data.action,Object.keys(k.data).forEach(C=>{if(C!=="action"){const _=document.createElement("input");_.type="hidden",_.name=C,_.value=k.data[C],P.appendChild(_)}}),document.body.appendChild(P),P.submit()}else alert("Failed to initiate payment. Please try again."),h(!1)}catch(N){console.error("Error initiating payment:",N),alert("Failed to initiate payment. Please try again."),h(!1)}};return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[p&&t.jsxs("div",{className:`fixed top-4 right-4 z-50 max-w-md p-4 rounded-lg shadow-lg ${p.type==="success"?"bg-green-500":"bg-red-500"} text-white flex items-center gap-3 animate-slide-in`,children:[p.type==="success"?t.jsx(vt,{size:24}):t.jsx(wn,{size:24}),t.jsx("p",{className:"font-medium",children:p.message})]}),t.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-blue-900 rounded-3xl p-8 text-white overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full -ml-24 -mb-24"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex justify-between items-start mb-8",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Yt,{className:"text-white/80",size:20}),t.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Available Balance"})]}),t.jsxs("h1",{className:"text-5xl font-bold mb-2",children:["",s.toFixed(2)]}),t.jsxs("p",{className:"text-white/60 text-sm",children:["Last updated: ",new Date().toLocaleDateString()]})]}),t.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-6 py-3 bg-white text-primary rounded-xl hover:bg-white/90 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold",children:[t.jsx(ar,{size:20}),"Add Money"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[t.jsx("p",{className:"text-white/70 text-xs mb-1",children:"Total Spent"}),t.jsxs("p",{className:"text-2xl font-bold",children:["",n.filter(v=>v.type==="Debit").reduce((v,N)=>v+N.amount,0).toFixed(2)]})]}),t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[t.jsx("p",{className:"text-white/70 text-xs mb-1",children:"Total Added"}),t.jsxs("p",{className:"text-2xl font-bold",children:["",n.filter(v=>v.type==="Credit").reduce((v,N)=>v+N.amount,0).toFixed(2)]})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("button",{onClick:()=>c(!0),className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow text-left",children:[t.jsx(ar,{className:"text-green-600 mb-3",size:32}),t.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Add Money"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Top up your wallet"})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx(Jf,{className:"text-blue-600 mb-3",size:32}),t.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Total Spent"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["",n.filter(v=>v.type==="Debit").reduce((v,N)=>v+N.amount,0).toFixed(2)]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx(Xf,{className:"text-purple-600 mb-3",size:32}),t.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Total Added"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["",n.filter(v=>v.type==="Credit").reduce((v,N)=>v+N.amount,0).toFixed(2)]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow",children:[t.jsx("div",{className:"p-6 border-b",children:t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Transaction History"})}),t.jsx("div",{className:"p-6",children:n.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(qr,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-500",children:"No transactions yet"})]}):t.jsx("div",{className:"space-y-4",children:n.map((v,N)=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`p-3 rounded-lg ${v.type==="Credit"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:v.type==="Credit"?t.jsx(Xf,{size:20}):t.jsx(Jf,{size:20})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800",children:v.description||(v.type==="Credit"?"Money Added":"Payment")}),t.jsx("p",{className:"text-sm text-gray-500",children:new Date(v.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),v.transactionId&&t.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["ID: ",v.transactionId]})]})]}),t.jsxs("span",{className:`text-lg font-bold ${v.type==="Credit"?"text-green-600":"text-red-600"}`,children:[v.type==="Credit"?"+":"-","",v.amount.toFixed(2)]})]},N))})})]}),d&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Add Money to Wallet"}),t.jsxs("form",{onSubmit:y,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter Amount"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:""}),t.jsx("input",{type:"number",value:u,onChange:v=>m(v.target.value),className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",min:"1",step:"0.01",required:!0})]})]}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:[100,500,1e3,2e3].map(v=>t.jsxs("button",{type:"button",onClick:()=>m(v.toString()),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:["",v]},v))}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{c(!1),m("")},disabled:x,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:x,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Processing..."]}):"Add Money"})]})]})]})})]})},tCe=()=>{const[e,r]=g.useState([]),[s,a]=g.useState(!0);g.useEffect(()=>{n()},[]);const n=async()=>{try{const l=localStorage.getItem("userToken"),o=await Et.get("https://nexo.works/api/user/profile",{headers:{Authorization:`Bearer ${l}`}});r(o.data.user.reviews||[])}catch(l){console.error("Error fetching reviews:",l)}finally{a(!1)}},i=l=>t.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(o=>t.jsx(Pi,{size:16,className:o<=l?"fill-yellow-400 text-yellow-400":"text-gray-300"},o))});return s?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"My Reviews"}),t.jsxs("div",{className:"text-sm text-gray-500",children:["Total Reviews: ",e.length]})]}),e.length===0?t.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[t.jsx(Pi,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No reviews yet"}),t.jsx("p",{className:"text-gray-500",children:"Complete a booking to leave a review"})]}):t.jsx("div",{className:"space-y-4",children:e.map((l,o)=>{var d;return t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:((d=l.partner)==null?void 0:d.name)||"Service Provider"}),i(l.rating)]}),t.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[t.jsx(Ps,{className:"mr-2",size:14}),new Date(l.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]})]}),t.jsx("p",{className:"text-gray-700",children:l.comment}),l.video&&t.jsx("div",{className:"mt-4",children:t.jsx("video",{src:l.video,controls:!0,className:"w-full max-w-md rounded-lg"})})]},o)})})]})},rCe=()=>{const[e,r]=g.useState([]),[s,a]=g.useState(!0);g.useEffect(()=>{n()},[]);const n=async()=>{try{const o=localStorage.getItem("userToken"),d=await Et.get("https://nexo.works/api/user/notifications",{headers:{Authorization:`Bearer ${o}`}});r(d.data.notifications||[])}catch(o){console.error("Error fetching notifications:",o)}finally{a(!1)}},i=async o=>{try{const d=localStorage.getItem("userToken");await Et.put(`https://nexo.works/api/user/notifications/${o}/read`,{},{headers:{Authorization:`Bearer ${d}`}}),n()}catch(d){console.error("Error marking notification as read:",d)}},l=async o=>{try{const d=localStorage.getItem("userToken");await Et.delete(`https://nexo.works/api/user/notifications/${o}`,{headers:{Authorization:`Bearer ${d}`}}),n()}catch(d){console.error("Error deleting notification:",d)}};return s?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Notifications"}),e.filter(o=>!o.seen).length>0&&t.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[e.filter(o=>!o.seen).length," New"]})]}),e.length===0?t.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[t.jsx(En,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No notifications"}),t.jsx("p",{className:"text-gray-500",children:"You're all caught up!"})]}):t.jsx("div",{className:"space-y-4",children:e.map(o=>t.jsx("div",{className:`bg-white rounded-lg shadow p-6 ${o.seen?"":"border-l-4 border-blue-600"}`,children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-gray-800 mb-2",children:o.message}),t.jsx("p",{className:"text-sm text-gray-500",children:new Date(o.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{className:"flex gap-2 ml-4",children:[!o.seen&&t.jsx("button",{onClick:()=>i(o._id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Mark as read",children:t.jsx(Tl,{size:18})}),t.jsx("button",{onClick:()=>l(o._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:t.jsx(la,{size:18})})]})]})},o._id))})]})},sCe=()=>{const[e,r]=g.useState({subject:"",message:""}),[s,a]=g.useState(!1),[n,i]=g.useState(!1),[l,o]=g.useState(null),d=async m=>{m.preventDefault(),a(!0);try{const x=localStorage.getItem("userToken");await Et.post("https://nexo.works/api/user/contactus",e,{headers:{Authorization:`Bearer ${x}`}}),i(!0),r({subject:"",message:""}),setTimeout(()=>i(!1),5e3)}catch(x){console.error("Error sending message:",x),alert("Failed to send message. Please try again.")}finally{a(!1)}},c=m=>{o(l===m?null:m)},u=[{question:"How do I book a service?",answer:"Browse our services, select the one you need, choose a date and time, and confirm your booking. You can pay using your wallet or other payment methods."},{question:"Can I cancel my booking?",answer:"Yes, you can cancel your booking from the My Bookings section. Cancellation charges may apply based on the timing. Free cancellation is available up to 2 hours before the scheduled time."},{question:"How do I add money to my wallet?",answer:'Go to the Wallet section and click on "Add Money". Choose your payment method (UPI, Card, Net Banking) and complete the transaction securely through PayU gateway.'},{question:"How can I track my service provider?",answer:"Once your booking is confirmed, you can track your service provider in real-time from the booking details page. You'll receive notifications when they're on the way."},{question:"What if I'm not satisfied with the service?",answer:"We have a 100% satisfaction guarantee. If you're not happy with the service, contact our support team within 24 hours and we'll make it right or provide a full refund."},{question:"How do I update my profile information?",answer:"Go to the Profile section from the sidebar menu. You can update your name, email, phone number, and profile picture. Changes are saved automatically."}];return t.jsxs("div",{className:"space-y-8",children:[n&&t.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 animate-slide-in",children:[t.jsx(vt,{size:24}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Message Sent Successfully!"}),t.jsx("p",{className:"text-sm text-green-100",children:"We'll get back to you soon."})]})]}),t.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-3xl p-8 md:p-12 text-white overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full -ml-24 -mb-24"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(RZ,{size:24})}),t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"Support & Help Center"})]}),t.jsx("p",{className:"text-blue-100 text-lg max-w-2xl",children:"We're here to help! Get in touch with our support team or find answers to common questions."})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-6 text-center border border-gray-100 hover:border-primary/30 hover:-translate-y-1",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-primary-dark rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:t.jsx(an,{className:"text-white",size:28})}),t.jsx("h3",{className:"font-bold text-gray-800 mb-2 text-lg",children:"Call Us"}),t.jsx("p",{className:"text-primary font-semibold text-lg mb-2",children:"+91 1800-XXX-XXXX"}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[t.jsx(qr,{size:14}),t.jsx("span",{children:"Mon-Sat, 9AM-6PM"})]}),t.jsx("button",{className:"mt-4 px-4 py-2 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition-colors text-sm font-medium",children:"Call Now"})]}),t.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-6 text-center border border-gray-100 hover:border-green-200 hover:-translate-y-1",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:t.jsx(sn,{className:"text-white",size:28})}),t.jsx("h3",{className:"font-bold text-gray-800 mb-2 text-lg",children:"Email Us"}),t.jsx("p",{className:"text-green-600 font-semibold mb-2",children:"support@nexo.works"}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[t.jsx(vt,{size:14}),t.jsx("span",{children:"24/7 Support"})]}),t.jsx("button",{className:"mt-4 px-4 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors text-sm font-medium",children:"Send Email"})]}),t.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-6 text-center border border-gray-100 hover:border-primary-light/30 hover:-translate-y-1",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-light to-primary rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:t.jsx(x4,{className:"text-white",size:28})}),t.jsx("h3",{className:"font-bold text-gray-800 mb-2 text-lg",children:"Live Chat"}),t.jsx("p",{className:"text-primary-light font-semibold mb-2",children:"Chat with us"}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{children:"Available 24/7"})]}),t.jsx("button",{className:"mt-4 px-4 py-2 bg-primary/10 text-primary-light rounded-lg hover:bg-primary/20 transition-colors text-sm font-medium",children:"Start Chat"})]})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-primary-light/10 p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center",children:t.jsx(eg,{className:"text-white",size:20})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Send us a Message"}),t.jsx("p",{className:"text-gray-600 text-sm mt-0.5",children:"We typically respond within 24 hours"})]})]})}),t.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subject *"}),t.jsx("input",{type:"text",value:e.subject,onChange:m=>r({...e,subject:m.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"What is this about?",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message *"}),t.jsx("textarea",{value:e.message,onChange:m=>r({...e,message:m.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all resize-none",rows:"6",placeholder:"Describe your issue or question in detail...",required:!0}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Please provide as much detail as possible to help us assist you better."})]}),t.jsx("button",{type:"submit",disabled:s,className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-gradient-to-r from-primary to-primary-light text-white rounded-xl hover:from-primary-dark hover:to-primary disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",children:s?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(eg,{size:20}),"Send Message"]})})]})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-primary-light/10 p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center",children:t.jsx(zh,{className:"text-white",size:20})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Frequently Asked Questions"}),t.jsx("p",{className:"text-gray-600 text-sm mt-0.5",children:"Quick answers to common questions"})]})]})}),t.jsx("div",{className:"p-6 space-y-3",children:u.map((m,x)=>t.jsxs("div",{className:"border-2 border-gray-100 rounded-xl overflow-hidden hover:border-primary/30 transition-all duration-300",children:[t.jsxs("button",{onClick:()=>c(x),className:"w-full flex items-center justify-between p-4 text-left hover:bg-gray-50 transition-colors",children:[t.jsx("h3",{className:"font-semibold text-gray-800 pr-4",children:m.question}),t.jsx("div",{className:`flex-shrink-0 w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center transition-transform duration-300 ${l===x?"rotate-180":""}`,children:t.jsx(DZ,{className:"text-primary",size:20})})]}),t.jsx("div",{className:`overflow-hidden transition-all duration-300 ${l===x?"max-h-96":"max-h-0"}`,children:t.jsx("div",{className:"p-4 pt-0 text-gray-600 bg-gray-50",children:t.jsx("p",{className:"leading-relaxed",children:m.answer})})})]},x))})]}),t.jsx("div",{className:"bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-2xl p-6 text-white shadow-xl",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(vt,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-lg mb-2",children:"Need Immediate Help?"}),t.jsx("p",{className:"text-blue-100 mb-4",children:"For urgent issues, please call our support hotline. We're available 24/7 to assist you with any emergency service needs."}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsx("button",{className:"px-4 py-2 bg-white text-primary rounded-lg hover:bg-blue-50 transition-colors font-medium",children:"Call Support"}),t.jsx("button",{className:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 transition-colors font-medium",children:"View Help Center"})]})]})]})})]})},$E="https://nexo.works",aCe=()=>{const{user:e}=on(),r=er(),[s]=Id(),[a,n]=g.useState([]),[i,l]=g.useState(null),[o,d]=g.useState(!0),[c,u]=g.useState(null);g.useEffect(()=>{const j=s.get("payment"),w=s.get("reason");j==="success"?(u({type:"success",message:"Subscription activated successfully!"}),window.history.replaceState({},"","/user/subscriptions")):j==="failed"&&(u({type:"error",message:`Payment failed: ${w||"Unknown error"}`}),window.history.replaceState({},"","/user/subscriptions")),m()},[s]);const m=async()=>{try{d(!0);const j=localStorage.getItem("userToken"),w=await Et.get(`${$E}/api/user/amc-subscriptions`,{headers:{Authorization:`Bearer ${j}`}});w.data.success&&(n(w.data.data.subscriptions||[]),l(w.data.data.activeSubscription||null))}catch(j){console.error("Error fetching AMC subscriptions:",j),u({type:"error",message:"Failed to load AMC subscriptions"})}finally{d(!1)}},x=async j=>{if(window.confirm("Are you sure you want to cancel this AMC subscription?"))try{const w=localStorage.getItem("userToken");(await Et.put(`${$E}/api/user/amc-subscriptions/${j}/cancel`,{reason:"User requested cancellation"},{headers:{Authorization:`Bearer ${w}`}})).data.success&&(u({type:"success",message:"AMC subscription cancelled successfully"}),m())}catch(w){console.error("Error cancelling AMC subscription:",w),u({type:"error",message:"Failed to cancel AMC subscription"})}},h=j=>{switch(j){case"active":return t.jsx(He,{className:"text-green-500"});case"pending":return t.jsx(ai,{className:"text-yellow-500"});case"expired":case"cancelled":return t.jsx(Hl,{className:"text-red-500"});default:return null}},p=j=>{switch(j){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"expired":case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=j=>new Date(j).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}),b=(j,w)=>{const y=new Date(j),v=new Date(w),N=Math.abs(v-y),S=Math.ceil(N/(1e3*60*60*24));if(S>=365){const k=Math.floor(S/365);return`${k} ${k>1?"years":"year"}`}else if(S>=30){const k=Math.floor(S/30);return`${k} ${k>1?"months":"month"}`}else return`${S} ${S>1?"days":"day"}`};return o?t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c&&t.jsx(Pj,{type:c.type,message:c.message,onClose:()=>u(null)}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My AMC Subscriptions"}),t.jsx("p",{className:"text-gray-600",children:"Manage your Annual Maintenance Contract subscriptions"})]}),i&&t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-primary to-primary-dark rounded-2xl p-6 mb-8 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:i.planName}),t.jsx("p",{className:"text-white/80",children:"Active AMC Plan"})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-3xl font-bold",children:["",i.planPrice]}),t.jsxs("div",{className:"text-white/80",children:["for ",b(i.startDate,i.endDate)]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(dp,{}),t.jsxs("span",{children:["Started: ",f(i.startDate)]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(dp,{}),t.jsxs("span",{children:["Expires: ",f(i.endDate)]})]})]}),i.serviceAddress&&i.serviceAddress.address&&t.jsxs("div",{className:"mb-4 p-3 bg-white/10 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Service Address:"}),t.jsxs("p",{className:"text-sm text-white/90",children:[i.serviceAddress.address,i.serviceAddress.landmark&&`, ${i.serviceAddress.landmark}`,i.serviceAddress.pincode&&` - ${i.serviceAddress.pincode}`]})]}),i.features&&i.features.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Plan Benefits:"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.features.slice(0,4).map((j,w)=>t.jsx("span",{className:"px-2 py-1 bg-white/20 text-white text-xs rounded-full",children:j},w)),i.features.length>4&&t.jsxs("span",{className:"px-2 py-1 bg-white/10 text-white/80 text-xs rounded-full",children:["+",i.features.length-4," more"]})]})]}),t.jsx("button",{onClick:()=>x(i._id),className:"mt-4 bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel AMC Subscription"})]}),!i&&t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-50 rounded-2xl p-8 mb-8 text-center",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Active AMC Subscription"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Subscribe to an AMC plan to enjoy annual maintenance benefits and priority support"}),t.jsx("button",{onClick:()=>r("/"),className:"bg-primary text-white px-6 py-3 rounded-full font-semibold hover:bg-primary-dark transition-colors",children:"Browse AMC Plans"})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"AMC Subscription History"}),a.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500",children:t.jsx("p",{children:"No AMC subscription history found"})}):t.jsx("div",{className:"space-y-4",children:a.map(j=>t.jsx(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:j.planName}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 ${p(j.status)}`,children:[h(j.status),j.status.toUpperCase()]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 text-sm text-gray-600 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Md,{className:"text-primary"}),t.jsxs("span",{children:["",j.planPrice,"/year"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(dp,{className:"text-primary"}),t.jsx("span",{children:f(j.startDate)})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(dp,{className:"text-primary"}),t.jsxs("span",{children:["to ",f(j.endDate)]})]})]}),j.serviceAddress&&j.serviceAddress.address&&t.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Service Address:"}),t.jsxs("p",{className:"text-sm text-gray-600",children:[j.serviceAddress.address,j.serviceAddress.landmark&&`, ${j.serviceAddress.landmark}`,j.serviceAddress.pincode&&` - ${j.serviceAddress.pincode}`]})]}),j.features&&j.features.length>0&&t.jsxs("div",{className:"mt-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Plan Features:"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[j.features.slice(0,3).map((w,y)=>t.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded-full",children:w},y)),j.features.length>3&&t.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",j.features.length-3," more"]})]})]}),t.jsxs("div",{className:"mt-3 flex flex-wrap gap-4 text-xs text-gray-500",children:[j.txnid&&t.jsxs("span",{children:["Transaction ID: ",j.txnid]}),j.mihpayid&&t.jsxs("span",{children:["Payment ID: ",j.mihpayid]})]})]}),j.status==="active"&&t.jsx("button",{onClick:()=>x(j._id),className:"ml-4 text-red-600 hover:text-red-700 font-semibold text-sm",children:"Cancel"})]})},j._id))})]})]})},nCe=()=>t.jsx("div",{className:"user-dashboard",children:t.jsxs(Ly,{children:[t.jsx(et,{index:!0,element:t.jsx(Yke,{})}),t.jsx(et,{path:"bookings",element:t.jsx(Xke,{})}),t.jsx(et,{path:"bookings/:bookingId",element:t.jsx(Jke,{})}),t.jsx(et,{path:"subscriptions",element:t.jsx(aCe,{})}),t.jsx(et,{path:"profile",element:t.jsx(Qke,{})}),t.jsx(et,{path:"addresses",element:t.jsx(Zke,{})}),t.jsx(et,{path:"wallet",element:t.jsx(eCe,{})}),t.jsx(et,{path:"reviews",element:t.jsx(tCe,{})}),t.jsx(et,{path:"notifications",element:t.jsx(rCe,{})}),t.jsx(et,{path:"support",element:t.jsx(sCe,{})}),t.jsx(et,{path:"*",element:t.jsx(Ed,{to:"/user/dashboard",replace:!0})})]})}),iCe=()=>{var d,c;const[e,r]=g.useState(!1),s=er(),a=zr(),{user:n,logout:i}=on(),l=[{path:"/user/dashboard",icon:rn,label:"Dashboard",color:"blue"},{path:"/user/dashboard/bookings",icon:Ps,label:"My Bookings",color:"purple"},{path:"/user/dashboard/subscriptions",icon:fs,label:"Subscriptions",color:"teal"},{path:"/user/dashboard/profile",icon:Or,label:"Profile",color:"green"},{path:"/user/dashboard/addresses",icon:Er,label:"Addresses",color:"orange"},{path:"/user/dashboard/wallet",icon:fs,label:"Wallet",color:"pink"},{path:"/user/dashboard/reviews",icon:Pi,label:"My Reviews",color:"yellow"},{path:"/user/dashboard/notifications",icon:En,label:"Notifications",color:"red"},{path:"/user/dashboard/support",icon:zh,label:"Support",color:"indigo"}],o=()=>{i(),s("/")};return t.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-slate-50",children:[e&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>r(!1)}),t.jsx("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-50
        w-72 bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 shadow-2xl transform transition-transform duration-300
        ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-primary-dark rounded-xl flex items-center justify-center",children:t.jsx(Or,{className:"text-white",size:20})}),t.jsx("h1",{className:"text-2xl font-bold text-white",children:"Nexo"})]}),t.jsx("button",{onClick:()=>r(!1),className:"lg:hidden text-slate-400 hover:text-white transition-colors",children:t.jsx(mt,{size:24})})]}),t.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:l.map(u=>{const m=u.icon,x=a.pathname===u.path;return t.jsxs("button",{onClick:()=>{s(u.path),r(!1)},className:`
                    w-full flex items-center gap-3 px-4 py-3.5 rounded-xl
                    transition-all duration-200 group relative overflow-hidden
                    ${x?"bg-gradient-to-r from-primary to-primary-dark text-white shadow-lg shadow-primary/50":"text-slate-300 hover:bg-white/5 hover:text-white"}
                  `,children:[x&&t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-transparent animate-pulse"}),t.jsx(m,{size:20,className:"relative z-10"}),t.jsx("span",{className:"font-medium relative z-10",children:u.label}),x&&t.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full relative z-10"})]},u.path)})}),t.jsxs("div",{className:"p-4 border-t border-white/10",children:[t.jsx("div",{className:"bg-white/5 rounded-xl p-4 mb-3",children:t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary-dark rounded-full flex items-center justify-center overflow-hidden ring-2 ring-white/20 shadow-lg",children:n!=null&&n.profilePicture?t.jsx("img",{src:n.profilePicture,alt:n.name||"User",className:"w-full h-full object-cover"}):t.jsx(Or,{className:"text-white",size:20})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-white font-semibold text-sm truncate",children:(n==null?void 0:n.name)||"Welcome!"}),t.jsx("p",{className:"text-slate-400 text-xs truncate",children:(n==null?void 0:n.email)||(n==null?void 0:n.phone)||"User Dashboard"})]})]})}),t.jsxs("button",{onClick:o,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl
                bg-red-500/10 text-red-400 hover:bg-red-500/20 hover:text-red-300
                transition-all duration-200 font-medium`,children:[t.jsx(Go,{size:18}),t.jsx("span",{children:"Logout"})]})]})]})}),t.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx("header",{className:"bg-white/80 backdrop-blur-xl shadow-sm z-10 border-b border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[t.jsx("button",{onClick:()=>r(!0),className:"lg:hidden p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(Zy,{size:24})}),t.jsxs("div",{className:"flex-1 lg:ml-0 ml-4",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:((d=l.find(u=>u.path===a.pathname))==null?void 0:d.label)||"Dashboard"}),t.jsx("p",{className:"text-sm text-slate-600 mt-0.5",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:()=>s("/user/dashboard/notifications"),className:"relative p-3 text-slate-600 hover:text-primary rounded-xl hover:bg-primary/10 transition-all duration-200",children:[t.jsx(En,{size:22}),t.jsx("span",{className:"absolute top-2 right-2 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white animate-pulse"})]}),t.jsxs("button",{onClick:()=>s("/user/dashboard/profile"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl hover:shadow-lg hover:shadow-primary/30 transition-all duration-200",children:[t.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center overflow-hidden",children:n!=null&&n.profilePicture?t.jsx("img",{src:n.profilePicture,alt:n.name||"User",className:"w-full h-full object-cover"}):t.jsx(Or,{size:14})}),t.jsx("span",{className:"hidden sm:inline font-medium",children:((c=n==null?void 0:n.name)==null?void 0:c.split(" ")[0])||"Profile"})]})]})]})}),t.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsx(so,{})})})]})]})},lCe=()=>localStorage.getItem("userToken")?t.jsx(so,{}):t.jsx(Ed,{to:"/",replace:!0}),zE=()=>{const e=er(),{checkAuth:r}=on(),[s,a]=g.useState("otp"),[n,i]=g.useState(1),[l,o]=g.useState({phone:"",otp:"",email:"",password:""}),[d,c]=g.useState(!1),[u,m]=g.useState(null),[x,h]=g.useState(0),[p,f]=g.useState(null);_t.useEffect(()=>{let N=null;return x>0&&(N=setInterval(()=>{h(S=>S-1)},1e3)),()=>{N&&clearInterval(N)}},[x]);const b=async N=>{if(N.preventDefault(),m(null),!l.phone||l.phone.length!==10){m("Please enter a valid 10-digit phone number");return}c(!0);try{console.log("Sending login OTP to:",l.phone);const S=await Da.sendLoginOTP(l.phone);console.log("OTP Response:",S),S.success?(S.otp&&f(S.otp),i(2),h(60)):m(S.message||"Failed to send OTP")}catch(S){console.error("OTP Error:",S),m(S.message||"Failed to connect to server. Please check if backend is running.")}finally{c(!1)}},j=async()=>{if(!(x>0)){c(!0),m(null);try{const N=await Da.sendLoginOTP(l.phone);N.success?(N.otp&&f(N.otp),h(60)):m(N.message||"Failed to resend OTP")}catch(N){m(N.message||"Failed to resend OTP")}finally{c(!1)}}},w=async N=>{if(N.preventDefault(),m(null),!l.otp||l.otp.length!==6){m("Please enter a valid 6-digit OTP");return}c(!0);try{const S=await Da.verifyOTP(l.phone,l.otp);S.token?(localStorage.setItem("userToken",S.token),await r(),e("/user/dashboard",{replace:!0})):m("Invalid OTP. Please try again.")}catch(S){m(S.message||"Invalid OTP. Please try again.")}finally{c(!1)}},y=async N=>{N.preventDefault(),m(null),c(!0);try{const S=await Da.loginWithPassword(l.email,l.password);S.token?(localStorage.setItem("userToken",S.token),await r(),e("/user/dashboard",{replace:!0})):m("Invalid credentials")}catch(S){m(S.message||"Invalid credentials. Please try again.")}finally{c(!1)}},v=N=>{const{name:S,value:k}=N.target;o(S==="phone"||S==="otp"?P=>({...P,[S]:k.replace(/\D/g,"").slice(0,S==="otp"?6:10)}):P=>({...P,[S]:k})),m(null)};return t.jsxs("div",{className:"min-h-screen relative bg-gradient-to-br from-primary via-primary-dark to-slate-900 flex items-center justify-center px-4 py-10 overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx(E.div,{className:"absolute -top-40 -left-40 w-80 h-80 bg-blue-500/30 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,50,0],y:[0,30,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute top-1/4 -right-40 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl",animate:{scale:[1,1.3,1],x:[0,-30,0],y:[0,50,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1}}),t.jsx(E.div,{className:"absolute -bottom-40 left-1/3 w-96 h-96 bg-cyan-500/20 rounded-full blur-3xl",animate:{scale:[1,1.4,1],x:[0,40,0],y:[0,-40,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:2}}),[...Array(20)].map((N,S)=>t.jsx(E.div,{className:"absolute rounded-full bg-white/20",style:{width:`${Math.random()*6+2}px`,height:`${Math.random()*6+2}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-100,0],x:[0,Math.random()*50-25,0],opacity:[.2,.8,.2]},transition:{duration:Math.random()*5+5,repeat:1/0,ease:"easeInOut",delay:Math.random()*2}},S)),t.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)
            `,backgroundSize:"50px 50px"}}),[...Array(5)].map((N,S)=>t.jsx(E.div,{className:"absolute h-px bg-gradient-to-r from-transparent via-white/30 to-transparent",style:{width:"100%",top:`${20+S*20}%`},animate:{x:["-100%","100%"],opacity:[0,1,0]},transition:{duration:3+S,repeat:1/0,ease:"linear",delay:S*.5}},`line-${S}`))]}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md relative z-10",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary-dark rounded-2xl mb-4 shadow-lg",children:t.jsx(Or,{className:"text-2xl text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2 drop-shadow-lg",children:"User Login"}),t.jsx("p",{className:"text-white/90 font-medium",children:"Welcome back! Please login to continue"})]}),u&&t.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-xl text-red-200 text-sm",children:u}),t.jsxs("div",{className:"flex gap-2 mb-6 bg-white/10 backdrop-blur-sm p-1.5 rounded-xl border border-white/20",children:[t.jsx("button",{onClick:()=>{a("otp"),i(1),m(null)},className:`flex-1 py-2.5 rounded-lg font-semibold transition-all ${s==="otp"?"bg-gradient-to-r from-primary to-primary-dark text-white shadow-lg shadow-primary/50":"text-white/80 hover:text-white hover:bg-white/5"}`,children:"Login with OTP"}),t.jsx("button",{onClick:()=>{a("password"),i(1),m(null)},className:`flex-1 py-2.5 rounded-lg font-semibold transition-all ${s==="password"?"bg-gradient-to-r from-primary to-primary-dark text-white shadow-lg shadow-primary/50":"text-white/80 hover:text-white hover:bg-white/5"}`,children:"Login with Password"})]}),s==="otp"&&n===1&&t.jsxs("form",{onSubmit:b,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Phone Number"}),t.jsxs("div",{className:"relative",children:[t.jsx(an,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:v,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0,disabled:d})]})]}),t.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Sending OTP..."]}):t.jsxs(t.Fragment,{children:["Send OTP",t.jsx(hs,{})]})})]}),s==="otp"&&n===2&&t.jsxs("form",{onSubmit:w,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Enter OTP"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ms,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"text",name:"otp",value:l.otp,onChange:v,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15 text-center text-2xl tracking-widest font-bold",placeholder:"000000",maxLength:6,required:!0,disabled:d,autoFocus:!0})]}),t.jsxs("p",{className:"mt-2 text-sm text-white/80 text-center font-medium",children:["OTP sent to +91 ",l.phone]}),p&&t.jsxs("div",{className:"mt-3 p-3 bg-green-500/20 border border-green-500/50 rounded-xl",children:[t.jsx("p",{className:"text-xs text-white/70 text-center mb-1",children:"Testing OTP:"}),t.jsx("p",{className:"text-2xl font-bold text-white text-center tracking-widest",children:p})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("button",{type:"button",onClick:()=>{i(1),o(N=>({...N,otp:""})),h(0)},className:"text-white/90 hover:text-white transition font-medium",children:" Change Number"}),t.jsx("button",{type:"button",onClick:j,disabled:x>0||d,className:"text-white font-semibold hover:text-white/80 transition disabled:opacity-50 disabled:cursor-not-allowed",children:x>0?`Resend in ${x}s`:"Resend OTP"})]}),t.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Verifying..."]}):t.jsxs(t.Fragment,{children:["Login",t.jsx(hs,{})]})})]}),s==="password"&&t.jsxs("form",{onSubmit:y,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(sn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"email",name:"email",value:l.email,onChange:v,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter your email",required:!0,disabled:d})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ms,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"password",name:"password",value:l.password,onChange:v,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter your password",required:!0,disabled:d})]})]}),t.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Logging in..."]}):t.jsxs(t.Fragment,{children:["Login",t.jsx(hs,{})]})})]}),t.jsxs("div",{className:"mt-8 text-center space-y-3",children:[t.jsxs("p",{className:"text-sm text-white/90 font-medium",children:["Don't have an account?"," ",t.jsx("button",{onClick:()=>e("/user/register"),className:"text-white font-bold hover:underline transition",children:"Sign Up"})]}),t.jsx("button",{onClick:()=>e("/"),className:"text-sm text-white/80 hover:text-white transition font-medium",children:" Back to Home"})]})]})})]})},oCe=()=>{const e=er(),{checkAuth:r}=on(),[s,a]=g.useState(1),[n,i]=g.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",otp:"",referalCode:"",userType:"home",companyName:"",companySize:"",industry:"",gstNumber:"",contactPerson:"",designation:""}),[l,o]=g.useState(!1),[d,c]=g.useState(null),[u,m]=g.useState(0),[x,h]=g.useState(null);_t.useEffect(()=>{let w=null;return u>0&&(w=setInterval(()=>{m(y=>y-1)},1e3)),()=>{w&&clearInterval(w)}},[u]);const p=w=>{const{name:y,value:v}=w.target;i(y==="phone"?N=>({...N,[y]:v.replace(/\D/g,"").slice(0,10)}):y==="otp"?N=>({...N,[y]:v.replace(/\D/g,"").slice(0,6)}):N=>({...N,[y]:v})),c(null)},f=async w=>{if(w.preventDefault(),c(null),!n.name||!n.email||!n.phone||!n.password){c("Please fill in all required fields");return}if(n.userType==="company"&&(!n.companyName||!n.contactPerson)){c("Company name and contact person are required for company registration");return}if(n.phone.length!==10){c("Please enter a valid 10-digit phone number");return}if(n.password.length<6){c("Password must be at least 6 characters");return}if(n.password!==n.confirmPassword){c("Passwords do not match");return}o(!0);try{console.log("Sending OTP to:",n.phone);const y=await Da.sendOTP(n.phone);console.log("OTP Response:",y),y.success?(y.otp&&h(y.otp),a(2),m(60)):c(y.message||"Failed to send OTP")}catch(y){console.error("Registration Error:",y),c(y.message||"Failed to connect to server. Please check if backend is running on port 9000.")}finally{o(!1)}},b=async()=>{if(!(u>0)){o(!0),c(null);try{const w=await Da.sendOTP(n.phone);w.success?(w.otp&&h(w.otp),m(60)):c(w.message||"Failed to resend OTP")}catch(w){c(w.message||"Failed to resend OTP")}finally{o(!1)}}},j=async w=>{if(w.preventDefault(),c(null),!n.otp||n.otp.length!==6){c("Please enter a valid 6-digit OTP");return}o(!0);try{const y=await Da.verifyOTP(n.phone,n.otp);if(y.success||y.token){const v={name:n.name,email:n.email,phone:n.phone,password:n.password,confirmPassword:n.confirmPassword,referalCode:n.referalCode,userType:n.userType,...n.userType==="company"&&{companyDetails:{companyName:n.companyName,companySize:n.companySize,industry:n.industry,gstNumber:n.gstNumber,contactPerson:n.contactPerson,designation:n.designation}}},N=await Da.register(v);N.token?(localStorage.setItem("userToken",N.token),await r(),e("/user/dashboard",{replace:!0})):y.token?(localStorage.setItem("userToken",y.token),await r(),e("/user/dashboard",{replace:!0})):(c("Registration completed but login failed. Please login manually."),setTimeout(()=>e("/user/login"),2e3))}else c("Invalid OTP. Please try again.")}catch(y){console.error("Registration error:",y),c(y.message||"Verification failed. Please try again.")}finally{o(!1)}};return t.jsxs("div",{className:"min-h-screen relative bg-gradient-to-br from-primary via-primary-dark to-slate-900 flex items-center justify-center px-4 py-10 overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx(E.div,{className:"absolute -top-40 -left-40 w-80 h-80 bg-blue-500/30 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,50,0],y:[0,30,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute top-1/4 -right-40 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl",animate:{scale:[1,1.3,1],x:[0,-30,0],y:[0,50,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1}}),t.jsx(E.div,{className:"absolute -bottom-40 left-1/3 w-96 h-96 bg-cyan-500/20 rounded-full blur-3xl",animate:{scale:[1,1.4,1],x:[0,40,0],y:[0,-40,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:2}}),[...Array(20)].map((w,y)=>t.jsx(E.div,{className:"absolute rounded-full bg-white/20",style:{width:`${Math.random()*6+2}px`,height:`${Math.random()*6+2}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-100,0],x:[0,Math.random()*50-25,0],opacity:[.2,.8,.2]},transition:{duration:Math.random()*5+5,repeat:1/0,ease:"easeInOut",delay:Math.random()*2}},y)),t.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)
            `,backgroundSize:"50px 50px"}}),[...Array(5)].map((w,y)=>t.jsx(E.div,{className:"absolute h-px bg-gradient-to-r from-transparent via-white/30 to-transparent",style:{width:"100%",top:`${20+y*20}%`},animate:{x:["-100%","100%"],opacity:[0,1,0]},transition:{duration:3+y,repeat:1/0,ease:"linear",delay:y*.5}},`line-${y}`))]}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md relative z-10",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary-dark rounded-2xl mb-4 shadow-lg",children:t.jsx(Or,{className:"text-2xl text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2 drop-shadow-lg",children:"Create Account"}),t.jsx("p",{className:"text-white/90 font-medium",children:"Join Nexo and book services easily"})]}),t.jsxs("div",{className:"flex items-center justify-center mb-6 gap-2",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${s>=1?"bg-primary text-white":"bg-white/20 text-slate-400"}`,children:s>1?t.jsx(Tl,{size:16}):"1"}),t.jsx("div",{className:`w-16 h-1 ${s>=2?"bg-primary":"bg-white/20"}`}),t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${s>=2?"bg-primary text-white":"bg-white/20 text-slate-400"}`,children:"2"})]}),d&&t.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-xl text-red-200 text-sm",children:d}),s===1&&t.jsxs("form",{onSubmit:f,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-3",children:"I am registering as *"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"home",label:"Home",icon:rn,desc:"Personal use"},{value:"pg",label:"PG/Hostel",icon:Nr,desc:"Paying guest"},{value:"company",label:"Company",icon:Jr,desc:"Business use"},{value:"other",label:"Other",icon:CM,desc:"Other purpose"}].map(w=>{const y=w.icon;return t.jsxs("button",{type:"button",onClick:()=>i(v=>({...v,userType:w.value})),className:`p-3 rounded-xl border-2 transition-all text-left ${n.userType===w.value?"border-primary bg-primary/20 text-white":"border-white/30 bg-white/5 text-white/80 hover:border-white/50 hover:bg-white/10"}`,disabled:l,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(y,{className:"text-lg"}),t.jsx("span",{className:"font-semibold text-sm",children:w.label})]}),t.jsx("p",{className:"text-xs opacity-80",children:w.desc})]},w.value)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Full Name *"}),t.jsxs("div",{className:"relative",children:[t.jsx(Or,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"text",name:"name",value:n.name,onChange:p,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter your full name",required:!0,disabled:l})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Email Address *"}),t.jsxs("div",{className:"relative",children:[t.jsx(sn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"email",name:"email",value:n.email,onChange:p,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter your email",required:!0,disabled:l})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Phone Number *"}),t.jsxs("div",{className:"relative",children:[t.jsx(an,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:p,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0,disabled:l})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Password *"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ms,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"password",name:"password",value:n.password,onChange:p,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Create a password (min 6 characters)",required:!0,disabled:l})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Confirm Password *"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ms,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:p,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Confirm your password",required:!0,disabled:l})]})]}),n.userType==="company"&&t.jsxs(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4 border-t border-white/20 pt-4",children:[t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-sm font-semibold text-white/90 mb-3",children:"Company Details"})}),t.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Company Name *"}),t.jsx("input",{type:"text",name:"companyName",value:n.companyName,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter company name",required:n.userType==="company",disabled:l})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Contact Person *"}),t.jsx("input",{type:"text",name:"contactPerson",value:n.contactPerson,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Contact person name",required:n.userType==="company",disabled:l})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Company Size"}),t.jsxs("select",{name:"companySize",value:n.companySize,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",disabled:l,children:[t.jsx("option",{value:"",className:"bg-gray-800",children:"Select size"}),t.jsx("option",{value:"small",className:"bg-gray-800",children:"Small (1-50)"}),t.jsx("option",{value:"medium",className:"bg-gray-800",children:"Medium (51-200)"}),t.jsx("option",{value:"large",className:"bg-gray-800",children:"Large (201-1000)"}),t.jsx("option",{value:"enterprise",className:"bg-gray-800",children:"Enterprise (1000+)"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Designation"}),t.jsx("input",{type:"text",name:"designation",value:n.designation,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Your designation",disabled:l})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Industry"}),t.jsx("input",{type:"text",name:"industry",value:n.industry,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"e.g., IT, Manufacturing, Healthcare",disabled:l})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"GST Number (Optional)"}),t.jsx("input",{type:"text",name:"gstNumber",value:n.gstNumber,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"GST registration number",disabled:l})]})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Referral Code (Optional)"}),t.jsx("input",{type:"text",name:"referalCode",value:n.referalCode,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter referral code if you have one",disabled:l})]}),t.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Processing..."]}):t.jsxs(t.Fragment,{children:["Continue",t.jsx(hs,{})]})})]}),s===2&&t.jsxs("form",{onSubmit:j,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Enter OTP"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ms,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"text",name:"otp",value:n.otp,onChange:p,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15 text-center text-2xl tracking-widest font-bold",placeholder:"000000",maxLength:6,required:!0,disabled:l,autoFocus:!0})]}),t.jsxs("p",{className:"mt-2 text-sm text-white/80 text-center font-medium",children:["OTP sent to +91 ",n.phone]}),x&&t.jsxs("div",{className:"mt-3 p-3 bg-green-500/20 border border-green-500/50 rounded-xl",children:[t.jsx("p",{className:"text-xs text-white/70 text-center mb-1",children:"Testing OTP:"}),t.jsx("p",{className:"text-2xl font-bold text-white text-center tracking-widest",children:x})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("button",{type:"button",onClick:()=>{a(1),i(w=>({...w,otp:""})),m(0)},className:"text-white/90 hover:text-white transition font-medium",children:" Back"}),t.jsx("button",{type:"button",onClick:b,disabled:u>0||l,className:"text-white font-semibold hover:text-white/80 transition disabled:opacity-50 disabled:cursor-not-allowed",children:u>0?`Resend in ${u}s`:"Resend OTP"})]}),t.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Verifying..."]}):t.jsxs(t.Fragment,{children:["Complete Registration",t.jsx(Tl,{})]})})]}),t.jsxs("div",{className:"mt-8 text-center space-y-3",children:[t.jsxs("p",{className:"text-sm text-white/90 font-medium",children:["Already have an account?"," ",t.jsx("button",{onClick:()=>e("/user/login"),className:"text-white font-bold hover:underline transition",children:"Login"})]}),t.jsx("button",{onClick:()=>e("/"),className:"text-sm text-white/80 hover:text-white transition font-medium",children:" Back to Home"})]})]})})]})},UE=()=>{const[e]=Id(),r=er(),[s,a]=g.useState(!0),n=e.get("status"),i=e.get("txnid"),l=e.get("payid"),o=e.get("reason"),d=e.get("type");g.useEffect(()=>{const x=setTimeout(()=>{a(!1)},1500);return()=>clearTimeout(x)},[]);const c=()=>{r("/")},u=()=>{r(d==="subscription"?"/user/dashboard/subscriptions":"/user/dashboard/bookings")},m=()=>{const x=`Hi! I need help with my payment. Transaction ID: ${i||"N/A"}. Status: ${n}. ${o?`Reason: ${o}`:""}`,p=`https://wa.me/919590926068?text=${encodeURIComponent(x)}`;window.open(p,"_blank")};return s?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[t.jsx(ns,{className:"w-16 h-16 text-primary animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Processing payment result..."})]})}):t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-8 text-center",children:n==="success"?t.jsxs(t.Fragment,{children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(He,{className:"w-12 h-12 text-green-600"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),t.jsx("p",{className:"text-gray-600 mb-6",children:d==="subscription"?"Your subscription has been activated successfully. You will receive a confirmation shortly.":"Your payment has been processed successfully. You will receive a confirmation shortly."}),i&&t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Transaction ID"}),t.jsx("p",{className:"font-mono text-sm font-semibold text-gray-900",children:i}),l&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm text-gray-600 mb-1 mt-2",children:"Payment ID"}),t.jsx("p",{className:"font-mono text-sm font-semibold text-gray-900",children:l})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(E.button,{onClick:u,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-primary text-white py-3 rounded-xl font-semibold hover:bg-primary-dark transition-all flex items-center justify-center gap-2",children:[t.jsx(sJ,{}),d==="subscription"?"View My Subscriptions":"View My Bookings"]}),t.jsxs(E.button,{onClick:c,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gray-100 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-200 transition-all flex items-center justify-center gap-2",children:[t.jsx(Kf,{}),"Go to Home"]})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Hl,{className:"w-12 h-12 text-red-600"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Failed"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Unfortunately, your payment could not be processed."}),o&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[t.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Reason:"}),t.jsx("p",{className:"text-sm text-red-700 mt-1",children:o})]}),i&&t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Transaction ID"}),t.jsx("p",{className:"font-mono text-sm font-semibold text-gray-900",children:i})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(E.button,{onClick:m,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-[#25D366] text-white py-3 rounded-xl font-semibold hover:bg-[#20BA5A] transition-all flex items-center justify-center gap-2",children:[t.jsx(vr,{}),"Contact Support"]}),t.jsxs(E.button,{onClick:c,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gray-100 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-200 transition-all flex items-center justify-center gap-2",children:[t.jsx(Kf,{}),"Go to Home"]})]})]})})})},cCe=()=>{const{isAuthenticated:e,user:r}=on(),s=er(),[a,n]=g.useState(!1),i=d=>{console.log("Payment successful:",d),alert("Payment successful! Check console for details."),n(!1)},l=d=>{console.error("Payment failed:",d),alert("Payment failed! Check console for details."),n(!1)},o=()=>{n(!1)};return e?t.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Gateway Test"}),t.jsx("p",{className:"text-gray-600",children:"Test the PayU payment integration"})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"User Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Name:"})," ",(r==null?void 0:r.name)||"N/A"]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Email:"})," ",(r==null?void 0:r.email)||"N/A"]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Phone:"})," ",(r==null?void 0:r.phone)||"N/A"]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"User Type:"})," ",(r==null?void 0:r.userType)||"home"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Test Payments"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("button",{onClick:()=>n(!0),className:"w-full bg-primary text-white py-3 rounded-lg font-semibold hover:bg-primary-dark transition",children:"Test Payment - 100"}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsx("p",{className:"font-semibold mb-2",children:"Test Instructions:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[t.jsx("li",{children:"Click the button above to open payment gateway"}),t.jsx("li",{children:"You'll be redirected to PayU test environment"}),t.jsx("li",{children:"Use test card details provided by PayU"}),t.jsx("li",{children:"After payment, you'll be redirected back"})]})]})]})]})]}),a&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsx("div",{className:"max-w-md w-full",children:t.jsx(u4,{amount:100,orderData:{productinfo:"Test Payment - PayU Integration",userId:(r==null?void 0:r._id)||(r==null?void 0:r.userId)},onSuccess:i,onFailure:l,onCancel:o,title:"Test Payment",description:"Testing PayU payment integration"})})})]})}):t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please Login"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to test payments."}),t.jsx("button",{onClick:()=>s("/user/login"),className:"bg-primary text-white px-6 py-3 rounded-lg font-semibold hover:bg-primary-dark transition",children:"Go to Login"})]})})},Yz=({invoiceData:e,onPrint:r})=>{if(!e)return t.jsx("div",{className:"w-full max-w-4xl mx-auto bg-white p-8",children:t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-gray-600",children:"Loading invoice data..."})})});const{invoiceNumber:s,date:a,status:n="CONFIRMED",customer:i={},services:l=[],paymentDetails:o={},companyDetails:d={}}=e,c=(x,h="N/A")=>x==null?h:typeof x=="string"?x:typeof x=="number"?x.toString():typeof x=="object"?(console.warn("Attempting to render object:",x),h):String(x),u=(l==null?void 0:l.reduce((x,h)=>x+h.quantity*h.rate,0))||0,m=u;return t.jsxs("div",{className:"w-full max-w-4xl mx-auto bg-white",children:[t.jsx(Vz,{onPrint:r,invoiceData:e}),t.jsxs("div",{className:"professional-invoice bg-white border-2 border-gray-800 p-8 print:border-2 print:p-6 mx-auto",children:[t.jsxs("div",{className:"flex justify-between items-start mb-8",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"flex items-center justify-start mb-6",children:t.jsx("img",{src:"/logo.png",alt:"Nexo Logo",className:"w-28 h-28 object-contain"})}),t.jsxs("div",{className:"space-y-1 text-sm text-gray-700 mt-4",children:[t.jsx("p",{className:"font-semibold text-lg",children:"ParNets Software India PVT LTD"}),t.jsx("p",{children:"ParNets Software India PVT LTD"}),t.jsxs("p",{children:["GSTIN: ",(d==null?void 0:d.gstin)||"29AANCP7155K1ZN"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("h2",{className:"text-4xl font-light text-gray-400 mb-4",children:"INVOICE"}),t.jsxs("div",{className:"text-sm space-y-1",children:[t.jsxs("p",{className:"font-bold text-blue-600",children:["#",s]}),t.jsxs("p",{children:[t.jsx("span",{className:"text-gray-600",children:"Date:"})," ",Cu(new Date(a),"dd MMMM yyyy")]}),t.jsx("div",{className:"mt-2",children:t.jsx("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded text-xs font-semibold",children:n})})]})]})]}),t.jsxs("div",{className:"mb-8 text-sm text-gray-700 space-y-1",children:[t.jsx("p",{className:"font-semibold",children:"Registered Office:"}),t.jsx("p",{children:(d==null?void 0:d.address)||"GROUND FLOOR, 104/1, Singapura Main Road, Grace Mens Wear, Singapura"}),t.jsx("p",{children:(d==null?void 0:d.city)||"Bengaluru, Bengaluru Urban, Karnataka, 560097"}),t.jsxs("div",{className:"mt-3 space-y-1",children:[t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:"Contact:"})," ",(d==null?void 0:d.phone)||"+91-9740016068"]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:"Email:"})," ",(d==null?void 0:d.email)||"support@nexo.works"]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:"Website:"})," ",(d==null?void 0:d.website)||"www.nexo.works"]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-12 mb-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-800 mb-4 text-sm",children:"BILL TO"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{children:t.jsx("p",{className:"font-bold text-lg text-gray-800",children:c(i==null?void 0:i.name)})}),t.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:"Phone:"})," ",c(i==null?void 0:i.phone)]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:"Email:"})," ",c(i==null?void 0:i.email)]})]}),t.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[t.jsx("p",{children:t.jsx("span",{className:"font-medium",children:"Address:"})}),t.jsx("p",{className:"leading-relaxed",children:c(i==null?void 0:i.address)}),(i==null?void 0:i.landmark)&&t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:"Landmark:"})," ",c(i==null?void 0:i.landmark)]}),(i==null?void 0:i.pincode)&&t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:"Pincode:"})," ",c(i==null?void 0:i.pincode)]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-800 mb-4 text-sm",children:"SERVICE DETAILS"}),t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Booking ID:"}),t.jsxs("span",{className:"font-bold text-blue-600",children:["#",c(o==null?void 0:o.bookingId)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Service Date:"}),t.jsx("span",{className:"font-medium",children:o!=null&&o.serviceDate?Cu(new Date(o.serviceDate),"dd MMMM yyyy"):"Date Not Available"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Service Time:"}),t.jsx("span",{className:"font-medium",children:c(o==null?void 0:o.serviceTime)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Payment Mode:"}),t.jsx("span",{className:"font-bold",children:c(o==null?void 0:o.paymentMode,"ONLINE")})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Payment Status:"}),t.jsx("span",{className:"font-bold text-green-600",children:c(o==null?void 0:o.paymentStatus,"COMPLETED")})]}),(o==null?void 0:o.transactionId)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Transaction ID:"}),t.jsx("span",{className:"font-mono text-xs font-medium",children:c(o==null?void 0:o.transactionId)})]})]})]})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Services & Items"}),t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-100",children:[t.jsx("th",{className:"text-left py-3 px-4 font-bold text-gray-700 text-sm",children:"DESCRIPTION"}),t.jsx("th",{className:"text-center py-3 px-4 font-bold text-gray-700 text-sm",children:"QUANTITY"}),t.jsx("th",{className:"text-center py-3 px-4 font-bold text-gray-700 text-sm",children:"RATE"}),t.jsx("th",{className:"text-right py-3 px-4 font-bold text-gray-700 text-sm",children:"AMOUNT"})]})}),t.jsx("tbody",{children:l==null?void 0:l.map((x,h)=>t.jsxs("tr",{className:"border-b border-gray-200",children:[t.jsx("td",{className:"py-3 px-4 text-sm text-gray-800",children:x.description}),t.jsx("td",{className:"py-3 px-4 text-center text-sm text-gray-800",children:x.quantity}),t.jsxs("td",{className:"py-3 px-4 text-center text-sm text-gray-800",children:["",x.rate]}),t.jsxs("td",{className:"py-3 px-4 text-right text-sm text-gray-800",children:["",x.quantity*x.rate]})]},h))})]})]}),t.jsx("div",{className:"flex justify-end mb-8",children:t.jsx("div",{className:"w-80",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between py-2 text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),t.jsxs("span",{className:"font-bold",children:["",u]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"bg-gray-800 text-white px-4 py-3 font-bold text-sm",children:"TOTAL AMOUNT:"}),t.jsxs("div",{className:"bg-gray-600 text-white px-4 py-3 font-bold text-lg",children:["",m]})]})]})})}),t.jsxs("div",{className:"text-center border-t pt-6",children:[t.jsx("h3",{className:"font-bold text-gray-800 mb-4 text-lg",children:"Thank You for Choosing Our Services!"}),t.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[t.jsxs("p",{children:["For any queries regarding this invoice, please contact us at"," ",t.jsx("span",{className:"text-blue-600 font-medium",children:(d==null?void 0:d.email)||"support@nexo.works"})," ","or call ",t.jsx("span",{className:"text-blue-600 font-medium",children:(d==null?void 0:d.phone)||"+91-9740016068"})]}),t.jsxs("p",{children:["Visit our website at"," ",t.jsx("span",{className:"text-blue-600 font-medium",children:(d==null?void 0:d.website)||"www.nexo.works"})," ","for more services"]}),t.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[t.jsx("p",{className:"text-xs text-gray-500",children:"This is a computer-generated invoice and does not require a physical signature."}),t.jsx("p",{className:"text-xs text-gray-500",children:"Subject to Bengaluru jurisdiction. Terms and conditions apply."})]})]})]})]})]})},dCe=e=>{if(console.log(" Generating invoice number from:",e),!e){console.warn(" No booking ID provided, using URL booking ID");const n=new URLSearchParams(window.location.search).get("bookingId");if(n)e=n,console.log(" Using URL booking ID:",e);else throw new Error("Booking ID is required to generate invoice number")}if(e.startsWith("NEXO"))return e;const r=e.slice(-6);return`NEXO${(parseInt(r,16)%999999+1).toString().padStart(5,"0")}`},uCe=e=>{if(console.log(" Generating booking ID from:",e),!e){console.warn(" No original ID provided, using URL booking ID");const n=new URLSearchParams(window.location.search).get("bookingId");if(n)e=n,console.log(" Using URL booking ID:",e);else throw new Error("Original ID is required to generate booking ID")}if(e.startsWith("NEXO"))return e;const r=e.slice(-6);return`NEXO${(parseInt(r,16)%999999+1).toString().padStart(5,"0")}`},Xz=e=>{var o;if(!e)throw new Error("Booking data is required to generate invoice");console.log(" Processing booking data:",e);const s=[e.bookingId,e._id,e.id,e.bookingNumber,e.orderNumber,e.referenceId].find(d=>d&&d.toString().trim())||null;console.log(" Found booking ID:",s);const a=dCe(s),n=uCe(s),i=(d,c="")=>d?typeof d=="string"?d:typeof d=="object"?d.address&&d.landmark&&d.pincode?`${d.address}, ${d.landmark}, ${d.pincode}`:d.street||d.city||d.state?[d.street,d.city,d.state,d.country].filter(Boolean).join(", "):JSON.stringify(d):String(d):c,l=(d,c,u="")=>{for(const m of c){const x=m.split(".");let h=d;for(const p of x)if(h&&typeof h=="object"&&p in h)h=h[p];else{h=null;break}if(h!=null&&h!=="")return i(h,u)}return u};return{invoiceNumber:a,date:e.createdAt||e.bookingDate||e.date||new Date().toISOString(),status:e.status==="completed"?"COMPLETED":"CONFIRMED",customer:{name:l(e,["customerDetails.name","customerDetails.customerName","customerDetails.fullName","customerName","customer.name","user.name","name","clientName","userName","fullName"],"Customer Name Not Available"),phone:l(e,["customerDetails.phone","customerDetails.mobile","customerDetails.phoneNumber","customerPhone","customer.phone","user.phone","phone","mobile","phoneNumber","contactNumber"],"Phone Not Available"),email:l(e,["customerDetails.email","customerDetails.emailAddress","customerEmail","customer.email","user.email","email","emailAddress","userEmail"],"Email Not Available"),address:l(e,["location.address","location.fullAddress","customerDetails.address","address","customer.address","user.address","location","fullAddress","serviceAddress","deliveryAddress"],"Address Not Available"),landmark:l(e,["location.landmark","customerDetails.landmark","location.nearbyLandmark","landmark","customer.landmark","user.landmark","nearbyLandmark","reference"])||"",pincode:l(e,["location.pincode","location.zipCode","customerDetails.pincode","pincode","customer.pincode","user.pincode","zipCode","postalCode","zip"])||""},services:((o=e.services)==null?void 0:o.map(d=>({description:i(d.name||d.description||d.serviceName||d.title,"Service"),quantity:d.quantity||1,rate:d.price||d.rate||d.amount||d.cost||0,amount:(d.quantity||1)*(d.price||d.rate||d.amount||d.cost||0)})))||[{description:l(e,["serviceName","service.name","serviceType","category","title"],"Service"),quantity:1,rate:e.totalAmount||e.amount||e.price||e.cost||0,amount:e.totalAmount||e.amount||e.price||e.cost||0}],paymentDetails:{bookingId:n,serviceDate:e.scheduledDate||e.serviceDate||e.appointmentDate||e.date||new Date().toISOString(),serviceTime:l(e,["scheduledTime","serviceTime","appointmentTime","time","slot"],"Time Not Available"),paymentMode:l(e,["paymentMode","paymentMethod","paymentType","method"],"ONLINE"),paymentStatus:l(e,["paymentStatus","status","transactionStatus"],"COMPLETED"),transactionId:l(e,["txnid","transactionId","paymentId","razorpayPaymentId","paymentDetails.transactionId","paymentDetails.txnid","paymentTransactionId","orderId","referenceId"])||""},companyDetails:{name:"ParNets Software India PVT LTD",gstin:"29AANCP7155K1ZN",address:"GROUND FLOOR, 104/1, Singapura Main Road, Grace Mens Wear, Singapura",city:"Bengaluru, Bengaluru Urban, Karnataka, 560097",phone:"+91-9740016068",email:"support@nexo.works",website:"www.nexo.works"}}},mCe=()=>{const[e]=Id(),[r,s]=g.useState(null),[a,n]=g.useState(!0),[i,l]=g.useState(null),o=e.get("bookingId");g.useEffect(()=>{(async()=>{if(!o){l("No booking ID provided"),n(!1);return}try{const u=localStorage.getItem("userToken");if(!u)throw new Error("No authentication token found. Please login again.");const m=await fetch(`https://nexo.works/api/user/bookings/${o}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`}});if(!m.ok)throw new Error(`Failed to fetch booking: ${m.status}`);const x=await m.json();console.log(" Full API Response:",x),console.log(" Response keys:",Object.keys(x));const h=x.booking||x.data||x;console.log(" Extracted Booking Data:",h),console.log(" Booking Data keys:",Object.keys(h||{})),console.log(" Field Analysis:"),console.log("  - customerDetails:",h==null?void 0:h.customerDetails),console.log("  - location:",h==null?void 0:h.location),console.log("  - txnid:",h==null?void 0:h.txnid),console.log("  - paymentDetails:",h==null?void 0:h.paymentDetails),console.log("  - scheduledDate:",h==null?void 0:h.scheduledDate),console.log("  - scheduledTime:",h==null?void 0:h.scheduledTime),console.log("  - serviceName:",h==null?void 0:h.serviceName),console.log("  - totalAmount:",h==null?void 0:h.totalAmount);const p=Xz(h);s(p)}catch(u){l("Failed to load booking data. Please check the booking ID and try again."),console.error("Error fetching booking:",u)}finally{n(!1)}})()},[o]);const d=()=>{console.log("Invoice printed for booking:",o)};return a?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading invoice..."})]})}):i?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Error Loading Invoice"}),t.jsx("p",{className:"text-gray-600 mb-4",children:i}),t.jsx("button",{onClick:()=>window.history.back(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back"})]})}):t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-8",children:t.jsx("div",{className:"container mx-auto px-4 flex justify-center",children:t.jsx(Yz,{invoiceData:r,onPrint:d})})})},hCe=()=>{const[e]=Id(),[r,s]=g.useState(null),[a,n]=g.useState(!0),[i,l]=g.useState(null),o=e.get("bookingId");g.useEffect(()=>{(async()=>{if(!o){l("No booking ID provided"),n(!1);return}try{const u=localStorage.getItem("userToken");if(!u)throw new Error("No authentication token found. Please login again.");const m=await fetch(`https://nexo.works/api/user/bookings/${o}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`}});if(!m.ok)throw new Error(`Failed to fetch booking: ${m.status}`);const x=await m.json();console.log(" Full API Response:",x),console.log(" Response keys:",Object.keys(x));const h=x.booking||x.data||x;console.log(" Extracted Booking Data:",h),console.log(" Booking Data keys:",Object.keys(h||{})),console.log(" Field Analysis:"),console.log("  - customerDetails:",h==null?void 0:h.customerDetails),console.log("  - location:",h==null?void 0:h.location),console.log("  - txnid:",h==null?void 0:h.txnid),console.log("  - paymentDetails:",h==null?void 0:h.paymentDetails),console.log("  - scheduledDate:",h==null?void 0:h.scheduledDate),console.log("  - scheduledTime:",h==null?void 0:h.scheduledTime),console.log("  - serviceName:",h==null?void 0:h.serviceName),console.log("  - totalAmount:",h==null?void 0:h.totalAmount);const p=Xz(h);s(p)}catch(u){l("Failed to load booking data. Please check the booking ID and try again."),console.error("Error fetching booking:",u)}finally{n(!1)}})()},[o]);const d=()=>{console.log("Invoice printed for booking:",o)};return a?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading invoice..."})]})}):i?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Error Loading Invoice"}),t.jsx("p",{className:"text-gray-600 mb-4",children:i}),t.jsx("button",{onClick:()=>window.history.back(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back"})]})}):t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-8",children:t.jsx("div",{className:"container mx-auto px-4 flex justify-center",children:t.jsx(Yz,{invoiceData:r,onPrint:d})})})};function xCe(){return t.jsx(mJ,{children:t.jsxs(sq,{children:[t.jsx(hJ,{}),t.jsx(Wke,{}),t.jsxs(Ly,{children:[t.jsxs(et,{element:t.jsx(OZ,{}),children:[t.jsx(et,{path:"/",element:t.jsx(lZ,{})}),t.jsx(et,{path:"/service/:serviceName",element:t.jsx(dZ,{})}),t.jsx(et,{path:"/service/:serviceName/checkout",element:t.jsx(uZ,{})}),t.jsx(et,{path:"/payment/success",element:t.jsx(mZ,{})}),t.jsx(et,{path:"/payment/failure",element:t.jsx(hZ,{})}),t.jsx(et,{path:"/payment",element:t.jsx(UE,{})}),t.jsx(et,{path:"/payment-result",element:t.jsx(UE,{})}),t.jsx(et,{path:"/test-payment",element:t.jsx(cCe,{})}),t.jsx(et,{path:"/invoice",element:t.jsx(hCe,{})}),t.jsx(et,{path:"/invoice/sample",element:t.jsx(mCe,{})}),t.jsx(et,{path:"/partner",element:t.jsx(xZ,{})}),t.jsx(et,{path:"/leads",element:t.jsx(pZ,{})}),t.jsx(et,{path:"/materials",element:t.jsx(fZ,{})}),t.jsx(et,{path:"/emergency",element:t.jsx(gZ,{})}),t.jsx(et,{path:"/amc",element:t.jsx(bZ,{})}),t.jsx(et,{path:"/brand-partnerships",element:t.jsx(vZ,{})}),t.jsx(et,{path:"/partner/onboard",element:t.jsx(iP,{})}),t.jsx(et,{path:"/partner-onboarding",element:t.jsx(iP,{})}),t.jsx(et,{path:"/partner-terms",element:t.jsx(SZ,{})}),t.jsx(et,{path:"/terms",element:t.jsx(kZ,{})}),t.jsx(et,{path:"/privacy",element:t.jsx(CZ,{})}),t.jsx(et,{path:"/refund-policy",element:t.jsx(PZ,{})}),t.jsx(et,{path:"/partner-refund-policy",element:t.jsx(AZ,{})}),t.jsx(et,{path:"/verify/partner/:partnerId",element:t.jsx(Hke,{})})]}),t.jsx(et,{path:"/admin",element:t.jsx(Lse,{})}),t.jsx(et,{path:"/partner/login",element:t.jsx(xke,{})}),t.jsx(et,{path:"/vendor/login",element:t.jsx(_ke,{})}),t.jsx(et,{path:"/user/login",element:t.jsx(zE,{})}),t.jsx(et,{path:"/user-login",element:t.jsx(zE,{})}),t.jsx(et,{path:"/user/register",element:t.jsx(oCe,{})}),t.jsx(et,{element:t.jsx(Rse,{}),children:t.jsxs(et,{element:t.jsx(Fse,{}),children:[t.jsx(et,{path:"/admin/dashboard",element:t.jsx(w1e,{})}),t.jsx(et,{path:"/admin/partners",element:t.jsx(x6e,{})}),t.jsx(et,{path:"/admin/partners/manual-register",element:t.jsx(C6e,{})}),t.jsx(et,{path:"/admin/partners/:partnerId",element:t.jsx(k6e,{})}),t.jsx(et,{path:"/admin/vendors",element:t.jsx(A6e,{})}),t.jsx(et,{path:"/admin/vendors/:vendorId",element:t.jsx(T6e,{})}),t.jsx(et,{path:"/admin/customers",element:t.jsx(E6e,{})}),t.jsx(et,{path:"/admin/customer-bookings",element:t.jsx(_6e,{})}),t.jsx(et,{path:"/admin/spares",element:t.jsx(D6e,{})}),t.jsx(et,{path:"/admin/amc",element:t.jsx(L6e,{})}),t.jsx(et,{path:"/admin/cities",element:t.jsx(F6e,{})}),t.jsx(et,{path:"/admin/leads",element:t.jsx(R6e,{})}),t.jsx(et,{path:"/admin/reports",element:t.jsx($6e,{})}),t.jsx(et,{path:"/admin/notifications",element:t.jsx(W6e,{})}),t.jsx(et,{path:"/admin/notification-templates",element:t.jsx(V6e,{})}),t.jsx(et,{path:"/admin/refunds",element:t.jsx(Y6e,{})}),t.jsx(et,{path:"/admin/mg-plans",element:t.jsx(X6e,{})}),t.jsx(et,{path:"/admin/fees",element:t.jsx(J6e,{})}),t.jsx(et,{path:"/admin/fee-transactions",element:t.jsx(ake,{})}),t.jsx(et,{path:"/admin/categories",element:t.jsx(ike,{})}),t.jsx(et,{path:"/admin/hubs",element:t.jsx(lke,{})}),t.jsx(et,{path:"/admin/popular-services",element:t.jsx(oke,{})}),t.jsx(et,{path:"/admin/amc-plans",element:t.jsx(dke,{})}),t.jsx(et,{path:"/admin/featured-reviews",element:t.jsx(cke,{})}),t.jsx(et,{path:"/admin/whatsapp-settings",element:t.jsx(uke,{})})]})}),t.jsx(et,{element:t.jsx(Eke,{}),children:t.jsx(et,{element:t.jsx(Tke,{}),children:t.jsx(et,{path:"/partner/dashboard/*",element:t.jsx(Ake,{})})})}),t.jsx(et,{element:t.jsx(Uke,{}),children:t.jsx(et,{element:t.jsx(zke,{}),children:t.jsx(et,{path:"/vendor/dashboard/*",element:t.jsx($ke,{})})})}),t.jsx(et,{element:t.jsx(lCe,{}),children:t.jsx(et,{element:t.jsx(iCe,{}),children:t.jsx(et,{path:"/user/dashboard/*",element:t.jsx(nCe,{})})})}),t.jsx(et,{path:"*",element:t.jsx(Vke,{})})]})]})})}const pCe=()=>{const[e,r]=g.useState(!0),[s,a]=g.useState(0),[n]=g.useState(()=>{const c=Array.from({length:20},(x,h)=>({size:h<5?Math.random()*20+15:Math.random()*60+30,duration:Math.random()*8+6,delay:Math.random()*2,startX:Math.random()*100,startY:Math.random()*100,opacity:Math.random()*.3+.2,isVisible:h<5,x1:Math.random()*200-100,x2:Math.random()*200-100,x3:Math.random()*200-100,x4:Math.random()*200-100,y1:Math.random()*200-100,y2:Math.random()*200-100,y3:Math.random()*200-100,y4:Math.random()*200-100,scale1:Math.random()*.5+1.2,scale2:Math.random()*.5+.8})),u=Array.from({length:12},(x,h)=>({size:Math.random()*100+80,duration:Math.random()*10+8,delay:Math.random()*2.5,startX:Math.random()*100,startY:Math.random()*100,opacity:Math.random()*.25+.15,isVisible:h<4,x1:Math.random()*250-125,x2:Math.random()*250-125,x3:Math.random()*250-125,x4:Math.random()*250-125,y1:Math.random()*250-125,y2:Math.random()*250-125,y3:Math.random()*250-125,y4:Math.random()*250-125,scale1:Math.random()*.5+1.25,scale2:Math.random()*.5+.75})),m=Array.from({length:8},()=>({size:Math.random()*150+100,duration:Math.random()*12+10,delay:Math.random()*3,startX:Math.random()*100,startY:Math.random()*100,opacity:Math.random()*.2+.1,isVisible:!1,x1:Math.random()*300-150,x2:Math.random()*300-150,x3:Math.random()*300-150,y1:Math.random()*300-150,y2:Math.random()*300-150,y3:Math.random()*300-150,scale1:Math.random()*.4+1.3,scale2:Math.random()*.4+.7}));return{smallBalls:c,mediumBalls:u,largeBalls:m}});g.useEffect(()=>{let c="normal";if("connection"in navigator){const y=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(y){const v=y.effectiveType;v==="slow-2g"||v==="2g"?c="slow":v==="3g"&&(c="medium")}}let u,m,x;const h=c==="slow"?8e3:c==="medium"?6e3:5e3,p=c==="slow"?2e3:1500,f=c==="slow"?5:c==="medium"?10:15;u=setInterval(()=>{a(y=>y>=90?(clearInterval(u),90):Math.min(y+Math.random()*f,90))},c==="slow"?300:c==="medium"?250:200);const j=()=>{const y=document.querySelectorAll("img"),v=y.length;let N=0;return v===0?!0:(y.forEach(S=>{S.complete?N++:(S.addEventListener("load",()=>{N++,N===v&&a(95)}),S.addEventListener("error",()=>{N++,N===v&&a(95)}))}),N===v)},w=()=>{x=setTimeout(()=>{a(100),setTimeout(()=>{r(!1)},500)},p)};return document.readyState==="complete"?j()?w():setTimeout(()=>{w()},500):window.addEventListener("load",()=>{setTimeout(()=>{w()},300)}),m=setTimeout(()=>{clearInterval(u),a(100),setTimeout(()=>{r(!1)},500)},h),()=>{u&&clearInterval(u),m&&clearTimeout(m),x&&clearTimeout(x),window.removeEventListener("load",w)}},[]);const i={initial:{scale:.8,opacity:0},animate:{scale:[.8,1.1,1],opacity:1,rotate:[0,360],transition:{scale:{duration:1,ease:"easeOut"},rotate:{duration:2,repeat:1/0,ease:"linear"}}}},l={animate:{opacity:[.6,1,.6],strokeWidth:[3,3.5,3],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}},o={animate:{scale:[1,1.2,1],transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}},d={initial:{opacity:1},exit:{opacity:0,transition:{duration:.5,ease:"easeInOut"}}};return t.jsx(Pl,{children:e&&t.jsxs(E.div,{className:"fixed inset-0 z-[9999] bg-gradient-to-br from-primary via-primary-dark to-primary flex flex-col items-center justify-center",variants:d,initial:"initial",exit:"exit",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx("div",{className:"w-full h-full",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})}),n.smallBalls.map((c,u)=>t.jsx(E.div,{className:`absolute rounded-full pointer-events-none ${c.isVisible?"bg-white/20 backdrop-blur-sm border border-white/30":"bg-white/50 blur-2xl"}`,style:{width:`${c.size}px`,height:`${c.size}px`,left:`${c.startX}%`,top:`${c.startY}%`,opacity:c.isVisible?.4:c.opacity,zIndex:c.isVisible?2:1,filter:c.isVisible?"drop-shadow(0 0 8px rgba(255,255,255,0.3))":"blur(40px)",WebkitFilter:c.isVisible?"drop-shadow(0 0 8px rgba(255,255,255,0.3))":"blur(40px)",boxShadow:c.isVisible?"inset 0 0 20px rgba(255,255,255,0.1), 0 0 15px rgba(255,255,255,0.2)":"none"},animate:{x:[c.x1,c.x2,c.x3,c.x4,c.x1],y:[c.y1,c.y2,c.y3,c.y4,c.y1],scale:[1,c.scale1,1,c.scale2,1]},transition:{duration:c.duration,repeat:1/0,ease:"easeInOut",delay:c.delay,repeatType:"loop"}},`small-${u}`)),n.mediumBalls.map((c,u)=>t.jsx(E.div,{className:`absolute rounded-full pointer-events-none ${c.isVisible?"bg-white/20 backdrop-blur-sm border border-white/30":"bg-white/45 blur-2xl"}`,style:{width:`${c.size}px`,height:`${c.size}px`,left:`${c.startX}%`,top:`${c.startY}%`,opacity:c.isVisible?.35:c.opacity,zIndex:c.isVisible?2:1,filter:c.isVisible?"drop-shadow(0 0 10px rgba(255,255,255,0.3))":"blur(50px)",WebkitFilter:c.isVisible?"drop-shadow(0 0 10px rgba(255,255,255,0.3))":"blur(50px)",boxShadow:c.isVisible?"inset 0 0 25px rgba(255,255,255,0.1), 0 0 20px rgba(255,255,255,0.2)":"none"},animate:{x:[c.x1,c.x2,c.x3,c.x4,c.x1],y:[c.y1,c.y2,c.y3,c.y4,c.y1],scale:[1,c.scale1,1,c.scale2,1]},transition:{duration:c.duration,repeat:1/0,ease:"easeInOut",delay:c.delay,repeatType:"loop"}},`medium-${u}`)),n.largeBalls.map((c,u)=>t.jsx(E.div,{className:"absolute rounded-full bg-white/35 blur-3xl pointer-events-none",style:{width:`${c.size}px`,height:`${c.size}px`,left:`${c.startX}%`,top:`${c.startY}%`,opacity:c.opacity,zIndex:0,filter:"blur(80px)",WebkitFilter:"blur(80px)"},animate:{x:[c.x1,c.x2,c.x3,c.x1],y:[c.y1,c.y2,c.y3,c.y1],scale:[1,c.scale1,1,c.scale2,1]},transition:{duration:c.duration,repeat:1/0,ease:"easeInOut",delay:c.delay,repeatType:"loop"}},`large-${u}`)),t.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[t.jsx(E.div,{className:"relative w-24 h-24 sm:w-32 sm:h-32 mb-6",variants:i,initial:"initial",animate:"animate",children:t.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx(E.path,{d:"M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z",stroke:"#FFFFFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:l,animate:"animate"}),t.jsx(E.path,{d:"M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z",stroke:"#FFFFFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:l,animate:"animate",transition:{delay:.2}}),t.jsx(E.path,{d:"M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z",stroke:"#FFFFFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:l,animate:"animate",transition:{delay:.4}}),t.jsx(E.path,{d:"M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z",stroke:"#FFFFFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:l,animate:"animate",transition:{delay:.6}}),t.jsx(E.circle,{cx:"24",cy:"24",r:"4",fill:"#FFFFFF",variants:o,animate:"animate"})]})}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"text-center mb-8",children:[t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-white mb-2",children:"Nexo"}),t.jsx("p",{className:"text-sm sm:text-base text-white/80 font-light",children:"Connect. Work. Grow."})]}),t.jsxs("div",{className:"w-64 sm:w-80 max-w-md mx-auto",children:[t.jsx("div",{className:"h-1.5 bg-white/20 rounded-full overflow-hidden",children:t.jsx(E.div,{className:"h-full bg-white rounded-full",initial:{width:0},animate:{width:`${s}%`},transition:{duration:.3,ease:"easeOut"}})}),t.jsx(E.p,{className:"text-white/60 text-xs sm:text-sm mt-3 text-center",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:s<50?"Loading...":s<90?"Almost there...":"Ready!"})]})]}),t.jsxs("div",{className:"absolute inset-0 pointer-events-none z-5",children:[t.jsx(E.div,{className:"absolute top-1/4 left-1/4 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{y:[0,-20,0],rotate:[0,15,-15,0],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:0},children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})})}),t.jsx(E.div,{className:"absolute top-1/3 right-1/4 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{y:[0,15,0],rotate:[0,-10,10,0],opacity:[.3,.5,.3]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:.5},children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M15 12l-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0-.83-.83-.83-2.17 0-3L12 9"}),t.jsx("path",{d:"M17.64 15L22 10.64"}),t.jsx("path",{d:"M20.91 11.7l-2.25-2.25L15.64 12l-1.5-1.5 3.06-3.06-2.25-2.25L12 7.36l-1.5-1.5 2.81-2.81-2.25-2.25L7.36 3l-1.5-1.5L9.38.14l-2.25-2.25L4.5 1.5"})]})}),t.jsx(E.div,{className:"absolute bottom-1/3 left-1/3 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{x:[0,15,0],rotate:[0,20,-20,0],opacity:[.3,.5,.3]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:1},children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M9.06 2.57c-1.18-.59-2.65-.15-3.44.99l-.57.8c-.28.4-.28.95 0 1.35l5.18 7.27c.28.4.78.4 1.06 0l5.18-7.27c.28-.4.28-.95 0-1.35l-.57-.8c-.79-1.14-2.26-1.58-3.44-.99L9.06 2.57z"}),t.jsx("path",{d:"M12 18v4"}),t.jsx("path",{d:"M9 22h6"})]})}),t.jsx(E.div,{className:"absolute bottom-1/4 right-1/3 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{y:[0,-15,0],rotate:[0,-15,15,0],opacity:[.3,.5,.3]},transition:{duration:5.5,repeat:1/0,ease:"easeInOut",delay:1.5},children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M18 3v3a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V3"}),t.jsx("path",{d:"M12 21v-9"}),t.jsx("path",{d:"M9 21v-6"}),t.jsx("path",{d:"M15 21v-6"}),t.jsx("path",{d:"M9 3h6"})]})}),t.jsx(E.div,{className:"absolute top-1/2 left-1/5 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{x:[0,-10,0],y:[0,10,0],opacity:[.3,.5,.3]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:2},children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M20 7h-3V6a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v1H4a1 1 0 0 0-1 1v11a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V8a1 1 0 0 0-1-1z"}),t.jsx("path",{d:"M9 6v1"}),t.jsx("path",{d:"M15 6v1"})]})}),t.jsx(E.div,{className:"absolute top-2/3 right-1/5 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{rotate:[0,360],x:[0,10,0],opacity:[.3,.5,.3]},transition:{duration:7,repeat:1/0,ease:"linear",delay:2.5},children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M12 2v4"}),t.jsx("path",{d:"M12 18v4"}),t.jsx("path",{d:"M8 6h8"}),t.jsx("path",{d:"M8 18h8"}),t.jsx("path",{d:"M12 6l-4 4h8l-4-4z"}),t.jsx("path",{d:"M12 18l-4-4h8l-4 4z"}),t.jsx("circle",{cx:"12",cy:"12",r:"2"})]})})]}),t.jsx(E.div,{className:"absolute bottom-12 left-1/2 transform -translate-x-1/2",animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:t.jsx("div",{className:"w-8 h-8 border-4 border-white/30 border-t-white rounded-full"})})]})})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/firebase-messaging-sw.js").catch(e=>{console.error("Service Worker registration failed:",e)})});i2.createRoot(document.getElementById("root")).render(t.jsxs(oO,{children:[t.jsx(pCe,{}),t.jsx(Dse,{children:t.jsx(hke,{children:t.jsx(Oke,{children:t.jsx(sZ,{children:t.jsx(xCe,{})})})})})]}));
