var Sz=Object.defineProperty;var kz=(e,r,s)=>r in e?Sz(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s;var pi=(e,r,s)=>kz(e,typeof r!="symbol"?r+"":r,s);function Cz(e,r){for(var s=0;s<r.length;s++){const a=r[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();function di(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yE={exports:{}},ay={},bE={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0=Symbol.for("react.element"),Pz=Symbol.for("react.portal"),Az=Symbol.for("react.fragment"),Tz=Symbol.for("react.strict_mode"),Ez=Symbol.for("react.profiler"),Iz=Symbol.for("react.provider"),_z=Symbol.for("react.context"),Oz=Symbol.for("react.forward_ref"),Dz=Symbol.for("react.suspense"),Mz=Symbol.for("react.memo"),Lz=Symbol.for("react.lazy"),G5=Symbol.iterator;function Fz(e){return e===null||typeof e!="object"?null:(e=G5&&e[G5]||e["@@iterator"],typeof e=="function"?e:null)}var vE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jE=Object.assign,wE={};function um(e,r,s){this.props=e,this.context=r,this.refs=wE,this.updater=s||vE}um.prototype.isReactComponent={};um.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};um.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function NE(){}NE.prototype=um.prototype;function kw(e,r,s){this.props=e,this.context=r,this.refs=wE,this.updater=s||vE}var Cw=kw.prototype=new NE;Cw.constructor=kw;jE(Cw,um.prototype);Cw.isPureReactComponent=!0;var q5=Array.isArray,SE=Object.prototype.hasOwnProperty,Pw={current:null},kE={key:!0,ref:!0,__self:!0,__source:!0};function CE(e,r,s){var a,n={},i=null,l=null;if(r!=null)for(a in r.ref!==void 0&&(l=r.ref),r.key!==void 0&&(i=""+r.key),r)SE.call(r,a)&&!kE.hasOwnProperty(a)&&(n[a]=r[a]);var o=arguments.length-2;if(o===1)n.children=s;else if(1<o){for(var d=Array(o),c=0;c<o;c++)d[c]=arguments[c+2];n.children=d}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)n[a]===void 0&&(n[a]=o[a]);return{$$typeof:M0,type:e,key:i,ref:l,props:n,_owner:Pw.current}}function Rz(e,r){return{$$typeof:M0,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function Aw(e){return typeof e=="object"&&e!==null&&e.$$typeof===M0}function Bz(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return r[s]})}var K5=/\/+/g;function nv(e,r){return typeof e=="object"&&e!==null&&e.key!=null?Bz(""+e.key):r.toString(36)}function Tp(e,r,s,a,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case M0:case Pz:l=!0}}if(l)return l=e,n=n(l),e=a===""?"."+nv(l,0):a,q5(n)?(s="",e!=null&&(s=e.replace(K5,"$&/")+"/"),Tp(n,r,s,"",function(c){return c})):n!=null&&(Aw(n)&&(n=Rz(n,s+(!n.key||l&&l.key===n.key?"":(""+n.key).replace(K5,"$&/")+"/")+e)),r.push(n)),1;if(l=0,a=a===""?".":a+":",q5(e))for(var o=0;o<e.length;o++){i=e[o];var d=a+nv(i,o);l+=Tp(i,r,s,d,n)}else if(d=Fz(e),typeof d=="function")for(e=d.call(e),o=0;!(i=e.next()).done;)i=i.value,d=a+nv(i,o++),l+=Tp(i,r,s,d,n);else if(i==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return l}function Ix(e,r,s){if(e==null)return e;var a=[],n=0;return Tp(e,a,"","",function(i){return r.call(s,i,n++)}),a}function $z(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var Ra={current:null},Ep={transition:null},zz={ReactCurrentDispatcher:Ra,ReactCurrentBatchConfig:Ep,ReactCurrentOwner:Pw};function PE(){throw Error("act(...) is not supported in production builds of React.")}Yt.Children={map:Ix,forEach:function(e,r,s){Ix(e,function(){r.apply(this,arguments)},s)},count:function(e){var r=0;return Ix(e,function(){r++}),r},toArray:function(e){return Ix(e,function(r){return r})||[]},only:function(e){if(!Aw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Yt.Component=um;Yt.Fragment=Az;Yt.Profiler=Ez;Yt.PureComponent=kw;Yt.StrictMode=Tz;Yt.Suspense=Dz;Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zz;Yt.act=PE;Yt.cloneElement=function(e,r,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=jE({},e.props),n=e.key,i=e.ref,l=e._owner;if(r!=null){if(r.ref!==void 0&&(i=r.ref,l=Pw.current),r.key!==void 0&&(n=""+r.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(d in r)SE.call(r,d)&&!kE.hasOwnProperty(d)&&(a[d]=r[d]===void 0&&o!==void 0?o[d]:r[d])}var d=arguments.length-2;if(d===1)a.children=s;else if(1<d){o=Array(d);for(var c=0;c<d;c++)o[c]=arguments[c+2];a.children=o}return{$$typeof:M0,type:e.type,key:n,ref:i,props:a,_owner:l}};Yt.createContext=function(e){return e={$$typeof:_z,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Iz,_context:e},e.Consumer=e};Yt.createElement=CE;Yt.createFactory=function(e){var r=CE.bind(null,e);return r.type=e,r};Yt.createRef=function(){return{current:null}};Yt.forwardRef=function(e){return{$$typeof:Oz,render:e}};Yt.isValidElement=Aw;Yt.lazy=function(e){return{$$typeof:Lz,_payload:{_status:-1,_result:e},_init:$z}};Yt.memo=function(e,r){return{$$typeof:Mz,type:e,compare:r===void 0?null:r}};Yt.startTransition=function(e){var r=Ep.transition;Ep.transition={};try{e()}finally{Ep.transition=r}};Yt.unstable_act=PE;Yt.useCallback=function(e,r){return Ra.current.useCallback(e,r)};Yt.useContext=function(e){return Ra.current.useContext(e)};Yt.useDebugValue=function(){};Yt.useDeferredValue=function(e){return Ra.current.useDeferredValue(e)};Yt.useEffect=function(e,r){return Ra.current.useEffect(e,r)};Yt.useId=function(){return Ra.current.useId()};Yt.useImperativeHandle=function(e,r,s){return Ra.current.useImperativeHandle(e,r,s)};Yt.useInsertionEffect=function(e,r){return Ra.current.useInsertionEffect(e,r)};Yt.useLayoutEffect=function(e,r){return Ra.current.useLayoutEffect(e,r)};Yt.useMemo=function(e,r){return Ra.current.useMemo(e,r)};Yt.useReducer=function(e,r,s){return Ra.current.useReducer(e,r,s)};Yt.useRef=function(e){return Ra.current.useRef(e)};Yt.useState=function(e){return Ra.current.useState(e)};Yt.useSyncExternalStore=function(e,r,s){return Ra.current.useSyncExternalStore(e,r,s)};Yt.useTransition=function(){return Ra.current.useTransition()};Yt.version="18.3.1";bE.exports=Yt;var g=bE.exports;const _t=di(g),AE=Cz({__proto__:null,default:_t},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uz=g,Hz=Symbol.for("react.element"),Vz=Symbol.for("react.fragment"),Wz=Object.prototype.hasOwnProperty,Gz=Uz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qz={key:!0,ref:!0,__self:!0,__source:!0};function TE(e,r,s){var a,n={},i=null,l=null;s!==void 0&&(i=""+s),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(l=r.ref);for(a in r)Wz.call(r,a)&&!qz.hasOwnProperty(a)&&(n[a]=r[a]);if(e&&e.defaultProps)for(a in r=e.defaultProps,r)n[a]===void 0&&(n[a]=r[a]);return{$$typeof:Hz,type:e,key:i,ref:l,props:n,_owner:Gz.current}}ay.Fragment=Vz;ay.jsx=TE;ay.jsxs=TE;yE.exports=ay;var t=yE.exports,G1={},EE={exports:{}},Tn={},IE={exports:{}},_E={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(z,se){var K=z.length;z.push(se);e:for(;0<K;){var _=K-1>>>1,M=z[_];if(0<n(M,se))z[_]=se,z[K]=M,K=_;else break e}}function s(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var se=z[0],K=z.pop();if(K!==se){z[0]=K;e:for(var _=0,M=z.length,F=M>>>1;_<F;){var B=2*(_+1)-1,q=z[B],ae=B+1,V=z[ae];if(0>n(q,K))ae<M&&0>n(V,q)?(z[_]=V,z[ae]=K,_=ae):(z[_]=q,z[B]=K,_=B);else if(ae<M&&0>n(V,K))z[_]=V,z[ae]=K,_=ae;else break e}}return se}function n(z,se){var K=z.sortIndex-se.sortIndex;return K!==0?K:z.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var d=[],c=[],u=1,m=null,x=3,h=!1,p=!1,f=!1,b=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(z){for(var se=s(c);se!==null;){if(se.callback===null)a(c);else if(se.startTime<=z)a(c),se.sortIndex=se.expirationTime,r(d,se);else break;se=s(c)}}function v(z){if(f=!1,y(z),!p)if(s(d)!==null)p=!0,ce(N);else{var se=s(c);se!==null&&D(v,se.startTime-z)}}function N(z,se){p=!1,f&&(f=!1,j(P),P=-1),h=!0;var K=x;try{for(y(se),m=s(d);m!==null&&(!(m.expirationTime>se)||z&&!A());){var _=m.callback;if(typeof _=="function"){m.callback=null,x=m.priorityLevel;var M=_(m.expirationTime<=se);se=e.unstable_now(),typeof M=="function"?m.callback=M:m===s(d)&&a(d),y(se)}else a(d);m=s(d)}if(m!==null)var F=!0;else{var B=s(c);B!==null&&D(v,B.startTime-se),F=!1}return F}finally{m=null,x=K,h=!1}}var S=!1,k=null,P=-1,C=5,I=-1;function A(){return!(e.unstable_now()-I<C)}function O(){if(k!==null){var z=e.unstable_now();I=z;var se=!0;try{se=k(!0,z)}finally{se?R():(S=!1,k=null)}}else S=!1}var R;if(typeof w=="function")R=function(){w(O)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Y=Z.port2;Z.port1.onmessage=O,R=function(){Y.postMessage(null)}}else R=function(){b(O,0)};function ce(z){k=z,S||(S=!0,R())}function D(z,se){P=b(function(){z(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,ce(N))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function(z){switch(x){case 1:case 2:case 3:var se=3;break;default:se=x}var K=x;x=se;try{return z()}finally{x=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,se){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var K=x;x=z;try{return se()}finally{x=K}},e.unstable_scheduleCallback=function(z,se,K){var _=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?_+K:_):K=_,z){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=K+M,z={id:u++,callback:se,priorityLevel:z,startTime:K,expirationTime:M,sortIndex:-1},K>_?(z.sortIndex=K,r(c,z),s(d)===null&&z===s(c)&&(f?(j(P),P=-1):f=!0,D(v,K-_))):(z.sortIndex=M,r(d,z),p||h||(p=!0,ce(N))),z},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(z){var se=x;return function(){var K=x;x=se;try{return z.apply(this,arguments)}finally{x=K}}}})(_E);IE.exports=_E;var Kz=IE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yz=g,Sn=Kz;function rt(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OE=new Set,$h={};function Sd(e,r){$u(e,r),$u(e+"Capture",r)}function $u(e,r){for($h[e]=r,e=0;e<r.length;e++)OE.add(r[e])}var _l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),q1=Object.prototype.hasOwnProperty,Xz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Y5={},X5={};function Jz(e){return q1.call(X5,e)?!0:q1.call(Y5,e)?!1:Xz.test(e)?X5[e]=!0:(Y5[e]=!0,!1)}function Qz(e,r,s,a){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Zz(e,r,s,a){if(r===null||typeof r>"u"||Qz(e,r,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Ba(e,r,s,a,n,i,l){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=r,this.sanitizeURL=i,this.removeEmptyString=l}var ia={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ia[e]=new Ba(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];ia[r]=new Ba(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ia[e]=new Ba(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ia[e]=new Ba(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ia[e]=new Ba(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ia[e]=new Ba(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ia[e]=new Ba(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ia[e]=new Ba(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ia[e]=new Ba(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tw=/[\-:]([a-z])/g;function Ew(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(Tw,Ew);ia[r]=new Ba(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(Tw,Ew);ia[r]=new Ba(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(Tw,Ew);ia[r]=new Ba(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ia[e]=new Ba(e,1,!1,e.toLowerCase(),null,!1,!1)});ia.xlinkHref=new Ba("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ia[e]=new Ba(e,1,!1,e.toLowerCase(),null,!0,!0)});function Iw(e,r,s,a){var n=ia.hasOwnProperty(r)?ia[r]:null;(n!==null?n.type!==0:a||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Zz(r,s,n,a)&&(s=null),a||n===null?Jz(r)&&(s===null?e.removeAttribute(r):e.setAttribute(r,""+s)):n.mustUseProperty?e[n.propertyName]=s===null?n.type===3?!1:"":s:(r=n.attributeName,a=n.attributeNamespace,s===null?e.removeAttribute(r):(n=n.type,s=n===3||n===4&&s===!0?"":""+s,a?e.setAttributeNS(a,r,s):e.setAttribute(r,s))))}var Xl=Yz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_x=Symbol.for("react.element"),eu=Symbol.for("react.portal"),tu=Symbol.for("react.fragment"),_w=Symbol.for("react.strict_mode"),K1=Symbol.for("react.profiler"),DE=Symbol.for("react.provider"),ME=Symbol.for("react.context"),Ow=Symbol.for("react.forward_ref"),Y1=Symbol.for("react.suspense"),X1=Symbol.for("react.suspense_list"),Dw=Symbol.for("react.memo"),bo=Symbol.for("react.lazy"),LE=Symbol.for("react.offscreen"),J5=Symbol.iterator;function Rm(e){return e===null||typeof e!="object"?null:(e=J5&&e[J5]||e["@@iterator"],typeof e=="function"?e:null)}var Jr=Object.assign,iv;function dh(e){if(iv===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);iv=r&&r[1]||""}return`
`+iv+e}var lv=!1;function ov(e,r){if(!e||lv)return"";lv=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(c){var a=c}Reflect.construct(e,[],r)}else{try{r.call()}catch(c){a=c}e.call(r.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&typeof c.stack=="string"){for(var n=c.stack.split(`
`),i=a.stack.split(`
`),l=n.length-1,o=i.length-1;1<=l&&0<=o&&n[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(n[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||n[l]!==i[o]){var d=`
`+n[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=o);break}}}finally{lv=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?dh(e):""}function eU(e){switch(e.tag){case 5:return dh(e.type);case 16:return dh("Lazy");case 13:return dh("Suspense");case 19:return dh("SuspenseList");case 0:case 2:case 15:return e=ov(e.type,!1),e;case 11:return e=ov(e.type.render,!1),e;case 1:return e=ov(e.type,!0),e;default:return""}}function J1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tu:return"Fragment";case eu:return"Portal";case K1:return"Profiler";case _w:return"StrictMode";case Y1:return"Suspense";case X1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ME:return(e.displayName||"Context")+".Consumer";case DE:return(e._context.displayName||"Context")+".Provider";case Ow:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dw:return r=e.displayName||null,r!==null?r:J1(e.type)||"Memo";case bo:r=e._payload,e=e._init;try{return J1(e(r))}catch{}}return null}function tU(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J1(r);case 8:return r===_w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Ko(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function FE(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function rU(e){var r=FE(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),a=""+e[r];if(!e.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,i=s.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return n.call(this)},set:function(l){a=""+l,i.call(this,l)}}),Object.defineProperty(e,r,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Ox(e){e._valueTracker||(e._valueTracker=rU(e))}function RE(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var s=r.getValue(),a="";return e&&(a=FE(e)?e.checked?"true":"false":e.value),e=a,e!==s?(r.setValue(e),!0):!1}function ef(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Q1(e,r){var s=r.checked;return Jr({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Q5(e,r){var s=r.defaultValue==null?"":r.defaultValue,a=r.checked!=null?r.checked:r.defaultChecked;s=Ko(r.value!=null?r.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function BE(e,r){r=r.checked,r!=null&&Iw(e,"checked",r,!1)}function Z1(e,r){BE(e,r);var s=Ko(r.value),a=r.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?e2(e,r.type,s):r.hasOwnProperty("defaultValue")&&e2(e,r.type,Ko(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function Z5(e,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var a=r.type;if(!(a!=="submit"&&a!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,s||r===e.value||(e.value=r),e.defaultValue=r}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function e2(e,r,s){(r!=="number"||ef(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var uh=Array.isArray;function ju(e,r,s,a){if(e=e.options,r){r={};for(var n=0;n<s.length;n++)r["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=r.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&a&&(e[s].defaultSelected=!0)}else{for(s=""+Ko(s),r=null,n=0;n<e.length;n++){if(e[n].value===s){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}r!==null||e[n].disabled||(r=e[n])}r!==null&&(r.selected=!0)}}function t2(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(rt(91));return Jr({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eS(e,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(rt(92));if(uh(s)){if(1<s.length)throw Error(rt(93));s=s[0]}r=s}r==null&&(r=""),s=r}e._wrapperState={initialValue:Ko(s)}}function $E(e,r){var s=Ko(r.value),a=Ko(r.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),r.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function tS(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function zE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function r2(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?zE(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dx,UE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,a,n){MSApp.execUnsafeLocalFunction(function(){return e(r,s,a,n)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(Dx=Dx||document.createElement("div"),Dx.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Dx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function zh(e,r){if(r){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=r;return}}e.textContent=r}var yh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sU=["Webkit","ms","Moz","O"];Object.keys(yh).forEach(function(e){sU.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),yh[r]=yh[e]})});function HE(e,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||yh.hasOwnProperty(e)&&yh[e]?(""+r).trim():r+"px"}function VE(e,r){e=e.style;for(var s in r)if(r.hasOwnProperty(s)){var a=s.indexOf("--")===0,n=HE(s,r[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,n):e[s]=n}}var aU=Jr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function s2(e,r){if(r){if(aU[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(rt(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(rt(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(rt(61))}if(r.style!=null&&typeof r.style!="object")throw Error(rt(62))}}function a2(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n2=null;function Mw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var i2=null,wu=null,Nu=null;function rS(e){if(e=R0(e)){if(typeof i2!="function")throw Error(rt(280));var r=e.stateNode;r&&(r=cy(r),i2(e.stateNode,e.type,r))}}function WE(e){wu?Nu?Nu.push(e):Nu=[e]:wu=e}function GE(){if(wu){var e=wu,r=Nu;if(Nu=wu=null,rS(e),r)for(e=0;e<r.length;e++)rS(r[e])}}function qE(e,r){return e(r)}function KE(){}var cv=!1;function YE(e,r,s){if(cv)return e(r,s);cv=!0;try{return qE(e,r,s)}finally{cv=!1,(wu!==null||Nu!==null)&&(KE(),GE())}}function Uh(e,r){var s=e.stateNode;if(s===null)return null;var a=cy(s);if(a===null)return null;s=a[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(rt(231,r,typeof s));return s}var l2=!1;if(_l)try{var Bm={};Object.defineProperty(Bm,"passive",{get:function(){l2=!0}}),window.addEventListener("test",Bm,Bm),window.removeEventListener("test",Bm,Bm)}catch{l2=!1}function nU(e,r,s,a,n,i,l,o,d){var c=Array.prototype.slice.call(arguments,3);try{r.apply(s,c)}catch(u){this.onError(u)}}var bh=!1,tf=null,rf=!1,o2=null,iU={onError:function(e){bh=!0,tf=e}};function lU(e,r,s,a,n,i,l,o,d){bh=!1,tf=null,nU.apply(iU,arguments)}function oU(e,r,s,a,n,i,l,o,d){if(lU.apply(this,arguments),bh){if(bh){var c=tf;bh=!1,tf=null}else throw Error(rt(198));rf||(rf=!0,o2=c)}}function kd(e){var r=e,s=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(s=r.return),e=r.return;while(e)}return r.tag===3?s:null}function XE(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function sS(e){if(kd(e)!==e)throw Error(rt(188))}function cU(e){var r=e.alternate;if(!r){if(r=kd(e),r===null)throw Error(rt(188));return r!==e?null:e}for(var s=e,a=r;;){var n=s.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){s=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===s)return sS(n),e;if(i===a)return sS(n),r;i=i.sibling}throw Error(rt(188))}if(s.return!==a.return)s=n,a=i;else{for(var l=!1,o=n.child;o;){if(o===s){l=!0,s=n,a=i;break}if(o===a){l=!0,a=n,s=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===s){l=!0,s=i,a=n;break}if(o===a){l=!0,a=i,s=n;break}o=o.sibling}if(!l)throw Error(rt(189))}}if(s.alternate!==a)throw Error(rt(190))}if(s.tag!==3)throw Error(rt(188));return s.stateNode.current===s?e:r}function JE(e){return e=cU(e),e!==null?QE(e):null}function QE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=QE(e);if(r!==null)return r;e=e.sibling}return null}var ZE=Sn.unstable_scheduleCallback,aS=Sn.unstable_cancelCallback,dU=Sn.unstable_shouldYield,uU=Sn.unstable_requestPaint,ms=Sn.unstable_now,mU=Sn.unstable_getCurrentPriorityLevel,Lw=Sn.unstable_ImmediatePriority,e7=Sn.unstable_UserBlockingPriority,sf=Sn.unstable_NormalPriority,hU=Sn.unstable_LowPriority,t7=Sn.unstable_IdlePriority,ny=null,Ki=null;function xU(e){if(Ki&&typeof Ki.onCommitFiberRoot=="function")try{Ki.onCommitFiberRoot(ny,e,void 0,(e.current.flags&128)===128)}catch{}}var Pi=Math.clz32?Math.clz32:gU,pU=Math.log,fU=Math.LN2;function gU(e){return e>>>=0,e===0?32:31-(pU(e)/fU|0)|0}var Mx=64,Lx=4194304;function mh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function af(e,r){var s=e.pendingLanes;if(s===0)return 0;var a=0,n=e.suspendedLanes,i=e.pingedLanes,l=s&268435455;if(l!==0){var o=l&~n;o!==0?a=mh(o):(i&=l,i!==0&&(a=mh(i)))}else l=s&~n,l!==0?a=mh(l):i!==0&&(a=mh(i));if(a===0)return 0;if(r!==0&&r!==a&&!(r&n)&&(n=a&-a,i=r&-r,n>=i||n===16&&(i&4194240)!==0))return r;if(a&4&&(a|=s&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=a;0<r;)s=31-Pi(r),n=1<<s,a|=e[s],r&=~n;return a}function yU(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bU(e,r){for(var s=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Pi(i),o=1<<l,d=n[l];d===-1?(!(o&s)||o&a)&&(n[l]=yU(o,r)):d<=r&&(e.expiredLanes|=o),i&=~o}}function c2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function r7(){var e=Mx;return Mx<<=1,!(Mx&4194240)&&(Mx=64),e}function dv(e){for(var r=[],s=0;31>s;s++)r.push(e);return r}function L0(e,r,s){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Pi(r),e[r]=s}function vU(e,r){var s=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-Pi(s),i=1<<n;r[n]=0,a[n]=-1,e[n]=-1,s&=~i}}function Fw(e,r){var s=e.entangledLanes|=r;for(e=e.entanglements;s;){var a=31-Pi(s),n=1<<a;n&r|e[a]&r&&(e[a]|=r),s&=~n}}var fr=0;function s7(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var a7,Rw,n7,i7,l7,d2=!1,Fx=[],Oo=null,Do=null,Mo=null,Hh=new Map,Vh=new Map,So=[],jU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nS(e,r){switch(e){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":Do=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":Hh.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vh.delete(r.pointerId)}}function $m(e,r,s,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:r,domEventName:s,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},r!==null&&(r=R0(r),r!==null&&Rw(r)),e):(e.eventSystemFlags|=a,r=e.targetContainers,n!==null&&r.indexOf(n)===-1&&r.push(n),e)}function wU(e,r,s,a,n){switch(r){case"focusin":return Oo=$m(Oo,e,r,s,a,n),!0;case"dragenter":return Do=$m(Do,e,r,s,a,n),!0;case"mouseover":return Mo=$m(Mo,e,r,s,a,n),!0;case"pointerover":var i=n.pointerId;return Hh.set(i,$m(Hh.get(i)||null,e,r,s,a,n)),!0;case"gotpointercapture":return i=n.pointerId,Vh.set(i,$m(Vh.get(i)||null,e,r,s,a,n)),!0}return!1}function o7(e){var r=Ec(e.target);if(r!==null){var s=kd(r);if(s!==null){if(r=s.tag,r===13){if(r=XE(s),r!==null){e.blockedOn=r,l7(e.priority,function(){n7(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ip(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var s=u2(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);n2=a,s.target.dispatchEvent(a),n2=null}else return r=R0(s),r!==null&&Rw(r),e.blockedOn=s,!1;r.shift()}return!0}function iS(e,r,s){Ip(e)&&s.delete(r)}function NU(){d2=!1,Oo!==null&&Ip(Oo)&&(Oo=null),Do!==null&&Ip(Do)&&(Do=null),Mo!==null&&Ip(Mo)&&(Mo=null),Hh.forEach(iS),Vh.forEach(iS)}function zm(e,r){e.blockedOn===r&&(e.blockedOn=null,d2||(d2=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,NU)))}function Wh(e){function r(n){return zm(n,e)}if(0<Fx.length){zm(Fx[0],e);for(var s=1;s<Fx.length;s++){var a=Fx[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Oo!==null&&zm(Oo,e),Do!==null&&zm(Do,e),Mo!==null&&zm(Mo,e),Hh.forEach(r),Vh.forEach(r),s=0;s<So.length;s++)a=So[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<So.length&&(s=So[0],s.blockedOn===null);)o7(s),s.blockedOn===null&&So.shift()}var Su=Xl.ReactCurrentBatchConfig,nf=!0;function SU(e,r,s,a){var n=fr,i=Su.transition;Su.transition=null;try{fr=1,Bw(e,r,s,a)}finally{fr=n,Su.transition=i}}function kU(e,r,s,a){var n=fr,i=Su.transition;Su.transition=null;try{fr=4,Bw(e,r,s,a)}finally{fr=n,Su.transition=i}}function Bw(e,r,s,a){if(nf){var n=u2(e,r,s,a);if(n===null)vv(e,r,a,lf,s),nS(e,a);else if(wU(n,e,r,s,a))a.stopPropagation();else if(nS(e,a),r&4&&-1<jU.indexOf(e)){for(;n!==null;){var i=R0(n);if(i!==null&&a7(i),i=u2(e,r,s,a),i===null&&vv(e,r,a,lf,s),i===n)break;n=i}n!==null&&a.stopPropagation()}else vv(e,r,a,null,s)}}var lf=null;function u2(e,r,s,a){if(lf=null,e=Mw(a),e=Ec(e),e!==null)if(r=kd(e),r===null)e=null;else if(s=r.tag,s===13){if(e=XE(r),e!==null)return e;e=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return lf=e,null}function c7(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mU()){case Lw:return 1;case e7:return 4;case sf:case hU:return 16;case t7:return 536870912;default:return 16}default:return 16}}var Po=null,$w=null,_p=null;function d7(){if(_p)return _p;var e,r=$w,s=r.length,a,n="value"in Po?Po.value:Po.textContent,i=n.length;for(e=0;e<s&&r[e]===n[e];e++);var l=s-e;for(a=1;a<=l&&r[s-a]===n[i-a];a++);return _p=n.slice(e,1<a?1-a:void 0)}function Op(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Rx(){return!0}function lS(){return!1}function En(e){function r(s,a,n,i,l){this._reactName=s,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rx:lS,this.isPropagationStopped=lS,this}return Jr(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Rx)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Rx)},persist:function(){},isPersistent:Rx}),r}var mm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zw=En(mm),F0=Jr({},mm,{view:0,detail:0}),CU=En(F0),uv,mv,Um,iy=Jr({},F0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Um&&(Um&&e.type==="mousemove"?(uv=e.screenX-Um.screenX,mv=e.screenY-Um.screenY):mv=uv=0,Um=e),uv)},movementY:function(e){return"movementY"in e?e.movementY:mv}}),oS=En(iy),PU=Jr({},iy,{dataTransfer:0}),AU=En(PU),TU=Jr({},F0,{relatedTarget:0}),hv=En(TU),EU=Jr({},mm,{animationName:0,elapsedTime:0,pseudoElement:0}),IU=En(EU),_U=Jr({},mm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),OU=En(_U),DU=Jr({},mm,{data:0}),cS=En(DU),MU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RU(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=FU[e])?!!r[e]:!1}function Uw(){return RU}var BU=Jr({},F0,{key:function(e){if(e.key){var r=MU[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Op(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uw,charCode:function(e){return e.type==="keypress"?Op(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Op(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$U=En(BU),zU=Jr({},iy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dS=En(zU),UU=Jr({},F0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uw}),HU=En(UU),VU=Jr({},mm,{propertyName:0,elapsedTime:0,pseudoElement:0}),WU=En(VU),GU=Jr({},iy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qU=En(GU),KU=[9,13,27,32],Hw=_l&&"CompositionEvent"in window,vh=null;_l&&"documentMode"in document&&(vh=document.documentMode);var YU=_l&&"TextEvent"in window&&!vh,u7=_l&&(!Hw||vh&&8<vh&&11>=vh),uS=" ",mS=!1;function m7(e,r){switch(e){case"keyup":return KU.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h7(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ru=!1;function XU(e,r){switch(e){case"compositionend":return h7(r);case"keypress":return r.which!==32?null:(mS=!0,uS);case"textInput":return e=r.data,e===uS&&mS?null:e;default:return null}}function JU(e,r){if(ru)return e==="compositionend"||!Hw&&m7(e,r)?(e=d7(),_p=$w=Po=null,ru=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return u7&&r.locale!=="ko"?null:r.data;default:return null}}var QU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hS(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!QU[e.type]:r==="textarea"}function x7(e,r,s,a){WE(a),r=of(r,"onChange"),0<r.length&&(s=new zw("onChange","change",null,s,a),e.push({event:s,listeners:r}))}var jh=null,Gh=null;function ZU(e){k7(e,0)}function ly(e){var r=nu(e);if(RE(r))return e}function eH(e,r){if(e==="change")return r}var p7=!1;if(_l){var xv;if(_l){var pv="oninput"in document;if(!pv){var xS=document.createElement("div");xS.setAttribute("oninput","return;"),pv=typeof xS.oninput=="function"}xv=pv}else xv=!1;p7=xv&&(!document.documentMode||9<document.documentMode)}function pS(){jh&&(jh.detachEvent("onpropertychange",f7),Gh=jh=null)}function f7(e){if(e.propertyName==="value"&&ly(Gh)){var r=[];x7(r,Gh,e,Mw(e)),YE(ZU,r)}}function tH(e,r,s){e==="focusin"?(pS(),jh=r,Gh=s,jh.attachEvent("onpropertychange",f7)):e==="focusout"&&pS()}function rH(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ly(Gh)}function sH(e,r){if(e==="click")return ly(r)}function aH(e,r){if(e==="input"||e==="change")return ly(r)}function nH(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Ii=typeof Object.is=="function"?Object.is:nH;function qh(e,r){if(Ii(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var s=Object.keys(e),a=Object.keys(r);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var n=s[a];if(!q1.call(r,n)||!Ii(e[n],r[n]))return!1}return!0}function fS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gS(e,r){var s=fS(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=r&&a>=r)return{node:s,offset:r-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=fS(s)}}function g7(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?g7(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function y7(){for(var e=window,r=ef();r instanceof e.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)e=r.contentWindow;else break;r=ef(e.document)}return r}function Vw(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function iH(e){var r=y7(),s=e.focusedElem,a=e.selectionRange;if(r!==s&&s&&s.ownerDocument&&g7(s.ownerDocument.documentElement,s)){if(a!==null&&Vw(s)){if(r=a.start,e=a.end,e===void 0&&(e=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(e,s.value.length);else if(e=(r=s.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var n=s.textContent.length,i=Math.min(a.start,n);a=a.end===void 0?i:Math.min(a.end,n),!e.extend&&i>a&&(n=a,a=i,i=n),n=gS(s,i);var l=gS(s,a);n&&l&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(r=r.createRange(),r.setStart(n.node,n.offset),e.removeAllRanges(),i>a?(e.addRange(r),e.extend(l.node,l.offset)):(r.setEnd(l.node,l.offset),e.addRange(r)))}}for(r=[],e=s;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)e=r[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lH=_l&&"documentMode"in document&&11>=document.documentMode,su=null,m2=null,wh=null,h2=!1;function yS(e,r,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;h2||su==null||su!==ef(a)||(a=su,"selectionStart"in a&&Vw(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),wh&&qh(wh,a)||(wh=a,a=of(m2,"onSelect"),0<a.length&&(r=new zw("onSelect","select",null,r,s),e.push({event:r,listeners:a}),r.target=su)))}function Bx(e,r){var s={};return s[e.toLowerCase()]=r.toLowerCase(),s["Webkit"+e]="webkit"+r,s["Moz"+e]="moz"+r,s}var au={animationend:Bx("Animation","AnimationEnd"),animationiteration:Bx("Animation","AnimationIteration"),animationstart:Bx("Animation","AnimationStart"),transitionend:Bx("Transition","TransitionEnd")},fv={},b7={};_l&&(b7=document.createElement("div").style,"AnimationEvent"in window||(delete au.animationend.animation,delete au.animationiteration.animation,delete au.animationstart.animation),"TransitionEvent"in window||delete au.transitionend.transition);function oy(e){if(fv[e])return fv[e];if(!au[e])return e;var r=au[e],s;for(s in r)if(r.hasOwnProperty(s)&&s in b7)return fv[e]=r[s];return e}var v7=oy("animationend"),j7=oy("animationiteration"),w7=oy("animationstart"),N7=oy("transitionend"),S7=new Map,bS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lc(e,r){S7.set(e,r),Sd(r,[e])}for(var gv=0;gv<bS.length;gv++){var yv=bS[gv],oH=yv.toLowerCase(),cH=yv[0].toUpperCase()+yv.slice(1);lc(oH,"on"+cH)}lc(v7,"onAnimationEnd");lc(j7,"onAnimationIteration");lc(w7,"onAnimationStart");lc("dblclick","onDoubleClick");lc("focusin","onFocus");lc("focusout","onBlur");lc(N7,"onTransitionEnd");$u("onMouseEnter",["mouseout","mouseover"]);$u("onMouseLeave",["mouseout","mouseover"]);$u("onPointerEnter",["pointerout","pointerover"]);$u("onPointerLeave",["pointerout","pointerover"]);Sd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dH=new Set("cancel close invalid load scroll toggle".split(" ").concat(hh));function vS(e,r,s){var a=e.type||"unknown-event";e.currentTarget=s,oU(a,r,void 0,e),e.currentTarget=null}function k7(e,r){r=(r&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],n=a.event;a=a.listeners;e:{var i=void 0;if(r)for(var l=a.length-1;0<=l;l--){var o=a[l],d=o.instance,c=o.currentTarget;if(o=o.listener,d!==i&&n.isPropagationStopped())break e;vS(n,o,c),i=d}else for(l=0;l<a.length;l++){if(o=a[l],d=o.instance,c=o.currentTarget,o=o.listener,d!==i&&n.isPropagationStopped())break e;vS(n,o,c),i=d}}}if(rf)throw e=o2,rf=!1,o2=null,e}function _r(e,r){var s=r[y2];s===void 0&&(s=r[y2]=new Set);var a=e+"__bubble";s.has(a)||(C7(r,e,2,!1),s.add(a))}function bv(e,r,s){var a=0;r&&(a|=4),C7(s,e,a,r)}var $x="_reactListening"+Math.random().toString(36).slice(2);function Kh(e){if(!e[$x]){e[$x]=!0,OE.forEach(function(s){s!=="selectionchange"&&(dH.has(s)||bv(s,!1,e),bv(s,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[$x]||(r[$x]=!0,bv("selectionchange",!1,r))}}function C7(e,r,s,a){switch(c7(r)){case 1:var n=SU;break;case 4:n=kU;break;default:n=Bw}s=n.bind(null,r,s,e),n=void 0,!l2||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(r,s,{capture:!0,passive:n}):e.addEventListener(r,s,!0):n!==void 0?e.addEventListener(r,s,{passive:n}):e.addEventListener(r,s,!1)}function vv(e,r,s,a,n){var i=a;if(!(r&1)&&!(r&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var o=a.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(l===4)for(l=a.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===n||d.nodeType===8&&d.parentNode===n))return;l=l.return}for(;o!==null;){if(l=Ec(o),l===null)return;if(d=l.tag,d===5||d===6){a=i=l;continue e}o=o.parentNode}}a=a.return}YE(function(){var c=i,u=Mw(s),m=[];e:{var x=S7.get(e);if(x!==void 0){var h=zw,p=e;switch(e){case"keypress":if(Op(s)===0)break e;case"keydown":case"keyup":h=$U;break;case"focusin":p="focus",h=hv;break;case"focusout":p="blur",h=hv;break;case"beforeblur":case"afterblur":h=hv;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=oS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=AU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=HU;break;case v7:case j7:case w7:h=IU;break;case N7:h=WU;break;case"scroll":h=CU;break;case"wheel":h=qU;break;case"copy":case"cut":case"paste":h=OU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=dS}var f=(r&4)!==0,b=!f&&e==="scroll",j=f?x!==null?x+"Capture":null:x;f=[];for(var w=c,y;w!==null;){y=w;var v=y.stateNode;if(y.tag===5&&v!==null&&(y=v,j!==null&&(v=Uh(w,j),v!=null&&f.push(Yh(w,v,y)))),b)break;w=w.return}0<f.length&&(x=new h(x,p,null,s,u),m.push({event:x,listeners:f}))}}if(!(r&7)){e:{if(x=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",x&&s!==n2&&(p=s.relatedTarget||s.fromElement)&&(Ec(p)||p[Ol]))break e;if((h||x)&&(x=u.window===u?u:(x=u.ownerDocument)?x.defaultView||x.parentWindow:window,h?(p=s.relatedTarget||s.toElement,h=c,p=p?Ec(p):null,p!==null&&(b=kd(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(f=oS,v="onMouseLeave",j="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(f=dS,v="onPointerLeave",j="onPointerEnter",w="pointer"),b=h==null?x:nu(h),y=p==null?x:nu(p),x=new f(v,w+"leave",h,s,u),x.target=b,x.relatedTarget=y,v=null,Ec(u)===c&&(f=new f(j,w+"enter",p,s,u),f.target=y,f.relatedTarget=b,v=f),b=v,h&&p)t:{for(f=h,j=p,w=0,y=f;y;y=Vd(y))w++;for(y=0,v=j;v;v=Vd(v))y++;for(;0<w-y;)f=Vd(f),w--;for(;0<y-w;)j=Vd(j),y--;for(;w--;){if(f===j||j!==null&&f===j.alternate)break t;f=Vd(f),j=Vd(j)}f=null}else f=null;h!==null&&jS(m,x,h,f,!1),p!==null&&b!==null&&jS(m,b,p,f,!0)}}e:{if(x=c?nu(c):window,h=x.nodeName&&x.nodeName.toLowerCase(),h==="select"||h==="input"&&x.type==="file")var N=eH;else if(hS(x))if(p7)N=aH;else{N=rH;var S=tH}else(h=x.nodeName)&&h.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(N=sH);if(N&&(N=N(e,c))){x7(m,N,s,u);break e}S&&S(e,x,c),e==="focusout"&&(S=x._wrapperState)&&S.controlled&&x.type==="number"&&e2(x,"number",x.value)}switch(S=c?nu(c):window,e){case"focusin":(hS(S)||S.contentEditable==="true")&&(su=S,m2=c,wh=null);break;case"focusout":wh=m2=su=null;break;case"mousedown":h2=!0;break;case"contextmenu":case"mouseup":case"dragend":h2=!1,yS(m,s,u);break;case"selectionchange":if(lH)break;case"keydown":case"keyup":yS(m,s,u)}var k;if(Hw)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ru?m7(e,s)&&(P="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(P="onCompositionStart");P&&(u7&&s.locale!=="ko"&&(ru||P!=="onCompositionStart"?P==="onCompositionEnd"&&ru&&(k=d7()):(Po=u,$w="value"in Po?Po.value:Po.textContent,ru=!0)),S=of(c,P),0<S.length&&(P=new cS(P,e,null,s,u),m.push({event:P,listeners:S}),k?P.data=k:(k=h7(s),k!==null&&(P.data=k)))),(k=YU?XU(e,s):JU(e,s))&&(c=of(c,"onBeforeInput"),0<c.length&&(u=new cS("onBeforeInput","beforeinput",null,s,u),m.push({event:u,listeners:c}),u.data=k))}k7(m,r)})}function Yh(e,r,s){return{instance:e,listener:r,currentTarget:s}}function of(e,r){for(var s=r+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=Uh(e,s),i!=null&&a.unshift(Yh(e,i,n)),i=Uh(e,r),i!=null&&a.push(Yh(e,i,n))),e=e.return}return a}function Vd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jS(e,r,s,a,n){for(var i=r._reactName,l=[];s!==null&&s!==a;){var o=s,d=o.alternate,c=o.stateNode;if(d!==null&&d===a)break;o.tag===5&&c!==null&&(o=c,n?(d=Uh(s,i),d!=null&&l.unshift(Yh(s,d,o))):n||(d=Uh(s,i),d!=null&&l.push(Yh(s,d,o)))),s=s.return}l.length!==0&&e.push({event:r,listeners:l})}var uH=/\r\n?/g,mH=/\u0000|\uFFFD/g;function wS(e){return(typeof e=="string"?e:""+e).replace(uH,`
`).replace(mH,"")}function zx(e,r,s){if(r=wS(r),wS(e)!==r&&s)throw Error(rt(425))}function cf(){}var x2=null,p2=null;function f2(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var g2=typeof setTimeout=="function"?setTimeout:void 0,hH=typeof clearTimeout=="function"?clearTimeout:void 0,NS=typeof Promise=="function"?Promise:void 0,xH=typeof queueMicrotask=="function"?queueMicrotask:typeof NS<"u"?function(e){return NS.resolve(null).then(e).catch(pH)}:g2;function pH(e){setTimeout(function(){throw e})}function jv(e,r){var s=r,a=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(a===0){e.removeChild(n),Wh(r);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=n}while(s);Wh(r)}function Lo(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function SS(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return e;r--}else s==="/$"&&r++}e=e.previousSibling}return null}var hm=Math.random().toString(36).slice(2),Ui="__reactFiber$"+hm,Xh="__reactProps$"+hm,Ol="__reactContainer$"+hm,y2="__reactEvents$"+hm,fH="__reactListeners$"+hm,gH="__reactHandles$"+hm;function Ec(e){var r=e[Ui];if(r)return r;for(var s=e.parentNode;s;){if(r=s[Ol]||s[Ui]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(e=SS(e);e!==null;){if(s=e[Ui])return s;e=SS(e)}return r}e=s,s=e.parentNode}return null}function R0(e){return e=e[Ui]||e[Ol],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(rt(33))}function cy(e){return e[Xh]||null}var b2=[],iu=-1;function oc(e){return{current:e}}function Mr(e){0>iu||(e.current=b2[iu],b2[iu]=null,iu--)}function Cr(e,r){iu++,b2[iu]=e.current,e.current=r}var Yo={},wa=oc(Yo),Ga=oc(!1),td=Yo;function zu(e,r){var s=e.type.contextTypes;if(!s)return Yo;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===r)return a.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in s)n[i]=r[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=n),n}function qa(e){return e=e.childContextTypes,e!=null}function df(){Mr(Ga),Mr(wa)}function kS(e,r,s){if(wa.current!==Yo)throw Error(rt(168));Cr(wa,r),Cr(Ga,s)}function P7(e,r,s){var a=e.stateNode;if(r=r.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var n in a)if(!(n in r))throw Error(rt(108,tU(e)||"Unknown",n));return Jr({},s,a)}function uf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yo,td=wa.current,Cr(wa,e),Cr(Ga,Ga.current),!0}function CS(e,r,s){var a=e.stateNode;if(!a)throw Error(rt(169));s?(e=P7(e,r,td),a.__reactInternalMemoizedMergedChildContext=e,Mr(Ga),Mr(wa),Cr(wa,e)):Mr(Ga),Cr(Ga,s)}var ul=null,dy=!1,wv=!1;function A7(e){ul===null?ul=[e]:ul.push(e)}function yH(e){dy=!0,A7(e)}function cc(){if(!wv&&ul!==null){wv=!0;var e=0,r=fr;try{var s=ul;for(fr=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}ul=null,dy=!1}catch(n){throw ul!==null&&(ul=ul.slice(e+1)),ZE(Lw,cc),n}finally{fr=r,wv=!1}}return null}var lu=[],ou=0,mf=null,hf=0,qn=[],Kn=0,rd=null,xl=1,pl="";function vc(e,r){lu[ou++]=hf,lu[ou++]=mf,mf=e,hf=r}function T7(e,r,s){qn[Kn++]=xl,qn[Kn++]=pl,qn[Kn++]=rd,rd=e;var a=xl;e=pl;var n=32-Pi(a)-1;a&=~(1<<n),s+=1;var i=32-Pi(r)+n;if(30<i){var l=n-n%5;i=(a&(1<<l)-1).toString(32),a>>=l,n-=l,xl=1<<32-Pi(r)+n|s<<n|a,pl=i+e}else xl=1<<i|s<<n|a,pl=e}function Ww(e){e.return!==null&&(vc(e,1),T7(e,1,0))}function Gw(e){for(;e===mf;)mf=lu[--ou],lu[ou]=null,hf=lu[--ou],lu[ou]=null;for(;e===rd;)rd=qn[--Kn],qn[Kn]=null,pl=qn[--Kn],qn[Kn]=null,xl=qn[--Kn],qn[Kn]=null}var vn=null,bn=null,Ur=!1,ji=null;function E7(e,r){var s=Xn(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=e,r=e.deletions,r===null?(e.deletions=[s],e.flags|=16):r.push(s)}function PS(e,r){switch(e.tag){case 5:var s=e.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,vn=e,bn=Lo(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,vn=e,bn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=rd!==null?{id:xl,overflow:pl}:null,e.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=Xn(18,null,null,0),s.stateNode=r,s.return=e,e.child=s,vn=e,bn=null,!0):!1;default:return!1}}function v2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function j2(e){if(Ur){var r=bn;if(r){var s=r;if(!PS(e,r)){if(v2(e))throw Error(rt(418));r=Lo(s.nextSibling);var a=vn;r&&PS(e,r)?E7(a,s):(e.flags=e.flags&-4097|2,Ur=!1,vn=e)}}else{if(v2(e))throw Error(rt(418));e.flags=e.flags&-4097|2,Ur=!1,vn=e}}}function AS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vn=e}function Ux(e){if(e!==vn)return!1;if(!Ur)return AS(e),Ur=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!f2(e.type,e.memoizedProps)),r&&(r=bn)){if(v2(e))throw I7(),Error(rt(418));for(;r;)E7(e,r),r=Lo(r.nextSibling)}if(AS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(rt(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(r===0){bn=Lo(e.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}e=e.nextSibling}bn=null}}else bn=vn?Lo(e.stateNode.nextSibling):null;return!0}function I7(){for(var e=bn;e;)e=Lo(e.nextSibling)}function Uu(){bn=vn=null,Ur=!1}function qw(e){ji===null?ji=[e]:ji.push(e)}var bH=Xl.ReactCurrentBatchConfig;function Hm(e,r,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(rt(309));var a=s.stateNode}if(!a)throw Error(rt(147,e));var n=a,i=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===i?r.ref:(r=function(l){var o=n.refs;l===null?delete o[i]:o[i]=l},r._stringRef=i,r)}if(typeof e!="string")throw Error(rt(284));if(!s._owner)throw Error(rt(290,e))}return e}function Hx(e,r){throw e=Object.prototype.toString.call(r),Error(rt(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function TS(e){var r=e._init;return r(e._payload)}function _7(e){function r(j,w){if(e){var y=j.deletions;y===null?(j.deletions=[w],j.flags|=16):y.push(w)}}function s(j,w){if(!e)return null;for(;w!==null;)r(j,w),w=w.sibling;return null}function a(j,w){for(j=new Map;w!==null;)w.key!==null?j.set(w.key,w):j.set(w.index,w),w=w.sibling;return j}function n(j,w){return j=$o(j,w),j.index=0,j.sibling=null,j}function i(j,w,y){return j.index=y,e?(y=j.alternate,y!==null?(y=y.index,y<w?(j.flags|=2,w):y):(j.flags|=2,w)):(j.flags|=1048576,w)}function l(j){return e&&j.alternate===null&&(j.flags|=2),j}function o(j,w,y,v){return w===null||w.tag!==6?(w=Tv(y,j.mode,v),w.return=j,w):(w=n(w,y),w.return=j,w)}function d(j,w,y,v){var N=y.type;return N===tu?u(j,w,y.props.children,v,y.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===bo&&TS(N)===w.type)?(v=n(w,y.props),v.ref=Hm(j,w,y),v.return=j,v):(v=$p(y.type,y.key,y.props,null,j.mode,v),v.ref=Hm(j,w,y),v.return=j,v)}function c(j,w,y,v){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=Ev(y,j.mode,v),w.return=j,w):(w=n(w,y.children||[]),w.return=j,w)}function u(j,w,y,v,N){return w===null||w.tag!==7?(w=Uc(y,j.mode,v,N),w.return=j,w):(w=n(w,y),w.return=j,w)}function m(j,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Tv(""+w,j.mode,y),w.return=j,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _x:return y=$p(w.type,w.key,w.props,null,j.mode,y),y.ref=Hm(j,null,w),y.return=j,y;case eu:return w=Ev(w,j.mode,y),w.return=j,w;case bo:var v=w._init;return m(j,v(w._payload),y)}if(uh(w)||Rm(w))return w=Uc(w,j.mode,y,null),w.return=j,w;Hx(j,w)}return null}function x(j,w,y,v){var N=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:o(j,w,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _x:return y.key===N?d(j,w,y,v):null;case eu:return y.key===N?c(j,w,y,v):null;case bo:return N=y._init,x(j,w,N(y._payload),v)}if(uh(y)||Rm(y))return N!==null?null:u(j,w,y,v,null);Hx(j,y)}return null}function h(j,w,y,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return j=j.get(y)||null,o(w,j,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _x:return j=j.get(v.key===null?y:v.key)||null,d(w,j,v,N);case eu:return j=j.get(v.key===null?y:v.key)||null,c(w,j,v,N);case bo:var S=v._init;return h(j,w,y,S(v._payload),N)}if(uh(v)||Rm(v))return j=j.get(y)||null,u(w,j,v,N,null);Hx(w,v)}return null}function p(j,w,y,v){for(var N=null,S=null,k=w,P=w=0,C=null;k!==null&&P<y.length;P++){k.index>P?(C=k,k=null):C=k.sibling;var I=x(j,k,y[P],v);if(I===null){k===null&&(k=C);break}e&&k&&I.alternate===null&&r(j,k),w=i(I,w,P),S===null?N=I:S.sibling=I,S=I,k=C}if(P===y.length)return s(j,k),Ur&&vc(j,P),N;if(k===null){for(;P<y.length;P++)k=m(j,y[P],v),k!==null&&(w=i(k,w,P),S===null?N=k:S.sibling=k,S=k);return Ur&&vc(j,P),N}for(k=a(j,k);P<y.length;P++)C=h(k,j,P,y[P],v),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?P:C.key),w=i(C,w,P),S===null?N=C:S.sibling=C,S=C);return e&&k.forEach(function(A){return r(j,A)}),Ur&&vc(j,P),N}function f(j,w,y,v){var N=Rm(y);if(typeof N!="function")throw Error(rt(150));if(y=N.call(y),y==null)throw Error(rt(151));for(var S=N=null,k=w,P=w=0,C=null,I=y.next();k!==null&&!I.done;P++,I=y.next()){k.index>P?(C=k,k=null):C=k.sibling;var A=x(j,k,I.value,v);if(A===null){k===null&&(k=C);break}e&&k&&A.alternate===null&&r(j,k),w=i(A,w,P),S===null?N=A:S.sibling=A,S=A,k=C}if(I.done)return s(j,k),Ur&&vc(j,P),N;if(k===null){for(;!I.done;P++,I=y.next())I=m(j,I.value,v),I!==null&&(w=i(I,w,P),S===null?N=I:S.sibling=I,S=I);return Ur&&vc(j,P),N}for(k=a(j,k);!I.done;P++,I=y.next())I=h(k,j,P,I.value,v),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?P:I.key),w=i(I,w,P),S===null?N=I:S.sibling=I,S=I);return e&&k.forEach(function(O){return r(j,O)}),Ur&&vc(j,P),N}function b(j,w,y,v){if(typeof y=="object"&&y!==null&&y.type===tu&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case _x:e:{for(var N=y.key,S=w;S!==null;){if(S.key===N){if(N=y.type,N===tu){if(S.tag===7){s(j,S.sibling),w=n(S,y.props.children),w.return=j,j=w;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===bo&&TS(N)===S.type){s(j,S.sibling),w=n(S,y.props),w.ref=Hm(j,S,y),w.return=j,j=w;break e}s(j,S);break}else r(j,S);S=S.sibling}y.type===tu?(w=Uc(y.props.children,j.mode,v,y.key),w.return=j,j=w):(v=$p(y.type,y.key,y.props,null,j.mode,v),v.ref=Hm(j,w,y),v.return=j,j=v)}return l(j);case eu:e:{for(S=y.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){s(j,w.sibling),w=n(w,y.children||[]),w.return=j,j=w;break e}else{s(j,w);break}else r(j,w);w=w.sibling}w=Ev(y,j.mode,v),w.return=j,j=w}return l(j);case bo:return S=y._init,b(j,w,S(y._payload),v)}if(uh(y))return p(j,w,y,v);if(Rm(y))return f(j,w,y,v);Hx(j,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(s(j,w.sibling),w=n(w,y),w.return=j,j=w):(s(j,w),w=Tv(y,j.mode,v),w.return=j,j=w),l(j)):s(j,w)}return b}var Hu=_7(!0),O7=_7(!1),xf=oc(null),pf=null,cu=null,Kw=null;function Yw(){Kw=cu=pf=null}function Xw(e){var r=xf.current;Mr(xf),e._currentValue=r}function w2(e,r,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,a!==null&&(a.childLanes|=r)):a!==null&&(a.childLanes&r)!==r&&(a.childLanes|=r),e===s)break;e=e.return}}function ku(e,r){pf=e,Kw=cu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(Va=!0),e.firstContext=null)}function ni(e){var r=e._currentValue;if(Kw!==e)if(e={context:e,memoizedValue:r,next:null},cu===null){if(pf===null)throw Error(rt(308));cu=e,pf.dependencies={lanes:0,firstContext:e}}else cu=cu.next=e;return r}var Ic=null;function Jw(e){Ic===null?Ic=[e]:Ic.push(e)}function D7(e,r,s,a){var n=r.interleaved;return n===null?(s.next=s,Jw(r)):(s.next=n.next,n.next=s),r.interleaved=s,Dl(e,a)}function Dl(e,r){e.lanes|=r;var s=e.alternate;for(s!==null&&(s.lanes|=r),s=e,e=e.return;e!==null;)e.childLanes|=r,s=e.alternate,s!==null&&(s.childLanes|=r),s=e,e=e.return;return s.tag===3?s.stateNode:null}var vo=!1;function Qw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M7(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bl(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Fo(e,r,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ar&2){var n=a.pending;return n===null?r.next=r:(r.next=n.next,n.next=r),a.pending=r,Dl(e,s)}return n=a.interleaved,n===null?(r.next=r,Jw(a)):(r.next=n.next,n.next=r),a.interleaved=r,Dl(e,s)}function Dp(e,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var a=r.lanes;a&=e.pendingLanes,s|=a,r.lanes=s,Fw(e,s)}}function ES(e,r){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var n=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?n=i=l:i=i.next=l,s=s.next}while(s!==null);i===null?n=i=r:i=i.next=r}else n=i=r;s={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=r:e.next=r,s.lastBaseUpdate=r}function ff(e,r,s,a){var n=e.updateQueue;vo=!1;var i=n.firstBaseUpdate,l=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var d=o,c=d.next;d.next=null,l===null?i=c:l.next=c,l=d;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=d))}if(i!==null){var m=n.baseState;l=0,u=c=d=null,o=i;do{var x=o.lane,h=o.eventTime;if((a&x)===x){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,f=o;switch(x=r,h=s,f.tag){case 1:if(p=f.payload,typeof p=="function"){m=p.call(h,m,x);break e}m=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=f.payload,x=typeof p=="function"?p.call(h,m,x):p,x==null)break e;m=Jr({},m,x);break e;case 2:vo=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,x=n.effects,x===null?n.effects=[o]:x.push(o))}else h={eventTime:h,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,d=m):u=u.next=h,l|=x;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;x=o,o=x.next,x.next=null,n.lastBaseUpdate=x,n.shared.pending=null}}while(!0);if(u===null&&(d=m),n.baseState=d,n.firstBaseUpdate=c,n.lastBaseUpdate=u,r=n.shared.interleaved,r!==null){n=r;do l|=n.lane,n=n.next;while(n!==r)}else i===null&&(n.shared.lanes=0);ad|=l,e.lanes=l,e.memoizedState=m}}function IS(e,r,s){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var a=e[r],n=a.callback;if(n!==null){if(a.callback=null,a=s,typeof n!="function")throw Error(rt(191,n));n.call(a)}}}var B0={},Yi=oc(B0),Jh=oc(B0),Qh=oc(B0);function _c(e){if(e===B0)throw Error(rt(174));return e}function Zw(e,r){switch(Cr(Qh,r),Cr(Jh,e),Cr(Yi,B0),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:r2(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=r2(r,e)}Mr(Yi),Cr(Yi,r)}function Vu(){Mr(Yi),Mr(Jh),Mr(Qh)}function L7(e){_c(Qh.current);var r=_c(Yi.current),s=r2(r,e.type);r!==s&&(Cr(Jh,e),Cr(Yi,s))}function eN(e){Jh.current===e&&(Mr(Yi),Mr(Jh))}var Gr=oc(0);function gf(e){for(var r=e;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Nv=[];function tN(){for(var e=0;e<Nv.length;e++)Nv[e]._workInProgressVersionPrimary=null;Nv.length=0}var Mp=Xl.ReactCurrentDispatcher,Sv=Xl.ReactCurrentBatchConfig,sd=0,Kr=null,_s=null,Hs=null,yf=!1,Nh=!1,Zh=0,vH=0;function da(){throw Error(rt(321))}function rN(e,r){if(r===null)return!1;for(var s=0;s<r.length&&s<e.length;s++)if(!Ii(e[s],r[s]))return!1;return!0}function sN(e,r,s,a,n,i){if(sd=i,Kr=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Mp.current=e===null||e.memoizedState===null?SH:kH,e=s(a,n),Nh){i=0;do{if(Nh=!1,Zh=0,25<=i)throw Error(rt(301));i+=1,Hs=_s=null,r.updateQueue=null,Mp.current=CH,e=s(a,n)}while(Nh)}if(Mp.current=bf,r=_s!==null&&_s.next!==null,sd=0,Hs=_s=Kr=null,yf=!1,r)throw Error(rt(300));return e}function aN(){var e=Zh!==0;return Zh=0,e}function $i(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hs===null?Kr.memoizedState=Hs=e:Hs=Hs.next=e,Hs}function ii(){if(_s===null){var e=Kr.alternate;e=e!==null?e.memoizedState:null}else e=_s.next;var r=Hs===null?Kr.memoizedState:Hs.next;if(r!==null)Hs=r,_s=e;else{if(e===null)throw Error(rt(310));_s=e,e={memoizedState:_s.memoizedState,baseState:_s.baseState,baseQueue:_s.baseQueue,queue:_s.queue,next:null},Hs===null?Kr.memoizedState=Hs=e:Hs=Hs.next=e}return Hs}function e0(e,r){return typeof r=="function"?r(e):r}function kv(e){var r=ii(),s=r.queue;if(s===null)throw Error(rt(311));s.lastRenderedReducer=e;var a=_s,n=a.baseQueue,i=s.pending;if(i!==null){if(n!==null){var l=n.next;n.next=i.next,i.next=l}a.baseQueue=n=i,s.pending=null}if(n!==null){i=n.next,a=a.baseState;var o=l=null,d=null,c=i;do{var u=c.lane;if((sd&u)===u)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),a=c.hasEagerState?c.eagerState:e(a,c.action);else{var m={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(o=d=m,l=a):d=d.next=m,Kr.lanes|=u,ad|=u}c=c.next}while(c!==null&&c!==i);d===null?l=a:d.next=o,Ii(a,r.memoizedState)||(Va=!0),r.memoizedState=a,r.baseState=l,r.baseQueue=d,s.lastRenderedState=a}if(e=s.interleaved,e!==null){n=e;do i=n.lane,Kr.lanes|=i,ad|=i,n=n.next;while(n!==e)}else n===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function Cv(e){var r=ii(),s=r.queue;if(s===null)throw Error(rt(311));s.lastRenderedReducer=e;var a=s.dispatch,n=s.pending,i=r.memoizedState;if(n!==null){s.pending=null;var l=n=n.next;do i=e(i,l.action),l=l.next;while(l!==n);Ii(i,r.memoizedState)||(Va=!0),r.memoizedState=i,r.baseQueue===null&&(r.baseState=i),s.lastRenderedState=i}return[i,a]}function F7(){}function R7(e,r){var s=Kr,a=ii(),n=r(),i=!Ii(a.memoizedState,n);if(i&&(a.memoizedState=n,Va=!0),a=a.queue,nN(z7.bind(null,s,a,e),[e]),a.getSnapshot!==r||i||Hs!==null&&Hs.memoizedState.tag&1){if(s.flags|=2048,t0(9,$7.bind(null,s,a,n,r),void 0,null),Ks===null)throw Error(rt(349));sd&30||B7(s,r,n)}return n}function B7(e,r,s){e.flags|=16384,e={getSnapshot:r,value:s},r=Kr.updateQueue,r===null?(r={lastEffect:null,stores:null},Kr.updateQueue=r,r.stores=[e]):(s=r.stores,s===null?r.stores=[e]:s.push(e))}function $7(e,r,s,a){r.value=s,r.getSnapshot=a,U7(r)&&H7(e)}function z7(e,r,s){return s(function(){U7(r)&&H7(e)})}function U7(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!Ii(e,s)}catch{return!0}}function H7(e){var r=Dl(e,1);r!==null&&Ai(r,e,1,-1)}function _S(e){var r=$i();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e0,lastRenderedState:e},r.queue=e,e=e.dispatch=NH.bind(null,Kr,e),[r.memoizedState,e]}function t0(e,r,s,a){return e={tag:e,create:r,destroy:s,deps:a,next:null},r=Kr.updateQueue,r===null?(r={lastEffect:null,stores:null},Kr.updateQueue=r,r.lastEffect=e.next=e):(s=r.lastEffect,s===null?r.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,r.lastEffect=e)),e}function V7(){return ii().memoizedState}function Lp(e,r,s,a){var n=$i();Kr.flags|=e,n.memoizedState=t0(1|r,s,void 0,a===void 0?null:a)}function uy(e,r,s,a){var n=ii();a=a===void 0?null:a;var i=void 0;if(_s!==null){var l=_s.memoizedState;if(i=l.destroy,a!==null&&rN(a,l.deps)){n.memoizedState=t0(r,s,i,a);return}}Kr.flags|=e,n.memoizedState=t0(1|r,s,i,a)}function OS(e,r){return Lp(8390656,8,e,r)}function nN(e,r){return uy(2048,8,e,r)}function W7(e,r){return uy(4,2,e,r)}function G7(e,r){return uy(4,4,e,r)}function q7(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function K7(e,r,s){return s=s!=null?s.concat([e]):null,uy(4,4,q7.bind(null,r,e),s)}function iN(){}function Y7(e,r){var s=ii();r=r===void 0?null:r;var a=s.memoizedState;return a!==null&&r!==null&&rN(r,a[1])?a[0]:(s.memoizedState=[e,r],e)}function X7(e,r){var s=ii();r=r===void 0?null:r;var a=s.memoizedState;return a!==null&&r!==null&&rN(r,a[1])?a[0]:(e=e(),s.memoizedState=[e,r],e)}function J7(e,r,s){return sd&21?(Ii(s,r)||(s=r7(),Kr.lanes|=s,ad|=s,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,Va=!0),e.memoizedState=s)}function jH(e,r){var s=fr;fr=s!==0&&4>s?s:4,e(!0);var a=Sv.transition;Sv.transition={};try{e(!1),r()}finally{fr=s,Sv.transition=a}}function Q7(){return ii().memoizedState}function wH(e,r,s){var a=Bo(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Z7(e))eI(r,s);else if(s=D7(e,r,s,a),s!==null){var n=Da();Ai(s,e,a,n),tI(s,r,a)}}function NH(e,r,s){var a=Bo(e),n={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Z7(e))eI(r,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=r.lastRenderedReducer,i!==null))try{var l=r.lastRenderedState,o=i(l,s);if(n.hasEagerState=!0,n.eagerState=o,Ii(o,l)){var d=r.interleaved;d===null?(n.next=n,Jw(r)):(n.next=d.next,d.next=n),r.interleaved=n;return}}catch{}finally{}s=D7(e,r,n,a),s!==null&&(n=Da(),Ai(s,e,a,n),tI(s,r,a))}}function Z7(e){var r=e.alternate;return e===Kr||r!==null&&r===Kr}function eI(e,r){Nh=yf=!0;var s=e.pending;s===null?r.next=r:(r.next=s.next,s.next=r),e.pending=r}function tI(e,r,s){if(s&4194240){var a=r.lanes;a&=e.pendingLanes,s|=a,r.lanes=s,Fw(e,s)}}var bf={readContext:ni,useCallback:da,useContext:da,useEffect:da,useImperativeHandle:da,useInsertionEffect:da,useLayoutEffect:da,useMemo:da,useReducer:da,useRef:da,useState:da,useDebugValue:da,useDeferredValue:da,useTransition:da,useMutableSource:da,useSyncExternalStore:da,useId:da,unstable_isNewReconciler:!1},SH={readContext:ni,useCallback:function(e,r){return $i().memoizedState=[e,r===void 0?null:r],e},useContext:ni,useEffect:OS,useImperativeHandle:function(e,r,s){return s=s!=null?s.concat([e]):null,Lp(4194308,4,q7.bind(null,r,e),s)},useLayoutEffect:function(e,r){return Lp(4194308,4,e,r)},useInsertionEffect:function(e,r){return Lp(4,2,e,r)},useMemo:function(e,r){var s=$i();return r=r===void 0?null:r,e=e(),s.memoizedState=[e,r],e},useReducer:function(e,r,s){var a=$i();return r=s!==void 0?s(r):r,a.memoizedState=a.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=wH.bind(null,Kr,e),[a.memoizedState,e]},useRef:function(e){var r=$i();return e={current:e},r.memoizedState=e},useState:_S,useDebugValue:iN,useDeferredValue:function(e){return $i().memoizedState=e},useTransition:function(){var e=_S(!1),r=e[0];return e=jH.bind(null,e[1]),$i().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,s){var a=Kr,n=$i();if(Ur){if(s===void 0)throw Error(rt(407));s=s()}else{if(s=r(),Ks===null)throw Error(rt(349));sd&30||B7(a,r,s)}n.memoizedState=s;var i={value:s,getSnapshot:r};return n.queue=i,OS(z7.bind(null,a,i,e),[e]),a.flags|=2048,t0(9,$7.bind(null,a,i,s,r),void 0,null),s},useId:function(){var e=$i(),r=Ks.identifierPrefix;if(Ur){var s=pl,a=xl;s=(a&~(1<<32-Pi(a)-1)).toString(32)+s,r=":"+r+"R"+s,s=Zh++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=vH++,r=":"+r+"r"+s.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},kH={readContext:ni,useCallback:Y7,useContext:ni,useEffect:nN,useImperativeHandle:K7,useInsertionEffect:W7,useLayoutEffect:G7,useMemo:X7,useReducer:kv,useRef:V7,useState:function(){return kv(e0)},useDebugValue:iN,useDeferredValue:function(e){var r=ii();return J7(r,_s.memoizedState,e)},useTransition:function(){var e=kv(e0)[0],r=ii().memoizedState;return[e,r]},useMutableSource:F7,useSyncExternalStore:R7,useId:Q7,unstable_isNewReconciler:!1},CH={readContext:ni,useCallback:Y7,useContext:ni,useEffect:nN,useImperativeHandle:K7,useInsertionEffect:W7,useLayoutEffect:G7,useMemo:X7,useReducer:Cv,useRef:V7,useState:function(){return Cv(e0)},useDebugValue:iN,useDeferredValue:function(e){var r=ii();return _s===null?r.memoizedState=e:J7(r,_s.memoizedState,e)},useTransition:function(){var e=Cv(e0)[0],r=ii().memoizedState;return[e,r]},useMutableSource:F7,useSyncExternalStore:R7,useId:Q7,unstable_isNewReconciler:!1};function bi(e,r){if(e&&e.defaultProps){r=Jr({},r),e=e.defaultProps;for(var s in e)r[s]===void 0&&(r[s]=e[s]);return r}return r}function N2(e,r,s,a){r=e.memoizedState,s=s(a,r),s=s==null?r:Jr({},r,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var my={isMounted:function(e){return(e=e._reactInternals)?kd(e)===e:!1},enqueueSetState:function(e,r,s){e=e._reactInternals;var a=Da(),n=Bo(e),i=bl(a,n);i.payload=r,s!=null&&(i.callback=s),r=Fo(e,i,n),r!==null&&(Ai(r,e,n,a),Dp(r,e,n))},enqueueReplaceState:function(e,r,s){e=e._reactInternals;var a=Da(),n=Bo(e),i=bl(a,n);i.tag=1,i.payload=r,s!=null&&(i.callback=s),r=Fo(e,i,n),r!==null&&(Ai(r,e,n,a),Dp(r,e,n))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var s=Da(),a=Bo(e),n=bl(s,a);n.tag=2,r!=null&&(n.callback=r),r=Fo(e,n,a),r!==null&&(Ai(r,e,a,s),Dp(r,e,a))}};function DS(e,r,s,a,n,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,l):r.prototype&&r.prototype.isPureReactComponent?!qh(s,a)||!qh(n,i):!0}function rI(e,r,s){var a=!1,n=Yo,i=r.contextType;return typeof i=="object"&&i!==null?i=ni(i):(n=qa(r)?td:wa.current,a=r.contextTypes,i=(a=a!=null)?zu(e,n):Yo),r=new r(s,i),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=my,e.stateNode=r,r._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),r}function MS(e,r,s,a){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,a),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,a),r.state!==e&&my.enqueueReplaceState(r,r.state,null)}function S2(e,r,s,a){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},Qw(e);var i=r.contextType;typeof i=="object"&&i!==null?n.context=ni(i):(i=qa(r)?td:wa.current,n.context=zu(e,i)),n.state=e.memoizedState,i=r.getDerivedStateFromProps,typeof i=="function"&&(N2(e,r,i,s),n.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(r=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),r!==n.state&&my.enqueueReplaceState(n,n.state,null),ff(e,s,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function Wu(e,r){try{var s="",a=r;do s+=eU(a),a=a.return;while(a);var n=s}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:r,stack:n,digest:null}}function Pv(e,r,s){return{value:e,source:null,stack:s??null,digest:r??null}}function k2(e,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var PH=typeof WeakMap=="function"?WeakMap:Map;function sI(e,r,s){s=bl(-1,s),s.tag=3,s.payload={element:null};var a=r.value;return s.callback=function(){jf||(jf=!0,M2=a),k2(e,r)},s}function aI(e,r,s){s=bl(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=r.value;s.payload=function(){return a(n)},s.callback=function(){k2(e,r)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){k2(e,r),typeof a!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var l=r.stack;this.componentDidCatch(r.value,{componentStack:l!==null?l:""})}),s}function LS(e,r,s){var a=e.pingCache;if(a===null){a=e.pingCache=new PH;var n=new Set;a.set(r,n)}else n=a.get(r),n===void 0&&(n=new Set,a.set(r,n));n.has(s)||(n.add(s),e=zH.bind(null,e,r,s),r.then(e,e))}function FS(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function RS(e,r,s,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===r?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=bl(-1,1),r.tag=2,Fo(s,r,1))),s.lanes|=1),e)}var AH=Xl.ReactCurrentOwner,Va=!1;function Aa(e,r,s,a){r.child=e===null?O7(r,null,s,a):Hu(r,e.child,s,a)}function BS(e,r,s,a,n){s=s.render;var i=r.ref;return ku(r,n),a=sN(e,r,s,a,i,n),s=aN(),e!==null&&!Va?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~n,Ml(e,r,n)):(Ur&&s&&Ww(r),r.flags|=1,Aa(e,r,a,n),r.child)}function $S(e,r,s,a,n){if(e===null){var i=s.type;return typeof i=="function"&&!xN(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=i,nI(e,r,i,a,n)):(e=$p(s.type,null,a,r,r.mode,n),e.ref=r.ref,e.return=r,r.child=e)}if(i=e.child,!(e.lanes&n)){var l=i.memoizedProps;if(s=s.compare,s=s!==null?s:qh,s(l,a)&&e.ref===r.ref)return Ml(e,r,n)}return r.flags|=1,e=$o(i,a),e.ref=r.ref,e.return=r,r.child=e}function nI(e,r,s,a,n){if(e!==null){var i=e.memoizedProps;if(qh(i,a)&&e.ref===r.ref)if(Va=!1,r.pendingProps=a=i,(e.lanes&n)!==0)e.flags&131072&&(Va=!0);else return r.lanes=e.lanes,Ml(e,r,n)}return C2(e,r,s,a,n)}function iI(e,r,s){var a=r.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(uu,mn),mn|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Cr(uu,mn),mn|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:s,Cr(uu,mn),mn|=a}else i!==null?(a=i.baseLanes|s,r.memoizedState=null):a=s,Cr(uu,mn),mn|=a;return Aa(e,r,n,s),r.child}function lI(e,r){var s=r.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function C2(e,r,s,a,n){var i=qa(s)?td:wa.current;return i=zu(r,i),ku(r,n),s=sN(e,r,s,a,i,n),a=aN(),e!==null&&!Va?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~n,Ml(e,r,n)):(Ur&&a&&Ww(r),r.flags|=1,Aa(e,r,s,n),r.child)}function zS(e,r,s,a,n){if(qa(s)){var i=!0;uf(r)}else i=!1;if(ku(r,n),r.stateNode===null)Fp(e,r),rI(r,s,a),S2(r,s,a,n),a=!0;else if(e===null){var l=r.stateNode,o=r.memoizedProps;l.props=o;var d=l.context,c=s.contextType;typeof c=="object"&&c!==null?c=ni(c):(c=qa(s)?td:wa.current,c=zu(r,c));var u=s.getDerivedStateFromProps,m=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==a||d!==c)&&MS(r,l,a,c),vo=!1;var x=r.memoizedState;l.state=x,ff(r,a,l,n),d=r.memoizedState,o!==a||x!==d||Ga.current||vo?(typeof u=="function"&&(N2(r,s,u,a),d=r.memoizedState),(o=vo||DS(r,s,o,a,x,d,c))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(r.flags|=4194308)):(typeof l.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=a,r.memoizedState=d),l.props=a,l.state=d,l.context=c,a=o):(typeof l.componentDidMount=="function"&&(r.flags|=4194308),a=!1)}else{l=r.stateNode,M7(e,r),o=r.memoizedProps,c=r.type===r.elementType?o:bi(r.type,o),l.props=c,m=r.pendingProps,x=l.context,d=s.contextType,typeof d=="object"&&d!==null?d=ni(d):(d=qa(s)?td:wa.current,d=zu(r,d));var h=s.getDerivedStateFromProps;(u=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||x!==d)&&MS(r,l,a,d),vo=!1,x=r.memoizedState,l.state=x,ff(r,a,l,n);var p=r.memoizedState;o!==m||x!==p||Ga.current||vo?(typeof h=="function"&&(N2(r,s,h,a),p=r.memoizedState),(c=vo||DS(r,s,c,a,x,p,d)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,p,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,p,d)),typeof l.componentDidUpdate=="function"&&(r.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(r.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(r.flags|=1024),r.memoizedProps=a,r.memoizedState=p),l.props=a,l.state=p,l.context=d,a=c):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(r.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(r.flags|=1024),a=!1)}return P2(e,r,s,a,i,n)}function P2(e,r,s,a,n,i){lI(e,r);var l=(r.flags&128)!==0;if(!a&&!l)return n&&CS(r,s,!1),Ml(e,r,i);a=r.stateNode,AH.current=r;var o=l&&typeof s.getDerivedStateFromError!="function"?null:a.render();return r.flags|=1,e!==null&&l?(r.child=Hu(r,e.child,null,i),r.child=Hu(r,null,o,i)):Aa(e,r,o,i),r.memoizedState=a.state,n&&CS(r,s,!0),r.child}function oI(e){var r=e.stateNode;r.pendingContext?kS(e,r.pendingContext,r.pendingContext!==r.context):r.context&&kS(e,r.context,!1),Zw(e,r.containerInfo)}function US(e,r,s,a,n){return Uu(),qw(n),r.flags|=256,Aa(e,r,s,a),r.child}var A2={dehydrated:null,treeContext:null,retryLane:0};function T2(e){return{baseLanes:e,cachePool:null,transitions:null}}function cI(e,r,s){var a=r.pendingProps,n=Gr.current,i=!1,l=(r.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(n&2)!==0),o?(i=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),Cr(Gr,n&1),e===null)return j2(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(l=a.children,e=a.fallback,i?(a=r.mode,i=r.child,l={mode:"hidden",children:l},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=py(l,a,0,null),e=Uc(e,a,s,null),i.return=r,e.return=r,i.sibling=e,r.child=i,r.child.memoizedState=T2(s),r.memoizedState=A2,e):lN(r,l));if(n=e.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return TH(e,r,l,a,o,n,s);if(i){i=a.fallback,l=r.mode,n=e.child,o=n.sibling;var d={mode:"hidden",children:a.children};return!(l&1)&&r.child!==n?(a=r.child,a.childLanes=0,a.pendingProps=d,r.deletions=null):(a=$o(n,d),a.subtreeFlags=n.subtreeFlags&14680064),o!==null?i=$o(o,i):(i=Uc(i,l,s,null),i.flags|=2),i.return=r,a.return=r,a.sibling=i,r.child=a,a=i,i=r.child,l=e.child.memoizedState,l=l===null?T2(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~s,r.memoizedState=A2,a}return i=e.child,e=i.sibling,a=$o(i,{mode:"visible",children:a.children}),!(r.mode&1)&&(a.lanes=s),a.return=r,a.sibling=null,e!==null&&(s=r.deletions,s===null?(r.deletions=[e],r.flags|=16):s.push(e)),r.child=a,r.memoizedState=null,a}function lN(e,r){return r=py({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Vx(e,r,s,a){return a!==null&&qw(a),Hu(r,e.child,null,s),e=lN(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function TH(e,r,s,a,n,i,l){if(s)return r.flags&256?(r.flags&=-257,a=Pv(Error(rt(422))),Vx(e,r,l,a)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(i=a.fallback,n=r.mode,a=py({mode:"visible",children:a.children},n,0,null),i=Uc(i,n,l,null),i.flags|=2,a.return=r,i.return=r,a.sibling=i,r.child=a,r.mode&1&&Hu(r,e.child,null,l),r.child.memoizedState=T2(l),r.memoizedState=A2,i);if(!(r.mode&1))return Vx(e,r,l,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var o=a.dgst;return a=o,i=Error(rt(419)),a=Pv(i,a,void 0),Vx(e,r,l,a)}if(o=(l&e.childLanes)!==0,Va||o){if(a=Ks,a!==null){switch(l&-l){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|l)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,Dl(e,n),Ai(a,e,n,-1))}return hN(),a=Pv(Error(rt(421))),Vx(e,r,l,a)}return n.data==="$?"?(r.flags|=128,r.child=e.child,r=UH.bind(null,e),n._reactRetry=r,null):(e=i.treeContext,bn=Lo(n.nextSibling),vn=r,Ur=!0,ji=null,e!==null&&(qn[Kn++]=xl,qn[Kn++]=pl,qn[Kn++]=rd,xl=e.id,pl=e.overflow,rd=r),r=lN(r,a.children),r.flags|=4096,r)}function HS(e,r,s){e.lanes|=r;var a=e.alternate;a!==null&&(a.lanes|=r),w2(e.return,r,s)}function Av(e,r,s,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:n}:(i.isBackwards=r,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=s,i.tailMode=n)}function dI(e,r,s){var a=r.pendingProps,n=a.revealOrder,i=a.tail;if(Aa(e,r,a.children,s),a=Gr.current,a&2)a=a&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&HS(e,s,r);else if(e.tag===19)HS(e,s,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Cr(Gr,a),!(r.mode&1))r.memoizedState=null;else switch(n){case"forwards":for(s=r.child,n=null;s!==null;)e=s.alternate,e!==null&&gf(e)===null&&(n=s),s=s.sibling;s=n,s===null?(n=r.child,r.child=null):(n=s.sibling,s.sibling=null),Av(r,!1,n,s,i);break;case"backwards":for(s=null,n=r.child,r.child=null;n!==null;){if(e=n.alternate,e!==null&&gf(e)===null){r.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}Av(r,!0,s,null,i);break;case"together":Av(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Fp(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function Ml(e,r,s){if(e!==null&&(r.dependencies=e.dependencies),ad|=r.lanes,!(s&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(rt(153));if(r.child!==null){for(e=r.child,s=$o(e,e.pendingProps),r.child=s,s.return=r;e.sibling!==null;)e=e.sibling,s=s.sibling=$o(e,e.pendingProps),s.return=r;s.sibling=null}return r.child}function EH(e,r,s){switch(r.tag){case 3:oI(r),Uu();break;case 5:L7(r);break;case 1:qa(r.type)&&uf(r);break;case 4:Zw(r,r.stateNode.containerInfo);break;case 10:var a=r.type._context,n=r.memoizedProps.value;Cr(xf,a._currentValue),a._currentValue=n;break;case 13:if(a=r.memoizedState,a!==null)return a.dehydrated!==null?(Cr(Gr,Gr.current&1),r.flags|=128,null):s&r.child.childLanes?cI(e,r,s):(Cr(Gr,Gr.current&1),e=Ml(e,r,s),e!==null?e.sibling:null);Cr(Gr,Gr.current&1);break;case 19:if(a=(s&r.childLanes)!==0,e.flags&128){if(a)return dI(e,r,s);r.flags|=128}if(n=r.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Cr(Gr,Gr.current),a)break;return null;case 22:case 23:return r.lanes=0,iI(e,r,s)}return Ml(e,r,s)}var uI,E2,mI,hI;uI=function(e,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};E2=function(){};mI=function(e,r,s,a){var n=e.memoizedProps;if(n!==a){e=r.stateNode,_c(Yi.current);var i=null;switch(s){case"input":n=Q1(e,n),a=Q1(e,a),i=[];break;case"select":n=Jr({},n,{value:void 0}),a=Jr({},a,{value:void 0}),i=[];break;case"textarea":n=t2(e,n),a=t2(e,a),i=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=cf)}s2(s,a);var l;s=null;for(c in n)if(!a.hasOwnProperty(c)&&n.hasOwnProperty(c)&&n[c]!=null)if(c==="style"){var o=n[c];for(l in o)o.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&($h.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in a){var d=a[c];if(o=n!=null?n[c]:void 0,a.hasOwnProperty(c)&&d!==o&&(d!=null||o!=null))if(c==="style")if(o){for(l in o)!o.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in d)d.hasOwnProperty(l)&&o[l]!==d[l]&&(s||(s={}),s[l]=d[l])}else s||(i||(i=[]),i.push(c,s)),s=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,o=o?o.__html:void 0,d!=null&&o!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&($h.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&_r("scroll",e),i||o===d||(i=[])):(i=i||[]).push(c,d))}s&&(i=i||[]).push("style",s);var c=i;(r.updateQueue=c)&&(r.flags|=4)}};hI=function(e,r,s,a){s!==a&&(r.flags|=4)};function Vm(e,r){if(!Ur)switch(e.tailMode){case"hidden":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ua(e){var r=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(r)for(var n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=s,r}function IH(e,r,s){var a=r.pendingProps;switch(Gw(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ua(r),null;case 1:return qa(r.type)&&df(),ua(r),null;case 3:return a=r.stateNode,Vu(),Mr(Ga),Mr(wa),tN(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ux(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,ji!==null&&(R2(ji),ji=null))),E2(e,r),ua(r),null;case 5:eN(r);var n=_c(Qh.current);if(s=r.type,e!==null&&r.stateNode!=null)mI(e,r,s,a,n),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!a){if(r.stateNode===null)throw Error(rt(166));return ua(r),null}if(e=_c(Yi.current),Ux(r)){a=r.stateNode,s=r.type;var i=r.memoizedProps;switch(a[Ui]=r,a[Xh]=i,e=(r.mode&1)!==0,s){case"dialog":_r("cancel",a),_r("close",a);break;case"iframe":case"object":case"embed":_r("load",a);break;case"video":case"audio":for(n=0;n<hh.length;n++)_r(hh[n],a);break;case"source":_r("error",a);break;case"img":case"image":case"link":_r("error",a),_r("load",a);break;case"details":_r("toggle",a);break;case"input":Q5(a,i),_r("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},_r("invalid",a);break;case"textarea":eS(a,i),_r("invalid",a)}s2(s,i),n=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?a.textContent!==o&&(i.suppressHydrationWarning!==!0&&zx(a.textContent,o,e),n=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&zx(a.textContent,o,e),n=["children",""+o]):$h.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&_r("scroll",a)}switch(s){case"input":Ox(a),Z5(a,i,!0);break;case"textarea":Ox(a),tS(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=cf)}a=n,r.updateQueue=a,a!==null&&(r.flags|=4)}else{l=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zE(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=l.createElement(s,{is:a.is}):(e=l.createElement(s),s==="select"&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,s),e[Ui]=r,e[Xh]=a,uI(e,r,!1,!1),r.stateNode=e;e:{switch(l=a2(s,a),s){case"dialog":_r("cancel",e),_r("close",e),n=a;break;case"iframe":case"object":case"embed":_r("load",e),n=a;break;case"video":case"audio":for(n=0;n<hh.length;n++)_r(hh[n],e);n=a;break;case"source":_r("error",e),n=a;break;case"img":case"image":case"link":_r("error",e),_r("load",e),n=a;break;case"details":_r("toggle",e),n=a;break;case"input":Q5(e,a),n=Q1(e,a),_r("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=Jr({},a,{value:void 0}),_r("invalid",e);break;case"textarea":eS(e,a),n=t2(e,a),_r("invalid",e);break;default:n=a}s2(s,n),o=n;for(i in o)if(o.hasOwnProperty(i)){var d=o[i];i==="style"?VE(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&UE(e,d)):i==="children"?typeof d=="string"?(s!=="textarea"||d!=="")&&zh(e,d):typeof d=="number"&&zh(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($h.hasOwnProperty(i)?d!=null&&i==="onScroll"&&_r("scroll",e):d!=null&&Iw(e,i,d,l))}switch(s){case"input":Ox(e),Z5(e,a,!1);break;case"textarea":Ox(e),tS(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Ko(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?ju(e,!!a.multiple,i,!1):a.defaultValue!=null&&ju(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=cf)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return ua(r),null;case 6:if(e&&r.stateNode!=null)hI(e,r,e.memoizedProps,a);else{if(typeof a!="string"&&r.stateNode===null)throw Error(rt(166));if(s=_c(Qh.current),_c(Yi.current),Ux(r)){if(a=r.stateNode,s=r.memoizedProps,a[Ui]=r,(i=a.nodeValue!==s)&&(e=vn,e!==null))switch(e.tag){case 3:zx(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zx(a.nodeValue,s,(e.mode&1)!==0)}i&&(r.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Ui]=r,r.stateNode=a}return ua(r),null;case 13:if(Mr(Gr),a=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ur&&bn!==null&&r.mode&1&&!(r.flags&128))I7(),Uu(),r.flags|=98560,i=!1;else if(i=Ux(r),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(rt(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(rt(317));i[Ui]=r}else Uu(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;ua(r),i=!1}else ji!==null&&(R2(ji),ji=null),i=!0;if(!i)return r.flags&65536?r:null}return r.flags&128?(r.lanes=s,r):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(r.child.flags|=8192,r.mode&1&&(e===null||Gr.current&1?Ls===0&&(Ls=3):hN())),r.updateQueue!==null&&(r.flags|=4),ua(r),null);case 4:return Vu(),E2(e,r),e===null&&Kh(r.stateNode.containerInfo),ua(r),null;case 10:return Xw(r.type._context),ua(r),null;case 17:return qa(r.type)&&df(),ua(r),null;case 19:if(Mr(Gr),i=r.memoizedState,i===null)return ua(r),null;if(a=(r.flags&128)!==0,l=i.rendering,l===null)if(a)Vm(i,!1);else{if(Ls!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(l=gf(e),l!==null){for(r.flags|=128,Vm(i,!1),a=l.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),r.subtreeFlags=0,a=s,s=r.child;s!==null;)i=s,e=a,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Cr(Gr,Gr.current&1|2),r.child}e=e.sibling}i.tail!==null&&ms()>Gu&&(r.flags|=128,a=!0,Vm(i,!1),r.lanes=4194304)}else{if(!a)if(e=gf(l),e!==null){if(r.flags|=128,a=!0,s=e.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),Vm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Ur)return ua(r),null}else 2*ms()-i.renderingStartTime>Gu&&s!==1073741824&&(r.flags|=128,a=!0,Vm(i,!1),r.lanes=4194304);i.isBackwards?(l.sibling=r.child,r.child=l):(s=i.last,s!==null?s.sibling=l:r.child=l,i.last=l)}return i.tail!==null?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.renderingStartTime=ms(),r.sibling=null,s=Gr.current,Cr(Gr,a?s&1|2:s&1),r):(ua(r),null);case 22:case 23:return mN(),a=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(r.flags|=8192),a&&r.mode&1?mn&1073741824&&(ua(r),r.subtreeFlags&6&&(r.flags|=8192)):ua(r),null;case 24:return null;case 25:return null}throw Error(rt(156,r.tag))}function _H(e,r){switch(Gw(r),r.tag){case 1:return qa(r.type)&&df(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Vu(),Mr(Ga),Mr(wa),tN(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return eN(r),null;case 13:if(Mr(Gr),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(rt(340));Uu()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Mr(Gr),null;case 4:return Vu(),null;case 10:return Xw(r.type._context),null;case 22:case 23:return mN(),null;case 24:return null;default:return null}}var Wx=!1,xa=!1,OH=typeof WeakSet=="function"?WeakSet:Set,wt=null;function du(e,r){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){as(e,r,a)}else s.current=null}function I2(e,r,s){try{s()}catch(a){as(e,r,a)}}var VS=!1;function DH(e,r){if(x2=nf,e=y7(),Vw(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var l=0,o=-1,d=-1,c=0,u=0,m=e,x=null;t:for(;;){for(var h;m!==s||n!==0&&m.nodeType!==3||(o=l+n),m!==i||a!==0&&m.nodeType!==3||(d=l+a),m.nodeType===3&&(l+=m.nodeValue.length),(h=m.firstChild)!==null;)x=m,m=h;for(;;){if(m===e)break t;if(x===s&&++c===n&&(o=l),x===i&&++u===a&&(d=l),(h=m.nextSibling)!==null)break;m=x,x=m.parentNode}m=h}s=o===-1||d===-1?null:{start:o,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;for(p2={focusedElem:e,selectionRange:s},nf=!1,wt=r;wt!==null;)if(r=wt,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,wt=e;else for(;wt!==null;){r=wt;try{var p=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var f=p.memoizedProps,b=p.memoizedState,j=r.stateNode,w=j.getSnapshotBeforeUpdate(r.elementType===r.type?f:bi(r.type,f),b);j.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=r.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rt(163))}}catch(v){as(r,r.return,v)}if(e=r.sibling,e!==null){e.return=r.return,wt=e;break}wt=r.return}return p=VS,VS=!1,p}function Sh(e,r,s){var a=r.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&I2(r,s,i)}n=n.next}while(n!==a)}}function hy(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==r)}}function _2(e){var r=e.ref;if(r!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof r=="function"?r(e):r.current=e}}function xI(e){var r=e.alternate;r!==null&&(e.alternate=null,xI(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Ui],delete r[Xh],delete r[y2],delete r[fH],delete r[gH])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pI(e){return e.tag===5||e.tag===3||e.tag===4}function WS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function O2(e,r,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(e,r):s.insertBefore(e,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(e,s)):(r=s,r.appendChild(e)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=cf));else if(a!==4&&(e=e.child,e!==null))for(O2(e,r,s),e=e.sibling;e!==null;)O2(e,r,s),e=e.sibling}function D2(e,r,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,r?s.insertBefore(e,r):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(D2(e,r,s),e=e.sibling;e!==null;)D2(e,r,s),e=e.sibling}var ea=null,vi=!1;function uo(e,r,s){for(s=s.child;s!==null;)fI(e,r,s),s=s.sibling}function fI(e,r,s){if(Ki&&typeof Ki.onCommitFiberUnmount=="function")try{Ki.onCommitFiberUnmount(ny,s)}catch{}switch(s.tag){case 5:xa||du(s,r);case 6:var a=ea,n=vi;ea=null,uo(e,r,s),ea=a,vi=n,ea!==null&&(vi?(e=ea,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):ea.removeChild(s.stateNode));break;case 18:ea!==null&&(vi?(e=ea,s=s.stateNode,e.nodeType===8?jv(e.parentNode,s):e.nodeType===1&&jv(e,s),Wh(e)):jv(ea,s.stateNode));break;case 4:a=ea,n=vi,ea=s.stateNode.containerInfo,vi=!0,uo(e,r,s),ea=a,vi=n;break;case 0:case 11:case 14:case 15:if(!xa&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var i=n,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&I2(s,r,l),n=n.next}while(n!==a)}uo(e,r,s);break;case 1:if(!xa&&(du(s,r),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(o){as(s,r,o)}uo(e,r,s);break;case 21:uo(e,r,s);break;case 22:s.mode&1?(xa=(a=xa)||s.memoizedState!==null,uo(e,r,s),xa=a):uo(e,r,s);break;default:uo(e,r,s)}}function GS(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new OH),r.forEach(function(a){var n=HH.bind(null,e,a);s.has(a)||(s.add(a),a.then(n,n))})}}function fi(e,r){var s=r.deletions;if(s!==null)for(var a=0;a<s.length;a++){var n=s[a];try{var i=e,l=r,o=l;e:for(;o!==null;){switch(o.tag){case 5:ea=o.stateNode,vi=!1;break e;case 3:ea=o.stateNode.containerInfo,vi=!0;break e;case 4:ea=o.stateNode.containerInfo,vi=!0;break e}o=o.return}if(ea===null)throw Error(rt(160));fI(i,l,n),ea=null,vi=!1;var d=n.alternate;d!==null&&(d.return=null),n.return=null}catch(c){as(n,r,c)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)gI(r,e),r=r.sibling}function gI(e,r){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fi(r,e),Mi(e),a&4){try{Sh(3,e,e.return),hy(3,e)}catch(f){as(e,e.return,f)}try{Sh(5,e,e.return)}catch(f){as(e,e.return,f)}}break;case 1:fi(r,e),Mi(e),a&512&&s!==null&&du(s,s.return);break;case 5:if(fi(r,e),Mi(e),a&512&&s!==null&&du(s,s.return),e.flags&32){var n=e.stateNode;try{zh(n,"")}catch(f){as(e,e.return,f)}}if(a&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,l=s!==null?s.memoizedProps:i,o=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&BE(n,i),a2(o,l);var c=a2(o,i);for(l=0;l<d.length;l+=2){var u=d[l],m=d[l+1];u==="style"?VE(n,m):u==="dangerouslySetInnerHTML"?UE(n,m):u==="children"?zh(n,m):Iw(n,u,m,c)}switch(o){case"input":Z1(n,i);break;case"textarea":$E(n,i);break;case"select":var x=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?ju(n,!!i.multiple,h,!1):x!==!!i.multiple&&(i.defaultValue!=null?ju(n,!!i.multiple,i.defaultValue,!0):ju(n,!!i.multiple,i.multiple?[]:"",!1))}n[Xh]=i}catch(f){as(e,e.return,f)}}break;case 6:if(fi(r,e),Mi(e),a&4){if(e.stateNode===null)throw Error(rt(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(f){as(e,e.return,f)}}break;case 3:if(fi(r,e),Mi(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Wh(r.containerInfo)}catch(f){as(e,e.return,f)}break;case 4:fi(r,e),Mi(e);break;case 13:fi(r,e),Mi(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(dN=ms())),a&4&&GS(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(xa=(c=xa)||u,fi(r,e),xa=c):fi(r,e),Mi(e),a&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(wt=e,u=e.child;u!==null;){for(m=wt=u;wt!==null;){switch(x=wt,h=x.child,x.tag){case 0:case 11:case 14:case 15:Sh(4,x,x.return);break;case 1:du(x,x.return);var p=x.stateNode;if(typeof p.componentWillUnmount=="function"){a=x,s=x.return;try{r=a,p.props=r.memoizedProps,p.state=r.memoizedState,p.componentWillUnmount()}catch(f){as(a,s,f)}}break;case 5:du(x,x.return);break;case 22:if(x.memoizedState!==null){KS(m);continue}}h!==null?(h.return=x,wt=h):KS(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{n=m.stateNode,c?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,d=m.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,o.style.display=HE("display",l))}catch(f){as(e,e.return,f)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(f){as(e,e.return,f)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:fi(r,e),Mi(e),a&4&&GS(e);break;case 21:break;default:fi(r,e),Mi(e)}}function Mi(e){var r=e.flags;if(r&2){try{e:{for(var s=e.return;s!==null;){if(pI(s)){var a=s;break e}s=s.return}throw Error(rt(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(zh(n,""),a.flags&=-33);var i=WS(e);D2(e,i,n);break;case 3:case 4:var l=a.stateNode.containerInfo,o=WS(e);O2(e,o,l);break;default:throw Error(rt(161))}}catch(d){as(e,e.return,d)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function MH(e,r,s){wt=e,yI(e)}function yI(e,r,s){for(var a=(e.mode&1)!==0;wt!==null;){var n=wt,i=n.child;if(n.tag===22&&a){var l=n.memoizedState!==null||Wx;if(!l){var o=n.alternate,d=o!==null&&o.memoizedState!==null||xa;o=Wx;var c=xa;if(Wx=l,(xa=d)&&!c)for(wt=n;wt!==null;)l=wt,d=l.child,l.tag===22&&l.memoizedState!==null?YS(n):d!==null?(d.return=l,wt=d):YS(n);for(;i!==null;)wt=i,yI(i),i=i.sibling;wt=n,Wx=o,xa=c}qS(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,wt=i):qS(e)}}function qS(e){for(;wt!==null;){var r=wt;if(r.flags&8772){var s=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:xa||hy(5,r);break;case 1:var a=r.stateNode;if(r.flags&4&&!xa)if(s===null)a.componentDidMount();else{var n=r.elementType===r.type?s.memoizedProps:bi(r.type,s.memoizedProps);a.componentDidUpdate(n,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=r.updateQueue;i!==null&&IS(r,i,a);break;case 3:var l=r.updateQueue;if(l!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}IS(r,l,s)}break;case 5:var o=r.stateNode;if(s===null&&r.flags&4){s=o;var d=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&s.focus();break;case"img":d.src&&(s.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var c=r.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Wh(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rt(163))}xa||r.flags&512&&_2(r)}catch(x){as(r,r.return,x)}}if(r===e){wt=null;break}if(s=r.sibling,s!==null){s.return=r.return,wt=s;break}wt=r.return}}function KS(e){for(;wt!==null;){var r=wt;if(r===e){wt=null;break}var s=r.sibling;if(s!==null){s.return=r.return,wt=s;break}wt=r.return}}function YS(e){for(;wt!==null;){var r=wt;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{hy(4,r)}catch(d){as(r,s,d)}break;case 1:var a=r.stateNode;if(typeof a.componentDidMount=="function"){var n=r.return;try{a.componentDidMount()}catch(d){as(r,n,d)}}var i=r.return;try{_2(r)}catch(d){as(r,i,d)}break;case 5:var l=r.return;try{_2(r)}catch(d){as(r,l,d)}}}catch(d){as(r,r.return,d)}if(r===e){wt=null;break}var o=r.sibling;if(o!==null){o.return=r.return,wt=o;break}wt=r.return}}var LH=Math.ceil,vf=Xl.ReactCurrentDispatcher,oN=Xl.ReactCurrentOwner,ri=Xl.ReactCurrentBatchConfig,ar=0,Ks=null,Ss=null,aa=0,mn=0,uu=oc(0),Ls=0,r0=null,ad=0,xy=0,cN=0,kh=null,Ua=null,dN=0,Gu=1/0,cl=null,jf=!1,M2=null,Ro=null,Gx=!1,Ao=null,wf=0,Ch=0,L2=null,Rp=-1,Bp=0;function Da(){return ar&6?ms():Rp!==-1?Rp:Rp=ms()}function Bo(e){return e.mode&1?ar&2&&aa!==0?aa&-aa:bH.transition!==null?(Bp===0&&(Bp=r7()),Bp):(e=fr,e!==0||(e=window.event,e=e===void 0?16:c7(e.type)),e):1}function Ai(e,r,s,a){if(50<Ch)throw Ch=0,L2=null,Error(rt(185));L0(e,s,a),(!(ar&2)||e!==Ks)&&(e===Ks&&(!(ar&2)&&(xy|=s),Ls===4&&ko(e,aa)),Ka(e,a),s===1&&ar===0&&!(r.mode&1)&&(Gu=ms()+500,dy&&cc()))}function Ka(e,r){var s=e.callbackNode;bU(e,r);var a=af(e,e===Ks?aa:0);if(a===0)s!==null&&aS(s),e.callbackNode=null,e.callbackPriority=0;else if(r=a&-a,e.callbackPriority!==r){if(s!=null&&aS(s),r===1)e.tag===0?yH(XS.bind(null,e)):A7(XS.bind(null,e)),xH(function(){!(ar&6)&&cc()}),s=null;else{switch(s7(a)){case 1:s=Lw;break;case 4:s=e7;break;case 16:s=sf;break;case 536870912:s=t7;break;default:s=sf}s=CI(s,bI.bind(null,e))}e.callbackPriority=r,e.callbackNode=s}}function bI(e,r){if(Rp=-1,Bp=0,ar&6)throw Error(rt(327));var s=e.callbackNode;if(Cu()&&e.callbackNode!==s)return null;var a=af(e,e===Ks?aa:0);if(a===0)return null;if(a&30||a&e.expiredLanes||r)r=Nf(e,a);else{r=a;var n=ar;ar|=2;var i=jI();(Ks!==e||aa!==r)&&(cl=null,Gu=ms()+500,zc(e,r));do try{BH();break}catch(o){vI(e,o)}while(!0);Yw(),vf.current=i,ar=n,Ss!==null?r=0:(Ks=null,aa=0,r=Ls)}if(r!==0){if(r===2&&(n=c2(e),n!==0&&(a=n,r=F2(e,n))),r===1)throw s=r0,zc(e,0),ko(e,a),Ka(e,ms()),s;if(r===6)ko(e,a);else{if(n=e.current.alternate,!(a&30)&&!FH(n)&&(r=Nf(e,a),r===2&&(i=c2(e),i!==0&&(a=i,r=F2(e,i))),r===1))throw s=r0,zc(e,0),ko(e,a),Ka(e,ms()),s;switch(e.finishedWork=n,e.finishedLanes=a,r){case 0:case 1:throw Error(rt(345));case 2:jc(e,Ua,cl);break;case 3:if(ko(e,a),(a&130023424)===a&&(r=dN+500-ms(),10<r)){if(af(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){Da(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=g2(jc.bind(null,e,Ua,cl),r);break}jc(e,Ua,cl);break;case 4:if(ko(e,a),(a&4194240)===a)break;for(r=e.eventTimes,n=-1;0<a;){var l=31-Pi(a);i=1<<l,l=r[l],l>n&&(n=l),a&=~i}if(a=n,a=ms()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*LH(a/1960))-a,10<a){e.timeoutHandle=g2(jc.bind(null,e,Ua,cl),a);break}jc(e,Ua,cl);break;case 5:jc(e,Ua,cl);break;default:throw Error(rt(329))}}}return Ka(e,ms()),e.callbackNode===s?bI.bind(null,e):null}function F2(e,r){var s=kh;return e.current.memoizedState.isDehydrated&&(zc(e,r).flags|=256),e=Nf(e,r),e!==2&&(r=Ua,Ua=s,r!==null&&R2(r)),e}function R2(e){Ua===null?Ua=e:Ua.push.apply(Ua,e)}function FH(e){for(var r=e;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var n=s[a],i=n.getSnapshot;n=n.value;try{if(!Ii(i(),n))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ko(e,r){for(r&=~cN,r&=~xy,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var s=31-Pi(r),a=1<<s;e[s]=-1,r&=~a}}function XS(e){if(ar&6)throw Error(rt(327));Cu();var r=af(e,0);if(!(r&1))return Ka(e,ms()),null;var s=Nf(e,r);if(e.tag!==0&&s===2){var a=c2(e);a!==0&&(r=a,s=F2(e,a))}if(s===1)throw s=r0,zc(e,0),ko(e,r),Ka(e,ms()),s;if(s===6)throw Error(rt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,jc(e,Ua,cl),Ka(e,ms()),null}function uN(e,r){var s=ar;ar|=1;try{return e(r)}finally{ar=s,ar===0&&(Gu=ms()+500,dy&&cc())}}function nd(e){Ao!==null&&Ao.tag===0&&!(ar&6)&&Cu();var r=ar;ar|=1;var s=ri.transition,a=fr;try{if(ri.transition=null,fr=1,e)return e()}finally{fr=a,ri.transition=s,ar=r,!(ar&6)&&cc()}}function mN(){mn=uu.current,Mr(uu)}function zc(e,r){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,hH(s)),Ss!==null)for(s=Ss.return;s!==null;){var a=s;switch(Gw(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&df();break;case 3:Vu(),Mr(Ga),Mr(wa),tN();break;case 5:eN(a);break;case 4:Vu();break;case 13:Mr(Gr);break;case 19:Mr(Gr);break;case 10:Xw(a.type._context);break;case 22:case 23:mN()}s=s.return}if(Ks=e,Ss=e=$o(e.current,null),aa=mn=r,Ls=0,r0=null,cN=xy=ad=0,Ua=kh=null,Ic!==null){for(r=0;r<Ic.length;r++)if(s=Ic[r],a=s.interleaved,a!==null){s.interleaved=null;var n=a.next,i=s.pending;if(i!==null){var l=i.next;i.next=n,a.next=l}s.pending=a}Ic=null}return e}function vI(e,r){do{var s=Ss;try{if(Yw(),Mp.current=bf,yf){for(var a=Kr.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}yf=!1}if(sd=0,Hs=_s=Kr=null,Nh=!1,Zh=0,oN.current=null,s===null||s.return===null){Ls=1,r0=r,Ss=null;break}e:{var i=e,l=s.return,o=s,d=r;if(r=aa,o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,u=o,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var x=u.alternate;x?(u.updateQueue=x.updateQueue,u.memoizedState=x.memoizedState,u.lanes=x.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=FS(l);if(h!==null){h.flags&=-257,RS(h,l,o,i,r),h.mode&1&&LS(i,c,r),r=h,d=c;var p=r.updateQueue;if(p===null){var f=new Set;f.add(d),r.updateQueue=f}else p.add(d);break e}else{if(!(r&1)){LS(i,c,r),hN();break e}d=Error(rt(426))}}else if(Ur&&o.mode&1){var b=FS(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),RS(b,l,o,i,r),qw(Wu(d,o));break e}}i=d=Wu(d,o),Ls!==4&&(Ls=2),kh===null?kh=[i]:kh.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,r&=-r,i.lanes|=r;var j=sI(i,d,r);ES(i,j);break e;case 1:o=d;var w=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ro===null||!Ro.has(y)))){i.flags|=65536,r&=-r,i.lanes|=r;var v=aI(i,o,r);ES(i,v);break e}}i=i.return}while(i!==null)}NI(s)}catch(N){r=N,Ss===s&&s!==null&&(Ss=s=s.return);continue}break}while(!0)}function jI(){var e=vf.current;return vf.current=bf,e===null?bf:e}function hN(){(Ls===0||Ls===3||Ls===2)&&(Ls=4),Ks===null||!(ad&268435455)&&!(xy&268435455)||ko(Ks,aa)}function Nf(e,r){var s=ar;ar|=2;var a=jI();(Ks!==e||aa!==r)&&(cl=null,zc(e,r));do try{RH();break}catch(n){vI(e,n)}while(!0);if(Yw(),ar=s,vf.current=a,Ss!==null)throw Error(rt(261));return Ks=null,aa=0,Ls}function RH(){for(;Ss!==null;)wI(Ss)}function BH(){for(;Ss!==null&&!dU();)wI(Ss)}function wI(e){var r=kI(e.alternate,e,mn);e.memoizedProps=e.pendingProps,r===null?NI(e):Ss=r,oN.current=null}function NI(e){var r=e;do{var s=r.alternate;if(e=r.return,r.flags&32768){if(s=_H(s,r),s!==null){s.flags&=32767,Ss=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ls=6,Ss=null;return}}else if(s=IH(s,r,mn),s!==null){Ss=s;return}if(r=r.sibling,r!==null){Ss=r;return}Ss=r=e}while(r!==null);Ls===0&&(Ls=5)}function jc(e,r,s){var a=fr,n=ri.transition;try{ri.transition=null,fr=1,$H(e,r,s,a)}finally{ri.transition=n,fr=a}return null}function $H(e,r,s,a){do Cu();while(Ao!==null);if(ar&6)throw Error(rt(327));s=e.finishedWork;var n=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(rt(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(vU(e,i),e===Ks&&(Ss=Ks=null,aa=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Gx||(Gx=!0,CI(sf,function(){return Cu(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=ri.transition,ri.transition=null;var l=fr;fr=1;var o=ar;ar|=4,oN.current=null,DH(e,s),gI(s,e),iH(p2),nf=!!x2,p2=x2=null,e.current=s,MH(s),uU(),ar=o,fr=l,ri.transition=i}else e.current=s;if(Gx&&(Gx=!1,Ao=e,wf=n),i=e.pendingLanes,i===0&&(Ro=null),xU(s.stateNode),Ka(e,ms()),r!==null)for(a=e.onRecoverableError,s=0;s<r.length;s++)n=r[s],a(n.value,{componentStack:n.stack,digest:n.digest});if(jf)throw jf=!1,e=M2,M2=null,e;return wf&1&&e.tag!==0&&Cu(),i=e.pendingLanes,i&1?e===L2?Ch++:(Ch=0,L2=e):Ch=0,cc(),null}function Cu(){if(Ao!==null){var e=s7(wf),r=ri.transition,s=fr;try{if(ri.transition=null,fr=16>e?16:e,Ao===null)var a=!1;else{if(e=Ao,Ao=null,wf=0,ar&6)throw Error(rt(331));var n=ar;for(ar|=4,wt=e.current;wt!==null;){var i=wt,l=i.child;if(wt.flags&16){var o=i.deletions;if(o!==null){for(var d=0;d<o.length;d++){var c=o[d];for(wt=c;wt!==null;){var u=wt;switch(u.tag){case 0:case 11:case 15:Sh(8,u,i)}var m=u.child;if(m!==null)m.return=u,wt=m;else for(;wt!==null;){u=wt;var x=u.sibling,h=u.return;if(xI(u),u===c){wt=null;break}if(x!==null){x.return=h,wt=x;break}wt=h}}}var p=i.alternate;if(p!==null){var f=p.child;if(f!==null){p.child=null;do{var b=f.sibling;f.sibling=null,f=b}while(f!==null)}}wt=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,wt=l;else e:for(;wt!==null;){if(i=wt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sh(9,i,i.return)}var j=i.sibling;if(j!==null){j.return=i.return,wt=j;break e}wt=i.return}}var w=e.current;for(wt=w;wt!==null;){l=wt;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,wt=y;else e:for(l=w;wt!==null;){if(o=wt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:hy(9,o)}}catch(N){as(o,o.return,N)}if(o===l){wt=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,wt=v;break e}wt=o.return}}if(ar=n,cc(),Ki&&typeof Ki.onPostCommitFiberRoot=="function")try{Ki.onPostCommitFiberRoot(ny,e)}catch{}a=!0}return a}finally{fr=s,ri.transition=r}}return!1}function JS(e,r,s){r=Wu(s,r),r=sI(e,r,1),e=Fo(e,r,1),r=Da(),e!==null&&(L0(e,1,r),Ka(e,r))}function as(e,r,s){if(e.tag===3)JS(e,e,s);else for(;r!==null;){if(r.tag===3){JS(r,e,s);break}else if(r.tag===1){var a=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ro===null||!Ro.has(a))){e=Wu(s,e),e=aI(r,e,1),r=Fo(r,e,1),e=Da(),r!==null&&(L0(r,1,e),Ka(r,e));break}}r=r.return}}function zH(e,r,s){var a=e.pingCache;a!==null&&a.delete(r),r=Da(),e.pingedLanes|=e.suspendedLanes&s,Ks===e&&(aa&s)===s&&(Ls===4||Ls===3&&(aa&130023424)===aa&&500>ms()-dN?zc(e,0):cN|=s),Ka(e,r)}function SI(e,r){r===0&&(e.mode&1?(r=Lx,Lx<<=1,!(Lx&130023424)&&(Lx=4194304)):r=1);var s=Da();e=Dl(e,r),e!==null&&(L0(e,r,s),Ka(e,s))}function UH(e){var r=e.memoizedState,s=0;r!==null&&(s=r.retryLane),SI(e,s)}function HH(e,r){var s=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(s=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(rt(314))}a!==null&&a.delete(r),SI(e,s)}var kI;kI=function(e,r,s){if(e!==null)if(e.memoizedProps!==r.pendingProps||Ga.current)Va=!0;else{if(!(e.lanes&s)&&!(r.flags&128))return Va=!1,EH(e,r,s);Va=!!(e.flags&131072)}else Va=!1,Ur&&r.flags&1048576&&T7(r,hf,r.index);switch(r.lanes=0,r.tag){case 2:var a=r.type;Fp(e,r),e=r.pendingProps;var n=zu(r,wa.current);ku(r,s),n=sN(null,r,a,e,n,s);var i=aN();return r.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,qa(a)?(i=!0,uf(r)):i=!1,r.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Qw(r),n.updater=my,r.stateNode=n,n._reactInternals=r,S2(r,a,e,s),r=P2(null,r,a,!0,i,s)):(r.tag=0,Ur&&i&&Ww(r),Aa(null,r,n,s),r=r.child),r;case 16:a=r.elementType;e:{switch(Fp(e,r),e=r.pendingProps,n=a._init,a=n(a._payload),r.type=a,n=r.tag=WH(a),e=bi(a,e),n){case 0:r=C2(null,r,a,e,s);break e;case 1:r=zS(null,r,a,e,s);break e;case 11:r=BS(null,r,a,e,s);break e;case 14:r=$S(null,r,a,bi(a.type,e),s);break e}throw Error(rt(306,a,""))}return r;case 0:return a=r.type,n=r.pendingProps,n=r.elementType===a?n:bi(a,n),C2(e,r,a,n,s);case 1:return a=r.type,n=r.pendingProps,n=r.elementType===a?n:bi(a,n),zS(e,r,a,n,s);case 3:e:{if(oI(r),e===null)throw Error(rt(387));a=r.pendingProps,i=r.memoizedState,n=i.element,M7(e,r),ff(r,a,null,s);var l=r.memoizedState;if(a=l.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},r.updateQueue.baseState=i,r.memoizedState=i,r.flags&256){n=Wu(Error(rt(423)),r),r=US(e,r,a,s,n);break e}else if(a!==n){n=Wu(Error(rt(424)),r),r=US(e,r,a,s,n);break e}else for(bn=Lo(r.stateNode.containerInfo.firstChild),vn=r,Ur=!0,ji=null,s=O7(r,null,a,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Uu(),a===n){r=Ml(e,r,s);break e}Aa(e,r,a,s)}r=r.child}return r;case 5:return L7(r),e===null&&j2(r),a=r.type,n=r.pendingProps,i=e!==null?e.memoizedProps:null,l=n.children,f2(a,n)?l=null:i!==null&&f2(a,i)&&(r.flags|=32),lI(e,r),Aa(e,r,l,s),r.child;case 6:return e===null&&j2(r),null;case 13:return cI(e,r,s);case 4:return Zw(r,r.stateNode.containerInfo),a=r.pendingProps,e===null?r.child=Hu(r,null,a,s):Aa(e,r,a,s),r.child;case 11:return a=r.type,n=r.pendingProps,n=r.elementType===a?n:bi(a,n),BS(e,r,a,n,s);case 7:return Aa(e,r,r.pendingProps,s),r.child;case 8:return Aa(e,r,r.pendingProps.children,s),r.child;case 12:return Aa(e,r,r.pendingProps.children,s),r.child;case 10:e:{if(a=r.type._context,n=r.pendingProps,i=r.memoizedProps,l=n.value,Cr(xf,a._currentValue),a._currentValue=l,i!==null)if(Ii(i.value,l)){if(i.children===n.children&&!Ga.current){r=Ml(e,r,s);break e}}else for(i=r.child,i!==null&&(i.return=r);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var d=o.firstContext;d!==null;){if(d.context===a){if(i.tag===1){d=bl(-1,s&-s),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}i.lanes|=s,d=i.alternate,d!==null&&(d.lanes|=s),w2(i.return,s,r),o.lanes|=s;break}d=d.next}}else if(i.tag===10)l=i.type===r.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(rt(341));l.lanes|=s,o=l.alternate,o!==null&&(o.lanes|=s),w2(l,s,r),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===r){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Aa(e,r,n.children,s),r=r.child}return r;case 9:return n=r.type,a=r.pendingProps.children,ku(r,s),n=ni(n),a=a(n),r.flags|=1,Aa(e,r,a,s),r.child;case 14:return a=r.type,n=bi(a,r.pendingProps),n=bi(a.type,n),$S(e,r,a,n,s);case 15:return nI(e,r,r.type,r.pendingProps,s);case 17:return a=r.type,n=r.pendingProps,n=r.elementType===a?n:bi(a,n),Fp(e,r),r.tag=1,qa(a)?(e=!0,uf(r)):e=!1,ku(r,s),rI(r,a,n),S2(r,a,n,s),P2(null,r,a,!0,e,s);case 19:return dI(e,r,s);case 22:return iI(e,r,s)}throw Error(rt(156,r.tag))};function CI(e,r){return ZE(e,r)}function VH(e,r,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(e,r,s,a){return new VH(e,r,s,a)}function xN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WH(e){if(typeof e=="function")return xN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ow)return 11;if(e===Dw)return 14}return 2}function $o(e,r){var s=e.alternate;return s===null?(s=Xn(e.tag,r,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=r,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,r=e.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function $p(e,r,s,a,n,i){var l=2;if(a=e,typeof e=="function")xN(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case tu:return Uc(s.children,n,i,r);case _w:l=8,n|=8;break;case K1:return e=Xn(12,s,r,n|2),e.elementType=K1,e.lanes=i,e;case Y1:return e=Xn(13,s,r,n),e.elementType=Y1,e.lanes=i,e;case X1:return e=Xn(19,s,r,n),e.elementType=X1,e.lanes=i,e;case LE:return py(s,n,i,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case DE:l=10;break e;case ME:l=9;break e;case Ow:l=11;break e;case Dw:l=14;break e;case bo:l=16,a=null;break e}throw Error(rt(130,e==null?e:typeof e,""))}return r=Xn(l,s,r,n),r.elementType=e,r.type=a,r.lanes=i,r}function Uc(e,r,s,a){return e=Xn(7,e,a,r),e.lanes=s,e}function py(e,r,s,a){return e=Xn(22,e,a,r),e.elementType=LE,e.lanes=s,e.stateNode={isHidden:!1},e}function Tv(e,r,s){return e=Xn(6,e,null,r),e.lanes=s,e}function Ev(e,r,s){return r=Xn(4,e.children!==null?e.children:[],e.key,r),r.lanes=s,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function GH(e,r,s,a,n){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dv(0),this.expirationTimes=dv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dv(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function pN(e,r,s,a,n,i,l,o,d){return e=new GH(e,r,s,o,d),r===1?(r=1,i===!0&&(r|=8)):r=0,i=Xn(3,null,null,r),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qw(i),e}function qH(e,r,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eu,key:a==null?null:""+a,children:e,containerInfo:r,implementation:s}}function PI(e){if(!e)return Yo;e=e._reactInternals;e:{if(kd(e)!==e||e.tag!==1)throw Error(rt(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(qa(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(rt(171))}if(e.tag===1){var s=e.type;if(qa(s))return P7(e,s,r)}return r}function AI(e,r,s,a,n,i,l,o,d){return e=pN(s,a,!0,e,n,i,l,o,d),e.context=PI(null),s=e.current,a=Da(),n=Bo(s),i=bl(a,n),i.callback=r??null,Fo(s,i,n),e.current.lanes=n,L0(e,n,a),Ka(e,a),e}function fy(e,r,s,a){var n=r.current,i=Da(),l=Bo(n);return s=PI(s),r.context===null?r.context=s:r.pendingContext=s,r=bl(i,l),r.payload={element:e},a=a===void 0?null:a,a!==null&&(r.callback=a),e=Fo(n,r,l),e!==null&&(Ai(e,n,l,i),Dp(e,n,l)),l}function Sf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function QS(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<r?s:r}}function fN(e,r){QS(e,r),(e=e.alternate)&&QS(e,r)}function KH(){return null}var TI=typeof reportError=="function"?reportError:function(e){console.error(e)};function gN(e){this._internalRoot=e}gy.prototype.render=gN.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(rt(409));fy(e,r,null,null)};gy.prototype.unmount=gN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;nd(function(){fy(null,e,null,null)}),r[Ol]=null}};function gy(e){this._internalRoot=e}gy.prototype.unstable_scheduleHydration=function(e){if(e){var r=i7();e={blockedOn:null,target:e,priority:r};for(var s=0;s<So.length&&r!==0&&r<So[s].priority;s++);So.splice(s,0,e),s===0&&o7(e)}};function yN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ZS(){}function YH(e,r,s,a,n){if(n){if(typeof a=="function"){var i=a;a=function(){var c=Sf(l);i.call(c)}}var l=AI(r,a,e,0,null,!1,!1,"",ZS);return e._reactRootContainer=l,e[Ol]=l.current,Kh(e.nodeType===8?e.parentNode:e),nd(),l}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var o=a;a=function(){var c=Sf(d);o.call(c)}}var d=pN(e,0,!1,null,null,!1,!1,"",ZS);return e._reactRootContainer=d,e[Ol]=d.current,Kh(e.nodeType===8?e.parentNode:e),nd(function(){fy(r,d,s,a)}),d}function by(e,r,s,a,n){var i=s._reactRootContainer;if(i){var l=i;if(typeof n=="function"){var o=n;n=function(){var d=Sf(l);o.call(d)}}fy(r,l,e,n)}else l=YH(s,r,e,n,a);return Sf(l)}a7=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var s=mh(r.pendingLanes);s!==0&&(Fw(r,s|1),Ka(r,ms()),!(ar&6)&&(Gu=ms()+500,cc()))}break;case 13:nd(function(){var a=Dl(e,1);if(a!==null){var n=Da();Ai(a,e,1,n)}}),fN(e,1)}};Rw=function(e){if(e.tag===13){var r=Dl(e,134217728);if(r!==null){var s=Da();Ai(r,e,134217728,s)}fN(e,134217728)}};n7=function(e){if(e.tag===13){var r=Bo(e),s=Dl(e,r);if(s!==null){var a=Da();Ai(s,e,r,a)}fN(e,r)}};i7=function(){return fr};l7=function(e,r){var s=fr;try{return fr=e,r()}finally{fr=s}};i2=function(e,r,s){switch(r){case"input":if(Z1(e,s),r=s.name,s.type==="radio"&&r!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var a=s[r];if(a!==e&&a.form===e.form){var n=cy(a);if(!n)throw Error(rt(90));RE(a),Z1(a,n)}}}break;case"textarea":$E(e,s);break;case"select":r=s.value,r!=null&&ju(e,!!s.multiple,r,!1)}};qE=uN;KE=nd;var XH={usingClientEntryPoint:!1,Events:[R0,nu,cy,WE,GE,uN]},Wm={findFiberByHostInstance:Ec,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JH={bundleType:Wm.bundleType,version:Wm.version,rendererPackageName:Wm.rendererPackageName,rendererConfig:Wm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=JE(e),e===null?null:e.stateNode},findFiberByHostInstance:Wm.findFiberByHostInstance||KH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qx.isDisabled&&qx.supportsFiber)try{ny=qx.inject(JH),Ki=qx}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XH;Tn.createPortal=function(e,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yN(r))throw Error(rt(200));return qH(e,r,null,s)};Tn.createRoot=function(e,r){if(!yN(e))throw Error(rt(299));var s=!1,a="",n=TI;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(n=r.onRecoverableError)),r=pN(e,1,!1,null,null,s,!1,a,n),e[Ol]=r.current,Kh(e.nodeType===8?e.parentNode:e),new gN(r)};Tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(rt(188)):(e=Object.keys(e).join(","),Error(rt(268,e)));return e=JE(r),e=e===null?null:e.stateNode,e};Tn.flushSync=function(e){return nd(e)};Tn.hydrate=function(e,r,s){if(!yy(r))throw Error(rt(200));return by(null,e,r,!0,s)};Tn.hydrateRoot=function(e,r,s){if(!yN(e))throw Error(rt(405));var a=s!=null&&s.hydratedSources||null,n=!1,i="",l=TI;if(s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),r=AI(r,null,e,1,s??null,n,!1,i,l),e[Ol]=r.current,Kh(e),a)for(e=0;e<a.length;e++)s=a[e],n=s._getVersion,n=n(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,n]:r.mutableSourceEagerHydrationData.push(s,n);return new gy(r)};Tn.render=function(e,r,s){if(!yy(r))throw Error(rt(200));return by(null,e,r,!1,s)};Tn.unmountComponentAtNode=function(e){if(!yy(e))throw Error(rt(40));return e._reactRootContainer?(nd(function(){by(null,null,e,!1,function(){e._reactRootContainer=null,e[Ol]=null})}),!0):!1};Tn.unstable_batchedUpdates=uN;Tn.unstable_renderSubtreeIntoContainer=function(e,r,s,a){if(!yy(s))throw Error(rt(200));if(e==null||e._reactInternals===void 0)throw Error(rt(38));return by(e,r,s,!1,a)};Tn.version="18.3.1-next-f1338f8080-20240426";function EI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(EI)}catch(e){console.error(e)}}EI(),EE.exports=Tn;var vy=EE.exports,ek=vy;G1.createRoot=ek.createRoot,G1.hydrateRoot=ek.hydrateRoot;var QH=typeof Element<"u",ZH=typeof Map=="function",eV=typeof Set=="function",tV=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function zp(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var s,a,n;if(Array.isArray(e)){if(s=e.length,s!=r.length)return!1;for(a=s;a--!==0;)if(!zp(e[a],r[a]))return!1;return!0}var i;if(ZH&&e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(i=e.entries();!(a=i.next()).done;)if(!r.has(a.value[0]))return!1;for(i=e.entries();!(a=i.next()).done;)if(!zp(a.value[1],r.get(a.value[0])))return!1;return!0}if(eV&&e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(i=e.entries();!(a=i.next()).done;)if(!r.has(a.value[0]))return!1;return!0}if(tV&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(s=e.length,s!=r.length)return!1;for(a=s;a--!==0;)if(e[a]!==r[a])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof r.valueOf=="function")return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof r.toString=="function")return e.toString()===r.toString();if(n=Object.keys(e),s=n.length,s!==Object.keys(r).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,n[a]))return!1;if(QH&&e instanceof Element)return!1;for(a=s;a--!==0;)if(!((n[a]==="_owner"||n[a]==="__v"||n[a]==="__o")&&e.$$typeof)&&!zp(e[n[a]],r[n[a]]))return!1;return!0}return e!==e&&r!==r}var rV=function(r,s){try{return zp(r,s)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}};const sV=di(rV);var aV=function(e,r,s,a,n,i,l,o){if(!e){var d;if(r===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[s,a,n,i,l,o],u=0;d=new Error(r.replace(/%s/g,function(){return c[u++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}},nV=aV;const tk=di(nV);var iV=function(r,s,a,n){var i=a?a.call(n,r,s):void 0;if(i!==void 0)return!!i;if(r===s)return!0;if(typeof r!="object"||!r||typeof s!="object"||!s)return!1;var l=Object.keys(r),o=Object.keys(s);if(l.length!==o.length)return!1;for(var d=Object.prototype.hasOwnProperty.bind(s),c=0;c<l.length;c++){var u=l[c];if(!d(u))return!1;var m=r[u],x=s[u];if(i=a?a.call(n,m,x,u):void 0,i===!1||i===void 0&&m!==x)return!1}return!0};const lV=di(iV);var II=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(II||{}),Iv={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},rk=Object.values(II),bN={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},oV=Object.entries(bN).reduce((e,[r,s])=>(e[s]=r,e),{}),ki="data-rh",Pu={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Au=(e,r)=>{for(let s=e.length-1;s>=0;s-=1){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,r))return a[r]}return null},cV=e=>{let r=Au(e,"title");const s=Au(e,Pu.TITLE_TEMPLATE);if(Array.isArray(r)&&(r=r.join("")),s&&r)return s.replace(/%s/g,()=>r);const a=Au(e,Pu.DEFAULT_TITLE);return r||a||void 0},dV=e=>Au(e,Pu.ON_CHANGE_CLIENT_STATE)||(()=>{}),_v=(e,r)=>r.filter(s=>typeof s[e]<"u").map(s=>s[e]).reduce((s,a)=>({...s,...a}),{}),uV=(e,r)=>r.filter(s=>typeof s.base<"u").map(s=>s.base).reverse().reduce((s,a)=>{if(!s.length){const n=Object.keys(a);for(let i=0;i<n.length;i+=1){const o=n[i].toLowerCase();if(e.indexOf(o)!==-1&&a[o])return s.concat(a)}}return s},[]),mV=e=>console&&typeof console.warn=="function"&&console.warn(e),Gm=(e,r,s)=>{const a={};return s.filter(n=>Array.isArray(n[e])?!0:(typeof n[e]<"u"&&mV(`Helmet: ${e} should be of type "Array". Instead found type "${typeof n[e]}"`),!1)).map(n=>n[e]).reverse().reduce((n,i)=>{const l={};i.filter(d=>{let c;const u=Object.keys(d);for(let x=0;x<u.length;x+=1){const h=u[x],p=h.toLowerCase();r.indexOf(p)!==-1&&!(c==="rel"&&d[c].toLowerCase()==="canonical")&&!(p==="rel"&&d[p].toLowerCase()==="stylesheet")&&(c=p),r.indexOf(h)!==-1&&(h==="innerHTML"||h==="cssText"||h==="itemprop")&&(c=h)}if(!c||!d[c])return!1;const m=d[c].toLowerCase();return a[c]||(a[c]={}),l[c]||(l[c]={}),a[c][m]?!1:(l[c][m]=!0,!0)}).reverse().forEach(d=>n.push(d));const o=Object.keys(l);for(let d=0;d<o.length;d+=1){const c=o[d],u={...a[c],...l[c]};a[c]=u}return n},[]).reverse()},hV=(e,r)=>{if(Array.isArray(e)&&e.length){for(let s=0;s<e.length;s+=1)if(e[s][r])return!0}return!1},xV=e=>({baseTag:uV(["href"],e),bodyAttributes:_v("bodyAttributes",e),defer:Au(e,Pu.DEFER),encode:Au(e,Pu.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:_v("htmlAttributes",e),linkTags:Gm("link",["rel","href"],e),metaTags:Gm("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Gm("noscript",["innerHTML"],e),onChangeClientState:dV(e),scriptTags:Gm("script",["src","innerHTML"],e),styleTags:Gm("style",["cssText"],e),title:cV(e),titleAttributes:_v("titleAttributes",e),prioritizeSeoTags:hV(e,Pu.PRIORITIZE_SEO_TAGS)}),_I=e=>Array.isArray(e)?e.join(""):e,pV=(e,r)=>{const s=Object.keys(e);for(let a=0;a<s.length;a+=1)if(r[s[a]]&&r[s[a]].includes(e[s[a]]))return!0;return!1},Ov=(e,r)=>Array.isArray(e)?e.reduce((s,a)=>(pV(a,r)?s.priority.push(a):s.default.push(a),s),{priority:[],default:[]}):{default:e,priority:[]},sk=(e,r)=>({...e,[r]:void 0}),fV=["noscript","script","style"],B2=(e,r=!0)=>r===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),OI=e=>Object.keys(e).reduce((r,s)=>{const a=typeof e[s]<"u"?`${s}="${e[s]}"`:`${s}`;return r?`${r} ${a}`:a},""),gV=(e,r,s,a)=>{const n=OI(s),i=_I(r);return n?`<${e} ${ki}="true" ${n}>${B2(i,a)}</${e}>`:`<${e} ${ki}="true">${B2(i,a)}</${e}>`},yV=(e,r,s=!0)=>r.reduce((a,n)=>{const i=n,l=Object.keys(i).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,u)=>{const m=typeof i[u]>"u"?u:`${u}="${B2(i[u],s)}"`;return c?`${c} ${m}`:m},""),o=i.innerHTML||i.cssText||"",d=fV.indexOf(e)===-1;return`${a}<${e} ${ki}="true" ${l}${d?"/>":`>${o}</${e}>`}`},""),DI=(e,r={})=>Object.keys(e).reduce((s,a)=>{const n=bN[a];return s[n||a]=e[a],s},r),bV=(e,r,s)=>{const a={key:r,[ki]:!0},n=DI(s,a);return[_t.createElement("title",n,r)]},Up=(e,r)=>r.map((s,a)=>{const n={key:a,[ki]:!0};return Object.keys(s).forEach(i=>{const o=bN[i]||i;if(o==="innerHTML"||o==="cssText"){const d=s.innerHTML||s.cssText;n.dangerouslySetInnerHTML={__html:d}}else n[o]=s[i]}),_t.createElement(e,n)}),Wn=(e,r,s=!0)=>{switch(e){case"title":return{toComponent:()=>bV(e,r.title,r.titleAttributes),toString:()=>gV(e,r.title,r.titleAttributes,s)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>DI(r),toString:()=>OI(r)};default:return{toComponent:()=>Up(e,r),toString:()=>yV(e,r,s)}}},vV=({metaTags:e,linkTags:r,scriptTags:s,encode:a})=>{const n=Ov(e,Iv.meta),i=Ov(r,Iv.link),l=Ov(s,Iv.script);return{priorityMethods:{toComponent:()=>[...Up("meta",n.priority),...Up("link",i.priority),...Up("script",l.priority)],toString:()=>`${Wn("meta",n.priority,a)} ${Wn("link",i.priority,a)} ${Wn("script",l.priority,a)}`},metaTags:n.default,linkTags:i.default,scriptTags:l.default}},jV=e=>{const{baseTag:r,bodyAttributes:s,encode:a=!0,htmlAttributes:n,noscriptTags:i,styleTags:l,title:o="",titleAttributes:d,prioritizeSeoTags:c}=e;let{linkTags:u,metaTags:m,scriptTags:x}=e,h={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:h,linkTags:u,metaTags:m,scriptTags:x}=vV(e)),{priority:h,base:Wn("base",r,a),bodyAttributes:Wn("bodyAttributes",s,a),htmlAttributes:Wn("htmlAttributes",n,a),link:Wn("link",u,a),meta:Wn("meta",m,a),noscript:Wn("noscript",i,a),script:Wn("script",x,a),style:Wn("style",l,a),title:Wn("title",{title:o,titleAttributes:d},a)}},$2=jV,Kx=[],MI=!!(typeof window<"u"&&window.document&&window.document.createElement),z2=class{constructor(e,r){pi(this,"instances",[]);pi(this,"canUseDOM",MI);pi(this,"context");pi(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Kx:this.instances,add:e=>{(this.canUseDOM?Kx:this.instances).push(e)},remove:e=>{const r=(this.canUseDOM?Kx:this.instances).indexOf(e);(this.canUseDOM?Kx:this.instances).splice(r,1)}}});this.context=e,this.canUseDOM=r||!1,r||(e.helmet=$2({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},wV={},LI=_t.createContext(wV),$c,FI=($c=class extends g.Component{constructor(s){super(s);pi(this,"helmetData");this.helmetData=new z2(this.props.context||{},$c.canUseDOM)}render(){return _t.createElement(LI.Provider,{value:this.helmetData.value},this.props.children)}},pi($c,"canUseDOM",MI),$c),Wd=(e,r)=>{const s=document.head||document.querySelector("head"),a=s.querySelectorAll(`${e}[${ki}]`),n=[].slice.call(a),i=[];let l;return r&&r.length&&r.forEach(o=>{const d=document.createElement(e);for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c))if(c==="innerHTML")d.innerHTML=o.innerHTML;else if(c==="cssText")d.styleSheet?d.styleSheet.cssText=o.cssText:d.appendChild(document.createTextNode(o.cssText));else{const u=c,m=typeof o[u]>"u"?"":o[u];d.setAttribute(c,m)}d.setAttribute(ki,"true"),n.some((c,u)=>(l=u,d.isEqualNode(c)))?n.splice(l,1):i.push(d)}),n.forEach(o=>{var d;return(d=o.parentNode)==null?void 0:d.removeChild(o)}),i.forEach(o=>s.appendChild(o)),{oldTags:n,newTags:i}},U2=(e,r)=>{const s=document.getElementsByTagName(e)[0];if(!s)return;const a=s.getAttribute(ki),n=a?a.split(","):[],i=[...n],l=Object.keys(r);for(const o of l){const d=r[o]||"";s.getAttribute(o)!==d&&s.setAttribute(o,d),n.indexOf(o)===-1&&n.push(o);const c=i.indexOf(o);c!==-1&&i.splice(c,1)}for(let o=i.length-1;o>=0;o-=1)s.removeAttribute(i[o]);n.length===i.length?s.removeAttribute(ki):s.getAttribute(ki)!==l.join(",")&&s.setAttribute(ki,l.join(","))},NV=(e,r)=>{typeof e<"u"&&document.title!==e&&(document.title=_I(e)),U2("title",r)},ak=(e,r)=>{const{baseTag:s,bodyAttributes:a,htmlAttributes:n,linkTags:i,metaTags:l,noscriptTags:o,onChangeClientState:d,scriptTags:c,styleTags:u,title:m,titleAttributes:x}=e;U2("body",a),U2("html",n),NV(m,x);const h={baseTag:Wd("base",s),linkTags:Wd("link",i),metaTags:Wd("meta",l),noscriptTags:Wd("noscript",o),scriptTags:Wd("script",c),styleTags:Wd("style",u)},p={},f={};Object.keys(h).forEach(b=>{const{newTags:j,oldTags:w}=h[b];j.length&&(p[b]=j),w.length&&(f[b]=h[b].oldTags)}),r&&r(),d(e,p,f)},qm=null,SV=e=>{qm&&cancelAnimationFrame(qm),e.defer?qm=requestAnimationFrame(()=>{ak(e,()=>{qm=null})}):(ak(e),qm=null)},kV=SV,nk=class extends g.Component{constructor(){super(...arguments);pi(this,"rendered",!1)}shouldComponentUpdate(r){return!lV(r,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:r}=this.props.context;r.remove(this),this.emitChange()}emitChange(){const{helmetInstances:r,setHelmet:s}=this.props.context;let a=null;const n=xV(r.get().map(i=>{const l={...i.props};return delete l.context,l}));FI.canUseDOM?kV(n):$2&&(a=$2(n)),s(a)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:r}=this.props.context;r.add(this),this.emitChange()}render(){return this.init(),null}},W1,CV=(W1=class extends g.Component{shouldComponentUpdate(e){return!sV(sk(this.props,"helmetData"),sk(e,"helmetData"))}mapNestedChildrenToProps(e,r){if(!r)return null;switch(e.type){case"script":case"noscript":return{innerHTML:r};case"style":return{cssText:r};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,r,s,a){return{...r,[e.type]:[...r[e.type]||[],{...s,...this.mapNestedChildrenToProps(e,a)}]}}mapObjectTypeChildren(e,r,s,a){switch(e.type){case"title":return{...r,[e.type]:a,titleAttributes:{...s}};case"body":return{...r,bodyAttributes:{...s}};case"html":return{...r,htmlAttributes:{...s}};default:return{...r,[e.type]:{...s}}}}mapArrayTypeChildrenToProps(e,r){let s={...r};return Object.keys(e).forEach(a=>{s={...s,[a]:e[a]}}),s}warnOnInvalidChildren(e,r){return tk(rk.some(s=>e.type===s),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${rk.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),tk(!r||typeof r=="string"||Array.isArray(r)&&!r.some(s=>typeof s!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,r){let s={};return _t.Children.forEach(e,a=>{if(!a||!a.props)return;const{children:n,...i}=a.props,l=Object.keys(i).reduce((d,c)=>(d[oV[c]||c]=i[c],d),{});let{type:o}=a;switch(typeof o=="symbol"?o=o.toString():this.warnOnInvalidChildren(a,n),o){case"Symbol(react.fragment)":r=this.mapChildrenToProps(n,r);break;case"link":case"meta":case"noscript":case"script":case"style":s=this.flattenArrayTypeChildren(a,s,l,n);break;default:r=this.mapObjectTypeChildren(a,r,l,n);break}}),this.mapArrayTypeChildrenToProps(s,r)}render(){const{children:e,...r}=this.props;let s={...r},{helmetData:a}=r;if(e&&(s=this.mapChildrenToProps(e,s)),a&&!(a instanceof z2)){const n=a;a=new z2(n.context,!0),delete s.helmetData}return a?_t.createElement(nk,{...s,context:a.value}):_t.createElement(LI.Consumer,null,n=>_t.createElement(nk,{...s,context:n}))}},pi(W1,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),W1);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},s0.apply(this,arguments)}var To;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(To||(To={}));const ik="popstate";function PV(e){e===void 0&&(e={});function r(a,n){let{pathname:i,search:l,hash:o}=a.location;return H2("",{pathname:i,search:l,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:kf(n)}return TV(r,s,null,e)}function Yr(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function RI(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function AV(){return Math.random().toString(36).substr(2,8)}function lk(e,r){return{usr:e.state,key:e.key,idx:r}}function H2(e,r,s,a){return s===void 0&&(s=null),s0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?xm(r):r,{state:s,key:r&&r.key||a||AV()})}function kf(e){let{pathname:r="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function xm(e){let r={};if(e){let s=e.indexOf("#");s>=0&&(r.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(r.search=e.substr(a),e=e.substr(0,a)),e&&(r.pathname=e)}return r}function TV(e,r,s,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,l=n.history,o=To.Pop,d=null,c=u();c==null&&(c=0,l.replaceState(s0({},l.state,{idx:c}),""));function u(){return(l.state||{idx:null}).idx}function m(){o=To.Pop;let b=u(),j=b==null?null:b-c;c=b,d&&d({action:o,location:f.location,delta:j})}function x(b,j){o=To.Push;let w=H2(f.location,b,j);c=u()+1;let y=lk(w,c),v=f.createHref(w);try{l.pushState(y,"",v)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;n.location.assign(v)}i&&d&&d({action:o,location:f.location,delta:1})}function h(b,j){o=To.Replace;let w=H2(f.location,b,j);c=u();let y=lk(w,c),v=f.createHref(w);l.replaceState(y,"",v),i&&d&&d({action:o,location:f.location,delta:0})}function p(b){let j=n.location.origin!=="null"?n.location.origin:n.location.href,w=typeof b=="string"?b:kf(b);return w=w.replace(/ $/,"%20"),Yr(j,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,j)}let f={get action(){return o},get location(){return e(n,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return n.addEventListener(ik,m),d=b,()=>{n.removeEventListener(ik,m),d=null}},createHref(b){return r(n,b)},createURL:p,encodeLocation(b){let j=p(b);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:h,go(b){return l.go(b)}};return f}var ok;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ok||(ok={}));function EV(e,r,s){return s===void 0&&(s="/"),IV(e,r,s)}function IV(e,r,s,a){let n=typeof r=="string"?xm(r):r,i=qu(n.pathname||"/",s);if(i==null)return null;let l=BI(e);_V(l);let o=null;for(let d=0;o==null&&d<l.length;++d){let c=HV(i);o=zV(l[d],c)}return o}function BI(e,r,s,a){r===void 0&&(r=[]),s===void 0&&(s=[]),a===void 0&&(a="");let n=(i,l,o)=>{let d={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};d.relativePath.startsWith("/")&&(Yr(d.relativePath.startsWith(a),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(a.length));let c=zo([a,d.relativePath]),u=s.concat(d);i.children&&i.children.length>0&&(Yr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),BI(i.children,r,u,c)),!(i.path==null&&!i.index)&&r.push({path:c,score:BV(c,i.index),routesMeta:u})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))n(i,l);else for(let d of $I(i.path))n(i,l,d)}),r}function $I(e){let r=e.split("/");if(r.length===0)return[];let[s,...a]=r,n=s.endsWith("?"),i=s.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let l=$I(a.join("/")),o=[];return o.push(...l.map(d=>d===""?i:[i,d].join("/"))),n&&o.push(...l),o.map(d=>e.startsWith("/")&&d===""?"/":d)}function _V(e){e.sort((r,s)=>r.score!==s.score?s.score-r.score:$V(r.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const OV=/^:[\w-]+$/,DV=3,MV=2,LV=1,FV=10,RV=-2,ck=e=>e==="*";function BV(e,r){let s=e.split("/"),a=s.length;return s.some(ck)&&(a+=RV),r&&(a+=MV),s.filter(n=>!ck(n)).reduce((n,i)=>n+(OV.test(i)?DV:i===""?LV:FV),a)}function $V(e,r){return e.length===r.length&&e.slice(0,-1).every((a,n)=>a===r[n])?e[e.length-1]-r[r.length-1]:0}function zV(e,r,s){let{routesMeta:a}=e,n={},i="/",l=[];for(let o=0;o<a.length;++o){let d=a[o],c=o===a.length-1,u=i==="/"?r:r.slice(i.length)||"/",m=V2({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},u),x=d.route;if(!m)return null;Object.assign(n,m.params),l.push({params:n,pathname:zo([i,m.pathname]),pathnameBase:qV(zo([i,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(i=zo([i,m.pathnameBase]))}return l}function V2(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=UV(e.path,e.caseSensitive,e.end),n=r.match(s);if(!n)return null;let i=n[0],l=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((c,u,m)=>{let{paramName:x,isOptional:h}=u;if(x==="*"){let f=o[m]||"";l=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}const p=o[m];return h&&!p?c[x]=void 0:c[x]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:l,pattern:e}}function UV(e,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),RI(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,d)=>(a.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,r?void 0:"i"),a]}function HV(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return RI(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function qu(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function VV(e,r){r===void 0&&(r="/");let{pathname:s,search:a="",hash:n=""}=typeof e=="string"?xm(e):e;return{pathname:s?s.startsWith("/")?s:WV(s,r):r,search:KV(a),hash:YV(n)}}function WV(e,r){let s=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function Dv(e,r,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GV(e){return e.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function vN(e,r){let s=GV(e);return r?s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function jN(e,r,s,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=xm(e):(n=s0({},e),Yr(!n.pathname||!n.pathname.includes("?"),Dv("?","pathname","search",n)),Yr(!n.pathname||!n.pathname.includes("#"),Dv("#","pathname","hash",n)),Yr(!n.search||!n.search.includes("#"),Dv("#","search","hash",n)));let i=e===""||n.pathname==="",l=i?"/":n.pathname,o;if(l==null)o=s;else{let m=r.length-1;if(!a&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),m-=1;n.pathname=x.join("/")}o=m>=0?r[m]:"/"}let d=VV(n,o),c=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(c||u)&&(d.pathname+="/"),d}const zo=e=>e.join("/").replace(/\/\/+/g,"/"),qV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),KV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,YV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function XV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const zI=["post","put","patch","delete"];new Set(zI);const JV=["get",...zI];new Set(JV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},a0.apply(this,arguments)}const jy=g.createContext(null),UI=g.createContext(null),Jl=g.createContext(null),wy=g.createContext(null),ll=g.createContext({outlet:null,matches:[],isDataRoute:!1}),HI=g.createContext(null);function QV(e,r){let{relative:s}=r===void 0?{}:r;pm()||Yr(!1);let{basename:a,navigator:n}=g.useContext(Jl),{hash:i,pathname:l,search:o}=Ny(e,{relative:s}),d=l;return a!=="/"&&(d=l==="/"?a:zo([a,l])),n.createHref({pathname:d,search:o,hash:i})}function pm(){return g.useContext(wy)!=null}function $r(){return pm()||Yr(!1),g.useContext(wy).location}function VI(e){g.useContext(Jl).static||g.useLayoutEffect(e)}function Zt(){let{isDataRoute:e}=g.useContext(ll);return e?hW():ZV()}function ZV(){pm()||Yr(!1);let e=g.useContext(jy),{basename:r,future:s,navigator:a}=g.useContext(Jl),{matches:n}=g.useContext(ll),{pathname:i}=$r(),l=JSON.stringify(vN(n,s.v7_relativeSplatPath)),o=g.useRef(!1);return VI(()=>{o.current=!0}),g.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){a.go(c);return}let m=jN(c,JSON.parse(l),i,u.relative==="path");e==null&&r!=="/"&&(m.pathname=m.pathname==="/"?r:zo([r,m.pathname])),(u.replace?a.replace:a.push)(m,u.state,u)},[r,a,l,i,e])}const eW=g.createContext(null);function tW(e){let r=g.useContext(ll).outlet;return r&&g.createElement(eW.Provider,{value:e},r)}function fm(){let{matches:e}=g.useContext(ll),r=e[e.length-1];return r?r.params:{}}function Ny(e,r){let{relative:s}=r===void 0?{}:r,{future:a}=g.useContext(Jl),{matches:n}=g.useContext(ll),{pathname:i}=$r(),l=JSON.stringify(vN(n,a.v7_relativeSplatPath));return g.useMemo(()=>jN(e,JSON.parse(l),i,s==="path"),[e,l,i,s])}function rW(e,r){return sW(e,r)}function sW(e,r,s,a){pm()||Yr(!1);let{navigator:n}=g.useContext(Jl),{matches:i}=g.useContext(ll),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let c=$r(),u;if(r){var m;let b=typeof r=="string"?xm(r):r;d==="/"||(m=b.pathname)!=null&&m.startsWith(d)||Yr(!1),u=b}else u=c;let x=u.pathname||"/",h=x;if(d!=="/"){let b=d.replace(/^\//,"").split("/");h="/"+x.replace(/^\//,"").split("/").slice(b.length).join("/")}let p=EV(e,{pathname:h}),f=oW(p&&p.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:zo([d,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:zo([d,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,s,a);return r&&f?g.createElement(wy.Provider,{value:{location:a0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:To.Pop}},f):f}function aW(){let e=mW(),r=XV(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},r),s?g.createElement("pre",{style:n},s):null,null)}const nW=g.createElement(aW,null);class iW extends g.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?g.createElement(ll.Provider,{value:this.props.routeContext},g.createElement(HI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lW(e){let{routeContext:r,match:s,children:a}=e,n=g.useContext(jy);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),g.createElement(ll.Provider,{value:r},a)}function oW(e,r,s,a){var n;if(r===void 0&&(r=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=a)!=null&&i.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let l=e,o=(n=s)==null?void 0:n.errors;if(o!=null){let u=l.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);u>=0||Yr(!1),l=l.slice(0,Math.min(l.length,u+1))}let d=!1,c=-1;if(s&&a&&a.v7_partialHydration)for(let u=0;u<l.length;u++){let m=l[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=u),m.route.id){let{loaderData:x,errors:h}=s,p=m.route.loader&&x[m.route.id]===void 0&&(!h||h[m.route.id]===void 0);if(m.route.lazy||p){d=!0,c>=0?l=l.slice(0,c+1):l=[l[0]];break}}}return l.reduceRight((u,m,x)=>{let h,p=!1,f=null,b=null;s&&(h=o&&m.route.id?o[m.route.id]:void 0,f=m.route.errorElement||nW,d&&(c<0&&x===0?(xW("route-fallback"),p=!0,b=null):c===x&&(p=!0,b=m.route.hydrateFallbackElement||null)));let j=r.concat(l.slice(0,x+1)),w=()=>{let y;return h?y=f:p?y=b:m.route.Component?y=g.createElement(m.route.Component,null):m.route.element?y=m.route.element:y=u,g.createElement(lW,{match:m,routeContext:{outlet:u,matches:j,isDataRoute:s!=null},children:y})};return s&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?g.createElement(iW,{location:s.location,revalidation:s.revalidation,component:f,error:h,children:w(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):w()},null)}var WI=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(WI||{}),GI=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(GI||{});function cW(e){let r=g.useContext(jy);return r||Yr(!1),r}function dW(e){let r=g.useContext(UI);return r||Yr(!1),r}function uW(e){let r=g.useContext(ll);return r||Yr(!1),r}function qI(e){let r=uW(),s=r.matches[r.matches.length-1];return s.route.id||Yr(!1),s.route.id}function mW(){var e;let r=g.useContext(HI),s=dW(),a=qI();return r!==void 0?r:(e=s.errors)==null?void 0:e[a]}function hW(){let{router:e}=cW(WI.UseNavigateStable),r=qI(GI.UseNavigateStable),s=g.useRef(!1);return VI(()=>{s.current=!0}),g.useCallback(function(n,i){i===void 0&&(i={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,a0({fromRouteId:r},i)))},[e,r])}const dk={};function xW(e,r,s){dk[e]||(dk[e]=!0)}function pW(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Cd(e){let{to:r,replace:s,state:a,relative:n}=e;pm()||Yr(!1);let{future:i,static:l}=g.useContext(Jl),{matches:o}=g.useContext(ll),{pathname:d}=$r(),c=Zt(),u=jN(r,vN(o,i.v7_relativeSplatPath),d,n==="path"),m=JSON.stringify(u);return g.useEffect(()=>c(JSON.parse(m),{replace:s,state:a,relative:n}),[c,m,n,s,a]),null}function Ql(e){return tW(e.context)}function tt(e){Yr(!1)}function fW(e){let{basename:r="/",children:s=null,location:a,navigationType:n=To.Pop,navigator:i,static:l=!1,future:o}=e;pm()&&Yr(!1);let d=r.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:d,navigator:i,static:l,future:a0({v7_relativeSplatPath:!1},o)}),[d,o,i,l]);typeof a=="string"&&(a=xm(a));let{pathname:u="/",search:m="",hash:x="",state:h=null,key:p="default"}=a,f=g.useMemo(()=>{let b=qu(u,d);return b==null?null:{location:{pathname:b,search:m,hash:x,state:h,key:p},navigationType:n}},[d,u,m,x,h,p,n]);return f==null?null:g.createElement(Jl.Provider,{value:c},g.createElement(wy.Provider,{children:s,value:f}))}function Sy(e){let{children:r,location:s}=e;return rW(W2(r),s)}new Promise(()=>{});function W2(e,r){r===void 0&&(r=[]);let s=[];return g.Children.forEach(e,(a,n)=>{if(!g.isValidElement(a))return;let i=[...r,n];if(a.type===g.Fragment){s.push.apply(s,W2(a.props.children,i));return}a.type!==tt&&Yr(!1),!a.props.index||!a.props.children||Yr(!1);let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=W2(a.props.children,i)),s.push(l)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Cf.apply(this,arguments)}function KI(e,r){if(e==null)return{};var s={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(r.indexOf(n)>=0)&&(s[n]=e[n]);return s}function gW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yW(e,r){return e.button===0&&(!r||r==="_self")&&!gW(e)}function G2(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,s)=>{let a=e[s];return r.concat(Array.isArray(a)?a.map(n=>[s,n]):[[s,a]])},[]))}function bW(e,r){let s=G2(e);return r&&r.forEach((a,n)=>{s.has(n)||r.getAll(n).forEach(i=>{s.append(n,i)})}),s}const vW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jW=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],wW="6";try{window.__reactRouterVersion=wW}catch{}const NW=g.createContext({isTransitioning:!1}),SW="startTransition",uk=AE[SW];function kW(e){let{basename:r,children:s,future:a,window:n}=e,i=g.useRef();i.current==null&&(i.current=PV({window:n,v5Compat:!0}));let l=i.current,[o,d]=g.useState({action:l.action,location:l.location}),{v7_startTransition:c}=a||{},u=g.useCallback(m=>{c&&uk?uk(()=>d(m)):d(m)},[d,c]);return g.useLayoutEffect(()=>l.listen(u),[l,u]),g.useEffect(()=>pW(a),[a]),g.createElement(fW,{basename:r,children:s,location:o.location,navigationType:o.action,navigator:l,future:a})}const CW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ht=g.forwardRef(function(r,s){let{onClick:a,relative:n,reloadDocument:i,replace:l,state:o,target:d,to:c,preventScrollReset:u,viewTransition:m}=r,x=KI(r,vW),{basename:h}=g.useContext(Jl),p,f=!1;if(typeof c=="string"&&PW.test(c)&&(p=c,CW))try{let y=new URL(window.location.href),v=c.startsWith("//")?new URL(y.protocol+c):new URL(c),N=qu(v.pathname,h);v.origin===y.origin&&N!=null?c=N+v.search+v.hash:f=!0}catch{}let b=QV(c,{relative:n}),j=TW(c,{replace:l,state:o,target:d,preventScrollReset:u,relative:n,viewTransition:m});function w(y){a&&a(y),y.defaultPrevented||j(y)}return g.createElement("a",Cf({},x,{href:p||b,onClick:f||i?a:w,ref:s,target:d}))}),Mv=g.forwardRef(function(r,s){let{"aria-current":a="page",caseSensitive:n=!1,className:i="",end:l=!1,style:o,to:d,viewTransition:c,children:u}=r,m=KI(r,jW),x=Ny(d,{relative:m.relative}),h=$r(),p=g.useContext(UI),{navigator:f,basename:b}=g.useContext(Jl),j=p!=null&&EW(x)&&c===!0,w=f.encodeLocation?f.encodeLocation(x).pathname:x.pathname,y=h.pathname,v=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(y=y.toLowerCase(),v=v?v.toLowerCase():null,w=w.toLowerCase()),v&&b&&(v=qu(v,b)||v);const N=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let S=y===w||!l&&y.startsWith(w)&&y.charAt(N)==="/",k=v!=null&&(v===w||!l&&v.startsWith(w)&&v.charAt(w.length)==="/"),P={isActive:S,isPending:k,isTransitioning:j},C=S?a:void 0,I;typeof i=="function"?I=i(P):I=[i,S?"active":null,k?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let A=typeof o=="function"?o(P):o;return g.createElement(Ht,Cf({},m,{"aria-current":C,className:I,ref:s,style:A,to:d,viewTransition:c}),typeof u=="function"?u(P):u)});var q2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(q2||(q2={}));var mk;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mk||(mk={}));function AW(e){let r=g.useContext(jy);return r||Yr(!1),r}function TW(e,r){let{target:s,replace:a,state:n,preventScrollReset:i,relative:l,viewTransition:o}=r===void 0?{}:r,d=Zt(),c=$r(),u=Ny(e,{relative:l});return g.useCallback(m=>{if(yW(m,s)){m.preventDefault();let x=a!==void 0?a:kf(c)===kf(u);d(e,{replace:x,state:n,preventScrollReset:i,relative:l,viewTransition:o})}},[c,d,u,a,n,s,e,i,l,o])}function $0(e){let r=g.useRef(G2(e)),s=g.useRef(!1),a=$r(),n=g.useMemo(()=>bW(a.search,s.current?null:r.current),[a.search]),i=Zt(),l=g.useCallback((o,d)=>{const c=G2(typeof o=="function"?o(n):o);s.current=!0,i("?"+c,d)},[i,n]);return[n,l]}function EW(e,r){r===void 0&&(r={});let s=g.useContext(NW);s==null&&Yr(!1);let{basename:a}=AW(q2.useViewTransitionState),n=Ny(e,{relative:r.relative});if(!s.isTransitioning)return!1;let i=qu(s.currentLocation.pathname,a)||s.currentLocation.pathname,l=qu(s.nextLocation.pathname,a)||s.nextLocation.pathname;return V2(n.pathname,l)!=null||V2(n.pathname,i)!=null}const YI=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ky=g.createContext({}),Cy=g.createContext(null),Py=typeof document<"u",wN=Py?g.useLayoutEffect:g.useEffect,XI=g.createContext({strict:!1}),NN=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),IW="framerAppearId",JI="data-"+NN(IW);function _W(e,r,s,a){const{visualElement:n}=g.useContext(ky),i=g.useContext(XI),l=g.useContext(Cy),o=g.useContext(YI).reducedMotion,d=g.useRef();a=a||i.renderer,!d.current&&a&&(d.current=a(e,{visualState:r,parent:n,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:o}));const c=d.current;g.useInsertionEffect(()=>{c&&c.update(s,l)});const u=g.useRef(!!(s[JI]&&!window.HandoffComplete));return wN(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),g.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function mu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function OW(e,r,s){return g.useCallback(a=>{a&&e.mount&&e.mount(a),r&&(a?r.mount(a):r.unmount()),s&&(typeof s=="function"?s(a):mu(s)&&(s.current=a))},[r])}function n0(e){return typeof e=="string"||Array.isArray(e)}function Ay(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const SN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kN=["initial",...SN];function Ty(e){return Ay(e.animate)||kN.some(r=>n0(e[r]))}function QI(e){return!!(Ty(e)||e.variants)}function DW(e,r){if(Ty(e)){const{initial:s,animate:a}=e;return{initial:s===!1||n0(s)?s:void 0,animate:n0(a)?a:void 0}}return e.inherit!==!1?r:{}}function MW(e){const{initial:r,animate:s}=DW(e,g.useContext(ky));return g.useMemo(()=>({initial:r,animate:s}),[hk(r),hk(s)])}function hk(e){return Array.isArray(e)?e.join(" "):e}const xk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},i0={};for(const e in xk)i0[e]={isEnabled:r=>xk[e].some(s=>!!r[s])};function LW(e){for(const r in e)i0[r]={...i0[r],...e[r]}}const CN=g.createContext({}),ZI=g.createContext({}),FW=Symbol.for("motionComponentSymbol");function RW({preloadedFeatures:e,createVisualElement:r,useRender:s,useVisualState:a,Component:n}){e&&LW(e);function i(o,d){let c;const u={...g.useContext(YI),...o,layoutId:BW(o)},{isStatic:m}=u,x=MW(o),h=a(o,m);if(!m&&Py){x.visualElement=_W(n,h,u,r);const p=g.useContext(ZI),f=g.useContext(XI).strict;x.visualElement&&(c=x.visualElement.loadFeatures(u,f,e,p))}return g.createElement(ky.Provider,{value:x},c&&x.visualElement?g.createElement(c,{visualElement:x.visualElement,...u}):null,s(n,o,OW(h,x.visualElement,d),h,m,x.visualElement))}const l=g.forwardRef(i);return l[FW]=n,l}function BW({layoutId:e}){const r=g.useContext(CN).id;return r&&e!==void 0?r+"-"+e:e}function $W(e){function r(a,n={}){return RW(e(a,n))}if(typeof Proxy>"u")return r;const s=new Map;return new Proxy(r,{get:(a,n)=>(s.has(n)||s.set(n,r(n)),s.get(n))})}const zW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function PN(e){return typeof e!="string"||e.includes("-")?!1:!!(zW.indexOf(e)>-1||/[A-Z]/.test(e))}const Pf={};function UW(e){Object.assign(Pf,e)}const z0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pd=new Set(z0);function e_(e,{layout:r,layoutId:s}){return Pd.has(e)||e.startsWith("origin")||(r||s!==void 0)&&(!!Pf[e]||e==="opacity")}const Za=e=>!!(e&&e.getVelocity),HW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},VW=z0.length;function WW(e,{enableHardwareAcceleration:r=!0,allowTransformNone:s=!0},a,n){let i="";for(let l=0;l<VW;l++){const o=z0[l];if(e[o]!==void 0){const d=HW[o]||o;i+=`${d}(${e[o]}) `}}return r&&!e.z&&(i+="translateZ(0)"),i=i.trim(),n?i=n(e,a?"":i):s&&a&&(i="none"),i}const t_=e=>r=>typeof r=="string"&&r.startsWith(e),r_=t_("--"),K2=t_("var(--"),GW=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,qW=(e,r)=>r&&typeof e=="number"?r.transform(e):e,Xo=(e,r,s)=>Math.min(Math.max(s,e),r),Ad={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ph={...Ad,transform:e=>Xo(0,1,e)},Yx={...Ad,default:1},Ah=e=>Math.round(e*1e5)/1e5,Ey=/(-)?([\d]*\.?[\d])+/g,s_=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,KW=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function U0(e){return typeof e=="string"}const H0=e=>({test:r=>U0(r)&&r.endsWith(e)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${e}`}),fo=H0("deg"),Xi=H0("%"),Ot=H0("px"),YW=H0("vh"),XW=H0("vw"),pk={...Xi,parse:e=>Xi.parse(e)/100,transform:e=>Xi.transform(e*100)},fk={...Ad,transform:Math.round},a_={borderWidth:Ot,borderTopWidth:Ot,borderRightWidth:Ot,borderBottomWidth:Ot,borderLeftWidth:Ot,borderRadius:Ot,radius:Ot,borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomRightRadius:Ot,borderBottomLeftRadius:Ot,width:Ot,maxWidth:Ot,height:Ot,maxHeight:Ot,size:Ot,top:Ot,right:Ot,bottom:Ot,left:Ot,padding:Ot,paddingTop:Ot,paddingRight:Ot,paddingBottom:Ot,paddingLeft:Ot,margin:Ot,marginTop:Ot,marginRight:Ot,marginBottom:Ot,marginLeft:Ot,rotate:fo,rotateX:fo,rotateY:fo,rotateZ:fo,scale:Yx,scaleX:Yx,scaleY:Yx,scaleZ:Yx,skew:fo,skewX:fo,skewY:fo,distance:Ot,translateX:Ot,translateY:Ot,translateZ:Ot,x:Ot,y:Ot,z:Ot,perspective:Ot,transformPerspective:Ot,opacity:Ph,originX:pk,originY:pk,originZ:Ot,zIndex:fk,fillOpacity:Ph,strokeOpacity:Ph,numOctaves:fk};function AN(e,r,s,a){const{style:n,vars:i,transform:l,transformOrigin:o}=e;let d=!1,c=!1,u=!0;for(const m in r){const x=r[m];if(r_(m)){i[m]=x;continue}const h=a_[m],p=qW(x,h);if(Pd.has(m)){if(d=!0,l[m]=p,!u)continue;x!==(h.default||0)&&(u=!1)}else m.startsWith("origin")?(c=!0,o[m]=p):n[m]=p}if(r.transform||(d||a?n.transform=WW(e.transform,s,u,a):n.transform&&(n.transform="none")),c){const{originX:m="50%",originY:x="50%",originZ:h=0}=o;n.transformOrigin=`${m} ${x} ${h}`}}const TN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function n_(e,r,s){for(const a in r)!Za(r[a])&&!e_(a,s)&&(e[a]=r[a])}function JW({transformTemplate:e},r,s){return g.useMemo(()=>{const a=TN();return AN(a,r,{enableHardwareAcceleration:!s},e),Object.assign({},a.vars,a.style)},[r])}function QW(e,r,s){const a=e.style||{},n={};return n_(n,a,e),Object.assign(n,JW(e,r,s)),e.transformValues?e.transformValues(n):n}function ZW(e,r,s){const a={},n=QW(e,r,s);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=n,a}const eG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Af(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||eG.has(e)}let i_=e=>!Af(e);function tG(e){e&&(i_=r=>r.startsWith("on")?!Af(r):e(r))}try{tG(require("@emotion/is-prop-valid").default)}catch{}function rG(e,r,s){const a={};for(const n in e)n==="values"&&typeof e.values=="object"||(i_(n)||s===!0&&Af(n)||!r&&!Af(n)||e.draggable&&n.startsWith("onDrag"))&&(a[n]=e[n]);return a}function gk(e,r,s){return typeof e=="string"?e:Ot.transform(r+s*e)}function sG(e,r,s){const a=gk(r,e.x,e.width),n=gk(s,e.y,e.height);return`${a} ${n}`}const aG={offset:"stroke-dashoffset",array:"stroke-dasharray"},nG={offset:"strokeDashoffset",array:"strokeDasharray"};function iG(e,r,s=1,a=0,n=!0){e.pathLength=1;const i=n?aG:nG;e[i.offset]=Ot.transform(-a);const l=Ot.transform(r),o=Ot.transform(s);e[i.array]=`${l} ${o}`}function EN(e,{attrX:r,attrY:s,attrScale:a,originX:n,originY:i,pathLength:l,pathSpacing:o=1,pathOffset:d=0,...c},u,m,x){if(AN(e,c,u,x),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:f}=e;h.transform&&(f&&(p.transform=h.transform),delete h.transform),f&&(n!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=sG(f,n!==void 0?n:.5,i!==void 0?i:.5)),r!==void 0&&(h.x=r),s!==void 0&&(h.y=s),a!==void 0&&(h.scale=a),l!==void 0&&iG(h,l,o,d,!1)}const l_=()=>({...TN(),attrs:{}}),IN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function lG(e,r,s,a){const n=g.useMemo(()=>{const i=l_();return EN(i,r,{enableHardwareAcceleration:!1},IN(a),e.transformTemplate),{...i.attrs,style:{...i.style}}},[r]);if(e.style){const i={};n_(i,e.style,e),n.style={...i,...n.style}}return n}function oG(e=!1){return(s,a,n,{latestValues:i},l)=>{const d=(PN(s)?lG:ZW)(a,i,l,s),u={...rG(a,typeof s=="string",e),...d,ref:n},{children:m}=a,x=g.useMemo(()=>Za(m)?m.get():m,[m]);return g.createElement(s,{...u,children:x})}}function o_(e,{style:r,vars:s},a,n){Object.assign(e.style,r,n&&n.getProjectionStyles(a));for(const i in s)e.style.setProperty(i,s[i])}const c_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function d_(e,r,s,a){o_(e,r,void 0,a);for(const n in r.attrs)e.setAttribute(c_.has(n)?n:NN(n),r.attrs[n])}function _N(e,r){const{style:s}=e,a={};for(const n in s)(Za(s[n])||r.style&&Za(r.style[n])||e_(n,e))&&(a[n]=s[n]);return a}function u_(e,r){const s=_N(e,r);for(const a in e)if(Za(e[a])||Za(r[a])){const n=z0.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[n]=e[a]}return s}function ON(e,r,s,a={},n={}){return typeof r=="function"&&(r=r(s!==void 0?s:e.custom,a,n)),typeof r=="string"&&(r=e.variants&&e.variants[r]),typeof r=="function"&&(r=r(s!==void 0?s:e.custom,a,n)),r}function m_(e){const r=g.useRef(null);return r.current===null&&(r.current=e()),r.current}const Tf=e=>Array.isArray(e),cG=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),dG=e=>Tf(e)?e[e.length-1]||0:e;function Hp(e){const r=Za(e)?e.get():e;return cG(r)?r.toValue():r}function uG({scrapeMotionValuesFromProps:e,createRenderState:r,onMount:s},a,n,i){const l={latestValues:mG(a,n,i,e),renderState:r()};return s&&(l.mount=o=>s(a,o,l)),l}const h_=e=>(r,s)=>{const a=g.useContext(ky),n=g.useContext(Cy),i=()=>uG(e,r,a,n);return s?i():m_(i)};function mG(e,r,s,a){const n={},i=a(e,{});for(const x in i)n[x]=Hp(i[x]);let{initial:l,animate:o}=e;const d=Ty(e),c=QI(e);r&&c&&!d&&e.inherit!==!1&&(l===void 0&&(l=r.initial),o===void 0&&(o=r.animate));let u=s?s.initial===!1:!1;u=u||l===!1;const m=u?o:l;return m&&typeof m!="boolean"&&!Ay(m)&&(Array.isArray(m)?m:[m]).forEach(h=>{const p=ON(e,h);if(!p)return;const{transitionEnd:f,transition:b,...j}=p;for(const w in j){let y=j[w];if(Array.isArray(y)){const v=u?y.length-1:0;y=y[v]}y!==null&&(n[w]=y)}for(const w in f)n[w]=f[w]}),n}const hs=e=>e;class yk{constructor(){this.order=[],this.scheduled=new Set}add(r){if(!this.scheduled.has(r))return this.scheduled.add(r),this.order.push(r),!0}remove(r){const s=this.order.indexOf(r);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(r))}clear(){this.order.length=0,this.scheduled.clear()}}function hG(e){let r=new yk,s=new yk,a=0,n=!1,i=!1;const l=new WeakSet,o={schedule:(d,c=!1,u=!1)=>{const m=u&&n,x=m?r:s;return c&&l.add(d),x.add(d)&&m&&n&&(a=r.order.length),d},cancel:d=>{s.remove(d),l.delete(d)},process:d=>{if(n){i=!0;return}if(n=!0,[r,s]=[s,r],s.clear(),a=r.order.length,a)for(let c=0;c<a;c++){const u=r.order[c];u(d),l.has(u)&&(o.schedule(u),e())}n=!1,i&&(i=!1,o.process(d))}};return o}const Xx=["prepare","read","update","preRender","render","postRender"],xG=40;function pG(e,r){let s=!1,a=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=Xx.reduce((m,x)=>(m[x]=hG(()=>s=!0),m),{}),l=m=>i[m].process(n),o=()=>{const m=performance.now();s=!1,n.delta=a?1e3/60:Math.max(Math.min(m-n.timestamp,xG),1),n.timestamp=m,n.isProcessing=!0,Xx.forEach(l),n.isProcessing=!1,s&&r&&(a=!1,e(o))},d=()=>{s=!0,a=!0,n.isProcessing||e(o)};return{schedule:Xx.reduce((m,x)=>{const h=i[x];return m[x]=(p,f=!1,b=!1)=>(s||d(),h.schedule(p,f,b)),m},{}),cancel:m=>Xx.forEach(x=>i[x].cancel(m)),state:n,steps:i}}const{schedule:Ar,cancel:Ll,state:ma,steps:Lv}=pG(typeof requestAnimationFrame<"u"?requestAnimationFrame:hs,!0),fG={useVisualState:h_({scrapeMotionValuesFromProps:u_,createRenderState:l_,onMount:(e,r,{renderState:s,latestValues:a})=>{Ar.read(()=>{try{s.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),Ar.render(()=>{EN(s,a,{enableHardwareAcceleration:!1},IN(r.tagName),e.transformTemplate),d_(r,s)})}})},gG={useVisualState:h_({scrapeMotionValuesFromProps:_N,createRenderState:TN})};function yG(e,{forwardMotionProps:r=!1},s,a){return{...PN(e)?fG:gG,preloadedFeatures:s,useRender:oG(r),createVisualElement:a,Component:e}}function fl(e,r,s,a={passive:!0}){return e.addEventListener(r,s,a),()=>e.removeEventListener(r,s)}const x_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Iy(e,r="page"){return{point:{x:e[r+"X"],y:e[r+"Y"]}}}const bG=e=>r=>x_(r)&&e(r,Iy(r));function vl(e,r,s,a){return fl(e,r,bG(s),a)}const vG=(e,r)=>s=>r(e(s)),Uo=(...e)=>e.reduce(vG);function p_(e){let r=null;return()=>{const s=()=>{r=null};return r===null?(r=e,s):!1}}const bk=p_("dragHorizontal"),vk=p_("dragVertical");function f_(e){let r=!1;if(e==="y")r=vk();else if(e==="x")r=bk();else{const s=bk(),a=vk();s&&a?r=()=>{s(),a()}:(s&&s(),a&&a())}return r}function g_(){const e=f_(!0);return e?(e(),!1):!0}class dc{constructor(r){this.isMounted=!1,this.node=r}update(){}}function jk(e,r){const s="pointer"+(r?"enter":"leave"),a="onHover"+(r?"Start":"End"),n=(i,l)=>{if(i.pointerType==="touch"||g_())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",r),o[a]&&Ar.update(()=>o[a](i,l))};return vl(e.current,s,n,{passive:!e.getProps()[a]})}class jG extends dc{mount(){this.unmount=Uo(jk(this.node,!0),jk(this.node,!1))}unmount(){}}class wG extends dc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let r=!1;try{r=this.node.current.matches(":focus-visible")}catch{r=!0}!r||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uo(fl(this.node.current,"focus",()=>this.onFocus()),fl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const y_=(e,r)=>r?e===r?!0:y_(e,r.parentElement):!1;function Fv(e,r){if(!r)return;const s=new PointerEvent("pointer"+e);r(s,Iy(s))}class NG extends dc{constructor(){super(...arguments),this.removeStartListeners=hs,this.removeEndListeners=hs,this.removeAccessibleListeners=hs,this.startPointerPress=(r,s)=>{if(this.isPressing)return;this.removeEndListeners();const a=this.node.getProps(),i=vl(window,"pointerup",(o,d)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:m}=this.node.getProps();Ar.update(()=>{!m&&!y_(this.node.current,o.target)?u&&u(o,d):c&&c(o,d)})},{passive:!(a.onTap||a.onPointerUp)}),l=vl(window,"pointercancel",(o,d)=>this.cancelPress(o,d),{passive:!(a.onTapCancel||a.onPointerCancel)});this.removeEndListeners=Uo(i,l),this.startPress(r,s)},this.startAccessiblePress=()=>{const r=i=>{if(i.key!=="Enter"||this.isPressing)return;const l=o=>{o.key!=="Enter"||!this.checkPressEnd()||Fv("up",(d,c)=>{const{onTap:u}=this.node.getProps();u&&Ar.update(()=>u(d,c))})};this.removeEndListeners(),this.removeEndListeners=fl(this.node.current,"keyup",l),Fv("down",(o,d)=>{this.startPress(o,d)})},s=fl(this.node.current,"keydown",r),a=()=>{this.isPressing&&Fv("cancel",(i,l)=>this.cancelPress(i,l))},n=fl(this.node.current,"blur",a);this.removeAccessibleListeners=Uo(s,n)}}startPress(r,s){this.isPressing=!0;const{onTapStart:a,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),a&&Ar.update(()=>a(r,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!g_()}cancelPress(r,s){if(!this.checkPressEnd())return;const{onTapCancel:a}=this.node.getProps();a&&Ar.update(()=>a(r,s))}mount(){const r=this.node.getProps(),s=vl(r.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(r.onTapStart||r.onPointerStart)}),a=fl(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Uo(s,a)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Y2=new WeakMap,Rv=new WeakMap,SG=e=>{const r=Y2.get(e.target);r&&r(e)},kG=e=>{e.forEach(SG)};function CG({root:e,...r}){const s=e||document;Rv.has(s)||Rv.set(s,{});const a=Rv.get(s),n=JSON.stringify(r);return a[n]||(a[n]=new IntersectionObserver(kG,{root:e,...r})),a[n]}function PG(e,r,s){const a=CG(r);return Y2.set(e,s),a.observe(e),()=>{Y2.delete(e),a.unobserve(e)}}const AG={some:0,all:1};class TG extends dc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:r={}}=this.node.getProps(),{root:s,margin:a,amount:n="some",once:i}=r,l={root:s?s.current:void 0,rootMargin:a,threshold:typeof n=="number"?n:AG[n]},o=d=>{const{isIntersecting:c}=d;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),x=c?u:m;x&&x(d)};return PG(this.node.current,l,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:r,prevProps:s}=this.node;["amount","margin","root"].some(EG(r,s))&&this.startObserver()}unmount(){}}function EG({viewport:e={}},{viewport:r={}}={}){return s=>e[s]!==r[s]}const IG={inView:{Feature:TG},tap:{Feature:NG},focus:{Feature:wG},hover:{Feature:jG}};function b_(e,r){if(!Array.isArray(r))return!1;const s=r.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(r[a]!==e[a])return!1;return!0}function _G(e){const r={};return e.values.forEach((s,a)=>r[a]=s.get()),r}function OG(e){const r={};return e.values.forEach((s,a)=>r[a]=s.getVelocity()),r}function _y(e,r,s){const a=e.getProps();return ON(a,r,s!==void 0?s:a.custom,_G(e),OG(e))}let DN=hs;const Hc=e=>e*1e3,jl=e=>e/1e3,DG={current:!1},v_=e=>Array.isArray(e)&&typeof e[0]=="number";function j_(e){return!!(!e||typeof e=="string"&&w_[e]||v_(e)||Array.isArray(e)&&e.every(j_))}const xh=([e,r,s,a])=>`cubic-bezier(${e}, ${r}, ${s}, ${a})`,w_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xh([0,.65,.55,1]),circOut:xh([.55,0,1,.45]),backIn:xh([.31,.01,.66,-.59]),backOut:xh([.33,1.53,.69,.99])};function N_(e){if(e)return v_(e)?xh(e):Array.isArray(e)?e.map(N_):w_[e]}function MG(e,r,s,{delay:a=0,duration:n,repeat:i=0,repeatType:l="loop",ease:o,times:d}={}){const c={[r]:s};d&&(c.offset=d);const u=N_(o);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:a,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"})}function LG(e,{repeat:r,repeatType:s="loop"}){const a=r&&s!=="loop"&&r%2===1?0:e.length-1;return e[a]}const S_=(e,r,s)=>(((1-3*s+3*r)*e+(3*s-6*r))*e+3*r)*e,FG=1e-7,RG=12;function BG(e,r,s,a,n){let i,l,o=0;do l=r+(s-r)/2,i=S_(l,a,n)-e,i>0?s=l:r=l;while(Math.abs(i)>FG&&++o<RG);return l}function V0(e,r,s,a){if(e===r&&s===a)return hs;const n=i=>BG(i,0,1,e,s);return i=>i===0||i===1?i:S_(n(i),r,a)}const $G=V0(.42,0,1,1),zG=V0(0,0,.58,1),k_=V0(.42,0,.58,1),UG=e=>Array.isArray(e)&&typeof e[0]!="number",C_=e=>r=>r<=.5?e(2*r)/2:(2-e(2*(1-r)))/2,P_=e=>r=>1-e(1-r),MN=e=>1-Math.sin(Math.acos(e)),A_=P_(MN),HG=C_(MN),T_=V0(.33,1.53,.69,.99),LN=P_(T_),VG=C_(LN),WG=e=>(e*=2)<1?.5*LN(e):.5*(2-Math.pow(2,-10*(e-1))),GG={linear:hs,easeIn:$G,easeInOut:k_,easeOut:zG,circIn:MN,circInOut:HG,circOut:A_,backIn:LN,backInOut:VG,backOut:T_,anticipate:WG},wk=e=>{if(Array.isArray(e)){DN(e.length===4);const[r,s,a,n]=e;return V0(r,s,a,n)}else if(typeof e=="string")return GG[e];return e},FN=(e,r)=>s=>!!(U0(s)&&KW.test(s)&&s.startsWith(e)||r&&Object.prototype.hasOwnProperty.call(s,r)),E_=(e,r,s)=>a=>{if(!U0(a))return a;const[n,i,l,o]=a.match(Ey);return{[e]:parseFloat(n),[r]:parseFloat(i),[s]:parseFloat(l),alpha:o!==void 0?parseFloat(o):1}},qG=e=>Xo(0,255,e),Bv={...Ad,transform:e=>Math.round(qG(e))},Oc={test:FN("rgb","red"),parse:E_("red","green","blue"),transform:({red:e,green:r,blue:s,alpha:a=1})=>"rgba("+Bv.transform(e)+", "+Bv.transform(r)+", "+Bv.transform(s)+", "+Ah(Ph.transform(a))+")"};function KG(e){let r="",s="",a="",n="";return e.length>5?(r=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),n=e.substring(7,9)):(r=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),n=e.substring(4,5),r+=r,s+=s,a+=a,n+=n),{red:parseInt(r,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:n?parseInt(n,16)/255:1}}const X2={test:FN("#"),parse:KG,transform:Oc.transform},hu={test:FN("hsl","hue"),parse:E_("hue","saturation","lightness"),transform:({hue:e,saturation:r,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+Xi.transform(Ah(r))+", "+Xi.transform(Ah(s))+", "+Ah(Ph.transform(a))+")"},Pa={test:e=>Oc.test(e)||X2.test(e)||hu.test(e),parse:e=>Oc.test(e)?Oc.parse(e):hu.test(e)?hu.parse(e):X2.parse(e),transform:e=>U0(e)?e:e.hasOwnProperty("red")?Oc.transform(e):hu.transform(e)},qr=(e,r,s)=>-s*e+s*r+e;function $v(e,r,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(r-e)*6*s:s<1/2?r:s<2/3?e+(r-e)*(2/3-s)*6:e}function YG({hue:e,saturation:r,lightness:s,alpha:a}){e/=360,r/=100,s/=100;let n=0,i=0,l=0;if(!r)n=i=l=s;else{const o=s<.5?s*(1+r):s+r-s*r,d=2*s-o;n=$v(d,o,e+1/3),i=$v(d,o,e),l=$v(d,o,e-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:a}}const zv=(e,r,s)=>{const a=e*e;return Math.sqrt(Math.max(0,s*(r*r-a)+a))},XG=[X2,Oc,hu],JG=e=>XG.find(r=>r.test(e));function Nk(e){const r=JG(e);let s=r.parse(e);return r===hu&&(s=YG(s)),s}const I_=(e,r)=>{const s=Nk(e),a=Nk(r),n={...s};return i=>(n.red=zv(s.red,a.red,i),n.green=zv(s.green,a.green,i),n.blue=zv(s.blue,a.blue,i),n.alpha=qr(s.alpha,a.alpha,i),Oc.transform(n))};function QG(e){var r,s;return isNaN(e)&&U0(e)&&(((r=e.match(Ey))===null||r===void 0?void 0:r.length)||0)+(((s=e.match(s_))===null||s===void 0?void 0:s.length)||0)>0}const __={regex:GW,countKey:"Vars",token:"${v}",parse:hs},O_={regex:s_,countKey:"Colors",token:"${c}",parse:Pa.parse},D_={regex:Ey,countKey:"Numbers",token:"${n}",parse:Ad.parse};function Uv(e,{regex:r,countKey:s,token:a,parse:n}){const i=e.tokenised.match(r);i&&(e["num"+s]=i.length,e.tokenised=e.tokenised.replace(r,a),e.values.push(...i.map(n)))}function Ef(e){const r=e.toString(),s={value:r,tokenised:r,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&Uv(s,__),Uv(s,O_),Uv(s,D_),s}function M_(e){return Ef(e).values}function L_(e){const{values:r,numColors:s,numVars:a,tokenised:n}=Ef(e),i=r.length;return l=>{let o=n;for(let d=0;d<i;d++)d<a?o=o.replace(__.token,l[d]):d<a+s?o=o.replace(O_.token,Pa.transform(l[d])):o=o.replace(D_.token,Ah(l[d]));return o}}const ZG=e=>typeof e=="number"?0:e;function eq(e){const r=M_(e);return L_(e)(r.map(ZG))}const Jo={test:QG,parse:M_,createTransformer:L_,getAnimatableNone:eq},F_=(e,r)=>s=>`${s>0?r:e}`;function R_(e,r){return typeof e=="number"?s=>qr(e,r,s):Pa.test(e)?I_(e,r):e.startsWith("var(")?F_(e,r):$_(e,r)}const B_=(e,r)=>{const s=[...e],a=s.length,n=e.map((i,l)=>R_(i,r[l]));return i=>{for(let l=0;l<a;l++)s[l]=n[l](i);return s}},tq=(e,r)=>{const s={...e,...r},a={};for(const n in s)e[n]!==void 0&&r[n]!==void 0&&(a[n]=R_(e[n],r[n]));return n=>{for(const i in a)s[i]=a[i](n);return s}},$_=(e,r)=>{const s=Jo.createTransformer(r),a=Ef(e),n=Ef(r);return a.numVars===n.numVars&&a.numColors===n.numColors&&a.numNumbers>=n.numNumbers?Uo(B_(a.values,n.values),s):F_(e,r)},l0=(e,r,s)=>{const a=r-e;return a===0?1:(s-e)/a},Sk=(e,r)=>s=>qr(e,r,s);function rq(e){return typeof e=="number"?Sk:typeof e=="string"?Pa.test(e)?I_:$_:Array.isArray(e)?B_:typeof e=="object"?tq:Sk}function sq(e,r,s){const a=[],n=s||rq(e[0]),i=e.length-1;for(let l=0;l<i;l++){let o=n(e[l],e[l+1]);if(r){const d=Array.isArray(r)?r[l]||hs:r;o=Uo(d,o)}a.push(o)}return a}function z_(e,r,{clamp:s=!0,ease:a,mixer:n}={}){const i=e.length;if(DN(i===r.length),i===1)return()=>r[0];e[0]>e[i-1]&&(e=[...e].reverse(),r=[...r].reverse());const l=sq(r,a,n),o=l.length,d=c=>{let u=0;if(o>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const m=l0(e[u],e[u+1],c);return l[u](m)};return s?c=>d(Xo(e[0],e[i-1],c)):d}function aq(e,r){const s=e[e.length-1];for(let a=1;a<=r;a++){const n=l0(0,r,a);e.push(qr(s,1,n))}}function nq(e){const r=[0];return aq(r,e.length-1),r}function iq(e,r){return e.map(s=>s*r)}function lq(e,r){return e.map(()=>r||k_).splice(0,e.length-1)}function If({duration:e=300,keyframes:r,times:s,ease:a="easeInOut"}){const n=UG(a)?a.map(wk):wk(a),i={done:!1,value:r[0]},l=iq(s&&s.length===r.length?s:nq(r),e),o=z_(l,r,{ease:Array.isArray(n)?n:lq(r,n)});return{calculatedDuration:e,next:d=>(i.value=o(d),i.done=d>=e,i)}}function U_(e,r){return r?e*(1e3/r):0}const oq=5;function H_(e,r,s){const a=Math.max(r-oq,0);return U_(s-e(a),r-a)}const Hv=.001,cq=.01,dq=10,uq=.05,mq=1;function hq({duration:e=800,bounce:r=.25,velocity:s=0,mass:a=1}){let n,i,l=1-r;l=Xo(uq,mq,l),e=Xo(cq,dq,jl(e)),l<1?(n=c=>{const u=c*l,m=u*e,x=u-s,h=J2(c,l),p=Math.exp(-m);return Hv-x/h*p},i=c=>{const m=c*l*e,x=m*s+s,h=Math.pow(l,2)*Math.pow(c,2)*e,p=Math.exp(-m),f=J2(Math.pow(c,2),l);return(-n(c)+Hv>0?-1:1)*((x-h)*p)/f}):(n=c=>{const u=Math.exp(-c*e),m=(c-s)*e+1;return-Hv+u*m},i=c=>{const u=Math.exp(-c*e),m=(s-c)*(e*e);return u*m});const o=5/e,d=pq(n,i,o);if(e=Hc(e),isNaN(d))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(d,2)*a;return{stiffness:c,damping:l*2*Math.sqrt(a*c),duration:e}}}const xq=12;function pq(e,r,s){let a=s;for(let n=1;n<xq;n++)a=a-e(a)/r(a);return a}function J2(e,r){return e*Math.sqrt(1-r*r)}const fq=["duration","bounce"],gq=["stiffness","damping","mass"];function kk(e,r){return r.some(s=>e[s]!==void 0)}function yq(e){let r={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!kk(e,gq)&&kk(e,fq)){const s=hq(e);r={...r,...s,mass:1},r.isResolvedFromDuration=!0}return r}function V_({keyframes:e,restDelta:r,restSpeed:s,...a}){const n=e[0],i=e[e.length-1],l={done:!1,value:n},{stiffness:o,damping:d,mass:c,duration:u,velocity:m,isResolvedFromDuration:x}=yq({...a,velocity:-jl(a.velocity||0)}),h=m||0,p=d/(2*Math.sqrt(o*c)),f=i-n,b=jl(Math.sqrt(o/c)),j=Math.abs(f)<5;s||(s=j?.01:2),r||(r=j?.005:.5);let w;if(p<1){const y=J2(b,p);w=v=>{const N=Math.exp(-p*b*v);return i-N*((h+p*b*f)/y*Math.sin(y*v)+f*Math.cos(y*v))}}else if(p===1)w=y=>i-Math.exp(-b*y)*(f+(h+b*f)*y);else{const y=b*Math.sqrt(p*p-1);w=v=>{const N=Math.exp(-p*b*v),S=Math.min(y*v,300);return i-N*((h+p*b*f)*Math.sinh(S)+y*f*Math.cosh(S))/y}}return{calculatedDuration:x&&u||null,next:y=>{const v=w(y);if(x)l.done=y>=u;else{let N=h;y!==0&&(p<1?N=H_(w,y,v):N=0);const S=Math.abs(N)<=s,k=Math.abs(i-v)<=r;l.done=S&&k}return l.value=l.done?i:v,l}}}function Ck({keyframes:e,velocity:r=0,power:s=.8,timeConstant:a=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:l,min:o,max:d,restDelta:c=.5,restSpeed:u}){const m=e[0],x={done:!1,value:m},h=P=>o!==void 0&&P<o||d!==void 0&&P>d,p=P=>o===void 0?d:d===void 0||Math.abs(o-P)<Math.abs(d-P)?o:d;let f=s*r;const b=m+f,j=l===void 0?b:l(b);j!==b&&(f=j-m);const w=P=>-f*Math.exp(-P/a),y=P=>j+w(P),v=P=>{const C=w(P),I=y(P);x.done=Math.abs(C)<=c,x.value=x.done?j:I};let N,S;const k=P=>{h(x.value)&&(N=P,S=V_({keyframes:[x.value,p(x.value)],velocity:H_(y,P,x.value),damping:n,stiffness:i,restDelta:c,restSpeed:u}))};return k(0),{calculatedDuration:null,next:P=>{let C=!1;return!S&&N===void 0&&(C=!0,v(P),k(P)),N!==void 0&&P>N?S.next(P-N):(!C&&v(P),x)}}}const bq=e=>{const r=({timestamp:s})=>e(s);return{start:()=>Ar.update(r,!0),stop:()=>Ll(r),now:()=>ma.isProcessing?ma.timestamp:performance.now()}},Pk=2e4;function Ak(e){let r=0;const s=50;let a=e.next(r);for(;!a.done&&r<Pk;)r+=s,a=e.next(r);return r>=Pk?1/0:r}const vq={decay:Ck,inertia:Ck,tween:If,keyframes:If,spring:V_};function _f({autoplay:e=!0,delay:r=0,driver:s=bq,keyframes:a,type:n="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:o="loop",onPlay:d,onStop:c,onComplete:u,onUpdate:m,...x}){let h=1,p=!1,f,b;const j=()=>{b=new Promise(_=>{f=_})};j();let w;const y=vq[n]||If;let v;y!==If&&typeof a[0]!="number"&&(v=z_([0,100],a,{clamp:!1}),a=[0,100]);const N=y({...x,keyframes:a});let S;o==="mirror"&&(S=y({...x,keyframes:[...a].reverse(),velocity:-(x.velocity||0)}));let k="idle",P=null,C=null,I=null;N.calculatedDuration===null&&i&&(N.calculatedDuration=Ak(N));const{calculatedDuration:A}=N;let O=1/0,R=1/0;A!==null&&(O=A+l,R=O*(i+1)-l);let Z=0;const Y=_=>{if(C===null)return;h>0&&(C=Math.min(C,_)),h<0&&(C=Math.min(_-R/h,C)),P!==null?Z=P:Z=Math.round(_-C)*h;const M=Z-r*(h>=0?1:-1),F=h>=0?M<0:M>R;Z=Math.max(M,0),k==="finished"&&P===null&&(Z=R);let B=Z,q=N;if(i){const te=Math.min(Z,R)/O;let pe=Math.floor(te),ye=te%1;!ye&&te>=1&&(ye=1),ye===1&&pe--,pe=Math.min(pe,i+1),!!(pe%2)&&(o==="reverse"?(ye=1-ye,l&&(ye-=l/O)):o==="mirror"&&(q=S)),B=Xo(0,1,ye)*O}const ae=F?{done:!1,value:a[0]}:q.next(B);v&&(ae.value=v(ae.value));let{done:V}=ae;!F&&A!==null&&(V=h>=0?Z>=R:Z<=0);const G=P===null&&(k==="finished"||k==="running"&&V);return m&&m(ae.value),G&&z(),ae},ce=()=>{w&&w.stop(),w=void 0},D=()=>{k="idle",ce(),f(),j(),C=I=null},z=()=>{k="finished",u&&u(),ce(),f()},se=()=>{if(p)return;w||(w=s(Y));const _=w.now();d&&d(),P!==null?C=_-P:(!C||k==="finished")&&(C=_),k==="finished"&&j(),I=C,P=null,k="running",w.start()};e&&se();const K={then(_,M){return b.then(_,M)},get time(){return jl(Z)},set time(_){_=Hc(_),Z=_,P!==null||!w||h===0?P=_:C=w.now()-_/h},get duration(){const _=N.calculatedDuration===null?Ak(N):N.calculatedDuration;return jl(_)},get speed(){return h},set speed(_){_===h||!w||(h=_,K.time=jl(Z))},get state(){return k},play:se,pause:()=>{k="paused",P=Z},stop:()=>{p=!0,k!=="idle"&&(k="idle",c&&c(),D())},cancel:()=>{I!==null&&Y(I),D()},complete:()=>{k="finished"},sample:_=>(C=0,Y(_))};return K}function jq(e){let r;return()=>(r===void 0&&(r=e()),r)}const wq=jq(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Nq=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Jx=10,Sq=2e4,kq=(e,r)=>r.type==="spring"||e==="backgroundColor"||!j_(r.ease);function Cq(e,r,{onUpdate:s,onComplete:a,...n}){if(!(wq()&&Nq.has(r)&&!n.repeatDelay&&n.repeatType!=="mirror"&&n.damping!==0&&n.type!=="inertia"))return!1;let l=!1,o,d,c=!1;const u=()=>{d=new Promise(y=>{o=y})};u();let{keyframes:m,duration:x=300,ease:h,times:p}=n;if(kq(r,n)){const y=_f({...n,repeat:0,delay:0});let v={done:!1,value:m[0]};const N=[];let S=0;for(;!v.done&&S<Sq;)v=y.sample(S),N.push(v.value),S+=Jx;p=void 0,m=N,x=S-Jx,h="linear"}const f=MG(e.owner.current,r,m,{...n,duration:x,ease:h,times:p}),b=()=>{c=!1,f.cancel()},j=()=>{c=!0,Ar.update(b),o(),u()};return f.onfinish=()=>{c||(e.set(LG(m,n)),a&&a(),j())},{then(y,v){return d.then(y,v)},attachTimeline(y){return f.timeline=y,f.onfinish=null,hs},get time(){return jl(f.currentTime||0)},set time(y){f.currentTime=Hc(y)},get speed(){return f.playbackRate},set speed(y){f.playbackRate=y},get duration(){return jl(x)},play:()=>{l||(f.play(),Ll(b))},pause:()=>f.pause(),stop:()=>{if(l=!0,f.playState==="idle")return;const{currentTime:y}=f;if(y){const v=_f({...n,autoplay:!1});e.setWithVelocity(v.sample(y-Jx).value,v.sample(y).value,Jx)}j()},complete:()=>{c||f.finish()},cancel:j}}function Pq({keyframes:e,delay:r,onUpdate:s,onComplete:a}){const n=()=>(s&&s(e[e.length-1]),a&&a(),{time:0,speed:1,duration:0,play:hs,pause:hs,stop:hs,then:i=>(i(),Promise.resolve()),cancel:hs,complete:hs});return r?_f({keyframes:[0,1],duration:0,delay:r,onComplete:n}):n()}const Aq={type:"spring",stiffness:500,damping:25,restSpeed:10},Tq=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Eq={type:"keyframes",duration:.8},Iq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_q=(e,{keyframes:r})=>r.length>2?Eq:Pd.has(e)?e.startsWith("scale")?Tq(r[1]):Aq:Iq,Q2=(e,r)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(Jo.test(r)||r==="0")&&!r.startsWith("url(")),Oq=new Set(["brightness","contrast","saturate","opacity"]);function Dq(e){const[r,s]=e.slice(0,-1).split("(");if(r==="drop-shadow")return e;const[a]=s.match(Ey)||[];if(!a)return e;const n=s.replace(a,"");let i=Oq.has(r)?1:0;return a!==s&&(i*=100),r+"("+i+n+")"}const Mq=/([a-z-]*)\(.*?\)/g,Z2={...Jo,getAnimatableNone:e=>{const r=e.match(Mq);return r?r.map(Dq).join(" "):e}},Lq={...a_,color:Pa,backgroundColor:Pa,outlineColor:Pa,fill:Pa,stroke:Pa,borderColor:Pa,borderTopColor:Pa,borderRightColor:Pa,borderBottomColor:Pa,borderLeftColor:Pa,filter:Z2,WebkitFilter:Z2},RN=e=>Lq[e];function W_(e,r){let s=RN(e);return s!==Z2&&(s=Jo),s.getAnimatableNone?s.getAnimatableNone(r):void 0}const G_=e=>/^0[^.\s]+$/.test(e);function Fq(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||G_(e)}function Rq(e,r,s,a){const n=Q2(r,s);let i;Array.isArray(s)?i=[...s]:i=[null,s];const l=a.from!==void 0?a.from:e.get();let o;const d=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?l:i[c-1]),Fq(i[c])&&d.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(o=i[c]);if(n&&d.length&&o)for(let c=0;c<d.length;c++){const u=d[c];i[u]=W_(r,o)}return i}function Bq({when:e,delay:r,delayChildren:s,staggerChildren:a,staggerDirection:n,repeat:i,repeatType:l,repeatDelay:o,from:d,elapsed:c,...u}){return!!Object.keys(u).length}function BN(e,r){return e[r]||e.default||e}const $q={skipAnimations:!1},$N=(e,r,s,a={})=>n=>{const i=BN(a,e)||{},l=i.delay||a.delay||0;let{elapsed:o=0}=a;o=o-Hc(l);const d=Rq(r,e,s,i),c=d[0],u=d[d.length-1],m=Q2(e,c),x=Q2(e,u);let h={keyframes:d,velocity:r.getVelocity(),ease:"easeOut",...i,delay:-o,onUpdate:p=>{r.set(p),i.onUpdate&&i.onUpdate(p)},onComplete:()=>{n(),i.onComplete&&i.onComplete()}};if(Bq(i)||(h={...h,..._q(e,h)}),h.duration&&(h.duration=Hc(h.duration)),h.repeatDelay&&(h.repeatDelay=Hc(h.repeatDelay)),!m||!x||DG.current||i.type===!1||$q.skipAnimations)return Pq(h);if(!a.isHandoff&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate){const p=Cq(r,e,h);if(p)return p}return _f(h)};function Of(e){return!!(Za(e)&&e.add)}const q_=e=>/^\-?\d*\.?\d+$/.test(e);function zN(e,r){e.indexOf(r)===-1&&e.push(r)}function UN(e,r){const s=e.indexOf(r);s>-1&&e.splice(s,1)}class HN{constructor(){this.subscriptions=[]}add(r){return zN(this.subscriptions,r),()=>UN(this.subscriptions,r)}notify(r,s,a){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](r,s,a);else for(let i=0;i<n;i++){const l=this.subscriptions[i];l&&l(r,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zq=e=>!isNaN(parseFloat(e));class Uq{constructor(r,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(a,n=!0)=>{this.prev=this.current,this.current=a;const{delta:i,timestamp:l}=ma;this.lastUpdated!==l&&(this.timeDelta=i,this.lastUpdated=l,Ar.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ar.postRender(this.velocityCheck),this.velocityCheck=({timestamp:a})=>{a!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=r,this.canTrackVelocity=zq(this.current),this.owner=s.owner}onChange(r){return this.on("change",r)}on(r,s){this.events[r]||(this.events[r]=new HN);const a=this.events[r].add(s);return r==="change"?()=>{a(),Ar.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const r in this.events)this.events[r].clear()}attach(r,s){this.passiveEffect=r,this.stopPassiveEffect=s}set(r,s=!0){!s||!this.passiveEffect?this.updateAndNotify(r,s):this.passiveEffect(r,this.updateAndNotify)}setWithVelocity(r,s,a){this.set(s),this.prev=r,this.timeDelta=a}jump(r){this.updateAndNotify(r),this.prev=r,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?U_(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(r){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=r(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ku(e,r){return new Uq(e,r)}const K_=e=>r=>r.test(e),Hq={test:e=>e==="auto",parse:e=>e},Y_=[Ad,Ot,Xi,fo,XW,YW,Hq],Km=e=>Y_.find(K_(e)),Vq=[...Y_,Pa,Jo],Wq=e=>Vq.find(K_(e));function Gq(e,r,s){e.hasValue(r)?e.getValue(r).set(s):e.addValue(r,Ku(s))}function qq(e,r){const s=_y(e,r);let{transitionEnd:a={},transition:n={},...i}=s?e.makeTargetAnimatable(s,!1):{};i={...i,...a};for(const l in i){const o=dG(i[l]);Gq(e,l,o)}}function Kq(e,r,s){var a,n;const i=Object.keys(r).filter(o=>!e.hasValue(o)),l=i.length;if(l)for(let o=0;o<l;o++){const d=i[o],c=r[d];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(n=(a=s[d])!==null&&a!==void 0?a:e.readValue(d))!==null&&n!==void 0?n:r[d]),u!=null&&(typeof u=="string"&&(q_(u)||G_(u))?u=parseFloat(u):!Wq(u)&&Jo.test(c)&&(u=W_(d,c)),e.addValue(d,Ku(u,{owner:e})),s[d]===void 0&&(s[d]=u),u!==null&&e.setBaseTarget(d,u))}}function Yq(e,r){return r?(r[e]||r.default||r).from:void 0}function Xq(e,r,s){const a={};for(const n in e){const i=Yq(n,r);if(i!==void 0)a[n]=i;else{const l=s.getValue(n);l&&(a[n]=l.get())}}return a}function Jq({protectedKeys:e,needsAnimating:r},s){const a=e.hasOwnProperty(s)&&r[s]!==!0;return r[s]=!1,a}function Qq(e,r){const s=e.get();if(Array.isArray(r)){for(let a=0;a<r.length;a++)if(r[a]!==s)return!0}else return s!==r}function X_(e,r,{delay:s=0,transitionOverride:a,type:n}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:l,...o}=e.makeTargetAnimatable(r);const d=e.getValue("willChange");a&&(i=a);const c=[],u=n&&e.animationState&&e.animationState.getState()[n];for(const m in o){const x=e.getValue(m),h=o[m];if(!x||h===void 0||u&&Jq(u,m))continue;const p={delay:s,elapsed:0,...BN(i||{},m)};if(window.HandoffAppearAnimations){const j=e.getProps()[JI];if(j){const w=window.HandoffAppearAnimations(j,m,x,Ar);w!==null&&(p.elapsed=w,p.isHandoff=!0)}}let f=!p.isHandoff&&!Qq(x,h);if(p.type==="spring"&&(x.getVelocity()||p.velocity)&&(f=!1),x.animation&&(f=!1),f)continue;x.start($N(m,x,h,e.shouldReduceMotion&&Pd.has(m)?{type:!1}:p));const b=x.animation;Of(d)&&(d.add(m),b.then(()=>d.remove(m))),c.push(b)}return l&&Promise.all(c).then(()=>{l&&qq(e,l)}),c}function ej(e,r,s={}){const a=_y(e,r,s.custom);let{transition:n=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(n=s.transitionOverride);const i=a?()=>Promise.all(X_(e,a,s)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:m}=n;return Zq(e,r,c+d,u,m,s)}:()=>Promise.resolve(),{when:o}=n;if(o){const[d,c]=o==="beforeChildren"?[i,l]:[l,i];return d().then(()=>c())}else return Promise.all([i(),l(s.delay)])}function Zq(e,r,s=0,a=0,n=1,i){const l=[],o=(e.variantChildren.size-1)*a,d=n===1?(c=0)=>c*a:(c=0)=>o-c*a;return Array.from(e.variantChildren).sort(eK).forEach((c,u)=>{c.notify("AnimationStart",r),l.push(ej(c,r,{...i,delay:s+d(u)}).then(()=>c.notify("AnimationComplete",r)))}),Promise.all(l)}function eK(e,r){return e.sortNodePosition(r)}function tK(e,r,s={}){e.notify("AnimationStart",r);let a;if(Array.isArray(r)){const n=r.map(i=>ej(e,i,s));a=Promise.all(n)}else if(typeof r=="string")a=ej(e,r,s);else{const n=typeof r=="function"?_y(e,r,s.custom):r;a=Promise.all(X_(e,n,s))}return a.then(()=>e.notify("AnimationComplete",r))}const rK=[...SN].reverse(),sK=SN.length;function aK(e){return r=>Promise.all(r.map(({animation:s,options:a})=>tK(e,s,a)))}function nK(e){let r=aK(e);const s=lK();let a=!0;const n=(d,c)=>{const u=_y(e,c);if(u){const{transition:m,transitionEnd:x,...h}=u;d={...d,...h,...x}}return d};function i(d){r=d(e)}function l(d,c){const u=e.getProps(),m=e.getVariantContext(!0)||{},x=[],h=new Set;let p={},f=1/0;for(let j=0;j<sK;j++){const w=rK[j],y=s[w],v=u[w]!==void 0?u[w]:m[w],N=n0(v),S=w===c?y.isActive:null;S===!1&&(f=j);let k=v===m[w]&&v!==u[w]&&N;if(k&&a&&e.manuallyAnimateOnMount&&(k=!1),y.protectedKeys={...p},!y.isActive&&S===null||!v&&!y.prevProp||Ay(v)||typeof v=="boolean")continue;let C=iK(y.prevProp,v)||w===c&&y.isActive&&!k&&N||j>f&&N,I=!1;const A=Array.isArray(v)?v:[v];let O=A.reduce(n,{});S===!1&&(O={});const{prevResolvedValues:R={}}=y,Z={...R,...O},Y=ce=>{C=!0,h.has(ce)&&(I=!0,h.delete(ce)),y.needsAnimating[ce]=!0};for(const ce in Z){const D=O[ce],z=R[ce];if(p.hasOwnProperty(ce))continue;let se=!1;Tf(D)&&Tf(z)?se=!b_(D,z):se=D!==z,se?D!==void 0?Y(ce):h.add(ce):D!==void 0&&h.has(ce)?Y(ce):y.protectedKeys[ce]=!0}y.prevProp=v,y.prevResolvedValues=O,y.isActive&&(p={...p,...O}),a&&e.blockInitialAnimation&&(C=!1),C&&(!k||I)&&x.push(...A.map(ce=>({animation:ce,options:{type:w,...d}})))}if(h.size){const j={};h.forEach(w=>{const y=e.getBaseTarget(w);y!==void 0&&(j[w]=y)}),x.push({animation:j})}let b=!!x.length;return a&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(b=!1),a=!1,b?r(x):Promise.resolve()}function o(d,c,u){var m;if(s[d].isActive===c)return Promise.resolve();(m=e.variantChildren)===null||m===void 0||m.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(d,c)}),s[d].isActive=c;const x=l(u,d);for(const h in s)s[h].protectedKeys={};return x}return{animateChanges:l,setActive:o,setAnimateFunction:i,getState:()=>s}}function iK(e,r){return typeof r=="string"?r!==e:Array.isArray(r)?!b_(r,e):!1}function fc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lK(){return{animate:fc(!0),whileInView:fc(),whileHover:fc(),whileTap:fc(),whileDrag:fc(),whileFocus:fc(),exit:fc()}}class oK extends dc{constructor(r){super(r),r.animationState||(r.animationState=nK(r))}updateAnimationControlsSubscription(){const{animate:r}=this.node.getProps();this.unmount(),Ay(r)&&(this.unmount=r.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:r}=this.node.getProps(),{animate:s}=this.node.prevProps||{};r!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let cK=0;class dK extends dc{constructor(){super(...arguments),this.id=cK++}update(){if(!this.node.presenceContext)return;const{isPresent:r,onExitComplete:s,custom:a}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||r===n)return;const i=this.node.animationState.setActive("exit",!r,{custom:a??this.node.getProps().custom});s&&!r&&i.then(()=>s(this.id))}mount(){const{register:r}=this.node.presenceContext||{};r&&(this.unmount=r(this.id))}unmount(){}}const uK={animation:{Feature:oK},exit:{Feature:dK}},Tk=(e,r)=>Math.abs(e-r);function mK(e,r){const s=Tk(e.x,r.x),a=Tk(e.y,r.y);return Math.sqrt(s**2+a**2)}class J_{constructor(r,s,{transformPagePoint:a,contextWindow:n,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Wv(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,h=mK(m.offset,{x:0,y:0})>=3;if(!x&&!h)return;const{point:p}=m,{timestamp:f}=ma;this.history.push({...p,timestamp:f});const{onStart:b,onMove:j}=this.handlers;x||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,m)},this.handlePointerMove=(m,x)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Vv(x,this.transformPagePoint),Ar.update(this.updatePoint,!0)},this.handlePointerUp=(m,x)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:f}=this.handlers;if(this.dragSnapToOrigin&&f&&f(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Wv(m.type==="pointercancel"?this.lastMoveEventInfo:Vv(x,this.transformPagePoint),this.history);this.startEvent&&h&&h(m,b),p&&p(m,b)},!x_(r))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=a,this.contextWindow=n||window;const l=Iy(r),o=Vv(l,this.transformPagePoint),{point:d}=o,{timestamp:c}=ma;this.history=[{...d,timestamp:c}];const{onSessionStart:u}=s;u&&u(r,Wv(o,this.history)),this.removeListeners=Uo(vl(this.contextWindow,"pointermove",this.handlePointerMove),vl(this.contextWindow,"pointerup",this.handlePointerUp),vl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(r){this.handlers=r}end(){this.removeListeners&&this.removeListeners(),Ll(this.updatePoint)}}function Vv(e,r){return r?{point:r(e.point)}:e}function Ek(e,r){return{x:e.x-r.x,y:e.y-r.y}}function Wv({point:e},r){return{point:e,delta:Ek(e,Q_(r)),offset:Ek(e,hK(r)),velocity:xK(r,.1)}}function hK(e){return e[0]}function Q_(e){return e[e.length-1]}function xK(e,r){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const n=Q_(e);for(;s>=0&&(a=e[s],!(n.timestamp-a.timestamp>Hc(r)));)s--;if(!a)return{x:0,y:0};const i=jl(n.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const l={x:(n.x-a.x)/i,y:(n.y-a.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function kn(e){return e.max-e.min}function tj(e,r=0,s=.01){return Math.abs(e-r)<=s}function Ik(e,r,s,a=.5){e.origin=a,e.originPoint=qr(r.min,r.max,e.origin),e.scale=kn(s)/kn(r),(tj(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=qr(s.min,s.max,e.origin)-e.originPoint,(tj(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Th(e,r,s,a){Ik(e.x,r.x,s.x,a?a.originX:void 0),Ik(e.y,r.y,s.y,a?a.originY:void 0)}function _k(e,r,s){e.min=s.min+r.min,e.max=e.min+kn(r)}function pK(e,r,s){_k(e.x,r.x,s.x),_k(e.y,r.y,s.y)}function Ok(e,r,s){e.min=r.min-s.min,e.max=e.min+kn(r)}function Eh(e,r,s){Ok(e.x,r.x,s.x),Ok(e.y,r.y,s.y)}function fK(e,{min:r,max:s},a){return r!==void 0&&e<r?e=a?qr(r,e,a.min):Math.max(e,r):s!==void 0&&e>s&&(e=a?qr(s,e,a.max):Math.min(e,s)),e}function Dk(e,r,s){return{min:r!==void 0?e.min+r:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function gK(e,{top:r,left:s,bottom:a,right:n}){return{x:Dk(e.x,s,n),y:Dk(e.y,r,a)}}function Mk(e,r){let s=r.min-e.min,a=r.max-e.max;return r.max-r.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function yK(e,r){return{x:Mk(e.x,r.x),y:Mk(e.y,r.y)}}function bK(e,r){let s=.5;const a=kn(e),n=kn(r);return n>a?s=l0(r.min,r.max-a,e.min):a>n&&(s=l0(e.min,e.max-n,r.min)),Xo(0,1,s)}function vK(e,r){const s={};return r.min!==void 0&&(s.min=r.min-e.min),r.max!==void 0&&(s.max=r.max-e.min),s}const rj=.35;function jK(e=rj){return e===!1?e=0:e===!0&&(e=rj),{x:Lk(e,"left","right"),y:Lk(e,"top","bottom")}}function Lk(e,r,s){return{min:Fk(e,r),max:Fk(e,s)}}function Fk(e,r){return typeof e=="number"?e:e[r]||0}const Rk=()=>({translate:0,scale:1,origin:0,originPoint:0}),xu=()=>({x:Rk(),y:Rk()}),Bk=()=>({min:0,max:0}),ws=()=>({x:Bk(),y:Bk()});function Hn(e){return[e("x"),e("y")]}function Z_({top:e,left:r,right:s,bottom:a}){return{x:{min:r,max:s},y:{min:e,max:a}}}function wK({x:e,y:r}){return{top:r.min,right:e.max,bottom:r.max,left:e.min}}function NK(e,r){if(!r)return e;const s=r({x:e.left,y:e.top}),a=r({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function Gv(e){return e===void 0||e===1}function sj({scale:e,scaleX:r,scaleY:s}){return!Gv(e)||!Gv(r)||!Gv(s)}function wc(e){return sj(e)||eO(e)||e.z||e.rotate||e.rotateX||e.rotateY}function eO(e){return $k(e.x)||$k(e.y)}function $k(e){return e&&e!=="0%"}function Df(e,r,s){const a=e-s,n=r*a;return s+n}function zk(e,r,s,a,n){return n!==void 0&&(e=Df(e,n,a)),Df(e,s,a)+r}function aj(e,r=0,s=1,a,n){e.min=zk(e.min,r,s,a,n),e.max=zk(e.max,r,s,a,n)}function tO(e,{x:r,y:s}){aj(e.x,r.translate,r.scale,r.originPoint),aj(e.y,s.translate,s.scale,s.originPoint)}function SK(e,r,s,a=!1){const n=s.length;if(!n)return;r.x=r.y=1;let i,l;for(let o=0;o<n;o++){i=s[o],l=i.projectionDelta;const d=i.instance;d&&d.style&&d.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&pu(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(r.x*=l.x.scale,r.y*=l.y.scale,tO(e,l)),a&&wc(i.latestValues)&&pu(e,i.latestValues))}r.x=Uk(r.x),r.y=Uk(r.y)}function Uk(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function jo(e,r){e.min=e.min+r,e.max=e.max+r}function Hk(e,r,[s,a,n]){const i=r[n]!==void 0?r[n]:.5,l=qr(e.min,e.max,i);aj(e,r[s],r[a],l,r.scale)}const kK=["x","scaleX","originX"],CK=["y","scaleY","originY"];function pu(e,r){Hk(e.x,r,kK),Hk(e.y,r,CK)}function rO(e,r){return Z_(NK(e.getBoundingClientRect(),r))}function PK(e,r,s){const a=rO(e,s),{scroll:n}=r;return n&&(jo(a.x,n.offset.x),jo(a.y,n.offset.y)),a}const sO=({current:e})=>e?e.ownerDocument.defaultView:null,AK=new WeakMap;class TK{constructor(r){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ws(),this.visualElement=r}start(r,{snapToCursor:s=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const n=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Iy(u,"page").point)},i=(u,m)=>{const{drag:x,dragPropagation:h,onDragStart:p}=this.getProps();if(x&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=f_(x),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(b=>{let j=this.getAxisMotionValue(b).get()||0;if(Xi.test(j)){const{projection:w}=this.visualElement;if(w&&w.layout){const y=w.layout.layoutBox[b];y&&(j=kn(y)*(parseFloat(j)/100))}}this.originPoint[b]=j}),p&&Ar.update(()=>p(u,m),!1,!0);const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},l=(u,m)=>{const{dragPropagation:x,dragDirectionLock:h,onDirectionLock:p,onDrag:f}=this.getProps();if(!x&&!this.openGlobalLock)return;const{offset:b}=m;if(h&&this.currentDirection===null){this.currentDirection=EK(b),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),f&&f(u,m)},o=(u,m)=>this.stop(u,m),d=()=>Hn(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new J_(r,{onSessionStart:n,onStart:i,onMove:l,onSessionEnd:o,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:sO(this.visualElement)})}stop(r,s){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:n}=s;this.startAnimation(n);const{onDragEnd:i}=this.getProps();i&&Ar.update(()=>i(r,s))}cancel(){this.isDragging=!1;const{projection:r,animationState:s}=this.visualElement;r&&(r.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(r,s,a){const{drag:n}=this.getProps();if(!a||!Qx(r,n,this.currentDirection))return;const i=this.getAxisMotionValue(r);let l=this.originPoint[r]+a[r];this.constraints&&this.constraints[r]&&(l=fK(l,this.constraints[r],this.elastic[r])),i.set(l)}resolveConstraints(){var r;const{dragConstraints:s,dragElastic:a}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)===null||r===void 0?void 0:r.layout,i=this.constraints;s&&mu(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&n?this.constraints=gK(n.layoutBox,s):this.constraints=!1,this.elastic=jK(a),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Hn(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=vK(n.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:r,onMeasureDragConstraints:s}=this.getProps();if(!r||!mu(r))return!1;const a=r.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=PK(a,n.root,this.visualElement.getTransformPagePoint());let l=yK(n.layout.layoutBox,i);if(s){const o=s(wK(l));this.hasMutatedConstraints=!!o,o&&(l=Z_(o))}return l}startAnimation(r){const{drag:s,dragMomentum:a,dragElastic:n,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:o}=this.getProps(),d=this.constraints||{},c=Hn(u=>{if(!Qx(u,s,this.currentDirection))return;let m=d&&d[u]||{};l&&(m={min:0,max:0});const x=n?200:1e6,h=n?40:1e7,p={type:"inertia",velocity:a?r[u]:0,bounceStiffness:x,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(o)}startAxisValueAnimation(r,s){const a=this.getAxisMotionValue(r);return a.start($N(r,a,0,s))}stopAnimation(){Hn(r=>this.getAxisMotionValue(r).stop())}pauseAnimation(){Hn(r=>{var s;return(s=this.getAxisMotionValue(r).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(r){var s;return(s=this.getAxisMotionValue(r).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(r){const s="_drag"+r.toUpperCase(),a=this.visualElement.getProps(),n=a[s];return n||this.visualElement.getValue(r,(a.initial?a.initial[r]:void 0)||0)}snapToCursor(r){Hn(s=>{const{drag:a}=this.getProps();if(!Qx(s,a,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(s);if(n&&n.layout){const{min:l,max:o}=n.layout.layoutBox[s];i.set(r[s]-qr(l,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:r,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!mu(s)||!a||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Hn(l=>{const o=this.getAxisMotionValue(l);if(o){const d=o.get();n[l]=bK({min:d,max:d},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Hn(l=>{if(!Qx(l,r,null))return;const o=this.getAxisMotionValue(l),{min:d,max:c}=this.constraints[l];o.set(qr(d,c,n[l]))})}addListeners(){if(!this.visualElement.current)return;AK.set(this.visualElement,this);const r=this.visualElement.current,s=vl(r,"pointerdown",d=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(d)}),a=()=>{const{dragConstraints:d}=this.getProps();mu(d)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",a);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),a();const l=fl(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",({delta:d,hasLayoutChanged:c})=>{this.isDragging&&c&&(Hn(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=d[u].translate,m.set(m.get()+d[u].translate))}),this.visualElement.render())});return()=>{l(),s(),i(),o&&o()}}getProps(){const r=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:l=rj,dragMomentum:o=!0}=r;return{...r,drag:s,dragDirectionLock:a,dragPropagation:n,dragConstraints:i,dragElastic:l,dragMomentum:o}}}function Qx(e,r,s){return(r===!0||r===e)&&(s===null||s===e)}function EK(e,r=10){let s=null;return Math.abs(e.y)>r?s="y":Math.abs(e.x)>r&&(s="x"),s}class IK extends dc{constructor(r){super(r),this.removeGroupControls=hs,this.removeListeners=hs,this.controls=new TK(r)}mount(){const{dragControls:r}=this.node.getProps();r&&(this.removeGroupControls=r.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hs}unmount(){this.removeGroupControls(),this.removeListeners()}}const Vk=e=>(r,s)=>{e&&Ar.update(()=>e(r,s))};class _K extends dc{constructor(){super(...arguments),this.removePointerDownListener=hs}onPointerDown(r){this.session=new J_(r,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sO(this.node)})}createPanHandlers(){const{onPanSessionStart:r,onPanStart:s,onPan:a,onPanEnd:n}=this.node.getProps();return{onSessionStart:Vk(r),onStart:Vk(s),onMove:a,onEnd:(i,l)=>{delete this.session,n&&Ar.update(()=>n(i,l))}}}mount(){this.removePointerDownListener=vl(this.node.current,"pointerdown",r=>this.onPointerDown(r))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function OK(){const e=g.useContext(Cy);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:a}=e,n=g.useId();return g.useEffect(()=>a(n),[]),!r&&s?[!1,()=>s&&s(n)]:[!0]}const Vp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Wk(e,r){return r.max===r.min?0:e/(r.max-r.min)*100}const Ym={correct:(e,r)=>{if(!r.target)return e;if(typeof e=="string")if(Ot.test(e))e=parseFloat(e);else return e;const s=Wk(e,r.target.x),a=Wk(e,r.target.y);return`${s}% ${a}%`}},DK={correct:(e,{treeScale:r,projectionDelta:s})=>{const a=e,n=Jo.parse(e);if(n.length>5)return a;const i=Jo.createTransformer(e),l=typeof n[0]!="number"?1:0,o=s.x.scale*r.x,d=s.y.scale*r.y;n[0+l]/=o,n[1+l]/=d;const c=qr(o,d,.5);return typeof n[2+l]=="number"&&(n[2+l]/=c),typeof n[3+l]=="number"&&(n[3+l]/=c),i(n)}};class MK extends _t.Component{componentDidMount(){const{visualElement:r,layoutGroup:s,switchLayoutGroup:a,layoutId:n}=this.props,{projection:i}=r;UW(LK),i&&(s.group&&s.group.add(i),a&&a.register&&n&&a.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Vp.hasEverUpdated=!0}getSnapshotBeforeUpdate(r){const{layoutDependency:s,visualElement:a,drag:n,isPresent:i}=this.props,l=a.projection;return l&&(l.isPresent=i,n||r.layoutDependency!==s||s===void 0?l.willUpdate():this.safeToRemove(),r.isPresent!==i&&(i?l.promote():l.relegate()||Ar.postRender(()=>{const o=l.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:r}=this.props.visualElement;r&&(r.root.didUpdate(),queueMicrotask(()=>{!r.currentAnimation&&r.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:r,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:n}=r;n&&(n.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(n),a&&a.deregister&&a.deregister(n))}safeToRemove(){const{safeToRemove:r}=this.props;r&&r()}render(){return null}}function aO(e){const[r,s]=OK(),a=g.useContext(CN);return _t.createElement(MK,{...e,layoutGroup:a,switchLayoutGroup:g.useContext(ZI),isPresent:r,safeToRemove:s})}const LK={borderRadius:{...Ym,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ym,borderTopRightRadius:Ym,borderBottomLeftRadius:Ym,borderBottomRightRadius:Ym,boxShadow:DK},nO=["TopLeft","TopRight","BottomLeft","BottomRight"],FK=nO.length,Gk=e=>typeof e=="string"?parseFloat(e):e,qk=e=>typeof e=="number"||Ot.test(e);function RK(e,r,s,a,n,i){n?(e.opacity=qr(0,s.opacity!==void 0?s.opacity:1,BK(a)),e.opacityExit=qr(r.opacity!==void 0?r.opacity:1,0,$K(a))):i&&(e.opacity=qr(r.opacity!==void 0?r.opacity:1,s.opacity!==void 0?s.opacity:1,a));for(let l=0;l<FK;l++){const o=`border${nO[l]}Radius`;let d=Kk(r,o),c=Kk(s,o);if(d===void 0&&c===void 0)continue;d||(d=0),c||(c=0),d===0||c===0||qk(d)===qk(c)?(e[o]=Math.max(qr(Gk(d),Gk(c),a),0),(Xi.test(c)||Xi.test(d))&&(e[o]+="%")):e[o]=c}(r.rotate||s.rotate)&&(e.rotate=qr(r.rotate||0,s.rotate||0,a))}function Kk(e,r){return e[r]!==void 0?e[r]:e.borderRadius}const BK=iO(0,.5,A_),$K=iO(.5,.95,hs);function iO(e,r,s){return a=>a<e?0:a>r?1:s(l0(e,r,a))}function Yk(e,r){e.min=r.min,e.max=r.max}function Ln(e,r){Yk(e.x,r.x),Yk(e.y,r.y)}function Xk(e,r,s,a,n){return e-=r,e=Df(e,1/s,a),n!==void 0&&(e=Df(e,1/n,a)),e}function zK(e,r=0,s=1,a=.5,n,i=e,l=e){if(Xi.test(r)&&(r=parseFloat(r),r=qr(l.min,l.max,r/100)-l.min),typeof r!="number")return;let o=qr(i.min,i.max,a);e===i&&(o-=r),e.min=Xk(e.min,r,s,o,n),e.max=Xk(e.max,r,s,o,n)}function Jk(e,r,[s,a,n],i,l){zK(e,r[s],r[a],r[n],r.scale,i,l)}const UK=["x","scaleX","originX"],HK=["y","scaleY","originY"];function Qk(e,r,s,a){Jk(e.x,r,UK,s?s.x:void 0,a?a.x:void 0),Jk(e.y,r,HK,s?s.y:void 0,a?a.y:void 0)}function Zk(e){return e.translate===0&&e.scale===1}function lO(e){return Zk(e.x)&&Zk(e.y)}function VK(e,r){return e.x.min===r.x.min&&e.x.max===r.x.max&&e.y.min===r.y.min&&e.y.max===r.y.max}function oO(e,r){return Math.round(e.x.min)===Math.round(r.x.min)&&Math.round(e.x.max)===Math.round(r.x.max)&&Math.round(e.y.min)===Math.round(r.y.min)&&Math.round(e.y.max)===Math.round(r.y.max)}function eC(e){return kn(e.x)/kn(e.y)}class WK{constructor(){this.members=[]}add(r){zN(this.members,r),r.scheduleRender()}remove(r){if(UN(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(r){const s=this.members.findIndex(n=>r===n);if(s===0)return!1;let a;for(let n=s;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(r,s){const a=this.lead;if(r!==a&&(this.prevLead=a,this.lead=r,r.show(),a)){a.instance&&a.scheduleRender(),r.scheduleRender(),r.resumeFrom=a,s&&(r.resumeFrom.preserveOpacity=!0),a.snapshot&&(r.snapshot=a.snapshot,r.snapshot.latestValues=a.animationValues||a.latestValues),r.root&&r.root.isUpdating&&(r.isLayoutDirty=!0);const{crossfade:n}=r.options;n===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(r=>{const{options:s,resumingFrom:a}=r;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(r=>{r.instance&&r.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tC(e,r,s){let a="";const n=e.x.translate/r.x,i=e.y.translate/r.y;if((n||i)&&(a=`translate3d(${n}px, ${i}px, 0) `),(r.x!==1||r.y!==1)&&(a+=`scale(${1/r.x}, ${1/r.y}) `),s){const{rotate:d,rotateX:c,rotateY:u}=s;d&&(a+=`rotate(${d}deg) `),c&&(a+=`rotateX(${c}deg) `),u&&(a+=`rotateY(${u}deg) `)}const l=e.x.scale*r.x,o=e.y.scale*r.y;return(l!==1||o!==1)&&(a+=`scale(${l}, ${o})`),a||"none"}const GK=(e,r)=>e.depth-r.depth;class qK{constructor(){this.children=[],this.isDirty=!1}add(r){zN(this.children,r),this.isDirty=!0}remove(r){UN(this.children,r),this.isDirty=!0}forEach(r){this.isDirty&&this.children.sort(GK),this.isDirty=!1,this.children.forEach(r)}}function KK(e,r){const s=performance.now(),a=({timestamp:n})=>{const i=n-s;i>=r&&(Ll(a),e(i-r))};return Ar.read(a,!0),()=>Ll(a)}function YK(e){window.MotionDebug&&window.MotionDebug.record(e)}function XK(e){return e instanceof SVGElement&&e.tagName!=="svg"}function JK(e,r,s){const a=Za(e)?e:Ku(e);return a.start($N("",a,r,s)),a.animation}const rC=["","X","Y","Z"],QK={visibility:"hidden"},sC=1e3;let ZK=0;const Nc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function cO({attachResizeListener:e,defaultParent:r,measureScroll:s,checkIsScrollRoot:a,resetTransform:n}){return class{constructor(l={},o=r==null?void 0:r()){this.id=ZK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Nc.totalNodes=Nc.resolvedTargetDeltas=Nc.recalculatedProjection=0,this.nodes.forEach(rY),this.nodes.forEach(lY),this.nodes.forEach(oY),this.nodes.forEach(sY),YK(Nc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new qK)}addEventListener(l,o){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new HN),this.eventHandlers.get(l).add(o)}notifyListeners(l,...o){const d=this.eventHandlers.get(l);d&&d.notify(...o)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=XK(l),this.instance=l;const{layoutId:d,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||d)&&(this.isLayoutDirty=!0),e){let m;const x=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=KK(x,250),Vp.hasAnimatedSinceResize&&(Vp.hasAnimatedSinceResize=!1,this.nodes.forEach(nC))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&u&&(d||c)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:x,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const f=this.options.transition||u.getDefaultTransition()||hY,{onLayoutAnimationStart:b,onLayoutAnimationComplete:j}=u.getProps(),w=!this.targetLayout||!oO(this.targetLayout,p)||h,y=!x&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||x&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,y);const v={...BN(f,"layout"),onPlay:b,onComplete:j};(u.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else x||nC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ll(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cY),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:d}=this.options;if(o===void 0&&!d)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aC);return}this.isUpdating||this.nodes.forEach(nY),this.isUpdating=!1,this.nodes.forEach(iY),this.nodes.forEach(eY),this.nodes.forEach(tY),this.clearAllSnapshots();const o=performance.now();ma.delta=Xo(0,1e3/60,o-ma.timestamp),ma.timestamp=o,ma.isProcessing=!0,Lv.update.process(ma),Lv.preRender.process(ma),Lv.render.process(ma),ma.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(aY),this.sharedNodes.forEach(dY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ar.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ar.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ws(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:a(this.instance),offset:s(this.instance)})}resetTransform(){if(!n)return;const l=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!lO(this.projectionDelta),d=this.getTransformTemplate(),c=d?d(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;l&&(o||wc(this.latestValues)||u)&&(n(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const o=this.measurePageBox();let d=this.removeElementScroll(o);return l&&(d=this.removeTransform(d)),xY(d),{animationId:this.root.animationId,measuredBox:o,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return ws();const o=l.measureViewportBox(),{scroll:d}=this.root;return d&&(jo(o.x,d.offset.x),jo(o.y,d.offset.y)),o}removeElementScroll(l){const o=ws();Ln(o,l);for(let d=0;d<this.path.length;d++){const c=this.path[d],{scroll:u,options:m}=c;if(c!==this.root&&u&&m.layoutScroll){if(u.isRoot){Ln(o,l);const{scroll:x}=this.root;x&&(jo(o.x,-x.offset.x),jo(o.y,-x.offset.y))}jo(o.x,u.offset.x),jo(o.y,u.offset.y)}}return o}applyTransform(l,o=!1){const d=ws();Ln(d,l);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&pu(d,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),wc(u.latestValues)&&pu(d,u.latestValues)}return wc(this.latestValues)&&pu(d,this.latestValues),d}removeTransform(l){const o=ws();Ln(o,l);for(let d=0;d<this.path.length;d++){const c=this.path[d];if(!c.instance||!wc(c.latestValues))continue;sj(c.latestValues)&&c.updateSnapshot();const u=ws(),m=c.measurePageBox();Ln(u,m),Qk(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return wc(this.latestValues)&&Qk(o,this.latestValues),o}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ma.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var o;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==d;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:x}=this.options;if(!(!this.layout||!(m||x))){if(this.resolvedRelativeTargetAt=ma.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ws(),this.relativeTargetOrigin=ws(),Eh(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ws(),this.targetWithTransforms=ws()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ln(this.target,this.layout.layoutBox),tO(this.target,this.targetDelta)):Ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ws(),this.relativeTargetOrigin=ws(),Eh(this.relativeTargetOrigin,this.target,h.target),Ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Nc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||sj(this.parent.latestValues)||eO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const o=this.getLead(),d=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(c=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ma.timestamp&&(c=!1),c)return;const{layout:u,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||m))return;Ln(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,h=this.treeScale.y;SK(this.layoutCorrected,this.treeScale,this.path,d),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=xu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=xu(),this.projectionDeltaWithTransform=xu());const f=this.projectionTransform;Th(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=tC(this.projectionDelta,this.treeScale),(this.projectionTransform!==f||this.treeScale.x!==x||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Nc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,o=!1){const d=this.snapshot,c=d?d.latestValues:{},u={...this.latestValues},m=xu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const x=ws(),h=d?d.source:void 0,p=this.layout?this.layout.source:void 0,f=h!==p,b=this.getStack(),j=!b||b.members.length<=1,w=!!(f&&!j&&this.options.crossfade===!0&&!this.path.some(mY));this.animationProgress=0;let y;this.mixTargetDelta=v=>{const N=v/1e3;iC(m.x,l.x,N),iC(m.y,l.y,N),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eh(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uY(this.relativeTarget,this.relativeTargetOrigin,x,N),y&&VK(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=ws()),Ln(y,this.relativeTarget)),f&&(this.animationValues=u,RK(u,c,this.latestValues,N,w,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ll(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ar.update(()=>{Vp.hasAnimatedSinceResize=!0,this.currentAnimation=JK(0,sC,{...l,onUpdate:o=>{this.mixTargetDelta(o),l.onUpdate&&l.onUpdate(o)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:o,target:d,layout:c,latestValues:u}=l;if(!(!o||!d||!c)){if(this!==l&&this.layout&&c&&dO(this.options.animationType,this.layout.layoutBox,c.layoutBox)){d=this.target||ws();const m=kn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+m;const x=kn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}Ln(o,d),pu(o,u),Th(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(l,o){this.sharedNodes.has(l)||this.sharedNodes.set(l,new WK),this.sharedNodes.get(l).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:o,preserveFollowOpacity:d}={}){const c=this.getStack();c&&c.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let o=!1;const{latestValues:d}=l;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(o=!0),!o)return;const c={};for(let u=0;u<rC.length;u++){const m="rotate"+rC[u];d[m]&&(c[m]=d[m],l.setStaticValue(m,0))}l.render();for(const u in c)l.setStaticValue(u,c[u]);l.scheduleRender()}getProjectionStyles(l){var o,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return QK;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Hp(l==null?void 0:l.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const f={};return this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=Hp(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!wc(this.latestValues)&&(f.transform=u?u({},""):"none",this.hasProjected=!1),f}const x=m.animationValues||m.latestValues;this.applyTransformsToTarget(),c.transform=tC(this.projectionDeltaWithTransform,this.treeScale,x),u&&(c.transform=u(x,c.transform));const{x:h,y:p}=this.projectionDelta;c.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,m.animationValues?c.opacity=m===this?(d=(o=x.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:c.opacity=m===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const f in Pf){if(x[f]===void 0)continue;const{correct:b,applyTo:j}=Pf[f],w=c.transform==="none"?x[f]:b(x[f],m);if(j){const y=j.length;for(let v=0;v<y;v++)c[j[v]]=w}else c[f]=w}return this.options.layoutId&&(c.pointerEvents=m===this?Hp(l==null?void 0:l.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var o;return(o=l.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(aC),this.root.sharedNodes.clear()}}}function eY(e){e.updateLayout()}function tY(e){var r;const s=((r=e.resumeFrom)===null||r===void 0?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:n}=e.layout,{animationType:i}=e.options,l=s.source!==e.layout.source;i==="size"?Hn(m=>{const x=l?s.measuredBox[m]:s.layoutBox[m],h=kn(x);x.min=a[m].min,x.max=x.min+h}):dO(i,s.layoutBox,a)&&Hn(m=>{const x=l?s.measuredBox[m]:s.layoutBox[m],h=kn(a[m]);x.max=x.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+h)});const o=xu();Th(o,a,s.layoutBox);const d=xu();l?Th(d,e.applyTransform(n,!0),s.measuredBox):Th(d,a,s.layoutBox);const c=!lO(o);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:x,layout:h}=m;if(x&&h){const p=ws();Eh(p,s.layoutBox,x.layoutBox);const f=ws();Eh(f,a,h.layoutBox),oO(p,f)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=f,e.relativeTargetOrigin=p,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:d,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function rY(e){Nc.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function sY(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function aY(e){e.clearSnapshot()}function aC(e){e.clearMeasurements()}function nY(e){e.isLayoutDirty=!1}function iY(e){const{visualElement:r}=e.options;r&&r.getProps().onBeforeLayoutMeasure&&r.notify("BeforeLayoutMeasure"),e.resetTransform()}function nC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function lY(e){e.resolveTargetDelta()}function oY(e){e.calcProjection()}function cY(e){e.resetRotation()}function dY(e){e.removeLeadSnapshot()}function iC(e,r,s){e.translate=qr(r.translate,0,s),e.scale=qr(r.scale,1,s),e.origin=r.origin,e.originPoint=r.originPoint}function lC(e,r,s,a){e.min=qr(r.min,s.min,a),e.max=qr(r.max,s.max,a)}function uY(e,r,s,a){lC(e.x,r.x,s.x,a),lC(e.y,r.y,s.y,a)}function mY(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const hY={duration:.45,ease:[.4,0,.1,1]},oC=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),cC=oC("applewebkit/")&&!oC("chrome/")?Math.round:hs;function dC(e){e.min=cC(e.min),e.max=cC(e.max)}function xY(e){dC(e.x),dC(e.y)}function dO(e,r,s){return e==="position"||e==="preserve-aspect"&&!tj(eC(r),eC(s),.2)}const pY=cO({attachResizeListener:(e,r)=>fl(e,"resize",r),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qv={current:void 0},uO=cO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!qv.current){const e=new pY({});e.mount(window),e.setOptions({layoutScroll:!0}),qv.current=e}return qv.current},resetTransform:(e,r)=>{e.style.transform=r!==void 0?r:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),fY={pan:{Feature:_K},drag:{Feature:IK,ProjectionNode:uO,MeasureLayout:aO}},gY=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function yY(e){const r=gY.exec(e);if(!r)return[,];const[,s,a]=r;return[s,a]}function nj(e,r,s=1){const[a,n]=yY(e);if(!a)return;const i=window.getComputedStyle(r).getPropertyValue(a);if(i){const l=i.trim();return q_(l)?parseFloat(l):l}else return K2(n)?nj(n,r,s+1):n}function bY(e,{...r},s){const a=e.current;if(!(a instanceof Element))return{target:r,transitionEnd:s};s&&(s={...s}),e.values.forEach(n=>{const i=n.get();if(!K2(i))return;const l=nj(i,a);l&&n.set(l)});for(const n in r){const i=r[n];if(!K2(i))continue;const l=nj(i,a);l&&(r[n]=l,s||(s={}),s[n]===void 0&&(s[n]=i))}return{target:r,transitionEnd:s}}const vY=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),mO=e=>vY.has(e),jY=e=>Object.keys(e).some(mO),uC=e=>e===Ad||e===Ot,mC=(e,r)=>parseFloat(e.split(", ")[r]),hC=(e,r)=>(s,{transform:a})=>{if(a==="none"||!a)return 0;const n=a.match(/^matrix3d\((.+)\)$/);if(n)return mC(n[1],r);{const i=a.match(/^matrix\((.+)\)$/);return i?mC(i[1],e):0}},wY=new Set(["x","y","z"]),NY=z0.filter(e=>!wY.has(e));function SY(e){const r=[];return NY.forEach(s=>{const a=e.getValue(s);a!==void 0&&(r.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),r.length&&e.render(),r}const Yu={width:({x:e},{paddingLeft:r="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(r)-parseFloat(s),height:({y:e},{paddingTop:r="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(r)-parseFloat(s),top:(e,{top:r})=>parseFloat(r),left:(e,{left:r})=>parseFloat(r),bottom:({y:e},{top:r})=>parseFloat(r)+(e.max-e.min),right:({x:e},{left:r})=>parseFloat(r)+(e.max-e.min),x:hC(4,13),y:hC(5,14)};Yu.translateX=Yu.x;Yu.translateY=Yu.y;const kY=(e,r,s)=>{const a=r.measureViewportBox(),n=r.current,i=getComputedStyle(n),{display:l}=i,o={};l==="none"&&r.setStaticValue("display",e.display||"block"),s.forEach(c=>{o[c]=Yu[c](a,i)}),r.render();const d=r.measureViewportBox();return s.forEach(c=>{const u=r.getValue(c);u&&u.jump(o[c]),e[c]=Yu[c](d,i)}),e},CY=(e,r,s={},a={})=>{r={...r},a={...a};const n=Object.keys(r).filter(mO);let i=[],l=!1;const o=[];if(n.forEach(d=>{const c=e.getValue(d);if(!e.hasValue(d))return;let u=s[d],m=Km(u);const x=r[d];let h;if(Tf(x)){const p=x.length,f=x[0]===null?1:0;u=x[f],m=Km(u);for(let b=f;b<p&&x[b]!==null;b++)h?DN(Km(x[b])===h):h=Km(x[b])}else h=Km(x);if(m!==h)if(uC(m)&&uC(h)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof x=="string"?r[d]=parseFloat(x):Array.isArray(x)&&h===Ot&&(r[d]=x.map(parseFloat))}else m!=null&&m.transform&&(h!=null&&h.transform)&&(u===0||x===0)?u===0?c.set(h.transform(u)):r[d]=m.transform(x):(l||(i=SY(e),l=!0),o.push(d),a[d]=a[d]!==void 0?a[d]:r[d],c.jump(x))}),o.length){const d=o.indexOf("height")>=0?window.pageYOffset:null,c=kY(r,e,o);return i.length&&i.forEach(([u,m])=>{e.getValue(u).set(m)}),e.render(),Py&&d!==null&&window.scrollTo({top:d}),{target:c,transitionEnd:a}}else return{target:r,transitionEnd:a}};function PY(e,r,s,a){return jY(r)?CY(e,r,s,a):{target:r,transitionEnd:a}}const AY=(e,r,s,a)=>{const n=bY(e,r,a);return r=n.target,a=n.transitionEnd,PY(e,r,s,a)},ij={current:null},hO={current:!1};function TY(){if(hO.current=!0,!!Py)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),r=()=>ij.current=e.matches;e.addListener(r),r()}else ij.current=!1}function EY(e,r,s){const{willChange:a}=r;for(const n in r){const i=r[n],l=s[n];if(Za(i))e.addValue(n,i),Of(a)&&a.add(n);else if(Za(l))e.addValue(n,Ku(i,{owner:e})),Of(a)&&a.remove(n);else if(l!==i)if(e.hasValue(n)){const o=e.getValue(n);!o.hasAnimated&&o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,Ku(o!==void 0?o:i,{owner:e}))}}for(const n in s)r[n]===void 0&&e.removeValue(n);return r}const xC=new WeakMap,xO=Object.keys(i0),IY=xO.length,pC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],_Y=kN.length;class OY{constructor({parent:r,props:s,presenceContext:a,reducedMotionConfig:n,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ar.render(this.render,!1,!0);const{latestValues:o,renderState:d}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=s.initial?{...o}:{},this.renderState=d,this.parent=r,this.props=s,this.presenceContext=a,this.depth=r?r.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.isControllingVariants=Ty(s),this.isVariantNode=QI(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(r&&r.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(s,{});for(const m in u){const x=u[m];o[m]!==void 0&&Za(x)&&(x.set(o[m],!1),Of(c)&&c.add(m))}}scrapeMotionValuesFromProps(r,s){return{}}mount(r){this.current=r,xC.set(r,this),this.projection&&!this.projection.instance&&this.projection.mount(r),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),hO.current||TY(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ij.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){xC.delete(this.current),this.projection&&this.projection.unmount(),Ll(this.notifyUpdate),Ll(this.render),this.valueSubscriptions.forEach(r=>r()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const r in this.events)this.events[r].clear();for(const r in this.features)this.features[r].unmount();this.current=null}bindToMotionValue(r,s){const a=Pd.has(r),n=s.on("change",l=>{this.latestValues[r]=l,this.props.onUpdate&&Ar.update(this.notifyUpdate,!1,!0),a&&this.projection&&(this.projection.isTransformDirty=!0)}),i=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(r,()=>{n(),i()})}sortNodePosition(r){return!this.current||!this.sortInstanceNodePosition||this.type!==r.type?0:this.sortInstanceNodePosition(this.current,r.current)}loadFeatures({children:r,...s},a,n,i){let l,o;for(let d=0;d<IY;d++){const c=xO[d],{isEnabled:u,Feature:m,ProjectionNode:x,MeasureLayout:h}=i0[c];x&&(l=x),u(s)&&(!this.features[c]&&m&&(this.features[c]=new m(this)),h&&(o=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:c,drag:u,dragConstraints:m,layoutScroll:x,layoutRoot:h}=s;this.projection.setOptions({layoutId:d,layout:c,alwaysMeasureLayout:!!u||m&&mu(m),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:x,layoutRoot:h})}return o}updateFeatures(){for(const r in this.features){const s=this.features[r];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ws()}getStaticValue(r){return this.latestValues[r]}setStaticValue(r,s){this.latestValues[r]=s}makeTargetAnimatable(r,s=!0){return this.makeTargetAnimatableFromInstance(r,this.props,s)}update(r,s){(r.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=r,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<pC.length;a++){const n=pC[a];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i=r["on"+n];i&&(this.propEventSubscriptions[n]=this.on(n,i))}this.prevMotionValues=EY(this,this.scrapeMotionValuesFromProps(r,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(r){return this.props.variants?this.props.variants[r]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(r=!1){if(r)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const a=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(a.initial=this.props.initial),a}const s={};for(let a=0;a<_Y;a++){const n=kN[a],i=this.props[n];(n0(i)||i===!1)&&(s[n]=i)}return s}addVariantChild(r){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(r),()=>s.variantChildren.delete(r)}addValue(r,s){s!==this.values.get(r)&&(this.removeValue(r),this.bindToMotionValue(r,s)),this.values.set(r,s),this.latestValues[r]=s.get()}removeValue(r){this.values.delete(r);const s=this.valueSubscriptions.get(r);s&&(s(),this.valueSubscriptions.delete(r)),delete this.latestValues[r],this.removeValueFromRenderState(r,this.renderState)}hasValue(r){return this.values.has(r)}getValue(r,s){if(this.props.values&&this.props.values[r])return this.props.values[r];let a=this.values.get(r);return a===void 0&&s!==void 0&&(a=Ku(s,{owner:this}),this.addValue(r,a)),a}readValue(r){var s;return this.latestValues[r]!==void 0||!this.current?this.latestValues[r]:(s=this.getBaseTargetFromProps(this.props,r))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,r,this.options)}setBaseTarget(r,s){this.baseTarget[r]=s}getBaseTarget(r){var s;const{initial:a}=this.props,n=typeof a=="string"||typeof a=="object"?(s=ON(this.props,a))===null||s===void 0?void 0:s[r]:void 0;if(a&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,r);return i!==void 0&&!Za(i)?i:this.initialValues[r]!==void 0&&n===void 0?void 0:this.baseTarget[r]}on(r,s){return this.events[r]||(this.events[r]=new HN),this.events[r].add(s)}notify(r,...s){this.events[r]&&this.events[r].notify(...s)}}class pO extends OY{sortInstanceNodePosition(r,s){return r.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(r,s){return r.style?r.style[s]:void 0}removeValueFromRenderState(r,{vars:s,style:a}){delete s[r],delete a[r]}makeTargetAnimatableFromInstance({transition:r,transitionEnd:s,...a},{transformValues:n},i){let l=Xq(a,r||{},this);if(n&&(s&&(s=n(s)),a&&(a=n(a)),l&&(l=n(l))),i){Kq(this,a,l);const o=AY(this,a,l,s);s=o.transitionEnd,a=o.target}return{transition:r,transitionEnd:s,...a}}}function DY(e){return window.getComputedStyle(e)}class MY extends pO{constructor(){super(...arguments),this.type="html"}readValueFromInstance(r,s){if(Pd.has(s)){const a=RN(s);return a&&a.default||0}else{const a=DY(r),n=(r_(s)?a.getPropertyValue(s):a[s])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(r,{transformPagePoint:s}){return rO(r,s)}build(r,s,a,n){AN(r,s,a,n.transformTemplate)}scrapeMotionValuesFromProps(r,s){return _N(r,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:r}=this.props;Za(r)&&(this.childSubscription=r.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(r,s,a,n){o_(r,s,a,n)}}class LY extends pO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(r,s){return r[s]}readValueFromInstance(r,s){if(Pd.has(s)){const a=RN(s);return a&&a.default||0}return s=c_.has(s)?s:NN(s),r.getAttribute(s)}measureInstanceViewportBox(){return ws()}scrapeMotionValuesFromProps(r,s){return u_(r,s)}build(r,s,a,n){EN(r,s,a,this.isSVGTag,n.transformTemplate)}renderInstance(r,s,a,n){d_(r,s,a,n)}mount(r){this.isSVGTag=IN(r.tagName),super.mount(r)}}const FY=(e,r)=>PN(e)?new LY(r,{enableHardwareAcceleration:!1}):new MY(r,{enableHardwareAcceleration:!0}),RY={layout:{ProjectionNode:uO,MeasureLayout:aO}},BY={...uK,...IG,...fY,...RY},E=$W((e,r)=>yG(e,r,BY,FY));function fO(){const e=g.useRef(!1);return wN(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function $Y(){const e=fO(),[r,s]=g.useState(0),a=g.useCallback(()=>{e.current&&s(r+1)},[r]);return[g.useCallback(()=>Ar.postRender(a),[a]),r]}class zY extends g.Component{getSnapshotBeforeUpdate(r){const s=this.props.childRef.current;if(s&&r.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function UY({children:e,isPresent:r}){const s=g.useId(),a=g.useRef(null),n=g.useRef({width:0,height:0,top:0,left:0});return g.useInsertionEffect(()=>{const{width:i,height:l,top:o,left:d}=n.current;if(r||!a.current||!i||!l)return;a.current.dataset.motionPopId=s;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${l}px !important;
            top: ${o}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[r]),g.createElement(zY,{isPresent:r,childRef:a,sizeRef:n},g.cloneElement(e,{ref:a}))}const Kv=({children:e,initial:r,isPresent:s,onExitComplete:a,custom:n,presenceAffectsLayout:i,mode:l})=>{const o=m_(HY),d=g.useId(),c=g.useMemo(()=>({id:d,initial:r,isPresent:s,custom:n,onExitComplete:u=>{o.set(u,!0);for(const m of o.values())if(!m)return;a&&a()},register:u=>(o.set(u,!1),()=>o.delete(u))}),i?void 0:[s]);return g.useMemo(()=>{o.forEach((u,m)=>o.set(m,!1))},[s]),g.useEffect(()=>{!s&&!o.size&&a&&a()},[s]),l==="popLayout"&&(e=g.createElement(UY,{isPresent:s},e)),g.createElement(Cy.Provider,{value:c},e)};function HY(){return new Map}function VY(e){return g.useEffect(()=>()=>e(),[])}const Sc=e=>e.key||"";function WY(e,r){e.forEach(s=>{const a=Sc(s);r.set(a,s)})}function GY(e){const r=[];return g.Children.forEach(e,s=>{g.isValidElement(s)&&r.push(s)}),r}const wl=({children:e,custom:r,initial:s=!0,onExitComplete:a,exitBeforeEnter:n,presenceAffectsLayout:i=!0,mode:l="sync"})=>{const o=g.useContext(CN).forceRender||$Y()[0],d=fO(),c=GY(e);let u=c;const m=g.useRef(new Map).current,x=g.useRef(u),h=g.useRef(new Map).current,p=g.useRef(!0);if(wN(()=>{p.current=!1,WY(c,h),x.current=u}),VY(()=>{p.current=!0,h.clear(),m.clear()}),p.current)return g.createElement(g.Fragment,null,u.map(w=>g.createElement(Kv,{key:Sc(w),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:i,mode:l},w)));u=[...u];const f=x.current.map(Sc),b=c.map(Sc),j=f.length;for(let w=0;w<j;w++){const y=f[w];b.indexOf(y)===-1&&!m.has(y)&&m.set(y,void 0)}return l==="wait"&&m.size&&(u=[]),m.forEach((w,y)=>{if(b.indexOf(y)!==-1)return;const v=h.get(y);if(!v)return;const N=f.indexOf(y);let S=w;if(!S){const k=()=>{m.delete(y);const P=Array.from(h.keys()).filter(C=>!b.includes(C));if(P.forEach(C=>h.delete(C)),x.current=c.filter(C=>{const I=Sc(C);return I===y||P.includes(I)}),!m.size){if(d.current===!1)return;o(),a&&a()}};S=g.createElement(Kv,{key:Sc(v),isPresent:!1,onExitComplete:k,custom:r,presenceAffectsLayout:i,mode:l},v),m.set(y,S)}u.splice(N,0,S)}),u=u.map(w=>{const y=w.key;return m.has(y)?w:g.createElement(Kv,{key:Sc(w),isPresent:!0,presenceAffectsLayout:i,mode:l},w)}),g.createElement(g.Fragment,null,m.size?u:u.map(w=>g.cloneElement(w)))};var gO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fC=_t.createContext&&_t.createContext(gO),qY=["attr","size","title"];function KY(e,r){if(e==null)return{};var s=YY(e,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function YY(e,r){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;s[a]=e[a]}return s}function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Mf.apply(this,arguments)}function gC(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Lf(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?gC(Object(s),!0).forEach(function(a){XY(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):gC(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function XY(e,r,s){return r=JY(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function JY(e){var r=QY(e,"string");return typeof r=="symbol"?r:r+""}function QY(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function yO(e){return e&&e.map((r,s)=>_t.createElement(r.tag,Lf({key:s},r.attr),yO(r.child)))}function je(e){return r=>_t.createElement(ZY,Mf({attr:Lf({},e.attr)},r),yO(e.child))}function ZY(e){var r=s=>{var{attr:a,size:n,title:i}=e,l=KY(e,qY),o=n||s.size||"1em",d;return s.className&&(d=s.className),e.className&&(d=(d?d+" ":"")+e.className),_t.createElement("svg",Mf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,a,l,{className:d,style:Lf(Lf({color:e.color||s.color},s.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&_t.createElement("title",null,i),e.children)};return fC!==void 0?_t.createElement(fC.Consumer,null,s=>r(s)):r(gO)}function eX(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function tX(e){return je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function rX(e){return je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function sX(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function Er(e){return je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function lj(e){return je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function on(e){return je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function go(e){return je({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(e)}function aX(e){return je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function nX(e){return je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function Nl(e){return je({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(e)}function iX(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(e)}function Xu(e){return je({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M256.47 216.77l86.73 109.18s-16.6 102.36-76.57 150.12C206.66 523.85 0 510.19 0 510.19s3.8-23.14 11-55.43l94.62-112.17c3.97-4.7-.87-11.62-6.65-9.5l-60.4 22.09c14.44-41.66 32.72-80.04 54.6-97.47 59.97-47.76 163.3-40.94 163.3-40.94zM636.53 31.03l-19.86-25c-5.49-6.9-15.52-8.05-22.41-2.56l-232.48 177.8-34.14-42.97c-5.09-6.41-15.14-5.21-18.59 2.21l-25.33 54.55 86.73 109.18 58.8-12.45c8-1.69 11.42-11.2 6.34-17.6l-34.09-42.92 232.48-177.8c6.89-5.48 8.04-15.53 2.55-22.44z"},child:[]}]})(e)}function Eo(e){return je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function lX(e){return je({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(e)}function oX(e){return je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Zx(e){return je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function yC(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function bO(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function Ue(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function cX(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function vO(e){return je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function bC(e){return je({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function dX(e){return je({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M616 192H480V24c0-13.26-10.74-24-24-24H312c-13.26 0-24 10.74-24 24v72h-64V16c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v80h-64V16c0-8.84-7.16-16-16-16H80c-8.84 0-16 7.16-16 16v80H24c-13.26 0-24 10.74-24 24v360c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V216c0-13.26-10.75-24-24-24zM128 404c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm128 192c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12V76c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 288c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40z"},child:[]}]})(e)}function si(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function uX(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function Oy(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(e)}function mX(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M510.37 254.79l-12.08-76.26a132.493 132.493 0 0 0-37.16-72.95l-54.76-54.75c-19.73-19.72-45.18-32.7-72.71-37.05l-76.7-12.15c-27.51-4.36-55.69.11-80.52 12.76L107.32 49.6a132.25 132.25 0 0 0-57.79 57.8l-35.1 68.88a132.602 132.602 0 0 0-12.82 80.94l12.08 76.27a132.493 132.493 0 0 0 37.16 72.95l54.76 54.75a132.087 132.087 0 0 0 72.71 37.05l76.7 12.14c27.51 4.36 55.69-.11 80.52-12.75l69.12-35.21a132.302 132.302 0 0 0 57.79-57.8l35.1-68.87c12.71-24.96 17.2-53.3 12.82-80.96zM176 368c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm32-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm160 128c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function _i(e){return je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(e)}function hX(e){return je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(e)}function xX(e){return je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function jO(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function id(e){return je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function oj(e){return je({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function W0(e){return je({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(e)}function ld(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function wO(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504.971 199.362l-22.627-22.627c-9.373-9.373-24.569-9.373-33.941 0l-5.657 5.657L329.608 69.255l5.657-5.657c9.373-9.373 9.373-24.569 0-33.941L312.638 7.029c-9.373-9.373-24.569-9.373-33.941 0L154.246 131.48c-9.373 9.373-9.373 24.569 0 33.941l22.627 22.627c9.373 9.373 24.569 9.373 33.941 0l5.657-5.657 39.598 39.598-81.04 81.04-5.657-5.657c-12.497-12.497-32.758-12.497-45.255 0L9.373 412.118c-12.497 12.497-12.497 32.758 0 45.255l45.255 45.255c12.497 12.497 32.758 12.497 45.255 0l114.745-114.745c12.497-12.497 12.497-32.758 0-45.255l-5.657-5.657 81.04-81.04 39.598 39.598-5.657 5.657c-9.373 9.373-9.373 24.569 0 33.941l22.627 22.627c9.373 9.373 24.569 9.373 33.941 0l124.451-124.451c9.372-9.372 9.372-24.568 0-33.941z"},child:[]}]})(e)}function pX(e){return je({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(e)}function Ju(e){return je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M571.31 193.94l-22.63-22.63c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31-28.9-28.9c5.63-21.31.36-44.9-16.35-61.61l-45.25-45.25c-62.48-62.48-163.79-62.48-226.28 0l90.51 45.25v18.75c0 16.97 6.74 33.25 18.75 45.25l49.14 49.14c16.71 16.71 40.3 21.98 61.61 16.35l28.9 28.9-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63l22.63 22.63c6.25 6.25 16.38 6.25 22.63 0l90.51-90.51c6.23-6.24 6.23-16.37-.02-22.62zm-286.72-15.2c-3.7-3.7-6.84-7.79-9.85-11.95L19.64 404.96c-25.57 23.88-26.26 64.19-1.53 88.93s65.05 24.05 88.93-1.53l238.13-255.07c-3.96-2.91-7.9-5.87-11.44-9.41l-49.14-49.14z"},child:[]}]})(e)}function fX(e){return je({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function gX(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(e)}function Ff(e){return je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function yX(e){return je({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"},child:[]}]})(e)}function bX(e){return je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(e)}function Wp(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function vX(e){return je({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function jX(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.52 3.52L28.74 195.42c-47.97 22.39-31.98 92.75 19.19 92.75h175.91v175.91c0 51.17 70.36 67.17 92.75 19.19l191.9-415.78c15.99-38.39-25.59-79.97-63.97-63.97z"},child:[]}]})(e)}function VN(e){return je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function Fl(e){return je({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function wX(e){return je({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M112 316.94v156.69l22.02 33.02c4.75 7.12 15.22 7.12 19.97 0L176 473.63V316.94c-10.39 1.92-21.06 3.06-32 3.06s-21.61-1.14-32-3.06zM144 0C64.47 0 0 64.47 0 144s64.47 144 144 144 144-64.47 144-144S223.53 0 144 0zm0 76c-37.5 0-68 30.5-68 68 0 6.62-5.38 12-12 12s-12-5.38-12-12c0-50.73 41.28-92 92-92 6.62 0 12 5.38 12 12s-5.38 12-12 12z"},child:[]}]})(e)}function Fn(e){return je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Dy(e){return je({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(e)}function NX(e){return je({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function Qu(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 128V32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v96c0 17.67 14.33 32 32 32h352c17.67 0 32-14.33 32-32zm32-64v128c0 17.67-14.33 32-32 32H256c-35.35 0-64 28.65-64 64v32c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32v-32h160c53.02 0 96-42.98 96-96v-64c0-35.35-28.65-64-64-64z"},child:[]}]})(e)}function SX(e){return je({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M109.25 173.25c24.99-24.99 24.99-65.52 0-90.51-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 25 25 65.52 25 90.51 0zm256 165.49c-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 24.99 24.99 65.52 24.99 90.51 0 25-24.99 25-65.51 0-90.51zm-1.94-231.43l-22.62-22.62c-12.5-12.5-32.76-12.5-45.25 0L20.69 359.44c-12.5 12.5-12.5 32.76 0 45.25l22.62 22.62c12.5 12.5 32.76 12.5 45.25 0l274.75-274.75c12.5-12.49 12.5-32.75 0-45.25z"},child:[]}]})(e)}function WN(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function My(e){return je({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M320,32a32,32,0,0,0-64,0v96h64Zm48,128H16A16,16,0,0,0,0,176v32a16,16,0,0,0,16,16H32v32A160.07,160.07,0,0,0,160,412.8V512h64V412.8A160.07,160.07,0,0,0,352,256V224h16a16,16,0,0,0,16-16V176A16,16,0,0,0,368,160ZM128,32a32,32,0,0,0-64,0v96h64Z"},child:[]}]})(e)}function js(e){return je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function kX(e){return je({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M358.4 3.2L320 48 265.6 3.2a15.9 15.9 0 0 0-19.2 0L192 48 137.6 3.2a15.9 15.9 0 0 0-19.2 0L64 48 25.6 3.2C15-4.7 0 2.8 0 16v480c0 13.2 15 20.7 25.6 12.8L64 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L192 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L320 464l38.4 44.8c10.5 7.9 25.6.4 25.6-12.8V16c0-13.2-15-20.7-25.6-12.8zM320 360c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function CX(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(e)}function Td(e){return je({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"},child:[]}]})(e)}function PX(e){return je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(e)}function Qo(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function Fi(e){return je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function vC(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Zu(e){return je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M440.3 345.2l-33.8-19.5 26-7c8.2-2.2 13.1-10.7 10.9-18.9l-4-14.9c-2.2-8.2-10.7-13.1-18.9-10.9l-70.8 19-63.9-37 63.8-36.9 70.8 19c8.2 2.2 16.7-2.7 18.9-10.9l4-14.9c2.2-8.2-2.7-16.7-10.9-18.9l-26-7 33.8-19.5c7.4-4.3 9.9-13.7 5.7-21.1L430.4 119c-4.3-7.4-13.7-9.9-21.1-5.7l-33.8 19.5 7-26c2.2-8.2-2.7-16.7-10.9-18.9l-14.9-4c-8.2-2.2-16.7 2.7-18.9 10.9l-19 70.8-62.8 36.2v-77.5l53.7-53.7c6.2-6.2 6.2-16.4 0-22.6l-11.3-11.3c-6.2-6.2-16.4-6.2-22.6 0L256 56.4V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v40.4l-19.7-19.7c-6.2-6.2-16.4-6.2-22.6 0L138.3 48c-6.3 6.2-6.3 16.4 0 22.6l53.7 53.7v77.5l-62.8-36.2-19-70.8c-2.2-8.2-10.7-13.1-18.9-10.9l-14.9 4c-8.2 2.2-13.1 10.7-10.9 18.9l7 26-33.8-19.5c-7.4-4.3-16.8-1.7-21.1 5.7L2.1 145.7c-4.3 7.4-1.7 16.8 5.7 21.1l33.8 19.5-26 7c-8.3 2.2-13.2 10.7-11 19l4 14.9c2.2 8.2 10.7 13.1 18.9 10.9l70.8-19 63.8 36.9-63.8 36.9-70.8-19c-8.2-2.2-16.7 2.7-18.9 10.9l-4 14.9c-2.2 8.2 2.7 16.7 10.9 18.9l26 7-33.8 19.6c-7.4 4.3-9.9 13.7-5.7 21.1l15.5 26.8c4.3 7.4 13.7 9.9 21.1 5.7l33.8-19.5-7 26c-2.2 8.2 2.7 16.7 10.9 18.9l14.9 4c8.2 2.2 16.7-2.7 18.9-10.9l19-70.8 62.8-36.2v77.5l-53.7 53.7c-6.3 6.2-6.3 16.4 0 22.6l11.3 11.3c6.2 6.2 16.4 6.2 22.6 0l19.7-19.7V496c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-40.4l19.7 19.7c6.2 6.2 16.4 6.2 22.6 0l11.3-11.3c6.2-6.2 6.2-16.4 0-22.6L256 387.7v-77.5l62.8 36.2 19 70.8c2.2 8.2 10.7 13.1 18.9 10.9l14.9-4c8.2-2.2 13.1-10.7 10.9-18.9l-7-26 33.8 19.5c7.4 4.3 16.8 1.7 21.1-5.7l15.5-26.8c4.3-7.3 1.8-16.8-5.6-21z"},child:[]}]})(e)}function ss(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function gc(e){return je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function AX(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(e)}function jC(e){return je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function Kt(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function Rl(e){return je({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function em(e){return je({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M205.22 22.09c-7.94-28.78-49.44-30.12-58.44 0C100.01 179.85 0 222.72 0 333.91 0 432.35 78.72 512 176 512s176-79.65 176-178.09c0-111.75-99.79-153.34-146.78-311.82zM176 448c-61.75 0-112-50.25-112-112 0-8.84 7.16-16 16-16s16 7.16 16 16c0 44.11 35.89 80 80 80 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function TX(e){return je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"},child:[]}]})(e)}function EX(e){return je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"},child:[]}]})(e)}function IX(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.63 214.63l-45.25-45.25c-6-6-14.14-9.37-22.63-9.37H384V80c0-26.51-21.49-48-48-48H176c-26.51 0-48 21.49-48 48v80H77.25c-8.49 0-16.62 3.37-22.63 9.37L9.37 214.63c-6 6-9.37 14.14-9.37 22.63V320h128v-16c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v16h128v-16c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v16h128v-82.75c0-8.48-3.37-16.62-9.37-22.62zM320 160H192V96h128v64zm64 208c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-16H192v16c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-16H0v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96H384v16z"},child:[]}]})(e)}function ga(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(e)}function _X(e){return je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Yv(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function Ha(e){return je({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(e)}function NO(e){return je({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function Dc(e){return je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function wC(e){return je({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function tm(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function G0(e){return je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}const OX=({isOpen:e,onClose:r})=>(g.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),g.useEffect(()=>{if(!e)return;const s=a=>{a.key==="Escape"&&e&&(a.preventDefault(),a.stopPropagation(),r&&r())};return document.addEventListener("keydown",s,!0),()=>{document.removeEventListener("keydown",s,!0)}},[e,r]),t.jsx(wl,{children:e&&t.jsxs(t.Fragment,{children:[t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:s=>{s.preventDefault(),s.stopPropagation(),r&&r()},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[10000] cursor-pointer"}),t.jsx("div",{className:"fixed inset-0 z-[10001] flex items-center justify-center p-4 pointer-events-none",children:t.jsxs(E.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",stiffness:300,damping:30},onClick:s=>s.stopPropagation(),onMouseDown:s=>s.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl max-w-md w-full pointer-events-auto relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#25D366] via-[#20BA5A] to-[#128C7E] opacity-10"}),[...Array(6)].map((s,a)=>t.jsx(E.div,{className:"absolute rounded-full bg-[#25D366]/20 pointer-events-none",style:{width:`${20+a*10}px`,height:`${20+a*10}px`,left:`${10+a*15}%`,top:`${10+a*12}%`},animate:{y:[0,-30,0],x:[0,20,0],scale:[1,1.2,1],opacity:[.2,.4,.2]},transition:{duration:3+a*.5,repeat:1/0,ease:"easeInOut",delay:a*.3}},a)),t.jsx("button",{type:"button",onClick:s=>{s.preventDefault(),s.stopPropagation(),r&&r()},onMouseDown:s=>{s.preventDefault(),s.stopPropagation()},className:"absolute top-4 right-4 z-[100] w-10 h-10 rounded-full bg-white hover:bg-gray-50 shadow-lg flex items-center justify-center transition-all duration-200 hover:scale-110 active:scale-95 group cursor-pointer border border-gray-200","aria-label":"Close dialog",title:"Close",style:{pointerEvents:"auto"},children:t.jsx(Rl,{className:"w-5 h-5 text-gray-700 group-hover:text-gray-900 transition-colors"})}),t.jsxs("div",{className:"relative z-10 p-8 sm:p-10",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-[#25D366] to-[#128C7E] flex items-center justify-center shadow-xl",children:t.jsx(E.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:t.jsx(CX,{className:"w-12 h-12 text-white"})})}),t.jsx(E.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl sm:text-4xl font-bold text-center mb-3 bg-gradient-to-r from-[#25D366] to-[#128C7E] bg-clip-text text-transparent",children:"Coming Soon!"}),t.jsx(E.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-gray-600 text-center mb-6 text-lg",children:"WhatsApp integration is under development"}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-[#25D366]/10 to-[#128C7E]/10 rounded-2xl p-6 mb-6 border border-[#25D366]/20",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-[#25D366]/20 flex items-center justify-center",children:t.jsx(si,{className:"w-6 h-6 text-[#128C7E]"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"We're working on it!"}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Our team is building an amazing WhatsApp experience for you. Stay tuned for updates and be the first to know when it's ready!"})]})]})}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-3 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-[#25D366] flex-shrink-0"}),t.jsx("span",{className:"text-sm",children:"Instant booking via WhatsApp"})]}),t.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-[#25D366] flex-shrink-0"}),t.jsx("span",{className:"text-sm",children:"Real-time service updates"})]}),t.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-[#25D366] flex-shrink-0"}),t.jsx("span",{className:"text-sm",children:"24/7 customer support"})]})]}),t.jsxs(E.button,{type:"button",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},onClick:s=>{s.preventDefault(),s.stopPropagation(),r&&r()},className:"w-full bg-gradient-to-r from-[#25D366] to-[#128C7E] text-white py-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2 hover:scale-105 active:scale-95 cursor-pointer",children:[t.jsx(nX,{className:"w-5 h-5"}),t.jsx("span",{children:"I'll be notified"})]}),t.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center text-xs text-gray-500 mt-4",children:"For now, please contact us through other channels"})]})]})})]})})),SO=g.createContext(),GN=()=>{const e=g.useContext(SO);if(!e)throw new Error("useComingSoon must be used within ComingSoonProvider");return e},DX=({children:e})=>{const[r,s]=g.useState(!1),a=()=>s(!0),n=()=>s(!1);return t.jsxs(SO.Provider,{value:{openDialog:a,closeDialog:n},children:[e,t.jsx(OX,{isOpen:r,onClose:n})]})},MX=()=>{const{pathname:e,hash:r}=$r();return g.useEffect(()=>{if(r){const s=document.getElementById(r.substring(1));if(s){setTimeout(()=>{s.scrollIntoView({behavior:"smooth",block:"start"})},100);return}}window.scrollTo({top:0,left:0,behavior:"smooth"})},[e,r]),null},In=({title:e="Nexo - Connect. Work. Grow. | Home Services on WhatsApp",description:r="Fast, reliable and affordable home services from verified experts. Book AC, electrical, plumbing, cleaning, and 200+ services on WhatsApp. Response under 2 minutes.",keywords:s="home services, AC service, electrical work, plumbing, cleaning services, WhatsApp booking, verified technicians, home maintenance",image:a="/logo.png",url:n="",type:i="website"})=>{const l=e.includes("Nexo")?e:`${e} | Nexo`,o="http://localhost:9088",d=n?`${o}${n}`:o,c=a.startsWith("http")?a:`${o}${a}`;return t.jsxs(CV,{children:[t.jsx("title",{children:l}),t.jsx("meta",{name:"title",content:l}),t.jsx("meta",{name:"description",content:r}),t.jsx("meta",{name:"keywords",content:s}),t.jsx("meta",{name:"author",content:"Nexo"}),t.jsx("meta",{name:"robots",content:"index, follow"}),t.jsx("meta",{name:"language",content:"English"}),t.jsx("meta",{name:"revisit-after",content:"7 days"}),t.jsx("meta",{property:"og:type",content:i}),t.jsx("meta",{property:"og:url",content:d}),t.jsx("meta",{property:"og:title",content:l}),t.jsx("meta",{property:"og:description",content:r}),t.jsx("meta",{property:"og:image",content:c}),t.jsx("meta",{property:"og:image:width",content:"1200"}),t.jsx("meta",{property:"og:image:height",content:"630"}),t.jsx("meta",{property:"og:image:type",content:"image/png"}),t.jsx("meta",{property:"og:site_name",content:"Nexo"}),t.jsx("meta",{property:"og:locale",content:"en_IN"}),t.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),t.jsx("meta",{name:"twitter:url",content:d}),t.jsx("meta",{name:"twitter:title",content:l}),t.jsx("meta",{name:"twitter:description",content:r}),t.jsx("meta",{name:"twitter:image",content:c}),t.jsx("meta",{name:"twitter:site",content:"@nexo"}),t.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),t.jsx("meta",{name:"theme-color",content:"#214A73"}),t.jsx("link",{rel:"canonical",href:d}),t.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Service",name:"Nexo Home Services",description:r,url:d,logo:`${o}/logo.png`,contactPoint:{"@type":"ContactPoint",telephone:"+91-9590926068",contactType:"Customer Service",availableLanguage:["English","Hindi"]},areaServed:{"@type":"Country",name:"India"},serviceType:"Home Services",provider:{"@type":"Organization",name:"Nexo",url:o}})})]})};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FX=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,a)=>a?a.toUpperCase():s.toLowerCase()),NC=e=>{const r=FX(e);return r.charAt(0).toUpperCase()+r.slice(1)},kO=(...e)=>e.filter((r,s,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===s).join(" ").trim(),RX=e=>{for(const r in e)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=g.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:l,...o},d)=>g.createElement("svg",{ref:d,...BX,width:r,height:r,stroke:e,strokeWidth:a?Number(s)*24/Number(r):s,className:kO("lucide",n),...!i&&!RX(o)&&{"aria-hidden":"true"},...o},[...l.map(([c,u])=>g.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=(e,r)=>{const s=g.forwardRef(({className:a,...n},i)=>g.createElement($X,{ref:i,iconNode:r,className:kO(`lucide-${LX(NC(e))}`,`lucide-${e}`,a),...n}));return s.displayName=NC(e),s};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],UX=qN("check",zX);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],SC=qN("map-pin",HX);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],WX=qN("x",VX);function CO(e,r){return function(){return e.apply(r,arguments)}}const{toString:GX}=Object.prototype,{getPrototypeOf:KN}=Object,{iterator:Ly,toStringTag:PO}=Symbol,Fy=(e=>r=>{const s=GX.call(r);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Oi=e=>(e=e.toLowerCase(),r=>Fy(r)===e),Ry=e=>r=>typeof r===e,{isArray:gm}=Array,rm=Ry("undefined");function q0(e){return e!==null&&!rm(e)&&e.constructor!==null&&!rm(e.constructor)&&Ya(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const AO=Oi("ArrayBuffer");function qX(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&AO(e.buffer),r}const KX=Ry("string"),Ya=Ry("function"),TO=Ry("number"),K0=e=>e!==null&&typeof e=="object",YX=e=>e===!0||e===!1,Gp=e=>{if(Fy(e)!=="object")return!1;const r=KN(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(PO in e)&&!(Ly in e)},XX=e=>{if(!K0(e)||q0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},JX=Oi("Date"),QX=Oi("File"),ZX=Oi("Blob"),eJ=Oi("FileList"),tJ=e=>K0(e)&&Ya(e.pipe),rJ=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||Ya(e.append)&&((r=Fy(e))==="formdata"||r==="object"&&Ya(e.toString)&&e.toString()==="[object FormData]"))},sJ=Oi("URLSearchParams"),[aJ,nJ,iJ,lJ]=["ReadableStream","Request","Response","Headers"].map(Oi),oJ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Y0(e,r,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),gm(e))for(a=0,n=e.length;a<n;a++)r.call(null,e[a],a,e);else{if(q0(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(a=0;a<l;a++)o=i[a],r.call(null,e[o],o,e)}}function EO(e,r){if(q0(e))return null;r=r.toLowerCase();const s=Object.keys(e);let a=s.length,n;for(;a-- >0;)if(n=s[a],r===n.toLowerCase())return n;return null}const Mc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,IO=e=>!rm(e)&&e!==Mc;function cj(){const{caseless:e,skipUndefined:r}=IO(this)&&this||{},s={},a=(n,i)=>{const l=e&&EO(s,i)||i;Gp(s[l])&&Gp(n)?s[l]=cj(s[l],n):Gp(n)?s[l]=cj({},n):gm(n)?s[l]=n.slice():(!r||!rm(n))&&(s[l]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Y0(arguments[n],a);return s}const cJ=(e,r,s,{allOwnKeys:a}={})=>(Y0(r,(n,i)=>{s&&Ya(n)?e[i]=CO(n,s):e[i]=n},{allOwnKeys:a}),e),dJ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),uJ=(e,r,s,a)=>{e.prototype=Object.create(r.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),s&&Object.assign(e.prototype,s)},mJ=(e,r,s,a)=>{let n,i,l;const o={};if(r=r||{},e==null)return r;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)l=n[i],(!a||a(l,e,r))&&!o[l]&&(r[l]=e[l],o[l]=!0);e=s!==!1&&KN(e)}while(e&&(!s||s(e,r))&&e!==Object.prototype);return r},hJ=(e,r,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=r.length;const a=e.indexOf(r,s);return a!==-1&&a===s},xJ=e=>{if(!e)return null;if(gm(e))return e;let r=e.length;if(!TO(r))return null;const s=new Array(r);for(;r-- >0;)s[r]=e[r];return s},pJ=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&KN(Uint8Array)),fJ=(e,r)=>{const a=(e&&e[Ly]).call(e);let n;for(;(n=a.next())&&!n.done;){const i=n.value;r.call(e,i[0],i[1])}},gJ=(e,r)=>{let s;const a=[];for(;(s=e.exec(r))!==null;)a.push(s);return a},yJ=Oi("HTMLFormElement"),bJ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,n){return a.toUpperCase()+n}),kC=(({hasOwnProperty:e})=>(r,s)=>e.call(r,s))(Object.prototype),vJ=Oi("RegExp"),_O=(e,r)=>{const s=Object.getOwnPropertyDescriptors(e),a={};Y0(s,(n,i)=>{let l;(l=r(n,i,e))!==!1&&(a[i]=l||n)}),Object.defineProperties(e,a)},jJ=e=>{_O(e,(r,s)=>{if(Ya(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(Ya(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},wJ=(e,r)=>{const s={},a=n=>{n.forEach(i=>{s[i]=!0})};return gm(e)?a(e):a(String(e).split(r)),s},NJ=()=>{},SJ=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function kJ(e){return!!(e&&Ya(e.append)&&e[PO]==="FormData"&&e[Ly])}const CJ=e=>{const r=new Array(10),s=(a,n)=>{if(K0(a)){if(r.indexOf(a)>=0)return;if(q0(a))return a;if(!("toJSON"in a)){r[n]=a;const i=gm(a)?[]:{};return Y0(a,(l,o)=>{const d=s(l,n+1);!rm(d)&&(i[o]=d)}),r[n]=void 0,i}}return a};return s(e,0)},PJ=Oi("AsyncFunction"),AJ=e=>e&&(K0(e)||Ya(e))&&Ya(e.then)&&Ya(e.catch),OO=((e,r)=>e?setImmediate:r?((s,a)=>(Mc.addEventListener("message",({source:n,data:i})=>{n===Mc&&i===s&&a.length&&a.shift()()},!1),n=>{a.push(n),Mc.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Ya(Mc.postMessage)),TJ=typeof queueMicrotask<"u"?queueMicrotask.bind(Mc):typeof process<"u"&&process.nextTick||OO,EJ=e=>e!=null&&Ya(e[Ly]),De={isArray:gm,isArrayBuffer:AO,isBuffer:q0,isFormData:rJ,isArrayBufferView:qX,isString:KX,isNumber:TO,isBoolean:YX,isObject:K0,isPlainObject:Gp,isEmptyObject:XX,isReadableStream:aJ,isRequest:nJ,isResponse:iJ,isHeaders:lJ,isUndefined:rm,isDate:JX,isFile:QX,isBlob:ZX,isRegExp:vJ,isFunction:Ya,isStream:tJ,isURLSearchParams:sJ,isTypedArray:pJ,isFileList:eJ,forEach:Y0,merge:cj,extend:cJ,trim:oJ,stripBOM:dJ,inherits:uJ,toFlatObject:mJ,kindOf:Fy,kindOfTest:Oi,endsWith:hJ,toArray:xJ,forEachEntry:fJ,matchAll:gJ,isHTMLForm:yJ,hasOwnProperty:kC,hasOwnProp:kC,reduceDescriptors:_O,freezeMethods:jJ,toObjectSet:wJ,toCamelCase:bJ,noop:NJ,toFiniteNumber:SJ,findKey:EO,global:Mc,isContextDefined:IO,isSpecCompliantForm:kJ,toJSONObject:CJ,isAsyncFn:PJ,isThenable:AJ,setImmediate:OO,asap:TJ,isIterable:EJ};function Ut(e,r,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}De.inherits(Ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:De.toJSONObject(this.config),code:this.code,status:this.status}}});const DO=Ut.prototype,MO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{MO[e]={value:e}});Object.defineProperties(Ut,MO);Object.defineProperty(DO,"isAxiosError",{value:!0});Ut.from=(e,r,s,a,n,i)=>{const l=Object.create(DO);De.toFlatObject(e,l,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const o=e&&e.message?e.message:"Error",d=r==null&&e?e.code:r;return Ut.call(l,o,d,s,a,n),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const IJ=null;function dj(e){return De.isPlainObject(e)||De.isArray(e)}function LO(e){return De.endsWith(e,"[]")?e.slice(0,-2):e}function CC(e,r,s){return e?e.concat(r).map(function(n,i){return n=LO(n),!s&&i?"["+n+"]":n}).join(s?".":""):r}function _J(e){return De.isArray(e)&&!e.some(dj)}const OJ=De.toFlatObject(De,{},null,function(r){return/^is[A-Z]/.test(r)});function By(e,r,s){if(!De.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,s=De.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,b){return!De.isUndefined(b[f])});const a=s.metaTokens,n=s.visitor||u,i=s.dots,l=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&De.isSpecCompliantForm(r);if(!De.isFunction(n))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(De.isDate(p))return p.toISOString();if(De.isBoolean(p))return p.toString();if(!d&&De.isBlob(p))throw new Ut("Blob is not supported. Use a Buffer instead.");return De.isArrayBuffer(p)||De.isTypedArray(p)?d&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,f,b){let j=p;if(p&&!b&&typeof p=="object"){if(De.endsWith(f,"{}"))f=a?f:f.slice(0,-2),p=JSON.stringify(p);else if(De.isArray(p)&&_J(p)||(De.isFileList(p)||De.endsWith(f,"[]"))&&(j=De.toArray(p)))return f=LO(f),j.forEach(function(y,v){!(De.isUndefined(y)||y===null)&&r.append(l===!0?CC([f],v,i):l===null?f:f+"[]",c(y))}),!1}return dj(p)?!0:(r.append(CC(b,f,i),c(p)),!1)}const m=[],x=Object.assign(OJ,{defaultVisitor:u,convertValue:c,isVisitable:dj});function h(p,f){if(!De.isUndefined(p)){if(m.indexOf(p)!==-1)throw Error("Circular reference detected in "+f.join("."));m.push(p),De.forEach(p,function(j,w){(!(De.isUndefined(j)||j===null)&&n.call(r,j,De.isString(w)?w.trim():w,f,x))===!0&&h(j,f?f.concat(w):[w])}),m.pop()}}if(!De.isObject(e))throw new TypeError("data must be an object");return h(e),r}function PC(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function YN(e,r){this._pairs=[],e&&By(e,this,r)}const FO=YN.prototype;FO.append=function(r,s){this._pairs.push([r,s])};FO.toString=function(r){const s=r?function(a){return r.call(this,a,PC)}:PC;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function DJ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function RO(e,r,s){if(!r)return e;const a=s&&s.encode||DJ;De.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(r,s):i=De.isURLSearchParams(r)?r.toString():new YN(r,s).toString(a),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class AC{constructor(){this.handlers=[]}use(r,s,a){return this.handlers.push({fulfilled:r,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){De.forEach(this.handlers,function(a){a!==null&&r(a)})}}const BO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},MJ=typeof URLSearchParams<"u"?URLSearchParams:YN,LJ=typeof FormData<"u"?FormData:null,FJ=typeof Blob<"u"?Blob:null,RJ={isBrowser:!0,classes:{URLSearchParams:MJ,FormData:LJ,Blob:FJ},protocols:["http","https","file","blob","url","data"]},XN=typeof window<"u"&&typeof document<"u",uj=typeof navigator=="object"&&navigator||void 0,BJ=XN&&(!uj||["ReactNative","NativeScript","NS"].indexOf(uj.product)<0),$J=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zJ=XN&&window.location.href||"http://localhost",UJ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:XN,hasStandardBrowserEnv:BJ,hasStandardBrowserWebWorkerEnv:$J,navigator:uj,origin:zJ},Symbol.toStringTag,{value:"Module"})),fa={...UJ,...RJ};function HJ(e,r){return By(e,new fa.classes.URLSearchParams,{visitor:function(s,a,n,i){return fa.isNode&&De.isBuffer(s)?(this.append(a,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function VJ(e){return De.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function WJ(e){const r={},s=Object.keys(e);let a;const n=s.length;let i;for(a=0;a<n;a++)i=s[a],r[i]=e[i];return r}function $O(e){function r(s,a,n,i){let l=s[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),d=i>=s.length;return l=!l&&De.isArray(n)?n.length:l,d?(De.hasOwnProp(n,l)?n[l]=[n[l],a]:n[l]=a,!o):((!n[l]||!De.isObject(n[l]))&&(n[l]=[]),r(s,a,n[l],i)&&De.isArray(n[l])&&(n[l]=WJ(n[l])),!o)}if(De.isFormData(e)&&De.isFunction(e.entries)){const s={};return De.forEachEntry(e,(a,n)=>{r(VJ(a),n,s,0)}),s}return null}function GJ(e,r,s){if(De.isString(e))try{return(r||JSON.parse)(e),De.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const X0={transitional:BO,adapter:["xhr","http","fetch"],transformRequest:[function(r,s){const a=s.getContentType()||"",n=a.indexOf("application/json")>-1,i=De.isObject(r);if(i&&De.isHTMLForm(r)&&(r=new FormData(r)),De.isFormData(r))return n?JSON.stringify($O(r)):r;if(De.isArrayBuffer(r)||De.isBuffer(r)||De.isStream(r)||De.isFile(r)||De.isBlob(r)||De.isReadableStream(r))return r;if(De.isArrayBufferView(r))return r.buffer;if(De.isURLSearchParams(r))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let o;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return HJ(r,this.formSerializer).toString();if((o=De.isFileList(r))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return By(o?{"files[]":r}:r,d&&new d,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),GJ(r)):r}],transformResponse:[function(r){const s=this.transitional||X0.transitional,a=s&&s.forcedJSONParsing,n=this.responseType==="json";if(De.isResponse(r)||De.isReadableStream(r))return r;if(r&&De.isString(r)&&(a&&!this.responseType||n)){const l=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(r,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?Ut.from(o,Ut.ERR_BAD_RESPONSE,this,null,this.response):o}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fa.classes.FormData,Blob:fa.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};De.forEach(["delete","get","head","post","put","patch"],e=>{X0.headers[e]={}});const qJ=De.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),KJ=e=>{const r={};let s,a,n;return e&&e.split(`
`).forEach(function(l){n=l.indexOf(":"),s=l.substring(0,n).trim().toLowerCase(),a=l.substring(n+1).trim(),!(!s||r[s]&&qJ[s])&&(s==="set-cookie"?r[s]?r[s].push(a):r[s]=[a]:r[s]=r[s]?r[s]+", "+a:a)}),r},TC=Symbol("internals");function Xm(e){return e&&String(e).trim().toLowerCase()}function qp(e){return e===!1||e==null?e:De.isArray(e)?e.map(qp):String(e)}function YJ(e){const r=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)r[a[1]]=a[2];return r}const XJ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Xv(e,r,s,a,n){if(De.isFunction(a))return a.call(this,r,s);if(n&&(r=s),!!De.isString(r)){if(De.isString(a))return r.indexOf(a)!==-1;if(De.isRegExp(a))return a.test(r)}}function JJ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,s,a)=>s.toUpperCase()+a)}function QJ(e,r){const s=De.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(n,i,l){return this[a].call(this,r,n,i,l)},configurable:!0})})}let Xa=class{constructor(r){r&&this.set(r)}set(r,s,a){const n=this;function i(o,d,c){const u=Xm(d);if(!u)throw new Error("header name must be a non-empty string");const m=De.findKey(n,u);(!m||n[m]===void 0||c===!0||c===void 0&&n[m]!==!1)&&(n[m||d]=qp(o))}const l=(o,d)=>De.forEach(o,(c,u)=>i(c,u,d));if(De.isPlainObject(r)||r instanceof this.constructor)l(r,s);else if(De.isString(r)&&(r=r.trim())&&!XJ(r))l(KJ(r),s);else if(De.isObject(r)&&De.isIterable(r)){let o={},d,c;for(const u of r){if(!De.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(d=o[c])?De.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}l(o,s)}else r!=null&&i(s,r,a);return this}get(r,s){if(r=Xm(r),r){const a=De.findKey(this,r);if(a){const n=this[a];if(!s)return n;if(s===!0)return YJ(n);if(De.isFunction(s))return s.call(this,n,a);if(De.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,s){if(r=Xm(r),r){const a=De.findKey(this,r);return!!(a&&this[a]!==void 0&&(!s||Xv(this,this[a],a,s)))}return!1}delete(r,s){const a=this;let n=!1;function i(l){if(l=Xm(l),l){const o=De.findKey(a,l);o&&(!s||Xv(a,a[o],o,s))&&(delete a[o],n=!0)}}return De.isArray(r)?r.forEach(i):i(r),n}clear(r){const s=Object.keys(this);let a=s.length,n=!1;for(;a--;){const i=s[a];(!r||Xv(this,this[i],i,r,!0))&&(delete this[i],n=!0)}return n}normalize(r){const s=this,a={};return De.forEach(this,(n,i)=>{const l=De.findKey(a,i);if(l){s[l]=qp(n),delete s[i];return}const o=r?JJ(i):String(i).trim();o!==i&&delete s[i],s[o]=qp(n),a[o]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const s=Object.create(null);return De.forEach(this,(a,n)=>{a!=null&&a!==!1&&(s[n]=r&&De.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,s])=>r+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...s){const a=new this(r);return s.forEach(n=>a.set(n)),a}static accessor(r){const a=(this[TC]=this[TC]={accessors:{}}).accessors,n=this.prototype;function i(l){const o=Xm(l);a[o]||(QJ(n,l),a[o]=!0)}return De.isArray(r)?r.forEach(i):i(r),this}};Xa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);De.reduceDescriptors(Xa.prototype,({value:e},r)=>{let s=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(a){this[s]=a}}});De.freezeMethods(Xa);function Jv(e,r){const s=this||X0,a=r||s,n=Xa.from(a.headers);let i=a.data;return De.forEach(e,function(o){i=o.call(s,i,n.normalize(),r?r.status:void 0)}),n.normalize(),i}function zO(e){return!!(e&&e.__CANCEL__)}function ym(e,r,s){Ut.call(this,e??"canceled",Ut.ERR_CANCELED,r,s),this.name="CanceledError"}De.inherits(ym,Ut,{__CANCEL__:!0});function UO(e,r,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):r(new Ut("Request failed with status code "+s.status,[Ut.ERR_BAD_REQUEST,Ut.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function ZJ(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function eQ(e,r){e=e||10;const s=new Array(e),a=new Array(e);let n=0,i=0,l;return r=r!==void 0?r:1e3,function(d){const c=Date.now(),u=a[i];l||(l=c),s[n]=d,a[n]=c;let m=i,x=0;for(;m!==n;)x+=s[m++],m=m%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),c-l<r)return;const h=u&&c-u;return h?Math.round(x*1e3/h):void 0}}function tQ(e,r){let s=0,a=1e3/r,n,i;const l=(c,u=Date.now())=>{s=u,n=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const u=Date.now(),m=u-s;m>=a?l(c,u):(n=c,i||(i=setTimeout(()=>{i=null,l(n)},a-m)))},()=>n&&l(n)]}const Rf=(e,r,s=3)=>{let a=0;const n=eQ(50,250);return tQ(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,d=l-a,c=n(d),u=l<=o;a=l;const m={loaded:l,total:o,progress:o?l/o:void 0,bytes:d,rate:c||void 0,estimated:c&&o&&u?(o-l)/c:void 0,event:i,lengthComputable:o!=null,[r?"download":"upload"]:!0};e(m)},s)},EC=(e,r)=>{const s=e!=null;return[a=>r[0]({lengthComputable:s,total:e,loaded:a}),r[1]]},IC=e=>(...r)=>De.asap(()=>e(...r)),rQ=fa.hasStandardBrowserEnv?((e,r)=>s=>(s=new URL(s,fa.origin),e.protocol===s.protocol&&e.host===s.host&&(r||e.port===s.port)))(new URL(fa.origin),fa.navigator&&/(msie|trident)/i.test(fa.navigator.userAgent)):()=>!0,sQ=fa.hasStandardBrowserEnv?{write(e,r,s,a,n,i,l){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(r)}`];De.isNumber(s)&&o.push(`expires=${new Date(s).toUTCString()}`),De.isString(a)&&o.push(`path=${a}`),De.isString(n)&&o.push(`domain=${n}`),i===!0&&o.push("secure"),De.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function aQ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function nQ(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function HO(e,r,s){let a=!aQ(r);return e&&(a||s==!1)?nQ(e,r):r}const _C=e=>e instanceof Xa?{...e}:e;function od(e,r){r=r||{};const s={};function a(c,u,m,x){return De.isPlainObject(c)&&De.isPlainObject(u)?De.merge.call({caseless:x},c,u):De.isPlainObject(u)?De.merge({},u):De.isArray(u)?u.slice():u}function n(c,u,m,x){if(De.isUndefined(u)){if(!De.isUndefined(c))return a(void 0,c,m,x)}else return a(c,u,m,x)}function i(c,u){if(!De.isUndefined(u))return a(void 0,u)}function l(c,u){if(De.isUndefined(u)){if(!De.isUndefined(c))return a(void 0,c)}else return a(void 0,u)}function o(c,u,m){if(m in r)return a(c,u);if(m in e)return a(void 0,c)}const d={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(c,u,m)=>n(_C(c),_C(u),m,!0)};return De.forEach(Object.keys({...e,...r}),function(u){const m=d[u]||n,x=m(e[u],r[u],u);De.isUndefined(x)&&m!==o||(s[u]=x)}),s}const VO=e=>{const r=od({},e);let{data:s,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:o}=r;if(r.headers=l=Xa.from(l),r.url=RO(HO(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),De.isFormData(s)){if(fa.hasStandardBrowserEnv||fa.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(De.isFunction(s.getHeaders)){const d=s.getHeaders(),c=["content-type","content-length"];Object.entries(d).forEach(([u,m])=>{c.includes(u.toLowerCase())&&l.set(u,m)})}}if(fa.hasStandardBrowserEnv&&(a&&De.isFunction(a)&&(a=a(r)),a||a!==!1&&rQ(r.url))){const d=n&&i&&sQ.read(i);d&&l.set(n,d)}return r},iQ=typeof XMLHttpRequest<"u",lQ=iQ&&function(e){return new Promise(function(s,a){const n=VO(e);let i=n.data;const l=Xa.from(n.headers).normalize();let{responseType:o,onUploadProgress:d,onDownloadProgress:c}=n,u,m,x,h,p;function f(){h&&h(),p&&p(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(n.method.toUpperCase(),n.url,!0),b.timeout=n.timeout;function j(){if(!b)return;const y=Xa.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),N={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:y,config:e,request:b};UO(function(k){s(k),f()},function(k){a(k),f()},N),b=null}"onloadend"in b?b.onloadend=j:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(j)},b.onabort=function(){b&&(a(new Ut("Request aborted",Ut.ECONNABORTED,e,b)),b=null)},b.onerror=function(v){const N=v&&v.message?v.message:"Network Error",S=new Ut(N,Ut.ERR_NETWORK,e,b);S.event=v||null,a(S),b=null},b.ontimeout=function(){let v=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const N=n.transitional||BO;n.timeoutErrorMessage&&(v=n.timeoutErrorMessage),a(new Ut(v,N.clarifyTimeoutError?Ut.ETIMEDOUT:Ut.ECONNABORTED,e,b)),b=null},i===void 0&&l.setContentType(null),"setRequestHeader"in b&&De.forEach(l.toJSON(),function(v,N){b.setRequestHeader(N,v)}),De.isUndefined(n.withCredentials)||(b.withCredentials=!!n.withCredentials),o&&o!=="json"&&(b.responseType=n.responseType),c&&([x,p]=Rf(c,!0),b.addEventListener("progress",x)),d&&b.upload&&([m,h]=Rf(d),b.upload.addEventListener("progress",m),b.upload.addEventListener("loadend",h)),(n.cancelToken||n.signal)&&(u=y=>{b&&(a(!y||y.type?new ym(null,e,b):y),b.abort(),b=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const w=ZJ(n.url);if(w&&fa.protocols.indexOf(w)===-1){a(new Ut("Unsupported protocol "+w+":",Ut.ERR_BAD_REQUEST,e));return}b.send(i||null)})},oQ=(e,r)=>{const{length:s}=e=e?e.filter(Boolean):[];if(r||s){let a=new AbortController,n;const i=function(c){if(!n){n=!0,o();const u=c instanceof Error?c:this.reason;a.abort(u instanceof Ut?u:new ym(u instanceof Error?u.message:u))}};let l=r&&setTimeout(()=>{l=null,i(new Ut(`timeout ${r} of ms exceeded`,Ut.ETIMEDOUT))},r);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:d}=a;return d.unsubscribe=()=>De.asap(o),d}},cQ=function*(e,r){let s=e.byteLength;if(s<r){yield e;return}let a=0,n;for(;a<s;)n=a+r,yield e.slice(a,n),a=n},dQ=async function*(e,r){for await(const s of uQ(e))yield*cQ(s,r)},uQ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:s,value:a}=await r.read();if(s)break;yield a}}finally{await r.cancel()}},OC=(e,r,s,a)=>{const n=dQ(e,r);let i=0,l,o=d=>{l||(l=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await n.next();if(c){o(),d.close();return}let m=u.byteLength;if(s){let x=i+=m;s(x)}d.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(d){return o(d),n.return()}},{highWaterMark:2})},DC=64*1024,{isFunction:ep}=De,mQ=(({Request:e,Response:r})=>({Request:e,Response:r}))(De.global),{ReadableStream:MC,TextEncoder:LC}=De.global,FC=(e,...r)=>{try{return!!e(...r)}catch{return!1}},hQ=e=>{e=De.merge.call({skipUndefined:!0},mQ,e);const{fetch:r,Request:s,Response:a}=e,n=r?ep(r):typeof fetch=="function",i=ep(s),l=ep(a);if(!n)return!1;const o=n&&ep(MC),d=n&&(typeof LC=="function"?(p=>f=>p.encode(f))(new LC):async p=>new Uint8Array(await new s(p).arrayBuffer())),c=i&&o&&FC(()=>{let p=!1;const f=new s(fa.origin,{body:new MC,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!f}),u=l&&o&&FC(()=>De.isReadableStream(new a("").body)),m={stream:u&&(p=>p.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!m[p]&&(m[p]=(f,b)=>{let j=f&&f[p];if(j)return j.call(f);throw new Ut(`Response type '${p}' is not supported`,Ut.ERR_NOT_SUPPORT,b)})});const x=async p=>{if(p==null)return 0;if(De.isBlob(p))return p.size;if(De.isSpecCompliantForm(p))return(await new s(fa.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(De.isArrayBufferView(p)||De.isArrayBuffer(p))return p.byteLength;if(De.isURLSearchParams(p)&&(p=p+""),De.isString(p))return(await d(p)).byteLength},h=async(p,f)=>{const b=De.toFiniteNumber(p.getContentLength());return b??x(f)};return async p=>{let{url:f,method:b,data:j,signal:w,cancelToken:y,timeout:v,onDownloadProgress:N,onUploadProgress:S,responseType:k,headers:P,withCredentials:C="same-origin",fetchOptions:I}=VO(p),A=r||fetch;k=k?(k+"").toLowerCase():"text";let O=oQ([w,y&&y.toAbortSignal()],v),R=null;const Z=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let Y;try{if(S&&c&&b!=="get"&&b!=="head"&&(Y=await h(P,j))!==0){let _=new s(f,{method:"POST",body:j,duplex:"half"}),M;if(De.isFormData(j)&&(M=_.headers.get("content-type"))&&P.setContentType(M),_.body){const[F,B]=EC(Y,Rf(IC(S)));j=OC(_.body,DC,F,B)}}De.isString(C)||(C=C?"include":"omit");const ce=i&&"credentials"in s.prototype,D={...I,signal:O,method:b.toUpperCase(),headers:P.normalize().toJSON(),body:j,duplex:"half",credentials:ce?C:void 0};R=i&&new s(f,D);let z=await(i?A(R,I):A(f,D));const se=u&&(k==="stream"||k==="response");if(u&&(N||se&&Z)){const _={};["status","statusText","headers"].forEach(q=>{_[q]=z[q]});const M=De.toFiniteNumber(z.headers.get("content-length")),[F,B]=N&&EC(M,Rf(IC(N),!0))||[];z=new a(OC(z.body,DC,F,()=>{B&&B(),Z&&Z()}),_)}k=k||"text";let K=await m[De.findKey(m,k)||"text"](z,p);return!se&&Z&&Z(),await new Promise((_,M)=>{UO(_,M,{data:K,headers:Xa.from(z.headers),status:z.status,statusText:z.statusText,config:p,request:R})})}catch(ce){throw Z&&Z(),ce&&ce.name==="TypeError"&&/Load failed|fetch/i.test(ce.message)?Object.assign(new Ut("Network Error",Ut.ERR_NETWORK,p,R),{cause:ce.cause||ce}):Ut.from(ce,ce&&ce.code,p,R)}}},xQ=new Map,WO=e=>{let r=e&&e.env||{};const{fetch:s,Request:a,Response:n}=r,i=[a,n,s];let l=i.length,o=l,d,c,u=xQ;for(;o--;)d=i[o],c=u.get(d),c===void 0&&u.set(d,c=o?new Map:hQ(r)),u=c;return c};WO();const JN={http:IJ,xhr:lQ,fetch:{get:WO}};De.forEach(JN,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const RC=e=>`- ${e}`,pQ=e=>De.isFunction(e)||e===null||e===!1;function fQ(e,r){e=De.isArray(e)?e:[e];const{length:s}=e;let a,n;const i={};for(let l=0;l<s;l++){a=e[l];let o;if(n=a,!pQ(a)&&(n=JN[(o=String(a)).toLowerCase()],n===void 0))throw new Ut(`Unknown adapter '${o}'`);if(n&&(De.isFunction(n)||(n=n.get(r))))break;i[o||"#"+l]=n}if(!n){const l=Object.entries(i).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=s?l.length>1?`since :
`+l.map(RC).join(`
`):" "+RC(l[0]):"as no adapter specified";throw new Ut("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n}const GO={getAdapter:fQ,adapters:JN};function Qv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ym(null,e)}function BC(e){return Qv(e),e.headers=Xa.from(e.headers),e.data=Jv.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),GO.getAdapter(e.adapter||X0.adapter,e)(e).then(function(a){return Qv(e),a.data=Jv.call(e,e.transformResponse,a),a.headers=Xa.from(a.headers),a},function(a){return zO(a)||(Qv(e),a&&a.response&&(a.response.data=Jv.call(e,e.transformResponse,a.response),a.response.headers=Xa.from(a.response.headers))),Promise.reject(a)})}const qO="1.13.2",$y={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{$y[e]=function(a){return typeof a===e||"a"+(r<1?"n ":" ")+e}});const $C={};$y.transitional=function(r,s,a){function n(i,l){return"[Axios v"+qO+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,o)=>{if(r===!1)throw new Ut(n(l," has been removed"+(s?" in "+s:"")),Ut.ERR_DEPRECATED);return s&&!$C[l]&&($C[l]=!0,console.warn(n(l," has been deprecated since v"+s+" and will be removed in the near future"))),r?r(i,l,o):!0}};$y.spelling=function(r){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function gQ(e,r,s){if(typeof e!="object")throw new Ut("options must be an object",Ut.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const i=a[n],l=r[i];if(l){const o=e[i],d=o===void 0||l(o,i,e);if(d!==!0)throw new Ut("option "+i+" must be "+d,Ut.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Ut("Unknown option "+i,Ut.ERR_BAD_OPTION)}}const Kp={assertOptions:gQ,validators:$y},Li=Kp.validators;let Vc=class{constructor(r){this.defaults=r||{},this.interceptors={request:new AC,response:new AC}}async request(r,s){try{return await this._request(r,s)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(r,s){typeof r=="string"?(s=s||{},s.url=r):s=r||{},s=od(this.defaults,s);const{transitional:a,paramsSerializer:n,headers:i}=s;a!==void 0&&Kp.assertOptions(a,{silentJSONParsing:Li.transitional(Li.boolean),forcedJSONParsing:Li.transitional(Li.boolean),clarifyTimeoutError:Li.transitional(Li.boolean)},!1),n!=null&&(De.isFunction(n)?s.paramsSerializer={serialize:n}:Kp.assertOptions(n,{encode:Li.function,serialize:Li.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Kp.assertOptions(s,{baseUrl:Li.spelling("baseURL"),withXsrfToken:Li.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=i&&De.merge(i.common,i[s.method]);i&&De.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),s.headers=Xa.concat(l,i);const o=[];let d=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(s)===!1||(d=d&&f.synchronous,o.unshift(f.fulfilled,f.rejected))});const c=[];this.interceptors.response.forEach(function(f){c.push(f.fulfilled,f.rejected)});let u,m=0,x;if(!d){const p=[BC.bind(this),void 0];for(p.unshift(...o),p.push(...c),x=p.length,u=Promise.resolve(s);m<x;)u=u.then(p[m++],p[m++]);return u}x=o.length;let h=s;for(;m<x;){const p=o[m++],f=o[m++];try{h=p(h)}catch(b){f.call(this,b);break}}try{u=BC.call(this,h)}catch(p){return Promise.reject(p)}for(m=0,x=c.length;m<x;)u=u.then(c[m++],c[m++]);return u}getUri(r){r=od(this.defaults,r);const s=HO(r.baseURL,r.url,r.allowAbsoluteUrls);return RO(s,r.params,r.paramsSerializer)}};De.forEach(["delete","get","head","options"],function(r){Vc.prototype[r]=function(s,a){return this.request(od(a||{},{method:r,url:s,data:(a||{}).data}))}});De.forEach(["post","put","patch"],function(r){function s(a){return function(i,l,o){return this.request(od(o||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Vc.prototype[r]=s(),Vc.prototype[r+"Form"]=s(!0)});let yQ=class KO{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(o=>{a.subscribe(o),i=o}).then(n);return l.cancel=function(){a.unsubscribe(i)},l},r(function(i,l,o){a.reason||(a.reason=new ym(i,l,o),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const s=this._listeners.indexOf(r);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const r=new AbortController,s=a=>{r.abort(a)};return this.subscribe(s),r.signal.unsubscribe=()=>this.unsubscribe(s),r.signal}static source(){let r;return{token:new KO(function(n){r=n}),cancel:r}}};function bQ(e){return function(s){return e.apply(null,s)}}function vQ(e){return De.isObject(e)&&e.isAxiosError===!0}const mj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(mj).forEach(([e,r])=>{mj[r]=e});function YO(e){const r=new Vc(e),s=CO(Vc.prototype.request,r);return De.extend(s,Vc.prototype,r,{allOwnKeys:!0}),De.extend(s,r,null,{allOwnKeys:!0}),s.create=function(n){return YO(od(e,n))},s}const Pt=YO(X0);Pt.Axios=Vc;Pt.CanceledError=ym;Pt.CancelToken=yQ;Pt.isCancel=zO;Pt.VERSION=qO;Pt.toFormData=By;Pt.AxiosError=Ut;Pt.Cancel=Pt.CanceledError;Pt.all=function(r){return Promise.all(r)};Pt.spread=bQ;Pt.isAxiosError=vQ;Pt.mergeConfig=od;Pt.AxiosHeaders=Xa;Pt.formToJSON=e=>$O(De.isHTMLForm(e)?new FormData(e):e);Pt.getAdapter=GO.getAdapter;Pt.HttpStatusCode=mj;Pt.default=Pt;const{Axios:ESe,AxiosError:ISe,CanceledError:_Se,isCancel:OSe,CancelToken:DSe,VERSION:MSe,all:LSe,Cancel:FSe,isAxiosError:RSe,spread:BSe,toFormData:$Se,AxiosHeaders:zSe,HttpStatusCode:USe,formToJSON:HSe,getAdapter:VSe,mergeConfig:WSe}=Pt,jQ="http://localhost:9088";class wQ{constructor(){this.cache={data:null,timestamp:null,expiry:5*60*1e3},this.pendingRequest=null}isCacheValid(){return this.cache.data&&this.cache.timestamp&&Date.now()-this.cache.timestamp<this.cache.expiry}async getEnabledCities(r=!1){if(!r&&this.isCacheValid())return console.log(" Returning cached cities data"),this.cache.data;if(this.pendingRequest)return console.log(" Waiting for pending cities request"),await this.pendingRequest;console.log(" Fetching fresh cities data"),this.pendingRequest=this.fetchCitiesFromAPI();try{const s=await this.pendingRequest;return this.cache={data:s,timestamp:Date.now(),expiry:5*60*1e3},s}finally{this.pendingRequest=null}}async fetchCitiesFromAPI(){try{const r=await Pt.get(`${jQ}/api/cities/enabled`,{timeout:1e4});if(r.data&&r.data.success)return r.data.data||[];throw new Error("Invalid response format")}catch(r){throw console.error("Error fetching cities:",r),r}}async findCityById(r,s=!1){return(await this.getEnabledCities(s)).find(n=>n._id===r)}async verifyCityStatus(r){try{const s=await this.findCityById(r);return s&&s.isEnabled}catch(s){return console.error("Error verifying city status:",s),!1}}clearCache(){this.cache={data:null,timestamp:null,expiry:5*60*1e3},console.log(" Cities cache cleared")}async refreshCache(){return await this.getEnabledCities(!0)}}const Tu=new wQ,zC="http://localhost:9088",NQ=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/uploads")?`${zC}${e}`:`${zC}/uploads/${e}`:null,SQ=({isOpen:e,onClose:r,onCitySelect:s})=>{const[a,n]=g.useState([]),[i,l]=g.useState(!0),[o,d]=g.useState(null),[c,u]=g.useState(null);g.useEffect(()=>{if(e){m();const h=localStorage.getItem("selectedCity");if(h)try{d(JSON.parse(h))}catch(p){console.error("Error parsing saved city:",p)}}},[e]);const m=async()=>{try{l(!0),u(null);const h=await Tu.getEnabledCities();n(h)}catch(h){console.error("Error fetching cities:",h),u(h.message||"Failed to load cities"),n([])}finally{l(!1)}},x=h=>{if(!h.isEnabled){alert("Service will be available soon in "+h.name+"!");return}d(h),localStorage.setItem("selectedCity",JSON.stringify(h)),s&&s(h),setTimeout(()=>{r()},300)};return e?t.jsx("div",{className:"fixed inset-0 bg-black/50 z-[9999] flex items-center justify-center p-4",onClick:r,children:t.jsxs("div",{className:"relative w-full",style:{maxWidth:"30%",minWidth:"320px"},children:[t.jsx("button",{onClick:r,className:"absolute -top-12 right-0 w-10 h-10 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center transition-all shadow-lg z-20",children:t.jsx(WX,{className:"w-5 h-5 text-gray-700"})}),t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full",onClick:h=>h.stopPropagation(),children:t.jsxs("div",{className:"p-6 md:p-8",children:[t.jsx("div",{className:"text-center mb-6",children:t.jsx("h2",{className:"text-1xl md:text-1xl  text-gray-900",children:"Select City"})}),t.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2",children:i?t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6",children:[...Array(4)].map((h,p)=>t.jsx("div",{className:"h-32 md:h-40 bg-gray-200 rounded-2xl animate-pulse"},p))}):c?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(SC,{className:"w-12 h-12 text-red-300 mx-auto mb-3"}),t.jsx("p",{className:"text-red-500 font-medium mb-2",children:"Error loading cities"}),t.jsx("p",{className:"text-gray-500 text-sm",children:c}),t.jsx("button",{onClick:m,className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Retry"})]}):a.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(SC,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500",children:"No cities available"})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6",children:a.map(h=>{const p=(o==null?void 0:o._id)===h._id,f=!h.isEnabled,b=h.image&&h.image.trim()!=="",j=b?NQ(h.image):null;return t.jsxs("button",{onClick:()=>x(h),disabled:f,className:`group relative rounded-2xl overflow-hidden transition-all h-32 md:h-40 ${f?"opacity-60 cursor-not-allowed":"cursor-pointer hover:shadow-xl"} ${p?"ring-4 ring-purple-600 shadow-2xl":"shadow-lg"}`,style:{backgroundColor:b?"transparent":"#667eea"},children:[b?t.jsx("img",{src:j,alt:h.name,className:"absolute inset-0 w-full h-full object-cover",onError:w=>{w.target.style.display="none",w.target.parentElement.style.background="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}}):t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600 via-purple-500 to-purple-700"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),p&&!f&&t.jsx("div",{className:"absolute top-3 right-3 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-xl z-30",children:t.jsx(UX,{className:"w-5 h-5 text-purple-600 stroke-[3]"})}),f&&t.jsx("div",{className:"absolute top-2 right-2 bg-white/90 text-orange-600 text-xs font-semibold px-2 py-1 rounded-full shadow-md",children:"Soon"}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 z-20",children:t.jsx("h3",{className:"text-white font-bold text-lg md:text-xl drop-shadow-lg truncate",children:h.name})}),!f&&t.jsx("div",{className:"absolute inset-0 bg-purple-600/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},h._id)})})})]})})]})}):null},Zl=()=>{const{openDialog:e}=GN();return s=>{var a;(a=s==null?void 0:s.preventDefault)==null||a.call(s),e()}},XO=g.createContext(),nn=()=>{const e=g.useContext(XO);if(!e)throw new Error("useUserAuth must be used within UserAuthProvider");return e},kQ=({children:e})=>{const[r,s]=g.useState(null),[a,n]=g.useState(!0),[i,l]=g.useState(!1);g.useEffect(()=>{o()},[]);const o=async()=>{var x;try{const h=localStorage.getItem("userToken");if(h){console.log("Checking auth with token...");const p=await Pt.get("http://localhost:9088/api/user/profile",{headers:{Authorization:`Bearer ${h}`}});console.log("Auth check response:",p.data),s(p.data.user),l(!0),(x=p.data.user)!=null&&x._id&&localStorage.setItem("userId",p.data.user._id)}else s(null),l(!1)}catch(h){console.error("Auth check failed:",h),localStorage.removeItem("userToken"),localStorage.removeItem("userId"),s(null),l(!1)}finally{n(!1)}},m={user:r,loading:a,isAuthenticated:i,login:async x=>{var h,p;try{const f=await Pt.post("http://localhost:9088/api/user/login/otp/verify",x);return localStorage.setItem("userToken",f.data.token),await o(),{success:!0}}catch(f){return{success:!1,error:((p=(h=f.response)==null?void 0:h.data)==null?void 0:p.message)||"Login failed"}}},logout:()=>{localStorage.removeItem("userToken"),localStorage.removeItem("userId"),s(null),l(!1)},updateUser:x=>{s(x)},checkAuth:o};return t.jsx(XO.Provider,{value:m,children:e})},CQ={FaSnowflake:Zu,FaBolt:Nl,FaTint:em,FaBroom:Xu,FaPaintRoller:Qu,FaTools:ga,FaHammer:Ju,FaFilter:ld,FaPlug:My,FaWrench:G0,FaCheckCircle:Ue,FaRupeeSign:Td,FaCreditCard:_i,FaMobileAlt:Dy,FaUserCheck:Ha,FaCommentDots:Oy},PQ=e=>CQ[e]||ga,AQ="http://localhost:9088",TQ=()=>{const e=Zl(),r=Zt(),{isAuthenticated:s,user:a}=nn(),[n,i]=g.useState([]),[l,o]=g.useState(!0),[d,c]=g.useState(!1),[u,m]=g.useState(null);g.useEffect(()=>{const v=localStorage.getItem("selectedCity");if(v){const N=JSON.parse(v);(async()=>{try{const k=await Tu.findCityById(N._id);!k||!k.isEnabled?(console.log("Selected city is no longer available, clearing selection"),localStorage.removeItem("selectedCity"),m(null),c(!0)):m(k)}catch(k){console.error("Error verifying city status:",k),m(N)}})()}else setTimeout(()=>c(!0),1e3)},[]);const x=v=>{m(v),c(!1)};g.useEffect(()=>{if(!u)return;const N=setInterval(async()=>{try{await Tu.verifyCityStatus(u._id)||(console.log("Selected city has been disabled, clearing selection"),localStorage.removeItem("selectedCity"),m(null),alert("The selected city is no longer available. Please select another city."),c(!0))}catch(S){console.error("Error checking city status:",S)}},5*60*1e3);return()=>clearInterval(N)},[u]),g.useEffect(()=>{(async()=>{try{o(!0);const S=await(await fetch(`${AQ}/api/user/popular`)).json();if(S.success&&S.data){const k=S.data.map(P=>({...P,icon:PQ(P.icon)}));i(k)}else i([{name:"AC Service",slug:"ac-service",icon:Zu},{name:"Electrical Work",slug:"electrical-work",icon:Nl},{name:"Plumbing",slug:"plumbing",icon:em},{name:"Deep Cleaning",slug:"deep-cleaning",icon:Xu},{name:"Painting",slug:"painting",icon:Qu},{name:"Appliance Repair",slug:"appliance-repair",icon:ga},{name:"Carpentry",slug:"carpentry",icon:Ju},{name:"Water Purifier Service",slug:"water-purifier-service",icon:ld}])}catch(N){console.error("Error fetching popular services:",N),i([{name:"AC Service",slug:"ac-service",icon:Zu},{name:"Electrical Work",slug:"electrical-work",icon:Nl},{name:"Plumbing",slug:"plumbing",icon:em},{name:"Deep Cleaning",slug:"deep-cleaning",icon:Xu},{name:"Painting",slug:"painting",icon:Qu},{name:"Appliance Repair",slug:"appliance-repair",icon:ga},{name:"Carpentry",slug:"carpentry",icon:Ju},{name:"Water Purifier Service",slug:"water-purifier-service",icon:ld}])}finally{o(!1)}})()},[]);const h=[{icon:Nl,text:"Response under 2 minutes",color:"text-yellow-500"},{icon:Ue,text:"Verified technicians",color:"text-green-500"},{icon:Td,text:"Fixed pricing",color:"text-blue-500"},{icon:_i,text:"Pay after service",color:"text-purple-500"},{icon:Dy,text:"24x7 WhatsApp support",color:"text-green-600"},{icon:G0,text:"Free rework within 72 hours",color:"text-orange-500"}],p=[{step:"1",title:"Tell us your requirement on WhatsApp",description:"Just message your problem. Our AI assistant handles the rest.",icon:Oy},{step:"2",title:"Get the right technician",description:"We assign a verified, background-checked expert near you.",icon:Ha},{step:"3",title:"Service done. Pay after work.",description:"Simple, transparent, and satisfaction guaranteed.",icon:_i}],[f,b]=g.useState([{text:"Fast service and clean work.",author:"Rajesh K.",rating:5},{text:"Great response time. Loved it.",author:"Priya M.",rating:5},{text:"Technician was polite and professional.",author:"Amit S.",rating:5}]);g.useEffect(()=>{(async()=>{try{const k=await(await fetch("http://localhost:9088/api/public/featured-reviews")).json();if(k.success&&k.data&&Array.isArray(k.data)&&k.data.length>0){const P=k.data.map(C=>({text:C.text,author:C.author,rating:C.rating||5}));b(P)}}catch(N){console.error("Error fetching featured reviews:",N)}})()},[]);const j={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.3,delayChildren:.2}}},w={hidden:{y:30,opacity:0},visible:{y:0,opacity:1,transition:{duration:.8,ease:"easeOut"}}},y={animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}};return t.jsxs(t.Fragment,{children:[t.jsx(In,{title:"Nexo - Home Services on WhatsApp | AC, Electrical, Plumbing & More",description:"Fast, reliable and affordable home services from verified experts. Book AC service, electrical work, plumbing, cleaning, and 200+ services on WhatsApp. Response under 2 minutes. Verified technicians. Pay after service.",keywords:"home services, AC service, electrical work, plumbing, cleaning services, WhatsApp booking, verified technicians, home maintenance, appliance repair, carpentry, painting services",url:"/"}),t.jsx(SQ,{isOpen:d,onClose:()=>c(!1),onCitySelect:x}),t.jsxs("div",{className:"overflow-x-hidden w-full max-w-full",children:[t.jsxs("section",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-primary via-primary-dark to-primary overflow-hidden w-full max-w-full",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",variants:y,animate:"animate"}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",variants:y,animate:"animate",transition:{delay:1,duration:5}}),t.jsx(E.div,{className:"absolute top-1/2 right-20 w-32 h-32 sm:w-40 sm:h-40 bg-gradient-to-br from-white/10 to-transparent rounded-full blur-2xl",variants:y,animate:"animate",transition:{delay:2,duration:6}}),t.jsx(E.div,{className:"absolute bottom-1/3 left-1/4 w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-blue-300/15 to-transparent rounded-full blur-xl",variants:y,animate:"animate",transition:{delay:.5,duration:4.5}}),[...Array(20)].map((v,N)=>t.jsx(E.div,{className:"absolute bg-white/30 rounded-full",style:{width:`${6+N%4*3}px`,height:`${6+N%4*3}px`,left:`${3+N*5%94}%`,top:`${8+N*4%85}%`},animate:{y:[0,-150,0],x:[0,N%2===0?50:-50,0],opacity:[.2,.6,.2],scale:[1,1.5,1]},transition:{duration:8+N%4,repeat:1/0,ease:"easeInOut",delay:N*.2}},`small-${N}`)),[...Array(12)].map((v,N)=>t.jsx(E.div,{className:"absolute bg-white/20 rounded-full blur-sm",style:{width:`${14+N%3*4}px`,height:`${14+N%3*4}px`,left:`${5+N*8%90}%`,top:`${10+N*6%80}%`},animate:{y:[0,-120,0],x:[0,N%2===0?60:-60,0],opacity:[.15,.4,.15],scale:[1,1.4,1]},transition:{duration:9+N%3*2,repeat:1/0,ease:"easeInOut",delay:N*.4}},`medium-${N}`)),[...Array(8)].map((v,N)=>t.jsx(E.div,{className:"absolute bg-white/10 rounded-full blur-2xl",style:{width:`${100+N%3*30}px`,height:`${100+N%3*30}px`,left:`${8+N*12%85}%`,top:`${12+N*10%75}%`},animate:{y:[0,-80,0],x:[0,N%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.1,.3,.1]},transition:{duration:10+N%3*2,repeat:1/0,ease:"easeInOut",delay:N*.8}},`large-${N}`)),t.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-64 opacity-20",style:{background:"linear-gradient(to top, rgba(255,255,255,0.1) 0%, transparent 100%)"},animate:{y:[0,-20,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:t.jsxs(E.div,{variants:j,initial:"hidden",animate:"visible",children:[t.jsxs(E.h1,{variants:w,className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-4 sm:mb-6 leading-tight",children:["Your home services.",t.jsx("br",{}),t.jsx(E.span,{className:"text-yellow-300 inline-block",variants:w,animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"Now on WhatsApp."})]}),t.jsx(E.p,{variants:w,className:"text-lg sm:text-xl md:text-2xl text-white/90 mb-6 sm:mb-8 max-w-3xl mx-auto px-4",children:"Fast, reliable and affordable service from verified experts."}),t.jsxs(E.div,{variants:w,className:"flex flex-col sm:flex-row gap-4 justify-center items-center px-4",children:[t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2 w-full sm:w-auto justify-center",children:[t.jsx(Er,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Book on WhatsApp"]}),t.jsx(E.a,{href:"/partner/onboard",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-primary px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-white/50 transition-all duration-300 w-full sm:w-auto text-center",children:"Become a Partner"})]}),t.jsx(E.p,{variants:w,className:"text-white/80 mt-6 sm:mt-8 text-sm sm:text-lg px-4",children:"Support for AC, electrical, plumbing, cleaning, appliances and 200+ services."}),t.jsx(E.div,{variants:w,className:"mt-8 sm:mt-10 px-4 flex justify-center",children:t.jsxs(E.button,{onClick:()=>c(!0),whileHover:{scale:1.05,y:-3},whileTap:{scale:.95},className:"group relative bg-white/95 backdrop-blur-md text-gray-900 px-8 py-4 rounded-2xl text-base sm:text-lg font-semibold hover:bg-white transition-all duration-300 flex items-center gap-3 shadow-2xl hover:shadow-white/30 border border-white/50 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),t.jsx(E.div,{animate:{rotate:[0,-10,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"relative z-10",children:t.jsx(Fl,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),t.jsxs("div",{className:"relative z-10 flex flex-col items-start",children:[t.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"Service Location"}),t.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900 group-hover:text-primary transition-colors",children:u?u.name:"Select Your City"})]}),t.jsx(E.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"relative z-10 ml-2",children:t.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),t.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1000"})})]})})]})}),t.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-20 sm:h-24 bg-white pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0}})]}),t.jsxs("section",{className:"py-12 sm:py-16 lg:py-20 bg-white relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-5",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 20% 50%, rgba(33, 74, 115, 0.1) 0%, transparent 50%),
                                  radial-gradient(circle at 80% 80%, rgba(33, 74, 115, 0.1) 0%, transparent 50%)`},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}})}),t.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-3 sm:mb-4",children:"How It Works"}),t.jsx("p",{className:"text-lg sm:text-xl text-gray-600",children:"Simple steps to get your service done"})]}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:p.map((v,N)=>{const S=v.icon;return t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.6,delay:N*.2},whileHover:{y:-5,scale:1.02},className:"bg-gradient-to-br from-primary/5 to-primary/10 p-6 sm:p-8 rounded-2xl border border-primary/20 hover:shadow-xl transition-all duration-300 relative",children:[t.jsx("div",{className:"absolute -top-4 -left-4 w-10 h-10 sm:w-12 sm:h-12 bg-primary text-white rounded-full flex items-center justify-center text-lg sm:text-xl font-bold shadow-lg",children:v.step}),t.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-primary/10 rounded-full flex items-center justify-center mb-4 sm:mb-6 mx-auto",children:t.jsx(S,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary"})}),t.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-primary mb-3 sm:mb-4 text-center",children:v.title}),t.jsx("p",{className:"text-gray-600 text-base sm:text-lg text-center",children:v.description})]},N)})}),t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.6},className:"text-center mt-8 sm:mt-12",children:t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-primary text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-primary-dark transition-all duration-300 shadow-lg hover:shadow-xl flex items-center gap-2",children:[t.jsx(Er,{className:"w-5 h-5"}),"Start on WhatsApp"]})})})]})]}),t.jsxs("section",{id:"services",className:"py-12 sm:py-16 lg:py-20 bg-gray-50 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-5",children:t.jsx(E.div,{className:"absolute inset-0",style:{background:"linear-gradient(45deg, transparent 30%, rgba(33, 74, 115, 0.05) 50%, transparent 70%)"},animate:{x:["-100%","100%"]},transition:{duration:20,repeat:1/0,ease:"linear"}})}),t.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[t.jsxs(E.div,{initial:{scale:.9},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.5,delay:.2},children:[t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary via-primary-dark to-primary bg-clip-text text-transparent mb-3 sm:mb-4",children:"Popular Services"}),t.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-primary to-primary-dark mx-auto mb-4 rounded-full"})]}),t.jsx("p",{className:"text-lg sm:text-xl text-gray-600",children:"Choose from our wide range of professional services"})]}),l?t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-6",children:[...Array(10)].map((v,N)=>t.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100 animate-pulse",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-2xl mx-auto mb-4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded mb-3"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4 mx-auto mb-4"}),t.jsx("div",{className:"h-8 bg-gray-200 rounded-full"})]},N))}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-6",children:n.map((v,N)=>{const S=v.icon;return t.jsx(Ht,{to:`/service/${v.slug}`,children:t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:N*.1},whileHover:{y:-8,scale:1.03,rotateY:5,transition:{duration:.3,ease:"easeOut"}},className:"group relative bg-gradient-to-br from-white via-white to-gray-50/30 rounded-3xl p-6 shadow-xl hover:shadow-2xl transition-all duration-500 border border-gray-200/50 hover:border-primary/60 cursor-pointer overflow-hidden h-full transform-gpu",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/3 via-transparent to-primary/5 opacity-100 group-hover:from-primary/8 group-hover:to-primary/12 transition-all duration-500"}),t.jsx(E.div,{className:"absolute top-4 right-4 w-8 h-8 bg-gradient-to-br from-primary/10 to-primary/5 rounded-full opacity-60",whileHover:{scale:[1,1.2,1],rotate:[0,180,360],opacity:[.6,.9,.6]},transition:{duration:1,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-4 left-4 w-6 h-6 bg-gradient-to-br from-yellow-400/20 to-orange-500/20 rounded-full opacity-40",whileHover:{scale:[1,1.3,1],x:[0,5,0],y:[0,-5,0]},transition:{duration:.8,ease:"easeInOut"}}),t.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:[...Array(8)].map((k,P)=>t.jsx(E.div,{className:"absolute w-1 h-1 bg-primary/40 rounded-full",style:{left:`${15+P*10}%`,top:`${20+P*8}%`},animate:{y:[0,-30,0],x:[0,P%2===0?10:-10,0],opacity:[.2,.8,.2],scale:[1,1.5,1]},transition:{duration:2+P*.2,repeat:1/0,ease:"easeInOut",delay:P*.1}},P))}),t.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:t.jsx("div",{className:"absolute inset-0 rounded-3xl border-2 border-primary/30 animate-pulse"})}),t.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center h-full",children:[t.jsxs(E.div,{className:"relative w-20 h-20 bg-gradient-to-br from-primary/15 via-primary/10 to-primary/5 rounded-2xl flex items-center justify-center mb-4 shadow-lg border border-primary/10 group-hover:shadow-2xl group-hover:shadow-primary/20",whileHover:{scale:1.1,rotate:[0,-5,5,0],transition:{duration:.5}},children:[t.jsx("div",{className:"absolute inset-0 bg-primary/10 rounded-2xl blur-lg group-hover:bg-primary/25 group-hover:blur-xl transition-all duration-500"}),t.jsx(E.div,{className:"absolute inset-0 rounded-2xl border-2 border-primary/20 opacity-0 group-hover:opacity-100",animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"}}),t.jsx(E.div,{whileHover:{scale:1.2,rotate:[0,10,-10,0],transition:{duration:.4}},children:t.jsx(S,{className:"w-10 h-10 text-primary relative z-10 group-hover:text-primary-dark transition-colors duration-300"})}),t.jsx(E.div,{className:"absolute -top-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full opacity-0 group-hover:opacity-100",animate:{scale:[0,1,0],rotate:[0,180,360]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})]}),t.jsx(E.h3,{className:"text-base sm:text-lg font-bold text-gray-800 group-hover:text-primary transition-all duration-300 line-clamp-2 mb-3 leading-tight",whileHover:{scale:1.05},children:v.name}),t.jsx(E.p,{className:"text-xs sm:text-sm text-gray-500 group-hover:text-gray-700 mb-4 leading-relaxed transition-all duration-300",whileHover:{y:-2},children:"Professional & Reliable Service"}),t.jsx(E.div,{className:"w-full mt-auto",whileHover:{scale:1.02},children:t.jsxs(E.div,{className:"w-full bg-gradient-to-r from-gray-100 to-gray-200 group-hover:from-primary/10 group-hover:to-primary/20 text-gray-700 group-hover:text-primary text-sm font-semibold py-2.5 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 shadow-sm hover:shadow-lg border border-gray-300 group-hover:border-primary/40",whileHover:{y:-2,boxShadow:"0 10px 25px rgba(0,0,0,0.1)"},children:[t.jsxs(E.svg,{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",whileHover:{scale:1.2,rotate:15},transition:{duration:.2},children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),t.jsx("span",{children:"View Details"}),t.jsx(E.div,{className:"w-1 h-1 bg-primary rounded-full opacity-0 group-hover:opacity-100",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,ease:"easeInOut"}})]})})]}),t.jsx(E.div,{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-primary/30 via-primary/60 to-primary/30 group-hover:h-2 group-hover:from-primary/50 group-hover:via-primary group-hover:to-primary/50 transition-all duration-500",whileHover:{scaleX:[1,1.05,1],transition:{duration:.5}}}),t.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-700",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/15 to-transparent transform -skew-x-12 translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1200"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-yellow-400/5 transform translate-x-[-100%] translate-y-[-100%] group-hover:translate-x-[100%] group-hover:translate-y-[100%] transition-transform duration-1500"})]}),t.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary/0 via-primary/10 to-primary/0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 blur-sm -z-10"})]})},v.slug||v._id||N)})})]})]}),t.jsxs("section",{className:"py-12 sm:py-16 lg:py-20 bg-white relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-5",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 50% 50%, rgba(33, 74, 115, 0.1) 0%, transparent 70%)"},animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}})}),t.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-3 sm:mb-4",children:"Why Choose Us"})}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:h.map((v,N)=>{const S=v.icon;return t.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:N*.1},whileHover:{scale:1.05,x:5},className:"flex items-center gap-3 sm:gap-4 bg-gray-50 p-4 sm:p-6 rounded-xl hover:bg-primary/5 transition-all duration-300",children:[t.jsx(S,{className:`w-6 h-6 sm:w-8 sm:h-8 ${v.color} flex-shrink-0`}),t.jsx("span",{className:"text-base sm:text-lg font-semibold text-gray-800",children:v.text})]},N)})}),t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mt-8 sm:mt-12",children:t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-primary text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-primary-dark transition-all duration-300 shadow-lg hover:shadow-xl flex items-center gap-2",children:[t.jsx(Er,{className:"w-5 h-5"}),"Book Your Service"]})})})]})]}),t.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-white relative overflow-hidden",children:t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-2xl sm:rounded-3xl p-8 sm:p-12 text-white text-center relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M20 20.5V18H0v-2h20v-2H0v-2h20v-2H0V8h20V6H0V4h20V2H0V0h22v20h2V0h2v20h2V0h2v20h2V0h2v20h2V0h2v20h2v2H0v-2h22zm0 0v2H0v-2h22z'/%3E%3C/g%3E%3C/svg%3E")`},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-3 sm:mb-4",children:"AMC for PGs, Clinics, Shops & Apartments"}),t.jsx("p",{className:"text-lg sm:text-xl mb-4 sm:mb-6 text-white/90",children:"Electrical + Plumbing + AC Maintenance + Repairs"}),t.jsx("p",{className:"text-2xl sm:text-3xl font-bold mb-6 sm:mb-8",children:"Starting 2,500/month"}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:()=>r("/amc"),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-primary px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-gray-100 transition-all duration-300 shadow-lg flex items-center gap-2",children:[t.jsx("span",{children:"Explore Now"}),t.jsx(on,{className:"w-5 h-5"})]})})]})]})})}),t.jsxs("section",{className:"py-12 sm:py-16 lg:py-20 bg-gray-50 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-5",children:t.jsx(E.div,{className:"absolute inset-0",style:{background:"radial-gradient(circle at 30% 30%, rgba(33, 74, 115, 0.1) 0%, transparent 50%), radial-gradient(circle at 70% 70%, rgba(33, 74, 115, 0.1) 0%, transparent 50%)"},animate:{scale:[1,1.1,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}})}),t.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-3 sm:mb-4",children:"Customer Reviews"})}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:f.map((v,N)=>t.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:N*.2},whileHover:{y:-5},className:"bg-white p-6 sm:p-8 rounded-2xl shadow-lg border-l-4 border-primary",children:[t.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(v.rating)].map((S,k)=>t.jsx("span",{className:"text-yellow-400 text-lg sm:text-xl",children:""},k))}),t.jsxs("p",{className:"text-gray-700 text-base sm:text-lg mb-4 italic",children:['"',v.text,'"']}),t.jsxs("p",{className:"text-primary font-semibold",children:[" ",v.author]})]},N))})]})]})]})]})},EQ={FaSnowflake:Zu,FaBolt:Nl,FaTint:em,FaBroom:Xu,FaPaintRoller:Qu,FaTools:ga,FaHammer:Ju,FaFilter:ld,FaPlug:My,FaWrench:G0,FaCheckCircle:Ue,FaCreditCard:_i,FaMobileAlt:Dy,FaCommentDots:Oy},Rn=e=>EQ[e]||ga,UC="http://localhost:9088",IQ=()=>{const{serviceName:e}=fm(),r=Zt(),s=Zl(),{isAuthenticated:a,loading:n,user:i}=nn(),[l,o]=g.useState(null),[d,c]=g.useState([]),[u,m]=g.useState(!0),[x,h]=g.useState(null),[p,f]=g.useState({}),[b,j]=g.useState({}),[w,y]=g.useState({}),[v,N]=g.useState(null),[S,k]=g.useState(!1),[P,C]=g.useState(null),[I,A]=g.useState(!1);g.useEffect(()=>{const L=localStorage.getItem("selectedCity");if(L)try{C(JSON.parse(L))}catch(ue){console.error("Error parsing selected city:",ue)}},[]);const O=()=>!P||!(l!=null&&l.cities)||l.cities.length===0?!0:l.cities.some(L=>(typeof L=="string"?L:L._id)===P._id),R=()=>`nexo_cart_${e||"default"}`,Z=()=>{if(e)try{const L=R(),ue=localStorage.getItem(L);if(ue){const ee=JSON.parse(ue);f(ee.selectedSubServices||{}),j(ee.selectedAddOns||{}),y(ee.selectedAddOnSubServices||{})}}catch(L){console.error("Error loading cart from localStorage:",L)}},Y=(L,ue,ee)=>{if(e)try{const fe=R(),xe={selectedSubServices:L||p,selectedAddOns:ue||b,selectedAddOnSubServices:ee||w};localStorage.setItem(fe,JSON.stringify(xe))}catch(fe){console.error("Error saving cart to localStorage:",fe)}},[ce,D]=g.useState([]),[z,se]=g.useState(0);g.useEffect(()=>{e&&(async()=>{m(!0),h(null);try{const ee=await(await fetch(`${UC}/api/user/service-by-slug/${e}`)).json();if(ee.success&&ee.data){const fe={...ee.data,icon:Rn(ee.data.icon),subServices:ee.data.subServices||[],addOns:(ee.data.addOns||[]).map(ve=>({...ve,basePrice:Math.max(0,parseFloat(ve.basePrice)||0),discount:Math.max(0,Math.min(100,parseFloat(ve.discount)||0)),cgst:Math.max(0,parseFloat(ve.cgst)||0),sgst:Math.max(0,parseFloat(ve.sgst)||0),serviceCharge:Math.max(0,parseFloat(ve.serviceCharge)||0)}))};ee.data.addOns&&ee.data.addOns.forEach((ve,Ne)=>{ve.discount&&(isNaN(ve.discount)||ve.discount>100)&&console.warn(`Malformed discount in addon ${Ne}:`,ve.discount,"for service:",e)});const xe=[];fe.addOns&&fe.addOns.length>0&&fe.addOns.forEach((ve,Ne)=>{ve.subServices&&ve.subServices.length>0&&ve.subServices.forEach((Ke,dt)=>{xe.push({...Ke,addonIndex:Ne,subServiceIndex:dt,addonName:ve.name})})}),D(xe),o(fe),Z()}else h("Service not found")}catch(ue){console.error("Error fetching service:",ue),h("Failed to load service. Please try again later.")}finally{m(!1)}})()},[e]),g.useEffect(()=>{console.log("ServiceDetail Auth Status:",{isAuthenticated:a,authLoading:n,hasUser:!!i,hasToken:!!localStorage.getItem("userToken")})},[a,n,i]),g.useEffect(()=>{if(ce&&ce.length>1){const L=setInterval(()=>{se(ue=>(ue+1)%ce.length)},4e3);return()=>clearInterval(L)}},[ce]),g.useEffect(()=>{if(e&&l){const L=R(),ue={selectedSubServices:p,selectedAddOns:b,selectedAddOnSubServices:w};try{localStorage.setItem(L,JSON.stringify(ue))}catch(ee){console.error("Error saving cart to localStorage:",ee)}}},[p,b,w,e,l]),g.useEffect(()=>{(async()=>{try{const ee=await(await fetch(`${UC}/api/user/popular`)).json();if(ee.success&&ee.data){const fe=ee.data.filter(xe=>xe.slug!==e).slice(0,6).map(xe=>({...xe,icon:Rn(xe.icon)}));c(fe)}}catch(ue){console.error("Error fetching popular services:",ue)}})()},[e]);const _=l||{name:"Service",price:"0",description:"Professional service for all your needs.",trusted:"Trusted by thousands of homes",icon:ga,included:[],excluded:[],addOns:[],reviews:[],averageRating:null,totalReviews:0},M=_.icon||ga,F=()=>!_.subServices||_.subServices.length===0?0:_.subServices.reduce((L,ue)=>{const ee=p[ue._id]||0,fe=ue.finalPrice||ue.basePrice||ue.price||0;return L+fe*ee},0),B=L=>{L.discount&&(isNaN(L.discount)||L.discount>100||L.discount<0)&&console.warn("Invalid discount value detected:",L.discount,"for addon:",L.name);const ue=Math.max(0,parseFloat(L.basePrice)||0),ee=Math.max(0,Math.min(100,parseFloat(L.discount)||0)),fe=Math.max(0,parseFloat(L.cgst)||0),xe=Math.max(0,parseFloat(L.sgst)||0),ve=Math.max(0,parseFloat(L.serviceCharge)||0),Ne=ue+ve,Ke=Ne*((fe+xe)/100),dt=Ne+Ke,ke=ue*(ee/100),Re=ue-ke,Tt=Re+ve,Rt=Tt*((fe+xe)/100),be=Tt+Rt;return{basePrice:ue,discount:ee,discountAmount:ke,subtotalAfterDiscount:Re,serviceCharge:ve,subtotalWithCharge:Tt,cgst:fe,sgst:xe,gstAmount:Rt,finalPrice:be,originalTotalPrice:dt}},q=()=>!_.addOns||_.addOns.length===0?0:_.addOns.reduce((L,ue,ee)=>{const fe=b[ee]||0;if(fe>0){const xe=B(ue);return L+xe.finalPrice*fe}return L},0),ae=()=>{if(!_.addOns||_.addOns.length===0)return 0;let L=0;return _.addOns.forEach((ue,ee)=>{ue.subServices&&ue.subServices.length>0&&ue.subServices.forEach((fe,xe)=>{const ve=`${ee}-${xe}`,Ne=w[ve]||0;if(Ne>0){const Ke=fe.price||"0",dt=parseFloat(Ke.replace(/[,\s]/g,""))||0;L+=dt*Ne}})}),L},V=()=>F()+q()+ae(),G=()=>{const L=Object.values(p).reduce((fe,xe)=>fe+xe,0),ue=Object.values(b).reduce((fe,xe)=>fe+xe,0),ee=Object.values(w).reduce((fe,xe)=>fe+xe,0);return L+ue+ee},te=L=>{f(ue=>{const ee={...ue,[L]:(ue[L]||0)+1};return Y(ee,b,w),ee})},pe=L=>{f(ue=>{const ee={...ue};return ee[L]>1?ee[L]=ee[L]-1:delete ee[L],Y(ee,b,w),ee})},ye=(L,ue)=>{const ee=`${L}-${ue}`;y(fe=>{const xe={...fe,[ee]:(fe[ee]||0)+1};return Y(p,b,xe),xe})},he=(L,ue)=>{const ee=`${L}-${ue}`;y(fe=>{const xe={...fe};return xe[ee]>1?xe[ee]=xe[ee]-1:delete xe[ee],Y(p,b,xe),xe})},Qe=L=>{j(ue=>{const ee={...ue,[L]:(ue[L]||0)+1};return Y(p,ee,w),ee})},W=L=>{j(ue=>{const ee={...ue};return ee[L]>1?ee[L]=ee[L]-1:delete ee[L],Y(p,ee,w),ee})},Ie=L=>{j(ue=>{const ee={...ue};return delete ee[L],Y(p,ee,w),ee})},Se=()=>{if(!O()){alert(`This service is not available in ${(P==null?void 0:P.name)||"your city"}. Please select a different city or service.`);return}if(G()===0){alert("Please add at least one service to your cart");return}if(console.log("Auth Status:",{isAuthenticated:a,authLoading:n,user:i,token:localStorage.getItem("userToken")}),!a||!i){console.log("User not authenticated, redirecting to login"),r("/user/login",{state:{from:`/service/${e}`}});return}console.log("User authenticated, proceeding to checkout");const L=[];_.subServices&&_.subServices.forEach(fe=>{const xe=p[fe._id];if(xe>0){const ve=fe.finalPrice||fe.basePrice||fe.price||0;L.push({type:"subservice",id:fe._id,name:fe.name,quantity:xe,price:ve,total:ve*xe})}}),_.addOns&&_.addOns.forEach((fe,xe)=>{const ve=b[xe];if(ve>0){const Ne=B(fe);L.push({type:"addon",id:fe._id||xe,name:fe.name,quantity:ve,price:Ne.finalPrice,total:Ne.finalPrice*ve})}}),_.addOns&&_.addOns.forEach((fe,xe)=>{fe.subServices&&fe.subServices.forEach((ve,Ne)=>{const Ke=`${xe}-${Ne}`,dt=w[Ke];if(dt>0){const ke=ve.price||"0",Re=parseFloat(ke.replace(/[,\s]/g,""))||0;L.push({type:"addon-subservice",id:ve._id||Ke,name:`${ve.name} (${fe.name})`,quantity:dt,price:Re,total:Re*dt})}})});const ue={items:L,total:V()},ee={_id:_._id,name:_.name,description:_.description,slug:_.slug,price:_.price,averageRating:_.averageRating,totalReviews:_.totalReviews};we(ue,ee)},we=(L,ue)=>{r(`/service/${e}/checkout`,{state:{cartData:L,serviceData:ue}})};return u?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[t.jsx(ss,{className:"w-12 h-12 text-primary animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Loading service details..."})]})}):x||!l?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Service Not Found"}),t.jsx("p",{className:"text-gray-600 mb-6",children:x||"The service you are looking for does not exist."}),t.jsx(Ht,{to:"/",className:"inline-block bg-primary text-white px-6 py-3 rounded-full font-semibold hover:bg-primary-dark transition",children:"Go to Home"})]})}):t.jsxs(t.Fragment,{children:[t.jsx(In,{title:`${_.name} | Nexo`,description:`${_.description} ${_.trusted}. Book ${_.name} on WhatsApp with verified technicians.`,keywords:`${_.name}, home services, ${_.name.toLowerCase()} near me, WhatsApp booking, verified technicians`,url:`/service/${e}`}),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-6 sm:py-8 lg:py-10 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-5",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})}),t.jsx(E.div,{className:"absolute top-10 left-10 w-32 h-32 sm:w-40 sm:h-40 bg-gradient-to-br from-white/15 to-white/5 rounded-full blur-2xl",animate:{y:[0,-20,0],x:[0,10,0],scale:[1,1.05,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-10 right-10 w-36 h-36 sm:w-48 sm:h-48 bg-gradient-to-br from-yellow-300/15 to-yellow-300/5 rounded-full blur-2xl",animate:{y:[0,-20,0],x:[0,-10,0],scale:[1,1.05,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(8)].map((L,ue)=>t.jsx(E.div,{className:"absolute bg-white/20 rounded-full",style:{width:`${4+ue%3*2}px`,height:`${4+ue%3*2}px`,left:`${5+ue*12%90}%`,top:`${10+ue*8%80}%`},animate:{y:[0,-80,0],opacity:[.2,.4,.2]},transition:{duration:6+ue%3,repeat:1/0,ease:"easeInOut",delay:ue*.3}},`particle-${ue}`)),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"text-center",children:[t.jsx(E.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.5},className:"inline-block mb-3 sm:mb-4",children:t.jsx(M,{className:"w-12 h-12 sm:w-14 sm:h-14 text-yellow-300"})}),t.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-extrabold mb-3 sm:mb-4 leading-tight",children:_.name}),t.jsxs("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 mb-4 sm:mb-5",children:[_.averageRating&&t.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.2},className:"flex items-center gap-1.5 bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full border border-white/20",children:[t.jsx(gc,{className:"text-yellow-300 text-sm"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:_.averageRating}),t.jsxs("span",{className:"text-xs text-white/70",children:["(",_.totalReviews," reviews)"]})]}),t.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.25},className:"flex items-center gap-1.5 bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full border border-white/20",children:[t.jsx(Qo,{className:"text-green-300 text-sm"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:"Verified"})]}),t.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.3},className:"flex items-center gap-1.5 bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full border border-white/20",children:[t.jsx(si,{className:"text-blue-300 text-sm"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:"Quick Service"})]})]}),_.trusted&&t.jsx("p",{className:"text-sm sm:text-base text-white/90 mb-4 sm:mb-5 font-medium",children:_.trusted}),!O()&&P&&t.jsx(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-yellow-500/20 border border-yellow-400/50 backdrop-blur-sm px-4 py-2 rounded-lg mb-3",children:t.jsxs("p",{className:"text-sm text-white font-semibold text-center",children:[" This service is not available in ",P.name]})}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-2 sm:gap-3",children:[O()?t.jsxs(E.button,{onClick:Se,whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-gradient-to-r from-primary to-primary-dark text-white px-6 sm:px-8 py-3 rounded-full text-base font-bold shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2 w-full sm:w-auto justify-center min-h-[44px]","aria-label":"Book service now",children:[t.jsx(Fi,{className:"w-5 h-5"}),t.jsx("span",{children:"Book Now"})]}):t.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gray-400 text-white px-6 sm:px-8 py-3 rounded-full text-base font-bold shadow-lg flex items-center gap-2 w-full sm:w-auto justify-center min-h-[44px] cursor-not-allowed",children:[t.jsx(Kt,{className:"w-5 h-5"}),t.jsxs("span",{children:["Not Available in ",(P==null?void 0:P.name)||"Your City"]})]}),t.jsxs(E.button,{onClick:s,whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 rounded-full text-base font-bold shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2 w-full sm:w-auto justify-center min-h-[44px]","aria-label":"Book service on WhatsApp",children:[t.jsx(Er,{className:"w-5 h-5"}),t.jsx("span",{children:"WhatsApp"})]}),_.subServices&&_.subServices.length>0&&t.jsxs(E.button,{onClick:()=>{const L=document.querySelector("[data-packages-section]");L==null||L.scrollIntoView({behavior:"smooth",block:"start"})},whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-white/20 text-white px-5 sm:px-6 py-3 rounded-full text-sm font-semibold border border-white/40 hover:bg-white/30 transition-all duration-300 w-full sm:w-auto min-h-[44px] flex items-center justify-center gap-2","aria-label":"View available packages",children:[t.jsx(go,{className:"w-4 h-4"}),t.jsx("span",{children:"View Packages"})]})]})]})}),t.jsx("div",{className:"absolute bottom-0 left-0 w-full h-6 sm:h-8 bg-gray-50 pointer-events-none rounded-t-3xl"})]}),t.jsx("section",{className:"pt-6 pb-5 sm:pt-8 sm:pb-8 lg:pb-12 bg-gradient-to-b from-gray-50 via-white to-gray-50",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"grid lg:grid-cols-12 gap-4 sm:gap-6 lg:gap-8",children:[t.jsxs("div",{className:"lg:col-span-8 space-y-4 sm:space-y-6",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"bg-white rounded-xl sm:rounded-2xl border border-gray-200 shadow-lg p-4 sm:p-6 lg:p-8",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[t.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-primary/10 to-primary/20 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(M,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:_.name}),_.averageRating&&t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm mt-1",children:[t.jsx(gc,{className:"text-yellow-500 fill-yellow-500 text-xs sm:text-sm"}),t.jsx("span",{className:"font-bold text-gray-900",children:_.averageRating}),t.jsxs("span",{className:"text-gray-600 text-xs",children:["(",(_.totalReviews||0).toLocaleString("en-IN")," reviews)"]})]})]})]}),_.description&&t.jsx("p",{className:"text-xs sm:text-sm text-gray-700 mb-3 sm:mb-4 leading-relaxed",children:_.description}),t.jsx("div",{className:"p-3 sm:p-4 bg-gradient-to-br from-emerald-50 to-emerald-100/50 border-2 border-emerald-200 rounded-lg sm:rounded-xl cursor-pointer hover:bg-gradient-to-br hover:from-emerald-100 hover:to-emerald-200/50 hover:border-emerald-300 hover:shadow-md transition-all duration-300 group",children:t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-emerald-500 rounded-lg flex items-center justify-center shadow-sm flex-shrink-0",children:t.jsx(Ue,{className:"text-white text-sm sm:text-lg"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-xs sm:text-sm font-bold text-gray-900",children:"Nexo COVER"}),t.jsx("div",{className:"text-xs text-gray-700 font-medium",children:"Upto 30 days warranty on repairs"})]})]}),t.jsx(bC,{className:"text-emerald-600 group-hover:text-emerald-700 group-hover:translate-x-1 transition-all flex-shrink-0"})]})})]}),_.addOns&&_.addOns.length>0?t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:t.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl border border-gray-200 shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden",children:[t.jsxs("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary px-4 sm:px-6 py-4 sm:py-5 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-black/5"}),t.jsxs("div",{className:"relative flex items-center gap-2 sm:gap-3",children:[t.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/20 backdrop-blur-sm rounded-lg sm:rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",children:t.jsx(go,{className:"text-white text-lg sm:text-xl"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white truncate",children:"Services"}),t.jsx("p",{className:"text-white/90 text-xs font-medium",children:"Enhance your service"})]})]})]}),t.jsx("div",{className:"p-4 sm:p-6 space-y-3 sm:space-y-4 max-h-[600px] overflow-y-auto custom-scrollbar",children:_.addOns.map((L,ue)=>{const ee=b[ue]||0,fe=ee>0,xe=B(L),ve=Rn(L.icon||"FaTools");return t.jsxs(E.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,delay:ue*.1},whileHover:{scale:1.02,y:-4},onClick:()=>N({index:ue,addon:L}),className:`bg-gradient-to-br ${fe?"from-primary/5 to-primary/10 border-2 border-primary shadow-lg":"from-white to-gray-50/50 border border-gray-200 hover:border-primary/40 hover:shadow-md"} p-3 sm:p-4 lg:p-5 rounded-lg sm:rounded-xl transition-all duration-300 cursor-pointer`,children:[t.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 mb-3 sm:mb-4",children:[t.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0 shadow-sm ${fe?"bg-gradient-to-br from-primary to-primary-dark":"bg-gradient-to-br from-primary/10 to-primary/20"}`,children:t.jsx(ve,{className:`w-6 h-6 sm:w-7 sm:h-7 ${fe?"text-white":"text-primary"}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-sm sm:text-base font-bold text-gray-900 mb-1.5 sm:mb-2 line-clamp-1",children:L.name}),L.description&&t.jsx("p",{className:"text-xs text-gray-600 mb-2 sm:mb-3 line-clamp-2 leading-relaxed",children:L.description}),t.jsxs("div",{className:"flex items-baseline gap-1.5 sm:gap-2 mb-2 sm:mb-3 flex-wrap",children:[t.jsxs("span",{className:"text-xl sm:text-2xl font-black text-primary",children:["",Math.round(xe.finalPrice).toLocaleString("en-IN")]}),xe.originalTotalPrice>0&&xe.originalTotalPrice!==xe.finalPrice&&t.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 line-through",children:["",Math.round(xe.originalTotalPrice).toLocaleString("en-IN")]}),xe.discount>0&&xe.originalTotalPrice>0&&xe.originalTotalPrice!==xe.finalPrice&&t.jsxs("span",{className:"text-xs font-bold text-white bg-gradient-to-r from-green-500 to-green-600 px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-full shadow-sm",children:[Math.round(xe.discount),"% OFF"]})]}),fe&&t.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-bold text-white bg-gradient-to-r from-primary to-primary-dark px-2 sm:px-3 py-1 sm:py-1.5 rounded-full shadow-md",children:[t.jsx(Fi,{className:"text-xs"}),ee," in cart"]})]})]}),fe?t.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 sm:gap-2",onClick:Ne=>Ne.stopPropagation(),children:[t.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),N({index:ue,addon:L})},className:"bg-gray-100 text-gray-700 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:bg-gray-200 transition-all text-xs sm:text-sm flex items-center justify-center min-h-[44px] sm:min-h-[48px] shadow-sm hover:shadow flex-1 sm:flex-none",children:"Details"}),t.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),W(ue)},className:"bg-gray-100 text-gray-700 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:bg-gray-200 transition-all text-xs sm:text-sm flex items-center justify-center min-h-[44px] sm:min-h-[48px] min-w-[44px] sm:min-w-[48px] shadow-sm hover:shadow","aria-label":"Decrease quantity",children:t.jsx(Fn,{className:"text-xs sm:text-sm"})}),t.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-dark text-white px-4 sm:px-5 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold text-sm sm:text-base min-w-[3rem] sm:min-w-[3.5rem] text-center min-h-[44px] sm:min-h-[48px] flex items-center justify-center shadow-md",children:ee}),t.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),Qe(ue)},className:"bg-gradient-to-r from-primary to-primary-dark text-white px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:from-primary-dark hover:to-primary transition-all text-xs sm:text-sm flex items-center justify-center min-h-[44px] sm:min-h-[48px] min-w-[44px] sm:min-w-[48px] shadow-md hover:shadow-lg","aria-label":"Increase quantity",children:t.jsx(js,{className:"text-xs sm:text-sm"})}),t.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),Ie(ue)},className:"bg-red-50 text-red-600 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:bg-red-100 transition-all text-xs sm:text-sm min-h-[44px] sm:min-h-[48px] min-w-[44px] sm:min-w-[48px] flex items-center justify-center shadow-sm hover:shadow","aria-label":`Remove ${L.name} from cart`,title:"Remove",children:t.jsx(Kt,{className:"text-xs sm:text-sm"})})]}):t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",onClick:Ne=>Ne.stopPropagation(),children:[t.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),N({index:ue,addon:L})},className:"flex-1 bg-gray-100 text-gray-700 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:bg-gray-200 transition-all text-xs sm:text-sm flex items-center justify-center min-h-[44px] sm:min-h-[48px] shadow-sm hover:shadow",children:"View Details"}),t.jsxs("button",{onClick:Ne=>{Ne.stopPropagation(),Qe(ue)},className:"flex-1 bg-gradient-to-r from-primary to-primary-dark text-white px-4 sm:px-5 py-2.5 sm:py-3.5 rounded-lg sm:rounded-xl font-bold hover:from-primary-dark hover:to-primary transition-all text-xs sm:text-sm flex items-center justify-center gap-1.5 sm:gap-2 min-h-[44px] sm:min-h-[48px] shadow-md hover:shadow-lg","aria-label":`Add ${L.name} to cart`,children:[t.jsx(js,{className:"text-xs sm:text-sm"}),t.jsx("span",{children:"Add"})]})]})]},ue)})})]})}):t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center",children:t.jsx("p",{className:"text-gray-500",children:"No  services available"})})]}),t.jsxs("div",{className:"lg:col-span-4",children:[t.jsxs(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"bg-white rounded-xl sm:rounded-2xl border border-gray-200 shadow-xl hover:shadow-2xl transition-shadow duration-300 p-4 sm:p-6 lg:p-8 lg:sticky lg:top-24 max-h-[calc(100vh-8rem)] overflow-y-auto custom-scrollbar",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 pb-3 sm:pb-4 border-b-2 border-gray-100",children:[t.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-2 sm:gap-3 hover:opacity-80 transition-opacity cursor-pointer flex-1 min-w-0",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-primary/10 to-primary/20 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(Fi,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),t.jsx("h2",{className:"text-base sm:text-xl font-bold text-gray-900 truncate",children:"Shopping Cart"})]}),G()>0&&t.jsxs("button",{onClick:()=>k(!0),className:"bg-gradient-to-r from-primary to-primary-dark text-white text-xs font-bold px-2 sm:px-3 py-1 sm:py-1.5 rounded-full shadow-md hover:shadow-lg transition-all flex-shrink-0 ml-2",children:[G()," items"]})]}),_.subServices&&_.subServices.length>0&&t.jsx("div",{className:"mb-4",children:t.jsxs("button",{onClick:()=>{_.subServices[0]&&te(_.subServices[0]._id)},className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-3 rounded-lg font-bold transition-all flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[t.jsx(js,{className:"text-sm"}),t.jsx("span",{children:"Quick Add Main Service"})]})}),G()===0?t.jsxs("div",{className:"text-center py-8 sm:py-12",children:[t.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:t.jsx(Fi,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400"})}),t.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-700 mb-1",children:"Your cart is empty"}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Add services to get started"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-3 mb-6 max-h-[400px] overflow-y-auto custom-scrollbar pr-2",children:[_.subServices&&_.subServices.filter(L=>p[L._id]>0).map(L=>{const ue=p[L._id],ee=L.finalPrice||L.basePrice||L.price||0,fe=L.originalPrice||L.price||0,xe=fe>ee;return t.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-white border border-gray-200 rounded-lg sm:rounded-xl p-3 sm:p-4 hover:shadow-md transition-all",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 sm:gap-3",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-900 mb-2 sm:mb-3 line-clamp-1",children:L.name}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"flex items-center gap-1 bg-white border-2 border-gray-200 rounded-lg shadow-sm",children:[t.jsx("button",{onClick:()=>pe(L._id),className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center text-gray-600 hover:bg-gray-100 hover:text-primary transition rounded-l-lg",children:t.jsx(Fn,{className:"text-xs"})}),t.jsx("span",{className:"w-8 sm:w-10 text-center font-bold text-xs sm:text-sm text-gray-900",children:ue}),t.jsx("button",{onClick:()=>te(L._id),className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center text-gray-600 hover:bg-gray-100 hover:text-primary transition rounded-r-lg",children:t.jsx(js,{className:"text-xs"})})]})})]}),t.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[t.jsxs("p",{className:"text-sm sm:text-base font-bold text-primary",children:["",Math.round(ee*ue).toLocaleString("en-IN")]}),xe&&t.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(fe*ue).toLocaleString("en-IN")]})]})]})},`sub-${L._id}`)}),_.addOns&&_.addOns.map((L,ue)=>{const ee=b[ue]||0;if(ee===0)return null;const fe=B(L);return t.jsx("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 border border-primary/20 rounded-lg sm:rounded-xl p-3 sm:p-4 hover:shadow-md transition-all",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 sm:gap-3",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-900 mb-2 sm:mb-3 line-clamp-1",children:L.name}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{className:"flex items-center gap-1 bg-white border-2 border-primary/30 rounded-lg shadow-sm",children:[t.jsx("button",{onClick:()=>W(ue),className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center text-gray-600 hover:bg-primary/10 hover:text-primary transition rounded-l-lg",children:t.jsx(Fn,{className:"text-xs"})}),t.jsx("span",{className:"w-8 sm:w-10 text-center font-bold text-xs sm:text-sm text-primary",children:ee}),t.jsx("button",{onClick:()=>Qe(ue),className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center text-gray-600 hover:bg-primary/10 hover:text-primary transition rounded-r-lg",children:t.jsx(js,{className:"text-xs"})})]})})]}),t.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[t.jsxs("p",{className:"text-sm sm:text-base font-bold text-primary",children:["",Math.round(fe.finalPrice*ee).toLocaleString("en-IN")]}),fe.originalTotalPrice>0&&fe.originalTotalPrice!==fe.finalPrice&&t.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(fe.originalTotalPrice*ee).toLocaleString("en-IN")]})]})]})},`addon-${ue}`)}).filter(L=>L!==null),_.addOns&&_.addOns.map((L,ue)=>{var fe;const ee=((fe=L.subServices)==null?void 0:fe.filter((xe,ve)=>{const Ne=`${ue}-${ve}`;return w[Ne]>0}))||[];return ee.length===0?null:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"text-xs font-semibold text-primary/70 uppercase tracking-wide mb-1 px-2",children:[L.name," - Sub Services"]}),ee.map((xe,ve)=>{const Ne=`${ue}-${ve}`,Ke=w[Ne]||0;if(Ke===0)return null;const dt=xe.price||"0",ke=parseFloat(dt.replace(/[,\s]/g,""))||0,Re=Rn(xe.icon||"FaTools");return t.jsx("div",{className:"bg-gradient-to-br from-primary/5 to-white border border-primary/10 rounded-lg p-3 ml-3",children:t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[t.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx(Re,{className:"w-4 h-4 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-bold text-gray-900 mb-1",children:xe.name}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>he(ue,ve),className:"w-6 h-6 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded transition",children:t.jsx(Fn,{className:"text-xs text-gray-700"})}),t.jsx("span",{className:"w-8 text-center font-bold text-xs text-gray-900",children:Ke}),t.jsx("button",{onClick:()=>ye(ue,ve),className:"w-6 h-6 flex items-center justify-center bg-primary/10 hover:bg-primary/20 rounded transition",children:t.jsx(js,{className:"text-xs text-primary"})})]})]})]}),t.jsx("div",{className:"text-right flex-shrink-0",children:t.jsxs("p",{className:"text-sm font-bold text-primary",children:["",Math.round(ke*Ke).toLocaleString("en-IN")]})})]})},Ne)})]},`addon-subservices-${ue}`)})]}),_.subServices&&_.subServices.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("button",{onClick:()=>A(!I),className:"w-full flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 rounded-lg transition-all border border-blue-200",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(js,{className:"text-blue-600 text-sm"}),t.jsx("span",{className:"text-sm font-bold text-blue-900",children:"Add More Services"})]}),t.jsx(E.div,{animate:{rotate:I?180:0},transition:{duration:.3},children:t.jsx(vO,{className:"text-blue-600 text-sm"})})]}),I&&t.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"mt-2 space-y-2 max-h-64 overflow-y-auto custom-scrollbar",children:_.subServices.map(L=>{const ue=p[L._id]||0,ee=L.finalPrice||L.basePrice||L.price||0,fe=Rn(L.icon||"FaTools");return t.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 hover:border-primary/50 transition-all",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(fe,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-1",children:L.name}),L.shortDescription&&t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:L.shortDescription}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("p",{className:"text-sm font-bold text-primary",children:["",Math.round(ee).toLocaleString("en-IN")]}),ue===0?t.jsxs("button",{onClick:()=>te(L._id),className:"px-3 py-1.5 bg-primary text-white rounded-lg text-xs font-semibold hover:bg-primary-dark transition-all flex items-center gap-1",children:[t.jsx(js,{className:"text-xs"}),"Add"]}):t.jsxs("div",{className:"flex items-center gap-1 bg-white border-2 border-primary/30 rounded-lg shadow-sm",children:[t.jsx("button",{onClick:()=>pe(L._id),className:"w-7 h-7 flex items-center justify-center text-gray-600 hover:bg-primary/10 hover:text-primary transition rounded-l-lg",children:t.jsx(Fn,{className:"text-xs"})}),t.jsx("span",{className:"w-8 text-center font-bold text-xs text-primary",children:ue}),t.jsx("button",{onClick:()=>te(L._id),className:"w-7 h-7 flex items-center justify-center text-gray-600 hover:bg-primary/10 hover:text-primary transition rounded-r-lg",children:t.jsx(js,{className:"text-xs"})})]})]})]})]})},`available-${L._id}`)})})]}),t.jsxs("div",{className:"pt-6 border-t-2 border-gray-200 mb-6",children:[t.jsxs("div",{className:"space-y-3 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"h-0.5 w-8 bg-primary rounded-full"}),t.jsx("div",{className:"text-xs font-bold text-gray-700 uppercase tracking-wide",children:"Price Breakdown"})]}),_.subServices&&_.subServices.filter(L=>p[L._id]>0).map(L=>{const ue=p[L._id],ee=L.finalPrice||L.basePrice||L.price||0;L.originalPrice||L.price;const fe=ee*ue,xe=L.gst||0,ve=fe*xe/100;return t.jsxs("div",{className:"text-xs space-y-1 pb-2 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"font-semibold text-gray-700",children:[L.name," (Qty: ",ue,")"]}),t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Subtotal"}),t.jsxs("span",{children:["",Math.round(fe).toLocaleString("en-IN")]})]}),xe>0&&t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsxs("span",{children:["GST (",xe,"%)"]}),t.jsxs("span",{children:["+",Math.round(ve).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"flex justify-between font-semibold text-gray-900 pt-1",children:[t.jsx("span",{children:"Total"}),t.jsxs("span",{children:["",Math.round(fe+ve).toLocaleString("en-IN")]})]})]},`breakdown-sub-${L._id}`)}),_.addOns&&_.addOns.map((L,ue)=>{const ee=b[ue]||0;if(ee===0)return null;const fe=B(L);return t.jsxs("div",{className:"text-xs space-y-1 pb-2 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"font-semibold text-gray-700",children:[L.name," (Qty: ",ee,")"]}),t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Base Price"}),t.jsxs("span",{children:["",Math.round(fe.basePrice*ee).toLocaleString("en-IN")]})]}),fe.discount>0&&t.jsxs("div",{className:"flex justify-between text-green-600",children:[t.jsxs("span",{children:["Discount (",fe.discount,"%)"]}),t.jsxs("span",{children:["-",Math.round(fe.discountAmount*ee).toLocaleString("en-IN")]})]}),fe.serviceCharge>0&&t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Service Charge"}),t.jsxs("span",{children:["+",Math.round(fe.serviceCharge*ee).toLocaleString("en-IN")]})]}),(fe.cgst>0||fe.sgst>0)&&t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsxs("span",{children:["GST (",fe.cgst+fe.sgst,"%)"]}),t.jsxs("span",{children:["+",Math.round(fe.gstAmount*ee).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"flex justify-between font-semibold text-gray-900 pt-1",children:[t.jsx("span",{children:"Total"}),t.jsxs("span",{children:["",Math.round(fe.finalPrice*ee).toLocaleString("en-IN")]})]})]},`breakdown-addon-${ue}`)}).filter(L=>L!==null),_.addOns&&_.addOns.map((L,ue)=>{var fe;const ee=((fe=L.subServices)==null?void 0:fe.filter((xe,ve)=>{const Ne=`${ue}-${ve}`;return w[Ne]>0}))||[];return ee.length===0?null:ee.map((xe,ve)=>{const Ne=`${ue}-${ve}`,Ke=w[Ne]||0;if(Ke===0)return null;const dt=xe.price||"0",Re=(parseFloat(dt.replace(/[,\s]/g,""))||0)*Ke;return t.jsxs("div",{className:"text-xs space-y-1 pb-2 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"font-semibold text-gray-700",children:[xe.name," (",L.name,") (Qty: ",Ke,")"]}),t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Price"}),t.jsxs("span",{children:["",Math.round(Re).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"flex justify-between font-semibold text-gray-900 pt-1",children:[t.jsx("span",{children:"Total"}),t.jsxs("span",{children:["",Math.round(Re).toLocaleString("en-IN")]})]})]},Ne)})}).flat().filter(L=>L!==null)]}),t.jsxs("div",{className:"flex items-center justify-between pt-3 sm:pt-4 border-t-2 border-gray-300 bg-gradient-to-r from-primary/5 to-transparent -mx-2 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg",children:[t.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900",children:"Grand Total"}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-xl sm:text-2xl font-black text-primary",children:["",Math.round(V()).toLocaleString("en-IN")]}),(()=>{let L=0;_.subServices&&_.subServices.filter(ee=>p[ee._id]>0).forEach(ee=>{const fe=p[ee._id],xe=ee.originalPrice||ee.price||0;L+=xe*fe}),_.addOns&&_.addOns.forEach((ee,fe)=>{const xe=b[fe]||0;xe>0&&(L+=(ee.basePrice||0)*xe)}),_.addOns&&_.addOns.forEach((ee,fe)=>{ee.subServices&&ee.subServices.forEach((xe,ve)=>{const Ne=`${fe}-${ve}`,Ke=w[Ne]||0;if(Ke>0){const dt=xe.price||"0",ke=parseFloat(dt.replace(/[,\s]/g,""))||0;L+=ke*Ke}})});const ue=V();return L>ue?t.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(L).toLocaleString("en-IN")]}):null})()]})]})]}),O()?t.jsx(t.Fragment,{children:t.jsxs("button",{onClick:Se,className:"w-full bg-gradient-to-r from-primary to-primary-dark text-white py-3 sm:py-4 rounded-lg sm:rounded-xl font-bold hover:shadow-xl transition-all text-sm sm:text-base mb-3 flex items-center justify-center gap-2 min-h-[48px] sm:min-h-[52px] shadow-lg transform hover:-translate-y-0.5",children:[t.jsx(Fi,{className:"w-5 h-5 sm:w-6 sm:h-6"}),t.jsx("span",{children:"Book Now"})]})}):t.jsxs("div",{className:"w-full bg-gray-400 text-white py-3 sm:py-4 rounded-lg sm:rounded-xl font-bold text-sm sm:text-base mb-4 flex items-center justify-center gap-2 min-h-[48px] sm:min-h-[52px] shadow-lg cursor-not-allowed",children:[t.jsx(Kt,{className:"w-5 h-5 sm:w-6 sm:h-6"}),t.jsxs("span",{children:["Service Not Available in ",(P==null?void 0:P.name)||"Your City"]})]})]})]}),t.jsxs(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"bg-white rounded-xl sm:rounded-2xl border border-gray-200 shadow-xl transition-shadow duration-300 p-3 sm:p-6 lg:p-8 mt-2",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4 pb-2 sm:pb-3 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-primary/10 to-primary/20 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(go,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),t.jsx("h2",{className:"text-sm sm:text-lg font-bold text-gray-900 truncate",children:"Add-On Services"})]}),ce&&ce.length>0&&t.jsx("span",{className:"bg-primary text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0 ml-2",children:ce.length})]}),ce&&ce.length>0?t.jsxs("div",{className:"relative w-full",children:[t.jsx("div",{className:"overflow-hidden rounded-lg",children:t.jsx("div",{className:"flex transition-transform duration-500 ease-out",style:{transform:`translateX(-${z*100}%)`},children:ce.map((L,ue)=>{const ee=Rn(L.icon||"FaTools"),fe=L.price||"0",xe=parseFloat(fe.replace(/[,\s]/g,""))||0,ve=`${L.addonIndex}-${L.subServiceIndex}`,Ne=w[ve]||0,Ke=Ne>0;return t.jsx("div",{className:"w-full flex-shrink-0 box-border",children:t.jsxs("div",{className:`${Ke?"bg-primary/5 border-primary":"bg-gray-50 border-gray-200"} border-2 rounded-lg p-2.5 sm:p-4`,children:[t.jsxs("div",{className:"flex gap-1.5 sm:gap-2 mb-1.5 sm:mb-2",children:[t.jsx("div",{className:`w-9 h-9 sm:w-12 sm:h-12 rounded-lg flex items-center justify-center flex-shrink-0 ${Ke?"bg-primary":"bg-primary/10"}`,children:t.jsx(ee,{className:`w-4 h-4 sm:w-6 sm:h-6 ${Ke?"text-white":"text-primary"}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-xs sm:text-sm font-bold text-gray-900 mb-0.5 sm:mb-1 line-clamp-2 leading-tight",children:L.name}),t.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[t.jsxs("span",{className:"text-sm sm:text-lg font-black text-primary",children:["",Math.round(xe).toLocaleString("en-IN")]}),Ke&&t.jsxs("span",{className:"text-xs font-bold text-white bg-primary px-1.5 py-0.5 rounded-full",children:[Ne,"x"]})]})]})]}),L.description&&t.jsx("p",{className:"text-xs text-gray-600 mb-1.5 sm:mb-2 line-clamp-2 leading-snug",children:L.description}),L.includes&&L.includes.length>0&&t.jsx("div",{className:"mb-1.5 sm:mb-2 pb-1.5 sm:pb-2 border-t border-gray-200 pt-1.5 sm:pt-2",children:t.jsxs("ul",{className:"space-y-0.5",children:[L.includes.slice(0,2).map((dt,ke)=>t.jsxs("li",{className:"text-xs text-gray-700 flex items-start gap-1",children:[t.jsx(Ue,{className:"text-green-500 text-xs mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"line-clamp-1 leading-tight",children:dt})]},ke)),L.includes.length>2&&t.jsxs("li",{className:"text-xs text-primary font-semibold ml-3.5",children:["+",L.includes.length-2," more"]})]})}),t.jsx("div",{className:"flex items-center justify-end gap-1 sm:gap-1.5 pt-1.5 sm:pt-2 border-t border-gray-200",children:Ke?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>he(L.addonIndex,L.subServiceIndex),className:"bg-gray-200 text-gray-700 w-6 h-6 sm:w-7 sm:h-7 rounded flex items-center justify-center hover:bg-gray-300",children:t.jsx(Fn,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})}),t.jsx("span",{className:"text-xs sm:text-sm font-bold text-primary w-5 sm:w-6 text-center",children:Ne}),t.jsx("button",{onClick:()=>ye(L.addonIndex,L.subServiceIndex),className:"bg-primary text-white w-6 h-6 sm:w-7 sm:h-7 rounded flex items-center justify-center hover:bg-primary-dark",children:t.jsx(js,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})})]}):t.jsxs("button",{onClick:()=>{L.addonIndex!==void 0&&L.subServiceIndex!==void 0&&ye(L.addonIndex,L.subServiceIndex)},className:"bg-primary text-white px-2.5 sm:px-3 py-1.5 rounded-lg font-semibold hover:bg-primary-dark flex items-center gap-1 text-xs",children:[t.jsx(js,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"}),"Add"]})})]})},`addon-sub-${ue}`)})})}),ce.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>se(L=>(L-1+ce.length)%ce.length),className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-2 w-8 h-8 bg-white rounded-full shadow-lg flex items-center justify-center text-gray-700 hover:text-primary z-10 border border-gray-200",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsx("button",{onClick:()=>se(L=>(L+1)%ce.length),className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-2 w-8 h-8 bg-white rounded-full shadow-lg flex items-center justify-center text-gray-700 hover:text-primary z-10 border border-gray-200",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),ce.length>1&&t.jsx("div",{className:"flex justify-center gap-1.5 mt-3",children:ce.map((L,ue)=>t.jsx("button",{onClick:()=>se(ue),className:`transition-all rounded-full ${ue===z?"w-6 h-1.5 bg-primary":"w-1.5 h-1.5 bg-gray-300"}`},`indicator-${ue}`))})]}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(go,{className:"w-8 h-8 text-gray-400"})}),t.jsx("p",{className:"text-sm text-gray-500",children:"No add-on services available"})]})]})]})]})})}),_.subServices&&_.subServices.length>0&&t.jsx("section",{className:"py-8 sm:py-12 bg-gradient-to-b from-gray-50 to-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"mb-6",children:t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary/10 to-primary/20 rounded-xl flex items-center justify-center",children:t.jsx(go,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Available Service Packages"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Choose from our curated service packages"})]})]})}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 snap-x snap-mandatory scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:_.subServices.map((L,ue)=>{var Tt,Rt;const ee=p[L._id]||0,fe=ee>0,xe=L.finalPrice||L.basePrice||L.price||0,ve=L.originalPrice||L.price||0,Ne=ve>xe;Rn(L.icon||"FaTools");const Ke=Array.isArray(L.icon)&&L.icon.length>0?L.icon[0]:L.icon||"",dt=L.name.match(/(\d+)\s*(AC|unit|item)/i),ke=dt?parseInt(dt[1]):1,Re=xe/ke;return t.jsx(E.div,{initial:{opacity:0,x:-100},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.6,delay:ue*.15,ease:"easeOut"},className:"flex-shrink-0 w-80 sm:w-96 snap-start",children:t.jsxs("div",{className:`bg-white rounded-2xl border-2 ${fe?"border-primary shadow-xl":"border-gray-200 hover:border-primary/50"} shadow-lg hover:shadow-xl transition-all h-full flex flex-col`,children:[dt&&t.jsx("div",{className:"absolute top-0 left-0 z-10",children:t.jsxs("span",{className:"text-xs font-bold text-white bg-gray-900 px-3 py-1.5 rounded-br-lg",children:[dt[1]," ",((Tt=dt[2])==null?void 0:Tt.toUpperCase())||"UNIT"," PACK"]})}),Ke&&t.jsx("div",{className:"w-full h-48 overflow-hidden rounded-t-2xl",children:t.jsx("img",{src:Ke,alt:L.name,className:"w-full h-full object-cover",onError:be=>{be.target.style.display="none"}})}),t.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:L.name}),L.description&&t.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:L.description}),t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(gc,{className:"text-yellow-400 text-sm"}),t.jsx("span",{className:"text-sm font-semibold",children:L.rating>0?L.rating.toFixed(2):"4.77"}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",((Rt=L.reviews)==null?void 0:Rt.length)||0," reviews)"]})]}),t.jsxs("div",{className:"mb-3",children:[t.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[t.jsxs("span",{className:"text-2xl font-black text-gray-900",children:["",Math.round(xe).toLocaleString("en-IN")]}),Ne&&t.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["",Math.round(ve).toLocaleString("en-IN")]})]}),ke>1&&t.jsxs("p",{className:"text-xs text-emerald-600 font-semibold",children:["",Math.round(Re)," per ",(dt==null?void 0:dt[2])||"unit"]})]}),L.duration&&t.jsxs("div",{className:"flex items-center gap-1 mb-3 text-xs text-gray-600",children:[t.jsx(si,{className:"text-xs"}),t.jsx("span",{children:L.duration})]}),L.includes&&L.includes.length>0&&t.jsxs("div",{className:"mb-4 flex-1",children:[t.jsx("p",{className:"text-xs font-bold text-gray-700 mb-2",children:"What's Included:"}),t.jsxs("ul",{className:"space-y-1",children:[L.includes.slice(0,3).map((be,T)=>t.jsxs("li",{className:"text-xs text-gray-700 flex items-start gap-2",children:[t.jsx(Ue,{className:"text-green-500 text-xs mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"line-clamp-1",children:be})]},T)),L.includes.length>3&&t.jsxs("li",{className:"text-xs text-gray-500 italic",children:["+",L.includes.length-3," more"]})]})]}),t.jsx("div",{className:"mt-auto",children:fe?t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-center gap-3 bg-primary/10 rounded-xl p-2",children:[t.jsx("button",{onClick:()=>pe(L._id),className:"w-10 h-10 bg-white hover:bg-gray-100 text-gray-700 rounded-lg font-bold transition-all flex items-center justify-center shadow-sm",children:t.jsx(Fn,{})}),t.jsx("span",{className:"text-xl font-black text-primary min-w-[40px] text-center",children:ee}),t.jsx("button",{onClick:()=>te(L._id),className:"w-10 h-10 bg-primary hover:bg-primary-dark text-white rounded-lg font-bold transition-all flex items-center justify-center shadow-sm",children:t.jsx(js,{})})]}),t.jsxs("p",{className:"text-xs text-center text-gray-600",children:["Total: ",Math.round(xe*ee).toLocaleString("en-IN")]})]}):t.jsxs("button",{onClick:()=>te(L._id),className:"w-full bg-gradient-to-r from-primary to-primary-dark text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[t.jsx(js,{className:"w-4 h-4"}),"Add to Cart"]})})]})]})},L._id)})}),t.jsx("div",{className:"text-center mt-4",children:t.jsxs("p",{className:"text-xs text-gray-500 flex items-center justify-center gap-2",children:[t.jsx(bC,{className:"animate-pulse"}),"Scroll to see more packages"]})})]})]})}),(_.included&&_.included.length>0||_.excluded&&_.excluded.length>0)&&t.jsx("section",{className:"py-12 sm:py-16 bg-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[_.included&&_.included.length>0&&t.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"bg-white rounded-2xl shadow-md border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"bg-emerald-500 px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"bg-white/20 rounded-lg p-2",children:t.jsx(Ue,{className:"text-white text-lg"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-white",children:"What's Included"}),t.jsx("p",{className:"text-white/80 text-xs",children:"Everything you get"})]})]})}),t.jsx("div",{className:"p-6 space-y-2.5",children:_.included.map((L,ue)=>t.jsxs(E.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:ue*.05},className:"flex items-center gap-3 bg-emerald-50 p-3.5 rounded-lg border border-emerald-200 hover:bg-emerald-100 transition-all group",children:[t.jsx("div",{className:"bg-emerald-500 rounded-full p-1.5 flex-shrink-0",children:t.jsx(Ue,{className:"text-white text-xs"})}),t.jsx("span",{className:"text-gray-800 font-medium text-sm flex-1 leading-relaxed",children:L})]},ue))})]}),_.excluded&&_.excluded.length>0&&t.jsxs(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6,delay:.2},className:"bg-white rounded-2xl shadow-md border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"bg-rose-500 px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"bg-white/20 rounded-lg p-2",children:t.jsx(Kt,{className:"text-white text-lg"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-white",children:"What's Not Included"}),t.jsx("p",{className:"text-white/80 text-xs",children:"Items not covered"})]})]})}),t.jsx("div",{className:"p-6 space-y-2.5",children:_.excluded.map((L,ue)=>t.jsxs(E.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:ue*.05},className:"flex items-center gap-3 bg-rose-50 p-3.5 rounded-lg border border-rose-200 hover:bg-rose-100 transition-all group",children:[t.jsx("div",{className:"bg-rose-500 rounded-full p-1.5 flex-shrink-0",children:t.jsx(Kt,{className:"text-white text-xs"})}),t.jsx("span",{className:"text-gray-800 font-medium text-sm flex-1 leading-relaxed",children:L})]},ue))})]})]})})}),_.subServices&&_.subServices.length>0&&t.jsx("section",{"data-packages-section":!0,className:"py-8 sm:py-12 bg-gradient-to-b from-white via-gray-50/30 to-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[t.jsx("div",{className:"lg:col-span-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Service Packages"}),t.jsx("p",{className:"text-gray-600",children:"Choose from our curated service packages"})]}),t.jsx("div",{className:"space-y-6",children:_.subServices.map(L=>{var Rt,be;const ue=p[L._id]||0,ee=ue>0,fe=L.finalPrice||L.basePrice||L.price||0,xe=L.originalPrice||L.price||0,ve=xe>fe,Ne=Array.isArray(L.icon)&&L.icon.length>0?L.icon[0]:L.icon||"",Ke=L.name.match(/(\d+)\s*(AC|unit|item)/i),dt=Ke?parseInt(Ke[1]):1,ke=fe/dt,Re=((Rt=L.reviews)==null?void 0:Rt.length)||0,Tt=Re>=1e6?`${(Re/1e6).toFixed(1)}M`:Re>=1e3?`${(Re/1e3).toFixed(1)}K`:Re.toString();return t.jsxs(E.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3},className:`bg-white rounded-xl border-2 ${ee?"border-primary shadow-lg":"border-gray-200 hover:border-primary/30"} overflow-hidden transition-all relative`,children:[Ke&&t.jsx("div",{className:"absolute top-0 left-0 z-10",children:t.jsxs("span",{className:"text-xs font-bold text-white bg-gray-900 px-3 py-1.5 rounded-br-lg",children:[Ke[1]," ",((be=Ke[2])==null?void 0:be.toUpperCase())||"UNIT"," PACK"]})}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 p-4 sm:p-5",children:[t.jsxs("div",{className:"flex-1 min-w-0 order-1",children:[t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:L.name}),L.description&&t.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2 sm:mb-3 line-clamp-2",children:L.description}),t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-2 sm:mb-3",children:[t.jsx(gc,{className:"text-yellow-400 text-xs sm:text-sm"}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:L.rating>0?L.rating.toFixed(2):"4.77"}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",Tt," reviews)"]})]}),t.jsxs("div",{className:"mb-2 sm:mb-3",children:[t.jsxs("div",{className:"flex items-baseline gap-1.5 sm:gap-2 mb-1 flex-wrap",children:[t.jsxs("span",{className:"text-xl sm:text-2xl font-black text-gray-900",children:["",Math.round(fe).toLocaleString("en-IN")]}),ve&&t.jsxs("span",{className:"text-sm sm:text-base text-gray-500 line-through",children:["",Math.round(xe).toLocaleString("en-IN")]})]}),dt>1&&t.jsxs("p",{className:"text-xs sm:text-sm text-emerald-600 font-semibold",children:["",Math.round(ke)," per ",(Ke==null?void 0:Ke[2])||"unit"]})]}),L.duration&&t.jsxs("div",{className:"flex items-center gap-1 mb-2 sm:mb-3 text-xs sm:text-sm text-gray-600",children:[t.jsx(si,{className:"text-xs"}),t.jsx("span",{children:L.duration})]}),L.includes&&L.includes.length>0&&t.jsx("ul",{className:"space-y-1 mb-2 sm:mb-3",children:L.includes.slice(0,2).map((T,ie)=>t.jsxs("li",{className:"text-xs text-gray-700 flex items-start gap-1.5 sm:gap-2",children:[t.jsx("span",{className:"text-gray-400 mt-0.5 sm:mt-1",children:""}),t.jsx("span",{className:"line-clamp-1",children:T})]},ie))}),t.jsx("button",{className:"text-xs text-primary hover:text-primary-dark font-semibold",children:"View details "})]}),Ne&&t.jsx("div",{className:"flex-shrink-0 w-full sm:w-40 h-32 sm:h-40 lg:h-48 order-2 sm:order-2",children:t.jsx("img",{src:Ne,alt:L.name,className:"w-full h-full object-cover rounded-lg border border-gray-200",onError:T=>{T.target.style.display="none"}})}),t.jsx("div",{className:"flex-shrink-0 flex flex-row sm:flex-col items-center justify-between sm:justify-center gap-2 order-3 sm:order-3",children:ee?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>pe(L._id),className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center text-gray-700 hover:bg-gray-100 rounded-lg border border-gray-200 transition",children:t.jsx(Fn,{className:"text-xs sm:text-sm"})}),t.jsx("span",{className:"w-10 sm:w-12 text-center font-bold text-gray-900 text-base sm:text-lg",children:ue}),t.jsx("button",{onClick:()=>te(L._id),className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center text-gray-700 hover:bg-gray-100 rounded-lg border border-gray-200 transition",children:t.jsx(js,{className:"text-xs sm:text-sm"})})]}):t.jsx("button",{onClick:()=>te(L._id),className:"flex-1 sm:flex-none bg-primary text-white px-4 sm:px-6 py-2.5 sm:py-3 rounded-lg font-semibold hover:bg-primary-dark transition-all text-xs sm:text-sm whitespace-nowrap",children:"Add to Cart"})})]})]},L._id)})})]})}),t.jsx("div",{className:"lg:col-span-4",children:t.jsx(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"space-y-4 sm:space-y-6",children:t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-md p-4 sm:p-5 lg:sticky lg:top-24",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4 gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[t.jsx(M,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary flex-shrink-0"}),t.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 truncate",children:_.name})]}),t.jsxs("div",{className:"flex flex-col items-end flex-shrink-0",children:[t.jsx("div",{className:"bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Instant"}),t.jsx("span",{className:"text-xs text-gray-500 mt-0.5",children:"In 33 mins"})]})]}),_.averageRating&&t.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm mb-3 sm:mb-4 p-2 bg-yellow-50 rounded-lg border border-yellow-100",children:[t.jsx(gc,{className:"text-yellow-500 fill-yellow-500 text-xs sm:text-sm"}),t.jsx("span",{className:"font-bold text-gray-900",children:_.averageRating}),t.jsxs("span",{className:"text-gray-600 text-xs",children:["(",(_.totalReviews||0).toLocaleString("en-IN")," reviews)"]})]}),t.jsxs("div",{className:"pt-3 sm:pt-4 border-t border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[t.jsx("h3",{className:"text-xs sm:text-sm font-bold text-gray-900",children:"Nexo Promise"}),t.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-primary/10 rounded-full flex items-center justify-center border-2 border-primary/20 flex-shrink-0",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xs font-bold text-primary leading-tight",children:"QUALITY"}),t.jsx("div",{className:"text-xs font-bold text-primary leading-tight",children:"ASSURED"})]})})]}),t.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[t.jsx(Ue,{className:"text-green-500 text-xs flex-shrink-0"}),t.jsx("span",{className:"text-xs text-gray-700",children:"Verified Professionals"})]}),t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[t.jsx(Ue,{className:"text-green-500 text-xs flex-shrink-0"}),t.jsx("span",{className:"text-xs text-gray-700",children:"Hassle Free Booking"})]}),t.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[t.jsx(Ue,{className:"text-green-500 text-xs flex-shrink-0"}),t.jsx("span",{className:"text-xs text-gray-700",children:"Transparent Pricing"})]})]})]})]})})})]})})}),_.reviews&&_.reviews.length>0&&t.jsx("section",{className:"py-12 sm:py-16 bg-gray-50",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3",children:"What Our Customers Say"}),_.averageRating&&t.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[t.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((L,ue)=>t.jsx(gc,{className:`w-6 h-6 sm:w-7 sm:h-7 ${ue<Math.floor(_.averageRating)?"text-yellow-400":ue<_.averageRating?"text-yellow-300":"text-gray-300"}`},ue))}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"text-3xl sm:text-4xl font-black text-gray-900",children:_.averageRating}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Based on ",_.totalReviews," reviews"]})]})]})]}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:_.reviews.slice(0,6).map((L,ue)=>{var ee,fe;return t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:ue*.1},whileHover:{y:-4,scale:1.02},className:"bg-white p-4 rounded-xl shadow-md border border-gray-100 hover:shadow-lg transition-all group",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((xe,ve)=>t.jsx(gc,{className:`w-4 h-4 ${ve<L.rating?"text-yellow-400":"text-gray-300"}`},ve))}),t.jsxs("span",{className:"text-xs font-bold text-gray-600 ml-1",children:[L.rating,"/5"]})]}),t.jsx("p",{className:"text-gray-700 mb-3 text-sm leading-relaxed line-clamp-3",children:L.comment}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-primary-dark rounded-full flex items-center justify-center text-white font-bold text-xs",children:(((ee=L.user)==null?void 0:ee.name)||"A")[0].toUpperCase()}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-bold text-gray-900",children:((fe=L.user)==null?void 0:fe.name)||"Anonymous"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Verified Customer"})]})]}),t.jsx("span",{className:"text-xs text-gray-400",children:new Date(L.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]},L._id||ue)})})]})})}),Object.keys(p).length>0&&t.jsx("section",{id:"price-breakdown",className:"py-12 sm:py-16 bg-white",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3",children:"Price Breakdown"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Transparent pricing for selected packages"})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 mb-6 overflow-hidden",children:t.jsx("div",{className:"divide-y divide-gray-100",children:_.subServices.filter(L=>p[L._id]>0).map(L=>{const ue=p[L._id],ee=L.finalPrice||L.basePrice||L.price||0,fe=L.originalPrice||L.price||0,xe=fe*ue,ve=ee*ue,Ne=(fe-ee)*ue,Ke=L.gst||0,dt=ve*Ke/100;return t.jsxs("div",{className:"px-6 py-4 space-y-2 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{className:"font-semibold text-gray-900 mb-2",children:[L.name," (Qty: ",ue,")"]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Base Price"}),t.jsxs("span",{className:"text-gray-900",children:["",Math.round(xe)]})]}),Ne>0&&t.jsxs("div",{className:"flex items-center justify-between text-sm text-green-600",children:[t.jsxs("span",{children:["Discount (",L.discount||0,"%)"]}),t.jsxs("span",{children:["-",Math.round(Ne)]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm font-medium pt-1 border-t border-gray-100",children:[t.jsx("span",{className:"text-gray-700",children:"Subtotal"}),t.jsxs("span",{className:"text-gray-900",children:["",Math.round(ve)]})]}),Ke>0&&t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsxs("span",{children:["GST (",Ke,"%)"]}),t.jsxs("span",{children:["+",Math.round(dt)]})]}),t.jsxs("div",{className:"flex items-center justify-between text-base font-bold pt-2 border-t-2 border-gray-200",children:[t.jsx("span",{className:"text-gray-900",children:"Total"}),t.jsxs("span",{className:"text-primary",children:["",Math.round(ve+dt)]})]})]},L._id)})})}),t.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 mb-8",children:t.jsx("div",{className:"px-6 py-5",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Total Amount Payable"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Inclusive of all taxes & charges"})]}),t.jsx("div",{className:"text-right",children:t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsx("span",{className:"text-base font-semibold text-gray-600",children:""}),t.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:(()=>{let L=0;return _.subServices.filter(ue=>p[ue._id]>0).forEach(ue=>{const ee=p[ue._id],xe=(ue.finalPrice||ue.basePrice||ue.price||0)*ee,ve=ue.gst||0;L+=xe+xe*ve/100}),Math.round(L).toLocaleString("en-IN")})()})]})})]})})}),t.jsxs("div",{className:"text-center mt-8",children:[t.jsxs("button",{onClick:s,className:"bg-[#25D366] text-white px-10 py-4 rounded-lg text-base font-bold shadow-md hover:shadow-lg transition-all duration-300 flex items-center gap-2 mx-auto w-full sm:w-auto justify-center min-h-[48px]","aria-label":"Book this service on WhatsApp",children:[t.jsx(Er,{className:"w-5 h-5"}),t.jsx("span",{children:"Book Selected Packages"})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Click to book via WhatsApp"})]})]})})}),d.length>0&&t.jsx("section",{className:"py-12 sm:py-16 bg-gray-50",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:[t.jsxs("div",{className:"text-center mb-10",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3",children:"Explore Other Popular Services"}),t.jsx("p",{className:"text-base text-gray-600",children:"Discover more services we offer"})]}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map((L,ue)=>{const ee=L.icon||ga;return t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:ue*.1},whileHover:{y:-4,scale:1.02},onClick:()=>r(`/service/${L.slug}`),className:"bg-white p-5 rounded-xl border-2 border-gray-100 cursor-pointer hover:border-primary/40 hover:shadow-lg transition-all group",children:t.jsxs("div",{className:"text-center",children:[t.jsx(E.div,{whileHover:{rotate:360,scale:1.1},transition:{duration:.6},className:"inline-block mb-4",children:t.jsx("div",{className:"bg-gradient-to-br from-primary/10 to-primary/20 rounded-xl p-4 group-hover:from-primary/20 group-hover:to-primary/30 transition-all",children:t.jsx(ee,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary"})})}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-primary transition-colors",children:L.name}),L.description&&t.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2 min-h-[2.5rem]",children:L.description}),t.jsxs(E.div,{whileHover:{x:5},className:"mt-4 inline-flex items-center gap-2 bg-primary/10 text-primary font-bold px-4 py-2 rounded-full group-hover:bg-primary group-hover:text-white transition-all text-sm",children:["View Details",t.jsx("span",{className:"text-base",children:""})]})]})},L._id||ue)})})]})})}),t.jsxs("section",{className:"py-12 sm:py-16 bg-gradient-to-br from-primary via-primary-dark to-primary text-white relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Why Book on WhatsApp"}),t.jsx("p",{className:"text-base text-white/90",children:"Experience the easiest way to book services"})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20 hover:bg-white/20 transition-all text-center",children:[t.jsx("div",{className:"bg-yellow-400/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(Nl,{className:"text-xl text-yellow-300"})}),t.jsx("h3",{className:"text-base font-bold mb-1",children:"Instant Response"}),t.jsx("p",{className:"text-xs text-white/80",children:"Get immediate confirmation"})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20 hover:bg-white/20 transition-all text-center",children:[t.jsx("div",{className:"bg-green-400/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(Ha,{className:"text-xl text-green-300"})}),t.jsx("h3",{className:"text-base font-bold mb-1",children:"Verified Experts"}),t.jsx("p",{className:"text-xs text-white/80",children:"Background-checked professionals"})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20 hover:bg-white/20 transition-all text-center",children:[t.jsx("div",{className:"bg-blue-400/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(Qo,{className:"text-xl text-blue-300"})}),t.jsx("h3",{className:"text-base font-bold mb-1",children:"Pay After Service"}),t.jsx("p",{className:"text-xs text-white/80",children:"No upfront payment required"})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.4},className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20 hover:bg-white/20 transition-all text-center",children:[t.jsx("div",{className:"bg-purple-400/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(go,{className:"text-xl text-purple-300"})}),t.jsx("h3",{className:"text-base font-bold mb-1",children:"Full Transparency"}),t.jsx("p",{className:"text-xs text-white/80",children:"Clear pricing & terms"})]})]}),t.jsx("div",{className:"text-center",children:t.jsxs(E.button,{onClick:s,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-8 py-4 rounded-full text-base font-bold hover:bg-[#20BA5A] transition-all duration-300 shadow-xl hover:shadow-[#25D366]/50 flex items-center gap-2 mx-auto",children:[t.jsx(Er,{className:"w-5 h-5"}),"Book Now on WhatsApp"]})})]})})]}),t.jsx("section",{className:"py-8 bg-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:t.jsx(Ht,{to:"/#services",className:"inline-flex items-center text-primary hover:text-primary-dark font-semibold text-base sm:text-lg transition-colors",children:" Back to All Services"})})})]}),v&&t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay addon-modal",style:{zIndex:9100},onClick:()=>N(null),children:t.jsxs("div",{className:"relative max-w-3xl w-full",children:[t.jsx("button",{onClick:L=>{L.stopPropagation(),N(null)},className:"absolute -top-12 right-0 w-10 h-10 flex items-center justify-center bg-white hover:bg-gray-100 rounded-full transition-all text-gray-600 hover:text-gray-900 shadow-lg z-[9998]","aria-label":"Close modal",children:t.jsx(Kt,{className:"text-xl"})}),t.jsxs(E.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:L=>L.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-h-[85vh] overflow-hidden flex flex-col",children:[t.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-4 py-4 z-20",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"flex justify-center mb-3",children:t.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-primary to-primary-dark rounded-xl flex items-center justify-center shadow-md",children:_t.createElement(Rn(v.addon.icon||"FaTools"),{className:"text-white text-xl"})})}),t.jsx("h2",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:v.addon.name}),v.addon.description&&t.jsx("p",{className:"text-sm text-gray-600 text-center leading-relaxed mb-4",children:v.addon.description}),(()=>{const L=b[v.index]||0,ue=L>0;return t.jsx("button",{onClick:()=>{ue||Qe(v.index),N(null)},className:`w-full px-3 py-2 rounded-lg font-medium transition-all text-sm flex items-center justify-center gap-2 ${ue?"bg-green-500 text-white hover:bg-green-600 cursor-default":"bg-primary text-white hover:bg-primary-dark"}`,children:ue?t.jsxs(t.Fragment,{children:[t.jsx(Ue,{className:"text-sm"}),t.jsxs("span",{children:["Already in Cart (",L,")"]})]}):t.jsxs(t.Fragment,{children:[t.jsx(Fi,{className:"text-sm"}),t.jsx("span",{children:"Add to Cart"})]})})})()]})}),t.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-4",children:[v.addon.subServices&&v.addon.subServices.length>0&&t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-gray-200",children:[t.jsx(go,{className:"text-primary text-base"}),t.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Sub-Services"}),t.jsxs("span",{className:"text-xs text-gray-500 ml-auto",children:["(",v.addon.subServices.length,")"]})]}),t.jsx("div",{className:"grid sm:grid-cols-2 gap-3 max-h-[280px] overflow-y-auto custom-scrollbar",children:v.addon.subServices.map((L,ue)=>{const ee=Rn(L.icon||"FaTools"),fe=`${v.index}-${ue}`,xe=w[fe]||0,ve=xe>0;return t.jsxs("div",{className:`bg-white p-3 rounded-lg border transition-all ${ve?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/30"}`,children:[t.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[t.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 ${ve?"bg-primary text-white":"bg-primary/10 text-primary"}`,children:t.jsx(ee,{className:"w-4 h-4"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1 line-clamp-1",children:L.name}),t.jsx("p",{className:"text-sm font-bold text-primary",children:L.price}),ve&&t.jsxs("span",{className:"text-xs text-primary font-medium",children:["(",xe," in cart)"]})]})]}),ve?t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),he(v.index,ue)},className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-md hover:bg-gray-200 transition-all text-xs flex items-center justify-center min-w-[28px]","aria-label":"Decrease",children:t.jsx(Fn,{className:"text-xs"})}),t.jsx("div",{className:"bg-primary text-white px-3 py-1 rounded-md font-semibold text-sm min-w-[2rem] text-center",children:xe}),t.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),ye(v.index,ue)},className:"bg-primary text-white px-2 py-1 rounded-md hover:bg-primary-dark transition-all text-xs flex items-center justify-center min-w-[28px]","aria-label":"Increase",children:t.jsx(js,{className:"text-xs"})})]}):t.jsxs("button",{onClick:Ne=>{Ne.stopPropagation(),ye(v.index,ue)},className:"w-full bg-primary text-white px-3 py-1.5 rounded-md font-medium text-xs hover:bg-primary-dark transition-all flex items-center justify-center gap-1",children:[t.jsx(js,{className:"text-xs"}),t.jsx("span",{children:"Add"})]})]},ue)})})]}),(()=>{const L=B(v.addon),ue=b[v.index]||0;return t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h3",{className:"text-base font-semibold text-gray-900 flex items-center gap-2",children:[t.jsx(Td,{className:"text-primary"}),t.jsx("span",{children:"Price Breakdown"})]}),ue>0&&t.jsxs("span",{className:"bg-primary text-white text-xs font-semibold px-2 py-1 rounded-full",children:[ue," in cart"]})]}),t.jsxs("div",{className:"space-y-2 bg-white rounded-lg p-3 border border-gray-100 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Base Price:"}),t.jsxs("span",{className:"font-semibold text-gray-900",children:["",Math.round(L.basePrice).toLocaleString("en-IN")]})]}),L.discount>0&&t.jsxs("div",{className:"flex justify-between bg-green-50 rounded px-2 py-1",children:[t.jsxs("span",{className:"text-green-700 font-medium flex items-center gap-1",children:[t.jsx(SX,{className:"text-xs"}),"Discount (",L.discount,"%):"]}),t.jsxs("span",{className:"font-semibold text-green-700",children:["-",Math.round(L.discountAmount).toLocaleString("en-IN")]})]}),L.serviceCharge>0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Service Charge:"}),t.jsxs("span",{className:"font-semibold text-gray-900",children:["+",Math.round(L.serviceCharge).toLocaleString("en-IN")]})]}),(L.cgst>0||L.sgst>0)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-gray-600",children:["GST (",L.cgst+L.sgst,"%):"]}),t.jsxs("span",{className:"font-semibold text-gray-900",children:["+",Math.round(L.gstAmount).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"flex justify-between pt-2 mt-2 border-t border-gray-200",children:[t.jsx("span",{className:"font-bold text-gray-900",children:"Total:"}),t.jsxs("span",{className:"text-xl font-black text-primary",children:["",Math.round(L.finalPrice).toLocaleString("en-IN")]})]})]})]})})(),v.addon.included&&v.addon.included.length>0||v.addon.excluded&&v.addon.excluded.length>0?t.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[v.addon.included&&v.addon.included.length>0&&t.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[t.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(Ue,{className:"text-green-500 text-sm"}),t.jsx("span",{children:"Included"})]}),t.jsx("ul",{className:"space-y-1.5",children:v.addon.included.map((L,ue)=>t.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-700",children:[t.jsx(Ue,{className:"text-green-500 text-xs mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"flex-1",children:L})]},ue))})]}),v.addon.excluded&&v.addon.excluded.length>0&&t.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[t.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(Kt,{className:"text-red-500 text-sm"}),t.jsx("span",{children:"Not Included"})]}),t.jsx("ul",{className:"space-y-1.5",children:v.addon.excluded.map((L,ue)=>t.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-700",children:[t.jsx(Kt,{className:"text-red-500 text-xs mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"flex-1",children:L})]},ue))})]})]}):null]})]})]})}),S&&t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay cart-modal",style:{zIndex:9200},onClick:()=>k(!1),children:t.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:L=>L.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-primary via-primary-dark to-primary px-6 py-5 flex items-center justify-between z-20",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(Fi,{className:"text-white text-xl"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Shopping Cart"}),t.jsxs("p",{className:"text-white/90 text-sm",children:[G()," items"]})]})]}),t.jsx("button",{onClick:()=>k(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition text-white",children:t.jsx(Kt,{className:"text-xl"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:G()===0?t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Fi,{className:"w-12 h-12 text-gray-400"})}),t.jsx("p",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Your cart is empty"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Add services to get started"})]}):t.jsxs(t.Fragment,{children:[_.subServices&&_.subServices.filter(L=>p[L._id]>0).map(L=>{const ue=p[L._id],ee=L.finalPrice||L.basePrice||L.price||0,fe=L.originalPrice||L.price||0,xe=fe>ee,ve=Rn(L.icon||"FaTools");return t.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-gray-50 to-white border-2 border-gray-200 rounded-xl p-4 hover:shadow-lg transition-all",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(ve,{className:"w-6 h-6 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-base font-bold text-gray-900 mb-1",children:L.name}),L.description&&t.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:L.description}),t.jsxs("div",{className:"flex items-center justify-between mt-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>pe(L._id),className:"w-8 h-8 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded-lg transition",children:t.jsx(Fn,{className:"text-xs text-gray-700"})}),t.jsx("span",{className:"w-12 text-center font-bold text-sm text-gray-900",children:ue}),t.jsx("button",{onClick:()=>te(L._id),className:"w-8 h-8 flex items-center justify-center bg-primary/10 hover:bg-primary/20 rounded-lg transition",children:t.jsx(js,{className:"text-xs text-primary"})})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-lg font-black text-primary",children:["",Math.round(ee*ue).toLocaleString("en-IN")]}),xe&&t.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(fe*ue).toLocaleString("en-IN")]})]})]})]})]})},`sub-${L._id}`)}),_.addOns&&_.addOns.map((L,ue)=>{const ee=b[ue]||0;if(ee===0)return null;const fe=B(L),xe=Rn(L.icon||"FaTools");return t.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-primary/5 to-primary/10 border-2 border-primary/20 rounded-xl p-4 hover:shadow-lg transition-all",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary-dark rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:t.jsx(xe,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-base font-bold text-gray-900 mb-1",children:L.name}),L.description&&t.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:L.description}),t.jsxs("div",{className:"flex items-center justify-between mt-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>W(ue),className:"w-8 h-8 flex items-center justify-center bg-white hover:bg-gray-100 rounded-lg transition border border-primary/20",children:t.jsx(Fn,{className:"text-xs text-gray-700"})}),t.jsx("span",{className:"w-12 text-center font-bold text-sm text-primary",children:ee}),t.jsx("button",{onClick:()=>Qe(ue),className:"w-8 h-8 flex items-center justify-center bg-primary hover:bg-primary-dark rounded-lg transition text-white",children:t.jsx(js,{className:"text-xs"})})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-lg font-black text-primary",children:["",Math.round(fe.finalPrice*ee).toLocaleString("en-IN")]}),fe.originalTotalPrice>0&&fe.originalTotalPrice!==fe.finalPrice&&t.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(fe.originalTotalPrice*ee).toLocaleString("en-IN")]})]})]})]})]})},`addon-${ue}`)}).filter(L=>L!==null),_.addOns&&_.addOns.map((L,ue)=>{var fe;const ee=((fe=L.subServices)==null?void 0:fe.filter((xe,ve)=>{const Ne=`${ue}-${ve}`;return w[Ne]>0}))||[];return ee.length===0?null:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-primary/30 to-transparent"}),t.jsxs("span",{className:"text-xs font-bold text-primary uppercase tracking-wide px-3",children:[L.name," - Sub Services"]}),t.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-primary/30 to-transparent"})]}),ee.map((xe,ve)=>{const Ne=`${ue}-${ve}`,Ke=w[Ne]||0;if(Ke===0)return null;const dt=xe.price||"0",ke=parseFloat(dt.replace(/[,\s]/g,""))||0,Re=Rn(xe.icon||"FaTools");return t.jsx(E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-gradient-to-br from-primary/5 to-white border-2 border-primary/10 rounded-xl p-4 hover:shadow-md transition-all ml-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(Re,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h5",{className:"text-sm font-bold text-gray-900 mb-1",children:xe.name}),xe.shortDescription&&t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:xe.shortDescription}),t.jsxs("div",{className:"flex items-center justify-between mt-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>he(ue,ve),className:"w-7 h-7 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded-lg transition",children:t.jsx(Fn,{className:"text-xs text-gray-700"})}),t.jsx("span",{className:"w-10 text-center font-bold text-xs text-gray-900",children:Ke}),t.jsx("button",{onClick:()=>ye(ue,ve),className:"w-7 h-7 flex items-center justify-center bg-primary/10 hover:bg-primary/20 rounded-lg transition",children:t.jsx(js,{className:"text-xs text-primary"})})]}),t.jsxs("p",{className:"text-base font-black text-primary",children:["",Math.round(ke*Ke).toLocaleString("en-IN")]})]})]})]})},Ne)})]},`addon-subservices-${ue}`)})]})}),G()>0&&t.jsxs("div",{className:"border-t-2 border-gray-200 bg-gradient-to-br from-gray-50 to-white p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Grand Total"}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-3xl font-black text-primary",children:["",Math.round(V()).toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[G()," items"]})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>k(!1),className:"flex-1 px-6 py-3.5 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-all",children:"Continue Shopping"}),O()?t.jsxs("button",{onClick:()=>{k(!1),Se()},className:"flex-1 bg-gradient-to-r from-primary to-primary-dark text-white px-6 py-3.5 rounded-xl font-bold hover:shadow-xl transition-all flex items-center justify-center gap-2 shadow-lg",children:[t.jsx(Fi,{className:"w-5 h-5"}),t.jsx("span",{children:"Book Now"})]}):t.jsxs("div",{className:"flex-1 bg-gray-400 text-white px-6 py-3.5 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg cursor-not-allowed",children:[t.jsx(Kt,{className:"w-5 h-5"}),t.jsxs("span",{children:["Not Available in ",(P==null?void 0:P.name)||"Your City"]})]})]})]})]})})]})},hj=({isOpen:e,onClose:r,type:s="info",title:a,message:n,confirmText:i="OK",onConfirm:l,showCancel:o=!1,cancelText:d="Cancel"})=>{const c={success:t.jsx(Ue,{className:"w-12 h-12 text-green-500"}),error:t.jsx(Kt,{className:"w-12 h-12 text-red-500"}),warning:t.jsx(id,{className:"w-12 h-12 text-yellow-500"}),info:t.jsx(Wp,{className:"w-12 h-12 text-blue-500"})},u={success:"from-green-500 to-green-600",error:"from-red-500 to-red-600",warning:"from-yellow-500 to-yellow-600",info:"from-primary to-primary-dark"},m=()=>{l&&l(),r()};return t.jsx(wl,{children:e&&t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 custom-alert",onClick:r,children:t.jsxs(E.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",duration:.5},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:x=>x.stopPropagation(),children:[t.jsxs("div",{className:`bg-gradient-to-r ${u[s]} p-6 relative`,children:[t.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-white/80 hover:text-white transition",children:t.jsx(Rl,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex flex-col items-center text-white",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"mb-3",children:c[s]}),a&&t.jsx("h3",{className:"text-xl font-bold text-center",children:a})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:t.jsx("div",{className:"text-gray-700 leading-relaxed",children:typeof n=="string"?t.jsx("p",{className:"text-center",children:n}):n})}),t.jsx("div",{className:"flex-shrink-0 px-6 pb-6 border-t border-gray-100",children:o?t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:r,className:"flex-1 bg-slate-200 text-slate-700 py-3 rounded-xl font-bold hover:bg-slate-300 transition transform hover:scale-105",children:d}),t.jsx("button",{onClick:m,className:`flex-1 bg-gradient-to-r ${u[s]} text-white py-3 rounded-xl font-bold hover:shadow-lg transition transform hover:scale-105`,children:i})]}):t.jsx("button",{onClick:m,className:`w-full bg-gradient-to-r ${u[s]} text-white py-3 rounded-xl font-bold hover:shadow-lg transition transform hover:scale-105`,children:i})})]})})})},mo="http://localhost:9088",_Q=()=>{var Re,Tt,Rt;const e=Zt(),r=$r(),{serviceName:s}=fm(),{user:a,isAuthenticated:n}=nn(),i=()=>{var ie;const be=(ie=r.state)==null?void 0:ie.cartData;if(be)return sessionStorage.setItem("checkoutCartData",JSON.stringify(be)),be;const T=sessionStorage.getItem("checkoutCartData");return T?JSON.parse(T):{}},l=()=>{var ie;const be=(ie=r.state)==null?void 0:ie.serviceData;if(be)return sessionStorage.setItem("checkoutServiceData",JSON.stringify(be)),be;const T=sessionStorage.getItem("checkoutServiceData");return T?JSON.parse(T):{}},[o]=g.useState(i()),[d]=g.useState(l()),[c,u]=g.useState(!1),[m,x]=g.useState([]),[h,p]=g.useState(null),[f,b]=g.useState(!1),[j,w]=g.useState(!1),[y,v]=g.useState({isOpen:!1,type:"info",title:"",message:""}),[N,S]=g.useState(0),[k,P]=g.useState(!1),[C,I]=g.useState(0),[A,O]=g.useState(""),[R,Z]=g.useState(!1),[Y,ce]=g.useState(!1),[D,z]=g.useState([]),[se,K]=g.useState(null),[_,M]=g.useState(!1),[F,B]=g.useState({isOpen:!1,plan:null,addressData:null}),q=()=>{const be=sessionStorage.getItem("checkoutFormData");return be?JSON.parse(be):{name:(a==null?void 0:a.name)||"",email:(a==null?void 0:a.email)||"",phone:(a==null?void 0:a.phone)||"",bookingDate:"",bookingTime:"",address:"",landmark:"",pincode:"",specialInstructions:""}},[ae,V]=g.useState(q());g.useEffect(()=>{n&&a&&(G(),te(),pe())},[n,a]),g.useEffect(()=>{a&&!ae.name&&!ae.email&&!ae.phone&&V(be=>{const T={...be,name:be.name||a.name||"",email:be.email||a.email||"",phone:be.phone||a.phone||""};return sessionStorage.setItem("checkoutFormData",JSON.stringify(T)),T})},[a]),g.useEffect(()=>()=>{performance.navigation.type!==1&&(sessionStorage.removeItem("checkoutCartData"),sessionStorage.removeItem("checkoutServiceData"),sessionStorage.removeItem("checkoutFormData"))},[]);const G=async()=>{try{const be=localStorage.getItem("userToken"),T=await Pt.get(`${mo}/api/user/addresses`,{headers:{Authorization:`Bearer ${be}`}});if(T.data.success){x(T.data.data||[]);const ie=sessionStorage.getItem("checkoutFormData"),Te=ie&&JSON.parse(ie).address;if(T.data.data&&T.data.data.length>0&&!Te){const qe=T.data.data[0];p(qe),V(At=>{const ft={...At,address:qe.address||"",landmark:qe.landmark||"",pincode:qe.pincode||""};return sessionStorage.setItem("checkoutFormData",JSON.stringify(ft)),ft})}}}catch(be){console.error("Error fetching addresses:",be)}},te=async()=>{var be;try{const T=localStorage.getItem("userToken");console.log(" Fetching wallet balance for user:",a._id),console.log(" API URL:",`${mo}/api/user/wallet/${a._id}`);const ie=await Pt.get(`${mo}/api/user/wallet/${a._id}`,{headers:{Authorization:`Bearer ${T}`}});if(console.log(" Wallet response:",ie.data),ie.data.success){const Te=ie.data.data.balance||0;console.log(" Wallet balance:",Te),S(Te)}else console.warn(" Wallet fetch unsuccessful:",ie.data),S(0)}catch(T){console.error(" Error fetching wallet balance:",T),console.error(" Error details:",(be=T.response)==null?void 0:be.data),S(0)}},pe=async()=>{try{M(!0);const T=await(await fetch(`${mo}/api/amc-plans`)).json();if(T.success&&T.data){const ie=ye(T.data);z(ie)}}catch(be){console.error("Error fetching AMC plans:",be)}finally{M(!1)}},ye=be=>{if(!a)return be.slice(0,2);const T=a.userType||"home";return be.filter(Te=>T==="company"?Te.planType==="business"||Te.planType==="corporate":T==="pg"?Te.planType==="business"||Te.planType==="individual":Te.planType==="individual"||Te.planType==="business").slice(0,3)},he=()=>{var ie,Te;const be=xe();if(be<500||(ie=a==null?void 0:a.amcSubscription)!=null&&ie.isActive)return!1;if((a==null?void 0:a.userType)==="company"||be>1e3)return!0;const T=((Te=d==null?void 0:d.name)==null?void 0:Te.toLowerCase())||"";return T.includes("ac")||T.includes("electrical")||T.includes("plumbing"),!0},Qe=be=>{const T=xe();if(!T||T===0)return 0;const Te=T*4-be.price;return Math.max(0,Te)},W=be=>{K(be)},Ie=async be=>{var At,ft,pt,ge,U,de,Ve,Je;console.log(" Form Data:",ae),console.log(" Selected Address:",h);const T=[],ie=((At=ae.pincode)==null?void 0:At.trim())||((ft=h==null?void 0:h.pincode)==null?void 0:ft.trim())||"",Te=((pt=ae.address)==null?void 0:pt.trim())||((ge=h==null?void 0:h.address)==null?void 0:ge.trim())||"",qe=((U=ae.landmark)==null?void 0:U.trim())||((de=h==null?void 0:h.landmark)==null?void 0:de.trim())||"";if((Ve=ae.name)!=null&&Ve.trim()||T.push("Name"),(Je=ae.phone)!=null&&Je.trim()||T.push("Phone Number"),Te||T.push("Service Address"),ie||T.push("Pincode"),T.length>0){ee("warning","Missing Information",`Please fill in the following fields before subscribing to AMC plan: ${T.join(", ")}`);return}if(!h&&!ae.address){ee("warning","Address Required","Please select or add a complete service address before subscribing to AMC plan");return}if(!n||!a){ee("error","Authentication Required","Please login to subscribe to AMC plans");return}B({isOpen:!0,plan:be,addressData:{address:Te,landmark:qe,pincode:ie,customerName:ae.name,customerPhone:ae.phone,customerEmail:ae.email}})},Se=async()=>{var ie,Te,qe,At,ft;const{plan:be,addressData:T}=F;B({isOpen:!1,plan:null,addressData:null}),u(!0);try{const pt=localStorage.getItem("userToken"),ge={userId:a._id,serviceName:"AMC Subscription",serviceData:{name:`${be.name} - AMC Plan`,description:be.description||"Annual Maintenance Contract",price:be.price},cartData:{items:[{type:"amc-plan",id:be._id,name:be.name,quantity:1,price:be.price,total:be.price}],total:be.price},customerDetails:{name:T.customerName,email:T.customerEmail,phone:T.customerPhone},address:{address:T.address,landmark:T.landmark,pincode:T.pincode},scheduledDate:new Date().toISOString().split("T")[0],scheduledTime:"10:00 AM",specialInstructions:`AMC Plan Subscription: ${be.name}. Address: ${T.address}, ${T.landmark}, ${T.pincode}. Plan Features: ${((ie=be.features)==null?void 0:ie.join(", "))||"Standard AMC benefits"}`,amount:be.price,useWallet:!1,walletAmount:0,isAMCSubscription:!0,amcPlanDetails:{planId:be._id,planName:be.name,planType:be.planType,duration:be.duration||12,features:be.features||[],includedServices:be.includedServices||[]}},U=await Pt.post(`${mo}/api/user/service-booking/create`,ge,{headers:{Authorization:`Bearer ${pt}`}});if(U.data.success){console.log(" AMC subscription order created, initiating PayU payment..."),console.log("PayU Data:",U.data.payuData);const de=U.data.payuData;if(!de||!de.action||!de.params){console.error(" Invalid PayU data received:",de),ee("error","Payment Error","Invalid payment data received. Please try again."),u(!1);return}K(be),ee("success","AMC Subscription Processing!",`${be.name} subscription initiated. Redirecting to payment...`),setTimeout(()=>{const Ve=document.createElement("form");Ve.method="POST",Ve.action=de.action,console.log("PayU Action URL:",de.action),console.log("PayU Params:",de.params),Object.keys(de.params).forEach(Je=>{const Ge=document.createElement("input");Ge.type="hidden",Ge.name=Je,Ge.value=de.params[Je],Ve.appendChild(Ge),console.log(`  ${Je}: ${de.params[Je]}`)}),document.body.appendChild(Ve),console.log(" Submitting PayU form for AMC subscription..."),Ve.submit()},1500)}else console.error(" AMC subscription order creation failed:",U.data),ee("error","Subscription Failed",U.data.message||"Failed to create AMC subscription order"),u(!1)}catch(pt){console.error("AMC subscription error:",pt),((Te=pt.response)==null?void 0:Te.status)===404?ee("error","Service Unavailable","AMC subscription service is currently unavailable. Please try again later or contact support."):((qe=pt.response)==null?void 0:qe.status)===401?ee("error","Authentication Error","Please login again to subscribe to AMC plans."):ee("error","Subscription Failed",((ft=(At=pt.response)==null?void 0:At.data)==null?void 0:ft.message)||"Failed to process AMC subscription. Please try again."),u(!1)}},we=be=>{const{name:T,value:ie}=be.target;V(Te=>{const qe={...Te,[T]:ie};return sessionStorage.setItem("checkoutFormData",JSON.stringify(qe)),qe})},L=be=>{p(be),V(T=>{const ie={...T,address:be.address||"",landmark:be.landmark||"",pincode:be.pincode||""};return sessionStorage.setItem("checkoutFormData",JSON.stringify(ie)),ie}),b(!1)},ue=async()=>{var be,T;if(!ae.address||!ae.pincode){ee("warning","Missing Information","Please fill in address and pincode");return}ce(!0);try{const ie=localStorage.getItem("userToken"),Te={address:ae.address,landmark:ae.landmark,pincode:ae.pincode};(await Pt.post(`${mo}/api/user/addresses`,Te,{headers:{Authorization:`Bearer ${ie}`}})).data.success&&(ee("success","Address Saved!","Your address has been saved successfully"),await G(),b(!1))}catch(ie){console.error("Error saving address:",ie),ee("error","Save Failed",((T=(be=ie.response)==null?void 0:be.data)==null?void 0:T.message)||"Failed to save address")}finally{ce(!1)}},ee=(be,T,ie)=>{v({isOpen:!0,type:be,title:T,message:ie})},fe=()=>{if(!navigator.geolocation){ee("error","Not Supported","Geolocation is not supported by your browser");return}w(!0),navigator.geolocation.getCurrentPosition(async be=>{var Te,qe,At;const{latitude:T,longitude:ie}=be.coords;try{const pt=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${T}&lon=${ie}&addressdetails=1`)).json();if(pt&&pt.display_name){const ge=pt.display_name,U=((Te=pt.address)==null?void 0:Te.postcode)||"",de=((qe=pt.address)==null?void 0:qe.suburb)||((At=pt.address)==null?void 0:At.neighbourhood)||"";V(Ve=>{const Je={...Ve,address:ge,landmark:de,pincode:U};return sessionStorage.setItem("checkoutFormData",JSON.stringify(Je)),Je}),p(null),b(!0),ee("success","Location Detected!","Please verify and update the address if needed.")}else ee("warning","Address Not Found","Could not get address from your location. Please enter manually.")}catch(ft){console.error("Error getting address:",ft),ee("error","Location Error","Failed to get address from location. Please enter manually.")}finally{w(!1)}},be=>{switch(console.error("Geolocation error:",be),w(!1),be.code){case be.PERMISSION_DENIED:ee("error","Permission Denied","Please enable location access in your browser settings.");break;case be.POSITION_UNAVAILABLE:ee("error","Location Unavailable","Location information is unavailable.");break;case be.TIMEOUT:ee("error","Request Timeout","Location request timed out.");break;default:ee("error","Location Error","An error occurred while getting your location.")}},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},xe=()=>o.total||0,ve=()=>{const be=xe(),T=Math.round(be*.18),ie=be+T;return k&&C>0?Math.max(0,ie-C):ie},Ne=()=>{const be=!k;if(P(be),be){const T=Math.round(xe()*1.18),ie=Math.min(N,T);I(ie),O(""),Z(!1)}else I(0),O(""),Z(!1)},Ke=be=>{const T=parseFloat(be)||0,ie=Math.round(xe()*1.18),Te=Math.min(N,ie);T>Te?(O(Te.toString()),I(Te)):T<0?(O("0"),I(0)):(O(be),I(T))},dt=async be=>{var ie,Te;if(be.preventDefault(),!ae.name||!ae.phone||!ae.bookingDate||!ae.bookingTime||!ae.address){ee("warning","Missing Information","Please fill all required fields");return}const T=ve();if(k&&T===0){ee("info","Wallet Payment","Full payment will be deducted from wallet"),await ke();return}u(!0);try{const qe=localStorage.getItem("userToken"),At={userId:a._id,serviceName:s,serviceData:d,cartData:o,customerDetails:{name:ae.name,email:ae.email,phone:ae.phone},address:{address:ae.address,landmark:ae.landmark,pincode:ae.pincode},scheduledDate:ae.bookingDate,scheduledTime:ae.bookingTime,specialInstructions:ae.specialInstructions,amount:xe(),useWallet:k,walletAmount:C},ft=await Pt.post(`${mo}/api/user/service-booking/create`,At,{headers:{Authorization:`Bearer ${qe}`}});if(ft.data.success){console.log(" Booking created, initiating PayU payment..."),console.log("PayU Data:",ft.data.payuData);const pt=ft.data.payuData;if(!pt||!pt.action||!pt.params){console.error(" Invalid PayU data received:",pt),ee("error","Payment Error","Invalid payment data received. Please try again."),u(!1);return}const ge=document.createElement("form");ge.method="POST",ge.action=pt.action,console.log("PayU Action URL:",pt.action),console.log("PayU Params:",pt.params),Object.keys(pt.params).forEach(U=>{const de=document.createElement("input");de.type="hidden",de.name=U,de.value=pt.params[U],ge.appendChild(de),console.log(`  ${U}: ${pt.params[U]}`)}),document.body.appendChild(ge),console.log(" Submitting PayU form..."),ge.submit()}else console.error(" Booking creation failed:",ft.data),ee("error","Booking Failed",ft.data.message||"Failed to create booking"),u(!1)}catch(qe){console.error("Booking error:",qe),ee("error","Booking Failed",((Te=(ie=qe.response)==null?void 0:ie.data)==null?void 0:Te.message)||"Failed to create booking. Please try again."),u(!1)}},ke=async()=>{var be,T;u(!0);try{const ie=localStorage.getItem("userToken"),Te={userId:a._id,serviceName:s,serviceData:d,cartData:o,customerDetails:{name:ae.name,email:ae.email,phone:ae.phone},address:{address:ae.address,landmark:ae.landmark,pincode:ae.pincode},scheduledDate:ae.bookingDate,scheduledTime:ae.bookingTime,specialInstructions:ae.specialInstructions,amount:xe(),useWallet:!0,walletAmount:C,paymentMode:"wallet"};(await Pt.post(`${mo}/api/user/service-booking/create-wallet-payment`,Te,{headers:{Authorization:`Bearer ${ie}`}})).data.success&&(sessionStorage.removeItem("checkoutCartData"),sessionStorage.removeItem("checkoutServiceData"),sessionStorage.removeItem("checkoutFormData"),ee("success","Booking Confirmed!","Your booking has been confirmed and payment deducted from wallet."),setTimeout(()=>{e("/user/dashboard/bookings")},2e3))}catch(ie){console.error("Wallet payment error:",ie),ee("error","Payment Failed",((T=(be=ie.response)==null?void 0:be.data)==null?void 0:T.message)||"Failed to process wallet payment."),u(!1)}};return n?!o.items||o.items.length===0?(e(`/service/${s}`),null):t.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-primary hover:text-primary-dark transition mb-4",children:[t.jsx(lj,{}),t.jsx("span",{children:"Back to Service"})]}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Checkout"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Complete your booking details"})]}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-md p-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(Dc,{className:"text-primary"}),"Customer Details"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),t.jsx("input",{type:"text",name:"name",value:ae.name,onChange:we,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),t.jsx("input",{type:"tel",name:"phone",value:ae.phone,onChange:we,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),t.jsx("input",{type:"email",name:"email",value:ae.email,onChange:we,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-md p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx(Fl,{className:"text-primary"}),"Service Address"]}),t.jsx("button",{onClick:fe,disabled:j,className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:j?t.jsxs(t.Fragment,{children:[t.jsx(ss,{className:"animate-spin"}),t.jsx("span",{children:"Getting Location..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(jX,{}),t.jsx("span",{children:"Use Current Location"})]})})]}),m.length>0&&!f&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("p",{className:"text-sm font-semibold text-gray-700",children:["Saved Addresses (",m.length,")"]}),t.jsxs("button",{onClick:()=>b(!0),className:"text-primary hover:text-primary-dark font-medium text-sm flex items-center gap-1",children:[t.jsx("span",{className:"text-lg",children:"+"}),t.jsx("span",{children:"Add New"})]})]}),t.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto pr-2",children:m.map((be,T)=>t.jsxs("div",{onClick:()=>L(be),className:`relative p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${(h==null?void 0:h._id)===be._id?"border-primary bg-primary/5 shadow-md":"border-gray-200 hover:border-primary/50 hover:shadow-sm"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${be.addressType==="Home"?"bg-blue-100 text-blue-800":be.addressType==="Work"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:be.addressType||"Other"}),(h==null?void 0:h._id)===be._id&&t.jsx(Ue,{className:"text-primary text-lg"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"font-medium text-gray-900 leading-snug",children:be.address}),t.jsxs("div",{className:"flex flex-wrap gap-3 mt-2",children:[be.landmark&&t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx(Fl,{className:"text-xs text-gray-400"}),t.jsx("span",{children:be.landmark})]}),be.pincode&&t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium",children:"PIN:"}),t.jsx("span",{children:be.pincode})]})]})]}),(h==null?void 0:h._id)===be._id&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-primary rounded-b-lg"})]},be._id))})]}),(f||m.length===0)&&t.jsxs("div",{className:"space-y-4",children:[m.length>0&&t.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-200",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Add New Address"}),t.jsx("button",{type:"button",onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complete Address *"}),t.jsx("textarea",{name:"address",value:ae.address,onChange:we,rows:"3",placeholder:"House/Flat No., Building Name, Street, Area, City",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent resize-none",required:!0})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landmark (Optional)"}),t.jsx("input",{type:"text",name:"landmark",value:ae.landmark,onChange:we,placeholder:"e.g., Near City Mall",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode *"}),t.jsx("input",{type:"text",name:"pincode",value:ae.pincode,onChange:we,placeholder:"e.g., 123456",maxLength:"6",pattern:"[0-9]{6}",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]})]}),t.jsxs("div",{className:"flex items-center gap-3 pt-3 border-t border-gray-100",children:[t.jsx("button",{type:"button",onClick:ue,disabled:Y||!ae.address||!ae.pincode,className:"flex items-center gap-2 px-5 py-2.5 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-medium disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md",children:Y?t.jsxs(t.Fragment,{children:[t.jsx(ss,{className:"animate-spin"}),t.jsx("span",{children:"Saving..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ue,{}),t.jsx("span",{children:"Save Address"})]})}),m.length>0&&t.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-5 py-2.5 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg font-medium transition",children:"Cancel"}),m.length===0&&t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 ml-2",children:[t.jsx(Wp,{className:"text-blue-500"}),t.jsx("span",{children:"Save this address for faster checkout next time"})]})]})]})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-md p-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(oX,{className:"text-primary"}),"Schedule Service"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Booking Date *"}),t.jsx("input",{type:"date",name:"bookingDate",value:ae.bookingDate,onChange:we,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Time Slot *"}),t.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2",children:["9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM","3:30 PM","4:00 PM","4:30 PM","5:00 PM","5:30 PM","6:00 PM","6:30 PM","7:00 PM"].map(be=>{const T=(()=>{if(!ae.bookingDate)return!1;const ie=new Date(ae.bookingDate),Te=new Date;if(Te.setHours(0,0,0,0),ie.setHours(0,0,0,0),ie.getTime()!==Te.getTime())return!1;const[qe,At]=be.split(" ");let[ft,pt]=qe.split(":").map(Number);At==="PM"&&ft!==12&&(ft+=12),At==="AM"&&ft===12&&(ft=0);const ge=new Date;ge.setHours(ft,pt,0,0);const U=new Date,de=new Date(U.getTime()+60*60*1e3);return ge<=de})();return t.jsx("button",{type:"button",onClick:()=>!T&&V(ie=>{const Te={...ie,bookingTime:be};return sessionStorage.setItem("checkoutFormData",JSON.stringify(Te)),Te}),disabled:T,className:`px-3 py-2 rounded-lg text-sm font-medium transition ${T?"bg-gray-200 text-gray-400 cursor-not-allowed":ae.bookingTime===be?"bg-primary text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:be},be)})}),ae.bookingTime&&t.jsxs("p",{className:"mt-2 text-sm text-green-600 flex items-center gap-1",children:[t.jsx(Ue,{}),"Selected: ",ae.bookingTime]}),ae.bookingDate&&new Date(ae.bookingDate).toDateString()===new Date().toDateString()&&t.jsxs("p",{className:"mt-2 text-sm text-amber-600",children:[" Time slots before ",new Date(new Date().getTime()+60*60*1e3).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})," are disabled"]})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Instructions (Optional)"}),t.jsx("textarea",{name:"specialInstructions",value:ae.specialInstructions,onChange:we,rows:"3",placeholder:"Any specific requirements or instructions...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})]}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-md p-6 sticky top-24",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(Fi,{className:"text-primary"}),"Order Summary"]}),t.jsx("div",{className:"space-y-3 mb-4 max-h-64 overflow-y-auto",children:(Re=o.items)==null?void 0:Re.map((be,T)=>t.jsxs("div",{className:"flex justify-between items-start text-sm border-b border-gray-100 pb-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-900",children:be.name}),t.jsxs("p",{className:"text-gray-500 text-xs",children:["Qty: ",be.quantity]})]}),t.jsxs("p",{className:"font-semibold text-gray-900",children:["",be.total]})]},T))}),he()&&D.length>0&&t.jsxs("div",{className:"border-t border-gray-200 pt-4 mb-4",children:[t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-3 mb-4 border border-green-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qo,{className:"text-green-600 text-lg"}),t.jsx("h3",{className:"text-sm font-bold text-gray-900",children:" Save with AMC Plans"})]}),t.jsx("span",{className:"text-xs text-green-700 font-medium",children:"Available Plans"})]}),t.jsx("p",{className:"text-xs text-green-700",children:"Subscribe to annual maintenance contracts with your service address"})]}),t.jsx("div",{className:"space-y-3",children:D.slice(0,2).map((be,T)=>{var At,ft,pt,ge;const ie=Qe(be),Te=ie>0?Math.round(ie/(xe()*4)*100):0,qe=(se==null?void 0:se._id)===be._id;return t.jsxs("div",{onClick:()=>W(be),className:`relative p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 ${qe?"border-primary bg-primary/5 shadow-lg transform scale-[1.02]":"border-gray-200 hover:border-primary/50 hover:shadow-md"}`,children:[be.highlight&&t.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-orange-400 to-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:" POPULAR"}),t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("h4",{className:"text-sm font-bold text-gray-900",children:be.name}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${be.planType==="corporate"?"bg-purple-100 text-purple-700":be.planType==="business"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:((At=be.planType)==null?void 0:At.charAt(0).toUpperCase())+((ft=be.planType)==null?void 0:ft.slice(1))||"Standard"})]}),t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:be.description})]}),t.jsxs("div",{className:"text-right ml-3",children:[t.jsxs("p",{className:"text-lg font-bold text-primary",children:["",be.price.toLocaleString("en-IN")]}),t.jsx("p",{className:"text-xs text-gray-500",children:"/year"}),ie>0&&t.jsxs("div",{className:"mt-1",children:[t.jsxs("p",{className:"text-xs text-green-600 font-bold",children:["Save ",ie.toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-green-600",children:["(",Te,"% off)"]})]})]})]}),t.jsx("div",{className:"mb-3",children:t.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[(pt=be.features)==null?void 0:pt.slice(0,3).map((U,de)=>t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[t.jsx(Ue,{className:"text-green-500 text-xs flex-shrink-0"}),t.jsx("span",{className:"truncate",children:U})]},de)),((ge=be.features)==null?void 0:ge.length)>3&&t.jsxs("div",{className:"text-xs text-gray-500 ml-4",children:["+",be.features.length-3," more benefits"]})]})}),t.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[qe?t.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary font-bold",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Selected for Subscription"})]}):t.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:t.jsx("span",{children:"Click to select this plan"})}),t.jsx("button",{onClick:U=>{U.stopPropagation(),Ie(be)},className:"text-xs bg-primary text-white px-3 py-1.5 rounded-lg hover:bg-primary-dark transition font-medium",children:"Subscribe Now"})]})]},be._id||T)})}),se&&t.jsx("div",{className:"mt-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border-2 border-green-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx(Ue,{className:"text-white text-lg"})}),t.jsxs("div",{children:[t.jsxs("h4",{className:"text-sm font-bold text-green-800 mb-1",children:[se.name," Selected"]}),t.jsx("p",{className:"text-xs text-green-700 mb-2",children:"Annual maintenance contract with service address registration"}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-green-700",children:[t.jsxs("span",{children:[" Save ",Qe(se).toLocaleString("en-IN")," annually"]}),t.jsx("span",{children:" Address included"})]})]})]}),t.jsx("button",{onClick:()=>Ie(se),className:"bg-green-600 text-white px-4 py-2 rounded-lg text-xs font-bold hover:bg-green-700 transition shadow-md",children:"Subscribe Now"})]})}),t.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg border border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[t.jsx(Wp,{className:"text-blue-500"}),t.jsx("span",{children:"AMC subscription includes your service address for future maintenance"})]}),t.jsx("span",{className:"text-xs text-primary font-medium",children:"Select plan above to subscribe"})]})})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Subtotal"}),t.jsxs("span",{className:"font-medium",children:["",xe()]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"GST (18%)"}),t.jsxs("span",{className:"font-medium",children:["",Math.round(xe()*.18)]})]}),n&&t.jsxs("div",{className:"pt-3 border-t border-gray-200 mt-3",children:[t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-3 mb-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(tm,{className:"text-green-600 text-lg"}),t.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"Wallet Balance"})]}),t.jsxs("span",{className:`text-base font-bold ${N>0?"text-green-600":"text-gray-500"}`,children:["",N.toFixed(2)]})]}),N>0?t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx("input",{type:"checkbox",id:"useWallet",checked:k,onChange:Ne,className:"w-4 h-4 text-primary focus:ring-primary border-gray-300 rounded cursor-pointer"}),t.jsx("label",{htmlFor:"useWallet",className:"text-sm font-medium text-gray-700 cursor-pointer flex-1",children:"Apply wallet balance to this order"})]}):t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"No balance available. Add money to your wallet!"}),t.jsx("button",{type:"button",onClick:()=>e("/user/dashboard/wallet"),className:"text-xs text-primary hover:text-primary-dark font-medium underline",children:"Add Money to Wallet"})]})]}),k&&t.jsxs("div",{className:"space-y-2 animate-fade-in",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Amount to use:"}),t.jsx("button",{onClick:()=>Z(!R),className:"text-xs text-primary hover:text-primary-dark font-medium",children:R?"Use Maximum":"Use Custom Amount"})]}),R?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:""}),t.jsx("input",{type:"number",value:A,onChange:be=>Ke(be.target.value),placeholder:"Enter amount",min:"0",max:Math.min(N,Math.round(xe()*1.18)),className:"flex-1 px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}):t.jsxs("div",{className:"flex justify-between items-center bg-green-50 rounded-lg px-3 py-2",children:[t.jsx("span",{className:"text-sm font-medium text-green-700",children:"Wallet Deduction"}),t.jsxs("span",{className:"text-base font-bold text-green-600",children:["-",C.toFixed(2)]})]}),C>=Math.round(xe()*1.18)&&t.jsxs("div",{className:"flex items-start gap-2 bg-blue-50 rounded-lg p-2",children:[t.jsx(Wp,{className:"text-blue-500 mt-0.5 flex-shrink-0"}),t.jsx("p",{className:"text-xs text-blue-700",children:"Your wallet balance covers the full amount. No additional payment needed!"})]})]})]}),t.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900 pt-2 border-t border-gray-200",children:[t.jsx("span",{children:"Amount to Pay"}),t.jsxs("span",{className:"text-primary",children:["",ve().toFixed(2)]})]})]}),t.jsx("button",{onClick:dt,disabled:c,className:`w-full mt-6 text-white py-3 rounded-lg font-bold hover:shadow-lg transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed ${ve()===0?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700":"bg-gradient-to-r from-primary to-primary-dark"}`,children:c?t.jsxs(t.Fragment,{children:[t.jsx(ss,{className:"animate-spin"}),"Processing..."]}):ve()===0?t.jsxs(t.Fragment,{children:[t.jsx(tm,{}),"Confirm Booking (Pay via Wallet)"]}):k&&C>0?t.jsxs(t.Fragment,{children:[t.jsx(_i,{}),"Pay ",ve().toFixed(2)," (Wallet Applied)"]}):t.jsxs(t.Fragment,{children:[t.jsx(_i,{}),"Proceed to Payment"]})}),t.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-xs text-gray-500",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:ve()===0?"100% payment via Wallet":k&&C>0?`${C.toFixed(2)} from wallet + ${ve().toFixed(2)} via PayU`:"Secure payment via PayU"})]})]})})]})]}),t.jsx("div",{className:"fixed inset-0 z-[10000] pointer-events-none",children:t.jsx("div",{className:`${y.isOpen?"pointer-events-auto":"pointer-events-none"}`,children:t.jsx(hj,{isOpen:y.isOpen,onClose:()=>v({...y,isOpen:!1}),type:y.type,title:y.title,message:y.message})})}),F.isOpen&&t.jsx("div",{className:"fixed inset-0 confirmation-dialog",children:t.jsx(hj,{isOpen:F.isOpen,onClose:()=>B({isOpen:!1,plan:null,addressData:null}),type:"info",title:"Confirm AMC Subscription",message:F.plan&&F.addressData?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-primary/10 rounded-lg p-4 border border-primary/30",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-bold",children:""})}),t.jsx("h4",{className:"font-bold text-primary",children:"Subscription Details"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Plan:"}),t.jsx("p",{className:"font-semibold text-primary",children:F.plan.name})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Price:"}),t.jsxs("p",{className:"font-semibold text-primary",children:["",F.plan.price.toLocaleString("en-IN"),"/year"]})]}),t.jsxs("div",{className:"sm:col-span-2",children:[t.jsx("span",{className:"text-gray-600",children:"Type:"}),t.jsx("p",{className:"font-semibold text-primary",children:((Tt=F.plan.planType)==null?void 0:Tt.charAt(0).toUpperCase())+((Rt=F.plan.planType)==null?void 0:Rt.slice(1))||"Standard"})]})]})]}),t.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-bold",children:""})}),t.jsx("h4",{className:"font-bold text-green-700",children:"Service Address"})]}),t.jsxs("div",{className:"text-sm space-y-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Address:"}),t.jsx("p",{className:"font-medium text-green-800",children:F.addressData.address})]}),F.addressData.landmark&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Landmark:"}),t.jsx("p",{className:"font-medium text-green-800",children:F.addressData.landmark})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Pincode:"}),t.jsx("p",{className:"font-medium text-green-800",children:F.addressData.pincode})]})]})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-bold",children:""})}),t.jsx("h4",{className:"font-bold text-slate-700",children:"Customer Details"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Name:"}),t.jsx("p",{className:"font-medium text-slate-800",children:F.addressData.customerName})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Phone:"}),t.jsx("p",{className:"font-medium text-slate-800",children:F.addressData.customerPhone})]}),F.addressData.customerEmail&&t.jsxs("div",{className:"sm:col-span-2",children:[t.jsx("span",{className:"text-gray-600",children:"Email:"}),t.jsx("p",{className:"font-medium text-slate-800",children:F.addressData.customerEmail})]})]})]}),t.jsx("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-white text-sm font-bold",children:""})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-amber-800 mb-1",children:"Payment Gateway Redirect"}),t.jsx("p",{className:"text-amber-700 text-sm",children:"You will be redirected to our secure payment gateway to complete the subscription payment."})]})]})})]}):"Loading subscription details...",confirmText:"Subscribe Now",cancelText:"Cancel",showCancel:!0,onConfirm:Se})})]}):(e("/user/login",{state:{from:r.pathname}}),null)},OQ=()=>{const e=Zt();$0();const[r,s]=g.useState(!0);g.useEffect(()=>{const i=setTimeout(()=>{s(!1)},2e3);return()=>clearTimeout(i)},[]);const a=()=>{e("/user/dashboard/bookings")},n=()=>{e("/")};return r?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[t.jsx(ss,{className:"w-16 h-16 text-primary animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Processing your payment..."})]})}):t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:t.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Ue,{className:"w-12 h-12 text-green-500"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Successful!"}),t.jsx("p",{className:"text-gray-600 mb-8",children:"Your booking has been confirmed. We'll send you a confirmation shortly."}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:a,className:"w-full bg-gradient-to-r from-primary to-primary-dark text-white py-3 rounded-lg font-bold hover:shadow-lg transition",children:"View My Bookings"}),t.jsx("button",{onClick:n,className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-200 transition",children:"Back to Home"})]})]})})},DQ=()=>{const e=Zt(),r=()=>{e(-1)},s=()=>{e("/")};return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:t.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Kt,{className:"w-12 h-12 text-red-500"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Failed"}),t.jsx("p",{className:"text-gray-600 mb-8",children:"We couldn't process your payment. Please try again or contact support if the issue persists."}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:r,className:"w-full bg-gradient-to-r from-primary to-primary-dark text-white py-3 rounded-lg font-bold hover:shadow-lg transition",children:"Try Again"}),t.jsx("button",{onClick:s,className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-200 transition",children:"Back to Home"})]})]})})},MQ=()=>{var w;const[e,r]=g.useState("ac-technician"),[s,a]=g.useState("individual"),[n,i]=g.useState(0),[l,o]=g.useState([]),[d,c]=g.useState(!1),u={"ac-technician":{name:"AC Technician",earnings:"45,00075,000"},electrician:{name:"Electrician",earnings:"35,00060,000"},plumber:{name:"Plumber",earnings:"30,00055,000"},carpenter:{name:"Carpenter",earnings:"40,00070,000"},painter:{name:"Painter",earnings:"35,00065,000"},cleaner:{name:"Deep Cleaner",earnings:"25,00050,000"}},[m,x]=g.useState([]);g.useEffect(()=>{(async()=>{try{const N=await fetch("http://localhost:9088/api/partner/mg-plans/public",{method:"GET",headers:{"Content-Type":"application/json"}});if(N.ok){const S=await N.json();if(S.success&&S.data&&Array.isArray(S.data)){const k=S.data.map(P=>{const I=(P.name||"").toLowerCase();let A=P.icon||"";P.icon||(I.includes("silver")?A="":I.includes("gold")?A="":I.includes("platinum")||I.includes("diamond")?A="":I.includes("bronze")&&(A=""));const O=P.features&&Array.isArray(P.features)&&P.features.length>0?P.features.filter(R=>!R.toLowerCase().includes("leads")&&!R.toLowerCase().includes("commission")):["Priority Support","24/7 Customer Support","Training & Onboarding"];return{_id:P._id,name:P.name,price:P.price||0,leads:P.leads||0,commission:P.commission||0,icon:A,features:O,partnerType:P.partnerType||"both"}});x(k)}}}catch(v){console.error("Failed to fetch MG plans:",v),x([])}})()},[]);const h=[{step:"1",title:"Complete Registration Form",description:"Fill your details and choose trade",icon:oj,details:["Enter your full name and contact information","Select your service category (AC Technician, Electrician, etc.)","Provide your work experience details","Choose your preferred working areas","Set your availability schedule"]},{step:"2",title:"Upload KYC Documents",description:"Submit identity and bank documents",icon:bX,details:["Upload clear photo of Aadhaar Card (front & back)","Provide PAN Card copy","Submit bank account details and passbook copy","Upload professional certificates (if any)","Provide address proof document"]},{step:"3",title:"Complete Payment",description:"Pay registration fee via WhatsApp Pay",icon:_i,details:["Choose your preferred MG Plan","Make payment via WhatsApp Pay or UPI","Registration fee varies by plan (500 - 2000)","Get instant payment confirmation","Receive digital receipt via WhatsApp"]},{step:"4",title:"Get Verified & Start Earning",description:"Approval and job access",icon:Ha,details:["Our team verifies your documents (24-48 hours)","Receive verification confirmation via SMS/WhatsApp","Get access to partner dashboard","Start receiving job leads immediately","Begin earning from day one"]}];g.useEffect(()=>{if(d)if(n<h.length-1){const y=setTimeout(()=>{o(v=>[...v,n]),i(v=>v+1)},2500);return()=>clearTimeout(y)}else{const y=setTimeout(()=>{o(v=>[...v,n]),setTimeout(()=>{i(0),o([])},3e3)},2500);return()=>clearTimeout(y)}},[n,d,h.length]),g.useEffect(()=>{const y=setTimeout(()=>{c(!0)},1500);return()=>clearTimeout(y)},[]);const p=[{icon:bO,text:"High daily job volume",color:"text-[#224a73]",bgColor:"from-[#224a73]/5 to-[#224a73]/10",borderColor:"border-[#224a73]/20",hoverColor:"hover:border-[#224a73]/40"},{icon:NX,text:"Weekly payouts",color:"text-green-600",bgColor:"from-green-50 to-green-100",borderColor:"border-green-200",hoverColor:"hover:border-green-300"},{icon:Ue,text:"Verified partner badge",color:"text-[#224a73]",bgColor:"from-[#224a73]/5 to-[#224a73]/10",borderColor:"border-[#224a73]/20",hoverColor:"hover:border-[#224a73]/40"},{icon:lX,text:"Priority support",color:"text-orange-600",bgColor:"from-orange-50 to-orange-100",borderColor:"border-orange-200",hoverColor:"hover:border-orange-300"},{icon:pX,text:"Free training",color:"text-[#224a73]",bgColor:"from-[#224a73]/5 to-[#224a73]/10",borderColor:"border-[#224a73]/20",hoverColor:"hover:border-[#224a73]/40"},{icon:Nl,text:"Early payouts (Premium)",color:"text-amber-600",bgColor:"from-amber-50 to-amber-100",borderColor:"border-amber-200",hoverColor:"hover:border-amber-300"}],f={animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}},j=m.filter(y=>{const v=y.partnerType||"both";return s==="individual"?v==="individual"||v==="both":s==="franchise"?v==="franchise"||v==="both":!0});return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("section",{className:"relative bg-gradient-to-br from-[#224a73] to-[#1a3a5c] text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",variants:f,animate:"animate"}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",variants:f,animate:"animate",transition:{delay:1,duration:5}}),t.jsx(E.div,{className:"absolute top-32 right-20 w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-[#224a73]/30 to-blue-500/20 rounded-full blur-2xl",animate:{y:[0,-40,0],x:[0,20,0],scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:.5}}),t.jsx(E.div,{className:"absolute bottom-32 left-20 w-20 h-20 sm:w-28 sm:h-28 bg-gradient-to-br from-emerald-400/25 to-green-500/15 rounded-full blur-2xl",animate:{y:[0,35,0],x:[0,-25,0],scale:[1,.8,1],rotate:[360,180,0]},transition:{duration:7,repeat:1/0,ease:"easeInOut",delay:1.2}}),t.jsx(E.div,{className:"absolute top-40 left-1/3 w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-yellow-400/40 to-orange-400/25 rounded-full blur-xl",animate:{y:[0,-60,0],x:[0,30,0],scale:[1,1.3,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:2}}),t.jsx(E.div,{className:"absolute bottom-40 right-1/3 w-14 h-14 sm:w-18 sm:h-18 bg-gradient-to-br from-purple-400/35 to-pink-400/20 rounded-full blur-xl",animate:{y:[0,45,0],x:[0,-20,0],scale:[1,.9,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1.8}}),[...Array(8)].map((y,v)=>t.jsx(E.div,{className:`absolute w-3 h-3 sm:w-4 sm:h-4 rounded-full blur-sm ${v%4===0?"bg-white/30":v%4===1?"bg-yellow-300/40":v%4===2?"bg-[#224a73]/35":"bg-emerald-400/30"}`,style:{left:`${10+v*11%80}%`,top:`${15+v*13%70}%`},animate:{y:[0,-100-v*10,0],x:[0,(v%2===0?1:-1)*(20+v*5),0],opacity:[.3,.7,.3],scale:[1,1.2,1]},transition:{duration:8+v%3,repeat:1/0,ease:"easeInOut",delay:v*.4}},`particle-${v}`)),t.jsx(E.div,{className:"absolute top-1/2 left-1/2 w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-cyan-400/50 to-blue-500/30 rounded-full blur-lg",animate:{rotate:[0,360]},transition:{duration:15,repeat:1/0,ease:"linear"},style:{transformOrigin:"-150px 0px"}}),t.jsx(E.div,{className:"absolute top-1/2 left-1/2 w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-rose-400/45 to-red-500/25 rounded-full blur-lg",animate:{rotate:[360,0]},transition:{duration:12,repeat:1/0,ease:"linear"},style:{transformOrigin:"200px 100px"}}),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx(E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.8,type:"spring"},className:"inline-block mb-4 sm:mb-6",children:t.jsx(Ha,{className:"w-16 h-16 sm:w-20 sm:h-20 text-yellow-300"})}),t.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4",children:"Become a Service Partner"}),t.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl mb-6 sm:mb-8 text-yellow-300",children:"Earn 25,000 to 70,000 per month"}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.a,{href:"/partner/onboard",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-gradient-to-r from-[#224a73] to-[#1a3a5c] text-white px-8 sm:px-10 py-4 sm:py-5 rounded-full text-lg sm:text-xl font-semibold shadow-2xl hover:shadow-[#224a73]/50 hover:from-[#1a3a5c] hover:to-[#224a73] transition-all duration-300 flex items-center gap-3",children:[t.jsx(Ha,{className:"w-6 h-6 sm:w-7 sm:h-7"}),"Register Now"]})})]})})]}),t.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-[#224a73] mb-3 sm:mb-4",children:"What You Get"})}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:p.map((y,v)=>{const N=y.icon;return t.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:v*.1},whileHover:{y:-5,scale:1.05},className:`bg-gradient-to-br ${y.bgColor} p-5 sm:p-6 rounded-xl border ${y.borderColor} ${y.hoverColor} text-center transition-all duration-300 hover:shadow-lg`,children:[t.jsx(N,{className:`w-10 h-10 sm:w-12 sm:h-12 ${y.color} mx-auto mb-3 sm:mb-4`}),t.jsx("p",{className:"text-sm sm:text-base lg:text-lg font-semibold text-gray-800",children:y.text})]},v)})})]})}),t.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-[#224a73] mb-3 sm:mb-4",children:"Partner Earnings Calculator"}),t.jsx("p",{className:"text-lg sm:text-xl text-gray-600",children:"Select your category to see potential earnings"})]}),t.jsx("div",{className:"max-w-3xl mx-auto",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 sm:p-8",children:[t.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-800 mb-3 sm:mb-4",children:"Select your category:"}),t.jsx("select",{value:e,onChange:y=>r(y.target.value),className:"w-full p-3 sm:p-4 border-2 border-[#224a73] rounded-xl text-base sm:text-lg focus:outline-none focus:ring-2 focus:ring-[#224a73] focus:border-[#224a73] mb-6 sm:mb-8 transition-all duration-300",children:Object.entries(u).map(([y,v])=>t.jsx("option",{value:y,children:v.name},y))}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-r from-[#224a73] to-[#1a3a5c] text-white p-5 sm:p-6 rounded-xl text-center shadow-lg",children:[t.jsx("p",{className:"text-base sm:text-lg mb-2",children:"Approx earnings:"}),t.jsx("p",{className:"text-3xl sm:text-4xl font-bold",children:u[e].earnings}),t.jsx("p",{className:"text-base sm:text-lg mt-2",children:"per month"})]},e),t.jsx("div",{className:"mt-6 sm:mt-8 text-center",children:t.jsxs(E.a,{href:"/partner/onboard",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-gradient-to-r from-[#224a73] to-[#1a3a5c] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:from-[#1a3a5c] hover:to-[#224a73] transition-all duration-300 shadow-lg hover:shadow-xl inline-flex items-center gap-2",children:[t.jsx(Ha,{className:"w-5 h-5"}),"Start Registration"]})})]})})]})}),t.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-[#224a73] mb-3 sm:mb-4",children:"MG Plans"}),t.jsxs("div",{className:"flex justify-center gap-2 sm:gap-3 mt-6",children:[t.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a("individual"),className:`px-4 sm:px-6 py-2 sm:py-2.5 rounded-full text-sm sm:text-base font-semibold transition-all ${s==="individual"?"bg-gradient-to-r from-[#224a73] to-[#1a3a5c] text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-200 hover:border-[#224a73]"}`,children:" Individual"}),t.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a("franchise"),className:`px-4 sm:px-6 py-2 sm:py-2.5 rounded-full text-sm sm:text-base font-semibold transition-all ${s==="franchise"?"bg-gradient-to-r from-[#224a73] to-[#1a3a5c] text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-200 hover:border-[#224a73]"}`,children:" Franchise"})]})]}),j.length===0?t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 bg-white rounded-2xl shadow-lg border-2 border-dashed border-gray-300",children:[t.jsx("p",{className:"text-gray-600 text-lg font-medium mb-2",children:"No plans available"}),t.jsxs("p",{className:"text-gray-500 text-sm",children:["No plans found for ",s==="individual"?"Individual":"Franchise"," partners."]}),t.jsxs("p",{className:"text-gray-400 text-xs mt-2",children:["Contact admin to add ",s==="individual"?"Individual":"Franchise"," plans."]})]}):t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:j.map((y,v)=>{var N;return t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:v*.2},whileHover:{y:-10,scale:1.02},className:`bg-white p-6 sm:p-8 rounded-2xl shadow-xl border-2 transition-all duration-300 ${y.name.toLowerCase().includes("platinum")?"border-[#224a73] scale-105 lg:scale-105 sm:scale-100 shadow-2xl shadow-[#224a73]/20":"border-gray-200 hover:border-[#224a73]/30 hover:shadow-2xl"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsx("div",{className:"text-4xl",children:y.icon}),y.partnerType&&t.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-semibold flex-shrink-0 ml-2 ${y.partnerType==="individual"||y.partnerType==="franchise","bg-[#224a73]/10 text-[#224a73]"}`,children:y.partnerType==="individual"?" Individual":y.partnerType==="franchise"?" Franchise":" All Partners"})]}),t.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-[#224a73] mb-2",children:y.name}),t.jsxs("div",{className:"mb-4 sm:mb-6",children:[t.jsxs("span",{className:"text-3xl sm:text-4xl font-bold text-[#224a73]",children:["",y.price.toLocaleString("en-IN")]}),t.jsx("span",{className:"text-gray-600",children:"/month"})]}),t.jsxs("ul",{className:"space-y-2 sm:space-y-3 mb-6 sm:mb-8",children:[t.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-gray-700",children:[t.jsx(Ue,{className:"text-green-500 flex-shrink-0"}),t.jsxs("span",{children:[y.leads," Guaranteed Leads/month"]})]}),t.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-gray-700",children:[t.jsx(Ue,{className:"text-green-500 flex-shrink-0"}),t.jsxs("span",{children:[y.commission,"% Commission Rate"]})]}),(N=y.features)==null?void 0:N.map((S,k)=>t.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-gray-700",children:[t.jsx(Ue,{className:"text-green-500 flex-shrink-0"}),t.jsx("span",{children:S})]},k))]}),t.jsxs(E.a,{href:"/partner/onboard",whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:`block w-full text-center py-3 rounded-full font-semibold transition-all duration-300 text-sm sm:text-base flex items-center justify-center gap-2 ${y.name.toLowerCase().includes("platinum")?"bg-gradient-to-r from-[#224a73] to-[#1a3a5c] text-white hover:from-[#1a3a5c] hover:to-[#224a73] shadow-lg":"bg-gradient-to-r from-gray-100 to-gray-200 text-[#224a73] hover:from-gray-200 hover:to-gray-300"}`,children:[t.jsx(Ha,{className:"w-4 h-4"}),"Choose ",y.name," Plan"]})]},y._id||y.name||v)})})]})}),t.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-gradient-to-br from-gray-50 to-blue-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-[#224a73] mb-3 sm:mb-4",children:"How to Join"}),t.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto mb-6",children:"Follow these simple steps to become a Nexo partner and start earning"})]}),t.jsx("div",{className:"max-w-5xl mx-auto mb-8 sm:mb-12 px-4 sm:px-4",children:t.jsxs("div",{className:"relative min-h-[200px] sm:min-h-[120px]",children:[t.jsx("div",{className:"hidden sm:block absolute top-8 left-8 right-8 h-2 bg-gray-200 rounded-full shadow-inner",children:t.jsx(E.div,{className:"h-full bg-gradient-to-r from-[#224a73] via-blue-500 to-green-500 rounded-full relative overflow-hidden",initial:{width:"0%"},animate:{width:`${l.length/h.length*100}%`},transition:{duration:.8,ease:"easeInOut"},children:t.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"}})})}),t.jsxs("div",{className:"sm:hidden absolute inset-0",children:[t.jsx("div",{className:"absolute top-6 left-1/4 right-1/4 h-1 bg-gray-200 rounded-full",children:t.jsx(E.div,{className:"h-full bg-gradient-to-r from-[#224a73] to-blue-500 rounded-full",initial:{width:"0%"},animate:{width:`${l.includes(0)?"100%":n>0?"50%":"0%"}`},transition:{duration:.8,ease:"easeInOut"}})}),t.jsx("div",{className:"absolute top-1/4 bottom-1/4 left-1/2 w-1 bg-gray-200 rounded-full transform -translate-x-1/2",children:t.jsx(E.div,{className:"w-full bg-gradient-to-b from-blue-500 to-green-500 rounded-full",initial:{height:"0%"},animate:{height:`${l.includes(1)?"100%":n>1?"50%":"0%"}`},transition:{duration:.8,ease:"easeInOut"}})}),t.jsx("div",{className:"absolute bottom-6 left-1/4 right-1/4 h-1 bg-gray-200 rounded-full",children:t.jsx(E.div,{className:"h-full bg-gradient-to-r from-green-500 to-green-600 rounded-full",initial:{width:"0%"},animate:{width:`${l.includes(2)?"100%":n>2?"50%":"0%"}`},transition:{duration:.8,ease:"easeInOut"}})})]}),t.jsx("div",{className:"relative grid grid-cols-2 sm:flex sm:justify-between gap-6 sm:gap-2",children:h.map((y,v)=>{const N=y.icon,S=l.includes(v),k=n===v;return t.jsxs(E.div,{className:"flex flex-col items-center",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:v*.1},children:[t.jsxs(E.div,{className:`relative w-12 h-12 sm:w-16 sm:h-16 rounded-full flex items-center justify-center shadow-lg transition-all duration-300 ${S?"bg-gradient-to-br from-green-500 to-green-600":k?"bg-gradient-to-br from-[#224a73] to-[#1a3a5c] ring-2 sm:ring-4 ring-[#224a73]/20":"bg-gray-300"}`,children:[S?t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.3},children:t.jsx(Ue,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}):t.jsx(N,{className:`w-6 h-6 sm:w-8 sm:h-8 ${k?"text-white":"text-gray-600"}`}),k&&t.jsx(E.div,{className:"absolute inset-0 rounded-full bg-[#224a73]/30",animate:{scale:[1,1.2,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0}})]}),t.jsxs("div",{className:"mt-2 sm:mt-4 text-center max-w-24 sm:max-w-32",children:[t.jsx("h3",{className:`text-xs sm:text-sm font-bold mb-1 leading-tight ${S||k?"text-[#224a73]":"text-gray-500"}`,children:y.title.split(" ").slice(0,2).join(" ")}),t.jsx("p",{className:"text-xs text-gray-500 leading-tight hidden sm:block",children:y.description}),t.jsx(E.div,{className:`inline-block mt-1 sm:mt-2 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium ${S?"bg-green-100 text-green-700":k?"bg-[#224a73]/10 text-[#224a73]":"bg-gray-100 text-gray-500"}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:v*.1+.3},children:S?"":k?"":""})]})]},v)})})]})}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center px-4",children:t.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-lg border border-gray-200 p-4 sm:p-6 max-w-2xl mx-auto",children:[t.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-[#224a73] mb-3 sm:mb-4",children:["Progress: ",l.length,"/",h.length," Steps"]}),l.length===h.length?t.jsxs(E.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5},className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:t.jsx(Ue,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),t.jsx("h4",{className:"text-xl sm:text-2xl font-bold text-green-600 mb-2",children:" All Steps Completed!"}),t.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-6",children:"Ready to start your Nexo partner journey"})]}):t.jsx("div",{children:t.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4",children:["Current: ",t.jsx("span",{className:"font-semibold text-[#224a73]",children:(w=h[n])==null?void 0:w.title})]})})]})})]})})]})},xj="http://localhost:9088",Et=e=>e.startsWith("/api/")?`${xj}${e}`:`${xj}/api/partner${e}`,Bt=e=>{const r={"Content-Type":"application/json"};return e&&(r.Authorization=`Bearer ${e}`),r},It=async e=>{const r=e.headers.get("content-type"),a=r&&r.includes("application/json")?await e.json():await e.text();if(!e.ok){const n=new Error((a==null?void 0:a.message)||(a==null?void 0:a.error)||"Request failed");throw n.status=e.status,n.data=a,n}return a},jt={async sendOTP(e){const r=await fetch(Et("/auth/send-otp"),{method:"POST",headers:Bt(),body:JSON.stringify({phone:e})});return It(r)},async verifyOTP(e,r){const s=await fetch(Et("/auth/verify-otp"),{method:"POST",headers:Bt(),body:JSON.stringify({phone:e,otp:r})});return It(s)},async resendOTP(e){const r=await fetch(Et("/auth/resend-otp"),{method:"POST",headers:Bt(),body:JSON.stringify({phone:e})});return It(r)},async completeProfile(e,r){const s=new FormData;Object.keys(r).forEach(n=>{n!=="profilePicture"&&r[n]!==null&&r[n]!==void 0&&(typeof r[n]=="object"?s.append(n,JSON.stringify(r[n])):s.append(n,r[n]))}),r.profilePicture&&s.append("profilePicture",r.profilePicture);const a=await fetch(Et("/profile/complete"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return It(a)},async completeKYC(e,r){const s=new FormData;r.panCard&&s.append("panCard",r.panCard),r.aadhaar&&s.append("aadhaar",r.aadhaar),r.aadhaarback&&s.append("aadhaarback",r.aadhaarback),r.chequeImage&&s.append("chequeImage",r.chequeImage),r.drivingLicence&&s.append("drivingLicence",r.drivingLicence),r.bill&&s.append("bill",r.bill),r.accountNumber&&s.append("accountNumber",r.accountNumber),r.ifscCode&&s.append("ifscCode",r.ifscCode),r.accountHolderName&&s.append("accountHolderName",r.accountHolderName),r.bankName&&s.append("bankName",r.bankName);const a=await fetch(Et("/kyc/complete"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return It(a)},async completePayment(e,r){const s=await fetch(Et("/regigiste-fee"),{method:"PUT",headers:Bt(e),body:JSON.stringify(r)});return It(s)},async getProfile(e){const r=await fetch(Et("/profile"),{headers:Bt(e)});return It(r)},async updateOnboardingStep(e,r){const s=await fetch(Et("/profile/onboarding-step"),{method:"PUT",headers:Bt(e),body:JSON.stringify(r)});return It(s)},async updateProfile(e,r){if(r instanceof FormData){const s=await fetch(Et("/profile/update"),{method:"PUT",headers:{Authorization:`Bearer ${e}`},body:r});return It(s)}else{const s=await fetch(Et("/profile/update"),{method:"PUT",headers:Bt(e),body:JSON.stringify(r)});return It(s)}},async getCategories(e){const r=e?Bt(e):Bt(),s=await fetch(Et("/dropdown/categories"),{headers:r});return It(s)},async selectCategoryAndService(e,r,s){const a=await fetch(Et("/select-category-and-service"),{method:"POST",headers:Bt(e),body:JSON.stringify({category:r,services:s})});return It(a)},async getMGPlans(e,r=null){const s=Et(r?`/mg-plans?partnerType=${r}`:"/mg-plans"),a=await fetch(s,{headers:Bt(e)});return It(a)},async getCurrentPlan(e){const r=await fetch(Et("/mg-plans/current"),{headers:Bt(e)});return It(r)},async subscribeToPlan(e,r){const s=await fetch(Et("/mg-plans/subscribe"),{method:"POST",headers:Bt(e),body:JSON.stringify({planId:r})});return It(s)},async renewPlan(e){const r=await fetch(Et("/mg-plans/renew"),{method:"POST",headers:Bt(e)});return It(r)},async getPricingSettings(){const e=await fetch(`${xj}/api/registerFee/fees`,{headers:Bt()});return It(e)},async getAvailableServiceHubs(e){const r=await fetch(Et("/service-hubs/available"),{headers:Bt(e)});return It(r)},async createServiceHub(e,r){const s=await fetch(Et("/service-hubs"),{method:"POST",headers:Bt(e),body:JSON.stringify(r)});return It(s)},async assignHub(e,r){const s=await fetch(Et("/hubs/assign"),{method:"POST",headers:Bt(e),body:JSON.stringify({hubId:r})});return It(s)},async unassignHub(e,r){const s=await fetch(Et("/hubs/unassign"),{method:"POST",headers:Bt(e),body:JSON.stringify({hubId:r})});return It(s)},async getWallet(e){const r=await fetch(Et("/getWalletbypartner"),{headers:Bt(e)});return It(r)},async getTransactions(e){const r=await fetch(Et("/getAllwalletTransaction"),{headers:Bt(e)});return It(r)},async topUpWallet(e,r,s,a){const n=await fetch(Et("/wallet/topup"),{method:"POST",headers:Bt(e),body:JSON.stringify({amount:r,type:"credit",description:s||"Topup",reference:a||`TOPUP-${Date.now()}`})});return It(n)},async getBookings(e){const r=await fetch(Et("/bookings"),{headers:Bt(e)});return It(r)},async getPendingBookings(e){const r=await fetch(Et("/bookings/pending"),{headers:Bt(e)});return It(r)},async getAcceptedBookings(e){const r=await fetch(Et("/bookings/accepted/:partnerId"),{headers:Bt(e)});return It(r)},async getCompletedBookings(e){const r=await fetch(Et("/bookings/completed"),{headers:Bt(e)});return It(r)},async getProductsByCategory(e,r){const s=await fetch(Et(`/products/${r}`),{headers:Bt(e)});return It(s)},async addToCart(e,r){const s=await fetch(Et("/products/add"),{method:"POST",headers:Bt(e),body:JSON.stringify(r)});return It(s)},async getAvailableHubs(e){const r=await fetch(Et("/service-hubs/available"),{headers:Bt(e)});return It(r)},async updateKYC(e,r){const s=new FormData;r.panCard&&s.append("panCard",r.panCard),r.aadhaar&&s.append("aadhaar",r.aadhaar),r.aadhaarback&&s.append("aadhaarback",r.aadhaarback),r.chequeImage&&s.append("chequeImage",r.chequeImage),r.drivingLicence&&s.append("drivingLicence",r.drivingLicence),r.bill&&s.append("bill",r.bill),r.accountNumber&&s.append("accountNumber",r.accountNumber),r.ifscCode&&s.append("ifscCode",r.ifscCode),r.accountHolderName&&s.append("accountHolderName",r.accountHolderName),r.bankName&&s.append("bankName",r.bankName);const a=await fetch(Et("/kyc/complete"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return It(a)},async selectCategoryAndService(e,r){const s=await fetch(Et("/select-category-and-service"),{method:"POST",headers:Bt(e),body:JSON.stringify(r)});return It(s)},async getTeamMembers(e){const r=await fetch(Et("/team-members"),{headers:Bt(e)});return It(r)},async addTeamMember(e,r){const s=new FormData;if(Object.keys(r).forEach(n=>{n!=="profilePicture"&&n!=="kyc"&&n!=="kycData"&&r[n]!==null&&r[n]!==void 0&&(Array.isArray(r[n])?r[n].forEach((i,l)=>{s.append(`${n}[${l}]`,i)}):s.append(n,r[n]))}),r.profilePicture&&s.append("profilePicture",r.profilePicture),r.kycData){const n=r.kycData;n.panCard&&s.append("panCard",n.panCard),n.aadhaar&&s.append("aadhaar",n.aadhaar),n.aadhaarback&&s.append("aadhaarback",n.aadhaarback),n.chequeImage&&s.append("chequeImage",n.chequeImage),n.drivingLicence&&s.append("drivingLicence",n.drivingLicence),n.bill&&s.append("bill",n.bill)}const a=await fetch(Et("/team-members"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return It(a)},async updateTeamMember(e,r,s){const a=new FormData;if(Object.keys(s).forEach(i=>{i!=="profilePicture"&&i!=="kyc"&&i!=="kycData"&&s[i]!==null&&s[i]!==void 0&&(typeof s[i]=="object"&&!Array.isArray(s[i])?a.append(i,JSON.stringify(s[i])):Array.isArray(s[i])?s[i].forEach((l,o)=>{a.append(`${i}[${o}]`,l)}):a.append(i,s[i]))}),s.profilePicture&&a.append("profilePicture",s.profilePicture),s.kycData){const i=s.kycData;i.panCard&&a.append("panCard",i.panCard),i.aadhaar&&a.append("aadhaar",i.aadhaar),i.aadhaarback&&a.append("aadhaarback",i.aadhaarback),i.chequeImage&&a.append("chequeImage",i.chequeImage),i.drivingLicence&&a.append("drivingLicence",i.drivingLicence),i.bill&&a.append("bill",i.bill)}const n=await fetch(Et(`/team-members/${r}`),{method:"PUT",headers:{Authorization:`Bearer ${e}`},body:a});return It(n)},async deleteTeamMember(e,r){const s=await fetch(Et(`/team-members/${r}`),{method:"DELETE",headers:Bt(e)});return It(s)},async getTeamMemberActivities(e,r){const s=await fetch(Et(`/team-members/${r}/activities`),{headers:Bt(e)});return It(s)},async assignBookingToTeamMember(e,r,s){const a=await fetch(Et("/team-members/assign-booking"),{method:"POST",headers:Bt(e),body:JSON.stringify({bookingId:r,teamMemberId:s})});return It(a)},async verifyPartner(e){const r=await fetch(Et(`/verify/${e}`));return It(r)},async updateFCMToken(e,r){const s=await fetch(Et("/updateTokenFmc"),{method:"PUT",headers:Bt(e),body:JSON.stringify({token:r})});return It(s)},async getNotifications(e){const r=await fetch(Et("/notifications"),{headers:Bt(e)});return It(r)},async markNotificationsAsRead(e){const r=await fetch(Et("/notifications/mark-read"),{method:"PUT",headers:Bt(e)});return It(r)},async markNotificationAsRead(e,r){const s=await fetch(Et(`/notifications/${r}/mark-read`),{method:"PUT",headers:Bt(e)});return It(s)},async completeJob(e,r,s){const a=await fetch(Et(`/bookings/${r}/complete`),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return It(a)},async pauseJob(e,r,s){const a=await fetch(Et(`/bookings/${r}/pause`),{method:"POST",headers:Bt(e),body:JSON.stringify(s)});return It(a)},async resumeJob(e,r){const s=await fetch(Et(`/bookings/${r}/resume`),{method:"POST",headers:Bt(e)});return It(s)},async createQuotation(e,r,s){const a=await fetch(Et(`/bookings/${r}/quotation`),{method:"POST",headers:Bt(e),body:JSON.stringify(s)});return It(a)},async getQuotationsByBooking(e,r){const s=await fetch(Et(`/bookings/${r}/quotations`),{headers:Bt(e)});return It(s)},async getPartnerQuotations(e){const r=await fetch(Et("/quotations"),{headers:Bt(e)});return It(r)},async getQuotationById(e,r){const s=await fetch(Et(`/quotations/${r}`),{headers:Bt(e)});return It(s)}},LQ=()=>{const e=Zt();Zl();const[r,s]=g.useState(!1),[a,n]=g.useState([]),[i,l]=g.useState([]),[o,d]=g.useState([]),[c,u]=g.useState(!1),[m,x]=g.useState(!1),[h,p]=g.useState({name:"",phone:"",email:"",category:"",service:"",subService:"",city:"",address:"",landmark:"",pincode:"",description:"",estimatedBudget:""});g.useEffect(()=>{(async()=>{var N;u(!0);try{const P=await(await fetch("http://localhost:9088/api/public/service-hierarchy")).json();if(console.log("Service hierarchy response:",P),P!=null&&P.success&&((N=P==null?void 0:P.data)!=null&&N.categories)){const C=P.data.categories.filter(I=>I.isActive!==!1).map(I=>({_id:I._id,name:I.name,services:I.services||[]}));n(C),console.log("Categories loaded:",C.length)}else P!=null&&P.data&&Array.isArray(P.data)?n(P.data):(console.warn("Unexpected data format:",P),n([]))}catch(S){console.error("Error fetching categories:",S),n([])}finally{u(!1)}})()},[]);const f=v=>{if(p(N=>({...N,category:v,service:"",subService:""})),l([]),d([]),v){const N=a.find(S=>S._id===v);N!=null&&N.services&&l(N.services||[])}},b=v=>{if(p(N=>({...N,service:v,subService:""})),d([]),v){const N=i.find(S=>S._id===v);N!=null&&N.subServices&&d(N.subServices||[])}},j=async v=>{if(v.preventDefault(),!h.name||!h.phone||!h.category||!h.city){alert("Please fill all required fields");return}x(!0);try{const k=await(await fetch("http://localhost:9088/api/public/submit-service-enquiry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json();console.log("Enquiry submission response:",k),k.success?(alert("Service enquiry submitted successfully! We will contact you soon."),s(!1),p({name:"",phone:"",email:"",category:"",service:"",subService:"",city:"",address:"",landmark:"",pincode:"",description:"",estimatedBudget:""}),l([]),d([])):alert(k.message||"Failed to submit enquiry. Please try again.")}catch(N){console.error("Error submitting enquiry:",N),alert("Failed to submit enquiry. Please try again.")}finally{x(!1)}},w=[{name:"Painting",icon:""},{name:"Carpentry",icon:""},{name:"Renovation",icon:""},{name:"AC Installation",icon:""},{name:"Electrical Wiring",icon:""},{name:"Plumbing Projects",icon:""},{name:"Waterproofing",icon:""}],y=[{step:"1",title:"Customer messages on WhatsApp",description:"Verified customer sends requirement"},{step:"2",title:"We verify the requirement",description:"Quality check and validation"},{step:"3",title:"Lead is shared with max 3 partners",description:"Fair distribution to qualified partners"},{step:"4",title:"You pay per lead",description:"Only pay for genuine, verified leads"}];return t.jsxs(t.Fragment,{children:[t.jsx(In,{title:"Get Verified Leads for Your Business | Lead Marketplace | Nexo",description:"Buy verified leads for your business. Pay only for genuine leads. Categories: Painting, Carpentry, Renovation, AC Installation, Electrical Wiring, Plumbing Projects, Waterproofing.",keywords:"business leads, verified leads, service leads, contractor leads, lead generation, buy leads, qualified leads",url:"/leads"}),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,-15,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(20)].map((v,N)=>t.jsx(E.div,{className:"absolute rounded-full z-0",style:{width:`${6+N%4*3}px`,height:`${6+N%4*3}px`,left:`${3+N*5%94}%`,top:`${8+N*4%85}%`,backgroundColor:"rgba(255, 255, 255, 0.4)"},animate:{y:[0,-150,0],x:[0,N%2===0?50:-50,0],opacity:[.4,.8,.4],scale:[1,1.5,1]},transition:{duration:8+N%4,repeat:1/0,ease:"easeInOut",delay:N*.2}},`small-${N}`)),[...Array(12)].map((v,N)=>t.jsx(E.div,{className:"absolute rounded-full blur-sm z-0",style:{width:`${14+N%3*4}px`,height:`${14+N%3*4}px`,left:`${5+N*8%90}%`,top:`${10+N*6%80}%`,backgroundColor:"rgba(255, 255, 255, 0.3)"},animate:{y:[0,-120,0],x:[0,N%2===0?60:-60,0],opacity:[.3,.6,.3],scale:[1,1.4,1]},transition:{duration:9+N%3*2,repeat:1/0,ease:"easeInOut",delay:N*.4}},`medium-${N}`)),[...Array(8)].map((v,N)=>t.jsx(E.div,{className:"absolute rounded-full blur-2xl z-0",style:{width:`${100+N%3*30}px`,height:`${100+N%3*30}px`,left:`${8+N*12%85}%`,top:`${12+N*10%75}%`,backgroundColor:"rgba(255, 255, 255, 0.2)"},animate:{y:[0,-80,0],x:[0,N%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.2,.4,.2]},transition:{duration:10+N%3*2,repeat:1/0,ease:"easeInOut",delay:N*.8}},`large-${N}`)),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4",children:"Get Verified Leads for Your Business"}),t.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mb-6 sm:mb-8 text-white/90",children:"Pay only for genuine leads"}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[t.jsx(E.button,{onClick:()=>e("/partner/onboard?from=leads"),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-primary px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-white/50 transition-all duration-300 flex items-center justify-center gap-2",children:"I am Looking for Leads"}),t.jsxs(E.button,{onClick:()=>s(!0),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center justify-center gap-2",children:[t.jsx(Er,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"I am Looking for Service"]})]})]})}),t.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-20 sm:h-24 bg-gray-50 pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0}})]}),t.jsx("section",{className:"py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Categories"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Choose from various service categories"})]}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map((v,N)=>t.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.4,delay:N*.1},whileHover:{y:-5,scale:1.05},className:"bg-gradient-to-br from-primary/5 to-primary/10 p-8 rounded-xl border border-primary/20 text-center cursor-pointer hover:shadow-xl transition-all duration-300",children:[t.jsx("span",{className:"text-5xl mb-4 block",children:v.icon}),t.jsx("h3",{className:"text-xl font-bold text-primary",children:v.name})]},v.name))})]})}),t.jsx("section",{className:"py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"How it Works"})}),t.jsx("div",{className:"grid md:grid-cols-4 gap-8",children:y.map((v,N)=>t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:N*.2},className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center text-white text-3xl font-bold mx-auto mb-4",children:v.step}),t.jsx("h3",{className:"text-xl font-bold text-primary mb-2",children:v.title}),t.jsx("p",{className:"text-gray-600",children:v.description})]},N))}),t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.8},className:"text-center mt-12",children:t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[t.jsx(E.button,{onClick:()=>e("/partner/onboard?from=leads"),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-primary text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-primary-dark transition-all duration-300 shadow-lg hover:shadow-xl",children:"I am Looking for Leads"}),t.jsxs(E.button,{onClick:()=>s(!0),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-[#20ba5a] transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[t.jsx(Er,{className:"w-5 h-5"}),"Submit Service Enquiry"]})]})})]})}),t.jsx(wl,{children:r&&t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[10000] p-4",onClick:()=>s(!1),children:t.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:v=>v.stopPropagation(),className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[t.jsx(oj,{className:"w-5 h-5"}),"Submit Service Enquiry"]}),t.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(Rl,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Dc,{className:"w-4 h-4 inline mr-1"}),"Name ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.name,onChange:v=>p(N=>({...N,name:v.target.value})),required:!0,placeholder:"Enter your name",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(WN,{className:"w-4 h-4 inline mr-1"}),"Phone ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"tel",value:h.phone,onChange:v=>p(N=>({...N,phone:v.target.value})),required:!0,placeholder:"Enter your phone number",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(jO,{className:"w-4 h-4 inline mr-1"}),"Email"]}),t.jsx("input",{type:"email",value:h.email,onChange:v=>p(N=>({...N,email:v.target.value})),placeholder:"Enter your email",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Fl,{className:"w-4 h-4 inline mr-1"}),"City ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.city,onChange:v=>p(N=>({...N,city:v.target.value})),required:!0,placeholder:"Enter your city",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Category ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsxs("select",{value:h.category,onChange:v=>f(v.target.value),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select Category"}),a.map(v=>t.jsx("option",{value:v._id,children:v.name},v._id))]})]}),i.length>0&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service"}),t.jsxs("select",{value:h.service,onChange:v=>b(v.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select Service"}),i.map(v=>t.jsx("option",{value:v._id,children:v.name},v._id))]})]}),o.length>0&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Sub Service"}),t.jsxs("select",{value:h.subService,onChange:v=>p(N=>({...N,subService:v.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select Sub Service"}),o.map(v=>t.jsx("option",{value:v._id,children:v.name},v._id))]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Fl,{className:"w-4 h-4 inline mr-1"}),"Address"]}),t.jsx("input",{type:"text",value:h.address,onChange:v=>p(N=>({...N,address:v.target.value})),placeholder:"Enter full address",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Landmark"}),t.jsx("input",{type:"text",value:h.landmark,onChange:v=>p(N=>({...N,landmark:v.target.value})),placeholder:"Enter landmark",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:h.pincode,onChange:v=>p(N=>({...N,pincode:v.target.value})),placeholder:"Enter pincode",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Estimated Budget ()"}),t.jsx("input",{type:"number",value:h.estimatedBudget,onChange:v=>p(N=>({...N,estimatedBudget:v.target.value})),placeholder:"Enter estimated budget",min:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(oj,{className:"w-4 h-4 inline mr-1"}),"Description"]}),t.jsx("textarea",{value:h.description,onChange:v=>p(N=>({...N,description:v.target.value})),placeholder:"Describe your service requirement in detail",rows:"4",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",children:m?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"animate-spin",children:""}),"Submitting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Er,{className:"w-4 h-4"}),"Submit Enquiry"]})})]})]})]})})})]})]})},FQ=()=>{const e=Zl(),[r,s]=g.useState([]),[a,n]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{const d=await(await fetch("http://localhost:9088/api/public/material-categories")).json();if(d!=null&&d.success&&(d!=null&&d.data)&&Array.isArray(d.data)){const c=d.data.map(u=>({name:u.name,icon:u.icon,items:u.items||[]}));s(c)}else s([{name:"Plumbing materials",icon:"",items:["Pipes","Fittings","Taps","Valves","Sealants"]},{name:"Switchboards and cables",icon:"",items:["MCB","Wires","Switches","Sockets","Cable trays"]},{name:"Painting supplies",icon:"",items:["Paints","Brushes","Primers","Thinners","Putty"]},{name:"AC gas",icon:"",items:["R22","R410A","R32","Compressors","Filters"]},{name:"Hardware items",icon:"",items:["Screws","Nails","Hinges","Locks","Handles"]}])}catch(l){console.error("Error fetching material categories:",l),s([{name:"Plumbing materials",icon:"",items:["Pipes","Fittings","Taps","Valves","Sealants"]},{name:"Switchboards and cables",icon:"",items:["MCB","Wires","Switches","Sockets","Cable trays"]},{name:"Painting supplies",icon:"",items:["Paints","Brushes","Primers","Thinners","Putty"]},{name:"AC gas",icon:"",items:["R22","R410A","R32","Compressors","Filters"]},{name:"Hardware items",icon:"",items:["Screws","Nails","Hinges","Locks","Handles"]}])}finally{n(!1)}})()},[]),t.jsxs(t.Fragment,{children:[t.jsx(In,{title:"Materials for Technicians | Order Materials on WhatsApp | Nexo",description:"Order materials instantly on WhatsApp. Plumbing materials, switchboards, cables, painting supplies, AC gas, hardware items. Best prices, instant delivery, quality assured.",keywords:"technician materials, plumbing materials, electrical supplies, painting supplies, AC gas, hardware items, material store",url:"/materials"}),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,-15,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(20)].map((i,l)=>t.jsx(E.div,{className:"absolute bg-white/30 rounded-full",style:{width:`${6+l%4*3}px`,height:`${6+l%4*3}px`,left:`${3+l*5%94}%`,top:`${8+l*4%85}%`},animate:{y:[0,-150,0],x:[0,l%2===0?50:-50,0],opacity:[.2,.6,.2],scale:[1,1.5,1]},transition:{duration:8+l%4,repeat:1/0,ease:"easeInOut",delay:l*.2}},`small-${l}`)),[...Array(12)].map((i,l)=>t.jsx(E.div,{className:"absolute bg-white/20 rounded-full blur-sm",style:{width:`${14+l%3*4}px`,height:`${14+l%3*4}px`,left:`${5+l*8%90}%`,top:`${10+l*6%80}%`},animate:{y:[0,-120,0],x:[0,l%2===0?60:-60,0],opacity:[.15,.4,.15],scale:[1,1.4,1]},transition:{duration:9+l%3*2,repeat:1/0,ease:"easeInOut",delay:l*.4}},`medium-${l}`)),[...Array(8)].map((i,l)=>t.jsx(E.div,{className:"absolute bg-white/10 rounded-full blur-2xl",style:{width:`${100+l%3*30}px`,height:`${100+l%3*30}px`,left:`${8+l*12%85}%`,top:`${12+l*10%75}%`},animate:{y:[0,-80,0],x:[0,l%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.1,.3,.1]},transition:{duration:10+l%3*2,repeat:1/0,ease:"easeInOut",delay:l*.8}},`large-${l}`)),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4",children:"Materials for Technicians"}),t.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mb-6 sm:mb-8 text-white/90",children:"Order materials instantly on WhatsApp"}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2",children:[t.jsx(Er,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Order Materials on WhatsApp"]})})]})}),t.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-24 sm:h-28 bg-gradient-to-b from-gray-50 to-white pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0},children:t.jsx("svg",{className:"absolute bottom-0 left-0 w-full h-full",viewBox:"0 0 1440 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",children:t.jsx("path",{d:"M0,60 C240,100 480,20 720,60 C960,100 1200,20 1440,60 L1440,120 L0,120 Z",fill:"white",className:"animate-pulse"})})})]}),t.jsxs("section",{className:"py-20 bg-gradient-to-b from-white via-gray-50/50 to-white relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-primary/5 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-primary/5 rounded-full blur-3xl"})]}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx(E.div,{initial:{scale:.9},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.5},className:"inline-block mb-4",children:t.jsx("span",{className:"text-6xl",children:""})}),t.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-primary mb-4",children:"Available Materials"}),t.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-2xl mx-auto",children:"Everything you need for your service jobs - Quality materials at competitive prices"})]}),a?t.jsxs("div",{className:"text-center py-20",children:[t.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block w-16 h-16 border-4 border-primary border-t-transparent rounded-full"}),t.jsx("p",{className:"mt-6 text-lg text-gray-600 font-medium",children:"Loading materials..."})]}):r.length===0?t.jsx("div",{className:"text-center py-20",children:t.jsx("p",{className:"text-xl text-gray-500",children:"No materials available at the moment."})}):t.jsx("div",{className:"grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:r.map((i,l)=>t.jsxs(E.div,{initial:{opacity:0,y:40,scale:.95},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:l*.12,type:"spring",stiffness:100},whileHover:{y:-10,scale:1.02,transition:{duration:.3}},className:"group relative bg-white rounded-2xl border-2 border-gray-100 hover:border-primary/40 shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden",children:[t.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-br from-primary/0 to-primary/0 group-hover:from-primary/8 group-hover:to-transparent pointer-events-none",initial:!1,animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:3,repeat:1/0,repeatType:"reverse"}}),t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary via-primary-light to-primary overflow-hidden",children:t.jsx(E.div,{className:"h-full w-1/3 bg-gradient-to-r from-transparent via-white/60 to-transparent",animate:{x:["-100%","300%"]},transition:{duration:2,repeat:1/0,repeatDelay:3,ease:"easeInOut"}})}),t.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none",children:[...Array(4)].map((o,d)=>t.jsx(E.div,{className:"absolute w-1 h-1 bg-primary/40 rounded-full",style:{left:`${25+d*20}%`,top:`${40+d%2*20}%`},animate:{y:[0,-20,0],opacity:[.4,.8,.4],scale:[1,1.5,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:d*.3}},d))}),t.jsxs("div",{className:"relative p-6 lg:p-7",children:[t.jsxs(E.div,{whileHover:{scale:1.15,rotate:8},transition:{type:"spring",stiffness:300,damping:15},className:"relative w-20 h-20 mx-auto mb-5",children:[t.jsx(E.div,{className:"absolute inset-0 bg-primary/20 rounded-full blur-xl",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),t.jsx("div",{className:"relative w-full h-full bg-gradient-to-br from-primary/10 to-primary/5 group-hover:from-primary/20 group-hover:to-primary/10 rounded-2xl flex items-center justify-center shadow-sm transition-all duration-300",children:t.jsx("span",{className:"text-5xl",children:i.icon})})]}),t.jsxs("div",{className:"text-center mb-5",children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-800 group-hover:text-primary transition-colors mb-2",children:i.name}),t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-primary/10 rounded-full text-xs font-semibold text-primary",children:[t.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),i.items.length," Items Available"]})]}),t.jsx("div",{className:"mb-6 space-y-2 max-h-[260px] overflow-y-auto pr-1 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:i.items.map((o,d)=>{const c=typeof o=="string"?o:o.name,u=typeof o=="object"&&(o.priceMin||o.priceMax);return t.jsxs(E.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:d*.05},className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-primary/5 rounded-lg border border-gray-100 hover:border-primary/20 transition-all duration-200 group/item",children:[t.jsxs("div",{className:"flex items-center gap-2.5 flex-1 min-w-0",children:[t.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-primary/10 group-hover/item:bg-primary rounded-full flex items-center justify-center transition-colors",children:t.jsx("span",{className:"text-[10px] font-bold text-primary group-hover/item:text-white",children:d+1})}),t.jsx("span",{className:"text-sm font-semibold text-gray-700 group-hover/item:text-primary transition-colors truncate",children:c})]}),u&&t.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1 px-2.5 py-1 bg-emerald-50 border border-emerald-200 rounded-md ml-2",children:[t.jsxs("span",{className:"text-xs font-bold text-emerald-700",children:["",o.priceMin||"0"]}),t.jsx("span",{className:"text-xs text-emerald-600",children:"-"}),t.jsxs("span",{className:"text-xs font-bold text-emerald-700",children:["",o.priceMax||""]})]})]},`${c}-${d}`)})}),t.jsxs(E.button,{onClick:e,whileHover:{scale:1.03,y:-2},whileTap:{scale:.97},className:"w-full bg-gradient-to-r from-[#25D366] to-[#20BA5A] hover:from-[#20BA5A] hover:to-[#1DA851] text-white py-3.5 rounded-xl font-bold text-base flex items-center justify-center gap-2.5 shadow-lg hover:shadow-xl transition-all duration-300 relative overflow-hidden group/btn",children:[t.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent",animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,repeatDelay:2,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute inset-0 bg-white/10 rounded-xl",animate:{scale:[1,1.05,1],opacity:[0,.5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5,repeat:1/0,repeatDelay:3},children:t.jsx(Er,{className:"w-5 h-5 relative z-10"})}),t.jsx("span",{className:"relative z-10",children:"Order on WhatsApp"}),t.jsx(E.svg,{className:"w-4 h-4 relative z-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,animate:{x:[0,3,0]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]}),t.jsx("div",{className:"absolute bottom-0 right-0 w-24 h-24 bg-primary/5 rounded-tl-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},`${i.name}-${l}`))})]})]}),t.jsxs("section",{className:"py-24 md:py-32 bg-gradient-to-br from-primary via-primary-dark to-[#153a5a] text-white relative overflow-hidden",children:[t.jsx(E.div,{className:"absolute top-0 left-0 w-96 h-96 bg-white/10 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-0 right-0 w-96 h-96 bg-yellow-300/10 rounded-full blur-3xl",animate:{x:[0,-100,0],y:[0,-50,0],scale:[1,1.2,1]},transition:{duration:25,repeat:1/0,ease:"easeInOut",delay:2}}),t.jsx("div",{className:"absolute inset-0 opacity-5",children:t.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})}),[...Array(15)].map((i,l)=>t.jsx(E.div,{className:"absolute bg-white/20 rounded-full",style:{width:`${4+l%3*2}px`,height:`${4+l%3*2}px`,left:`${l*7%100}%`,top:`${l*5%100}%`},animate:{y:[0,-100,0],x:[0,l%2===0?30:-30,0],opacity:[.2,.6,.2]},transition:{duration:8+l%4,repeat:1/0,ease:"easeInOut",delay:l*.3}},`particle-${l}`)),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16 md:mb-20",children:[t.jsx(E.div,{initial:{scale:0,rotate:-180},whileInView:{scale:1,rotate:0},viewport:{once:!0},transition:{duration:.8,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-20 h-20 mb-6 bg-white/10 backdrop-blur-sm rounded-full border-2 border-white/20",children:t.jsx("span",{className:"text-4xl",children:""})}),t.jsxs(E.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.2},className:"text-5xl md:text-6xl lg:text-7xl font-extrabold mb-6 leading-tight",children:[t.jsx("span",{className:"block bg-gradient-to-r from-white via-yellow-200 to-white bg-clip-text text-transparent animate-pulse",children:"Earn more."}),t.jsx("span",{className:"block bg-gradient-to-r from-yellow-200 via-white to-yellow-200 bg-clip-text text-transparent",children:"Work faster."})]}),t.jsx(E.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.4},className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Get everything you need to complete jobs efficiently and profitably"}),t.jsx(E.div,{initial:{width:0},whileInView:{width:"100px"},viewport:{once:!0},transition:{duration:.8,delay:.6},className:"mx-auto mt-8 h-1 bg-gradient-to-r from-transparent via-yellow-300 to-transparent"})]}),t.jsxs("div",{className:"grid sm:grid-cols-1 md:grid-cols-3 gap-6 lg:gap-8 max-w-6xl mx-auto",children:[t.jsxs(E.div,{initial:{opacity:0,y:50,rotateX:-15},whileInView:{opacity:1,y:0,rotateX:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,type:"spring",stiffness:100},whileHover:{y:-12,scale:1.03,rotateY:5,transition:{duration:.3}},className:"group relative bg-white/10 backdrop-blur-md border-2 border-white/20 p-8 lg:p-10 rounded-3xl text-center hover:bg-white/15 hover:border-white/30 transition-all duration-500 overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-400/0 to-yellow-400/0 group-hover:from-yellow-400/20 group-hover:to-yellow-400/10 transition-all duration-500 rounded-3xl"}),t.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:t.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-yellow-300/50 via-transparent to-yellow-300/50 animate-pulse"})}),t.jsxs(E.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,repeatDelay:2,ease:"easeInOut"},className:"relative mb-8 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-yellow-400/20 rounded-full blur-2xl group-hover:blur-3xl transition-all duration-500"}),t.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-yellow-300/30 to-yellow-500/20 rounded-2xl flex items-center justify-center border-2 border-yellow-300/30 group-hover:border-yellow-300/50 transition-all duration-300",children:t.jsx("span",{className:"text-6xl",children:""})})]}),t.jsx("h3",{className:"text-3xl font-bold mb-4 relative z-10 group-hover:text-yellow-200 transition-colors duration-300",children:"Instant Delivery"}),t.jsx("p",{className:"text-white/80 leading-relaxed text-lg relative z-10",children:"Get materials delivered directly to your job site - no delays, no hassle"}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-yellow-300 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),t.jsxs(E.div,{initial:{opacity:0,y:50,rotateX:-15},whileInView:{opacity:1,y:0,rotateX:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,delay:.2,type:"spring",stiffness:100},whileHover:{y:-12,scale:1.03,rotateY:5,transition:{duration:.3}},className:"group relative bg-white/10 backdrop-blur-md border-2 border-white/20 p-8 lg:p-10 rounded-3xl text-center hover:bg-white/15 hover:border-white/30 transition-all duration-500 overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-400/0 to-emerald-400/0 group-hover:from-emerald-400/20 group-hover:to-emerald-400/10 transition-all duration-500 rounded-3xl"}),t.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:t.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-emerald-300/50 via-transparent to-emerald-300/50 animate-pulse"})}),t.jsxs(E.div,{animate:{scale:[1,1.15,1],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"relative mb-8 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-emerald-400/20 rounded-full blur-2xl group-hover:blur-3xl transition-all duration-500"}),t.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-emerald-300/30 to-emerald-500/20 rounded-2xl flex items-center justify-center border-2 border-emerald-300/30 group-hover:border-emerald-300/50 transition-all duration-300",children:t.jsx("span",{className:"text-6xl",children:""})})]}),t.jsx("h3",{className:"text-3xl font-bold mb-4 relative z-10 group-hover:text-emerald-200 transition-colors duration-300",children:"Best Prices"}),t.jsx("p",{className:"text-white/80 leading-relaxed text-lg relative z-10",children:"Competitive pricing for all materials - maximize your profit margins"}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-emerald-300 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),t.jsxs(E.div,{initial:{opacity:0,y:50,rotateX:-15},whileInView:{opacity:1,y:0,rotateX:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,delay:.4,type:"spring",stiffness:100},whileHover:{y:-12,scale:1.03,rotateY:5,transition:{duration:.3}},className:"group relative bg-white/10 backdrop-blur-md border-2 border-white/20 p-8 lg:p-10 rounded-3xl text-center hover:bg-white/15 hover:border-white/30 transition-all duration-500 overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/0 to-blue-400/0 group-hover:from-blue-400/20 group-hover:to-blue-400/10 transition-all duration-500 rounded-3xl"}),t.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:t.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-blue-300/50 via-transparent to-blue-300/50 animate-pulse"})}),t.jsxs(E.div,{animate:{rotate:[0,-8,8,0],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,repeatDelay:1.5,ease:"easeInOut"},className:"relative mb-8 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-blue-400/20 rounded-full blur-2xl group-hover:blur-3xl transition-all duration-500"}),t.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-blue-300/30 to-blue-500/20 rounded-2xl flex items-center justify-center border-2 border-blue-300/30 group-hover:border-blue-300/50 transition-all duration-300",children:t.jsx("span",{className:"text-6xl",children:""})})]}),t.jsx("h3",{className:"text-3xl font-bold mb-4 relative z-10 group-hover:text-blue-200 transition-colors duration-300",children:"Quality Assured"}),t.jsx("p",{className:"text-white/80 leading-relaxed text-lg relative z-10",children:"Verified and tested materials only - quality you can trust"}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-blue-300 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]})]})]})]})]})]})},RQ=()=>{const e=Zl(),r=[{icon:"",text:"Service in 2040 minutes"},{icon:"",text:"Available 24/7"},{icon:"",text:"Verified emergency technicians"},{icon:"",text:"Instant response guarantee"}],s=[{name:"Electrical Emergency",icon:"",description:"Power outage, short circuit, electrical fire risk"},{name:"Plumbing Emergency",icon:"",description:"Burst pipe, severe leak, blocked drain"},{name:"AC Emergency",icon:"",description:"AC breakdown, gas leak, compressor failure"},{name:"Lockout Emergency",icon:"",description:"Locked out, broken lock, key stuck"}];return t.jsxs(t.Fragment,{children:[t.jsx(In,{title:"Emergency Service in 20-40 Minutes | 24/7 Available | Nexo",description:"Emergency home service available 24/7. Get help in 20-40 minutes for electrical, plumbing, AC, and lockout emergencies. Response under 2 minutes. Verified technicians.",keywords:"emergency service, 24/7 service, urgent repair, emergency plumber, emergency electrician, midnight service, emergency AC repair",url:"/emergency"}),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("section",{className:"relative bg-gradient-to-br from-red-600 to-red-800 text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,-15,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(20)].map((a,n)=>t.jsx(E.div,{className:"absolute bg-white/30 rounded-full",style:{width:`${6+n%4*3}px`,height:`${6+n%4*3}px`,left:`${3+n*5%94}%`,top:`${8+n*4%85}%`},animate:{y:[0,-150,0],x:[0,n%2===0?50:-50,0],opacity:[.2,.6,.2],scale:[1,1.5,1]},transition:{duration:8+n%4,repeat:1/0,ease:"easeInOut",delay:n*.2}},`small-${n}`)),[...Array(12)].map((a,n)=>t.jsx(E.div,{className:"absolute bg-white/20 rounded-full blur-sm",style:{width:`${14+n%3*4}px`,height:`${14+n%3*4}px`,left:`${5+n*8%90}%`,top:`${10+n*6%80}%`},animate:{y:[0,-120,0],x:[0,n%2===0?60:-60,0],opacity:[.15,.4,.15],scale:[1,1.4,1]},transition:{duration:9+n%3*2,repeat:1/0,ease:"easeInOut",delay:n*.4}},`medium-${n}`)),[...Array(8)].map((a,n)=>t.jsx(E.div,{className:"absolute bg-white/10 rounded-full blur-2xl",style:{width:`${100+n%3*30}px`,height:`${100+n%3*30}px`,left:`${8+n*12%85}%`,top:`${12+n*10%75}%`},animate:{y:[0,-80,0],x:[0,n%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.1,.3,.1]},transition:{duration:10+n%3*2,repeat:1/0,ease:"easeInOut",delay:n*.8}},`large-${n}`)),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx(E.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-5xl sm:text-6xl mb-4",children:""}),t.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-3 sm:mb-4",children:"Emergency Service"}),t.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl mb-2",children:"in 2040 minutes"}),t.jsx("p",{className:"text-lg sm:text-xl mb-6 sm:mb-8 text-white/90",children:"For midnight or urgent needs"}),t.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-5 sm:p-6 max-w-2xl mx-auto mb-6 sm:mb-8",children:t.jsx("p",{className:"text-base sm:text-lg mb-2",children:"Emergency Charge: 199499"})}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2",children:[t.jsx(Er,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Request Emergency Service"]})})]})}),t.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-20 sm:h-24 bg-gray-50 pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0}})]}),t.jsx("section",{className:"py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Why Choose Emergency Service"})}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((a,n)=>t.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:n*.1},className:"bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-xl border-2 border-red-200 text-center",children:[t.jsx("span",{className:"text-5xl mb-4 block",children:a.icon}),t.jsx("p",{className:"text-lg font-semibold text-gray-800",children:a.text})]},n))})]})}),t.jsx("section",{className:"py-20 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Emergency Types"}),t.jsx("p",{className:"text-xl text-gray-600",children:"We handle all types of emergencies"})]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:s.map((a,n)=>t.jsxs(E.div,{initial:{opacity:0,x:n%2===0?-30:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:n*.1},whileHover:{scale:1.02},className:"bg-white p-8 rounded-2xl shadow-lg border-l-4 border-red-500",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[t.jsx("span",{className:"text-5xl",children:a.icon}),t.jsx("h3",{className:"text-2xl font-bold text-primary",children:a.name})]}),t.jsx("p",{className:"text-gray-600 text-lg",children:a.description})]},a.name))})]})}),t.jsx("section",{className:"py-20 bg-gradient-to-br from-red-600 to-red-800 text-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[t.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Need Help Right Now?"}),t.jsx("p",{className:"text-xl mb-8 text-white/90",children:"Our emergency team is ready 24/7"}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-red-600 px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-gray-100 transition-all duration-300 shadow-2xl hover:shadow-white/50 flex items-center gap-2",children:[t.jsx(Er,{className:"w-5 h-5"}),"Call Emergency Service"]})})]})})})]})]})},HC="http://localhost:9088",QN=({amount:e,orderData:r,onSuccess:s,onFailure:a,onCancel:n,title:i="Complete Payment",description:l="Secure payment powered by PayU"})=>{const{user:o,isAuthenticated:d}=nn(),[c,u]=g.useState(!1),[m,x]=g.useState("card"),[h,p]=g.useState(null),[f,b]=g.useState(!1);g.useRef(null);const j=async()=>{try{const y=localStorage.getItem("userToken");if(!y)throw new Error("User not authenticated");const v=(r==null?void 0:r.planId)||(r==null?void 0:r.planName),N=v?`${HC}/api/user/subscription/initiate-payment`:`${HC}/api/user-payment/initiate-payment`,S=v?{planId:r.planId,productinfo:(r==null?void 0:r.productinfo)||"Subscription Payment"}:{amount:e,phone:o.phone||"",name:o.name||"",email:o.email||"",productinfo:(r==null?void 0:r.productinfo)||"Service Payment",userId:o._id||o.userId};return(await Pt.post(N,S,{headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}})).data}catch(y){throw console.error("Initiate payment error:",y),y}},w=async()=>{var y,v;if(!d||!o){p("Please login to continue with payment");return}u(!0),p(null);try{const N=await j();if(!N.success)throw new Error(N.message||"Failed to initiate payment");const{data:S}=N,k=document.createElement("form");k.method="POST",k.action=S.action,k.style.display="none";const P={key:S.key,txnid:S.txnid,amount:S.amount,productinfo:S.productinfo,firstname:S.firstname,email:S.email,phone:S.phone,surl:S.surl,furl:S.furl,hash:S.hash};Object.keys(P).forEach(C=>{const I=document.createElement("input");I.type="hidden",I.name=C,I.value=P[C],k.appendChild(I)}),document.body.appendChild(k),b(!0),k.submit(),document.body.removeChild(k)}catch(N){console.error("Payment initiation error:",N),p(((v=(y=N.response)==null?void 0:y.data)==null?void 0:v.message)||N.message||"Payment failed"),u(!1),a&&a(N)}};return g.useEffect(()=>{const y=()=>{const v=new URLSearchParams(window.location.search),N=v.get("status"),S=v.get("txnid"),k=v.get("payid");if(N==="success"&&S)s&&s({txnid:S,payid:k,status:"success"});else if(N==="failed"){const P=v.get("reason")||"Payment failed";a&&a({message:P})}};return y(),window.addEventListener("popstate",y),()=>{window.removeEventListener("popstate",y)}},[s,a]),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden relative",children:[n&&t.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-10 w-10 h-10 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded-full transition text-gray-700 shadow-lg",children:t.jsx(Rl,{})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Amount to Pay"}),t.jsxs("div",{className:"flex items-center justify-center gap-1",children:[t.jsx(Td,{className:"text-primary text-2xl"}),t.jsx("span",{className:"text-4xl font-bold text-gray-900",children:e.toLocaleString("en-IN")})]})]}),h&&t.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rl,{className:"text-red-500"}),t.jsx("span",{className:"text-red-700 font-medium",children:"Payment Error"})]}),t.jsx("p",{className:"text-red-600 text-sm mt-1",children:h})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Qo,{className:"text-green-600"}),t.jsx("span",{className:"text-green-800 font-semibold text-sm",children:"Secure Payment"})]}),t.jsx("p",{className:"text-green-700 text-xs",children:"Your payment information is encrypted and secure. We use industry-standard security measures."})]}),t.jsx(E.button,{onClick:w,disabled:c||f,whileHover:{scale:c?1:1.02},whileTap:{scale:c?1:.98},className:`w-full py-4 rounded-xl font-bold text-lg transition-all flex items-center justify-center gap-3 ${c||f?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-primary to-primary-dark text-white hover:from-primary-dark hover:to-primary shadow-lg hover:shadow-xl"}`,children:c?t.jsxs(t.Fragment,{children:[t.jsx(ss,{className:"animate-spin"}),f?"Redirecting to PayU...":"Processing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(VN,{}),"Pay ",e.toLocaleString("en-IN")]})}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("p",{className:"text-xs text-gray-500",children:"By proceeding, you agree to our Terms of Service and Privacy Policy"})})]})]})},BQ="http://localhost:9088",$Q=()=>{const[e,r]=g.useState([]),[s,a]=g.useState([]),[n,i]=g.useState(!0),[l,o]=g.useState(null),[d,c]=g.useState(!1),[u,m]=g.useState("all"),x="919590926068",h=Zt(),{isAuthenticated:p,user:f}=nn(),b=[{id:"all",label:"All Plans",icon:ld,color:"bg-gray-100 text-gray-700"},{id:"individual",label:"Individual",icon:Ff,color:"bg-green-100 text-green-700"},{id:"business",label:"Business",icon:wC,color:"bg-blue-100 text-blue-700"},{id:"corporate",label:"Corporate",icon:Eo,color:"bg-purple-100 text-purple-700"}];g.useEffect(()=>{(async()=>{try{const A=await(await fetch(`${BQ}/api/amc-plans`)).json();A.success&&A.data&&(r(A.data),a(A.data))}catch(I){console.error("Error fetching AMC plans:",I)}finally{i(!1)}})()},[]),g.useEffect(()=>{if(u==="all")a(e);else{const C=e.filter(I=>{var A;return((A=I.planType)==null?void 0:A.toLowerCase())===u.toLowerCase()});a(C)}},[u,e]);const j=C=>{m(C)},w=C=>{if(!p){alert("Please login to proceed with payment"),h("/user-login");return}o(C),c(!0)},y=(C=null)=>{let I="Hi! I'm interested in Nexo's Corporate AMC services.";C?I+=` I would like to know more about the ${C.name} plan (${C.price.toLocaleString("en-IN")}).`:I+=" Could you please provide more details about your AMC packages?";const A=encodeURIComponent(I),O=`https://wa.me/${x}?text=${A}`;window.open(O,"_blank")},v=C=>{console.log("Payment successful:",C),c(!1),o(null),alert(`Payment successful! Your ${l==null?void 0:l.name} AMC plan is now active.`),h("/payment-result?status=success&txnid="+C.txnid)},N=C=>{console.error("Payment failed:",C),c(!1),alert("Payment failed. Please try again or contact support.")},S=()=>{c(!1),o(null)},k=[{icon:Qo,title:"Guaranteed Service",description:"24/7 priority support with guaranteed response times"},{icon:si,title:"Scheduled Maintenance",description:"Regular preventive maintenance to avoid breakdowns"},{icon:ga,title:"Expert Technicians",description:"Certified professionals with years of experience"},{icon:gX,title:"Dedicated Support",description:"Dedicated account manager for your business needs"},{icon:go,title:"Quality Assurance",description:"100% satisfaction guarantee on all services"},{icon:bO,title:"Cost Savings",description:"Up to 40% savings compared to ad-hoc repairs"}],P=[{icon:uX,title:"AC Maintenance",description:"Complete AC servicing, cleaning, and repairs"},{icon:vX,title:"Electrical Services",description:"Electrical maintenance, wiring, and installations"},{icon:ga,title:"Plumbing Services",description:"Plumbing repairs, maintenance, and installations"},{icon:fX,title:"General Maintenance",description:"Carpentry, painting, and general facility maintenance"}];return t.jsxs(t.Fragment,{children:[t.jsx(In,{title:"Corporate AMC Plans | Nexo - Annual Maintenance Contracts for Businesses",description:"Comprehensive Annual Maintenance Contract (AMC) plans for businesses. Get priority support, scheduled maintenance, and cost-effective solutions for your company's facility management needs.",keywords:"corporate AMC, annual maintenance contract, business maintenance, facility management, corporate services, AMC plans",url:"/corporate-amc"}),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d&&l&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsx(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"max-w-md w-full",children:t.jsx(QN,{amount:l.price,orderData:{productinfo:`${l.name} AMC Plan`,userId:(f==null?void 0:f._id)||(f==null?void 0:f.userId)},onSuccess:v,onFailure:N,onCancel:S,title:`Pay for ${l.name}`,description:`Annual Maintenance Contract - ${l.name}`})})}),t.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-16 lg:py-24 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-32 h-32 bg-white/10 rounded-full blur-2xl",animate:{y:[0,-20,0],x:[0,10,0],scale:[1,1.1,1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-40 h-40 bg-yellow-300/10 rounded-full blur-2xl",animate:{y:[0,20,0],x:[0,-15,0],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:1}}),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx(E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.8,type:"spring"},className:"inline-block mb-6",children:t.jsx(Eo,{className:"w-16 h-16 text-yellow-300"})}),t.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Corporate AMC Plans"}),t.jsx("p",{className:"text-xl md:text-2xl mb-8 text-yellow-300 font-semibold",children:"Annual Maintenance Contracts for Your Business"}),t.jsx("p",{className:"text-lg mb-10 max-w-3xl mx-auto text-white/90",children:"Comprehensive facility maintenance solutions designed for businesses. Get priority support, scheduled maintenance, and significant cost savings with our AMC plans."}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4",children:[t.jsxs(E.button,{onClick:()=>y(),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-8 py-4 rounded-full text-lg font-bold shadow-xl hover:shadow-2xl transition-all duration-300 flex items-center gap-3",children:[t.jsx(Er,{className:"w-6 h-6"}),"Get Quote on WhatsApp"]}),t.jsx(E.button,{onClick:()=>{const C=document.querySelector("#amc-plans");C==null||C.scrollIntoView({behavior:"smooth"})},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white/20 text-white px-8 py-4 rounded-full text-lg font-semibold border border-white/40 hover:bg-white/30 transition-all duration-300",children:"View Plans"})]})]})})]}),t.jsx("section",{className:"py-16 lg:py-24 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose Nexo AMC?"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our Annual Maintenance Contracts provide comprehensive coverage and peace of mind for your business operations"})]}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:k.map((C,I)=>{const A=C.icon;return t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:I*.1},whileHover:{y:-5,scale:1.02},className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary/10 to-primary/20 rounded-2xl flex items-center justify-center mb-6",children:t.jsx(A,{className:"w-8 h-8 text-primary"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:C.title}),t.jsx("p",{className:"text-gray-600 leading-relaxed",children:C.description})]},I)})})]})}),t.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Services Covered"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Comprehensive maintenance services for all your business facility needs"})]}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:P.map((C,I)=>{const A=C.icon;return t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:I*.1},whileHover:{y:-5,scale:1.02},className:"bg-white p-6 rounded-xl shadow-md border border-gray-100 hover:shadow-lg transition-all duration-300 text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary/10 to-primary/20 rounded-xl flex items-center justify-center mx-auto mb-4",children:t.jsx(A,{className:"w-6 h-6 text-primary"})}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:C.title}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:C.description})]},I)})})]})}),t.jsx("section",{id:"amc-plans",className:"py-16 lg:py-24 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Choose Your AMC Plan"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Flexible plans designed to meet different business needs and budgets"}),t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"flex flex-wrap justify-center gap-3 mb-8",children:b.map(C=>{const I=C.icon,A=u===C.id;return t.jsxs(E.button,{onClick:()=>j(C.id),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:`flex items-center gap-2 px-4 py-2 rounded-full font-semibold transition-all duration-300 ${A?"bg-primary text-white shadow-lg transform scale-105":`${C.color} hover:shadow-md`}`,children:[t.jsx(I,{className:"w-4 h-4"}),t.jsx("span",{children:C.label}),C.id!=="all"&&t.jsx("span",{className:`ml-1 px-2 py-0.5 rounded-full text-xs font-bold ${A?"bg-white/20 text-white":"bg-white/60 text-gray-700"}`,children:e.filter(O=>{var R;return((R=O.planType)==null?void 0:R.toLowerCase())===C.id.toLowerCase()}).length}),C.id==="all"&&t.jsx("span",{className:`ml-1 px-2 py-0.5 rounded-full text-xs font-bold ${A?"bg-white/20 text-white":"bg-white/60 text-gray-700"}`,children:e.length})]},C.id)})}),t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-gray-600 mb-4",children:u==="all"?t.jsxs("span",{children:["Showing all ",s.length," AMC plans"]}):t.jsxs("span",{children:["Showing ",s.length," ",u," plan",s.length!==1?"s":"",s.length===0&&t.jsx("span",{className:"text-amber-600 font-medium",children:" - No plans available for this category"})]})})]}),n?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Loading AMC plans..."})]}):s.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Eo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:u==="all"?"No AMC Plans Available":`No ${u.charAt(0).toUpperCase()+u.slice(1)} Plans Available`}),t.jsx("p",{className:"text-gray-600 mb-6",children:u==="all"?"We're currently setting up our AMC plans. Please contact us for custom quotes.":`No ${u} plans are currently available. Try selecting a different category or contact us for custom quotes.`}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4",children:[u!=="all"&&t.jsx(E.button,{onClick:()=>j("all"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-full font-semibold hover:bg-gray-300 transition-all duration-300",children:"View All Plans"}),t.jsxs(E.button,{onClick:()=>y(),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-primary text-white px-6 py-3 rounded-full font-semibold hover:bg-primary-dark transition-all duration-300 flex items-center gap-2",children:[t.jsx(Er,{className:"w-5 h-5"}),"Contact Us"]})]})]}):t.jsx(E.div,{layout:!0,className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map((C,I)=>t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:I*.2},whileHover:{y:-10,scale:1.02},className:`bg-white rounded-2xl shadow-xl border-2 transition-all duration-300 overflow-hidden ${C.highlight?"border-primary scale-105 shadow-2xl shadow-primary/20":"border-gray-200 hover:border-primary/30 hover:shadow-2xl"}`,children:[C.highlight&&t.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-dark text-white text-center py-2 px-4",children:t.jsx("span",{className:"text-sm font-bold",children:C.highlightText||"MOST POPULAR"})}),t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"text-center mb-6",children:[C.planType&&t.jsx("div",{className:"mb-3",children:t.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold ${C.planType.toLowerCase()==="individual"?"bg-green-100 text-green-700":C.planType.toLowerCase()==="business"?"bg-blue-100 text-blue-700":C.planType.toLowerCase()==="corporate"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:[C.planType.toLowerCase()==="individual"&&t.jsx(Ff,{className:"w-3 h-3"}),C.planType.toLowerCase()==="business"&&t.jsx(wC,{className:"w-3 h-3"}),C.planType.toLowerCase()==="corporate"&&t.jsx(Eo,{className:"w-3 h-3"}),C.planType.charAt(0).toUpperCase()+C.planType.slice(1)," Plan"]})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:C.name}),t.jsxs("div",{className:"mb-4",children:[t.jsx("span",{className:"text-4xl font-bold text-primary",children:C.priceDisplay||`${C.price.toLocaleString("en-IN")}`}),t.jsx("span",{className:"text-gray-600",children:"/year"})]}),C.description&&t.jsx("p",{className:"text-gray-600 text-sm",children:C.description})]}),t.jsx("ul",{className:"space-y-3 mb-6",children:C.features.map((A,O)=>t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ue,{className:"text-green-500 mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700 text-sm",children:A})]},O))}),C.includedServices&&C.includedServices.length>0&&t.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:[t.jsxs("h4",{className:"text-sm font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[t.jsx(ga,{className:"text-primary"}),"Included Services (",C.includedServices.length,")"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[C.includedServices.slice(0,4).map((A,O)=>t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-gray-700 font-medium",children:typeof A=="object"?A.name:A}),C.serviceFrequency&&C.serviceFrequency[A._id||A]&&t.jsx("span",{className:"text-primary font-semibold",children:C.serviceFrequency[A._id||A]==="unlimited"?"Unlimited":`${C.serviceFrequency[A._id||A]}x/year`})]},O)),C.includedServices.length>4&&t.jsxs("div",{className:"text-xs text-gray-500 font-medium",children:["+",C.includedServices.length-4," more services"]})]})]}),C.duration&&t.jsx("div",{className:"mb-6 text-center",children:t.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:[t.jsx(si,{className:"mr-1"}),C.duration," ",C.durationUnit||"months"," plan"]})}),t.jsxs(E.button,{onClick:()=>w(C),whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:`w-full py-4 rounded-xl font-bold transition-all duration-300 flex items-center justify-center gap-2 ${C.highlight?"bg-gradient-to-r from-primary to-primary-dark text-white hover:from-primary-dark hover:to-primary shadow-lg":"bg-gradient-to-r from-gray-100 to-gray-200 text-primary hover:from-gray-200 hover:to-gray-300"}`,children:["Buy ",C.name," Plan"]})]})]},C._id||I))})]})}),t.jsx("section",{className:"py-16 lg:py-24 bg-gradient-to-br from-primary to-primary-dark text-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Get Started?"}),t.jsx("p",{className:"text-xl mb-10 max-w-3xl mx-auto text-white/90",children:"Contact our team to discuss your business requirements and get a customized AMC plan"}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-6",children:[t.jsxs(E.button,{onClick:()=>y(),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-8 py-4 rounded-full text-lg font-bold shadow-xl hover:shadow-2xl transition-all duration-300 flex items-center gap-3",children:[t.jsx(Er,{className:"w-6 h-6"}),"Chat on WhatsApp"]}),t.jsxs(E.a,{href:`tel:+91${x}`,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white/20 text-white px-8 py-4 rounded-full text-lg font-semibold border border-white/40 hover:bg-white/30 transition-all duration-300 flex items-center gap-3",children:[t.jsx(WN,{className:"w-5 h-5"}),"Call Now"]})]})]})})})]})]})},zQ=()=>{const e=Zl(),r=[{name:"Brand Promotions",icon:"",description:"Showcase your brand to thousands of customers",benefits:["Featured listings","Brand visibility","Customer reach"]},{name:"Featured Listings",icon:"",description:"Get priority placement in service categories",benefits:["Top placement","Higher visibility","More leads"]},{name:"Sponsored Tool Partners",icon:"",description:"Partner with technicians and service providers",benefits:["Direct access","Loyalty programs","Bulk orders"]},{name:"Technician Loyalty Partnerships",icon:"",description:"Build long-term relationships with service partners",benefits:["Exclusive deals","Training programs","Co-marketing"]}],s=[{name:"Tools",icon:""},{name:"Appliances",icon:""},{name:"Paint",icon:""},{name:"Hardware",icon:""},{name:"Electrical",icon:""},{name:"Plumbing",icon:""}],a=[{icon:"",text:"Access to thousands of customers"},{icon:"",text:"Direct connection with technicians"},{icon:"",text:"Increased brand awareness"},{icon:"",text:"Higher sales volume"},{icon:"",text:"Targeted marketing"},{icon:"",text:"Long-term partnerships"}];return t.jsxs(t.Fragment,{children:[t.jsx(In,{title:"Partner with Us | Brand Partnerships | Nexo",description:"Showcase your tools, appliances, paint, or hardware brand to thousands of customers and technicians. Brand promotions, featured listings, sponsored tool partners, technician loyalty partnerships.",keywords:"brand partnership, brand collaboration, business partnership, brand promotion, featured listing, sponsored partners",url:"/brand-partnerships"}),t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,-15,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(20)].map((n,i)=>t.jsx(E.div,{className:"absolute bg-white/30 rounded-full",style:{width:`${6+i%4*3}px`,height:`${6+i%4*3}px`,left:`${3+i*5%94}%`,top:`${8+i*4%85}%`},animate:{y:[0,-150,0],x:[0,i%2===0?50:-50,0],opacity:[.2,.6,.2],scale:[1,1.5,1]},transition:{duration:8+i%4,repeat:1/0,ease:"easeInOut",delay:i*.2}},`small-${i}`)),[...Array(12)].map((n,i)=>t.jsx(E.div,{className:"absolute bg-white/20 rounded-full blur-sm",style:{width:`${14+i%3*4}px`,height:`${14+i%3*4}px`,left:`${5+i*8%90}%`,top:`${10+i*6%80}%`},animate:{y:[0,-120,0],x:[0,i%2===0?60:-60,0],opacity:[.15,.4,.15],scale:[1,1.4,1]},transition:{duration:9+i%3*2,repeat:1/0,ease:"easeInOut",delay:i*.4}},`medium-${i}`)),[...Array(8)].map((n,i)=>t.jsx(E.div,{className:"absolute bg-white/10 rounded-full blur-2xl",style:{width:`${100+i%3*30}px`,height:`${100+i%3*30}px`,left:`${8+i*12%85}%`,top:`${12+i*10%75}%`},animate:{y:[0,-80,0],x:[0,i%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.1,.3,.1]},transition:{duration:10+i%3*2,repeat:1/0,ease:"easeInOut",delay:i*.8}},`large-${i}`)),t.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4",children:"Partner with Us"}),t.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mb-6 sm:mb-8 text-white/90",children:"Showcase your tools, appliances, paint, or hardware brand to thousands of customers and technicians"}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2",children:[t.jsx(Er,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Partner With Us"]})})]})}),t.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-20 sm:h-24 bg-gray-50 pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0}})]}),t.jsx("section",{className:"py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Partnership Types"})}),t.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:r.map((n,i)=>t.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:i*.1},whileHover:{y:-5,scale:1.02},className:"bg-gradient-to-br from-primary/5 to-primary/10 p-8 rounded-2xl border border-primary/20 shadow-lg",children:[t.jsx("div",{className:"text-5xl mb-4",children:n.icon}),t.jsx("h3",{className:"text-2xl font-bold text-primary mb-3",children:n.name}),t.jsx("p",{className:"text-gray-700 mb-4 text-lg",children:n.description}),t.jsx("ul",{className:"space-y-2",children:n.benefits.map((l,o)=>t.jsxs("li",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx("span",{className:"text-primary",children:""}),l]},o))})]},n.name))})]})}),t.jsx("section",{className:"py-20 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Brand Categories"}),t.jsx("p",{className:"text-xl text-gray-600",children:"We partner with brands across all categories"})]}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((n,i)=>t.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:i*.1},className:"bg-white p-8 rounded-xl shadow-lg border border-gray-200 text-center hover:shadow-xl transition-all duration-300",children:[t.jsx("span",{className:"text-5xl mb-4 block",children:n.icon}),t.jsx("h3",{className:"text-xl font-bold text-primary",children:n.name})]},n.name))})]})}),t.jsx("section",{className:"py-20 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:t.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Why Partner With Us"})}),t.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((n,i)=>t.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:i*.1},className:"flex items-center gap-4 bg-gray-50 p-6 rounded-xl",children:[t.jsx("span",{className:"text-4xl",children:n.icon}),t.jsx("span",{className:"text-lg font-semibold text-gray-800",children:n.text})]},i))})]})}),t.jsx("section",{className:"py-20 bg-gradient-to-br from-primary to-primary-dark text-white",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[t.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Ready to Grow Together?"}),t.jsx("p",{className:"text-xl mb-8 text-white/90",children:"Join us and reach thousands of customers and technicians"}),t.jsx("div",{className:"flex justify-center",children:t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-primary px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-gray-100 transition-all duration-300 shadow-2xl hover:shadow-white/50 flex items-center gap-2",children:[t.jsx(Er,{className:"w-5 h-5"}),"Start Partnership Discussion"]})})]})})})]})]})},UQ=({paymentData:e,onSuccess:r,onFailure:s})=>{const a=g.useRef(null);return g.useEffect(()=>{e&&a.current&&a.current.submit()},[e]),e?t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full mx-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Redirecting to Payment Gateway"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Please wait while we redirect you to secure payment page..."})]}),t.jsxs("form",{ref:a,action:e.action,method:"post",style:{display:"none"},children:[t.jsx("input",{type:"hidden",name:"key",value:e.key}),t.jsx("input",{type:"hidden",name:"txnid",value:e.txnid}),t.jsx("input",{type:"hidden",name:"amount",value:e.amount}),t.jsx("input",{type:"hidden",name:"productinfo",value:e.productinfo}),t.jsx("input",{type:"hidden",name:"firstname",value:e.firstname}),t.jsx("input",{type:"hidden",name:"email",value:e.email}),t.jsx("input",{type:"hidden",name:"phone",value:e.phone}),t.jsx("input",{type:"hidden",name:"surl",value:e.surl}),t.jsx("input",{type:"hidden",name:"furl",value:e.furl}),t.jsx("input",{type:"hidden",name:"hash",value:e.hash})]})]})}):null},VC=[{id:"ac-service",name:"AC Service",icon:""},{id:"plumbing",name:"Plumbing",icon:""},{id:"electrical",name:"Electrical",icon:""},{id:"cleaning",name:"Cleaning",icon:""}],HQ=[{name:"Silver",price:1e3,leads:20,commission:5,leadFee:50,minWalletBalance:20,icon:"",color:"bg-gray-100",borderColor:"border-gray-300",features:["Priority support","Weekly performance insights"]},{name:"Gold",price:2e3,leads:50,commission:4,leadFee:40,minWalletBalance:50,icon:"",color:"bg-yellow-50",borderColor:"border-yellow-300",features:["Dedicated success manager","Higher lead priority"]},{name:"Platinum",price:5e3,leads:150,commission:3,leadFee:30,minWalletBalance:100,icon:"",color:"bg-purple-50",borderColor:"border-purple-300",features:["Featured listing","Daily performance insights","Fast-track payouts"]}],VQ=({currentStep:e,setCurrentStep:r,formData:s,token:a})=>{var f,b,j;const[n,i]=g.useState(!1),[l,o]=g.useState(!1),[d,c]=g.useState(!1),[u,m]=g.useState(new Date),[x,h]=g.useState(0);g.useEffect(()=>{const w=async()=>{var v,N;if(a){c(!0);try{const S=await jt.getProfile(a);if(S.success&&S.profile){const k=S.profile;console.log("Profile status check:",k);const P=k.paymentApproved===!0||k.registerdFee===!0||((v=k.profile)==null?void 0:v.paymentApproved)===!0||((N=k.profile)==null?void 0:N.registerdFee)===!0,C=k.status==="approved"||k.isApproved===!0||k.approvedAt,I=C&&P;if(console.log("Payment verified:",P,"Profile approved:",C,"Overall approved:",I),i(I),o(P),m(new Date),I)try{await jt.updateOnboardingStep(a,{step:9,completed:!0,approved:!0,approvedAt:new Date().toISOString()})}catch(A){console.error("Error updating step completion:",A)}}}catch(S){console.error("Error checking approval status:",S)}finally{c(!1)}}};w();const y=setInterval(w,6e4);return()=>clearInterval(y)},[a]),g.useEffect(()=>{const w=setInterval(()=>{h(y=>y+1)},1e3);return()=>clearInterval(w)},[]);const p=w=>{const y=Math.floor(w/60),v=w%60;return`${y}:${v.toString().padStart(2,"0")}`};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8,bounce:.4},className:"w-28 h-28 bg-gradient-to-br from-blue-400 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl",children:t.jsx(E.div,{animate:{rotate:d?360:0,scale:d?[1,1.2,1]:[1,1.1,1]},transition:{rotate:{duration:d?1:3,repeat:1/0,ease:"linear"},scale:{duration:d?.5:2,repeat:1/0,ease:"easeInOut"}},className:"w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg",children:n?t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5},children:t.jsx(cX,{className:"w-10 h-10 text-green-600"})}):t.jsx(yX,{className:"w-10 h-10 text-blue-600"})})}),t.jsx(E.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-primary mb-2",children:n?"Profile Approved!":l?"Your Account Under Review":"Waiting for Payment Verification"}),t.jsx(E.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-gray-600 mb-4",children:n?"Congratulations! Your profile has been approved and payment verified. You can now proceed to select your MG plan.":l?"Your payment has been successfully verified! Your partner account is now under review by our admin team. We will notify you once approved.":"Your payment is being verified by our admin team. Once approved, your profile will be reviewed."}),t.jsxs(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7},className:`inline-flex items-center gap-3 px-4 py-2 rounded-full text-sm font-medium ${n?"bg-green-100 text-green-800 border border-green-200":l?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[d?t.jsx(AX,{className:"animate-spin"}):n?t.jsx(Ue,{className:"text-green-600"}):l?t.jsx(Ue,{className:"text-yellow-600"}):t.jsx(si,{className:"text-blue-600"}),t.jsx("span",{children:d?"Checking status...":n?"Profile & Payment Approved":l?"Payment Verified - Profile Review Pending":`Payment Verification Pending  Last checked: ${u.toLocaleTimeString()}`})]})]}),l&&s.payment.payId&&t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-green-50 rounded-2xl p-6 border-2 border-green-200 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(Ue,{className:"text-green-600 text-2xl"}),t.jsx("h3",{className:"text-lg font-bold text-green-800",children:"Payment Details"})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Transaction ID:"}),t.jsx("span",{className:"font-mono font-semibold text-gray-800",children:s.payment.payId})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Registration Fee:"}),t.jsxs("span",{className:"font-semibold text-gray-800",children:["",(f=s.payment.registrationFee)==null?void 0:f.toLocaleString()]})]}),s.payment.securityDepositSelected&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Security Deposit:"}),t.jsxs("span",{className:"font-semibold text-gray-800",children:["",(b=s.payment.securityDeposit)==null?void 0:b.toLocaleString()]})]}),s.toolkit.selected&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Toolkit:"}),t.jsxs("span",{className:"font-semibold text-gray-800",children:["",(j=s.toolkit.price)==null?void 0:j.toLocaleString()]})]}),t.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Total Paid:"}),t.jsxs("span",{className:"font-bold text-lg text-green-600",children:["",((s.payment.registrationFee||0)+(s.payment.securityDepositSelected&&s.payment.securityDeposit||0)+(s.toolkit.selected&&s.toolkit.price||0)).toLocaleString()]})]})}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Payment Status:"}),t.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-semibold",children:[t.jsx(Ue,{}),"Verified"]})]})]})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:`bg-gradient-to-br rounded-2xl p-6 border-2 ${n?"from-green-50 to-emerald-100 border-green-200":l?"from-yellow-50 to-amber-100 border-yellow-200":"from-blue-50 to-indigo-100 border-blue-200"}`,children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"flex items-center justify-center gap-3 mb-4",children:n?t.jsxs(t.Fragment,{children:[t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"w-4 h-4 bg-green-500 rounded-full"}),t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,delay:.3},className:"w-4 h-4 bg-green-500 rounded-full"}),t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,delay:.6},className:"w-4 h-4 bg-green-500 rounded-full"})]}):t.jsxs(t.Fragment,{children:[t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0},className:"w-4 h-4 bg-blue-500 rounded-full"}),t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,delay:.2},className:"w-4 h-4 bg-blue-500 rounded-full"}),t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,delay:.4},className:"w-4 h-4 bg-blue-500 rounded-full"})]})}),t.jsx("h3",{className:`text-xl font-semibold mb-2 ${n?"text-green-800":l?"text-yellow-800":"text-blue-800"}`,children:n?"Review Completed Successfully":l?"Profile Review in Progress":"Payment Verification Pending"}),t.jsx("p",{className:`text-sm ${n?"text-green-600":l?"text-yellow-600":"text-blue-600"}`,children:n?"All verification checks have been completed successfully":l?"Your payment has been verified. Our team is now reviewing your profile information.":"Your payment is being verified by our admin team before profile review begins."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1},className:"flex items-start gap-3",children:[t.jsx(E.div,{animate:l?{scale:[1,1.2,1]}:{},className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${l?"bg-yellow-100":"bg-gray-100"}`,children:t.jsx(_i,{className:`w-4 h-4 ${l?"text-yellow-600":"text-gray-400"}`})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-800",children:"Payment Verification"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Registration fee and payment details verification"})]})]}),t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.1},className:"flex items-start gap-3",children:[t.jsx(E.div,{animate:n?{scale:[1,1.2,1]}:{},className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${n||l?"bg-green-100":"bg-gray-100"}`,children:t.jsx(Ue,{className:`w-4 h-4 ${n?"text-green-600":l?"text-green-500":"text-gray-400"}`})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-800",children:"Documents Verified"}),t.jsx("div",{className:"text-sm text-gray-600",children:"KYC documents, address proof, and business details checked"})]})]}),t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.3},className:"flex items-start gap-3",children:[t.jsx(E.div,{animate:n?{scale:[1,1.2,1]}:{},className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${n||l?"bg-blue-100":"bg-gray-100"}`,children:t.jsx(Qo,{className:`w-4 h-4 ${n?"text-blue-600":l?"text-blue-500":"text-gray-400"}`})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-800",children:"Background Check"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Business legitimacy and service category verification"})]})]}),t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.5},className:"flex items-start gap-3",children:[t.jsx(E.div,{animate:n?{scale:[1,1.2,1]}:{},className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${n||l?"bg-purple-100":"bg-gray-100"}`,children:t.jsx(Ha,{className:`w-4 h-4 ${n?"text-purple-600":l?"text-purple-500":"text-gray-400"}`})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-800",children:"Final Approval"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Account activation and partner onboarding completion"})]})]})]})]}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.8},className:"text-center",children:n?t.jsxs(E.button,{onClick:()=>r(11),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-primary text-white px-8 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition flex items-center gap-2 mx-auto",children:["Proceed to MG Plan Selection",t.jsx(on,{})]}):t.jsxs("div",{className:`border-2 rounded-xl p-4 max-w-md mx-auto ${l?"bg-yellow-50 border-yellow-200":"bg-gray-100 border-gray-200"}`,children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[t.jsx(si,{className:`${l?"text-yellow-500":"text-gray-500"}`}),t.jsx("span",{className:`text-sm font-medium ${l?"text-yellow-700":"text-gray-700"}`,children:l?"Waiting for Profile Approval":"Waiting for Payment Verification"})]}),t.jsx("p",{className:"text-xs text-gray-600 text-center",children:l?"Your payment has been verified! Your profile is now under review by our team.":"Your payment is being verified by our admin team. You will be notified once approved."}),t.jsx("div",{className:"mt-3 text-center",children:t.jsxs("span",{className:"text-xs text-gray-500",children:["Time elapsed: ",p(x)]})})]})}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2},className:"bg-gray-50 rounded-xl p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsxs("div",{className:"text-sm",children:[t.jsx("div",{className:"font-medium text-gray-800",children:"Need Help?"}),t.jsx("div",{className:"text-gray-600",children:"Contact our support team if you have any questions about your application status."})]})]})}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2.2},className:"border-t border-gray-200 pt-6",children:t.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[t.jsxs("div",{className:"text-center mb-3",children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Want to register a new partner?"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Clear all saved data and start fresh registration"})]}),t.jsxs(E.button,{onClick:()=>{window.confirm("Are you sure you want to start a new registration? This will clear all saved data from this device.")&&(localStorage.removeItem("partnerOnboardingStep"),localStorage.removeItem("partnerOnboardingFormData"),localStorage.removeItem("partnerOnboardingToken"),localStorage.removeItem("partnerOnboardingPartnerData"),window.location.href="/partner/onboard")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-blue-600 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-blue-700 transition shadow-md",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Register New Partner"]})]})})]})},WC=()=>{var pt;const e=$r(),[r]=$0(),s=r.get("from")==="leads"||((pt=e.state)==null?void 0:pt.fromLeads),n=(()=>{try{const ge=localStorage.getItem("partnerOnboardingStep"),U=localStorage.getItem("partnerOnboardingToken"),de=localStorage.getItem("partnerOnboardingFormData"),Ve=localStorage.getItem("partnerOnboardingPartnerData");return{step:ge?parseInt(ge):1,token:U||null,formData:de?JSON.parse(de):null,partnerData:Ve?JSON.parse(Ve):null}}catch(ge){return console.error("Error loading saved data:",ge),{step:1,token:null,formData:null,partnerData:null}}})(),[i,l]=g.useState(n.step),[o,d]=g.useState(n.token),[c,u]=g.useState(n.partnerData),[m,x]=g.useState(!1),[h,p]=g.useState(n.formData||{phone:"",otp:"",name:"",email:"",whatsappNumber:"",qualification:"",experience:"",address:"",landmark:"",pincode:"",city:"",referralCode:"",gstNumber:"",partnerType:"individual",trade:"",categories:[],categoryNames:[],subcategory:"",service:"",modeOfService:"offline",profilePicture:null,selectedHubs:[],selectedPlan:null,selectedPlanId:null,kyc:{panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}},toolkit:{selected:!1,type:"ac-toolkit",price:2499},payment:{registrationFee:0,securityDeposit:0,securityDepositSelected:!0,total:0,payId:"",paidBy:"Self"},terms:{accepted:!1,signature:null}}),[f,b]=g.useState(!1),[j,w]=g.useState(null),[y,v]=g.useState(!1),[N,S]=g.useState(0),[k,P]=g.useState(null),[C,I]=g.useState([]),[A,O]=g.useState(!1),[R,Z]=g.useState([]),[Y,ce]=g.useState(!1),[D,z]=g.useState(null),[se,K]=g.useState([]),[_,M]=g.useState(!1),F=g.useRef(null),B=g.useRef(null),[q,ae]=g.useState(!1),[V,G]=g.useState(null),[te,pe]=g.useState(!1),ye=Zl(),{openDialog:he}=GN(),[Qe,W]=g.useState(null),[Ie,Se]=g.useState(!1),we=12,L=C.find(ge=>ge.name===h.selectedPlan);g.useEffect(()=>{if(N>0){const ge=setTimeout(()=>S(N-1),1e3);return()=>clearTimeout(ge)}},[N]),g.useEffect(()=>{try{(h.phone||h.name||h.email)&&localStorage.setItem("partnerOnboardingFormData",JSON.stringify(h))}catch(ge){console.error("Error saving form data:",ge)}},[h]),g.useEffect(()=>{try{localStorage.setItem("partnerOnboardingStep",i.toString())}catch(ge){console.error("Error saving step:",ge)}},[i]),g.useEffect(()=>{try{o&&localStorage.setItem("partnerOnboardingToken",o)}catch(ge){console.error("Error saving token:",ge)}},[o]),g.useEffect(()=>{try{c&&localStorage.setItem("partnerOnboardingPartnerData",JSON.stringify(c))}catch(ge){console.error("Error saving partner data:",ge)}},[c]),g.useEffect(()=>{if(i===11&&(h.selectedPlan||m))try{localStorage.removeItem("partnerOnboardingStep"),localStorage.removeItem("partnerOnboardingFormData"),localStorage.removeItem("partnerOnboardingToken"),localStorage.removeItem("partnerOnboardingPartnerData"),console.log(" Onboarding complete - localStorage cleared")}catch(ge){console.error("Error clearing localStorage:",ge)}},[i,h.selectedPlan,m]),g.useEffect(()=>{const ge=r.get("payment"),U=r.get("txnid"),de=r.get("payid"),Ve=r.get("reason");if(ge==="success"&&U&&de)console.log(" Payment callback received:",{txnid:U,payid:de}),(async()=>{try{b(!0),w(null);const Ge="http://localhost:9088";console.log(" Verifying payment with:",`${Ge}/api/payu/payment-status/${U}`);const me=await fetch(`${Ge}/api/payu/payment-status/${U}`,{method:"GET",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}),Be=me.headers.get("content-type");if(!Be||!Be.includes("application/json"))throw console.error(" API returned non-JSON response:",Be),new Error("Invalid API response format. Please check backend configuration.");const et=await me.json();console.log(" Payment verification response:",et),et.success&&et.data.status==="completed"&&et.data.approved?(console.log(" Payment verified by backend:",et.data),p(mt=>({...mt,payment:{...mt.payment,payId:de,status:"completed"}})),setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100)):et.success&&(et.data.status==="pending"||et.data.status==="initiated")?(console.log(" Payment status:",et.data.status,"- Waiting for PayU callback or admin approval"),p(mt=>({...mt,payment:{...mt.payment,payId:de,status:(et.data.status==="initiated","pending")}})),et.data.status==="initiated"?(w("Payment is being processed by PayU. Please wait..."),setTimeout(()=>{console.log(" Retrying payment verification..."),window.location.reload()},3e3)):setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100)):(console.log(" Payment verification failed:",et),w(et.message||"Payment verification failed. Please contact support."),p(mt=>({...mt,payment:{...mt.payment,payId:U,status:"failed"}})),setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100))}catch(Ge){console.error("Payment verification error:",Ge),w(`Failed to verify payment: ${Ge.message}. Please contact support with transaction ID: ${U}`),p(me=>({...me,payment:{...me.payment,payId:U,status:"failed"}})),setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100)}finally{b(!1)}})();else if(ge==="failed"){console.log(" Payment failed:",{reason:Ve,txnid:U});const Ge={E4179:"Payment was cancelled. Please try again.",E000:"Payment failed. Please check your payment details and try again.",E001:"Unauthorized payment key. Please contact support.",E002:"Invalid transaction. Please try again.",E003:"Payment declined by bank. Please try a different payment method.",E004:"Insufficient funds. Please check your account balance.",E005:"Transaction timeout. Please try again.",payment_failed:"Payment could not be processed. Please try again.",invalid_hash:"Security verification failed. Please contact support.",server_error:"Server error occurred. Please try again later."}[Ve]||`Payment failed: ${Ve||"Unknown error"}. Please try again.`;w(Ge),p(me=>({...me,payment:{...me.payment,payId:U||"",status:"failed"}})),setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100)}},[r,o]),g.useEffect(()=>{(async()=>{if(i===4){ce(!0);try{const U=await jt.getCategories(o||"");(U.success&&U.categories||U.categories&&Array.isArray(U.categories))&&Z(U.categories)}catch(U){console.error("Failed to fetch Categories:",U),Z(VC)}finally{ce(!1)}}})()},[i,o]),g.useEffect(()=>{(async()=>{try{const U=await jt.getPricingSettings();if(U.success&&U.data){const de=h.partnerType||"individual",Ve=U.data[de]||U.data,Je={...U.data,registrationFee:Ve.registrationFee,securityDeposit:Ve.securityDeposit,toolkitPrice:Ve.toolkitPrice,registrationFeeRefundable:Ve.registrationFeeRefundable!==void 0?!!Ve.registrationFeeRefundable:!1,securityDepositRefundable:Ve.securityDepositRefundable!==void 0?!!Ve.securityDepositRefundable:!1,toolkitPriceRefundable:Ve.toolkitPriceRefundable!==void 0?!!Ve.toolkitPriceRefundable:!1};z(Je),p(Ge=>{const me=Ve.registrationFee||500,Be=Ve.securityDeposit||1e3,et=Ge.payment.securityDepositSelected?Be:0,mt=Ve.toolkitPrice||2499,ut=Ge.toolkit.selected;return console.log("Updating fees for partner type:",h.partnerType,{registrationFee:me,baseSecurityDeposit:Be,securityDeposit:et,toolkitPrice:mt,securityDepositSelected:Ge.payment.securityDepositSelected,toolkitSelected:ut}),{...Ge,payment:{...Ge.payment,registrationFee:me,securityDeposit:et,total:me+et+(ut?mt:0)},toolkit:{...Ge.toolkit,price:mt}}})}}catch(U){console.error("Failed to fetch pricing settings:",U)}})()},[h.partnerType]),g.useEffect(()=>{(async()=>{if(o&&i===5){M(!0);try{const U=await jt.getAvailableServiceHubs(o);U.success&&U.data&&K(U.data||[])}catch(U){console.error("Failed to fetch available hubs:",U),K([])}finally{M(!1)}}})()},[o,i]),g.useEffect(()=>{if(i!==6){const Ge=F.current;Ge&&Ge._cleanup&&(Ge._cleanup(),Ge._cleanup=null);return}const ge=()=>{const Ge=F.current;if(!Ge||!Ge.isConnected)return!1;const me=Ge.getContext("2d");if(!me)return console.error("Could not get canvas context"),!1;const Be=Ge.parentElement;if(!Be)return!1;const et=Be.getBoundingClientRect();if(et.width===0||et.height===0)return!1;const mt=window.devicePixelRatio||1;Ge.width=et.width*mt,Ge.height=150*mt,Ge.style.width=et.width+"px",Ge.style.height="150px",me.setTransform(1,0,0,1,0,0),me.scale(mt,mt),me.clearRect(0,0,et.width,150),me.strokeStyle="#0ea5a4",me.fillStyle="#0ea5a4",me.lineWidth=2.5,me.lineJoin="round",me.lineCap="round";let ut=!1,Vt=0,$t=0;const ct=ne=>{const Q=Ge.getBoundingClientRect(),re=Ge.width/mt/Q.width,le=Ge.height/mt/Q.height,oe=ne.touches&&ne.touches.length>0?ne.touches[0].clientX:ne.changedTouches&&ne.changedTouches.length>0?ne.changedTouches[0].clientX:ne.clientX,Pe=ne.touches&&ne.touches.length>0?ne.touches[0].clientY:ne.changedTouches&&ne.changedTouches.length>0?ne.changedTouches[0].clientY:ne.clientY;return{x:(oe-Q.left)*re,y:(Pe-Q.top)*le}},Wr=ne=>{ne.preventDefault(),ne.stopPropagation(),ut=!0;const Q=ct(ne);Vt=Q.x,$t=Q.y,me.beginPath(),me.arc(Vt,$t,1.25,0,2*Math.PI),me.fill()},Js=ne=>{if(!ut)return;ne.preventDefault(),ne.stopPropagation();const Q=ct(ne),re=Q.x,le=Q.y;me.beginPath(),me.moveTo(Vt,$t),me.lineTo(re,le),me.stroke(),Vt=re,$t=le;try{const oe=Ge.toDataURL("image/png");p(Pe=>({...Pe,terms:{...Pe.terms,signature:oe}}))}catch(oe){console.error("Error updating signature:",oe)}},Zr=ne=>{if(ne&&(ne.preventDefault(),ne.stopPropagation()),ut){ut=!1;try{const Q=Ge.toDataURL("image/png");p(re=>({...re,terms:{...re.terms,signature:Q}}))}catch(Q){console.error("Error saving signature:",Q)}}};Ge._cleanup&&Ge._cleanup(),Ge.addEventListener("mousedown",Wr),Ge.addEventListener("mousemove",Js),Ge.addEventListener("mouseup",Zr),Ge.addEventListener("mouseleave",Zr),Ge.addEventListener("touchstart",Wr,{passive:!1}),Ge.addEventListener("touchmove",Js,{passive:!1}),Ge.addEventListener("touchend",Zr,{passive:!1}),Ge.addEventListener("touchcancel",Zr,{passive:!1});const H=()=>{Ge.removeEventListener("mousedown",Wr),Ge.removeEventListener("mousemove",Js),Ge.removeEventListener("mouseup",Zr),Ge.removeEventListener("mouseleave",Zr),Ge.removeEventListener("touchstart",Wr),Ge.removeEventListener("touchmove",Js),Ge.removeEventListener("touchend",Zr),Ge.removeEventListener("touchcancel",Zr)};return Ge._cleanup=H,!0};let U,de=0;const Ve=20,Je=()=>{ge()||(de++,de<Ve?U=setTimeout(Je,100):console.warn("Could not initialize signature canvas after multiple attempts"))};return U=setTimeout(Je,100),requestAnimationFrame(()=>{var Ge;(Ge=F.current)!=null&&Ge._cleanup||Je()}),()=>{U&&clearTimeout(U);const Ge=F.current;Ge&&Ge._cleanup&&(Ge._cleanup(),Ge._cleanup=null)}},[i]),g.useEffect(()=>{(async()=>{if(o&&(i===11||i===12)){O(!0);try{const[U,de]=await Promise.all([jt.getMGPlans(o,h.partnerType),jt.getCurrentPlan(o).catch(()=>null)]);if(de!=null&&de.data||de!=null&&de.plan){const Ve=de.data||de,Je=Ve.plan||Ve;Je&&Je.name&&p(Ge=>({...Ge,selectedPlan:Je.name,selectedPlanId:Je._id||Je.id||Ve.planId}))}if(U.success&&U.data&&Array.isArray(U.data)){const Ve=U.data.filter(Je=>!Je.partnerType||Je.partnerType==="both"?!0:Je.partnerType===h.partnerType);I(Ve.map(Je=>{const me=(Je.name||"").toLowerCase();let Be="",et="bg-blue-50",mt="border-blue-300";return me.includes("silver")?(Be="",et="bg-gray-100",mt="border-gray-300"):me.includes("gold")?(Be="",et="bg-yellow-50",mt="border-yellow-300"):me.includes("platinum")||me.includes("diamond")?(Be="",et="bg-purple-50",mt="border-purple-300"):me.includes("bronze")&&(Be="",et="bg-orange-50",mt="border-orange-300"),{_id:Je._id,id:Je._id,name:Je.name,price:Je.price||0,leads:Je.leads||0,commission:Je.commission||0,leadFee:Je.leadFee||0,minWalletBalance:Je.minWalletBalance||0,features:Je.features||[],icon:Je.icon||Be,color:Je.color||et,borderColor:Je.borderColor||mt,partnerType:Je.partnerType||"individual"}}))}else I([])}catch(U){console.error("Failed to fetch MG plans:",U),I([])}finally{O(!1)}}})()},[o,i,h.partnerType]);const ue=async()=>{if(!h.phone||h.phone.length!==10){w("Please enter a valid 10-digit phone number");return}b(!0),w(null);try{const ge=await jt.sendOTP(h.phone);ge.otp&&alert(`OTP for testing: ${ge.otp}`),v(!0),S(60)}catch(ge){w(ge.message||"Failed to send OTP")}finally{b(!1)}},ee=async()=>{if(!h.otp||h.otp.length!==6){w("Please enter a valid 6-digit OTP");return}b(!0),w(null);try{const ge=await jt.verifyOTP(h.phone,h.otp);if(ge.success&&ge.partner){d(ge.partner.token),u(ge.partner);try{const U=await jt.getProfile(ge.partner.token);if(U.success&&U.profile){const de=U.profile,Ve=de.kyc||de.KYC||{},Je=de.bankDetails||Ve.bankDetails||{},Ge=ct=>ct&&typeof ct=="string"?(ct.startsWith("http://")||ct.startsWith("https://")||ct.startsWith("/"),ct):null;p(ct=>{var Wr,Js,Zr,H,ne,Q;return{...ct,name:de.name||ct.name,email:de.email||ct.email,whatsappNumber:de.whatsappNumber||ct.whatsappNumber,qualification:de.qualification||ct.qualification,experience:((Wr=de.experience)==null?void 0:Wr.toString())||ct.experience,city:de.city||ct.city,partnerType:de.partnerType||ct.partnerType,modeOfService:de.modeOfService||ct.modeOfService,categories:((Js=de.category)==null?void 0:Js.map(re=>re._id||re.id||re))||ct.categories,categoryNames:((Zr=de.category)==null?void 0:Zr.map(re=>re.name||re))||de.categoryNames||ct.categoryNames,trade:((H=de.categoryNames)==null?void 0:H[0])||((Q=(ne=de.category)==null?void 0:ne[0])==null?void 0:Q.name)||ct.trade,...de.address&&{address:de.address},...de.landmark&&{landmark:de.landmark},...de.pincode&&{pincode:de.pincode},...de.gstNumber&&{gstNumber:de.gstNumber},kyc:{...ct.kyc,panCard:Ge(Ve.panCard)||ct.kyc.panCard,aadhaar:Ge(Ve.aadhaar)||ct.kyc.aadhaar,aadhaarback:Ge(Ve.aadhaarback)||ct.kyc.aadhaarback,chequeImage:Ge(Ve.chequeImage)||ct.kyc.chequeImage,drivingLicence:Ge(Ve.drivingLicence)||ct.kyc.drivingLicence,bill:Ge(Ve.bill)||ct.kyc.bill,bankDetails:{accountNumber:Je.accountNumber||ct.kyc.bankDetails.accountNumber,ifscCode:Je.ifscCode||ct.kyc.bankDetails.ifscCode,accountHolderName:Je.accountHolderName||ct.kyc.bankDetails.accountHolderName,bankName:Je.bankName||ct.kyc.bankDetails.bankName}},payment:{...ct.payment,payId:de.payId||ge.partner.payId||ct.payment.payId,registrationFee:de.registerAmount||ge.partner.registerAmount||ct.payment.registrationFee},terms:{accepted:de.termsAccepted||ge.partner.termsAccepted||ct.terms.accepted,signature:de.termsSignature||ge.partner.termsSignature||ct.terms.signature},selectedPlan:de.mgPlan||ge.partner.mgPlan||ct.selectedPlan,selectedPlanId:de.mgPlanId||ge.partner.mgPlanId||ct.selectedPlanId}});const me=de.profileCompleted||ge.partner.profileCompleted,Be=de.payId||ge.partner.payId||de.registerAmount,et=de.mgPlan||ge.partner.mgPlan,mt=de.termsAccepted||ge.partner.termsAccepted,ut=!!((de.name||h.name)&&(de.email||h.email)&&(de.address||h.address)&&(de.pincode||h.pincode)&&(de.city||h.city)),Vt=!!(Ve.panCard&&Ve.aadhaar&&Ve.aadhaarback&&Ve.chequeImage&&Ve.drivingLicence&&Ve.bill&&Je.accountNumber&&Je.ifscCode&&Je.accountHolderName&&Je.bankName),$t=!!(de.category&&de.category.length>0);l(s?ut&&Vt&&$t&&mt?11:ut?Vt?$t?mt?12:6:4:3:2:me&&Be&&et?11:me&&Be&&!et?12:me&&!Be?7:me&&!mt?6:2)}else l(2)}catch(U){console.log("No existing profile found or error fetching profile:",U),l(2)}}}catch(ge){w(ge.message||"Invalid OTP")}finally{b(!1)}},fe=(ge,U)=>{U&&p(de=>({...de,kyc:{...de.kyc,[ge]:U}}))},xe=ge=>{ge&&p(U=>({...U,profilePicture:ge}))},ve=async()=>{try{w(null),pe(!1);const ge=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!1});G(ge),ae(!0),setTimeout(()=>{B.current&&(B.current.srcObject=ge,B.current.onloadedmetadata=()=>{B.current&&B.current.play().then(()=>{pe(!0)}).catch(U=>{console.error("Error playing video:",U),w("Failed to start camera. Please try again.")})})},100)}catch(ge){console.error("Error accessing camera:",ge),w("Unable to access camera. Please check permissions or upload a photo instead."),ae(!1),pe(!1)}},Ne=()=>{V&&(V.getTracks().forEach(ge=>ge.stop()),G(null)),ae(!1),pe(!1),B.current&&(B.current.srcObject=null)},Ke=()=>{if(!B.current){w("Camera not ready. Please wait a moment and try again.");return}const ge=B.current;if(!ge.videoWidth||!ge.videoHeight){w("Camera is still loading. Please wait a moment and try again.");return}if(ge.readyState<2){ge.addEventListener("loadedmetadata",()=>{Ke()},{once:!0});return}try{const U=document.createElement("canvas");U.width=ge.videoWidth,U.height=ge.videoHeight;const de=U.getContext("2d");de.translate(U.width,0),de.scale(-1,1),de.drawImage(ge,0,0,U.width,U.height),U.toBlob(Ve=>{if(Ve){const Je=new File([Ve],"profile-photo.jpg",{type:"image/jpeg"});xe(Je),Ne(),w(null)}else w("Failed to capture photo. Please try again.")},"image/jpeg",.9)}catch(U){console.error("Error capturing photo:",U),w("Failed to capture photo. Please try again.")}};g.useEffect(()=>()=>{V&&V.getTracks().forEach(ge=>ge.stop())},[V]);const dt=async()=>{var ge;if(!o){w("Please verify your phone number first");return}b(!0),w(null);try{const U={name:h.name,email:h.email,whatsappNumber:h.whatsappNumber||h.phone,qualification:h.qualification,experience:h.experience,contactNumber:h.phone,address:h.address,landmark:h.landmark||"",pincode:h.pincode,city:h.city,referralCode:h.referralCode||"",gstNumber:h.gstNumber||"",partnerType:h.partnerType||"individual",profilePicture:h.profilePicture||null};(await jt.completeProfile(o,U)).success&&l(3)}catch(U){const de=U.message||((ge=U.data)==null?void 0:ge.message)||"Failed to save profile";w(de),U.status===401&&(w("Session expired. Please verify your phone number again."),d(null))}finally{b(!1)}},ke=async()=>{var ge;if(!o){w("Please verify your phone number first");return}if(h.categories.length===0){w("Please select at least one category");return}b(!0),w(null);try{const U={categories:h.categories,categoryNames:h.categoryNames,subcategory:h.subcategory?Array.isArray(h.subcategory)?h.subcategory:[h.subcategory]:[],service:h.service?Array.isArray(h.service)?h.service:[h.service]:[],modeOfService:h.modeOfService};console.log(" Saving categories:",{categories:U.categories,categoryNames:U.categoryNames,categoriesCount:U.categories.length,categoryNamesCount:U.categoryNames.length});const de=await jt.updateProfile(o,U);console.log(" Update Profile Response:",de),de.success?(console.log(" Categories saved successfully"),l(5)):w(de.message||"Failed to save categories")}catch(U){console.error(" Error saving categories:",U);const de=U.message||((ge=U.data)==null?void 0:ge.message)||"Failed to save categories";w(de),U.status===401&&(w("Session expired. Please verify your phone number again."),d(null))}finally{b(!1)}},Re=async()=>{var ge;if(!o){w("Please verify your phone number first");return}b(!0),w(null);try{const U=h.kyc.panCard&&typeof h.kyc.panCard=="string"&&h.kyc.aadhaar&&typeof h.kyc.aadhaar=="string"&&h.kyc.aadhaarback&&typeof h.kyc.aadhaarback=="string"&&h.kyc.chequeImage&&typeof h.kyc.chequeImage=="string"&&h.kyc.drivingLicence&&typeof h.kyc.drivingLicence=="string"&&h.kyc.bill&&typeof h.kyc.bill=="string",de=h.kyc.panCard instanceof File||h.kyc.aadhaar instanceof File||h.kyc.aadhaarback instanceof File||h.kyc.chequeImage instanceof File||h.kyc.drivingLicence instanceof File||h.kyc.bill instanceof File;if(U&&!de){l(4),b(!1);return}const Ve={panCard:h.kyc.panCard instanceof File?h.kyc.panCard:void 0,aadhaar:h.kyc.aadhaar instanceof File?h.kyc.aadhaar:void 0,aadhaarback:h.kyc.aadhaarback instanceof File?h.kyc.aadhaarback:void 0,chequeImage:h.kyc.chequeImage instanceof File?h.kyc.chequeImage:void 0,drivingLicence:h.kyc.drivingLicence instanceof File?h.kyc.drivingLicence:void 0,bill:h.kyc.bill instanceof File?h.kyc.bill:void 0,accountNumber:h.kyc.bankDetails.accountNumber,ifscCode:h.kyc.bankDetails.ifscCode,accountHolderName:h.kyc.bankDetails.accountHolderName,bankName:h.kyc.bankDetails.bankName};de?(await jt.completeKYC(o,Ve)).success&&l(4):l(4)}catch(U){const de=U.message||((ge=U.data)==null?void 0:ge.message)||"Failed to upload KYC documents";w(de),U.status===401&&(w("Session expired. Please verify your phone number again."),d(null))}finally{b(!1)}},Tt=async()=>{var ge,U;if(!o){w("Please verify your phone number first");return}b(!0),w(null);try{const de=h.payment.registrationFee||0,Ve=h.payment.securityDeposit||0,Je=h.toolkit.selected&&h.toolkit.price||0,Ge={registerAmount:de,paidBy:h.payment.paidBy,securityDeposit:Ve,toolkitPrice:Je,terms:{accepted:h.terms.accepted,signature:h.terms.signature,acceptedAt:new Date().toISOString()}};console.log("Sending payment data from onboarding:",Ge);const me=await jt.completePayment(o,Ge);if(me.success){const Be=me.partnerId||((ge=c==null?void 0:c._id)==null?void 0:ge.toString())||(c==null?void 0:c.partnerId)||`PRT-${Date.now().toString().slice(-6)}`;if(P(Be),h.selectedHubs.length>0&&o)try{await new Promise(ut=>setTimeout(ut,500));const et=[];for(const ut of h.selectedHubs)if(ut.hubId)try{const Vt=await jt.assignHub(o,ut.hubId);et.push({hub:ut.name,success:!0,response:Vt})}catch(Vt){console.error(`Error assigning hub ${ut.name}:`,Vt),et.push({hub:ut.name,success:!1,error:Vt.message})}const mt=et.filter(ut=>!ut.success);mt.length>0?console.warn("Some hubs failed to assign:",mt):console.log("All hubs assigned successfully:",et)}catch(et){console.error("Error in hub assignment process:",et)}l(8)}}catch(de){const Ve=de.message||((U=de.data)==null?void 0:U.message)||"Failed to complete payment";w(Ve),de.status===401&&(w("Session expired. Please verify your phone number again."),d(null))}finally{b(!1)}},Rt=()=>{i<we&&(s&&i===6?T():s&&i===7?l(12):i===6&&h.payment.payId&&h.payment.status==="completed"?l(8):i===8?At():l(ge=>ge+1))},be=()=>{if(i>1)if(s&&i===8)l(6);else if(i===9&&h.payment.payId&&h.payment.status==="completed")l(8);else if(i===8&&h.payment.payId&&h.payment.status==="completed")l(7);else{let ge=i-1;s&&ge===7&&(ge=6),l(ge)}},T=async()=>{var ge,U;if(!o){w("Please verify your phone number first");return}b(!0),w(null);try{const de={name:h.name,email:h.email,whatsappNumber:h.whatsappNumber,qualification:h.qualification,experience:h.experience,address:h.address,landmark:h.landmark,pincode:h.pincode,city:h.city,referralCode:h.referralCode,gstNumber:h.gstNumber,partnerType:h.partnerType||"individual",categories:h.categories,categoryNames:h.categoryNames,subcategory:h.subcategory?Array.isArray(h.subcategory)?h.subcategory:[h.subcategory]:[],service:h.service?Array.isArray(h.service)?h.service:[h.service]:[],modeOfService:h.modeOfService,terms:{accepted:h.terms.accepted,signature:h.terms.signature,acceptedAt:new Date().toISOString()}};if((await jt.updateProfile(o,de)).success){const Je=((ge=c==null?void 0:c._id)==null?void 0:ge.toString())||(c==null?void 0:c.partnerId)||`PRT-${Date.now().toString().slice(-6)}`;if(P(Je),h.selectedHubs.length>0&&o)try{await new Promise(Be=>setTimeout(Be,500));const Ge=[];for(const Be of h.selectedHubs)if(Be.hubId)try{const et=await jt.assignHub(o,Be.hubId);Ge.push({hub:Be.name,success:!0,response:et})}catch(et){console.error(`Error assigning hub ${Be.name}:`,et),Ge.push({hub:Be.name,success:!1,error:et.message})}const me=Ge.filter(Be=>!Be.success);me.length>0?console.warn("Some hubs failed to assign:",me):console.log("All hubs assigned successfully:",Ge)}catch(Ge){console.error("Error in hub assignment process:",Ge)}if(s&&h.categories&&h.categories.length>0&&h.city)try{const Ge=h.categories[0],me={partnerId:Je,category:Ge,service:h.categories.length>1?h.categories[1]:null,city:h.city,address:h.address||"",landmark:h.landmark||"",pincode:h.pincode||"",value:0,allocationStrategy:"rule_based",priority:"medium",description:`Partner registration from Lead Marketplace - ${h.name||"New Partner"}`};console.log("Partner registered from Lead Marketplace:",me)}catch(Ge){console.error("Error creating lead entry:",Ge)}l(12)}}catch(de){const Ve=de.message||((U=de.data)==null?void 0:U.message)||"Failed to complete registration";w(Ve),de.status===401&&(w("Session expired. Please verify your phone number again."),d(null))}finally{b(!1)}},ie=async()=>{if(!o){w("Please verify your phone number first");return}Se(!0),w(null);try{const ge=h.payment.total+(h.toolkit.selected?h.toolkit.price:0),U="http://localhost:9088";console.log("Calling PayU API:",`${U}/api/payu/initiate-payment`);const Ve=await(await fetch(`${U}/api/payu/initiate-payment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({amount:ge,phone:h.phone,name:h.name,email:h.email,partnerId:(c==null?void 0:c._id)||k})})).json();Ve.success?W(Ve.data):(w(Ve.message||"Failed to initiate payment"),Se(!1))}catch(ge){console.error("Payment initiation error:",ge),w("Failed to initiate payment. Please try again."),Se(!1)}},Te=ge=>{switch(ge){case 2:return!!(h.name&&h.email&&h.address&&h.pincode&&h.city&&h.partnerType);case 3:const U=h.kyc.panCard&&(h.kyc.panCard instanceof File||typeof h.kyc.panCard=="string"),de=h.kyc.aadhaar&&(h.kyc.aadhaar instanceof File||typeof h.kyc.aadhaar=="string"),Ve=h.kyc.aadhaarback&&(h.kyc.aadhaarback instanceof File||typeof h.kyc.aadhaarback=="string"),Je=h.kyc.chequeImage&&(h.kyc.chequeImage instanceof File||typeof h.kyc.chequeImage=="string"),Ge=h.kyc.drivingLicence&&(h.kyc.drivingLicence instanceof File||typeof h.kyc.drivingLicence=="string"),me=h.kyc.bill&&(h.kyc.bill instanceof File||typeof h.kyc.bill=="string");return U&&de&&Ve&&Je&&Ge&&me&&h.kyc.bankDetails.accountNumber&&h.kyc.bankDetails.ifscCode&&h.kyc.bankDetails.accountHolderName&&h.kyc.bankDetails.bankName;case 4:return h.categories.length>0;case 5:return!0;case 6:return!!(h.terms.accepted&&h.terms.signature);case 7:return!0;case 8:return!!(h.payment.payId&&h.payment.payId.trim().length>0);case 9:return!0;case 10:return setTimeout(()=>l(11),100),t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ss,{className:"animate-spin text-4xl text-primary mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Redirecting to MG Plan selection..."})]});default:return!1}},qe=()=>{switch(i){case 1:return y&&h.otp.length===6;case 2:return h.name&&h.email&&h.address&&h.pincode&&h.city&&h.partnerType;case 3:const ge=h.kyc.panCard&&(h.kyc.panCard instanceof File||typeof h.kyc.panCard=="string"),U=h.kyc.aadhaar&&(h.kyc.aadhaar instanceof File||typeof h.kyc.aadhaar=="string"),de=h.kyc.aadhaarback&&(h.kyc.aadhaarback instanceof File||typeof h.kyc.aadhaarback=="string"),Ve=h.kyc.chequeImage&&(h.kyc.chequeImage instanceof File||typeof h.kyc.chequeImage=="string"),Je=h.kyc.drivingLicence&&(h.kyc.drivingLicence instanceof File||typeof h.kyc.drivingLicence=="string"),Ge=h.kyc.bill&&(h.kyc.bill instanceof File||typeof h.kyc.bill=="string");return ge&&U&&de&&Ve&&Je&&Ge&&h.kyc.bankDetails.accountNumber&&h.kyc.bankDetails.ifscCode&&h.kyc.bankDetails.accountHolderName&&h.kyc.bankDetails.bankName;case 4:return h.categories.length>0;case 5:return h.selectedHubs.length===0?!0:h.selectedHubs.every(Be=>{if(!Be)return!1;const et=Be.pinCodes||[];return!Array.isArray(et)||et.length===0?!1:et.every(mt=>mt!=null&&mt.toString().trim().length>0)});case 6:return h.terms.accepted&&!!h.terms.signature;case 7:return!0;case 8:return!!(h.payment.payId&&h.payment.payId.trim().length>0);case 9:return!0;case 10:return!0;default:return!1}};g.useEffect(()=>{s&&i===7&&l(12)},[i,s]),g.useEffect(()=>{i===7&&h.payment.payId&&h.payment.status==="completed"&&(console.log(" Payment already completed and verified, showing payment confirmation"),l(8))},[i,h.payment.payId,h.payment.status]),g.useEffect(()=>{if(i===10){const ge=setTimeout(()=>{l(11)},1500);return()=>clearTimeout(ge)}},[i]),g.useEffect(()=>{if(s&&o&&c&&i!==12&&i!==11){const ge=!!(h.name&&h.email&&h.address&&h.pincode&&h.city),U=!!(h.kyc.panCard&&(h.kyc.panCard instanceof File||typeof h.kyc.panCard=="string")&&h.kyc.aadhaar&&(h.kyc.aadhaar instanceof File||typeof h.kyc.aadhaar=="string")&&h.kyc.aadhaarback&&(h.kyc.aadhaarback instanceof File||typeof h.kyc.aadhaarback=="string")&&h.kyc.chequeImage&&(h.kyc.chequeImage instanceof File||typeof h.kyc.chequeImage=="string")&&h.kyc.drivingLicence&&(h.kyc.drivingLicence instanceof File||typeof h.kyc.drivingLicence=="string")&&h.kyc.bill&&(h.kyc.bill instanceof File||typeof h.kyc.bill=="string")&&h.kyc.bankDetails.accountNumber&&h.kyc.bankDetails.ifscCode&&h.kyc.bankDetails.accountHolderName&&h.kyc.bankDetails.bankName),de=!!(h.categories&&h.categories.length>0),Ve=!!(h.terms.accepted&&h.terms.signature);ge&&U&&de&&Ve&&i!==12&&l(11)}},[h,s,o,c,i]);const At=async()=>{var ge,U;if(!h.payment.payId||h.payment.payId.trim().length===0){w("Please enter a valid payment transaction ID");return}b(!0),w("");try{const de={registerAmount:h.payment.registrationFee||0,payId:h.payment.payId,paidBy:h.payment.paidBy||"partner",securityDeposit:h.payment.securityDepositSelected?h.payment.securityDeposit:0,toolkitPrice:h.toolkit.selected?h.toolkit.price:0,terms:{accepted:h.terms.accepted,signature:h.terms.signature,acceptedAt:new Date().toISOString()}},Ve=await jt.updateOnboardingStep(o,{step:8,completed:!0,approved:!1,...de});Ve.success?l(9):w(Ve.message||"Failed to update onboarding step")}catch(de){console.error("Payment confirmation error:",de),w(((U=(ge=de.response)==null?void 0:ge.data)==null?void 0:U.message)||de.message||"An error occurred while confirming payment")}finally{b(!1)}},ft=()=>{var ge,U,de,Ve;switch(i){case 1:return t.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[t.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-primary mb-1.5 sm:mb-2",children:"Welcome to NEXO Partner Onboarding"}),t.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Enter your phone number to get started"})]}),t.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Phone Number ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(WN,{className:"absolute left-3 top-3.5 text-gray-400"}),t.jsx("input",{type:"tel",value:h.phone,onChange:me=>{p(Be=>({...Be,phone:me.target.value.replace(/\D/g,"").slice(0,10)})),w(null)},className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter 10-digit phone number",maxLength:10,disabled:y})]})]}),y&&t.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Enter OTP ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(VN,{className:"absolute left-3 top-3.5 text-gray-400"}),t.jsx("input",{type:"text",value:h.otp,onChange:me=>{p(Be=>({...Be,otp:me.target.value.replace(/\D/g,"").slice(0,6)})),w(null)},className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter 6-digit OTP",maxLength:6})]})]}),t.jsx("button",{onClick:ee,disabled:f||h.otp.length!==6,className:"w-full bg-primary text-white py-3 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:f?t.jsx(ss,{className:"animate-spin mx-auto"}):"Verify OTP"}),N>0?t.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Resend OTP in ",N,"s"]}):t.jsx("button",{onClick:ue,className:"w-full text-primary font-semibold",children:"Resend OTP"})]}),!y&&t.jsx("button",{onClick:ue,disabled:f||h.phone.length!==10,className:"w-full bg-primary text-white py-3 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:f?t.jsx(ss,{className:"animate-spin mx-auto"}):"Send OTP"}),j&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:j})]})]});case 2:return t.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[t.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-primary mb-1.5 sm:mb-2",children:"Personal Information"}),t.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Tell us about yourself"}),Te(2)&&t.jsx("p",{className:"text-sm text-green-600 mt-2",children:" Information already saved"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 text-center",children:["Select Partner Type ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"flex gap-4 justify-center",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"partnerType",value:"individual",checked:h.partnerType==="individual",onChange:me=>p(Be=>({...Be,partnerType:me.target.value})),className:"w-4 h-4 text-primary focus:ring-primary"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Individual"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"partnerType",value:"franchise",checked:h.partnerType==="franchise",onChange:me=>p(Be=>({...Be,partnerType:me.target.value})),className:"w-4 h-4 text-primary focus:ring-primary"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Franchise"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.name,onChange:me=>p(Be=>({...Be,name:me.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter your full name"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"email",value:h.email,onChange:me=>p(Be=>({...Be,email:me.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter your email"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"WhatsApp Number"}),t.jsx("input",{type:"tel",value:h.whatsappNumber,onChange:me=>p(Be=>({...Be,whatsappNumber:me.target.value.replace(/\D/g,"").slice(0,10)})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter WhatsApp number"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Qualification"}),t.jsx("input",{type:"text",value:h.qualification,onChange:me=>p(Be=>({...Be,qualification:me.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"e.g., ITI, Diploma"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Experience (Years)"}),t.jsx("input",{type:"number",value:h.experience,onChange:me=>p(Be=>({...Be,experience:me.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Years of experience"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["City ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.city,onChange:me=>p(Be=>({...Be,city:me.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter your city"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:h.address,onChange:me=>p(Be=>({...Be,address:me.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter your full address",rows:3})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Landmark"}),t.jsx("input",{type:"text",value:h.landmark,onChange:me=>p(Be=>({...Be,landmark:me.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Nearby landmark"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Pincode ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.pincode,onChange:me=>p(Be=>({...Be,pincode:me.target.value.replace(/\D/g,"").slice(0,6)})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter pincode",maxLength:6})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GST Number (Optional)"}),t.jsx("input",{type:"text",value:h.gstNumber,onChange:me=>p(Be=>({...Be,gstNumber:me.target.value.toUpperCase().replace(/\s/g,"")})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter GST number (if applicable)",maxLength:15})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Referral Code (Optional)"}),t.jsx("input",{type:"text",value:h.referralCode,onChange:me=>p(Be=>({...Be,referralCode:me.target.value.toUpperCase()})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter referral code if any"})]})]}),t.jsxs("div",{className:"mt-6",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Profile Picture (Optional)"}),t.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6",children:h.profilePicture?t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:h.profilePicture instanceof File?URL.createObjectURL(h.profilePicture):h.profilePicture,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-primary"}),t.jsx("button",{type:"button",onClick:()=>p(me=>({...me,profilePicture:null})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:""})]}),t.jsx("p",{className:"text-sm text-green-600 font-semibold",children:" Profile picture uploaded"})]}):t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-100 border-4 border-gray-300 flex items-center justify-center",children:t.jsx(Dc,{className:"text-6xl text-gray-400"})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("label",{className:"cursor-pointer",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:me=>{me.target.files&&me.target.files[0]&&xe(me.target.files[0])},className:"hidden"}),t.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold",children:[t.jsx(Yv,{})," Upload Photo"]})]}),t.jsxs("button",{type:"button",onClick:ve,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-semibold",children:[t.jsx(yC,{})," Capture Photo"]})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Upload a photo or capture using camera"})]})})]}),q&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Capture Photo"}),t.jsx("button",{type:"button",onClick:Ne,className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),t.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden mb-4",style:{minHeight:"300px"},children:[t.jsx("video",{ref:B,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-auto",style:{transform:"scaleX(-1)"}}),!te&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ss,{className:"animate-spin text-3xl mx-auto mb-2"}),t.jsx("p",{className:"text-sm",children:"Loading camera..."})]})})]}),j&&q&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-2 rounded-lg text-sm mb-4",children:j}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:Ne,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition font-semibold",children:"Cancel"}),t.jsxs("button",{type:"button",onClick:Ke,disabled:!te,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(yC,{})," Capture"]})]})]})}),j&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:j})]});case 3:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"KYC Documents"}),t.jsx("p",{className:"text-gray-600",children:"Upload your identity and bank documents"}),Te(3)&&t.jsx("p",{className:"text-sm text-green-600 mt-2",children:" Documents already uploaded"})]}),t.jsxs("div",{className:"space-y-4",children:[[{key:"panCard",label:"PAN Card",required:!0},{key:"aadhaar",label:"Aadhaar Card (Front)",required:!0},{key:"aadhaarback",label:"Aadhaar Card (Back)",required:!0},{key:"chequeImage",label:"Cancelled Cheque",required:!0},{key:"drivingLicence",label:"Driving Licence",required:!0},{key:"bill",label:"Utility Bill",required:!0}].map(({key:me,label:Be,required:et})=>t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[Be," ",et&&t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center",children:[t.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:mt=>fe(me,mt.target.files[0]),className:"hidden",id:me}),t.jsx("label",{htmlFor:me,className:`cursor-pointer flex flex-col items-center ${h.kyc[me]&&typeof h.kyc[me]=="string"?"opacity-100":""}`,children:h.kyc[me]&&typeof h.kyc[me]=="string"?t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx(Ue,{className:"text-2xl text-green-600"})}),t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx("span",{className:"text-sm text-green-600 font-semibold",children:" Already Uploaded"}),t.jsx("span",{className:"text-xs text-gray-500",children:"Click to replace"})]})]}):h.kyc[me]instanceof File?t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(Yv,{className:"text-3xl text-primary mb-2"}),t.jsxs("span",{className:"text-sm text-green-600",children:[" ",h.kyc[me].name||"Uploaded"]})]}):t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(Yv,{className:"text-3xl text-gray-400 mb-2"}),t.jsxs("span",{className:"text-sm text-gray-600",children:["Click to upload ",Be]})]})})]})]},me)),t.jsxs("div",{className:"border-t pt-6 mt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Bank Details"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"accountNumber",label:"Account Number",required:!0},{key:"ifscCode",label:"IFSC Code",required:!0},{key:"accountHolderName",label:"Account Holder Name",required:!0},{key:"bankName",label:"Bank Name",required:!0}].map(({key:me,label:Be,required:et})=>t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[Be," ",et&&t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.kyc.bankDetails[me],onChange:mt=>p(ut=>({...ut,kyc:{...ut.kyc,bankDetails:{...ut.kyc.bankDetails,[me]:mt.target.value}}})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:`Enter ${Be.toLowerCase()}`,...me==="ifscCode"&&{maxLength:11,style:{textTransform:"uppercase"}}})]},me))})]})]}),j&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:j})]});case 4:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Select Categories"}),t.jsx("p",{className:"text-gray-600",children:"Select one or more service categories you want to provide"}),Te(4)&&t.jsx("p",{className:"text-sm text-green-600 mt-2",children:" Categories already selected"})]}),Y?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx(ss,{className:"animate-spin text-4xl text-primary"})}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:(R.length>0?R:VC).map(me=>{const Be=me.id||me._id||me.name,et=me.name,mt=me.icon||"",ut=h.categories.includes(Be)||h.categoryNames.includes(et);return t.jsxs(E.button,{onClick:()=>{p(Vt=>{const $t=[...Vt.categories],ct=[...Vt.categoryNames];if(ut){const Wr=$t.indexOf(Be);Wr>-1&&$t.splice(Wr,1);const Js=ct.indexOf(et);Js>-1&&ct.splice(Js,1)}else $t.includes(Be)||$t.push(Be),ct.includes(et)||ct.push(et);return{...Vt,categories:$t,categoryNames:ct,trade:ct.length>0?ct[0]:""}})},whileHover:{scale:1.05},whileTap:{scale:.95},className:`p-6 rounded-2xl border-2 transition-all ${ut?"border-primary bg-primary/10 shadow-lg":"border-gray-200 hover:border-primary/50"}`,children:[t.jsx("div",{className:"text-4xl mb-3",children:mt}),t.jsx("div",{className:"font-semibold text-gray-800",children:et}),ut&&t.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"mt-2",children:t.jsx(Ue,{className:"text-primary mx-auto"})})]},Be)})}),h.categories.length>0&&t.jsx("div",{className:"mt-4 p-4 bg-primary/5 rounded-xl",children:t.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[t.jsx("span",{className:"font-semibold",children:"Selected:"})," ",h.categoryNames.join(", ")]})})]});case 5:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Select Service Hubs"}),t.jsx("p",{className:"text-gray-600",children:"Select from available service hubs created by admin. Choose hubs and pin codes for your service areas."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:t.jsxs("p",{className:"text-sm text-blue-800",children:[t.jsx("strong",{children:"What are Service Hubs?"})," Service hubs define the areas where you provide services. Each hub can have multiple pin codes. Select hubs and choose the pin codes you want to cover."]})}),_?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ss,{className:"animate-spin text-4xl text-primary mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading available hubs..."})]}):se.length>0?t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Available Service Hubs"}),t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:se.map(me=>{var ut,Vt;const Be=h.selectedHubs.some($t=>{var ct;return $t.hubId===((ct=me._id)==null?void 0:ct.toString())||$t.name===me.name}),et=h.selectedHubs.find($t=>{var ct;return $t.hubId===((ct=me._id)==null?void 0:ct.toString())||$t.name===me.name}),mt=(et==null?void 0:et.pinCodes)||[];return t.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all ${Be?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50 bg-white"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(Fl,{className:"text-primary"}),t.jsx("h4",{className:"font-semibold text-gray-800",children:me.name}),me.isPrimary&&t.jsx("span",{className:"px-2 py-0.5 bg-primary/10 text-primary text-xs rounded-full font-semibold",children:"Primary"})]}),(me.city||me.state)&&t.jsx("p",{className:"text-xs text-gray-500 ml-6",children:[me.city,me.state].filter(Boolean).join(", ")}),me.areas&&me.areas.length>0&&t.jsxs("p",{className:"text-xs text-gray-500 ml-6 mt-1",children:[me.areas.length," area",me.areas.length!==1?"s":"","  ",((ut=me.pinCodes)==null?void 0:ut.length)||0," pin code",((Vt=me.pinCodes)==null?void 0:Vt.length)===1?"":"s"]})]}),t.jsx("button",{type:"button",onClick:()=>{if(Be)p($t=>({...$t,selectedHubs:$t.selectedHubs.filter(ct=>{var Wr;return ct.hubId!==((Wr=me._id)==null?void 0:Wr.toString())&&ct.name!==me.name})}));else{const $t=me.pinCodes||[];$t.length>0?p(ct=>{var Wr;return{...ct,selectedHubs:[...ct.selectedHubs,{hubId:(Wr=me._id)==null?void 0:Wr.toString(),name:me.name,pinCodes:[...$t],isPrimary:ct.selectedHubs.length===0}]}}):alert("This hub has no pin codes available. Please contact admin.")}},className:`px-3 py-1 rounded-lg text-sm font-semibold transition ${Be?"bg-red-100 text-red-600 hover:bg-red-200":"bg-primary text-white hover:bg-primary-dark"}`,children:Be?"Remove":"Select Hub"})]}),Be&&me.pinCodes&&me.pinCodes.length>0&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[t.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Select Pin Codes:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:me.pinCodes.map($t=>{const ct=mt.includes($t);return t.jsx("button",{type:"button",onClick:()=>{p(Wr=>{const Js=Wr.selectedHubs.map(Zr=>{var H;if(Zr.hubId===((H=me._id)==null?void 0:H.toString())||Zr.name===me.name){const ne=Zr.pinCodes||[];if(ct&&ne.length===1)return alert("At least one pin code must be selected for each hub. Remove the hub instead if you don't need it."),Zr;const Q=ct?ne.filter(re=>re!==$t):[...ne,$t];return{...Zr,pinCodes:Q}}return Zr});return{...Wr,selectedHubs:Js}})},className:`px-3 py-1 rounded-full text-xs font-semibold transition ${ct?"bg-primary text-white border-2 border-primary":"bg-white text-gray-600 border-2 border-gray-300 hover:border-primary"}`,children:$t},$t)})}),mt.length===0&&t.jsx("p",{className:"text-xs text-amber-600 mt-2",children:" Please select at least one pin code"})]}),!Be&&me.pinCodes&&me.pinCodes.length>0&&t.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:me.pinCodes.map($t=>t.jsx("span",{className:"px-2.5 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-semibold",children:$t},$t))})]},me._id||me.name)})})]}):t.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50",children:[t.jsx(Fl,{className:"text-4xl text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No Service Hubs Available"}),t.jsx("p",{className:"text-sm text-gray-500",children:"No service hubs have been created yet. Please contact admin or proceed without hubs."})]}),h.selectedHubs.length>0&&t.jsxs("div",{className:"mt-6 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Your Selected Service Hubs"}),t.jsxs("span",{className:"text-sm text-gray-500",children:[h.selectedHubs.length," hub",h.selectedHubs.length!==1?"s":""," selected"]})]}),h.selectedHubs.map((me,Be)=>t.jsx("div",{className:"border-2 border-primary rounded-xl p-4 bg-primary/5",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:"font-semibold text-gray-800",children:me.name}),me.isPrimary&&t.jsx("span",{className:"px-2 py-0.5 bg-primary text-white text-xs rounded-full font-semibold",children:"Primary"})]}),me.pinCodes&&me.pinCodes.length>0?t.jsx("div",{className:"flex flex-wrap gap-2",children:me.pinCodes.map((et,mt)=>t.jsx("span",{className:"px-2.5 py-1 bg-white border border-primary rounded-full text-xs font-semibold text-primary",children:et},mt))}):t.jsx("p",{className:"text-xs text-amber-600",children:"No pin codes selected"})]}),t.jsxs("button",{type:"button",onClick:()=>{const et=h.selectedHubs.filter((mt,ut)=>ut!==Be);me.isPrimary&&et.length>0&&(et[0].isPrimary=!0),p(mt=>({...mt,selectedHubs:et}))},className:"ml-4 p-2 text-red-600 hover:bg-red-50 rounded-lg transition flex items-center gap-1",title:"Delete Hub",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),t.jsx("span",{className:"text-sm font-semibold",children:"Delete"})]})]})},Be))]})]})]});case 6:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Terms & Conditions"}),t.jsx("p",{className:"text-gray-600",children:"Please read and accept the Partner Agreement"})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6 max-h-[600px] overflow-y-auto",children:[t.jsxs("div",{className:"mb-4 pb-3 border-b border-gray-200",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"PARTNER TERMS & CONDITIONS"}),t.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Effective Date:"})," 15th November 2025"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Last Updated:"})," 15th November 2025"]})]})]}),t.jsxs("div",{className:"space-y-4 text-sm text-gray-700",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"1. Introduction"}),t.jsx("p",{className:"leading-relaxed",children:'These Partner Terms & Conditions ("Terms") constitute a binding agreement between NEXO ("Company", "Platform", "We", "Us") and the individual or business entity ("Partner", "Service Provider", "You") who registers to provide on-site or online services through the Platform.'}),t.jsx("p",{className:"leading-relaxed mt-2",children:"By registering or accepting any service request, the Partner expressly agrees to these Terms."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"2. Independent Contractor Status"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{className:"leading-relaxed",children:"The Partner is an independent contractor, not an employee, representative, or agent of NEXO."}),t.jsx("li",{className:"leading-relaxed",children:"No employment benefits (PF, ESI, gratuity, insurance, paid leave, salary) shall be applicable."}),t.jsx("li",{className:"leading-relaxed",children:"The Partner is solely responsible for compliance with GST, income tax, labour laws, and all statutory obligations."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"3. Mandatory Registration & Onboarding Requirements"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"The Partner shall complete mandatory onboarding, including but not limited to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Valid Government ID"}),t.jsx("li",{children:"Address proof"}),t.jsx("li",{children:"Skill verification/trade test (if applicable)"}),t.jsx("li",{children:"Police verification (whenever required)"}),t.jsx("li",{children:"Recent photograph"}),t.jsx("li",{children:"Bank account details"}),t.jsx("li",{children:"GST number (if applicable)"})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:t.jsx("strong",{children:"Payment of applicable onboarding fees:"})}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Registration Fee"}),t.jsx("li",{children:"Toolkit Fee (if provided)"}),t.jsx("li",{children:"Minimum Guarantee (MG) Plan"}),t.jsx("li",{children:"Security Deposit"})]}),t.jsx("p",{className:"leading-relaxed text-xs",children:"All fees are non-refundable, except security deposit which is refundable as per Clause 23."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"4. Partner Obligations"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner shall:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Maintain professional behaviour at all times."}),t.jsx("li",{children:"Deliver high-quality, safe, and lawful services."}),t.jsx("li",{children:"Carry valid Partner ID during every service."}),t.jsx("li",{children:"Reach customer location on time."}),t.jsx("li",{children:"Provide correct service estimates before starting work."}),t.jsx("li",{children:"Maintain hygiene, wear uniform/ID (if provided)."}),t.jsx("li",{children:"Not engage in misconduct, harassment, abuse, threats, or illegal activity."}),t.jsx("li",{children:"Maintain tools and ensure safe operation."}),t.jsx("li",{children:"Not demand cash payments directly from customers."}),t.jsx("li",{children:"Not solicit or accept off-platform work (strict penalty)."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"5. Pricing, Estimates & Billing"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Partner must follow NEXO pricing structure and guidelines."}),t.jsx("li",{children:"Any additional work must be pre-approved through the Platform."}),t.jsx("li",{children:"Partner shall not overcharge or misrepresent pricing."}),t.jsx("li",{children:"All payments shall be processed solely through NEXO."}),t.jsx("li",{children:"Partner is responsible for issuing bills/invoices where required by law."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"6. Platform Commission & Deductions"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner agrees to the following deductions:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Platform Commission (%)"}),t.jsx("li",{children:"Lead Cost per lead"}),t.jsx("li",{children:"GST applicable on Platform Commission"}),t.jsx("li",{children:"Penalties & Fines"}),t.jsx("li",{children:"TDS (if applicable)"}),t.jsx("li",{children:"Outstanding dues from previous jobs"}),t.jsx("li",{children:"MG Plan adjustments"})]}),t.jsx("p",{className:"leading-relaxed text-xs",children:"All deductions shall be final and binding."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"7. Mandatory Safety Requirements"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner shall:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Follow safety protocols prescribed by NEXO."}),t.jsx("li",{children:"Use proper tools and protective equipment."}),t.jsx("li",{children:"Not perform services beyond skill level or without proper safety."}),t.jsx("li",{children:"Not endanger customer, property, or themselves."})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Failure may result in:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Immediate suspension"}),t.jsx("li",{children:"Penalty up to 5,000"}),t.jsx("li",{children:"Legal action for damages"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"8. Customer Safety & Code of Conduct"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner must strictly adhere to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"No harassment (verbal, physical, emotional)"}),t.jsx("li",{children:"No misbehaviour, disrespect, abusive language"}),t.jsx("li",{children:"No consumption of alcohol/drugs on duty"}),t.jsx("li",{children:"No theft, damage, or misconduct"}),t.jsx("li",{children:"No photography or unauthorised recording at customer premises"}),t.jsx("li",{children:"No requesting personal favours or discounts"}),t.jsx("li",{children:"No entering restricted areas without consent"})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Any violation may lead to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Permanent termination"}),t.jsx("li",{children:"Police complaint"}),t.jsx("li",{children:"Forfeiture of dues and deposits"}),t.jsx("li",{children:"Penalties up to 25,000"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"9. Punctuality & Attendance"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Partner must accept bookings only if available."}),t.jsx("li",{children:"Must reach customer location on time."}),t.jsx("li",{children:"Any delay beyond 20 minutes must be informed."})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Repeated delays may lead to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"50200 penalty per incident"}),t.jsx("li",{children:"Reduced lead allocation"}),t.jsx("li",{children:"Temporary suspension"})]})]}),t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-red-900",children:"10. No Offline Deals (Strictly Prohibited)"}),t.jsx("p",{className:"leading-relaxed mb-2 text-red-900",children:"Partner shall not:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2 text-red-900",children:[t.jsx("li",{children:"Ask customer to cancel platform booking"}),t.jsx("li",{children:"Offer lower pricing for offline work"}),t.jsx("li",{children:"Share personal phone number for future services"}),t.jsx("li",{children:"Accept cash or direct payments"})]}),t.jsx("p",{className:"leading-relaxed mb-2 text-red-900",children:t.jsx("strong",{children:"Penalty:"})}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-red-900",children:[t.jsx("li",{children:"5,000 minimum"}),t.jsx("li",{children:"Permanent termination"}),t.jsx("li",{children:"Deduction from wallet and MG plan"}),t.jsx("li",{children:"Legal action for business loss"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"11. Service Quality & Returns"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner must ensure:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"High-quality workmanship"}),t.jsx("li",{children:"Correct problem diagnosis"}),t.jsx("li",{children:"Use of original parts (if applicable)"}),t.jsx("li",{children:"Guarantee service quality as per NEXO policy"})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Poor work or customer complaints may attract:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Rework without charges"}),t.jsx("li",{children:"Penalty from 1001,000"}),t.jsx("li",{children:"Suspension on repeated offences"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"12. Damage, Theft, or Loss"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner shall be fully liable for:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Damage to customer property"}),t.jsx("li",{children:"Theft or loss at customer premises"}),t.jsx("li",{children:"Fire, accident, or injury caused due to Partner negligence"}),t.jsx("li",{children:"Incorrect installation or unsafe practices"})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Recovery will be made through:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Partner wallet"}),t.jsx("li",{children:"Security deposit"}),t.jsx("li",{children:"MG payouts"}),t.jsx("li",{children:"Legal recovery"})]}),t.jsx("p",{className:"leading-relaxed text-xs mt-2",children:"Police FIR may be filed for severe cases."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"13. Fraudulent Activities"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Strictly prohibited:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Faking job completion"}),t.jsx("li",{children:"False OTP entry"}),t.jsx("li",{children:"Manipulating customer rating"}),t.jsx("li",{children:"Overcharging"}),t.jsx("li",{children:"Providing false documents"})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Penalty:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Up to 25,000"}),t.jsx("li",{children:"Permanent removal"}),t.jsx("li",{children:"Legal prosecution"})]})]}),t.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-bold text-base mb-3 text-amber-900",children:"14. Penalty Structure"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-amber-100",children:[t.jsx("th",{className:"border border-amber-300 px-2 py-1 text-left font-bold",children:"Violation"}),t.jsx("th",{className:"border border-amber-300 px-2 py-1 text-left font-bold",children:"Penalty"})]})}),t.jsxs("tbody",{className:"text-amber-900",children:[t.jsxs("tr",{children:[t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Late arrival"}),t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"50200"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Job rejection after acceptance"}),t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"100300"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Misbehaviour"}),t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"1,0005,000"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Unsafe work"}),t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"2,000"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Offline deal"}),t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"5,000+ termination"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Theft/misconduct"}),t.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Legal action + termination"})]})]})]})}),t.jsx("p",{className:"text-xs text-amber-900 mt-2",children:"NEXO reserves the right to modify penalties anytime."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"15. Partner Wallet & Settlement"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Deductions will be applied in the following order:"}),t.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"Penalties"}),t.jsx("li",{children:"Platform Commission"}),t.jsx("li",{children:"Lead cost"}),t.jsx("li",{children:"MG plan adjustments"}),t.jsx("li",{children:"Pending dues"})]}),t.jsx("p",{className:"leading-relaxed",children:"Settlement cycles will be weekly or as updated by NEXO."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"16. MG Plan (Minimum Guarantee)"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"MG plan is optional or mandatory as per category."}),t.jsx("li",{children:"MG provides priority leads based on plan."}),t.jsx("li",{children:"MG fee is non-refundable."}),t.jsx("li",{children:"Partner failing to meet service quality/minimum performance may lose MG benefits without refund."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"17. Ratings & Reviews"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Partner must maintain minimum rating (e.g., 4.0)."}),t.jsx("li",{children:"Low ratings may result in reduced leads or suspension."}),t.jsx("li",{children:"False or manipulated ratings are punishable."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"18. Use of Platform & Technology"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Partner shall:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Keep app updated"}),t.jsx("li",{children:"Not misuse customer data"}),t.jsx("li",{children:"Not reverse engineer, hack, or modify NEXO systems"}),t.jsx("li",{children:"Use genuine documents only"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"19. Termination"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"NEXO may terminate partner access without notice for:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Misconduct"}),t.jsx("li",{children:"Fraud"}),t.jsx("li",{children:"Unsafe behaviour"}),t.jsx("li",{children:"Low performance"}),t.jsx("li",{children:"Offline deals"}),t.jsx("li",{children:"Customer complaints"}),t.jsx("li",{children:"Violation of any Terms"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"20. Security Deposit Refund"}),t.jsx("p",{className:"leading-relaxed mb-2",children:"Refund only upon:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsx("li",{children:"30-day notice period"}),t.jsx("li",{children:"Return of toolkit (if applicable)"}),t.jsx("li",{children:"No pending dues or penalties"}),t.jsx("li",{children:"No active customer complaints"})]}),t.jsx("p",{className:"leading-relaxed",children:"Refund processing time: 2145 working days."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"21. Dispute Resolution"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Jurisdiction:"})," Bangalore, Karnataka"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Governing Law:"})," Laws of India"]})]}),t.jsx("p",{className:"leading-relaxed mb-2",children:t.jsx("strong",{children:"Method:"})}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Internal review"}),t.jsx("li",{children:"Mediation"}),t.jsx("li",{children:"Arbitration (if required)"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"22. Amendments"}),t.jsx("p",{className:"leading-relaxed",children:"NEXO reserves the right to change Terms anytime. Continued use of the Platform constitutes acceptance."})]}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:t.jsxs("p",{className:"text-xs text-blue-900 leading-relaxed",children:[t.jsx("strong",{children:"By signing and accepting this Agreement, Partner confirms that:"})," (i) they have read, understood, and agree to be bound by all terms, conditions, and penalties outlined herein; (ii) they have had the opportunity to review the full terms published on the Platform; (iii) they understand that this Agreement is legally binding; and (iv) they agree to comply with all obligations and accept all penalties for violations."]})})]})]}),t.jsx("div",{className:"space-y-6",children:h.terms.accepted&&h.terms.signature?t.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(Ue,{className:"text-green-600 text-2xl"}),t.jsx("h3",{className:"text-lg font-bold text-green-800",children:"Terms Already Accepted"})]}),t.jsx("p",{className:"text-sm text-green-700 mb-4",children:"You have already accepted the Terms & Conditions and provided your digital signature."}),h.terms.signature&&t.jsxs("div",{className:"mt-4",children:[t.jsx("p",{className:"text-xs text-green-600 mb-2 font-semibold",children:"Your Signature:"}),t.jsx("div",{className:"bg-white border border-green-200 rounded-lg p-3",children:t.jsx("img",{src:h.terms.signature,alt:"Signature",className:"max-w-full h-auto",style:{maxHeight:"100px"}})})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Digital Signature"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("canvas",{ref:F,className:"border-2 border-dashed border-gray-300 rounded-lg w-full cursor-crosshair",style:{touchAction:"none",display:"block",maxWidth:"100%",height:"150px"}}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Draw your signature in the box above"})]}),t.jsx("div",{className:"flex gap-2",children:t.jsx("button",{type:"button",onClick:()=>{const me=F.current;me&&(me.getContext("2d").clearRect(0,0,me.width,me.height),p(et=>({...et,terms:{...et.terms,signature:null}})))},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition text-sm font-semibold",children:"Clear Signature"})}),h.terms.signature&&t.jsx("p",{className:"text-sm text-green-600 mt-2 font-semibold",children:" Signature captured"})]}),t.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6",children:t.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:h.terms.accepted,onChange:me=>{p(Be=>({...Be,terms:{...Be.terms,accepted:me.target.checked}}))},className:"mt-1 w-5 h-5 text-primary border-gray-300 rounded focus:ring-primary"}),t.jsxs("span",{className:"text-sm text-gray-700",children:[t.jsx("strong",{children:"I have read, understood and accept the Terms & Conditions"})," *",t.jsx("br",{}),t.jsx("span",{className:"text-xs text-gray-500",children:"By checking this box, you agree to be bound by all terms, conditions, and penalties outlined in the Partner Agreement."})]})]})})]})})]})]});case 7:return s?null:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:" Payment Options"}),t.jsx("p",{className:"text-gray-600",children:"Choose your preferred payment plan and complete via WhatsApp Pay"})]}),j&&t.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 flex items-start gap-3",children:[t.jsx("svg",{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-red-800 mb-1",children:"Payment Failed"}),t.jsx("p",{className:"text-sm text-red-700",children:j}),t.jsx("button",{onClick:()=>w(null),className:"mt-2 text-sm text-red-600 hover:text-red-800 font-medium underline",children:"Dismiss"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl p-6 space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/50 rounded-xl border border-primary/20",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:t.jsx("svg",{className:"w-4 h-4 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-800 font-semibold",children:"Registration Fee"}),t.jsx("p",{className:"text-xs text-gray-600",children:"One-time onboarding fee"})]})]}),t.jsxs("span",{className:"font-bold text-xl text-primary",children:["",h.payment.registrationFee.toLocaleString()]})]}),t.jsx("div",{className:"relative",children:t.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all duration-200 ${h.payment.securityDepositSelected?"border-primary bg-primary/5 shadow-md":"border-gray-200 hover:border-primary/50"}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all duration-200 ${h.payment.securityDepositSelected?"bg-primary border-primary":"border-gray-300 hover:border-primary/70"}`,children:[t.jsx("input",{type:"checkbox",id:"securityDeposit",checked:h.payment.securityDepositSelected,onChange:me=>{const Be=me.target.checked,et=h.partnerType||"individual",mt=(D==null?void 0:D[et])||D,ut=Be?(mt==null?void 0:mt.securityDeposit)||1e3:0;p(Vt=>({...Vt,payment:{...Vt.payment,securityDepositSelected:Be,securityDeposit:ut,total:Vt.payment.registrationFee+ut+(Vt.toolkit.selected?Vt.toolkit.price:0)}}))},className:"w-3 h-3 text-primary focus:ring-0 opacity-0 absolute"}),h.payment.securityDepositSelected&&t.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"securityDeposit",className:"text-gray-800 font-semibold text-base cursor-pointer flex items-center gap-2",children:["Include Security Deposit",h.payment.securityDepositSelected&&t.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[t.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Selected"]})]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Refundable security deposit"})]})]}),t.jsx("div",{className:"text-right",children:D&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:`text-2xl font-bold transition-colors duration-200 ${h.payment.securityDepositSelected?"text-primary":"text-gray-700"}`,children:["",D.securityDeposit.toLocaleString()]}),!h.payment.securityDepositSelected&&t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Click to include"})]})})]}),h.payment.securityDepositSelected&&t.jsx("div",{className:"mt-3 pt-3 border-t border-primary/20",children:t.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[t.jsx("svg",{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-800",children:"Why include security deposit?"}),t.jsx("p",{className:"text-xs mt-1",children:"Builds trust with customers and partners. Fully refundable upon completion.."})]})]})})]})}),t.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[t.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all duration-200 ${h.toolkit.selected?"border-orange-400 bg-orange-50/50 shadow-md":"border-gray-200 hover:border-orange-300"}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all duration-200 cursor-pointer ${h.toolkit.selected?"bg-orange-500 border-orange-500":"border-gray-300 hover:border-orange-400"}`,children:[t.jsx("input",{type:"checkbox",id:"toolkitCheckbox",checked:h.toolkit.selected,onChange:me=>p(Be=>({...Be,toolkit:{...Be.toolkit,selected:me.target.checked}})),className:"w-3 h-3 text-primary focus:ring-0 opacity-0 absolute cursor-pointer"}),h.toolkit.selected&&t.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),t.jsx("div",{children:t.jsxs("label",{htmlFor:"toolkitCheckbox",className:"cursor-pointer",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(IX,{className:`text-lg transition-colors duration-200 ${h.toolkit.selected?"text-orange-600":"text-orange-500"}`}),t.jsxs("span",{className:`font-semibold transition-colors duration-200 ${h.toolkit.selected?"text-gray-800":"text-gray-700"}`,children:["Professional Toolkit (Optional)",h.toolkit.selected&&t.jsxs("span",{className:"inline-flex items-center ml-2 px-2 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[t.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Selected"]})]})]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Professional-grade tools and equipment to get started faster"})]})})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:`text-2xl font-bold transition-colors duration-200 ${h.toolkit.selected?"text-orange-600":"text-gray-700"}`,children:["",h.toolkit.price.toLocaleString()]}),!h.toolkit.selected&&t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Optional add-on"})]})]}),h.toolkit.selected&&t.jsx("div",{className:"mt-3 pt-3 border-t border-orange-200",children:t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-gray-700",children:"Quality Tools"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-gray-700",children:"Faster Setup"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-gray-700",children:"Professional Look"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-gray-700",children:"Customer Trust"})]})]})})]}),h.toolkit.selected&&D&&D.toolkitPriceRefundable===!0&&t.jsxs("div",{className:"ml-8 mt-2 flex items-center gap-2 bg-emerald-50 border border-emerald-200 rounded-lg p-2",children:[t.jsx(Ue,{className:"text-emerald-600 text-xs flex-shrink-0"}),t.jsx("span",{className:"text-xs text-emerald-800 font-medium",children:"Toolkit Price is refundable"})]})]}),t.jsx("div",{className:"border-t-2 border-primary/30 pt-6 mt-6",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-xl p-4 border border-primary/20",children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Total Amount"}),t.jsxs("span",{className:"text-3xl font-bold text-primary",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between items-center py-1",children:[t.jsx("span",{className:"text-gray-600",children:"Registration Fee"}),t.jsxs("span",{className:"font-medium",children:["",h.payment.registrationFee.toLocaleString()]})]}),h.payment.securityDepositSelected&&t.jsxs("div",{className:"flex justify-between items-center py-1",children:[t.jsx("span",{className:"text-gray-600",children:"Security Deposit"}),t.jsxs("span",{className:"font-medium",children:["",h.payment.securityDeposit.toLocaleString()]})]}),h.toolkit.selected&&t.jsxs("div",{className:"flex justify-between items-center py-1",children:[t.jsx("span",{className:"text-gray-600",children:"Toolkit Price"}),t.jsxs("span",{className:"font-medium",children:["",h.toolkit.price.toLocaleString()]})]}),t.jsx("div",{className:"border-t border-gray-300 pt-2 mt-2",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"font-semibold text-gray-800",children:"Total"}),t.jsxs("span",{className:"font-bold text-lg text-primary",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]})})]})]})}),D&&(D.registrationFeeRefundable===!0||D.securityDepositRefundable===!0||D.toolkitPriceRefundable===!0)&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-primary/20 space-y-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Refundable Fees:"}),D.registrationFeeRefundable===!0&&t.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 border border-emerald-200 rounded-lg p-2",children:[t.jsx(Ue,{className:"text-emerald-600 text-sm flex-shrink-0"}),t.jsx("span",{className:"text-xs text-emerald-800 font-medium",children:"Registration Fee is refundable"})]}),D.securityDepositRefundable===!0&&t.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 border border-emerald-200 rounded-lg p-2",children:[t.jsx(Ue,{className:"text-emerald-600 text-sm flex-shrink-0"}),t.jsx("span",{className:"text-xs text-emerald-800 font-medium",children:"Security Deposit is refundable"})]}),D.toolkitPriceRefundable===!0&&t.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 border border-emerald-200 rounded-lg p-2",children:[t.jsx(Ue,{className:"text-emerald-600 text-sm flex-shrink-0"}),t.jsx("span",{className:"text-xs text-emerald-800 font-medium",children:"Toolkit Price is refundable"})]})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-2xl p-6 border-2 border-blue-200",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Secure Payment Gateway"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Complete your payment securely using PayU payment gateway"})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 mb-4",children:[t.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[t.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("h4",{className:"font-semibold text-gray-800",children:"Secure & Encrypted"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Your payment information is safe with us"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Credit Card"}),t.jsxs("svg",{className:"w-8 h-8 text-blue-600 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:[t.jsx("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),t.jsx("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Debit Card"}),t.jsxs("svg",{className:"w-8 h-8 text-green-600 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:[t.jsx("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),t.jsx("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"UPI"}),t.jsx("svg",{className:"w-8 h-8 text-purple-600 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Net Banking"}),t.jsx("svg",{className:"w-8 h-8 text-orange-600 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V8a2 2 0 00-2-2h-5L9 4H4zm7 5a1 1 0 10-2 0v1H8a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V9z",clipRule:"evenodd"})})]})]}),t.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:t.jsxs("p",{className:"text-sm text-blue-800 text-center",children:[t.jsx("strong",{children:"Note:"})," You will be redirected to PayU secure payment page to complete your transaction"]})})]}),t.jsx(E.button,{onClick:ie,disabled:Ie,whileHover:{scale:Ie?1:1.05},whileTap:{scale:Ie?1:.95},className:"w-full bg-primary text-white py-4 rounded-xl font-semibold text-lg flex items-center justify-center gap-3 shadow-lg hover:shadow-xl transition disabled:opacity-50 disabled:cursor-not-allowed",children:Ie?t.jsxs(t.Fragment,{children:[t.jsx(ss,{className:"animate-spin"}),"Processing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(_i,{}),"Pay ",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()," Securely",t.jsx(on,{})]})})]}),j&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:j}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"border-t border-gray-200 pt-6 mt-6",children:t.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[t.jsxs("div",{className:"text-center mb-3",children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Want to register a new partner?"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Clear all saved data and start fresh registration"})]}),t.jsxs(E.button,{onClick:()=>{window.confirm("Are you sure you want to start a new registration? This will clear all saved data from this device.")&&(localStorage.removeItem("partnerOnboardingStep"),localStorage.removeItem("partnerOnboardingFormData"),localStorage.removeItem("partnerOnboardingToken"),localStorage.removeItem("partnerOnboardingPartnerData"),window.location.href="/partner/onboard")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-blue-600 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-blue-700 transition shadow-md",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Register New Partner"]})]})})]});case 8:const Je=h.payment.payId&&h.payment.payId.length>0;h.payment.status;const Ge=h.payment.status==="failed";return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"text-center mb-8",children:Ge?t.jsxs(t.Fragment,{children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-12 h-12 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),t.jsx("h2",{className:"text-3xl font-bold text-red-600 mb-2",children:"Payment Failed!"}),t.jsx("p",{className:"text-gray-600",children:"Your payment could not be processed. Please try again."})]}):Je?t.jsxs(t.Fragment,{children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Ue,{className:"text-4xl text-green-600"})}),t.jsx("h2",{className:"text-3xl font-bold text-green-600 mb-2",children:"Payment Received!"}),t.jsx("p",{className:"text-gray-600",children:"Your payment has been received and is being verified by our team"})]}):t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Payment Confirmation"}),t.jsx("p",{className:"text-gray-600",children:"Enter your payment transaction ID to complete registration"})]})}),t.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl p-6 space-y-4",children:[t.jsxs("div",{className:"bg-white/50 rounded-xl p-4 border border-primary/20",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Payment ",Je?"Completed":"Summary"]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Registration Fee"}),t.jsxs("span",{className:"font-medium",children:["",h.payment.registrationFee.toLocaleString()]})]}),h.payment.securityDepositSelected&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Security Deposit"}),t.jsxs("span",{className:"font-medium",children:["",h.payment.securityDeposit.toLocaleString()]})]}),h.toolkit.selected&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Professional Toolkit"}),t.jsxs("span",{className:"font-medium",children:["",h.toolkit.price.toLocaleString()]})]}),t.jsx("div",{className:"border-t border-gray-300 pt-2 mt-2",children:t.jsxs("div",{className:"flex justify-between font-semibold",children:[t.jsxs("span",{children:["Total ",Je?"Paid":"Amount"]}),t.jsxs("span",{className:"text-primary",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]})})]})]}),Ge?t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-50 rounded-xl p-4 border-2 border-red-200",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),t.jsx("h4",{className:"text-lg font-semibold text-red-800",children:"Payment Failed"})]}),t.jsxs("div",{className:"bg-white rounded-lg p-3 space-y-2",children:[h.payment.payId&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Transaction ID:"}),t.jsx("span",{className:"font-mono font-semibold text-gray-800",children:h.payment.payId})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Amount:"}),t.jsxs("span",{className:"font-semibold text-gray-800",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-semibold",children:[t.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Failed"]})]})]}),t.jsx("div",{className:"bg-red-100 border border-red-300 rounded-lg p-3 mt-3",children:t.jsxs("p",{className:"text-sm text-red-800",children:[t.jsx("strong",{children:" Payment Failed:"})," ",j||"Your payment could not be processed. Please try again or contact support if the issue persists."]})}),t.jsxs(E.button,{onClick:()=>{p(me=>({...me,payment:{...me.payment,payId:"",status:""}})),w(null),l(7)},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-red-600 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-red-700 transition",children:[t.jsx(lj,{}),"Try Payment Again"]})]})}):Je?t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-green-50 rounded-xl p-4 border-2 border-green-200",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(Ue,{className:"text-green-600 text-xl"}),t.jsx("h4",{className:"text-lg font-semibold text-green-800",children:"Payment Details"})]}),t.jsxs("div",{className:"bg-white rounded-lg p-3 space-y-2",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Transaction ID:"}),t.jsx("span",{className:"font-mono font-semibold text-gray-800",children:h.payment.payId})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Amount Paid:"}),t.jsxs("span",{className:"font-semibold text-green-600",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Payment Method:"}),t.jsx("span",{className:"font-semibold text-gray-800",children:"Online Payment (PayU)"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-semibold",children:[t.jsx(si,{}),"Pending Verification"]})]})]}),t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mt-3",children:t.jsxs("p",{className:"text-sm text-yellow-800",children:[t.jsx("strong",{children:" Payment Pending Verification:"})," Your payment has been received successfully. Our admin team will verify it shortly. You can proceed to the next step where you'll wait for approval."]})})]})}):t.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border-2 border-gray-200",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("svg",{className:"w-5 h-5 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm0 2h12v8H4V6z",clipRule:"evenodd"})}),t.jsx("label",{className:"text-base font-semibold text-gray-800",children:"Payment Transaction ID"})]}),t.jsx("input",{type:"text",value:h.payment.payId,onChange:me=>p(Be=>({...Be,payment:{...Be.payment,payId:me.target.value}})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-colors",placeholder:"Enter payment transaction ID from WhatsApp Pay",required:!0}),t.jsx("p",{className:"text-sm text-gray-600",children:"Enter the transaction ID you received after completing the payment via WhatsApp Pay to complete your registration."})]})})]})]});case 9:return t.jsx(VQ,{currentStep:i,setCurrentStep:l,formData:h,token:o});case 11:return h.selectedPlan||m?t.jsxs("div",{className:"space-y-6 text-center",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:t.jsx(Ha,{className:"text-4xl text-green-600"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:h.selectedPlan?"Thank You!":"Registration Complete!"}),t.jsx("p",{className:"text-gray-600 mb-6",children:h.selectedPlan?`Thank you for subscribing to the ${h.selectedPlan} plan! Your lead subscription is now active.`:"Your partner registration is complete! You can subscribe to an MG plan anytime from your dashboard."})]}),t.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl p-6",children:[t.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Your Partner ID"}),t.jsx("div",{className:"text-3xl font-bold text-primary",children:k||((ge=c==null?void 0:c._id)==null?void 0:ge.toString().slice(-8))||(c==null?void 0:c.partnerId)||"PRT-XXXXXX"})]}),h.categoryNames&&h.categoryNames.length>0&&t.jsxs("div",{className:"bg-white border-2 border-primary rounded-2xl p-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Selected Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:h.categoryNames.map((me,Be)=>t.jsx("span",{className:"bg-primary/10 text-primary px-4 py-2 rounded-full font-semibold",children:me},Be))})]}),h.selectedPlan&&t.jsxs("div",{className:"bg-white border-2 border-primary rounded-2xl p-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your MG Plan"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-4xl mb-3",children:h.selectedPlan==="Silver"?"":h.selectedPlan==="Gold"?"":""}),t.jsxs("div",{className:"text-2xl font-bold text-primary mb-2",children:[h.selectedPlan," Plan"]}),t.jsxs("p",{className:"text-gray-600",children:["You've successfully subscribed to the ",h.selectedPlan," plan. You'll receive guaranteed leads and commission benefits."]}),L&&t.jsxs("p",{className:"text-sm text-gray-500 mt-3",children:["Lead fee ",L.leadFee??0,"  Maintain wallet  ",L.minWalletBalance??0," to keep leads flowing."]})]})]}),t.jsxs("div",{className:"flex gap-4 justify-center",children:[t.jsxs(E.a,{onClick:me=>{me.preventDefault(),ye(me)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-green-600 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition flex items-center gap-2",children:[t.jsx(Er,{className:"text-lg"}),"Contact Support"]}),t.jsxs(E.button,{onClick:()=>navigate("/partner/login"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-primary text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition flex items-center gap-2",children:["Go to Dashboard",t.jsx(on,{})]})]})]}):t.jsxs("div",{className:"space-y-6",children:[h.selectedPlan&&L&&t.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-300 rounded-2xl p-6 mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:t.jsx(Ue,{className:"text-white text-2xl"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-green-800",children:"Your Activated Plan"}),t.jsx("p",{className:"text-sm text-green-600",children:"Currently active and receiving leads"})]})]}),t.jsx("div",{className:"text-4xl",children:L.icon})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h4",{className:"text-2xl font-bold text-primary",children:[h.selectedPlan," Plan"]}),t.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["",L.price.toLocaleString("en-IN"),"/mo"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[t.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Guaranteed Leads"}),t.jsxs("p",{className:"text-xl font-bold text-green-700",children:[L.leads,"/month"]})]}),t.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Commission Rate"}),t.jsxs("p",{className:"text-xl font-bold text-blue-700",children:[L.commission,"%"]})]}),t.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Lead Fee"}),t.jsxs("p",{className:"text-xl font-bold text-purple-700",children:["",L.leadFee]})]}),t.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Min Wallet Balance"}),t.jsxs("p",{className:"text-xl font-bold text-orange-700",children:["",L.minWalletBalance]})]})]}),((U=L.features)==null?void 0:U.length)>0&&t.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[t.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Plan Features:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:L.features.map((me,Be)=>t.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:[" ",me]},Be))})]})]}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-green-700",children:[t.jsx(Ue,{}),t.jsx("span",{className:"font-medium",children:"Plan is active and you're receiving leads"})]})]}),t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:h.selectedPlan?"Change Your MG Plan":"Choose Your MG Plan"}),t.jsx("p",{className:"text-gray-600",children:h.selectedPlan?"Select a different plan below to upgrade or change your subscription":"Select a Minimum Guarantee plan to get started"}),h.partnerType&&t.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-blue-50 border border-blue-200 rounded-xl",children:[t.jsx("span",{className:"text-2xl",children:h.partnerType==="individual"?"":""}),t.jsxs("span",{className:"text-sm font-semibold text-blue-700",children:["Showing plans for ",h.partnerType==="individual"?"Individual":"Franchise"," Partners"]})]})]}),A?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ss,{className:"animate-spin text-4xl text-primary mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading available plans..."})]}):C.length===0?t.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50",children:[t.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No MG Plans Available"}),t.jsxs("p",{className:"text-sm text-gray-500",children:[h.partnerType?`No plans available for ${h.partnerType==="individual"?"Individual":"Franchise"} partners yet.`:"No Minimum Guarantee plans have been configured yet."," Please contact admin or skip this step."]})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:C.map(me=>{var et;const Be=me._id||me.id;return t.jsxs(E.button,{onClick:async()=>{var mt;p(ut=>({...ut,selectedPlan:me.name,selectedPlanId:Be||null})),b(!0),w(null);try{if(o&&Be){if((await jt.subscribeToPlan(o,Be)).success&&(p(Vt=>({...Vt,selectedPlanId:Be})),s&&h.categories&&h.categories.length>0&&h.city))try{console.log("Plan subscribed, lead should be created by backend")}catch(Vt){console.error("Error creating lead after plan selection:",Vt)}}else if(o){const Vt=(mt=(await jt.getMGPlans(o)).data)==null?void 0:mt.find($t=>$t.name===me.name);Vt&&(await jt.subscribeToPlan(o,Vt._id)).success&&p(ct=>({...ct,selectedPlanId:Vt._id}))}s||he(),w(null)}catch(ut){console.error("Failed to subscribe to plan:",ut),w("Failed to subscribe to plan. Please try again.")}finally{b(!1)}},disabled:f,whileHover:{scale:f?1:1.05},whileTap:{scale:f?1:.95},className:`${me.color} border-2 rounded-2xl p-6 text-left transition relative ${h.selectedPlan===me.name?`${me.borderColor} border-4 shadow-lg ring-4 ring-green-200`:"border-gray-200 hover:border-primary"} ${f?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[h.selectedPlan===me.name&&t.jsxs("div",{className:"absolute -top-3 -right-3 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg flex items-center gap-1 animate-pulse",children:[t.jsx(Ue,{}),"Active Plan"]}),t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsx("div",{className:"text-4xl",children:me.icon}),me.partnerType==="both"&&t.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full font-semibold",children:"All Partners"})]}),t.jsx("div",{className:"font-bold text-xl text-gray-800 mb-2",children:me.name}),t.jsxs("div",{className:"text-3xl font-bold text-primary mb-3",children:["",me.price.toLocaleString("en-IN")]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:[me.leads," Leads/month"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:[me.commission,"% Commission"]})]}),me.leadFee&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:["Lead Fee ",me.leadFee]})]}),me.minWalletBalance&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:["Min Wallet ",me.minWalletBalance]})]})]}),(et=me.features)!=null&&et.length?t.jsx("ul",{className:"mt-4 space-y-1 text-xs text-gray-600",children:me.features.map((mt,ut)=>t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Ue,{className:"text-primary"}),t.jsx("span",{children:mt})]},ut))}):null,h.selectedPlan===me.name&&t.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"mt-4",children:t.jsx(Ue,{className:"text-primary text-2xl mx-auto"})})]},me.name)})}),h.selectedPlan?t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl p-5 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[t.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:t.jsx(Ue,{className:"text-white"})}),t.jsxs("p",{className:"text-green-800 font-bold text-lg",children:["Your ",h.selectedPlan," Plan is Active"]})]}),t.jsx("p",{className:"text-sm text-green-700 mb-3",children:"You're currently receiving leads with this plan. Click on any other plan above to upgrade or change your subscription."}),t.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-green-600",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Ue,{className:"text-green-500"}),"Leads Active"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Ue,{className:"text-green-500"}),"Commission Enabled"]})]})]}):t.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Please select a plan to continue"})]});case 12:return t.jsxs("div",{className:"space-y-6 text-center",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:t.jsx(Ha,{className:"text-4xl text-green-600"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"You're Already Registered!"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Your partner profile is already complete. You can proceed to subscribe to a lead plan or manage your account."})]}),t.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl p-6",children:[t.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Your Partner ID"}),t.jsx("div",{className:"text-3xl font-bold text-primary",children:k||((de=c==null?void 0:c._id)==null?void 0:de.toString().slice(-8))||(c==null?void 0:c.partnerId)||"PRT-XXXXXX"})]}),h.categoryNames&&h.categoryNames.length>0&&t.jsxs("div",{className:"bg-white border-2 border-primary rounded-2xl p-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:h.categoryNames.map((me,Be)=>t.jsx("span",{className:"bg-primary/10 text-primary px-4 py-2 rounded-full font-semibold",children:me},Be))})]}),h.selectedPlan&&L?t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-300 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:t.jsx(Ue,{className:"text-white text-2xl"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("h3",{className:"text-xl font-bold text-green-800",children:"Your Activated Plan"}),t.jsx("p",{className:"text-sm text-green-600",children:"Currently active and receiving leads"})]})]}),t.jsx("div",{className:"text-4xl",children:L.icon})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h4",{className:"text-2xl font-bold text-primary",children:[h.selectedPlan," Plan"]}),t.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["",L.price.toLocaleString("en-IN"),"/mo"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[t.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Guaranteed Leads"}),t.jsxs("p",{className:"text-xl font-bold text-green-700",children:[L.leads,"/month"]})]}),t.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Commission Rate"}),t.jsxs("p",{className:"text-xl font-bold text-blue-700",children:[L.commission,"%"]})]}),t.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Lead Fee"}),t.jsxs("p",{className:"text-xl font-bold text-purple-700",children:["",L.leadFee]})]}),t.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Min Wallet Balance"}),t.jsxs("p",{className:"text-xl font-bold text-orange-700",children:["",L.minWalletBalance]})]})]}),((Ve=L.features)==null?void 0:Ve.length)>0&&t.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[t.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Plan Features:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:L.features.map((me,Be)=>t.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:[" ",me]},Be))})]})]}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-green-700",children:[t.jsx(Ue,{}),t.jsx("span",{className:"font-medium",children:"Plan is active and you're receiving leads"})]})]}):t.jsxs("div",{className:"bg-white border-2 border-primary rounded-2xl p-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your MG Plan"}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-gray-600 mb-6",children:"You haven't subscribed to a lead plan yet. Choose a plan to start receiving leads!"})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:HQ.map(me=>{var Be;return t.jsxs(E.button,{onClick:async()=>{var et;p(mt=>({...mt,selectedPlan:me.name,selectedPlanId:null})),b(!0),w(null);try{if(o){const ut=(et=(await jt.getMGPlans(o)).data)==null?void 0:et.find(Vt=>Vt.name===me.name);ut?(await jt.subscribeToPlan(o,ut._id)).success&&(p($t=>({...$t,selectedPlanId:ut._id})),s&&h.categories&&h.categories.length>0&&h.city&&console.log("Plan subscribed, lead should be created by backend"),l(11),w(null)):w(`Plan "${me.name}" not available. Please contact support.`)}else w("Please login to subscribe to a plan")}catch(mt){console.error("Failed to subscribe to plan:",mt),w("Failed to subscribe to plan. Please try again.")}finally{b(!1)}},disabled:f,whileHover:{scale:f?1:1.05},whileTap:{scale:f?1:.95},className:`${me.color} border-2 rounded-2xl p-6 text-left transition ${h.selectedPlan===me.name?`${me.borderColor} border-4 shadow-lg`:"border-gray-200 hover:border-primary"} ${f?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[t.jsx("div",{className:"text-4xl mb-3",children:me.icon}),t.jsx("div",{className:"font-bold text-xl text-gray-800 mb-2",children:me.name}),t.jsxs("div",{className:"text-3xl font-bold text-primary mb-3",children:["",me.price.toLocaleString("en-IN")]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:[me.leads," Leads/month"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:[me.commission,"% Commission"]})]}),me.leadFee&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:["Lead Fee ",me.leadFee]})]}),me.minWalletBalance&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:["Min Wallet ",me.minWalletBalance]})]})]}),(Be=me.features)!=null&&Be.length?t.jsx("ul",{className:"mt-4 space-y-1 text-xs text-gray-600",children:me.features.map((et,mt)=>t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Ue,{className:"text-primary"}),t.jsx("span",{children:et})]},mt))}):null,h.selectedPlan===me.name&&t.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"mt-4",children:t.jsx(Ue,{className:"text-primary text-2xl mx-auto"})})]},me.name)})}),j&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm text-center",children:j})]})]}),t.jsxs("div",{className:"flex gap-4 justify-center",children:[t.jsx(E.a,{href:"/partner/login",whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-primary text-white px-6 py-3 rounded-xl font-semibold",children:"Go to Dashboard"}),t.jsxs(E.a,{onClick:me=>{me.preventDefault(),ye(me)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 py-3 rounded-xl font-semibold flex items-center gap-2",children:[t.jsx(Er,{})," Contact Support"]})]}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"border-t border-gray-200 pt-6 mt-6",children:t.jsxs("div",{className:"bg-blue-50 rounded-xl p-5 border border-blue-200",children:[t.jsxs("div",{className:"text-center mb-4",children:[t.jsxs("h4",{className:"font-semibold text-gray-800 mb-2 flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Want to register a new partner?"]}),t.jsx("p",{className:"text-sm text-gray-600",children:"Clear all saved data and start fresh registration"})]}),t.jsxs(E.button,{onClick:()=>{window.confirm("Are you sure you want to start a new registration? This will clear all saved data from this device.")&&(localStorage.removeItem("partnerOnboardingStep"),localStorage.removeItem("partnerOnboardingFormData"),localStorage.removeItem("partnerOnboardingToken"),localStorage.removeItem("partnerOnboardingPartnerData"),window.location.href="/partner/onboard")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-blue-600 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-blue-700 transition shadow-md",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Register New Partner"]})]})})]});default:return null}};return t.jsxs(t.Fragment,{children:[t.jsx(In,{title:"Partner Onboarding | NEXO",description:"Join NEXO as a service partner. Complete your registration in simple steps.",keywords:"partner onboarding, become partner, service partner registration",url:"/partner/onboard"}),Qe&&t.jsx(UQ,{paymentData:Qe,onSuccess:()=>{W(null),Se(!1)},onFailure:()=>{W(null),Se(!1),w("Payment failed. Please try again.")}}),t.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-6 px-4 sm:px-6 pt-20 sm:pt-24",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[i<11&&i!==12&&t.jsxs("div",{className:"mb-4 sm:mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[t.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:["Step ",i," of ",s?we-2:we-1]}),t.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-primary",children:[Math.round(i/(s?we-2:we-1)*100),"%"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:t.jsx(E.div,{className:"bg-primary h-1.5 rounded-full",initial:{width:0},animate:{width:`${i/(s?we-2:we-1)*100}%`},transition:{duration:.3}})})]}),t.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-lg p-4 sm:p-6 md:p-6 lg:p-8",children:[t.jsx(wl,{mode:"wait",children:t.jsx(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:ft()},i)}),i<12&&i!==13&&t.jsxs("div",{className:"flex justify-between items-center mt-6 sm:mt-8 pt-4 sm:pt-6 border-t",children:[t.jsxs("button",{onClick:be,disabled:i===1,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition ${i===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[t.jsx(lj,{})," Previous"]}),i===2?t.jsxs("button",{onClick:dt,disabled:f||!qe(),className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[f?t.jsx(ss,{className:"animate-spin"}):"Save & Continue"," ",t.jsx(on,{})]}):i===3?t.jsxs("button",{onClick:Re,disabled:f||!qe(),className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[f?t.jsx(ss,{className:"animate-spin"}):"Upload & Continue"," ",t.jsx(on,{})]}):i===4?t.jsxs("button",{onClick:ke,disabled:f||h.categories.length===0,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[f?t.jsx(ss,{className:"animate-spin"}):"Save Categories & Continue"," ",t.jsx(on,{})]}):i===6?t.jsxs("button",{onClick:async()=>{var ge,U;if(s)await T();else{b(!0);try{if(o&&h.terms.signature,o)try{const de=await jt.getProfile(o);if(de.success&&de.profile){const Ve=de.profile;if(Ve.paymentApproved===!0||Ve.registerdFee===!0||((ge=Ve.profile)==null?void 0:ge.paymentApproved)===!0||((U=Ve.profile)==null?void 0:U.registerdFee)===!0){console.log(" Payment already completed, skipping payment step"),p(Ge=>{var me;return{...Ge,payment:{...Ge.payment,status:"completed",payId:((me=Ve.profile)==null?void 0:me.payId)||Ve.payId||"COMPLETED"}}}),l(9),b(!1);return}}}catch(de){console.error("Error checking payment status:",de)}l(7)}catch(de){w(de.message||"Failed to accept terms")}finally{b(!1)}}},disabled:!qe()||f,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[f?t.jsx(ss,{className:"animate-spin"}):s?"Complete Registration":"Accept & Continue"," ",t.jsx(on,{})]}):i===7&&!s?t.jsxs("button",{onClick:Tt,disabled:f,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[f?t.jsx(ss,{className:"animate-spin"}):"Complete Payment"," ",t.jsx(on,{})]}):i===8&&h.payment.status!=="failed"?t.jsxs("button",{onClick:At,disabled:f||!h.payment.payId,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[f?t.jsx(ss,{className:"animate-spin"}):"Confirm Payment & Continue"," ",t.jsx(on,{})]}):i===9?t.jsxs("div",{className:"flex gap-3 justify-center",children:[t.jsxs("button",{onClick:Rt,disabled:f,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:["Yes, Choose MG Plan ",t.jsx(on,{})]}),t.jsx("button",{onClick:()=>{x(!0),l(11)},disabled:f,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-gray-200 text-gray-700 hover:bg-gray-300 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Skip for Now"})]}):i===10?t.jsxs("button",{onClick:Rt,disabled:!qe()||f,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:["Next ",t.jsx(on,{})]}):t.jsxs("button",{onClick:Rt,disabled:!qe()||f,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:["Next ",t.jsx(on,{})]})]})]})]})})]})},WQ=()=>t.jsxs(t.Fragment,{children:[t.jsx(In,{title:"Partner Terms & Conditions | NEXO",description:"Partner Terms & Conditions for service providers on NEXO platform. Read our comprehensive terms covering registration, obligations, penalties, and more.",keywords:"partner terms, service provider terms, NEXO terms and conditions, partner agreement"}),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"bg-white/20 rounded-full p-4",children:t.jsx(W0,{className:"w-12 h-12"})})}),t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Partner Terms & Conditions"}),t.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"Effective Date: 15th November 2025 | Last Updated: 15th November 2025"})]})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(wO,{className:"text-primary"}),"1. Introduction"]}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:'These Partner Terms & Conditions ("Terms") constitute a binding agreement between NEXO ("Company", "Platform", "We", "Us") and the individual or business entity ("Partner", "Service Provider", "You") who registers to provide on-site or online services through the Platform.'}),t.jsx("p",{className:"text-gray-700 leading-relaxed mt-4 font-semibold",children:"By registering or accepting any service request, the Partner expressly agrees to these Terms."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"2. Independent Contractor Status"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"The Partner is an independent contractor, not an employee, representative, or agent of NEXO."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"No employment benefits (PF, ESI, gratuity, insurance, paid leave, salary) shall be applicable."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"The Partner is solely responsible for compliance with GST, income tax, labour laws, and all statutory obligations."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"3. Mandatory Registration & Onboarding Requirements"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"The Partner shall complete mandatory onboarding, including but not limited to:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Valid Government ID"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Address proof"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Skill verification/trade test (if applicable)"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Police verification (whenever required)"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Recent photograph"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Bank account details"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"GST number (if applicable)"})]})]})]}),t.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Payment of applicable onboarding fees:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Registration Fee"}),t.jsx("li",{children:"Toolkit Fee (if provided)"}),t.jsx("li",{children:"Minimum Guarantee (MG) Plan"}),t.jsx("li",{children:"Security Deposit"})]})]}),t.jsx("p",{className:"text-gray-700",children:t.jsx("strong",{children:"All fees are non-refundable, except security deposit which is refundable as per Clause 23."})})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"4. Partner Obligations"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Maintain professional behaviour at all times."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Deliver high-quality, safe, and lawful services."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Carry valid Partner ID during every service."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Reach customer location on time."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Provide correct service estimates before starting work."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Maintain hygiene, wear uniform/ID (if provided)."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),t.jsx("span",{children:"Not engage in misconduct, harassment, abuse, threats, or illegal activity."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"h)"}),t.jsx("span",{children:"Maintain tools and ensure safe operation."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"i)"}),t.jsx("span",{children:"Not demand cash payments directly from customers."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"j)"}),t.jsx("span",{className:"text-red-600 font-semibold",children:"Not solicit or accept off-platform work (strict penalty)."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"5. Pricing, Estimates & Billing"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Partner must follow NEXO pricing structure and guidelines."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Any additional work must be pre-approved through the Platform."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Partner shall not overcharge or misrepresent pricing."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"All payments shall be processed solely through NEXO."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Partner is responsible for issuing bills/invoices where required by law."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"6. Platform Commission & Deductions"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Partner agrees to the following deductions:"}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:t.jsxs("ul",{className:"space-y-2 text-gray-700",children:[t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Kt,{className:"text-red-500"}),t.jsx("span",{children:"Platform Commission (%)"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Kt,{className:"text-red-500"}),t.jsx("span",{children:"Lead Cost per lead"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Kt,{className:"text-red-500"}),t.jsx("span",{children:"GST applicable on Platform Commission"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Kt,{className:"text-red-500"}),t.jsx("span",{children:"Penalties & Fines"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Kt,{className:"text-red-500"}),t.jsx("span",{children:"TDS (if applicable)"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Kt,{className:"text-red-500"}),t.jsx("span",{children:"Outstanding dues from previous jobs"})]}),t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(Kt,{className:"text-red-500"}),t.jsx("span",{children:"MG Plan adjustments"})]})]})}),t.jsx("p",{className:"text-gray-700 font-semibold",children:"All deductions shall be final and binding."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(id,{className:"text-yellow-500"}),"7. Mandatory Safety Requirements"]}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Follow safety protocols prescribed by NEXO."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Use proper tools and protective equipment."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Not perform services beyond skill level or without proper safety."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Not endanger customer, property, or themselves."})]})]}),t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Failure may result in:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Immediate suspension"}),t.jsx("li",{children:"Penalty up to 5,000"}),t.jsx("li",{children:"Legal action for damages"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"8. Customer Safety & Code of Conduct"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner must strictly adhere to:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"No harassment (verbal, physical, emotional)"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"No misbehaviour, disrespect, abusive language"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"No consumption of alcohol/drugs on duty"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"No theft, damage, or misconduct"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"No photography or unauthorised recording at customer premises"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"No requesting personal favours or discounts"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),t.jsx("span",{children:"No entering restricted areas without consent"})]})]}),t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Any violation may lead to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Permanent termination"}),t.jsx("li",{children:"Police complaint"}),t.jsx("li",{children:"Forfeiture of dues and deposits"}),t.jsx("li",{children:"Penalties up to 25,000"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.9},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"9. Punctuality & Attendance"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Partner must accept bookings only if available."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Must reach customer location on time."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Any delay beyond 20 minutes must be informed."})]})]}),t.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Repeated delays may lead to:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"50200 penalty per incident"}),t.jsx("li",{children:"Reduced lead allocation"}),t.jsx("li",{children:"Temporary suspension"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8 border-2 border-red-200",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-red-600 mb-4",children:"10. No Offline Deals (Strictly Prohibited)"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall not:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:""}),t.jsx("span",{children:"Ask customer to cancel platform booking"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:""}),t.jsx("span",{children:"Offer lower pricing for offline work"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:""}),t.jsx("span",{children:"Share personal phone number for future services"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:""}),t.jsx("span",{children:"Accept cash or direct payments"})]})]}),t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Penalty:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"5,000 minimum"}),t.jsx("li",{children:"Permanent termination"}),t.jsx("li",{children:"Deduction from wallet and MG plan"}),t.jsx("li",{children:"Legal action for business loss"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"11. Service Quality & Returns"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner must ensure:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"High-quality workmanship"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Correct problem diagnosis"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Use of original parts (if applicable)"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Guarantee service quality as per NEXO policy"})]})]}),t.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Poor work or customer complaints may attract:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Rework without charges"}),t.jsx("li",{children:"Penalty from 1001,000"}),t.jsx("li",{children:"Suspension on repeated offences"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"12. Damage, Theft, or Loss"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall be fully liable for:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Damage to customer property"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Theft or loss at customer premises"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Fire, accident, or injury caused due to Partner negligence"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Incorrect installation or unsafe practices"})]})]}),t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Recovery will be made through:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Partner wallet"}),t.jsx("li",{children:"Security deposit"}),t.jsx("li",{children:"MG payouts"}),t.jsx("li",{children:"Legal recovery"})]}),t.jsx("p",{className:"text-gray-800 font-semibold mt-3",children:"Police FIR may be filed for severe cases."})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"13. Fraudulent Activities"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Strictly prohibited:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Faking job completion"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"False OTP entry"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Manipulating customer rating"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Overcharging"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Providing false documents"})]})]}),t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Penalty:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Up to 25,000"}),t.jsx("li",{children:"Permanent removal"}),t.jsx("li",{children:"Legal prosecution"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"14. Penalty Structure"}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-primary text-white",children:[t.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"Violation"}),t.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"Penalty"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Late arrival"}),t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"50200"})]}),t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Job rejection after acceptance"}),t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"100300"})]}),t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Misbehaviour"}),t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"1,0005,000"})]}),t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Unsafe work"}),t.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"2,000"})]}),t.jsxs("tr",{className:"hover:bg-red-50",children:[t.jsx("td",{className:"border border-gray-300 px-4 py-3 font-semibold text-red-600",children:"Offline deal"}),t.jsx("td",{className:"border border-gray-300 px-4 py-3 font-semibold text-red-600",children:"5,000+ termination"})]}),t.jsxs("tr",{className:"hover:bg-red-50",children:[t.jsx("td",{className:"border border-gray-300 px-4 py-3 font-semibold text-red-600",children:"Theft/misconduct"}),t.jsx("td",{className:"border border-gray-300 px-4 py-3 font-semibold text-red-600",children:"Legal action + termination"})]})]})]})}),t.jsx("p",{className:"text-gray-700 mt-4 italic",children:"NEXO reserves the right to modify penalties anytime."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.5},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"15. Partner Wallet & Settlement"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Deductions will be applied in the following order:"}),t.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[t.jsx("li",{children:"Penalties"}),t.jsx("li",{children:"Platform Commission"}),t.jsx("li",{children:"Lead cost"}),t.jsx("li",{children:"MG plan adjustments"}),t.jsx("li",{children:"Pending dues"})]}),t.jsx("p",{className:"text-gray-700 mt-4",children:"Settlement cycles will be weekly or as updated by NEXO."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.6},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"16. MG Plan (Minimum Guarantee)"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"MG plan is optional or mandatory as per category."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"MG provides priority leads based on plan."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"MG fee is non-refundable."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Partner failing to meet service quality/minimum performance may lose MG benefits without refund."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.7},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"17. Ratings & Reviews"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Partner must maintain minimum rating (e.g., 4.0)."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Low ratings may result in reduced leads or suspension."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"False or manipulated ratings are punishable."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.8},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"18. Use of Platform & Technology"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Keep app updated"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Not misuse customer data"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Not reverse engineer, hack, or modify NEXO systems"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Use genuine documents only"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.9},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"19. Termination"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"NEXO may terminate partner access without notice for:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Misconduct"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Fraud"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Unsafe behaviour"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Low performance"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Offline deals"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Customer complaints"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),t.jsx("span",{children:"Violation of any Terms"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"20. Security Deposit Refund"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Refund only upon:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"30-day notice period"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Return of toolkit (if applicable)"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"No pending dues or penalties"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"No active customer complaints"})]})]}),t.jsx("p",{className:"text-gray-700 font-semibold",children:"Refund processing time: 2145 working days."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:2.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"21. Dispute Resolution"}),t.jsxs("div",{className:"space-y-3 text-gray-700",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Jurisdiction:"})," Bangalore, Karnataka"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Governing Law:"})," Laws of India"]}),t.jsx("p",{className:"mt-4",children:t.jsx("strong",{children:"Method:"})}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[t.jsx("li",{children:"Internal review"}),t.jsx("li",{children:"Mediation"}),t.jsx("li",{children:"Arbitration (if required)"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:2.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"22. Amendments"}),t.jsx("p",{className:"text-gray-700",children:"NEXO reserves the right to change Terms anytime. Continued use of the Platform constitutes acceptance."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:2.3},className:"mb-12",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Questions or Concerns?"}),t.jsx("p",{className:"text-white/90 mb-4",children:"If you have any questions about these Terms & Conditions, please contact us at:"}),t.jsx("p",{className:"text-white font-semibold",children:"Email: support@nexo.works"})]})})]})]})]}),GQ=()=>t.jsxs(t.Fragment,{children:[t.jsx(In,{title:"Customer Terms & Conditions | NEXO",description:"Customer Terms & Conditions for using NEXO platform. Read our comprehensive terms covering bookings, payments, cancellations, and customer rights.",keywords:"customer terms, user terms, NEXO terms and conditions, customer agreement"}),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"bg-white/20 rounded-full p-4",children:t.jsx(W0,{className:"w-12 h-12"})})}),t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Customer Terms & Conditions"}),t.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"Effective Date: 15 Nov 2025 | Last Updated: 15 Nov 2025"})]})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(wO,{className:"text-primary"}),"1. Introduction"]}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:'These Customer Terms & Conditions ("Terms") constitute a legally binding agreement between NEXO ("Company", "Platform", "We", "Us") and any individual or entity ("Customer", "You") who accesses, uses, or avails any service listed on the NEXO mobile application, website, or WhatsApp service platform.'}),t.jsx("p",{className:"text-gray-700 leading-relaxed mt-4 font-semibold",children:"By using or accessing the Platform, You agree to be bound by these Terms."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"2. Eligibility"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"By using the Platform, You confirm:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"You are at least 18 years old;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"You are legally competent to enter into contracts;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Information provided by You is true and accurate;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"You are availing services for lawful purposes only."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"3. Nature of Services"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:'NEXO is an aggregator, facilitating connections between Customers and independent service professionals ("Partners").'})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"NEXO does not employ, control, or supervise Partners."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Services are rendered solely by the Partner, and NEXO is only a facilitating platform."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"4. Customer Obligations"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Customer agrees to:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Provide correct service address, contact details, and description of work;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Ensure availability of an adult at service location;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Verify Partner identity before granting access;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Provide safe, hazard-free environment;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{className:"text-red-600 font-semibold",children:"Not request or engage Partners for offline jobs outside the Platform;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Treat Partners respectfully and refrain from abusive, unlawful, or threatening behaviour;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),t.jsx("span",{children:"Ensure payment is made only through NEXO."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"5. Booking, Cancellation & Rescheduling"}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5.1 Booking Confirmation"}),t.jsx("p",{className:"text-gray-700",children:"A booking is confirmed only upon completion of the applicable Visiting Fee, Service Fee, or pre-payment as required."})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5.2 Cancellation by Customer"}),t.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 mb-4",children:t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Free cancellation within 15 minutes of booking."})}),t.jsx("p",{className:"text-gray-700 mb-3",children:"After 15 minutes, cancellation charges apply:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Before dispatch  50% of visiting fee"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"After Partner dispatch  full visiting fee + 50 penalty"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"After Partner arrival  full visiting fee + applicable labour charges (if work has begun)"})]})]}),t.jsx("p",{className:"text-gray-700 mt-3 font-semibold text-red-600",children:"Repeated cancellations may lead to suspension."})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5.3 Rescheduling"}),t.jsxs("ul",{className:"space-y-2 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ue,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Free one-time reschedule if requested at least 60 minutes before service."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Kt,{className:"text-yellow-500 mt-1"}),t.jsx("span",{children:"Subsequent reschedules may attract fee up to 50."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Kt,{className:"text-red-500 mt-1"}),t.jsx("span",{children:"Rescheduling is not permitted once Partner arrives."})]})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"6. Service Charges & Payments"}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6.1 Charges"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"Charges include:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Visiting Fee"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Labour charges"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Service fee"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Additional work approved by Customer"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Cost of materials (if used)"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Government taxes including GST"})]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6.2 Payment Method"}),t.jsxs("ul",{className:"space-y-2 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ue,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"All payments must be processed through the NEXO Platform."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Kt,{className:"text-red-500 mt-1"}),t.jsx("span",{className:"text-red-600 font-semibold",children:"Direct cash/card payments to Partner are strictly prohibited."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(id,{className:"text-yellow-500 mt-1"}),t.jsx("span",{children:"NEXO is not responsible for any offline payments made by Customer."})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6.3 Final Invoice"}),t.jsx("p",{className:"text-gray-700",children:"Final charges may vary from initial estimate after inspection by Partner."})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(Qo,{className:"text-primary"}),"7. Safety, Security & Conduct"]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"7.1 Customer Safety Rights"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"Customer may:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Ask for Partner ID verification"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Refuse entry if Partner identity appears suspicious"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Report misconduct immediately"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Request replacement of Partner if uncomfortable"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"7.2 Customer Responsibilities"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"Customer must ensure:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Home is safe for work"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Pets/children are supervised"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Valuables are secured"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Clear working access for Partner"})]})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"8. Service Quality & Warranty"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"NEXO does not provide warranty on services unless explicitly mentioned."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Workmanship warranty (if any) is provided solely by the Partner."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Customer must inspect work upon completion before payment."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Any rework request must be raised within 24 hours (if applicable)."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.9},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8 border-2 border-red-200",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-red-600 mb-4",children:"9. Prohibited Activities"}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Customer shall not:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Harass, abuse, threaten, or intimidate Partners;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Engage in discriminatory or unlawful behaviour;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Request services that are illegal or unsafe;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Ask for personal contact of Partner;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Request offline or private service outside the Platform;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Record Partner without consent;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-red-600 font-bold mt-1",children:"g)"}),t.jsx("span",{children:"Provide false complaints or fraudulent claims."})]})]}),t.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[t.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Violation may result in:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Account suspension"}),t.jsx("li",{children:"Legal action"}),t.jsx("li",{children:"Service denial"}),t.jsx("li",{children:"Blacklisting"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"10. Liability & Damages"}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"10.1 Customer Responsibility"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"Customer is responsible for:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-primary",children:""}),t.jsx("span",{children:"Securing valuables"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-primary",children:""}),t.jsx("span",{children:"Providing accurate service details"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-primary",children:""}),t.jsx("span",{children:"Ensuring safe working conditions"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-primary",children:""}),t.jsx("span",{children:"Reviewing work before job closure"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"10.2 NEXO's Liability Limitation"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"NEXO is not liable for:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Any theft, loss, or damage caused by Partner;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Delays, cancellations, or non-performance by Partner;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Damages arising due to incorrect information provided by Customer;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Losses from natural wear & tear or misuse;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Electrical/plumbing faults not directly caused by Partner;"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Third-party or material failures."})]})]}),t.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-4",children:t.jsx("p",{className:"text-gray-800 font-semibold",children:"NEXO's liability, if any, shall not exceed the service fee paid."})})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(NO,{className:"text-primary"}),"11. Partner Misconduct or Issues"]}),t.jsx("p",{className:"text-gray-700 mb-4",children:"If Partner misbehaviour or misconduct is reported (with proof):"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ue,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Immediate review will be conducted"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ue,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Partner may be suspended"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ue,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Replacement may be arranged"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ue,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Refunds (if applicable) may be processed"})]})]}),t.jsx("p",{className:"text-gray-700 mt-4 font-semibold",children:"For severe offences, NEXO may file a police complaint."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"12. Data Privacy"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"Customer data will be used in accordance with NEXO's Privacy Policy."}),t.jsx("p",{className:"text-gray-700",children:"Customer agrees to receive booking updates, OTPs, notifications, and promotional messages."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"13. Intellectual Property Rights"}),t.jsx("p",{className:"text-gray-700 mb-3",children:"All content, branding, design, and material on the Platform is owned by NEXO."}),t.jsx("p",{className:"text-gray-700",children:"Copying, distributing, or modifying Platform content without written permission is prohibited."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"14. Termination of Account"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"NEXO may deactivate or terminate Customer account without notice for:"}),t.jsxs("ul",{className:"space-y-2 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Fraudulent behaviour"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Misuse of Platform"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Harassment of Partner"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Repeated cancellations"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Illegal activity"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Violation of any Terms"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.5},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"15. Dispute Resolution"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-4",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Raise complaint within 24 hours of service."})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Disputes shall be resolved via:"})]})]}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-8 mb-4",children:[t.jsx("li",{children:"Support escalation"}),t.jsx("li",{children:"Mediation"}),t.jsx("li",{children:"Arbitration"})]}),t.jsxs("div",{className:"space-y-2 text-gray-700",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"c)"})," Jurisdiction: Bangalore, Karnataka"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"d)"})," Governing Law: Laws of India"]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.6},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"16. Force Majeure"}),t.jsx("p",{className:"text-gray-700",children:"NEXO is not liable for delays/failures caused by events outside reasonable control including weather, traffic, strikes, pandemics, accidents, or natural disasters."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.7},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"17. Amendments"}),t.jsx("p",{className:"text-gray-700",children:"NEXO may modify these Terms at any time. Updates will be notified, and continued usage constitutes acceptance."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.8},className:"mb-12",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Questions or Concerns?"}),t.jsx("p",{className:"text-white/90 mb-4",children:"If you have any questions about these Terms & Conditions, please contact us at:"}),t.jsx("p",{className:"text-white font-semibold",children:"Email: support@nexo.works"})]})})]})]})]}),qQ=()=>t.jsxs(t.Fragment,{children:[t.jsx(In,{title:"Privacy Policy | NEXO",description:"NEXO Privacy Policy - Learn how we collect, use, store, and protect your personal information across our platform.",keywords:"privacy policy, data protection, NEXO privacy, user data, data security"}),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"bg-white/20 rounded-full p-4",children:t.jsx(Qo,{className:"w-12 h-12"})})}),t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Privacy Policy"}),t.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"Effective Date: 15 Nov 2025"})]})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(W0,{className:"text-primary"}),"1. Introduction"]}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:'This Privacy Policy explains how NEXO collects, uses, stores, and protects Customer, Partner, and user data across mobile app, website, and WhatsApp ("Platform").'}),t.jsx("p",{className:"text-gray-700 leading-relaxed mt-4 font-semibold",children:"By using the Platform, you agree to this Policy."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(hX,{className:"text-primary"}),"2. Information We Collect"]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2.1 Personal Information"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Name"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Phone number"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Email"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Address & location"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"OTP verification"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Device details"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-yellow-500"}),t.jsx("span",{className:"italic",children:"ID proof (Partners only)"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-yellow-500"}),t.jsx("span",{className:"italic",children:"Bank details (Partners only)"})]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2.2 Usage Information"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-blue-500"}),t.jsx("span",{children:"Browsing behaviour"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-blue-500"}),t.jsx("span",{children:"Clickstream"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-blue-500"}),t.jsx("span",{children:"Transaction data"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-blue-500"}),t.jsx("span",{children:"Service history"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-blue-500"}),t.jsx("span",{children:"Communication logs (WhatsApp/chat/call)"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-blue-500"}),t.jsx("span",{children:"IP address"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2.3 Location Data"}),t.jsx("p",{className:"text-gray-700",children:"For service allocation and partner tracking."})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"3. How We Use Information"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"We use information for:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Booking and service fulfillment"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Identity verification"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Customer support"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Fraud prevention"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Partner allocation & tracking"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),t.jsx("span",{children:"Payment processing"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),t.jsx("span",{children:"Safety and dispute resolution"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"h)"}),t.jsx("span",{children:"Marketing & promotional messages"})]}),t.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"i)"}),t.jsx("span",{children:"Legal compliance"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(PX,{className:"text-primary"}),"4. Data Sharing"]}),t.jsx("p",{className:"text-gray-700 mb-4",children:"We share limited data with:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Partners for service delivery"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Payment gateways"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Background verification agencies"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Marketing automation tools (e.g., AiSensy)"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),t.jsx("span",{children:"Law enforcement (upon request)"})]})]}),t.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4",children:t.jsxs("p",{className:"text-gray-800 font-semibold flex items-center gap-2",children:[t.jsx(Ue,{className:"text-green-500"}),"We never sell personal data."]})})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(VN,{className:"text-primary"}),"5. Data Security"]}),t.jsx("p",{className:"text-gray-700 mb-4",children:"We implement:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-3 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Encryption"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Secured servers"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Access restrictions"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"Fraud detection tools"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ue,{className:"text-green-500"}),t.jsx("span",{children:"OTP-based authentication"})]})]}),t.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:t.jsxs("p",{className:"text-gray-800 font-semibold flex items-center gap-2",children:[t.jsx(id,{className:"text-yellow-500"}),"However, no system is 100% secure."]})})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"6. WhatsApp Data Usage"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Usage of WhatsApp APIs (including AiSensy) includes:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700 mb-4",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ue,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Sending booking updates"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ue,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Sending notifications"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ue,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Sending promotional content"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Ue,{className:"text-green-500 mt-1"}),t.jsx("span",{children:"Customerpartner communication"})]})]}),t.jsx("p",{className:"text-gray-700 font-semibold",children:"All messages follow WhatsApp's commerce policies."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(mX,{className:"text-primary"}),"7. Cookies & Tracking"]}),t.jsx("p",{className:"text-gray-700",children:"Used for analytics, personalization, and fraud prevention."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(NO,{className:"text-primary"}),"8. User Rights"]}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Users may request:"}),t.jsxs("ul",{className:"space-y-3 text-gray-700",children:[t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),t.jsx("span",{children:"Data access"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),t.jsx("span",{children:"Data correction"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),t.jsx("span",{children:"Data deletion (subject to legal limits)"})]}),t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),t.jsx("span",{children:"Opt-out of marketing messages"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.9},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"9. Third-Party Links"}),t.jsx("p",{className:"text-gray-700",children:"External links have separate privacy policies; NEXO is not responsible for third-party practices."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"10. Children's Privacy"}),t.jsx("p",{className:"text-gray-700",children:"Platform is not intended for children under age 18."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"11. Amendments"}),t.jsx("p",{className:"text-gray-700",children:"We may update this Policy; changes posted on website/app become effective immediately."})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.2},className:"mb-12",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Questions About Privacy?"}),t.jsx("p",{className:"text-white/90 mb-4",children:"If you have any questions about this Privacy Policy or wish to exercise your rights, please contact us at:"}),t.jsx("p",{className:"text-white font-semibold mb-2",children:"Email: support@nexo.works"}),t.jsx("p",{className:"text-white/80 text-sm",children:"For data access, correction, or deletion requests, please include your registered email or phone number."})]})})]})]})]}),KQ=()=>t.jsxs(t.Fragment,{children:[t.jsx(In,{title:"Customer Refund Policy | NEXO",description:"NEXO Customer Refund Policy - Learn about refund eligibility, non-refundable fees, refund processing times, and refund methods.",keywords:"refund policy, customer refund, NEXO refund, refund eligibility, refund processing"}),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"bg-white/20 rounded-full p-4",children:t.jsx(W0,{className:"w-12 h-12"})})}),t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Customer Refund Policy"}),t.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"NEXO - Fair & Transparent Refund Process"})]})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(Ue,{className:"text-green-500"}),"1. Eligibility for Refund"]}),t.jsx("p",{className:"text-gray-700 mb-4",children:"A customer is eligible for a refund only in the following cases:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(Ue,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Partner fails to arrive within the committed time window."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(Ue,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Service not initiated due to partner unavailability / NEXO internal issue."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(Ue,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Service not delivered due to NEXO's fault, such as system failure or incorrect partner assignment."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(Ue,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Duplicate payment made by the customer."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(Ue,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Overcharging due to system or billing error."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8 border-2 border-red-200",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-red-600 mb-4 flex items-center gap-3",children:[t.jsx(Kt,{className:"text-red-600"}),"2. Non-Refundable Fees"]}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"The following charges are strictly non-refundable:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Visiting Fee"}),", once the partner has arrived at the customer location."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Service Charge"})," (platform/processing fee)."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Cancellation Fee"})," charged due to last-minute customer cancellation."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Custom materials/parts"})," purchased exclusively for the customer's job."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Any penalties"})," applied due to customer behaviour or policy violation."]})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(si,{className:"text-primary"}),"3. Refund Time (Customer)"]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"p-5 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[t.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(tm,{className:"text-blue-500"}),"Refund to NEXO Wallet:"]}),t.jsx("p",{className:"text-gray-700 text-lg font-semibold",children:"Instant to 24 hours."})]}),t.jsxs("div",{className:"p-5 bg-purple-50 rounded-lg border-l-4 border-purple-500",children:[t.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(tm,{className:"text-purple-500"}),"Refund to Bank Account / UPI:"]}),t.jsx("p",{className:"text-gray-700 text-lg font-semibold",children:"37 working days, depending on bank processing timelines."})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"4. Mode of Refund"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Refund will be processed via:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(Ue,{className:"text-green-500 text-xl"}),t.jsx("span",{className:"text-gray-700 font-semibold",children:"NEXO Wallet"})]}),t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(Ue,{className:"text-green-500 text-xl"}),t.jsx("span",{className:"text-gray-700 font-semibold",children:"Source Account (UPI/Card/Net Banking)"})]})]}),t.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:t.jsxs("p",{className:"text-gray-800 font-semibold flex items-center gap-2",children:[t.jsx(id,{className:"text-red-500"}),"No cash refunds are permitted under any circumstances."]})})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(iX,{className:"text-primary"}),"5. Material Purchase Refund"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx("p",{className:"text-gray-700 mb-2",children:t.jsx("strong",{children:"Materials purchased by the partner on customer's request are not refundable once:"})}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[t.jsx("li",{children:"Opened"}),t.jsx("li",{children:"Installed"}),t.jsx("li",{children:"Used"}),t.jsx("li",{children:"Customized"})]})]}),t.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-400",children:t.jsxs("p",{className:"text-gray-700",children:[t.jsx("strong",{children:"If unopened and vendor accepts returns,"})," only material cost may be refunded (vendor policies apply)."]})})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mb-12",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Need Help with Refunds?"}),t.jsx("p",{className:"text-white/90 mb-4",children:"If you believe you are eligible for a refund or have questions about our refund policy, please contact our support team:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-white font-semibold",children:"Email: support@nexo.works"}),t.jsx("p",{className:"text-white/80 text-sm",children:"Please include your booking ID and a brief description of the issue for faster processing."})]})]})})]})]})]}),YQ=()=>t.jsxs(t.Fragment,{children:[t.jsx(In,{title:"Partner Refund Policy | NEXO",description:"NEXO Partner Refund Policy - Learn about refund eligibility, non-refundable items, refund processing times, and refund methods for partners.",keywords:"partner refund policy, NEXO partner refund, refund eligibility, partner refund processing"}),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"bg-white/20 rounded-full p-4",children:t.jsx(W0,{className:"w-12 h-12"})})}),t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Partner Refund Policy"}),t.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"NEXO Partner Program - Fair & Transparent Refund Process"})]})})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(Ue,{className:"text-green-500"}),"1. Eligibility for Refund"]}),t.jsx("p",{className:"text-gray-700 mb-4",children:"A partner may receive a refund only for the following cases:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(Ue,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Duplicate payment made by the partner."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(Ue,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Wallet deduction error due to a system glitch."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(Ue,{className:"text-green-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:"Overcharged commission or lead deduction due to technical error."})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-400",children:[t.jsx(Ue,{className:"text-yellow-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"MG Plan or Subscription"}),"  Refund only if partner has not activated or taken any job (within 24 hours of purchase)."]})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8 border-2 border-red-200",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-red-600 mb-4 flex items-center gap-3",children:[t.jsx(Kt,{className:"text-red-600"}),"2. Non-Refundable Items"]}),t.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"The following are strictly non-refundable:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Minimum Guarantee (MG) Plans"}),", once activated or once a job is assigned."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:t.jsx("strong",{children:"Registration fees"})})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:t.jsx("strong",{children:"Toolkit fees"})})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-400",children:[t.jsx(id,{className:"text-yellow-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Security deposit"})," (refundable only at exit with conditions)"]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Lead cost"})," deducted for job views, accepts, or responses."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:[t.jsx("strong",{children:"Penalties"})," for cancellations, no-show, customer complaints."]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[t.jsx(Kt,{className:"text-red-500 mt-1 flex-shrink-0"}),t.jsxs("span",{className:"text-gray-700",children:["Any ",t.jsx("strong",{children:"custom kit, merchandise, uniform, or device cost"}),"."]})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[t.jsx(si,{className:"text-primary"}),"3. Refund Time (Partner)"]}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"p-5 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[t.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(tm,{className:"text-blue-500"}),"Wallet Refunds:"]}),t.jsx("p",{className:"text-gray-700 text-lg font-semibold",children:"Instant to 24 hours"})]}),t.jsxs("div",{className:"p-5 bg-purple-50 rounded-lg border-l-4 border-purple-500",children:[t.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(tm,{className:"text-purple-500"}),"Bank Refunds:"]}),t.jsx("p",{className:"text-gray-700 text-lg font-semibold",children:"37 working days"})]})]})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"4. Mode of Refund"}),t.jsx("p",{className:"text-gray-700 mb-4",children:"Refund will be processed to:"}),t.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(Ue,{className:"text-green-500 text-xl"}),t.jsx("span",{className:"text-gray-700 font-semibold",children:"Partner Wallet"})]}),t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[t.jsx(Ue,{className:"text-green-500 text-xl"}),t.jsx("span",{className:"text-gray-700 font-semibold",children:"Original payment mode (UPI/Card/Net Banking)"})]})]}),t.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:t.jsxs("p",{className:"text-gray-800 font-semibold flex items-center gap-2",children:[t.jsx(id,{className:"text-red-500"}),"Cash refunds are not permitted."]})})]})}),t.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Need Help with Refunds?"}),t.jsx("p",{className:"text-white/90 mb-4",children:"If you believe you are eligible for a refund or have questions about our refund policy, please contact our partner support team:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-white font-semibold",children:"Email: support@nexo.works"}),t.jsx("p",{className:"text-white/80 text-sm",children:"Please include your Partner ID and a brief description of the issue for faster processing."})]})]})})]})]})]}),ai=({className:e="",variant:r="default"})=>{const s=r==="light",a=s?"#FFFFFF":"#214A73",n=s?"text-white":"text-primary",i=s?"text-white/80":"text-primary/80",l={initial:{scale:1,rotate:0},animate:{rotate:360,scale:[1,1.05,1],transition:{rotate:{duration:8,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}}},hover:{scale:1.15,rotate:[0,360],transition:{duration:.6,ease:"easeOut"}}},o={initial:{opacity:.7},animate:{opacity:[.7,1,.7],strokeWidth:[3,3.5,3],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}},d={initial:{scale:1,rotate:0},animate:{scale:[1,1.3,1],rotate:-360,transition:{scale:{duration:1.5,repeat:1/0,ease:"easeInOut"},rotate:{duration:5,repeat:1/0,ease:"linear"}}}};return t.jsxs("div",{className:`flex items-center gap-3 ${e}`,children:[t.jsx(E.div,{className:"relative w-12 h-12 flex items-center justify-center",variants:l,initial:"initial",animate:"animate",whileHover:"hover",children:t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 0 4px rgba(33, 74, 115, 0.3))"},children:[t.jsx(E.path,{d:"M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z",stroke:a,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:o,initial:"initial",animate:"animate"}),t.jsx(E.path,{d:"M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z",stroke:a,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:o,initial:"initial",animate:"animate",transition:{delay:.2}}),t.jsx(E.path,{d:"M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z",stroke:a,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:o,initial:"initial",animate:"animate",transition:{delay:.4}}),t.jsx(E.path,{d:"M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z",stroke:a,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:o,initial:"initial",animate:"animate",transition:{delay:.6}}),t.jsx(E.circle,{cx:"24",cy:"24",r:"4",fill:a,variants:d,initial:"initial",animate:"animate",style:{filter:"drop-shadow(0 0 6px rgba(33, 74, 115, 0.6))"}})]})}),t.jsxs(E.div,{className:"flex flex-col",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:[t.jsx(E.span,{className:`text-2xl font-bold ${n}`,whileHover:{scale:1.05},transition:{duration:.2},children:"Nexo"}),t.jsx(E.span,{className:`text-xs ${i} font-light`,animate:{opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"Connect. Work. Grow."})]})]})},JO=()=>{const e=Zt(),r=$r();return{handleHashClick:(a,n)=>{a.preventDefault();const i=n.includes("#")?n.split("#")[1]:null;if(!i){e(n);return}r.pathname==="/"?(window.location.hash=i,setTimeout(()=>{const l=document.getElementById(i);l&&l.scrollIntoView({behavior:"smooth",block:"start"}),window.dispatchEvent(new HashChangeEvent("hashchange"))},50)):(e(`/#${i}`),setTimeout(()=>{const l=document.getElementById(i);l&&setTimeout(()=>{l.scrollIntoView({behavior:"smooth",block:"start"})},100)},100))}}},XQ=()=>{var j,w;const[e,r]=g.useState(!1),[s,a]=g.useState(!1),[n,i]=g.useState(""),[l,o]=g.useState(!1),d=$r(),c=Zt(),{handleHashClick:u}=JO(),{user:m,isAuthenticated:x,logout:h}=nn();g.useEffect(()=>{console.log("Navbar - Auth State:",{isAuthenticated:x,user:m})},[x,m]);const p=()=>{h(),o(!1),c("/")};g.useEffect(()=>{const y=v=>{l&&!v.target.closest(".user-dropdown-container")&&o(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[l]),g.useEffect(()=>{const y=()=>{a(window.scrollY>20)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]),g.useEffect(()=>{const y=()=>{i(window.location.hash)};return y(),window.addEventListener("hashchange",y),d.hash&&i(d.hash),()=>{window.removeEventListener("hashchange",y)}},[d.hash]);const f=y=>{if(y==="/")return d.pathname==="/"&&!d.hash&&!n;if(y.startsWith("/#")){const v=y.substring(2),N=d.hash||n;return d.pathname==="/"&&(N===`#${v}`||N===v)}return d.pathname===y},b=[{name:"Home",path:"/"},{name:"Services",path:"/#services"},{name:"Emergency Service",path:"/emergency"},{name:"Material Store",path:"/materials"},{name:"Partner Program",path:"/partner"},{name:"AMC Plans",path:"/amc"},{name:"Lead Marketplace",path:"/leads"}];return t.jsxs(E.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.5},className:`fixed top-0 left-0 right-0 z-[9999] transition-all duration-300 w-full max-w-full overflow-visible bg-white shadow-md ${s?"shadow-lg":""}`,children:[t.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none",children:t.jsx(E.div,{className:"absolute inset-0",style:{background:"linear-gradient(90deg, transparent 0%, rgba(33, 74, 115, 0.1) 50%, transparent 100%)"},animate:{x:["-100%","100%"]},transition:{duration:15,repeat:1/0,ease:"linear"}})}),t.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex items-center justify-between h-20",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsx(Ht,{to:"/",children:t.jsx(ai,{variant:"default"})})})}),t.jsx("nav",{className:"hidden xl:flex items-center gap-1 flex-1 justify-center max-w-4xl mx-4",children:b.map((y,v)=>{const N=f(y.path);return t.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:v*.05},children:y.path.startsWith("/#")?t.jsxs("a",{href:y.path,onClick:S=>u(S,y.path),className:`relative px-3 py-2 text-sm font-medium transition-colors duration-200 whitespace-nowrap cursor-pointer ${N?"text-primary":"text-gray-700 hover:text-primary"}`,children:[y.name,N&&t.jsx(E.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary",layoutId:"navbar-indicator",initial:!1,transition:{type:"spring",stiffness:380,damping:30}})]}):t.jsxs(Ht,{to:y.path,className:`relative px-3 py-2 text-sm font-medium transition-colors duration-200 whitespace-nowrap ${N?"text-primary":"text-gray-700 hover:text-primary"}`,children:[y.name,N&&t.jsx(E.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary",layoutId:"navbar-indicator",initial:!1,transition:{type:"spring",stiffness:380,damping:30}})]})},y.name)})}),t.jsx("nav",{className:"hidden lg:flex xl:hidden items-center gap-1 flex-1 justify-center max-w-3xl mx-2",children:b.slice(0,5).map((y,v)=>{const N=f(y.path);return y.path.startsWith("/#")?t.jsx("a",{href:y.path,onClick:S=>u(S,y.path),className:`px-2 py-2 text-xs font-medium transition-colors duration-200 whitespace-nowrap cursor-pointer ${N?"text-primary":"text-gray-700 hover:text-primary"}`,children:y.name.length>15?y.name.substring(0,12)+"...":y.name},y.name):t.jsx(Ht,{to:y.path,className:`px-2 py-2 text-xs font-medium transition-colors duration-200 whitespace-nowrap ${N?"text-primary":"text-gray-700 hover:text-primary"}`,children:y.name.length>15?y.name.substring(0,12)+"...":y.name},y.name)})}),t.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3",children:[x&&m?t.jsxs("div",{className:"relative hidden lg:block user-dropdown-container",children:[t.jsxs(E.button,{onClick:()=>o(!l),className:"flex items-center gap-2 px-3 py-2 rounded-full hover:bg-gray-100 transition-all duration-200",whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-primary-dark rounded-full flex items-center justify-center text-white font-bold text-sm overflow-hidden ring-2 ring-white shadow-md",children:m.profilePicture?t.jsx("img",{src:m.profilePicture,alt:m.name||"User",className:"w-full h-full object-cover"}):t.jsx("span",{children:((j=m.name)==null?void 0:j.charAt(0).toUpperCase())||"U"})}),t.jsx("span",{className:"text-sm font-medium text-gray-700 hidden xl:block",children:m.name}),t.jsx(vO,{className:`w-3 h-3 text-gray-500 transition-transform ${l?"rotate-180":""}`})]}),t.jsx(wl,{children:l&&t.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-[10000]",children:[t.jsxs(Ht,{to:"/user/dashboard",onClick:()=>o(!1),className:"flex items-center gap-3 px-4 py-2 hover:bg-gray-50 transition-colors",children:[t.jsx(jC,{className:"w-4 h-4 text-primary"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Dashboard"})]}),t.jsxs(Ht,{to:"/user/dashboard/profile",onClick:()=>o(!1),className:"flex items-center gap-3 px-4 py-2 hover:bg-gray-50 transition-colors",children:[t.jsx(Dc,{className:"w-4 h-4 text-primary"}),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"My Profile"})]}),t.jsx("hr",{className:"my-2 border-gray-200"}),t.jsxs("button",{onClick:p,className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-red-50 transition-colors text-left",children:[t.jsx(vC,{className:"w-4 h-4 text-red-600"}),t.jsx("span",{className:"text-sm font-medium text-red-600",children:"Logout"})]})]})})]}):t.jsx(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.3},className:"hidden lg:block",children:t.jsxs(Ht,{to:"/user/login",className:"flex items-center gap-2 px-4 py-2 text-primary hover:bg-primary/10 rounded-full transition-all duration-200 font-medium text-sm",children:[t.jsx(Dc,{className:"w-4 h-4"}),t.jsx("span",{children:"Login"})]})}),t.jsx(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.3},className:"hidden lg:block",children:t.jsxs(Ht,{to:"/partner/onboard",className:"bg-primary text-white px-4 xl:px-5 py-2 xl:py-2.5 rounded-full hover:bg-primary-dark transition-all duration-300 font-semibold shadow-lg hover:shadow-xl flex items-center gap-2 text-xs xl:text-sm whitespace-nowrap",children:[t.jsx(Ha,{className:"w-3 h-3 xl:w-4 xl:h-4"}),t.jsx("span",{className:"hidden 2xl:inline",children:"Become a Partner"}),t.jsx("span",{className:"2xl:hidden",children:"Partner"})]})})]}),t.jsx(E.button,{onClick:()=>r(!e),className:"md:hidden focus:outline-none p-2 transition-colors duration-200 text-primary",whileHover:{scale:1.1},whileTap:{scale:.9},children:t.jsx(wl,{mode:"wait",children:e?t.jsx(E.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:t.jsx(Rl,{className:"h-6 w-6"})},"close"):t.jsx(E.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:t.jsx(aX,{className:"h-6 w-6"})},"menu")})})]}),t.jsx(wl,{children:e&&t.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden overflow-y-auto max-h-[calc(100vh-5rem)]",children:t.jsxs("div",{className:"py-4 space-y-2 border-t border-gray-200 mt-2",children:[b.map((y,v)=>{const N=f(y.path);return t.jsx(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:v*.1},children:y.path.startsWith("/#")?t.jsx("a",{href:y.path,onClick:S=>{u(S,y.path),r(!1)},className:`block px-4 py-3 rounded-lg transition-all duration-200 cursor-pointer ${N?"bg-primary/10 text-primary font-semibold":"text-gray-700 hover:bg-gray-100 hover:text-primary"}`,children:y.name}):t.jsx(Ht,{to:y.path,onClick:()=>r(!1),className:`block px-4 py-3 rounded-lg transition-all duration-200 ${N?"bg-primary/10 text-primary font-semibold":"text-gray-700 hover:bg-gray-100 hover:text-primary"}`,children:y.name})},y.name)}),t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:b.length*.1},className:"pt-2 space-y-2",children:[x&&m?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"mx-4 p-4 bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg border border-primary/20",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-primary-dark rounded-full flex items-center justify-center text-white font-bold overflow-hidden ring-2 ring-white shadow-md",children:m.profilePicture?t.jsx("img",{src:m.profilePicture,alt:m.name||"User",className:"w-full h-full object-cover"}):t.jsx("span",{children:((w=m.name)==null?void 0:w.charAt(0).toUpperCase())||"U"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:m.name}),t.jsx("p",{className:"text-xs text-gray-600",children:m.email||m.phone})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs(Ht,{to:"/user/dashboard",onClick:()=>r(!1),className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg hover:bg-gray-50 transition-colors",children:[t.jsx(jC,{className:"w-4 h-4 text-primary"}),t.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})]}),t.jsxs(Ht,{to:"/user/dashboard/profile",onClick:()=>r(!1),className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg hover:bg-gray-50 transition-colors",children:[t.jsx(Dc,{className:"w-4 h-4 text-primary"}),t.jsx("span",{className:"text-sm font-medium",children:"My Profile"})]}),t.jsxs("button",{onClick:()=>{p(),r(!1)},className:"w-full flex items-center gap-2 px-3 py-2 bg-red-50 rounded-lg hover:bg-red-100 transition-colors text-left",children:[t.jsx(vC,{className:"w-4 h-4 text-red-600"}),t.jsx("span",{className:"text-sm font-medium text-red-600",children:"Logout"})]})]})]})}):t.jsxs(Ht,{to:"/user/login",onClick:()=>r(!1),className:"block mx-4 bg-gray-100 text-primary px-6 py-3 rounded-full text-center font-semibold flex items-center justify-center gap-2 border-2 border-primary/20",children:[t.jsx(Dc,{className:"w-4 h-4"}),"Login"]}),t.jsxs(Ht,{to:"/partner/onboard",onClick:()=>r(!1),className:"block mx-4 bg-primary text-white px-6 py-3 rounded-full text-center font-semibold shadow-lg flex items-center justify-center gap-2",children:[t.jsx(Ha,{className:"w-4 h-4"}),"Become a Partner"]})]})]})})})]})]})},JQ=()=>{const e=Zl(),{handleHashClick:r}=JO(),s={company:[{name:"About Us",path:"/#about"},{name:"Services",path:"/#services"},{name:"Partner Program",path:"/partner"},{name:"User Login",path:"/user/login"},{name:"Partner Login",path:"/partner/login"},{name:"Vendor Login",path:"/vendor/login"},{name:"AMC Plans",path:"/amc"}],legal:[{name:"Customer Terms",path:"/terms"},{name:"Partner Terms",path:"/partner-terms"},{name:"Privacy Policy",path:"/privacy"},{name:"Customer Refund Policy",path:"/refund-policy"},{name:"Partner Refund Policy",path:"/partner-refund-policy"}],resources:[{name:"Lead Marketplace",path:"/leads"},{name:"Material Store",path:"/materials"},{name:"Emergency Service",path:"/emergency"},{name:"Brand Partnerships",path:"/brand-partnerships"}]},a=[{icon:eX,href:"#",name:"Facebook"},{icon:sX,href:"#",name:"Twitter"},{icon:tX,href:"#",name:"Instagram"},{icon:rX,href:"#",name:"LinkedIn"}];return t.jsxs("footer",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-primary text-white overflow-hidden pb-20 sm:pb-24",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),t.jsx(E.div,{className:"absolute top-0 left-0 w-64 h-64 bg-white/20 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,20,0],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-0 right-0 w-80 h-80 bg-yellow-300/20 rounded-full blur-3xl",animate:{y:[0,30,0],x:[0,-20,0],scale:[1,1.2,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(15)].map((n,i)=>t.jsx(E.div,{className:"absolute rounded-full z-0",style:{width:`${6+i%3*2}px`,height:`${6+i%3*2}px`,left:`${5+i*7%90}%`,top:`${10+i*6%80}%`,backgroundColor:"rgba(255, 255, 255, 0.4)"},animate:{y:[0,-60,0],x:[0,i%2===0?20:-20,0],opacity:[.4,.8,.4],scale:[1,1.8,1]},transition:{duration:7+i%4,repeat:1/0,ease:"easeInOut",delay:i*.3}},`small-${i}`)),[...Array(10)].map((n,i)=>t.jsx(E.div,{className:"absolute rounded-full blur-sm z-0",style:{width:`${12+i%2*4}px`,height:`${12+i%2*4}px`,left:`${8+i*9%85}%`,top:`${12+i*8%75}%`,backgroundColor:"rgba(255, 255, 255, 0.3)"},animate:{y:[0,-80,0],x:[0,i%2===0?30:-30,0],opacity:[.3,.6,.3],scale:[1,1.6,1]},transition:{duration:8+i%3*2,repeat:1/0,ease:"easeInOut",delay:i*.4}},`medium-${i}`)),[...Array(6)].map((n,i)=>t.jsx(E.div,{className:"absolute rounded-full blur-md z-0",style:{width:`${20+i%2*8}px`,height:`${20+i%2*8}px`,left:`${10+i*15%80}%`,top:`${15+i*12%70}%`,backgroundColor:"rgba(255, 255, 255, 0.2)"},animate:{y:[0,-100,0],x:[0,i%2===0?40:-40,0],opacity:[.2,.4,.2],scale:[1,1.4,1]},transition:{duration:10+i%3*2,repeat:1/0,ease:"easeInOut",delay:i*.6}},`large-${i}`)),t.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 sm:gap-12",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5},className:"col-span-1 lg:col-span-2",children:[t.jsx(ai,{className:"mb-4",variant:"light"}),t.jsx("p",{className:"text-sm sm:text-base text-white/80 mt-4 mb-6 max-w-md",children:"Fast, reliable, and affordable home services. Connect with verified experts on WhatsApp."}),t.jsx("div",{className:"space-y-3",children:t.jsxs(E.a,{href:"mailto:support@nexo.works",whileHover:{scale:1.05,x:5},className:"flex items-center gap-3 text-white/80 hover:text-yellow-300 transition-colors duration-200",children:[t.jsx(jO,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm sm:text-base",children:"support@nexo.works"})]})}),t.jsx("div",{className:"flex items-center gap-4 mt-6",children:a.map((n,i)=>{const l=n.icon;return t.jsx(E.a,{href:n.href,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.2,y:-3},whileTap:{scale:.9},className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center text-white/80 hover:text-yellow-300 hover:bg-white/20 transition-all duration-300","aria-label":n.name,children:t.jsx(l,{className:"w-5 h-5"})},i)})})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:.1},children:[t.jsx("h3",{className:"text-white font-bold text-lg mb-4 sm:mb-6",children:"Company"}),t.jsx("ul",{className:"space-y-3",children:s.company.map((n,i)=>t.jsx(E.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:i*.1},children:n.path.startsWith("/#")?t.jsxs("a",{href:n.path,onClick:l=>r(l,n.path),className:"text-sm sm:text-base text-white/80 hover:text-yellow-300 transition-colors duration-200 flex items-center gap-2 group cursor-pointer",children:[t.jsx("span",{className:"w-0 group-hover:w-2 h-0.5 bg-yellow-300 transition-all duration-200"}),n.name]}):t.jsxs(Ht,{to:n.path,className:"text-sm sm:text-base text-white/80 hover:text-yellow-300 transition-colors duration-200 flex items-center gap-2 group",children:[t.jsx("span",{className:"w-0 group-hover:w-2 h-0.5 bg-yellow-300 transition-all duration-200"}),n.name]})},n.name))})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:.2},children:[t.jsx("h3",{className:"text-white font-bold text-lg mb-4 sm:mb-6",children:"Resources"}),t.jsx("ul",{className:"space-y-3",children:s.resources.map((n,i)=>t.jsx(E.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:i*.1},children:t.jsxs(Ht,{to:n.path,className:"text-sm sm:text-base text-white/80 hover:text-yellow-300 transition-colors duration-200 flex items-center gap-2 group",children:[t.jsx("span",{className:"w-0 group-hover:w-2 h-0.5 bg-yellow-300 transition-all duration-200"}),n.name]})},n.name))})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:.3},children:[t.jsx("h3",{className:"text-white font-bold text-lg mb-4 sm:mb-6",children:"Legal"}),t.jsx("ul",{className:"space-y-3",children:s.legal.map((n,i)=>t.jsx(E.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:i*.1},children:t.jsxs(Ht,{to:n.path,className:"text-sm sm:text-base text-white/80 hover:text-yellow-300 transition-colors duration-200 flex items-center gap-2 group",children:[t.jsx("span",{className:"w-0 group-hover:w-2 h-0.5 bg-yellow-300 transition-all duration-200"}),n.name]})},n.name))})]})]}),t.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.6},className:"mt-12 sm:mt-16 pt-8 border-t border-white/20",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"text-center sm:text-left",children:[t.jsx("p",{className:"text-white font-semibold text-lg mb-2",children:"Need Help? Chat with us on WhatsApp"}),t.jsx("p",{className:"text-white/80 text-sm sm:text-base",children:"Get instant support 24/7"})]}),t.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full font-semibold shadow-lg hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2",children:[t.jsx(Er,{className:"w-5 h-5"}),"Chat on WhatsApp"]})]})}),t.jsx(E.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.6,delay:.4},className:"border-t border-white/20 mt-8 pt-8 text-center",children:t.jsxs("p",{className:"text-sm text-white/60",children:[" ",new Date().getFullYear()," Nexo. All rights reserved. | Connect. Work. Grow"]})})]})]})},QQ=({message:e="Hi, I need help with your services.",className:r=""})=>{const{openDialog:s}=GN(),a=n=>{n.preventDefault(),s()};return t.jsx("div",{className:"fixed bottom-6 right-6 z-[9999]",children:t.jsxs(E.button,{onClick:a,className:`relative bg-[#25D366] text-white rounded-full p-4 shadow-2xl hover:bg-[#20BA5A] transition-all duration-300 flex items-center justify-center ${r}`,initial:{scale:0},animate:{scale:[1,1.05,1],y:[0,-8,0]},whileHover:{scale:1.15,y:-10},whileTap:{scale:.9},transition:{scale:{duration:2,repeat:1/0,ease:"easeInOut",type:"tween"},y:{duration:2,repeat:1/0,ease:"easeInOut",type:"tween"},default:{type:"spring",stiffness:200,damping:15}},style:{boxShadow:"0 10px 40px rgba(37, 211, 102, 0.4)"},"aria-label":"WhatsApp Support",children:[t.jsx(E.div,{className:"absolute inset-0 bg-[#25D366] rounded-full -z-10",animate:{scale:[1,1.5,1.5],opacity:[.5,0,0]},transition:{duration:2,repeat:1/0,ease:"easeOut"}}),t.jsx(E.div,{className:"absolute inset-0 bg-[#25D366] rounded-full -z-10",animate:{scale:[1,1.8,1.8],opacity:[.3,0,0]},transition:{duration:2,repeat:1/0,ease:"easeOut",delay:.5}}),t.jsx("svg",{className:"w-8 h-8 relative z-10",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),t.jsx(E.span,{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white",animate:{scale:[1,1.3,1],opacity:[1,.8,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})]})})},ZQ=()=>t.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 overflow-x-hidden w-full max-w-full",children:[t.jsx(XQ,{}),t.jsx("main",{className:"flex-1 w-full max-w-full overflow-x-hidden pt-20",children:t.jsx(Ql,{})}),t.jsx(JQ,{}),t.jsx(QQ,{})]});function Wc(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function Jn(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function eZ(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function pj(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function Bf(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(e)}function J0(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function us(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function $f(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(e)}function gn(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(e)}function o0(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function Cn(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function tZ(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function is(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(e)}function ks(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function c0(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function vt(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function Sl(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function rZ(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function QO(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function ZO(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function sZ(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},child:[]},{tag:"rect",attr:{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"},child:[]}]})(e)}function Xr(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function fj(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"},child:[]}]})(e)}function xs(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(e)}function Jt(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function Na(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function Cs(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function tp(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(e)}function ZN(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function GC(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(e)}function Zv(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function Ti(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function Gt(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function Ed(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function aZ(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"6",r:"3"},child:[]},{tag:"path",attr:{d:"M6 21V9a9 9 0 0 0 9 9"},child:[]}]})(e)}function nZ(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 18v-6a9 9 0 0 1 18 0v6"},child:[]},{tag:"path",attr:{d:"M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"},child:[]}]})(e)}function Ih(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function en(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function zf(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(e)}function eD(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function yo(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(e)}function iZ(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(e)}function lZ(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function rp(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(e)}function Os(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function Ho(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function tn(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function Pr(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(e)}function e4(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(e)}function zy(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function t4(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(e)}function Uf(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function gj(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function tD(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"19",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"5",cy:"12",r:"1"},child:[]}]})(e)}function e1(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"3 11 22 2 13 21 11 13 3 11"},child:[]}]})(e)}function gs(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function qC(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"},child:[]},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"},child:[]}]})(e)}function rn(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function r4(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(e)}function oZ(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(e)}function Tr(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function Zo(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"},child:[]},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"},child:[]},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"},child:[]}]})(e)}function cZ(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"polyline",attr:{points:"23 20 23 14 17 14"},child:[]},{tag:"path",attr:{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"},child:[]}]})(e)}function Dt(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function Ji(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function dZ(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"6",cy:"6",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"line",attr:{x1:"20",y1:"4",x2:"8.12",y2:"15.88"},child:[]},{tag:"line",attr:{x1:"14.47",y1:"14.48",x2:"20",y2:"20"},child:[]},{tag:"line",attr:{x1:"8.12",y1:"8.12",x2:"12",y2:"12"},child:[]}]})(e)}function jn(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function Hf(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(e)}function kl(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function Ja(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function rD(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(e)}function Yn(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function KC(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(e)}function Vo(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(e)}function s4(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(e)}function _h(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(e)}function Jm(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(e)}function la(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function cd(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(e)}function or(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function sD(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(e)}function Wo(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function Vf(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function Yp(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(e)}function vr(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Lr(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function uZ(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]},{tag:"path",attr:{d:"M16.72 11.06A10.94 10.94 0 0 1 19 12.55"},child:[]},{tag:"path",attr:{d:"M5 12.55a10.94 10.94 0 0 1 5.17-2.39"},child:[]},{tag:"path",attr:{d:"M10.71 5.05A16 16 0 0 1 22.58 9"},child:[]},{tag:"path",attr:{d:"M1.42 9a15.91 15.91 0 0 1 4.7-2.88"},child:[]},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12.01",y2:"20"},child:[]}]})(e)}function mZ(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12.55a11 11 0 0 1 14.08 0"},child:[]},{tag:"path",attr:{d:"M1.42 9a16 16 0 0 1 21.16 0"},child:[]},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12.01",y2:"20"},child:[]}]})(e)}function Qn(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function xt(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function Hi(e){return je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}const Xp=new Map,Qd=new Map,hZ=3e4,xZ=(e,r,s=[])=>{const a=e.toString(),n=s.length>0?`-${JSON.stringify(s)}`:"";return`${a}-${r||"no-token"}${n}`},dr=(e,r=[])=>{const{token:s}=wr(),[a,n]=g.useState(null),[i,l]=g.useState(!0),[o,d]=g.useState(null),c=g.useRef(e),u=g.useRef(!0),m=g.useRef(null);g.useEffect(()=>{c.current=e},[e]);const x=g.useMemo(()=>!r||r.length===0?"":JSON.stringify(r),[r]);m.current=g.useMemo(()=>s?xZ(e,s,r):null,[e,s,x]);const h=g.useCallback(async()=>{if(!s||!m.current){l(!1);return}const f=m.current;if(Qd.has(f))try{const w=await Qd.get(f);u.current&&(n(w),l(!1));return}catch{}const b=Xp.get(f);if(b){const{data:w,timestamp:y}=b;if(Date.now()-y<hZ){u.current&&(n(w),l(!1),d(null));return}}const j=(async()=>{try{u.current&&(l(!0),d(null));const w=await c.current(s);return Xp.set(f,{data:w,timestamp:Date.now()}),u.current&&(n(w),l(!1),d(null)),w}catch(w){const y=(w==null?void 0:w.message)??"Unable to fetch data";throw u.current&&(d(y),l(!1)),w}finally{Qd.delete(f)}})();Qd.set(f,j),await j},[s]);g.useEffect(()=>(u.current=!0,h(),()=>{u.current=!1}),[s,...r]),g.useEffect(()=>()=>{u.current=!1},[]);const p=g.useCallback(async()=>{if(!s||!m.current)return;const f=m.current;Xp.delete(f),Qd.delete(f),await h()},[s,h]);return{data:a,isLoading:i,error:o,refresh:p}},pZ=()=>{Xp.clear(),Qd.clear()},fZ=()=>{};var YC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=function(e){const r=[];let s=0;for(let a=0;a<e.length;a++){let n=e.charCodeAt(a);n<128?r[s++]=n:n<2048?(r[s++]=n>>6|192,r[s++]=n&63|128):(n&64512)===55296&&a+1<e.length&&(e.charCodeAt(a+1)&64512)===56320?(n=65536+((n&1023)<<10)+(e.charCodeAt(++a)&1023),r[s++]=n>>18|240,r[s++]=n>>12&63|128,r[s++]=n>>6&63|128,r[s++]=n&63|128):(r[s++]=n>>12|224,r[s++]=n>>6&63|128,r[s++]=n&63|128)}return r},gZ=function(e){const r=[];let s=0,a=0;for(;s<e.length;){const n=e[s++];if(n<128)r[a++]=String.fromCharCode(n);else if(n>191&&n<224){const i=e[s++];r[a++]=String.fromCharCode((n&31)<<6|i&63)}else if(n>239&&n<365){const i=e[s++],l=e[s++],o=e[s++],d=((n&7)<<18|(i&63)<<12|(l&63)<<6|o&63)-65536;r[a++]=String.fromCharCode(55296+(d>>10)),r[a++]=String.fromCharCode(56320+(d&1023))}else{const i=e[s++],l=e[s++];r[a++]=String.fromCharCode((n&15)<<12|(i&63)<<6|l&63)}}return r.join("")},nD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,r){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let n=0;n<e.length;n+=3){const i=e[n],l=n+1<e.length,o=l?e[n+1]:0,d=n+2<e.length,c=d?e[n+2]:0,u=i>>2,m=(i&3)<<4|o>>4;let x=(o&15)<<2|c>>6,h=c&63;d||(h=64,l||(x=64)),a.push(s[u],s[m],s[x],s[h])}return a.join("")},encodeString(e,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(e):this.encodeByteArray(aD(e),r)},decodeString(e,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(e):gZ(this.decodeStringToByteArray(e,r))},decodeStringToByteArray(e,r){this.init_();const s=r?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let n=0;n<e.length;){const i=s[e.charAt(n++)],o=n<e.length?s[e.charAt(n)]:0;++n;const c=n<e.length?s[e.charAt(n)]:64;++n;const m=n<e.length?s[e.charAt(n)]:64;if(++n,i==null||o==null||c==null||m==null)throw new yZ;const x=i<<2|o>>4;if(a.push(x),c!==64){const h=o<<4&240|c>>2;if(a.push(h),m!==64){const p=c<<6&192|m;a.push(p)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class yZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bZ=function(e){const r=aD(e);return nD.encodeByteArray(r,!0)},iD=function(e){return bZ(e).replace(/\./g,"")},vZ=function(e){try{return nD.decodeString(e,!0)}catch(r){console.error("base64Decode failed: ",r)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wZ=()=>jZ().__FIREBASE_DEFAULTS__,NZ=()=>{if(typeof process>"u"||typeof YC>"u")return;const e=YC.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},SZ=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const r=e&&vZ(e[1]);return r&&JSON.parse(r)},kZ=()=>{try{return fZ()||wZ()||NZ()||SZ()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},lD=()=>{var e;return(e=kZ())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((r,s)=>{this.resolve=r,this.reject=s})}wrapCallback(r){return(s,a)=>{s?this.reject(s):this.resolve(a),typeof r=="function"&&(this.promise.catch(()=>{}),r.length===1?r(s):r(s,a))}}}function PZ(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function a4(){try{return typeof indexedDB=="object"}catch{return!1}}function n4(){return new Promise((e,r)=>{try{let s=!0;const a="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(a);n.onsuccess=()=>{n.result.close(),s||self.indexedDB.deleteDatabase(a),e(!0)},n.onupgradeneeded=()=>{s=!1},n.onerror=()=>{var i;r(((i=n.error)==null?void 0:i.message)||"")}}catch(s){r(s)}})}function oD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AZ="FirebaseError";class Id extends Error{constructor(r,s,a){super(s),this.code=r,this.customData=a,this.name=AZ,Object.setPrototypeOf(this,Id.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q0.prototype.create)}}class Q0{constructor(r,s,a){this.service=r,this.serviceName=s,this.errors=a}create(r,...s){const a=s[0]||{},n=`${this.service}/${r}`,i=this.errors[r],l=i?TZ(i,a):"Error",o=`${this.serviceName}: ${l} (${n}).`;return new Id(n,o,a)}}function TZ(e,r){return e.replace(EZ,(s,a)=>{const n=r[a];return n!=null?String(n):`<${a}?>`})}const EZ=/\{\$([^}]+)}/g;function Wf(e,r){if(e===r)return!0;const s=Object.keys(e),a=Object.keys(r);for(const n of s){if(!a.includes(n))return!1;const i=e[n],l=r[n];if(XC(i)&&XC(l)){if(!Wf(i,l))return!1}else if(i!==l)return!1}for(const n of a)if(!s.includes(n))return!1;return!0}function XC(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IZ=1e3,_Z=2,OZ=4*60*60*1e3,DZ=.5;function JC(e,r=IZ,s=_Z){const a=r*Math.pow(s,e),n=Math.round(DZ*a*(Math.random()-.5)*2);return Math.min(OZ,a+n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(e){return e&&e._delegate?e._delegate:e}class el{constructor(r,s,a){this.name=r,this.instanceFactory=s,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MZ=class{constructor(r,s){this.name=r,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(r){const s=this.normalizeInstanceIdentifier(r);if(!this.instancesDeferred.has(s)){const a=new CZ;if(this.instancesDeferred.set(s,a),this.isInitialized(s)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:s});n&&a.resolve(n)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(r){const s=this.normalizeInstanceIdentifier(r==null?void 0:r.identifier),a=(r==null?void 0:r.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(n){if(a)return null;throw n}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(r){if(r.name!==this.name)throw Error(`Mismatching Component ${r.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=r,!!this.shouldAutoInitialize()){if(FZ(r))try{this.getOrInitializeService({instanceIdentifier:kc})}catch{}for(const[s,a]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(s);try{const i=this.getOrInitializeService({instanceIdentifier:n});a.resolve(i)}catch{}}}}clearInstance(r=kc){this.instancesDeferred.delete(r),this.instancesOptions.delete(r),this.instances.delete(r)}async delete(){const r=Array.from(this.instances.values());await Promise.all([...r.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...r.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(r=kc){return this.instances.has(r)}getOptions(r=kc){return this.instancesOptions.get(r)||{}}initialize(r={}){const{options:s={}}=r,a=this.normalizeInstanceIdentifier(r.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:a,options:s});for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);a===o&&l.resolve(n)}return n}onInit(r,s){const a=this.normalizeInstanceIdentifier(s),n=this.onInitCallbacks.get(a)??new Set;n.add(r),this.onInitCallbacks.set(a,n);const i=this.instances.get(a);return i&&r(i,a),()=>{n.delete(r)}}invokeOnInitCallbacks(r,s){const a=this.onInitCallbacks.get(s);if(a)for(const n of a)try{n(r,s)}catch{}}getOrInitializeService({instanceIdentifier:r,options:s={}}){let a=this.instances.get(r);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:LZ(r),options:s}),this.instances.set(r,a),this.instancesOptions.set(r,s),this.invokeOnInitCallbacks(a,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,a)}catch{}return a||null}normalizeInstanceIdentifier(r=kc){return this.component?this.component.multipleInstances?r:kc:r}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function LZ(e){return e===kc?void 0:e}function FZ(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RZ{constructor(r){this.name=r,this.providers=new Map}addComponent(r){const s=this.getProvider(r.name);if(s.isComponentSet())throw new Error(`Component ${r.name} has already been registered with ${this.name}`);s.setComponent(r)}addOrOverwriteComponent(r){this.getProvider(r.name).isComponentSet()&&this.providers.delete(r.name),this.addComponent(r)}getProvider(r){if(this.providers.has(r))return this.providers.get(r);const s=new MZ(r,this);return this.providers.set(r,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Or||(Or={}));const BZ={debug:Or.DEBUG,verbose:Or.VERBOSE,info:Or.INFO,warn:Or.WARN,error:Or.ERROR,silent:Or.SILENT},$Z=Or.INFO,zZ={[Or.DEBUG]:"log",[Or.VERBOSE]:"log",[Or.INFO]:"info",[Or.WARN]:"warn",[Or.ERROR]:"error"},UZ=(e,r,...s)=>{if(r<e.logLevel)return;const a=new Date().toISOString(),n=zZ[r];if(n)console[n](`[${a}]  ${e.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${r})`)};class cD{constructor(r){this.name=r,this._logLevel=$Z,this._logHandler=UZ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in Or))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel=typeof r=="string"?BZ[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if(typeof r!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(...r){this._userLogHandler&&this._userLogHandler(this,Or.DEBUG,...r),this._logHandler(this,Or.DEBUG,...r)}log(...r){this._userLogHandler&&this._userLogHandler(this,Or.VERBOSE,...r),this._logHandler(this,Or.VERBOSE,...r)}info(...r){this._userLogHandler&&this._userLogHandler(this,Or.INFO,...r),this._logHandler(this,Or.INFO,...r)}warn(...r){this._userLogHandler&&this._userLogHandler(this,Or.WARN,...r),this._logHandler(this,Or.WARN,...r)}error(...r){this._userLogHandler&&this._userLogHandler(this,Or.ERROR,...r),this._logHandler(this,Or.ERROR,...r)}}const HZ=(e,r)=>r.some(s=>e instanceof s);let QC,ZC;function VZ(){return QC||(QC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WZ(){return ZC||(ZC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dD=new WeakMap,yj=new WeakMap,uD=new WeakMap,t1=new WeakMap,i4=new WeakMap;function GZ(e){const r=new Promise((s,a)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",l)},i=()=>{s(Cl(e.result)),n()},l=()=>{a(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",l)});return r.then(s=>{s instanceof IDBCursor&&dD.set(s,e)}).catch(()=>{}),i4.set(r,e),r}function qZ(e){if(yj.has(e))return;const r=new Promise((s,a)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",l),e.removeEventListener("abort",l)},i=()=>{s(),n()},l=()=>{a(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",l),e.addEventListener("abort",l)});yj.set(e,r)}let bj={get(e,r,s){if(e instanceof IDBTransaction){if(r==="done")return yj.get(e);if(r==="objectStoreNames")return e.objectStoreNames||uD.get(e);if(r==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Cl(e[r])},set(e,r,s){return e[r]=s,!0},has(e,r){return e instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in e}};function KZ(e){bj=e(bj)}function YZ(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...s){const a=e.call(r1(this),r,...s);return uD.set(a,r.sort?r.sort():[r]),Cl(a)}:WZ().includes(e)?function(...r){return e.apply(r1(this),r),Cl(dD.get(this))}:function(...r){return Cl(e.apply(r1(this),r))}}function XZ(e){return typeof e=="function"?YZ(e):(e instanceof IDBTransaction&&qZ(e),HZ(e,VZ())?new Proxy(e,bj):e)}function Cl(e){if(e instanceof IDBRequest)return GZ(e);if(t1.has(e))return t1.get(e);const r=XZ(e);return r!==e&&(t1.set(e,r),i4.set(r,e)),r}const r1=e=>i4.get(e);function Uy(e,r,{blocked:s,upgrade:a,blocking:n,terminated:i}={}){const l=indexedDB.open(e,r),o=Cl(l);return a&&l.addEventListener("upgradeneeded",d=>{a(Cl(l.result),d.oldVersion,d.newVersion,Cl(l.transaction),d)}),s&&l.addEventListener("blocked",d=>s(d.oldVersion,d.newVersion,d)),o.then(d=>{i&&d.addEventListener("close",()=>i()),n&&d.addEventListener("versionchange",c=>n(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}function s1(e,{blocked:r}={}){const s=indexedDB.deleteDatabase(e);return r&&s.addEventListener("blocked",a=>r(a.oldVersion,a)),Cl(s).then(()=>{})}const JZ=["get","getKey","getAll","getAllKeys","count"],QZ=["put","add","delete","clear"],a1=new Map;function eP(e,r){if(!(e instanceof IDBDatabase&&!(r in e)&&typeof r=="string"))return;if(a1.get(r))return a1.get(r);const s=r.replace(/FromIndex$/,""),a=r!==s,n=QZ.includes(s);if(!(s in(a?IDBIndex:IDBObjectStore).prototype)||!(n||JZ.includes(s)))return;const i=async function(l,...o){const d=this.transaction(l,n?"readwrite":"readonly");let c=d.store;return a&&(c=c.index(o.shift())),(await Promise.all([c[s](...o),n&&d.done]))[0]};return a1.set(r,i),i}KZ(e=>({...e,get:(r,s,a)=>eP(r,s)||e.get(r,s,a),has:(r,s)=>!!eP(r,s)||e.has(r,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZZ{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(eee(s)){const a=s.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(s=>s).join(" ")}}function eee(e){const r=e.getComponent();return(r==null?void 0:r.type)==="VERSION"}const vj="@firebase/app",tP="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new cD("@firebase/app"),tee="@firebase/app-compat",ree="@firebase/analytics-compat",see="@firebase/analytics",aee="@firebase/app-check-compat",nee="@firebase/app-check",iee="@firebase/auth",lee="@firebase/auth-compat",oee="@firebase/database",cee="@firebase/data-connect",dee="@firebase/database-compat",uee="@firebase/functions",mee="@firebase/functions-compat",hee="@firebase/installations",xee="@firebase/installations-compat",pee="@firebase/messaging",fee="@firebase/messaging-compat",gee="@firebase/performance",yee="@firebase/performance-compat",bee="@firebase/remote-config",vee="@firebase/remote-config-compat",jee="@firebase/storage",wee="@firebase/storage-compat",Nee="@firebase/firestore",See="@firebase/ai",kee="@firebase/firestore-compat",Cee="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj="[DEFAULT]",Pee={[vj]:"fire-core",[tee]:"fire-core-compat",[see]:"fire-analytics",[ree]:"fire-analytics-compat",[nee]:"fire-app-check",[aee]:"fire-app-check-compat",[iee]:"fire-auth",[lee]:"fire-auth-compat",[oee]:"fire-rtdb",[cee]:"fire-data-connect",[dee]:"fire-rtdb-compat",[uee]:"fire-fn",[mee]:"fire-fn-compat",[hee]:"fire-iid",[xee]:"fire-iid-compat",[pee]:"fire-fcm",[fee]:"fire-fcm-compat",[gee]:"fire-perf",[yee]:"fire-perf-compat",[bee]:"fire-rc",[vee]:"fire-rc-compat",[jee]:"fire-gcs",[wee]:"fire-gcs-compat",[Nee]:"fire-fst",[kee]:"fire-fst-compat",[See]:"fire-vertex","fire-js":"fire-js",[Cee]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=new Map,Aee=new Map,wj=new Map;function rP(e,r){try{e.container.addComponent(r)}catch(s){Bl.debug(`Component ${r.name} failed to register with FirebaseApp ${e.name}`,s)}}function $l(e){const r=e.name;if(wj.has(r))return Bl.debug(`There were multiple attempts to register component ${r}.`),!1;wj.set(r,e);for(const s of Gf.values())rP(s,e);for(const s of Aee.values())rP(s,e);return!0}function Z0(e,r){const s=e.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),e.container.getProvider(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tee={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Go=new Q0("app","Firebase",Tee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eee{constructor(r,s,a){this._isDeleted=!1,this._options={...r},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new el("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this.checkDestroyed(),this._automaticDataCollectionEnabled=r}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(r){this._isDeleted=r}checkDestroyed(){if(this.isDeleted)throw Go.create("app-deleted",{appName:this._name})}}function mD(e,r={}){let s=e;typeof r!="object"&&(r={name:r});const a={name:jj,automaticDataCollectionEnabled:!0,...r},n=a.name;if(typeof n!="string"||!n)throw Go.create("bad-app-name",{appName:String(n)});if(s||(s=lD()),!s)throw Go.create("no-options");const i=Gf.get(n);if(i){if(Wf(s,i.options)&&Wf(a,i.config))return i;throw Go.create("duplicate-app",{appName:n})}const l=new RZ(n);for(const d of wj.values())l.addComponent(d);const o=new Eee(s,a,l);return Gf.set(n,o),o}function hD(e=jj){const r=Gf.get(e);if(!r&&e===jj&&lD())return mD();if(!r)throw Go.create("no-app",{appName:e});return r}function Qi(e,r,s){let a=Pee[e]??e;s&&(a+=`-${s}`);const n=a.match(/\s|\//),i=r.match(/\s|\//);if(n||i){const l=[`Unable to register library "${a}" with version "${r}":`];n&&l.push(`library name "${a}" contains illegal characters (whitespace or "/")`),n&&i&&l.push("and"),i&&l.push(`version name "${r}" contains illegal characters (whitespace or "/")`),Bl.warn(l.join(" "));return}$l(new el(`${a}-version`,()=>({library:a,version:r}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iee="firebase-heartbeat-database",_ee=1,d0="firebase-heartbeat-store";let n1=null;function xD(){return n1||(n1=Uy(Iee,_ee,{upgrade:(e,r)=>{switch(r){case 0:try{e.createObjectStore(d0)}catch(s){console.warn(s)}}}}).catch(e=>{throw Go.create("idb-open",{originalErrorMessage:e.message})})),n1}async function Oee(e){try{const s=(await xD()).transaction(d0),a=await s.objectStore(d0).get(pD(e));return await s.done,a}catch(r){if(r instanceof Id)Bl.warn(r.message);else{const s=Go.create("idb-get",{originalErrorMessage:r==null?void 0:r.message});Bl.warn(s.message)}}}async function sP(e,r){try{const a=(await xD()).transaction(d0,"readwrite");await a.objectStore(d0).put(r,pD(e)),await a.done}catch(s){if(s instanceof Id)Bl.warn(s.message);else{const a=Go.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Bl.warn(a.message)}}}function pD(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dee=1024,Mee=30;class Lee{constructor(r){this.container=r,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new Ree(s),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var r,s;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=aP();if(((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>Mee){const l=Bee(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Bl.warn(a)}}async getHeartbeatsHeader(){var r;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=aP(),{heartbeatsToSend:a,unsentEntries:n}=Fee(this._heartbeatsCache.heartbeats),i=iD(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=s,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(s){return Bl.warn(s),""}}}function aP(){return new Date().toISOString().substring(0,10)}function Fee(e,r=Dee){const s=[];let a=e.slice();for(const n of e){const i=s.find(l=>l.agent===n.agent);if(i){if(i.dates.push(n.date),nP(s)>r){i.dates.pop();break}}else if(s.push({agent:n.agent,dates:[n.date]}),nP(s)>r){s.pop();break}a=a.slice(1)}return{heartbeatsToSend:s,unsentEntries:a}}class Ree{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return a4()?n4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await Oee(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(r){if(await this._canUseIndexedDBPromise){const a=await this.read();return sP(this.app,{lastSentHeartbeatDate:r.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:r.heartbeats})}else return}async add(r){if(await this._canUseIndexedDBPromise){const a=await this.read();return sP(this.app,{lastSentHeartbeatDate:r.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...r.heartbeats]})}else return}}function nP(e){return iD(JSON.stringify({version:2,heartbeats:e})).length}function Bee(e){if(e.length===0)return-1;let r=0,s=e[0].date;for(let a=1;a<e.length;a++)e[a].date<s&&(s=e[a].date,r=a);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ee(e){$l(new el("platform-logger",r=>new ZZ(r),"PRIVATE")),$l(new el("heartbeat",r=>new Lee(r),"PRIVATE")),Qi(vj,tP,e),Qi(vj,tP,"esm2020"),Qi("fire-js","")}$ee("");const fD="@firebase/installations",l4="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=1e4,yD=`w:${l4}`,bD="FIS_v2",zee="https://firebaseinstallations.googleapis.com/v1",Uee=60*60*1e3,Hee="installations",Vee="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},dd=new Q0(Hee,Vee,Wee);function vD(e){return e instanceof Id&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD({projectId:e}){return`${zee}/projects/${e}/installations`}function wD(e){return{token:e.token,requestStatus:2,expiresIn:qee(e.expiresIn),creationTime:Date.now()}}async function ND(e,r){const a=(await r.json()).error;return dd.create("request-failed",{requestName:e,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function SD({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Gee(e,{refreshToken:r}){const s=SD(e);return s.append("Authorization",Kee(r)),s}async function kD(e){const r=await e();return r.status>=500&&r.status<600?e():r}function qee(e){return Number(e.replace("s","000"))}function Kee(e){return`${bD} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yee({appConfig:e,heartbeatServiceProvider:r},{fid:s}){const a=jD(e),n=SD(e),i=r.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&n.append("x-firebase-client",c)}const l={fid:s,authVersion:bD,appId:e.appId,sdkVersion:yD},o={method:"POST",headers:n,body:JSON.stringify(l)},d=await kD(()=>fetch(a,o));if(d.ok){const c=await d.json();return{fid:c.fid||s,registrationStatus:2,refreshToken:c.refreshToken,authToken:wD(c.authToken)}}else throw await ND("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(e){return new Promise(r=>{setTimeout(r,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xee(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jee=/^[cdef][\w-]{21}$/,Nj="";function Qee(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const s=Zee(e);return Jee.test(s)?s:Nj}catch{return Nj}}function Zee(e){return Xee(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new Map;function AD(e,r){const s=Hy(e);TD(s,r),ete(s,r)}function TD(e,r){const s=PD.get(e);if(s)for(const a of s)a(r)}function ete(e,r){const s=tte();s&&s.postMessage({key:e,fid:r}),rte()}let Lc=null;function tte(){return!Lc&&"BroadcastChannel"in self&&(Lc=new BroadcastChannel("[Firebase] FID Change"),Lc.onmessage=e=>{TD(e.data.key,e.data.fid)}),Lc}function rte(){PD.size===0&&Lc&&(Lc.close(),Lc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ste="firebase-installations-database",ate=1,ud="firebase-installations-store";let i1=null;function o4(){return i1||(i1=Uy(ste,ate,{upgrade:(e,r)=>{switch(r){case 0:e.createObjectStore(ud)}}})),i1}async function qf(e,r){const s=Hy(e),n=(await o4()).transaction(ud,"readwrite"),i=n.objectStore(ud),l=await i.get(s);return await i.put(r,s),await n.done,(!l||l.fid!==r.fid)&&AD(e,r.fid),r}async function ED(e){const r=Hy(e),a=(await o4()).transaction(ud,"readwrite");await a.objectStore(ud).delete(r),await a.done}async function Vy(e,r){const s=Hy(e),n=(await o4()).transaction(ud,"readwrite"),i=n.objectStore(ud),l=await i.get(s),o=r(l);return o===void 0?await i.delete(s):await i.put(o,s),await n.done,o&&(!l||l.fid!==o.fid)&&AD(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(e){let r;const s=await Vy(e.appConfig,a=>{const n=nte(a),i=ite(e,n);return r=i.registrationPromise,i.installationEntry});return s.fid===Nj?{installationEntry:await r}:{installationEntry:s,registrationPromise:r}}function nte(e){const r=e||{fid:Qee(),registrationStatus:0};return ID(r)}function ite(e,r){if(r.registrationStatus===0){if(!navigator.onLine){const n=Promise.reject(dd.create("app-offline"));return{installationEntry:r,registrationPromise:n}}const s={fid:r.fid,registrationStatus:1,registrationTime:Date.now()},a=lte(e,s);return{installationEntry:s,registrationPromise:a}}else return r.registrationStatus===1?{installationEntry:r,registrationPromise:ote(e)}:{installationEntry:r}}async function lte(e,r){try{const s=await Yee(e,r);return qf(e.appConfig,s)}catch(s){throw vD(s)&&s.customData.serverCode===409?await ED(e.appConfig):await qf(e.appConfig,{fid:r.fid,registrationStatus:0}),s}}async function ote(e){let r=await iP(e.appConfig);for(;r.registrationStatus===1;)await CD(100),r=await iP(e.appConfig);if(r.registrationStatus===0){const{installationEntry:s,registrationPromise:a}=await c4(e);return a||s}return r}function iP(e){return Vy(e,r=>{if(!r)throw dd.create("installation-not-found");return ID(r)})}function ID(e){return cte(e)?{fid:e.fid,registrationStatus:0}:e}function cte(e){return e.registrationStatus===1&&e.registrationTime+gD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dte({appConfig:e,heartbeatServiceProvider:r},s){const a=ute(e,s),n=Gee(e,s),i=r.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&n.append("x-firebase-client",c)}const l={installation:{sdkVersion:yD,appId:e.appId}},o={method:"POST",headers:n,body:JSON.stringify(l)},d=await kD(()=>fetch(a,o));if(d.ok){const c=await d.json();return wD(c)}else throw await ND("Generate Auth Token",d)}function ute(e,{fid:r}){return`${jD(e)}/${r}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(e,r=!1){let s;const a=await Vy(e.appConfig,i=>{if(!_D(i))throw dd.create("not-registered");const l=i.authToken;if(!r&&xte(l))return i;if(l.requestStatus===1)return s=mte(e,r),i;{if(!navigator.onLine)throw dd.create("app-offline");const o=fte(i);return s=hte(e,o),o}});return s?await s:a.authToken}async function mte(e,r){let s=await lP(e.appConfig);for(;s.authToken.requestStatus===1;)await CD(100),s=await lP(e.appConfig);const a=s.authToken;return a.requestStatus===0?d4(e,r):a}function lP(e){return Vy(e,r=>{if(!_D(r))throw dd.create("not-registered");const s=r.authToken;return gte(s)?{...r,authToken:{requestStatus:0}}:r})}async function hte(e,r){try{const s=await dte(e,r),a={...r,authToken:s};return await qf(e.appConfig,a),s}catch(s){if(vD(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await ED(e.appConfig);else{const a={...r,authToken:{requestStatus:0}};await qf(e.appConfig,a)}throw s}}function _D(e){return e!==void 0&&e.registrationStatus===2}function xte(e){return e.requestStatus===2&&!pte(e)}function pte(e){const r=Date.now();return r<e.creationTime||e.creationTime+e.expiresIn<r+Uee}function fte(e){const r={requestStatus:1,requestTime:Date.now()};return{...e,authToken:r}}function gte(e){return e.requestStatus===1&&e.requestTime+gD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yte(e){const r=e,{installationEntry:s,registrationPromise:a}=await c4(r);return a?a.catch(console.error):d4(r).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bte(e,r=!1){const s=e;return await vte(s),(await d4(s,r)).token}async function vte(e){const{registrationPromise:r}=await c4(e);r&&await r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jte(e){if(!e||!e.options)throw l1("App Configuration");if(!e.name)throw l1("App Name");const r=["projectId","apiKey","appId"];for(const s of r)if(!e.options[s])throw l1(s);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function l1(e){return dd.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="installations",wte="installations-internal",Nte=e=>{const r=e.getProvider("app").getImmediate(),s=jte(r),a=Z0(r,"heartbeat");return{app:r,appConfig:s,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},Ste=e=>{const r=e.getProvider("app").getImmediate(),s=Z0(r,OD).getImmediate();return{getId:()=>yte(s),getToken:n=>bte(s,n)}};function kte(){$l(new el(OD,Nte,"PUBLIC")),$l(new el(wte,Ste,"PRIVATE"))}kte();Qi(fD,l4);Qi(fD,l4,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cte="/firebase-messaging-sw.js",Pte="/firebase-cloud-messaging-push-scope",DD="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ate="https://fcmregistrations.googleapis.com/v1",MD="google.c.a.c_id",Tte="google.c.a.c_l",Ete="google.c.a.ts",Ite="google.c.a.e",oP=1e4;var cP;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(cP||(cP={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var u0;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(u0||(u0={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(e){const r=new Uint8Array(e);return btoa(String.fromCharCode(...r)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _te(e){const r="=".repeat((4-e.length%4)%4),s=(e+r).replace(/\-/g,"+").replace(/_/g,"/"),a=atob(s),n=new Uint8Array(a.length);for(let i=0;i<a.length;++i)n[i]=a.charCodeAt(i);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="fcm_token_details_db",Ote=5,dP="fcm_token_object_Store";async function Dte(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(o1))return null;let r=null;return(await Uy(o1,Ote,{upgrade:async(a,n,i,l)=>{if(n<2||!a.objectStoreNames.contains(dP))return;const o=l.objectStore(dP),d=await o.index("fcmSenderId").get(e);if(await o.clear(),!!d){if(n===2){const c=d;if(!c.auth||!c.p256dh||!c.endpoint)return;r={token:c.fcmToken,createTime:c.createTime??Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:dl(c.vapidKey)}}}else if(n===3){const c=d;r={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:dl(c.auth),p256dh:dl(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:dl(c.vapidKey)}}}else if(n===4){const c=d;r={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:dl(c.auth),p256dh:dl(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:dl(c.vapidKey)}}}}}})).close(),await s1(o1),await s1("fcm_vapid_details_db"),await s1("undefined"),Mte(r)?r:null}function Mte(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:r}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof r.auth=="string"&&r.auth.length>0&&typeof r.p256dh=="string"&&r.p256dh.length>0&&typeof r.endpoint=="string"&&r.endpoint.length>0&&typeof r.swScope=="string"&&r.swScope.length>0&&typeof r.vapidKey=="string"&&r.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lte="firebase-messaging-database",Fte=1,m0="firebase-messaging-store";let c1=null;function LD(){return c1||(c1=Uy(Lte,Fte,{upgrade:(e,r)=>{switch(r){case 0:e.createObjectStore(m0)}}})),c1}async function Rte(e){const r=FD(e),a=await(await LD()).transaction(m0).objectStore(m0).get(r);if(a)return a;{const n=await Dte(e.appConfig.senderId);if(n)return await u4(e,n),n}}async function u4(e,r){const s=FD(e),n=(await LD()).transaction(m0,"readwrite");return await n.objectStore(m0).put(r,s),await n.done,r}function FD({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bte={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},ya=new Q0("messaging","Messaging",Bte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $te(e,r){const s=await h4(e),a=RD(r),n={method:"POST",headers:s,body:JSON.stringify(a)};let i;try{i=await(await fetch(m4(e.appConfig),n)).json()}catch(l){throw ya.create("token-subscribe-failed",{errorInfo:l==null?void 0:l.toString()})}if(i.error){const l=i.error.message;throw ya.create("token-subscribe-failed",{errorInfo:l})}if(!i.token)throw ya.create("token-subscribe-no-token");return i.token}async function zte(e,r){const s=await h4(e),a=RD(r.subscriptionOptions),n={method:"PATCH",headers:s,body:JSON.stringify(a)};let i;try{i=await(await fetch(`${m4(e.appConfig)}/${r.token}`,n)).json()}catch(l){throw ya.create("token-update-failed",{errorInfo:l==null?void 0:l.toString()})}if(i.error){const l=i.error.message;throw ya.create("token-update-failed",{errorInfo:l})}if(!i.token)throw ya.create("token-update-no-token");return i.token}async function Ute(e,r){const a={method:"DELETE",headers:await h4(e)};try{const i=await(await fetch(`${m4(e.appConfig)}/${r}`,a)).json();if(i.error){const l=i.error.message;throw ya.create("token-unsubscribe-failed",{errorInfo:l})}}catch(n){throw ya.create("token-unsubscribe-failed",{errorInfo:n==null?void 0:n.toString()})}}function m4({projectId:e}){return`${Ate}/projects/${e}/registrations`}async function h4({appConfig:e,installations:r}){const s=await r.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${s}`})}function RD({p256dh:e,auth:r,endpoint:s,vapidKey:a}){const n={web:{endpoint:s,auth:r,p256dh:e}};return a!==DD&&(n.web.applicationPubKey=a),n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hte=7*24*60*60*1e3;async function Vte(e){const r=await Gte(e.swRegistration,e.vapidKey),s={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:r.endpoint,auth:dl(r.getKey("auth")),p256dh:dl(r.getKey("p256dh"))},a=await Rte(e.firebaseDependencies);if(a){if(qte(a.subscriptionOptions,s))return Date.now()>=a.createTime+Hte?Wte(e,{token:a.token,createTime:Date.now(),subscriptionOptions:s}):a.token;try{await Ute(e.firebaseDependencies,a.token)}catch(n){console.warn(n)}return uP(e.firebaseDependencies,s)}else return uP(e.firebaseDependencies,s)}async function Wte(e,r){try{const s=await zte(e.firebaseDependencies,r),a={...r,token:s,createTime:Date.now()};return await u4(e.firebaseDependencies,a),s}catch(s){throw s}}async function uP(e,r){const a={token:await $te(e,r),createTime:Date.now(),subscriptionOptions:r};return await u4(e,a),a.token}async function Gte(e,r){const s=await e.pushManager.getSubscription();return s||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_te(r)})}function qte(e,r){const s=r.vapidKey===e.vapidKey,a=r.endpoint===e.endpoint,n=r.auth===e.auth,i=r.p256dh===e.p256dh;return s&&a&&n&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(e){const r={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return Kte(r,e),Yte(r,e),Xte(r,e),r}function Kte(e,r){if(!r.notification)return;e.notification={};const s=r.notification.title;s&&(e.notification.title=s);const a=r.notification.body;a&&(e.notification.body=a);const n=r.notification.image;n&&(e.notification.image=n);const i=r.notification.icon;i&&(e.notification.icon=i)}function Yte(e,r){r.data&&(e.data=r.data)}function Xte(e,r){var n,i,l,o;if(!r.fcmOptions&&!((n=r.notification)!=null&&n.click_action))return;e.fcmOptions={};const s=((i=r.fcmOptions)==null?void 0:i.link)??((l=r.notification)==null?void 0:l.click_action);s&&(e.fcmOptions.link=s);const a=(o=r.fcmOptions)==null?void 0:o.analytics_label;a&&(e.fcmOptions.analyticsLabel=a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jte(e){return typeof e=="object"&&!!e&&MD in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qte(e){if(!e||!e.options)throw d1("App Configuration Object");if(!e.name)throw d1("App Name");const r=["projectId","apiKey","appId","messagingSenderId"],{options:s}=e;for(const a of r)if(!s[a])throw d1(a);return{appName:e.name,projectId:s.projectId,apiKey:s.apiKey,appId:s.appId,senderId:s.messagingSenderId}}function d1(e){return ya.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zte{constructor(r,s,a){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const n=Qte(r);this.firebaseDependencies={app:r,appConfig:n,installations:s,analyticsProvider:a}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ere(e){try{e.swRegistration=await navigator.serviceWorker.register(Cte,{scope:Pte}),e.swRegistration.update().catch(()=>{}),await tre(e.swRegistration)}catch(r){throw ya.create("failed-service-worker-registration",{browserErrorMessage:r==null?void 0:r.message})}}async function tre(e){return new Promise((r,s)=>{const a=setTimeout(()=>s(new Error(`Service worker not registered after ${oP} ms`)),oP),n=e.installing||e.waiting;e.active?(clearTimeout(a),r()):n?n.onstatechange=i=>{var l;((l=i.target)==null?void 0:l.state)==="activated"&&(n.onstatechange=null,clearTimeout(a),r())}:(clearTimeout(a),s(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rre(e,r){if(!r&&!e.swRegistration&&await ere(e),!(!r&&e.swRegistration)){if(!(r instanceof ServiceWorkerRegistration))throw ya.create("invalid-sw-registration");e.swRegistration=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sre(e,r){r?e.vapidKey=r:e.vapidKey||(e.vapidKey=DD)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(e,r){if(!navigator)throw ya.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw ya.create("permission-blocked");return await sre(e,r==null?void 0:r.vapidKey),await rre(e,r==null?void 0:r.serviceWorkerRegistration),Vte(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function are(e,r,s){const a=nre(r);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(a,{message_id:s[MD],message_name:s[Tte],message_time:s[Ete],message_device_time:Math.floor(Date.now()/1e3)})}function nre(e){switch(e){case u0.NOTIFICATION_CLICKED:return"notification_open";case u0.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ire(e,r){const s=r.data;if(!s.isFirebaseMessaging)return;e.onMessageHandler&&s.messageType===u0.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(mP(s)):e.onMessageHandler.next(mP(s)));const a=s.data;Jte(a)&&a[Ite]==="1"&&await are(e,s.messageType,a)}const hP="@firebase/messaging",xP="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lre=e=>{const r=new Zte(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",s=>ire(r,s)),r},ore=e=>{const r=e.getProvider("messaging").getImmediate();return{getToken:a=>BD(r,a)}};function cre(){$l(new el("messaging",lre,"PUBLIC")),$l(new el("messaging-internal",ore,"PRIVATE")),Qi(hP,xP),Qi(hP,xP,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(){try{await n4()}catch{return!1}return typeof window<"u"&&a4()&&oD()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dre(e,r){if(!navigator)throw ya.create("only-available-in-window");return e.onMessageHandler=r,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ure(e=hD()){return $D().then(r=>{if(!r)throw ya.create("unsupported-browser")},r=>{throw ya.create("indexed-db-unsupported")}),Z0(bm(e),"messaging").getImmediate()}async function mre(e,r){return e=bm(e),BD(e,r)}function hre(e,r){return e=bm(e),dre(e,r)}cre();var xre="firebase",pre="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qi(xre,pre,"app");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="analytics",fre="firebase_id",gre="origin",yre=60*1e3,bre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",x4="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new cD("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vre={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wn=new Q0("analytics","Analytics",vre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jre(e){if(!e.startsWith(x4)){const r=wn.create("invalid-gtag-resource",{gtagURL:e});return Ma.warn(r.message),""}return e}function zD(e){return Promise.all(e.map(r=>r.catch(s=>s)))}function wre(e,r){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(e,r)),s}function Nre(e,r){const s=wre("firebase-js-sdk-policy",{createScriptURL:jre}),a=document.createElement("script"),n=`${x4}?l=${e}&id=${r}`;a.src=s?s==null?void 0:s.createScriptURL(n):n,a.async=!0,document.head.appendChild(a)}function Sre(e){let r=[];return Array.isArray(window[e])?r=window[e]:window[e]=r,r}async function kre(e,r,s,a,n,i){const l=a[n];try{if(l)await r[l];else{const d=(await zD(s)).find(c=>c.measurementId===n);d&&await r[d.appId]}}catch(o){Ma.error(o)}e("config",n,i)}async function Cre(e,r,s,a,n){try{let i=[];if(n&&n.send_to){let l=n.send_to;Array.isArray(l)||(l=[l]);const o=await zD(s);for(const d of l){const c=o.find(m=>m.measurementId===d),u=c&&r[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(r)),await Promise.all(i),e("event",a,n||{})}catch(i){Ma.error(i)}}function Pre(e,r,s,a){async function n(i,...l){try{if(i==="event"){const[o,d]=l;await Cre(e,r,s,o,d)}else if(i==="config"){const[o,d]=l;await kre(e,r,s,a,o,d)}else if(i==="consent"){const[o,d]=l;e("consent",o,d)}else if(i==="get"){const[o,d,c]=l;e("get",o,d,c)}else if(i==="set"){const[o]=l;e("set",o)}else e(i,...l)}catch(o){Ma.error(o)}}return n}function Are(e,r,s,a,n){let i=function(...l){window[a].push(arguments)};return window[n]&&typeof window[n]=="function"&&(i=window[n]),window[n]=Pre(i,e,r,s),{gtagCore:i,wrappedGtag:window[n]}}function Tre(e){const r=window.document.getElementsByTagName("script");for(const s of Object.values(r))if(s.src&&s.src.includes(x4)&&s.src.includes(e))return s;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ere=30,Ire=1e3;class _re{constructor(r={},s=Ire){this.throttleMetadata=r,this.intervalMillis=s}getThrottleMetadata(r){return this.throttleMetadata[r]}setThrottleMetadata(r,s){this.throttleMetadata[r]=s}deleteThrottleMetadata(r){delete this.throttleMetadata[r]}}const UD=new _re;function Ore(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Dre(e){var l;const{appId:r,apiKey:s}=e,a={method:"GET",headers:Ore(s)},n=bre.replace("{app-id}",r),i=await fetch(n,a);if(i.status!==200&&i.status!==304){let o="";try{const d=await i.json();(l=d.error)!=null&&l.message&&(o=d.error.message)}catch{}throw wn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function Mre(e,r=UD,s){const{appId:a,apiKey:n,measurementId:i}=e.options;if(!a)throw wn.create("no-app-id");if(!n){if(i)return{measurementId:i,appId:a};throw wn.create("no-api-key")}const l=r.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Rre;return setTimeout(async()=>{o.abort()},yre),HD({appId:a,apiKey:n,measurementId:i},l,o,r)}async function HD(e,{throttleEndTimeMillis:r,backoffCount:s},a,n=UD){var o;const{appId:i,measurementId:l}=e;try{await Lre(a,r)}catch(d){if(l)return Ma.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:l};throw d}try{const d=await Dre(e);return n.deleteThrottleMetadata(i),d}catch(d){const c=d;if(!Fre(c)){if(n.deleteThrottleMetadata(i),l)return Ma.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:l};throw d}const u=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?JC(s,n.intervalMillis,Ere):JC(s,n.intervalMillis),m={throttleEndTimeMillis:Date.now()+u,backoffCount:s+1};return n.setThrottleMetadata(i,m),Ma.debug(`Calling attemptFetch again in ${u} millis`),HD(e,m,a,n)}}function Lre(e,r){return new Promise((s,a)=>{const n=Math.max(r-Date.now(),0),i=setTimeout(s,n);e.addEventListener(()=>{clearTimeout(i),a(wn.create("fetch-throttle",{throttleEndTimeMillis:r}))})})}function Fre(e){if(!(e instanceof Id)||!e.customData)return!1;const r=Number(e.customData.httpStatus);return r===429||r===500||r===503||r===504}class Rre{constructor(){this.listeners=[]}addEventListener(r){this.listeners.push(r)}abort(){this.listeners.forEach(r=>r())}}async function Bre(e,r,s,a,n){if(n&&n.global){e("event",s,a);return}else{const i=await r,l={...a,send_to:i};e("event",s,l)}}async function $re(e,r,s,a){if(a&&a.global){const n={};for(const i of Object.keys(s))n[`user_properties.${i}`]=s[i];return e("set",n),Promise.resolve()}else{const n=await r;e("config",n,{update:!0,user_properties:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zre(){if(a4())try{await n4()}catch(e){return Ma.warn(wn.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ma.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Ure(e,r,s,a,n,i,l){const o=Mre(e);o.then(x=>{s[x.measurementId]=x.appId,e.options.measurementId&&x.measurementId!==e.options.measurementId&&Ma.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Ma.error(x)),r.push(o);const d=zre().then(x=>{if(x)return a.getId()}),[c,u]=await Promise.all([o,d]);Tre(i)||Nre(i,c.measurementId),n("js",new Date);const m=(l==null?void 0:l.config)??{};return m[gre]="firebase",m.update=!0,u!=null&&(m[fre]=u),n("config",c.measurementId,m),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hre{constructor(r){this.app=r}_delete(){return delete Eu[this.app.options.appId],Promise.resolve()}}let Eu={},pP=[];const fP={};let u1="dataLayer",Vre="gtag",gP,p4,yP=!1;function Wre(){const e=[];if(PZ()&&e.push("This is a browser extension environment."),oD()||e.push("Cookies are not available."),e.length>0){const r=e.map((a,n)=>`(${n+1}) ${a}`).join(" "),s=wn.create("invalid-analytics-context",{errorInfo:r});Ma.warn(s.message)}}function Gre(e,r,s){Wre();const a=e.options.appId;if(!a)throw wn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ma.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wn.create("no-api-key");if(Eu[a]!=null)throw wn.create("already-exists",{id:a});if(!yP){Sre(u1);const{wrappedGtag:i,gtagCore:l}=Are(Eu,pP,fP,u1,Vre);p4=i,gP=l,yP=!0}return Eu[a]=Ure(e,pP,fP,r,gP,u1,s),new Hre(e)}function qre(e=hD()){e=bm(e);const r=Z0(e,Kf);return r.isInitialized()?r.getImmediate():Kre(e)}function Kre(e,r={}){const s=Z0(e,Kf);if(s.isInitialized()){const n=s.getImmediate();if(Wf(r,s.getOptions()))return n;throw wn.create("already-initialized")}return s.initialize({options:r})}function Yre(e,r,s){e=bm(e),$re(p4,Eu[e.app.options.appId],r,s).catch(a=>Ma.error(a))}function Xre(e,r,s,a){e=bm(e),Bre(p4,Eu[e.app.options.appId],r,s,a).catch(n=>Ma.error(n))}const bP="@firebase/analytics",vP="0.10.19";function Jre(){$l(new el(Kf,(r,{options:s})=>{const a=r.getProvider("app").getImmediate(),n=r.getProvider("installations-internal").getImmediate();return Gre(a,n,s)},"PUBLIC")),$l(new el("analytics-internal",e,"PRIVATE")),Qi(bP,vP),Qi(bP,vP,"esm2020");function e(r){try{const s=r.getProvider(Kf).getImmediate();return{logEvent:(a,n,i)=>Xre(s,a,n,i),setUserProperties:(a,n)=>Yre(s,a,n)}}catch(s){throw wn.create("interop-component-reg-failed",{reason:s})}}}Jre();const Qre={apiKey:"AIzaSyAwED6Sq3-6cUPJ4QcCdj6xAqEiXfP0J9c",authDomain:"nexo-7fc25.firebaseapp.com",projectId:"nexo-7fc25",storageBucket:"nexo-7fc25.firebasestorage.app",messagingSenderId:"592565521792",appId:"1:592565521792:web:0842ec948362df3e720565",measurementId:"G-11HMWKHPJY"},VD=mD(Qre);typeof window<"u"&&qre(VD);const Zre="BC4rz7vzSsS59jhKkTcwex63a_XBnJEnBwaEDWpdM_Epk5NGztNTl27jN31usSSOEanFSX6HZuRe96JyAZbPjRg";let Vi=null;const WD=async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.getRegistration("/");if(e)return e;const r=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/"});return await navigator.serviceWorker.ready,r}catch(e){return console.error("Service Worker registration failed:",e),null}return null},GD=async()=>{if(typeof window>"u"||!await $D())return null;await WD();try{return Vi=ure(VD),Vi}catch(r){return console.error("Error initializing Firebase Messaging:",r),null}},qD=async()=>{if(typeof window>"u"||!("Notification"in window))return null;try{let e=Notification.permission;if(e==="default")try{e=await Notification.requestPermission()}catch(a){return console.error("Error requesting notification permission:",a),null}else if(e==="denied")return null;if(e!=="granted"||(await WD(),await new Promise(a=>setTimeout(a,1e3)),Vi||(Vi=await GD()),!Vi))return null;let r=null,s=3;for(;!r&&s>0;)try{if(r=await mre(Vi,{vapidKey:Zre}),r)return r}catch{s--,s>0&&await new Promise(n=>setTimeout(n,1e3))}return r||null}catch(e){return console.error("Error getting FCM token:",e),null}};let yc=null,m1=null;const ese=async e=>{try{if(yc&&m1===e)return yc;if(yc&&typeof yc=="function"&&(yc(),yc=null,m1=null),Vi||(Vi=await GD()),!Vi)return null;const r=hre(Vi,s=>{e&&e(s)});return yc=r,m1=e,r}catch(r){return console.error("Error setting up message listener:",r),null}},jP=()=>{try{const e=window.AudioContext||window.webkitAudioContext;if(!e){console.log("Web Audio API not available, browser notification will use default sound");return}const r=new e;r.state==="suspended"?r.resume().then(()=>{console.log("AudioContext resumed, playing notification sound"),wP(r)}).catch(s=>{console.warn("Could not resume AudioContext:",s),console.log("Browser notification will use default sound")}):wP(r)}catch(e){console.warn("Could not play notification sound:",e),console.log("Browser notification will use default sound")}},wP=e=>{try{const r=e.createOscillator(),s=e.createGain();r.connect(s),s.connect(e.destination),r.frequency.value=800,r.type="sine";const a=e.currentTime;s.gain.setValueAtTime(0,a),s.gain.linearRampToValueAtTime(.3,a+.01),s.gain.exponentialRampToValueAtTime(.01,a+.2),r.start(a),r.stop(a+.2),r.onended=()=>{try{e.close()}catch{}}}catch(r){console.warn("Error playing beep sound:",r)}},f4=(e,r,s)=>{const[a,n]=g.useState([]),[i,l]=g.useState(null),[o,d]=g.useState(!1),[c,u]=g.useState(0),[m,x]=g.useState(null),h=g.useRef(null),p=g.useRef(null),f=g.useCallback(async()=>{if(!(!s||!r))try{const v=await qD();if(v&&(e!=null&&e.updateFCMToken)){l(v);try{await e.updateFCMToken(r,v)}catch(N){console.error("Error sending FCM token to backend:",N)}}}catch(v){console.error("Error initializing notifications:",v)}},[s,r,e]),b=g.useCallback(async(v=!1)=>{if(!(!s||!r||!(e!=null&&e.getNotifications))){d(!0);try{const N=await e.getNotifications(r);let S=[];if(N.success&&N.notifications?S=N.notifications:Array.isArray(N)&&(S=N),S.length>0&&p.current){const P=S[0];P._id&&P._id!==p.current&&(v&&!P.read&&!P.seen&&(x(P),jP()),p.current=P._id)}else if(S.length>0){const P=S[0];P._id&&(p.current=P._id)}n(S);const k=S.filter(P=>!P.read).length;u(k)}catch(N){console.error("Error fetching notifications:",N),N.message&&N.message.includes("ERR_CONNECTION_REFUSED"),n([]),u(0)}finally{d(!1)}}},[s,r,e]),j=g.useCallback(async(v=null)=>{if(!(!s||!r||!e))try{if(v&&e.markNotificationAsRead)u(N=>Math.max(0,N-1)),await e.markNotificationAsRead(r,v);else if(e.markNotificationsAsRead)u(0),await e.markNotificationsAsRead(r);else return;await b()}catch(N){console.error("Error marking notifications as read:",N),await b()}},[s,r,e,b]);g.useEffect(()=>{if(!s)return;let v=null;return(async()=>{try{v=await ese(S=>{var Z,Y,ce,D,z,se,K,_,M,F,B,q,ae,V;const k=((Z=S.notification)==null?void 0:Z.title)||((Y=S.data)==null?void 0:Y.title)||"New Notification",P=((ce=S.notification)==null?void 0:ce.body)||((D=S.data)==null?void 0:D.message)||"You have a new notification",C=((z=S.data)==null?void 0:z.type)||((se=S.data)==null?void 0:se.notificationType)||"new-notification",I=((K=S.data)==null?void 0:K.isStatusChange)==="true"||C==="status-change",A=((_=S.notification)==null?void 0:_.icon)||((M=S.data)==null?void 0:M.icon),O=((F=S.notification)==null?void 0:F.image)||((B=S.data)==null?void 0:B.image);if(jP(),S.notification||S.data){const G=he=>he?he.startsWith("http://")||he.startsWith("https://")?he:he.startsWith("/")?`${window.location.origin}${he}`:`${window.location.origin}/${he}`:`${window.location.origin}/android-chrome-192x192.png`,te=G(A)||`${window.location.origin}/android-chrome-192x192.png`,pe=`${window.location.origin}/android-chrome-192x192.png`,ye=O?G(O):null;if("Notification"in window&&Notification.permission==="granted"){const he={body:P,icon:te,badge:pe,tag:C,data:S.data,timestamp:Date.now(),vibrate:[200,100,200],silent:!1,...ye&&{image:ye}},Qe=new Notification(k,he);Qe.onclick=()=>{var W;window.focus(),Qe.close(),((W=S.data)==null?void 0:W.type)==="new-notification"&&b()}}}const R={_id:((q=S.data)==null?void 0:q.notificationId)||((ae=S.data)==null?void 0:ae.userId)||((V=S.data)==null?void 0:V.adminId)||Date.now().toString(),title:k,message:P,type:I?"status-change":C||"info",icon:A,image:O,read:!1,seen:!1,createdAt:new Date,isStatusChange:I};x(R),I&&window.dispatchEvent(new CustomEvent("vendorStatusChange",{detail:{title:k,message:P}})),setTimeout(async()=>{try{await b(!1)}catch(G){console.error("Error refreshing notifications list:",G)}},1e3)})}catch(S){console.error("Error setting up message listener:",S)}})(),s&&r&&(e!=null&&e.getNotifications)&&b(!1),()=>{v&&typeof v=="function"&&v(),h.current&&(clearInterval(h.current),h.current=null)}},[s,b,r,e]),g.useEffect(()=>{s&&r&&f()},[s,r,f]),g.useEffect(()=>{const v=()=>{s&&r&&f()};return window.addEventListener("notificationPermissionGranted",v),()=>{window.removeEventListener("notificationPermissionGranted",v)}},[s,r,f]);const w=g.useCallback(()=>{x(null)},[]),y=g.useCallback(async v=>{await j(v),x(null)},[j]);return{notifications:a,fcmToken:i,isLoading:o,unreadCount:c,currentNotification:m,fetchNotifications:b,markAsRead:j,initializeNotifications:f,closeNotificationDialog:w,markNotificationAsRead:y}},h1="http://localhost:9088",Me=e=>e.startsWith("/admin/bookings")?`${h1}${e}`:e.startsWith("/api/")?`${h1}${e}`:`${h1}/api/admin${e}`,Le=e=>{const r={"Content-Type":"application/json"};return e&&(r.Authorization=`Bearer ${e}`),r},Fe=async e=>{const r=e.headers.get("content-type")||"",s=r.includes("application/json"),a=r.includes("text/html"),n=await e.text();if(a||n.trim().startsWith("<!")&&n.trim().toLowerCase().includes("html")){const l=new Error(`Server returned HTML instead of JSON (Status: ${e.status}). This usually means the endpoint doesn't exist or there's a server error.`);throw l.status=e.status,l.isHtml=!0,l.htmlPreview=n.substring(0,500),l}if(!n||n.trim()===""){if(!e.ok){const l=new Error("Empty response from server");throw l.status=e.status,l}return{success:!0,message:"Operation completed successfully"}}let i;if(s)try{i=JSON.parse(n)}catch{if(n.trim().startsWith("<!")){const o=new Error("Server returned HTML instead of JSON");throw o.status=e.status,o.isHtml=!0,o.htmlPreview=n.substring(0,500),o}i=n}else i=n;if(!e.ok){const l=new Error((i==null?void 0:i.message)||(i==null?void 0:i.error)||"Request failed");throw l.status=e.status,l.data=i,l}return i},We={async login(e){const r=await fetch(Me("/api/admin/login"),{method:"POST",headers:Le(),body:JSON.stringify(e)});return await Fe(r)},async fetchDashboard(e){const r=await fetch(Me("/api/admin/dashboard"),{headers:Le(e)});return await Fe(r)},async fetchDashboardCounts(e){const r=await fetch(Me("/api/admin/dashboard/counts"),{headers:Le(e)});return await Fe(r)},async fetchVendors(e,r={}){const s=new URLSearchParams({page:r.page||1,limit:r.limit||10,...r.search&&{search:r.search},...r.status&&{status:r.status}}).toString(),a=await fetch(Me(`/api/admin/vendors?${s}`),{headers:Le(e)});return await Fe(a)},async getVendorDetails(e,r){const s=await fetch(Me(`/api/admin/vendors/${r}`),{headers:Le(e)});return Fe(s)},async createVendor(e,r){const s=await fetch(Me("/api/admin/vendors"),{method:"POST",headers:Le(e),body:JSON.stringify(r)});return Fe(s)},async updateVendor(e,r,s){const a=await fetch(Me(`/api/admin/vendors/${r}`),{method:"PUT",headers:Le(e),body:JSON.stringify(s)});return Fe(a)},async updateVendorStatus(e,r,s){const a=await fetch(Me(`/api/admin/vendors/${r}/status`),{method:"PUT",headers:Le(e),body:JSON.stringify({status:s})});return Fe(a)},async deleteVendor(e,r){const s=await fetch(Me(`/api/admin/vendors/${r}`),{method:"DELETE",headers:Le(e)});return Fe(s)},async fetchVendorSpareParts(e,r={}){const s=new URLSearchParams;r.vendorId&&s.append("vendorId",r.vendorId),r.category&&s.append("category",r.category),r.status&&s.append("status",r.status),r.search&&s.append("search",r.search);const a=s.toString(),n=Me(`/api/admin/vendors/spare-parts${a?`?${a}`:""}`),i=await fetch(n,{headers:Le(e)});return Fe(i)},async fetchVendorSparePartsByVendor(e,r,s={}){const a=new URLSearchParams;s.category&&a.append("category",s.category),s.status&&a.append("status",s.status),s.search&&a.append("search",s.search);const n=a.toString(),i=Me(`/api/admin/vendors/${r}/spare-parts${n?`?${n}`:""}`),l=await fetch(i,{headers:Le(e)});return Fe(l)},async fetchPartners(e,r={}){const s=new URLSearchParams({page:r.page||1,limit:r.limit||10,...r.search&&{search:r.search},...r.status&&{status:r.status}}).toString(),a=await fetch(Me(`/api/admin/partners?${s}`),{headers:Le(e)});return await Fe(a)},async fetchPartnerRevenueStats(e){const r=await fetch(Me("/partners-revenue-stats"),{headers:Le(e)});return await Fe(r)},async fetchPendingKYC(e){const r=await fetch(Me("/api/admin/partners/kyc/pending"),{headers:Le(e)});return await Fe(r)},async fetchPartnerDetails(e,r){const s=await fetch(Me(`/api/admin/partners/${r}`),{headers:Le(e)});return await Fe(s)},async updatePartnerStatus(e,r,s,a){const n=await fetch(Me(`/api/admin/partners/${r}/status`),{method:"PUT",headers:Le(e),body:JSON.stringify({status:s,remarks:a})});return Fe(n)},async verifyPartnerKYC(e,r){const s=await fetch(Me(`/api/admin/partners/${r}/kyc`),{method:"PUT",headers:Le(e)});return Fe(s)},async updatePartnerProfile(e,r,s){const a=Me(`/api/admin/updatePartnerProfile/${r}`),n=await fetch(a,{method:"PUT",headers:Le(e),body:JSON.stringify(s)});return Fe(n)},async approvePartnerPayment(e,r,s){const a=await fetch(Me(`/api/admin/partners/${r}/approve-payment`),{method:"PUT",headers:Le(e),body:JSON.stringify(s)});return Fe(a)},async suspendPartner(e,r){const s=await fetch(Me(`/api/admin/partner/${r}/status`),{method:"PUT",headers:Le(e),body:JSON.stringify({status:"inactive"})});return Fe(s)},async activatePartner(e,r){const s=await fetch(Me(`/api/admin/partner/${r}/status`),{method:"PUT",headers:Le(e),body:JSON.stringify({status:"active"})});return Fe(s)},async deletePartner(e,r){const s=await fetch(Me(`/api/admin/deletepartner/${r}`),{method:"DELETE",headers:Le(e)});return Fe(s)},async fetchBookings(e,r={}){const s=new URLSearchParams({page:r.page||1,limit:r.limit||10,status:r.status||"all",...r.fromDate&&{fromDate:r.fromDate},...r.toDate&&{toDate:r.toDate},...r.search&&{search:r.search}}).toString(),a=await fetch(Me(`/api/admin/bookings/bookings?${s}`),{headers:Le(e)});return await Fe(a)},async assignBooking(e,r,s,a){const n=await fetch(Me("/api/admin/bookings/assign-partner"),{method:"PUT",headers:Le(e),body:JSON.stringify({bookingId:r,partnerId:s,teamMemberId:a})});return Fe(n)},async fetchTeamMembers(e,r={}){const s=new URLSearchParams({...r.status&&{status:r.status}}).toString(),a=await fetch(Me(`/api/admin/team-members${s?`?${s}`:""}`),{headers:Le(e)});return await Fe(a)},async completeBooking(e,r){const s=await fetch(Me(`/api/admin/bookings/${r}/complete`),{method:"PUT",headers:Le(e)});return Fe(s)},async createManualBooking(e,r){const s=await fetch(Me("/api/admin/bookings/create"),{method:"POST",headers:Le(e),body:JSON.stringify(r)});return Fe(s)},async fetchUsers(e,r={}){const s=new URLSearchParams({page:r.page||1,limit:r.limit||10,...r.search&&{search:r.search},...r.status&&{status:r.status}}).toString(),a=await fetch(Me(`/api/admin/users?${s}`),{headers:Le(e)});return await Fe(a)},async fetchRevenueAnalytics(e,r={}){const s=new URLSearchParams({...r.startDate&&{startDate:r.startDate},...r.endDate&&{endDate:r.endDate}}).toString(),a=await fetch(Me(`/api/admin/reports/revenue?${s}`),{headers:Le(e)}),n=await Fe(a);return(n==null?void 0:n.data)||n},async fetchPartnerPerformance(e){const r=await fetch(Me("/api/admin/reports/partners/performance"),{headers:Le(e)}),s=await Fe(r);return(s==null?void 0:s.data)||s},async fetchUserAnalytics(e){const r=await fetch(Me("/api/admin/reports/users"),{headers:Le(e)}),s=await Fe(r);return(s==null?void 0:s.data)||s},async fetchCategoryRevenue(e,r={}){const s=new URLSearchParams({...r.startDate&&{startDate:r.startDate},...r.endDate&&{endDate:r.endDate}}).toString(),a=await fetch(Me(`/api/admin/reports/category-revenue?${s}`),{headers:Le(e)}),n=await Fe(a);return(n==null?void 0:n.data)||n},async fetchTransactionReport(e,r={}){const s=new URLSearchParams({...r.startDate&&{startDate:r.startDate},...r.endDate&&{endDate:r.endDate},...r.status&&{status:r.status}}).toString(),a=await fetch(Me(`/api/admin/reports/transactions?${s}`),{headers:Le(e)}),n=await Fe(a);return(n==null?void 0:n.data)||n},async fetchLeads(e,r={}){const s=new URLSearchParams({...r.page&&{page:r.page.toString()},...r.limit&&{limit:r.limit.toString()},...r.status&&r.status!=="all"&&{status:r.status},...r.city&&{city:r.city},...r.allocationStrategy&&r.allocationStrategy!=="all"&&{allocationStrategy:r.allocationStrategy},...r.startDate&&{startDate:r.startDate},...r.endDate&&{endDate:r.endDate}}).toString(),a=await fetch(Me(`/api/admin/leads?${s}`),{headers:Le(e)});return await Fe(a)},async fetchLeadAnalytics(e){const r=await fetch(Me("/api/admin/leads/analytics"),{headers:Le(e)}),s=await Fe(r);return(s==null?void 0:s.data)||s},async fetchBids(e,r={}){const s=new URLSearchParams({...r.page&&{page:r.page.toString()},...r.limit&&{limit:r.limit.toString()},...r.status&&r.status!=="all"&&{status:r.status},...r.leadId&&{leadId:r.leadId}}).toString(),a=await fetch(Me(`/api/admin/leads/bids?${s}`),{headers:Le(e)});return await Fe(a)},async createLeadFromBooking(e,r){const s=await fetch(Me("/api/admin/leads/create"),{method:"POST",headers:Le(e),body:JSON.stringify({bookingId:r})});return Fe(s)},async createManualLead(e,r){const s=await fetch(Me("/api/admin/leads/create-manual"),{method:"POST",headers:Le(e),body:JSON.stringify(r)});return Fe(s)},async updateLeadStatus(e,r,s,a){const n=await fetch(Me(`/api/admin/leads/${r}/status`),{method:"PUT",headers:Le(e),body:JSON.stringify({status:s,assignedPartner:a})});return Fe(n)},async acceptBid(e,r,s){const a=await fetch(Me("/api/admin/leads/accept-bid"),{method:"POST",headers:Le(e),body:JSON.stringify({leadId:r,bidId:s})});return Fe(a)},async syncBookingsToLeads(e){const r=await fetch(Me("/api/admin/leads/sync"),{method:"POST",headers:Le(e)});return Fe(r)},async fetchReviews(e){const r=await fetch(Me("/api/admin/reviews"),{headers:Le(e)}),s=await Fe(r);return(s==null?void 0:s.data)||s},async updateReviewStatus(e,r,s){const a=await fetch(Me(`/api/admin/reviews/${r}/status`),{method:"PUT",headers:Le(e),body:JSON.stringify({status:s})});return Fe(a)},async fetchPartnerEarnings(e,r){const s=await fetch(Me(`/api/admin/partner/${r}/earnings`),{headers:Le(e)});return Fe(s)},async fetchFeeTransactions(e,r={}){const s=new URLSearchParams;r.partnerId&&typeof r.partnerId=="string"&&r.partnerId.trim()&&s.append("partnerId",r.partnerId.trim()),r.feeType&&typeof r.feeType=="string"&&r.feeType.trim()&&r.feeType!=="all"&&s.append("feeType",r.feeType.trim()),r.status&&typeof r.status=="string"&&r.status.trim()&&r.status!=="all"&&s.append("status",r.status.trim()),r.startDate&&typeof r.startDate=="string"&&r.startDate.trim()&&s.append("startDate",r.startDate.trim()),r.endDate&&typeof r.endDate=="string"&&r.endDate.trim()&&s.append("endDate",r.endDate.trim()),r.page&&s.append("page",r.page.toString()),r.limit&&s.append("limit",r.limit.toString());const a=Me(`/api/admin/fee-transactions${s.toString()?`?${s.toString()}`:""}`),n=await fetch(a,{method:"GET",headers:Le(e)});return Fe(n)},async fetchPartnerWallet(e,r){const s=await fetch(Me(`/api/admin/adminwallets/${r}`),{headers:Le(e)});return Fe(s)},async fetchAllWalletTransactions(e,r={}){const s=new URLSearchParams({...r.limit&&{limit:r.limit}}).toString(),a=await fetch(Me(`/api/admin/wallet-transactions?${s}`),{headers:Le(e)});return Fe(a)},async addWalletTransaction(e,r){const s=await fetch(Me("/api/admin/partner/addwallets"),{method:"PUT",headers:Le(e),body:JSON.stringify(r)});return Fe(s)},async fetchMGPlans(e){const r=await fetch(Me("/api/admin/mg-plans"),{headers:Le(e)});return Fe(r)},async fetchSubscriptionPlans(e){try{const r=Me("/api/admin/subscription-plans"),s=await fetch(r,{headers:Le(e)});if((s.headers.get("content-type")||"").includes("text/html")){const n=await s.text();throw console.error("Server returned HTML instead of JSON"),console.error("Response status:",s.status,s.statusText),new Error(`API endpoint returned HTML (${s.status}). Check if the endpoint exists: ${r}`)}return await Fe(s)}catch(r){throw console.error("Error fetching subscription plans:",r),r}},async createSubscriptionPlan(e,r){const s=await fetch(Me("/api/admin/subscription-plans"),{method:"POST",headers:Le(e),body:JSON.stringify(r)});return Fe(s)},async updateSubscriptionPlan(e,r,s){const a=await fetch(Me(`/api/admin/subscription-plans/${r}`),{method:"PUT",headers:Le(e),body:JSON.stringify(s)});return Fe(a)},async deleteSubscriptionPlan(e,r){const s=await fetch(Me(`/api/admin/subscription-plans/${r}`),{method:"DELETE",headers:Le(e)});return Fe(s)},async fetchAMCPlans(e){try{const r=Me("/api/admin/amc-plans"),s=await fetch(r,{headers:Le(e)});if((s.headers.get("content-type")||"").includes("text/html")){const n=await s.text();throw console.error("Server returned HTML instead of JSON"),console.error("Response status:",s.status,s.statusText),new Error(`API endpoint returned HTML (${s.status}). Check if the endpoint exists: ${r}`)}return await Fe(s)}catch(r){throw console.error("Error fetching AMC plans:",r),r}},async createAMCPlan(e,r){const s=await fetch(Me("/api/admin/amc-plans"),{method:"POST",headers:Le(e),body:JSON.stringify(r)});return Fe(s)},async updateAMCPlan(e,r,s){const a=await fetch(Me(`/api/admin/amc-plans/${r}`),{method:"PUT",headers:Le(e),body:JSON.stringify(s)});return Fe(a)},async deleteAMCPlan(e,r){const s=await fetch(Me(`/api/admin/amc-plans/${r}`),{method:"DELETE",headers:Le(e)});return Fe(s)},async fetchAMCSubscribers(e){const r=await fetch(Me("/api/admin/amc-subscribers"),{headers:Le(e)});return Fe(r)},async assignAMCSubscriptionToPartner(e,r){const s=await fetch(Me("/api/admin/amc-subscribers/assign-partner"),{method:"POST",headers:Le(e),body:JSON.stringify(r)});return Fe(s)},async generateAMCPlansFromServices(e){const r=await fetch(Me("/api/admin/amc-plans/generate-from-services"),{method:"POST",headers:Le(e)});return Fe(r)},async fetchFeaturedReviews(e){const r=await fetch(Me("/api/admin/featured-reviews"),{headers:Le(e)});return Fe(r)},async createFeaturedReview(e,r){const s=await fetch(Me("/api/admin/featured-reviews"),{method:"POST",headers:Le(e),body:JSON.stringify(r)});return Fe(s)},async updateFeaturedReview(e,r,s){const a=await fetch(Me(`/api/admin/featured-reviews/${r}`),{method:"PUT",headers:Le(e),body:JSON.stringify(s)});return Fe(a)},async deleteFeaturedReview(e,r){const s=await fetch(Me(`/api/admin/featured-reviews/${r}`),{method:"DELETE",headers:Le(e)});return Fe(s)},async createMGPlan(e,r){const s=await fetch(Me("/api/admin/mg-plans"),{method:"POST",headers:Le(e),body:JSON.stringify(r)});return Fe(s)},async updateMGPlan(e,r,s){const a=await fetch(Me(`/api/admin/mg-plans/${r}`),{method:"PUT",headers:Le(e),body:JSON.stringify(s)});return Fe(a)},async deleteMGPlan(e,r){const s=await fetch(Me(`/api/admin/mg-plans/${r}`),{method:"DELETE",headers:Le(e)});return Fe(s)},async deleteMGPlanHistoryEntry(e,r,s){const a=await fetch(Me(`/api/admin/partners/${r}/mg-plan/history/${s}`),{method:"DELETE",headers:Le(e)});return Fe(a)},async removeMGPlan(e,r){const s=await fetch(Me(`/api/admin/partners/${r}/remove-mg-plan`),{method:"POST",headers:Le(e)});return Fe(s)},async fetchPartnerServiceHubs(e,r){const s=await fetch(Me(`/api/admin/partners/${r}/service-hubs`),{headers:Le(e)});return Fe(s)},async createPartnerServiceHub(e,r,s){const a=await fetch(Me(`/api/admin/partners/${r}/service-hubs`),{method:"POST",headers:Le(e),body:JSON.stringify(s)});return Fe(a)},async updatePartnerServiceHub(e,r,s,a){const n=await fetch(Me(`/api/admin/partners/${r}/service-hubs/${s}`),{method:"PUT",headers:Le(e),body:JSON.stringify(a)});return Fe(n)},async deletePartnerServiceHub(e,r,s){const a=await fetch(Me(`/api/admin/partners/${r}/service-hubs/${s}`),{method:"DELETE",headers:Le(e)});return Fe(a)},async fetchHubs(e,r={}){const s=new URLSearchParams;r.status&&s.append("status",r.status),r.search&&s.append("search",r.search);const a=s.toString(),n=Me(`/api/admin/hubs${a?`?${a}`:""}`),i=await fetch(n,{headers:Le(e)});return Fe(i)},async fetchHubById(e,r){const s=await fetch(Me(`/api/admin/hubs/${r}`),{headers:Le(e)});return Fe(s)},async createHub(e,r){const s=await fetch(Me("/api/admin/hubs"),{method:"POST",headers:Le(e),body:JSON.stringify(r)});return Fe(s)},async updateHub(e,r,s){const a=await fetch(Me(`/api/admin/hubs/${r}`),{method:"PUT",headers:Le(e),body:JSON.stringify(s)});return Fe(a)},async deleteHub(e,r){const s=await fetch(Me(`/api/admin/hubs/${r}`),{method:"DELETE",headers:Le(e)});return Fe(s)},async assignHubToPartner(e,r,s){const a=await fetch(Me(`/api/admin/hubs/${r}/assign-partner`),{method:"POST",headers:Le(e),body:JSON.stringify({partnerId:s})});return Fe(a)},async unassignHubFromPartner(e,r,s){const a=await fetch(Me(`/api/admin/hubs/${r}/unassign-partner`),{method:"POST",headers:Le(e),body:JSON.stringify({partnerId:s})});return Fe(a)},async fetchHubPartners(e,r){const s=await fetch(Me(`/api/admin/hubs/${r}/partners`),{headers:Le(e)});return Fe(s)},async addAreaToHub(e,r,s){const a=await fetch(Me(`/api/admin/hubs/${r}/areas`),{method:"POST",headers:Le(e),body:JSON.stringify(s)});return Fe(a)},async updateAreaInHub(e,r,s,a){const n=await fetch(Me(`/api/admin/hubs/${r}/areas/${s}`),{method:"PUT",headers:Le(e),body:JSON.stringify(a)});return Fe(n)},async deleteAreaFromHub(e,r,s){const a=await fetch(Me(`/api/admin/hubs/${r}/areas/${s}`),{method:"DELETE",headers:Le(e)});return Fe(a)},async fetchHubsByPinCode(e,r){const s=await fetch(Me(`/api/admin/hubs/pin-code/${r}`),{headers:Le(e)});return Fe(s)},async fetchFees(e){const r=await fetch(Me("/api/admin/fees"),{headers:Le(e)});return Fe(r)},async updateFees(e,r){const s=await fetch(Me("/api/admin/fees"),{method:"PUT",headers:Le(e),body:JSON.stringify(r)});return Fe(s)},async fetchCategories(e){const r=await fetch(Me("/api/admin/service-categories"),{headers:Le(e)});return Fe(r)},async createCategory(e,r){const s=await fetch(Me("/api/admin/service-category"),{method:"POST",headers:Le(e),body:JSON.stringify(r)});return Fe(s)},async updateCategory(e,r,s){const a=await fetch(Me(`/api/admin/service-category/${r}`),{method:"PUT",headers:Le(e),body:JSON.stringify(s)});return Fe(a)},async deleteCategory(e,r){const s=await fetch(Me(`/api/admin/service-category/${r}`),{method:"DELETE",headers:Le(e)});return Fe(s)},async fetchPopularServices(e){const r=await fetch(Me("/api/admin/popular-services"),{headers:Le(e)});return Fe(r)},async createPopularService(e,r){const s=await fetch(Me("/api/admin/popular-services"),{method:"POST",headers:Le(e),body:JSON.stringify(r)});return Fe(s)},async updatePopularService(e,r,s){const a=await fetch(Me(`/api/admin/popular-services/${r}`),{method:"PUT",headers:Le(e),body:JSON.stringify(s)});return Fe(a)},async deletePopularService(e,r){const s=await fetch(Me(`/api/admin/popular-services/${r}`),{method:"DELETE",headers:Le(e)});return Fe(s)},async migratePopularServices(e){const r=await fetch(Me("/popular-services/migrate"),{method:"POST",headers:Le(e)});return Fe(r)},async updatePopularServicesOrder(e,r){const s=await fetch(Me("/api/admin/popular-services/order/update"),{method:"PUT",headers:Le(e),body:JSON.stringify({services:r})});return Fe(s)},async fetchAllCities(e){const r=await fetch(Me("/api/cities/all"),{headers:Le(e)});return Fe(r)},async fetchModuleData(e,r,s={}){const a=await fetch(Me(e),{...s,headers:{...Le(r),...s.headers||{}}});return Fe(a)},async fetchMaterialCategories(e){const r=await fetch(Me("/api/admin/material-categories"),{headers:Le(e)});return Fe(r)},async fetchMaterialCategory(e,r){const s=await fetch(Me(`/api/admin/material-categories/${r}`),{headers:Le(e)});return Fe(s)},async createMaterialCategory(e,r){const s=await fetch(Me("/api/admin/material-categories"),{method:"POST",headers:Le(e),body:JSON.stringify(r)});return Fe(s)},async updateMaterialCategory(e,r,s){const a=await fetch(Me(`/api/admin/material-categories/${r}`),{method:"PUT",headers:Le(e),body:JSON.stringify(s)});return Fe(a)},async deleteMaterialCategory(e,r){const s=await fetch(Me(`/api/admin/material-categories/${r}`),{method:"DELETE",headers:Le(e)});return Fe(s)},async updateMaterialCategoryOrder(e,r){const s=await fetch(Me("/api/admin/material-categories/order/update"),{method:"PUT",headers:Le(e),body:JSON.stringify({categories:r})});return Fe(s)},async fetchInventoryItems(e,r={}){const s=new URLSearchParams;r.category&&s.append("category",r.category),r.location&&s.append("location",r.location),r.status&&s.append("status",r.status),r.search&&s.append("search",r.search);const a=s.toString(),n=Me(`/api/admin/inventory/items${a?`?${a}`:""}`),i=await fetch(n,{headers:Le(e)});return Fe(i)},async fetchInventoryStats(e){const r=await fetch(Me("/api/admin/inventory/items/stats"),{headers:Le(e)});return Fe(r)},async fetchInventoryItem(e,r){const s=await fetch(Me(`/api/admin/inventory/items/${r}`),{headers:Le(e)});return Fe(s)},async createInventoryItem(e,r){const s=await fetch(Me("/api/admin/inventory/items"),{method:"POST",headers:Le(e),body:JSON.stringify(r)});return Fe(s)},async updateInventoryItem(e,r,s){const a=await fetch(Me(`/api/admin/inventory/items/${r}`),{method:"PUT",headers:Le(e),body:JSON.stringify(s)});return Fe(a)},async deleteInventoryItem(e,r){const s=await fetch(Me(`/api/admin/inventory/items/${r}`),{method:"DELETE",headers:Le(e)});return Fe(s)},async fetchInventoryItemHistory(e,r){const s=await fetch(Me(`/api/admin/inventory/items/${r}/history`),{headers:Le(e)});return Fe(s)},async fetchPurchaseOrders(e,r={}){const s=new URLSearchParams;r.status&&s.append("status",r.status),r.supplier&&s.append("supplier",r.supplier),r.search&&s.append("search",r.search);const a=s.toString(),n=Me(`/api/admin/inventory/purchase-orders${a?`?${a}`:""}`),i=await fetch(n,{headers:Le(e)});return Fe(i)},async fetchPurchaseOrder(e,r){const s=await fetch(Me(`/api/admin/inventory/purchase-orders/${r}`),{headers:Le(e)});return Fe(s)},async createPurchaseOrder(e,r){const s=await fetch(Me("/api/admin/inventory/purchase-orders"),{method:"POST",headers:Le(e),body:JSON.stringify(r)});return Fe(s)},async updatePurchaseOrder(e,r,s){const a=await fetch(Me(`/api/admin/inventory/purchase-orders/${r}`),{method:"PUT",headers:Le(e),body:JSON.stringify(s)});return Fe(a)},async deletePurchaseOrder(e,r){const s=await fetch(Me(`/api/admin/inventory/purchase-orders/${r}`),{method:"DELETE",headers:Le(e)});return Fe(s)},async fetchThresholds(e){const r=await fetch(Me("/api/admin/inventory/thresholds"),{headers:Le(e)});return Fe(r)},async fetchThreshold(e,r){const s=await fetch(Me(`/api/admin/inventory/thresholds/${r}`),{headers:Le(e)});return Fe(s)},async upsertThreshold(e,r){const s=await fetch(Me("/api/admin/inventory/thresholds"),{method:"POST",headers:Le(e),body:JSON.stringify(r)});return Fe(s)},async deleteThreshold(e,r){const s=await fetch(Me(`/api/admin/inventory/thresholds/${r}`),{method:"DELETE",headers:Le(e)});return Fe(s)},async updateFCMToken(e,r){const s=await fetch(Me("/api/firebase/token"),{method:"POST",headers:Le(e),body:JSON.stringify({fcmToken:r,isAdmin:!0})});return Fe(s)},async getNotifications(e){const r=await fetch(Me("/api/firebase"),{headers:Le(e)});return Fe(r)},async getAllQuotations(e,r={}){const s=new URLSearchParams(r).toString(),a=await fetch(Me(`/api/admin/quotations?${s}`),{headers:Le(e)});return Fe(a)},async getQuotationById(e,r){const s=await fetch(Me(`/api/admin/quotations/${r}`),{headers:Le(e)});return Fe(s)},async approveQuotation(e,r){const s=await fetch(Me(`/api/admin/quotations/${r}/approve`),{method:"PUT",headers:Le(e)});return Fe(s)},async rejectQuotation(e,r,s){const a=await fetch(Me(`/api/admin/quotations/${r}/reject`),{method:"PUT",headers:Le(e),body:JSON.stringify({rejectionReason:s})});return Fe(a)},async markNotificationsAsRead(e){const r=await fetch(Me("/api/firebase/mark-read"),{method:"PUT",headers:Le(e)});return Fe(r)},async markNotificationAsRead(e,r){const s=await fetch(Me(`/api/firebase/${r}/mark-read`),{method:"PUT",headers:Le(e)});return Fe(s)},async initializeWhatsApp(e){const r=await fetch(Me("/api/admin/whatsapp/initialize"),{method:"POST",headers:Le(e)});return Fe(r)},async getWhatsAppQRCode(e){const r=await fetch(Me("/api/admin/whatsapp/qr-code"),{method:"GET",headers:Le(e)});return Fe(r)},async getWhatsAppStatus(e){const r=await fetch(Me("/api/admin/whatsapp/status"),{method:"GET",headers:Le(e)});return Fe(r)},async disconnectWhatsApp(e){const r=await fetch(Me("/api/admin/whatsapp/disconnect"),{method:"POST",headers:Le(e)});return Fe(r)},async sendTestWhatsAppMessage(e,r,s){const a=await fetch(Me("/api/admin/whatsapp/test-message"),{method:"POST",headers:Le(e),body:JSON.stringify({phoneNumber:r,message:s})});return Fe(a)},async reconnectWhatsApp(e){const r=await fetch(Me("/api/admin/whatsapp/reconnect"),{method:"POST",headers:Le(e)});return Fe(r)},async setAutoReconnect(e,r){const s=await fetch(Me("/api/admin/whatsapp/auto-reconnect"),{method:"POST",headers:Le(e),body:JSON.stringify({enabled:r})});return Fe(s)},async manualPartnerRegistration(e,r){const s=await fetch(Me("/api/admin/partners/manual-register"),{method:"POST",headers:Le(e),body:JSON.stringify(r)});return Fe(s)},async fetchCustomers(e,r={}){const s=new URLSearchParams({page:r.page||1,limit:r.limit||10,...r.search&&{search:r.search},...r.status&&{status:r.status}}).toString(),a=await fetch(Me(`/api/admin/customers?${s}`),{headers:Le(e)});return await Fe(a)},async getCustomerBookingsPartnerWise(e,r={}){const s=new URLSearchParams({...r.dateRange&&{dateRange:r.dateRange},...r.status&&r.status!=="all"&&{status:r.status},...r.partnerType&&r.partnerType!=="all"&&{partnerType:r.partnerType}}).toString(),a=await fetch(Me(`/api/admin/customer-bookings/partner-wise?${s}`),{headers:Le(e)});return await Fe(a)}},KD=g.createContext(null),YD={isLoading:!0,isAuthenticated:!1,admin:null,token:null,error:null};function tse(e,r){var s,a,n;switch(r.type){case"INIT":return{...e,isLoading:!1,isAuthenticated:!!((s=r.payload)!=null&&s.token),admin:((a=r.payload)==null?void 0:a.admin)??null,token:((n=r.payload)==null?void 0:n.token)??null};case"LOGIN_START":return{...e,isLoading:!0,error:null};case"LOGIN_SUCCESS":return{...e,isLoading:!1,isAuthenticated:!0,admin:r.payload.admin,token:r.payload.token,error:null};case"LOGIN_ERROR":return{...e,isLoading:!1,isAuthenticated:!1,admin:null,token:null,error:r.payload};case"LOGOUT":return{...YD,isLoading:!1};default:return e}}const rse=({children:e})=>{const[r,s]=g.useReducer(tse,YD);g.useEffect(()=>{const i=localStorage.getItem("nexo_admin_auth");if(i)try{const l=JSON.parse(i);s({type:"INIT",payload:l})}catch(l){console.error("Failed to parse admin auth cache",l),localStorage.removeItem("nexo_admin_auth"),s({type:"INIT",payload:null})}else s({type:"INIT",payload:null})},[]);const a=f4(We,r.token,r.isAuthenticated),n=g.useMemo(()=>({...r,notifications:a,login:async(i,l)=>{var o,d;s({type:"LOGIN_START"});try{const c=await i(l),u={token:c.token,admin:c.admin};return localStorage.setItem("nexo_admin_auth",JSON.stringify(u)),s({type:"LOGIN_SUCCESS",payload:u}),u}catch(c){const u=(c==null?void 0:c.message)??((d=(o=c==null?void 0:c.response)==null?void 0:o.data)==null?void 0:d.message)??"Unable to login";throw s({type:"LOGIN_ERROR",payload:u}),new Error(u)}},logout:()=>{localStorage.removeItem("nexo_admin_auth"),pZ(),s({type:"LOGOUT"})},clearError:()=>s({type:"LOGIN_ERROR",payload:null})}),[r,a]);return t.jsx(KD.Provider,{value:n,children:e})},wr=()=>{const e=g.useContext(KD);if(!e)throw new Error("useAdminAuth must be used within AdminAuthProvider");return e},sse=()=>{const e=Zt(),r=$r(),{login:s,error:a,clearError:n}=wr(),[i,l]=g.useState({email:"",password:""}),[o,d]=g.useState(!1),[c,u]=g.useState(null),m=h=>{const{name:p,value:f}=h.target;l(b=>({...b,[p]:f})),u(null),a&&n()},x=async h=>{var f,b;h.preventDefault(),d(!0),u(null);let p=null;if("Notification"in window){const j=Notification.permission;if(j==="default"||j==="denied")try{p=Notification.requestPermission()}catch(w){console.error("Cannot request notification permission:",w)}}try{await s(We.login,i),p&&await p==="granted"&&setTimeout(()=>{window.dispatchEvent(new Event("notificationPermissionGranted"))},500);const j=((b=(f=r.state)==null?void 0:f.from)==null?void 0:b.pathname)??"/admin/dashboard";e(j,{replace:!0})}catch(j){u(j.message)}finally{d(!1)}};return t.jsxs("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center px-4 py-10",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/30 via-primary-dark/30 to-slate-950 opacity-70 pointer-events-none"}),t.jsxs(E.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative max-w-md w-full bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-8 shadow-2xl",children:[t.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary/20 text-primary flex items-center justify-center",children:t.jsx(Ja,{className:"text-3xl"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Nexo Admin Access"}),t.jsx("p",{className:"text-sm text-white/60 mt-2",children:"Secure sign-in for operations and leadership teams."})]})]}),t.jsxs("form",{className:"mt-8 space-y-5",onSubmit:x,children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white/80 mb-2",children:"Work Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(tn,{className:"absolute left-3 top-3.5 text-white/40"}),t.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"username",required:!0,value:i.email,onChange:m,className:"w-full bg-white/10 border border-white/10 text-white placeholder:text-white/40 rounded-xl py-3 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-primary focus:bg-white/15 transition",placeholder:"ops@nexo.in"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white/80 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Os,{className:"absolute left-3 top-3.5 text-white/40"}),t.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:i.password,onChange:m,className:"w-full bg-white/10 border border-white/10 text-white placeholder:text-white/40 rounded-xl py-3 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-primary focus:bg-white/15 transition",placeholder:""})]})]}),(a||c)&&t.jsx("p",{className:"text-sm text-rose-300 bg-rose-500/10 border border-rose-500/30 rounded-lg px-4 py-3",children:c||a}),t.jsxs(E.button,{whileTap:{scale:.98},type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl py-3 transition disabled:opacity-70 disabled:cursor-not-allowed",children:[o&&t.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),o?"Verifying access...":"Sign In"]})]}),t.jsx("div",{className:"mt-8 border-t border-white/10 pt-4 text-xs text-white/40 text-center leading-relaxed",children:"Nexo Admin Console is restricted to authorized personnel. All access is monitored and logged for compliance."})]})]})},NP=()=>{const{notifications:e}=wr(),[r,s]=g.useState(!1),a=g.useRef(null),n=(e==null?void 0:e.notifications)||[],i=(e==null?void 0:e.unreadCount)||0,l=e==null?void 0:e.markAsRead,o=e==null?void 0:e.fetchNotifications;g.useEffect(()=>{const m=x=>{a.current&&!a.current.contains(x.target)&&s(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]),g.useEffect(()=>{o&&o()},[o]);const d=async(m=null)=>{l&&(await l(m),o&&await o())},c=async()=>{l&&(await l(),o&&await o())},u=m=>{if(!m)return"";const x=new Date(m),p=new Date-x,f=Math.floor(p/6e4),b=Math.floor(p/36e5),j=Math.floor(p/864e5);return f<1?"Just now":f<60?`${f}m ago`:b<24?`${b}h ago`:j<7?`${j}d ago`:x.toLocaleDateString()};return t.jsxs("div",{className:"relative",ref:a,children:[t.jsxs("button",{onClick:()=>s(!r),className:"relative p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Notifications",children:[t.jsx(Cn,{className:"w-5 h-5"}),i>0&&t.jsx("span",{className:"absolute top-0 right-0 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs font-semibold text-white transition-opacity duration-200",children:i>9?"9+":i},i)]}),r&&t.jsxs("div",{className:"absolute right-0 mt-2 w-80 md:w-96 bg-white rounded-xl shadow-2xl border border-slate-200 z-50 max-h-[calc(100vh-120px)] sm:max-h-[600px] flex flex-col overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Notifications"}),t.jsxs("div",{className:"flex items-center gap-2",children:[i>0&&t.jsx("button",{onClick:c,className:"text-xs text-primary hover:text-primary-dark font-medium",children:"Mark all read"}),t.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(xt,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:"overflow-y-auto flex-1",children:n.length===0?t.jsxs("div",{className:"p-8 text-center text-slate-500",children:[t.jsx(Cn,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),t.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):t.jsx("div",{className:"divide-y divide-slate-100",children:n.map(m=>{var h;const x=!m.seen&&!m.read;return t.jsx("div",{className:`p-4 hover:bg-slate-50 transition-colors cursor-pointer ${x?"bg-blue-50/50":""}`,onClick:()=>{x&&d(m._id||m.id)},children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-slate-900 break-words line-clamp-2",children:m.title||((h=m.message)==null?void 0:h.split(": ")[0])||"New notification"}),m.message&&t.jsx("p",{className:"text-xs text-slate-600 mt-1 break-words line-clamp-2",children:m.title?m.message:m.message.split(": ").slice(1).join(": ")||m.message}),t.jsx("p",{className:"text-xs text-slate-400 mt-2",children:u(m.date||m.createdAt)})]}),x&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})})]})},m._id||m.id||Math.random())})})}),n.length>0&&t.jsx("div",{className:"p-3 border-t border-slate-200 bg-slate-50",children:t.jsx("button",{onClick:()=>{s(!1)},className:"w-full text-sm text-center text-primary hover:text-primary-dark font-medium",children:"View all notifications"})})]})]})},g4=({notification:e,onClose:r,onMarkAsRead:s})=>{var o;const[a,n]=g.useState(!1);if(g.useEffect(()=>{if(e){n(!0);const d=setTimeout(()=>{n(!1),setTimeout(()=>{r&&r()},300)},5e3);return()=>clearTimeout(d)}else n(!1)},[e,r]),!e)return null;const i=d=>{switch(d){case"success":return t.jsx(vt,{className:"w-6 h-6 text-emerald-500"});case"alert":return t.jsx(Jn,{className:"w-6 h-6 text-amber-500"});case"message":return t.jsx(Uf,{className:"w-6 h-6 text-blue-500"});case"job":return t.jsx(is,{className:"w-6 h-6 text-purple-500"});case"info":default:return t.jsx(eD,{className:"w-6 h-6 text-slate-500"})}},l=()=>{s&&e._id&&s(e._id),n(!1),setTimeout(()=>{r()},300)};return t.jsx(wl,{children:a&&t.jsx("div",{className:"fixed inset-0 z-[10000] flex items-start justify-end pointer-events-none overflow-hidden",style:{padding:"0.5rem"},children:t.jsx(E.div,{initial:{opacity:0,x:400,y:0},animate:{opacity:1,x:0,y:0},exit:{opacity:0,x:400},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white rounded-xl shadow-2xl border border-slate-200 p-4 sm:p-6 pointer-events-auto overflow-hidden flex flex-col",style:{maxWidth:"min(calc(100vw - 1rem), 28rem)",width:"calc(100vw - 1rem)",maxHeight:"calc(100vh - 1rem)",marginTop:"0.5rem",marginRight:"0.5rem"},children:t.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 flex-shrink-0 min-w-0",children:[t.jsx("div",{className:"flex-shrink-0 mt-0.5",children:i(e.type||"info")}),t.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[t.jsx("h3",{className:"text-sm sm:text-base font-semibold text-slate-900 break-words pr-2 flex-1 min-w-0",children:e.title||((o=e.message)==null?void 0:o.split(": ")[0])||"New Notification"}),t.jsx("button",{onClick:()=>{n(!1),setTimeout(()=>r(),300)},className:"flex-shrink-0 p-1 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Close",children:t.jsx(xt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-slate-400"})})]}),e.message&&t.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mb-3 break-words overflow-wrap-anywhere line-clamp-3",children:e.title?e.message:e.message.split(": ").slice(1).join(": ")||e.message}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 flex-shrink-0",children:[t.jsx("button",{onClick:l,className:"flex-1 px-3 sm:px-4 py-2 bg-primary text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-primary-dark transition-colors whitespace-nowrap",children:"Mark as Read"}),t.jsx("button",{onClick:()=>{n(!1),setTimeout(()=>r(),300)},className:"flex-1 px-3 sm:px-4 py-2 bg-slate-100 text-slate-700 rounded-lg text-xs sm:text-sm font-semibold hover:bg-slate-200 transition-colors whitespace-nowrap",children:"Dismiss"})]})]})]})})})})},sp=[{label:"Overview",icon:en,to:"/admin/dashboard"},{label:"Partner Control",icon:Lr,to:"/admin/partners"},{label:"Vendor Management",icon:rD,to:"/admin/vendors"},{label:"Customers",icon:Lr,to:"/admin/customers"},{label:"Customer Bookings",icon:sZ,to:"/admin/customer-bookings"},{label:"Category Management",icon:s4,to:"/admin/categories"},{label:"Popular Services",icon:Vo,to:"/admin/popular-services"},{label:"AMC Plans",icon:is,to:"/admin/amc-plans"},{label:"Featured Reviews",icon:Uf,to:"/admin/featured-reviews"},{label:"Hub Management",icon:Pr,to:"/admin/hubs"},{label:"City Management",icon:e4,to:"/admin/cities"},{label:"Spare Parts",icon:gs,to:"/admin/spares"},{label:"AMC Management",icon:is,to:"/admin/amc"},{label:"Lead Management",icon:or,to:"/admin/leads"},{label:"MG Plans",icon:gn,to:"/admin/mg-plans"},{label:"Fee Management",icon:Jt,to:"/admin/fees"},{label:"Fee Transactions",icon:xs,to:"/admin/fee-transactions"},{label:"Reports",icon:kl,to:"/admin/reports"},{label:"Notifications",icon:Cn,to:"/admin/notifications"},{label:"Refund Management",icon:Dt,to:"/admin/refunds"},{label:"WhatsApp Settings",icon:Uf,to:"/admin/whatsapp-settings"}],ase=()=>{var c,u;const{admin:e,logout:r,notifications:s}=wr(),a=Zt(),n=$r(),[i,l]=g.useState(!1),o=g.useMemo(()=>{const m=sp.find(x=>n.pathname.startsWith(x.to));return(m==null?void 0:m.label)??"Overview"},[n.pathname]),d=()=>{r(),a("/admin")};return t.jsxs("div",{className:"min-h-screen bg-slate-100 text-slate-900 flex flex-col",children:[t.jsx("header",{className:"lg:hidden bg-white shadow-md border-b border-slate-200 fixed top-0 left-0 right-0 z-[60] w-full",children:t.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>l(!i),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:i?t.jsx(xt,{className:"text-xl"}):t.jsx(zy,{className:"text-xl"})}),t.jsx("div",{children:t.jsx("h1",{className:"text-lg font-semibold tracking-tight",children:"Nexo Admin"})})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(NP,{}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center uppercase font-bold shadow-inner text-sm",children:(((c=e==null?void 0:e.name)==null?void 0:c[0])??"A").toUpperCase()})]})]})}),t.jsxs("div",{className:"flex relative flex-1 pt-[64px] lg:pt-0",children:[t.jsxs("aside",{className:"hidden lg:flex lg:w-72 xl:w-80 flex-col bg-slate-900 text-white fixed top-0 left-0 h-screen overflow-hidden z-40",children:[t.jsxs("div",{className:"px-6 py-6 border-b border-slate-800 flex-shrink-0 bg-slate-900 sticky top-0 z-10",children:[t.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Nexo Admin"}),t.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Operations Control Center"})]}),t.jsx("nav",{className:"flex-1 px-3 py-6 space-y-1 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent",children:sp.map(m=>{const x=m.icon;return t.jsxs(Mv,{to:m.to,className:({isActive:h})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 relative group ${h?"bg-white text-slate-900 shadow-lg shadow-white/20":"text-slate-200 hover:bg-slate-800/70"}`,children:[t.jsx(x,{className:"text-lg transition-transform duration-200 group-hover:scale-110"}),m.label]},m.to)})}),t.jsx("div",{className:"px-6 py-6 border-t border-slate-800 flex-shrink-0 bg-slate-900 sticky bottom-0 z-10",children:t.jsxs("button",{onClick:d,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold rounded-xl bg-slate-800 hover:bg-slate-700 transition",type:"button",children:[t.jsx(Ho,{})," Logout"]})})]}),i&&t.jsx("div",{className:"lg:hidden fixed inset-0 z-[70] bg-black/50 backdrop-blur-sm transition-opacity",onClick:()=>l(!1),children:t.jsxs("div",{className:"w-80 max-w-[85vw] bg-slate-900 text-white h-full shadow-2xl overflow-y-auto flex flex-col",onClick:m=>m.stopPropagation(),children:[t.jsx("div",{className:"px-6 py-6 border-b border-slate-800 flex-shrink-0 sticky top-0 bg-slate-900 z-10",children:t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-semibold tracking-tight",children:"Nexo Admin"}),t.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Operations Control Center"})]}),t.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition text-white",type:"button",children:t.jsx(xt,{className:"text-xl"})})]})}),t.jsx("nav",{className:"flex-1 px-3 py-6 space-y-1 overflow-y-auto",children:sp.map(m=>{const x=m.icon;return t.jsxs(Mv,{to:m.to,onClick:()=>l(!1),className:({isActive:h})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition ${h?"bg-white text-slate-900 shadow-lg":"text-slate-200 hover:bg-slate-800/70"}`,children:[t.jsx(x,{className:"text-lg"}),m.label]},m.to)})}),t.jsx("div",{className:"px-6 py-6 border-t border-slate-800 flex-shrink-0 sticky bottom-0 bg-slate-900 z-10",children:t.jsxs("button",{onClick:d,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold rounded-xl bg-slate-800 hover:bg-slate-700 transition text-white",type:"button",children:[t.jsx(Ho,{})," Logout"]})})]})}),t.jsxs("div",{className:"flex-1 min-w-0 w-full lg:ml-72 xl:ml-80",children:[t.jsx("header",{className:"hidden lg:block bg-white shadow-sm border-b border-slate-200 sticky top-0 z-30",children:t.jsxs("div",{className:"px-5 sm:px-8 py-5 flex items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:["Admin / ",o]}),t.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Admin Dashboard"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(NP,{}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-700",children:(e==null?void 0:e.name)??"Admin"}),t.jsx("p",{className:"text-xs text-slate-400",children:(e==null?void 0:e.role)??"Super Admin"})]}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center uppercase font-bold shadow-inner",children:(((u=e==null?void 0:e.name)==null?void 0:u[0])??"A").toUpperCase()})]})]})}),t.jsx("nav",{className:"lg:hidden bg-white border-b border-slate-200 sticky top-[64px] z-[55]",children:t.jsx("div",{className:"px-4 py-3 flex items-center gap-2 overflow-x-auto scrollbar-hide",children:sp.map(m=>{const x=m.icon;return t.jsxs(Mv,{to:m.to,className:({isActive:h})=>`flex items-center gap-2 px-4 py-2 rounded-full text-xs font-semibold whitespace-nowrap transition ${h?"bg-primary text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[t.jsx(x,{className:"text-sm"}),m.label]},m.to)})})}),t.jsx("main",{className:"px-4 sm:px-6 lg:px-8 py-6 min-h-screen",children:t.jsx(Ql,{})})]})]}),t.jsx(g4,{notification:s==null?void 0:s.currentNotification,onClose:(s==null?void 0:s.closeNotificationDialog)||(()=>{}),onMarkAsRead:(s==null?void 0:s.markNotificationAsRead)||(()=>{})})]})},nse=()=>{const{isAuthenticated:e,isLoading:r}=wr(),s=$r();return r?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-900 text-white",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),t.jsx("p",{className:"text-sm font-medium tracking-wide text-white/80",children:"Loading control center..."})]})}):e?t.jsx(Ql,{}):t.jsx(Cd,{to:"/admin",state:{from:s},replace:!0})},ys=({title:e,subtitle:r,actions:s})=>t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-4 mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:e}),r&&t.jsx("p",{className:"text-sm text-slate-500 mt-2 max-w-2xl",children:r})]}),s&&t.jsx("div",{className:"flex flex-wrap gap-3",children:s})]}),Zn=({label:e,value:r,trend:s,intent:a="positive",description:n,icon:i,color:l="bg-primary",gradient:o})=>{const d=a==="negative"?"text-rose-500 bg-rose-500/10 border-rose-500/20":a==="warning"?"text-amber-500 bg-amber-500/10 border-amber-500/20":"text-emerald-500 bg-emerald-500/10 border-emerald-500/20",c=o?`bg-gradient-to-br ${o}`:`${l} bg-opacity-10`;return t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-md hover:shadow-lg transition-all duration-300 px-5 py-6 flex flex-col gap-4 relative overflow-hidden group",children:[t.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 ${c} rounded-full -mr-12 -mt-12 opacity-10 group-hover:opacity-20 transition-opacity`}),t.jsxs("div",{className:"flex items-start justify-between gap-3 relative z-10",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 mb-1",children:e}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1 mb-2",children:typeof r=="number"?r.toLocaleString("en-IN"):r}),s&&t.jsx("div",{className:"flex items-center gap-2 mt-2",children:t.jsx("span",{className:`text-xs font-semibold px-3 py-1.5 rounded-lg border ${d} inline-flex items-center gap-1`,children:s})}),n&&t.jsx("p",{className:"text-xs text-slate-500 mt-2 leading-relaxed",children:n})]}),i&&t.jsx("div",{className:`w-14 h-14 rounded-xl ${c} flex items-center justify-center flex-shrink-0 shadow-sm group-hover:scale-110 transition-transform duration-300`,children:t.jsx(i,{className:`text-xl ${o?"text-white":"text-primary"}`})})]}),t.jsx("div",{className:"relative z-10 mt-2",children:t.jsx("div",{className:"h-0.5 bg-slate-100 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full ${o?`bg-gradient-to-r ${o}`:l} rounded-full transition-all duration-500`,style:{width:"100%"}})})})]})};function XD(e){var r,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(r=0;r<n;r++)e[r]&&(s=XD(e[r]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function nr(){for(var e,r,s=0,a="",n=arguments.length;s<n;s++)(e=arguments[s])&&(r=XD(e))&&(a&&(a+=" "),a+=r);return a}var ise=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function y4(e){if(typeof e!="string")return!1;var r=ise;return r.includes(e)}var lse=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function JD(e){if(typeof e!="string")return!1;var r=lse;return r.includes(e)}function QD(e){return typeof e=="string"&&e.startsWith("data-")}function Fa(e){var r=Object.entries(e).filter(s=>{var[a]=s;return JD(a)||QD(a)});return Object.fromEntries(r)}function md(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var r=e.props;return Fa(r)}return typeof e=="object"&&!Array.isArray(e)?Fa(e):null}function Sa(e){var r=Object.entries(e).filter(s=>{var[a]=s;return JD(a)||QD(a)||y4(a)});return Object.fromEntries(r)}function ose(e){return e==null?null:g.isValidElement(e)?Sa(e.props):typeof e=="object"&&!Array.isArray(e)?Sa(e):null}var cse=["children","width","height","viewBox","className","style","title","desc"];function Sj(){return Sj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Sj.apply(null,arguments)}function dse(e,r){if(e==null)return{};var s,a,n=use(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function use(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var b4=g.forwardRef((e,r)=>{var{children:s,width:a,height:n,viewBox:i,className:l,style:o,title:d,desc:c}=e,u=dse(e,cse),m=i||{width:a,height:n,x:0,y:0},x=nr("recharts-surface",l);return g.createElement("svg",Sj({},Sa(u),{className:x,width:a,height:n,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:r}),g.createElement("title",null,d),g.createElement("desc",null,c),s)}),mse=["children","className"];function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},kj.apply(null,arguments)}function hse(e,r){if(e==null)return{};var s,a,n=xse(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function xse(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var os=g.forwardRef((e,r)=>{var{children:s,className:a}=e,n=hse(e,mse),i=nr("recharts-layer",a);return g.createElement("g",kj({className:i},Sa(n),{ref:r}),s)}),ZD=g.createContext(null),pse=()=>g.useContext(ZD);function kr(e){return function(){return e}}const e9=Math.cos,Yf=Math.sin,Di=Math.sqrt,Xf=Math.PI,Wy=2*Xf,Cj=Math.PI,Pj=2*Cj,Cc=1e-6,fse=Pj-Cc;function t9(e){this._+=e[0];for(let r=1,s=e.length;r<s;++r)this._+=arguments[r]+e[r]}function gse(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return t9;const s=10**r;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*s)/s+a[n]}}class yse{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?t9:gse(r)}moveTo(r,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,s){this._append`L${this._x1=+r},${this._y1=+s}`}quadraticCurveTo(r,s,a,n){this._append`Q${+r},${+s},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(r,s,a,n,i,l){this._append`C${+r},${+s},${+a},${+n},${this._x1=+i},${this._y1=+l}`}arcTo(r,s,a,n,i){if(r=+r,s=+s,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,d=a-r,c=n-s,u=l-r,m=o-s,x=u*u+m*m;if(this._x1===null)this._append`M${this._x1=r},${this._y1=s}`;else if(x>Cc)if(!(Math.abs(m*d-c*u)>Cc)||!i)this._append`L${this._x1=r},${this._y1=s}`;else{let h=a-l,p=n-o,f=d*d+c*c,b=h*h+p*p,j=Math.sqrt(f),w=Math.sqrt(x),y=i*Math.tan((Cj-Math.acos((f+x-b)/(2*j*w)))/2),v=y/w,N=y/j;Math.abs(v-1)>Cc&&this._append`L${r+v*u},${s+v*m}`,this._append`A${i},${i},0,0,${+(m*h>u*p)},${this._x1=r+N*d},${this._y1=s+N*c}`}}arc(r,s,a,n,i,l){if(r=+r,s=+s,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let o=a*Math.cos(n),d=a*Math.sin(n),c=r+o,u=s+d,m=1^l,x=l?n-i:i-n;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Cc||Math.abs(this._y1-u)>Cc)&&this._append`L${c},${u}`,a&&(x<0&&(x=x%Pj+Pj),x>fse?this._append`A${a},${a},0,1,${m},${r-o},${s-d}A${a},${a},0,1,${m},${this._x1=c},${this._y1=u}`:x>Cc&&this._append`A${a},${a},0,${+(x>=Cj)},${m},${this._x1=r+a*Math.cos(i)},${this._y1=s+a*Math.sin(i)}`)}rect(r,s,a,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function v4(e){let r=3;return e.digits=function(s){if(!arguments.length)return r;if(s==null)r=null;else{const a=Math.floor(s);if(!(a>=0))throw new RangeError(`invalid digits: ${s}`);r=a}return e},()=>new yse(r)}function j4(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function r9(e){this._context=e}r9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function Gy(e){return new r9(e)}function s9(e){return e[0]}function a9(e){return e[1]}function n9(e,r){var s=kr(!0),a=null,n=Gy,i=null,l=v4(o);e=typeof e=="function"?e:e===void 0?s9:kr(e),r=typeof r=="function"?r:r===void 0?a9:kr(r);function o(d){var c,u=(d=j4(d)).length,m,x=!1,h;for(a==null&&(i=n(h=l())),c=0;c<=u;++c)!(c<u&&s(m=d[c],c,d))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(m,c,d),+r(m,c,d));if(h)return i=null,h+""||null}return o.x=function(d){return arguments.length?(e=typeof d=="function"?d:kr(+d),o):e},o.y=function(d){return arguments.length?(r=typeof d=="function"?d:kr(+d),o):r},o.defined=function(d){return arguments.length?(s=typeof d=="function"?d:kr(!!d),o):s},o.curve=function(d){return arguments.length?(n=d,a!=null&&(i=n(a)),o):n},o.context=function(d){return arguments.length?(d==null?a=i=null:i=n(a=d),o):a},o}function ap(e,r,s){var a=null,n=kr(!0),i=null,l=Gy,o=null,d=v4(c);e=typeof e=="function"?e:e===void 0?s9:kr(+e),r=typeof r=="function"?r:kr(r===void 0?0:+r),s=typeof s=="function"?s:s===void 0?a9:kr(+s);function c(m){var x,h,p,f=(m=j4(m)).length,b,j=!1,w,y=new Array(f),v=new Array(f);for(i==null&&(o=l(w=d())),x=0;x<=f;++x){if(!(x<f&&n(b=m[x],x,m))===j)if(j=!j)h=x,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=x-1;p>=h;--p)o.point(y[p],v[p]);o.lineEnd(),o.areaEnd()}j&&(y[x]=+e(b,x,m),v[x]=+r(b,x,m),o.point(a?+a(b,x,m):y[x],s?+s(b,x,m):v[x]))}if(w)return o=null,w+""||null}function u(){return n9().defined(n).curve(l).context(i)}return c.x=function(m){return arguments.length?(e=typeof m=="function"?m:kr(+m),a=null,c):e},c.x0=function(m){return arguments.length?(e=typeof m=="function"?m:kr(+m),c):e},c.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:kr(+m),c):a},c.y=function(m){return arguments.length?(r=typeof m=="function"?m:kr(+m),s=null,c):r},c.y0=function(m){return arguments.length?(r=typeof m=="function"?m:kr(+m),c):r},c.y1=function(m){return arguments.length?(s=m==null?null:typeof m=="function"?m:kr(+m),c):s},c.lineX0=c.lineY0=function(){return u().x(e).y(r)},c.lineY1=function(){return u().x(e).y(s)},c.lineX1=function(){return u().x(a).y(r)},c.defined=function(m){return arguments.length?(n=typeof m=="function"?m:kr(!!m),c):n},c.curve=function(m){return arguments.length?(l=m,i!=null&&(o=l(i)),c):l},c.context=function(m){return arguments.length?(m==null?i=o=null:o=l(i=m),c):i},c}class i9{constructor(r,s){this._context=r,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,s){switch(r=+r,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,s,r,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,r,this._y0,r,s);break}}this._x0=r,this._y0=s}}function bse(e){return new i9(e,!0)}function vse(e){return new i9(e,!1)}const w4={draw(e,r){const s=Di(r/Xf);e.moveTo(s,0),e.arc(0,0,s,0,Wy)}},jse={draw(e,r){const s=Di(r/5)/2;e.moveTo(-3*s,-s),e.lineTo(-s,-s),e.lineTo(-s,-3*s),e.lineTo(s,-3*s),e.lineTo(s,-s),e.lineTo(3*s,-s),e.lineTo(3*s,s),e.lineTo(s,s),e.lineTo(s,3*s),e.lineTo(-s,3*s),e.lineTo(-s,s),e.lineTo(-3*s,s),e.closePath()}},l9=Di(1/3),wse=l9*2,Nse={draw(e,r){const s=Di(r/wse),a=s*l9;e.moveTo(0,-s),e.lineTo(a,0),e.lineTo(0,s),e.lineTo(-a,0),e.closePath()}},Sse={draw(e,r){const s=Di(r),a=-s/2;e.rect(a,a,s,s)}},kse=.8908130915292852,o9=Yf(Xf/10)/Yf(7*Xf/10),Cse=Yf(Wy/10)*o9,Pse=-e9(Wy/10)*o9,Ase={draw(e,r){const s=Di(r*kse),a=Cse*s,n=Pse*s;e.moveTo(0,-s),e.lineTo(a,n);for(let i=1;i<5;++i){const l=Wy*i/5,o=e9(l),d=Yf(l);e.lineTo(d*s,-o*s),e.lineTo(o*a-d*n,d*a+o*n)}e.closePath()}},x1=Di(3),Tse={draw(e,r){const s=-Di(r/(x1*3));e.moveTo(0,s*2),e.lineTo(-x1*s,-s),e.lineTo(x1*s,-s),e.closePath()}},Bn=-.5,$n=Di(3)/2,Aj=1/Di(12),Ese=(Aj/2+1)*3,Ise={draw(e,r){const s=Di(r/Ese),a=s/2,n=s*Aj,i=a,l=s*Aj+s,o=-i,d=l;e.moveTo(a,n),e.lineTo(i,l),e.lineTo(o,d),e.lineTo(Bn*a-$n*n,$n*a+Bn*n),e.lineTo(Bn*i-$n*l,$n*i+Bn*l),e.lineTo(Bn*o-$n*d,$n*o+Bn*d),e.lineTo(Bn*a+$n*n,Bn*n-$n*a),e.lineTo(Bn*i+$n*l,Bn*l-$n*i),e.lineTo(Bn*o+$n*d,Bn*d-$n*o),e.closePath()}};function _se(e,r){let s=null,a=v4(n);e=typeof e=="function"?e:kr(e||w4),r=typeof r=="function"?r:kr(r===void 0?64:+r);function n(){let i;if(s||(s=i=a()),e.apply(this,arguments).draw(s,+r.apply(this,arguments)),i)return s=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:kr(i),n):e},n.size=function(i){return arguments.length?(r=typeof i=="function"?i:kr(+i),n):r},n.context=function(i){return arguments.length?(s=i??null,n):s},n}function Jf(){}function Qf(e,r,s){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+s)/6)}function c9(e){this._context=e}c9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qf(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function Ose(e){return new c9(e)}function d9(e){this._context=e}d9.prototype={areaStart:Jf,areaEnd:Jf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:Qf(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function Dse(e){return new d9(e)}function u9(e){this._context=e}u9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(s,a):this._context.moveTo(s,a);break;case 3:this._point=4;default:Qf(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function Mse(e){return new u9(e)}function m9(e){this._context=e}m9.prototype={areaStart:Jf,areaEnd:Jf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function Lse(e){return new m9(e)}function SP(e){return e<0?-1:1}function kP(e,r,s){var a=e._x1-e._x0,n=r-e._x1,i=(e._y1-e._y0)/(a||n<0&&-0),l=(s-e._y1)/(n||a<0&&-0),o=(i*n+l*a)/(a+n);return(SP(i)+SP(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function CP(e,r){var s=e._x1-e._x0;return s?(3*(e._y1-e._y0)/s-r)/2:r}function p1(e,r,s){var a=e._x0,n=e._y0,i=e._x1,l=e._y1,o=(i-a)/3;e._context.bezierCurveTo(a+o,n+o*r,i-o,l-o*s,i,l)}function Zf(e){this._context=e}Zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:p1(this,this._t0,CP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var s=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,p1(this,CP(this,s=kP(this,e,r)),s);break;default:p1(this,this._t0,s=kP(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=s}}};function h9(e){this._context=new x9(e)}(h9.prototype=Object.create(Zf.prototype)).point=function(e,r){Zf.prototype.point.call(this,r,e)};function x9(e){this._context=e}x9.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,s,a,n,i){this._context.bezierCurveTo(r,e,a,s,i,n)}};function Fse(e){return new Zf(e)}function Rse(e){return new h9(e)}function p9(e){this._context=e}p9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,s=e.length;if(s)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),s===2)this._context.lineTo(e[1],r[1]);else for(var a=PP(e),n=PP(r),i=0,l=1;l<s;++i,++l)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],e[l],r[l]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function PP(e){var r,s=e.length-1,a,n=new Array(s),i=new Array(s),l=new Array(s);for(n[0]=0,i[0]=2,l[0]=e[0]+2*e[1],r=1;r<s-1;++r)n[r]=1,i[r]=4,l[r]=4*e[r]+2*e[r+1];for(n[s-1]=2,i[s-1]=7,l[s-1]=8*e[s-1]+e[s],r=1;r<s;++r)a=n[r]/i[r-1],i[r]-=a,l[r]-=a*l[r-1];for(n[s-1]=l[s-1]/i[s-1],r=s-2;r>=0;--r)n[r]=(l[r]-n[r+1])/i[r];for(i[s-1]=(e[s]+n[s-1])/2,r=0;r<s-1;++r)i[r]=2*e[r+1]-n[r+1];return[n,i]}function Bse(e){return new p9(e)}function qy(e,r){this._context=e,this._t=r}qy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var s=this._x*(1-this._t)+e*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,r)}break}}this._x=e,this._y=r}};function $se(e){return new qy(e,.5)}function zse(e){return new qy(e,0)}function Use(e){return new qy(e,1)}function sm(e,r){if((l=e.length)>1)for(var s=1,a,n,i=e[r[0]],l,o=i.length;s<l;++s)for(n=i,i=e[r[s]],a=0;a<o;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function Tj(e){for(var r=e.length,s=new Array(r);--r>=0;)s[r]=r;return s}function Hse(e,r){return e[r]}function Vse(e){const r=[];return r.key=e,r}function Wse(){var e=kr([]),r=Tj,s=sm,a=Hse;function n(i){var l=Array.from(e.apply(this,arguments),Vse),o,d=l.length,c=-1,u;for(const m of i)for(o=0,++c;o<d;++o)(l[o][c]=[0,+a(m,l[o].key,c,i)]).data=m;for(o=0,u=j4(r(l));o<d;++o)l[u[o]].index=o;return s(l,u),l}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:kr(Array.from(i)),n):e},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:kr(+i),n):a},n.order=function(i){return arguments.length?(r=i==null?Tj:typeof i=="function"?i:kr(Array.from(i)),n):r},n.offset=function(i){return arguments.length?(s=i??sm,n):s},n}function Gse(e,r){if((a=e.length)>0){for(var s,a,n=0,i=e[0].length,l;n<i;++n){for(l=s=0;s<a;++s)l+=e[s][n][1]||0;if(l)for(s=0;s<a;++s)e[s][n][1]/=l}sm(e,r)}}function qse(e,r){if((n=e.length)>0){for(var s=0,a=e[r[0]],n,i=a.length;s<i;++s){for(var l=0,o=0;l<n;++l)o+=e[l][s][1]||0;a[s][1]+=a[s][0]=-o/2}sm(e,r)}}function Kse(e,r){if(!(!((l=e.length)>0)||!((i=(n=e[r[0]]).length)>0))){for(var s=0,a=1,n,i,l;a<i;++a){for(var o=0,d=0,c=0;o<l;++o){for(var u=e[r[o]],m=u[a][1]||0,x=u[a-1][1]||0,h=(m-x)/2,p=0;p<o;++p){var f=e[r[p]],b=f[a][1]||0,j=f[a-1][1]||0;h+=b-j}d+=m,c+=h*m}n[a-1][1]+=n[a-1][0]=s,d&&(s-=c/d)}n[a-1][1]+=n[a-1][0]=s,sm(e,r)}}var Ky={},f9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==="__proto__"}e.isUnsafeProperty=r})(f9);var N4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){switch(typeof s){case"number":case"symbol":return!1;case"string":return s.includes(".")||s.includes("[")||s.includes("]")}}e.isDeepKey=r})(N4);var Yy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){var a;return typeof s=="string"||typeof s=="symbol"?s:Object.is((a=s==null?void 0:s.valueOf)==null?void 0:a.call(s),-0)?"-0":String(s)}e.toKey=r})(Yy);var Xy={},g9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){if(s==null)return"";if(typeof s=="string")return s;if(Array.isArray(s))return s.map(r).join(",");const a=String(s);return a==="0"&&Object.is(Number(s),-0)?"-0":a}e.toString=r})(g9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=g9,s=Yy;function a(n){if(Array.isArray(n))return n.map(s.toKey);if(typeof n=="symbol")return[n];n=r.toString(n);const i=[],l=n.length;if(l===0)return i;let o=0,d="",c="",u=!1;for(n.charCodeAt(0)===46&&(i.push(""),o++);o<l;){const m=n[o];c?m==="\\"&&o+1<l?(o++,d+=n[o]):m===c?c="":d+=m:u?m==='"'||m==="'"?c=m:m==="]"?(u=!1,i.push(d),d=""):d+=m:m==="["?(u=!0,d&&(i.push(d),d="")):m==="."?d&&(i.push(d),d=""):d+=m,o++}return d&&i.push(d),i}e.toPath=a})(Xy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=f9,s=N4,a=Yy,n=Xy;function i(o,d,c){if(o==null)return c;switch(typeof d){case"string":{if(r.isUnsafeProperty(d))return c;const u=o[d];return u===void 0?s.isDeepKey(d)?i(o,n.toPath(d),c):c:u}case"number":case"symbol":{typeof d=="number"&&(d=a.toKey(d));const u=o[d];return u===void 0?c:u}default:{if(Array.isArray(d))return l(o,d,c);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),r.isUnsafeProperty(d))return c;const u=o[d];return u===void 0?c:u}}}function l(o,d,c){if(d.length===0)return c;let u=o;for(let m=0;m<d.length;m++){if(u==null||r.isUnsafeProperty(d[m]))return c;u=u[d[m]]}return u===void 0?c:u}e.get=i})(Ky);var Yse=Ky.get;const hd=di(Yse);var Ws=e=>e===0?0:e>0?1:-1,li=e=>typeof e=="number"&&e!=+e,zl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,bt=e=>(typeof e=="number"||e instanceof Number)&&!li(e),tl=e=>bt(e)||typeof e=="string",Xse=0,h0=e=>{var r=++Xse;return"".concat(e||"").concat(r)},ba=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!bt(r)&&typeof r!="string")return a;var i;if(zl(r)){if(s==null)return a;var l=r.indexOf("%");i=s*parseFloat(r.slice(0,l))/100}else i=+r;return li(i)&&(i=a),n&&s!=null&&i>s&&(i=s),i},y9=e=>{if(!Array.isArray(e))return!1;for(var r=e.length,s={},a=0;a<r;a++)if(!s[e[a]])s[e[a]]=!0;else return!0;return!1};function ur(e,r,s){return bt(e)&&bt(r)?e+s*(r-e):r}function b9(e,r,s){if(!(!e||!e.length))return e.find(a=>a&&(typeof r=="function"?r(a):hd(a,r))===s)}var Fr=e=>e===null||typeof e>"u",ex=e=>Fr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Jse(e){return e!=null}function _d(){}var Qse=["type","size","sizeType"];function Ej(){return Ej=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ej.apply(null,arguments)}function AP(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function TP(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?AP(Object(s),!0).forEach(function(a){Zse(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):AP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Zse(e,r,s){return(r=eae(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function eae(e){var r=tae(e,"string");return typeof r=="symbol"?r:r+""}function tae(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function rae(e,r){if(e==null)return{};var s,a,n=sae(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function sae(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var v9={symbolCircle:w4,symbolCross:jse,symbolDiamond:Nse,symbolSquare:Sse,symbolStar:Ase,symbolTriangle:Tse,symbolWye:Ise},aae=Math.PI/180,nae=e=>{var r="symbol".concat(ex(e));return v9[r]||w4},iae=(e,r,s)=>{if(r==="area")return e;switch(s){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*aae;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},lae=(e,r)=>{v9["symbol".concat(ex(e))]=r},S4=e=>{var{type:r="circle",size:s=64,sizeType:a="area"}=e,n=rae(e,Qse),i=TP(TP({},n),{},{type:r,size:s,sizeType:a}),l="circle";typeof r=="string"&&(l=r);var o=()=>{var x=nae(l),h=_se().type(x).size(iae(s,a,l)),p=h();if(p!==null)return p},{className:d,cx:c,cy:u}=i,m=Sa(i);return bt(c)&&bt(u)&&bt(s)?g.createElement("path",Ej({},m,{className:nr("recharts-symbols",d),transform:"translate(".concat(c,", ").concat(u,")"),d:o()})):null};S4.registerSymbol=lae;var j9=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,k4=(e,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(g.isValidElement(e)&&(s=e.props),typeof s!="object"&&typeof s!="function")return null;var a={};return Object.keys(s).forEach(n=>{y4(n)&&(a[n]=i=>s[n](s,i))}),a},oae=(e,r,s)=>a=>(e(r,s,a),null),tx=(e,r,s)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(n=>{var i=e[n];y4(n)&&typeof i=="function"&&(a||(a={}),a[n]=oae(i,r,s))}),a};function EP(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function cae(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?EP(Object(s),!0).forEach(function(a){dae(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):EP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function dae(e,r,s){return(r=uae(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function uae(e){var r=mae(e,"string");return typeof r=="symbol"?r:r+""}function mae(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function cs(e,r){var s=cae({},e),a=r,n=Object.keys(r),i=n.reduce((l,o)=>(l[o]===void 0&&a[o]!==void 0&&(l[o]=a[o]),l),s);return i}function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},eg.apply(null,arguments)}function IP(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function hae(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?IP(Object(s),!0).forEach(function(a){xae(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):IP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function xae(e,r,s){return(r=pae(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function pae(e){var r=fae(e,"string");return typeof r=="symbol"?r:r+""}function fae(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Vn=32,gae={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function yae(e){var{data:r,iconType:s,inactiveColor:a}=e,n=Vn/2,i=Vn/6,l=Vn/3,o=r.inactive?a:r.color,d=s??r.type;if(d==="none")return null;if(d==="plainline"){var c;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=r.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:n,x2:Vn,y2:n,className:"recharts-legend-icon"})}if(d==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(n,`
            H`).concat(Vn,"M").concat(2*l,",").concat(n,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(n),className:"recharts-legend-icon"});if(d==="rect")return g.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Vn/8,"h").concat(Vn,"v").concat(Vn*3/4,"h").concat(-Vn,"z"),className:"recharts-legend-icon"});if(g.isValidElement(r.legendIcon)){var u=hae({},r);return delete u.legendIcon,g.cloneElement(r.legendIcon,u)}return g.createElement(S4,{fill:o,cx:n,cy:n,size:Vn,sizeType:"diameter",type:d})}function bae(e){var{payload:r,iconSize:s,layout:a,formatter:n,inactiveColor:i,iconType:l}=e,o={x:0,y:0,width:Vn,height:Vn},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((u,m)=>{var x=u.formatter||n,h=nr({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:u.inactive});if(u.type==="none")return null;var p=u.inactive?i:u.color,f=x?x(u.value,u,m):u.value;return g.createElement("li",eg({className:h,style:d,key:"legend-item-".concat(m)},tx(e,u,m)),g.createElement(b4,{width:s,height:s,viewBox:o,style:c,"aria-label":"".concat(f," legend icon")},g.createElement(yae,{data:u,iconType:l,inactiveColor:i})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},f))})}var vae=e=>{var r=cs(e,gae),{payload:s,layout:a,align:n}=r;if(!s||!s.length)return null;var i={padding:0,margin:0,textAlign:a==="horizontal"?n:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:i},g.createElement(bae,eg({},r,{payload:s})))},w9={},N9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a){const n=new Map;for(let i=0;i<s.length;i++){const l=s[i],o=a(l);n.has(o)||n.set(o,l)}return Array.from(n.values())}e.uniqBy=r})(N9);var C4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s}e.identity=r})(C4);var S9={},Jy={},k9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Number.isSafeInteger(s)&&s>=0}e.isLength=r})(k9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=k9;function s(a){return a!=null&&typeof a!="function"&&r.isLength(a.length)}e.isArrayLike=s})(Jy);var C9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="object"&&s!==null}e.isObjectLike=r})(C9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Jy,s=C9;function a(n){return s.isObjectLike(n)&&r.isArrayLike(n)}e.isArrayLikeObject=a})(S9);var P9={},A9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Ky;function s(a){return function(n){return r.get(n,a)}}e.property=s})(A9);var T9={},P4={},E9={},A4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s!==null&&(typeof s=="object"||typeof s=="function")}e.isObject=r})(A4);var T4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==null||typeof s!="object"&&typeof s!="function"}e.isPrimitive=r})(T4);var E4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a){return s===a||Number.isNaN(s)&&Number.isNaN(a)}e.eq=r})(E4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=A4,s=T4,a=E4;function n(u,m,x){return typeof x!="function"?n(u,m,()=>{}):i(u,m,function h(p,f,b,j,w,y){const v=x(p,f,b,j,w,y);return v!==void 0?!!v:i(p,f,h,y)},new Map)}function i(u,m,x,h){if(m===u)return!0;switch(typeof m){case"object":return l(u,m,x,h);case"function":return Object.keys(m).length>0?i(u,{...m},x,h):a.eq(u,m);default:return r.isObject(u)?typeof m=="string"?m==="":!0:a.eq(u,m)}}function l(u,m,x,h){if(m==null)return!0;if(Array.isArray(m))return d(u,m,x,h);if(m instanceof Map)return o(u,m,x,h);if(m instanceof Set)return c(u,m,x,h);const p=Object.keys(m);if(u==null)return p.length===0;if(p.length===0)return!0;if(h!=null&&h.has(m))return h.get(m)===u;h==null||h.set(m,u);try{for(let f=0;f<p.length;f++){const b=p[f];if(!s.isPrimitive(u)&&!(b in u)||m[b]===void 0&&u[b]!==void 0||m[b]===null&&u[b]!==null||!x(u[b],m[b],b,u,m,h))return!1}return!0}finally{h==null||h.delete(m)}}function o(u,m,x,h){if(m.size===0)return!0;if(!(u instanceof Map))return!1;for(const[p,f]of m.entries()){const b=u.get(p);if(x(b,f,p,u,m,h)===!1)return!1}return!0}function d(u,m,x,h){if(m.length===0)return!0;if(!Array.isArray(u))return!1;const p=new Set;for(let f=0;f<m.length;f++){const b=m[f];let j=!1;for(let w=0;w<u.length;w++){if(p.has(w))continue;const y=u[w];let v=!1;if(x(y,b,f,u,m,h)&&(v=!0),v){p.add(w),j=!0;break}}if(!j)return!1}return!0}function c(u,m,x,h){return m.size===0?!0:u instanceof Set?d([...u],[...m],x,h):!1}e.isMatchWith=n,e.isSetMatch=c})(E9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=E9;function s(a,n){return r.isMatchWith(a,n,()=>{})}e.isMatch=s})(P4);var I9={},I4={},_9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Object.getOwnPropertySymbols(s).filter(a=>Object.prototype.propertyIsEnumerable.call(s,a))}e.getSymbols=r})(_9);var _4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}e.getTag=r})(_4);var O4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r="[object RegExp]",s="[object String]",a="[object Number]",n="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",d="[object Map]",c="[object Set]",u="[object Array]",m="[object Function]",x="[object ArrayBuffer]",h="[object Object]",p="[object Error]",f="[object DataView]",b="[object Uint8Array]",j="[object Uint8ClampedArray]",w="[object Uint16Array]",y="[object Uint32Array]",v="[object BigUint64Array]",N="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",P="[object BigInt64Array]",C="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=x,e.arrayTag=u,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=v,e.booleanTag=n,e.dataViewTag=f,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=C,e.float64ArrayTag=I,e.functionTag=m,e.int16ArrayTag=S,e.int32ArrayTag=k,e.int8ArrayTag=N,e.mapTag=d,e.numberTag=a,e.objectTag=h,e.regexpTag=r,e.setTag=c,e.stringTag=s,e.symbolTag=l,e.uint16ArrayTag=w,e.uint32ArrayTag=y,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=j})(O4);var O9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}e.isTypedArray=r})(O9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=_9,s=_4,a=O4,n=T4,i=O9;function l(u,m){return o(u,void 0,u,new Map,m)}function o(u,m,x,h=new Map,p=void 0){const f=p==null?void 0:p(u,m,x,h);if(f!==void 0)return f;if(n.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const b=new Array(u.length);h.set(u,b);for(let j=0;j<u.length;j++)b[j]=o(u[j],j,x,h,p);return Object.hasOwn(u,"index")&&(b.index=u.index),Object.hasOwn(u,"input")&&(b.input=u.input),b}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const b=new RegExp(u.source,u.flags);return b.lastIndex=u.lastIndex,b}if(u instanceof Map){const b=new Map;h.set(u,b);for(const[j,w]of u)b.set(j,o(w,j,x,h,p));return b}if(u instanceof Set){const b=new Set;h.set(u,b);for(const j of u)b.add(o(j,void 0,x,h,p));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const b=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,b);for(let j=0;j<u.length;j++)b[j]=o(u[j],j,x,h,p);return b}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const b=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,b),d(b,u,x,h,p),b}if(typeof File<"u"&&u instanceof File){const b=new File([u],u.name,{type:u.type});return h.set(u,b),d(b,u,x,h,p),b}if(typeof Blob<"u"&&u instanceof Blob){const b=new Blob([u],{type:u.type});return h.set(u,b),d(b,u,x,h,p),b}if(u instanceof Error){const b=new u.constructor;return h.set(u,b),b.message=u.message,b.name=u.name,b.stack=u.stack,b.cause=u.cause,d(b,u,x,h,p),b}if(u instanceof Boolean){const b=new Boolean(u.valueOf());return h.set(u,b),d(b,u,x,h,p),b}if(u instanceof Number){const b=new Number(u.valueOf());return h.set(u,b),d(b,u,x,h,p),b}if(u instanceof String){const b=new String(u.valueOf());return h.set(u,b),d(b,u,x,h,p),b}if(typeof u=="object"&&c(u)){const b=Object.create(Object.getPrototypeOf(u));return h.set(u,b),d(b,u,x,h,p),b}return u}function d(u,m,x=u,h,p){const f=[...Object.keys(m),...r.getSymbols(m)];for(let b=0;b<f.length;b++){const j=f[b],w=Object.getOwnPropertyDescriptor(u,j);(w==null||w.writable)&&(u[j]=o(m[j],j,x,h,p))}}function c(u){switch(s.getTag(u)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=d})(I4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=I4;function s(a){return r.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=s})(I9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=P4,s=I9;function a(n){return n=s.cloneDeep(n),i=>r.isMatch(i,n)}e.matches=a})(T9);var D9={},M9={},L9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=I4,s=O4;function a(n,i){return r.cloneDeepWith(n,(l,o,d,c)=>{const u=i==null?void 0:i(l,o,d,c);if(u!==void 0)return u;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case s.numberTag:case s.stringTag:case s.booleanTag:{const m=new n.constructor(n==null?void 0:n.valueOf());return r.copyProperties(m,n),m}case s.argumentsTag:{const m={};return r.copyProperties(m,n),m.length=n.length,m[Symbol.iterator]=n[Symbol.iterator],m}default:return}})}e.cloneDeepWith=a})(L9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=L9;function s(a){return r.cloneDeepWith(a)}e.cloneDeep=s})(M9);var F9={},D4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;function s(a,n=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<n;case"symbol":return!1;case"string":return r.test(a)}}e.isIndex=s})(D4);var R9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=_4;function s(a){return a!==null&&typeof a=="object"&&r.getTag(a)==="[object Arguments]"}e.isArguments=s})(R9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=N4,s=D4,a=R9,n=Xy;function i(l,o){let d;if(Array.isArray(o)?d=o:typeof o=="string"&&r.isDeepKey(o)&&(l==null?void 0:l[o])==null?d=n.toPath(o):d=[o],d.length===0)return!1;let c=l;for(let u=0;u<d.length;u++){const m=d[u];if((c==null||!Object.hasOwn(c,m))&&!((Array.isArray(c)||a.isArguments(c))&&s.isIndex(m)&&m<c.length))return!1;c=c[m]}return!0}e.has=i})(F9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=P4,s=Yy,a=M9,n=Ky,i=F9;function l(o,d){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=s.toKey(o);break}}return d=a.cloneDeep(d),function(c){const u=n.get(c,o);return u===void 0?i.has(c,o):d===void 0?u===void 0:r.isMatch(u,d)}}e.matchesProperty=l})(D9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=C4,s=A9,a=T9,n=D9;function i(l){if(l==null)return r.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?n.matchesProperty(l[0],l[1]):a.matches(l);case"string":case"symbol":case"number":return s.property(l)}}e.iteratee=i})(P9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=N9,s=C4,a=S9,n=P9;function i(l,o=s.identity){return a.isArrayLikeObject(l)?r.uniqBy(Array.from(l),n.iteratee(o)):[]}e.uniqBy=i})(w9);var jae=w9.uniqBy;const _P=di(jae);function B9(e,r,s){return r===!0?_P(e,s):typeof r=="function"?_P(e,r):e}var $9={exports:{}},z9={},U9={exports:{}},H9={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am=g;function wae(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Nae=typeof Object.is=="function"?Object.is:wae,Sae=am.useState,kae=am.useEffect,Cae=am.useLayoutEffect,Pae=am.useDebugValue;function Aae(e,r){var s=r(),a=Sae({inst:{value:s,getSnapshot:r}}),n=a[0].inst,i=a[1];return Cae(function(){n.value=s,n.getSnapshot=r,f1(n)&&i({inst:n})},[e,s,r]),kae(function(){return f1(n)&&i({inst:n}),e(function(){f1(n)&&i({inst:n})})},[e]),Pae(s),s}function f1(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!Nae(e,s)}catch{return!0}}function Tae(e,r){return r()}var Eae=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Tae:Aae;H9.useSyncExternalStore=am.useSyncExternalStore!==void 0?am.useSyncExternalStore:Eae;U9.exports=H9;var Iae=U9.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy=g,_ae=Iae;function Oae(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Dae=typeof Object.is=="function"?Object.is:Oae,Mae=_ae.useSyncExternalStore,Lae=Qy.useRef,Fae=Qy.useEffect,Rae=Qy.useMemo,Bae=Qy.useDebugValue;z9.useSyncExternalStoreWithSelector=function(e,r,s,a,n){var i=Lae(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=Rae(function(){function d(h){if(!c){if(c=!0,u=h,h=a(h),n!==void 0&&l.hasValue){var p=l.value;if(n(p,h))return m=p}return m=h}if(p=m,Dae(u,h))return p;var f=a(h);return n!==void 0&&n(p,f)?(u=h,p):(u=h,m=f)}var c=!1,u,m,x=s===void 0?null:s;return[function(){return d(r())},x===null?void 0:function(){return d(x())}]},[r,s,a,n]);var o=Mae(e,i[0],i[1]);return Fae(function(){l.hasValue=!0,l.value=o},[o]),Bae(o),o};$9.exports=z9;var $ae=$9.exports,M4=g.createContext(null),zae=e=>e,Ir=()=>{var e=g.useContext(M4);return e?e.store.dispatch:zae},Jp=()=>{},Uae=()=>Jp,Hae=(e,r)=>e===r;function St(e){var r=g.useContext(M4);return $ae.useSyncExternalStoreWithSelector(r?r.subscription.addNestedSub:Uae,r?r.store.getState:Jp,r?r.store.getState:Jp,r?e:Jp,Hae)}function Vae(e,r=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(r)}function Wae(e,r=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(r)}function Gae(e,r="expected all items to be functions, instead received the following types: "){if(!e.every(s=>typeof s=="function")){const s=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${r}[${s}]`)}}var OP=e=>Array.isArray(e)?e:[e];function qae(e){const r=Array.isArray(e[0])?e[0]:e;return Gae(r,"createSelector expects all input-selectors to be functions, but received the following types: "),r}function Kae(e,r){const s=[],{length:a}=e;for(let n=0;n<a;n++)s.push(e[n].apply(null,r));return s}var Yae=class{constructor(e){this.value=e}deref(){return this.value}},Xae=typeof WeakRef<"u"?WeakRef:Yae,Jae=0,DP=1;function np(){return{s:Jae,v:void 0,o:null,p:null}}function V9(e,r={}){let s=np();const{resultEqualityCheck:a}=r;let n,i=0;function l(){var m;let o=s;const{length:d}=arguments;for(let x=0,h=d;x<h;x++){const p=arguments[x];if(typeof p=="function"||typeof p=="object"&&p!==null){let f=o.o;f===null&&(o.o=f=new WeakMap);const b=f.get(p);b===void 0?(o=np(),f.set(p,o)):o=b}else{let f=o.p;f===null&&(o.p=f=new Map);const b=f.get(p);b===void 0?(o=np(),f.set(p,o)):o=b}}const c=o;let u;if(o.s===DP)u=o.v;else if(u=e.apply(null,arguments),i++,a){const x=((m=n==null?void 0:n.deref)==null?void 0:m.call(n))??n;x!=null&&a(x,u)&&(u=x,i!==0&&i--),n=typeof u=="object"&&u!==null||typeof u=="function"?new Xae(u):u}return c.s=DP,c.v=u,u}return l.clearCache=()=>{s=np(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function Qae(e,...r){const s=typeof e=="function"?{memoize:e,memoizeOptions:r}:e,a=(...n)=>{let i=0,l=0,o,d={},c=n.pop();typeof c=="object"&&(d=c,c=n.pop()),Vae(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...s,...d},{memoize:m,memoizeOptions:x=[],argsMemoize:h=V9,argsMemoizeOptions:p=[]}=u,f=OP(x),b=OP(p),j=qae(n),w=m(function(){return i++,c.apply(null,arguments)},...f),y=h(function(){l++;const N=Kae(j,arguments);return o=w.apply(null,N),o},...b);return Object.assign(y,{resultFunc:c,memoizedResultFunc:w,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:h})};return Object.assign(a,{withTypes:()=>a}),a}var Ce=Qae(V9),Zae=Object.assign((e,r=Ce)=>{Wae(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const s=Object.keys(e),a=s.map(i=>e[i]);return r(a,(...i)=>i.reduce((l,o,d)=>(l[s[d]]=o,l),{}))},{withTypes:()=>Zae}),W9={},G9={},q9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const s=(a,n,i)=>{if(a!==n){const l=r(a),o=r(n);if(l===o&&l===0){if(a<n)return i==="desc"?1:-1;if(a>n)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=s})(q9);var K9={},L4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="symbol"||s instanceof Symbol}e.isSymbol=r})(L4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=L4,s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function n(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||r.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!s.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=n})(K9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=q9,s=K9,a=Xy;function n(i,l,o,d){if(i==null)return[];o=d?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(h=>String(h));const c=(h,p)=>{let f=h;for(let b=0;b<p.length&&f!=null;++b)f=f[p[b]];return f},u=(h,p)=>p==null||h==null?p:typeof h=="object"&&"key"in h?Object.hasOwn(p,h.key)?p[h.key]:c(p,h.path):typeof h=="function"?h(p):Array.isArray(h)?c(p,h):typeof p=="object"?p[h]:p,m=l.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||s.isKey(h)?h:{key:h,path:a.toPath(h)}));return i.map(h=>({original:h,criteria:m.map(p=>u(p,h))})).slice().sort((h,p)=>{for(let f=0;f<m.length;f++){const b=r.compareValues(h.criteria[f],p.criteria[f],o[f]);if(b!==0)return b}return 0}).map(h=>h.original)}e.orderBy=n})(G9);var Y9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a=1){const n=[],i=Math.floor(a),l=(o,d)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&d<i?l(u,d+1):n.push(u)}};return l(s,0),n}e.flatten=r})(Y9);var F4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=D4,s=Jy,a=A4,n=E4;function i(l,o,d){return a.isObject(d)&&(typeof o=="number"&&s.isArrayLike(d)&&r.isIndex(o)&&o<d.length||typeof o=="string"&&o in d)?n.eq(d[o],l):!1}e.isIterateeCall=i})(F4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=G9,s=Y9,a=F4;function n(i,...l){const o=l.length;return o>1&&a.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&a.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),r.orderBy(i,s.flatten(l),["asc"])}e.sortBy=n})(W9);var ene=W9.sortBy;const Zy=di(ene);var X9=e=>e.legend.settings,tne=e=>e.legend.size,rne=e=>e.legend.payload,sne=Ce([rne,X9],(e,r)=>{var{itemSorter:s}=r,a=e.flat(1);return s?Zy(a,s):a});function ane(){return St(sne)}var ip=1;function J9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[r,s]=g.useState({height:0,left:0,top:0,width:0}),a=g.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-r.height)>ip||Math.abs(l.left-r.left)>ip||Math.abs(l.top-r.top)>ip||Math.abs(l.width-r.width)>ip)&&s({height:l.height,left:l.left,top:l.top,width:l.width})}},[r.width,r.height,r.top,r.left,...e]);return[r,a]}function Zs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var nne=typeof Symbol=="function"&&Symbol.observable||"@@observable",MP=nne,g1=()=>Math.random().toString(36).substring(7).split("").join("."),ine={INIT:`@@redux/INIT${g1()}`,REPLACE:`@@redux/REPLACE${g1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${g1()}`},tg=ine;function R4(e){if(typeof e!="object"||e===null)return!1;let r=e;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r||Object.getPrototypeOf(e)===null}function Q9(e,r,s){if(typeof e!="function")throw new Error(Zs(2));if(typeof r=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(Zs(0));if(typeof r=="function"&&typeof s>"u"&&(s=r,r=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(Zs(1));return s(Q9)(e,r)}let a=e,n=r,i=new Map,l=i,o=0,d=!1;function c(){l===i&&(l=new Map,i.forEach((b,j)=>{l.set(j,b)}))}function u(){if(d)throw new Error(Zs(3));return n}function m(b){if(typeof b!="function")throw new Error(Zs(4));if(d)throw new Error(Zs(5));let j=!0;c();const w=o++;return l.set(w,b),function(){if(j){if(d)throw new Error(Zs(6));j=!1,c(),l.delete(w),i=null}}}function x(b){if(!R4(b))throw new Error(Zs(7));if(typeof b.type>"u")throw new Error(Zs(8));if(typeof b.type!="string")throw new Error(Zs(17));if(d)throw new Error(Zs(9));try{d=!0,n=a(n,b)}finally{d=!1}return(i=l).forEach(w=>{w()}),b}function h(b){if(typeof b!="function")throw new Error(Zs(10));a=b,x({type:tg.REPLACE})}function p(){const b=m;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Zs(11));function w(){const v=j;v.next&&v.next(u())}return w(),{unsubscribe:b(w)}},[MP](){return this}}}return x({type:tg.INIT}),{dispatch:x,subscribe:m,getState:u,replaceReducer:h,[MP]:p}}function lne(e){Object.keys(e).forEach(r=>{const s=e[r];if(typeof s(void 0,{type:tg.INIT})>"u")throw new Error(Zs(12));if(typeof s(void 0,{type:tg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zs(13))})}function Z9(e){const r=Object.keys(e),s={};for(let i=0;i<r.length;i++){const l=r[i];typeof e[l]=="function"&&(s[l]=e[l])}const a=Object.keys(s);let n;try{lne(s)}catch(i){n=i}return function(l={},o){if(n)throw n;let d=!1;const c={};for(let u=0;u<a.length;u++){const m=a[u],x=s[m],h=l[m],p=x(h,o);if(typeof p>"u")throw o&&o.type,new Error(Zs(14));c[m]=p,d=d||p!==h}return d=d||a.length!==Object.keys(l).length,d?c:l}}function rg(...e){return e.length===0?r=>r:e.length===1?e[0]:e.reduce((r,s)=>(...a)=>r(s(...a)))}function one(...e){return r=>(s,a)=>{const n=r(s,a);let i=()=>{throw new Error(Zs(15))};const l={getState:n.getState,dispatch:(d,...c)=>i(d,...c)},o=e.map(d=>d(l));return i=rg(...o)(n.dispatch),{...n,dispatch:i}}}function eM(e){return R4(e)&&"type"in e&&typeof e.type=="string"}var tM=Symbol.for("immer-nothing"),LP=Symbol.for("immer-draftable"),Pn=Symbol.for("immer-state");function wi(e,...r){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var x0=Object.getPrototypeOf;function xd(e){return!!e&&!!e[Pn]}function Ul(e){var r;return e?rM(e)||Array.isArray(e)||!!e[LP]||!!((r=e.constructor)!=null&&r[LP])||rx(e)||tb(e):!1}var cne=Object.prototype.constructor.toString(),FP=new WeakMap;function rM(e){if(!e||typeof e!="object")return!1;const r=Object.getPrototypeOf(e);if(r===null||r===Object.prototype)return!0;const s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;if(s===Object)return!0;if(typeof s!="function")return!1;let a=FP.get(s);return a===void 0&&(a=Function.toString.call(s),FP.set(s,a)),a===cne}function sg(e,r,s=!0){eb(e)===0?(s?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{r(n,e[n],e)}):e.forEach((a,n)=>r(n,a,e))}function eb(e){const r=e[Pn];return r?r.type_:Array.isArray(e)?1:rx(e)?2:tb(e)?3:0}function Ij(e,r){return eb(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function sM(e,r,s){const a=eb(e);a===2?e.set(r,s):a===3?e.add(s):e[r]=s}function dne(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function rx(e){return e instanceof Map}function tb(e){return e instanceof Set}function Pc(e){return e.copy_||e.base_}function _j(e,r){if(rx(e))return new Map(e);if(tb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=rM(e);if(r===!0||r==="class_only"&&!s){const a=Object.getOwnPropertyDescriptors(e);delete a[Pn];let n=Reflect.ownKeys(a);for(let i=0;i<n.length;i++){const l=n[i],o=a[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(a[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(x0(e),a)}else{const a=x0(e);if(a!==null&&s)return{...e};const n=Object.create(a);return Object.assign(n,e)}}function B4(e,r=!1){return rb(e)||xd(e)||!Ul(e)||(eb(e)>1&&Object.defineProperties(e,{set:lp,add:lp,clear:lp,delete:lp}),Object.freeze(e),r&&Object.values(e).forEach(s=>B4(s,!0))),e}function une(){wi(2)}var lp={value:une};function rb(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var mne={};function pd(e){const r=mne[e];return r||wi(0,e),r}var p0;function aM(){return p0}function hne(e,r){return{drafts_:[],parent_:e,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function RP(e,r){r&&(pd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=r)}function Oj(e){Dj(e),e.drafts_.forEach(xne),e.drafts_=null}function Dj(e){e===p0&&(p0=e.parent_)}function BP(e){return p0=hne(p0,e)}function xne(e){const r=e[Pn];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function $P(e,r){r.unfinalizedDrafts_=r.drafts_.length;const s=r.drafts_[0];return e!==void 0&&e!==s?(s[Pn].modified_&&(Oj(r),wi(4)),Ul(e)&&(e=ag(r,e),r.parent_||ng(r,e)),r.patches_&&pd("Patches").generateReplacementPatches_(s[Pn].base_,e,r.patches_,r.inversePatches_)):e=ag(r,s,[]),Oj(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),e!==tM?e:void 0}function ag(e,r,s){if(rb(r))return r;const a=e.immer_.shouldUseStrictIteration(),n=r[Pn];if(!n)return sg(r,(i,l)=>zP(e,n,r,i,l,s),a),r;if(n.scope_!==e)return r;if(!n.modified_)return ng(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let l=i,o=!1;n.type_===3&&(l=new Set(i),i.clear(),o=!0),sg(l,(d,c)=>zP(e,n,i,d,c,s,o),a),ng(e,i,!1),s&&e.patches_&&pd("Patches").generatePatches_(n,s,e.patches_,e.inversePatches_)}return n.copy_}function zP(e,r,s,a,n,i,l){if(n==null||typeof n!="object"&&!l)return;const o=rb(n);if(!(o&&!l)){if(xd(n)){const d=i&&r&&r.type_!==3&&!Ij(r.assigned_,a)?i.concat(a):void 0,c=ag(e,n,d);if(sM(s,a,c),xd(c))e.canAutoFreeze_=!1;else return}else l&&s.add(n);if(Ul(n)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||r&&r.base_&&r.base_[a]===n&&o)return;ag(e,n),(!r||!r.scope_.parent_)&&typeof a!="symbol"&&(rx(s)?s.has(a):Object.prototype.propertyIsEnumerable.call(s,a))&&ng(e,n)}}}function ng(e,r,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&B4(r,s)}function pne(e,r){const s=Array.isArray(e),a={type_:s?1:0,scope_:r?r.scope_:aM(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,i=$4;s&&(n=[a],i=f0);const{revoke:l,proxy:o}=Proxy.revocable(n,i);return a.draft_=o,a.revoke_=l,o}var $4={get(e,r){if(r===Pn)return e;const s=Pc(e);if(!Ij(s,r))return fne(e,s,r);const a=s[r];return e.finalized_||!Ul(a)?a:a===y1(e.base_,r)?(b1(e),e.copy_[r]=Lj(a,e)):a},has(e,r){return r in Pc(e)},ownKeys(e){return Reflect.ownKeys(Pc(e))},set(e,r,s){const a=nM(Pc(e),r);if(a!=null&&a.set)return a.set.call(e.draft_,s),!0;if(!e.modified_){const n=y1(Pc(e),r),i=n==null?void 0:n[Pn];if(i&&i.base_===s)return e.copy_[r]=s,e.assigned_[r]=!1,!0;if(dne(s,n)&&(s!==void 0||Ij(e.base_,r)))return!0;b1(e),Mj(e)}return e.copy_[r]===s&&(s!==void 0||r in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[r])||(e.copy_[r]=s,e.assigned_[r]=!0),!0},deleteProperty(e,r){return y1(e.base_,r)!==void 0||r in e.base_?(e.assigned_[r]=!1,b1(e),Mj(e)):delete e.assigned_[r],e.copy_&&delete e.copy_[r],!0},getOwnPropertyDescriptor(e,r){const s=Pc(e),a=Reflect.getOwnPropertyDescriptor(s,r);return a&&{writable:!0,configurable:e.type_!==1||r!=="length",enumerable:a.enumerable,value:s[r]}},defineProperty(){wi(11)},getPrototypeOf(e){return x0(e.base_)},setPrototypeOf(){wi(12)}},f0={};sg($4,(e,r)=>{f0[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});f0.deleteProperty=function(e,r){return f0.set.call(this,e,r,void 0)};f0.set=function(e,r,s){return $4.set.call(this,e[0],r,s,e[0])};function y1(e,r){const s=e[Pn];return(s?Pc(s):e)[r]}function fne(e,r,s){var n;const a=nM(r,s);return a?"value"in a?a.value:(n=a.get)==null?void 0:n.call(e.draft_):void 0}function nM(e,r){if(!(r in e))return;let s=x0(e);for(;s;){const a=Object.getOwnPropertyDescriptor(s,r);if(a)return a;s=x0(s)}}function Mj(e){e.modified_||(e.modified_=!0,e.parent_&&Mj(e.parent_))}function b1(e){e.copy_||(e.copy_=_j(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var gne=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(r,s,a)=>{if(typeof r=="function"&&typeof s!="function"){const i=s;s=r;const l=this;return function(d=i,...c){return l.produce(d,u=>s.call(this,u,...c))}}typeof s!="function"&&wi(6),a!==void 0&&typeof a!="function"&&wi(7);let n;if(Ul(r)){const i=BP(this),l=Lj(r,void 0);let o=!0;try{n=s(l),o=!1}finally{o?Oj(i):Dj(i)}return RP(i,a),$P(n,i)}else if(!r||typeof r!="object"){if(n=s(r),n===void 0&&(n=r),n===tM&&(n=void 0),this.autoFreeze_&&B4(n,!0),a){const i=[],l=[];pd("Patches").generateReplacementPatches_(r,n,i,l),a(i,l)}return n}else wi(1,r)},this.produceWithPatches=(r,s)=>{if(typeof r=="function")return(l,...o)=>this.produceWithPatches(l,d=>r(d,...o));let a,n;return[this.produce(r,s,(l,o)=>{a=l,n=o}),a,n]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ul(e)||wi(8),xd(e)&&(e=Pl(e));const r=BP(this),s=Lj(e,void 0);return s[Pn].isManual_=!0,Dj(r),s}finishDraft(e,r){const s=e&&e[Pn];(!s||!s.isManual_)&&wi(9);const{scope_:a}=s;return RP(a,r),$P(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let s;for(s=r.length-1;s>=0;s--){const n=r[s];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}s>-1&&(r=r.slice(s+1));const a=pd("Patches").applyPatches_;return xd(e)?a(e,r):this.produce(e,n=>a(n,r))}};function Lj(e,r){const s=rx(e)?pd("MapSet").proxyMap_(e,r):tb(e)?pd("MapSet").proxySet_(e,r):pne(e,r);return(r?r.scope_:aM()).drafts_.push(s),s}function Pl(e){return xd(e)||wi(10,e),iM(e)}function iM(e){if(!Ul(e)||rb(e))return e;const r=e[Pn];let s,a=!0;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,s=_j(e,r.scope_.immer_.useStrictShallowCopy_),a=r.scope_.immer_.shouldUseStrictIteration()}else s=_j(e,!0);return sg(s,(n,i)=>{sM(s,n,iM(i))},a),r&&(r.finalized_=!1),s}var Fj=new gne,lM=Fj.produce,yne=Fj.setUseStrictIteration.bind(Fj);function oM(e){return({dispatch:s,getState:a})=>n=>i=>typeof i=="function"?i(s,a,e):n(i)}var bne=oM(),vne=oM,jne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rg:rg.apply(null,arguments)};function oi(e,r){function s(...a){if(r){let n=r(...a);if(!n)throw new Error(Nn(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:a[0]}}return s.toString=()=>`${e}`,s.type=e,s.match=a=>eM(a)&&a.type===e,s}var cM=class ph extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,ph.prototype)}static get[Symbol.species](){return ph}concat(...r){return super.concat.apply(this,r)}prepend(...r){return r.length===1&&Array.isArray(r[0])?new ph(...r[0].concat(this)):new ph(...r.concat(this))}};function UP(e){return Ul(e)?lM(e,()=>{}):e}function op(e,r,s){return e.has(r)?e.get(r):e.set(r,s(r)).get(r)}function wne(e){return typeof e=="boolean"}var Nne=()=>function(r){const{thunk:s=!0,immutableCheck:a=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=r??{};let l=new cM;return s&&(wne(s)?l.push(bne):l.push(vne(s.extraArgument))),l},dM="RTK_autoBatch",Ms=()=>e=>({payload:e,meta:{[dM]:!0}}),HP=e=>r=>{setTimeout(r,e)},uM=(e={type:"raf"})=>r=>(...s)=>{const a=r(...s);let n=!0,i=!1,l=!1;const o=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:HP(10):e.type==="callback"?e.queueNotification:HP(e.timeout),c=()=>{l=!1,i&&(i=!1,o.forEach(u=>u()))};return Object.assign({},a,{subscribe(u){const m=()=>n&&u(),x=a.subscribe(m);return o.add(u),()=>{x(),o.delete(u)}},dispatch(u){var m;try{return n=!((m=u==null?void 0:u.meta)!=null&&m[dM]),i=!n,i&&(l||(l=!0,d(c))),a.dispatch(u)}finally{n=!0}}})},Sne=e=>function(s){const{autoBatch:a=!0}=s??{};let n=new cM(e);return a&&n.push(uM(typeof a=="object"?a:void 0)),n};function kne(e){const r=Nne(),{reducer:s=void 0,middleware:a,devTools:n=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof s=="function")o=s;else if(R4(s))o=Z9(s);else throw new Error(Nn(1));let d;typeof a=="function"?d=a(r):d=r();let c=rg;n&&(c=jne({trace:!1,...typeof n=="object"&&n}));const u=one(...d),m=Sne(u);let x=typeof l=="function"?l(m):m();const h=c(...x);return Q9(o,i,h)}function mM(e){const r={},s=[];let a;const n={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Nn(28));if(o in r)throw new Error(Nn(29));return r[o]=l,n},addAsyncThunk(i,l){return l.pending&&(r[i.pending.type]=l.pending),l.rejected&&(r[i.rejected.type]=l.rejected),l.fulfilled&&(r[i.fulfilled.type]=l.fulfilled),l.settled&&s.push({matcher:i.settled,reducer:l.settled}),n},addMatcher(i,l){return s.push({matcher:i,reducer:l}),n},addDefaultCase(i){return a=i,n}};return e(n),[r,s,a]}yne(!1);function Cne(e){return typeof e=="function"}function Pne(e,r){let[s,a,n]=mM(r),i;if(Cne(e))i=()=>UP(e());else{const o=UP(e);i=()=>o}function l(o=i(),d){let c=[s[d.type],...a.filter(({matcher:u})=>u(d)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[n]),c.reduce((u,m)=>{if(m)if(xd(u)){const h=m(u,d);return h===void 0?u:h}else{if(Ul(u))return lM(u,x=>m(x,d));{const x=m(u,d);if(x===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return u},o)}return l.getInitialState=i,l}var Ane="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Tne=(e=21)=>{let r="",s=e;for(;s--;)r+=Ane[Math.random()*64|0];return r},Ene=Symbol.for("rtk-slice-createasyncthunk");function Ine(e,r){return`${e}/${r}`}function _ne({creators:e}={}){var s;const r=(s=e==null?void 0:e.asyncThunk)==null?void 0:s[Ene];return function(n){const{name:i,reducerPath:l=i}=n;if(!i)throw new Error(Nn(11));const o=(typeof n.reducers=="function"?n.reducers(Dne()):n.reducers)||{},d=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(v,N){const S=typeof v=="string"?v:v.type;if(!S)throw new Error(Nn(12));if(S in c.sliceCaseReducersByType)throw new Error(Nn(13));return c.sliceCaseReducersByType[S]=N,u},addMatcher(v,N){return c.sliceMatchers.push({matcher:v,reducer:N}),u},exposeAction(v,N){return c.actionCreators[v]=N,u},exposeCaseReducer(v,N){return c.sliceCaseReducersByName[v]=N,u}};d.forEach(v=>{const N=o[v],S={reducerName:v,type:Ine(i,v),createNotation:typeof n.reducers=="function"};Lne(N)?Rne(S,N,u,r):Mne(S,N,u)});function m(){const[v={},N=[],S=void 0]=typeof n.extraReducers=="function"?mM(n.extraReducers):[n.extraReducers],k={...v,...c.sliceCaseReducersByType};return Pne(n.initialState,P=>{for(let C in k)P.addCase(C,k[C]);for(let C of c.sliceMatchers)P.addMatcher(C.matcher,C.reducer);for(let C of N)P.addMatcher(C.matcher,C.reducer);S&&P.addDefaultCase(S)})}const x=v=>v,h=new Map,p=new WeakMap;let f;function b(v,N){return f||(f=m()),f(v,N)}function j(){return f||(f=m()),f.getInitialState()}function w(v,N=!1){function S(P){let C=P[v];return typeof C>"u"&&N&&(C=op(p,S,j)),C}function k(P=x){const C=op(h,N,()=>new WeakMap);return op(C,P,()=>{const I={};for(const[A,O]of Object.entries(n.selectors??{}))I[A]=One(O,P,()=>op(p,P,j),N);return I})}return{reducerPath:v,getSelectors:k,get selectors(){return k(S)},selectSlice:S}}const y={name:i,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:j,...w(l),injectInto(v,{reducerPath:N,...S}={}){const k=N??l;return v.inject({reducerPath:k,reducer:b},S),{...y,...w(k,!0)}}};return y}}function One(e,r,s,a){function n(i,...l){let o=r(i);return typeof o>"u"&&a&&(o=s()),e(o,...l)}return n.unwrapped=e,n}var ln=_ne();function Dne(){function e(r,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:r,...s}}return e.withTypes=()=>e,{reducer(r){return Object.assign({[r.name](...s){return r(...s)}}[r.name],{_reducerDefinitionType:"reducer"})},preparedReducer(r,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:r,reducer:s}},asyncThunk:e}}function Mne({type:e,reducerName:r,createNotation:s},a,n){let i,l;if("reducer"in a){if(s&&!Fne(a))throw new Error(Nn(17));i=a.reducer,l=a.prepare}else i=a;n.addCase(e,i).exposeCaseReducer(r,i).exposeAction(r,l?oi(e,l):oi(e))}function Lne(e){return e._reducerDefinitionType==="asyncThunk"}function Fne(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Rne({type:e,reducerName:r},s,a,n){if(!n)throw new Error(Nn(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:d,settled:c,options:u}=s,m=n(e,i,u);a.exposeAction(r,m),l&&a.addCase(m.fulfilled,l),o&&a.addCase(m.pending,o),d&&a.addCase(m.rejected,d),c&&a.addMatcher(m.settled,c),a.exposeCaseReducer(r,{fulfilled:l||cp,pending:o||cp,rejected:d||cp,settled:c||cp})}function cp(){}var Bne="task",hM="listener",xM="completed",z4="cancelled",$ne=`task-${z4}`,zne=`task-${xM}`,Rj=`${hM}-${z4}`,Une=`${hM}-${xM}`,sb=class{constructor(e){pi(this,"name","TaskAbortError");pi(this,"message");this.code=e,this.message=`${Bne} ${z4} (reason: ${e})`}},U4=(e,r)=>{if(typeof e!="function")throw new TypeError(Nn(32))},ig=()=>{},pM=(e,r=ig)=>(e.catch(r),e),fM=(e,r)=>(e.addEventListener("abort",r,{once:!0}),()=>e.removeEventListener("abort",r)),Gc=(e,r)=>{const s=e.signal;s.aborted||("reason"in s||Object.defineProperty(s,"reason",{enumerable:!0,value:r,configurable:!0,writable:!0}),e.abort(r))},qc=e=>{if(e.aborted){const{reason:r}=e;throw new sb(r)}};function gM(e,r){let s=ig;return new Promise((a,n)=>{const i=()=>n(new sb(e.reason));if(e.aborted){i();return}s=fM(e,i),r.finally(()=>s()).then(a,n)}).finally(()=>{s=ig})}var Hne=async(e,r)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(s){return{status:s instanceof sb?"cancelled":"rejected",error:s}}finally{r==null||r()}},lg=e=>r=>pM(gM(e,r).then(s=>(qc(e),s))),yM=e=>{const r=lg(e);return s=>r(new Promise(a=>setTimeout(a,s)))},{assign:Iu}=Object,VP={},ab="listenerMiddleware",Vne=(e,r)=>{const s=a=>fM(e,()=>Gc(a,e.reason));return(a,n)=>{U4(a);const i=new AbortController;s(i);const l=Hne(async()=>{qc(e),qc(i.signal);const o=await a({pause:lg(i.signal),delay:yM(i.signal),signal:i.signal});return qc(i.signal),o},()=>Gc(i,zne));return n!=null&&n.autoJoin&&r.push(l.catch(ig)),{result:lg(e)(l),cancel(){Gc(i,$ne)}}}},Wne=(e,r)=>{const s=async(a,n)=>{qc(r);let i=()=>{};const o=[new Promise((d,c)=>{let u=e({predicate:a,effect:(m,x)=>{x.unsubscribe(),d([m,x.getState(),x.getOriginalState()])}});i=()=>{u(),c()}})];n!=null&&o.push(new Promise(d=>setTimeout(d,n,null)));try{const d=await gM(r,Promise.race(o));return qc(r),d}finally{i()}};return(a,n)=>pM(s(a,n))},bM=e=>{let{type:r,actionCreator:s,matcher:a,predicate:n,effect:i}=e;if(r)n=oi(r).match;else if(s)r=s.type,n=s.match;else if(a)n=a;else if(!n)throw new Error(Nn(21));return U4(i),{predicate:n,type:r,effect:i}},vM=Iu(e=>{const{type:r,predicate:s,effect:a}=bM(e);return{id:Tne(),effect:a,type:r,predicate:s,pending:new Set,unsubscribe:()=>{throw new Error(Nn(22))}}},{withTypes:()=>vM}),WP=(e,r)=>{const{type:s,effect:a,predicate:n}=bM(r);return Array.from(e.values()).find(i=>(typeof s=="string"?i.type===s:i.predicate===n)&&i.effect===a)},Bj=e=>{e.pending.forEach(r=>{Gc(r,Rj)})},Gne=(e,r)=>()=>{for(const s of r.keys())Bj(s);e.clear()},GP=(e,r,s)=>{try{e(r,s)}catch(a){setTimeout(()=>{throw a},0)}},jM=Iu(oi(`${ab}/add`),{withTypes:()=>jM}),qne=oi(`${ab}/removeAll`),wM=Iu(oi(`${ab}/remove`),{withTypes:()=>wM}),Kne=(...e)=>{console.error(`${ab}/error`,...e)},sx=(e={})=>{const r=new Map,s=new Map,a=h=>{const p=s.get(h)??0;s.set(h,p+1)},n=h=>{const p=s.get(h)??1;p===1?s.delete(h):s.set(h,p-1)},{extra:i,onError:l=Kne}=e;U4(l);const o=h=>(h.unsubscribe=()=>r.delete(h.id),r.set(h.id,h),p=>{h.unsubscribe(),p!=null&&p.cancelActive&&Bj(h)}),d=h=>{const p=WP(r,h)??vM(h);return o(p)};Iu(d,{withTypes:()=>d});const c=h=>{const p=WP(r,h);return p&&(p.unsubscribe(),h.cancelActive&&Bj(p)),!!p};Iu(c,{withTypes:()=>c});const u=async(h,p,f,b)=>{const j=new AbortController,w=Wne(d,j.signal),y=[];try{h.pending.add(j),a(h),await Promise.resolve(h.effect(p,Iu({},f,{getOriginalState:b,condition:(v,N)=>w(v,N).then(Boolean),take:w,delay:yM(j.signal),pause:lg(j.signal),extra:i,signal:j.signal,fork:Vne(j.signal,y),unsubscribe:h.unsubscribe,subscribe:()=>{r.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((v,N,S)=>{v!==j&&(Gc(v,Rj),S.delete(v))})},cancel:()=>{Gc(j,Rj),h.pending.delete(j)},throwIfCancelled:()=>{qc(j.signal)}})))}catch(v){v instanceof sb||GP(l,v,{raisedBy:"effect"})}finally{await Promise.all(y),Gc(j,Une),n(h),h.pending.delete(j)}},m=Gne(r,s);return{middleware:h=>p=>f=>{if(!eM(f))return p(f);if(jM.match(f))return d(f.payload);if(qne.match(f)){m();return}if(wM.match(f))return c(f.payload);let b=h.getState();const j=()=>{if(b===VP)throw new Error(Nn(23));return b};let w;try{if(w=p(f),r.size>0){const y=h.getState(),v=Array.from(r.values());for(const N of v){let S=!1;try{S=N.predicate(f,y,b)}catch(k){S=!1,GP(l,k,{raisedBy:"predicate"})}S&&u(N,f,h,j)}}}finally{b=VP}return w},startListening:d,stopListening:c,clearListeners:m}};function Nn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Yne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},NM=ln({name:"chartLayout",initialState:Yne,reducers:{setLayout(e,r){e.layoutType=r.payload},setChartSize(e,r){e.width=r.payload.width,e.height=r.payload.height},setMargin(e,r){var s,a,n,i;e.margin.top=(s=r.payload.top)!==null&&s!==void 0?s:0,e.margin.right=(a=r.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(n=r.payload.bottom)!==null&&n!==void 0?n:0,e.margin.left=(i=r.payload.left)!==null&&i!==void 0?i:0},setScale(e,r){e.scale=r.payload}}}),{setMargin:Xne,setLayout:Jne,setChartSize:Qne,setScale:Zne}=NM.actions,eie=NM.reducer;function SM(e,r,s){return Array.isArray(e)&&e&&r+s!==0?e.slice(r,s+1):e}function qP(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function fu(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?qP(Object(s),!0).forEach(function(a){tie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):qP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function tie(e,r,s){return(r=rie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function rie(e){var r=sie(e,"string");return typeof r=="symbol"?r:r+""}function sie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function br(e,r,s){return Fr(e)||Fr(r)?s:tl(r)?hd(e,r,s):typeof r=="function"?r(e):s}var aie=(e,r,s)=>{if(r&&s){var{width:a,height:n}=s,{align:i,verticalAlign:l,layout:o}=r;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&bt(e[i]))return fu(fu({},e),{},{[i]:e[i]+(a||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&bt(e[l]))return fu(fu({},e),{},{[l]:e[l]+(n||0)})}return e},ol=(e,r)=>e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis",kM=(e,r,s,a)=>{if(a)return e.map(o=>o.coordinate);var n,i,l=e.map(o=>(o.coordinate===r&&(n=!0),o.coordinate===s&&(i=!0),o.coordinate));return n||l.push(r),i||l.push(s),l},CM=(e,r,s)=>{if(!e)return null;var{duplicateDomain:a,type:n,range:i,scale:l,realScaleType:o,isCategorical:d,categoricalDomain:c,tickCount:u,ticks:m,niceTicks:x,axisType:h}=e;if(!l)return null;var p=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,f=n==="category"&&l.bandwidth?l.bandwidth()/p:0;if(f=h==="angleAxis"&&i&&i.length>=2?Ws(i[0]-i[1])*2*f:f,m||x){var b=(m||x||[]).map((j,w)=>{var y=a?a.indexOf(j):j;return{coordinate:l(y)+f,value:j,offset:f,index:w}});return b.filter(j=>!li(j.coordinate))}return d&&c?c.map((j,w)=>({coordinate:l(j)+f,value:j,index:w,offset:f})):l.ticks&&u!=null?l.ticks(u).map((j,w)=>({coordinate:l(j)+f,value:j,offset:f,index:w})):l.domain().map((j,w)=>({coordinate:l(j)+f,value:a?a[j]:j,index:w,offset:f}))},KP=1e-4,nie=e=>{var r=e.domain();if(!(!r||r.length<=2)){var s=r.length,a=e.range(),n=Math.min(a[0],a[1])-KP,i=Math.max(a[0],a[1])+KP,l=e(r[0]),o=e(r[s-1]);(l<n||l>i||o<n||o>i)&&e.domain([r[0],r[s-1]])}},iie=(e,r)=>{if(!r||r.length!==2||!bt(r[0])||!bt(r[1]))return e;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),n=[e[0],e[1]];return(!bt(e[0])||e[0]<s)&&(n[0]=s),(!bt(e[1])||e[1]>a)&&(n[1]=a),n[0]>a&&(n[0]=a),n[1]<s&&(n[1]=s),n},lie=e=>{var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var n=0,i=0,l=0;l<r;++l){var o=li(e[l][s][1])?e[l][s][0]:e[l][s][1];o>=0?(e[l][s][0]=n,e[l][s][1]=n+o,n=e[l][s][1]):(e[l][s][0]=i,e[l][s][1]=i+o,i=e[l][s][1])}},oie=e=>{var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var n=0,i=0;i<r;++i){var l=li(e[i][s][1])?e[i][s][0]:e[i][s][1];l>=0?(e[i][s][0]=n,e[i][s][1]=n+l,n=e[i][s][1]):(e[i][s][0]=0,e[i][s][1]=0)}},cie={sign:lie,expand:Gse,none:sm,silhouette:qse,wiggle:Kse,positive:oie},die=(e,r,s)=>{var a=cie[s],n=Wse().keys(r).value((i,l)=>Number(br(i,l,0))).order(Tj).offset(a);return n(e)};function PM(e){return e==null?void 0:String(e)}function og(e){var{axis:r,ticks:s,bandSize:a,entry:n,index:i,dataKey:l}=e;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!Fr(n[r.dataKey])){var o=b9(s,"value",n[r.dataKey]);if(o)return o.coordinate+a/2}return s[i]?s[i].coordinate+a/2:null}var d=br(n,Fr(l)?r.dataKey:l);return Fr(d)?null:r.scale(d)}var YP=e=>{var{axis:r,ticks:s,offset:a,bandSize:n,entry:i,index:l}=e;if(r.type==="category")return s[l]?s[l].coordinate+a:null;var o=br(i,r.dataKey,r.scale.domain()[l]);return Fr(o)?null:r.scale(o)-n/2+a},uie=e=>{var{numericAxis:r}=e,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),n=Math.max(s[0],s[1]);return a<=0&&n>=0?0:n<0?n:a}return s[0]},mie=e=>{var r=e.flat(2).filter(bt);return[Math.min(...r),Math.max(...r)]},hie=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],xie=(e,r,s)=>{if(e!=null)return hie(Object.keys(e).reduce((a,n)=>{var i=e[n],{stackedData:l}=i,o=l.reduce((d,c)=>{var u=SM(c,r,s),m=mie(u);return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],a[0]),Math.max(o[1],a[1])]},[1/0,-1/0]))},XP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ec=(e,r,s)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!s||a>0)return a}if(e&&r&&r.length>=2){for(var n=Zy(r,u=>u.coordinate),i=1/0,l=1,o=n.length;l<o;l++){var d=n[l],c=n[l-1];i=Math.min((d.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return s?void 0:0};function QP(e){var{tooltipEntrySettings:r,dataKey:s,payload:a,value:n,name:i}=e;return fu(fu({},r),{},{dataKey:s,payload:a,value:n,name:i})}function uc(e,r){if(e)return String(e);if(typeof r=="string")return r}var pie=(e,r)=>{if(r==="horizontal")return e.chartX;if(r==="vertical")return e.chartY},fie=(e,r)=>r==="centric"?e.angle:e.radius,eo=e=>e.layout.width,to=e=>e.layout.height,gie=e=>e.layout.scale,AM=e=>e.layout.margin,nb=Ce(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ib=Ce(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),TM="data-recharts-item-index",EM="data-recharts-item-data-key",ax=60;function ZP(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function dp(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?ZP(Object(s),!0).forEach(function(a){yie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ZP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function yie(e,r,s){return(r=bie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function bie(e){var r=vie(e,"string");return typeof r=="symbol"?r:r+""}function vie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var jie=e=>e.brush.height;function wie(e){var r=ib(e);return r.reduce((s,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:ax;return s+n}return s},0)}function Nie(e){var r=ib(e);return r.reduce((s,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:ax;return s+n}return s},0)}function Sie(e){var r=nb(e);return r.reduce((s,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?s+a.height:s,0)}function kie(e){var r=nb(e);return r.reduce((s,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?s+a.height:s,0)}var Fs=Ce([eo,to,AM,jie,wie,Nie,Sie,kie,X9,tne],(e,r,s,a,n,i,l,o,d,c)=>{var u={left:(s.left||0)+n,right:(s.right||0)+i},m={top:(s.top||0)+l,bottom:(s.bottom||0)+o},x=dp(dp({},m),u),h=x.bottom;x.bottom+=a,x=aie(x,d,c);var p=e-x.left-x.right,f=r-x.top-x.bottom;return dp(dp({brushBottom:h},x),{},{width:Math.max(p,0),height:Math.max(f,0)})}),Cie=Ce(Fs,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),H4=Ce(eo,to,(e,r)=>({x:0,y:0,width:e,height:r})),Pie=g.createContext(null),Ys=()=>g.useContext(Pie)!=null,lb=e=>e.brush,ob=Ce([lb,Fs,AM],(e,r,s)=>({height:e.height,x:bt(e.x)?e.x:r.left,y:bt(e.y)?e.y:r.top+r.height+r.brushBottom-((s==null?void 0:s.bottom)||0),width:bt(e.width)?e.width:r.width})),IM={},_M={},OM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s,a,{signal:n,edges:i}={}){let l,o=null;const d=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),u=()=>{o!==null&&(s.apply(l,o),l=void 0,o=null)},m=()=>{c&&u(),f()};let x=null;const h=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,m()},a)},p=()=>{x!==null&&(clearTimeout(x),x=null)},f=()=>{p(),l=void 0,o=null},b=()=>{u()},j=function(...w){if(n!=null&&n.aborted)return;l=this,o=w;const y=x==null;h(),d&&y&&u()};return j.schedule=h,j.cancel=f,j.flush=b,n==null||n.addEventListener("abort",f,{once:!0}),j}e.debounce=r})(OM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=OM;function s(a,n=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:d}=i,c=Array(2);l&&(c[0]="leading"),o&&(c[1]="trailing");let u,m=null;const x=r.debounce(function(...f){u=a.apply(this,f),m=null},n,{edges:c}),h=function(...f){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(u=a.apply(this,f),m=Date.now(),x.cancel(),x.schedule(),u):(x.apply(this,f),u)},p=()=>(x.flush(),u);return h.cancel=x.cancel,h.flush=p,h}e.debounce=s})(_M);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=_M;function s(a,n=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return r.debounce(a,n,{leading:l,maxWait:n,trailing:o})}e.throttle=s})(IM);var Aie=IM.throttle;const Tie=di(Aie);var cg=function(r,s){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i]},DM=(e,r,s)=>{var{width:a="100%",height:n="100%",aspect:i,maxHeight:l}=s,o=zl(a)?e:Number(a),d=zl(n)?r:Number(n);return i&&i>0&&(o?d=o/i:d&&(o=d*i),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:o,calculatedHeight:d}},Eie={width:0,height:0,overflow:"visible"},Iie={width:0,overflowX:"visible"},_ie={height:0,overflowY:"visible"},Oie={},Die=e=>{var{width:r,height:s}=e,a=zl(r),n=zl(s);return a&&n?Eie:a?Iie:n?_ie:Oie};function Mie(e){var{width:r,height:s,aspect:a}=e,n=r,i=s;return n===void 0&&i===void 0?(n="100%",i="100%"):n===void 0?n=a&&a>0?void 0:"100%":i===void 0&&(i=a&&a>0?void 0:"100%"),{width:n,height:i}}function Rr(e){return Number.isFinite(e)}function rl(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function $j(){return $j=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},$j.apply(null,arguments)}function eA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function tA(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?eA(Object(s),!0).forEach(function(a){Lie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):eA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Lie(e,r,s){return(r=Fie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Fie(e){var r=Rie(e,"string");return typeof r=="symbol"?r:r+""}function Rie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var MM=g.createContext({width:-1,height:-1});function Bie(e){return rl(e.width)&&rl(e.height)}function LM(e){var{children:r,width:s,height:a}=e,n=g.useMemo(()=>({width:s,height:a}),[s,a]);return Bie(n)?g.createElement(MM.Provider,{value:n},r):null}var V4=()=>g.useContext(MM),$ie=g.forwardRef((e,r)=>{var{aspect:s,initialDimension:a={width:-1,height:-1},width:n,height:i,minWidth:l=0,minHeight:o,maxHeight:d,children:c,debounce:u=0,id:m,className:x,onResize:h,style:p={}}=e,f=g.useRef(null),b=g.useRef();b.current=h,g.useImperativeHandle(r,()=>f.current);var[j,w]=g.useState({containerWidth:a.width,containerHeight:a.height}),y=g.useCallback((P,C)=>{w(I=>{var A=Math.round(P),O=Math.round(C);return I.containerWidth===A&&I.containerHeight===O?I:{containerWidth:A,containerHeight:O}})},[]);g.useEffect(()=>{if(f.current==null||typeof ResizeObserver>"u")return _d;var P=O=>{var R,{width:Z,height:Y}=O[0].contentRect;y(Z,Y),(R=b.current)===null||R===void 0||R.call(b,Z,Y)};u>0&&(P=Tie(P,u,{trailing:!0,leading:!1}));var C=new ResizeObserver(P),{width:I,height:A}=f.current.getBoundingClientRect();return y(I,A),C.observe(f.current),()=>{C.disconnect()}},[y,u]);var{containerWidth:v,containerHeight:N}=j;cg(!s||s>0,"The aspect(%s) must be greater than zero.",s);var{calculatedWidth:S,calculatedHeight:k}=DM(v,N,{width:n,height:i,aspect:s,maxHeight:d});return cg(S!=null&&S>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,k,n,i,l,o,s),g.createElement("div",{id:m?"".concat(m):void 0,className:nr("recharts-responsive-container",x),style:tA(tA({},p),{},{width:n,height:i,minWidth:l,minHeight:o,maxHeight:d}),ref:f},g.createElement("div",{style:Die({width:n,height:i})},g.createElement(LM,{width:S,height:k},c)))}),Wi=g.forwardRef((e,r)=>{var s=V4();if(rl(s.width)&&rl(s.height))return e.children;var{width:a,height:n}=Mie({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=DM(void 0,void 0,{width:a,height:n,aspect:e.aspect,maxHeight:e.maxHeight});return bt(i)&&bt(l)?g.createElement(LM,{width:i,height:l},e.children):g.createElement($ie,$j({},e,{width:a,height:n,ref:r}))});function FM(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var cb=()=>{var e,r=Ys(),s=St(Cie),a=St(ob),n=(e=St(lb))===null||e===void 0?void 0:e.padding;return!r||!a||!n?s:{width:a.width-n.left-n.right,height:a.height-n.top-n.bottom,x:n.left,y:n.top}},zie={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},RM=()=>{var e;return(e=St(Fs))!==null&&e!==void 0?e:zie},W4=()=>St(eo),G4=()=>St(to),Uie=()=>St(e=>e.layout.margin),Xt=e=>e.layout.layoutType,vm=()=>St(Xt),Hie=()=>{var e=vm();return e!==void 0},db=e=>{var r=Ir(),s=Ys(),{width:a,height:n}=e,i=V4(),l=a,o=n;return i&&(l=i.width>0?i.width:a,o=i.height>0?i.height:n),g.useEffect(()=>{!s&&rl(l)&&rl(o)&&r(Qne({width:l,height:o}))},[r,s,l,o]),null},Vie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},BM=ln({name:"legend",initialState:Vie,reducers:{setLegendSize(e,r){e.size.width=r.payload.width,e.size.height=r.payload.height},setLegendSettings(e,r){e.settings.align=r.payload.align,e.settings.layout=r.payload.layout,e.settings.verticalAlign=r.payload.verticalAlign,e.settings.itemSorter=r.payload.itemSorter},addLegendPayload:{reducer(e,r){e.payload.push(r.payload)},prepare:Ms()},removeLegendPayload:{reducer(e,r){var s=Pl(e).payload.indexOf(r.payload);s>-1&&e.payload.splice(s,1)},prepare:Ms()}}}),{setLegendSize:rA,setLegendSettings:Wie,addLegendPayload:$M,removeLegendPayload:zM}=BM.actions,Gie=BM.reducer,qie=["contextPayload"];function zj(){return zj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},zj.apply(null,arguments)}function sA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function nm(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?sA(Object(s),!0).forEach(function(a){Kie(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Kie(e,r,s){return(r=Yie(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Yie(e){var r=Xie(e,"string");return typeof r=="symbol"?r:r+""}function Xie(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Jie(e,r){if(e==null)return{};var s,a,n=Qie(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Qie(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Zie(e){return e.value}function ele(e){var{contextPayload:r}=e,s=Jie(e,qie),a=B9(r,e.payloadUniqBy,Zie),n=nm(nm({},s),{},{payload:a});return g.isValidElement(e.content)?g.cloneElement(e.content,n):typeof e.content=="function"?g.createElement(e.content,n):g.createElement(vae,n)}function tle(e,r,s,a,n,i){var{layout:l,align:o,verticalAlign:d}=r,c,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&l==="vertical"?c={left:((a||0)-i.width)/2}:c=o==="right"?{right:s&&s.right||0}:{left:s&&s.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?u={top:((n||0)-i.height)/2}:u=d==="bottom"?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),nm(nm({},c),u)}function rle(e){var r=Ir();return g.useEffect(()=>{r(Wie(e))},[r,e]),null}function sle(e){var r=Ir();return g.useEffect(()=>(r(rA(e)),()=>{r(rA({width:0,height:0}))}),[r,e]),null}function ale(e,r,s,a){return e==="vertical"&&bt(r)?{height:r}:e==="horizontal"?{width:s||a}:null}var nle={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function _u(e){var r=cs(e,nle),s=ane(),a=pse(),n=Uie(),{width:i,height:l,wrapperStyle:o,portal:d}=r,[c,u]=J9([s]),m=W4(),x=G4();if(m==null||x==null)return null;var h=m-((n==null?void 0:n.left)||0)-((n==null?void 0:n.right)||0),p=ale(r.layout,l,i,h),f=d?o:nm(nm({position:"absolute",width:(p==null?void 0:p.width)||i||"auto",height:(p==null?void 0:p.height)||l||"auto"},tle(o,r,n,m,x,c)),o),b=d??a;if(b==null||s==null)return null;var j=g.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:u},g.createElement(rle,{layout:r.layout,align:r.align,verticalAlign:r.verticalAlign,itemSorter:r.itemSorter}),g.createElement(sle,{width:c.width,height:c.height}),g.createElement(ele,zj({},r,p,{margin:n,chartWidth:m,chartHeight:x,contextPayload:s})));return vy.createPortal(j,b)}_u.displayName="Legend";function Uj(){return Uj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Uj.apply(null,arguments)}function aA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function v1(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?aA(Object(s),!0).forEach(function(a){ile(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):aA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ile(e,r,s){return(r=lle(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function lle(e){var r=ole(e,"string");return typeof r=="symbol"?r:r+""}function ole(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function cle(e){return Array.isArray(e)&&tl(e[0])&&tl(e[1])?e.join(" ~ "):e}var dle=e=>{var{separator:r=" : ",contentStyle:s={},itemStyle:a={},labelStyle:n={},payload:i,formatter:l,itemSorter:o,wrapperClassName:d,labelClassName:c,label:u,labelFormatter:m,accessibilityLayer:x=!1}=e,h=()=>{if(i&&i.length){var N={padding:0,margin:0},S=(o?Zy(i,o):i).map((k,P)=>{if(k.type==="none")return null;var C=k.formatter||l||cle,{value:I,name:A}=k,O=I,R=A;if(C){var Z=C(I,A,k,P,i);if(Array.isArray(Z))[O,R]=Z;else if(Z!=null)O=Z;else return null}var Y=v1({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},a);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:Y},tl(R)?g.createElement("span",{className:"recharts-tooltip-item-name"},R):null,tl(R)?g.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,g.createElement("span",{className:"recharts-tooltip-item-value"},O),g.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:N},S)}return null},p=v1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),f=v1({margin:0},n),b=!Fr(u),j=b?u:"",w=nr("recharts-default-tooltip",d),y=nr("recharts-tooltip-label",c);b&&m&&i!==void 0&&i!==null&&(j=m(u,i));var v=x?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",Uj({className:w,style:p},v),g.createElement("p",{className:y,style:f},g.isValidElement(j)?j:"".concat(j)),h())},Qm="recharts-tooltip-wrapper",ule={visibility:"hidden"};function mle(e){var{coordinate:r,translateX:s,translateY:a}=e;return nr(Qm,{["".concat(Qm,"-right")]:bt(s)&&r&&bt(r.x)&&s>=r.x,["".concat(Qm,"-left")]:bt(s)&&r&&bt(r.x)&&s<r.x,["".concat(Qm,"-bottom")]:bt(a)&&r&&bt(r.y)&&a>=r.y,["".concat(Qm,"-top")]:bt(a)&&r&&bt(r.y)&&a<r.y})}function nA(e){var{allowEscapeViewBox:r,coordinate:s,key:a,offsetTopLeft:n,position:i,reverseDirection:l,tooltipDimension:o,viewBox:d,viewBoxDimension:c}=e;if(i&&bt(i[a]))return i[a];var u=s[a]-o-(n>0?n:0),m=s[a]+n;if(r[a])return l[a]?u:m;var x=d[a];if(x==null)return 0;if(l[a]){var h=u,p=x;return h<p?Math.max(m,x):Math.max(u,x)}if(c==null)return 0;var f=m+o,b=x+c;return f>b?Math.max(u,x):Math.max(m,x)}function hle(e){var{translateX:r,translateY:s,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(r,"px, ").concat(s,"px, 0)"):"translate(".concat(r,"px, ").concat(s,"px)")}}function xle(e){var{allowEscapeViewBox:r,coordinate:s,offsetTopLeft:a,position:n,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:d}=e,c,u,m;return l.height>0&&l.width>0&&s?(u=nA({allowEscapeViewBox:r,coordinate:s,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=nA({allowEscapeViewBox:r,coordinate:s,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),c=hle({translateX:u,translateY:m,useTranslate3d:o})):c=ule,{cssProperties:c,cssClasses:mle({translateX:u,translateY:m,coordinate:s})}}function iA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function up(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?iA(Object(s),!0).forEach(function(a){Hj(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):iA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Hj(e,r,s){return(r=ple(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function ple(e){var r=fle(e,"string");return typeof r=="symbol"?r:r+""}function fle(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class gle extends g.PureComponent{constructor(){super(...arguments),Hj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Hj(this,"handleKeyDown",r=>{if(r.key==="Escape"){var s,a,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&s!==void 0?s:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var r,s;this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:r,allowEscapeViewBox:s,animationDuration:a,animationEasing:n,children:i,coordinate:l,hasPayload:o,isAnimationActive:d,offset:c,position:u,reverseDirection:m,useTranslate3d:x,viewBox:h,wrapperStyle:p,lastBoundingBox:f,innerRef:b,hasPortalFromProps:j}=this.props,{cssClasses:w,cssProperties:y}=xle({allowEscapeViewBox:s,coordinate:l,offsetTopLeft:c,position:u,reverseDirection:m,tooltipBox:{height:f.height,width:f.width},useTranslate3d:x,viewBox:h}),v=j?{}:up(up({transition:d&&r?"transform ".concat(a,"ms ").concat(n):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&o?"visible":"hidden",position:"absolute",top:0,left:0}),N=up(up({},v),{},{visibility:!this.state.dismissed&&r&&o?"visible":"hidden"},p);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:N,ref:b},i)}}var yle=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ro={devToolsEnabled:!1,isSsr:yle()},UM=()=>{var e;return(e=St(r=>r.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Vj(){return Vj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Vj.apply(null,arguments)}function lA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function oA(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?lA(Object(s),!0).forEach(function(a){ble(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):lA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ble(e,r,s){return(r=vle(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function vle(e){var r=jle(e,"string");return typeof r=="symbol"?r:r+""}function jle(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var cA={curveBasisClosed:Dse,curveBasisOpen:Mse,curveBasis:Ose,curveBumpX:bse,curveBumpY:vse,curveLinearClosed:Lse,curveLinear:Gy,curveMonotoneX:Fse,curveMonotoneY:Rse,curveNatural:Bse,curveStep:$se,curveStepAfter:Use,curveStepBefore:zse},dg=e=>Rr(e.x)&&Rr(e.y),dA=e=>e.base!=null&&dg(e.base)&&dg(e),Zm=e=>e.x,eh=e=>e.y,wle=(e,r)=>{if(typeof e=="function")return e;var s="curve".concat(ex(e));return(s==="curveMonotone"||s==="curveBump")&&r?cA["".concat(s).concat(r==="vertical"?"Y":"X")]:cA[s]||Gy},Nle=e=>{var{type:r="linear",points:s=[],baseLine:a,layout:n,connectNulls:i=!1}=e,l=wle(r,n),o=i?s.filter(dg):s,d;if(Array.isArray(a)){var c=s.map((h,p)=>oA(oA({},h),{},{base:a[p]}));n==="vertical"?d=ap().y(eh).x1(Zm).x0(h=>h.base.x):d=ap().x(Zm).y1(eh).y0(h=>h.base.y);var u=d.defined(dA).curve(l),m=i?c.filter(dA):c;return u(m)}n==="vertical"&&bt(a)?d=ap().y(eh).x1(Zm).x0(a):bt(a)?d=ap().x(Zm).y1(eh).y0(a):d=n9().x(Zm).y(eh);var x=d.defined(dg).curve(l);return x(o)},Ou=e=>{var{className:r,points:s,path:a,pathRef:n}=e;if((!s||!s.length)&&!a)return null;var i=s&&s.length?Nle(e):a;return g.createElement("path",Vj({},Fa(e),k4(e),{className:nr("recharts-curve",r),d:i===null?void 0:i,ref:n}))},Sle=["x","y","top","left","width","height","className"];function Wj(){return Wj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Wj.apply(null,arguments)}function uA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function kle(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?uA(Object(s),!0).forEach(function(a){Cle(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):uA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Cle(e,r,s){return(r=Ple(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Ple(e){var r=Ale(e,"string");return typeof r=="symbol"?r:r+""}function Ale(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Tle(e,r){if(e==null)return{};var s,a,n=Ele(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Ele(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Ile=(e,r,s,a,n,i)=>"M".concat(e,",").concat(n,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(s),_le=e=>{var{x:r=0,y:s=0,top:a=0,left:n=0,width:i=0,height:l=0,className:o}=e,d=Tle(e,Sle),c=kle({x:r,y:s,top:a,left:n,width:i,height:l},d);return!bt(r)||!bt(s)||!bt(i)||!bt(l)||!bt(a)||!bt(n)?null:g.createElement("path",Wj({},Sa(c),{className:nr("recharts-cross",o),d:Ile(r,s,i,l,a,n)}))};function Ole(e,r,s,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?r.x-n:s.left+.5,y:e==="horizontal"?s.top+.5:r.y-n,width:e==="horizontal"?a:s.width-1,height:e==="horizontal"?s.height-1:a}}function mA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function hA(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?mA(Object(s),!0).forEach(function(a){Dle(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):mA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Dle(e,r,s){return(r=Mle(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Mle(e){var r=Lle(e,"string");return typeof r=="symbol"?r:r+""}function Lle(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Fle=e=>e.replace(/([A-Z])/g,r=>"-".concat(r.toLowerCase())),HM=(e,r,s)=>e.map(a=>"".concat(Fle(a)," ").concat(r,"ms ").concat(s)).join(","),Rle=(e,r)=>[Object.keys(e),Object.keys(r)].reduce((s,a)=>s.filter(n=>a.includes(n))),g0=(e,r)=>Object.keys(r).reduce((s,a)=>hA(hA({},s),{},{[a]:e(a,r[a])}),{});function xA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ds(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?xA(Object(s),!0).forEach(function(a){Ble(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):xA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ble(e,r,s){return(r=$le(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function $le(e){var r=zle(e,"string");return typeof r=="symbol"?r:r+""}function zle(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ug=(e,r,s)=>e+(r-e)*s,Gj=e=>{var{from:r,to:s}=e;return r!==s},VM=(e,r,s)=>{var a=g0((n,i)=>{if(Gj(i)){var[l,o]=e(i.from,i.to,i.velocity);return Ds(Ds({},i),{},{from:l,velocity:o})}return i},r);return s<1?g0((n,i)=>Gj(i)?Ds(Ds({},i),{},{velocity:ug(i.velocity,a[n].velocity,s),from:ug(i.from,a[n].from,s)}):i,r):VM(e,a,s-1)};function Ule(e,r,s,a,n,i){var l,o=a.reduce((x,h)=>Ds(Ds({},x),{},{[h]:{from:e[h],velocity:0,to:r[h]}}),{}),d=()=>g0((x,h)=>h.from,o),c=()=>!Object.values(o).filter(Gj).length,u=null,m=x=>{l||(l=x);var h=x-l,p=h/s.dt;o=VM(s,o,p),n(Ds(Ds(Ds({},e),r),d())),l=x,c()||(u=i.setTimeout(m))};return()=>(u=i.setTimeout(m),()=>{var x;(x=u)===null||x===void 0||x()})}function Hle(e,r,s,a,n,i,l){var o=null,d=n.reduce((m,x)=>Ds(Ds({},m),{},{[x]:[e[x],r[x]]}),{}),c,u=m=>{c||(c=m);var x=(m-c)/a,h=g0((f,b)=>ug(...b,s(x)),d);if(i(Ds(Ds(Ds({},e),r),h)),x<1)o=l.setTimeout(u);else{var p=g0((f,b)=>ug(...b,s(1)),d);i(Ds(Ds(Ds({},e),r),p))}};return()=>(o=l.setTimeout(u),()=>{var m;(m=o)===null||m===void 0||m()})}const Vle=(e,r,s,a,n,i)=>{var l=Rle(e,r);return s==null?()=>(n(Ds(Ds({},e),r)),()=>{}):s.isStepper===!0?Ule(e,r,s,l,n,i):Hle(e,r,s,a,l,n,i)};var mg=1e-4,WM=(e,r)=>[0,3*e,3*r-6*e,3*e-3*r+1],GM=(e,r)=>e.map((s,a)=>s*r**a).reduce((s,a)=>s+a),pA=(e,r)=>s=>{var a=WM(e,r);return GM(a,s)},Wle=(e,r)=>s=>{var a=WM(e,r),n=[...a.map((i,l)=>i*l).slice(1),0];return GM(n,s)},Gle=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];if(s.length===1)switch(s[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var n,i=s[0].split("(");if(i[0]==="cubic-bezier"&&((n=i[1])===null||n===void 0?void 0:n.split(")")[0].split(",").length)===4){var l=i[1].split(")")[0].split(",").map(o=>parseFloat(o));return[l[0],l[1],l[2],l[3]]}}}return s.length===4?s:[0,0,1,1]},qle=(e,r,s,a)=>{var n=pA(e,s),i=pA(r,a),l=Wle(e,s),o=c=>c>1?1:c<0?0:c,d=c=>{for(var u=c>1?1:c,m=u,x=0;x<8;++x){var h=n(m)-u,p=l(m);if(Math.abs(h-u)<mg||p<mg)return i(m);m=o(m-h/p)}return i(m)};return d.isStepper=!1,d},fA=function(){return qle(...Gle(...arguments))},Kle=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:s=100,damping:a=8,dt:n=17}=r,i=(l,o,d)=>{var c=-(l-o)*s,u=d*a,m=d+(c-u)*n/1e3,x=d*n/1e3+l;return Math.abs(x-o)<mg&&Math.abs(m)<mg?[o,0]:[x,m]};return i.isStepper=!0,i.dt=n,i},Yle=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fA(e);case"spring":return Kle();default:if(e.split("(")[0]==="cubic-bezier")return fA(e)}return typeof e=="function"?e:null};function Xle(e){var r,s=()=>null,a=!1,n=null,i=l=>{if(!a){if(Array.isArray(l)){if(!l.length)return;var o=l,[d,...c]=o;if(typeof d=="number"){n=e.setTimeout(i.bind(null,c),d);return}i(d),n=e.setTimeout(i.bind(null,c));return}typeof l=="string"&&(r=l,s(r)),typeof l=="object"&&(r=l,s(r)),typeof l=="function"&&l()}};return{stop:()=>{a=!0},start:l=>{a=!1,n&&(n(),n=null),i(l)},subscribe:l=>(s=l,()=>{s=()=>null}),getTimeoutController:()=>e}}class Jle{setTimeout(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),n=null,i=l=>{l-a>=s?r(l):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{n!=null&&cancelAnimationFrame(n)}}}function Qle(){return Xle(new Jle)}var Zle=g.createContext(Qle);function eoe(e,r){var s=g.useContext(Zle);return g.useMemo(()=>r??s(e),[e,r,s])}var toe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},gA={t:0},j1={t:1};function jm(e){var r=cs(e,toe),{isActive:s,canBegin:a,duration:n,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:d,children:c}=r,u=eoe(r.animationId,r.animationManager),[m,x]=g.useState(s?gA:j1),h=g.useRef(null);return g.useEffect(()=>{s||x(j1)},[s]),g.useEffect(()=>{if(!s||!a)return _d;var p=Vle(gA,j1,Yle(i),n,x,u.getTimeoutController()),f=()=>{h.current=p()};return u.start([d,l,f,n,o]),()=>{u.stop(),h.current&&h.current(),o()}},[s,a,n,i,l,d,o,u]),c(m.t)}function wm(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",s=g.useRef(h0(r)),a=g.useRef(e);return a.current!==e&&(s.current=h0(r),a.current=e),s.current}var roe=["radius"],soe=["radius"];function yA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function bA(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?yA(Object(s),!0).forEach(function(a){aoe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function aoe(e,r,s){return(r=noe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function noe(e){var r=ioe(e,"string");return typeof r=="symbol"?r:r+""}function ioe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},hg.apply(null,arguments)}function vA(e,r){if(e==null)return{};var s,a,n=loe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function loe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var jA=(e,r,s,a,n)=>{var i=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,o=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,c;if(i>0&&n instanceof Array){for(var u=[0,0,0,0],m=0,x=4;m<x;m++)u[m]=n[m]>i?i:n[m];c="M".concat(e,",").concat(r+l*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(d,",").concat(e+o*u[0],",").concat(r)),c+="L ".concat(e+s-o*u[1],",").concat(r),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(d,`,
        `).concat(e+s,",").concat(r+l*u[1])),c+="L ".concat(e+s,",").concat(r+a-l*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(d,`,
        `).concat(e+s-o*u[2],",").concat(r+a)),c+="L ".concat(e+o*u[3],",").concat(r+a),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+a-l*u[3])),c+="Z"}else if(i>0&&n===+n&&n>0){var h=Math.min(i,n);c="M ".concat(e,",").concat(r+l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(d,",").concat(e+o*h,",").concat(r,`
            L `).concat(e+s-o*h,",").concat(r,`
            A `).concat(h,",").concat(h,",0,0,").concat(d,",").concat(e+s,",").concat(r+l*h,`
            L `).concat(e+s,",").concat(r+a-l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(d,",").concat(e+s-o*h,",").concat(r+a,`
            L `).concat(e+o*h,",").concat(r+a,`
            A `).concat(h,",").concat(h,",0,0,").concat(d,",").concat(e,",").concat(r+a-l*h," Z")}else c="M ".concat(e,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return c},wA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qM=e=>{var r=cs(e,wA),s=g.useRef(null),[a,n]=g.useState(-1);g.useEffect(()=>{if(s.current&&s.current.getTotalLength)try{var D=s.current.getTotalLength();D&&n(D)}catch{}},[]);var{x:i,y:l,width:o,height:d,radius:c,className:u}=r,{animationEasing:m,animationDuration:x,animationBegin:h,isAnimationActive:p,isUpdateAnimationActive:f}=r,b=g.useRef(o),j=g.useRef(d),w=g.useRef(i),y=g.useRef(l),v=g.useMemo(()=>({x:i,y:l,width:o,height:d,radius:c}),[i,l,o,d,c]),N=wm(v,"rectangle-");if(i!==+i||l!==+l||o!==+o||d!==+d||o===0||d===0)return null;var S=nr("recharts-rectangle",u);if(!f){var k=Sa(r),{radius:P}=k,C=vA(k,roe);return g.createElement("path",hg({},C,{radius:typeof c=="number"?c:void 0,className:S,d:jA(i,l,o,d,c)}))}var I=b.current,A=j.current,O=w.current,R=y.current,Z="0px ".concat(a===-1?1:a,"px"),Y="".concat(a,"px 0px"),ce=HM(["strokeDasharray"],x,typeof m=="string"?m:wA.animationEasing);return g.createElement(jm,{animationId:N,key:N,canBegin:a>0,duration:x,easing:m,isActive:f,begin:h},D=>{var z=ur(I,o,D),se=ur(A,d,D),K=ur(O,i,D),_=ur(R,l,D);s.current&&(b.current=z,j.current=se,w.current=K,y.current=_);var M;p?D>0?M={transition:ce,strokeDasharray:Y}:M={strokeDasharray:Z}:M={strokeDasharray:Y};var F=Sa(r),{radius:B}=F,q=vA(F,soe);return g.createElement("path",hg({},q,{radius:typeof c=="number"?c:void 0,className:S,d:jA(K,_,z,se,c),ref:s,style:bA(bA({},M),r.style)}))})};function NA(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function SA(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?NA(Object(s),!0).forEach(function(a){ooe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):NA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ooe(e,r,s){return(r=coe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function coe(e){var r=doe(e,"string");return typeof r=="symbol"?r:r+""}function doe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var xg=Math.PI/180,uoe=e=>e*180/Math.PI,Ps=(e,r,s,a)=>({x:e+Math.cos(-xg*a)*s,y:r+Math.sin(-xg*a)*s}),KM=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(a.left||0)-(a.right||0)),Math.abs(s-(a.top||0)-(a.bottom||0)))/2},moe=(e,r)=>{var{x:s,y:a}=e,{x:n,y:i}=r;return Math.sqrt((s-n)**2+(a-i)**2)},hoe=(e,r)=>{var{x:s,y:a}=e,{cx:n,cy:i}=r,l=moe({x:s,y:a},{x:n,y:i});if(l<=0)return{radius:l,angle:0};var o=(s-n)/l,d=Math.acos(o);return a>i&&(d=2*Math.PI-d),{radius:l,angle:uoe(d),angleInRadian:d}},xoe=e=>{var{startAngle:r,endAngle:s}=e,a=Math.floor(r/360),n=Math.floor(s/360),i=Math.min(a,n);return{startAngle:r-i*360,endAngle:s-i*360}},poe=(e,r)=>{var{startAngle:s,endAngle:a}=r,n=Math.floor(s/360),i=Math.floor(a/360),l=Math.min(n,i);return e+l*360},foe=(e,r)=>{var{chartX:s,chartY:a}=e,{radius:n,angle:i}=hoe({x:s,y:a},r),{innerRadius:l,outerRadius:o}=r;if(n<l||n>o||n===0)return null;var{startAngle:d,endAngle:c}=xoe(r),u=i,m;if(d<=c){for(;u>c;)u-=360;for(;u<d;)u+=360;m=u>=d&&u<=c}else{for(;u>d;)u-=360;for(;u<c;)u+=360;m=u>=c&&u<=d}return m?SA(SA({},r),{},{radius:n,angle:poe(u,r)}):null};function YM(e){var{cx:r,cy:s,radius:a,startAngle:n,endAngle:i}=e,l=Ps(r,s,a,n),o=Ps(r,s,a,i);return{points:[l,o],cx:r,cy:s,radius:a,startAngle:n,endAngle:i}}function qj(){return qj=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},qj.apply(null,arguments)}var goe=(e,r)=>{var s=Ws(r-e),a=Math.min(Math.abs(r-e),359.999);return s*a},mp=e=>{var{cx:r,cy:s,radius:a,angle:n,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:d}=e,c=o*(l?1:-1)+a,u=Math.asin(o/c)/xg,m=d?n:n+i*u,x=Ps(r,s,c,m),h=Ps(r,s,a,m),p=d?n-i*u:n,f=Ps(r,s,c*Math.cos(u*xg),p);return{center:x,circleTangency:h,lineTangency:f,theta:u}},XM=e=>{var{cx:r,cy:s,innerRadius:a,outerRadius:n,startAngle:i,endAngle:l}=e,o=goe(i,l),d=i+o,c=Ps(r,s,n,i),u=Ps(r,s,n,d),m="M ".concat(c.x,",").concat(c.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>d),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(a>0){var x=Ps(r,s,a,i),h=Ps(r,s,a,d);m+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else m+="L ".concat(r,",").concat(s," Z");return m},yoe=e=>{var{cx:r,cy:s,innerRadius:a,outerRadius:n,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:d,endAngle:c}=e,u=Ws(c-d),{circleTangency:m,lineTangency:x,theta:h}=mp({cx:r,cy:s,radius:n,angle:d,sign:u,cornerRadius:i,cornerIsExternal:o}),{circleTangency:p,lineTangency:f,theta:b}=mp({cx:r,cy:s,radius:n,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:o}),j=o?Math.abs(d-c):Math.abs(d-c)-h-b;if(j<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):XM({cx:r,cy:s,innerRadius:a,outerRadius:n,startAngle:d,endAngle:c});var w="M ".concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(j>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
  `);if(a>0){var{circleTangency:y,lineTangency:v,theta:N}=mp({cx:r,cy:s,radius:a,angle:d,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:S,lineTangency:k,theta:P}=mp({cx:r,cy:s,radius:a,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),C=o?Math.abs(d-c):Math.abs(d-c)-N-P;if(C<0&&i===0)return"".concat(w,"L").concat(r,",").concat(s,"Z");w+="L".concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(u>0),",").concat(y.x,",").concat(y.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,"Z")}else w+="L".concat(r,",").concat(s,"Z");return w},boe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JM=e=>{var r=cs(e,boe),{cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:d,startAngle:c,endAngle:u,className:m}=r;if(i<n||c===u)return null;var x=nr("recharts-sector",m),h=i-n,p=ba(l,h,0,!0),f;return p>0&&Math.abs(c-u)<360?f=yoe({cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:Math.min(p,h/2),forceCornerRadius:o,cornerIsExternal:d,startAngle:c,endAngle:u}):f=XM({cx:s,cy:a,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u}),g.createElement("path",qj({},Sa(r),{className:x,d:f}))};function voe(e,r,s){if(e==="horizontal")return[{x:r.x,y:s.top},{x:r.x,y:s.top+s.height}];if(e==="vertical")return[{x:s.left,y:r.y},{x:s.left+s.width,y:r.y}];if(j9(r)){if(e==="centric"){var{cx:a,cy:n,innerRadius:i,outerRadius:l,angle:o}=r,d=Ps(a,n,i,o),c=Ps(a,n,l,o);return[{x:d.x,y:d.y},{x:c.x,y:c.y}]}return YM(r)}}var QM={},ZM={},eL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=L4;function s(a){return r.isSymbol(a)?NaN:Number(a)}e.toNumber=s})(eL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=eL;function s(a){return a?(a=r.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=s})(ZM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=F4,s=ZM;function a(n,i,l){l&&typeof l!="number"&&r.isIterateeCall(n,i,l)&&(i=l=void 0),n=s.toFinite(n),i===void 0?(i=n,n=0):i=s.toFinite(i),l=l===void 0?n<i?1:-1:s.toFinite(l);const o=Math.max(Math.ceil((i-n)/(l||1)),0),d=new Array(o);for(let c=0;c<o;c++)d[c]=n,n+=l;return d}e.range=a})(QM);var joe=QM.range;const tL=di(joe);function qo(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function woe(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function q4(e){let r,s,a;e.length!==2?(r=qo,s=(o,d)=>qo(e(o),d),a=(o,d)=>e(o)-d):(r=e===qo||e===woe?e:Noe,s=e,a=e);function n(o,d,c=0,u=o.length){if(c<u){if(r(d,d)!==0)return u;do{const m=c+u>>>1;s(o[m],d)<0?c=m+1:u=m}while(c<u)}return c}function i(o,d,c=0,u=o.length){if(c<u){if(r(d,d)!==0)return u;do{const m=c+u>>>1;s(o[m],d)<=0?c=m+1:u=m}while(c<u)}return c}function l(o,d,c=0,u=o.length){const m=n(o,d,c,u-1);return m>c&&a(o[m-1],d)>-a(o[m],d)?m-1:m}return{left:n,center:l,right:i}}function Noe(){return 0}function rL(e){return e===null?NaN:+e}function*Soe(e,r){for(let s of e)s!=null&&(s=+s)>=s&&(yield s)}const koe=q4(qo),nx=koe.right;q4(rL).center;class kA extends Map{constructor(r,s=Aoe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),r!=null)for(const[a,n]of r)this.set(a,n)}get(r){return super.get(CA(this,r))}has(r){return super.has(CA(this,r))}set(r,s){return super.set(Coe(this,r),s)}delete(r){return super.delete(Poe(this,r))}}function CA({_intern:e,_key:r},s){const a=r(s);return e.has(a)?e.get(a):s}function Coe({_intern:e,_key:r},s){const a=r(s);return e.has(a)?e.get(a):(e.set(a,s),s)}function Poe({_intern:e,_key:r},s){const a=r(s);return e.has(a)&&(s=e.get(a),e.delete(a)),s}function Aoe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Toe(e=qo){if(e===qo)return sL;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,s)=>{const a=e(r,s);return a||a===0?a:(e(s,s)===0)-(e(r,r)===0)}}function sL(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}const Eoe=Math.sqrt(50),Ioe=Math.sqrt(10),_oe=Math.sqrt(2);function pg(e,r,s){const a=(r-e)/Math.max(0,s),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),l=i>=Eoe?10:i>=Ioe?5:i>=_oe?2:1;let o,d,c;return n<0?(c=Math.pow(10,-n)/l,o=Math.round(e*c),d=Math.round(r*c),o/c<e&&++o,d/c>r&&--d,c=-c):(c=Math.pow(10,n)*l,o=Math.round(e/c),d=Math.round(r/c),o*c<e&&++o,d*c>r&&--d),d<o&&.5<=s&&s<2?pg(e,r,s*2):[o,d,c]}function Kj(e,r,s){if(r=+r,e=+e,s=+s,!(s>0))return[];if(e===r)return[e];const a=r<e,[n,i,l]=a?pg(r,e,s):pg(e,r,s);if(!(i>=n))return[];const o=i-n+1,d=new Array(o);if(a)if(l<0)for(let c=0;c<o;++c)d[c]=(i-c)/-l;else for(let c=0;c<o;++c)d[c]=(i-c)*l;else if(l<0)for(let c=0;c<o;++c)d[c]=(n+c)/-l;else for(let c=0;c<o;++c)d[c]=(n+c)*l;return d}function Yj(e,r,s){return r=+r,e=+e,s=+s,pg(e,r,s)[2]}function Xj(e,r,s){r=+r,e=+e,s=+s;const a=r<e,n=a?Yj(r,e,s):Yj(e,r,s);return(a?-1:1)*(n<0?1/-n:n)}function PA(e,r){let s;for(const a of e)a!=null&&(s<a||s===void 0&&a>=a)&&(s=a);return s}function AA(e,r){let s;for(const a of e)a!=null&&(s>a||s===void 0&&a>=a)&&(s=a);return s}function aL(e,r,s=0,a=1/0,n){if(r=Math.floor(r),s=Math.floor(Math.max(0,s)),a=Math.floor(Math.min(e.length-1,a)),!(s<=r&&r<=a))return e;for(n=n===void 0?sL:Toe(n);a>s;){if(a-s>600){const d=a-s+1,c=r-s+1,u=Math.log(d),m=.5*Math.exp(2*u/3),x=.5*Math.sqrt(u*m*(d-m)/d)*(c-d/2<0?-1:1),h=Math.max(s,Math.floor(r-c*m/d+x)),p=Math.min(a,Math.floor(r+(d-c)*m/d+x));aL(e,r,h,p,n)}const i=e[r];let l=s,o=a;for(th(e,s,r),n(e[a],i)>0&&th(e,s,a);l<o;){for(th(e,l,o),++l,--o;n(e[l],i)<0;)++l;for(;n(e[o],i)>0;)--o}n(e[s],i)===0?th(e,s,o):(++o,th(e,o,a)),o<=r&&(s=o+1),r<=o&&(a=o-1)}return e}function th(e,r,s){const a=e[r];e[r]=e[s],e[s]=a}function Ooe(e,r,s){if(e=Float64Array.from(Soe(e)),!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return AA(e);if(r>=1)return PA(e);var a,n=(a-1)*r,i=Math.floor(n),l=PA(aL(e,i).subarray(0,i+1)),o=AA(e.subarray(i+1));return l+(o-l)*(n-i)}}function Doe(e,r,s=rL){if(!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return+s(e[0],0,e);if(r>=1)return+s(e[a-1],a-1,e);var a,n=(a-1)*r,i=Math.floor(n),l=+s(e[i],i,e),o=+s(e[i+1],i+1,e);return l+(o-l)*(n-i)}}function Moe(e,r,s){e=+e,r=+r,s=(n=arguments.length)<2?(r=e,e=0,1):n<3?1:+s;for(var a=-1,n=Math.max(0,Math.ceil((r-e)/s))|0,i=new Array(n);++a<n;)i[a]=e+a*s;return i}function ui(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function so(e,r){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const Jj=Symbol("implicit");function K4(){var e=new kA,r=[],s=[],a=Jj;function n(i){let l=e.get(i);if(l===void 0){if(a!==Jj)return a;e.set(i,l=r.push(i)-1)}return s[l%s.length]}return n.domain=function(i){if(!arguments.length)return r.slice();r=[],e=new kA;for(const l of i)e.has(l)||e.set(l,r.push(l)-1);return n},n.range=function(i){return arguments.length?(s=Array.from(i),n):s.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return K4(r,s).unknown(a)},ui.apply(n,arguments),n}function Y4(){var e=K4().unknown(void 0),r=e.domain,s=e.range,a=0,n=1,i,l,o=!1,d=0,c=0,u=.5;delete e.unknown;function m(){var x=r().length,h=n<a,p=h?n:a,f=h?a:n;i=(f-p)/Math.max(1,x-d+c*2),o&&(i=Math.floor(i)),p+=(f-p-i*(x-d))*u,l=i*(1-d),o&&(p=Math.round(p),l=Math.round(l));var b=Moe(x).map(function(j){return p+i*j});return s(h?b.reverse():b)}return e.domain=function(x){return arguments.length?(r(x),m()):r()},e.range=function(x){return arguments.length?([a,n]=x,a=+a,n=+n,m()):[a,n]},e.rangeRound=function(x){return[a,n]=x,a=+a,n=+n,o=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(x){return arguments.length?(o=!!x,m()):o},e.padding=function(x){return arguments.length?(d=Math.min(1,c=+x),m()):d},e.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),m()):d},e.paddingOuter=function(x){return arguments.length?(c=+x,m()):c},e.align=function(x){return arguments.length?(u=Math.max(0,Math.min(1,x)),m()):u},e.copy=function(){return Y4(r(),[a,n]).round(o).paddingInner(d).paddingOuter(c).align(u)},ui.apply(m(),arguments)}function nL(e){var r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nL(r())},e}function Loe(){return nL(Y4.apply(null,arguments).paddingInner(1))}function X4(e,r,s){e.prototype=r.prototype=s,s.constructor=e}function iL(e,r){var s=Object.create(e.prototype);for(var a in r)s[a]=r[a];return s}function ix(){}var y0=.7,fg=1/y0,Du="\\s*([+-]?\\d+)\\s*",b0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Foe=/^#([0-9a-f]{3,8})$/,Roe=new RegExp(`^rgb\\(${Du},${Du},${Du}\\)$`),Boe=new RegExp(`^rgb\\(${Zi},${Zi},${Zi}\\)$`),$oe=new RegExp(`^rgba\\(${Du},${Du},${Du},${b0}\\)$`),zoe=new RegExp(`^rgba\\(${Zi},${Zi},${Zi},${b0}\\)$`),Uoe=new RegExp(`^hsl\\(${b0},${Zi},${Zi}\\)$`),Hoe=new RegExp(`^hsla\\(${b0},${Zi},${Zi},${b0}\\)$`),TA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};X4(ix,v0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:EA,formatHex:EA,formatHex8:Voe,formatHsl:Woe,formatRgb:IA,toString:IA});function EA(){return this.rgb().formatHex()}function Voe(){return this.rgb().formatHex8()}function Woe(){return lL(this).formatHsl()}function IA(){return this.rgb().formatRgb()}function v0(e){var r,s;return e=(e+"").trim().toLowerCase(),(r=Foe.exec(e))?(s=r[1].length,r=parseInt(r[1],16),s===6?_A(r):s===3?new Wa(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):s===8?hp(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):s===4?hp(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Roe.exec(e))?new Wa(r[1],r[2],r[3],1):(r=Boe.exec(e))?new Wa(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=$oe.exec(e))?hp(r[1],r[2],r[3],r[4]):(r=zoe.exec(e))?hp(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Uoe.exec(e))?MA(r[1],r[2]/100,r[3]/100,1):(r=Hoe.exec(e))?MA(r[1],r[2]/100,r[3]/100,r[4]):TA.hasOwnProperty(e)?_A(TA[e]):e==="transparent"?new Wa(NaN,NaN,NaN,0):null}function _A(e){return new Wa(e>>16&255,e>>8&255,e&255,1)}function hp(e,r,s,a){return a<=0&&(e=r=s=NaN),new Wa(e,r,s,a)}function Goe(e){return e instanceof ix||(e=v0(e)),e?(e=e.rgb(),new Wa(e.r,e.g,e.b,e.opacity)):new Wa}function Qj(e,r,s,a){return arguments.length===1?Goe(e):new Wa(e,r,s,a??1)}function Wa(e,r,s,a){this.r=+e,this.g=+r,this.b=+s,this.opacity=+a}X4(Wa,Qj,iL(ix,{brighter(e){return e=e==null?fg:Math.pow(fg,e),new Wa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?y0:Math.pow(y0,e),new Wa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wa(Kc(this.r),Kc(this.g),Kc(this.b),gg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:OA,formatHex:OA,formatHex8:qoe,formatRgb:DA,toString:DA}));function OA(){return`#${Fc(this.r)}${Fc(this.g)}${Fc(this.b)}`}function qoe(){return`#${Fc(this.r)}${Fc(this.g)}${Fc(this.b)}${Fc((isNaN(this.opacity)?1:this.opacity)*255)}`}function DA(){const e=gg(this.opacity);return`${e===1?"rgb(":"rgba("}${Kc(this.r)}, ${Kc(this.g)}, ${Kc(this.b)}${e===1?")":`, ${e})`}`}function gg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fc(e){return e=Kc(e),(e<16?"0":"")+e.toString(16)}function MA(e,r,s,a){return a<=0?e=r=s=NaN:s<=0||s>=1?e=r=NaN:r<=0&&(e=NaN),new Ni(e,r,s,a)}function lL(e){if(e instanceof Ni)return new Ni(e.h,e.s,e.l,e.opacity);if(e instanceof ix||(e=v0(e)),!e)return new Ni;if(e instanceof Ni)return e;e=e.rgb();var r=e.r/255,s=e.g/255,a=e.b/255,n=Math.min(r,s,a),i=Math.max(r,s,a),l=NaN,o=i-n,d=(i+n)/2;return o?(r===i?l=(s-a)/o+(s<a)*6:s===i?l=(a-r)/o+2:l=(r-s)/o+4,o/=d<.5?i+n:2-i-n,l*=60):o=d>0&&d<1?0:l,new Ni(l,o,d,e.opacity)}function Koe(e,r,s,a){return arguments.length===1?lL(e):new Ni(e,r,s,a??1)}function Ni(e,r,s,a){this.h=+e,this.s=+r,this.l=+s,this.opacity=+a}X4(Ni,Koe,iL(ix,{brighter(e){return e=e==null?fg:Math.pow(fg,e),new Ni(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?y0:Math.pow(y0,e),new Ni(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*r,n=2*s-a;return new Wa(w1(e>=240?e-240:e+120,n,a),w1(e,n,a),w1(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new Ni(LA(this.h),xp(this.s),xp(this.l),gg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=gg(this.opacity);return`${e===1?"hsl(":"hsla("}${LA(this.h)}, ${xp(this.s)*100}%, ${xp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function LA(e){return e=(e||0)%360,e<0?e+360:e}function xp(e){return Math.max(0,Math.min(1,e||0))}function w1(e,r,s){return(e<60?r+(s-r)*e/60:e<180?s:e<240?r+(s-r)*(240-e)/60:r)*255}const J4=e=>()=>e;function Yoe(e,r){return function(s){return e+s*r}}function Xoe(e,r,s){return e=Math.pow(e,s),r=Math.pow(r,s)-e,s=1/s,function(a){return Math.pow(e+a*r,s)}}function Joe(e){return(e=+e)==1?oL:function(r,s){return s-r?Xoe(r,s,e):J4(isNaN(r)?s:r)}}function oL(e,r){var s=r-e;return s?Yoe(e,s):J4(isNaN(e)?r:e)}const FA=function e(r){var s=Joe(r);function a(n,i){var l=s((n=Qj(n)).r,(i=Qj(i)).r),o=s(n.g,i.g),d=s(n.b,i.b),c=oL(n.opacity,i.opacity);return function(u){return n.r=l(u),n.g=o(u),n.b=d(u),n.opacity=c(u),n+""}}return a.gamma=e,a}(1);function Qoe(e,r){r||(r=[]);var s=e?Math.min(r.length,e.length):0,a=r.slice(),n;return function(i){for(n=0;n<s;++n)a[n]=e[n]*(1-i)+r[n]*i;return a}}function Zoe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ece(e,r){var s=r?r.length:0,a=e?Math.min(s,e.length):0,n=new Array(a),i=new Array(s),l;for(l=0;l<a;++l)n[l]=Nm(e[l],r[l]);for(;l<s;++l)i[l]=r[l];return function(o){for(l=0;l<a;++l)i[l]=n[l](o);return i}}function tce(e,r){var s=new Date;return e=+e,r=+r,function(a){return s.setTime(e*(1-a)+r*a),s}}function yg(e,r){return e=+e,r=+r,function(s){return e*(1-s)+r*s}}function rce(e,r){var s={},a={},n;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(n in r)n in e?s[n]=Nm(e[n],r[n]):a[n]=r[n];return function(i){for(n in s)a[n]=s[n](i);return a}}var Zj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,N1=new RegExp(Zj.source,"g");function sce(e){return function(){return e}}function ace(e){return function(r){return e(r)+""}}function nce(e,r){var s=Zj.lastIndex=N1.lastIndex=0,a,n,i,l=-1,o=[],d=[];for(e=e+"",r=r+"";(a=Zj.exec(e))&&(n=N1.exec(r));)(i=n.index)>s&&(i=r.slice(s,i),o[l]?o[l]+=i:o[++l]=i),(a=a[0])===(n=n[0])?o[l]?o[l]+=n:o[++l]=n:(o[++l]=null,d.push({i:l,x:yg(a,n)})),s=N1.lastIndex;return s<r.length&&(i=r.slice(s),o[l]?o[l]+=i:o[++l]=i),o.length<2?d[0]?ace(d[0].x):sce(r):(r=d.length,function(c){for(var u=0,m;u<r;++u)o[(m=d[u]).i]=m.x(c);return o.join("")})}function Nm(e,r){var s=typeof r,a;return r==null||s==="boolean"?J4(r):(s==="number"?yg:s==="string"?(a=v0(r))?(r=a,FA):nce:r instanceof v0?FA:r instanceof Date?tce:Zoe(r)?Qoe:Array.isArray(r)?ece:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?rce:yg)(e,r)}function Q4(e,r){return e=+e,r=+r,function(s){return Math.round(e*(1-s)+r*s)}}function ice(e,r){r===void 0&&(r=e,e=Nm);for(var s=0,a=r.length-1,n=r[0],i=new Array(a<0?0:a);s<a;)i[s]=e(n,n=r[++s]);return function(l){var o=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[o](l-o)}}function lce(e){return function(){return e}}function bg(e){return+e}var RA=[0,1];function _a(e){return e}function ew(e,r){return(r-=e=+e)?function(s){return(s-e)/r}:lce(isNaN(r)?NaN:.5)}function oce(e,r){var s;return e>r&&(s=e,e=r,r=s),function(a){return Math.max(e,Math.min(r,a))}}function cce(e,r,s){var a=e[0],n=e[1],i=r[0],l=r[1];return n<a?(a=ew(n,a),i=s(l,i)):(a=ew(a,n),i=s(i,l)),function(o){return i(a(o))}}function dce(e,r,s){var a=Math.min(e.length,r.length)-1,n=new Array(a),i=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++l<a;)n[l]=ew(e[l],e[l+1]),i[l]=s(r[l],r[l+1]);return function(o){var d=nx(e,o,1,a)-1;return i[d](n[d](o))}}function lx(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ub(){var e=RA,r=RA,s=Nm,a,n,i,l=_a,o,d,c;function u(){var x=Math.min(e.length,r.length);return l!==_a&&(l=oce(e[0],e[x-1])),o=x>2?dce:cce,d=c=null,m}function m(x){return x==null||isNaN(x=+x)?i:(d||(d=o(e.map(a),r,s)))(a(l(x)))}return m.invert=function(x){return l(n((c||(c=o(r,e.map(a),yg)))(x)))},m.domain=function(x){return arguments.length?(e=Array.from(x,bg),u()):e.slice()},m.range=function(x){return arguments.length?(r=Array.from(x),u()):r.slice()},m.rangeRound=function(x){return r=Array.from(x),s=Q4,u()},m.clamp=function(x){return arguments.length?(l=x?!0:_a,u()):l!==_a},m.interpolate=function(x){return arguments.length?(s=x,u()):s},m.unknown=function(x){return arguments.length?(i=x,m):i},function(x,h){return a=x,n=h,u()}}function Z4(){return ub()(_a,_a)}function uce(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function vg(e,r){if((s=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var s,a=e.slice(0,s);return[a.length>1?a[0]+a.slice(2):a,+e.slice(s+1)]}function im(e){return e=vg(Math.abs(e)),e?e[1]:NaN}function mce(e,r){return function(s,a){for(var n=s.length,i=[],l=0,o=e[0],d=0;n>0&&o>0&&(d+o+1>a&&(o=Math.max(1,a-d)),i.push(s.substring(n-=o,n+o)),!((d+=o+1)>a));)o=e[l=(l+1)%e.length];return i.reverse().join(r)}}function hce(e){return function(r){return r.replace(/[0-9]/g,function(s){return e[+s]})}}var xce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function j0(e){if(!(r=xce.exec(e)))throw new Error("invalid format: "+e);var r;return new e3({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}j0.prototype=e3.prototype;function e3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}e3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pce(e){e:for(var r=e.length,s=1,a=-1,n;s<r;++s)switch(e[s]){case".":a=n=s;break;case"0":a===0&&(a=s),n=s;break;default:if(!+e[s])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var cL;function fce(e,r){var s=vg(e,r);if(!s)return e+"";var a=s[0],n=s[1],i=n-(cL=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+vg(e,Math.max(0,r+i-1))[0]}function BA(e,r){var s=vg(e,r);if(!s)return e+"";var a=s[0],n=s[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const $A={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:uce,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>BA(e*100,r),r:BA,s:fce,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zA(e){return e}var UA=Array.prototype.map,HA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gce(e){var r=e.grouping===void 0||e.thousands===void 0?zA:mce(UA.call(e.grouping,Number),e.thousands+""),s=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?zA:hce(UA.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function c(m){m=j0(m);var x=m.fill,h=m.align,p=m.sign,f=m.symbol,b=m.zero,j=m.width,w=m.comma,y=m.precision,v=m.trim,N=m.type;N==="n"?(w=!0,N="g"):$A[N]||(y===void 0&&(y=12),v=!0,N="g"),(b||x==="0"&&h==="=")&&(b=!0,x="0",h="=");var S=f==="$"?s:f==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",k=f==="$"?a:/[%p]/.test(N)?l:"",P=$A[N],C=/[defgprs%]/.test(N);y=y===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function I(A){var O=S,R=k,Z,Y,ce;if(N==="c")R=P(A)+R,A="";else{A=+A;var D=A<0||1/A<0;if(A=isNaN(A)?d:P(Math.abs(A),y),v&&(A=pce(A)),D&&+A==0&&p!=="+"&&(D=!1),O=(D?p==="("?p:o:p==="-"||p==="("?"":p)+O,R=(N==="s"?HA[8+cL/3]:"")+R+(D&&p==="("?")":""),C){for(Z=-1,Y=A.length;++Z<Y;)if(ce=A.charCodeAt(Z),48>ce||ce>57){R=(ce===46?n+A.slice(Z+1):A.slice(Z))+R,A=A.slice(0,Z);break}}}w&&!b&&(A=r(A,1/0));var z=O.length+A.length+R.length,se=z<j?new Array(j-z+1).join(x):"";switch(w&&b&&(A=r(se+A,se.length?j-R.length:1/0),se=""),h){case"<":A=O+A+R+se;break;case"=":A=O+se+A+R;break;case"^":A=se.slice(0,z=se.length>>1)+O+A+R+se.slice(z);break;default:A=se+O+A+R;break}return i(A)}return I.toString=function(){return m+""},I}function u(m,x){var h=c((m=j0(m),m.type="f",m)),p=Math.max(-8,Math.min(8,Math.floor(im(x)/3)))*3,f=Math.pow(10,-p),b=HA[8+p/3];return function(j){return h(f*j)+b}}return{format:c,formatPrefix:u}}var pp,t3,dL;yce({thousands:",",grouping:[3],currency:["$",""]});function yce(e){return pp=gce(e),t3=pp.format,dL=pp.formatPrefix,pp}function bce(e){return Math.max(0,-im(Math.abs(e)))}function vce(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(im(r)/3)))*3-im(Math.abs(e)))}function jce(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,im(r)-im(e))+1}function uL(e,r,s,a){var n=Xj(e,r,s),i;switch(a=j0(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(r));return a.precision==null&&!isNaN(i=vce(n,l))&&(a.precision=i),dL(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=jce(n,Math.max(Math.abs(e),Math.abs(r))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=bce(n))&&(a.precision=i-(a.type==="%")*2);break}}return t3(a)}function mc(e){var r=e.domain;return e.ticks=function(s){var a=r();return Kj(a[0],a[a.length-1],s??10)},e.tickFormat=function(s,a){var n=r();return uL(n[0],n[n.length-1],s??10,a)},e.nice=function(s){s==null&&(s=10);var a=r(),n=0,i=a.length-1,l=a[n],o=a[i],d,c,u=10;for(o<l&&(c=l,l=o,o=c,c=n,n=i,i=c);u-- >0;){if(c=Yj(l,o,s),c===d)return a[n]=l,a[i]=o,r(a);if(c>0)l=Math.floor(l/c)*c,o=Math.ceil(o/c)*c;else if(c<0)l=Math.ceil(l*c)/c,o=Math.floor(o*c)/c;else break;d=c}return e},e}function mL(){var e=Z4();return e.copy=function(){return lx(e,mL())},ui.apply(e,arguments),mc(e)}function hL(e){var r;function s(a){return a==null||isNaN(a=+a)?r:a}return s.invert=s,s.domain=s.range=function(a){return arguments.length?(e=Array.from(a,bg),s):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return hL(e).unknown(r)},e=arguments.length?Array.from(e,bg):[0,1],mc(s)}function xL(e,r){e=e.slice();var s=0,a=e.length-1,n=e[s],i=e[a],l;return i<n&&(l=s,s=a,a=l,l=n,n=i,i=l),e[s]=r.floor(n),e[a]=r.ceil(i),e}function VA(e){return Math.log(e)}function WA(e){return Math.exp(e)}function wce(e){return-Math.log(-e)}function Nce(e){return-Math.exp(-e)}function Sce(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kce(e){return e===10?Sce:e===Math.E?Math.exp:r=>Math.pow(e,r)}function Cce(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function GA(e){return(r,s)=>-e(-r,s)}function r3(e){const r=e(VA,WA),s=r.domain;let a=10,n,i;function l(){return n=Cce(a),i=kce(a),s()[0]<0?(n=GA(n),i=GA(i),e(wce,Nce)):e(VA,WA),r}return r.base=function(o){return arguments.length?(a=+o,l()):a},r.domain=function(o){return arguments.length?(s(o),l()):s()},r.ticks=o=>{const d=s();let c=d[0],u=d[d.length-1];const m=u<c;m&&([c,u]=[u,c]);let x=n(c),h=n(u),p,f;const b=o==null?10:+o;let j=[];if(!(a%1)&&h-x<b){if(x=Math.floor(x),h=Math.ceil(h),c>0){for(;x<=h;++x)for(p=1;p<a;++p)if(f=x<0?p/i(-x):p*i(x),!(f<c)){if(f>u)break;j.push(f)}}else for(;x<=h;++x)for(p=a-1;p>=1;--p)if(f=x>0?p/i(-x):p*i(x),!(f<c)){if(f>u)break;j.push(f)}j.length*2<b&&(j=Kj(c,u,b))}else j=Kj(x,h,Math.min(h-x,b)).map(i);return m?j.reverse():j},r.tickFormat=(o,d)=>{if(o==null&&(o=10),d==null&&(d=a===10?"s":","),typeof d!="function"&&(!(a%1)&&(d=j0(d)).precision==null&&(d.trim=!0),d=t3(d)),o===1/0)return d;const c=Math.max(1,a*o/r.ticks().length);return u=>{let m=u/i(Math.round(n(u)));return m*a<a-.5&&(m*=a),m<=c?d(u):""}},r.nice=()=>s(xL(s(),{floor:o=>i(Math.floor(n(o))),ceil:o=>i(Math.ceil(n(o)))})),r}function pL(){const e=r3(ub()).domain([1,10]);return e.copy=()=>lx(e,pL()).base(e.base()),ui.apply(e,arguments),e}function qA(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function KA(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function s3(e){var r=1,s=e(qA(r),KA(r));return s.constant=function(a){return arguments.length?e(qA(r=+a),KA(r)):r},mc(s)}function fL(){var e=s3(ub());return e.copy=function(){return lx(e,fL()).constant(e.constant())},ui.apply(e,arguments)}function YA(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function Pce(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ace(e){return e<0?-e*e:e*e}function a3(e){var r=e(_a,_a),s=1;function a(){return s===1?e(_a,_a):s===.5?e(Pce,Ace):e(YA(s),YA(1/s))}return r.exponent=function(n){return arguments.length?(s=+n,a()):s},mc(r)}function n3(){var e=a3(ub());return e.copy=function(){return lx(e,n3()).exponent(e.exponent())},ui.apply(e,arguments),e}function Tce(){return n3.apply(null,arguments).exponent(.5)}function XA(e){return Math.sign(e)*e*e}function Ece(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function gL(){var e=Z4(),r=[0,1],s=!1,a;function n(i){var l=Ece(e(i));return isNaN(l)?a:s?Math.round(l):l}return n.invert=function(i){return e.invert(XA(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((r=Array.from(i,bg)).map(XA)),n):r.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(s=!!i,n):s},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return gL(e.domain(),r).round(s).clamp(e.clamp()).unknown(a)},ui.apply(n,arguments),mc(n)}function yL(){var e=[],r=[],s=[],a;function n(){var l=0,o=Math.max(1,r.length);for(s=new Array(o-1);++l<o;)s[l-1]=Doe(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?a:r[nx(s,l)]}return i.invertExtent=function(l){var o=r.indexOf(l);return o<0?[NaN,NaN]:[o>0?s[o-1]:e[0],o<s.length?s[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(qo),n()},i.range=function(l){return arguments.length?(r=Array.from(l),n()):r.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return s.slice()},i.copy=function(){return yL().domain(e).range(r).unknown(a)},ui.apply(i,arguments)}function bL(){var e=0,r=1,s=1,a=[.5],n=[0,1],i;function l(d){return d!=null&&d<=d?n[nx(a,d,0,s)]:i}function o(){var d=-1;for(a=new Array(s);++d<s;)a[d]=((d+1)*r-(d-s)*e)/(s+1);return l}return l.domain=function(d){return arguments.length?([e,r]=d,e=+e,r=+r,o()):[e,r]},l.range=function(d){return arguments.length?(s=(n=Array.from(d)).length-1,o()):n.slice()},l.invertExtent=function(d){var c=n.indexOf(d);return c<0?[NaN,NaN]:c<1?[e,a[0]]:c>=s?[a[s-1],r]:[a[c-1],a[c]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return a.slice()},l.copy=function(){return bL().domain([e,r]).range(n).unknown(i)},ui.apply(mc(l),arguments)}function vL(){var e=[.5],r=[0,1],s,a=1;function n(i){return i!=null&&i<=i?r[nx(e,i,0,a)]:s}return n.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,r.length-1),n):e.slice()},n.range=function(i){return arguments.length?(r=Array.from(i),a=Math.min(e.length,r.length-1),n):r.slice()},n.invertExtent=function(i){var l=r.indexOf(i);return[e[l-1],e[l]]},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return vL().domain(e).range(r).unknown(s)},ui.apply(n,arguments)}const S1=new Date,k1=new Date;function Rs(e,r,s,a){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),r(i,1),e(i),i),n.round=i=>{const l=n(i),o=n.ceil(i);return i-l<o-i?l:o},n.offset=(i,l)=>(r(i=new Date(+i),l==null?1:Math.floor(l)),i),n.range=(i,l,o)=>{const d=[];if(i=n.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return d;let c;do d.push(c=new Date(+i)),r(i,o),e(i);while(c<i&&i<l);return d},n.filter=i=>Rs(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;r(l,-1),!i(l););else for(;--o>=0;)for(;r(l,1),!i(l););}),s&&(n.count=(i,l)=>(S1.setTime(+i),k1.setTime(+l),e(S1),e(k1),Math.floor(s(S1,k1))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?l=>a(l)%i===0:l=>n.count(0,l)%i===0):n)),n}const jg=Rs(()=>{},(e,r)=>{e.setTime(+e+r)},(e,r)=>r-e);jg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Rs(r=>{r.setTime(Math.floor(r/e)*e)},(r,s)=>{r.setTime(+r+s*e)},(r,s)=>(s-r)/e):jg);jg.range;const gl=1e3,ei=gl*60,yl=ei*60,Hl=yl*24,i3=Hl*7,JA=Hl*30,C1=Hl*365,Rc=Rs(e=>{e.setTime(e-e.getMilliseconds())},(e,r)=>{e.setTime(+e+r*gl)},(e,r)=>(r-e)/gl,e=>e.getUTCSeconds());Rc.range;const l3=Rs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gl)},(e,r)=>{e.setTime(+e+r*ei)},(e,r)=>(r-e)/ei,e=>e.getMinutes());l3.range;const o3=Rs(e=>{e.setUTCSeconds(0,0)},(e,r)=>{e.setTime(+e+r*ei)},(e,r)=>(r-e)/ei,e=>e.getUTCMinutes());o3.range;const c3=Rs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gl-e.getMinutes()*ei)},(e,r)=>{e.setTime(+e+r*yl)},(e,r)=>(r-e)/yl,e=>e.getHours());c3.range;const d3=Rs(e=>{e.setUTCMinutes(0,0,0)},(e,r)=>{e.setTime(+e+r*yl)},(e,r)=>(r-e)/yl,e=>e.getUTCHours());d3.range;const ox=Rs(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ei)/Hl,e=>e.getDate()-1);ox.range;const mb=Rs(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/Hl,e=>e.getUTCDate()-1);mb.range;const jL=Rs(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/Hl,e=>Math.floor(e/Hl));jL.range;function Od(e){return Rs(r=>{r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},(r,s)=>{r.setDate(r.getDate()+s*7)},(r,s)=>(s-r-(s.getTimezoneOffset()-r.getTimezoneOffset())*ei)/i3)}const hb=Od(0),wg=Od(1),Ice=Od(2),_ce=Od(3),lm=Od(4),Oce=Od(5),Dce=Od(6);hb.range;wg.range;Ice.range;_ce.range;lm.range;Oce.range;Dce.range;function Dd(e){return Rs(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCDate(r.getUTCDate()+s*7)},(r,s)=>(s-r)/i3)}const xb=Dd(0),Ng=Dd(1),Mce=Dd(2),Lce=Dd(3),om=Dd(4),Fce=Dd(5),Rce=Dd(6);xb.range;Ng.range;Mce.range;Lce.range;om.range;Fce.range;Rce.range;const u3=Rs(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,r)=>{e.setMonth(e.getMonth()+r)},(e,r)=>r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12,e=>e.getMonth());u3.range;const m3=Rs(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCMonth(e.getUTCMonth()+r)},(e,r)=>r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());m3.range;const Vl=Rs(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r)},(e,r)=>r.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rs(r=>{r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,s)=>{r.setFullYear(r.getFullYear()+s*e)});Vl.range;const Wl=Rs(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r)},(e,r)=>r.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rs(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCFullYear(r.getUTCFullYear()+s*e)});Wl.range;function wL(e,r,s,a,n,i){const l=[[Rc,1,gl],[Rc,5,5*gl],[Rc,15,15*gl],[Rc,30,30*gl],[i,1,ei],[i,5,5*ei],[i,15,15*ei],[i,30,30*ei],[n,1,yl],[n,3,3*yl],[n,6,6*yl],[n,12,12*yl],[a,1,Hl],[a,2,2*Hl],[s,1,i3],[r,1,JA],[r,3,3*JA],[e,1,C1]];function o(c,u,m){const x=u<c;x&&([c,u]=[u,c]);const h=m&&typeof m.range=="function"?m:d(c,u,m),p=h?h.range(c,+u+1):[];return x?p.reverse():p}function d(c,u,m){const x=Math.abs(u-c)/m,h=q4(([,,b])=>b).right(l,x);if(h===l.length)return e.every(Xj(c/C1,u/C1,m));if(h===0)return jg.every(Math.max(Xj(c,u,m),1));const[p,f]=l[x/l[h-1][2]<l[h][2]/x?h-1:h];return p.every(f)}return[o,d]}const[Bce,$ce]=wL(Wl,m3,xb,jL,d3,o3),[zce,Uce]=wL(Vl,u3,hb,ox,c3,l3);function P1(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function A1(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function rh(e,r,s){return{y:e,m:r,d:s,H:0,M:0,S:0,L:0}}function Hce(e){var r=e.dateTime,s=e.date,a=e.time,n=e.periods,i=e.days,l=e.shortDays,o=e.months,d=e.shortMonths,c=sh(n),u=ah(n),m=sh(i),x=ah(i),h=sh(l),p=ah(l),f=sh(o),b=ah(o),j=sh(d),w=ah(d),y={a:D,A:z,b:se,B:K,c:null,d:s8,e:s8,f:mde,g:wde,G:Sde,H:cde,I:dde,j:ude,L:NL,m:hde,M:xde,p:_,q:M,Q:i8,s:l8,S:pde,u:fde,U:gde,V:yde,w:bde,W:vde,x:null,X:null,y:jde,Y:Nde,Z:kde,"%":n8},v={a:F,A:B,b:q,B:ae,c:null,d:a8,e:a8,f:Tde,g:Bde,G:zde,H:Cde,I:Pde,j:Ade,L:kL,m:Ede,M:Ide,p:V,q:G,Q:i8,s:l8,S:_de,u:Ode,U:Dde,V:Mde,w:Lde,W:Fde,x:null,X:null,y:Rde,Y:$de,Z:Ude,"%":n8},N={a:I,A,b:O,B:R,c:Z,d:t8,e:t8,f:nde,g:e8,G:ZA,H:r8,I:r8,j:tde,L:ade,m:ede,M:rde,p:C,q:Zce,Q:lde,s:ode,S:sde,u:Kce,U:Yce,V:Xce,w:qce,W:Jce,x:Y,X:ce,y:e8,Y:ZA,Z:Qce,"%":ide};y.x=S(s,y),y.X=S(a,y),y.c=S(r,y),v.x=S(s,v),v.X=S(a,v),v.c=S(r,v);function S(te,pe){return function(ye){var he=[],Qe=-1,W=0,Ie=te.length,Se,we,L;for(ye instanceof Date||(ye=new Date(+ye));++Qe<Ie;)te.charCodeAt(Qe)===37&&(he.push(te.slice(W,Qe)),(we=QA[Se=te.charAt(++Qe)])!=null?Se=te.charAt(++Qe):we=Se==="e"?" ":"0",(L=pe[Se])&&(Se=L(ye,we)),he.push(Se),W=Qe+1);return he.push(te.slice(W,Qe)),he.join("")}}function k(te,pe){return function(ye){var he=rh(1900,void 0,1),Qe=P(he,te,ye+="",0),W,Ie;if(Qe!=ye.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(pe&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(W=A1(rh(he.y,0,1)),Ie=W.getUTCDay(),W=Ie>4||Ie===0?Ng.ceil(W):Ng(W),W=mb.offset(W,(he.V-1)*7),he.y=W.getUTCFullYear(),he.m=W.getUTCMonth(),he.d=W.getUTCDate()+(he.w+6)%7):(W=P1(rh(he.y,0,1)),Ie=W.getDay(),W=Ie>4||Ie===0?wg.ceil(W):wg(W),W=ox.offset(W,(he.V-1)*7),he.y=W.getFullYear(),he.m=W.getMonth(),he.d=W.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Ie="Z"in he?A1(rh(he.y,0,1)).getUTCDay():P1(rh(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Ie+5)%7:he.w+he.U*7-(Ie+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,A1(he)):P1(he)}}function P(te,pe,ye,he){for(var Qe=0,W=pe.length,Ie=ye.length,Se,we;Qe<W;){if(he>=Ie)return-1;if(Se=pe.charCodeAt(Qe++),Se===37){if(Se=pe.charAt(Qe++),we=N[Se in QA?pe.charAt(Qe++):Se],!we||(he=we(te,ye,he))<0)return-1}else if(Se!=ye.charCodeAt(he++))return-1}return he}function C(te,pe,ye){var he=c.exec(pe.slice(ye));return he?(te.p=u.get(he[0].toLowerCase()),ye+he[0].length):-1}function I(te,pe,ye){var he=h.exec(pe.slice(ye));return he?(te.w=p.get(he[0].toLowerCase()),ye+he[0].length):-1}function A(te,pe,ye){var he=m.exec(pe.slice(ye));return he?(te.w=x.get(he[0].toLowerCase()),ye+he[0].length):-1}function O(te,pe,ye){var he=j.exec(pe.slice(ye));return he?(te.m=w.get(he[0].toLowerCase()),ye+he[0].length):-1}function R(te,pe,ye){var he=f.exec(pe.slice(ye));return he?(te.m=b.get(he[0].toLowerCase()),ye+he[0].length):-1}function Z(te,pe,ye){return P(te,r,pe,ye)}function Y(te,pe,ye){return P(te,s,pe,ye)}function ce(te,pe,ye){return P(te,a,pe,ye)}function D(te){return l[te.getDay()]}function z(te){return i[te.getDay()]}function se(te){return d[te.getMonth()]}function K(te){return o[te.getMonth()]}function _(te){return n[+(te.getHours()>=12)]}function M(te){return 1+~~(te.getMonth()/3)}function F(te){return l[te.getUTCDay()]}function B(te){return i[te.getUTCDay()]}function q(te){return d[te.getUTCMonth()]}function ae(te){return o[te.getUTCMonth()]}function V(te){return n[+(te.getUTCHours()>=12)]}function G(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var pe=S(te+="",y);return pe.toString=function(){return te},pe},parse:function(te){var pe=k(te+="",!1);return pe.toString=function(){return te},pe},utcFormat:function(te){var pe=S(te+="",v);return pe.toString=function(){return te},pe},utcParse:function(te){var pe=k(te+="",!0);return pe.toString=function(){return te},pe}}}var QA={"-":"",_:" ",0:"0"},Xs=/^\s*\d+/,Vce=/^%/,Wce=/[\\^$*+?|[\]().{}]/g;function lr(e,r,s){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<s?new Array(s-i+1).join(r)+n:n)}function Gce(e){return e.replace(Wce,"\\$&")}function sh(e){return new RegExp("^(?:"+e.map(Gce).join("|")+")","i")}function ah(e){return new Map(e.map((r,s)=>[r.toLowerCase(),s]))}function qce(e,r,s){var a=Xs.exec(r.slice(s,s+1));return a?(e.w=+a[0],s+a[0].length):-1}function Kce(e,r,s){var a=Xs.exec(r.slice(s,s+1));return a?(e.u=+a[0],s+a[0].length):-1}function Yce(e,r,s){var a=Xs.exec(r.slice(s,s+2));return a?(e.U=+a[0],s+a[0].length):-1}function Xce(e,r,s){var a=Xs.exec(r.slice(s,s+2));return a?(e.V=+a[0],s+a[0].length):-1}function Jce(e,r,s){var a=Xs.exec(r.slice(s,s+2));return a?(e.W=+a[0],s+a[0].length):-1}function ZA(e,r,s){var a=Xs.exec(r.slice(s,s+4));return a?(e.y=+a[0],s+a[0].length):-1}function e8(e,r,s){var a=Xs.exec(r.slice(s,s+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),s+a[0].length):-1}function Qce(e,r,s){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(s,s+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),s+a[0].length):-1}function Zce(e,r,s){var a=Xs.exec(r.slice(s,s+1));return a?(e.q=a[0]*3-3,s+a[0].length):-1}function ede(e,r,s){var a=Xs.exec(r.slice(s,s+2));return a?(e.m=a[0]-1,s+a[0].length):-1}function t8(e,r,s){var a=Xs.exec(r.slice(s,s+2));return a?(e.d=+a[0],s+a[0].length):-1}function tde(e,r,s){var a=Xs.exec(r.slice(s,s+3));return a?(e.m=0,e.d=+a[0],s+a[0].length):-1}function r8(e,r,s){var a=Xs.exec(r.slice(s,s+2));return a?(e.H=+a[0],s+a[0].length):-1}function rde(e,r,s){var a=Xs.exec(r.slice(s,s+2));return a?(e.M=+a[0],s+a[0].length):-1}function sde(e,r,s){var a=Xs.exec(r.slice(s,s+2));return a?(e.S=+a[0],s+a[0].length):-1}function ade(e,r,s){var a=Xs.exec(r.slice(s,s+3));return a?(e.L=+a[0],s+a[0].length):-1}function nde(e,r,s){var a=Xs.exec(r.slice(s,s+6));return a?(e.L=Math.floor(a[0]/1e3),s+a[0].length):-1}function ide(e,r,s){var a=Vce.exec(r.slice(s,s+1));return a?s+a[0].length:-1}function lde(e,r,s){var a=Xs.exec(r.slice(s));return a?(e.Q=+a[0],s+a[0].length):-1}function ode(e,r,s){var a=Xs.exec(r.slice(s));return a?(e.s=+a[0],s+a[0].length):-1}function s8(e,r){return lr(e.getDate(),r,2)}function cde(e,r){return lr(e.getHours(),r,2)}function dde(e,r){return lr(e.getHours()%12||12,r,2)}function ude(e,r){return lr(1+ox.count(Vl(e),e),r,3)}function NL(e,r){return lr(e.getMilliseconds(),r,3)}function mde(e,r){return NL(e,r)+"000"}function hde(e,r){return lr(e.getMonth()+1,r,2)}function xde(e,r){return lr(e.getMinutes(),r,2)}function pde(e,r){return lr(e.getSeconds(),r,2)}function fde(e){var r=e.getDay();return r===0?7:r}function gde(e,r){return lr(hb.count(Vl(e)-1,e),r,2)}function SL(e){var r=e.getDay();return r>=4||r===0?lm(e):lm.ceil(e)}function yde(e,r){return e=SL(e),lr(lm.count(Vl(e),e)+(Vl(e).getDay()===4),r,2)}function bde(e){return e.getDay()}function vde(e,r){return lr(wg.count(Vl(e)-1,e),r,2)}function jde(e,r){return lr(e.getFullYear()%100,r,2)}function wde(e,r){return e=SL(e),lr(e.getFullYear()%100,r,2)}function Nde(e,r){return lr(e.getFullYear()%1e4,r,4)}function Sde(e,r){var s=e.getDay();return e=s>=4||s===0?lm(e):lm.ceil(e),lr(e.getFullYear()%1e4,r,4)}function kde(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+lr(r/60|0,"0",2)+lr(r%60,"0",2)}function a8(e,r){return lr(e.getUTCDate(),r,2)}function Cde(e,r){return lr(e.getUTCHours(),r,2)}function Pde(e,r){return lr(e.getUTCHours()%12||12,r,2)}function Ade(e,r){return lr(1+mb.count(Wl(e),e),r,3)}function kL(e,r){return lr(e.getUTCMilliseconds(),r,3)}function Tde(e,r){return kL(e,r)+"000"}function Ede(e,r){return lr(e.getUTCMonth()+1,r,2)}function Ide(e,r){return lr(e.getUTCMinutes(),r,2)}function _de(e,r){return lr(e.getUTCSeconds(),r,2)}function Ode(e){var r=e.getUTCDay();return r===0?7:r}function Dde(e,r){return lr(xb.count(Wl(e)-1,e),r,2)}function CL(e){var r=e.getUTCDay();return r>=4||r===0?om(e):om.ceil(e)}function Mde(e,r){return e=CL(e),lr(om.count(Wl(e),e)+(Wl(e).getUTCDay()===4),r,2)}function Lde(e){return e.getUTCDay()}function Fde(e,r){return lr(Ng.count(Wl(e)-1,e),r,2)}function Rde(e,r){return lr(e.getUTCFullYear()%100,r,2)}function Bde(e,r){return e=CL(e),lr(e.getUTCFullYear()%100,r,2)}function $de(e,r){return lr(e.getUTCFullYear()%1e4,r,4)}function zde(e,r){var s=e.getUTCDay();return e=s>=4||s===0?om(e):om.ceil(e),lr(e.getUTCFullYear()%1e4,r,4)}function Ude(){return"+0000"}function n8(){return"%"}function i8(e){return+e}function l8(e){return Math.floor(+e/1e3)}var Gd,PL,AL;Hde({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Hde(e){return Gd=Hce(e),PL=Gd.format,Gd.parse,AL=Gd.utcFormat,Gd.utcParse,Gd}function Vde(e){return new Date(e)}function Wde(e){return e instanceof Date?+e:+new Date(+e)}function h3(e,r,s,a,n,i,l,o,d,c){var u=Z4(),m=u.invert,x=u.domain,h=c(".%L"),p=c(":%S"),f=c("%I:%M"),b=c("%I %p"),j=c("%a %d"),w=c("%b %d"),y=c("%B"),v=c("%Y");function N(S){return(d(S)<S?h:o(S)<S?p:l(S)<S?f:i(S)<S?b:a(S)<S?n(S)<S?j:w:s(S)<S?y:v)(S)}return u.invert=function(S){return new Date(m(S))},u.domain=function(S){return arguments.length?x(Array.from(S,Wde)):x().map(Vde)},u.ticks=function(S){var k=x();return e(k[0],k[k.length-1],S??10)},u.tickFormat=function(S,k){return k==null?N:c(k)},u.nice=function(S){var k=x();return(!S||typeof S.range!="function")&&(S=r(k[0],k[k.length-1],S??10)),S?x(xL(k,S)):u},u.copy=function(){return lx(u,h3(e,r,s,a,n,i,l,o,d,c))},u}function Gde(){return ui.apply(h3(zce,Uce,Vl,u3,hb,ox,c3,l3,Rc,PL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qde(){return ui.apply(h3(Bce,$ce,Wl,m3,xb,mb,d3,o3,Rc,AL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pb(){var e=0,r=1,s,a,n,i,l=_a,o=!1,d;function c(m){return m==null||isNaN(m=+m)?d:l(n===0?.5:(m=(i(m)-s)*n,o?Math.max(0,Math.min(1,m)):m))}c.domain=function(m){return arguments.length?([e,r]=m,s=i(e=+e),a=i(r=+r),n=s===a?0:1/(a-s),c):[e,r]},c.clamp=function(m){return arguments.length?(o=!!m,c):o},c.interpolator=function(m){return arguments.length?(l=m,c):l};function u(m){return function(x){var h,p;return arguments.length?([h,p]=x,l=m(h,p),c):[l(0),l(1)]}}return c.range=u(Nm),c.rangeRound=u(Q4),c.unknown=function(m){return arguments.length?(d=m,c):d},function(m){return i=m,s=m(e),a=m(r),n=s===a?0:1/(a-s),c}}function hc(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function TL(){var e=mc(pb()(_a));return e.copy=function(){return hc(e,TL())},so.apply(e,arguments)}function EL(){var e=r3(pb()).domain([1,10]);return e.copy=function(){return hc(e,EL()).base(e.base())},so.apply(e,arguments)}function IL(){var e=s3(pb());return e.copy=function(){return hc(e,IL()).constant(e.constant())},so.apply(e,arguments)}function x3(){var e=a3(pb());return e.copy=function(){return hc(e,x3()).exponent(e.exponent())},so.apply(e,arguments)}function Kde(){return x3.apply(null,arguments).exponent(.5)}function _L(){var e=[],r=_a;function s(a){if(a!=null&&!isNaN(a=+a))return r((nx(e,a,1)-1)/(e.length-1))}return s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let n of a)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(qo),s},s.interpolator=function(a){return arguments.length?(r=a,s):r},s.range=function(){return e.map((a,n)=>r(n/(e.length-1)))},s.quantiles=function(a){return Array.from({length:a+1},(n,i)=>Ooe(e,i/a))},s.copy=function(){return _L(r).domain(e)},so.apply(s,arguments)}function fb(){var e=0,r=.5,s=1,a=1,n,i,l,o,d,c=_a,u,m=!1,x;function h(f){return isNaN(f=+f)?x:(f=.5+((f=+u(f))-i)*(a*f<a*i?o:d),c(m?Math.max(0,Math.min(1,f)):f))}h.domain=function(f){return arguments.length?([e,r,s]=f,n=u(e=+e),i=u(r=+r),l=u(s=+s),o=n===i?0:.5/(i-n),d=i===l?0:.5/(l-i),a=i<n?-1:1,h):[e,r,s]},h.clamp=function(f){return arguments.length?(m=!!f,h):m},h.interpolator=function(f){return arguments.length?(c=f,h):c};function p(f){return function(b){var j,w,y;return arguments.length?([j,w,y]=b,c=ice(f,[j,w,y]),h):[c(0),c(.5),c(1)]}}return h.range=p(Nm),h.rangeRound=p(Q4),h.unknown=function(f){return arguments.length?(x=f,h):x},function(f){return u=f,n=f(e),i=f(r),l=f(s),o=n===i?0:.5/(i-n),d=i===l?0:.5/(l-i),a=i<n?-1:1,h}}function OL(){var e=mc(fb()(_a));return e.copy=function(){return hc(e,OL())},so.apply(e,arguments)}function DL(){var e=r3(fb()).domain([.1,1,10]);return e.copy=function(){return hc(e,DL()).base(e.base())},so.apply(e,arguments)}function ML(){var e=s3(fb());return e.copy=function(){return hc(e,ML()).constant(e.constant())},so.apply(e,arguments)}function p3(){var e=a3(fb());return e.copy=function(){return hc(e,p3()).exponent(e.exponent())},so.apply(e,arguments)}function Yde(){return p3.apply(null,arguments).exponent(.5)}const fh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Y4,scaleDiverging:OL,scaleDivergingLog:DL,scaleDivergingPow:p3,scaleDivergingSqrt:Yde,scaleDivergingSymlog:ML,scaleIdentity:hL,scaleImplicit:Jj,scaleLinear:mL,scaleLog:pL,scaleOrdinal:K4,scalePoint:Loe,scalePow:n3,scaleQuantile:yL,scaleQuantize:bL,scaleRadial:gL,scaleSequential:TL,scaleSequentialLog:EL,scaleSequentialPow:x3,scaleSequentialQuantile:_L,scaleSequentialSqrt:Kde,scaleSequentialSymlog:IL,scaleSqrt:Tce,scaleSymlog:fL,scaleThreshold:vL,scaleTime:Gde,scaleUtc:qde,tickFormat:uL},Symbol.toStringTag,{value:"Module"}));var xc=e=>e.chartData,f3=Ce([xc],e=>{var r=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:r,dataStartIndex:0}}),cx=(e,r,s,a)=>a?f3(e):xc(e);function fd(e){if(Array.isArray(e)&&e.length===2){var[r,s]=e;if(Rr(r)&&Rr(s))return!0}return!1}function o8(e,r,s){return s?e:[Math.min(e[0],r[0]),Math.max(e[1],r[1])]}function LL(e,r){if(r&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[s,a]=e,n,i;if(Rr(s))n=s;else if(typeof s=="function")return;if(Rr(a))i=a;else if(typeof a=="function")return;var l=[n,i];if(fd(l))return l}}function Xde(e,r,s){if(!(!s&&r==null)){if(typeof e=="function"&&r!=null)try{var a=e(r,s);if(fd(a))return o8(a,r,s)}catch{}if(Array.isArray(e)&&e.length===2){var[n,i]=e,l,o;if(n==="auto")r!=null&&(l=Math.min(...r));else if(bt(n))l=n;else if(typeof n=="function")try{r!=null&&(l=n(r==null?void 0:r[0]))}catch{}else if(typeof n=="string"&&XP.test(n)){var d=XP.exec(n);if(d==null||r==null)l=void 0;else{var c=+d[1];l=r[0]-c}}else l=r==null?void 0:r[0];if(i==="auto")r!=null&&(o=Math.max(...r));else if(bt(i))o=i;else if(typeof i=="function")try{r!=null&&(o=i(r==null?void 0:r[1]))}catch{}else if(typeof i=="string"&&JP.test(i)){var u=JP.exec(i);if(u==null||r==null)o=void 0;else{var m=+u[1];o=r[1]+m}}else o=r==null?void 0:r[1];var x=[l,o];if(fd(x))return r==null?x:o8(x,r,s)}}}var Sm=1e9,Jde={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},y3,Hr=!0,ci="[DecimalError] ",Yc=ci+"Invalid argument: ",g3=ci+"Exponent out of range: ",km=Math.floor,Ac=Math.pow,Qde=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yn,Us=1e7,Dr=7,FL=9007199254740991,Sg=km(FL/Dr),Nt={};Nt.absoluteValue=Nt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Nt.comparedTo=Nt.cmp=function(e){var r,s,a,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,n=e.d.length,r=0,s=a<n?a:n;r<s;++r)if(i.d[r]!==e.d[r])return i.d[r]>e.d[r]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};Nt.decimalPlaces=Nt.dp=function(){var e=this,r=e.d.length-1,s=(r-e.e)*Dr;if(r=e.d[r],r)for(;r%10==0;r/=10)s--;return s<0?0:s};Nt.dividedBy=Nt.div=function(e){return Al(this,new this.constructor(e))};Nt.dividedToIntegerBy=Nt.idiv=function(e){var r=this,s=r.constructor;return jr(Al(r,new s(e),0,1),s.precision)};Nt.equals=Nt.eq=function(e){return!this.cmp(e)};Nt.exponent=function(){return As(this)};Nt.greaterThan=Nt.gt=function(e){return this.cmp(e)>0};Nt.greaterThanOrEqualTo=Nt.gte=function(e){return this.cmp(e)>=0};Nt.isInteger=Nt.isint=function(){return this.e>this.d.length-2};Nt.isNegative=Nt.isneg=function(){return this.s<0};Nt.isPositive=Nt.ispos=function(){return this.s>0};Nt.isZero=function(){return this.s===0};Nt.lessThan=Nt.lt=function(e){return this.cmp(e)<0};Nt.lessThanOrEqualTo=Nt.lte=function(e){return this.cmp(e)<1};Nt.logarithm=Nt.log=function(e){var r,s=this,a=s.constructor,n=a.precision,i=n+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(yn))throw Error(ci+"NaN");if(s.s<1)throw Error(ci+(s.s?"NaN":"-Infinity"));return s.eq(yn)?new a(0):(Hr=!1,r=Al(w0(s,i),w0(e,i),i),Hr=!0,jr(r,n))};Nt.minus=Nt.sub=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?$L(r,e):RL(r,(e.s=-e.s,e))};Nt.modulo=Nt.mod=function(e){var r,s=this,a=s.constructor,n=a.precision;if(e=new a(e),!e.s)throw Error(ci+"NaN");return s.s?(Hr=!1,r=Al(s,e,0,1).times(e),Hr=!0,s.minus(r)):jr(new a(s),n)};Nt.naturalExponential=Nt.exp=function(){return BL(this)};Nt.naturalLogarithm=Nt.ln=function(){return w0(this)};Nt.negated=Nt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Nt.plus=Nt.add=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?RL(r,e):$L(r,(e.s=-e.s,e))};Nt.precision=Nt.sd=function(e){var r,s,a,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Yc+e);if(r=As(n)+1,a=n.d.length-1,s=a*Dr+1,a=n.d[a],a){for(;a%10==0;a/=10)s--;for(a=n.d[0];a>=10;a/=10)s++}return e&&r>s?r:s};Nt.squareRoot=Nt.sqrt=function(){var e,r,s,a,n,i,l,o=this,d=o.constructor;if(o.s<1){if(!o.s)return new d(0);throw Error(ci+"NaN")}for(e=As(o),Hr=!1,n=Math.sqrt(+o),n==0||n==1/0?(r=Gi(o.d),(r.length+e)%2==0&&(r+="0"),n=Math.sqrt(r),e=km((e+1)/2)-(e<0||e%2),n==1/0?r="5e"+e:(r=n.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),a=new d(r)):a=new d(n.toString()),s=d.precision,n=l=s+3;;)if(i=a,a=i.plus(Al(o,i,l+2)).times(.5),Gi(i.d).slice(0,l)===(r=Gi(a.d)).slice(0,l)){if(r=r.slice(l-3,l+1),n==l&&r=="4999"){if(jr(i,s+1,0),i.times(i).eq(o)){a=i;break}}else if(r!="9999")break;l+=4}return Hr=!0,jr(a,s)};Nt.times=Nt.mul=function(e){var r,s,a,n,i,l,o,d,c,u=this,m=u.constructor,x=u.d,h=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,s=u.e+e.e,d=x.length,c=h.length,d<c&&(i=x,x=h,h=i,l=d,d=c,c=l),i=[],l=d+c,a=l;a--;)i.push(0);for(a=c;--a>=0;){for(r=0,n=d+a;n>a;)o=i[n]+h[a]*x[n-a-1]+r,i[n--]=o%Us|0,r=o/Us|0;i[n]=(i[n]+r)%Us|0}for(;!i[--l];)i.pop();return r?++s:i.shift(),e.d=i,e.e=s,Hr?jr(e,m.precision):e};Nt.toDecimalPlaces=Nt.todp=function(e,r){var s=this,a=s.constructor;return s=new a(s),e===void 0?s:(sl(e,0,Sm),r===void 0?r=a.rounding:sl(r,0,8),jr(s,e+As(s)+1,r))};Nt.toExponential=function(e,r){var s,a=this,n=a.constructor;return e===void 0?s=gd(a,!0):(sl(e,0,Sm),r===void 0?r=n.rounding:sl(r,0,8),a=jr(new n(a),e+1,r),s=gd(a,!0,e+1)),s};Nt.toFixed=function(e,r){var s,a,n=this,i=n.constructor;return e===void 0?gd(n):(sl(e,0,Sm),r===void 0?r=i.rounding:sl(r,0,8),a=jr(new i(n),e+As(n)+1,r),s=gd(a.abs(),!1,e+As(a)+1),n.isneg()&&!n.isZero()?"-"+s:s)};Nt.toInteger=Nt.toint=function(){var e=this,r=e.constructor;return jr(new r(e),As(e)+1,r.rounding)};Nt.toNumber=function(){return+this};Nt.toPower=Nt.pow=function(e){var r,s,a,n,i,l,o=this,d=o.constructor,c=12,u=+(e=new d(e));if(!e.s)return new d(yn);if(o=new d(o),!o.s){if(e.s<1)throw Error(ci+"Infinity");return o}if(o.eq(yn))return o;if(a=d.precision,e.eq(yn))return jr(o,a);if(r=e.e,s=e.d.length-1,l=r>=s,i=o.s,l){if((s=u<0?-u:u)<=FL){for(n=new d(yn),r=Math.ceil(a/Dr+4),Hr=!1;s%2&&(n=n.times(o),d8(n.d,r)),s=km(s/2),s!==0;)o=o.times(o),d8(o.d,r);return Hr=!0,e.s<0?new d(yn).div(n):jr(n,a)}}else if(i<0)throw Error(ci+"NaN");return i=i<0&&e.d[Math.max(r,s)]&1?-1:1,o.s=1,Hr=!1,n=e.times(w0(o,a+c)),Hr=!0,n=BL(n),n.s=i,n};Nt.toPrecision=function(e,r){var s,a,n=this,i=n.constructor;return e===void 0?(s=As(n),a=gd(n,s<=i.toExpNeg||s>=i.toExpPos)):(sl(e,1,Sm),r===void 0?r=i.rounding:sl(r,0,8),n=jr(new i(n),e,r),s=As(n),a=gd(n,e<=s||s<=i.toExpNeg,e)),a};Nt.toSignificantDigits=Nt.tosd=function(e,r){var s=this,a=s.constructor;return e===void 0?(e=a.precision,r=a.rounding):(sl(e,1,Sm),r===void 0?r=a.rounding:sl(r,0,8)),jr(new a(s),e,r)};Nt.toString=Nt.valueOf=Nt.val=Nt.toJSON=Nt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,r=As(e),s=e.constructor;return gd(e,r<=s.toExpNeg||r>=s.toExpPos)};function RL(e,r){var s,a,n,i,l,o,d,c,u=e.constructor,m=u.precision;if(!e.s||!r.s)return r.s||(r=new u(e)),Hr?jr(r,m):r;if(d=e.d,c=r.d,l=e.e,n=r.e,d=d.slice(),i=l-n,i){for(i<0?(a=d,i=-i,o=c.length):(a=c,n=l,o=d.length),l=Math.ceil(m/Dr),o=l>o?l+1:o+1,i>o&&(i=o,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(o=d.length,i=c.length,o-i<0&&(i=o,a=c,c=d,d=a),s=0;i;)s=(d[--i]=d[i]+c[i]+s)/Us|0,d[i]%=Us;for(s&&(d.unshift(s),++n),o=d.length;d[--o]==0;)d.pop();return r.d=d,r.e=n,Hr?jr(r,m):r}function sl(e,r,s){if(e!==~~e||e<r||e>s)throw Error(Yc+e)}function Gi(e){var r,s,a,n=e.length-1,i="",l=e[0];if(n>0){for(i+=l,r=1;r<n;r++)a=e[r]+"",s=Dr-a.length,s&&(i+=wo(s)),i+=a;l=e[r],a=l+"",s=Dr-a.length,s&&(i+=wo(s))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var Al=function(){function e(a,n){var i,l=0,o=a.length;for(a=a.slice();o--;)i=a[o]*n+l,a[o]=i%Us|0,l=i/Us|0;return l&&a.unshift(l),a}function r(a,n,i,l){var o,d;if(i!=l)d=i>l?1:-1;else for(o=d=0;o<i;o++)if(a[o]!=n[o]){d=a[o]>n[o]?1:-1;break}return d}function s(a,n,i){for(var l=0;i--;)a[i]-=l,l=a[i]<n[i]?1:0,a[i]=l*Us+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,l){var o,d,c,u,m,x,h,p,f,b,j,w,y,v,N,S,k,P,C=a.constructor,I=a.s==n.s?1:-1,A=a.d,O=n.d;if(!a.s)return new C(a);if(!n.s)throw Error(ci+"Division by zero");for(d=a.e-n.e,k=O.length,N=A.length,h=new C(I),p=h.d=[],c=0;O[c]==(A[c]||0);)++c;if(O[c]>(A[c]||0)&&--d,i==null?w=i=C.precision:l?w=i+(As(a)-As(n))+1:w=i,w<0)return new C(0);if(w=w/Dr+2|0,c=0,k==1)for(u=0,O=O[0],w++;(c<N||u)&&w--;c++)y=u*Us+(A[c]||0),p[c]=y/O|0,u=y%O|0;else{for(u=Us/(O[0]+1)|0,u>1&&(O=e(O,u),A=e(A,u),k=O.length,N=A.length),v=k,f=A.slice(0,k),b=f.length;b<k;)f[b++]=0;P=O.slice(),P.unshift(0),S=O[0],O[1]>=Us/2&&++S;do u=0,o=r(O,f,k,b),o<0?(j=f[0],k!=b&&(j=j*Us+(f[1]||0)),u=j/S|0,u>1?(u>=Us&&(u=Us-1),m=e(O,u),x=m.length,b=f.length,o=r(m,f,x,b),o==1&&(u--,s(m,k<x?P:O,x))):(u==0&&(o=u=1),m=O.slice()),x=m.length,x<b&&m.unshift(0),s(f,m,b),o==-1&&(b=f.length,o=r(O,f,k,b),o<1&&(u++,s(f,k<b?P:O,b))),b=f.length):o===0&&(u++,f=[0]),p[c++]=u,o&&f[0]?f[b++]=A[v]||0:(f=[A[v]],b=1);while((v++<N||f[0]!==void 0)&&w--)}return p[0]||p.shift(),h.e=d,jr(h,l?i+As(h)+1:i)}}();function BL(e,r){var s,a,n,i,l,o,d=0,c=0,u=e.constructor,m=u.precision;if(As(e)>16)throw Error(g3+As(e));if(!e.s)return new u(yn);for(Hr=!1,o=m,l=new u(.03125);e.abs().gte(.1);)e=e.times(l),c+=5;for(a=Math.log(Ac(2,c))/Math.LN10*2+5|0,o+=a,s=n=i=new u(yn),u.precision=o;;){if(n=jr(n.times(e),o),s=s.times(++d),l=i.plus(Al(n,s,o)),Gi(l.d).slice(0,o)===Gi(i.d).slice(0,o)){for(;c--;)i=jr(i.times(i),o);return u.precision=m,r==null?(Hr=!0,jr(i,m)):i}i=l}}function As(e){for(var r=e.e*Dr,s=e.d[0];s>=10;s/=10)r++;return r}function T1(e,r,s){if(r>e.LN10.sd())throw Hr=!0,s&&(e.precision=s),Error(ci+"LN10 precision limit exceeded");return jr(new e(e.LN10),r)}function wo(e){for(var r="";e--;)r+="0";return r}function w0(e,r){var s,a,n,i,l,o,d,c,u,m=1,x=10,h=e,p=h.d,f=h.constructor,b=f.precision;if(h.s<1)throw Error(ci+(h.s?"NaN":"-Infinity"));if(h.eq(yn))return new f(0);if(r==null?(Hr=!1,c=b):c=r,h.eq(10))return r==null&&(Hr=!0),T1(f,c);if(c+=x,f.precision=c,s=Gi(p),a=s.charAt(0),i=As(h),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&s.charAt(1)>3;)h=h.times(e),s=Gi(h.d),a=s.charAt(0),m++;i=As(h),a>1?(h=new f("0."+s),i++):h=new f(a+"."+s.slice(1))}else return d=T1(f,c+2,b).times(i+""),h=w0(new f(a+"."+s.slice(1)),c-x).plus(d),f.precision=b,r==null?(Hr=!0,jr(h,b)):h;for(o=l=h=Al(h.minus(yn),h.plus(yn),c),u=jr(h.times(h),c),n=3;;){if(l=jr(l.times(u),c),d=o.plus(Al(l,new f(n),c)),Gi(d.d).slice(0,c)===Gi(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(T1(f,c+2,b).times(i+""))),o=Al(o,new f(m),c),f.precision=b,r==null?(Hr=!0,jr(o,b)):o;o=d,n+=2}}function c8(e,r){var s,a,n;for((s=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(s<0&&(s=a),s+=+r.slice(a+1),r=r.substring(0,a)):s<0&&(s=r.length),a=0;r.charCodeAt(a)===48;)++a;for(n=r.length;r.charCodeAt(n-1)===48;)--n;if(r=r.slice(a,n),r){if(n-=a,s=s-a-1,e.e=km(s/Dr),e.d=[],a=(s+1)%Dr,s<0&&(a+=Dr),a<n){for(a&&e.d.push(+r.slice(0,a)),n-=Dr;a<n;)e.d.push(+r.slice(a,a+=Dr));r=r.slice(a),a=Dr-r.length}else a-=n;for(;a--;)r+="0";if(e.d.push(+r),Hr&&(e.e>Sg||e.e<-Sg))throw Error(g3+s)}else e.s=0,e.e=0,e.d=[0];return e}function jr(e,r,s){var a,n,i,l,o,d,c,u,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(a=r-l,a<0)a+=Dr,n=r,c=m[u=0];else{if(u=Math.ceil((a+1)/Dr),i=m.length,u>=i)return e;for(c=i=m[u],l=1;i>=10;i/=10)l++;a%=Dr,n=a-Dr+l}if(s!==void 0&&(i=Ac(10,l-n-1),o=c/i%10|0,d=r<0||m[u+1]!==void 0||c%i,d=s<4?(o||d)&&(s==0||s==(e.s<0?3:2)):o>5||o==5&&(s==4||d||s==6&&(a>0?n>0?c/Ac(10,l-n):0:m[u-1])%10&1||s==(e.s<0?8:7))),r<1||!m[0])return d?(i=As(e),m.length=1,r=r-i-1,m[0]=Ac(10,(Dr-r%Dr)%Dr),e.e=km(-r/Dr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=u,i=1,u--):(m.length=u+1,i=Ac(10,Dr-a),m[u]=n>0?(c/Ac(10,l-n)%Ac(10,n)|0)*i:0),d)for(;;)if(u==0){(m[0]+=i)==Us&&(m[0]=1,++e.e);break}else{if(m[u]+=i,m[u]!=Us)break;m[u--]=0,i=1}for(a=m.length;m[--a]===0;)m.pop();if(Hr&&(e.e>Sg||e.e<-Sg))throw Error(g3+As(e));return e}function $L(e,r){var s,a,n,i,l,o,d,c,u,m,x=e.constructor,h=x.precision;if(!e.s||!r.s)return r.s?r.s=-r.s:r=new x(e),Hr?jr(r,h):r;if(d=e.d,m=r.d,a=r.e,c=e.e,d=d.slice(),l=c-a,l){for(u=l<0,u?(s=d,l=-l,o=m.length):(s=m,a=c,o=d.length),n=Math.max(Math.ceil(h/Dr),o)+2,l>n&&(l=n,s.length=1),s.reverse(),n=l;n--;)s.push(0);s.reverse()}else{for(n=d.length,o=m.length,u=n<o,u&&(o=n),n=0;n<o;n++)if(d[n]!=m[n]){u=d[n]<m[n];break}l=0}for(u&&(s=d,d=m,m=s,r.s=-r.s),o=d.length,n=m.length-o;n>0;--n)d[o++]=0;for(n=m.length;n>l;){if(d[--n]<m[n]){for(i=n;i&&d[--i]===0;)d[i]=Us-1;--d[i],d[n]+=Us}d[n]-=m[n]}for(;d[--o]===0;)d.pop();for(;d[0]===0;d.shift())--a;return d[0]?(r.d=d,r.e=a,Hr?jr(r,h):r):new x(0)}function gd(e,r,s){var a,n=As(e),i=Gi(e.d),l=i.length;return r?(s&&(a=s-l)>0?i=i.charAt(0)+"."+i.slice(1)+wo(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+wo(-n-1)+i,s&&(a=s-l)>0&&(i+=wo(a))):n>=l?(i+=wo(n+1-l),s&&(a=s-n-1)>0&&(i=i+"."+wo(a))):((a=n+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),s&&(a=s-l)>0&&(n+1===l&&(i+="."),i+=wo(a))),e.s<0?"-"+i:i}function d8(e,r){if(e.length>r)return e.length=r,!0}function zL(e){var r,s,a;function n(i){var l=this;if(!(l instanceof n))return new n(i);if(l.constructor=n,i instanceof n){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Yc+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return c8(l,i.toString())}else if(typeof i!="string")throw Error(Yc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,Qde.test(i))c8(l,i);else throw Error(Yc+i)}if(n.prototype=Nt,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=zL,n.config=n.set=Zde,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)e.hasOwnProperty(s=a[r++])||(e[s]=this[s]);return n.config(e),n}function Zde(e){if(!e||typeof e!="object")throw Error(ci+"Object expected");var r,s,a,n=["precision",1,Sm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<n.length;r+=3)if((a=e[s=n[r]])!==void 0)if(km(a)===a&&a>=n[r+1]&&a<=n[r+2])this[s]=a;else throw Error(Yc+s+": "+a);if((a=e[s="LN10"])!==void 0)if(a==Math.LN10)this[s]=new this(a);else throw Error(Yc+s+": "+a);return this}var y3=zL(Jde);yn=new y3(1);const xr=y3;var eue=e=>e,UL={},HL=e=>e===UL,u8=e=>function r(){return arguments.length===0||arguments.length===1&&HL(arguments.length<=0?void 0:arguments[0])?r:e(...arguments)},VL=(e,r)=>e===1?r:u8(function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];var i=a.filter(l=>l!==UL).length;return i>=e?r(...a):VL(e-i,u8(function(){for(var l=arguments.length,o=new Array(l),d=0;d<l;d++)o[d]=arguments[d];var c=a.map(u=>HL(u)?o.shift():u);return r(...c,...o)}))}),gb=e=>VL(e.length,e),tw=(e,r)=>{for(var s=[],a=e;a<r;++a)s[a-e]=a;return s},tue=gb((e,r)=>Array.isArray(r)?r.map(e):Object.keys(r).map(s=>r[s]).map(e)),rue=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];if(!s.length)return eue;var n=s.reverse(),i=n[0],l=n.slice(1);return function(){return l.reduce((o,d)=>d(o),i(...arguments))}},rw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),WL=e=>{var r=null,s=null;return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r&&n.every((l,o)=>{var d;return l===((d=r)===null||d===void 0?void 0:d[o])})||(r=n,s=e(...n)),s}};function GL(e){var r;return e===0?r=1:r=Math.floor(new xr(e).abs().log(10).toNumber())+1,r}function qL(e,r,s){for(var a=new xr(e),n=0,i=[];a.lt(r)&&n<1e5;)i.push(a.toNumber()),a=a.add(s),n++;return i}gb((e,r,s)=>{var a=+e,n=+r;return a+s*(n-a)});gb((e,r,s)=>{var a=r-+e;return a=a||1/0,(s-e)/a});gb((e,r,s)=>{var a=r-+e;return a=a||1/0,Math.max(0,Math.min(1,(s-e)/a))});var KL=e=>{var[r,s]=e,[a,n]=[r,s];return r>s&&([a,n]=[s,r]),[a,n]},YL=(e,r,s)=>{if(e.lte(0))return new xr(0);var a=GL(e.toNumber()),n=new xr(10).pow(a),i=e.div(n),l=a!==1?.05:.1,o=new xr(Math.ceil(i.div(l).toNumber())).add(s).mul(l),d=o.mul(n);return r?new xr(d.toNumber()):new xr(Math.ceil(d.toNumber()))},sue=(e,r,s)=>{var a=new xr(1),n=new xr(e);if(!n.isint()&&s){var i=Math.abs(e);i<1?(a=new xr(10).pow(GL(e)-1),n=new xr(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new xr(Math.floor(e)))}else e===0?n=new xr(Math.floor((r-1)/2)):s||(n=new xr(Math.floor(e)));var l=Math.floor((r-1)/2),o=rue(tue(d=>n.add(new xr(d-l).mul(a)).toNumber()),tw);return o(0,r)},XL=function(r,s,a,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((s-r)/(a-1)))return{step:new xr(0),tickMin:new xr(0),tickMax:new xr(0)};var l=YL(new xr(s).sub(r).div(a-1),n,i),o;r<=0&&s>=0?o=new xr(0):(o=new xr(r).add(s).div(2),o=o.sub(new xr(o).mod(l)));var d=Math.ceil(o.sub(r).div(l).toNumber()),c=Math.ceil(new xr(s).sub(o).div(l).toNumber()),u=d+c+1;return u>a?XL(r,s,a,n,i+1):(u<a&&(c=s>0?c+(a-u):c,d=s>0?d:d+(a-u)),{step:l,tickMin:o.sub(new xr(d).mul(l)),tickMax:o.add(new xr(c).mul(l))})};function aue(e){var[r,s]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[l,o]=KL([r,s]);if(l===-1/0||o===1/0){var d=o===1/0?[l,...tw(0,a-1).map(()=>1/0)]:[...tw(0,a-1).map(()=>-1/0),o];return r>s?rw(d):d}if(l===o)return sue(l,a,n);var{step:c,tickMin:u,tickMax:m}=XL(l,o,i,n,0),x=qL(u,m.add(new xr(.1).mul(c)),c);return r>s?rw(x):x}function nue(e,r){var[s,a]=e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=KL([s,a]);if(i===-1/0||l===1/0)return[s,a];if(i===l)return[i];var o=Math.max(r,2),d=YL(new xr(l).sub(i).div(o-1),n,0),c=[...qL(new xr(i),new xr(l),d),l];return n===!1&&(c=c.map(u=>Math.round(u))),s>a?rw(c):c}var iue=WL(aue),lue=WL(nue),JL=e=>e.rootProps.maxBarSize,oue=e=>e.rootProps.barGap,QL=e=>e.rootProps.barCategoryGap,cue=e=>e.rootProps.barSize,dx=e=>e.rootProps.stackOffset,b3=e=>e.options.chartName,v3=e=>e.rootProps.syncId,ZL=e=>e.rootProps.syncMethod,j3=e=>e.options.eventEmitter,due=e=>e.rootProps.baseValue,ps={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ml={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},hn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},yb=(e,r)=>{if(!(!e||!r))return e!=null&&e.reversed?[r[1],r[0]]:r},uue={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ml.angleAxisId,includeHidden:!1,name:void 0,reversed:ml.reversed,scale:ml.scale,tick:ml.tick,tickCount:void 0,ticks:void 0,type:ml.type,unit:void 0},mue={allowDataOverflow:hn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:hn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hn.scale,tick:hn.tick,tickCount:hn.tickCount,ticks:void 0,type:hn.type,unit:void 0},hue={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ml.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ml.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ml.scale,tick:ml.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},xue={allowDataOverflow:hn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:hn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hn.scale,tick:hn.tick,tickCount:hn.tickCount,ticks:void 0,type:"category",unit:void 0},w3=(e,r)=>e.polarAxis.angleAxis[r]!=null?e.polarAxis.angleAxis[r]:e.layout.layoutType==="radial"?hue:uue,N3=(e,r)=>e.polarAxis.radiusAxis[r]!=null?e.polarAxis.radiusAxis[r]:e.layout.layoutType==="radial"?xue:mue,bb=e=>e.polarOptions,S3=Ce([eo,to,Fs],KM),eF=Ce([bb,S3],(e,r)=>{if(e!=null)return ba(e.innerRadius,r,0)}),tF=Ce([bb,S3],(e,r)=>{if(e!=null)return ba(e.outerRadius,r,r*.8)}),pue=e=>{if(e==null)return[0,0];var{startAngle:r,endAngle:s}=e;return[r,s]},rF=Ce([bb],pue);Ce([w3,rF],yb);var sF=Ce([S3,eF,tF],(e,r,s)=>{if(!(e==null||r==null||s==null))return[r,s]});Ce([N3,sF],yb);var aF=Ce([Xt,bb,eF,tF,eo,to],(e,r,s,a,n,i)=>{if(!(e!=="centric"&&e!=="radial"||r==null||s==null||a==null)){var{cx:l,cy:o,startAngle:d,endAngle:c}=r;return{cx:ba(l,n,n/2),cy:ba(o,i,i/2),innerRadius:s,outerRadius:a,startAngle:d,endAngle:c,clockWise:!1}}}),Vr=(e,r)=>r,ux=(e,r,s)=>s;function vb(e){return e==null?void 0:e.id}function nF(e,r,s){var{chartData:a=[]}=r,{allowDuplicatedCategory:n,dataKey:i}=s,l=new Map;return e.forEach(o=>{var d,c=(d=o.data)!==null&&d!==void 0?d:a;if(!(c==null||c.length===0)){var u=vb(o);c.forEach((m,x)=>{var h=i==null||n?x:String(br(m,i,null)),p=br(m,o.dataKey,0),f;l.has(h)?f=l.get(h):f={},Object.assign(f,{[u]:p}),l.set(h,f)})}}),Array.from(l.values())}function jb(e){return e.stackId!=null&&e.dataKey!=null}var wb=(e,r)=>e===r?!0:e==null||r==null?!1:e[0]===r[0]&&e[1]===r[1];function Nb(e,r){return Array.isArray(e)&&Array.isArray(r)&&e.length===0&&r.length===0?!0:e===r}function fue(e,r){if(e.length===r.length){for(var s=0;s<e.length;s++)if(e[s]!==r[s])return!1;return!0}return!1}var Bs=e=>{var r=Xt(e);return r==="horizontal"?"xAxis":r==="vertical"?"yAxis":r==="centric"?"angleAxis":"radiusAxis"},Cm=e=>e.tooltip.settings.axisId;function m8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function kg(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?m8(Object(s),!0).forEach(function(a){gue(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function gue(e,r,s){return(r=yue(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function yue(e){var r=bue(e,"string");return typeof r=="symbol"?r:r+""}function bue(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var sw=[0,"auto"],cn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},iF=(e,r)=>e.cartesianAxis.xAxis[r],ao=(e,r)=>{var s=iF(e,r);return s??cn},dn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:sw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ax},lF=(e,r)=>e.cartesianAxis.yAxis[r],no=(e,r)=>{var s=lF(e,r);return s??dn},vue={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},k3=(e,r)=>{var s=e.cartesianAxis.zAxis[r];return s??vue},Qr=(e,r,s)=>{switch(r){case"xAxis":return ao(e,s);case"yAxis":return no(e,s);case"zAxis":return k3(e,s);case"angleAxis":return w3(e,s);case"radiusAxis":return N3(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},jue=(e,r,s)=>{switch(r){case"xAxis":return ao(e,s);case"yAxis":return no(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},mx=(e,r,s)=>{switch(r){case"xAxis":return ao(e,s);case"yAxis":return no(e,s);case"angleAxis":return w3(e,s);case"radiusAxis":return N3(e,s);default:throw new Error("Unexpected axis type: ".concat(r))}},oF=e=>e.graphicalItems.cartesianItems.some(r=>r.type==="bar")||e.graphicalItems.polarItems.some(r=>r.type==="radialBar");function C3(e,r){return s=>{switch(e){case"xAxis":return"xAxisId"in s&&s.xAxisId===r;case"yAxis":return"yAxisId"in s&&s.yAxisId===r;case"zAxis":return"zAxisId"in s&&s.zAxisId===r;case"angleAxis":return"angleAxisId"in s&&s.angleAxisId===r;case"radiusAxis":return"radiusAxisId"in s&&s.radiusAxisId===r;default:return!1}}}var hx=e=>e.graphicalItems.cartesianItems,wue=Ce([Vr,ux],C3),P3=(e,r,s)=>e.filter(s).filter(a=>(r==null?void 0:r.includeHidden)===!0?!0:!a.hide),xx=Ce([hx,Qr,wue],P3,{memoizeOptions:{resultEqualityCheck:Nb}}),cF=Ce([xx],e=>e.filter(r=>r.type==="area"||r.type==="bar").filter(jb)),dF=e=>e.filter(r=>!("stackId"in r)||r.stackId===void 0),Nue=Ce([xx],dF),A3=e=>e.map(r=>r.data).filter(Boolean).flat(1),Sue=Ce([xx],A3,{memoizeOptions:{resultEqualityCheck:Nb}}),T3=(e,r)=>{var{chartData:s=[],dataStartIndex:a,dataEndIndex:n}=r;return e.length>0?e:s.slice(a,n+1)},E3=Ce([Sue,cx],T3),I3=(e,r,s)=>(r==null?void 0:r.dataKey)!=null?e.map(a=>({value:br(a,r.dataKey)})):s.length>0?s.map(a=>a.dataKey).flatMap(a=>e.map(n=>({value:br(n,a)}))):e.map(a=>({value:a})),Sb=Ce([E3,Qr,xx],I3);function uF(e,r){switch(e){case"xAxis":return r.direction==="x";case"yAxis":return r.direction==="y";default:return!1}}function Qp(e){if(tl(e)||e instanceof Date){var r=Number(e);if(Rr(r))return r}}function h8(e){if(Array.isArray(e)){var r=[Qp(e[0]),Qp(e[1])];return fd(r)?r:void 0}var s=Qp(e);if(s!=null)return[s,s]}function Gl(e){return e.map(Qp).filter(Jse)}function kue(e,r,s){return!s||typeof r!="number"||li(r)?[]:s.length?Gl(s.flatMap(a=>{var n=br(e,a.dataKey),i,l;if(Array.isArray(n)?[i,l]=n:i=l=n,!(!Rr(i)||!Rr(l)))return[r-i,r+l]})):[]}var $s=e=>{var r=Bs(e),s=Cm(e);return mx(e,r,s)},mF=Ce([$s],e=>e==null?void 0:e.dataKey),Cue=Ce([cF,cx,$s],nF),hF=(e,r,s)=>{var a={},n=r.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),a);return Object.fromEntries(Object.entries(n).map(i=>{var[l,o]=i,d=o.map(vb);return[l,{stackedData:die(e,d,s),graphicalItems:o}]}))},N0=Ce([Cue,cF,dx],hF),xF=(e,r,s,a)=>{var{dataStartIndex:n,dataEndIndex:i}=r;if(a==null&&s!=="zAxis"){var l=xie(e,n,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Pue=Ce([Qr],e=>e.allowDataOverflow),_3=e=>{var r;if(e==null||!("domain"in e))return sw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var s=Gl(e.ticks);return[Math.min(...s),Math.max(...s)]}if(e.type==="category")return e.ticks.map(String)}return(r=e==null?void 0:e.domain)!==null&&r!==void 0?r:sw},O3=Ce([Qr],_3),D3=Ce([O3,Pue],LL),Aue=Ce([N0,xc,Vr,D3],xF,{memoizeOptions:{resultEqualityCheck:wb}}),kb=e=>e.errorBars,Tue=(e,r,s)=>e.flatMap(a=>r[a.id]).filter(Boolean).filter(a=>uF(s,a)),Cg=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var n=s.filter(Boolean);if(n.length!==0){var i=n.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},M3=(e,r,s,a,n)=>{var i,l;if(s.length>0&&e.forEach(o=>{s.forEach(d=>{var c,u,m=(c=a[d.id])===null||c===void 0?void 0:c.filter(j=>uF(n,j)),x=br(o,(u=r.dataKey)!==null&&u!==void 0?u:d.dataKey),h=kue(o,x,m);if(h.length>=2){var p=Math.min(...h),f=Math.max(...h);(i==null||p<i)&&(i=p),(l==null||f>l)&&(l=f)}var b=h8(x);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),l=l==null?b[1]:Math.max(l,b[1]))})}),(r==null?void 0:r.dataKey)!=null&&e.forEach(o=>{var d=h8(br(o,r.dataKey));d!=null&&(i=i==null?d[0]:Math.min(i,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),Rr(i)&&Rr(l))return[i,l]},Eue=Ce([E3,Qr,Nue,kb,Vr],M3,{memoizeOptions:{resultEqualityCheck:wb}});function Iue(e){var{value:r}=e;if(tl(r)||r instanceof Date)return r}var _ue=(e,r,s)=>{var a=e.map(Iue).filter(n=>n!=null);return s&&(r.dataKey==null||r.allowDuplicatedCategory&&y9(a))?tL(0,e.length):r.allowDuplicatedCategory?a:Array.from(new Set(a))},pF=e=>e.referenceElements.dots,Pm=(e,r,s)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>r==="xAxis"?a.xAxisId===s:a.yAxisId===s),Oue=Ce([pF,Vr,ux],Pm),fF=e=>e.referenceElements.areas,Due=Ce([fF,Vr,ux],Pm),gF=e=>e.referenceElements.lines,Mue=Ce([gF,Vr,ux],Pm),yF=(e,r)=>{var s=Gl(e.map(a=>r==="xAxis"?a.x:a.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Lue=Ce(Oue,Vr,yF),bF=(e,r)=>{var s=Gl(e.flatMap(a=>[r==="xAxis"?a.x1:a.y1,r==="xAxis"?a.x2:a.y2]));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Fue=Ce([Due,Vr],bF);function Rue(e){var r;if(e.x!=null)return Gl([e.x]);var s=(r=e.segment)===null||r===void 0?void 0:r.map(a=>a.x);return s==null||s.length===0?[]:Gl(s)}function Bue(e){var r;if(e.y!=null)return Gl([e.y]);var s=(r=e.segment)===null||r===void 0?void 0:r.map(a=>a.y);return s==null||s.length===0?[]:Gl(s)}var vF=(e,r)=>{var s=e.flatMap(a=>r==="xAxis"?Rue(a):Bue(a));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},$ue=Ce([Mue,Vr],vF),zue=Ce(Lue,$ue,Fue,(e,r,s)=>Cg(e,s,r)),L3=(e,r,s,a,n,i,l,o)=>{if(s!=null)return s;var d=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",c=d?Cg(a,i,n):Cg(i,n);return Xde(r,c,e.allowDataOverflow)},Uue=Ce([Qr,O3,D3,Aue,Eue,zue,Xt,Vr],L3,{memoizeOptions:{resultEqualityCheck:wb}}),Hue=[0,1],F3=(e,r,s,a,n,i,l)=>{if(!((e==null||s==null||s.length===0)&&l===void 0)){var{dataKey:o,type:d}=e,c=ol(r,i);if(c&&o==null){var u;return tL(0,(u=s==null?void 0:s.length)!==null&&u!==void 0?u:0)}return d==="category"?_ue(a,e,c):n==="expand"?Hue:l}},R3=Ce([Qr,Xt,E3,Sb,dx,Vr,Uue],F3),jF=(e,r,s,a,n)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return r==="radial"&&n==="radiusAxis"?"band":r==="radial"&&n==="angleAxis"?"linear":l==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!s)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(ex(i));return o in fh?o:"point"}}},Am=Ce([Qr,Xt,oF,b3,Vr],jF);function Vue(e){if(e!=null){if(e in fh)return fh[e]();var r="scale".concat(ex(e));if(r in fh)return fh[r]()}}function B3(e,r,s,a){if(!(s==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(s).range(a);var n=Vue(r);if(n!=null){var i=n.domain(s).range(a);return nie(i),i}}}var $3=(e,r,s)=>{var a=_3(r);if(!(s!=="auto"&&s!=="linear")){if(r!=null&&r.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&fd(e))return iue(e,r.tickCount,r.allowDecimals);if(r!=null&&r.tickCount&&r.type==="number"&&fd(e))return lue(e,r.tickCount,r.allowDecimals)}},z3=Ce([R3,mx,Am],$3),U3=(e,r,s,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&fd(r)&&Array.isArray(s)&&s.length>0){var n=r[0],i=s[0],l=r[1],o=s[s.length-1];return[Math.min(n,i),Math.max(l,o)]}return r},Wue=Ce([Qr,R3,z3,Vr],U3),Gue=Ce(Sb,Qr,(e,r)=>{if(!(!r||r.type!=="number")){var s=1/0,a=Array.from(Gl(e.map(o=>o.value))).sort((o,d)=>o-d);if(a.length<2)return 1/0;var n=a[a.length-1]-a[0];if(n===0)return 1/0;for(var i=0;i<a.length-1;i++){var l=a[i+1]-a[i];s=Math.min(s,l)}return s/n}}),wF=Ce(Gue,Xt,QL,Fs,(e,r,s,a)=>a,(e,r,s,a,n)=>{if(!Rr(e))return 0;var i=r==="vertical"?a.height:a.width;if(n==="gap")return e*i/2;if(n==="no-gap"){var l=ba(s,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),que=(e,r)=>{var s=ao(e,r);return s==null||typeof s.padding!="string"?0:wF(e,"xAxis",r,s.padding)},Kue=(e,r)=>{var s=no(e,r);return s==null||typeof s.padding!="string"?0:wF(e,"yAxis",r,s.padding)},Yue=Ce(ao,que,(e,r)=>{var s,a;if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n=="string"?{left:r,right:r}:{left:((s=n.left)!==null&&s!==void 0?s:0)+r,right:((a=n.right)!==null&&a!==void 0?a:0)+r}}),Xue=Ce(no,Kue,(e,r)=>{var s,a;if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n=="string"?{top:r,bottom:r}:{top:((s=n.top)!==null&&s!==void 0?s:0)+r,bottom:((a=n.bottom)!==null&&a!==void 0?a:0)+r}}),Jue=Ce([Fs,Yue,ob,lb,(e,r,s)=>s],(e,r,s,a,n)=>{var{padding:i}=a;return n?[i.left,s.width-i.right]:[e.left+r.left,e.left+e.width-r.right]}),Que=Ce([Fs,Xt,Xue,ob,lb,(e,r,s)=>s],(e,r,s,a,n,i)=>{var{padding:l}=n;return i?[a.height-l.bottom,l.top]:r==="horizontal"?[e.top+e.height-s.bottom,e.top+s.top]:[e.top+s.top,e.top+e.height-s.bottom]}),px=(e,r,s,a)=>{var n;switch(r){case"xAxis":return Jue(e,s,a);case"yAxis":return Que(e,s,a);case"zAxis":return(n=k3(e,s))===null||n===void 0?void 0:n.range;case"angleAxis":return rF(e);case"radiusAxis":return sF(e,s);default:return}},NF=Ce([Qr,px],yb),Tm=Ce([Qr,Am,Wue,NF],B3);Ce([xx,kb,Vr],Tue);function SF(e,r){return e.id<r.id?-1:e.id>r.id?1:0}var Cb=(e,r)=>r,Pb=(e,r,s)=>s,Zue=Ce(nb,Cb,Pb,(e,r,s)=>e.filter(a=>a.orientation===r).filter(a=>a.mirror===s).sort(SF)),eme=Ce(ib,Cb,Pb,(e,r,s)=>e.filter(a=>a.orientation===r).filter(a=>a.mirror===s).sort(SF)),kF=(e,r)=>({width:e.width,height:r.height}),tme=(e,r)=>{var s=typeof r.width=="number"?r.width:ax;return{width:s,height:e.height}},CF=Ce(Fs,ao,kF),rme=(e,r,s)=>{switch(r){case"top":return e.top;case"bottom":return s-e.bottom;default:return 0}},sme=(e,r,s)=>{switch(r){case"left":return e.left;case"right":return s-e.right;default:return 0}},ame=Ce(to,Fs,Zue,Cb,Pb,(e,r,s,a,n)=>{var i={},l;return s.forEach(o=>{var d=kF(r,o);l==null&&(l=rme(r,a,e));var c=a==="top"&&!n||a==="bottom"&&n;i[o.id]=l-Number(c)*d.height,l+=(c?-1:1)*d.height}),i}),nme=Ce(eo,Fs,eme,Cb,Pb,(e,r,s,a,n)=>{var i={},l;return s.forEach(o=>{var d=tme(r,o);l==null&&(l=sme(r,a,e));var c=a==="left"&&!n||a==="right"&&n;i[o.id]=l-Number(c)*d.width,l+=(c?-1:1)*d.width}),i}),ime=(e,r)=>{var s=ao(e,r);if(s!=null)return ame(e,s.orientation,s.mirror)},lme=Ce([Fs,ao,ime,(e,r)=>r],(e,r,s,a)=>{if(r!=null){var n=s==null?void 0:s[a];return n==null?{x:e.left,y:0}:{x:e.left,y:n}}}),ome=(e,r)=>{var s=no(e,r);if(s!=null)return nme(e,s.orientation,s.mirror)},cme=Ce([Fs,no,ome,(e,r)=>r],(e,r,s,a)=>{if(r!=null){var n=s==null?void 0:s[a];return n==null?{x:0,y:e.top}:{x:n,y:e.top}}}),PF=Ce(Fs,no,(e,r)=>{var s=typeof r.width=="number"?r.width:ax;return{width:s,height:e.height}}),x8=(e,r,s)=>{switch(r){case"xAxis":return CF(e,s).width;case"yAxis":return PF(e,s).height;default:return}},AF=(e,r,s,a)=>{if(s!=null){var{allowDuplicatedCategory:n,type:i,dataKey:l}=s,o=ol(e,a),d=r.map(c=>c.value);if(l&&o&&i==="category"&&n&&y9(d))return d}},H3=Ce([Xt,Sb,Qr,Vr],AF),TF=(e,r,s,a)=>{if(!(s==null||s.dataKey==null)){var{type:n,scale:i}=s,l=ol(e,a);if(l&&(n==="number"||i!=="auto"))return r.map(o=>o.value)}},V3=Ce([Xt,Sb,mx,Vr],TF),p8=Ce([Xt,jue,Am,Tm,H3,V3,px,z3,Vr],(e,r,s,a,n,i,l,o,d)=>{if(r!=null){var c=ol(e,d);return{angle:r.angle,interval:r.interval,minTickGap:r.minTickGap,orientation:r.orientation,tick:r.tick,tickCount:r.tickCount,tickFormatter:r.tickFormatter,ticks:r.ticks,type:r.type,unit:r.unit,axisType:d,categoricalDomain:i,duplicateDomain:n,isCategorical:c,niceTicks:o,range:l,realScaleType:s,scale:a}}}),dme=(e,r,s,a,n,i,l,o,d)=>{if(!(r==null||a==null)){var c=ol(e,d),{type:u,ticks:m,tickCount:x}=r,h=s==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,p=u==="category"&&a.bandwidth?a.bandwidth()/h:0;p=d==="angleAxis"&&i!=null&&i.length>=2?Ws(i[0]-i[1])*2*p:p;var f=m||n;if(f){var b=f.map((j,w)=>{var y=l?l.indexOf(j):j;return{index:w,coordinate:a(y)+p,value:j,offset:p}});return b.filter(j=>Rr(j.coordinate))}return c&&o?o.map((j,w)=>({coordinate:a(j)+p,value:j,index:w,offset:p})).filter(j=>Rr(j.coordinate)):a.ticks?a.ticks(x).map(j=>({coordinate:a(j)+p,value:j,offset:p})):a.domain().map((j,w)=>({coordinate:a(j)+p,value:l?l[j]:j,index:w,offset:p}))}},EF=Ce([Xt,mx,Am,Tm,z3,px,H3,V3,Vr],dme),ume=(e,r,s,a,n,i,l)=>{if(!(r==null||s==null||a==null||a[0]===a[1])){var o=ol(e,l),{tickCount:d}=r,c=0;return c=l==="angleAxis"&&(a==null?void 0:a.length)>=2?Ws(a[0]-a[1])*2*c:c,o&&i?i.map((u,m)=>({coordinate:s(u)+c,value:u,index:m,offset:c})):s.ticks?s.ticks(d).map(u=>({coordinate:s(u)+c,value:u,offset:c})):s.domain().map((u,m)=>({coordinate:s(u)+c,value:n?n[u]:u,index:m,offset:c}))}},al=Ce([Xt,mx,Tm,px,H3,V3,Vr],ume),nl=Ce(Qr,Tm,(e,r)=>{if(!(e==null||r==null))return kg(kg({},e),{},{scale:r})}),mme=Ce([Qr,Am,R3,NF],B3);Ce((e,r,s)=>k3(e,s),mme,(e,r)=>{if(!(e==null||r==null))return kg(kg({},e),{},{scale:r})});var hme=Ce([Xt,nb,ib],(e,r,s)=>{switch(e){case"horizontal":return r.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return s.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),IF=e=>e.options.defaultTooltipEventType,_F=e=>e.options.validateTooltipEventTypes;function OF(e,r,s){if(e==null)return r;var a=e?"axis":"item";return s==null?r:s.includes(a)?a:r}function W3(e,r){var s=IF(e),a=_F(e);return OF(r,s,a)}function xme(e){return St(r=>W3(r,e))}var DF=(e,r)=>{var s,a=Number(r);if(!(li(a)||r==null))return a>=0?e==null||(s=e[a])===null||s===void 0?void 0:s.value:void 0},pme=e=>e.tooltip.settings,Co={active:!1,index:null,dataKey:void 0,coordinate:void 0},fme={itemInteraction:{click:Co,hover:Co},axisInteraction:{click:Co,hover:Co},keyboardInteraction:Co,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},MF=ln({name:"tooltip",initialState:fme,reducers:{addTooltipEntrySettings:{reducer(e,r){e.tooltipItemPayloads.push(r.payload)},prepare:Ms()},removeTooltipEntrySettings:{reducer(e,r){var s=Pl(e).tooltipItemPayloads.indexOf(r.payload);s>-1&&e.tooltipItemPayloads.splice(s,1)},prepare:Ms()},setTooltipSettingsState(e,r){e.settings=r.payload},setActiveMouseOverItemIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=r.payload.activeIndex,e.itemInteraction.hover.dataKey=r.payload.activeDataKey,e.itemInteraction.hover.coordinate=r.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,r){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=r.payload.activeIndex,e.itemInteraction.click.dataKey=r.payload.activeDataKey,e.itemInteraction.click.coordinate=r.payload.activeCoordinate},setMouseOverAxisIndex(e,r){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=r.payload.activeIndex,e.axisInteraction.hover.dataKey=r.payload.activeDataKey,e.axisInteraction.hover.coordinate=r.payload.activeCoordinate},setMouseClickAxisIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=r.payload.activeIndex,e.axisInteraction.click.dataKey=r.payload.activeDataKey,e.axisInteraction.click.coordinate=r.payload.activeCoordinate},setSyncInteraction(e,r){e.syncInteraction=r.payload},setKeyboardInteraction(e,r){e.keyboardInteraction.active=r.payload.active,e.keyboardInteraction.index=r.payload.activeIndex,e.keyboardInteraction.coordinate=r.payload.activeCoordinate,e.keyboardInteraction.dataKey=r.payload.activeDataKey}}}),{addTooltipEntrySettings:gme,removeTooltipEntrySettings:yme,setTooltipSettingsState:bme,setActiveMouseOverItemIndex:LF,mouseLeaveItem:vme,mouseLeaveChart:FF,setActiveClickItemIndex:jme,setMouseOverAxisIndex:RF,setMouseClickAxisIndex:wme,setSyncInteraction:aw,setKeyboardInteraction:nw}=MF.actions,Nme=MF.reducer;function f8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function fp(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?f8(Object(s),!0).forEach(function(a){Sme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):f8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Sme(e,r,s){return(r=kme(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function kme(e){var r=Cme(e,"string");return typeof r=="symbol"?r:r+""}function Cme(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Pme(e,r,s){return r==="axis"?s==="click"?e.axisInteraction.click:e.axisInteraction.hover:s==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Ame(e){return e.index!=null}var BF=(e,r,s,a)=>{if(r==null)return Co;var n=Pme(e,r,s);if(n==null)return Co;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Ame(n)){if(i)return fp(fp({},n),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return fp(fp({},Co),{},{coordinate:n.coordinate})},G3=(e,r)=>{var s=e==null?void 0:e.index;if(s==null)return null;var a=Number(s);if(!Rr(a))return s;var n=0,i=1/0;return r.length>0&&(i=r.length-1),String(Math.max(n,Math.min(a,i)))},$F=(e,r,s,a,n,i,l,o)=>{if(!(i==null||o==null)){var d=l[0],c=d==null?void 0:o(d.positions,i);if(c!=null)return c;var u=n==null?void 0:n[Number(i)];if(u)switch(s){case"horizontal":return{x:u.coordinate,y:(a.top+r)/2};default:return{x:(a.left+e)/2,y:u.coordinate}}}},zF=(e,r,s,a)=>{if(r==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var n;return s==="hover"?n=e.itemInteraction.hover.dataKey:n=e.itemInteraction.click.dataKey,n==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===n})},fx=e=>e.options.tooltipPayloadSearcher,Em=e=>e.tooltip;function g8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function y8(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?g8(Object(s),!0).forEach(function(a){Tme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):g8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Tme(e,r,s){return(r=Eme(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Eme(e){var r=Ime(e,"string");return typeof r=="symbol"?r:r+""}function Ime(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function _me(e,r){return e??r}var UF=(e,r,s,a,n,i,l)=>{if(!(r==null||i==null)){var{chartData:o,computedData:d,dataStartIndex:c,dataEndIndex:u}=s,m=[];return e.reduce((x,h)=>{var p,{dataDefinedOnItem:f,settings:b}=h,j=_me(f,o),w=Array.isArray(j)?SM(j,c,u):j,y=(p=b==null?void 0:b.dataKey)!==null&&p!==void 0?p:a,v=b==null?void 0:b.nameKey,N;if(a&&Array.isArray(w)&&!Array.isArray(w[0])&&l==="axis"?N=b9(w,a,n):N=i(w,r,d,v),Array.isArray(N))N.forEach(k=>{var P=y8(y8({},b),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});x.push(QP({tooltipEntrySettings:P,dataKey:k.dataKey,payload:k.payload,value:br(k.payload,k.dataKey),name:k.name}))});else{var S;x.push(QP({tooltipEntrySettings:b,dataKey:y,payload:N,value:br(N,y),name:(S=br(N,v))!==null&&S!==void 0?S:b==null?void 0:b.name}))}return x},m)}},q3=Ce([$s,Xt,oF,b3,Bs],jF),Ome=Ce([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,r)=>[...e,...r]),Dme=Ce([Bs,Cm],C3),gx=Ce([Ome,$s,Dme],P3,{memoizeOptions:{resultEqualityCheck:Nb}}),Mme=Ce([gx],e=>e.filter(jb)),Lme=Ce([gx],A3,{memoizeOptions:{resultEqualityCheck:Nb}}),Im=Ce([Lme,xc],T3),Fme=Ce([Mme,xc,$s],nF),K3=Ce([Im,$s,gx],I3),HF=Ce([$s],_3),Rme=Ce([$s],e=>e.allowDataOverflow),VF=Ce([HF,Rme],LL),Bme=Ce([gx],e=>e.filter(jb)),$me=Ce([Fme,Bme,dx],hF),zme=Ce([$me,xc,Bs,VF],xF),Ume=Ce([gx],dF),Hme=Ce([Im,$s,Ume,kb,Bs],M3,{memoizeOptions:{resultEqualityCheck:wb}}),Vme=Ce([pF,Bs,Cm],Pm),Wme=Ce([Vme,Bs],yF),Gme=Ce([fF,Bs,Cm],Pm),qme=Ce([Gme,Bs],bF),Kme=Ce([gF,Bs,Cm],Pm),Yme=Ce([Kme,Bs],vF),Xme=Ce([Wme,Yme,qme],Cg),Jme=Ce([$s,HF,VF,zme,Hme,Xme,Xt,Bs],L3),WF=Ce([$s,Xt,Im,K3,dx,Bs,Jme],F3),Qme=Ce([WF,$s,q3],$3),Zme=Ce([$s,WF,Qme,Bs],U3),GF=e=>{var r=Bs(e),s=Cm(e),a=!1;return px(e,r,s,a)},qF=Ce([$s,GF],yb),KF=Ce([$s,q3,Zme,qF],B3),ehe=Ce([Xt,K3,$s,Bs],AF),the=Ce([Xt,K3,$s,Bs],TF),rhe=(e,r,s,a,n,i,l,o)=>{if(r){var{type:d}=r,c=ol(e,o);if(a){var u=s==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,m=d==="category"&&a.bandwidth?a.bandwidth()/u:0;return m=o==="angleAxis"&&n!=null&&(n==null?void 0:n.length)>=2?Ws(n[0]-n[1])*2*m:m,c&&l?l.map((x,h)=>({coordinate:a(x)+m,value:x,index:h,offset:m})):a.domain().map((x,h)=>({coordinate:a(x)+m,value:i?i[x]:x,index:h,offset:m}))}}},io=Ce([Xt,$s,q3,KF,GF,ehe,the,Bs],rhe),Y3=Ce([IF,_F,pme],(e,r,s)=>OF(s.shared,e,r)),YF=e=>e.tooltip.settings.trigger,X3=e=>e.tooltip.settings.defaultIndex,Ab=Ce([Em,Y3,YF,X3],BF),tc=Ce([Ab,Im],G3),XF=Ce([io,tc],DF),JF=Ce([Ab],e=>{if(e)return e.dataKey}),QF=Ce([Em,Y3,YF,X3],zF),she=Ce([eo,to,Xt,Fs,io,X3,QF,fx],$F),ahe=Ce([Ab,she],(e,r)=>e!=null&&e.coordinate?e.coordinate:r),nhe=Ce([Ab],e=>e.active),ihe=Ce([QF,tc,xc,mF,XF,fx,Y3],UF),lhe=Ce([ihe],e=>{if(e!=null){var r=e.map(s=>s.payload).filter(s=>s!=null);return Array.from(new Set(r))}});function b8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function v8(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?b8(Object(s),!0).forEach(function(a){ohe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):b8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ohe(e,r,s){return(r=che(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function che(e){var r=dhe(e,"string");return typeof r=="symbol"?r:r+""}function dhe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var uhe=()=>St($s),mhe=()=>{var e=uhe(),r=St(io),s=St(KF);return ec(!e||!s?void 0:v8(v8({},e),{},{scale:s}),r)};function j8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function qd(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?j8(Object(s),!0).forEach(function(a){hhe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):j8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function hhe(e,r,s){return(r=xhe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function xhe(e){var r=phe(e,"string");return typeof r=="symbol"?r:r+""}function phe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var fhe=(e,r,s,a)=>{var n=r.find(i=>i&&i.index===s);if(n){if(e==="horizontal")return{x:n.coordinate,y:a.chartY};if(e==="vertical")return{x:a.chartX,y:n.coordinate}}return{x:0,y:0}},ghe=(e,r,s,a)=>{var n=r.find(c=>c&&c.index===s);if(n){if(e==="centric"){var i=n.coordinate,{radius:l}=a;return qd(qd(qd({},a),Ps(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var o=n.coordinate,{angle:d}=a;return qd(qd(qd({},a),Ps(a.cx,a.cy,o,d)),{},{angle:d,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function yhe(e,r){var{chartX:s,chartY:a}=e;return s>=r.left&&s<=r.left+r.width&&a>=r.top&&a<=r.top+r.height}var ZF=(e,r,s,a,n)=>{var i,l=-1,o=(i=r==null?void 0:r.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(a==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var d=0;d<o;d++){var c=d>0?s[d-1].coordinate:s[o-1].coordinate,u=s[d].coordinate,m=d>=o-1?s[0].coordinate:s[d+1].coordinate,x=void 0;if(Ws(u-c)!==Ws(m-u)){var h=[];if(Ws(m-u)===Ws(n[1]-n[0])){x=m;var p=u+n[1]-n[0];h[0]=Math.min(p,(p+c)/2),h[1]=Math.max(p,(p+c)/2)}else{x=c;var f=m+n[1]-n[0];h[0]=Math.min(u,(f+u)/2),h[1]=Math.max(u,(f+u)/2)}var b=[Math.min(u,(x+u)/2),Math.max(u,(x+u)/2)];if(e>b[0]&&e<=b[1]||e>=h[0]&&e<=h[1]){({index:l}=s[d]);break}}else{var j=Math.min(c,m),w=Math.max(c,m);if(e>(j+u)/2&&e<=(w+u)/2){({index:l}=s[d]);break}}}else if(r){for(var y=0;y<o;y++)if(y===0&&e<=(r[y].coordinate+r[y+1].coordinate)/2||y>0&&y<o-1&&e>(r[y].coordinate+r[y-1].coordinate)/2&&e<=(r[y].coordinate+r[y+1].coordinate)/2||y===o-1&&e>(r[y].coordinate+r[y-1].coordinate)/2){({index:l}=r[y]);break}}return l},eR=()=>St(b3),J3=(e,r)=>r,tR=(e,r,s)=>s,Q3=(e,r,s,a)=>a,bhe=Ce(io,e=>Zy(e,r=>r.coordinate)),Z3=Ce([Em,J3,tR,Q3],BF),rR=Ce([Z3,Im],G3),vhe=(e,r,s)=>{if(r!=null){var a=Em(e);return r==="axis"?s==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:s==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},sR=Ce([Em,J3,tR,Q3],zF),Pg=Ce([eo,to,Xt,Fs,io,Q3,sR,fx],$F),jhe=Ce([Z3,Pg],(e,r)=>{var s;return(s=e.coordinate)!==null&&s!==void 0?s:r}),aR=Ce([io,rR],DF),whe=Ce([sR,rR,xc,mF,aR,fx,J3],UF),Nhe=Ce([Z3],e=>({isActive:e.active,activeIndex:e.index})),She=(e,r,s,a,n,i,l)=>{if(!(!e||!s||!a||!n)&&yhe(e,l)){var o=pie(e,r),d=ZF(o,i,n,s,a),c=fhe(r,n,d,e);return{activeIndex:String(d),activeCoordinate:c}}},khe=(e,r,s,a,n,i,l)=>{if(!(!e||!a||!n||!i||!s)){var o=foe(e,s);if(o){var d=fie(o,r),c=ZF(d,l,i,a,n),u=ghe(r,i,c,o);return{activeIndex:String(c),activeCoordinate:u}}}},Che=(e,r,s,a,n,i,l,o)=>{if(!(!e||!r||!a||!n||!i))return r==="horizontal"||r==="vertical"?She(e,r,a,n,i,l,o):khe(e,r,s,a,n,i,l)},Phe=Ce(e=>e.zIndex.zIndexMap,(e,r)=>r,(e,r,s)=>s,(e,r,s)=>{if(r!=null){var a=e[r];if(a!=null)return s?a.panoramaElementId:a.elementId}}),Ahe=Ce(e=>e.zIndex.zIndexMap,e=>{var r=Object.keys(e).map(a=>parseInt(a,10)).concat(Object.values(ps)),s=Array.from(new Set(r));return s.sort((a,n)=>a-n)},{memoizeOptions:{resultEqualityCheck:fue}});function w8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function N8(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?w8(Object(s),!0).forEach(function(a){The(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):w8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function The(e,r,s){return(r=Ehe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Ehe(e){var r=Ihe(e,"string");return typeof r=="symbol"?r:r+""}function Ihe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var _he={},Ohe={zIndexMap:Object.values(ps).reduce((e,r)=>N8(N8({},e),{},{[r]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),_he)},Dhe=new Set(Object.values(ps));function Mhe(e){return Dhe.has(e)}var nR=ln({name:"zIndex",initialState:Ohe,reducers:{registerZIndexPortal:{reducer:(e,r)=>{var{zIndex:s}=r.payload;e.zIndexMap[s]?e.zIndexMap[s].consumers+=1:e.zIndexMap[s]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ms()},unregisterZIndexPortal:{reducer:(e,r)=>{var{zIndex:s}=r.payload;e.zIndexMap[s]&&(e.zIndexMap[s].consumers-=1,e.zIndexMap[s].consumers<=0&&!Mhe(s)&&delete e.zIndexMap[s])},prepare:Ms()},registerZIndexPortalId:{reducer:(e,r)=>{var{zIndex:s,elementId:a,isPanorama:n}=r.payload;e.zIndexMap[s]?n?e.zIndexMap[s].panoramaElementId=a:e.zIndexMap[s].elementId=a:e.zIndexMap[s]={consumers:0,elementId:n?void 0:a,panoramaElementId:n?a:void 0}},prepare:Ms()},unregisterZIndexPortalId:{reducer:(e,r)=>{var{zIndex:s}=r.payload;e.zIndexMap[s]&&(r.payload.isPanorama?e.zIndexMap[s].panoramaElementId=void 0:e.zIndexMap[s].elementId=void 0)},prepare:Ms()}}}),{registerZIndexPortal:Lhe,unregisterZIndexPortal:Fhe,registerZIndexPortalId:Rhe,unregisterZIndexPortalId:Bhe}=nR.actions,$he=nR.reducer;function $a(e){var{zIndex:r,children:s}=e,a=Hie(),n=a&&r!==void 0&&r!==0,i=Ys(),l=Ir();g.useLayoutEffect(()=>n?(l(Lhe({zIndex:r})),()=>{l(Fhe({zIndex:r}))}):_d,[l,r,n]);var o=St(c=>Phe(c,r,i));if(!n)return s;if(!o)return null;var d=document.getElementById(o);return d?vy.createPortal(s,d):null}function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},iw.apply(null,arguments)}function S8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function gp(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?S8(Object(s),!0).forEach(function(a){zhe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function zhe(e,r,s){return(r=Uhe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Uhe(e){var r=Hhe(e,"string");return typeof r=="symbol"?r:r+""}function Hhe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Vhe(e){var{cursor:r,cursorComp:s,cursorProps:a}=e;return g.isValidElement(r)?g.cloneElement(r,a):g.createElement(s,a)}function Whe(e){var r,{coordinate:s,payload:a,index:n,offset:i,tooltipAxisBandSize:l,layout:o,cursor:d,tooltipEventType:c,chartName:u}=e,m=s,x=a,h=n;if(!d||!m||u!=="ScatterChart"&&c!=="axis")return null;var p,f,b;if(u==="ScatterChart")p=m,f=_le,b=ps.cursorLine;else if(u==="BarChart")p=Ole(o,m,i,l),f=qM,b=ps.cursorRectangle;else if(o==="radial"&&j9(m)){var{cx:j,cy:w,radius:y,startAngle:v,endAngle:N}=YM(m);p={cx:j,cy:w,startAngle:v,endAngle:N,innerRadius:y,outerRadius:y},f=JM,b=ps.cursorLine}else p={points:voe(o,m,i)},f=Ou,b=ps.cursorLine;var S=typeof d=="object"&&"className"in d?d.className:void 0,k=gp(gp(gp(gp({stroke:"#ccc",pointerEvents:"none"},i),p),md(d)),{},{payload:x,payloadIndex:h,className:nr("recharts-tooltip-cursor",S)});return g.createElement($a,{zIndex:(r=e.zIndex)!==null&&r!==void 0?r:b},g.createElement(Vhe,{cursor:d,cursorComp:f,cursorProps:k}))}function Ghe(e){var r=mhe(),s=RM(),a=vm(),n=eR();return r==null||s==null||a==null||n==null?null:g.createElement(Whe,iw({},e,{offset:s,layout:a,tooltipAxisBandSize:r,chartName:n}))}var iR=g.createContext(null),qhe=()=>g.useContext(iR),lR={exports:{}};(function(e){var r=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function n(d,c,u){this.fn=d,this.context=c,this.once=u||!1}function i(d,c,u,m,x){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new n(u,m||d,x),p=s?s+c:c;return d._events[p]?d._events[p].fn?d._events[p]=[d._events[p],h]:d._events[p].push(h):(d._events[p]=h,d._eventsCount++),d}function l(d,c){--d._eventsCount===0?d._events=new a:delete d._events[c]}function o(){this._events=new a,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,m;if(this._eventsCount===0)return c;for(m in u=this._events)r.call(u,m)&&c.push(s?m.slice(1):m);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=s?s+c:c,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var x=0,h=m.length,p=new Array(h);x<h;x++)p[x]=m[x].fn;return p},o.prototype.listenerCount=function(c){var u=s?s+c:c,m=this._events[u];return m?m.fn?1:m.length:0},o.prototype.emit=function(c,u,m,x,h,p){var f=s?s+c:c;if(!this._events[f])return!1;var b=this._events[f],j=arguments.length,w,y;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),j){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,m),!0;case 4:return b.fn.call(b.context,u,m,x),!0;case 5:return b.fn.call(b.context,u,m,x,h),!0;case 6:return b.fn.call(b.context,u,m,x,h,p),!0}for(y=1,w=new Array(j-1);y<j;y++)w[y-1]=arguments[y];b.fn.apply(b.context,w)}else{var v=b.length,N;for(y=0;y<v;y++)switch(b[y].once&&this.removeListener(c,b[y].fn,void 0,!0),j){case 1:b[y].fn.call(b[y].context);break;case 2:b[y].fn.call(b[y].context,u);break;case 3:b[y].fn.call(b[y].context,u,m);break;case 4:b[y].fn.call(b[y].context,u,m,x);break;default:if(!w)for(N=1,w=new Array(j-1);N<j;N++)w[N-1]=arguments[N];b[y].fn.apply(b[y].context,w)}}return!0},o.prototype.on=function(c,u,m){return i(this,c,u,m,!1)},o.prototype.once=function(c,u,m){return i(this,c,u,m,!0)},o.prototype.removeListener=function(c,u,m,x){var h=s?s+c:c;if(!this._events[h])return this;if(!u)return l(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!x||p.once)&&(!m||p.context===m)&&l(this,h);else{for(var f=0,b=[],j=p.length;f<j;f++)(p[f].fn!==u||x&&!p[f].once||m&&p[f].context!==m)&&b.push(p[f]);b.length?this._events[h]=b.length===1?b[0]:b:l(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=s?s+c:c,this._events[u]&&l(this,u)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=s,o.EventEmitter=o,e.exports=o})(lR);var Khe=lR.exports;const Yhe=di(Khe);var S0=new Yhe,lw="recharts.syncEvent.tooltip",k8="recharts.syncEvent.brush";function Tb(e,r){if(r){var s=Number.parseInt(r,10);if(!li(s))return e==null?void 0:e[s]}}var Xhe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},oR=ln({name:"options",initialState:Xhe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Jhe=oR.reducer,{createEventEmitter:Qhe}=oR.actions;function Zhe(e){return e.tooltip.syncInteraction}var e0e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},cR=ln({name:"chartData",initialState:e0e,reducers:{setChartData(e,r){if(e.chartData=r.payload,r.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}r.payload.length>0&&e.dataEndIndex!==r.payload.length-1&&(e.dataEndIndex=r.payload.length-1)},setComputedData(e,r){e.computedData=r.payload},setDataStartEndIndexes(e,r){var{startIndex:s,endIndex:a}=r.payload;s!=null&&(e.dataStartIndex=s),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:C8,setDataStartEndIndexes:t0e,setComputedData:qSe}=cR.actions,r0e=cR.reducer,s0e=["x","y"];function P8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Kd(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?P8(Object(s),!0).forEach(function(a){a0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):P8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function a0e(e,r,s){return(r=n0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function n0e(e){var r=i0e(e,"string");return typeof r=="symbol"?r:r+""}function i0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function l0e(e,r){if(e==null)return{};var s,a,n=o0e(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function o0e(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function c0e(){var e=St(v3),r=St(j3),s=Ir(),a=St(ZL),n=St(io),i=vm(),l=cb(),o=St(d=>d.rootProps.className);g.useEffect(()=>{if(e==null)return _d;var d=(c,u,m)=>{if(r!==m&&e===c){if(a==="index"){var x;if(l&&u!==null&&u!==void 0&&(x=u.payload)!==null&&x!==void 0&&x.coordinate&&u.payload.sourceViewBox){var h=u.payload.coordinate,{x:p,y:f}=h,b=l0e(h,s0e),{x:j,y:w,width:y,height:v}=u.payload.sourceViewBox,N=Kd(Kd({},b),{},{x:l.x+(y?(p-j)/y:0)*l.width,y:l.y+(v?(f-w)/v:0)*l.height});s(Kd(Kd({},u),{},{payload:Kd(Kd({},u.payload),{},{coordinate:N})}))}else s(u);return}if(n!=null){var S;if(typeof a=="function"){var k={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},P=a(n,k);S=n[P]}else a==="value"&&(S=n.find(ce=>String(ce.value)===u.payload.label));var{coordinate:C}=u.payload;if(S==null||u.payload.active===!1||C==null||l==null){s(aw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:I,y:A}=C,O=Math.min(I,l.x+l.width),R=Math.min(A,l.y+l.height),Z={x:i==="horizontal"?S.coordinate:O,y:i==="horizontal"?R:S.coordinate},Y=aw({active:u.payload.active,coordinate:Z,dataKey:u.payload.dataKey,index:String(S.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox});s(Y)}}};return S0.on(lw,d),()=>{S0.off(lw,d)}},[o,s,r,e,a,n,i,l])}function d0e(){var e=St(v3),r=St(j3),s=Ir();g.useEffect(()=>{if(e==null)return _d;var a=(n,i,l)=>{r!==l&&e===n&&s(t0e(i))};return S0.on(k8,a),()=>{S0.off(k8,a)}},[s,r,e])}function u0e(){var e=Ir();g.useEffect(()=>{e(Qhe())},[e]),c0e(),d0e()}function m0e(e,r,s,a,n,i){var l=St(h=>vhe(h,e,r)),o=St(j3),d=St(v3),c=St(ZL),u=St(Zhe),m=u==null?void 0:u.active,x=cb();g.useEffect(()=>{if(!m&&d!=null&&o!=null){var h=aw({active:i,coordinate:s,dataKey:l,index:n,label:typeof a=="number"?String(a):a,sourceViewBox:x});S0.emit(lw,d,h,o)}},[m,s,l,n,a,o,d,c,i,x])}function A8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function T8(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?A8(Object(s),!0).forEach(function(a){h0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):A8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function h0e(e,r,s){return(r=x0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function x0e(e){var r=p0e(e,"string");return typeof r=="symbol"?r:r+""}function p0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function f0e(e){return e.dataKey}function g0e(e,r){return g.isValidElement(e)?g.cloneElement(e,r):typeof e=="function"?g.createElement(e,r):g.createElement(dle,r)}var E8=[],y0e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ro.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function qi(e){var r,s,a=cs(e,y0e),{active:n,allowEscapeViewBox:i,animationDuration:l,animationEasing:o,content:d,filterNull:c,isAnimationActive:u,offset:m,payloadUniqBy:x,position:h,reverseDirection:p,useTranslate3d:f,wrapperStyle:b,cursor:j,shared:w,trigger:y,defaultIndex:v,portal:N,axisId:S}=a,k=Ir(),P=typeof v=="number"?String(v):v;g.useEffect(()=>{k(bme({shared:w,trigger:y,axisId:S,active:n,defaultIndex:P}))},[k,w,y,S,n,P]);var C=cb(),I=UM(),A=xme(w),{activeIndex:O,isActive:R}=(r=St(V=>Nhe(V,A,y,P)))!==null&&r!==void 0?r:{},Z=St(V=>whe(V,A,y,P)),Y=St(V=>aR(V,A,y,P)),ce=St(V=>jhe(V,A,y,P)),D=Z,z=qhe(),se=(s=n??R)!==null&&s!==void 0?s:!1,[K,_]=J9([D,se]),M=A==="axis"?Y:void 0;m0e(A,y,ce,M,O,se);var F=N??z;if(F==null||C==null||A==null)return null;var B=D??E8;se||(B=E8),c&&B.length&&(B=B9(B.filter(V=>V.value!=null&&(V.hide!==!0||a.includeHidden)),x,f0e));var q=B.length>0,ae=g.createElement(gle,{allowEscapeViewBox:i,animationDuration:l,animationEasing:o,isAnimationActive:u,active:se,coordinate:ce,hasPayload:q,offset:m,position:h,reverseDirection:p,useTranslate3d:f,viewBox:C,wrapperStyle:b,lastBoundingBox:K,innerRef:_,hasPortalFromProps:!!N},g0e(d,T8(T8({},a),{},{payload:B,label:M,active:se,activeIndex:O,coordinate:ce,accessibilityLayer:I})));return g.createElement(g.Fragment,null,vy.createPortal(ae,F),se&&g.createElement(Ghe,{cursor:j,tooltipEventType:A,coordinate:ce,payload:B,index:O}))}var rc=e=>null;rc.displayName="Cell";function b0e(e,r,s){return(r=v0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function v0e(e){var r=j0e(e,"string");return typeof r=="symbol"?r:r+""}function j0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class w0e{constructor(r){b0e(this,"cache",new Map),this.maxSize=r}get(r){var s=this.cache.get(r);return s!==void 0&&(this.cache.delete(r),this.cache.set(r,s)),s}set(r,s){if(this.cache.has(r))this.cache.delete(r);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(r,s)}clear(){this.cache.clear()}size(){return this.cache.size}}function I8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function N0e(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?I8(Object(s),!0).forEach(function(a){S0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):I8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function S0e(e,r,s){return(r=k0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function k0e(e){var r=C0e(e,"string");return typeof r=="symbol"?r:r+""}function C0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var P0e={cacheSize:2e3,enableCache:!0},dR=N0e({},P0e),_8=new w0e(dR.cacheSize),A0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},O8="recharts_measurement_span";function T0e(e,r){var s=r.fontSize||"",a=r.fontFamily||"",n=r.fontWeight||"",i=r.fontStyle||"",l=r.letterSpacing||"",o=r.textTransform||"";return"".concat(e,"|").concat(s,"|").concat(a,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(o)}var D8=(e,r)=>{try{var s=document.getElementById(O8);s||(s=document.createElement("span"),s.setAttribute("id",O8),s.setAttribute("aria-hidden","true"),document.body.appendChild(s)),Object.assign(s.style,A0e,r),s.textContent="".concat(e);var a=s.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},Oh=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||ro.isSsr)return{width:0,height:0};if(!dR.enableCache)return D8(r,s);var a=T0e(r,s),n=_8.get(a);if(n)return n;var i=D8(r,s);return _8.set(a,i),i},M8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,L8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,E0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,I0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,uR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_0e=Object.keys(uR),gu="NaN";function O0e(e,r){return e*uR[r]}class za{static parse(r){var s,[,a,n]=(s=I0e.exec(r))!==null&&s!==void 0?s:[];return new za(parseFloat(a),n??"")}constructor(r,s){this.num=r,this.unit=s,this.num=r,this.unit=s,li(r)&&(this.unit=""),s!==""&&!E0e.test(s)&&(this.num=NaN,this.unit=""),_0e.includes(s)&&(this.num=O0e(r,s),this.unit="px")}add(r){return this.unit!==r.unit?new za(NaN,""):new za(this.num+r.num,this.unit)}subtract(r){return this.unit!==r.unit?new za(NaN,""):new za(this.num-r.num,this.unit)}multiply(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new za(NaN,""):new za(this.num*r.num,this.unit||r.unit)}divide(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new za(NaN,""):new za(this.num/r.num,this.unit||r.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return li(this.num)}}function mR(e){if(e.includes(gu))return gu;for(var r=e;r.includes("*")||r.includes("/");){var s,[,a,n,i]=(s=M8.exec(r))!==null&&s!==void 0?s:[],l=za.parse(a??""),o=za.parse(i??""),d=n==="*"?l.multiply(o):l.divide(o);if(d.isNaN())return gu;r=r.replace(M8,d.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var c,[,u,m,x]=(c=L8.exec(r))!==null&&c!==void 0?c:[],h=za.parse(u??""),p=za.parse(x??""),f=m==="+"?h.add(p):h.subtract(p);if(f.isNaN())return gu;r=r.replace(L8,f.toString())}return r}var F8=/\(([^()]*)\)/;function D0e(e){for(var r=e,s;(s=F8.exec(r))!=null;){var[,a]=s;r=r.replace(F8,mR(a))}return r}function M0e(e){var r=e.replace(/\s+/g,"");return r=D0e(r),r=mR(r),r}function L0e(e){try{return M0e(e)}catch{return gu}}function E1(e){var r=L0e(e.slice(5,-1));return r===gu?"":r}var F0e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],R0e=["dx","dy","angle","className","breakAll"];function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ow.apply(null,arguments)}function R8(e,r){if(e==null)return{};var s,a,n=B0e(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function B0e(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var hR=/[ \f\n\r\t\v\u2028\u2029]+/,xR=e=>{var{children:r,breakAll:s,style:a}=e;try{var n=[];Fr(r)||(s?n=r.toString().split(""):n=r.toString().split(hR));var i=n.map(o=>({word:o,width:Oh(o,a).width})),l=s?0:Oh("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}};function $0e(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var pR=(e,r,s,a)=>e.reduce((n,i)=>{var{word:l,width:o}=i,d=n[n.length-1];if(d&&o!=null&&(r==null||a||d.width+o+s<Number(r)))d.words.push(l),d.width+=o+s;else{var c={words:[l],width:o};n.push(c)}return n},[]),fR=e=>e.reduce((r,s)=>r.width>s.width?r:s),z0e="",B8=(e,r,s,a,n,i,l,o)=>{var d=e.slice(0,r),c=xR({breakAll:s,style:a,children:d+z0e});if(!c)return[!1,[]];var u=pR(c.wordsWithComputedWidth,i,l,o),m=u.length>n||fR(u).width>Number(i);return[m,u]},U0e=(e,r,s,a,n)=>{var{maxLines:i,children:l,style:o,breakAll:d}=e,c=bt(i),u=String(l),m=pR(r,a,s,n);if(!c||n)return m;var x=m.length>i||fR(m).width>Number(a);if(!x)return m;for(var h=0,p=u.length-1,f=0,b;h<=p&&f<=u.length-1;){var j=Math.floor((h+p)/2),w=j-1,[y,v]=B8(u,w,d,o,i,a,s,n),[N]=B8(u,j,d,o,i,a,s,n);if(!y&&!N&&(h=j+1),y&&N&&(p=j-1),!y&&N){b=v;break}f++}return b||m},$8=e=>{var r=Fr(e)?[]:e.toString().split(hR);return[{words:r,width:void 0}]},H0e=e=>{var{width:r,scaleToFit:s,children:a,style:n,breakAll:i,maxLines:l}=e;if((r||s)&&!ro.isSsr){var o,d,c=xR({breakAll:i,children:a,style:n});if(c){var{wordsWithComputedWidth:u,spaceWidth:m}=c;o=u,d=m}else return $8(a);return U0e({breakAll:i,children:a,maxLines:l,style:n},o,d,r,!!s)}return $8(a)},gR="#808080",V0e={breakAll:!1,capHeight:"0.71em",fill:gR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Eb=g.forwardRef((e,r)=>{var s=cs(e,V0e),{x:a,y:n,lineHeight:i,capHeight:l,fill:o,scaleToFit:d,textAnchor:c,verticalAnchor:u}=s,m=R8(s,F0e),x=g.useMemo(()=>H0e({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:d,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,d,m.style,m.width]),{dx:h,dy:p,angle:f,className:b,breakAll:j}=m,w=R8(m,R0e);if(!tl(a)||!tl(n)||x.length===0)return null;var y=Number(a)+(bt(h)?h:0),v=Number(n)+(bt(p)?p:0);if(!Rr(y)||!Rr(v))return null;var N;switch(u){case"start":N=E1("calc(".concat(l,")"));break;case"middle":N=E1("calc(".concat((x.length-1)/2," * -").concat(i," + (").concat(l," / 2))"));break;default:N=E1("calc(".concat(x.length-1," * -").concat(i,")"));break}var S=[];if(d){var k=x[0].width,{width:P}=m;S.push("scale(".concat(bt(P)&&bt(k)?P/k:1,")"))}return f&&S.push("rotate(".concat(f,", ").concat(y,", ").concat(v,")")),S.length&&(w.transform=S.join(" ")),g.createElement("text",ow({},Sa(w),{ref:r,x:y,y:v,className:nr("recharts-text",b),textAnchor:c,fill:o.includes("url")?gR:o}),x.map((C,I)=>{var A=C.words.join(j?"":" ");return g.createElement("tspan",{x:y,dy:I===0?N:i,key:"".concat(A,"-").concat(I)},A)}))});Eb.displayName="Text";var W0e=["labelRef"];function G0e(e,r){if(e==null)return{};var s,a,n=q0e(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function q0e(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function z8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ds(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?z8(Object(s),!0).forEach(function(a){K0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):z8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function K0e(e,r,s){return(r=Y0e(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Y0e(e){var r=X0e(e,"string");return typeof r=="symbol"?r:r+""}function X0e(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},hl.apply(null,arguments)}var yR=g.createContext(null),J0e=e=>{var{x:r,y:s,upperWidth:a,lowerWidth:n,width:i,height:l,children:o}=e,d=g.useMemo(()=>({x:r,y:s,upperWidth:a,lowerWidth:n,width:i,height:l}),[r,s,a,n,i,l]);return g.createElement(yR.Provider,{value:d},o)},bR=()=>{var e=g.useContext(yR),r=cb();return e||FM(r)},Q0e=g.createContext(null),Z0e=()=>{var e=g.useContext(Q0e),r=St(aF);return e||r},exe=e=>{var{value:r,formatter:s}=e,a=Fr(e.children)?r:e.children;return typeof s=="function"?s(a):a},e6=e=>e!=null&&typeof e=="function",txe=(e,r)=>{var s=Ws(r-e),a=Math.min(Math.abs(r-e),360);return s*a},rxe=(e,r,s,a,n)=>{var{offset:i,className:l}=e,{cx:o,cy:d,innerRadius:c,outerRadius:u,startAngle:m,endAngle:x,clockWise:h}=n,p=(c+u)/2,f=txe(m,x),b=f>=0?1:-1,j,w;switch(r){case"insideStart":j=m+b*i,w=h;break;case"insideEnd":j=x-b*i,w=!h;break;case"end":j=x+b*i,w=h;break;default:throw new Error("Unsupported position ".concat(r))}w=f<=0?w:!w;var y=Ps(o,d,p,j),v=Ps(o,d,p,j+(w?1:-1)*359),N="M".concat(y.x,",").concat(y.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(v.x,",").concat(v.y),S=Fr(e.id)?h0("recharts-radial-line-"):e.id;return g.createElement("text",hl({},a,{dominantBaseline:"central",className:nr("recharts-radial-bar-label",l)}),g.createElement("defs",null,g.createElement("path",{id:S,d:N})),g.createElement("textPath",{xlinkHref:"#".concat(S)},s))},sxe=(e,r,s)=>{var{cx:a,cy:n,innerRadius:i,outerRadius:l,startAngle:o,endAngle:d}=e,c=(o+d)/2;if(s==="outside"){var{x:u,y:m}=Ps(a,n,l+r,c);return{x:u,y:m,textAnchor:u>=a?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"end"};var x=(i+l)/2,{x:h,y:p}=Ps(a,n,x,c);return{x:h,y:p,textAnchor:"middle",verticalAnchor:"middle"}},cw=e=>"cx"in e&&bt(e.cx),axe=(e,r)=>{var{parentViewBox:s,offset:a,position:n}=e,i;s!=null&&!cw(s)&&(i=s);var{x:l,y:o,upperWidth:d,lowerWidth:c,height:u}=r,m=l,x=l+(d-c)/2,h=(m+x)/2,p=(d+c)/2,f=m+d/2,b=u>=0?1:-1,j=b*a,w=b>0?"end":"start",y=b>0?"start":"end",v=d>=0?1:-1,N=v*a,S=v>0?"end":"start",k=v>0?"start":"end";if(n==="top"){var P={x:m+d/2,y:o-j,textAnchor:"middle",verticalAnchor:w};return ds(ds({},P),i?{height:Math.max(o-i.y,0),width:d}:{})}if(n==="bottom"){var C={x:x+c/2,y:o+u+j,textAnchor:"middle",verticalAnchor:y};return ds(ds({},C),i?{height:Math.max(i.y+i.height-(o+u),0),width:c}:{})}if(n==="left"){var I={x:h-N,y:o+u/2,textAnchor:S,verticalAnchor:"middle"};return ds(ds({},I),i?{width:Math.max(I.x-i.x,0),height:u}:{})}if(n==="right"){var A={x:h+p+N,y:o+u/2,textAnchor:k,verticalAnchor:"middle"};return ds(ds({},A),i?{width:Math.max(i.x+i.width-A.x,0),height:u}:{})}var O=i?{width:p,height:u}:{};return n==="insideLeft"?ds({x:h+N,y:o+u/2,textAnchor:k,verticalAnchor:"middle"},O):n==="insideRight"?ds({x:h+p-N,y:o+u/2,textAnchor:S,verticalAnchor:"middle"},O):n==="insideTop"?ds({x:m+d/2,y:o+j,textAnchor:"middle",verticalAnchor:y},O):n==="insideBottom"?ds({x:x+c/2,y:o+u-j,textAnchor:"middle",verticalAnchor:w},O):n==="insideTopLeft"?ds({x:m+N,y:o+j,textAnchor:k,verticalAnchor:y},O):n==="insideTopRight"?ds({x:m+d-N,y:o+j,textAnchor:S,verticalAnchor:y},O):n==="insideBottomLeft"?ds({x:x+N,y:o+u-j,textAnchor:k,verticalAnchor:w},O):n==="insideBottomRight"?ds({x:x+c-N,y:o+u-j,textAnchor:S,verticalAnchor:w},O):n&&typeof n=="object"&&(bt(n.x)||zl(n.x))&&(bt(n.y)||zl(n.y))?ds({x:l+ba(n.x,p),y:o+ba(n.y,u),textAnchor:"end",verticalAnchor:"end"},O):ds({x:f,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},O)},nxe={offset:5,zIndex:ps.label};function No(e){var r=cs(e,nxe),{viewBox:s,position:a,value:n,children:i,content:l,className:o="",textBreakAll:d,labelRef:c}=r,u=Z0e(),m=bR(),x=a==="center"?m:u??m,h,p,f;if(s==null?h=x:cw(s)?h=s:h=FM(s),!h||Fr(n)&&Fr(i)&&!g.isValidElement(l)&&typeof l!="function")return null;var b=ds(ds({},r),{},{viewBox:h});if(g.isValidElement(l)){var{labelRef:j}=b,w=G0e(b,W0e);return g.cloneElement(l,w)}if(typeof l=="function"){if(p=g.createElement(l,b),g.isValidElement(p))return p}else p=exe(r);var y=Sa(r);if(cw(h)){if(a==="insideStart"||a==="insideEnd"||a==="end")return rxe(r,a,p,y,h);f=sxe(h,r.offset,r.position)}else f=axe(r,h);return g.createElement($a,{zIndex:r.zIndex},g.createElement(Eb,hl({ref:c,className:nr("recharts-label",o)},y,f,{textAnchor:$0e(y.textAnchor)?y.textAnchor:f.textAnchor,breakAll:d}),p))}No.displayName="Label";var ixe=(e,r,s)=>{if(!e)return null;var a={viewBox:r,labelRef:s};return e===!0?g.createElement(No,hl({key:"label-implicit"},a)):tl(e)?g.createElement(No,hl({key:"label-implicit",value:e},a)):g.isValidElement(e)?e.type===No?g.cloneElement(e,ds({key:"label-implicit"},a)):g.createElement(No,hl({key:"label-implicit",content:e},a)):e6(e)?g.createElement(No,hl({key:"label-implicit",content:e},a)):e&&typeof e=="object"?g.createElement(No,hl({},e,{key:"label-implicit"},a)):null};function lxe(e){var{label:r,labelRef:s}=e,a=bR();return ixe(r,a,s)||null}var vR={},jR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return s[s.length-1]}e.last=r})(jR);var wR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return Array.isArray(s)?s:Array.from(s)}e.toArray=r})(wR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=jR,s=wR,a=Jy;function n(i){if(a.isArrayLike(i))return r.last(s.toArray(i))}e.last=n})(vR);var oxe=vR.last;const cxe=di(oxe);var dxe=["valueAccessor"],uxe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ag.apply(null,arguments)}function U8(e,r){if(e==null)return{};var s,a,n=mxe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function mxe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var hxe=e=>Array.isArray(e.value)?cxe(e.value):e.value,NR=g.createContext(void 0),t6=NR.Provider,SR=g.createContext(void 0),xxe=SR.Provider;function pxe(){return g.useContext(NR)}function fxe(){return g.useContext(SR)}function Zp(e){var{valueAccessor:r=hxe}=e,s=U8(e,dxe),{dataKey:a,clockWise:n,id:i,textBreakAll:l,zIndex:o}=s,d=U8(s,uxe),c=pxe(),u=fxe(),m=c||u;return!m||!m.length?null:g.createElement($a,{zIndex:o??ps.label},g.createElement(os,{className:"recharts-label-list"},m.map((x,h)=>{var p,f=Fr(a)?r(x,h):br(x&&x.payload,a),b=Fr(i)?{}:{id:"".concat(i,"-").concat(h)};return g.createElement(No,Ag({key:"label-".concat(h)},Sa(x),d,b,{fill:(p=s.fill)!==null&&p!==void 0?p:x.fill,parentViewBox:x.parentViewBox,value:f,textBreakAll:l,viewBox:x.viewBox,index:h,zIndex:0}))})))}Zp.displayName="LabelList";function Ib(e){var{label:r}=e;return r?r===!0?g.createElement(Zp,{key:"labelList-implicit"}):g.isValidElement(r)||e6(r)?g.createElement(Zp,{key:"labelList-implicit",content:r}):typeof r=="object"?g.createElement(Zp,Ag({key:"labelList-implicit"},r,{type:String(r.type)})):null:null}function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},dw.apply(null,arguments)}var kR=e=>{var{cx:r,cy:s,r:a,className:n}=e,i=nr("recharts-dot",n);return bt(r)&&bt(s)&&bt(a)?g.createElement("circle",dw({},Fa(e),k4(e),{className:i,cx:r,cy:s,r:a})):null},CR=e=>e.graphicalItems.polarItems,gxe=Ce([Vr,ux],C3),_b=Ce([CR,Qr,gxe],P3),yxe=Ce([_b],A3),Ob=Ce([yxe,f3],T3),bxe=Ce([Ob,Qr,_b],I3);Ce([Ob,Qr,_b],(e,r,s)=>s.length>0?e.flatMap(a=>s.flatMap(n=>{var i,l=br(a,(i=r.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(r==null?void 0:r.dataKey)!=null?e.map(a=>({value:br(a,r.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var H8=()=>{},vxe=Ce([Ob,Qr,_b,kb,Vr],M3),jxe=Ce([Qr,O3,D3,H8,vxe,H8,Xt,Vr],L3),PR=Ce([Qr,Xt,Ob,bxe,dx,Vr,jxe],F3),wxe=Ce([PR,Qr,Am],$3);Ce([Qr,PR,wxe,Vr],U3);var Nxe={radiusAxis:{},angleAxis:{}},AR=ln({name:"polarAxis",initialState:Nxe,reducers:{addRadiusAxis(e,r){e.radiusAxis[r.payload.id]=r.payload},removeRadiusAxis(e,r){delete e.radiusAxis[r.payload.id]},addAngleAxis(e,r){e.angleAxis[r.payload.id]=r.payload},removeAngleAxis(e,r){delete e.angleAxis[r.payload.id]}}}),{addRadiusAxis:KSe,removeRadiusAxis:YSe,addAngleAxis:XSe,removeAngleAxis:JSe}=AR.actions,Sxe=AR.reducer;function V8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function W8(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?V8(Object(s),!0).forEach(function(a){kxe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):V8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function kxe(e,r,s){return(r=Cxe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Cxe(e){var r=Pxe(e,"string");return typeof r=="symbol"?r:r+""}function Pxe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Axe=(e,r)=>r,r6=Ce([CR,Axe],(e,r)=>e.filter(s=>s.type==="pie").find(s=>s.id===r)),Txe=[],s6=(e,r,s)=>(s==null?void 0:s.length)===0?Txe:s,TR=Ce([f3,r6,s6],(e,r,s)=>{var{chartData:a}=e;if(r!=null){var n;if((r==null?void 0:r.data)!=null&&r.data.length>0?n=r.data:n=a,(!n||!n.length)&&s!=null&&(n=s.map(i=>W8(W8({},r.presentationProps),i.props))),n!=null)return n}}),Exe=Ce([TR,r6,s6],(e,r,s)=>{if(!(e==null||r==null))return e.map((a,n)=>{var i,l=br(a,r.nameKey,r.name),o;return s!=null&&(i=s[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=s[n].props.fill:typeof a=="object"&&a!=null&&"fill"in a?o=a.fill:o=r.fill,{value:uc(l,r.dataKey),color:o,payload:a,type:r.legendType}})}),Ixe=Ce([TR,r6,s6,Fs],(e,r,s,a)=>{if(!(r==null||e==null))return Ape({offset:a,pieSettings:r,displayedData:e,cells:s})}),ER={exports:{}},Nr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a6=Symbol.for("react.transitional.element"),n6=Symbol.for("react.portal"),Db=Symbol.for("react.fragment"),Mb=Symbol.for("react.strict_mode"),Lb=Symbol.for("react.profiler"),Fb=Symbol.for("react.consumer"),Rb=Symbol.for("react.context"),Bb=Symbol.for("react.forward_ref"),$b=Symbol.for("react.suspense"),zb=Symbol.for("react.suspense_list"),Ub=Symbol.for("react.memo"),Hb=Symbol.for("react.lazy"),_xe=Symbol.for("react.view_transition"),Oxe=Symbol.for("react.client.reference");function mi(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case a6:switch(e=e.type,e){case Db:case Lb:case Mb:case $b:case zb:case _xe:return e;default:switch(e=e&&e.$$typeof,e){case Rb:case Bb:case Hb:case Ub:return e;case Fb:return e;default:return r}}case n6:return r}}}Nr.ContextConsumer=Fb;Nr.ContextProvider=Rb;Nr.Element=a6;Nr.ForwardRef=Bb;Nr.Fragment=Db;Nr.Lazy=Hb;Nr.Memo=Ub;Nr.Portal=n6;Nr.Profiler=Lb;Nr.StrictMode=Mb;Nr.Suspense=$b;Nr.SuspenseList=zb;Nr.isContextConsumer=function(e){return mi(e)===Fb};Nr.isContextProvider=function(e){return mi(e)===Rb};Nr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===a6};Nr.isForwardRef=function(e){return mi(e)===Bb};Nr.isFragment=function(e){return mi(e)===Db};Nr.isLazy=function(e){return mi(e)===Hb};Nr.isMemo=function(e){return mi(e)===Ub};Nr.isPortal=function(e){return mi(e)===n6};Nr.isProfiler=function(e){return mi(e)===Lb};Nr.isStrictMode=function(e){return mi(e)===Mb};Nr.isSuspense=function(e){return mi(e)===$b};Nr.isSuspenseList=function(e){return mi(e)===zb};Nr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Db||e===Lb||e===Mb||e===$b||e===zb||typeof e=="object"&&e!==null&&(e.$$typeof===Hb||e.$$typeof===Ub||e.$$typeof===Rb||e.$$typeof===Fb||e.$$typeof===Bb||e.$$typeof===Oxe||e.getModuleId!==void 0)};Nr.typeOf=mi;ER.exports=Nr;var Dxe=ER.exports,G8=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",q8=null,I1=null,IR=e=>{if(e===q8&&Array.isArray(I1))return I1;var r=[];return g.Children.forEach(e,s=>{Fr(s)||(Dxe.isFragment(s)?r=r.concat(IR(s.props.children)):r.push(s))}),I1=r,q8=e,r};function i6(e,r){var s=[],a=[];return Array.isArray(r)?a=r.map(n=>G8(n)):a=[G8(r)],IR(e).forEach(n=>{var i=hd(n,"type.displayName")||hd(n,"type.name");i&&a.indexOf(i)!==-1&&s.push(n)}),s}var l6=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,_R={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){var n;if(typeof s!="object"||s==null)return!1;if(Object.getPrototypeOf(s)===null)return!0;if(Object.prototype.toString.call(s)!=="[object Object]"){const i=s[Symbol.toStringTag];return i==null||!((n=Object.getOwnPropertyDescriptor(s,Symbol.toStringTag))!=null&&n.writable)?!1:s.toString()===`[object ${i}]`}let a=s;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(s)===a}e.isPlainObject=r})(_R);var Mxe=_R.isPlainObject;const Lxe=di(Mxe);function K8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Y8(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?K8(Object(s),!0).forEach(function(a){Fxe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):K8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Fxe(e,r,s){return(r=Rxe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Rxe(e){var r=Bxe(e,"string");return typeof r=="symbol"?r:r+""}function Bxe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Tg.apply(null,arguments)}var X8=(e,r,s,a,n)=>{var i=s-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+s,",").concat(r),l+="L ".concat(e+s-i/2,",").concat(r+n),l+="L ".concat(e+s-i/2-a,",").concat(r+n),l+="L ".concat(e,",").concat(r," Z"),l},$xe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zxe=e=>{var r=cs(e,$xe),{x:s,y:a,upperWidth:n,lowerWidth:i,height:l,className:o}=r,{animationEasing:d,animationDuration:c,animationBegin:u,isUpdateAnimationActive:m}=r,x=g.useRef(null),[h,p]=g.useState(-1),f=g.useRef(n),b=g.useRef(i),j=g.useRef(l),w=g.useRef(s),y=g.useRef(a),v=wm(e,"trapezoid-");if(g.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var Z=x.current.getTotalLength();Z&&p(Z)}catch{}},[]),s!==+s||a!==+a||n!==+n||i!==+i||l!==+l||n===0&&i===0||l===0)return null;var N=nr("recharts-trapezoid",o);if(!m)return g.createElement("g",null,g.createElement("path",Tg({},Sa(r),{className:N,d:X8(s,a,n,i,l)})));var S=f.current,k=b.current,P=j.current,C=w.current,I=y.current,A="0px ".concat(h===-1?1:h,"px"),O="".concat(h,"px 0px"),R=HM(["strokeDasharray"],c,d);return g.createElement(jm,{animationId:v,key:v,canBegin:h>0,duration:c,easing:d,isActive:m,begin:u},Z=>{var Y=ur(S,n,Z),ce=ur(k,i,Z),D=ur(P,l,Z),z=ur(C,s,Z),se=ur(I,a,Z);x.current&&(f.current=Y,b.current=ce,j.current=D,w.current=z,y.current=se);var K=Z>0?{transition:R,strokeDasharray:O}:{strokeDasharray:A};return g.createElement("path",Tg({},Sa(r),{className:N,d:X8(z,se,Y,ce,D),ref:x,style:Y8(Y8({},K),r.style)}))})},Uxe=["option","shapeType","propTransformer","activeClassName","isActive"];function Hxe(e,r){if(e==null)return{};var s,a,n=Vxe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Vxe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function J8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Eg(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?J8(Object(s),!0).forEach(function(a){Wxe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):J8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Wxe(e,r,s){return(r=Gxe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Gxe(e){var r=qxe(e,"string");return typeof r=="symbol"?r:r+""}function qxe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Kxe(e,r){return Eg(Eg({},r),e)}function Yxe(e,r){return e==="symbols"}function Q8(e){var{shapeType:r,elementProps:s}=e;switch(r){case"rectangle":return g.createElement(qM,s);case"trapezoid":return g.createElement(zxe,s);case"sector":return g.createElement(JM,s);case"symbols":if(Yxe(r))return g.createElement(S4,s);break;case"curve":return g.createElement(Ou,s);default:return null}}function Xxe(e){return g.isValidElement(e)?e.props:e}function o6(e){var{option:r,shapeType:s,propTransformer:a=Kxe,activeClassName:n="recharts-active-shape",isActive:i}=e,l=Hxe(e,Uxe),o;if(g.isValidElement(r))o=g.cloneElement(r,Eg(Eg({},l),Xxe(r)));else if(typeof r=="function")o=r(l);else if(Lxe(r)&&typeof r!="boolean"){var d=a(r,l);o=g.createElement(Q8,{shapeType:s,elementProps:d})}else{var c=l;o=g.createElement(Q8,{shapeType:s,elementProps:c})}return i?g.createElement(os,{className:n},o):o}var c6=(e,r)=>{var s=Ir();return(a,n)=>i=>{e==null||e(a,n,i),s(LF({activeIndex:String(n),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}},d6=e=>{var r=Ir();return(s,a)=>n=>{e==null||e(s,a,n),r(vme())}},u6=(e,r)=>{var s=Ir();return(a,n)=>i=>{e==null||e(a,n,i),s(jme({activeIndex:String(n),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}};function Vb(e){var{fn:r,args:s}=e,a=Ir(),n=Ys();return g.useLayoutEffect(()=>{if(!n){var i=r(s);return a(gme(i)),()=>{a(yme(i))}}},[r,s,a,n]),null}function m6(e){var{legendPayload:r}=e,s=Ir(),a=Ys();return g.useLayoutEffect(()=>a?_d:(s($M(r)),()=>{s(zM(r))}),[s,a,r]),null}function Jxe(e){var{legendPayload:r}=e,s=Ir(),a=St(Xt);return g.useLayoutEffect(()=>a!=="centric"&&a!=="radial"?_d:(s($M(r)),()=>{s(zM(r))}),[s,a,r]),null}var _1,Qxe=()=>{var[e]=g.useState(()=>h0("uid-"));return e},Zxe=(_1=AE.useId)!==null&&_1!==void 0?_1:Qxe;function OR(e,r){var s=Zxe();return r||(e?"".concat(e,"-").concat(s):s)}var epe=g.createContext(void 0),Wb=e=>{var{id:r,type:s,children:a}=e,n=OR("recharts-".concat(s),r);return g.createElement(epe.Provider,{value:n},a(n))},tpe={cartesianItems:[],polarItems:[]},DR=ln({name:"graphicalItems",initialState:tpe,reducers:{addCartesianGraphicalItem:{reducer(e,r){e.cartesianItems.push(r.payload)},prepare:Ms()},replaceCartesianGraphicalItem:{reducer(e,r){var{prev:s,next:a}=r.payload,n=Pl(e).cartesianItems.indexOf(s);n>-1&&(e.cartesianItems[n]=a)},prepare:Ms()},removeCartesianGraphicalItem:{reducer(e,r){var s=Pl(e).cartesianItems.indexOf(r.payload);s>-1&&e.cartesianItems.splice(s,1)},prepare:Ms()},addPolarGraphicalItem:{reducer(e,r){e.polarItems.push(r.payload)},prepare:Ms()},removePolarGraphicalItem:{reducer(e,r){var s=Pl(e).polarItems.indexOf(r.payload);s>-1&&e.polarItems.splice(s,1)},prepare:Ms()}}}),{addCartesianGraphicalItem:rpe,replaceCartesianGraphicalItem:spe,removeCartesianGraphicalItem:ape,addPolarGraphicalItem:npe,removePolarGraphicalItem:ipe}=DR.actions,lpe=DR.reducer;function h6(e){var r=Ir(),s=g.useRef(null);return g.useLayoutEffect(()=>{s.current===null?r(rpe(e)):s.current!==e&&r(spe({prev:s.current,next:e})),s.current=e},[r,e]),g.useLayoutEffect(()=>()=>{s.current&&(r(ape(s.current)),s.current=null)},[r]),null}function ope(e){var r=Ir();return g.useLayoutEffect(()=>(r(npe(e)),()=>{r(ipe(e))}),[r,e]),null}var cpe=["onMouseEnter","onClick","onMouseLeave"],dpe=["id"],upe=["id"];function x6(e,r){if(e==null)return{};var s,a,n=mpe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function mpe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Z8(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function zr(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Z8(Object(s),!0).forEach(function(a){hpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Z8(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function hpe(e,r,s){return(r=xpe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function xpe(e){var r=ppe(e,"string");return typeof r=="symbol"?r:r+""}function ppe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},sc.apply(null,arguments)}function fpe(e){var r=g.useMemo(()=>i6(e.children,rc),[e.children]),s=St(a=>Exe(a,e.id,r));return s==null?null:g.createElement(Jxe,{legendPayload:s})}function gpe(e){var{dataKey:r,nameKey:s,sectors:a,stroke:n,strokeWidth:i,fill:l,name:o,hide:d,tooltipType:c}=e;return{dataDefinedOnItem:a.map(u=>u.tooltipPayload),positions:a.map(u=>u.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:l,dataKey:r,nameKey:s,name:uc(o,r),hide:d,type:c,color:l,unit:""}}}var ype=(e,r)=>e>r?"start":e<r?"end":"middle",bpe=(e,r,s)=>ba(typeof r=="function"?r(e):r,s,s*.8),vpe=(e,r,s)=>{var{top:a,left:n,width:i,height:l}=r,o=KM(i,l),d=n+ba(e.cx,i,i/2),c=a+ba(e.cy,l,l/2),u=ba(e.innerRadius,o,0),m=bpe(s,e.outerRadius,o),x=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:d,cy:c,innerRadius:u,outerRadius:m,maxRadius:x}},jpe=(e,r)=>{var s=Ws(r-e),a=Math.min(Math.abs(r-e),360);return s*a};function wpe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Npe=(e,r)=>{if(g.isValidElement(e))return g.cloneElement(e,r);if(typeof e=="function")return e(r);var s=nr("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return g.createElement(Ou,sc({},r,{type:"linear",className:s}))},Spe=(e,r,s)=>{if(g.isValidElement(e))return g.cloneElement(e,r);var a=s;if(typeof e=="function"&&(a=e(r),g.isValidElement(a)))return a;var n=nr("recharts-pie-label-text",wpe(e));return g.createElement(Eb,sc({},r,{alignmentBaseline:"middle",className:n}),a)};function kpe(e){var{sectors:r,props:s,showLabels:a}=e,{label:n,labelLine:i,dataKey:l}=s;if(!a||!n||!r)return null;var o=Fa(s),d=md(n),c=md(i),u=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,m=r.map((x,h)=>{var p=(x.startAngle+x.endAngle)/2,f=Ps(x.cx,x.cy,x.outerRadius+u,p),b=zr(zr(zr(zr({},o),x),{},{stroke:"none"},d),{},{index:h,textAnchor:ype(f.x,x.cx)},f),j=zr(zr(zr(zr({},o),x),{},{fill:"none",stroke:x.fill},c),{},{index:h,points:[Ps(x.cx,x.cy,x.outerRadius,p),f],key:"line"});return g.createElement($a,{zIndex:ps.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(h)},g.createElement(os,null,i&&Npe(i,j),Spe(n,b,br(x,l))))});return g.createElement(os,{className:"recharts-pie-labels"},m)}function Cpe(e){var{sectors:r,props:s,showLabels:a}=e,{label:n}=s;return typeof n=="object"&&n!=null&&"position"in n?g.createElement(Ib,{label:n}):g.createElement(kpe,{sectors:r,props:s,showLabels:a})}function Ppe(e){var{sectors:r,activeShape:s,inactiveShape:a,allOtherPieProps:n}=e,i=St(tc),{onMouseEnter:l,onClick:o,onMouseLeave:d}=n,c=x6(n,cpe),u=c6(l,n.dataKey),m=d6(d),x=u6(o,n.dataKey);return r==null||r.length===0?null:g.createElement(g.Fragment,null,r.map((h,p)=>{if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&r.length!==1)return null;var f=s&&String(p)===i,b=i?a:null,j=f?s:b,w=zr(zr({},h),{},{stroke:h.stroke,tabIndex:-1,[TM]:p,[EM]:n.dataKey});return g.createElement(os,sc({key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(p),tabIndex:-1,className:"recharts-pie-sector"},tx(c,h,p),{onMouseEnter:u(h,p),onMouseLeave:m(h,p),onClick:x(h,p)}),g.createElement(o6,sc({option:j,isActive:f,shapeType:"sector"},w)))}))}function Ape(e){var r,{pieSettings:s,displayedData:a,cells:n,offset:i}=e,{cornerRadius:l,startAngle:o,endAngle:d,dataKey:c,nameKey:u,tooltipType:m}=s,x=Math.abs(s.minAngle),h=jpe(o,d),p=Math.abs(h),f=a.length<=1?0:(r=s.paddingAngle)!==null&&r!==void 0?r:0,b=a.filter(S=>br(S,c,0)!==0).length,j=(p>=360?b:b-1)*f,w=p-b*x-j,y=a.reduce((S,k)=>{var P=br(k,c,0);return S+(bt(P)?P:0)},0),v;if(y>0){var N;v=a.map((S,k)=>{var P=br(S,c,0),C=br(S,u,k),I=vpe(s,i,S),A=(bt(P)?P:0)/y,O,R=zr(zr({},S),n&&n[k]&&n[k].props);k?O=N.endAngle+Ws(h)*f*(P!==0?1:0):O=o;var Z=O+Ws(h)*((P!==0?x:0)+A*w),Y=(O+Z)/2,ce=(I.innerRadius+I.outerRadius)/2,D=[{name:C,value:P,payload:R,dataKey:c,type:m}],z=Ps(I.cx,I.cy,ce,Y);return N=zr(zr(zr(zr({},s.presentationProps),{},{percent:A,cornerRadius:typeof l=="string"?parseFloat(l):l,name:C,tooltipPayload:D,midAngle:Y,middleRadius:ce,tooltipPosition:z},R),I),{},{value:P,startAngle:O,endAngle:Z,payload:R,paddingAngle:Ws(h)*f}),N})}return v}function Tpe(e){var{showLabels:r,sectors:s,children:a}=e,n=g.useMemo(()=>!r||!s?[]:s.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[s,r]);return g.createElement(xxe,{value:r?n:void 0},a)}function Epe(e){var{props:r,previousSectorsRef:s}=e,{sectors:a,isAnimationActive:n,animationBegin:i,animationDuration:l,animationEasing:o,activeShape:d,inactiveShape:c,onAnimationStart:u,onAnimationEnd:m}=r,x=wm(r,"recharts-pie-"),h=s.current,[p,f]=g.useState(!1),b=g.useCallback(()=>{typeof m=="function"&&m(),f(!1)},[m]),j=g.useCallback(()=>{typeof u=="function"&&u(),f(!0)},[u]);return g.createElement(Tpe,{showLabels:!p,sectors:a},g.createElement(jm,{animationId:x,begin:i,duration:l,isActive:n,easing:o,onAnimationStart:j,onAnimationEnd:b,key:x},w=>{var y=[],v=a&&a[0],N=v==null?void 0:v.startAngle;return a==null||a.forEach((S,k)=>{var P=h&&h[k],C=k>0?hd(S,"paddingAngle",0):0;if(P){var I=ur(P.endAngle-P.startAngle,S.endAngle-S.startAngle,w),A=zr(zr({},S),{},{startAngle:N+C,endAngle:N+I+C});y.push(A),N=A.endAngle}else{var{endAngle:O,startAngle:R}=S,Z=ur(0,O-R,w),Y=zr(zr({},S),{},{startAngle:N+C,endAngle:N+Z+C});y.push(Y),N=Y.endAngle}}),s.current=y,g.createElement(os,null,g.createElement(Ppe,{sectors:y,activeShape:d,inactiveShape:c,allOtherPieProps:r}))}),g.createElement(Cpe,{showLabels:!p,sectors:a,props:r}),r.children)}var Ipe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ro.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ps.area};function _pe(e){var{id:r}=e,s=x6(e,dpe),{hide:a,className:n,rootTabIndex:i}=e,l=g.useMemo(()=>i6(e.children,rc),[e.children]),o=St(u=>Ixe(u,r,l)),d=g.useRef(null),c=nr("recharts-pie",n);return a||o==null?(d.current=null,g.createElement(os,{tabIndex:i,className:c})):g.createElement($a,{zIndex:e.zIndex},g.createElement(Vb,{fn:gpe,args:zr(zr({},e),{},{sectors:o})}),g.createElement(os,{tabIndex:i,className:c},g.createElement(Epe,{props:zr(zr({},s),{},{sectors:o}),previousSectorsRef:d})))}function k0(e){var r=cs(e,Ipe),{id:s}=r,a=x6(r,upe),n=Fa(a);return g.createElement(Wb,{id:s,type:"pie"},i=>g.createElement(g.Fragment,null,g.createElement(ope,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:n,maxRadius:r.maxRadius}),g.createElement(fpe,sc({},a,{id:i})),g.createElement(_pe,sc({},a,{id:i}))))}k0.displayName="Pie";var Ope=["points"];function eT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function O1(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?eT(Object(s),!0).forEach(function(a){Dpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):eT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Dpe(e,r,s){return(r=Mpe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Mpe(e){var r=Lpe(e,"string");return typeof r=="symbol"?r:r+""}function Lpe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ig.apply(null,arguments)}function Fpe(e,r){if(e==null)return{};var s,a,n=Rpe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Rpe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Bpe(e){var{option:r,dotProps:s,className:a}=e;if(g.isValidElement(r))return g.cloneElement(r,s);if(typeof r=="function")return r(s);var n=nr(a,typeof r!="boolean"?r.className:""),i=s??{},{points:l}=i,o=Fpe(i,Ope);return g.createElement(kR,Ig({},o,{className:n}))}function $pe(e,r){return e==null?!1:r?!0:e.length===1}function MR(e){var{points:r,dot:s,className:a,dotClassName:n,dataKey:i,baseProps:l,needClip:o,clipPathId:d,zIndex:c=ps.scatter}=e;if(!$pe(r,s))return null;var u=l6(s),m=ose(s),x=r.map((p,f)=>{var b,j,w=O1(O1(O1({r:3},l),m),{},{index:f,cx:(b=p.x)!==null&&b!==void 0?b:void 0,cy:(j=p.y)!==null&&j!==void 0?j:void 0,dataKey:i,value:p.value,payload:p.payload,points:r});return g.createElement(Bpe,{key:"dot-".concat(f),option:s,dotProps:w,className:n})}),h={};return o&&d!=null&&(h.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(d,")")),g.createElement($a,{zIndex:c},g.createElement(os,Ig({className:a},h),x))}function tT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function rT(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?tT(Object(s),!0).forEach(function(a){zpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):tT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function zpe(e,r,s){return(r=Upe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Upe(e){var r=Hpe(e,"string");return typeof r=="symbol"?r:r+""}function Hpe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Vpe={xAxis:{},yAxis:{},zAxis:{}},LR=ln({name:"cartesianAxis",initialState:Vpe,reducers:{addXAxis:{reducer(e,r){e.xAxis[r.payload.id]=r.payload},prepare:Ms()},removeXAxis:{reducer(e,r){delete e.xAxis[r.payload.id]},prepare:Ms()},addYAxis:{reducer(e,r){e.yAxis[r.payload.id]=r.payload},prepare:Ms()},removeYAxis:{reducer(e,r){delete e.yAxis[r.payload.id]},prepare:Ms()},addZAxis:{reducer(e,r){e.zAxis[r.payload.id]=r.payload},prepare:Ms()},removeZAxis:{reducer(e,r){delete e.zAxis[r.payload.id]},prepare:Ms()},updateYAxisWidth(e,r){var{id:s,width:a}=r.payload,n=e.yAxis[s];if(n){var i=n.widthHistory||[];if(i.length===3&&i[0]===i[2]&&a===i[1]&&a!==n.width&&Math.abs(a-i[0])<=1)return;var l=[...i,a].slice(-3);e.yAxis[s]=rT(rT({},e.yAxis[s]),{},{width:a,widthHistory:l})}}}}),{addXAxis:Wpe,removeXAxis:Gpe,addYAxis:qpe,removeYAxis:Kpe,addZAxis:QSe,removeZAxis:ZSe,updateYAxisWidth:Ype}=LR.actions,Xpe=LR.reducer,Jpe=Ce([Fs],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Qpe=Ce([Jpe,eo,to],(e,r,s)=>{if(!(!e||r==null||s==null))return{x:e.left,y:e.top,width:Math.max(0,r-e.left-e.right),height:Math.max(0,s-e.top-e.bottom)}}),Gb=()=>St(Qpe),Zpe=()=>St(lhe);function sT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function D1(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?sT(Object(s),!0).forEach(function(a){efe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function efe(e,r,s){return(r=tfe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function tfe(e){var r=rfe(e,"string");return typeof r=="symbol"?r:r+""}function rfe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var sfe=e=>{var{point:r,childIndex:s,mainColor:a,activeDot:n,dataKey:i}=e;if(n===!1||r.x==null||r.y==null)return null;var l={index:s,dataKey:i,cx:r.x,cy:r.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},o=D1(D1(D1({},l),md(n)),k4(n)),d;return g.isValidElement(n)?d=g.cloneElement(n,o):typeof n=="function"?d=n(o):d=g.createElement(kR,o),g.createElement(os,{className:"recharts-active-dot"},d)};function uw(e){var{points:r,mainColor:s,activeDot:a,itemDataKey:n,zIndex:i=ps.activeDot}=e,l=St(tc),o=Zpe();if(r==null||o==null)return null;var d=r.find(c=>o.includes(c.payload));return Fr(d)?null:g.createElement($a,{zIndex:i},g.createElement(sfe,{point:d,childIndex:Number(l),mainColor:s,dataKey:n,activeDot:a}))}var afe="Invariant failed";function nfe(e,r){throw new Error(afe)}var ife=["x","y"];function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},mw.apply(null,arguments)}function aT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function nh(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?aT(Object(s),!0).forEach(function(a){lfe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):aT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function lfe(e,r,s){return(r=ofe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function ofe(e){var r=cfe(e,"string");return typeof r=="symbol"?r:r+""}function cfe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function dfe(e,r){if(e==null)return{};var s,a,n=ufe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function ufe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function mfe(e,r){var{x:s,y:a}=e,n=dfe(e,ife),i="".concat(s),l=parseInt(i,10),o="".concat(a),d=parseInt(o,10),c="".concat(r.height||n.height),u=parseInt(c,10),m="".concat(r.width||n.width),x=parseInt(m,10);return nh(nh(nh(nh(nh({},r),n),l?{x:l}:{}),d?{y:d}:{}),{},{height:u,width:x,name:r.name,radius:r.radius})}function _g(e){return g.createElement(o6,mw({shapeType:"rectangle",propTransformer:mfe,activeClassName:"recharts-active-bar"},e))}var hfe=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if(bt(r))return r;var i=bt(a)||Fr(a);return i?r(a,n):(i||nfe(),s)}},xfe={},FR=ln({name:"errorBars",initialState:xfe,reducers:{addErrorBar:(e,r)=>{var{itemId:s,errorBar:a}=r.payload;e[s]||(e[s]=[]),e[s].push(a)},replaceErrorBar:(e,r)=>{var{itemId:s,prev:a,next:n}=r.payload;e[s]&&(e[s]=e[s].map(i=>i.dataKey===a.dataKey&&i.direction===a.direction?n:i))},removeErrorBar:(e,r)=>{var{itemId:s,errorBar:a}=r.payload;e[s]&&(e[s]=e[s].filter(n=>n.dataKey!==a.dataKey||n.direction!==a.direction))}}}),{addErrorBar:eke,replaceErrorBar:tke,removeErrorBar:rke}=FR.actions,pfe=FR.reducer,ffe=["children"];function gfe(e,r){if(e==null)return{};var s,a,n=yfe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function yfe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var bfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},vfe=g.createContext(bfe);function RR(e){var{children:r}=e,s=gfe(e,ffe);return g.createElement(vfe.Provider,{value:s},r)}function qb(e,r){var s,a,n=St(c=>ao(c,e)),i=St(c=>no(c,r)),l=(s=n==null?void 0:n.allowDataOverflow)!==null&&s!==void 0?s:cn.allowDataOverflow,o=(a=i==null?void 0:i.allowDataOverflow)!==null&&a!==void 0?a:dn.allowDataOverflow,d=l||o;return{needClip:d,needClipX:l,needClipY:o}}function p6(e){var{xAxisId:r,yAxisId:s,clipPathId:a}=e,n=Gb(),{needClipX:i,needClipY:l,needClip:o}=qb(r,s);if(!o||!n)return null;var{x:d,y:c,width:u,height:m}=n;return g.createElement("clipPath",{id:"clipPath-".concat(a)},g.createElement("rect",{x:i?d:d-u/2,y:l?c:c-m/2,width:i?u:u*2,height:l?m:m*2}))}function jfe(e,r){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Rr(e.zIndex)?e.zIndex:r}var wfe=["onMouseEnter","onMouseLeave","onClick"],Nfe=["value","background","tooltipPosition"],Sfe=["id"],kfe=["onMouseEnter","onClick","onMouseLeave"];function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ql.apply(null,arguments)}function nT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ia(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?nT(Object(s),!0).forEach(function(a){Cfe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):nT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Cfe(e,r,s){return(r=Pfe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Pfe(e){var r=Afe(e,"string");return typeof r=="symbol"?r:r+""}function Afe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Og(e,r){if(e==null)return{};var s,a,n=Tfe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Tfe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Efe=e=>{var{dataKey:r,name:s,fill:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:r,type:n,color:a,value:uc(s,r),payload:e}]};function Ife(e){var{dataKey:r,stroke:s,strokeWidth:a,fill:n,name:i,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:s,strokeWidth:a,fill:n,dataKey:r,nameKey:void 0,name:uc(i,r),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function _fe(e){var r=St(tc),{data:s,dataKey:a,background:n,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:d}=i,c=Og(i,wfe),u=c6(l,a),m=d6(o),x=u6(d,a);if(!n||s==null)return null;var h=md(n);return g.createElement($a,{zIndex:jfe(n,ps.barBackground)},s.map((p,f)=>{var{value:b,background:j,tooltipPosition:w}=p,y=Og(p,Nfe);if(!j)return null;var v=u(p,f),N=m(p,f),S=x(p,f),k=Ia(Ia(Ia(Ia(Ia({option:n,isActive:String(f)===r},y),{},{fill:"#eee"},j),h),tx(c,p,f)),{},{onMouseEnter:v,onMouseLeave:N,onClick:S,dataKey:a,index:f,className:"recharts-bar-background-rectangle"});return g.createElement(_g,ql({key:"background-bar-".concat(f)},k))}))}function Ofe(e){var{showLabels:r,children:s,rects:a}=e,n=a==null?void 0:a.map(i=>{var l={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Ia(Ia({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return g.createElement(t6,{value:r?n:void 0},s)}function Dfe(e){var{shape:r,activeBar:s,baseProps:a,entry:n,index:i,dataKey:l}=e,o=St(tc),d=St(JF),c=s&&String(i)===o&&(d==null||l===d),u=c?s:r;return c?g.createElement($a,{zIndex:ps.activeBar},g.createElement(_g,ql({},a,{name:String(a.name)},n,{isActive:c,option:u,index:i,dataKey:l}))):g.createElement(_g,ql({},a,{name:String(a.name)},n,{isActive:c,option:u,index:i,dataKey:l}))}function Mfe(e){var{shape:r,baseProps:s,entry:a,index:n,dataKey:i}=e;return g.createElement(_g,ql({},s,{name:String(s.name)},a,{isActive:!1,option:r,index:n,dataKey:i}))}function Lfe(e){var r,{data:s,props:a}=e,n=(r=Fa(a))!==null&&r!==void 0?r:{},{id:i}=n,l=Og(n,Sfe),{shape:o,dataKey:d,activeBar:c}=a,{onMouseEnter:u,onClick:m,onMouseLeave:x}=a,h=Og(a,kfe),p=c6(u,d),f=d6(x),b=u6(m,d);return s?g.createElement(g.Fragment,null,s.map((j,w)=>g.createElement(os,ql({key:"rectangle-".concat(j==null?void 0:j.x,"-").concat(j==null?void 0:j.y,"-").concat(j==null?void 0:j.value,"-").concat(w),className:"recharts-bar-rectangle"},tx(h,j,w),{onMouseEnter:p(j,w),onMouseLeave:f(j,w),onClick:b(j,w)}),c?g.createElement(Dfe,{shape:o,activeBar:c,baseProps:l,entry:j,index:w,dataKey:d}):g.createElement(Mfe,{shape:o,baseProps:l,entry:j,index:w,dataKey:d})))):null}function Ffe(e){var{props:r,previousRectanglesRef:s}=e,{data:a,layout:n,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:d,onAnimationEnd:c,onAnimationStart:u}=r,m=s.current,x=wm(r,"recharts-bar-"),[h,p]=g.useState(!1),f=!h,b=g.useCallback(()=>{typeof c=="function"&&c(),p(!1)},[c]),j=g.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return g.createElement(Ofe,{showLabels:f,rects:a},g.createElement(jm,{animationId:x,begin:l,duration:o,isActive:i,easing:d,onAnimationEnd:b,onAnimationStart:j,key:x},w=>{var y=w===1?a:a==null?void 0:a.map((v,N)=>{var S=m&&m[N];if(S)return Ia(Ia({},v),{},{x:ur(S.x,v.x,w),y:ur(S.y,v.y,w),width:ur(S.width,v.width,w),height:ur(S.height,v.height,w)});if(n==="horizontal"){var k=ur(0,v.height,w),P=ur(v.stackedBarStart,v.y,w);return Ia(Ia({},v),{},{y:P,height:k})}var C=ur(0,v.width,w),I=ur(v.stackedBarStart,v.x,w);return Ia(Ia({},v),{},{width:C,x:I})});return w>0&&(s.current=y??null),y==null?null:g.createElement(os,null,g.createElement(Lfe,{props:r,data:y}))}),g.createElement(Ib,{label:r.label}),r.children)}function Rfe(e){var r=g.useRef(null);return g.createElement(Ffe,{previousRectanglesRef:r,props:e})}var BR=0,Bfe=(e,r)=>{var s=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:s,errorVal:br(e,r)}};class $fe extends g.PureComponent{render(){var{hide:r,data:s,dataKey:a,className:n,xAxisId:i,yAxisId:l,needClip:o,background:d,id:c}=this.props;if(r||s==null)return null;var u=nr("recharts-bar",n),m=c;return g.createElement(os,{className:u,id:c},o&&g.createElement("defs",null,g.createElement(p6,{clipPathId:m,xAxisId:i,yAxisId:l})),g.createElement(os,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(m,")"):void 0},g.createElement(_fe,{data:s,dataKey:a,background:d,allOtherBarProps:this.props}),g.createElement(Rfe,this.props)))}}var zfe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ro.isSsr,legendType:"rect",minPointSize:BR,xAxisId:0,yAxisId:0,zIndex:ps.bar};function Ufe(e){var{xAxisId:r,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:d,animationEasing:c,isAnimationActive:u}=e,{needClip:m}=qb(r,s),x=vm(),h=Ys(),p=i6(e.children,rc),f=St(w=>fge(w,r,s,h,e.id,p));if(x!=="vertical"&&x!=="horizontal")return null;var b,j=f==null?void 0:f[0];return j==null||j.height==null||j.width==null?b=0:b=x==="vertical"?j.height/2:j.width/2,g.createElement(RR,{xAxisId:r,yAxisId:s,data:f,dataPointFormatter:Bfe,errorBarOffset:b},g.createElement($fe,ql({},e,{layout:x,needClip:m,data:f,xAxisId:r,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:d,animationEasing:c,isAnimationActive:u})))}function Hfe(e){var{layout:r,barSettings:{dataKey:s,minPointSize:a},pos:n,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:d,yAxisTicks:c,stackedData:u,displayedData:m,offset:x,cells:h,parentViewBox:p,dataStartIndex:f}=e,b=r==="horizontal"?o:l,j=u?b.scale.domain():null,w=uie({numericAxis:b}),y=b.scale(w);return m.map((v,N)=>{var S,k,P,C,I,A;u?S=iie(u[N+f],j):(S=br(v,s),Array.isArray(S)||(S=[w,S]));var O=hfe(a,BR)(S[1],N);if(r==="horizontal"){var R,[Z,Y]=[o.scale(S[0]),o.scale(S[1])];k=YP({axis:l,ticks:d,bandSize:i,offset:n.offset,entry:v,index:N}),P=(R=Y??Z)!==null&&R!==void 0?R:void 0,C=n.size;var ce=Z-Y;if(I=li(ce)?0:ce,A={x:k,y:x.top,width:C,height:x.height},Math.abs(O)>0&&Math.abs(I)<Math.abs(O)){var D=Ws(I||O)*(Math.abs(O)-Math.abs(I));P-=D,I+=D}}else{var[z,se]=[l.scale(S[0]),l.scale(S[1])];if(k=z,P=YP({axis:o,ticks:c,bandSize:i,offset:n.offset,entry:v,index:N}),C=se-z,I=n.size,A={x:x.left,y:P,width:x.width,height:I},Math.abs(O)>0&&Math.abs(C)<Math.abs(O)){var K=Ws(C||O)*(Math.abs(O)-Math.abs(C));C+=K}}if(k==null||P==null||C==null||I==null)return null;var _=Ia(Ia({},v),{},{stackedBarStart:y,x:k,y:P,width:C,height:I,value:u?S:S[1],payload:v,background:A,tooltipPosition:{x:k+C/2,y:P+I/2},parentViewBox:p},h&&h[N]&&h[N].props);return _}).filter(Boolean)}function Vfe(e){var r=cs(e,zfe),s=Ys();return g.createElement(Wb,{id:r.id,type:"bar"},a=>g.createElement(g.Fragment,null,g.createElement(m6,{legendPayload:Efe(r)}),g.createElement(Vb,{fn:Ife,args:r}),g.createElement(h6,{type:"bar",id:a,data:void 0,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,stackId:PM(r.stackId),hide:r.hide,barSize:r.barSize,minPointSize:r.minPointSize,maxBarSize:r.maxBarSize,isPanorama:s}),g.createElement($a,{zIndex:r.zIndex},g.createElement(Ufe,ql({},r,{id:a})))))}var f6=g.memo(Vfe);f6.displayName="Bar";function iT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function yp(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?iT(Object(s),!0).forEach(function(a){Wfe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):iT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Wfe(e,r,s){return(r=Gfe(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Gfe(e){var r=qfe(e,"string");return typeof r=="symbol"?r:r+""}function qfe(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Kfe=(e,r)=>r,Yfe=(e,r,s)=>s,Xfe=(e,r,s,a)=>a,Jfe=(e,r,s,a,n)=>n,yx=Ce([hx,Jfe],(e,r)=>e.filter(s=>s.type==="bar").find(s=>s.id===r)),Qfe=Ce([yx],e=>e==null?void 0:e.maxBarSize),Zfe=(e,r,s,a,n,i)=>i,lT=(e,r,s)=>{var a=s??e;if(!Fr(a))return ba(a,r,0)},ege=Ce([Xt,hx,Kfe,Yfe,Xfe],(e,r,s,a,n)=>r.filter(i=>e==="horizontal"?i.xAxisId===s:i.yAxisId===a).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),tge=(e,r,s,a)=>{var n=Xt(e);return n==="horizontal"?N0(e,"yAxis",s,a):N0(e,"xAxis",r,a)},rge=(e,r,s)=>{var a=Xt(e);return a==="horizontal"?x8(e,"xAxis",r):x8(e,"yAxis",s)},sge=(e,r,s)=>{var a={},n=e.filter(jb),i=e.filter(c=>c.stackId==null),l=n.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),a),o=Object.entries(l).map(c=>{var[u,m]=c,x=m.map(p=>p.dataKey),h=lT(r,s,m[0].barSize);return{stackId:u,dataKeys:x,barSize:h}}),d=i.map(c=>{var u=[c.dataKey].filter(x=>x!=null),m=lT(r,s,c.barSize);return{stackId:void 0,dataKeys:u,barSize:m}});return[...o,...d]},age=Ce([ege,cue,rge],sge),nge=(e,r,s,a,n)=>{var i,l,o=yx(e,r,s,a,n);if(o!=null){var d=Xt(e),c=JL(e),{maxBarSize:u}=o,m=Fr(u)?c:u,x,h;return d==="horizontal"?(x=nl(e,"xAxis",r,a),h=al(e,"xAxis",r,a)):(x=nl(e,"yAxis",s,a),h=al(e,"yAxis",s,a)),(i=(l=ec(x,h,!0))!==null&&l!==void 0?l:m)!==null&&i!==void 0?i:0}},$R=(e,r,s,a)=>{var n=Xt(e),i,l;return n==="horizontal"?(i=nl(e,"xAxis",r,a),l=al(e,"xAxis",r,a)):(i=nl(e,"yAxis",s,a),l=al(e,"yAxis",s,a)),ec(i,l)};function ige(e,r,s,a,n){var i=a.length;if(!(i<1)){var l=ba(e,s,0,!0),o,d=[];if(Rr(a[0].barSize)){var c=!1,u=s/i,m=a.reduce((j,w)=>j+(w.barSize||0),0);m+=(i-1)*l,m>=s&&(m-=(i-1)*l,l=0),m>=s&&u>0&&(c=!0,u*=.9,m=i*u);var x=(s-m)/2>>0,h={offset:x-l,size:0};o=a.reduce((j,w)=>{var y,v={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:h.offset+h.size+l,size:c?u:(y=w.barSize)!==null&&y!==void 0?y:0}},N=[...j,v];return h=N[N.length-1].position,N},d)}else{var p=ba(r,s,0,!0);s-2*p-(i-1)*l<=0&&(l=0);var f=(s-2*p-(i-1)*l)/i;f>1&&(f>>=0);var b=Rr(n)?Math.min(f,n):f;o=a.reduce((j,w,y)=>[...j,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p+(f+l)*y+(f-b)/2,size:b}}],d)}return o}}var lge=(e,r,s,a,n,i,l)=>{var o=Fr(l)?r:l,d=ige(s,a,n!==i?n:i,e,o);return n!==i&&d!=null&&(d=d.map(c=>yp(yp({},c),{},{position:yp(yp({},c.position),{},{offset:c.position.offset-n/2})}))),d},oge=Ce([age,JL,oue,QL,nge,$R,Qfe],lge),cge=(e,r,s,a)=>nl(e,"xAxis",r,a),dge=(e,r,s,a)=>nl(e,"yAxis",s,a),uge=(e,r,s,a)=>al(e,"xAxis",r,a),mge=(e,r,s,a)=>al(e,"yAxis",s,a),hge=Ce([oge,yx],(e,r)=>{if(!(e==null||r==null)){var s=e.find(a=>a.stackId===r.stackId&&r.dataKey!=null&&a.dataKeys.includes(r.dataKey));if(s!=null)return s.position}}),xge=(e,r)=>{var s=vb(r);if(!(!e||s==null||r==null)){var{stackId:a}=r;if(a!=null){var n=e[a];if(n){var{stackedData:i}=n;if(i)return i.find(l=>l.key===s)}}}},pge=Ce([tge,yx],xge),fge=Ce([Fs,H4,cge,dge,uge,mge,hge,Xt,cx,$R,pge,yx,Zfe],(e,r,s,a,n,i,l,o,d,c,u,m,x)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:f}=d;if(!(m==null||l==null||r==null||o!=="horizontal"&&o!=="vertical"||s==null||a==null||n==null||i==null||c==null)){var{data:b}=m,j;if(b!=null&&b.length>0?j=b:j=h==null?void 0:h.slice(p,f+1),j!=null)return Hfe({layout:o,barSettings:m,pos:l,parentViewBox:r,bandSize:c,xAxis:s,yAxis:a,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:j,offset:e,cells:x,dataStartIndex:p})}}),zR=e=>{var{chartData:r}=e,s=Ir(),a=Ys();return g.useEffect(()=>a?()=>{}:(s(C8(r)),()=>{s(C8(void 0))}),[r,s,a]),null},oT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},UR=ln({name:"brush",initialState:oT,reducers:{setBrushSettings(e,r){return r.payload==null?oT:r.payload}}}),{setBrushSettings:ske}=UR.actions,gge=UR.reducer;function yge(e,r,s){return(r=bge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function bge(e){var r=vge(e,"string");return typeof r=="symbol"?r:r+""}function vge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class g6{static create(r){return new g6(r)}constructor(r){this.scale=r}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(r){var{bandAware:s,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(r)+i}default:return this.scale(r)}if(s){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}isInRange(r){var s=this.range(),a=s[0],n=s[s.length-1];return a<=n?r>=a&&r<=n:r>=n&&r<=a}}yge(g6,"EPS",1e-4);function jge(e){return(e%180+180)%180}var wge=function(r){var{width:s,height:a}=r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=jge(n),l=i*Math.PI/180,o=Math.atan(a/s),d=l>o&&l<Math.PI-o?a/Math.sin(l):s/Math.cos(l);return Math.abs(d)},Nge={dots:[],areas:[],lines:[]},HR=ln({name:"referenceElements",initialState:Nge,reducers:{addDot:(e,r)=>{e.dots.push(r.payload)},removeDot:(e,r)=>{var s=Pl(e).dots.findIndex(a=>a===r.payload);s!==-1&&e.dots.splice(s,1)},addArea:(e,r)=>{e.areas.push(r.payload)},removeArea:(e,r)=>{var s=Pl(e).areas.findIndex(a=>a===r.payload);s!==-1&&e.areas.splice(s,1)},addLine:(e,r)=>{e.lines.push(r.payload)},removeLine:(e,r)=>{var s=Pl(e).lines.findIndex(a=>a===r.payload);s!==-1&&e.lines.splice(s,1)}}}),{addDot:ake,removeDot:nke,addArea:ike,removeArea:lke,addLine:oke,removeLine:cke}=HR.actions,Sge=HR.reducer,kge=g.createContext(void 0),Cge=e=>{var{children:r}=e,[s]=g.useState("".concat(h0("recharts"),"-clip")),a=Gb();if(a==null)return null;var{x:n,y:i,width:l,height:o}=a;return g.createElement(kge.Provider,{value:s},g.createElement("defs",null,g.createElement("clipPath",{id:s},g.createElement("rect",{x:n,y:i,height:o,width:l}))),r)};function cm(e,r){for(var s in e)if({}.hasOwnProperty.call(e,s)&&(!{}.hasOwnProperty.call(r,s)||e[s]!==r[s]))return!1;for(var a in r)if({}.hasOwnProperty.call(r,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function VR(e,r){if(r<1)return[];if(r===1)return e;for(var s=[],a=0;a<e.length;a+=r)s.push(e[a]);return s}function Pge(e,r,s){var a={width:e.width+r.width,height:e.height+r.height};return wge(a,s)}function Age(e,r,s){var a=s==="width",{x:n,y:i,width:l,height:o}=e;return r===1?{start:a?n:i,end:a?n+l:i+o}:{start:a?n+l:i+o,end:a?n:i}}function Dg(e,r,s,a,n){if(e*r<e*a||e*r>e*n)return!1;var i=s();return e*(r-e*i/2-a)>=0&&e*(r+e*i/2-n)<=0}function Tge(e,r){return VR(e,r+1)}function Ege(e,r,s,a,n){for(var i=(a||[]).slice(),{start:l,end:o}=r,d=0,c=1,u=l,m=function(){var p=a==null?void 0:a[d];if(p===void 0)return{v:VR(a,c)};var f=d,b,j=()=>(b===void 0&&(b=s(p,f)),b),w=p.coordinate,y=d===0||Dg(e,w,j,u,o);y||(d=0,u=l,c+=1),y&&(u=w+e*(j()/2+n),d+=c)},x;c<=i.length;)if(x=m(),x)return x.v;return[]}function cT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ha(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?cT(Object(s),!0).forEach(function(a){Ige(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):cT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ige(e,r,s){return(r=_ge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function _ge(e){var r=Oge(e,"string");return typeof r=="symbol"?r:r+""}function Oge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Dge(e,r,s,a,n){for(var i=(a||[]).slice(),l=i.length,{start:o}=r,{end:d}=r,c=function(x){var h=i[x],p,f=()=>(p===void 0&&(p=s(h,x)),p);if(x===l-1){var b=e*(h.coordinate+e*f()/2-d);i[x]=h=ha(ha({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate})}else i[x]=h=ha(ha({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var j=Dg(e,h.tickCoord,f,o,d);j&&(d=h.tickCoord-e*(f()/2+n),i[x]=ha(ha({},h),{},{isShow:!0}))}},u=l-1;u>=0;u--)c(u);return i}function Mge(e,r,s,a,n,i){var l=(a||[]).slice(),o=l.length,{start:d,end:c}=r;if(i){var u=a[o-1],m=s(u,o-1),x=e*(u.coordinate+e*m/2-c);if(l[o-1]=u=ha(ha({},u),{},{tickCoord:x>0?u.coordinate-x*e:u.coordinate}),u.tickCoord!=null){var h=Dg(e,u.tickCoord,()=>m,d,c);h&&(c=u.tickCoord-e*(m/2+n),l[o-1]=ha(ha({},u),{},{isShow:!0}))}}for(var p=i?o-1:o,f=function(w){var y=l[w],v,N=()=>(v===void 0&&(v=s(y,w)),v);if(w===0){var S=e*(y.coordinate-e*N()/2-d);l[w]=y=ha(ha({},y),{},{tickCoord:S<0?y.coordinate-S*e:y.coordinate})}else l[w]=y=ha(ha({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var k=Dg(e,y.tickCoord,N,d,c);k&&(d=y.tickCoord+e*(N()/2+n),l[w]=ha(ha({},y),{},{isShow:!0}))}},b=0;b<p;b++)f(b);return l}function y6(e,r,s){var{tick:a,ticks:n,viewBox:i,minTickGap:l,orientation:o,interval:d,tickFormatter:c,unit:u,angle:m}=e;if(!n||!n.length||!a)return[];if(bt(d)||ro.isSsr){var x;return(x=Tge(n,bt(d)?d:0))!==null&&x!==void 0?x:[]}var h=[],p=o==="top"||o==="bottom"?"width":"height",f=u&&p==="width"?Oh(u,{fontSize:r,letterSpacing:s}):{width:0,height:0},b=(y,v)=>{var N=typeof c=="function"?c(y.value,v):y.value;return p==="width"?Pge(Oh(N,{fontSize:r,letterSpacing:s}),f,m):Oh(N,{fontSize:r,letterSpacing:s})[p]},j=n.length>=2?Ws(n[1].coordinate-n[0].coordinate):1,w=Age(i,j,p);return d==="equidistantPreserveStart"?Ege(j,w,b,n,l):(d==="preserveStart"||d==="preserveStartEnd"?h=Mge(j,w,b,n,l,d==="preserveStartEnd"):h=Dge(j,w,b,n,l),h.filter(y=>y.isShow))}var Lge=e=>{var{ticks:r,label:s,labelGapWithTick:a=5,tickSize:n=0,tickMargin:i=0}=e,l=0;if(r){Array.from(r).forEach(u=>{if(u){var m=u.getBoundingClientRect();m.width>l&&(l=m.width)}});var o=s?s.getBoundingClientRect().width:0,d=n+i,c=l+d+o+(s?a:0);return Math.round(c)}return 0},Fge=["axisLine","width","height","className","hide","ticks","axisType"],Rge=["viewBox"],Bge=["viewBox"];function hw(e,r){if(e==null)return{};var s,a,n=$ge(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function $ge(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},yd.apply(null,arguments)}function dT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ns(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?dT(Object(s),!0).forEach(function(a){zge(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):dT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function zge(e,r,s){return(r=Uge(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Uge(e){var r=Hge(e,"string");return typeof r=="symbol"?r:r+""}function Hge(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var b6={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ps.axis};function Vge(e){var{x:r,y:s,width:a,height:n,orientation:i,mirror:l,axisLine:o,otherSvgProps:d}=e;if(!o)return null;var c=Ns(Ns(Ns({},d),Fa(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!l||i==="bottom"&&l);c=Ns(Ns({},c),{},{x1:r,y1:s+u*n,x2:r+a,y2:s+u*n})}else{var m=+(i==="left"&&!l||i==="right"&&l);c=Ns(Ns({},c),{},{x1:r+m*a,y1:s,x2:r+m*a,y2:s+n})}return g.createElement("line",yd({},c,{className:nr("recharts-cartesian-axis-line",hd(o,"className"))}))}function Wge(e,r,s,a,n,i,l,o,d){var c,u,m,x,h,p,f=o?-1:1,b=e.tickSize||l,j=bt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=u=e.coordinate,x=s+ +!o*n,m=x-f*b,p=m-f*d,h=j;break;case"left":m=x=e.coordinate,u=r+ +!o*a,c=u-f*b,h=c-f*d,p=j;break;case"right":m=x=e.coordinate,u=r+ +o*a,c=u+f*b,h=c+f*d,p=j;break;default:c=u=e.coordinate,x=s+ +o*n,m=x+f*b,p=m+f*d,h=j;break}return{line:{x1:c,y1:m,x2:u,y2:x},tick:{x:h,y:p}}}function Gge(e,r){switch(e){case"left":return r?"start":"end";case"right":return r?"end":"start";default:return"middle"}}function qge(e,r){switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}function Kge(e){var{option:r,tickProps:s,value:a}=e,n,i=nr(s.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(r))n=g.cloneElement(r,Ns(Ns({},s),{},{className:i}));else if(typeof r=="function")n=r(Ns(Ns({},s),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof r!="boolean"&&(l=nr(l,r==null?void 0:r.className)),n=g.createElement(Eb,yd({},s,{className:l}),a)}return n}var Yge=g.forwardRef((e,r)=>{var{ticks:s=[],tick:a,tickLine:n,stroke:i,tickFormatter:l,unit:o,padding:d,tickTextProps:c,orientation:u,mirror:m,x,y:h,width:p,height:f,tickSize:b,tickMargin:j,fontSize:w,letterSpacing:y,getTicksConfig:v,events:N,axisType:S}=e,k=y6(Ns(Ns({},v),{},{ticks:s}),w,y),P=Gge(u,m),C=qge(u,m),I=Fa(v),A=md(a),O={};typeof n=="object"&&(O=n);var R=Ns(Ns({},I),{},{fill:"none"},O),Z=k.map(D=>Ns({entry:D},Wge(D,x,h,p,f,u,b,m,j))),Y=Z.map(D=>{var{entry:z,line:se}=D;return g.createElement(os,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},n&&g.createElement("line",yd({},R,se,{className:nr("recharts-cartesian-axis-tick-line",hd(n,"className"))})))}),ce=Z.map((D,z)=>{var{entry:se,tick:K}=D,_=Ns(Ns(Ns(Ns({textAnchor:P,verticalAnchor:C},I),{},{stroke:"none",fill:i},A),K),{},{index:z,payload:se,visibleTicksCount:k.length,tickFormatter:l,padding:d},c);return g.createElement(os,yd({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},tx(N,se,z)),a&&g.createElement(Kge,{option:a,tickProps:_,value:"".concat(typeof l=="function"?l(se.value,z):se.value).concat(o||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},ce.length>0&&g.createElement($a,{zIndex:ps.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:r},ce)),Y.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},Y))}),Xge=g.forwardRef((e,r)=>{var{axisLine:s,width:a,height:n,className:i,hide:l,ticks:o,axisType:d}=e,c=hw(e,Fge),[u,m]=g.useState(""),[x,h]=g.useState(""),p=g.useRef(null);g.useImperativeHandle(r,()=>({getCalculatedWidth:()=>{var b;return Lge({ticks:p.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var f=g.useCallback(b=>{if(b){var j=b.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=j;var w=j[0];if(w){var y=window.getComputedStyle(w),v=y.fontSize,N=y.letterSpacing;(v!==u||N!==x)&&(m(v),h(N))}}},[u,x]);return l||a!=null&&a<=0||n!=null&&n<=0?null:g.createElement($a,{zIndex:e.zIndex},g.createElement(os,{className:nr("recharts-cartesian-axis",i)},g.createElement(Vge,{x:e.x,y:e.y,width:a,height:n,orientation:e.orientation,mirror:e.mirror,axisLine:s,otherSvgProps:Fa(e)}),g.createElement(Yge,{ref:f,axisType:d,events:c,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:x,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(J0e,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(lxe,{label:e.label,labelRef:e.labelRef}),e.children)))}),Jge=g.memo(Xge,(e,r)=>{var{viewBox:s}=e,a=hw(e,Rge),{viewBox:n}=r,i=hw(r,Bge);return cm(s,n)&&cm(a,i)}),v6=g.forwardRef((e,r)=>{var s=cs(e,b6);return g.createElement(Jge,yd({},s,{ref:r}))});v6.displayName="CartesianAxis";var Qge=["x1","y1","x2","y2","key"],Zge=["offset"],eye=["xAxisId","yAxisId"],tye=["xAxisId","yAxisId"];function uT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function pa(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?uT(Object(s),!0).forEach(function(a){rye(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):uT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function rye(e,r,s){return(r=sye(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function sye(e){var r=aye(e,"string");return typeof r=="symbol"?r:r+""}function aye(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Bc.apply(null,arguments)}function Mg(e,r){if(e==null)return{};var s,a,n=nye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function nye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var iye=e=>{var{fill:r}=e;if(!r||r==="none")return null;var{fillOpacity:s,x:a,y:n,width:i,height:l,ry:o}=e;return g.createElement("rect",{x:a,y:n,ry:o,width:i,height:l,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function WR(e){var{option:r,lineItemProps:s}=e,a;if(g.isValidElement(r))a=g.cloneElement(r,s);else if(typeof r=="function")a=r(s);else{var n,{x1:i,y1:l,x2:o,y2:d,key:c}=s,u=Mg(s,Qge),m=(n=Fa(u))!==null&&n!==void 0?n:{},{offset:x}=m,h=Mg(m,Zge);a=g.createElement("line",Bc({},h,{x1:i,y1:l,x2:o,y2:d,fill:"none",key:c}))}return a}function lye(e){var{x:r,width:s,horizontal:a=!0,horizontalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=Mg(e,eye),d=n.map((c,u)=>{var m=pa(pa({},o),{},{x1:r,y1:c,x2:r+s,y2:c,key:"line-".concat(u),index:u});return g.createElement(WR,{key:"line-".concat(u),option:a,lineItemProps:m})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function oye(e){var{y:r,height:s,vertical:a=!0,verticalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=Mg(e,tye),d=n.map((c,u)=>{var m=pa(pa({},o),{},{x1:c,y1:r,x2:c,y2:r+s,key:"line-".concat(u),index:u});return g.createElement(WR,{option:a,lineItemProps:m,key:"line-".concat(u)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function cye(e){var{horizontalFill:r,fillOpacity:s,x:a,y:n,width:i,height:l,horizontalPoints:o,horizontal:d=!0}=e;if(!d||!r||!r.length||o==null)return null;var c=o.map(m=>Math.round(m+n-n)).sort((m,x)=>m-x);n!==c[0]&&c.unshift(0);var u=c.map((m,x)=>{var h=!c[x+1],p=h?n+l-m:c[x+1]-m;if(p<=0)return null;var f=x%r.length;return g.createElement("rect",{key:"react-".concat(x),y:m,x:a,height:p,width:i,stroke:"none",fill:r[f],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function dye(e){var{vertical:r=!0,verticalFill:s,fillOpacity:a,x:n,y:i,width:l,height:o,verticalPoints:d}=e;if(!r||!s||!s.length)return null;var c=d.map(m=>Math.round(m+n-n)).sort((m,x)=>m-x);n!==c[0]&&c.unshift(0);var u=c.map((m,x)=>{var h=!c[x+1],p=h?n+l-m:c[x+1]-m;if(p<=0)return null;var f=x%s.length;return g.createElement("rect",{key:"react-".concat(x),x:m,y:i,width:p,height:o,stroke:"none",fill:s[f],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var uye=(e,r)=>{var{xAxis:s,width:a,height:n,offset:i}=e;return kM(y6(pa(pa(pa({},b6),s),{},{ticks:CM(s),viewBox:{x:0,y:0,width:a,height:n}})),i.left,i.left+i.width,r)},mye=(e,r)=>{var{yAxis:s,width:a,height:n,offset:i}=e;return kM(y6(pa(pa(pa({},b6),s),{},{ticks:CM(s),viewBox:{x:0,y:0,width:a,height:n}})),i.top,i.top+i.height,r)},hye={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ps.grid};function Xc(e){var r=W4(),s=G4(),a=RM(),n=pa(pa({},cs(e,hye)),{},{x:bt(e.x)?e.x:a.left,y:bt(e.y)?e.y:a.top,width:bt(e.width)?e.width:a.width,height:bt(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:l,x:o,y:d,width:c,height:u,syncWithTicks:m,horizontalValues:x,verticalValues:h}=n,p=Ys(),f=St(C=>p8(C,"xAxis",i,p)),b=St(C=>p8(C,"yAxis",l,p));if(!rl(c)||!rl(u)||!bt(o)||!bt(d))return null;var j=n.verticalCoordinatesGenerator||uye,w=n.horizontalCoordinatesGenerator||mye,{horizontalPoints:y,verticalPoints:v}=n;if((!y||!y.length)&&typeof w=="function"){var N=x&&x.length,S=w({yAxis:b?pa(pa({},b),{},{ticks:N?x:b.ticks}):void 0,width:r??c,height:s??u,offset:a},N?!0:m);cg(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(y=S)}if((!v||!v.length)&&typeof j=="function"){var k=h&&h.length,P=j({xAxis:f?pa(pa({},f),{},{ticks:k?h:f.ticks}):void 0,width:r??c,height:s??u,offset:a},k?!0:m);cg(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(v=P)}return g.createElement($a,{zIndex:n.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(iye,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),g.createElement(cye,Bc({},n,{horizontalPoints:y})),g.createElement(dye,Bc({},n,{verticalPoints:v})),g.createElement(lye,Bc({},n,{offset:a,horizontalPoints:y,xAxis:f,yAxis:b})),g.createElement(oye,Bc({},n,{offset:a,verticalPoints:v,xAxis:f,yAxis:b}))))}Xc.displayName="CartesianGrid";var GR=(e,r,s,a)=>nl(e,"xAxis",r,a),qR=(e,r,s,a)=>al(e,"xAxis",r,a),KR=(e,r,s,a)=>nl(e,"yAxis",s,a),YR=(e,r,s,a)=>al(e,"yAxis",s,a),xye=Ce([Xt,GR,KR,qR,YR],(e,r,s,a,n)=>ol(e,"xAxis")?ec(r,a,!1):ec(s,n,!1)),pye=(e,r,s,a,n)=>n;function fye(e){return e.type==="line"}var gye=Ce([hx,pye],(e,r)=>e.filter(fye).find(s=>s.id===r)),yye=Ce([Xt,GR,KR,qR,YR,gye,xye,cx],(e,r,s,a,n,i,l,o)=>{var{chartData:d,dataStartIndex:c,dataEndIndex:u}=o;if(!(i==null||r==null||s==null||a==null||n==null||a.length===0||n.length===0||l==null)){var{dataKey:m,data:x}=i,h;if(x!=null&&x.length>0?h=x:h=d==null?void 0:d.slice(c,u+1),h!=null)return Rye({layout:e,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataKey:m,bandSize:l,displayedData:h})}});function XR(e){var r=md(e),s=3,a=2;if(r!=null){var{r:n,strokeWidth:i}=r,l=Number(n),o=Number(i);return(Number.isNaN(l)||l<0)&&(l=s),(Number.isNaN(o)||o<0)&&(o=a),{r:l,strokeWidth:o}}return{r:s,strokeWidth:a}}var bye=["id"],vye=["type","layout","connectNulls","needClip","shape"],jye=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},C0.apply(null,arguments)}function mT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function zi(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?mT(Object(s),!0).forEach(function(a){wye(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):mT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function wye(e,r,s){return(r=Nye(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Nye(e){var r=Sye(e,"string");return typeof r=="symbol"?r:r+""}function Sye(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function j6(e,r){if(e==null)return{};var s,a,n=kye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function kye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Cye=e=>{var{dataKey:r,name:s,stroke:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:r,type:n,color:a,value:uc(s,r),payload:e}]};function Pye(e){var{dataKey:r,data:s,stroke:a,strokeWidth:n,fill:i,name:l,hide:o,unit:d}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:r,nameKey:void 0,name:uc(l,r),hide:o,type:e.tooltipType,color:e.stroke,unit:d}}}var JR=(e,r)=>"".concat(r,"px ").concat(e-r,"px");function Aye(e,r){for(var s=e.length%2!==0?[...e,0]:e,a=[],n=0;n<r;++n)a=[...a,...s];return a}var Tye=(e,r,s)=>{var a=s.reduce((m,x)=>m+x);if(!a)return JR(r,e);for(var n=Math.floor(e/a),i=e%a,l=r-e,o=[],d=0,c=0;d<s.length;c+=s[d],++d)if(c+s[d]>i){o=[...s.slice(0,d),i-c];break}var u=o.length%2===0?[0,l]:[l];return[...Aye(s,n),...o,...u].map(m=>"".concat(m,"px")).join(", ")};function Eye(e){var{clipPathId:r,points:s,props:a}=e,{dot:n,dataKey:i,needClip:l}=a,{id:o}=a,d=j6(a,bye),c=Fa(d);return g.createElement(MR,{points:s,dot:n,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:c,needClip:l,clipPathId:r})}function Iye(e){var{showLabels:r,children:s,points:a}=e,n=g.useMemo(()=>a==null?void 0:a.map(i=>{var l,o,d={x:(l=i.x)!==null&&l!==void 0?l:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return zi(zi({},d),{},{value:i.value,payload:i.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[a]);return g.createElement(t6,{value:r?n:void 0},s)}function hT(e){var{clipPathId:r,pathRef:s,points:a,strokeDasharray:n,props:i}=e,{type:l,layout:o,connectNulls:d,needClip:c,shape:u}=i,m=j6(i,vye),x=zi(zi({},Sa(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(r,")"):void 0,points:a,type:l,layout:o,connectNulls:d,strokeDasharray:n??i.strokeDasharray});return g.createElement(g.Fragment,null,(a==null?void 0:a.length)>1&&g.createElement(o6,C0({shapeType:"curve",option:u},x,{pathRef:s})),g.createElement(Eye,{points:a,clipPathId:r,props:i}))}function _ye(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Oye(e){var{clipPathId:r,props:s,pathRef:a,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:d,animationBegin:c,animationDuration:u,animationEasing:m,animateNewValues:x,width:h,height:p,onAnimationEnd:f,onAnimationStart:b}=s,j=n.current,w=wm(s,"recharts-line-"),[y,v]=g.useState(!1),N=!y,S=g.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),k=g.useCallback(()=>{typeof b=="function"&&b(),v(!0)},[b]),P=_ye(a.current),C=i.current;return g.createElement(Iye,{points:l,showLabels:N},s.children,g.createElement(jm,{animationId:w,begin:c,duration:u,isActive:d,easing:m,onAnimationEnd:S,onAnimationStart:k,key:w},I=>{var A=ur(C,P+C,I),O=Math.min(A,P),R;if(d)if(o){var Z="".concat(o).split(/[,\s]+/gim).map(D=>parseFloat(D));R=Tye(O,P,Z)}else R=JR(P,O);else R=o==null?void 0:String(o);if(j){var Y=j.length/l.length,ce=I===1?l:l.map((D,z)=>{var se=Math.floor(z*Y);if(j[se]){var K=j[se];return zi(zi({},D),{},{x:ur(K.x,D.x,I),y:ur(K.y,D.y,I)})}return x?zi(zi({},D),{},{x:ur(h*2,D.x,I),y:ur(p/2,D.y,I)}):zi(zi({},D),{},{x:D.x,y:D.y})});return n.current=ce,g.createElement(hT,{props:s,points:ce,clipPathId:r,pathRef:a,strokeDasharray:R})}return I>0&&P>0&&(n.current=l,i.current=O),g.createElement(hT,{props:s,points:l,clipPathId:r,pathRef:a,strokeDasharray:R})}),g.createElement(Ib,{label:s.label}))}function Dye(e){var{clipPathId:r,props:s}=e,a=g.useRef(null),n=g.useRef(0),i=g.useRef(null);return g.createElement(Oye,{props:s,clipPathId:r,previousPointsRef:a,longestAnimatedLengthRef:n,pathRef:i})}var Mye=(e,r)=>{var s,a;return{x:(s=e.x)!==null&&s!==void 0?s:void 0,y:(a=e.y)!==null&&a!==void 0?a:void 0,value:e.value,errorVal:br(e.payload,r)}};class Lye extends g.Component{render(){var{hide:r,dot:s,points:a,className:n,xAxisId:i,yAxisId:l,top:o,left:d,width:c,height:u,id:m,needClip:x,zIndex:h}=this.props;if(r)return null;var p=nr("recharts-line",n),f=m,{r:b,strokeWidth:j}=XR(s),w=l6(s),y=b*2+j;return g.createElement($a,{zIndex:h},g.createElement(os,{className:p},x&&g.createElement("defs",null,g.createElement(p6,{clipPathId:f,xAxisId:i,yAxisId:l}),!w&&g.createElement("clipPath",{id:"clipPath-dots-".concat(f)},g.createElement("rect",{x:d-y/2,y:o-y/2,width:c+y,height:u+y}))),g.createElement(RR,{xAxisId:i,yAxisId:l,data:a,dataPointFormatter:Mye,errorBarOffset:0},g.createElement(Dye,{props:this.props,clipPathId:f}))),g.createElement(uw,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var QR={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ro.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ps.line};function Fye(e){var r=cs(e,QR),{activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:o,dot:d,hide:c,isAnimationActive:u,label:m,legendType:x,xAxisId:h,yAxisId:p,id:f}=r,b=j6(r,jye),{needClip:j}=qb(h,p),w=Gb(),y=vm(),v=Ys(),N=St(I=>yye(I,h,p,v,f));if(y!=="horizontal"&&y!=="vertical"||N==null||w==null)return null;var{height:S,width:k,x:P,y:C}=w;return g.createElement(Lye,C0({},b,{id:f,connectNulls:o,dot:d,activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:l,isAnimationActive:u,hide:c,label:m,legendType:x,xAxisId:h,yAxisId:p,points:N,layout:y,height:S,width:k,left:P,top:C,needClip:j}))}function Rye(e){var{layout:r,xAxis:s,yAxis:a,xAxisTicks:n,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:d}=e;return d.map((c,u)=>{var m=br(c,l);if(r==="horizontal"){var x=og({axis:s,ticks:n,bandSize:o,entry:c,index:u}),h=Fr(m)?null:a.scale(m);return{x,y:h,value:m,payload:c}}var p=Fr(m)?null:s.scale(m),f=og({axis:a,ticks:i,bandSize:o,entry:c,index:u});return p==null||f==null?null:{x:p,y:f,value:m,payload:c}}).filter(Boolean)}function Bye(e){var r=cs(e,QR),s=Ys();return g.createElement(Wb,{id:r.id,type:"line"},a=>g.createElement(g.Fragment,null,g.createElement(m6,{legendPayload:Cye(r)}),g.createElement(Vb,{fn:Pye,args:r}),g.createElement(h6,{type:"line",id:a,data:r.data,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,hide:r.hide,isPanorama:s}),g.createElement(Fye,C0({},r,{id:a}))))}var ZR=g.memo(Bye);ZR.displayName="Line";var eB=(e,r,s,a)=>nl(e,"xAxis",r,a),tB=(e,r,s,a)=>al(e,"xAxis",r,a),rB=(e,r,s,a)=>nl(e,"yAxis",s,a),sB=(e,r,s,a)=>al(e,"yAxis",s,a),$ye=Ce([Xt,eB,rB,tB,sB],(e,r,s,a,n)=>ol(e,"xAxis")?ec(r,a,!1):ec(s,n,!1)),zye=(e,r,s,a,n)=>n,aB=Ce([hx,zye],(e,r)=>e.filter(s=>s.type==="area").find(s=>s.id===r)),Uye=(e,r,s,a,n)=>{var i,l=aB(e,r,s,a,n);if(l!=null){var o=Xt(e),d=ol(o,"xAxis"),c;if(d?c=N0(e,"yAxis",s,a):c=N0(e,"xAxis",r,a),c!=null){var{stackId:u}=l,m=vb(l);if(!(u==null||m==null)){var x=(i=c[u])===null||i===void 0?void 0:i.stackedData;return x==null?void 0:x.find(h=>h.key===m)}}}},Hye=Ce([Xt,eB,rB,tB,sB,Uye,cx,$ye,aB,due],(e,r,s,a,n,i,l,o,d,c)=>{var{chartData:u,dataStartIndex:m,dataEndIndex:x}=l;if(!(d==null||e!=="horizontal"&&e!=="vertical"||r==null||s==null||a==null||n==null||a.length===0||n.length===0||o==null)){var{data:h}=d,p;if(h&&h.length>0?p=h:p=u==null?void 0:u.slice(m,x+1),p!=null)return obe({layout:e,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataStartIndex:m,areaSettings:d,stackedData:i,displayedData:p,chartBaseValue:c,bandSize:o})}}),Vye=["id"],Wye=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Jc(){return Jc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Jc.apply(null,arguments)}function nB(e,r){if(e==null)return{};var s,a,n=Gye(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Gye(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function xT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function yu(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?xT(Object(s),!0).forEach(function(a){qye(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):xT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function qye(e,r,s){return(r=Kye(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Kye(e){var r=Yye(e,"string");return typeof r=="symbol"?r:r+""}function Yye(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Lg(e,r){return e&&e!=="none"?e:r}var Xye=e=>{var{dataKey:r,name:s,stroke:a,fill:n,legendType:i,hide:l}=e;return[{inactive:l,dataKey:r,type:i,color:Lg(a,n),value:uc(s,r),payload:e}]};function Jye(e){var{dataKey:r,data:s,stroke:a,strokeWidth:n,fill:i,name:l,hide:o,unit:d}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:r,nameKey:void 0,name:uc(l,r),hide:o,type:e.tooltipType,color:Lg(a,i),unit:d}}}function Qye(e){var{clipPathId:r,points:s,props:a}=e,{needClip:n,dot:i,dataKey:l}=a,o=Fa(a);return g.createElement(MR,{points:s,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:o,needClip:n,clipPathId:r})}function Zye(e){var{showLabels:r,children:s,points:a}=e,n=a.map(i=>{var l,o,d={x:(l=i.x)!==null&&l!==void 0?l:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return yu(yu({},d),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return g.createElement(t6,{value:r?n:void 0},s)}function pT(e){var{points:r,baseLine:s,needClip:a,clipPathId:n,props:i}=e,{layout:l,type:o,stroke:d,connectNulls:c,isRange:u}=i,{id:m}=i,x=nB(i,Vye),h=Fa(x),p=Sa(x);return g.createElement(g.Fragment,null,(r==null?void 0:r.length)>1&&g.createElement(os,{clipPath:a?"url(#clipPath-".concat(n,")"):void 0},g.createElement(Ou,Jc({},p,{id:m,points:r,connectNulls:c,type:o,baseLine:s,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&g.createElement(Ou,Jc({},h,{className:"recharts-area-curve",layout:l,type:o,connectNulls:c,fill:"none",points:r})),d!=="none"&&u&&g.createElement(Ou,Jc({},h,{className:"recharts-area-curve",layout:l,type:o,connectNulls:c,fill:"none",points:s}))),g.createElement(Qye,{points:r,props:x,clipPathId:n}))}function ebe(e){var{alpha:r,baseLine:s,points:a,strokeWidth:n}=e,i=a[0].y,l=a[a.length-1].y;if(!Rr(i)||!Rr(l))return null;var o=r*Math.abs(i-l),d=Math.max(...a.map(c=>c.x||0));return bt(s)?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(...s.map(c=>c.x||0),d)),bt(d)?g.createElement("rect",{x:0,y:i<l?i:i-o,width:d+(n?parseInt("".concat(n),10):1),height:Math.floor(o)}):null}function tbe(e){var{alpha:r,baseLine:s,points:a,strokeWidth:n}=e,i=a[0].x,l=a[a.length-1].x;if(!Rr(i)||!Rr(l))return null;var o=r*Math.abs(i-l),d=Math.max(...a.map(c=>c.y||0));return bt(s)?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(...s.map(c=>c.y||0),d)),bt(d)?g.createElement("rect",{x:i<l?i:i-o,y:0,width:o,height:Math.floor(d+(n?parseInt("".concat(n),10):1))}):null}function rbe(e){var{alpha:r,layout:s,points:a,baseLine:n,strokeWidth:i}=e;return s==="vertical"?g.createElement(ebe,{alpha:r,points:a,baseLine:n,strokeWidth:i}):g.createElement(tbe,{alpha:r,points:a,baseLine:n,strokeWidth:i})}function sbe(e){var{needClip:r,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i}=e,{points:l,baseLine:o,isAnimationActive:d,animationBegin:c,animationDuration:u,animationEasing:m,onAnimationStart:x,onAnimationEnd:h}=a,p=wm(a,"recharts-area-"),[f,b]=g.useState(!1),j=!f,w=g.useCallback(()=>{typeof h=="function"&&h(),b(!1)},[h]),y=g.useCallback(()=>{typeof x=="function"&&x(),b(!0)},[x]),v=n.current,N=i.current;return g.createElement(Zye,{showLabels:j,points:l},a.children,g.createElement(jm,{animationId:p,begin:c,duration:u,isActive:d,easing:m,onAnimationEnd:w,onAnimationStart:y,key:p},S=>{if(v){var k=v.length/l.length,P=S===1?l:l.map((I,A)=>{var O=Math.floor(A*k);if(v[O]){var R=v[O];return yu(yu({},I),{},{x:ur(R.x,I.x,S),y:ur(R.y,I.y,S)})}return I}),C;return bt(o)?C=ur(N,o,S):Fr(o)||li(o)?C=ur(N,0,S):C=o.map((I,A)=>{var O=Math.floor(A*k);if(Array.isArray(N)&&N[O]){var R=N[O];return yu(yu({},I),{},{x:ur(R.x,I.x,S),y:ur(R.y,I.y,S)})}return I}),S>0&&(n.current=P,i.current=C),g.createElement(pT,{points:P,baseLine:C,needClip:r,clipPathId:s,props:a})}return S>0&&(n.current=l,i.current=o),g.createElement(os,null,d&&g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(s)},g.createElement(rbe,{alpha:S,points:l,baseLine:o,layout:a.layout,strokeWidth:a.strokeWidth}))),g.createElement(os,{clipPath:"url(#animationClipPath-".concat(s,")")},g.createElement(pT,{points:l,baseLine:o,needClip:r,clipPathId:s,props:a})))}),g.createElement(Ib,{label:a.label}))}function abe(e){var{needClip:r,clipPathId:s,props:a}=e,n=g.useRef(null),i=g.useRef();return g.createElement(sbe,{needClip:r,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i})}class nbe extends g.PureComponent{render(){var{hide:r,dot:s,points:a,className:n,top:i,left:l,needClip:o,xAxisId:d,yAxisId:c,width:u,height:m,id:x,baseLine:h,zIndex:p}=this.props;if(r)return null;var f=nr("recharts-area",n),b=x,{r:j,strokeWidth:w}=XR(s),y=l6(s),v=j*2+w;return g.createElement($a,{zIndex:p},g.createElement(os,{className:f},o&&g.createElement("defs",null,g.createElement(p6,{clipPathId:b,xAxisId:d,yAxisId:c}),!y&&g.createElement("clipPath",{id:"clipPath-dots-".concat(b)},g.createElement("rect",{x:l-v/2,y:i-v/2,width:u+v,height:m+v}))),g.createElement(abe,{needClip:o,clipPathId:b,props:this.props})),g.createElement(uw,{points:a,mainColor:Lg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(h)&&g.createElement(uw,{points:h,mainColor:Lg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var iB={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!ro.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0,zIndex:ps.area};function ibe(e){var r,s=cs(e,iB),{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:o,dot:d,fill:c,fillOpacity:u,hide:m,isAnimationActive:x,legendType:h,stroke:p,xAxisId:f,yAxisId:b}=s,j=nB(s,Wye),w=vm(),y=eR(),{needClip:v}=qb(f,b),N=Ys(),{points:S,isRange:k,baseLine:P}=(r=St(Z=>Hye(Z,f,b,N,e.id)))!==null&&r!==void 0?r:{},C=Gb();if(w!=="horizontal"&&w!=="vertical"||C==null||y!=="AreaChart"&&y!=="ComposedChart")return null;var{height:I,width:A,x:O,y:R}=C;return!S||!S.length?null:g.createElement(nbe,Jc({},j,{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:l,baseLine:P,connectNulls:o,dot:d,fill:c,fillOpacity:u,height:I,hide:m,layout:w,isAnimationActive:x,isRange:k,legendType:h,needClip:v,points:S,stroke:p,width:A,left:O,top:R,xAxisId:f,yAxisId:b}))}var lbe=(e,r,s,a,n)=>{var i=s??r;if(bt(i))return i;var l=e==="horizontal"?n:a,o=l.scale.domain();if(l.type==="number"){var d=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return i==="dataMin"?c:i==="dataMax"||d<0?d:Math.max(Math.min(o[0],o[1]),0)}return i==="dataMin"?o[0]:i==="dataMax"?o[1]:o[0]};function obe(e){var{areaSettings:{connectNulls:r,baseValue:s,dataKey:a},stackedData:n,layout:i,chartBaseValue:l,xAxis:o,yAxis:d,displayedData:c,dataStartIndex:u,xAxisTicks:m,yAxisTicks:x,bandSize:h}=e,p=n&&n.length,f=lbe(i,l,s,o,d),b=i==="horizontal",j=!1,w=c.map((v,N)=>{var S;p?S=n[u+N]:(S=br(v,a),Array.isArray(S)?j=!0:S=[f,S]);var k=S[1]==null||p&&!r&&br(v,a)==null;return b?{x:og({axis:o,ticks:m,bandSize:h,entry:v,index:N}),y:k?null:d.scale(S[1]),value:S,payload:v}:{x:k?null:o.scale(S[1]),y:og({axis:d,ticks:x,bandSize:h,entry:v,index:N}),value:S,payload:v}}),y;return p||j?y=w.map(v=>{var N=Array.isArray(v.value)?v.value[0]:null;return b?{x:v.x,y:N!=null&&v.y!=null?d.scale(N):null,payload:v.payload}:{x:N!=null?o.scale(N):null,y:v.y,payload:v.payload}}):y=b?d.scale(f):o.scale(f),{points:w,baseLine:y,isRange:j}}function cbe(e){var r=cs(e,iB),s=Ys();return g.createElement(Wb,{id:r.id,type:"area"},a=>g.createElement(g.Fragment,null,g.createElement(m6,{legendPayload:Xye(r)}),g.createElement(Vb,{fn:Jye,args:r}),g.createElement(h6,{type:"area",id:a,data:r.data,dataKey:r.dataKey,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,stackId:PM(r.stackId),hide:r.hide,barSize:void 0,baseValue:r.baseValue,isPanorama:s,connectNulls:r.connectNulls}),g.createElement(ibe,Jc({},r,{id:a}))))}var P0=g.memo(cbe);P0.displayName="Area";var dbe=["dangerouslySetInnerHTML","ticks"],ube=["id"],mbe=["domain"],hbe=["domain"];function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},xw.apply(null,arguments)}function Fg(e,r){if(e==null)return{};var s,a,n=xbe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function xbe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function pbe(e){var r=Ir();return g.useLayoutEffect(()=>(r(Wpe(e)),()=>{r(Gpe(e))}),[e,r]),null}var fbe=e=>{var{xAxisId:r,className:s}=e,a=St(H4),n=Ys(),i="xAxis",l=St(b=>Tm(b,i,r,n)),o=St(b=>EF(b,i,r,n)),d=St(b=>CF(b,r)),c=St(b=>lme(b,r)),u=St(b=>iF(b,r));if(d==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:m,ticks:x}=e,h=Fg(e,dbe),{id:p}=u,f=Fg(u,ube);return g.createElement(v6,xw({},h,f,{scale:l,x:c.x,y:c.y,width:d.width,height:d.height,className:nr("recharts-".concat(i," ").concat(i),s),viewBox:a,ticks:o,axisType:i}))},gbe={allowDataOverflow:cn.allowDataOverflow,allowDecimals:cn.allowDecimals,allowDuplicatedCategory:cn.allowDuplicatedCategory,height:cn.height,hide:!1,mirror:cn.mirror,orientation:cn.orientation,padding:cn.padding,reversed:cn.reversed,scale:cn.scale,tickCount:cn.tickCount,type:cn.type,xAxisId:0},ybe=e=>{var r,s,a,n,i,l=cs(e,gbe);return g.createElement(g.Fragment,null,g.createElement(pbe,{interval:(r=l.interval)!==null&&r!==void 0?r:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(s=l.includeHidden)!==null&&s!==void 0?s:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(a=l.angle)!==null&&a!==void 0?a:0,minTickGap:(n=l.minTickGap)!==null&&n!==void 0?n:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),g.createElement(fbe,l))},bbe=(e,r)=>{var{domain:s}=e,a=Fg(e,mbe),{domain:n}=r,i=Fg(r,hbe);return cm(a,i)?Array.isArray(s)&&s.length===2&&Array.isArray(n)&&n.length===2?s[0]===n[0]&&s[1]===n[1]:cm({domain:s},{domain:n}):!1},Qc=g.memo(ybe,bbe);Qc.displayName="XAxis";var vbe=["dangerouslySetInnerHTML","ticks"],jbe=["id"],wbe=["domain"],Nbe=["domain"];function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},pw.apply(null,arguments)}function Rg(e,r){if(e==null)return{};var s,a,n=Sbe(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Sbe(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function kbe(e){var r=Ir();return g.useLayoutEffect(()=>(r(qpe(e)),()=>{r(Kpe(e))}),[e,r]),null}var Cbe=e=>{var{yAxisId:r,className:s,width:a,label:n}=e,i=g.useRef(null),l=g.useRef(null),o=St(H4),d=Ys(),c=Ir(),u="yAxis",m=St(N=>Tm(N,u,r,d)),x=St(N=>PF(N,r)),h=St(N=>cme(N,r)),p=St(N=>EF(N,u,r,d)),f=St(N=>lF(N,r));if(g.useLayoutEffect(()=>{if(!(a!=="auto"||!x||e6(n)||g.isValidElement(n)||f==null)){var N=i.current;if(N){var S=N.getCalculatedWidth();Math.round(x.width)!==Math.round(S)&&c(Ype({id:r,width:S}))}}},[p,x,c,n,r,a,f]),x==null||h==null||f==null)return null;var{dangerouslySetInnerHTML:b,ticks:j}=e,w=Rg(e,vbe),{id:y}=f,v=Rg(f,jbe);return g.createElement(v6,pw({},w,v,{ref:i,labelRef:l,scale:m,x:h.x,y:h.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:x.width,height:x.height,className:nr("recharts-".concat(u," ").concat(u),s),viewBox:o,ticks:p,axisType:u}))},Pbe={allowDataOverflow:dn.allowDataOverflow,allowDecimals:dn.allowDecimals,allowDuplicatedCategory:dn.allowDuplicatedCategory,hide:!1,mirror:dn.mirror,orientation:dn.orientation,padding:dn.padding,reversed:dn.reversed,scale:dn.scale,tickCount:dn.tickCount,type:dn.type,width:dn.width,yAxisId:0},Abe=e=>{var r,s,a,n,i,l=cs(e,Pbe);return g.createElement(g.Fragment,null,g.createElement(kbe,{interval:(r=l.interval)!==null&&r!==void 0?r:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(s=l.includeHidden)!==null&&s!==void 0?s:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(a=l.angle)!==null&&a!==void 0?a:0,minTickGap:(n=l.minTickGap)!==null&&n!==void 0?n:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),g.createElement(Cbe,l))},Tbe=(e,r)=>{var{domain:s}=e,a=Rg(e,wbe),{domain:n}=r,i=Rg(r,Nbe);return cm(a,i)?Array.isArray(s)&&s.length===2&&Array.isArray(n)&&n.length===2?s[0]===n[0]&&s[1]===n[1]:cm({domain:s},{domain:n}):!1},Zc=g.memo(Abe,Tbe);Zc.displayName="YAxis";var Ebe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx=g;function Ibe(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var _be=typeof Object.is=="function"?Object.is:Ibe,Obe=bx.useSyncExternalStore,Dbe=bx.useRef,Mbe=bx.useEffect,Lbe=bx.useMemo,Fbe=bx.useDebugValue;Ebe.useSyncExternalStoreWithSelector=function(e,r,s,a,n){var i=Dbe(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=Lbe(function(){function d(h){if(!c){if(c=!0,u=h,h=a(h),n!==void 0&&l.hasValue){var p=l.value;if(n(p,h))return m=p}return m=h}if(p=m,_be(u,h))return p;var f=a(h);return n!==void 0&&n(p,f)?(u=h,p):(u=h,m=f)}var c=!1,u,m,x=s===void 0?null:s;return[function(){return d(r())},x===null?void 0:function(){return d(x())}]},[r,s,a,n]);var o=Obe(e,i[0],i[1]);return Mbe(function(){l.hasValue=!0,l.value=o},[o]),Fbe(o),o};function Rbe(e){e()}function Bbe(){let e=null,r=null;return{clear(){e=null,r=null},notify(){Rbe(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){const s=[];let a=e;for(;a;)s.push(a),a=a.next;return s},subscribe(s){let a=!0;const n=r={callback:s,next:null,prev:r};return n.prev?n.prev.next=n:e=n,function(){!a||e===null||(a=!1,n.next?n.next.prev=n.prev:r=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var fT={notify(){},get:()=>[]};function $be(e,r){let s,a=fT,n=0,i=!1;function l(f){u();const b=a.subscribe(f);let j=!1;return()=>{j||(j=!0,b(),m())}}function o(){a.notify()}function d(){p.onStateChange&&p.onStateChange()}function c(){return i}function u(){n++,s||(s=e.subscribe(d),a=Bbe())}function m(){n--,s&&n===0&&(s(),s=void 0,a.clear(),a=fT)}function x(){i||(i=!0,u())}function h(){i&&(i=!1,m())}const p={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:d,isSubscribed:c,trySubscribe:x,tryUnsubscribe:h,getListeners:()=>a};return p}var zbe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ube=zbe(),Hbe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Vbe=Hbe(),Wbe=()=>Ube||Vbe?g.useLayoutEffect:g.useEffect,Gbe=Wbe(),M1=Symbol.for("react-redux-context"),L1=typeof globalThis<"u"?globalThis:{};function qbe(){if(!g.createContext)return{};const e=L1[M1]??(L1[M1]=new Map);let r=e.get(g.createContext);return r||(r=g.createContext(null),e.set(g.createContext,r)),r}var Kbe=qbe();function Ybe(e){const{children:r,context:s,serverState:a,store:n}=e,i=g.useMemo(()=>{const d=$be(n);return{store:n,subscription:d,getServerState:a?()=>a:void 0}},[n,a]),l=g.useMemo(()=>n.getState(),[n]);Gbe(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==n.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,l]);const o=s||Kbe;return g.createElement(o.Provider,{value:i},r)}var Xbe=Ybe,Jbe=(e,r)=>r,w6=Ce([Jbe,Xt,aF,Bs,qF,io,bhe,Fs],Che),N6=e=>{var r=e.currentTarget.getBoundingClientRect(),s=r.width/e.currentTarget.offsetWidth,a=r.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-r.left)/s),chartY:Math.round((e.clientY-r.top)/a)}},lB=oi("mouseClick"),oB=sx();oB.startListening({actionCreator:lB,effect:(e,r)=>{var s=e.payload,a=w6(r.getState(),N6(s));(a==null?void 0:a.activeIndex)!=null&&r.dispatch(wme({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var fw=oi("mouseMove"),cB=sx();cB.startListening({actionCreator:fw,effect:(e,r)=>{var s=e.payload,a=r.getState(),n=W3(a,a.tooltip.settings.shared),i=w6(a,N6(s));n==="axis"&&((i==null?void 0:i.activeIndex)!=null?r.dispatch(RF({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):r.dispatch(FF()))}});var gT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},dB=ln({name:"rootProps",initialState:gT,reducers:{updateOptions:(e,r)=>{var s;e.accessibilityLayer=r.payload.accessibilityLayer,e.barCategoryGap=r.payload.barCategoryGap,e.barGap=(s=r.payload.barGap)!==null&&s!==void 0?s:gT.barGap,e.barSize=r.payload.barSize,e.maxBarSize=r.payload.maxBarSize,e.stackOffset=r.payload.stackOffset,e.syncId=r.payload.syncId,e.syncMethod=r.payload.syncMethod,e.className=r.payload.className,e.baseValue=r.payload.baseValue}}}),Qbe=dB.reducer,{updateOptions:Zbe}=dB.actions,uB=ln({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,r)=>r.payload}}),{updatePolarOptions:eve}=uB.actions,tve=uB.reducer,mB=oi("keyDown"),hB=oi("focus"),S6=sx();S6.startListening({actionCreator:mB,effect:(e,r)=>{var s=r.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(G3(n,Im(s))),o=io(s);if(i==="Enter"){var d=Pg(s,"axis","hover",String(n.index));r.dispatch(nw({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:d}));return}var c=hme(s),u=c==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,x=l+m*u;if(!(o==null||x>=o.length||x<0)){var h=Pg(s,"axis","hover",String(x));r.dispatch(nw({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});S6.startListening({actionCreator:hB,effect:(e,r)=>{var s=r.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip;if(!n.active&&n.index==null){var i="0",l=Pg(s,"axis","hover",String(i));r.dispatch(nw({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var zn=oi("externalEvent"),xB=sx();xB.startListening({actionCreator:zn,effect:(e,r)=>{if(e.payload.handler!=null){var s=r.getState(),a={activeCoordinate:ahe(s),activeDataKey:JF(s),activeIndex:tc(s),activeLabel:XF(s),activeTooltipIndex:tc(s),isTooltipActive:nhe(s)};e.payload.handler(a,e.payload.reactEvent)}}});var rve=Ce([Em],e=>e.tooltipItemPayloads),sve=Ce([rve,fx,(e,r,s)=>r,(e,r,s)=>s],(e,r,s,a)=>{var n=e.find(o=>o.settings.dataKey===a);if(n!=null){var{positions:i}=n;if(i!=null){var l=r(i,s);return l}}}),pB=oi("touchMove"),fB=sx();fB.startListening({actionCreator:pB,effect:(e,r)=>{var s=e.payload;if(!(s.touches==null||s.touches.length===0)){var a=r.getState(),n=W3(a,a.tooltip.settings.shared);if(n==="axis"){var i=w6(a,N6({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,currentTarget:s.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&r.dispatch(RF({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var l,o=s.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(o.clientX,o.clientY);if(!d||!d.getAttribute)return;var c=d.getAttribute(TM),u=(l=d.getAttribute(EM))!==null&&l!==void 0?l:void 0,m=sve(r.getState(),c,u);r.dispatch(LF({activeDataKey:u,activeIndex:c,activeCoordinate:m}))}}}});var ave=Z9({brush:gge,cartesianAxis:Xpe,chartData:r0e,errorBars:pfe,graphicalItems:lpe,layout:eie,legend:Gie,options:Jhe,polarAxis:Sxe,polarOptions:tve,referenceElements:Sge,rootProps:Qbe,tooltip:Nme,zIndex:$he}),nve=function(r){return kne({reducer:ave,preloadedState:r,middleware:s=>s({serializableCheck:!1}).concat([oB.middleware,cB.middleware,S6.middleware,xB.middleware,fB.middleware]),enhancers:s=>{var a=s;return typeof s=="function"&&(a=s()),a.concat(uM({type:"raf"}))},devTools:ro.devToolsEnabled})};function gB(e){var{preloadedState:r,children:s,reduxStoreName:a}=e,n=Ys(),i=g.useRef(null);if(n)return s;i.current==null&&(i.current=nve(r));var l=M4;return g.createElement(Xbe,{context:l,store:i.current},s)}function yB(e){var{layout:r,margin:s}=e,a=Ir(),n=Ys();return g.useEffect(()=>{n||(a(Jne(r)),a(Xne(s)))},[a,n,r,s]),null}function bB(e){var r=Ir();return g.useEffect(()=>{r(Zbe(e))},[r,e]),null}function yT(e){var{zIndex:r,isPanorama:s}=e,a=s?"recharts-zindex-panorama-":"recharts-zindex-",n=OR("".concat(a).concat(r)),i=Ir();return g.useLayoutEffect(()=>(i(Rhe({zIndex:r,elementId:n,isPanorama:s})),()=>{i(Bhe({zIndex:r,isPanorama:s}))}),[i,r,n,s]),g.createElement("g",{id:n})}function bT(e){var{children:r,isPanorama:s}=e,a=St(Ahe);if(!a||a.length===0)return r;var n=a.filter(l=>l<0),i=a.filter(l=>l>0);return g.createElement(g.Fragment,null,n.map(l=>g.createElement(yT,{key:l,zIndex:l,isPanorama:s})),r,i.map(l=>g.createElement(yT,{key:l,zIndex:l,isPanorama:s})))}var ive=["children"];function lve(e,r){if(e==null)return{};var s,a,n=ove(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function ove(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Bg.apply(null,arguments)}var cve={width:"100%",height:"100%",display:"block"},dve=g.forwardRef((e,r)=>{var s=W4(),a=G4(),n=UM();if(!rl(s)||!rl(a))return null;var{children:i,otherAttributes:l,title:o,desc:d}=e,c,u;return l!=null&&(typeof l.tabIndex=="number"?c=l.tabIndex:c=n?0:void 0,typeof l.role=="string"?u=l.role:u=n?"application":void 0),g.createElement(b4,Bg({},l,{title:o,desc:d,role:u,tabIndex:c,width:s,height:a,style:cve,ref:r}),i)}),uve=e=>{var{children:r}=e,s=St(ob);if(!s)return null;var{width:a,height:n,y:i,x:l}=s;return g.createElement(b4,{width:a,height:n,x:l,y:i},r)},vT=g.forwardRef((e,r)=>{var{children:s}=e,a=lve(e,ive),n=Ys();return n?g.createElement(uve,null,g.createElement(bT,{isPanorama:!0},s)):g.createElement(dve,Bg({ref:r},a),g.createElement(bT,{isPanorama:!1},s))});function mve(){var e=Ir(),[r,s]=g.useState(null),a=St(gie);return g.useEffect(()=>{if(r!=null){var n=r.getBoundingClientRect(),i=n.width/r.offsetWidth;Rr(i)&&i!==a&&e(Zne(i))}},[r,e,a]),s}function jT(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function hve(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?jT(Object(s),!0).forEach(function(a){xve(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):jT(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function xve(e,r,s){return(r=pve(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function pve(e){var r=fve(e,"string");return typeof r=="symbol"?r:r+""}function fve(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function bd(){return bd=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},bd.apply(null,arguments)}var gve=()=>(u0e(),null);function $g(e){if(typeof e=="number")return e;if(typeof e=="string"){var r=parseFloat(e);if(!Number.isNaN(r))return r}return 0}var yve=g.forwardRef((e,r)=>{var s,a,n=g.useRef(null),[i,l]=g.useState({containerWidth:$g((s=e.style)===null||s===void 0?void 0:s.width),containerHeight:$g((a=e.style)===null||a===void 0?void 0:a.height)}),o=g.useCallback((c,u)=>{l(m=>{var x=Math.round(c),h=Math.round(u);return m.containerWidth===x&&m.containerHeight===h?m:{containerWidth:x,containerHeight:h}})},[]),d=g.useCallback(c=>{if(typeof r=="function"&&r(c),c!=null&&typeof ResizeObserver<"u"){var{width:u,height:m}=c.getBoundingClientRect();o(u,m);var x=p=>{var{width:f,height:b}=p[0].contentRect;o(f,b)},h=new ResizeObserver(x);h.observe(c),n.current=h}},[r,o]);return g.useEffect(()=>()=>{var c=n.current;c!=null&&c.disconnect()},[o]),g.createElement(g.Fragment,null,g.createElement(db,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",bd({ref:d},e)))}),bve=g.forwardRef((e,r)=>{var{width:s,height:a}=e,[n,i]=g.useState({containerWidth:$g(s),containerHeight:$g(a)}),l=g.useCallback((d,c)=>{i(u=>{var m=Math.round(d),x=Math.round(c);return u.containerWidth===m&&u.containerHeight===x?u:{containerWidth:m,containerHeight:x}})},[]),o=g.useCallback(d=>{if(typeof r=="function"&&r(d),d!=null){var{width:c,height:u}=d.getBoundingClientRect();l(c,u)}},[r,l]);return g.createElement(g.Fragment,null,g.createElement(db,{width:n.containerWidth,height:n.containerHeight}),g.createElement("div",bd({ref:o},e)))}),vve=g.forwardRef((e,r)=>{var{width:s,height:a}=e;return g.createElement(g.Fragment,null,g.createElement(db,{width:s,height:a}),g.createElement("div",bd({ref:r},e)))}),jve=g.forwardRef((e,r)=>{var{width:s,height:a}=e;return zl(s)||zl(a)?g.createElement(bve,bd({},e,{ref:r})):g.createElement(vve,bd({},e,{ref:r}))});function wve(e){return e===!0?yve:jve}var Nve=g.forwardRef((e,r)=>{var{children:s,className:a,height:n,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:d,onMouseEnter:c,onMouseLeave:u,onMouseMove:m,onMouseUp:x,onTouchEnd:h,onTouchMove:p,onTouchStart:f,style:b,width:j,responsive:w,dispatchTouchEvents:y=!0}=e,v=g.useRef(null),N=Ir(),[S,k]=g.useState(null),[P,C]=g.useState(null),I=mve(),A=V4(),O=(A==null?void 0:A.width)>0?A.width:j,R=(A==null?void 0:A.height)>0?A.height:n,Z=g.useCallback(te=>{I(te),typeof r=="function"&&r(te),k(te),C(te),te!=null&&(v.current=te)},[I,r,k,C]),Y=g.useCallback(te=>{N(lB(te)),N(zn({handler:i,reactEvent:te}))},[N,i]),ce=g.useCallback(te=>{N(fw(te)),N(zn({handler:c,reactEvent:te}))},[N,c]),D=g.useCallback(te=>{N(FF()),N(zn({handler:u,reactEvent:te}))},[N,u]),z=g.useCallback(te=>{N(fw(te)),N(zn({handler:m,reactEvent:te}))},[N,m]),se=g.useCallback(()=>{N(hB())},[N]),K=g.useCallback(te=>{N(mB(te.key))},[N]),_=g.useCallback(te=>{N(zn({handler:l,reactEvent:te}))},[N,l]),M=g.useCallback(te=>{N(zn({handler:o,reactEvent:te}))},[N,o]),F=g.useCallback(te=>{N(zn({handler:d,reactEvent:te}))},[N,d]),B=g.useCallback(te=>{N(zn({handler:x,reactEvent:te}))},[N,x]),q=g.useCallback(te=>{N(zn({handler:f,reactEvent:te}))},[N,f]),ae=g.useCallback(te=>{y&&N(pB(te)),N(zn({handler:p,reactEvent:te}))},[N,y,p]),V=g.useCallback(te=>{N(zn({handler:h,reactEvent:te}))},[N,h]),G=wve(w);return g.createElement(iR.Provider,{value:S},g.createElement(ZD.Provider,{value:P},g.createElement(G,{width:O??(b==null?void 0:b.width),height:R??(b==null?void 0:b.height),className:nr("recharts-wrapper",a),style:hve({position:"relative",cursor:"default",width:O,height:R},b),onClick:Y,onContextMenu:_,onDoubleClick:M,onFocus:se,onKeyDown:K,onMouseDown:F,onMouseEnter:ce,onMouseLeave:D,onMouseMove:z,onMouseUp:B,onTouchEnd:V,onTouchMove:ae,onTouchStart:q,ref:Z},g.createElement(gve,null),s)))}),Sve=["width","height","responsive","children","className","style","compact","title","desc"];function kve(e,r){if(e==null)return{};var s,a,n=Cve(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Cve(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var vB=g.forwardRef((e,r)=>{var{width:s,height:a,responsive:n,children:i,className:l,style:o,compact:d,title:c,desc:u}=e,m=kve(e,Sve),x=Fa(m);return d?g.createElement(g.Fragment,null,g.createElement(db,{width:s,height:a}),g.createElement(vT,{otherAttributes:x,title:c,desc:u},i)):g.createElement(Nve,{className:l,style:o,width:s,height:a,responsive:n??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(vT,{otherAttributes:x,title:c,desc:u,ref:r},g.createElement(Cge,null,i)))});function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},gw.apply(null,arguments)}var Pve={top:5,right:5,bottom:5,left:5},Ave={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Pve,reverseStackOrder:!1,syncMethod:"index",responsive:!1},k6=g.forwardRef(function(r,s){var a,n=cs(r.categoricalChartProps,Ave),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:d,categoricalChartProps:c}=r,u={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:d,eventEmitter:void 0};return g.createElement(gB,{preloadedState:{options:u},reduxStoreName:(a=c.id)!==null&&a!==void 0?a:i},g.createElement(zR,{chartData:c.data}),g.createElement(yB,{layout:n.layout,margin:n.margin}),g.createElement(bB,{baseValue:n.baseValue,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),g.createElement(vB,gw({},n,{ref:s})))}),Tve=["axis"],Eve=g.forwardRef((e,r)=>g.createElement(k6,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Tve,tooltipPayloadSearcher:Tb,categoricalChartProps:e,ref:r})),Ive=["axis","item"],jB=g.forwardRef((e,r)=>g.createElement(k6,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ive,tooltipPayloadSearcher:Tb,categoricalChartProps:e,ref:r}));function _ve(e){var r=Ir();return g.useEffect(()=>{r(eve(e))},[r,e]),null}var Ove=["layout"];function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},yw.apply(null,arguments)}function Dve(e,r){if(e==null)return{};var s,a,n=Mve(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Mve(e,r){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Lve={top:5,right:5,bottom:5,left:5},Fve={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Lve,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Rve=g.forwardRef(function(r,s){var a,n=cs(r.categoricalChartProps,Fve),{layout:i}=n,l=Dve(n,Ove),{chartName:o,defaultTooltipEventType:d,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=r,m={chartName:o,defaultTooltipEventType:d,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return g.createElement(gB,{preloadedState:{options:m},reduxStoreName:(a=n.id)!==null&&a!==void 0?a:o},g.createElement(zR,{chartData:n.data}),g.createElement(yB,{layout:i,margin:n.margin}),g.createElement(bB,{baseValue:void 0,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),g.createElement(_ve,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),g.createElement(vB,yw({},l,{ref:s})))}),Bve=["item"],$ve={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},zg=g.forwardRef((e,r)=>{var s=cs(e,$ve);return g.createElement(Rve,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Bve,tooltipPayloadSearcher:Tb,categoricalChartProps:s,ref:r})}),zve=["axis"],C6=g.forwardRef((e,r)=>g.createElement(k6,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zve,tooltipPayloadSearcher:Tb,categoricalChartProps:e,ref:r}));const Uve=[{title:"Review pending KYC",to:"/admin/partners",icon:Ja,color:"from-amber-500 to-orange-500",bgColor:"bg-amber-50",iconColor:"text-amber-600",description:"Verify partner documents"},{title:"Monitor live bookings",to:"/admin/customer-bookings",icon:is,color:"from-blue-500 to-cyan-500",bgColor:"bg-blue-50",iconColor:"text-blue-600",description:"Track active orders"},{title:"Update spare inventory",to:"/admin/spares",icon:gs,color:"from-purple-500 to-pink-500",bgColor:"bg-purple-50",iconColor:"text-purple-600",description:"Manage stock levels"},{title:"Check AMC renewals",to:"/admin/amc",icon:Dt,color:"from-emerald-500 to-teal-500",bgColor:"bg-emerald-50",iconColor:"text-emerald-600",description:"Review contracts"},{title:"Optimize lead allocation",to:"/admin/leads",icon:or,color:"from-indigo-500 to-blue-500",bgColor:"bg-indigo-50",iconColor:"text-indigo-600",description:"Assign leads efficiently"},{title:"Send broadcast notification",to:"/admin/notifications",icon:Cn,color:"from-rose-500 to-pink-500",bgColor:"bg-rose-50",iconColor:"text-rose-600",description:"Notify all users"}],bp=({icon:e,title:r,description:s,iconColor:a="text-slate-400",bgColor:n="bg-slate-50"})=>t.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] py-8",children:[t.jsxs("div",{className:`w-20 h-20 ${n} rounded-full flex items-center justify-center mb-4 relative`,children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-100 to-slate-200 rounded-full opacity-50"}),t.jsx(e,{className:`${a} text-3xl relative z-10`})]}),t.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:r}),t.jsx("p",{className:"text-sm text-slate-500 text-center max-w-xs",children:s})]}),Hve=()=>{var k,P,C,I,A,O,R,Z,Y,ce,D,z,se,K,_,M,F,B,q,ae,V,G,te,pe;const{data:e,isLoading:r,error:s}=dr(ye=>We.fetchDashboard(ye),[]),{data:a,isLoading:n,error:i}=dr(ye=>We.fetchDashboardCounts(ye),[]),{data:l}=dr(ye=>We.fetchPartnerRevenueStats(ye),[]),[o,d]=g.useState({monthlyBookings:[],monthlyRevenue:[],bookingStatusDistribution:[],partnerStatusDistribution:[],kycStatusDistribution:[]}),c=((k=a==null?void 0:a.data)==null?void 0:k.counts)||(a==null?void 0:a.counts)||{},u=((P=a==null?void 0:a.data)==null?void 0:P.bookingStats)||(a==null?void 0:a.bookingStats)||((A=(I=(C=a==null?void 0:a.data)==null?void 0:C.charts)==null?void 0:I.bookingStats)==null?void 0:A[0])||{},m=((R=(O=a==null?void 0:a.data)==null?void 0:O.charts)==null?void 0:R.monthlyBookings)||((Z=a==null?void 0:a.data)==null?void 0:Z.monthlyBookingData)||[],x=((ce=(Y=a==null?void 0:a.data)==null?void 0:Y.charts)==null?void 0:ce.monthlyRevenue)||((D=a==null?void 0:a.data)==null?void 0:D.monthlyRevenueData)||[],h=(e==null?void 0:e.partnerStats)||((z=e==null?void 0:e.data)==null?void 0:z.partnerStats)||{},p=(e==null?void 0:e.kycStats)||((se=e==null?void 0:e.data)==null?void 0:se.kycStats)||{};e!=null&&e.registrationStats||(K=e==null?void 0:e.data)!=null&&K.registrationStats,g.useEffect(()=>{var ye,he;if(!(n||r))try{const Qe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],W={},Ie=new Date;for(let xe=5;xe>=0;xe--){const ve=new Date(Ie.getFullYear(),Ie.getMonth()-xe,1),Ne=`${ve.getFullYear()}-${ve.getMonth()+1}`;W[Ne]={month:Qe[ve.getMonth()],bookings:0}}Array.isArray(m)&&m.length>0&&m.forEach(xe=>{if(xe&&xe._id&&xe._id.year&&xe._id.month){const ve=`${xe._id.year}-${xe._id.month}`;W[ve]&&(W[ve].bookings=xe.count||xe.bookings||0)}else if(xe&&xe.month){const ve=Object.keys(W).find(Ne=>W[Ne].month===xe.month);ve&&(W[ve].bookings=xe.bookings||xe.count||0)}});const Se={};for(let xe=5;xe>=0;xe--){const ve=new Date(Ie.getFullYear(),Ie.getMonth()-xe,1),Ne=`${ve.getFullYear()}-${ve.getMonth()+1}`;Se[Ne]={month:Qe[ve.getMonth()],revenue:0}}Array.isArray(x)&&x.length>0&&x.forEach(xe=>{if(xe&&xe._id&&xe._id.year&&xe._id.month){const ve=`${xe._id.year}-${xe._id.month}`;Se[ve]&&(Se[ve].revenue=xe.revenue||xe.totalRevenue||0)}else if(xe&&xe.month){const ve=Object.keys(Se).find(Ne=>Se[Ne].month===xe.month);ve&&(Se[ve].revenue=xe.revenue||xe.totalRevenue||0)}});const we=[];if(u&&typeof u=="object"){const xe={completed:"#10b981",pending:"#f59e0b",accepted:"#3b82f6",in_progress:"#8b5cf6",inProgress:"#8b5cf6",cancelled:"#ef4444",canceled:"#ef4444",rejected:"#dc2626",assigned:"#6366f1",started:"#ec4899"};Array.isArray(u)?u.forEach(ve=>{ve&&typeof ve=="object"&&Object.entries(ve).forEach(([Ne,Ke])=>{typeof Ke=="number"&&Ke>0&&Ne!=="total"&&we.push({name:Ne.charAt(0).toUpperCase()+Ne.slice(1).replace(/([A-Z])/g," $1").trim(),value:Ke,color:xe[Ne]||xe[Ne.toLowerCase()]||"#6b7280"})})}):Object.entries(u).forEach(([ve,Ne])=>{if(typeof Ne=="number"&&Ne>0&&ve!=="total"&&ve!=="bookings"){const Ke=ve.charAt(0).toUpperCase()+ve.slice(1).replace(/([A-Z])/g," $1").trim();we.push({name:Ke,value:Ne,color:xe[ve]||xe[ve.toLowerCase()]||"#6b7280"})}})}const L=[],ue=(h==null?void 0:h.byStatus)||((ye=h==null?void 0:h.data)==null?void 0:ye.byStatus)||{};if(ue&&typeof ue=="object"&&Object.keys(ue).length>0){const xe={active:"#10b981",pending:"#f59e0b",inactive:"#6b7280",suspended:"#ef4444",verified:"#10b981",unverified:"#f59e0b",null:"#3b82f6",undefined:"#3b82f6"},ve={active:"Active",pending:"Pending",inactive:"Inactive",suspended:"Suspended",verified:"Verified",unverified:"Unverified",null:"Active",undefined:"Active"};Object.entries(ue).forEach(([Ne,Ke])=>{if(Ke&&Ke>0&&Ne!=="total"){const dt=Ne===null||Ne==="null"||Ne==="undefined"||Ne===void 0?"active":Ne.toLowerCase(),ke=ve[dt]||ve[Ne]||(Ne===null||Ne==="null"||Ne===void 0?"Active":Ne.charAt(0).toUpperCase()+Ne.slice(1));L.push({name:ke,value:Ke,color:xe[dt]||xe[Ne]||xe[Ne==null?void 0:Ne.toLowerCase()]||"#3b82f6"})}})}const ee=[],fe=(p==null?void 0:p.byStatus)||((he=p==null?void 0:p.data)==null?void 0:he.byStatus)||{};if(fe&&typeof fe=="object"&&Object.keys(fe).length>0){const xe={Verified:"#10b981",verified:"#10b981",Pending:"#f59e0b",pending:"#f59e0b",Rejected:"#ef4444",rejected:"#ef4444","Not Submitted":"#6b7280","not submitted":"#6b7280","Not submitted":"#6b7280",null:"#6b7280","":"#6b7280"};Object.entries(fe).forEach(([ve,Ne])=>{if(Ne&&Ne>0&&ve!=="total"){const Ke=ve===null||ve==="null"||ve===""?"Not Submitted":ve.charAt(0).toUpperCase()+ve.slice(1);ee.push({name:Ke,value:Ne,color:xe[ve]||xe[ve==null?void 0:ve.toLowerCase()]||"#6b7280"})}})}if(ee.length===0&&(p!=null&&p.verificationStats)){const xe=p.verificationStats;(xe.verified>0||xe.pending>0)&&(xe.verified>0&&ee.push({name:"Verified",value:xe.verified,color:"#10b981"}),xe.pending>0&&ee.push({name:"Pending",value:xe.pending,color:"#f59e0b"}))}d({monthlyBookings:Object.values(W),monthlyRevenue:Object.values(Se),bookingStatusDistribution:we,partnerStatusDistribution:L,kycStatusDistribution:ee})}catch(Qe){console.error("Error processing chart data:",Qe),d({monthlyBookings:[],monthlyRevenue:[],bookingStatusDistribution:[],partnerStatusDistribution:[],kycStatusDistribution:[]})}},[a,n,r,e,u,h,p,m,x]);const f=()=>{if(!(h!=null&&h.byStatus))return null;const ye=h.byStatus,he=Object.entries(ye).filter(([W])=>!(W==="total"||W===null||W===void 0||W==="null"||W==="undefined")).map(([W,Ie])=>({key:W,value:Ie})).filter(W=>W.value>0),Qe=ye[null]||ye.null||ye[void 0]||ye.undefined||0;return he.length===0&&Qe>0?`${Qe} active`:he.length>0?he.slice(0,2).map(({key:Ie,value:Se})=>{const we=Ie==="active"||Ie==="Active"?"active":Ie==="pending"||Ie==="Pending"?"pending":Ie==="inactive"||Ie==="Inactive"?"inactive":Ie==="suspended"||Ie==="Suspended"?"suspended":Ie.toLowerCase();return`${Se} ${we}`}).join(", "):Qe>0?`${Qe} active`:null},b=()=>{const ye=(c==null?void 0:c.bookings)??(u==null?void 0:u.total)??0,he=(u==null?void 0:u.completed)??0;if(ye>0&&he>0){const Qe=Math.round(he/ye*100);return`${he} completed (${Qe}%)`}return u!=null&&u.completed?`${u.completed} completed`:null},j=(l==null?void 0:l.stats)||{},w=[{label:"Total Bookings",value:(c==null?void 0:c.bookings)??(u==null?void 0:u.total)??0,trend:b(),description:"Across all categories and cities",icon:is,color:"bg-blue-500",gradient:"from-blue-500 to-blue-600"},{label:"Total Partners",value:(c==null?void 0:c.partners)??(h==null?void 0:h.total)??0,trend:f(),description:"Active and pending partners",icon:Lr,color:"bg-indigo-500",gradient:"from-indigo-500 to-indigo-600"},{label:"Total Revenue",value:`${((j.totalRevenue||0)/1e3).toFixed(0)}K`,trend:`Reg: ${((j.totalRegistrationFees||0)/1e3).toFixed(0)}K | MG: ${((j.totalMGPlanRevenue||0)/1e3).toFixed(0)}K`,description:"Revenue from approved partners",icon:Jt,color:"bg-emerald-500",gradient:"from-emerald-500 to-emerald-600",intent:"positive"},{label:"Registration Fees",value:`${((j.totalRegistrationFees||0)/1e3).toFixed(0)}K`,trend:`SD: ${((j.totalSecurityDeposit||0)/1e3).toFixed(0)}K | TK: ${((j.totalToolkitFees||0)/1e3).toFixed(0)}K`,description:"Revenue from approved partners only",icon:vt,color:"bg-purple-500",gradient:"from-purple-500 to-purple-600",intent:"positive"},{label:"MG Plan Revenue",value:`${((j.totalMGPlanRevenue||0)/1e3).toFixed(0)}K`,trend:j.totalMGPlanRevenue>0?"From subscriptions":"No subscriptions yet",description:"Minimum guarantee plans",icon:or,color:"bg-indigo-500",gradient:"from-indigo-500 to-indigo-600",intent:"positive"},{label:"Total Users",value:(c==null?void 0:c.users)??0,trend:null,description:"Registered customers",icon:vr,color:"bg-cyan-500",gradient:"from-cyan-500 to-cyan-600"},{label:"KYC Pending",value:((_=p==null?void 0:p.verificationStats)==null?void 0:_.pending)??((M=p==null?void 0:p.byStatus)==null?void 0:M.Pending)??((F=p==null?void 0:p.byStatus)==null?void 0:F.pending)??0,trend:(B=p==null?void 0:p.verificationStats)!=null&&B.verified?`${p.verificationStats.verified} verified`:null,description:"Awaiting verification",intent:(((q=p==null?void 0:p.verificationStats)==null?void 0:q.pending)??((ae=p==null?void 0:p.byStatus)==null?void 0:ae.Pending)??((V=p==null?void 0:p.byStatus)==null?void 0:V.pending)??0)>10?"warning":"positive",icon:Ja,color:"bg-amber-500",gradient:"from-amber-500 to-amber-600"}],y=((G=p==null?void 0:p.verificationStats)==null?void 0:G.pending)??((te=p==null?void 0:p.byStatus)==null?void 0:te.Pending)??((pe=p==null?void 0:p.byStatus)==null?void 0:pe.pending)??0,v=(u==null?void 0:u.pending)??0,N=[{name:"Partner Control",status:y>10?"Needs attention":"On track",icon:y>10?pj:vt,description:y>10?`${y} KYC verifications pending.`:"All partner wallet reconciliations and KYCs are on schedule.",tone:y>10?"warning":"success"},{name:"Customer Bookings",status:v>0?`${v} pending`:"Within SLA",icon:v>5?pj:vt,description:v>5?`${v} bookings pending assignment.`:"All in-progress bookings are meeting SLA thresholds.",tone:v>5?"warning":"success"},{name:"Service Management",status:c!=null&&c.subServices?`${c.subServices} services`:"Active",icon:Xr,description:c!=null&&c.subServices?`${c.subServices} sub-services available across all categories.`:"Service catalog is active.",tone:"success"}],S=()=>{var ye;return r||n?t.jsx("div",{className:"flex justify-center items-center py-24",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Syncing live metrics..."})]})}):s||i?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Unable to fetch dashboard analytics. ",s||i]}):t.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[t.jsx("div",{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-transparent rounded-2xl p-6 sm:p-8 border border-primary/20",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-2",children:"Welcome Back! "}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("div",{className:"px-4 py-2 bg-white rounded-lg shadow-sm border border-slate-200",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Total Revenue"}),t.jsxs("p",{className:"text-lg font-bold text-slate-800",children:["",((((ye=l==null?void 0:l.stats)==null?void 0:ye.totalRevenue)||(u==null?void 0:u.totalRevenue)||(c==null?void 0:c.totalRevenue)||0)/1e5).toFixed(1),"L"]}),(l==null?void 0:l.stats)&&t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Reg: ",((l.stats.totalRegistrationFees||0)/1e3).toFixed(0),"K | MG: ",((l.stats.totalMGPlanRevenue||0)/1e3).toFixed(0),"K"]})]})})]})}),t.jsx("div",{className:"grid gap-4 sm:gap-5 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:w.map(he=>t.jsx(Zn,{...he},he.label))}),t.jsxs("div",{className:"grid gap-6 sm:gap-8 lg:grid-cols-2",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-blue-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(is,{className:"text-blue-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Monthly Bookings Trend"})]}),o.monthlyBookings.length>0&&o.monthlyBookings.some(he=>he.bookings>0)?t.jsx(Wi,{width:"100%",height:250,children:t.jsxs(jB,{data:o.monthlyBookings,children:[t.jsx(Xc,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),t.jsx(Qc,{dataKey:"month",stroke:"#64748b"}),t.jsx(Zc,{stroke:"#64748b"}),t.jsx(qi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),t.jsx(_u,{}),t.jsx(f6,{dataKey:"bookings",fill:"#3b82f6",name:"Bookings",radius:[8,8,0,0]})]})}):t.jsx(bp,{icon:o0,title:"No Booking Data",description:"Booking data will appear here once customers start making bookings.",iconColor:"text-blue-400",bgColor:"bg-blue-50"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-emerald-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:t.jsx(Jt,{className:"text-emerald-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Monthly Revenue Trend"})]}),o.monthlyRevenue.length>0&&o.monthlyRevenue.some(he=>he.revenue>0)?t.jsx(Wi,{width:"100%",height:250,children:t.jsxs(C6,{data:o.monthlyRevenue,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),t.jsx(Xc,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),t.jsx(Qc,{dataKey:"month",stroke:"#64748b"}),t.jsx(Zc,{stroke:"#64748b"}),t.jsx(qi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:he=>`${(he/1e3).toFixed(1)}K`}),t.jsx(_u,{}),t.jsx(P0,{type:"monotone",dataKey:"revenue",stroke:"#10b981",fillOpacity:1,fill:"url(#colorRevenue)",name:"Revenue"})]})}):t.jsx(bp,{icon:or,title:"No Revenue Data",description:"Revenue trends will be displayed here once transactions are recorded.",iconColor:"text-emerald-400",bgColor:"bg-emerald-50"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-purple-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx(or,{className:"text-purple-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Booking Status Distribution"})]}),o.bookingStatusDistribution.length>0?t.jsx(Wi,{width:"100%",height:250,children:t.jsxs(zg,{children:[t.jsx(k0,{data:o.bookingStatusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:he,percent:Qe})=>`${he} ${(Qe*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.bookingStatusDistribution.map((he,Qe)=>t.jsx(rc,{fill:he.color},`cell-${Qe}`))}),t.jsx(qi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})}):t.jsx(bp,{icon:r4,title:"No Booking Status Data",description:"Booking status breakdown will appear here once bookings are created.",iconColor:"text-purple-400",bgColor:"bg-purple-50"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-indigo-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:t.jsx(Lr,{className:"text-indigo-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Partner Status Distribution"})]}),o.partnerStatusDistribution.length>0?t.jsx(Wi,{width:"100%",height:250,children:t.jsxs(zg,{children:[t.jsx(k0,{data:o.partnerStatusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:he,percent:Qe})=>`${he} ${(Qe*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.partnerStatusDistribution.map((he,Qe)=>t.jsx(rc,{fill:he.color},`cell-${Qe}`))}),t.jsx(qi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})}):t.jsx(bp,{icon:Lr,title:"No Partner Data",description:"Partner status distribution will be shown here once partners are registered.",iconColor:"text-indigo-400",bgColor:"bg-indigo-50"})]})]})]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 sm:gap-8",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Module Health"}),t.jsx("div",{className:"space-y-4",children:N.map(he=>{const Qe=he.icon,W=he.tone==="warning"?"text-amber-500":he.tone==="info"?"text-primary":"text-emerald-500";return t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl px-5 py-4 shadow-sm hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${W} bg-slate-100`,children:t.jsx(Qe,{})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-900",children:he.name}),t.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${W}`,children:he.status})]})]}),t.jsx("p",{className:"text-sm text-slate-500 mt-3 leading-relaxed",children:he.description})]},he.name)})})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 sm:p-6 hover:shadow-lg transition-all duration-300 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/5 to-primary/10 rounded-full -mr-16 -mt-16"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-primary to-primary-dark rounded-lg",children:t.jsx(us,{className:"text-white text-lg"})}),t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Quick Actions"})]}),t.jsx("div",{className:"grid gap-3",children:Uve.map(he=>{const Qe=he.icon;return t.jsxs(Ht,{to:he.to,className:"group flex items-center gap-4 px-4 py-4 rounded-xl border border-slate-200 hover:border-transparent hover:shadow-lg transition-all duration-300 relative overflow-hidden bg-white hover:bg-gradient-to-r hover:from-white hover:to-slate-50",children:[t.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${he.color} flex items-center justify-center flex-shrink-0 shadow-sm group-hover:scale-110 group-hover:shadow-md transition-all duration-300`,children:t.jsx(Qe,{className:"text-white text-lg"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-900 group-hover:text-primary transition-colors",children:he.title}),he.description&&t.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:he.description})]}),t.jsx("div",{className:"flex-shrink-0",children:t.jsx(us,{className:"text-slate-400 group-hover:text-primary group-hover:translate-x-1 transition-all duration-300 text-lg"})}),t.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${he.color} opacity-0 group-hover:opacity-5 transition-opacity duration-300 rounded-xl`})]},he.title)})})]})]})]})]})};return t.jsxs("div",{children:[t.jsx(ys,{title:"Operations Overview",subtitle:"Real-time health snapshot across partners, bookings, workflows, and financial controls."}),S()]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Ug={};Ug.version="0.18.5";var wB=1252,Vve=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],NB=function(e){Vve.indexOf(e)!=-1&&(wB=e)};function Wve(){NB(1252)}var A0=function(e){NB(e)};function Gve(){A0(1200),Wve()}var vp=function(r){return String.fromCharCode(r)},wT=function(r){return String.fromCharCode(r)},Hg,Io="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function T0(e){for(var r="",s=0,a=0,n=0,i=0,l=0,o=0,d=0,c=0;c<e.length;)s=e.charCodeAt(c++),i=s>>2,a=e.charCodeAt(c++),l=(s&3)<<4|a>>4,n=e.charCodeAt(c++),o=(a&15)<<2|n>>6,d=n&63,isNaN(a)?o=d=64:isNaN(n)&&(d=64),r+=Io.charAt(i)+Io.charAt(l)+Io.charAt(o)+Io.charAt(d);return r}function Kl(e){var r="",s=0,a=0,n=0,i=0,l=0,o=0,d=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=Io.indexOf(e.charAt(c++)),l=Io.indexOf(e.charAt(c++)),s=i<<2|l>>4,r+=String.fromCharCode(s),o=Io.indexOf(e.charAt(c++)),a=(l&15)<<4|o>>2,o!==64&&(r+=String.fromCharCode(a)),d=Io.indexOf(e.charAt(c++)),n=(o&3)<<6|d,d!==64&&(r+=String.fromCharCode(n));return r}var cr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),lo=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(r,s){return s?new Buffer(r,s):new Buffer(r)}:Buffer.from.bind(Buffer)}return function(){}}();function vd(e){return cr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function NT(e){return cr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Si=function(r){return cr?lo(r,"binary"):r.split("").map(function(s){return s.charCodeAt(0)&255})};function Kb(e){if(typeof ArrayBuffer>"u")return Si(e);for(var r=new ArrayBuffer(e.length),s=new Uint8Array(r),a=0;a!=e.length;++a)s[a]=e.charCodeAt(a)&255;return r}function vx(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var r=[],s=0;s<e.length;++s)r[s]=String.fromCharCode(e[s]);return r.join("")}function qve(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var ra=cr?function(e){return Buffer.concat(e.map(function(r){return Buffer.isBuffer(r)?r:lo(r)}))}:function(e){if(typeof Uint8Array<"u"){var r=0,s=0;for(r=0;r<e.length;++r)s+=e[r].length;var a=new Uint8Array(s),n=0;for(r=0,s=0;r<e.length;s+=n,++r)if(n=e[r].length,e[r]instanceof Uint8Array)a.set(e[r],s);else{if(typeof e[r]=="string")throw"wtf";a.set(new Uint8Array(e[r]),s)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Kve(e){for(var r=[],s=0,a=e.length+250,n=vd(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)n[s++]=l;else if(l<2048)n[s++]=192|l>>6&31,n[s++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var o=e.charCodeAt(++i)&1023;n[s++]=240|l>>8&7,n[s++]=128|l>>2&63,n[s++]=128|o>>6&15|(l&3)<<4,n[s++]=128|o&63}else n[s++]=224|l>>12&15,n[s++]=128|l>>6&63,n[s++]=128|l&63;s>a&&(r.push(n.slice(0,s)),s=0,n=vd(65535),a=65530)}return r.push(n.slice(0,s)),ra(r)}var Dh=/\u0000/g,jp=/[\u0001-\u0006]/g;function Mu(e){for(var r="",s=e.length-1;s>=0;)r+=e.charAt(s--);return r}function Ci(e,r){var s=""+e;return s.length>=r?s:ns("0",r-s.length)+s}function P6(e,r){var s=""+e;return s.length>=r?s:ns(" ",r-s.length)+s}function Vg(e,r){var s=""+e;return s.length>=r?s:s+ns(" ",r-s.length)}function Yve(e,r){var s=""+Math.round(e);return s.length>=r?s:ns("0",r-s.length)+s}function Xve(e,r){var s=""+e;return s.length>=r?s:ns("0",r-s.length)+s}var ST=Math.pow(2,32);function Yd(e,r){if(e>ST||e<-ST)return Yve(e,r);var s=Math.round(e);return Xve(s,r)}function Wg(e,r){return r=r||0,e.length>=7+r&&(e.charCodeAt(r)|32)===103&&(e.charCodeAt(r+1)|32)===101&&(e.charCodeAt(r+2)|32)===110&&(e.charCodeAt(r+3)|32)===101&&(e.charCodeAt(r+4)|32)===114&&(e.charCodeAt(r+5)|32)===97&&(e.charCodeAt(r+6)|32)===108}var kT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],F1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Jve(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var ls={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},CT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Qve={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Gg(e,r,s){for(var a=e<0?-1:1,n=e*a,i=0,l=1,o=0,d=1,c=0,u=0,m=Math.floor(n);c<r&&(m=Math.floor(n),o=m*l+i,u=m*c+d,!(n-m<5e-8));)n=1/(n-m),i=l,l=o,d=c,c=u;if(u>r&&(c>r?(u=d,o=i):(u=c,o=l)),!s)return[0,a*o,u];var x=Math.floor(a*o/u);return[x,a*o-x*u,u]}function wp(e,r,s){if(e>2958465||e<0)return null;var a=e|0,n=Math.floor(86400*(e-a)),i=0,l=[],o={D:a,T:n,u:86400*(e-a)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),r&&r.date1904&&(a+=1462),o.u>.9999&&(o.u=0,++n==86400&&(o.T=n=0,++a,++o.D)),a===60)l=s?[1317,10,29]:[1900,2,29],i=3;else if(a===0)l=s?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var d=new Date(1900,0,1);d.setDate(d.getDate()+a-1),l=[d.getFullYear(),d.getMonth()+1,d.getDate()],i=d.getDay(),a<60&&(i=(i+6)%7),s&&(i=n1e(d,l))}return o.y=l[0],o.m=l[1],o.d=l[2],o.S=n%60,n=Math.floor(n/60),o.M=n%60,n=Math.floor(n/60),o.H=n,o.q=i,o}var SB=new Date(1899,11,31,0,0,0),Zve=SB.getTime(),e1e=new Date(1900,2,1,0,0,0);function kB(e,r){var s=e.getTime();return r?s-=1461*24*60*60*1e3:e>=e1e&&(s+=24*60*60*1e3),(s-(Zve+(e.getTimezoneOffset()-SB.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function A6(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function t1e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function r1e(e){var r=e<0?12:11,s=A6(e.toFixed(12));return s.length<=r||(s=e.toPrecision(10),s.length<=r)?s:e.toExponential(5)}function s1e(e){var r=A6(e.toFixed(11));return r.length>(e<0?12:11)||r==="0"||r==="-0"?e.toPrecision(6):r}function a1e(e){var r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),s;return r>=-4&&r<=-1?s=e.toPrecision(10+r):Math.abs(r)<=9?s=r1e(e):r===10?s=e.toFixed(10).substr(0,12):s=s1e(e),A6(t1e(s.toUpperCase()))}function bw(e,r){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):a1e(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return ac(14,kB(e,r&&r.date1904),r)}throw new Error("unsupported value in General format: "+e)}function n1e(e,r){r[0]-=581;var s=e.getDay();return e<60&&(s=(s+6)%7),s}function i1e(e,r,s,a){var n="",i=0,l=0,o=s.y,d,c=0;switch(e){case 98:o=s.y+543;case 121:switch(r.length){case 1:case 2:d=o%100,c=2;break;default:d=o%1e4,c=4;break}break;case 109:switch(r.length){case 1:case 2:d=s.m,c=r.length;break;case 3:return F1[s.m-1][1];case 5:return F1[s.m-1][0];default:return F1[s.m-1][2]}break;case 100:switch(r.length){case 1:case 2:d=s.d,c=r.length;break;case 3:return kT[s.q][0];default:return kT[s.q][1]}break;case 104:switch(r.length){case 1:case 2:d=1+(s.H+11)%12,c=r.length;break;default:throw"bad hour format: "+r}break;case 72:switch(r.length){case 1:case 2:d=s.H,c=r.length;break;default:throw"bad hour format: "+r}break;case 77:switch(r.length){case 1:case 2:d=s.M,c=r.length;break;default:throw"bad minute format: "+r}break;case 115:if(r!="s"&&r!="ss"&&r!=".0"&&r!=".00"&&r!=".000")throw"bad second format: "+r;return s.u===0&&(r=="s"||r=="ss")?Ci(s.S,r.length):(a>=2?l=a===3?1e3:100:l=a===1?10:1,i=Math.round(l*(s.S+s.u)),i>=60*l&&(i=0),r==="s"?i===0?"0":""+i/l:(n=Ci(i,2+a),r==="ss"?n.substr(0,2):"."+n.substr(2,r.length-1)));case 90:switch(r){case"[h]":case"[hh]":d=s.D*24+s.H;break;case"[m]":case"[mm]":d=(s.D*24+s.H)*60+s.M;break;case"[s]":case"[ss]":d=((s.D*24+s.H)*60+s.M)*60+Math.round(s.S+s.u);break;default:throw"bad abstime format: "+r}c=r.length===3?1:2;break;case 101:d=o,c=1;break}var u=c>0?Ci(d,c):"";return u}function _o(e){var r=3;if(e.length<=r)return e;for(var s=e.length%r,a=e.substr(0,s);s!=e.length;s+=r)a+=(a.length>0?",":"")+e.substr(s,r);return a}var CB=/%/g;function l1e(e,r,s){var a=r.replace(CB,""),n=r.length-a.length;return Tl(e,a,s*Math.pow(10,2*n))+ns("%",n)}function o1e(e,r,s){for(var a=r.length-1;r.charCodeAt(a-1)===44;)--a;return Tl(e,r.substr(0,a),s/Math.pow(10,3*(r.length-a)))}function PB(e,r){var s,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+PB(e,-r);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(r)*Math.LOG10E)%n;if(i<0&&(i+=n),s=(r/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),s.indexOf("e")===-1){var l=Math.floor(Math.log(r)*Math.LOG10E);for(s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(l-s.length+i):s+="E+"+(l-i);s.substr(0,2)==="0.";)s=s.charAt(0)+s.substr(2,n)+"."+s.substr(2+n),s=s.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,d,c,u){return d+c+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else s=r.toExponential(a);return e.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),e.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}var AB=/# (\?+)( ?)\/( ?)(\d+)/;function c1e(e,r,s){var a=parseInt(e[4],10),n=Math.round(r*a),i=Math.floor(n/a),l=n-i*a,o=a;return s+(i===0?"":""+i)+" "+(l===0?ns(" ",e[1].length+1+e[4].length):P6(l,e[1].length)+e[2]+"/"+e[3]+Ci(o,e[4].length))}function d1e(e,r,s){return s+(r===0?"":""+r)+ns(" ",e[1].length+2+e[4].length)}var TB=/^#*0*\.([0#]+)/,EB=/\).*[0#]/,IB=/\(###\) ###\\?-####/;function Ta(e){for(var r="",s,a=0;a!=e.length;++a)switch(s=e.charCodeAt(a)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(s)}return r}function PT(e,r){var s=Math.pow(10,r);return""+Math.round(e*s)/s}function AT(e,r){var s=e-Math.floor(e),a=Math.pow(10,r);return r<(""+Math.round(s*a)).length?0:Math.round(s*a)}function u1e(e,r){return r<(""+Math.round((e-Math.floor(e))*Math.pow(10,r))).length?1:0}function m1e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Un(e,r,s){if(e.charCodeAt(0)===40&&!r.match(EB)){var a=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?Un("n",a,s):"("+Un("n",a,-s)+")"}if(r.charCodeAt(r.length-1)===44)return o1e(e,r,s);if(r.indexOf("%")!==-1)return l1e(e,r,s);if(r.indexOf("E")!==-1)return PB(r,s);if(r.charCodeAt(0)===36)return"$"+Un(e,r.substr(r.charAt(1)==" "?2:1),s);var n,i,l,o,d=Math.abs(s),c=s<0?"-":"";if(r.match(/^00+$/))return c+Yd(d,r.length);if(r.match(/^[#?]+$/))return n=Yd(s,0),n==="0"&&(n=""),n.length>r.length?n:Ta(r.substr(0,r.length-n.length))+n;if(i=r.match(AB))return c1e(i,d,c);if(r.match(/^#+0+$/))return c+Yd(d,r.length-r.indexOf("0"));if(i=r.match(TB))return n=PT(s,i[1].length).replace(/^([^\.]+)$/,"$1."+Ta(i[1])).replace(/\.$/,"."+Ta(i[1])).replace(/\.(\d*)$/,function(p,f){return"."+f+ns("0",Ta(i[1]).length-f.length)}),r.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),i=r.match(/^(0*)\.(#*)$/))return c+PT(d,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=r.match(/^#{1,3},##0(\.?)$/))return c+_o(Yd(d,0));if(i=r.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+Un(e,r,-s):_o(""+(Math.floor(s)+u1e(s,i[1].length)))+"."+Ci(AT(s,i[1].length),i[1].length);if(i=r.match(/^#,#*,#0/))return Un(e,r.replace(/^#,#*,/,""),s);if(i=r.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Mu(Un(e,r.replace(/[\\-]/g,""),s)),l=0,Mu(Mu(r.replace(/\\/g,"")).replace(/[0#]/g,function(p){return l<n.length?n.charAt(l++):p==="0"?"0":""}));if(r.match(IB))return n=Un(e,"##########",s),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=Gg(d,Math.pow(10,l)-1,!1),n=""+c,u=Tl("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=Vg(o[2],l),u.length<i[4].length&&(u=Ta(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=Gg(d,Math.pow(10,l)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?P6(o[1],l)+i[2]+"/"+i[3]+Vg(o[2],l):ns(" ",2*l+1+i[2].length+i[3].length));if(i=r.match(/^[#0?]+$/))return n=Yd(s,0),r.length<=n.length?n:Ta(r.substr(0,r.length-n.length))+n;if(i=r.match(/^([#0?]+)\.([#0]+)$/)){n=""+s.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var m=r.indexOf(".")-l,x=r.length-n.length-m;return Ta(r.substr(0,m)+n+r.substr(r.length-x))}if(i=r.match(/^00,000\.([#0]*0)$/))return l=AT(s,i[1].length),s<0?"-"+Un(e,r,-s):_o(m1e(s)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Ci(0,3-p.length):"")+p})+"."+Ci(l,i[1].length);switch(r){case"###,##0.00":return Un(e,"#,##0.00",s);case"###,###":case"##,###":case"#,###":var h=_o(Yd(d,0));return h!=="0"?c+h:"";case"###,###.00":return Un(e,"###,##0.00",s).replace(/^0\./,".");case"#,###.00":return Un(e,"#,##0.00",s).replace(/^0\./,".")}throw new Error("unsupported format |"+r+"|")}function h1e(e,r,s){for(var a=r.length-1;r.charCodeAt(a-1)===44;)--a;return Tl(e,r.substr(0,a),s/Math.pow(10,3*(r.length-a)))}function x1e(e,r,s){var a=r.replace(CB,""),n=r.length-a.length;return Tl(e,a,s*Math.pow(10,2*n))+ns("%",n)}function _B(e,r){var s,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+_B(e,-r);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(r)*Math.LOG10E)%n;if(i<0&&(i+=n),s=(r/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),!s.match(/[Ee]/)){var l=Math.floor(Math.log(r)*Math.LOG10E);s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(l-s.length+i):s+="E+"+(l-i),s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,d,c,u){return d+c+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else s=r.toExponential(a);return e.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),e.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}function Ri(e,r,s){if(e.charCodeAt(0)===40&&!r.match(EB)){var a=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?Ri("n",a,s):"("+Ri("n",a,-s)+")"}if(r.charCodeAt(r.length-1)===44)return h1e(e,r,s);if(r.indexOf("%")!==-1)return x1e(e,r,s);if(r.indexOf("E")!==-1)return _B(r,s);if(r.charCodeAt(0)===36)return"$"+Ri(e,r.substr(r.charAt(1)==" "?2:1),s);var n,i,l,o,d=Math.abs(s),c=s<0?"-":"";if(r.match(/^00+$/))return c+Ci(d,r.length);if(r.match(/^[#?]+$/))return n=""+s,s===0&&(n=""),n.length>r.length?n:Ta(r.substr(0,r.length-n.length))+n;if(i=r.match(AB))return d1e(i,d,c);if(r.match(/^#+0+$/))return c+Ci(d,r.length-r.indexOf("0"));if(i=r.match(TB))return n=(""+s).replace(/^([^\.]+)$/,"$1."+Ta(i[1])).replace(/\.$/,"."+Ta(i[1])),n=n.replace(/\.(\d*)$/,function(p,f){return"."+f+ns("0",Ta(i[1]).length-f.length)}),r.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),i=r.match(/^(0*)\.(#*)$/))return c+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=r.match(/^#{1,3},##0(\.?)$/))return c+_o(""+d);if(i=r.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+Ri(e,r,-s):_o(""+s)+"."+ns("0",i[1].length);if(i=r.match(/^#,#*,#0/))return Ri(e,r.replace(/^#,#*,/,""),s);if(i=r.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Mu(Ri(e,r.replace(/[\\-]/g,""),s)),l=0,Mu(Mu(r.replace(/\\/g,"")).replace(/[0#]/g,function(p){return l<n.length?n.charAt(l++):p==="0"?"0":""}));if(r.match(IB))return n=Ri(e,"##########",s),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=Gg(d,Math.pow(10,l)-1,!1),n=""+c,u=Tl("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=Vg(o[2],l),u.length<i[4].length&&(u=Ta(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=Gg(d,Math.pow(10,l)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?P6(o[1],l)+i[2]+"/"+i[3]+Vg(o[2],l):ns(" ",2*l+1+i[2].length+i[3].length));if(i=r.match(/^[#0?]+$/))return n=""+s,r.length<=n.length?n:Ta(r.substr(0,r.length-n.length))+n;if(i=r.match(/^([#0]+)\.([#0]+)$/)){n=""+s.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var m=r.indexOf(".")-l,x=r.length-n.length-m;return Ta(r.substr(0,m)+n+r.substr(r.length-x))}if(i=r.match(/^00,000\.([#0]*0)$/))return s<0?"-"+Ri(e,r,-s):_o(""+s).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Ci(0,3-p.length):"")+p})+"."+Ci(0,i[1].length);switch(r){case"###,###":case"##,###":case"#,###":var h=_o(""+d);return h!=="0"?c+h:"";default:if(r.match(/\.[0#?]*$/))return Ri(e,r.slice(0,r.lastIndexOf(".")),s)+Ta(r.slice(r.lastIndexOf(".")))}throw new Error("unsupported format |"+r+"|")}function Tl(e,r,s){return(s|0)===s?Ri(e,r,s):Un(e,r,s)}function p1e(e){for(var r=[],s=!1,a=0,n=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:s=!s;break;case 95:case 42:case 92:++a;break;case 59:r[r.length]=e.substr(n,a-n),n=a+1}if(r[r.length]=e.substr(n),s===!0)throw new Error("Format |"+e+"| unterminated string ");return r}var OB=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function DB(e){for(var r=0,s="",a="";r<e.length;)switch(s=e.charAt(r)){case"G":Wg(e,r)&&(r+=6),r++;break;case'"':for(;e.charCodeAt(++r)!==34&&r<e.length;);++r;break;case"\\":r+=2;break;case"_":r+=2;break;case"@":++r;break;case"B":case"b":if(e.charAt(r+1)==="1"||e.charAt(r+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(r,3).toUpperCase()==="A/P"||e.substr(r,5).toUpperCase()==="AM/PM"||e.substr(r,5).toUpperCase()==="/")return!0;++r;break;case"[":for(a=s;e.charAt(r++)!=="]"&&r<e.length;)a+=e.charAt(r);if(a.match(OB))return!0;break;case".":case"0":case"#":for(;r<e.length&&("0#?.,E+-%".indexOf(s=e.charAt(++r))>-1||s=="\\"&&e.charAt(r+1)=="-"&&"0#".indexOf(e.charAt(r+2))>-1););break;case"?":for(;e.charAt(++r)===s;);break;case"*":++r,(e.charAt(r)==" "||e.charAt(r)=="*")&&++r;break;case"(":case")":++r;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;r<e.length&&"0123456789".indexOf(e.charAt(++r))>-1;);break;case" ":++r;break;default:++r;break}return!1}function f1e(e,r,s,a){for(var n=[],i="",l=0,o="",d="t",c,u,m,x="H";l<e.length;)switch(o=e.charAt(l)){case"G":if(!Wg(e,l))throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(m=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(m);n[n.length]={t:"t",v:i},++l;break;case"\\":var h=e.charAt(++l),p=h==="("||h===")"?h:"t";n[n.length]={t:p,v:h},++l;break;case"_":n[n.length]={t:"t",v:" "},l+=2;break;case"@":n[n.length]={t:"T",v:r},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(c==null&&(c=wp(r,s,e.charAt(l+1)==="2"),c==null))return"";n[n.length]={t:"X",v:e.substr(l,2)},d=o,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(r<0||c==null&&(c=wp(r,s),c==null))return"";for(i=o;++l<e.length&&e.charAt(l).toLowerCase()===o;)i+=o;o==="m"&&d.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=x),n[n.length]={t:o,v:i},d=o;break;case"A":case"a":case"":var f={t:o,v:o};if(c==null&&(c=wp(r,s)),e.substr(l,3).toUpperCase()==="A/P"?(c!=null&&(f.v=c.H>=12?"P":"A"),f.t="T",x="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(c!=null&&(f.v=c.H>=12?"PM":"AM"),f.t="T",l+=5,x="h"):e.substr(l,5).toUpperCase()==="/"?(c!=null&&(f.v=c.H>=12?"":""),f.t="T",l+=5,x="h"):(f.t="t",++l),c==null&&f.t==="T")return"";n[n.length]=f,d=o;break;case"[":for(i=o;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(OB)){if(c==null&&(c=wp(r,s),c==null))return"";n[n.length]={t:"Z",v:i.toLowerCase()},d=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",DB(e)||(n[n.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++l<e.length&&(o=e.charAt(l))==="0";)i+=o;n[n.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++l<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(l))>-1;)i+=o;n[n.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++l)===o;)i+=o;n[n.length]={t:o,v:i},d=o;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":n[n.length]={t:a===1?"t":o,v:o},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);n[n.length]={t:"D",v:i};break;case" ":n[n.length]={t:o,v:o},++l;break;case"$":n[n.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"t",v:o},++l;break}var b=0,j=0,w;for(l=n.length-1,d="t";l>=0;--l)switch(n[l].t){case"h":case"H":n[l].t=x,d="h",b<1&&(b=1);break;case"s":(w=n[l].v.match(/\.0+$/))&&(j=Math.max(j,w[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":d=n[l].t;break;case"m":d==="s"&&(n[l].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&n[l].v.match(/[Hh]/)&&(b=1),b<2&&n[l].v.match(/[Mm]/)&&(b=2),b<3&&n[l].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var y="",v;for(l=0;l<n.length;++l)switch(n[l].t){case"t":case"T":case" ":case"D":break;case"X":n[l].v="",n[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[l].v=i1e(n[l].t.charCodeAt(0),n[l].v,c,j),n[l].t="t";break;case"n":case"?":for(v=l+1;n[v]!=null&&((o=n[v].t)==="?"||o==="D"||(o===" "||o==="t")&&n[v+1]!=null&&(n[v+1].t==="?"||n[v+1].t==="t"&&n[v+1].v==="/")||n[l].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(n[v].v==="/"||n[v].v===" "&&n[v+1]!=null&&n[v+1].t=="?"));)n[l].v+=n[v].v,n[v]={v:"",t:";"},++v;y+=n[l].v,l=v-1;break;case"G":n[l].t="t",n[l].v=bw(r,s);break}var N="",S,k;if(y.length>0){y.charCodeAt(0)==40?(S=r<0&&y.charCodeAt(0)===45?-r:r,k=Tl("n",y,S)):(S=r<0&&a>1?-r:r,k=Tl("n",y,S),S<0&&n[0]&&n[0].t=="t"&&(k=k.substr(1),n[0].v="-"+n[0].v)),v=k.length-1;var P=n.length;for(l=0;l<n.length;++l)if(n[l]!=null&&n[l].t!="t"&&n[l].v.indexOf(".")>-1){P=l;break}var C=n.length;if(P===n.length&&k.indexOf("E")===-1){for(l=n.length-1;l>=0;--l)n[l]==null||"n?".indexOf(n[l].t)===-1||(v>=n[l].v.length-1?(v-=n[l].v.length,n[l].v=k.substr(v+1,n[l].v.length)):v<0?n[l].v="":(n[l].v=k.substr(0,v+1),v=-1),n[l].t="t",C=l);v>=0&&C<n.length&&(n[C].v=k.substr(0,v+1)+n[C].v)}else if(P!==n.length&&k.indexOf("E")===-1){for(v=k.indexOf(".")-1,l=P;l>=0;--l)if(!(n[l]==null||"n?".indexOf(n[l].t)===-1)){for(u=n[l].v.indexOf(".")>-1&&l===P?n[l].v.indexOf(".")-1:n[l].v.length-1,N=n[l].v.substr(u+1);u>=0;--u)v>=0&&(n[l].v.charAt(u)==="0"||n[l].v.charAt(u)==="#")&&(N=k.charAt(v--)+N);n[l].v=N,n[l].t="t",C=l}for(v>=0&&C<n.length&&(n[C].v=k.substr(0,v+1)+n[C].v),v=k.indexOf(".")+1,l=P;l<n.length;++l)if(!(n[l]==null||"n?(".indexOf(n[l].t)===-1&&l!==P)){for(u=n[l].v.indexOf(".")>-1&&l===P?n[l].v.indexOf(".")+1:0,N=n[l].v.substr(0,u);u<n[l].v.length;++u)v<k.length&&(N+=k.charAt(v++));n[l].v=N,n[l].t="t",C=l}}}for(l=0;l<n.length;++l)n[l]!=null&&"n?".indexOf(n[l].t)>-1&&(S=a>1&&r<0&&l>0&&n[l-1].v==="-"?-r:r,n[l].v=Tl(n[l].t,n[l].v,S),n[l].t="t");var I="";for(l=0;l!==n.length;++l)n[l]!=null&&(I+=n[l].v);return I}var TT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function ET(e,r){if(r==null)return!1;var s=parseFloat(r[2]);switch(r[1]){case"=":if(e==s)return!0;break;case">":if(e>s)return!0;break;case"<":if(e<s)return!0;break;case"<>":if(e!=s)return!0;break;case">=":if(e>=s)return!0;break;case"<=":if(e<=s)return!0;break}return!1}function g1e(e,r){var s=p1e(e),a=s.length,n=s[a-1].indexOf("@");if(a<4&&n>-1&&--a,s.length>4)throw new Error("cannot find right format for |"+s.join("|")+"|");if(typeof r!="number")return[4,s.length===4||n>-1?s[s.length-1]:"@"];switch(s.length){case 1:s=n>-1?["General","General","General",s[0]]:[s[0],s[0],s[0],"@"];break;case 2:s=n>-1?[s[0],s[0],s[0],s[1]]:[s[0],s[1],s[0],"@"];break;case 3:s=n>-1?[s[0],s[1],s[0],s[2]]:[s[0],s[1],s[2],"@"];break}var i=r>0?s[0]:r<0?s[1]:s[2];if(s[0].indexOf("[")===-1&&s[1].indexOf("[")===-1)return[a,i];if(s[0].match(/\[[=<>]/)!=null||s[1].match(/\[[=<>]/)!=null){var l=s[0].match(TT),o=s[1].match(TT);return ET(r,l)?[a,s[0]]:ET(r,o)?[a,s[1]]:[a,s[l!=null&&o!=null?2:1]]}return[a,i]}function ac(e,r,s){s==null&&(s={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&s.dateNF?a=s.dateNF:a=e;break;case"number":e==14&&s.dateNF?a=s.dateNF:a=(s.table!=null?s.table:ls)[e],a==null&&(a=s.table&&s.table[CT[e]]||ls[CT[e]]),a==null&&(a=Qve[e]||"General");break}if(Wg(a,0))return bw(r,s);r instanceof Date&&(r=kB(r,s.date1904));var n=g1e(a,r);if(Wg(n[1]))return bw(r,s);if(r===!0)r="TRUE";else if(r===!1)r="FALSE";else if(r===""||r==null)return"";return f1e(n[1],r,s,n[0])}function MB(e,r){if(typeof r!="number"){r=+r||-1;for(var s=0;s<392;++s){if(ls[s]==null){r<0&&(r=s);continue}if(ls[s]==e){r=s;break}}r<0&&(r=391)}return ls[r]=e,r}function Yb(e){for(var r=0;r!=392;++r)e[r]!==void 0&&MB(e[r],r)}function Xb(){ls=Jve()}var LB=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function y1e(e){var r=typeof e=="number"?ls[e]:e;return r=r.replace(LB,"(\\d+)"),new RegExp("^"+r+"$")}function b1e(e,r,s){var a=-1,n=-1,i=-1,l=-1,o=-1,d=-1;(r.match(LB)||[]).forEach(function(m,x){var h=parseInt(s[x+1],10);switch(m.toLowerCase().charAt(0)){case"y":a=h;break;case"d":i=h;break;case"h":l=h;break;case"s":d=h;break;case"m":l>=0?o=h:n=h;break}}),d>=0&&o==-1&&n>=0&&(o=n,n=-1);var c=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return l==-1&&o==-1&&d==-1?c:a==-1&&n==-1&&i==-1?u:c+"T"+u}var v1e=function(){var e={};e.version="1.2.0";function r(){for(var k=0,P=new Array(256),C=0;C!=256;++C)k=C,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,P[C]=k;return typeof Int32Array<"u"?new Int32Array(P):P}var s=r();function a(k){var P=0,C=0,I=0,A=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)A[I]=k[I];for(I=0;I!=256;++I)for(C=k[I],P=256+I;P<4096;P+=256)C=A[P]=C>>>8^k[C&255];var O=[];for(I=1;I!=16;++I)O[I-1]=typeof Int32Array<"u"?A.subarray(I*256,I*256+256):A.slice(I*256,I*256+256);return O}var n=a(s),i=n[0],l=n[1],o=n[2],d=n[3],c=n[4],u=n[5],m=n[6],x=n[7],h=n[8],p=n[9],f=n[10],b=n[11],j=n[12],w=n[13],y=n[14];function v(k,P){for(var C=P^-1,I=0,A=k.length;I<A;)C=C>>>8^s[(C^k.charCodeAt(I++))&255];return~C}function N(k,P){for(var C=P^-1,I=k.length-15,A=0;A<I;)C=y[k[A++]^C&255]^w[k[A++]^C>>8&255]^j[k[A++]^C>>16&255]^b[k[A++]^C>>>24]^f[k[A++]]^p[k[A++]]^h[k[A++]]^x[k[A++]]^m[k[A++]]^u[k[A++]]^c[k[A++]]^d[k[A++]]^o[k[A++]]^l[k[A++]]^i[k[A++]]^s[k[A++]];for(I+=15;A<I;)C=C>>>8^s[(C^k[A++])&255];return~C}function S(k,P){for(var C=P^-1,I=0,A=k.length,O=0,R=0;I<A;)O=k.charCodeAt(I++),O<128?C=C>>>8^s[(C^O)&255]:O<2048?(C=C>>>8^s[(C^(192|O>>6&31))&255],C=C>>>8^s[(C^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,R=k.charCodeAt(I++)&1023,C=C>>>8^s[(C^(240|O>>8&7))&255],C=C>>>8^s[(C^(128|O>>2&63))&255],C=C>>>8^s[(C^(128|R>>6&15|(O&3)<<4))&255],C=C>>>8^s[(C^(128|R&63))&255]):(C=C>>>8^s[(C^(224|O>>12&15))&255],C=C>>>8^s[(C^(128|O>>6&63))&255],C=C>>>8^s[(C^(128|O&63))&255]);return~C}return e.table=s,e.bstr=v,e.buf=N,e.str=S,e}(),yr=function(){var r={};r.version="1.2.1";function s(H,ne){for(var Q=H.split("/"),re=ne.split("/"),le=0,oe=0,Pe=Math.min(Q.length,re.length);le<Pe;++le){if(oe=Q[le].length-re[le].length)return oe;if(Q[le]!=re[le])return Q[le]<re[le]?-1:1}return Q.length-re.length}function a(H){if(H.charAt(H.length-1)=="/")return H.slice(0,-1).indexOf("/")===-1?H:a(H.slice(0,-1));var ne=H.lastIndexOf("/");return ne===-1?H:H.slice(0,ne+1)}function n(H){if(H.charAt(H.length-1)=="/")return n(H.slice(0,-1));var ne=H.lastIndexOf("/");return ne===-1?H:H.slice(ne+1)}function i(H,ne){typeof ne=="string"&&(ne=new Date(ne));var Q=ne.getHours();Q=Q<<6|ne.getMinutes(),Q=Q<<5|ne.getSeconds()>>>1,H.write_shift(2,Q);var re=ne.getFullYear()-1980;re=re<<4|ne.getMonth()+1,re=re<<5|ne.getDate(),H.write_shift(2,re)}function l(H){var ne=H.read_shift(2)&65535,Q=H.read_shift(2)&65535,re=new Date,le=Q&31;Q>>>=5;var oe=Q&15;Q>>>=4,re.setMilliseconds(0),re.setFullYear(Q+1980),re.setMonth(oe-1),re.setDate(le);var Pe=ne&31;ne>>>=5;var He=ne&63;return ne>>>=6,re.setHours(ne),re.setMinutes(He),re.setSeconds(Pe<<1),re}function o(H){xn(H,0);for(var ne={},Q=0;H.l<=H.length-4;){var re=H.read_shift(2),le=H.read_shift(2),oe=H.l+le,Pe={};switch(re){case 21589:Q=H.read_shift(1),Q&1&&(Pe.mtime=H.read_shift(4)),le>5&&(Q&2&&(Pe.atime=H.read_shift(4)),Q&4&&(Pe.ctime=H.read_shift(4))),Pe.mtime&&(Pe.mt=new Date(Pe.mtime*1e3));break}H.l=oe,ne[re]=Pe}return ne}var d;function c(){return d||(d={})}function u(H,ne){if(H[0]==80&&H[1]==75)return U(H,ne);if((H[0]|32)==109&&(H[1]|32)==105)return ut(H,ne);if(H.length<512)throw new Error("CFB file size "+H.length+" < 512");var Q=3,re=512,le=0,oe=0,Pe=0,He=0,Ae=0,Ee=[],_e=H.slice(0,512);xn(_e,0);var Ze=m(_e);switch(Q=Ze[0],Q){case 3:re=512;break;case 4:re=4096;break;case 0:if(Ze[1]==0)return U(H,ne);default:throw new Error("Major Version: Expected 3 or 4 saw "+Q)}re!==512&&(_e=H.slice(0,re),xn(_e,28));var ot=H.slice(0,re);x(_e,Q);var yt=_e.read_shift(4,"i");if(Q===3&&yt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+yt);_e.l+=4,Pe=_e.read_shift(4,"i"),_e.l+=4,_e.chk("00100000","Mini Stream Cutoff Size: "),He=_e.read_shift(4,"i"),le=_e.read_shift(4,"i"),Ae=_e.read_shift(4,"i"),oe=_e.read_shift(4,"i");for(var st=-1,at=0;at<109&&(st=_e.read_shift(4,"i"),!(st<0));++at)Ee[at]=st;var Mt=h(H,re);b(Ae,oe,Mt,re,Ee);var X=w(Mt,Pe,Ee,re);X[Pe].name="!Directory",le>0&&He!==R&&(X[He].name="!MiniFAT"),X[Ee[0]].name="!FAT",X.fat_addrs=Ee,X.ssz=re;var Ct={},Xe=[],$e=[],it=[];y(Pe,X,Mt,Xe,le,Ct,$e,He),p($e,it,Xe),Xe.shift();var gt={FileIndex:$e,FullPaths:it};return ne&&ne.raw&&(gt.raw={header:ot,sectors:Mt}),gt}function m(H){if(H[H.l]==80&&H[H.l+1]==75)return[0,0];H.chk(Z,"Header Signature: "),H.l+=16;var ne=H.read_shift(2,"u");return[H.read_shift(2,"u"),ne]}function x(H,ne){var Q=9;switch(H.l+=2,Q=H.read_shift(2)){case 9:if(ne!=3)throw new Error("Sector Shift: Expected 9 saw "+Q);break;case 12:if(ne!=4)throw new Error("Sector Shift: Expected 12 saw "+Q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Q)}H.chk("0600","Mini Sector Shift: "),H.chk("000000000000","Reserved: ")}function h(H,ne){for(var Q=Math.ceil(H.length/ne)-1,re=[],le=1;le<Q;++le)re[le-1]=H.slice(le*ne,(le+1)*ne);return re[Q-1]=H.slice(Q*ne),re}function p(H,ne,Q){for(var re=0,le=0,oe=0,Pe=0,He=0,Ae=Q.length,Ee=[],_e=[];re<Ae;++re)Ee[re]=_e[re]=re,ne[re]=Q[re];for(;He<_e.length;++He)re=_e[He],le=H[re].L,oe=H[re].R,Pe=H[re].C,Ee[re]===re&&(le!==-1&&Ee[le]!==le&&(Ee[re]=Ee[le]),oe!==-1&&Ee[oe]!==oe&&(Ee[re]=Ee[oe])),Pe!==-1&&(Ee[Pe]=re),le!==-1&&re!=Ee[re]&&(Ee[le]=Ee[re],_e.lastIndexOf(le)<He&&_e.push(le)),oe!==-1&&re!=Ee[re]&&(Ee[oe]=Ee[re],_e.lastIndexOf(oe)<He&&_e.push(oe));for(re=1;re<Ae;++re)Ee[re]===re&&(oe!==-1&&Ee[oe]!==oe?Ee[re]=Ee[oe]:le!==-1&&Ee[le]!==le&&(Ee[re]=Ee[le]));for(re=1;re<Ae;++re)if(H[re].type!==0){if(He=re,He!=Ee[He])do He=Ee[He],ne[re]=ne[He]+"/"+ne[re];while(He!==0&&Ee[He]!==-1&&He!=Ee[He]);Ee[re]=-1}for(ne[0]+="/",re=1;re<Ae;++re)H[re].type!==2&&(ne[re]+="/")}function f(H,ne,Q){for(var re=H.start,le=H.size,oe=[],Pe=re;Q&&le>0&&Pe>=0;)oe.push(ne.slice(Pe*O,Pe*O+O)),le-=O,Pe=Tc(Q,Pe*4);return oe.length===0?ze(0):ra(oe).slice(0,H.size)}function b(H,ne,Q,re,le){var oe=R;if(H===R){if(ne!==0)throw new Error("DIFAT chain shorter than expected")}else if(H!==-1){var Pe=Q[H],He=(re>>>2)-1;if(!Pe)return;for(var Ae=0;Ae<He&&(oe=Tc(Pe,Ae*4))!==R;++Ae)le.push(oe);b(Tc(Pe,re-4),ne-1,Q,re,le)}}function j(H,ne,Q,re,le){var oe=[],Pe=[];le||(le=[]);var He=re-1,Ae=0,Ee=0;for(Ae=ne;Ae>=0;){le[Ae]=!0,oe[oe.length]=Ae,Pe.push(H[Ae]);var _e=Q[Math.floor(Ae*4/re)];if(Ee=Ae*4&He,re<4+Ee)throw new Error("FAT boundary crossed: "+Ae+" 4 "+re);if(!H[_e])break;Ae=Tc(H[_e],Ee)}return{nodes:oe,data:RT([Pe])}}function w(H,ne,Q,re){var le=H.length,oe=[],Pe=[],He=[],Ae=[],Ee=re-1,_e=0,Ze=0,ot=0,yt=0;for(_e=0;_e<le;++_e)if(He=[],ot=_e+ne,ot>=le&&(ot-=le),!Pe[ot]){Ae=[];var st=[];for(Ze=ot;Ze>=0;){st[Ze]=!0,Pe[Ze]=!0,He[He.length]=Ze,Ae.push(H[Ze]);var at=Q[Math.floor(Ze*4/re)];if(yt=Ze*4&Ee,re<4+yt)throw new Error("FAT boundary crossed: "+Ze+" 4 "+re);if(!H[at]||(Ze=Tc(H[at],yt),st[Ze]))break}oe[ot]={nodes:He,data:RT([Ae])}}return oe}function y(H,ne,Q,re,le,oe,Pe,He){for(var Ae=0,Ee=re.length?2:0,_e=ne[H].data,Ze=0,ot=0,yt;Ze<_e.length;Ze+=128){var st=_e.slice(Ze,Ze+128);xn(st,64),ot=st.read_shift(2),yt=O6(st,0,ot-Ee),re.push(yt);var at={name:yt,type:st.read_shift(1),color:st.read_shift(1),L:st.read_shift(4,"i"),R:st.read_shift(4,"i"),C:st.read_shift(4,"i"),clsid:st.read_shift(16),state:st.read_shift(4,"i"),start:0,size:0},Mt=st.read_shift(2)+st.read_shift(2)+st.read_shift(2)+st.read_shift(2);Mt!==0&&(at.ct=v(st,st.l-8));var X=st.read_shift(2)+st.read_shift(2)+st.read_shift(2)+st.read_shift(2);X!==0&&(at.mt=v(st,st.l-8)),at.start=st.read_shift(4,"i"),at.size=st.read_shift(4,"i"),at.size<0&&at.start<0&&(at.size=at.type=0,at.start=R,at.name=""),at.type===5?(Ae=at.start,le>0&&Ae!==R&&(ne[Ae].name="!StreamData")):at.size>=4096?(at.storage="fat",ne[at.start]===void 0&&(ne[at.start]=j(Q,at.start,ne.fat_addrs,ne.ssz)),ne[at.start].name=at.name,at.content=ne[at.start].data.slice(0,at.size)):(at.storage="minifat",at.size<0?at.size=0:Ae!==R&&at.start!==R&&ne[Ae]&&(at.content=f(at,ne[Ae].data,(ne[He]||{}).data))),at.content&&xn(at.content,0),oe[yt]=at,Pe.push(at)}}function v(H,ne){return new Date((fn(H,ne+4)/1e7*Math.pow(2,32)+fn(H,ne)/1e7-11644473600)*1e3)}function N(H,ne){return c(),u(d.readFileSync(H),ne)}function S(H,ne){var Q=ne&&ne.type;switch(Q||cr&&Buffer.isBuffer(H)&&(Q="buffer"),Q||"base64"){case"file":return N(H,ne);case"base64":return u(Si(Kl(H)),ne);case"binary":return u(Si(H),ne)}return u(H,ne)}function k(H,ne){var Q=ne||{},re=Q.root||"Root Entry";if(H.FullPaths||(H.FullPaths=[]),H.FileIndex||(H.FileIndex=[]),H.FullPaths.length!==H.FileIndex.length)throw new Error("inconsistent CFB structure");H.FullPaths.length===0&&(H.FullPaths[0]=re+"/",H.FileIndex[0]={name:re,type:5}),Q.CLSID&&(H.FileIndex[0].clsid=Q.CLSID),P(H)}function P(H){var ne="Sh33tJ5";if(!yr.find(H,"/"+ne)){var Q=ze(4);Q[0]=55,Q[1]=Q[3]=50,Q[2]=54,H.FileIndex.push({name:ne,type:2,content:Q,size:4,L:69,R:69,C:69}),H.FullPaths.push(H.FullPaths[0]+ne),C(H)}}function C(H,ne){k(H);for(var Q=!1,re=!1,le=H.FullPaths.length-1;le>=0;--le){var oe=H.FileIndex[le];switch(oe.type){case 0:re?Q=!0:(H.FileIndex.pop(),H.FullPaths.pop());break;case 1:case 2:case 5:re=!0,isNaN(oe.R*oe.L*oe.C)&&(Q=!0),oe.R>-1&&oe.L>-1&&oe.R==oe.L&&(Q=!0);break;default:Q=!0;break}}if(!(!Q&&!ne)){var Pe=new Date(1987,1,19),He=0,Ae=Object.create?Object.create(null):{},Ee=[];for(le=0;le<H.FullPaths.length;++le)Ae[H.FullPaths[le]]=!0,H.FileIndex[le].type!==0&&Ee.push([H.FullPaths[le],H.FileIndex[le]]);for(le=0;le<Ee.length;++le){var _e=a(Ee[le][0]);re=Ae[_e],re||(Ee.push([_e,{name:n(_e).replace("/",""),type:1,clsid:ce,ct:Pe,mt:Pe,content:null}]),Ae[_e]=!0)}for(Ee.sort(function(yt,st){return s(yt[0],st[0])}),H.FullPaths=[],H.FileIndex=[],le=0;le<Ee.length;++le)H.FullPaths[le]=Ee[le][0],H.FileIndex[le]=Ee[le][1];for(le=0;le<Ee.length;++le){var Ze=H.FileIndex[le],ot=H.FullPaths[le];if(Ze.name=n(ot).replace("/",""),Ze.L=Ze.R=Ze.C=-(Ze.color=1),Ze.size=Ze.content?Ze.content.length:0,Ze.start=0,Ze.clsid=Ze.clsid||ce,le===0)Ze.C=Ee.length>1?1:-1,Ze.size=0,Ze.type=5;else if(ot.slice(-1)=="/"){for(He=le+1;He<Ee.length&&a(H.FullPaths[He])!=ot;++He);for(Ze.C=He>=Ee.length?-1:He,He=le+1;He<Ee.length&&a(H.FullPaths[He])!=a(ot);++He);Ze.R=He>=Ee.length?-1:He,Ze.type=1}else a(H.FullPaths[le+1]||"")==a(ot)&&(Ze.R=le+1),Ze.type=2}}}function I(H,ne){var Q=ne||{};if(Q.fileType=="mad")return Vt(H,Q);switch(C(H),Q.fileType){case"zip":return Ve(H,Q)}var re=function(yt){for(var st=0,at=0,Mt=0;Mt<yt.FileIndex.length;++Mt){var X=yt.FileIndex[Mt];if(X.content){var Ct=X.content.length;Ct>0&&(Ct<4096?st+=Ct+63>>6:at+=Ct+511>>9)}}for(var Xe=yt.FullPaths.length+3>>2,$e=st+7>>3,it=st+127>>7,gt=$e+at+Xe+it,On=gt+127>>7,Dn=On<=109?0:Math.ceil((On-109)/127);gt+On+Dn+127>>7>On;)Dn=++On<=109?0:Math.ceil((On-109)/127);var ca=[1,Dn,On,it,Xe,at,st,0];return yt.FileIndex[0].size=st<<6,ca[7]=(yt.FileIndex[0].start=ca[0]+ca[1]+ca[2]+ca[3]+ca[4]+ca[5])+(ca[6]+7>>3),ca}(H),le=ze(re[7]<<9),oe=0,Pe=0;{for(oe=0;oe<8;++oe)le.write_shift(1,Y[oe]);for(oe=0;oe<8;++oe)le.write_shift(2,0);for(le.write_shift(2,62),le.write_shift(2,3),le.write_shift(2,65534),le.write_shift(2,9),le.write_shift(2,6),oe=0;oe<3;++oe)le.write_shift(2,0);for(le.write_shift(4,0),le.write_shift(4,re[2]),le.write_shift(4,re[0]+re[1]+re[2]+re[3]-1),le.write_shift(4,0),le.write_shift(4,4096),le.write_shift(4,re[3]?re[0]+re[1]+re[2]-1:R),le.write_shift(4,re[3]),le.write_shift(-4,re[1]?re[0]-1:R),le.write_shift(4,re[1]),oe=0;oe<109;++oe)le.write_shift(-4,oe<re[2]?re[1]+oe:-1)}if(re[1])for(Pe=0;Pe<re[1];++Pe){for(;oe<236+Pe*127;++oe)le.write_shift(-4,oe<re[2]?re[1]+oe:-1);le.write_shift(-4,Pe===re[1]-1?R:Pe+1)}var He=function(yt){for(Pe+=yt;oe<Pe-1;++oe)le.write_shift(-4,oe+1);yt&&(++oe,le.write_shift(-4,R))};for(Pe=oe=0,Pe+=re[1];oe<Pe;++oe)le.write_shift(-4,D.DIFSECT);for(Pe+=re[2];oe<Pe;++oe)le.write_shift(-4,D.FATSECT);He(re[3]),He(re[4]);for(var Ae=0,Ee=0,_e=H.FileIndex[0];Ae<H.FileIndex.length;++Ae)_e=H.FileIndex[Ae],_e.content&&(Ee=_e.content.length,!(Ee<4096)&&(_e.start=Pe,He(Ee+511>>9)));for(He(re[6]+7>>3);le.l&511;)le.write_shift(-4,D.ENDOFCHAIN);for(Pe=oe=0,Ae=0;Ae<H.FileIndex.length;++Ae)_e=H.FileIndex[Ae],_e.content&&(Ee=_e.content.length,!(!Ee||Ee>=4096)&&(_e.start=Pe,He(Ee+63>>6)));for(;le.l&511;)le.write_shift(-4,D.ENDOFCHAIN);for(oe=0;oe<re[4]<<2;++oe){var Ze=H.FullPaths[oe];if(!Ze||Ze.length===0){for(Ae=0;Ae<17;++Ae)le.write_shift(4,0);for(Ae=0;Ae<3;++Ae)le.write_shift(4,-1);for(Ae=0;Ae<12;++Ae)le.write_shift(4,0);continue}_e=H.FileIndex[oe],oe===0&&(_e.start=_e.size?_e.start-1:R);var ot=oe===0&&Q.root||_e.name;if(Ee=2*(ot.length+1),le.write_shift(64,ot,"utf16le"),le.write_shift(2,Ee),le.write_shift(1,_e.type),le.write_shift(1,_e.color),le.write_shift(-4,_e.L),le.write_shift(-4,_e.R),le.write_shift(-4,_e.C),_e.clsid)le.write_shift(16,_e.clsid,"hex");else for(Ae=0;Ae<4;++Ae)le.write_shift(4,0);le.write_shift(4,_e.state||0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,_e.start),le.write_shift(4,_e.size),le.write_shift(4,0)}for(oe=1;oe<H.FileIndex.length;++oe)if(_e=H.FileIndex[oe],_e.size>=4096)if(le.l=_e.start+1<<9,cr&&Buffer.isBuffer(_e.content))_e.content.copy(le,le.l,0,_e.size),le.l+=_e.size+511&-512;else{for(Ae=0;Ae<_e.size;++Ae)le.write_shift(1,_e.content[Ae]);for(;Ae&511;++Ae)le.write_shift(1,0)}for(oe=1;oe<H.FileIndex.length;++oe)if(_e=H.FileIndex[oe],_e.size>0&&_e.size<4096)if(cr&&Buffer.isBuffer(_e.content))_e.content.copy(le,le.l,0,_e.size),le.l+=_e.size+63&-64;else{for(Ae=0;Ae<_e.size;++Ae)le.write_shift(1,_e.content[Ae]);for(;Ae&63;++Ae)le.write_shift(1,0)}if(cr)le.l=le.length;else for(;le.l<le.length;)le.write_shift(1,0);return le}function A(H,ne){var Q=H.FullPaths.map(function(Ae){return Ae.toUpperCase()}),re=Q.map(function(Ae){var Ee=Ae.split("/");return Ee[Ee.length-(Ae.slice(-1)=="/"?2:1)]}),le=!1;ne.charCodeAt(0)===47?(le=!0,ne=Q[0].slice(0,-1)+ne):le=ne.indexOf("/")!==-1;var oe=ne.toUpperCase(),Pe=le===!0?Q.indexOf(oe):re.indexOf(oe);if(Pe!==-1)return H.FileIndex[Pe];var He=!oe.match(jp);for(oe=oe.replace(Dh,""),He&&(oe=oe.replace(jp,"!")),Pe=0;Pe<Q.length;++Pe)if((He?Q[Pe].replace(jp,"!"):Q[Pe]).replace(Dh,"")==oe||(He?re[Pe].replace(jp,"!"):re[Pe]).replace(Dh,"")==oe)return H.FileIndex[Pe];return null}var O=64,R=-2,Z="d0cf11e0a1b11ae1",Y=[208,207,17,224,161,177,26,225],ce="00000000000000000000000000000000",D={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:R,FREESECT:-1,HEADER_SIGNATURE:Z,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ce,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function z(H,ne,Q){c();var re=I(H,Q);d.writeFileSync(ne,re)}function se(H){for(var ne=new Array(H.length),Q=0;Q<H.length;++Q)ne[Q]=String.fromCharCode(H[Q]);return ne.join("")}function K(H,ne){var Q=I(H,ne);switch(ne&&ne.type||"buffer"){case"file":return c(),d.writeFileSync(ne.filename,Q),Q;case"binary":return typeof Q=="string"?Q:se(Q);case"base64":return T0(typeof Q=="string"?Q:se(Q));case"buffer":if(cr)return Buffer.isBuffer(Q)?Q:lo(Q);case"array":return typeof Q=="string"?Si(Q):Q}return Q}var _;function M(H){try{var ne=H.InflateRaw,Q=new ne;if(Q._processChunk(new Uint8Array([3,0]),Q._finishFlushFlag),Q.bytesRead)_=H;else throw new Error("zlib does not expose bytesRead")}catch(re){console.error("cannot use native zlib: "+(re.message||re))}}function F(H,ne){if(!_)return pt(H,ne);var Q=_.InflateRaw,re=new Q,le=re._processChunk(H.slice(H.l),re._finishFlushFlag);return H.l+=re.bytesRead,le}function B(H){return _?_.deflateRawSync(H):Rt(H)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],V=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function G(H){var ne=(H<<1|H<<11)&139536|(H<<5|H<<15)&558144;return(ne>>16|ne>>8|ne)&255}for(var te=typeof Uint8Array<"u",pe=te?new Uint8Array(256):[],ye=0;ye<256;++ye)pe[ye]=G(ye);function he(H,ne){var Q=pe[H&255];return ne<=8?Q>>>8-ne:(Q=Q<<8|pe[H>>8&255],ne<=16?Q>>>16-ne:(Q=Q<<8|pe[H>>16&255],Q>>>24-ne))}function Qe(H,ne){var Q=ne&7,re=ne>>>3;return(H[re]|(Q<=6?0:H[re+1]<<8))>>>Q&3}function W(H,ne){var Q=ne&7,re=ne>>>3;return(H[re]|(Q<=5?0:H[re+1]<<8))>>>Q&7}function Ie(H,ne){var Q=ne&7,re=ne>>>3;return(H[re]|(Q<=4?0:H[re+1]<<8))>>>Q&15}function Se(H,ne){var Q=ne&7,re=ne>>>3;return(H[re]|(Q<=3?0:H[re+1]<<8))>>>Q&31}function we(H,ne){var Q=ne&7,re=ne>>>3;return(H[re]|(Q<=1?0:H[re+1]<<8))>>>Q&127}function L(H,ne,Q){var re=ne&7,le=ne>>>3,oe=(1<<Q)-1,Pe=H[le]>>>re;return Q<8-re||(Pe|=H[le+1]<<8-re,Q<16-re)||(Pe|=H[le+2]<<16-re,Q<24-re)||(Pe|=H[le+3]<<24-re),Pe&oe}function ue(H,ne,Q){var re=ne&7,le=ne>>>3;return re<=5?H[le]|=(Q&7)<<re:(H[le]|=Q<<re&255,H[le+1]=(Q&7)>>8-re),ne+3}function ee(H,ne,Q){var re=ne&7,le=ne>>>3;return Q=(Q&1)<<re,H[le]|=Q,ne+1}function fe(H,ne,Q){var re=ne&7,le=ne>>>3;return Q<<=re,H[le]|=Q&255,Q>>>=8,H[le+1]=Q,ne+8}function xe(H,ne,Q){var re=ne&7,le=ne>>>3;return Q<<=re,H[le]|=Q&255,Q>>>=8,H[le+1]=Q&255,H[le+2]=Q>>>8,ne+16}function ve(H,ne){var Q=H.length,re=2*Q>ne?2*Q:ne+5,le=0;if(Q>=ne)return H;if(cr){var oe=NT(re);if(H.copy)H.copy(oe);else for(;le<H.length;++le)oe[le]=H[le];return oe}else if(te){var Pe=new Uint8Array(re);if(Pe.set)Pe.set(H);else for(;le<Q;++le)Pe[le]=H[le];return Pe}return H.length=re,H}function Ne(H){for(var ne=new Array(H),Q=0;Q<H;++Q)ne[Q]=0;return ne}function Ke(H,ne,Q){var re=1,le=0,oe=0,Pe=0,He=0,Ae=H.length,Ee=te?new Uint16Array(32):Ne(32);for(oe=0;oe<32;++oe)Ee[oe]=0;for(oe=Ae;oe<Q;++oe)H[oe]=0;Ae=H.length;var _e=te?new Uint16Array(Ae):Ne(Ae);for(oe=0;oe<Ae;++oe)Ee[le=H[oe]]++,re<le&&(re=le),_e[oe]=0;for(Ee[0]=0,oe=1;oe<=re;++oe)Ee[oe+16]=He=He+Ee[oe-1]<<1;for(oe=0;oe<Ae;++oe)He=H[oe],He!=0&&(_e[oe]=Ee[He+16]++);var Ze=0;for(oe=0;oe<Ae;++oe)if(Ze=H[oe],Ze!=0)for(He=he(_e[oe],re)>>re-Ze,Pe=(1<<re+4-Ze)-1;Pe>=0;--Pe)ne[He|Pe<<Ze]=Ze&15|oe<<4;return re}var dt=te?new Uint16Array(512):Ne(512),ke=te?new Uint16Array(32):Ne(32);if(!te){for(var Re=0;Re<512;++Re)dt[Re]=0;for(Re=0;Re<32;++Re)ke[Re]=0}(function(){for(var H=[],ne=0;ne<32;ne++)H.push(5);Ke(H,ke,32);var Q=[];for(ne=0;ne<=143;ne++)Q.push(8);for(;ne<=255;ne++)Q.push(9);for(;ne<=279;ne++)Q.push(7);for(;ne<=287;ne++)Q.push(8);Ke(Q,dt,288)})();var Tt=function(){for(var ne=te?new Uint8Array(32768):[],Q=0,re=0;Q<V.length-1;++Q)for(;re<V[Q+1];++re)ne[re]=Q;for(;re<32768;++re)ne[re]=29;var le=te?new Uint8Array(259):[];for(Q=0,re=0;Q<ae.length-1;++Q)for(;re<ae[Q+1];++re)le[re]=Q;function oe(He,Ae){for(var Ee=0;Ee<He.length;){var _e=Math.min(65535,He.length-Ee),Ze=Ee+_e==He.length;for(Ae.write_shift(1,+Ze),Ae.write_shift(2,_e),Ae.write_shift(2,~_e&65535);_e-- >0;)Ae[Ae.l++]=He[Ee++]}return Ae.l}function Pe(He,Ae){for(var Ee=0,_e=0,Ze=te?new Uint16Array(32768):[];_e<He.length;){var ot=Math.min(65535,He.length-_e);if(ot<10){for(Ee=ue(Ae,Ee,+(_e+ot==He.length)),Ee&7&&(Ee+=8-(Ee&7)),Ae.l=Ee/8|0,Ae.write_shift(2,ot),Ae.write_shift(2,~ot&65535);ot-- >0;)Ae[Ae.l++]=He[_e++];Ee=Ae.l*8;continue}Ee=ue(Ae,Ee,+(_e+ot==He.length)+2);for(var yt=0;ot-- >0;){var st=He[_e];yt=(yt<<5^st)&32767;var at=-1,Mt=0;if((at=Ze[yt])&&(at|=_e&-32768,at>_e&&(at-=32768),at<_e))for(;He[at+Mt]==He[_e+Mt]&&Mt<250;)++Mt;if(Mt>2){st=le[Mt],st<=22?Ee=fe(Ae,Ee,pe[st+1]>>1)-1:(fe(Ae,Ee,3),Ee+=5,fe(Ae,Ee,pe[st-23]>>5),Ee+=3);var X=st<8?0:st-4>>2;X>0&&(xe(Ae,Ee,Mt-ae[st]),Ee+=X),st=ne[_e-at],Ee=fe(Ae,Ee,pe[st]>>3),Ee-=3;var Ct=st<4?0:st-2>>1;Ct>0&&(xe(Ae,Ee,_e-at-V[st]),Ee+=Ct);for(var Xe=0;Xe<Mt;++Xe)Ze[yt]=_e&32767,yt=(yt<<5^He[_e])&32767,++_e;ot-=Mt-1}else st<=143?st=st+48:Ee=ee(Ae,Ee,1),Ee=fe(Ae,Ee,pe[st]),Ze[yt]=_e&32767,++_e}Ee=fe(Ae,Ee,0)-1}return Ae.l=(Ee+7)/8|0,Ae.l}return function(Ae,Ee){return Ae.length<8?oe(Ae,Ee):Pe(Ae,Ee)}}();function Rt(H){var ne=ze(50+Math.floor(H.length*1.1)),Q=Tt(H,ne);return ne.slice(0,Q)}var be=te?new Uint16Array(32768):Ne(32768),T=te?new Uint16Array(32768):Ne(32768),ie=te?new Uint16Array(128):Ne(128),Te=1,qe=1;function At(H,ne){var Q=Se(H,ne)+257;ne+=5;var re=Se(H,ne)+1;ne+=5;var le=Ie(H,ne)+4;ne+=4;for(var oe=0,Pe=te?new Uint8Array(19):Ne(19),He=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ae=1,Ee=te?new Uint8Array(8):Ne(8),_e=te?new Uint8Array(8):Ne(8),Ze=Pe.length,ot=0;ot<le;++ot)Pe[q[ot]]=oe=W(H,ne),Ae<oe&&(Ae=oe),Ee[oe]++,ne+=3;var yt=0;for(Ee[0]=0,ot=1;ot<=Ae;++ot)_e[ot]=yt=yt+Ee[ot-1]<<1;for(ot=0;ot<Ze;++ot)(yt=Pe[ot])!=0&&(He[ot]=_e[yt]++);var st=0;for(ot=0;ot<Ze;++ot)if(st=Pe[ot],st!=0){yt=pe[He[ot]]>>8-st;for(var at=(1<<7-st)-1;at>=0;--at)ie[yt|at<<st]=st&7|ot<<3}var Mt=[];for(Ae=1;Mt.length<Q+re;)switch(yt=ie[we(H,ne)],ne+=yt&7,yt>>>=3){case 16:for(oe=3+Qe(H,ne),ne+=2,yt=Mt[Mt.length-1];oe-- >0;)Mt.push(yt);break;case 17:for(oe=3+W(H,ne),ne+=3;oe-- >0;)Mt.push(0);break;case 18:for(oe=11+we(H,ne),ne+=7;oe-- >0;)Mt.push(0);break;default:Mt.push(yt),Ae<yt&&(Ae=yt);break}var X=Mt.slice(0,Q),Ct=Mt.slice(Q);for(ot=Q;ot<286;++ot)X[ot]=0;for(ot=re;ot<30;++ot)Ct[ot]=0;return Te=Ke(X,be,286),qe=Ke(Ct,T,30),ne}function ft(H,ne){if(H[0]==3&&!(H[1]&3))return[vd(ne),2];for(var Q=0,re=0,le=NT(ne||1<<18),oe=0,Pe=le.length>>>0,He=0,Ae=0;!(re&1);){if(re=W(H,Q),Q+=3,re>>>1)re>>1==1?(He=9,Ae=5):(Q=At(H,Q),He=Te,Ae=qe);else{Q&7&&(Q+=8-(Q&7));var Ee=H[Q>>>3]|H[(Q>>>3)+1]<<8;if(Q+=32,Ee>0)for(!ne&&Pe<oe+Ee&&(le=ve(le,oe+Ee),Pe=le.length);Ee-- >0;)le[oe++]=H[Q>>>3],Q+=8;continue}for(;;){!ne&&Pe<oe+32767&&(le=ve(le,oe+32767),Pe=le.length);var _e=L(H,Q,He),Ze=re>>>1==1?dt[_e]:be[_e];if(Q+=Ze&15,Ze>>>=4,!(Ze>>>8&255))le[oe++]=Ze;else{if(Ze==256)break;Ze-=257;var ot=Ze<8?0:Ze-4>>2;ot>5&&(ot=0);var yt=oe+ae[Ze];ot>0&&(yt+=L(H,Q,ot),Q+=ot),_e=L(H,Q,Ae),Ze=re>>>1==1?ke[_e]:T[_e],Q+=Ze&15,Ze>>>=4;var st=Ze<4?0:Ze-2>>1,at=V[Ze];for(st>0&&(at+=L(H,Q,st),Q+=st),!ne&&Pe<yt&&(le=ve(le,yt+100),Pe=le.length);oe<yt;)le[oe]=le[oe-at],++oe}}}return ne?[le,Q+7>>>3]:[le.slice(0,oe),Q+7>>>3]}function pt(H,ne){var Q=H.slice(H.l||0),re=ft(Q,ne);return H.l+=re[1],re[0]}function ge(H,ne){if(H)typeof console<"u"&&console.error(ne);else throw new Error(ne)}function U(H,ne){var Q=H;xn(Q,0);var re=[],le=[],oe={FileIndex:re,FullPaths:le};k(oe,{root:ne.root});for(var Pe=Q.length-4;(Q[Pe]!=80||Q[Pe+1]!=75||Q[Pe+2]!=5||Q[Pe+3]!=6)&&Pe>=0;)--Pe;Q.l=Pe+4,Q.l+=4;var He=Q.read_shift(2);Q.l+=6;var Ae=Q.read_shift(4);for(Q.l=Ae,Pe=0;Pe<He;++Pe){Q.l+=20;var Ee=Q.read_shift(4),_e=Q.read_shift(4),Ze=Q.read_shift(2),ot=Q.read_shift(2),yt=Q.read_shift(2);Q.l+=8;var st=Q.read_shift(4),at=o(Q.slice(Q.l+Ze,Q.l+Ze+ot));Q.l+=Ze+ot+yt;var Mt=Q.l;Q.l=st+4,de(Q,Ee,_e,oe,at),Q.l=Mt}return oe}function de(H,ne,Q,re,le){H.l+=2;var oe=H.read_shift(2),Pe=H.read_shift(2),He=l(H);if(oe&8257)throw new Error("Unsupported ZIP encryption");for(var Ae=H.read_shift(4),Ee=H.read_shift(4),_e=H.read_shift(4),Ze=H.read_shift(2),ot=H.read_shift(2),yt="",st=0;st<Ze;++st)yt+=String.fromCharCode(H[H.l++]);if(ot){var at=o(H.slice(H.l,H.l+ot));(at[21589]||{}).mt&&(He=at[21589].mt),((le||{})[21589]||{}).mt&&(He=le[21589].mt)}H.l+=ot;var Mt=H.slice(H.l,H.l+Ee);switch(Pe){case 8:Mt=F(H,_e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Pe)}var X=!1;oe&8&&(Ae=H.read_shift(4),Ae==134695760&&(Ae=H.read_shift(4),X=!0),Ee=H.read_shift(4),_e=H.read_shift(4)),Ee!=ne&&ge(X,"Bad compressed size: "+ne+" != "+Ee),_e!=Q&&ge(X,"Bad uncompressed size: "+Q+" != "+_e),ct(re,yt,Mt,{unsafe:!0,mt:He})}function Ve(H,ne){var Q=ne||{},re=[],le=[],oe=ze(1),Pe=Q.compression?8:0,He=0,Ae=0,Ee=0,_e=0,Ze=0,ot=H.FullPaths[0],yt=ot,st=H.FileIndex[0],at=[],Mt=0;for(Ae=1;Ae<H.FullPaths.length;++Ae)if(yt=H.FullPaths[Ae].slice(ot.length),st=H.FileIndex[Ae],!(!st.size||!st.content||yt=="Sh33tJ5")){var X=_e,Ct=ze(yt.length);for(Ee=0;Ee<yt.length;++Ee)Ct.write_shift(1,yt.charCodeAt(Ee)&127);Ct=Ct.slice(0,Ct.l),at[Ze]=v1e.buf(st.content,0);var Xe=st.content;Pe==8&&(Xe=B(Xe)),oe=ze(30),oe.write_shift(4,67324752),oe.write_shift(2,20),oe.write_shift(2,He),oe.write_shift(2,Pe),st.mt?i(oe,st.mt):oe.write_shift(4,0),oe.write_shift(-4,at[Ze]),oe.write_shift(4,Xe.length),oe.write_shift(4,st.content.length),oe.write_shift(2,Ct.length),oe.write_shift(2,0),_e+=oe.length,re.push(oe),_e+=Ct.length,re.push(Ct),_e+=Xe.length,re.push(Xe),oe=ze(46),oe.write_shift(4,33639248),oe.write_shift(2,0),oe.write_shift(2,20),oe.write_shift(2,He),oe.write_shift(2,Pe),oe.write_shift(4,0),oe.write_shift(-4,at[Ze]),oe.write_shift(4,Xe.length),oe.write_shift(4,st.content.length),oe.write_shift(2,Ct.length),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(4,0),oe.write_shift(4,X),Mt+=oe.l,le.push(oe),Mt+=Ct.length,le.push(Ct),++Ze}return oe=ze(22),oe.write_shift(4,101010256),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,Ze),oe.write_shift(2,Ze),oe.write_shift(4,Mt),oe.write_shift(4,_e),oe.write_shift(2,0),ra([ra(re),ra(le),oe])}var Je={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ge(H,ne){if(H.ctype)return H.ctype;var Q=H.name||"",re=Q.match(/\.([^\.]+)$/);return re&&Je[re[1]]||ne&&(re=(Q=ne).match(/[\.\\]([^\.\\])+$/),re&&Je[re[1]])?Je[re[1]]:"application/octet-stream"}function me(H){for(var ne=T0(H),Q=[],re=0;re<ne.length;re+=76)Q.push(ne.slice(re,re+76));return Q.join(`\r
`)+`\r
`}function Be(H){var ne=H.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ee){var _e=Ee.charCodeAt(0).toString(16).toUpperCase();return"="+(_e.length==1?"0"+_e:_e)});ne=ne.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ne.charAt(0)==`
`&&(ne="=0D"+ne.slice(1)),ne=ne.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Q=[],re=ne.split(`\r
`),le=0;le<re.length;++le){var oe=re[le];if(oe.length==0){Q.push("");continue}for(var Pe=0;Pe<oe.length;){var He=76,Ae=oe.slice(Pe,Pe+He);Ae.charAt(He-1)=="="?He--:Ae.charAt(He-2)=="="?He-=2:Ae.charAt(He-3)=="="&&(He-=3),Ae=oe.slice(Pe,Pe+He),Pe+=He,Pe<oe.length&&(Ae+="="),Q.push(Ae)}}return Q.join(`\r
`)}function et(H){for(var ne=[],Q=0;Q<H.length;++Q){for(var re=H[Q];Q<=H.length&&re.charAt(re.length-1)=="=";)re=re.slice(0,re.length-1)+H[++Q];ne.push(re)}for(var le=0;le<ne.length;++le)ne[le]=ne[le].replace(/[=][0-9A-Fa-f]{2}/g,function(oe){return String.fromCharCode(parseInt(oe.slice(1),16))});return Si(ne.join(`\r
`))}function mt(H,ne,Q){for(var re="",le="",oe="",Pe,He=0;He<10;++He){var Ae=ne[He];if(!Ae||Ae.match(/^\s*$/))break;var Ee=Ae.match(/^(.*?):\s*([^\s].*)$/);if(Ee)switch(Ee[1].toLowerCase()){case"content-location":re=Ee[2].trim();break;case"content-type":oe=Ee[2].trim();break;case"content-transfer-encoding":le=Ee[2].trim();break}}switch(++He,le.toLowerCase()){case"base64":Pe=Si(Kl(ne.slice(He).join("")));break;case"quoted-printable":Pe=et(ne.slice(He));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+le)}var _e=ct(H,re.slice(Q.length),Pe,{unsafe:!0});oe&&(_e.ctype=oe)}function ut(H,ne){if(se(H.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Q=ne&&ne.root||"",re=(cr&&Buffer.isBuffer(H)?H.toString("binary"):se(H)).split(`\r
`),le=0,oe="";for(le=0;le<re.length;++le)if(oe=re[le],!!/^Content-Location:/i.test(oe)&&(oe=oe.slice(oe.indexOf("file")),Q||(Q=oe.slice(0,oe.lastIndexOf("/")+1)),oe.slice(0,Q.length)!=Q))for(;Q.length>0&&(Q=Q.slice(0,Q.length-1),Q=Q.slice(0,Q.lastIndexOf("/")+1),oe.slice(0,Q.length)!=Q););var Pe=(re[1]||"").match(/boundary="(.*?)"/);if(!Pe)throw new Error("MAD cannot find boundary");var He="--"+(Pe[1]||""),Ae=[],Ee=[],_e={FileIndex:Ae,FullPaths:Ee};k(_e);var Ze,ot=0;for(le=0;le<re.length;++le){var yt=re[le];yt!==He&&yt!==He+"--"||(ot++&&mt(_e,re.slice(Ze,le),Q),Ze=le)}return _e}function Vt(H,ne){var Q=ne||{},re=Q.boundary||"SheetJS";re="------="+re;for(var le=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+re.slice(2)+'"',"","",""],oe=H.FullPaths[0],Pe=oe,He=H.FileIndex[0],Ae=1;Ae<H.FullPaths.length;++Ae)if(Pe=H.FullPaths[Ae].slice(oe.length),He=H.FileIndex[Ae],!(!He.size||!He.content||Pe=="Sh33tJ5")){Pe=Pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Mt){return"_x"+Mt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Mt){return"_u"+Mt.charCodeAt(0).toString(16)+"_"});for(var Ee=He.content,_e=cr&&Buffer.isBuffer(Ee)?Ee.toString("binary"):se(Ee),Ze=0,ot=Math.min(1024,_e.length),yt=0,st=0;st<=ot;++st)(yt=_e.charCodeAt(st))>=32&&yt<128&&++Ze;var at=Ze>=ot*4/5;le.push(re),le.push("Content-Location: "+(Q.root||"file:///C:/SheetJS/")+Pe),le.push("Content-Transfer-Encoding: "+(at?"quoted-printable":"base64")),le.push("Content-Type: "+Ge(He,Pe)),le.push(""),le.push(at?Be(_e):me(_e))}return le.push(re+`--\r
`),le.join(`\r
`)}function $t(H){var ne={};return k(ne,H),ne}function ct(H,ne,Q,re){var le=re&&re.unsafe;le||k(H);var oe=!le&&yr.find(H,ne);if(!oe){var Pe=H.FullPaths[0];ne.slice(0,Pe.length)==Pe?Pe=ne:(Pe.slice(-1)!="/"&&(Pe+="/"),Pe=(Pe+ne).replace("//","/")),oe={name:n(ne),type:2},H.FileIndex.push(oe),H.FullPaths.push(Pe),le||yr.utils.cfb_gc(H)}return oe.content=Q,oe.size=Q?Q.length:0,re&&(re.CLSID&&(oe.clsid=re.CLSID),re.mt&&(oe.mt=re.mt),re.ct&&(oe.ct=re.ct)),oe}function Wr(H,ne){k(H);var Q=yr.find(H,ne);if(Q){for(var re=0;re<H.FileIndex.length;++re)if(H.FileIndex[re]==Q)return H.FileIndex.splice(re,1),H.FullPaths.splice(re,1),!0}return!1}function Js(H,ne,Q){k(H);var re=yr.find(H,ne);if(re){for(var le=0;le<H.FileIndex.length;++le)if(H.FileIndex[le]==re)return H.FileIndex[le].name=n(Q),H.FullPaths[le]=Q,!0}return!1}function Zr(H){C(H,!0)}return r.find=A,r.read=S,r.parse=u,r.write=K,r.writeFile=z,r.utils={cfb_new:$t,cfb_add:ct,cfb_del:Wr,cfb_mov:Js,cfb_gc:Zr,ReadShift:Lh,CheckField:e$,prep_blob:xn,bconcat:ra,use_zlib:M,_deflateRaw:Rt,_inflateRaw:pt,consts:D},r}();function j1e(e){return typeof e=="string"?Kb(e):Array.isArray(e)?qve(e):e}function jx(e,r,s){if(typeof Deno<"u"){if(s&&typeof r=="string")switch(s){case"utf8":r=new TextEncoder(s).encode(r);break;case"binary":r=Kb(r);break;default:throw new Error("Unsupported encoding "+s)}return Deno.writeFileSync(e,r)}var a=s=="utf8"?I0(r):r;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var n=new Blob([j1e(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(typeof saveAs<"u")return saveAs(n,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(r)&&(r=vx(r)),o.write(r),o.close(),r}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+e)}function oa(e){for(var r=Object.keys(e),s=[],a=0;a<r.length;++a)Object.prototype.hasOwnProperty.call(e,r[a])&&s.push(r[a]);return s}function IT(e,r){for(var s=[],a=oa(e),n=0;n!==a.length;++n)s[e[a[n]][r]]==null&&(s[e[a[n]][r]]=a[n]);return s}function T6(e){for(var r=[],s=oa(e),a=0;a!==s.length;++a)r[e[s[a]]]=s[a];return r}function Jb(e){for(var r=[],s=oa(e),a=0;a!==s.length;++a)r[e[s[a]]]=parseInt(s[a],10);return r}function w1e(e){for(var r=[],s=oa(e),a=0;a!==s.length;++a)r[e[s[a]]]==null&&(r[e[s[a]]]=[]),r[e[s[a]]].push(s[a]);return r}var qg=new Date(1899,11,30,0,0,0);function sn(e,r){var s=e.getTime(),a=qg.getTime()+(e.getTimezoneOffset()-qg.getTimezoneOffset())*6e4;return(s-a)/(24*60*60*1e3)}var FB=new Date,N1e=qg.getTime()+(FB.getTimezoneOffset()-qg.getTimezoneOffset())*6e4,_T=FB.getTimezoneOffset();function RB(e){var r=new Date;return r.setTime(e*24*60*60*1e3+N1e),r.getTimezoneOffset()!==_T&&r.setTime(r.getTime()+(r.getTimezoneOffset()-_T)*6e4),r}var OT=new Date("2017-02-19T19:06:09.000Z"),BB=isNaN(OT.getFullYear())?new Date("2/19/17"):OT,S1e=BB.getFullYear()==2017;function La(e,r){var s=new Date(e);if(S1e)return r>0?s.setTime(s.getTime()+s.getTimezoneOffset()*60*1e3):r<0&&s.setTime(s.getTime()-s.getTimezoneOffset()*60*1e3),s;if(e instanceof Date)return e;if(BB.getFullYear()==1917&&!isNaN(s.getFullYear())){var a=s.getFullYear();return e.indexOf(""+a)>-1||s.setFullYear(s.getFullYear()+100),s}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Qb(e,r){if(cr&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var s={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return s[i]||i})}catch{}for(var a=[],n=0;n!=e.length;++n)a.push(String.fromCharCode(e[n]));return a.join("")}function an(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=an(e[s]));return r}function ns(e,r){for(var s="";s.length<r;)s+=e;return s}function El(e){var r=Number(e);if(!isNaN(r))return isFinite(r)?r:NaN;if(!/\d/.test(e))return r;var s=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return s*=100,""});return!isNaN(r=Number(a))||(a=a.replace(/[(](.*)[)]/,function(n,i){return s=-s,i}),!isNaN(r=Number(a)))?r/s:r}var k1e=["january","february","march","april","may","june","july","august","september","october","november","december"];function E0(e){var r=new Date(e),s=new Date(NaN),a=r.getYear(),n=r.getMonth(),i=r.getDate();if(isNaN(i))return s;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&k1e.indexOf(l)==-1)return s}else if(l.match(/[a-z]/))return s;return a<0||a>8099?s:(n>0||i>1)&&a!=101?r:e.match(/[^-0-9:,\/\\]/)?s:r}function Wt(e,r,s){if(e.FullPaths){if(typeof s=="string"){var a;return cr?a=lo(s):a=Kve(s),yr.utils.cfb_add(e,r,a)}yr.utils.cfb_add(e,r,s)}else e.file(r,s)}function E6(){return yr.utils.cfb_new()}var Es=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,C1e={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},I6=T6(C1e),_6=/[&<>'"]/g,P1e=/[\u0000-\u0008\u000b-\u001f]/g;function pr(e){var r=e+"";return r.replace(_6,function(s){return I6[s]}).replace(P1e,function(s){return"_x"+("000"+s.charCodeAt(0).toString(16)).slice(-4)+"_"})}function DT(e){return pr(e).replace(/ /g,"_x0020_")}var $B=/[\u0000-\u001f]/g;function A1e(e){var r=e+"";return r.replace(_6,function(s){return I6[s]}).replace(/\n/g,"<br/>").replace($B,function(s){return"&#x"+("000"+s.charCodeAt(0).toString(16)).slice(-4)+";"})}function T1e(e){var r=e+"";return r.replace(_6,function(s){return I6[s]}).replace($B,function(s){return"&#x"+s.charCodeAt(0).toString(16).toUpperCase()+";"})}function E1e(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function I1e(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function R1(e){for(var r="",s=0,a=0,n=0,i=0,l=0,o=0;s<e.length;){if(a=e.charCodeAt(s++),a<128){r+=String.fromCharCode(a);continue}if(n=e.charCodeAt(s++),a>191&&a<224){l=(a&31)<<6,l|=n&63,r+=String.fromCharCode(l);continue}if(i=e.charCodeAt(s++),a<240){r+=String.fromCharCode((a&15)<<12|(n&63)<<6|i&63);continue}l=e.charCodeAt(s++),o=((a&7)<<18|(n&63)<<12|(i&63)<<6|l&63)-65536,r+=String.fromCharCode(55296+(o>>>10&1023)),r+=String.fromCharCode(56320+(o&1023))}return r}function MT(e){var r=vd(2*e.length),s,a,n=1,i=0,l=0,o;for(a=0;a<e.length;a+=n)n=1,(o=e.charCodeAt(a))<128?s=o:o<224?(s=(o&31)*64+(e.charCodeAt(a+1)&63),n=2):o<240?(s=(o&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),n=3):(n=4,s=(o&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),s-=65536,l=55296+(s>>>10&1023),s=56320+(s&1023)),l!==0&&(r[i++]=l&255,r[i++]=l>>>8,l=0),r[i++]=s%256,r[i++]=s>>>8;return r.slice(0,i).toString("ucs2")}function LT(e){return lo(e,"binary").toString("utf8")}var Np="foo bar baz",Mh=cr&&(LT(Np)==R1(Np)&&LT||MT(Np)==R1(Np)&&MT)||R1,I0=cr?function(e){return lo(e,"utf8").toString("binary")}:function(e){for(var r=[],s=0,a=0,n=0;s<e.length;)switch(a=e.charCodeAt(s++),!0){case a<128:r.push(String.fromCharCode(a));break;case a<2048:r.push(String.fromCharCode(192+(a>>6))),r.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,n=e.charCodeAt(s++)-56320+(a<<10),r.push(String.fromCharCode(240+(n>>18&7))),r.push(String.fromCharCode(144+(n>>12&63))),r.push(String.fromCharCode(128+(n>>6&63))),r.push(String.fromCharCode(128+(n&63)));break;default:r.push(String.fromCharCode(224+(a>>12))),r.push(String.fromCharCode(128+(a>>6&63))),r.push(String.fromCharCode(128+(a&63)))}return r.join("")},_1e=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(r){return[new RegExp("&"+r[0]+";","ig"),r[1]]});return function(s){for(var a=s.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)a=a.replace(e[n][0],e[n][1]);return a}}(),zB=/(^\s|\s$|\n)/;function sa(e,r){return"<"+e+(r.match(zB)?' xml:space="preserve"':"")+">"+r+"</"+e+">"}function _0(e){return oa(e).map(function(r){return" "+r+'="'+e[r]+'"'}).join("")}function nt(e,r,s){return"<"+e+(s!=null?_0(s):"")+(r!=null?(r.match(zB)?' xml:space="preserve"':"")+">"+r+"</"+e:"/")+">"}function vw(e,r){try{return e.toISOString().replace(/\.\d*/,"")}catch(s){if(r)throw s}return""}function O1e(e,r){switch(typeof e){case"string":var s=nt("vt:lpwstr",pr(e));return s=s.replace(/&quot;/g,"_x0022_"),s;case"number":return nt((e|0)==e?"vt:i4":"vt:r8",pr(String(e)));case"boolean":return nt("vt:bool",e?"true":"false")}if(e instanceof Date)return nt("vt:filetime",vw(e));throw new Error("Unable to serialize "+e)}var Vs={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},_m=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],pn={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function D1e(e,r){for(var s=1-2*(e[r+7]>>>7),a=((e[r+7]&127)<<4)+(e[r+6]>>>4&15),n=e[r+6]&15,i=5;i>=0;--i)n=n*256+e[r+i];return a==2047?n==0?s*(1/0):NaN:(a==0?a=-1022:(a-=1023,n+=Math.pow(2,52)),s*Math.pow(2,a-52)*n)}function M1e(e,r,s){var a=(r<0||1/r==-1/0?1:0)<<7,n=0,i=0,l=a?-r:r;isFinite(l)?l==0?n=i=0:(n=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-n),n<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?n=-1022:(i-=Math.pow(2,52),n+=1023)):(n=2047,i=isNaN(r)?26985:0);for(var o=0;o<=5;++o,i/=256)e[s+o]=i&255;e[s+6]=(n&15)<<4|i&15,e[s+7]=n>>4|a}var FT=function(e){for(var r=[],s=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var n=0,i=e[0][a].length;n<i;n+=s)r.push.apply(r,e[0][a].slice(n,n+s));return r},RT=cr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(r){return Buffer.isBuffer(r)?r:lo(r)})):FT(e)}:FT,BT=function(e,r,s){for(var a=[],n=r;n<s;n+=2)a.push(String.fromCharCode(gh(e,n)));return a.join("").replace(Dh,"")},O6=cr?function(e,r,s){return Buffer.isBuffer(e)?e.toString("utf16le",r,s).replace(Dh,""):BT(e,r,s)}:BT,$T=function(e,r,s){for(var a=[],n=r;n<r+s;++n)a.push(("0"+e[n].toString(16)).slice(-2));return a.join("")},UB=cr?function(e,r,s){return Buffer.isBuffer(e)?e.toString("hex",r,r+s):$T(e,r,s)}:$T,zT=function(e,r,s){for(var a=[],n=r;n<s;n++)a.push(String.fromCharCode(Zd(e,n)));return a.join("")},wx=cr?function(r,s,a){return Buffer.isBuffer(r)?r.toString("utf8",s,a):zT(r,s,a)}:zT,HB=function(e,r){var s=fn(e,r);return s>0?wx(e,r+4,r+4+s-1):""},VB=HB,WB=function(e,r){var s=fn(e,r);return s>0?wx(e,r+4,r+4+s-1):""},GB=WB,qB=function(e,r){var s=2*fn(e,r);return s>0?wx(e,r+4,r+4+s-1):""},KB=qB,YB=function(r,s){var a=fn(r,s);return a>0?O6(r,s+4,s+4+a):""},XB=YB,JB=function(e,r){var s=fn(e,r);return s>0?wx(e,r+4,r+4+s):""},QB=JB,ZB=function(e,r){return D1e(e,r)},Kg=ZB,D6=function(r){return Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array};cr&&(VB=function(r,s){if(!Buffer.isBuffer(r))return HB(r,s);var a=r.readUInt32LE(s);return a>0?r.toString("utf8",s+4,s+4+a-1):""},GB=function(r,s){if(!Buffer.isBuffer(r))return WB(r,s);var a=r.readUInt32LE(s);return a>0?r.toString("utf8",s+4,s+4+a-1):""},KB=function(r,s){if(!Buffer.isBuffer(r))return qB(r,s);var a=2*r.readUInt32LE(s);return r.toString("utf16le",s+4,s+4+a-1)},XB=function(r,s){if(!Buffer.isBuffer(r))return YB(r,s);var a=r.readUInt32LE(s);return r.toString("utf16le",s+4,s+4+a)},QB=function(r,s){if(!Buffer.isBuffer(r))return JB(r,s);var a=r.readUInt32LE(s);return r.toString("utf8",s+4,s+4+a)},Kg=function(r,s){return Buffer.isBuffer(r)?r.readDoubleLE(s):ZB(r,s)},D6=function(r){return Buffer.isBuffer(r)||Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array});var Zd=function(e,r){return e[r]},gh=function(e,r){return e[r+1]*256+e[r]},L1e=function(e,r){var s=e[r+1]*256+e[r];return s<32768?s:(65535-s+1)*-1},fn=function(e,r){return e[r+3]*(1<<24)+(e[r+2]<<16)+(e[r+1]<<8)+e[r]},Tc=function(e,r){return e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]},F1e=function(e,r){return e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]};function Lh(e,r){var s="",a,n,i=[],l,o,d,c;switch(r){case"dbcs":if(c=this.l,cr&&Buffer.isBuffer(this))s=this.slice(this.l,this.l+2*e).toString("utf16le");else for(d=0;d<e;++d)s+=String.fromCharCode(gh(this,c)),c+=2;e*=2;break;case"utf8":s=wx(this,this.l,this.l+e);break;case"utf16le":e*=2,s=O6(this,this.l,this.l+e);break;case"wstr":return Lh.call(this,e,"dbcs");case"lpstr-ansi":s=VB(this,this.l),e=4+fn(this,this.l);break;case"lpstr-cp":s=GB(this,this.l),e=4+fn(this,this.l);break;case"lpwstr":s=KB(this,this.l),e=4+2*fn(this,this.l);break;case"lpp4":e=4+fn(this,this.l),s=XB(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+fn(this,this.l),s=QB(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,s="";(l=Zd(this,this.l+e++))!==0;)i.push(vp(l));s=i.join("");break;case"_wstr":for(e=0,s="";(l=gh(this,this.l+e))!==0;)i.push(vp(l)),e+=2;e+=2,s=i.join("");break;case"dbcs-cont":for(s="",c=this.l,d=0;d<e;++d){if(this.lens&&this.lens.indexOf(c)!==-1)return l=Zd(this,c),this.l=c+1,o=Lh.call(this,e-d,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(vp(gh(this,c))),c+=2}s=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(s="",c=this.l,d=0;d!=e;++d){if(this.lens&&this.lens.indexOf(c)!==-1)return l=Zd(this,c),this.l=c+1,o=Lh.call(this,e-d,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(vp(Zd(this,c))),c+=1}s=i.join("");break;default:switch(e){case 1:return a=Zd(this,this.l),this.l++,a;case 2:return a=(r==="i"?L1e:gh)(this,this.l),this.l+=2,a;case 4:case-4:return r==="i"||!(this[this.l+3]&128)?(a=(e>0?Tc:F1e)(this,this.l),this.l+=4,a):(n=fn(this,this.l),this.l+=4,n);case 8:case-8:if(r==="f")return e==8?n=Kg(this,this.l):n=Kg([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:s=UB(this,this.l,e);break}}return this.l+=e,s}var R1e=function(e,r,s){e[s]=r&255,e[s+1]=r>>>8&255,e[s+2]=r>>>16&255,e[s+3]=r>>>24&255},B1e=function(e,r,s){e[s]=r&255,e[s+1]=r>>8&255,e[s+2]=r>>16&255,e[s+3]=r>>24&255},$1e=function(e,r,s){e[s]=r&255,e[s+1]=r>>>8&255};function z1e(e,r,s){var a=0,n=0;if(s==="dbcs"){for(n=0;n!=r.length;++n)$1e(this,r.charCodeAt(n),this.l+2*n);a=2*r.length}else if(s==="sbcs"){for(r=r.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=r.length;++n)this[this.l+n]=r.charCodeAt(n)&255;a=r.length}else if(s==="hex"){for(;n<e;++n)this[this.l++]=parseInt(r.slice(2*n,2*n+2),16)||0;return this}else if(s==="utf16le"){var i=Math.min(this.l+e,this.length);for(n=0;n<Math.min(r.length,e);++n){var l=r.charCodeAt(n);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=r&255;break;case 2:a=2,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255;break;case 3:a=3,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255,r>>>=8,this[this.l+2]=r&255;break;case 4:a=4,R1e(this,r,this.l);break;case 8:if(a=8,s==="f"){M1e(this,r,this.l);break}case 16:break;case-4:a=4,B1e(this,r,this.l);break}return this.l+=a,this}function e$(e,r){var s=UB(this,this.l,e.length>>1);if(s!==e)throw new Error(r+"Expected "+e+" saw "+s);this.l+=e.length>>1}function xn(e,r){e.l=r,e.read_shift=Lh,e.chk=e$,e.write_shift=z1e}function il(e,r){e.l+=r}function ze(e){var r=vd(e);return xn(r,0),r}function Qa(){var e=[],r=cr?256:2048,s=function(c){var u=ze(c);return xn(u,0),u},a=s(r),n=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(c){return a&&c<a.length-a.l?a:(n(),a=s(Math.max(c+1,r)))},l=function(){return n(),ra(e)},o=function(c){n(),a=c,a.l==null&&(a.l=a.length),i(r)};return{next:i,push:o,end:l,_bufs:e}}function Ye(e,r,s,a){var n=+r,i;if(!isNaN(n)){a||(a=D3e[n].p||(s||[]).length||0),i=1+(n>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var l=e.next(i);n<=127?l.write_shift(1,n):(l.write_shift(1,(n&127)+128),l.write_shift(1,n>>7));for(var o=0;o!=4;++o)if(a>=128)l.write_shift(1,(a&127)+128),a>>=7;else{l.write_shift(1,a);break}a>0&&D6(s)&&e.push(s)}}function Fh(e,r,s){var a=an(e);if(r.s?(a.cRel&&(a.c+=r.s.c),a.rRel&&(a.r+=r.s.r)):(a.cRel&&(a.c+=r.c),a.rRel&&(a.r+=r.r)),!s||s.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function UT(e,r,s){var a=an(e);return a.s=Fh(a.s,r.s,s),a.e=Fh(a.e,r.s,s),a}function Rh(e,r){if(e.cRel&&e.c<0)for(e=an(e);e.c<0;)e.c+=r>8?16384:256;if(e.rRel&&e.r<0)for(e=an(e);e.r<0;)e.r+=r>8?1048576:r>5?65536:16384;var s=gr(e);return!e.cRel&&e.cRel!=null&&(s=V1e(s)),!e.rRel&&e.rRel!=null&&(s=U1e(s)),s}function B1(e,r){return e.s.r==0&&!e.s.rRel&&e.e.r==(r.biff>=12?1048575:r.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+va(e.s.c)+":"+(e.e.cRel?"":"$")+va(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(r.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+na(e.s.r)+":"+(e.e.rRel?"":"$")+na(e.e.r):Rh(e.s,r.biff)+":"+Rh(e.e,r.biff)}function M6(e){return parseInt(H1e(e),10)-1}function na(e){return""+(e+1)}function U1e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function H1e(e){return e.replace(/\$(\d+)$/,"$1")}function L6(e){for(var r=W1e(e),s=0,a=0;a!==r.length;++a)s=26*s+r.charCodeAt(a)-64;return s-1}function va(e){if(e<0)throw new Error("invalid column "+e);var r="";for(++e;e;e=Math.floor((e-1)/26))r=String.fromCharCode((e-1)%26+65)+r;return r}function V1e(e){return e.replace(/^([A-Z])/,"$$$1")}function W1e(e){return e.replace(/^\$([A-Z])/,"$1")}function G1e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Gs(e){for(var r=0,s=0,a=0;a<e.length;++a){var n=e.charCodeAt(a);n>=48&&n<=57?r=10*r+(n-48):n>=65&&n<=90&&(s=26*s+(n-64))}return{c:s-1,r:r-1}}function gr(e){for(var r=e.c+1,s="";r;r=(r-1)/26|0)s=String.fromCharCode((r-1)%26+65)+s;return s+(e.r+1)}function An(e){var r=e.indexOf(":");return r==-1?{s:Gs(e),e:Gs(e)}:{s:Gs(e.slice(0,r)),e:Gs(e.slice(r+1))}}function Ts(e,r){return typeof r>"u"||typeof r=="number"?Ts(e.s,e.e):(typeof e!="string"&&(e=gr(e)),typeof r!="string"&&(r=gr(r)),e==r?e:e+":"+r)}function Br(e){var r={s:{c:0,r:0},e:{c:0,r:0}},s=0,a=0,n=0,i=e.length;for(s=0;a<i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)s=26*s+n;for(r.s.c=--s,s=0;a<i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)s=10*s+n;if(r.s.r=--s,a===i||n!=10)return r.e.c=r.s.c,r.e.r=r.s.r,r;for(++a,s=0;a!=i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)s=26*s+n;for(r.e.c=--s,s=0;a!=i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)s=10*s+n;return r.e.r=--s,r}function HT(e,r){var s=e.t=="d"&&r instanceof Date;if(e.z!=null)try{return e.w=ac(e.z,s?sn(r):r)}catch{}try{return e.w=ac((e.XF||{}).numFmtId||(s?14:0),s?sn(r):r)}catch{return""+r}}function Yl(e,r,s){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&s&&s.dateNF&&(e.z=s.dateNF),e.t=="e"?Nx[e.v]||e.v:r==null?HT(e,e.v):HT(e,r))}function Md(e,r){var s=r&&r.sheet?r.sheet:"Sheet1",a={};return a[s]=e,{SheetNames:[s],Sheets:a}}function t$(e,r,s){var a=s||{},n=e?Array.isArray(e):a.dense,i=e||(n?[]:{}),l=0,o=0;if(i&&a.origin!=null){if(typeof a.origin=="number")l=a.origin;else{var d=typeof a.origin=="string"?Gs(a.origin):a.origin;l=d.r,o=d.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Br(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),l==-1&&(c.e.r=l=u.e.r+1)}for(var m=0;m!=r.length;++m)if(r[m]){if(!Array.isArray(r[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=r[m].length;++x)if(!(typeof r[m][x]>"u")){var h={v:r[m][x]},p=l+m,f=o+x;if(c.s.r>p&&(c.s.r=p),c.s.c>f&&(c.s.c=f),c.e.r<p&&(c.e.r=p),c.e.c<f&&(c.e.c=f),r[m][x]&&typeof r[m][x]=="object"&&!Array.isArray(r[m][x])&&!(r[m][x]instanceof Date))h=r[m][x];else if(Array.isArray(h.v)&&(h.f=r[m][x][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(a.nullError)h.t="e",h.v=0;else if(a.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=a.dateNF||ls[14],a.cellDates?(h.t="d",h.w=ac(h.z,sn(h.v))):(h.t="n",h.v=sn(h.v),h.w=ac(h.z,h.v))):h.t="s";if(n)i[p]||(i[p]=[]),i[p][f]&&i[p][f].z&&(h.z=i[p][f].z),i[p][f]=h;else{var b=gr({c:f,r:p});i[b]&&i[b].z&&(h.z=i[b].z),i[b]=h}}}return c.s.c<1e7&&(i["!ref"]=Ts(c)),i}function Om(e,r){return t$(null,e,r)}function q1e(e){return e.read_shift(4,"i")}function Ei(e,r){return r||(r=ze(4)),r.write_shift(4,e),r}function ja(e){var r=e.read_shift(4);return r===0?"":e.read_shift(r,"dbcs")}function qs(e,r){var s=!1;return r==null&&(s=!0,r=ze(4+2*e.length)),r.write_shift(4,e.length),e.length>0&&r.write_shift(0,e,"dbcs"),s?r.slice(0,r.l):r}function K1e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Y1e(e,r){return r||(r=ze(4)),r.write_shift(2,0),r.write_shift(2,0),r}function F6(e,r){var s=e.l,a=e.read_shift(1),n=ja(e),i=[],l={t:n,h:n};if(a&1){for(var o=e.read_shift(4),d=0;d!=o;++d)i.push(K1e(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=s+r,l}function X1e(e,r){var s=!1;return r==null&&(s=!0,r=ze(15+4*e.t.length)),r.write_shift(1,0),qs(e.t,r),s?r.slice(0,r.l):r}var J1e=F6;function Q1e(e,r){var s=!1;return r==null&&(s=!0,r=ze(23+4*e.t.length)),r.write_shift(1,1),qs(e.t,r),r.write_shift(4,1),Y1e({},r),s?r.slice(0,r.l):r}function hi(e){var r=e.read_shift(4),s=e.read_shift(2);return s+=e.read_shift(1)<<16,e.l++,{c:r,iStyleRef:s}}function Ld(e,r){return r==null&&(r=ze(8)),r.write_shift(-4,e.c),r.write_shift(3,e.iStyleRef||e.s),r.write_shift(1,0),r}function Fd(e){var r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:r}}function Rd(e,r){return r==null&&(r=ze(4)),r.write_shift(3,e.iStyleRef||e.s),r.write_shift(1,0),r}var Z1e=ja,r$=qs;function R6(e){var r=e.read_shift(4);return r===0||r===4294967295?"":e.read_shift(r,"dbcs")}function Yg(e,r){var s=!1;return r==null&&(s=!0,r=ze(127)),r.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&r.write_shift(0,e,"dbcs"),s?r.slice(0,r.l):r}var e2e=ja,jw=R6,B6=Yg;function s$(e){var r=e.slice(e.l,e.l+4),s=r[0]&1,a=r[0]&2;e.l+=4;var n=a===0?Kg([0,0,0,0,r[0]&252,r[1],r[2],r[3]],0):Tc(r,0)>>2;return s?n/100:n}function a$(e,r){r==null&&(r=ze(4));var s=0,a=0,n=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(a=1,s=1),a)r.write_shift(-4,((s?n:e)<<2)+(s+2));else throw new Error("unsupported RkNumber "+e)}function n$(e){var r={s:{},e:{}};return r.s.r=e.read_shift(4),r.e.r=e.read_shift(4),r.s.c=e.read_shift(4),r.e.c=e.read_shift(4),r}function t2e(e,r){return r||(r=ze(16)),r.write_shift(4,e.s.r),r.write_shift(4,e.e.r),r.write_shift(4,e.s.c),r.write_shift(4,e.e.c),r}var Bd=n$,Dm=t2e;function Mm(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function jd(e,r){return(r||ze(8)).write_shift(8,e,"f")}function r2e(e){var r={},s=e.read_shift(1),a=s>>>1,n=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),o=e.read_shift(1),d=e.read_shift(1);switch(e.l++,a){case 0:r.auto=1;break;case 1:r.index=n;var c=u2e[n];c&&(r.rgb=eE(c));break;case 2:r.rgb=eE([l,o,d]);break;case 3:r.theme=n;break}return i!=0&&(r.tint=i>0?i/32767:i/32768),r}function Xg(e,r){if(r||(r=ze(8)),!e||e.auto)return r.write_shift(4,0),r.write_shift(4,0),r;e.index!=null?(r.write_shift(1,2),r.write_shift(1,e.index)):e.theme!=null?(r.write_shift(1,6),r.write_shift(1,e.theme)):(r.write_shift(1,5),r.write_shift(1,0));var s=e.tint||0;if(s>0?s*=32767:s<0&&(s*=32768),r.write_shift(2,s),!e.rgb||e.theme!=null)r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),r.write_shift(1,parseInt(a.slice(0,2),16)),r.write_shift(1,parseInt(a.slice(2,4),16)),r.write_shift(1,parseInt(a.slice(4,6),16)),r.write_shift(1,255)}return r}function s2e(e){var r=e.read_shift(1);e.l++;var s={fBold:r&1,fItalic:r&2,fUnderline:r&4,fStrikeout:r&8,fOutline:r&16,fShadow:r&32,fCondense:r&64,fExtend:r&128};return s}function a2e(e,r){r||(r=ze(2));var s=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return r.write_shift(1,s),r.write_shift(1,0),r}var i$=2,un=3,Sp=11,Jg=19,kp=64,n2e=65,i2e=71,l2e=4108,o2e=4126,ta=80,VT={1:{n:"CodePage",t:i$},2:{n:"Category",t:ta},3:{n:"PresentationFormat",t:ta},4:{n:"ByteCount",t:un},5:{n:"LineCount",t:un},6:{n:"ParagraphCount",t:un},7:{n:"SlideCount",t:un},8:{n:"NoteCount",t:un},9:{n:"HiddenCount",t:un},10:{n:"MultimediaClipCount",t:un},11:{n:"ScaleCrop",t:Sp},12:{n:"HeadingPairs",t:l2e},13:{n:"TitlesOfParts",t:o2e},14:{n:"Manager",t:ta},15:{n:"Company",t:ta},16:{n:"LinksUpToDate",t:Sp},17:{n:"CharacterCount",t:un},19:{n:"SharedDoc",t:Sp},22:{n:"HyperlinksChanged",t:Sp},23:{n:"AppVersion",t:un,p:"version"},24:{n:"DigSig",t:n2e},26:{n:"ContentType",t:ta},27:{n:"ContentStatus",t:ta},28:{n:"Language",t:ta},29:{n:"Version",t:ta},255:{},2147483648:{n:"Locale",t:Jg},2147483651:{n:"Behavior",t:Jg},1919054434:{}},WT={1:{n:"CodePage",t:i$},2:{n:"Title",t:ta},3:{n:"Subject",t:ta},4:{n:"Author",t:ta},5:{n:"Keywords",t:ta},6:{n:"Comments",t:ta},7:{n:"Template",t:ta},8:{n:"LastAuthor",t:ta},9:{n:"RevNumber",t:ta},10:{n:"EditTime",t:kp},11:{n:"LastPrinted",t:kp},12:{n:"CreatedDate",t:kp},13:{n:"ModifiedDate",t:kp},14:{n:"PageCount",t:un},15:{n:"WordCount",t:un},16:{n:"CharCount",t:un},17:{n:"Thumbnail",t:i2e},18:{n:"Application",t:ta},19:{n:"DocSecurity",t:un},255:{},2147483648:{n:"Locale",t:Jg},2147483651:{n:"Behavior",t:Jg},1919054434:{}};function c2e(e){return e.map(function(r){return[r>>16&255,r>>8&255,r&255]})}var d2e=c2e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),u2e=an(d2e),Nx={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},m2e={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Cp={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function l$(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function o$(e,r){var s=w1e(m2e),a=[],n;a[a.length]=Es,a[a.length]=nt("Types",null,{xmlns:Vs.CT,"xmlns:xsd":Vs.xsd,"xmlns:xsi":Vs.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return nt("Default",null,{Extension:d[0],ContentType:d[1]})}));var i=function(d){e[d]&&e[d].length>0&&(n=e[d][0],a[a.length]=nt("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:Cp[d][r.bookType]||Cp[d].xlsx}))},l=function(d){(e[d]||[]).forEach(function(c){a[a.length]=nt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Cp[d][r.bookType]||Cp[d].xlsx})})},o=function(d){(e[d]||[]).forEach(function(c){a[a.length]=nt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:s[d][0]})})};return i("workbooks"),l("sheets"),l("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),l("metadata"),o("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var ir={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function c$(e){var r=e.lastIndexOf("/");return e.slice(0,r+1)+"_rels/"+e.slice(r+1)+".rels"}function Lu(e){var r=[Es,nt("Relationships",null,{xmlns:Vs.RELS})];return oa(e["!id"]).forEach(function(s){r[r.length]=nt("Relationship",null,e["!id"][s])}),r.length>2&&(r[r.length]="</Relationships>",r[1]=r[1].replace("/>",">")),r.join("")}function hr(e,r,s,a,n,i){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),r<0)for(r=e["!idx"];e["!id"]["rId"+r];++r);if(e["!idx"]=r+1,n.Id="rId"+r,n.Type=a,n.Target=s,[ir.HLINK,ir.XPATH,ir.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw new Error("Cannot rewrite rId "+r);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,r}function h2e(e){var r=[Es];r.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),r.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var s=0;s<e.length;++s)r.push('  <manifest:file-entry manifest:full-path="'+e[s][0]+'" manifest:media-type="'+e[s][1]+`"/>
`);return r.push("</manifest:manifest>"),r.join("")}function GT(e,r,s){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(s||"odf")+"#"+r+`"/>
`,`  </rdf:Description>
`].join("")}function x2e(e,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+r+`"/>
`,`  </rdf:Description>
`].join("")}function p2e(e){var r=[Es];r.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var s=0;s!=e.length;++s)r.push(GT(e[s][0],e[s][1])),r.push(x2e("",e[s][0]));return r.push(GT("","Document","pkg")),r.push("</rdf:RDF>"),r.join("")}function d$(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Ug.version+"</meta:generator></office:meta></office:document-meta>"}var ed=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function $1(e,r,s,a,n){n[e]!=null||r==null||r===""||(n[e]=r,r=pr(r),a[a.length]=s?nt(e,r,s):sa(e,r))}function u$(e,r){var s=r||{},a=[Es,nt("cp:coreProperties",null,{"xmlns:cp":Vs.CORE_PROPS,"xmlns:dc":Vs.dc,"xmlns:dcterms":Vs.dcterms,"xmlns:dcmitype":Vs.dcmitype,"xmlns:xsi":Vs.xsi})],n={};if(!e&&!s.Props)return a.join("");e&&(e.CreatedDate!=null&&$1("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:vw(e.CreatedDate,s.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n),e.ModifiedDate!=null&&$1("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:vw(e.ModifiedDate,s.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n));for(var i=0;i!=ed.length;++i){var l=ed[i],o=s.Props&&s.Props[l[1]]!=null?s.Props[l[1]]:e?e[l[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&$1(l[0],o,null,a,n)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var Fu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],m$=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function h$(e){var r=[],s=nt;return e||(e={}),e.Application="SheetJS",r[r.length]=Es,r[r.length]=nt("Properties",null,{xmlns:Vs.EXT_PROPS,"xmlns:vt":Vs.vt}),Fu.forEach(function(a){if(e[a[1]]!==void 0){var n;switch(a[2]){case"string":n=pr(String(e[a[1]]));break;case"bool":n=e[a[1]]?"true":"false";break}n!==void 0&&(r[r.length]=s(a[0],n))}}),r[r.length]=s("HeadingPairs",s("vt:vector",s("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+s("vt:variant",s("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),r[r.length]=s("TitlesOfParts",s("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+pr(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}function x$(e){var r=[Es,nt("Properties",null,{xmlns:Vs.CUST_PROPS,"xmlns:vt":Vs.vt})];if(!e)return r.join("");var s=1;return oa(e).forEach(function(n){++s,r[r.length]=nt("property",O1e(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:s,name:pr(n)})}),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}var qT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function f2e(e,r){var s=[];return oa(qT).map(function(a){for(var n=0;n<ed.length;++n)if(ed[n][1]==a)return ed[n];for(n=0;n<Fu.length;++n)if(Fu[n][1]==a)return Fu[n];throw a}).forEach(function(a){if(e[a[1]]!=null){var n=r&&r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:e[a[1]];switch(a[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),s.push(sa(qT[a[1]]||a[1],n))}}),nt("DocumentProperties",s.join(""),{xmlns:pn.o})}function g2e(e,r){var s=["Worksheets","SheetNames"],a="CustomDocumentProperties",n=[];return e&&oa(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<ed.length;++l)if(i==ed[l][1])return;for(l=0;l<Fu.length;++l)if(i==Fu[l][1])return;for(l=0;l<s.length;++l)if(i==s[l])return;var o=e[i],d="string";typeof o=="number"?(d="float",o=String(o)):o===!0||o===!1?(d="boolean",o=o?"1":"0"):o=String(o),n.push(nt(DT(i),o,{"dt:dt":d}))}}),r&&oa(r).forEach(function(i){if(Object.prototype.hasOwnProperty.call(r,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=r[i],o="string";typeof l=="number"?(o="float",l=String(l)):l===!0||l===!1?(o="boolean",l=l?"1":"0"):l instanceof Date?(o="dateTime.tz",l=l.toISOString()):l=String(l),n.push(nt(DT(i),l,{"dt:dt":o}))}}),"<"+a+' xmlns="'+pn.o+'">'+n.join("")+"</"+a+">"}function y2e(e){var r=typeof e=="string"?new Date(Date.parse(e)):e,s=r.getTime()/1e3+11644473600,a=s%Math.pow(2,32),n=(s-a)/Math.pow(2,32);a*=1e7,n*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),n+=i);var l=ze(8);return l.write_shift(4,a),l.write_shift(4,n),l}function KT(e,r){var s=ze(4),a=ze(4);switch(s.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,r);break;case 5:a=ze(8),a.write_shift(8,r,"f");break;case 11:a.write_shift(4,r?1:0);break;case 64:a=y2e(r);break;case 31:case 80:for(a=ze(4+2*(r.length+1)+(r.length%2?0:2)),a.write_shift(4,r.length+1),a.write_shift(0,r,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}return ra([s,a])}var p$=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function b2e(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function YT(e,r,s){var a=ze(8),n=[],i=[],l=8,o=0,d=ze(8),c=ze(8);if(d.write_shift(4,2),d.write_shift(4,1200),c.write_shift(4,1),i.push(d),n.push(c),l+=8+d.length,!r){c=ze(8),c.write_shift(4,0),n.unshift(c);var u=[ze(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var m=e[o][0];for(d=ze(8+2*(m.length+1)+(m.length%2?0:2)),d.write_shift(4,o+2),d.write_shift(4,m.length+1),d.write_shift(0,m,"dbcs");d.l!=d.length;)d.write_shift(1,0);u.push(d)}d=ra(u),i.unshift(d),l+=8+d.length}for(o=0;o<e.length;++o)if(!(r&&!r[e[o][0]])&&!(p$.indexOf(e[o][0])>-1||m$.indexOf(e[o][0])>-1)&&e[o][1]!=null){var x=e[o][1],h=0;if(r){h=+r[e[o][0]];var p=s[h];if(p.p=="version"&&typeof x=="string"){var f=x.split(".");x=(+f[0]<<16)+(+f[1]||0)}d=KT(p.t,x)}else{var b=b2e(x);b==-1&&(b=31,x=String(x)),d=KT(b,x)}i.push(d),c=ze(8),c.write_shift(4,r?h:2+o),n.push(c),l+=8+d.length}var j=8*(i.length+1);for(o=0;o<i.length;++o)n[o].write_shift(4,j),j+=i[o].length;return a.write_shift(4,l),a.write_shift(4,i.length),ra([a].concat(n).concat(i))}function XT(e,r,s,a,n,i){var l=ze(n?68:48),o=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,yr.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,n?2:1),l.write_shift(16,r,"hex"),l.write_shift(4,n?68:48);var d=YT(e,s,a);if(o.push(d),n){var c=YT(n,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+d.length),o.push(c)}return ra(o)}function v2e(e,r){r||(r=ze(e));for(var s=0;s<e;++s)r.write_shift(1,0);return r}function j2e(e,r){return e.read_shift(r)===1}function Ea(e,r){return r||(r=ze(2)),r.write_shift(2,+!!e),r}function f$(e){return e.read_shift(2,"u")}function Gn(e,r){return r||(r=ze(2)),r.write_shift(2,e),r}function g$(e,r,s){return s||(s=ze(2)),s.write_shift(1,r=="e"?+e:+!!e),s.write_shift(1,r=="e"?1:0),s}function y$(e,r,s){var a=e.read_shift(s&&s.biff>=12?2:1),n="sbcs-cont";if(s&&s.biff>=8,!s||s.biff==8){var i=e.read_shift(1);i&&(n="dbcs-cont")}else s.biff==12&&(n="wstr");s.biff>=2&&s.biff<=5&&(n="cpstr");var l=a?e.read_shift(a,n):"";return l}function w2e(e){var r=e.t||"",s=ze(3);s.write_shift(2,r.length),s.write_shift(1,1);var a=ze(2*r.length);a.write_shift(2*r.length,r,"utf16le");var n=[s,a];return ra(n)}function N2e(e,r,s){var a;if(s){if(s.biff>=2&&s.biff<=5)return e.read_shift(r,"cpstr");if(s.biff>=12)return e.read_shift(r,"dbcs-cont")}var n=e.read_shift(1);return n===0?a=e.read_shift(r,"sbcs-cont"):a=e.read_shift(r,"dbcs-cont"),a}function S2e(e,r,s){var a=e.read_shift(s&&s.biff==2?1:2);return a===0?(e.l++,""):N2e(e,a,s)}function k2e(e,r,s){if(s.biff>5)return S2e(e,r,s);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,s.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function b$(e,r,s){return s||(s=ze(3+2*e.length)),s.write_shift(2,e.length),s.write_shift(1,1),s.write_shift(31,e,"utf16le"),s}function JT(e,r){r||(r=ze(6+e.length*2)),r.write_shift(4,1+e.length);for(var s=0;s<e.length;++s)r.write_shift(2,e.charCodeAt(s));return r.write_shift(2,0),r}function C2e(e){var r=ze(512),s=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var n=a.indexOf("#"),i=n>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}r.write_shift(4,2),r.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(s=0;s<l.length;++s)r.write_shift(4,l[s]);if(i==28)a=a.slice(1),JT(a,r);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<l.length;++s)r.write_shift(1,parseInt(l[s],16));var o=n>-1?a.slice(0,n):a;for(r.write_shift(4,2*(o.length+1)),s=0;s<o.length;++s)r.write_shift(2,o.charCodeAt(s));r.write_shift(2,0),i&8&&JT(n>-1?a.slice(n+1):"",r)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),s=0;s<l.length;++s)r.write_shift(1,parseInt(l[s],16));for(var d=0;a.slice(d*3,d*3+3)=="../"||a.slice(d*3,d*3+3)=="..\\";)++d;for(r.write_shift(2,d),r.write_shift(4,a.length-3*d+1),s=0;s<a.length-3*d;++s)r.write_shift(1,a.charCodeAt(s+3*d)&255);for(r.write_shift(1,0),r.write_shift(2,65535),r.write_shift(2,57005),s=0;s<6;++s)r.write_shift(4,0)}return r.slice(0,r.l)}function wd(e,r,s,a){return a||(a=ze(6)),a.write_shift(2,e),a.write_shift(2,r),a.write_shift(2,s||0),a}function P2e(e,r,s){var a=s.biff>8?4:2,n=e.read_shift(a),i=e.read_shift(a,"i"),l=e.read_shift(a,"i");return[n,i,l]}function A2e(e){var r=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2);return{s:{c:a,r},e:{c:n,r:s}}}function v$(e,r){return r||(r=ze(8)),r.write_shift(2,e.s.r),r.write_shift(2,e.e.r),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c),r}function $6(e,r,s){var a=1536,n=16;switch(s.bookType){case"biff8":break;case"biff5":a=1280,n=8;break;case"biff4":a=4,n=6;break;case"biff3":a=3,n=6;break;case"biff2":a=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=ze(n);return i.write_shift(2,a),i.write_shift(2,r),n>4&&i.write_shift(2,29282),n>6&&i.write_shift(2,1997),n>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function T2e(e,r){var s=!r||r.biff==8,a=ze(s?112:54);for(a.write_shift(r.biff==8?2:1,7),s&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(s?0:536870912));a.l<a.length;)a.write_shift(1,s?0:32);return a}function E2e(e,r){var s=!r||r.biff>=8?2:1,a=ze(8+s*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),r.biff>=8&&a.write_shift(1,1),a.write_shift(s*e.name.length,e.name,r.biff<8?"sbcs":"utf16le");var n=a.slice(0,a.l);return n.l=a.l,n}function I2e(e,r){var s=ze(8);s.write_shift(4,e.Count),s.write_shift(4,e.Unique);for(var a=[],n=0;n<e.length;++n)a[n]=w2e(e[n]);var i=ra([s].concat(a));return i.parts=[s.length].concat(a.map(function(l){return l.length})),i}function _2e(){var e=ze(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function O2e(e){var r=ze(18),s=1718;return e&&e.RTL&&(s|=64),r.write_shift(2,s),r.write_shift(4,0),r.write_shift(4,64),r.write_shift(4,0),r.write_shift(4,0),r}function D2e(e,r){var s=e.name||"Arial",a=r&&r.biff==5,n=a?15+s.length:16+2*s.length,i=ze(n);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,s.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*s.length,s,a?"sbcs":"utf16le"),i}function M2e(e,r,s,a){var n=ze(10);return wd(e,r,a,n),n.write_shift(4,s),n}function L2e(e,r,s,a,n){var i=!n||n.biff==8,l=ze(8+ +i+(1+i)*s.length);return wd(e,r,a,l),l.write_shift(2,s.length),i&&l.write_shift(1,1),l.write_shift((1+i)*s.length,s,i?"utf16le":"sbcs"),l}function F2e(e,r,s,a){var n=s&&s.biff==5;a||(a=ze(n?3+r.length:5+2*r.length)),a.write_shift(2,e),a.write_shift(n?1:2,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}function R2e(e,r){var s=r.biff==8||!r.biff?4:2,a=ze(2*s+6);return a.write_shift(s,e.s.r),a.write_shift(s,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function QT(e,r,s,a){var n=s&&s.biff==5;a||(a=ze(n?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,r<<4));var i=0;return e.numFmtId>0&&n&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),n||a.write_shift(4,0),a.write_shift(2,0),a}function B2e(e){var r=ze(8);return r.write_shift(4,0),r.write_shift(2,0),r.write_shift(2,0),r}function $2e(e,r,s,a,n,i){var l=ze(8);return wd(e,r,a,l),g$(s,i,l),l}function z2e(e,r,s,a){var n=ze(14);return wd(e,r,a,n),jd(s,n),n}function U2e(e,r,s){if(s.biff<8)return H2e(e,r,s);for(var a=[],n=e.l+r,i=e.read_shift(s.biff>8?4:2);i--!==0;)a.push(P2e(e,s.biff>8?12:6,s));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return a}function H2e(e,r,s){e[e.l+1]==3&&e[e.l]++;var a=y$(e,r,s);return a.charCodeAt(0)==3?a.slice(1):a}function V2e(e){var r=ze(2+e.length*8);r.write_shift(2,e.length);for(var s=0;s<e.length;++s)v$(e[s],r);return r}function W2e(e){var r=ze(24),s=Gs(e[0]);r.write_shift(2,s.r),r.write_shift(2,s.r),r.write_shift(2,s.c),r.write_shift(2,s.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)r.write_shift(1,parseInt(a[n],16));return ra([r,C2e(e[1])])}function G2e(e){var r=e[1].Tooltip,s=ze(10+2*(r.length+1));s.write_shift(2,2048);var a=Gs(e[0]);s.write_shift(2,a.r),s.write_shift(2,a.r),s.write_shift(2,a.c),s.write_shift(2,a.c);for(var n=0;n<r.length;++n)s.write_shift(2,r.charCodeAt(n));return s.write_shift(2,0),s}function q2e(e){return e||(e=ze(4)),e.write_shift(2,1),e.write_shift(2,1),e}function K2e(e,r,s){if(!s.cellStyles)return il(e,r);var a=s&&s.biff>=12?4:2,n=e.read_shift(a),i=e.read_shift(a),l=e.read_shift(a),o=e.read_shift(a),d=e.read_shift(2);a==2&&(e.l+=2);var c={s:n,e:i,w:l,ixfe:o,flags:d};return(s.biff>=5||!s.biff)&&(c.level=d>>8&7),c}function Y2e(e,r){var s=ze(12);s.write_shift(2,r),s.write_shift(2,r),s.write_shift(2,e.width*256),s.write_shift(2,0);var a=0;return e.hidden&&(a|=1),s.write_shift(1,a),a=e.level||0,s.write_shift(1,a),s.write_shift(2,0),s}function X2e(e){for(var r=ze(2*e),s=0;s<e;++s)r.write_shift(2,s+1);return r}function J2e(e,r,s){var a=ze(15);return kx(a,e,r),a.write_shift(8,s,"f"),a}function Q2e(e,r,s){var a=ze(9);return kx(a,e,r),a.write_shift(2,s),a}var Z2e=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},r=T6({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function s(o,d){var c=[],u=vd(1);switch(d.type){case"base64":u=Si(Kl(o));break;case"binary":u=Si(o);break;case"buffer":case"array":u=o;break}xn(u,0);var m=u.read_shift(1),x=!!(m&136),h=!1,p=!1;switch(m){case 2:break;case 3:break;case 48:h=!0,x=!0;break;case 49:h=!0,x=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var f=0,b=521;m==2&&(f=u.read_shift(2)),u.l+=3,m!=2&&(f=u.read_shift(4)),f>1048576&&(f=1e6),m!=2&&(b=u.read_shift(2));var j=u.read_shift(2),w=d.codepage||1252;m!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(w=e[u[u.l]]),u.l+=1,u.l+=2),p&&(u.l+=36);for(var y=[],v={},N=Math.min(u.length,m==2?521:b-10-(h?264:0)),S=p?32:11;u.l<N&&u[u.l]!=13;)switch(v={},v.name=Hg.utils.decode(w,u.slice(u.l,u.l+S)).replace(/[\u0000\r\n].*$/g,""),u.l+=S,v.type=String.fromCharCode(u.read_shift(1)),m!=2&&!p&&(v.offset=u.read_shift(4)),v.len=u.read_shift(1),m==2&&(v.offset=u.read_shift(2)),v.dec=u.read_shift(1),v.name.length&&y.push(v),m!=2&&(u.l+=p?13:14),v.type){case"B":(!h||v.len!=8)&&d.WTF&&console.log("Skipping "+v.name+":"+v.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+v.name+":"+v.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+v.type)}if(u[u.l]!==13&&(u.l=b-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=b;var k=0,P=0;for(c[0]=[],P=0;P!=y.length;++P)c[0][P]=y[P].name;for(;f-- >0;){if(u[u.l]===42){u.l+=j;continue}for(++u.l,c[++k]=[],P=0,P=0;P!=y.length;++P){var C=u.slice(u.l,u.l+y[P].len);u.l+=y[P].len,xn(C,0);var I=Hg.utils.decode(w,C);switch(y[P].type){case"C":I.trim().length&&(c[k][P]=I.replace(/\s+$/,""));break;case"D":I.length===8?c[k][P]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):c[k][P]=I;break;case"F":c[k][P]=parseFloat(I.trim());break;case"+":case"I":c[k][P]=p?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":c[k][P]=!0;break;case"N":case"F":c[k][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));c[k][P]="##MEMO##"+(p?parseInt(I.trim(),10):C.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(c[k][P]=+I||0);break;case"@":c[k][P]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":c[k][P]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":c[k][P]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[k][P]=-C.read_shift(-8,"f");break;case"B":if(h&&y[P].len==8){c[k][P]=C.read_shift(8,"f");break}case"G":case"P":C.l+=y[P].len;break;case"0":if(y[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[P].type)}}}if(m!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return d&&d.sheetRows&&(c=c.slice(0,d.sheetRows)),d.DBF=y,c}function a(o,d){var c=d||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Om(s(o,c),c);return u["!cols"]=c.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete c.DBF,u}function n(o,d){try{return Md(a(o,d),d)}catch(c){if(d&&d.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(o,d){var c=d||{};if(+c.codepage>=0&&A0(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=Qa(),m=ry(o,{header:1,raw:!0,cellDates:!0}),x=m[0],h=m.slice(1),p=o["!cols"]||[],f=0,b=0,j=0,w=1;for(f=0;f<x.length;++f){if(((p[f]||{}).DBF||{}).name){x[f]=p[f].DBF.name,++j;continue}if(x[f]!=null){if(++j,typeof x[f]=="number"&&(x[f]=x[f].toString(10)),typeof x[f]!="string")throw new Error("DBF Invalid column name "+x[f]+" |"+typeof x[f]+"|");if(x.indexOf(x[f])!==f){for(b=0;b<1024;++b)if(x.indexOf(x[f]+"_"+b)==-1){x[f]+="_"+b;break}}}}var y=Br(o["!ref"]),v=[],N=[],S=[];for(f=0;f<=y.e.c-y.s.c;++f){var k="",P="",C=0,I=[];for(b=0;b<h.length;++b)h[b][f]!=null&&I.push(h[b][f]);if(I.length==0||x[f]==null){v[f]="?";continue}for(b=0;b<I.length;++b){switch(typeof I[b]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=I[b]instanceof Date?"D":"C";break;default:P="C"}C=Math.max(C,String(I[b]).length),k=k&&k!=P?"C":P}C>250&&(C=250),P=((p[f]||{}).DBF||{}).type,P=="C"&&p[f].DBF.len>C&&(C=p[f].DBF.len),k=="B"&&P=="N"&&(k="N",S[f]=p[f].DBF.dec,C=p[f].DBF.len),N[f]=k=="C"||P=="N"?C:i[k]||0,w+=N[f],v[f]=k}var A=u.next(32);for(A.write_shift(4,318902576),A.write_shift(4,h.length),A.write_shift(2,296+32*j),A.write_shift(2,w),f=0;f<4;++f)A.write_shift(4,0);for(A.write_shift(4,0|(+r[wB]||3)<<8),f=0,b=0;f<x.length;++f)if(x[f]!=null){var O=u.next(32),R=(x[f].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,R,"sbcs"),O.write_shift(1,v[f]=="?"?"C":v[f],"sbcs"),O.write_shift(4,b),O.write_shift(1,N[f]||i[v[f]]||0),O.write_shift(1,S[f]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),b+=N[f]||i[v[f]]||0}var Z=u.next(264);for(Z.write_shift(4,13),f=0;f<65;++f)Z.write_shift(4,0);for(f=0;f<h.length;++f){var Y=u.next(w);for(Y.write_shift(1,0),b=0;b<x.length;++b)if(x[b]!=null)switch(v[b]){case"L":Y.write_shift(1,h[f][b]==null?63:h[f][b]?84:70);break;case"B":Y.write_shift(8,h[f][b]||0,"f");break;case"N":var ce="0";for(typeof h[f][b]=="number"&&(ce=h[f][b].toFixed(S[b]||0)),j=0;j<N[b]-ce.length;++j)Y.write_shift(1,32);Y.write_shift(1,ce,"sbcs");break;case"D":h[f][b]?(Y.write_shift(4,("0000"+h[f][b].getFullYear()).slice(-4),"sbcs"),Y.write_shift(2,("00"+(h[f][b].getMonth()+1)).slice(-2),"sbcs"),Y.write_shift(2,("00"+h[f][b].getDate()).slice(-2),"sbcs")):Y.write_shift(8,"00000000","sbcs");break;case"C":var D=String(h[f][b]!=null?h[f][b]:"").slice(0,N[b]);for(Y.write_shift(1,D,"sbcs"),j=0;j<N[b]-D.length;++j)Y.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:n,to_sheet:a,from_sheet:l}}(),eje=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},r=new RegExp("\x1BN("+oa(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),s=function(x,h){var p=e[h];return typeof p=="number"?wT(p):p},a=function(x,h,p){var f=h.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return f==59?x:wT(f)};e["|"]=254;function n(x,h){switch(h.type){case"base64":return i(Kl(x),h);case"binary":return i(x,h);case"buffer":return i(cr&&Buffer.isBuffer(x)?x.toString("binary"):vx(x),h);case"array":return i(Qb(x),h)}throw new Error("Unrecognized type "+h.type)}function i(x,h){var p=x.split(/[\n\r]+/),f=-1,b=-1,j=0,w=0,y=[],v=[],N=null,S={},k=[],P=[],C=[],I=0,A;for(+h.codepage>=0&&A0(+h.codepage);j!==p.length;++j){I=0;var O=p[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(r,s),R=O.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),Z=R[0],Y;if(O.length>0)switch(Z){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":R[1].charAt(0)=="P"&&v.push(O.slice(3).replace(/;;/g,";"));break;case"C":var ce=!1,D=!1,z=!1,se=!1,K=-1,_=-1;for(w=1;w<R.length;++w)switch(R[w].charAt(0)){case"A":break;case"X":b=parseInt(R[w].slice(1))-1,D=!0;break;case"Y":for(f=parseInt(R[w].slice(1))-1,D||(b=0),A=y.length;A<=f;++A)y[A]=[];break;case"K":Y=R[w].slice(1),Y.charAt(0)==='"'?Y=Y.slice(1,Y.length-1):Y==="TRUE"?Y=!0:Y==="FALSE"?Y=!1:isNaN(El(Y))?isNaN(E0(Y).getDate())||(Y=La(Y)):(Y=El(Y),N!==null&&DB(N)&&(Y=RB(Y))),ce=!0;break;case"E":se=!0;var M=Qje(R[w].slice(1),{r:f,c:b});y[f][b]=[y[f][b],M];break;case"S":z=!0,y[f][b]=[y[f][b],"S5S"];break;case"G":break;case"R":K=parseInt(R[w].slice(1))-1;break;case"C":_=parseInt(R[w].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+O)}if(ce&&(y[f][b]&&y[f][b].length==2?y[f][b][0]=Y:y[f][b]=Y,N=null),z){if(se)throw new Error("SYLK shared formula cannot have own formula");var F=K>-1&&y[K][_];if(!F||!F[1])throw new Error("SYLK shared formula cannot find base");y[f][b][1]=Zje(F[1],{r:f-K,c:b-_})}break;case"F":var B=0;for(w=1;w<R.length;++w)switch(R[w].charAt(0)){case"X":b=parseInt(R[w].slice(1))-1,++B;break;case"Y":for(f=parseInt(R[w].slice(1))-1,A=y.length;A<=f;++A)y[A]=[];break;case"M":I=parseInt(R[w].slice(1))/20;break;case"F":break;case"G":break;case"P":N=v[parseInt(R[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=R[w].slice(1).split(" "),A=parseInt(C[0],10);A<=parseInt(C[1],10);++A)I=parseInt(C[2],10),P[A-1]=I===0?{hidden:!0}:{wch:I},z6(P[A-1]);break;case"C":b=parseInt(R[w].slice(1))-1,P[b]||(P[b]={});break;case"R":f=parseInt(R[w].slice(1))-1,k[f]||(k[f]={}),I>0?(k[f].hpt=I,k[f].hpx=k$(I)):I===0&&(k[f].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+O)}B<1&&(N=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+O)}}return k.length>0&&(S["!rows"]=k),P.length>0&&(S["!cols"]=P),h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),[y,S]}function l(x,h){var p=n(x,h),f=p[0],b=p[1],j=Om(f,h);return oa(b).forEach(function(w){j[w]=b[w]}),j}function o(x,h){return Md(l(x,h),h)}function d(x,h,p,f){var b="C;Y"+(p+1)+";X"+(f+1)+";K";switch(x.t){case"n":b+=x.v||0,x.f&&!x.F&&(b+=";E"+H6(x.f,{r:p,c:f}));break;case"b":b+=x.v?"TRUE":"FALSE";break;case"e":b+=x.w||x.v;break;case"d":b+='"'+(x.w||x.v)+'"';break;case"s":b+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function c(x,h){h.forEach(function(p,f){var b="F;W"+(f+1)+" "+(f+1)+" ";p.hidden?b+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=Qg(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=Zg(p.wpx)),typeof p.wch=="number"&&(b+=Math.round(p.wch))),b.charAt(b.length-1)!=" "&&x.push(b)})}function u(x,h){h.forEach(function(p,f){var b="F;";p.hidden?b+="M0;":p.hpt?b+="M"+20*p.hpt+";":p.hpx&&(b+="M"+20*ey(p.hpx)+";"),b.length>2&&x.push(b+"R"+(f+1))})}function m(x,h){var p=["ID;PWXL;N;E"],f=[],b=Br(x["!ref"]),j,w=Array.isArray(x),y=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),x["!cols"]&&c(p,x["!cols"]),x["!rows"]&&u(p,x["!rows"]),p.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var v=b.s.r;v<=b.e.r;++v)for(var N=b.s.c;N<=b.e.c;++N){var S=gr({r:v,c:N});j=w?(x[v]||[])[N]:x[S],!(!j||j.v==null&&(!j.f||j.F))&&f.push(d(j,x,v,N))}return p.join(y)+y+f.join(y)+y+"E"+y}return{to_workbook:o,to_sheet:l,from_sheet:m}}(),tje=function(){function e(i,l){switch(l.type){case"base64":return r(Kl(i),l);case"binary":return r(i,l);case"buffer":return r(cr&&Buffer.isBuffer(i)?i.toString("binary"):vx(i),l);case"array":return r(Qb(i),l)}throw new Error("Unrecognized type "+l.type)}function r(i,l){for(var o=i.split(`
`),d=-1,c=-1,u=0,m=[];u!==o.length;++u){if(o[u].trim()==="BOT"){m[++d]=[],c=0;continue}if(!(d<0)){var x=o[u].trim().split(","),h=x[0],p=x[1];++u;for(var f=o[u]||"";(f.match(/["]/g)||[]).length&1&&u<o.length-1;)f+=`
`+o[++u];switch(f=f.trim(),+h){case-1:if(f==="BOT"){m[++d]=[],c=0;continue}else if(f!=="EOD")throw new Error("Unrecognized DIF special command "+f);break;case 0:f==="TRUE"?m[d][c]=!0:f==="FALSE"?m[d][c]=!1:isNaN(El(p))?isNaN(E0(p).getDate())?m[d][c]=p:m[d][c]=La(p):m[d][c]=El(p),++c;break;case 1:f=f.slice(1,f.length-1),f=f.replace(/""/g,'"'),f&&f.match(/^=".*"$/)&&(f=f.slice(2,-1)),m[d][c++]=f!==""?f:null;break}if(f==="EOD")break}}return l&&l.sheetRows&&(m=m.slice(0,l.sheetRows)),m}function s(i,l){return Om(e(i,l),l)}function a(i,l){return Md(s(i,l),l)}var n=function(){var i=function(d,c,u,m,x){d.push(c),d.push(u+","+m),d.push('"'+x.replace(/"/g,'""')+'"')},l=function(d,c,u,m){d.push(c+","+u),d.push(c==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(d){var c=[],u=Br(d["!ref"]),m,x=Array.isArray(d);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){l(c,-1,0,"BOT");for(var p=u.s.c;p<=u.e.c;++p){var f=gr({r:h,c:p});if(m=x?(d[h]||[])[p]:d[f],!m){l(c,1,0,"");continue}switch(m.t){case"n":var b=m.w;!b&&m.v!=null&&(b=m.v),b==null?m.f&&!m.F?l(c,1,0,"="+m.f):l(c,1,0,""):l(c,0,b,"V");break;case"b":l(c,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":l(c,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=ac(m.z||ls[14],sn(La(m.v)))),l(c,0,m.w,"V");break;default:l(c,1,0,"")}}}l(c,-1,0,"EOD");var j=`\r
`,w=c.join(j);return w}}();return{to_workbook:a,to_sheet:s,from_sheet:n}}(),j$=function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function r(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function s(m,x){for(var h=m.split(`
`),p=-1,f=-1,b=0,j=[];b!==h.length;++b){var w=h[b].trim().split(":");if(w[0]==="cell"){var y=Gs(w[1]);if(j.length<=y.r)for(p=j.length;p<=y.r;++p)j[p]||(j[p]=[]);switch(p=y.r,f=y.c,w[2]){case"t":j[p][f]=e(w[3]);break;case"v":j[p][f]=+w[3];break;case"vtf":var v=w[w.length-1];case"vtc":switch(w[3]){case"nl":j[p][f]=!!+w[4];break;default:j[p][f]=+w[4];break}w[2]=="vtf"&&(j[p][f]=[j[p][f],v])}}}return x&&x.sheetRows&&(j=j.slice(0,x.sheetRows)),j}function a(m,x){return Om(s(m,x),x)}function n(m,x){return Md(a(m,x),x)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function c(m){if(!m||!m["!ref"])return"";for(var x=[],h=[],p,f="",b=An(m["!ref"]),j=Array.isArray(m),w=b.s.r;w<=b.e.r;++w)for(var y=b.s.c;y<=b.e.c;++y)if(f=gr({r:w,c:y}),p=j?(m[w]||[])[y]:m[f],!(!p||p.v==null||p.t==="z")){switch(h=["cell",f,"t"],p.t){case"s":case"str":h.push(r(p.v));break;case"n":p.f?(h[2]="vtf",h[3]="n",h[4]=p.v,h[5]=r(p.f)):(h[2]="v",h[3]=p.v);break;case"b":h[2]="vt"+(p.f?"f":"c"),h[3]="nl",h[4]=p.v?"1":"0",h[5]=r(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var v=sn(La(p.v));h[2]="vtc",h[3]="nd",h[4]=""+v,h[5]=p.w||ac(p.z||ls[14],v);break;case"e":continue}x.push(h.join(":"))}return x.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function u(m){return[i,l,o,l,c(m),d].join(`
`)}return{to_workbook:n,to_sheet:a,from_sheet:u}}(),rje=function(){function e(u,m,x,h,p){p.raw?m[x][h]=u:u===""||(u==="TRUE"?m[x][h]=!0:u==="FALSE"?m[x][h]=!1:isNaN(El(u))?isNaN(E0(u).getDate())?m[x][h]=u:m[x][h]=La(u):m[x][h]=El(u))}function r(u,m){var x=m||{},h=[];if(!u||u.length===0)return h;for(var p=u.split(/[\r\n]/),f=p.length-1;f>=0&&p[f].length===0;)--f;for(var b=10,j=0,w=0;w<=f;++w)j=p[w].indexOf(" "),j==-1?j=p[w].length:j++,b=Math.max(b,j);for(w=0;w<=f;++w){h[w]=[];var y=0;for(e(p[w].slice(0,b).trim(),h,w,y,x),y=1;y<=(p[w].length-b)/10+1;++y)e(p[w].slice(b+(y-1)*10,b+y*10).trim(),h,w,y,x)}return x.sheetRows&&(h=h.slice(0,x.sheetRows)),h}var s={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function n(u){for(var m={},x=!1,h=0,p=0;h<u.length;++h)(p=u.charCodeAt(h))==34?x=!x:!x&&p in s&&(m[p]=(m[p]||0)+1);p=[];for(h in m)Object.prototype.hasOwnProperty.call(m,h)&&p.push([m[h],h]);if(!p.length){m=a;for(h in m)Object.prototype.hasOwnProperty.call(m,h)&&p.push([m[h],h])}return p.sort(function(f,b){return f[0]-b[0]||a[f[1]]-a[b[1]]}),s[p.pop()[1]]||44}function i(u,m){var x=m||{},h="",p=x.dense?[]:{},f={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=n(u.slice(0,1024)):x&&x.FS?h=x.FS:h=n(u.slice(0,1024));var b=0,j=0,w=0,y=0,v=0,N=h.charCodeAt(0),S=!1,k=0,P=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var C=x.dateNF!=null?y1e(x.dateNF):null;function I(){var A=u.slice(y,v),O={};if(A.charAt(0)=='"'&&A.charAt(A.length-1)=='"'&&(A=A.slice(1,-1).replace(/""/g,'"')),A.length===0)O.t="z";else if(x.raw)O.t="s",O.v=A;else if(A.trim().length===0)O.t="s",O.v=A;else if(A.charCodeAt(0)==61)A.charCodeAt(1)==34&&A.charCodeAt(A.length-1)==34?(O.t="s",O.v=A.slice(2,-1).replace(/""/g,'"')):ewe(A)?(O.t="n",O.f=A.slice(1)):(O.t="s",O.v=A);else if(A=="TRUE")O.t="b",O.v=!0;else if(A=="FALSE")O.t="b",O.v=!1;else if(!isNaN(w=El(A)))O.t="n",x.cellText!==!1&&(O.w=A),O.v=w;else if(!isNaN(E0(A).getDate())||C&&A.match(C)){O.z=x.dateNF||ls[14];var R=0;C&&A.match(C)&&(A=b1e(A,x.dateNF,A.match(C)||[]),R=1),x.cellDates?(O.t="d",O.v=La(A,R)):(O.t="n",O.v=sn(La(A,R))),x.cellText!==!1&&(O.w=ac(O.z,O.v instanceof Date?sn(O.v):O.v)),x.cellNF||delete O.z}else O.t="s",O.v=A;if(O.t=="z"||(x.dense?(p[b]||(p[b]=[]),p[b][j]=O):p[gr({c:j,r:b})]=O),y=v+1,P=u.charCodeAt(y),f.e.c<j&&(f.e.c=j),f.e.r<b&&(f.e.r=b),k==N)++j;else if(j=0,++b,x.sheetRows&&x.sheetRows<=b)return!0}e:for(;v<u.length;++v)switch(k=u.charCodeAt(v)){case 34:P===34&&(S=!S);break;case N:case 10:case 13:if(!S&&I())break e;break}return v-y>0&&I(),p["!ref"]=Ts(f),p}function l(u,m){return!(m&&m.PRN)||m.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,m):Om(r(u,m),m)}function o(u,m){var x="",h=m.type=="string"?[0,0,0,0]:x6e(u,m);switch(m.type){case"base64":x=Kl(u);break;case"binary":x=u;break;case"buffer":m.codepage==65001?x=u.toString("utf8"):m.codepage&&typeof Hg<"u"||(x=cr&&Buffer.isBuffer(u)?u.toString("binary"):vx(u));break;case"array":x=Qb(u);break;case"string":x=u;break;default:throw new Error("Unrecognized type "+m.type)}return h[0]==239&&h[1]==187&&h[2]==191?x=Mh(x.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?x=Mh(x):m.type=="binary"&&typeof Hg<"u",x.slice(0,19)=="socialcalc:version:"?j$.to_sheet(m.type=="string"?x:Mh(x),m):l(x,m)}function d(u,m){return Md(o(u,m),m)}function c(u){for(var m=[],x=Br(u["!ref"]),h,p=Array.isArray(u),f=x.s.r;f<=x.e.r;++f){for(var b=[],j=x.s.c;j<=x.e.c;++j){var w=gr({r:f,c:j});if(h=p?(u[f]||[])[j]:u[w],!h||h.v==null){b.push("          ");continue}for(var y=(h.w||(Yl(h),h.w)||"").slice(0,10);y.length<10;)y+=" ";b.push(y+(j===0?" ":""))}m.push(b.join(""))}return m.join(`
`)}return{to_workbook:d,to_sheet:o,from_sheet:c}}(),ZT=function(){function e(M,F,B){if(M){xn(M,M.l||0);for(var q=B.Enum||K;M.l<M.length;){var ae=M.read_shift(2),V=q[ae]||q[65535],G=M.read_shift(2),te=M.l+G,pe=V.f&&V.f(M,G,B);if(M.l=te,F(pe,V,ae))return}}}function r(M,F){switch(F.type){case"base64":return s(Si(Kl(M)),F);case"binary":return s(Si(M),F);case"buffer":case"array":return s(M,F)}throw"Unsupported type "+F.type}function s(M,F){if(!M)return M;var B=F||{},q=B.dense?[]:{},ae="Sheet1",V="",G=0,te={},pe=[],ye=[],he={s:{r:0,c:0},e:{r:0,c:0}},Qe=B.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)B.Enum=K,e(M,function(we,L,ue){switch(ue){case 0:B.vers=we,we>=4096&&(B.qpro=!0);break;case 6:he=we;break;case 204:we&&(V=we);break;case 222:V=we;break;case 15:case 51:B.qpro||(we[1].v=we[1].v.slice(1));case 13:case 14:case 16:ue==14&&(we[2]&112)==112&&(we[2]&15)>1&&(we[2]&15)<15&&(we[1].z=B.dateNF||ls[14],B.cellDates&&(we[1].t="d",we[1].v=RB(we[1].v))),B.qpro&&we[3]>G&&(q["!ref"]=Ts(he),te[ae]=q,pe.push(ae),q=B.dense?[]:{},he={s:{r:0,c:0},e:{r:0,c:0}},G=we[3],ae=V||"Sheet"+(G+1),V="");var ee=B.dense?(q[we[0].r]||[])[we[0].c]:q[gr(we[0])];if(ee){ee.t=we[1].t,ee.v=we[1].v,we[1].z!=null&&(ee.z=we[1].z),we[1].f!=null&&(ee.f=we[1].f);break}B.dense?(q[we[0].r]||(q[we[0].r]=[]),q[we[0].r][we[0].c]=we[1]):q[gr(we[0])]=we[1];break}},B);else if(M[2]==26||M[2]==14)B.Enum=_,M[2]==14&&(B.qpro=!0,M.l=0),e(M,function(we,L,ue){switch(ue){case 204:ae=we;break;case 22:we[1].v=we[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(we[3]>G&&(q["!ref"]=Ts(he),te[ae]=q,pe.push(ae),q=B.dense?[]:{},he={s:{r:0,c:0},e:{r:0,c:0}},G=we[3],ae="Sheet"+(G+1)),Qe>0&&we[0].r>=Qe)break;B.dense?(q[we[0].r]||(q[we[0].r]=[]),q[we[0].r][we[0].c]=we[1]):q[gr(we[0])]=we[1],he.e.c<we[0].c&&(he.e.c=we[0].c),he.e.r<we[0].r&&(he.e.r=we[0].r);break;case 27:we[14e3]&&(ye[we[14e3][0]]=we[14e3][1]);break;case 1537:ye[we[0]]=we[1],we[0]==G&&(ae=we[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(q["!ref"]=Ts(he),te[V||ae]=q,pe.push(V||ae),!ye.length)return{SheetNames:pe,Sheets:te};for(var W={},Ie=[],Se=0;Se<ye.length;++Se)te[pe[Se]]?(Ie.push(ye[Se]||pe[Se]),W[ye[Se]]=te[ye[Se]]||te[pe[Se]]):(Ie.push(ye[Se]),W[ye[Se]]={"!ref":"A1"});return{SheetNames:Ie,Sheets:W}}function a(M,F){var B=F||{};if(+B.codepage>=0&&A0(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var q=Qa(),ae=Br(M["!ref"]),V=Array.isArray(M),G=[];lt(q,0,i(1030)),lt(q,6,d(ae));for(var te=Math.min(ae.e.r,8191),pe=ae.s.r;pe<=te;++pe)for(var ye=na(pe),he=ae.s.c;he<=ae.e.c;++he){pe===ae.s.r&&(G[he]=va(he));var Qe=G[he]+ye,W=V?(M[pe]||[])[he]:M[Qe];if(!(!W||W.t=="z"))if(W.t=="n")(W.v|0)==W.v&&W.v>=-32768&&W.v<=32767?lt(q,13,h(pe,he,W.v)):lt(q,14,f(pe,he,W.v));else{var Ie=Yl(W);lt(q,15,m(pe,he,Ie.slice(0,239)))}}return lt(q,1),q.end()}function n(M,F){var B=F||{};if(+B.codepage>=0&&A0(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var q=Qa();lt(q,0,l(M));for(var ae=0,V=0;ae<M.SheetNames.length;++ae)(M.Sheets[M.SheetNames[ae]]||{})["!ref"]&&lt(q,27,se(M.SheetNames[ae],V++));var G=0;for(ae=0;ae<M.SheetNames.length;++ae){var te=M.Sheets[M.SheetNames[ae]];if(!(!te||!te["!ref"])){for(var pe=Br(te["!ref"]),ye=Array.isArray(te),he=[],Qe=Math.min(pe.e.r,8191),W=pe.s.r;W<=Qe;++W)for(var Ie=na(W),Se=pe.s.c;Se<=pe.e.c;++Se){W===pe.s.r&&(he[Se]=va(Se));var we=he[Se]+Ie,L=ye?(te[W]||[])[Se]:te[we];if(!(!L||L.t=="z"))if(L.t=="n")lt(q,23,I(W,Se,G,L.v));else{var ue=Yl(L);lt(q,22,k(W,Se,G,ue.slice(0,239)))}}++G}}return lt(q,1),q.end()}function i(M){var F=ze(2);return F.write_shift(2,M),F}function l(M){var F=ze(26);F.write_shift(2,4096),F.write_shift(2,4),F.write_shift(4,0);for(var B=0,q=0,ae=0,V=0;V<M.SheetNames.length;++V){var G=M.SheetNames[V],te=M.Sheets[G];if(!(!te||!te["!ref"])){++ae;var pe=An(te["!ref"]);B<pe.e.r&&(B=pe.e.r),q<pe.e.c&&(q=pe.e.c)}}return B>8191&&(B=8191),F.write_shift(2,B),F.write_shift(1,ae),F.write_shift(1,q),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(1,1),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(4,0),F}function o(M,F,B){var q={s:{c:0,r:0},e:{c:0,r:0}};return F==8&&B.qpro?(q.s.c=M.read_shift(1),M.l++,q.s.r=M.read_shift(2),q.e.c=M.read_shift(1),M.l++,q.e.r=M.read_shift(2),q):(q.s.c=M.read_shift(2),q.s.r=M.read_shift(2),F==12&&B.qpro&&(M.l+=2),q.e.c=M.read_shift(2),q.e.r=M.read_shift(2),F==12&&B.qpro&&(M.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function d(M){var F=ze(8);return F.write_shift(2,M.s.c),F.write_shift(2,M.s.r),F.write_shift(2,M.e.c),F.write_shift(2,M.e.r),F}function c(M,F,B){var q=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(q[0].c=M.read_shift(1),q[3]=M.read_shift(1),q[0].r=M.read_shift(2),M.l+=2):(q[2]=M.read_shift(1),q[0].c=M.read_shift(2),q[0].r=M.read_shift(2)),q}function u(M,F,B){var q=M.l+F,ae=c(M,F,B);if(ae[1].t="s",B.vers==20768){M.l++;var V=M.read_shift(1);return ae[1].v=M.read_shift(V,"utf8"),ae}return B.qpro&&M.l++,ae[1].v=M.read_shift(q-M.l,"cstr"),ae}function m(M,F,B){var q=ze(7+B.length);q.write_shift(1,255),q.write_shift(2,F),q.write_shift(2,M),q.write_shift(1,39);for(var ae=0;ae<q.length;++ae){var V=B.charCodeAt(ae);q.write_shift(1,V>=128?95:V)}return q.write_shift(1,0),q}function x(M,F,B){var q=c(M,F,B);return q[1].v=M.read_shift(2,"i"),q}function h(M,F,B){var q=ze(7);return q.write_shift(1,255),q.write_shift(2,F),q.write_shift(2,M),q.write_shift(2,B,"i"),q}function p(M,F,B){var q=c(M,F,B);return q[1].v=M.read_shift(8,"f"),q}function f(M,F,B){var q=ze(13);return q.write_shift(1,255),q.write_shift(2,F),q.write_shift(2,M),q.write_shift(8,B,"f"),q}function b(M,F,B){var q=M.l+F,ae=c(M,F,B);if(ae[1].v=M.read_shift(8,"f"),B.qpro)M.l=q;else{var V=M.read_shift(2);v(M.slice(M.l,M.l+V),ae),M.l+=V}return ae}function j(M,F,B){var q=F&32768;return F&=-32769,F=(q?M:0)+(F>=8192?F-16384:F),(q?"":"$")+(B?va(F):na(F))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function v(M,F){xn(M,0);for(var B=[],q=0,ae="",V="",G="",te="";M.l<M.length;){var pe=M[M.l++];switch(pe){case 0:B.push(M.read_shift(8,"f"));break;case 1:V=j(F[0].c,M.read_shift(2),!0),ae=j(F[0].r,M.read_shift(2),!1),B.push(V+ae);break;case 2:{var ye=j(F[0].c,M.read_shift(2),!0),he=j(F[0].r,M.read_shift(2),!1);V=j(F[0].c,M.read_shift(2),!0),ae=j(F[0].r,M.read_shift(2),!1),B.push(ye+he+":"+V+ae)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(M.read_shift(2));break;case 6:{for(var Qe="";pe=M[M.l++];)Qe+=String.fromCharCode(pe);B.push('"'+Qe.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:te=B.pop(),G=B.pop(),B.push(["AND","OR"][pe-20]+"("+G+","+te+")");break;default:if(pe<32&&y[pe])te=B.pop(),G=B.pop(),B.push(G+y[pe]+te);else if(w[pe]){if(q=w[pe][1],q==69&&(q=M[M.l++]),q>B.length){console.error("WK1 bad formula parse 0x"+pe.toString(16)+":|"+B.join("|")+"|");return}var W=B.slice(-q);B.length-=q,B.push(w[pe][0]+"("+W.join(",")+")")}else return pe<=7?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=24?console.error("WK1 unsupported op "+pe.toString(16)):pe<=30?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=115?console.error("WK1 unsupported function opcode "+pe.toString(16)):console.error("WK1 unrecognized opcode "+pe.toString(16))}}B.length==1?F[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function N(M){var F=[{c:0,r:0},{t:"n",v:0},0];return F[0].r=M.read_shift(2),F[3]=M[M.l++],F[0].c=M[M.l++],F}function S(M,F){var B=N(M);return B[1].t="s",B[1].v=M.read_shift(F-4,"cstr"),B}function k(M,F,B,q){var ae=ze(6+q.length);ae.write_shift(2,M),ae.write_shift(1,B),ae.write_shift(1,F),ae.write_shift(1,39);for(var V=0;V<q.length;++V){var G=q.charCodeAt(V);ae.write_shift(1,G>=128?95:G)}return ae.write_shift(1,0),ae}function P(M,F){var B=N(M);B[1].v=M.read_shift(2);var q=B[1].v>>1;if(B[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return B[1].v=q,B}function C(M,F){var B=N(M),q=M.read_shift(4),ae=M.read_shift(4),V=M.read_shift(2);if(V==65535)return q===0&&ae===3221225472?(B[1].t="e",B[1].v=15):q===0&&ae===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var G=V&32768;return V=(V&32767)-16446,B[1].v=(1-G*2)*(ae*Math.pow(2,V+32)+q*Math.pow(2,V)),B}function I(M,F,B,q){var ae=ze(14);if(ae.write_shift(2,M),ae.write_shift(1,B),ae.write_shift(1,F),q==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var V=0,G=0,te=0,pe=0;return q<0&&(V=1,q=-q),G=Math.log2(q)|0,q/=Math.pow(2,G-31),pe=q>>>0,pe&2147483648||(q/=2,++G,pe=q>>>0),q-=pe,pe|=2147483648,pe>>>=0,q*=Math.pow(2,32),te=q>>>0,ae.write_shift(4,te),ae.write_shift(4,pe),G+=16383+(V?32768:0),ae.write_shift(2,G),ae}function A(M,F){var B=C(M);return M.l+=F-14,B}function O(M,F){var B=N(M),q=M.read_shift(4);return B[1].v=q>>6,B}function R(M,F){var B=N(M),q=M.read_shift(8,"f");return B[1].v=q,B}function Z(M,F){var B=R(M);return M.l+=F-10,B}function Y(M,F){return M[M.l+F-1]==0?M.read_shift(F,"cstr"):""}function ce(M,F){var B=M[M.l++];B>F-1&&(B=F-1);for(var q="";q.length<B;)q+=String.fromCharCode(M[M.l++]);return q}function D(M,F,B){if(!(!B.qpro||F<21)){var q=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var ae=M.read_shift(F-21,"cstr");return[q,ae]}}function z(M,F){for(var B={},q=M.l+F;M.l<q;){var ae=M.read_shift(2);if(ae==14e3){for(B[ae]=[0,""],B[ae][0]=M.read_shift(2);M[M.l];)B[ae][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return B}function se(M,F){var B=ze(5+M.length);B.write_shift(2,14e3),B.write_shift(2,F);for(var q=0;q<M.length;++q){var ae=M.charCodeAt(q);B[B.l++]=ae>127?95:ae}return B[B.l++]=0,B}var K={0:{n:"BOF",f:f$},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Y},222:{n:"SHEETNAMELP",f:ce},65535:{n:""}},_={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:A},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:z},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:R},40:{n:"FORMULA28",f:Z},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Y},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:D},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:n,to_workbook:r}}(),sje=/^\s|\s$|[\t\n\r]/;function w$(e,r){if(!r.bookSST)return"";var s=[Es];s[s.length]=nt("sst",null,{xmlns:_m[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var n=e[a],i="<si>";n.r?i+=n.r:(i+="<t",n.t||(n.t=""),n.t.match(sje)&&(i+=' xml:space="preserve"'),i+=">"+pr(n.t)+"</t>"),i+="</si>",s[s.length]=i}return s.length>2&&(s[s.length]="</sst>",s[1]=s[1].replace("/>",">")),s.join("")}function aje(e){return[e.read_shift(4),e.read_shift(4)]}function nje(e,r){return r||(r=ze(8)),r.write_shift(4,e.Count),r.write_shift(4,e.Unique),r}var ije=X1e;function lje(e){var r=Qa();Ye(r,159,nje(e));for(var s=0;s<e.length;++s)Ye(r,19,ije(e[s]));return Ye(r,160),r.end()}function oje(e){for(var r=[],s=e.split(""),a=0;a<s.length;++a)r[a]=s[a].charCodeAt(0);return r}function N$(e){var r=0,s,a=oje(e),n=a.length+1,i,l,o,d,c;for(s=vd(n),s[0]=a.length,i=1;i!=n;++i)s[i]=a[i-1];for(i=n-1;i>=0;--i)l=s[i],o=r&16384?1:0,d=r<<1&32767,c=o|d,r=c^l;return r^52811}var cje=function(){function e(n,i){switch(i.type){case"base64":return r(Kl(n),i);case"binary":return r(n,i);case"buffer":return r(cr&&Buffer.isBuffer(n)?n.toString("binary"):vx(n),i);case"array":return r(Qb(n),i)}throw new Error("Unrecognized type "+i.type)}function r(n,i){var l=i||{},o=l.dense?[]:{},d=n.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(u,m){Array.isArray(o)&&(o[m]=[]);for(var x=/\\\w+\b/g,h=0,p,f=-1;p=x.exec(u);){switch(p[0]){case"\\cell":var b=u.slice(h,x.lastIndex-p[0].length);if(b[0]==" "&&(b=b.slice(1)),++f,b.length){var j={v:b,t:"s"};Array.isArray(o)?o[m][f]=j:o[gr({r:m,c:f})]=j}break}h=x.lastIndex}f>c.e.c&&(c.e.c=f)}),o["!ref"]=Ts(c),o}function s(n,i){return Md(e(n,i),i)}function a(n){for(var i=["{\\rtf1\\ansi"],l=Br(n["!ref"]),o,d=Array.isArray(n),c=l.s.r;c<=l.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=l.s.c;u<=l.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=l.s.c;u<=l.e.c;++u){var m=gr({r:c,c:u});o=d?(n[c]||[])[u]:n[m],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Yl(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:s,to_sheet:e,from_sheet:a}}();function eE(e){for(var r=0,s=1;r!=3;++r)s=s*256+(e[r]>255?255:e[r]<0?0:e[r]);return s.toString(16).toUpperCase().slice(1)}var dje=6,Il=dje;function Qg(e){return Math.floor((e+Math.round(128/Il)/256)*Il)}function Zg(e){return Math.floor((e-5)/Il*100+.5)/100}function ww(e){return Math.round((e*Il+5)/Il*256)/256}function z6(e){e.width?(e.wpx=Qg(e.width),e.wch=Zg(e.wpx),e.MDW=Il):e.wpx?(e.wch=Zg(e.wpx),e.width=ww(e.wch),e.MDW=Il):typeof e.wch=="number"&&(e.width=ww(e.wch),e.wpx=Qg(e.width),e.MDW=Il),e.customWidth&&delete e.customWidth}var uje=96,S$=uje;function ey(e){return e*96/S$}function k$(e){return e*S$/96}function mje(e){var r=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)e[a]!=null&&(r[r.length]=nt("numFmt",null,{numFmtId:a,formatCode:pr(e[a])}))}),r.length===1?"":(r[r.length]="</numFmts>",r[0]=nt("numFmts",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function hje(e){var r=[];return r[r.length]=nt("cellXfs",null),e.forEach(function(s){r[r.length]=nt("xf",null,s)}),r[r.length]="</cellXfs>",r.length===2?"":(r[0]=nt("cellXfs",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function C$(e,r){var s=[Es,nt("styleSheet",null,{xmlns:_m[0],"xmlns:vt":Vs.vt})],a;return e.SSF&&(a=mje(e.SSF))!=null&&(s[s.length]=a),s[s.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',s[s.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',s[s.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',s[s.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=hje(r.cellXfs))&&(s[s.length]=a),s[s.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',s[s.length]='<dxfs count="0"/>',s[s.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',s.length>2&&(s[s.length]="</styleSheet>",s[1]=s[1].replace("/>",">")),s.join("")}function xje(e,r){var s=e.read_shift(2),a=ja(e);return[s,a]}function pje(e,r,s){s||(s=ze(6+4*r.length)),s.write_shift(2,e),qs(r,s);var a=s.length>s.l?s.slice(0,s.l):s;return s.l==null&&(s.l=s.length),a}function fje(e,r,s){var a={};a.sz=e.read_shift(2)/20;var n=s2e(e);n.fItalic&&(a.italic=1),n.fCondense&&(a.condense=1),n.fExtend&&(a.extend=1),n.fShadow&&(a.shadow=1),n.fOutline&&(a.outline=1),n.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(a.underline=l);var o=e.read_shift(1);o>0&&(a.family=o);var d=e.read_shift(1);switch(d>0&&(a.charset=d),e.l++,a.color=r2e(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=ja(e),a}function gje(e,r){r||(r=ze(25+4*32)),r.write_shift(2,e.sz*20),a2e(e,r),r.write_shift(2,e.bold?700:400);var s=0;e.vertAlign=="superscript"?s=1:e.vertAlign=="subscript"&&(s=2),r.write_shift(2,s),r.write_shift(1,e.underline||0),r.write_shift(1,e.family||0),r.write_shift(1,e.charset||0),r.write_shift(1,0),Xg(e.color,r);var a=0;return a=2,r.write_shift(1,a),qs(e.name,r),r.length>r.l?r.slice(0,r.l):r}var yje=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],z1,bje=il;function tE(e,r){r||(r=ze(4*3+8*7+16*1)),z1||(z1=T6(yje));var s=z1[e.patternType];s==null&&(s=40),r.write_shift(4,s);var a=0;if(s!=40)for(Xg({auto:1},r),Xg({auto:1},r);a<12;++a)r.write_shift(4,0);else{for(;a<4;++a)r.write_shift(4,0);for(;a<12;++a)r.write_shift(4,0)}return r.length>r.l?r.slice(0,r.l):r}function vje(e,r){var s=e.l+r,a=e.read_shift(2),n=e.read_shift(2);return e.l=s,{ixfe:a,numFmtId:n}}function P$(e,r,s){s||(s=ze(16)),s.write_shift(2,r||0),s.write_shift(2,e.numFmtId||0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(1,0),s.write_shift(1,0);var a=0;return s.write_shift(1,a),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(1,0),s}function ih(e,r){return r||(r=ze(10)),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(4,0),r}var jje=il;function wje(e,r){return r||(r=ze(51)),r.write_shift(1,0),ih(null,r),ih(null,r),ih(null,r),ih(null,r),ih(null,r),r.length>r.l?r.slice(0,r.l):r}function Nje(e,r){return r||(r=ze(12+4*10)),r.write_shift(4,e.xfId),r.write_shift(2,1),r.write_shift(1,0),r.write_shift(1,0),Yg(e.name||"",r),r.length>r.l?r.slice(0,r.l):r}function Sje(e,r,s){var a=ze(2052);return a.write_shift(4,e),Yg(r,a),Yg(s,a),a.length>a.l?a.slice(0,a.l):a}function kje(e,r){if(r){var s=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)r[n]!=null&&++s}),s!=0&&(Ye(e,615,Ei(s)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)r[n]!=null&&Ye(e,44,pje(n,r[n]))}),Ye(e,616))}}function Cje(e){var r=1;Ye(e,611,Ei(r)),Ye(e,43,gje({sz:12,color:{theme:1},name:"Calibri",family:2})),Ye(e,612)}function Pje(e){var r=2;Ye(e,603,Ei(r)),Ye(e,45,tE({patternType:"none"})),Ye(e,45,tE({patternType:"gray125"})),Ye(e,604)}function Aje(e){var r=1;Ye(e,613,Ei(r)),Ye(e,46,wje()),Ye(e,614)}function Tje(e){var r=1;Ye(e,626,Ei(r)),Ye(e,47,P$({numFmtId:0},65535)),Ye(e,627)}function Eje(e,r){Ye(e,617,Ei(r.length)),r.forEach(function(s){Ye(e,47,P$(s,0))}),Ye(e,618)}function Ije(e){var r=1;Ye(e,619,Ei(r)),Ye(e,48,Nje({xfId:0,name:"Normal"})),Ye(e,620)}function _je(e){var r=0;Ye(e,505,Ei(r)),Ye(e,506)}function Oje(e){var r=0;Ye(e,508,Sje(r,"TableStyleMedium9","PivotStyleMedium4")),Ye(e,509)}function Dje(e,r){var s=Qa();return Ye(s,278),kje(s,e.SSF),Cje(s),Pje(s),Aje(s),Tje(s),Eje(s,r.cellXfs),Ije(s),_je(s),Oje(s),Ye(s,279),s.end()}function A$(e,r){if(r&&r.themeXLSX)return r.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var s=[Es];return s[s.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',s[s.length]="<a:themeElements>",s[s.length]='<a:clrScheme name="Office">',s[s.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',s[s.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',s[s.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',s[s.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',s[s.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',s[s.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',s[s.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',s[s.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',s[s.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',s[s.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',s[s.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',s[s.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',s[s.length]="</a:clrScheme>",s[s.length]='<a:fontScheme name="Office">',s[s.length]="<a:majorFont>",s[s.length]='<a:latin typeface="Cambria"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface=" "/>',s[s.length]='<a:font script="Hang" typeface=" "/>',s[s.length]='<a:font script="Hans" typeface=""/>',s[s.length]='<a:font script="Hant" typeface=""/>',s[s.length]='<a:font script="Arab" typeface="Times New Roman"/>',s[s.length]='<a:font script="Hebr" typeface="Times New Roman"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="MoolBoran"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Times New Roman"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:majorFont>",s[s.length]="<a:minorFont>",s[s.length]='<a:latin typeface="Calibri"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface=" "/>',s[s.length]='<a:font script="Hang" typeface=" "/>',s[s.length]='<a:font script="Hans" typeface=""/>',s[s.length]='<a:font script="Hant" typeface=""/>',s[s.length]='<a:font script="Arab" typeface="Arial"/>',s[s.length]='<a:font script="Hebr" typeface="Arial"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="DaunPenh"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Arial"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:minorFont>",s[s.length]="</a:fontScheme>",s[s.length]='<a:fmtScheme name="Office">',s[s.length]="<a:fillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="1"/>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="0"/>',s[s.length]="</a:gradFill>",s[s.length]="</a:fillStyleLst>",s[s.length]="<a:lnStyleLst>",s[s.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]="</a:lnStyleLst>",s[s.length]="<a:effectStyleLst>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',s[s.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',s[s.length]="</a:effectStyle>",s[s.length]="</a:effectStyleLst>",s[s.length]="<a:bgFillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]="</a:bgFillStyleLst>",s[s.length]="</a:fmtScheme>",s[s.length]="</a:themeElements>",s[s.length]="<a:objectDefaults>",s[s.length]="<a:spDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',s[s.length]="</a:spDef>",s[s.length]="<a:lnDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',s[s.length]="</a:lnDef>",s[s.length]="</a:objectDefaults>",s[s.length]="<a:extraClrSchemeLst/>",s[s.length]="</a:theme>",s.join("")}function Mje(e,r){return{flags:e.read_shift(4),version:e.read_shift(4),name:ja(e)}}function Lje(e){var r=ze(12+2*e.name.length);return r.write_shift(4,e.flags),r.write_shift(4,e.version),qs(e.name,r),r.slice(0,r.l)}function Fje(e){for(var r=[],s=e.read_shift(4);s-- >0;)r.push([e.read_shift(4),e.read_shift(4)]);return r}function Rje(e){var r=ze(4+8*e.length);r.write_shift(4,e.length);for(var s=0;s<e.length;++s)r.write_shift(4,e[s][0]),r.write_shift(4,e[s][1]);return r}function Bje(e,r){var s=ze(8+2*r.length);return s.write_shift(4,e),qs(r,s),s.slice(0,s.l)}function $je(e){return e.l+=4,e.read_shift(4)!=0}function zje(e,r){var s=ze(8);return s.write_shift(4,e),s.write_shift(4,1),s}function Uje(){var e=Qa();return Ye(e,332),Ye(e,334,Ei(1)),Ye(e,335,Lje({name:"XLDAPR",version:12e4,flags:3496657072})),Ye(e,336),Ye(e,339,Bje(1,"XLDAPR")),Ye(e,52),Ye(e,35,Ei(514)),Ye(e,4096,Ei(0)),Ye(e,4097,Gn(1)),Ye(e,36),Ye(e,53),Ye(e,340),Ye(e,337,zje(1)),Ye(e,51,Rje([[1,0]])),Ye(e,338),Ye(e,333),e.end()}function T$(){var e=[Es];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Hje(e){var r={};r.i=e.read_shift(4);var s={};s.r=e.read_shift(4),s.c=e.read_shift(4),r.r=gr(s);var a=e.read_shift(1);return a&2&&(r.l="1"),a&8&&(r.a="1"),r}var bu=1024;function E$(e,r){for(var s=[21600,21600],a=["m0,0l0",s[1],s[0],s[1],s[0],"0xe"].join(","),n=[nt("xml",null,{"xmlns:v":pn.v,"xmlns:o":pn.o,"xmlns:x":pn.x,"xmlns:mv":pn.mv}).replace(/\/>/,">"),nt("o:shapelayout",nt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),nt("v:shapetype",[nt("v:stroke",null,{joinstyle:"miter"}),nt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:s.join(","),path:a})];bu<e*1e3;)bu+=1e3;return r.forEach(function(i){var l=Gs(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var d=o.type=="gradient"?nt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=nt("v:fill",d,o),u={on:"t",obscured:"t"};++bu,n=n.concat(["<v:shape"+_0({id:"_x0000_s"+bu,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,nt("v:shadow",null,u),nt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",sa("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),sa("x:AutoFill","False"),sa("x:Row",String(l.r)),sa("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function I$(e){var r=[Es,nt("comments",null,{xmlns:_m[0]})],s=[];return r.push("<authors>"),e.forEach(function(a){a[1].forEach(function(n){var i=pr(n.a);s.indexOf(i)==-1&&(s.push(i),r.push("<author>"+i+"</author>")),n.T&&n.ID&&s.indexOf("tc="+n.ID)==-1&&(s.push("tc="+n.ID),r.push("<author>tc="+n.ID+"</author>"))})}),s.length==0&&(s.push("SheetJ5"),r.push("<author>SheetJ5</author>")),r.push("</authors>"),r.push("<commentList>"),e.forEach(function(a){var n=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?n=s.indexOf("tc="+a[1][0].ID):a[1].forEach(function(d){d.a&&(n=s.indexOf(pr(d.a))),i.push(d.t||"")}),r.push('<comment ref="'+a[0]+'" authorId="'+n+'"><text>'),i.length<=1)r.push(sa("t",pr(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)l+=`Reply:
    `+i[o]+`
`;r.push(sa("t",pr(l)))}r.push("</text></comment>")}),r.push("</commentList>"),r.length>2&&(r[r.length]="</comments>",r[1]=r[1].replace("/>",">")),r.join("")}function Vje(e,r,s){var a=[Es,nt("ThreadedComments",null,{xmlns:Vs.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(n){var i="";(n[1]||[]).forEach(function(l,o){if(!l.T){delete l.ID;return}l.a&&r.indexOf(l.a)==-1&&r.push(l.a);var d={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+s.tcid++).slice(-12)+"}"};o==0?i=d.id:d.parentId=i,l.ID=d.id,l.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+r.indexOf(l.a)).slice(-12)+"}"),a.push(nt("threadedComment",sa("text",l.t||""),d))})}),a.push("</ThreadedComments>"),a.join("")}function Wje(e){var r=[Es,nt("personList",null,{xmlns:Vs.TCMNT,"xmlns:x":_m[0]}).replace(/[\/]>/,">")];return e.forEach(function(s,a){r.push(nt("person",null,{displayName:s,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:s,providerId:"None"}))}),r.push("</personList>"),r.join("")}function Gje(e){var r={};r.iauthor=e.read_shift(4);var s=Bd(e);return r.rfx=s.s,r.ref=gr(s.s),e.l+=16,r}function qje(e,r){return r==null&&(r=ze(36)),r.write_shift(4,e[1].iauthor),Dm(e[0],r),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r}var Kje=ja;function Yje(e){return qs(e.slice(0,54))}function Xje(e){var r=Qa(),s=[];return Ye(r,628),Ye(r,630),e.forEach(function(a){a[1].forEach(function(n){s.indexOf(n.a)>-1||(s.push(n.a.slice(0,54)),Ye(r,632,Yje(n.a)))})}),Ye(r,631),Ye(r,633),e.forEach(function(a){a[1].forEach(function(n){n.iauthor=s.indexOf(n.a);var i={s:Gs(a[0]),e:Gs(a[0])};Ye(r,635,qje([i,n])),n.t&&n.t.length>0&&Ye(r,637,Q1e(n)),Ye(r,636),delete n.iauthor})}),Ye(r,634),Ye(r,629),r.end()}function Jje(e,r){r.FullPaths.forEach(function(s,a){if(a!=0){var n=s.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&yr.utils.cfb_add(e,n,r.FileIndex[a].content)}})}var _$=["xlsb","xlsm","xlam","biff8","xla"],Qje=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,r={r:0,c:0};function s(a,n,i,l){var o=!1,d=!1;i.length==0?d=!0:i.charAt(0)=="["&&(d=!0,i=i.slice(1,-1)),l.length==0?o=!0:l.charAt(0)=="["&&(o=!0,l=l.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=l.length>0?parseInt(l,10)|0:0;return o?u+=r.c:--u,d?c+=r.r:--c,n+(o?"":"$")+va(u)+(d?"":"$")+na(c)}return function(n,i){return r=i,n.replace(e,s)}}(),U6=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,H6=function(){return function(r,s){return r.replace(U6,function(a,n,i,l,o,d){var c=L6(l)-(i?0:s.c),u=M6(d)-(o?0:s.r),m=u==0?"":o?u+1:"["+u+"]",x=c==0?"":i?c+1:"["+c+"]";return n+"R"+m+"C"+x})}}();function Zje(e,r){return e.replace(U6,function(s,a,n,i,l,o){return a+(n=="$"?n+i:va(L6(i)+r.c))+(l=="$"?l+o:na(M6(o)+r.r))})}function ewe(e){return e.length!=1}function bs(e){e.l+=1}function nc(e,r){var s=e.read_shift(2);return[s&16383,s>>14&1,s>>15&1]}function O$(e,r,s){var a=2;if(s){if(s.biff>=2&&s.biff<=5)return D$(e);s.biff==12&&(a=4)}var n=e.read_shift(a),i=e.read_shift(a),l=nc(e),o=nc(e);return{s:{r:n,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function D$(e){var r=nc(e),s=nc(e),a=e.read_shift(1),n=e.read_shift(1);return{s:{r:r[0],c:a,cRel:r[1],rRel:r[2]},e:{r:s[0],c:n,cRel:s[1],rRel:s[2]}}}function twe(e,r,s){if(s.biff<8)return D$(e);var a=e.read_shift(s.biff==12?4:2),n=e.read_shift(s.biff==12?4:2),i=nc(e),l=nc(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:n,c:l[0],cRel:l[1],rRel:l[2]}}}function M$(e,r,s){if(s&&s.biff>=2&&s.biff<=5)return rwe(e);var a=e.read_shift(s&&s.biff==12?4:2),n=nc(e);return{r:a,c:n[0],cRel:n[1],rRel:n[2]}}function rwe(e){var r=nc(e),s=e.read_shift(1);return{r:r[0],c:s,cRel:r[1],rRel:r[2]}}function swe(e){var r=e.read_shift(2),s=e.read_shift(2);return{r,c:s&255,fQuoted:!!(s&16384),cRel:s>>15,rRel:s>>15}}function awe(e,r,s){var a=s&&s.biff?s.biff:8;if(a>=2&&a<=5)return nwe(e);var n=e.read_shift(a>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;n>524287;)n-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:n,c:i,cRel:l,rRel:o}}function nwe(e){var r=e.read_shift(2),s=e.read_shift(1),a=(r&32768)>>15,n=(r&16384)>>14;return r&=16383,a==1&&r>=8192&&(r=r-16384),n==1&&s>=128&&(s=s-256),{r,c:s,cRel:n,rRel:a}}function iwe(e,r,s){var a=(e[e.l++]&96)>>5,n=O$(e,s.biff>=2&&s.biff<=5?6:8,s);return[a,n]}function lwe(e,r,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),i=8;if(s)switch(s.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=O$(e,i,s);return[a,n,l]}function owe(e,r,s){var a=(e[e.l++]&96)>>5;return e.l+=s&&s.biff>8?12:s.biff<8?6:8,[a]}function cwe(e,r,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=8;if(s)switch(s.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,n]}function dwe(e,r,s){var a=(e[e.l++]&96)>>5,n=twe(e,r-1,s);return[a,n]}function uwe(e,r,s){var a=(e[e.l++]&96)>>5;return e.l+=s.biff==2?6:s.biff==12?14:7,[a]}function rE(e){var r=e[e.l+1]&1,s=1;return e.l+=4,[r,s]}function mwe(e,r,s){e.l+=2;for(var a=e.read_shift(s&&s.biff==2?1:2),n=[],i=0;i<=a;++i)n.push(e.read_shift(s&&s.biff==2?1:2));return n}function hwe(e,r,s){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(s&&s.biff==2?1:2)]}function xwe(e,r,s){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(s&&s.biff==2?1:2)]}function pwe(e){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(2)]}function fwe(e,r,s){var a=e[e.l+1]&255?1:0;return e.l+=s&&s.biff==2?3:4,[a]}function L$(e){var r=e.read_shift(1),s=e.read_shift(1);return[r,s]}function gwe(e){return e.read_shift(2),L$(e)}function ywe(e){return e.read_shift(2),L$(e)}function bwe(e,r,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=M$(e,0,s);return[a,n]}function vwe(e,r,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=awe(e,0,s);return[a,n]}function jwe(e,r,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);s&&s.biff==5&&(e.l+=12);var i=M$(e,0,s);return[a,n,i]}function wwe(e,r,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(s&&s.biff<=3?1:2);return[wNe[n],B$[n],a]}function Nwe(e,r,s){var a=e[e.l++],n=e.read_shift(1),i=s&&s.biff<=3?[a==88?-1:0,e.read_shift(1)]:Swe(e);return[n,(i[0]===0?B$:jNe)[i[1]]]}function Swe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function kwe(e,r,s){e.l+=s&&s.biff==2?3:4}function Cwe(e,r,s){if(e.l++,s&&s.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function Pwe(e){return e.l++,Nx[e.read_shift(1)]}function Awe(e){return e.l++,e.read_shift(2)}function Twe(e){return e.l++,e.read_shift(1)!==0}function Ewe(e){return e.l++,Mm(e)}function Iwe(e,r,s){return e.l++,y$(e,r-1,s)}function _we(e,r){var s=[e.read_shift(1)];if(r==12)switch(s[0]){case 2:s[0]=4;break;case 4:s[0]=16;break;case 0:s[0]=1;break;case 1:s[0]=2;break}switch(s[0]){case 4:s[1]=j2e(e,1)?"TRUE":"FALSE",r!=12&&(e.l+=7);break;case 37:case 16:s[1]=Nx[e[e.l]],e.l+=r==12?4:8;break;case 0:e.l+=8;break;case 1:s[1]=Mm(e);break;case 2:s[1]=k2e(e,0,{biff:r>0&&r<8?2:r});break;default:throw new Error("Bad SerAr: "+s[0])}return s}function Owe(e,r,s){for(var a=e.read_shift(s.biff==12?4:2),n=[],i=0;i!=a;++i)n.push((s.biff==12?Bd:A2e)(e));return n}function Dwe(e,r,s){var a=0,n=0;s.biff==12?(a=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),a=1+e.read_shift(2)),s.biff>=2&&s.biff<8&&(--a,--n==0&&(n=256));for(var i=0,l=[];i!=a&&(l[i]=[]);++i)for(var o=0;o!=n;++o)l[i][o]=_we(e,s.biff);return l}function Mwe(e,r,s){var a=e.read_shift(1)>>>5&3,n=!s||s.biff>=8?4:2,i=e.read_shift(n);switch(s.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function Lwe(e,r,s){if(s.biff==5)return Fwe(e);var a=e.read_shift(1)>>>5&3,n=e.read_shift(2),i=e.read_shift(4);return[a,n,i]}function Fwe(e){var r=e.read_shift(1)>>>5&3,s=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[r,s,a]}function Rwe(e,r,s){var a=e.read_shift(1)>>>5&3;e.l+=s&&s.biff==2?3:4;var n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function Bwe(e,r,s){var a=e.read_shift(1)>>>5&3,n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function $we(e,r,s){var a=e.read_shift(1)>>>5&3;return e.l+=4,s.biff<8&&e.l--,s.biff==12&&(e.l+=2),[a]}function zwe(e,r,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=4;if(s)switch(s.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,n]}var Uwe=il,Hwe=il,Vwe=il;function Sx(e,r,s){return e.l+=2,[swe(e)]}function V6(e){return e.l+=6,[]}var Wwe=Sx,Gwe=V6,qwe=V6,Kwe=Sx;function F$(e){return e.l+=2,[f$(e),e.read_shift(2)&1]}var Ywe=Sx,Xwe=F$,Jwe=V6,Qwe=Sx,Zwe=Sx,eNe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function tNe(e){e.l+=2;var r=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(4),n=e.read_shift(2),i=e.read_shift(2),l=eNe[s>>2&31];return{ixti:r,coltype:s&3,rt:l,idx:a,c:n,C:i}}function rNe(e){return e.l+=2,[e.read_shift(4)]}function sNe(e,r,s){return e.l+=5,e.l+=2,e.l+=s.biff==2?1:4,["PTGSHEET"]}function aNe(e,r,s){return e.l+=s.biff==2?4:5,["PTGENDSHEET"]}function nNe(e){var r=e.read_shift(1)>>>5&3,s=e.read_shift(2);return[r,s]}function iNe(e){var r=e.read_shift(1)>>>5&3,s=e.read_shift(2);return[r,s]}function lNe(e){return e.l+=4,[0,0]}var sE={1:{n:"PtgExp",f:Cwe},2:{n:"PtgTbl",f:Vwe},3:{n:"PtgAdd",f:bs},4:{n:"PtgSub",f:bs},5:{n:"PtgMul",f:bs},6:{n:"PtgDiv",f:bs},7:{n:"PtgPower",f:bs},8:{n:"PtgConcat",f:bs},9:{n:"PtgLt",f:bs},10:{n:"PtgLe",f:bs},11:{n:"PtgEq",f:bs},12:{n:"PtgGe",f:bs},13:{n:"PtgGt",f:bs},14:{n:"PtgNe",f:bs},15:{n:"PtgIsect",f:bs},16:{n:"PtgUnion",f:bs},17:{n:"PtgRange",f:bs},18:{n:"PtgUplus",f:bs},19:{n:"PtgUminus",f:bs},20:{n:"PtgPercent",f:bs},21:{n:"PtgParen",f:bs},22:{n:"PtgMissArg",f:bs},23:{n:"PtgStr",f:Iwe},26:{n:"PtgSheet",f:sNe},27:{n:"PtgEndSheet",f:aNe},28:{n:"PtgErr",f:Pwe},29:{n:"PtgBool",f:Twe},30:{n:"PtgInt",f:Awe},31:{n:"PtgNum",f:Ewe},32:{n:"PtgArray",f:uwe},33:{n:"PtgFunc",f:wwe},34:{n:"PtgFuncVar",f:Nwe},35:{n:"PtgName",f:Mwe},36:{n:"PtgRef",f:bwe},37:{n:"PtgArea",f:iwe},38:{n:"PtgMemArea",f:Rwe},39:{n:"PtgMemErr",f:Uwe},40:{n:"PtgMemNoMem",f:Hwe},41:{n:"PtgMemFunc",f:Bwe},42:{n:"PtgRefErr",f:$we},43:{n:"PtgAreaErr",f:owe},44:{n:"PtgRefN",f:vwe},45:{n:"PtgAreaN",f:dwe},46:{n:"PtgMemAreaN",f:nNe},47:{n:"PtgMemNoMemN",f:iNe},57:{n:"PtgNameX",f:Lwe},58:{n:"PtgRef3d",f:jwe},59:{n:"PtgArea3d",f:lwe},60:{n:"PtgRefErr3d",f:zwe},61:{n:"PtgAreaErr3d",f:cwe},255:{}},oNe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},cNe={1:{n:"PtgElfLel",f:F$},2:{n:"PtgElfRw",f:Qwe},3:{n:"PtgElfCol",f:Wwe},6:{n:"PtgElfRwV",f:Zwe},7:{n:"PtgElfColV",f:Kwe},10:{n:"PtgElfRadical",f:Ywe},11:{n:"PtgElfRadicalS",f:Jwe},13:{n:"PtgElfColS",f:Gwe},15:{n:"PtgElfColSV",f:qwe},16:{n:"PtgElfRadicalLel",f:Xwe},25:{n:"PtgList",f:tNe},29:{n:"PtgSxName",f:rNe},255:{}},dNe={0:{n:"PtgAttrNoop",f:lNe},1:{n:"PtgAttrSemi",f:fwe},2:{n:"PtgAttrIf",f:xwe},4:{n:"PtgAttrChoose",f:mwe},8:{n:"PtgAttrGoto",f:hwe},16:{n:"PtgAttrSum",f:kwe},32:{n:"PtgAttrBaxcel",f:rE},33:{n:"PtgAttrBaxcel",f:rE},64:{n:"PtgAttrSpace",f:gwe},65:{n:"PtgAttrSpaceSemi",f:ywe},128:{n:"PtgAttrIfError",f:pwe},255:{}};function uNe(e,r,s,a){if(a.biff<8)return il(e,r);for(var n=e.l+r,i=[],l=0;l!==s.length;++l)switch(s[l][0]){case"PtgArray":s[l][1]=Dwe(e,0,a),i.push(s[l][1]);break;case"PtgMemArea":s[l][2]=Owe(e,s[l][1],a),i.push(s[l][2]);break;case"PtgExp":a&&a.biff==12&&(s[l][1][1]=e.read_shift(4),i.push(s[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+s[l][0]}return r=n-e.l,r!==0&&i.push(il(e,r)),i}function mNe(e,r,s){for(var a=e.l+r,n,i,l=[];a!=e.l;)r=a-e.l,i=e[e.l],n=sE[i]||sE[oNe[i]],(i===24||i===25)&&(n=(i===24?cNe:dNe)[e[e.l+1]]),!n||!n.f?il(e,r):l.push([n.n,n.f(e,r,s)]);return l}function hNe(e){for(var r=[],s=0;s<e.length;++s){for(var a=e[s],n=[],i=0;i<a.length;++i){var l=a[i];if(l)switch(l[0]){case 2:n.push('"'+l[1].replace(/"/g,'""')+'"');break;default:n.push(l[1])}else n.push("")}r.push(n.join(","))}return r.join(";")}var xNe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function pNe(e,r){if(!e&&!(r&&r.biff<=5&&r.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function R$(e,r,s){if(!e)return"SH33TJSERR0";if(s.biff>8&&(!e.XTI||!e.XTI[r]))return e.SheetNames[r];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[r];if(s.biff<8)return r>1e4&&(r-=65536),r<0&&(r=-r),r==0?"":e.XTI[r-1];if(!a)return"SH33TJSERR1";var n="";if(s.biff>8)switch(e[a[0]][0]){case 357:return n=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 358:return s.SID!=null?e.SheetNames[s.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return n=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(n=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?n:n+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function aE(e,r,s){var a=R$(e,r,s);return a=="#REF"?a:pNe(a,s)}function dm(e,r,s,a,n){var i=n&&n.biff||8,l={s:{c:0,r:0}},o=[],d,c,u,m=0,x=0,h,p="";if(!e[0]||!e[0][0])return"";for(var f=-1,b="",j=0,w=e[0].length;j<w;++j){var y=e[0][j];switch(y[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=o.pop(),c=o.pop(),f>=0){switch(e[0][f][1][0]){case 0:b=ns(" ",e[0][f][1][1]);break;case 1:b=ns("\r",e[0][f][1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][f][1][0])}c=c+b,f=-1}o.push(c+xNe[y[0]]+d);break;case"PtgIsect":d=o.pop(),c=o.pop(),o.push(c+" "+d);break;case"PtgUnion":d=o.pop(),c=o.pop(),o.push(c+","+d);break;case"PtgRange":d=o.pop(),c=o.pop(),o.push(c+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Fh(y[1][1],l,n),o.push(Rh(u,i));break;case"PtgRefN":u=s?Fh(y[1][1],s,n):y[1][1],o.push(Rh(u,i));break;case"PtgRef3d":m=y[1][1],u=Fh(y[1][2],l,n),p=aE(a,m,n),o.push(p+"!"+Rh(u,i));break;case"PtgFunc":case"PtgFuncVar":var v=y[1][0],N=y[1][1];v||(v=0),v&=127;var S=v==0?[]:o.slice(-v);o.length-=v,N==="User"&&(N=S.shift()),o.push(N+"("+S.join(",")+")");break;case"PtgBool":o.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(y[1]);break;case"PtgNum":o.push(String(y[1]));break;case"PtgStr":o.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(y[1]);break;case"PtgAreaN":h=UT(y[1][1],s?{s}:l,n),o.push(B1(h,n));break;case"PtgArea":h=UT(y[1][1],l,n),o.push(B1(h,n));break;case"PtgArea3d":m=y[1][1],h=y[1][2],p=aE(a,m,n),o.push(p+"!"+B1(h,n));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=y[1][2];var k=(a.names||[])[x-1]||(a[0]||[])[x],P=k?k.Name:"SH33TJSNAME"+String(x);P&&P.slice(0,6)=="_xlfn."&&!n.xlfn&&(P=P.slice(6)),o.push(P);break;case"PtgNameX":var C=y[1][1];x=y[1][2];var I;if(n.biff<=5)C<0&&(C=-C),a[C]&&(I=a[C][x]);else{var A="";if(((a[C]||[])[0]||[])[0]==14849||(((a[C]||[])[0]||[])[0]==1025?a[C][x]&&a[C][x].itab>0&&(A=a.SheetNames[a[C][x].itab-1]+"!"):A=a.SheetNames[x-1]+"!"),a[C]&&a[C][x])A+=a[C][x].Name;else if(a[0]&&a[0][x])A+=a[0][x].Name;else{var O=(R$(a,C,n)||"").split(";;");O[x-1]?A=O[x-1]:A+="SH33TJSERRX"}o.push(A);break}I||(I={Name:"SH33TJSERRY"}),o.push(I.Name);break;case"PtgParen":var R="(",Z=")";if(f>=0){switch(b="",e[0][f][1][0]){case 2:R=ns(" ",e[0][f][1][1])+R;break;case 3:R=ns("\r",e[0][f][1][1])+R;break;case 4:Z=ns(" ",e[0][f][1][1])+Z;break;case 5:Z=ns("\r",e[0][f][1][1])+Z;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][f][1][0])}f=-1}o.push(R+o.pop()+Z);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:y[1][1],r:y[1][0]};var Y={c:s.c,r:s.r};if(a.sharedf[gr(u)]){var ce=a.sharedf[gr(u)];o.push(dm(ce,l,Y,a,n))}else{var D=!1;for(d=0;d!=a.arrayf.length;++d)if(c=a.arrayf[d],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(dm(c[1],l,Y,a,n)),D=!0;break}D||o.push(y[1])}break;case"PtgArray":o.push("{"+hNe(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":f=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&f>=0&&z.indexOf(e[0][j][0])==-1){y=e[0][f];var se=!0;switch(y[1][0]){case 4:se=!1;case 0:b=ns(" ",y[1][1]);break;case 5:se=!1;case 1:b=ns("\r",y[1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}o.push((se?b:"")+o.pop()+(se?"":b)),f=-1}}if(o.length>1&&n.WTF)throw new Error("bad formula stack");return o[0]}function fNe(e){if(e==null){var r=ze(8);return r.write_shift(1,3),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,65535),r}else if(typeof e=="number")return jd(e);return jd(0)}function gNe(e,r,s,a,n){var i=wd(r,s,n),l=fNe(e.v),o=ze(6),d=33;o.write_shift(2,d),o.write_shift(4,0);for(var c=ze(e.bf.length),u=0;u<e.bf.length;++u)c[u]=e.bf[u];var m=ra([i,l,o,c]);return m}function Zb(e,r,s){var a=e.read_shift(4),n=mNe(e,a,s),i=e.read_shift(4),l=i>0?uNe(e,i,n,s):null;return[n,l]}var yNe=Zb,ev=Zb,bNe=Zb,vNe=Zb,jNe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},B$={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},wNe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function NNe(e){var r="of:="+e.replace(U6,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return r.replace(/;/g,"|").replace(/,/g,";")}function SNe(e){return e.replace(/\./,"!")}var Bh=typeof Map<"u";function W6(e,r,s){var a=0,n=e.length;if(s){if(Bh?s.has(r):Object.prototype.hasOwnProperty.call(s,r)){for(var i=Bh?s.get(r):s[r];a<i.length;++a)if(e[i[a]].t===r)return e.Count++,i[a]}}else for(;a<n;++a)if(e[a].t===r)return e.Count++,a;return e[n]={t:r},e.Count++,e.Unique++,s&&(Bh?(s.has(r)||s.set(r,[]),s.get(r).push(n)):(Object.prototype.hasOwnProperty.call(s,r)||(s[r]=[]),s[r].push(n))),n}function tv(e,r){var s={min:e+1,max:e+1},a=-1;return r.MDW&&(Il=r.MDW),r.width!=null?s.customWidth=1:r.wpx!=null?a=Zg(r.wpx):r.wch!=null&&(a=r.wch),a>-1?(s.width=ww(a),s.customWidth=1):r.width!=null&&(s.width=r.width),r.hidden&&(s.hidden=!0),r.level!=null&&(s.outlineLevel=s.level=r.level),s}function $$(e,r){if(e){var s=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=s[0]),e.right==null&&(e.right=s[1]),e.top==null&&(e.top=s[2]),e.bottom==null&&(e.bottom=s[3]),e.header==null&&(e.header=s[4]),e.footer==null&&(e.footer=s[5])}}function pc(e,r,s){var a=s.revssf[r.z!=null?r.z:"General"],n=60,i=e.length;if(a==null&&s.ssf){for(;n<392;++n)if(s.ssf[n]==null){MB(r.z,n),s.ssf[n]=r.z,s.revssf[r.z]=a=n;break}}for(n=0;n!=i;++n)if(e[n].numFmtId===a)return n;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function kNe(e,r,s){if(e&&e["!ref"]){var a=Br(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+s+"): "+e["!ref"])}}function CNe(e){if(e.length===0)return"";for(var r='<mergeCells count="'+e.length+'">',s=0;s!=e.length;++s)r+='<mergeCell ref="'+Ts(e[s])+'"/>';return r+"</mergeCells>"}function PNe(e,r,s,a,n){var i=!1,l={},o=null;if(a.bookType!=="xlsx"&&r.vbaraw){var d=r.SheetNames[s];try{r.Workbook&&(d=r.Workbook.Sheets[s].CodeName||d)}catch{}i=!0,l.codeName=I0(pr(d))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+nt("outlinePr",null,c)}!i&&!o||(n[n.length]=nt("sheetPr",o,l))}var ANe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],TNe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function ENe(e){var r={sheet:1};return ANe.forEach(function(s){e[s]!=null&&e[s]&&(r[s]="1")}),TNe.forEach(function(s){e[s]!=null&&!e[s]&&(r[s]="0")}),e.password&&(r.password=N$(e.password).toString(16).toUpperCase()),nt("sheetProtection",null,r)}function INe(e){return $$(e),nt("pageMargins",null,e)}function _Ne(e,r){for(var s=["<cols>"],a,n=0;n!=r.length;++n)(a=r[n])&&(s[s.length]=nt("col",null,tv(n,a)));return s[s.length]="</cols>",s.join("")}function ONe(e,r,s,a){var n=typeof e.ref=="string"?e.ref:Ts(e.ref);s.Workbook||(s.Workbook={Sheets:[]}),s.Workbook.Names||(s.Workbook.Names=[]);var i=s.Workbook.Names,l=An(n);l.s.r==l.e.r&&(l.e.r=An(r["!ref"]).e.r,n=Ts(l));for(var o=0;o<i.length;++o){var d=i[o];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==a){d.Ref="'"+s.SheetNames[a]+"'!"+n;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+s.SheetNames[a]+"'!"+n}),nt("autoFilter",null,{ref:n})}function DNe(e,r,s,a){var n={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),nt("sheetViews",nt("sheetView",null,n),{})}function MNe(e,r,s,a){if(e.c&&s["!comments"].push([r,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var n="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=Nx[e.v];break;case"d":a&&a.cellDates?n=La(e.v,-1).toISOString():(e=an(e),e.t="n",n=""+(e.v=sn(La(e.v)))),typeof e.z>"u"&&(e.z=ls[14]);break;default:n=e.v;break}var o=sa("v",pr(n)),d={r},c=pc(a.cellXfs,e,a);switch(c!==0&&(d.s=c),e.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){o=sa("v",""+W6(a.Strings,e.v,a.revStrings)),d.t="s";break}d.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,r.length)==r?{t:"array",ref:e.F}:null;o=nt("f",pr(e.f),u)+(e.v!=null?o:"")}return e.l&&s["!links"].push([r,e.l]),e.D&&(d.cm=1),nt("c",o,d)}function LNe(e,r,s,a){var n=[],i=[],l=Br(e["!ref"]),o="",d,c="",u=[],m=0,x=0,h=e["!rows"],p=Array.isArray(e),f={r:c},b,j=-1;for(x=l.s.c;x<=l.e.c;++x)u[x]=va(x);for(m=l.s.r;m<=l.e.r;++m){for(i=[],c=na(m),x=l.s.c;x<=l.e.c;++x){d=u[x]+c;var w=p?(e[m]||[])[x]:e[d];w!==void 0&&(o=MNe(w,d,e,r))!=null&&i.push(o)}(i.length>0||h&&h[m])&&(f={r:c},h&&h[m]&&(b=h[m],b.hidden&&(f.hidden=1),j=-1,b.hpx?j=ey(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(f.ht=j,f.customHeight=1),b.level&&(f.outlineLevel=b.level)),n[n.length]=nt("row",i.join(""),f))}if(h)for(;m<h.length;++m)h&&h[m]&&(f={r:m+1},b=h[m],b.hidden&&(f.hidden=1),j=-1,b.hpx?j=ey(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(f.ht=j,f.customHeight=1),b.level&&(f.outlineLevel=b.level),n[n.length]=nt("row","",f));return n.join("")}function z$(e,r,s,a){var n=[Es,nt("worksheet",null,{xmlns:_m[0],"xmlns:r":Vs.r})],i=s.SheetNames[e],l=0,o="",d=s.Sheets[i];d==null&&(d={});var c=d["!ref"]||"A1",u=Br(c);if(u.e.c>16383||u.e.r>1048575){if(r.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=Ts(u)}a||(a={}),d["!comments"]=[];var m=[];PNe(d,s,e,r,n),n[n.length]=nt("dimension",null,{ref:c}),n[n.length]=DNe(d,r,e,s),r.sheetFormat&&(n[n.length]=nt("sheetFormatPr",null,{defaultRowHeight:r.sheetFormat.defaultRowHeight||"16",baseColWidth:r.sheetFormat.baseColWidth||"10",outlineLevelRow:r.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(n[n.length]=_Ne(d,d["!cols"])),n[l=n.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(o=LNe(d,r),o.length>0&&(n[n.length]=o)),n.length>l+1&&(n[n.length]="</sheetData>",n[l]=n[l].replace("/>",">")),d["!protect"]&&(n[n.length]=ENe(d["!protect"])),d["!autofilter"]!=null&&(n[n.length]=ONe(d["!autofilter"],d,s,e)),d["!merges"]!=null&&d["!merges"].length>0&&(n[n.length]=CNe(d["!merges"]));var x=-1,h,p=-1;return d["!links"].length>0&&(n[n.length]="<hyperlinks>",d["!links"].forEach(function(f){f[1].Target&&(h={ref:f[0]},f[1].Target.charAt(0)!="#"&&(p=hr(a,-1,pr(f[1].Target).replace(/#.*$/,""),ir.HLINK),h["r:id"]="rId"+p),(x=f[1].Target.indexOf("#"))>-1&&(h.location=pr(f[1].Target.slice(x+1))),f[1].Tooltip&&(h.tooltip=pr(f[1].Tooltip)),n[n.length]=nt("hyperlink",null,h))}),n[n.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(n[n.length]=INe(d["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&(n[n.length]=sa("ignoredErrors",nt("ignoredError",null,{numberStoredAsText:1,sqref:c}))),m.length>0&&(p=hr(a,-1,"../drawings/drawing"+(e+1)+".xml",ir.DRAW),n[n.length]=nt("drawing",null,{"r:id":"rId"+p}),d["!drawing"]=m),d["!comments"].length>0&&(p=hr(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ir.VML),n[n.length]=nt("legacyDrawing",null,{"r:id":"rId"+p}),d["!legacy"]=p),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function FNe(e,r){var s={},a=e.l+r;s.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(s.level=i&7),i&16&&(s.hidden=!0),i&32&&(s.hpt=n/20),s}function RNe(e,r,s){var a=ze(145),n=(s["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;n.hpx?i=ey(n.hpx)*20:n.hpt&&(i=n.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var l=0;n.level&&(l|=n.level),n.hidden&&(l|=16),(n.hpx||n.hpt)&&(l|=32),a.write_shift(1,l),a.write_shift(1,0);var o=0,d=a.l;a.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(r.s.c>u+1<<10||r.e.c<u<<10)){for(var m=-1,x=-1,h=u<<10;h<u+1<<10;++h){c.c=h;var p=Array.isArray(s)?(s[c.r]||[])[c.c]:s[gr(c)];p&&(m<0&&(m=h),x=h)}m<0||(++o,a.write_shift(4,m),a.write_shift(4,x))}var f=a.l;return a.l=d,a.write_shift(4,o),a.l=f,a.length>a.l?a.slice(0,a.l):a}function BNe(e,r,s,a){var n=RNe(a,s,r);(n.length>17||(r["!rows"]||[])[a])&&Ye(e,0,n)}var $Ne=Bd,zNe=Dm;function UNe(){}function HNe(e,r){var s={},a=e[e.l];return++e.l,s.above=!(a&64),s.left=!(a&128),e.l+=18,s.name=Z1e(e),s}function VNe(e,r,s){s==null&&(s=ze(84+4*e.length));var a=192;r&&(r.above&&(a&=-65),r.left&&(a&=-129)),s.write_shift(1,a);for(var n=1;n<3;++n)s.write_shift(1,0);return Xg({auto:1},s),s.write_shift(-4,-1),s.write_shift(-4,-1),r$(e,s),s.slice(0,s.l)}function WNe(e){var r=hi(e);return[r]}function GNe(e,r,s){return s==null&&(s=ze(8)),Ld(r,s)}function qNe(e){var r=Fd(e);return[r]}function KNe(e,r,s){return s==null&&(s=ze(4)),Rd(r,s)}function YNe(e){var r=hi(e),s=e.read_shift(1);return[r,s,"b"]}function XNe(e,r,s){return s==null&&(s=ze(9)),Ld(r,s),s.write_shift(1,e.v?1:0),s}function JNe(e){var r=Fd(e),s=e.read_shift(1);return[r,s,"b"]}function QNe(e,r,s){return s==null&&(s=ze(5)),Rd(r,s),s.write_shift(1,e.v?1:0),s}function ZNe(e){var r=hi(e),s=e.read_shift(1);return[r,s,"e"]}function e4e(e,r,s){return s==null&&(s=ze(9)),Ld(r,s),s.write_shift(1,e.v),s}function t4e(e){var r=Fd(e),s=e.read_shift(1);return[r,s,"e"]}function r4e(e,r,s){return s==null&&(s=ze(8)),Rd(r,s),s.write_shift(1,e.v),s.write_shift(2,0),s.write_shift(1,0),s}function s4e(e){var r=hi(e),s=e.read_shift(4);return[r,s,"s"]}function a4e(e,r,s){return s==null&&(s=ze(12)),Ld(r,s),s.write_shift(4,r.v),s}function n4e(e){var r=Fd(e),s=e.read_shift(4);return[r,s,"s"]}function i4e(e,r,s){return s==null&&(s=ze(8)),Rd(r,s),s.write_shift(4,r.v),s}function l4e(e){var r=hi(e),s=Mm(e);return[r,s,"n"]}function o4e(e,r,s){return s==null&&(s=ze(16)),Ld(r,s),jd(e.v,s),s}function c4e(e){var r=Fd(e),s=Mm(e);return[r,s,"n"]}function d4e(e,r,s){return s==null&&(s=ze(12)),Rd(r,s),jd(e.v,s),s}function u4e(e){var r=hi(e),s=s$(e);return[r,s,"n"]}function m4e(e,r,s){return s==null&&(s=ze(12)),Ld(r,s),a$(e.v,s),s}function h4e(e){var r=Fd(e),s=s$(e);return[r,s,"n"]}function x4e(e,r,s){return s==null&&(s=ze(8)),Rd(r,s),a$(e.v,s),s}function p4e(e){var r=hi(e),s=F6(e);return[r,s,"is"]}function f4e(e){var r=hi(e),s=ja(e);return[r,s,"str"]}function g4e(e,r,s){return s==null&&(s=ze(12+4*e.v.length)),Ld(r,s),qs(e.v,s),s.length>s.l?s.slice(0,s.l):s}function y4e(e){var r=Fd(e),s=ja(e);return[r,s,"str"]}function b4e(e,r,s){return s==null&&(s=ze(8+4*e.v.length)),Rd(r,s),qs(e.v,s),s.length>s.l?s.slice(0,s.l):s}function v4e(e,r,s){var a=e.l+r,n=hi(e);n.r=s["!row"];var i=e.read_shift(1),l=[n,i,"b"];if(s.cellFormula){e.l+=2;var o=ev(e,a-e.l,s);l[3]=dm(o,null,n,s.supbooks,s)}else e.l=a;return l}function j4e(e,r,s){var a=e.l+r,n=hi(e);n.r=s["!row"];var i=e.read_shift(1),l=[n,i,"e"];if(s.cellFormula){e.l+=2;var o=ev(e,a-e.l,s);l[3]=dm(o,null,n,s.supbooks,s)}else e.l=a;return l}function w4e(e,r,s){var a=e.l+r,n=hi(e);n.r=s["!row"];var i=Mm(e),l=[n,i,"n"];if(s.cellFormula){e.l+=2;var o=ev(e,a-e.l,s);l[3]=dm(o,null,n,s.supbooks,s)}else e.l=a;return l}function N4e(e,r,s){var a=e.l+r,n=hi(e);n.r=s["!row"];var i=ja(e),l=[n,i,"str"];if(s.cellFormula){e.l+=2;var o=ev(e,a-e.l,s);l[3]=dm(o,null,n,s.supbooks,s)}else e.l=a;return l}var S4e=Bd,k4e=Dm;function C4e(e,r){return r==null&&(r=ze(4)),r.write_shift(4,e),r}function P4e(e,r){var s=e.l+r,a=Bd(e),n=R6(e),i=ja(e),l=ja(e),o=ja(e);e.l=s;var d={rfx:a,relId:n,loc:i,display:o};return l&&(d.Tooltip=l),d}function A4e(e,r){var s=ze(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Dm({s:Gs(e[0]),e:Gs(e[0])},s),B6("rId"+r,s);var a=e[1].Target.indexOf("#"),n=a==-1?"":e[1].Target.slice(a+1);return qs(n||"",s),qs(e[1].Tooltip||"",s),qs("",s),s.slice(0,s.l)}function T4e(){}function E4e(e,r,s){var a=e.l+r,n=n$(e),i=e.read_shift(1),l=[n];if(l[2]=i,s.cellFormula){var o=yNe(e,a-e.l,s);l[1]=o}else e.l=a;return l}function I4e(e,r,s){var a=e.l+r,n=Bd(e),i=[n];if(s.cellFormula){var l=vNe(e,a-e.l,s);i[1]=l,e.l=a}else e.l=a;return i}function _4e(e,r,s){s==null&&(s=ze(18));var a=tv(e,r);s.write_shift(-4,e),s.write_shift(-4,e),s.write_shift(4,(a.width||10)*256),s.write_shift(4,0);var n=0;return r.hidden&&(n|=1),typeof a.width=="number"&&(n|=2),r.level&&(n|=r.level<<8),s.write_shift(2,n),s}var U$=["left","right","top","bottom","header","footer"];function O4e(e){var r={};return U$.forEach(function(s){r[s]=Mm(e)}),r}function D4e(e,r){return r==null&&(r=ze(6*8)),$$(e),U$.forEach(function(s){jd(e[s],r)}),r}function M4e(e){var r=e.read_shift(2);return e.l+=28,{RTL:r&32}}function L4e(e,r,s){s==null&&(s=ze(30));var a=924;return(((r||{}).Views||[])[0]||{}).RTL&&(a|=32),s.write_shift(2,a),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(2,0),s.write_shift(2,100),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(4,0),s}function F4e(e){var r=ze(24);return r.write_shift(4,4),r.write_shift(4,1),Dm(e,r),r}function R4e(e,r){return r==null&&(r=ze(16*4+2)),r.write_shift(2,e.password?N$(e.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(s){s[1]?r.write_shift(4,e[s[0]]!=null&&!e[s[0]]?1:0):r.write_shift(4,e[s[0]]!=null&&e[s[0]]?0:1)}),r}function B4e(){}function $4e(){}function z4e(e,r,s,a,n,i,l){if(r.v===void 0)return!1;var o="";switch(r.t){case"b":o=r.v?"1":"0";break;case"d":r=an(r),r.z=r.z||ls[14],r.v=sn(La(r.v)),r.t="n";break;case"n":case"e":o=""+r.v;break;default:o=r.v;break}var d={r:s,c:a};switch(d.s=pc(n.cellXfs,r,n),r.l&&i["!links"].push([gr(d),r.l]),r.c&&i["!comments"].push([gr(d),r.c]),r.t){case"s":case"str":return n.bookSST?(o=W6(n.Strings,r.v,n.revStrings),d.t="s",d.v=o,l?Ye(e,18,i4e(r,d)):Ye(e,7,a4e(r,d))):(d.t="str",l?Ye(e,17,b4e(r,d)):Ye(e,6,g4e(r,d))),!0;case"n":return r.v==(r.v|0)&&r.v>-1e3&&r.v<1e3?l?Ye(e,13,x4e(r,d)):Ye(e,2,m4e(r,d)):l?Ye(e,16,d4e(r,d)):Ye(e,5,o4e(r,d)),!0;case"b":return d.t="b",l?Ye(e,15,QNe(r,d)):Ye(e,4,XNe(r,d)),!0;case"e":return d.t="e",l?Ye(e,14,r4e(r,d)):Ye(e,3,e4e(r,d)),!0}return l?Ye(e,12,KNe(r,d)):Ye(e,1,GNe(r,d)),!0}function U4e(e,r,s,a){var n=Br(r["!ref"]||"A1"),i,l="",o=[];Ye(e,145);var d=Array.isArray(r),c=n.e.r;r["!rows"]&&(c=Math.max(n.e.r,r["!rows"].length-1));for(var u=n.s.r;u<=c;++u){l=na(u),BNe(e,r,n,u);var m=!1;if(u<=n.e.r)for(var x=n.s.c;x<=n.e.c;++x){u===n.s.r&&(o[x]=va(x)),i=o[x]+l;var h=d?(r[u]||[])[x]:r[i];if(!h){m=!1;continue}m=z4e(e,h,u,x,a,r,m)}}Ye(e,146)}function H4e(e,r){!r||!r["!merges"]||(Ye(e,177,C4e(r["!merges"].length)),r["!merges"].forEach(function(s){Ye(e,176,k4e(s))}),Ye(e,178))}function V4e(e,r){!r||!r["!cols"]||(Ye(e,390),r["!cols"].forEach(function(s,a){s&&Ye(e,60,_4e(a,s))}),Ye(e,391))}function W4e(e,r){!r||!r["!ref"]||(Ye(e,648),Ye(e,649,F4e(Br(r["!ref"]))),Ye(e,650))}function G4e(e,r,s){r["!links"].forEach(function(a){if(a[1].Target){var n=hr(s,-1,a[1].Target.replace(/#.*$/,""),ir.HLINK);Ye(e,494,A4e(a,n))}}),delete r["!links"]}function q4e(e,r,s,a){if(r["!comments"].length>0){var n=hr(a,-1,"../drawings/vmlDrawing"+(s+1)+".vml",ir.VML);Ye(e,551,B6("rId"+n)),r["!legacy"]=n}}function K4e(e,r,s,a){if(r["!autofilter"]){var n=r["!autofilter"],i=typeof n.ref=="string"?n.ref:Ts(n.ref);s.Workbook||(s.Workbook={Sheets:[]}),s.Workbook.Names||(s.Workbook.Names=[]);var l=s.Workbook.Names,o=An(i);o.s.r==o.e.r&&(o.e.r=An(r["!ref"]).e.r,i=Ts(o));for(var d=0;d<l.length;++d){var c=l[d];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==a){c.Ref="'"+s.SheetNames[a]+"'!"+i;break}}d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+s.SheetNames[a]+"'!"+i}),Ye(e,161,Dm(Br(i))),Ye(e,162)}}function Y4e(e,r,s){Ye(e,133),Ye(e,137,L4e(r,s)),Ye(e,138),Ye(e,134)}function X4e(e,r){r["!protect"]&&Ye(e,535,R4e(r["!protect"]))}function J4e(e,r,s,a){var n=Qa(),i=s.SheetNames[e],l=s.Sheets[i]||{},o=i;try{s&&s.Workbook&&(o=s.Workbook.Sheets[e].CodeName||o)}catch{}var d=Br(l["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(r.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Ye(n,129),(s.vbaraw||l["!outline"])&&Ye(n,147,VNe(o,l["!outline"])),Ye(n,148,zNe(d)),Y4e(n,l,s.Workbook),V4e(n,l),U4e(n,l,e,r),X4e(n,l),K4e(n,l,s,e),H4e(n,l),G4e(n,l,a),l["!margins"]&&Ye(n,476,D4e(l["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&W4e(n,l),q4e(n,l,e,a),Ye(n,130),n.end()}function Q4e(e,r){e.l+=10;var s=ja(e);return{name:s}}var Z4e=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function e3e(e){return!e.Workbook||!e.Workbook.WBProps?"false":I1e(e.Workbook.WBProps.date1904)?"true":"false"}var t3e="][*?/\\".split("");function H$(e,r){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var s=!0;return t3e.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),s}function r3e(e,r,s){e.forEach(function(a,n){H$(a);for(var i=0;i<n;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(s){var l=r&&r[n]&&r[n].CodeName||a;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function s3e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var r=e.Workbook&&e.Workbook.Sheets||[];r3e(e.SheetNames,r,!!e.vbaraw);for(var s=0;s<e.SheetNames.length;++s)kNe(e.Sheets[e.SheetNames[s]],e.SheetNames[s],s)}function V$(e){var r=[Es];r[r.length]=nt("workbook",null,{xmlns:_m[0],"xmlns:r":Vs.r});var s=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Z4e.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(a[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),r[r.length]=nt("workbookPr",null,a);var n=e.Workbook&&e.Workbook.Sheets||[],i=0;if(n&&n[0]&&n[0].Hidden){for(r[r.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!n[i]||!n[i].Hidden);++i);i==e.SheetNames.length&&(i=0),r[r.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',r[r.length]="</bookViews>"}for(r[r.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:pr(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),n[i])switch(n[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}r[r.length]=nt("sheet",null,l)}return r[r.length]="</sheets>",s&&(r[r.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var d={name:o.Name};o.Comment&&(d.comment=o.Comment),o.Sheet!=null&&(d.localSheetId=""+o.Sheet),o.Hidden&&(d.hidden="1"),o.Ref&&(r[r.length]=nt("definedName",pr(o.Ref),d))}),r[r.length]="</definedNames>"),r.length>2&&(r[r.length]="</workbook>",r[1]=r[1].replace("/>",">")),r.join("")}function a3e(e,r){var s={};return s.Hidden=e.read_shift(4),s.iTabID=e.read_shift(4),s.strRelID=jw(e),s.name=ja(e),s}function n3e(e,r){return r||(r=ze(127)),r.write_shift(4,e.Hidden),r.write_shift(4,e.iTabID),B6(e.strRelID,r),qs(e.name.slice(0,31),r),r.length>r.l?r.slice(0,r.l):r}function i3e(e,r){var s={},a=e.read_shift(4);s.defaultThemeVersion=e.read_shift(4);var n=r>8?ja(e):"";return n.length>0&&(s.CodeName=n),s.autoCompressPictures=!!(a&65536),s.backupFile=!!(a&64),s.checkCompatibility=!!(a&4096),s.date1904=!!(a&1),s.filterPrivacy=!!(a&8),s.hidePivotFieldList=!!(a&1024),s.promptedSolutions=!!(a&16),s.publishItems=!!(a&2048),s.refreshAllConnections=!!(a&262144),s.saveExternalLinkValues=!!(a&128),s.showBorderUnselectedTables=!!(a&4),s.showInkAnnotation=!!(a&32),s.showObjects=["all","placeholders","none"][a>>13&3],s.showPivotChartFilter=!!(a&32768),s.updateLinks=["userSet","never","always"][a>>8&3],s}function l3e(e,r){r||(r=ze(72));var s=0;return e&&e.filterPrivacy&&(s|=8),r.write_shift(4,s),r.write_shift(4,0),r$(e&&e.CodeName||"ThisWorkbook",r),r.slice(0,r.l)}function o3e(e,r,s){var a=e.l+r;e.l+=4,e.l+=1;var n=e.read_shift(4),i=e2e(e),l=bNe(e,0,s),o=R6(e);e.l=a;var d={Name:i,Ptg:l};return n<268435455&&(d.Sheet=n),o&&(d.Comment=o),d}function c3e(e,r){Ye(e,143);for(var s=0;s!=r.SheetNames.length;++s){var a=r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[s]&&r.Workbook.Sheets[s].Hidden||0,n={Hidden:a,iTabID:s+1,strRelID:"rId"+(s+1),name:r.SheetNames[s]};Ye(e,156,n3e(n))}Ye(e,144)}function d3e(e,r){r||(r=ze(127));for(var s=0;s!=4;++s)r.write_shift(4,0);return qs("SheetJS",r),qs(Ug.version,r),qs(Ug.version,r),qs("7262",r),r.length>r.l?r.slice(0,r.l):r}function u3e(e,r){r||(r=ze(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,e),r.write_shift(4,e);var s=120;return r.write_shift(1,s),r.length>r.l?r.slice(0,r.l):r}function m3e(e,r){if(!(!r.Workbook||!r.Workbook.Sheets)){for(var s=r.Workbook.Sheets,a=0,n=-1,i=-1;a<s.length;++a)!s[a]||!s[a].Hidden&&n==-1?n=a:s[a].Hidden==1&&i==-1&&(i=a);i>n||(Ye(e,135),Ye(e,158,u3e(n)),Ye(e,136))}}function h3e(e,r){var s=Qa();return Ye(s,131),Ye(s,128,d3e()),Ye(s,153,l3e(e.Workbook&&e.Workbook.WBProps||null)),m3e(s,e),c3e(s,e),Ye(s,132),s.end()}function x3e(e,r,s){return(r.slice(-4)===".bin"?h3e:V$)(e)}function p3e(e,r,s,a,n){return(r.slice(-4)===".bin"?J4e:z$)(e,s,a,n)}function f3e(e,r,s){return(r.slice(-4)===".bin"?Dje:C$)(e,s)}function g3e(e,r,s){return(r.slice(-4)===".bin"?lje:w$)(e,s)}function y3e(e,r,s){return(r.slice(-4)===".bin"?Xje:I$)(e)}function b3e(e){return(e.slice(-4)===".bin"?Uje:T$)()}function v3e(e,r){var s=[];return e.Props&&s.push(f2e(e.Props,r)),e.Custprops&&s.push(g2e(e.Props,e.Custprops)),s.join("")}function j3e(){return""}function w3e(e,r){var s=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return r.cellXfs.forEach(function(a,n){var i=[];i.push(nt("NumberFormat",null,{"ss:Format":pr(ls[a.numFmtId])}));var l={"ss:ID":"s"+(21+n)};s.push(nt("Style",i.join(""),l))}),nt("Styles",s.join(""))}function W$(e){return nt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+H6(e.Ref,{r:0,c:0})})}function N3e(e){if(!((e||{}).Workbook||{}).Names)return"";for(var r=e.Workbook.Names,s=[],a=0;a<r.length;++a){var n=r[a];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||s.push(W$(n)))}return nt("Names",s.join(""))}function S3e(e,r,s,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var n=a.Workbook.Names,i=[],l=0;l<n.length;++l){var o=n[l];o.Sheet==s&&(o.Name.match(/^_xlfn\./)||i.push(W$(o)))}return i.join("")}function k3e(e,r,s,a){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(nt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(nt("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(nt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[s])if(a.Workbook.Sheets[s].Hidden)n.push(nt("Visible",a.Workbook.Sheets[s].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<s&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==s&&n.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(sa("ProtectContents","True")),e["!protect"].objects&&n.push(sa("ProtectObjects","True")),e["!protect"].scenarios&&n.push(sa("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?n.push(sa("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&n.push(sa("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&n.push("<"+l[1]+"/>")})),n.length==0?"":nt("WorksheetOptions",n.join(""),{xmlns:pn.x})}function C3e(e){return e.map(function(r){var s=E1e(r.t||""),a=nt("ss:Data",s,{xmlns:"http://www.w3.org/TR/REC-html40"});return nt("Comment",a,{"ss:Author":r.a})}).join("")}function P3e(e,r,s,a,n,i,l){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+pr(H6(e.f,l))),e.F&&e.F.slice(0,r.length)==r){var d=Gs(e.F.slice(r.length+1));o["ss:ArrayRange"]="RC:R"+(d.r==l.r?"":"["+(d.r-l.r)+"]")+"C"+(d.c==l.c?"":"["+(d.c-l.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=pr(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=pr(e.l.Tooltip))),s["!merges"])for(var c=s["!merges"],u=0;u!=c.length;++u)c[u].s.c!=l.c||c[u].s.r!=l.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var m="",x="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":m="Number",x=String(e.v);break;case"b":m="Boolean",x=e.v?"1":"0";break;case"e":m="Error",x=Nx[e.v];break;case"d":m="DateTime",x=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||ls[14]);break;case"s":m="String",x=T1e(e.v||"");break}var h=pc(a.cellXfs,e,a);o["ss:StyleID"]="s"+(21+h),o["ss:Index"]=l.c+1;var p=e.v!=null?x:"",f=e.t=="z"?"":'<Data ss:Type="'+m+'">'+p+"</Data>";return(e.c||[]).length>0&&(f+=C3e(e.c)),nt("Cell",f,o)}function A3e(e,r){var s='<Row ss:Index="'+(e+1)+'"';return r&&(r.hpt&&!r.hpx&&(r.hpx=k$(r.hpt)),r.hpx&&(s+=' ss:AutoFitHeight="0" ss:Height="'+r.hpx+'"'),r.hidden&&(s+=' ss:Hidden="1"')),s+">"}function T3e(e,r,s,a){if(!e["!ref"])return"";var n=Br(e["!ref"]),i=e["!merges"]||[],l=0,o=[];e["!cols"]&&e["!cols"].forEach(function(b,j){z6(b);var w=!!b.width,y=tv(j,b),v={"ss:Index":j+1};w&&(v["ss:Width"]=Qg(y.width)),b.hidden&&(v["ss:Hidden"]="1"),o.push(nt("Column",null,v))});for(var d=Array.isArray(e),c=n.s.r;c<=n.e.r;++c){for(var u=[A3e(c,(e["!rows"]||[])[c])],m=n.s.c;m<=n.e.c;++m){var x=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>m)&&!(i[l].s.r>c)&&!(i[l].e.c<m)&&!(i[l].e.r<c)){(i[l].s.c!=m||i[l].s.r!=c)&&(x=!0);break}if(!x){var h={r:c,c:m},p=gr(h),f=d?(e[c]||[])[m]:e[p];u.push(P3e(f,p,e,r,s,a,h))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function E3e(e,r,s){var a=[],n=s.SheetNames[e],i=s.Sheets[n],l=i?S3e(i,r,e,s):"";return l.length>0&&a.push("<Names>"+l+"</Names>"),l=i?T3e(i,r,e,s):"",l.length>0&&a.push("<Table>"+l+"</Table>"),a.push(k3e(i,r,e,s)),a.join("")}function I3e(e,r){r||(r={}),e.SSF||(e.SSF=an(ls)),e.SSF&&(Xb(),Yb(e.SSF),r.revssf=Jb(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF,r.cellXfs=[],pc(r.cellXfs,{},{revssf:{General:0}}));var s=[];s.push(v3e(e,r)),s.push(j3e()),s.push(""),s.push("");for(var a=0;a<e.SheetNames.length;++a)s.push(nt("Worksheet",E3e(a,r,e),{"ss:Name":pr(e.SheetNames[a])}));return s[2]=w3e(e,r),s[3]=N3e(e),Es+nt("Workbook",s.join(""),{xmlns:pn.ss,"xmlns:o":pn.o,"xmlns:x":pn.x,"xmlns:ss":pn.ss,"xmlns:dt":pn.dt,"xmlns:html":pn.html})}var U1={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function _3e(e,r){var s=[],a=[],n=[],i=0,l,o=IT(VT,"n"),d=IT(WT,"n");if(e.Props)for(l=oa(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(o,l[i])?s:Object.prototype.hasOwnProperty.call(d,l[i])?a:n).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=oa(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(o,l[i])?s:Object.prototype.hasOwnProperty.call(d,l[i])?a:n).push([l[i],e.Custprops[l[i]]]);var c=[];for(i=0;i<n.length;++i)p$.indexOf(n[i][0])>-1||m$.indexOf(n[i][0])>-1||n[i][1]!=null&&c.push(n[i]);a.length&&yr.utils.cfb_add(r,"/SummaryInformation",XT(a,U1.SI,d,WT)),(s.length||c.length)&&yr.utils.cfb_add(r,"/DocumentSummaryInformation",XT(s,U1.DSI,o,VT,c.length?c:null,U1.UDI))}function O3e(e,r){var s=r||{},a=yr.utils.cfb_new({root:"R"}),n="/Workbook";switch(s.bookType||"xls"){case"xls":s.bookType="biff8";case"xla":s.bookType||(s.bookType="xla");case"biff8":n="/Workbook",s.biff=8;break;case"biff5":n="/Book",s.biff=5;break;default:throw new Error("invalid type "+s.bookType+" for XLS CFB")}return yr.utils.cfb_add(a,n,G$(e,s)),s.biff==8&&(e.Props||e.Custprops)&&_3e(e,a),s.biff==8&&e.vbaraw&&Jje(a,yr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var D3e={0:{f:FNe},1:{f:WNe},2:{f:u4e},3:{f:ZNe},4:{f:YNe},5:{f:l4e},6:{f:f4e},7:{f:s4e},8:{f:N4e},9:{f:w4e},10:{f:v4e},11:{f:j4e},12:{f:qNe},13:{f:h4e},14:{f:t4e},15:{f:JNe},16:{f:c4e},17:{f:y4e},18:{f:n4e},19:{f:F6},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:o3e},40:{},42:{},43:{f:fje},44:{f:xje},45:{f:bje},46:{f:jje},47:{f:vje},48:{},49:{f:q1e},50:{},51:{f:Fje},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:K2e},62:{f:p4e},63:{f:Hje},64:{f:B4e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:il,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:M4e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:HNe},148:{f:$Ne,p:16},151:{f:T4e},152:{},153:{f:i3e},154:{},155:{},156:{f:a3e},157:{},158:{},159:{T:1,f:aje},160:{T:-1},161:{T:1,f:Bd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:S4e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Mje},336:{T:-1},337:{f:$je,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:jw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:U2e},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:E4e},427:{f:I4e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:O4e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:UNe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:P4e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:jw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Kje},633:{T:1},634:{T:-1},635:{T:1,f:Gje},636:{T:-1},637:{f:J1e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Q4e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:$4e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function lt(e,r,s,a){var n=r;if(!isNaN(n)){var i=a||(s||[]).length||0,l=e.next(4);l.write_shift(2,n),l.write_shift(2,i),i>0&&D6(s)&&e.push(s)}}function M3e(e,r,s,a){var n=(s||[]).length||0;if(n<=8224)return lt(e,r,s,n);var i=r;if(!isNaN(i)){for(var l=s.parts||[],o=0,d=0,c=0;c+(l[o]||8224)<=8224;)c+=l[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,c),e.push(s.slice(d,d+c)),d+=c;d<n;){for(u=e.next(4),u.write_shift(2,60),c=0;c+(l[o]||8224)<=8224;)c+=l[o]||8224,o++;u.write_shift(2,c),e.push(s.slice(d,d+c)),d+=c}}}function kx(e,r,s){return e||(e=ze(7)),e.write_shift(2,r),e.write_shift(2,s),e.write_shift(2,0),e.write_shift(1,0),e}function L3e(e,r,s,a){var n=ze(9);return kx(n,e,r),g$(s,a||"b",n),n}function F3e(e,r,s){var a=ze(8+2*s.length);return kx(a,e,r),a.write_shift(1,s.length),a.write_shift(s.length,s,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function R3e(e,r,s,a){if(r.v!=null)switch(r.t){case"d":case"n":var n=r.t=="d"?sn(La(r.v)):r.v;n==(n|0)&&n>=0&&n<65536?lt(e,2,Q2e(s,a,n)):lt(e,3,J2e(s,a,n));return;case"b":case"e":lt(e,5,L3e(s,a,r.v,r.t));return;case"s":case"str":lt(e,4,F3e(s,a,(r.v||"").slice(0,255)));return}lt(e,1,kx(null,s,a))}function B3e(e,r,s,a){var n=Array.isArray(r),i=Br(r["!ref"]||"A1"),l,o="",d=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(r["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=Ts(i)}for(var c=i.s.r;c<=i.e.r;++c){o=na(c);for(var u=i.s.c;u<=i.e.c;++u){c===i.s.r&&(d[u]=va(u)),l=d[u]+o;var m=n?(r[c]||[])[u]:r[l];m&&R3e(e,m,c,u)}}}function $3e(e,r){for(var s=r||{},a=Qa(),n=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==s.sheet&&(n=i);if(n==0&&s.sheet&&e.SheetNames[0]!=s.sheet)throw new Error("Sheet not found: "+s.sheet);return lt(a,s.biff==4?1033:s.biff==3?521:9,$6(e,16,s)),B3e(a,e.Sheets[e.SheetNames[n]],n,s),lt(a,10),a.end()}function z3e(e,r,s){lt(e,49,D2e({sz:12,name:"Arial"},s))}function U3e(e,r,s){r&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)r[n]!=null&&lt(e,1054,F2e(n,r[n],s))})}function H3e(e,r){var s=ze(19);s.write_shift(4,2151),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,3),s.write_shift(1,1),s.write_shift(4,0),lt(e,2151,s),s=ze(39),s.write_shift(4,2152),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,3),s.write_shift(1,0),s.write_shift(4,0),s.write_shift(2,1),s.write_shift(4,4),s.write_shift(2,0),v$(Br(r["!ref"]||"A1"),s),s.write_shift(4,4),lt(e,2152,s)}function V3e(e,r){for(var s=0;s<16;++s)lt(e,224,QT({numFmtId:0,style:!0},0,r));r.cellXfs.forEach(function(a){lt(e,224,QT(a,0,r))})}function W3e(e,r){for(var s=0;s<r["!links"].length;++s){var a=r["!links"][s];lt(e,440,W2e(a)),a[1].Tooltip&&lt(e,2048,G2e(a))}delete r["!links"]}function G3e(e,r){if(r){var s=0;r.forEach(function(a,n){++s<=256&&a&&lt(e,125,Y2e(tv(n,a),n))})}}function q3e(e,r,s,a,n){var i=16+pc(n.cellXfs,r,n);if(r.v==null&&!r.bf){lt(e,513,wd(s,a,i));return}if(r.bf)lt(e,6,gNe(r,s,a,n,i));else switch(r.t){case"d":case"n":var l=r.t=="d"?sn(La(r.v)):r.v;lt(e,515,z2e(s,a,l,i));break;case"b":case"e":lt(e,517,$2e(s,a,r.v,i,n,r.t));break;case"s":case"str":if(n.bookSST){var o=W6(n.Strings,r.v,n.revStrings);lt(e,253,M2e(s,a,o,i))}else lt(e,516,L2e(s,a,(r.v||"").slice(0,255),i,n));break;default:lt(e,513,wd(s,a,i))}}function K3e(e,r,s){var a=Qa(),n=s.SheetNames[e],i=s.Sheets[n]||{},l=(s||{}).Workbook||{},o=(l.Sheets||[])[e]||{},d=Array.isArray(i),c=r.biff==8,u,m="",x=[],h=Br(i["!ref"]||"A1"),p=c?65536:16384;if(h.e.c>255||h.e.r>=p){if(r.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,p-1)}lt(a,2057,$6(s,16,r)),lt(a,13,Gn(1)),lt(a,12,Gn(100)),lt(a,15,Ea(!0)),lt(a,17,Ea(!1)),lt(a,16,jd(.001)),lt(a,95,Ea(!0)),lt(a,42,Ea(!1)),lt(a,43,Ea(!1)),lt(a,130,Gn(1)),lt(a,128,B2e()),lt(a,131,Ea(!1)),lt(a,132,Ea(!1)),c&&G3e(a,i["!cols"]),lt(a,512,R2e(h,r)),c&&(i["!links"]=[]);for(var f=h.s.r;f<=h.e.r;++f){m=na(f);for(var b=h.s.c;b<=h.e.c;++b){f===h.s.r&&(x[b]=va(b)),u=x[b]+m;var j=d?(i[f]||[])[b]:i[u];j&&(q3e(a,j,f,b,r),c&&j.l&&i["!links"].push([u,j.l]))}}var w=o.CodeName||o.name||n;return c&&lt(a,574,O2e((l.Views||[])[0])),c&&(i["!merges"]||[]).length&&lt(a,229,V2e(i["!merges"])),c&&W3e(a,i),lt(a,442,b$(w)),c&&H3e(a,i),lt(a,10),a.end()}function Y3e(e,r,s){var a=Qa(),n=(e||{}).Workbook||{},i=n.Sheets||[],l=n.WBProps||{},o=s.biff==8,d=s.biff==5;if(lt(a,2057,$6(e,5,s)),s.bookType=="xla"&&lt(a,135),lt(a,225,o?Gn(1200):null),lt(a,193,v2e(2)),d&&lt(a,191),d&&lt(a,192),lt(a,226),lt(a,92,T2e("SheetJS",s)),lt(a,66,Gn(o?1200:1252)),o&&lt(a,353,Gn(0)),o&&lt(a,448),lt(a,317,X2e(e.SheetNames.length)),o&&e.vbaraw&&lt(a,211),o&&e.vbaraw){var c=l.CodeName||"ThisWorkbook";lt(a,442,b$(c))}lt(a,156,Gn(17)),lt(a,25,Ea(!1)),lt(a,18,Ea(!1)),lt(a,19,Gn(0)),o&&lt(a,431,Ea(!1)),o&&lt(a,444,Gn(0)),lt(a,61,_2e()),lt(a,64,Ea(!1)),lt(a,141,Gn(0)),lt(a,34,Ea(e3e(e)=="true")),lt(a,14,Ea(!0)),o&&lt(a,439,Ea(!1)),lt(a,218,Gn(0)),z3e(a,e,s),U3e(a,e.SSF,s),V3e(a,s),o&&lt(a,352,Ea(!1));var u=a.end(),m=Qa();o&&lt(m,140,q2e()),o&&s.Strings&&M3e(m,252,I2e(s.Strings)),lt(m,10);var x=m.end(),h=Qa(),p=0,f=0;for(f=0;f<e.SheetNames.length;++f)p+=(o?12:11)+(o?2:1)*e.SheetNames[f].length;var b=u.length+p+x.length;for(f=0;f<e.SheetNames.length;++f){var j=i[f]||{};lt(h,133,E2e({pos:b,hs:j.Hidden||0,dt:0,name:e.SheetNames[f]},s)),b+=r[f].length}var w=h.end();if(p!=w.length)throw new Error("BS8 "+p+" != "+w.length);var y=[];return u.length&&y.push(u),w.length&&y.push(w),x.length&&y.push(x),ra(y)}function X3e(e,r){var s=r||{},a=[];e&&!e.SSF&&(e.SSF=an(ls)),e&&e.SSF&&(Xb(),Yb(e.SSF),s.revssf=Jb(e.SSF),s.revssf[e.SSF[65535]]=0,s.ssf=e.SSF),s.Strings=[],s.Strings.Count=0,s.Strings.Unique=0,G6(s),s.cellXfs=[],pc(s.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var n=0;n<e.SheetNames.length;++n)a[a.length]=K3e(n,s,e);return a.unshift(Y3e(e,a,s)),ra(a)}function G$(e,r){for(var s=0;s<=e.SheetNames.length;++s){var a=e.Sheets[e.SheetNames[s]];if(!(!a||!a["!ref"])){var n=An(a["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[s]+"' extends beyond column IV (255).  Data may be lost.")}}var i=r||{};switch(i.biff||2){case 8:case 5:return X3e(e,r);case 4:case 3:case 2:return $3e(e,r)}throw new Error("invalid type "+i.bookType+" for BIFF")}function J3e(e,r,s,a){for(var n=e["!merges"]||[],i=[],l=r.s.c;l<=r.e.c;++l){for(var o=0,d=0,c=0;c<n.length;++c)if(!(n[c].s.r>s||n[c].s.c>l)&&!(n[c].e.r<s||n[c].e.c<l)){if(n[c].s.r<s||n[c].s.c<l){o=-1;break}o=n[c].e.r-n[c].s.r+1,d=n[c].e.c-n[c].s.c+1;break}if(!(o<0)){var u=gr({r:s,c:l}),m=a.dense?(e[s]||[])[l]:e[u],x=m&&m.v!=null&&(m.h||A1e(m.w||(Yl(m),m.w)||""))||"",h={};o>1&&(h.rowspan=o),d>1&&(h.colspan=d),a.editable?x='<span contenteditable="true">'+x+"</span>":m&&(h["data-t"]=m&&m.t||"z",m.v!=null&&(h["data-v"]=m.v),m.z!=null&&(h["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+m.l.Target+'">'+x+"</a>")),h.id=(a.id||"sjs")+"-"+u,i.push(nt("td",x,h))}}var p="<tr>";return p+i.join("")+"</tr>"}var Q3e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Z3e="</body></html>";function e6e(e,r,s){var a=[];return a.join("")+"<table"+(s&&s.id?' id="'+s.id+'"':"")+">"}function q$(e,r){var s=r||{},a=s.header!=null?s.header:Q3e,n=s.footer!=null?s.footer:Z3e,i=[a],l=An(e["!ref"]);s.dense=Array.isArray(e),i.push(e6e(e,l,s));for(var o=l.s.r;o<=l.e.r;++o)i.push(J3e(e,l,o,s));return i.push("</table>"+n),i.join("")}function K$(e,r,s){var a=s||{},n=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")n=a.origin;else{var l=typeof a.origin=="string"?Gs(a.origin):a.origin;n=l.r,i=l.c}var o=r.getElementsByTagName("tr"),d=Math.min(a.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:n,c:i}};if(e["!ref"]){var u=An(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),n==-1&&(c.e.r=n=u.e.r+1)}var m=[],x=0,h=e["!rows"]||(e["!rows"]=[]),p=0,f=0,b=0,j=0,w=0,y=0;for(e["!cols"]||(e["!cols"]=[]);p<o.length&&f<d;++p){var v=o[p];if(nE(v)){if(a.display)continue;h[f]={hidden:!0}}var N=v.children;for(b=j=0;b<N.length;++b){var S=N[b];if(!(a.display&&nE(S))){var k=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):_1e(S.innerHTML),P=S.getAttribute("data-z")||S.getAttribute("z");for(x=0;x<m.length;++x){var C=m[x];C.s.c==j+i&&C.s.r<f+n&&f+n<=C.e.r&&(j=C.e.c+1-i,x=-1)}y=+S.getAttribute("colspan")||1,((w=+S.getAttribute("rowspan")||1)>1||y>1)&&m.push({s:{r:f+n,c:j+i},e:{r:f+n+(w||1)-1,c:j+i+(y||1)-1}});var I={t:"s",v:k},A=S.getAttribute("data-t")||S.getAttribute("t")||"";k!=null&&(k.length==0?I.t=A||"z":a.raw||k.trim().length==0||A=="s"||(k==="TRUE"?I={t:"b",v:!0}:k==="FALSE"?I={t:"b",v:!1}:isNaN(El(k))?isNaN(E0(k).getDate())||(I={t:"d",v:La(k)},a.cellDates||(I={t:"n",v:sn(I.v)}),I.z=a.dateNF||ls[14]):I={t:"n",v:El(k)})),I.z===void 0&&P!=null&&(I.z=P);var O="",R=S.getElementsByTagName("A");if(R&&R.length)for(var Z=0;Z<R.length&&!(R[Z].hasAttribute("href")&&(O=R[Z].getAttribute("href"),O.charAt(0)!="#"));++Z);O&&O.charAt(0)!="#"&&(I.l={Target:O}),a.dense?(e[f+n]||(e[f+n]=[]),e[f+n][j+i]=I):e[gr({c:j+i,r:f+n})]=I,c.e.c<j+i&&(c.e.c=j+i),j+=y}}++f}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),c.e.r=Math.max(c.e.r,f-1+n),e["!ref"]=Ts(c),f>=d&&(e["!fullref"]=Ts((c.e.r=o.length-p+f-1+n,c))),e}function Y$(e,r){var s=r||{},a=s.dense?[]:{};return K$(a,e,r)}function t6e(e,r){return Md(Y$(e,r),r)}function nE(e){var r="",s=r6e(e);return s&&(r=s(e).getPropertyValue("display")),r||(r=e.style&&e.style.display),r==="none"}function r6e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var s6e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),r="<office:document-styles "+_0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Es+r}}(),iE=function(){var e=function(i){return pr(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},r=`          <table:table-cell />
`,s=`          <table:covered-table-cell/>
`,a=function(i,l,o){var d=[];d.push('      <table:table table:name="'+pr(l.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,m=An(i["!ref"]||"A1"),x=i["!merges"]||[],h=0,p=Array.isArray(i);if(i["!cols"])for(u=0;u<=m.e.c;++u)d.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var f="",b=i["!rows"]||[];for(c=0;c<m.s.r;++c)f=b[c]?' table:style-name="ro'+b[c].ods+'"':"",d.push("        <table:table-row"+f+`></table:table-row>
`);for(;c<=m.e.r;++c){for(f=b[c]?' table:style-name="ro'+b[c].ods+'"':"",d.push("        <table:table-row"+f+`>
`),u=0;u<m.s.c;++u)d.push(r);for(;u<=m.e.c;++u){var j=!1,w={},y="";for(h=0;h!=x.length;++h)if(!(x[h].s.c>u)&&!(x[h].s.r>c)&&!(x[h].e.c<u)&&!(x[h].e.r<c)){(x[h].s.c!=u||x[h].s.r!=c)&&(j=!0),w["table:number-columns-spanned"]=x[h].e.c-x[h].s.c+1,w["table:number-rows-spanned"]=x[h].e.r-x[h].s.r+1;break}if(j){d.push(s);continue}var v=gr({r:c,c:u}),N=p?(i[c]||[])[u]:i[v];if(N&&N.f&&(w["table:formula"]=pr(NNe(N.f)),N.F&&N.F.slice(0,v.length)==v)){var S=An(N.F);w["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,w["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!N){d.push(r);continue}switch(N.t){case"b":y=N.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=N.v?"true":"false";break;case"n":y=N.w||String(N.v||0),w["office:value-type"]="float",w["office:value"]=N.v||0;break;case"s":case"str":y=N.v==null?"":N.v,w["office:value-type"]="string";break;case"d":y=N.w||La(N.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=La(N.v).toISOString(),w["table:style-name"]="ce1";break;default:d.push(r);continue}var k=e(y);if(N.l&&N.l.Target){var P=N.l.Target;P=P.charAt(0)=="#"?"#"+SNe(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),k=nt("text:a",k,{"xlink:href":P.replace(/&/g,"&amp;")})}d.push("          "+nt("table:table-cell",nt("text:p",k,{}),w)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},n=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;l.SheetNames.map(function(c){return l.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var m=c["!cols"][u];if(m.width==null&&m.wpx==null&&m.wch==null)continue;z6(m),m.ods=o;var x=c["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+x+`"/>
`),i.push(`  </style:style>
`),++o}}});var d=0;l.SheetNames.map(function(c){return l.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=d;var m=c["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),i.push(`  </style:style>
`),++d}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,o){var d=[Es],c=_0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=_0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(d.push("<office:document"+c+u+`>
`),d.push(d$().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+c+`>
`),n(d,l),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var m=0;m!=l.SheetNames.length;++m)d.push(a(l.Sheets[l.SheetNames[m]],l,m));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),o.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}}();function X$(e,r){if(r.bookType=="fods")return iE(e,r);var s=E6(),a="",n=[],i=[];return a="mimetype",Wt(s,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",Wt(s,a,iE(e,r)),n.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",Wt(s,a,s6e(e,r)),n.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",Wt(s,a,Es+d$()),n.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",Wt(s,a,p2e(i)),n.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",Wt(s,a,h2e(n)),s}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function ty(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function a6e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Si(I0(e))}function n6e(e,r){e:for(var s=0;s<=e.length-r.length;++s){for(var a=0;a<r.length;++a)if(e[s+a]!=r[a])continue e;return!0}return!1}function ic(e){var r=e.reduce(function(n,i){return n+i.length},0),s=new Uint8Array(r),a=0;return e.forEach(function(n){s.set(n,a),a+=n.length}),s}function i6e(e,r,s){var a=Math.floor(s==0?0:Math.LOG10E*Math.log(Math.abs(s)))+6176-20,n=s/Math.pow(10,a-6176);e[r+15]|=a>>7,e[r+14]|=(a&127)<<1;for(var i=0;n>=1;++i,n/=256)e[r+i]=n&255;e[r+15]|=s>=0?0:128}function O0(e,r){var s=r?r[0]:0,a=e[s]&127;e:if(e[s++]>=128&&(a|=(e[s]&127)<<7,e[s++]<128||(a|=(e[s]&127)<<14,e[s++]<128)||(a|=(e[s]&127)<<21,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,28),++s,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,35),++s,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,42),++s,e[s++]<128)))break e;return r&&(r[0]=s),a}function mr(e){var r=new Uint8Array(7);r[0]=e&127;var s=1;e:if(e>127){if(r[s-1]|=128,r[s]=e>>7&127,++s,e<=16383||(r[s-1]|=128,r[s]=e>>14&127,++s,e<=2097151)||(r[s-1]|=128,r[s]=e>>21&127,++s,e<=268435455)||(r[s-1]|=128,r[s]=e/256>>>21&127,++s,e<=34359738367)||(r[s-1]|=128,r[s]=e/65536>>>21&127,++s,e<=4398046511103))break e;r[s-1]|=128,r[s]=e/16777216>>>21&127,++s}return r.slice(0,s)}function Ru(e){var r=0,s=e[r]&127;e:if(e[r++]>=128){if(s|=(e[r]&127)<<7,e[r++]<128||(s|=(e[r]&127)<<14,e[r++]<128)||(s|=(e[r]&127)<<21,e[r++]<128))break e;s|=(e[r]&127)<<28}return s}function Is(e){for(var r=[],s=[0];s[0]<e.length;){var a=s[0],n=O0(e,s),i=n&7;n=Math.floor(n/8);var l=0,o;if(n==0)break;switch(i){case 0:{for(var d=s[0];e[s[0]++]>=128;);o=e.slice(d,s[0])}break;case 5:l=4,o=e.slice(s[0],s[0]+l),s[0]+=l;break;case 1:l=8,o=e.slice(s[0],s[0]+l),s[0]+=l;break;case 2:l=O0(e,s),o=e.slice(s[0],s[0]+l),s[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(n," at offset ").concat(a))}var c={data:o,type:i};r[n]==null?r[n]=[c]:r[n].push(c)}return r}function Qs(e){var r=[];return e.forEach(function(s,a){s.forEach(function(n){n.data&&(r.push(mr(a*8+n.type)),n.type==2&&r.push(mr(n.data.length)),r.push(n.data))})}),ic(r)}function gi(e){for(var r,s=[],a=[0];a[0]<e.length;){var n=O0(e,a),i=Is(e.slice(a[0],a[0]+n));a[0]+=n;var l={id:Ru(i[1][0].data),messages:[]};i[2].forEach(function(o){var d=Is(o.data),c=Ru(d[3][0].data);l.messages.push({meta:d,data:e.slice(a[0],a[0]+c)}),a[0]+=c}),(r=i[3])!=null&&r[0]&&(l.merge=Ru(i[3][0].data)>>>0>0),s.push(l)}return s}function Xd(e){var r=[];return e.forEach(function(s){var a=[];a[1]=[{data:mr(s.id),type:0}],a[2]=[],s.merge!=null&&(a[3]=[{data:mr(+!!s.merge),type:0}]);var n=[];s.messages.forEach(function(l){n.push(l.data),l.meta[3]=[{type:0,data:mr(l.data.length)}],a[2].push({data:Qs(l.meta),type:2})});var i=Qs(a);r.push(mr(i.length)),r.push(i),n.forEach(function(l){return r.push(l)})}),ic(r)}function l6e(e,r){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var s=[0],a=O0(r,s),n=[];s[0]<r.length;){var i=r[s[0]]&3;if(i==0){var l=r[s[0]++]>>2;if(l<60)++l;else{var o=l-59;l=r[s[0]],o>1&&(l|=r[s[0]+1]<<8),o>2&&(l|=r[s[0]+2]<<16),o>3&&(l|=r[s[0]+3]<<24),l>>>=0,l++,s[0]+=o}n.push(r.slice(s[0],s[0]+l)),s[0]+=l;continue}else{var d=0,c=0;if(i==1?(c=(r[s[0]]>>2&7)+4,d=(r[s[0]++]&224)<<3,d|=r[s[0]++]):(c=(r[s[0]++]>>2)+1,i==2?(d=r[s[0]]|r[s[0]+1]<<8,s[0]+=2):(d=(r[s[0]]|r[s[0]+1]<<8|r[s[0]+2]<<16|r[s[0]+3]<<24)>>>0,s[0]+=4)),n=[ic(n)],d==0)throw new Error("Invalid offset 0");if(d>n[0].length)throw new Error("Invalid offset beyond length");if(c>=d)for(n.push(n[0].slice(-d)),c-=d;c>=n[n.length-1].length;)n.push(n[n.length-1]),c-=n[n.length-1].length;n.push(n[0].slice(-d,-d+c))}}var u=ic(n);if(u.length!=a)throw new Error("Unexpected length: ".concat(u.length," != ").concat(a));return u}function yi(e){for(var r=[],s=0;s<e.length;){var a=e[s++],n=e[s]|e[s+1]<<8|e[s+2]<<16;s+=3,r.push(l6e(a,e.slice(s,s+n))),s+=n}if(s!==e.length)throw new Error("data is not a valid framed stream!");return ic(r)}function Jd(e){for(var r=[],s=0;s<e.length;){var a=Math.min(e.length-s,268435455),n=new Uint8Array(4);r.push(n);var i=mr(a),l=i.length;r.push(i),a<=60?(l++,r.push(new Uint8Array([a-1<<2]))):a<=256?(l+=2,r.push(new Uint8Array([240,a-1&255]))):a<=65536?(l+=3,r.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(l+=4,r.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(l+=5,r.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),r.push(e.slice(s,s+a)),l+=a,n[0]=0,n[1]=l&255,n[2]=l>>8&255,n[3]=l>>16&255,s+=a}return ic(r)}function H1(e,r){var s=new Uint8Array(32),a=ty(s),n=12,i=0;switch(s[0]=5,e.t){case"n":s[1]=2,i6e(s,n,e.v),i|=1,n+=16;break;case"b":s[1]=6,a.setFloat64(n,e.v?1:0,!0),i|=2,n+=8;break;case"s":if(r.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));s[1]=3,a.setUint32(n,r.indexOf(e.v),!0),i|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),s.slice(0,n)}function V1(e,r){var s=new Uint8Array(32),a=ty(s),n=12,i=0;switch(s[0]=3,e.t){case"n":s[2]=2,a.setFloat64(n,e.v,!0),i|=32,n+=8;break;case"b":s[2]=6,a.setFloat64(n,e.v?1:0,!0),i|=32,n+=8;break;case"s":if(r.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));s[2]=3,a.setUint32(n,r.indexOf(e.v),!0),i|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),s.slice(0,n)}function ho(e){var r=Is(e);return O0(r[1][0].data)}function o6e(e,r,s){var a,n,i,l;if(!((a=e[6])!=null&&a[0])||!((n=e[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var o=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&Ru(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var d=0,c=ty(e[7][0].data),u=0,m=[],x=ty(e[4][0].data),h=0,p=[],f=0;f<r.length;++f){if(r[f]==null){c.setUint16(f*2,65535,!0),x.setUint16(f*2,65535);continue}c.setUint16(f*2,u,!0),x.setUint16(f*2,h,!0);var b,j;switch(typeof r[f]){case"string":b=H1({t:"s",v:r[f]},s),j=V1({t:"s",v:r[f]},s);break;case"number":b=H1({t:"n",v:r[f]},s),j=V1({t:"n",v:r[f]},s);break;case"boolean":b=H1({t:"b",v:r[f]},s),j=V1({t:"b",v:r[f]},s);break;default:throw new Error("Unsupported value "+r[f])}m.push(b),u+=b.length,p.push(j),h+=j.length,++d}for(e[2][0].data=mr(d);f<e[7][0].data.length/2;++f)c.setUint16(f*2,65535,!0),x.setUint16(f*2,65535,!0);return e[6][0].data=ic(m),e[3][0].data=ic(p),d}function c6e(e,r){if(!r||!r.numbers)throw new Error("Must pass a `numbers` option -- check the README");var s=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=An(s["!ref"]);a.s.r=a.s.c=0;var n=!1;a.e.c>9&&(n=!0,a.e.c=9),a.e.r>49&&(n=!0,a.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(Ts(a)));var i=ry(s,{range:a,header:1}),l=["~Sh33tJ5~"];i.forEach(function(F){return F.forEach(function(B){typeof B=="string"&&l.push(B)})});var o={},d=[],c=yr.read(r.numbers,{type:"base64"});c.FileIndex.map(function(F,B){return[F,c.FullPaths[B]]}).forEach(function(F){var B=F[0],q=F[1];if(B.type==2&&B.name.match(/\.iwa/)){var ae=B.content,V=yi(ae),G=gi(V);G.forEach(function(te){d.push(te.id),o[te.id]={deps:[],location:q,type:Ru(te.messages[0].meta[1][0].data)}})}}),d.sort(function(F,B){return F-B});var u=d.filter(function(F){return F>1}).map(function(F){return[F,mr(F)]});c.FileIndex.map(function(F,B){return[F,c.FullPaths[B]]}).forEach(function(F){var B=F[0];if(F[1],!!B.name.match(/\.iwa/)){var q=gi(yi(B.content));q.forEach(function(ae){ae.messages.forEach(function(V){u.forEach(function(G){ae.messages.some(function(te){return Ru(te.meta[1][0].data)!=11006&&n6e(te.data,G[1])})&&o[G[0]].deps.push(ae.id)})})})}});for(var m=yr.find(c,o[1].location),x=gi(yi(m.content)),h,p=0;p<x.length;++p){var f=x[p];f.id==1&&(h=f)}var b=ho(Is(h.messages[0].data)[1][0].data);for(m=yr.find(c,o[b].location),x=gi(yi(m.content)),p=0;p<x.length;++p)f=x[p],f.id==b&&(h=f);for(b=ho(Is(h.messages[0].data)[2][0].data),m=yr.find(c,o[b].location),x=gi(yi(m.content)),p=0;p<x.length;++p)f=x[p],f.id==b&&(h=f);for(b=ho(Is(h.messages[0].data)[2][0].data),m=yr.find(c,o[b].location),x=gi(yi(m.content)),p=0;p<x.length;++p)f=x[p],f.id==b&&(h=f);var j=Is(h.messages[0].data);{j[6][0].data=mr(a.e.r+1),j[7][0].data=mr(a.e.c+1);var w=ho(j[46][0].data),y=yr.find(c,o[w].location),v=gi(yi(y.content));{for(var N=0;N<v.length&&v[N].id!=w;++N);if(v[N].id!=w)throw"Bad ColumnRowUIDMapArchive";var S=Is(v[N].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var k=0;k<=a.e.c;++k){var P=[];P[1]=P[2]=[{type:0,data:mr(k+420690)}],S[1].push({type:2,data:Qs(P)}),S[2].push({type:0,data:mr(k)}),S[3].push({type:0,data:mr(k)})}S[4]=[],S[5]=[],S[6]=[];for(var C=0;C<=a.e.r;++C)P=[],P[1]=P[2]=[{type:0,data:mr(C+726270)}],S[4].push({type:2,data:Qs(P)}),S[5].push({type:0,data:mr(C)}),S[6].push({type:0,data:mr(C)});v[N].messages[0].data=Qs(S)}y.content=Jd(Xd(v)),y.size=y.content.length,delete j[46];var I=Is(j[4][0].data);{I[7][0].data=mr(a.e.r+1);var A=Is(I[1][0].data),O=ho(A[2][0].data);y=yr.find(c,o[O].location),v=gi(yi(y.content));{if(v[0].id!=O)throw"Bad HeaderStorageBucket";var R=Is(v[0].messages[0].data);for(C=0;C<i.length;++C){var Z=Is(R[2][0].data);Z[1][0].data=mr(C),Z[4][0].data=mr(i[C].length),R[2][C]={type:R[2][0].type,data:Qs(Z)}}v[0].messages[0].data=Qs(R)}y.content=Jd(Xd(v)),y.size=y.content.length;var Y=ho(I[2][0].data);y=yr.find(c,o[Y].location),v=gi(yi(y.content));{if(v[0].id!=Y)throw"Bad HeaderStorageBucket";for(R=Is(v[0].messages[0].data),k=0;k<=a.e.c;++k)Z=Is(R[2][0].data),Z[1][0].data=mr(k),Z[4][0].data=mr(a.e.r+1),R[2][k]={type:R[2][0].type,data:Qs(Z)};v[0].messages[0].data=Qs(R)}y.content=Jd(Xd(v)),y.size=y.content.length;var ce=ho(I[4][0].data);(function(){for(var F=yr.find(c,o[ce].location),B=gi(yi(F.content)),q,ae=0;ae<B.length;++ae){var V=B[ae];V.id==ce&&(q=V)}var G=Is(q.messages[0].data);{G[3]=[];var te=[];l.forEach(function(he,Qe){te[1]=[{type:0,data:mr(Qe)}],te[2]=[{type:0,data:mr(1)}],te[3]=[{type:2,data:a6e(he)}],G[3].push({type:2,data:Qs(te)})})}q.messages[0].data=Qs(G);var pe=Xd(B),ye=Jd(pe);F.content=ye,F.size=F.content.length})();var D=Is(I[3][0].data);{var z=D[1][0];delete D[2];var se=Is(z.data);{var K=ho(se[2][0].data);(function(){for(var F=yr.find(c,o[K].location),B=gi(yi(F.content)),q,ae=0;ae<B.length;++ae){var V=B[ae];V.id==K&&(q=V)}var G=Is(q.messages[0].data);{delete G[6],delete D[7];var te=new Uint8Array(G[5][0].data);G[5]=[];for(var pe=0,ye=0;ye<=a.e.r;++ye){var he=Is(te);pe+=o6e(he,i[ye],l),he[1][0].data=mr(ye),G[5].push({data:Qs(he),type:2})}G[1]=[{type:0,data:mr(a.e.c+1)}],G[2]=[{type:0,data:mr(a.e.r+1)}],G[3]=[{type:0,data:mr(pe)}],G[4]=[{type:0,data:mr(a.e.r+1)}]}q.messages[0].data=Qs(G);var Qe=Xd(B),W=Jd(Qe);F.content=W,F.size=F.content.length})()}z.data=Qs(se)}I[3][0].data=Qs(D)}j[4][0].data=Qs(I)}h.messages[0].data=Qs(j);var _=Xd(x),M=Jd(_);return m.content=M,m.size=m.content.length,c}function d6e(e){return function(s){for(var a=0;a!=e.length;++a){var n=e[a];s[n[0]]===void 0&&(s[n[0]]=n[1]),n[2]==="n"&&(s[n[0]]=Number(s[n[0]]))}}}function G6(e){d6e([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function u6e(e,r){return r.bookType=="ods"?X$(e,r):r.bookType=="numbers"?c6e(e,r):r.bookType=="xlsb"?m6e(e,r):h6e(e,r)}function m6e(e,r){bu=1024,e&&!e.SSF&&(e.SSF=an(ls)),e&&e.SSF&&(Xb(),Yb(e.SSF),r.revssf=Jb(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Bh?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var s=r.bookType=="xlsb"?"bin":"xml",a=_$.indexOf(r.bookType)>-1,n=l$();G6(r=r||{});var i=E6(),l="",o=0;if(r.cellXfs=[],pc(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Wt(i,l,u$(e.Props,r)),n.coreprops.push(l),hr(r.rels,2,l,ir.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&d.push(e.SheetNames[c]);e.Props.SheetNames=d}for(e.Props.Worksheets=e.Props.SheetNames.length,Wt(i,l,h$(e.Props)),n.extprops.push(l),hr(r.rels,3,l,ir.EXT_PROPS),e.Custprops!==e.Props&&oa(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Wt(i,l,x$(e.Custprops)),n.custprops.push(l),hr(r.rels,4,l,ir.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},m=e.Sheets[e.SheetNames[o-1]],x=(m||{})["!type"]||"sheet";switch(x){case"chart":default:l="xl/worksheets/sheet"+o+"."+s,Wt(i,l,p3e(o-1,l,r,e,u)),n.sheets.push(l),hr(r.wbrels,-1,"worksheets/sheet"+o+"."+s,ir.WS[0])}if(m){var h=m["!comments"],p=!1,f="";h&&h.length>0&&(f="xl/comments"+o+"."+s,Wt(i,f,y3e(h,f)),n.comments.push(f),hr(u,-1,"../comments"+o+"."+s,ir.CMNT),p=!0),m["!legacy"]&&p&&Wt(i,"xl/drawings/vmlDrawing"+o+".vml",E$(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}u["!id"].rId1&&Wt(i,c$(l),Lu(u))}return r.Strings!=null&&r.Strings.length>0&&(l="xl/sharedStrings."+s,Wt(i,l,g3e(r.Strings,l,r)),n.strs.push(l),hr(r.wbrels,-1,"sharedStrings."+s,ir.SST)),l="xl/workbook."+s,Wt(i,l,x3e(e,l)),n.workbooks.push(l),hr(r.rels,1,l,ir.WB),l="xl/theme/theme1.xml",Wt(i,l,A$(e.Themes,r)),n.themes.push(l),hr(r.wbrels,-1,"theme/theme1.xml",ir.THEME),l="xl/styles."+s,Wt(i,l,f3e(e,l,r)),n.styles.push(l),hr(r.wbrels,-1,"styles."+s,ir.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",Wt(i,l,e.vbaraw),n.vba.push(l),hr(r.wbrels,-1,"vbaProject.bin",ir.VBA)),l="xl/metadata."+s,Wt(i,l,b3e(l)),n.metadata.push(l),hr(r.wbrels,-1,"metadata."+s,ir.XLMETA),Wt(i,"[Content_Types].xml",o$(n,r)),Wt(i,"_rels/.rels",Lu(r.rels)),Wt(i,"xl/_rels/workbook."+s+".rels",Lu(r.wbrels)),delete r.revssf,delete r.ssf,i}function h6e(e,r){bu=1024,e&&!e.SSF&&(e.SSF=an(ls)),e&&e.SSF&&(Xb(),Yb(e.SSF),r.revssf=Jb(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Bh?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var s="xml",a=_$.indexOf(r.bookType)>-1,n=l$();G6(r=r||{});var i=E6(),l="",o=0;if(r.cellXfs=[],pc(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Wt(i,l,u$(e.Props,r)),n.coreprops.push(l),hr(r.rels,2,l,ir.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&d.push(e.SheetNames[c]);e.Props.SheetNames=d}e.Props.Worksheets=e.Props.SheetNames.length,Wt(i,l,h$(e.Props)),n.extprops.push(l),hr(r.rels,3,l,ir.EXT_PROPS),e.Custprops!==e.Props&&oa(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Wt(i,l,x$(e.Custprops)),n.custprops.push(l),hr(r.rels,4,l,ir.CUST_PROPS));var u=["SheetJ5"];for(r.tcid=0,o=1;o<=e.SheetNames.length;++o){var m={"!id":{}},x=e.Sheets[e.SheetNames[o-1]],h=(x||{})["!type"]||"sheet";switch(h){case"chart":default:l="xl/worksheets/sheet"+o+"."+s,Wt(i,l,z$(o-1,r,e,m)),n.sheets.push(l),hr(r.wbrels,-1,"worksheets/sheet"+o+"."+s,ir.WS[0])}if(x){var p=x["!comments"],f=!1,b="";if(p&&p.length>0){var j=!1;p.forEach(function(w){w[1].forEach(function(y){y.T==!0&&(j=!0)})}),j&&(b="xl/threadedComments/threadedComment"+o+"."+s,Wt(i,b,Vje(p,u,r)),n.threadedcomments.push(b),hr(m,-1,"../threadedComments/threadedComment"+o+"."+s,ir.TCMNT)),b="xl/comments"+o+"."+s,Wt(i,b,I$(p)),n.comments.push(b),hr(m,-1,"../comments"+o+"."+s,ir.CMNT),f=!0}x["!legacy"]&&f&&Wt(i,"xl/drawings/vmlDrawing"+o+".vml",E$(o,x["!comments"])),delete x["!comments"],delete x["!legacy"]}m["!id"].rId1&&Wt(i,c$(l),Lu(m))}return r.Strings!=null&&r.Strings.length>0&&(l="xl/sharedStrings."+s,Wt(i,l,w$(r.Strings,r)),n.strs.push(l),hr(r.wbrels,-1,"sharedStrings."+s,ir.SST)),l="xl/workbook."+s,Wt(i,l,V$(e)),n.workbooks.push(l),hr(r.rels,1,l,ir.WB),l="xl/theme/theme1.xml",Wt(i,l,A$(e.Themes,r)),n.themes.push(l),hr(r.wbrels,-1,"theme/theme1.xml",ir.THEME),l="xl/styles."+s,Wt(i,l,C$(e,r)),n.styles.push(l),hr(r.wbrels,-1,"styles."+s,ir.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",Wt(i,l,e.vbaraw),n.vba.push(l),hr(r.wbrels,-1,"vbaProject.bin",ir.VBA)),l="xl/metadata."+s,Wt(i,l,T$()),n.metadata.push(l),hr(r.wbrels,-1,"metadata."+s,ir.XLMETA),u.length>1&&(l="xl/persons/person.xml",Wt(i,l,Wje(u)),n.people.push(l),hr(r.wbrels,-1,"persons/person.xml",ir.PEOPLE)),Wt(i,"[Content_Types].xml",o$(n,r)),Wt(i,"_rels/.rels",Lu(r.rels)),Wt(i,"xl/_rels/workbook."+s+".rels",Lu(r.wbrels)),delete r.revssf,delete r.ssf,i}function x6e(e,r){var s="";switch((r||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":s=Kl(e.slice(0,12));break;case"binary":s=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(r&&r.type||"undefined"))}return[s.charCodeAt(0),s.charCodeAt(1),s.charCodeAt(2),s.charCodeAt(3),s.charCodeAt(4),s.charCodeAt(5),s.charCodeAt(6),s.charCodeAt(7)]}function J$(e,r){switch(r.type){case"base64":case"binary":break;case"buffer":case"array":r.type="";break;case"file":return jx(r.file,yr.write(e,{type:cr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");default:throw new Error("Unrecognized type "+r.type)}return yr.write(e,r)}function p6e(e,r){var s=an(r||{}),a=u6e(e,s);return f6e(a,s)}function f6e(e,r){var s={},a=cr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(r.compression&&(s.compression="DEFLATE"),r.password)s.type=a;else switch(r.type){case"base64":s.type="base64";break;case"binary":s.type="string";break;case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");case"buffer":case"file":s.type=a;break;default:throw new Error("Unrecognized type "+r.type)}var n=e.FullPaths?yr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[s.type]||s.type,compression:!!r.compression}):e.generate(s);if(typeof Deno<"u"&&typeof n=="string"){if(r.type=="binary"||r.type=="base64")return n;n=new Uint8Array(Kb(n))}return r.password&&typeof encrypt_agile<"u"?J$(encrypt_agile(n,r.password),r):r.type==="file"?jx(r.file,n):r.type=="string"?Mh(n):n}function g6e(e,r){var s=r||{},a=O3e(e,s);return J$(a,s)}function Bi(e,r,s){s||(s="");var a=s+e;switch(r.type){case"base64":return T0(I0(a));case"binary":return I0(a);case"string":return e;case"file":return jx(r.file,a,"utf8");case"buffer":return cr?lo(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):Bi(a,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function y6e(e,r){switch(r.type){case"base64":return T0(e);case"binary":return e;case"string":return e;case"file":return jx(r.file,e,"binary");case"buffer":return cr?lo(e,"binary"):e.split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function Pp(e,r){switch(r.type){case"string":case"base64":case"binary":for(var s="",a=0;a<e.length;++a)s+=String.fromCharCode(e[a]);return r.type=="base64"?T0(s):r.type=="string"?Mh(s):s;case"file":return jx(r.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+r.type)}}function Q$(e,r){Gve(),s3e(e);var s=an(r||{});if(s.cellStyles&&(s.cellNF=!0,s.sheetStubs=!0),s.type=="array"){s.type="binary";var a=Q$(e,s);return s.type="array",Kb(a)}var n=0;if(s.sheet&&(typeof s.sheet=="number"?n=s.sheet:n=e.SheetNames.indexOf(s.sheet),!e.SheetNames[n]))throw new Error("Sheet not found: "+s.sheet+" : "+typeof s.sheet);switch(s.bookType||"xlsb"){case"xml":case"xlml":return Bi(I3e(e,s),s);case"slk":case"sylk":return Bi(eje.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"htm":case"html":return Bi(q$(e.Sheets[e.SheetNames[n]],s),s);case"txt":return y6e(ez(e.Sheets[e.SheetNames[n]],s),s);case"csv":return Bi(q6(e.Sheets[e.SheetNames[n]],s),s,"\uFEFF");case"dif":return Bi(tje.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"dbf":return Pp(Z2e.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"prn":return Bi(rje.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"rtf":return Bi(cje.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"eth":return Bi(j$.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"fods":return Bi(X$(e,s),s);case"wk1":return Pp(ZT.sheet_to_wk1(e.Sheets[e.SheetNames[n]],s),s);case"wk3":return Pp(ZT.book_to_wk3(e,s),s);case"biff2":s.biff||(s.biff=2);case"biff3":s.biff||(s.biff=3);case"biff4":return s.biff||(s.biff=4),Pp(G$(e,s),s);case"biff5":s.biff||(s.biff=5);case"biff8":case"xla":case"xls":return s.biff||(s.biff=8),g6e(e,s);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return p6e(e,s);default:throw new Error("Unrecognized bookType |"+s.bookType+"|")}}function b6e(e){if(!e.bookType){var r={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},s=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();s.match(/^\.[a-z]+$/)&&(e.bookType=s.slice(1)),e.bookType=r[e.bookType]||e.bookType}}function Z$(e,r,s){var a={};return a.type="file",a.file=r,b6e(a),Q$(e,a)}function v6e(e,r,s,a,n,i,l,o){var d=na(s),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),m=!0,x=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:s,enumerable:!1})}catch{x.__rowNum__=s}else x.__rowNum__=s;if(!l||e[s])for(var h=r.s.c;h<=r.e.c;++h){var p=l?e[s][h]:e[a[h]+d];if(p===void 0||p.t===void 0){if(c===void 0)continue;i[h]!=null&&(x[i[h]]=c);continue}var f=p.v;switch(p.t){case"z":if(f==null)break;continue;case"e":f=f==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[h]!=null){if(f==null)if(p.t=="e"&&f===null)x[i[h]]=null;else if(c!==void 0)x[i[h]]=c;else if(u&&f===null)x[i[h]]=null;else continue;else x[i[h]]=u&&(p.t!=="n"||p.t==="n"&&o.rawNumbers!==!1)?f:Yl(p,f,o);f!=null&&(m=!1)}}return{row:x,isempty:m}}function ry(e,r){if(e==null||e["!ref"]==null)return[];var s={t:"n",v:0},a=0,n=1,i=[],l=0,o="",d={s:{r:0,c:0},e:{r:0,c:0}},c=r||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?a=1:c.header==="A"?a=2:Array.isArray(c.header)?a=3:c.header==null&&(a=0),typeof u){case"string":d=Br(u);break;case"number":d=Br(e["!ref"]),d.s.r=u;break;default:d=u}a>0&&(n=0);var m=na(d.s.r),x=[],h=[],p=0,f=0,b=Array.isArray(e),j=d.s.r,w=0,y={};b&&!e[j]&&(e[j]=[]);var v=c.skipHidden&&e["!cols"]||[],N=c.skipHidden&&e["!rows"]||[];for(w=d.s.c;w<=d.e.c;++w)if(!(v[w]||{}).hidden)switch(x[w]=va(w),s=b?e[j][w]:e[x[w]+m],a){case 1:i[w]=w-d.s.c;break;case 2:i[w]=x[w];break;case 3:i[w]=c.header[w-d.s.c];break;default:if(s==null&&(s={w:"__EMPTY",t:"s"}),o=l=Yl(s,null,c),f=y[l]||0,!f)y[l]=1;else{do o=l+"_"+f++;while(y[o]);y[l]=f,y[o]=1}i[w]=o}for(j=d.s.r+n;j<=d.e.r;++j)if(!(N[j]||{}).hidden){var S=v6e(e,d,j,x,a,i,b,c);(S.isempty===!1||(a===1?c.blankrows!==!1:c.blankrows))&&(h[p++]=S.row)}return h.length=p,h}var lE=/"/g;function j6e(e,r,s,a,n,i,l,o){for(var d=!0,c=[],u="",m=na(s),x=r.s.c;x<=r.e.c;++x)if(a[x]){var h=o.dense?(e[s]||[])[x]:e[a[x]+m];if(h==null)u="";else if(h.v!=null){d=!1,u=""+(o.rawNumbers&&h.t=="n"?h.v:Yl(h,null,o));for(var p=0,f=0;p!==u.length;++p)if((f=u.charCodeAt(p))===n||f===i||f===34||o.forceQuotes){u='"'+u.replace(lE,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(d=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(lE,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&d?null:c.join(l)}function q6(e,r){var s=[],a=r??{};if(e==null||e["!ref"]==null)return"";var n=Br(e["!ref"]),i=a.FS!==void 0?a.FS:",",l=i.charCodeAt(0),o=a.RS!==void 0?a.RS:`
`,d=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",m=[];a.dense=Array.isArray(e);for(var x=a.skipHidden&&e["!cols"]||[],h=a.skipHidden&&e["!rows"]||[],p=n.s.c;p<=n.e.c;++p)(x[p]||{}).hidden||(m[p]=va(p));for(var f=0,b=n.s.r;b<=n.e.r;++b)(h[b]||{}).hidden||(u=j6e(e,n,b,m,l,d,i,a),u!=null&&(a.strip&&(u=u.replace(c,"")),(u||a.blankrows!==!1)&&s.push((f++?o:"")+u)));return delete a.dense,s.join("")}function ez(e,r){r||(r={}),r.FS="	",r.RS=`
`;var s=q6(e,r);return s}function w6e(e){var r="",s,a="";if(e==null||e["!ref"]==null)return[];var n=Br(e["!ref"]),i="",l=[],o,d=[],c=Array.isArray(e);for(o=n.s.c;o<=n.e.c;++o)l[o]=va(o);for(var u=n.s.r;u<=n.e.r;++u)for(i=na(u),o=n.s.c;o<=n.e.c;++o)if(r=l[o]+i,s=c?(e[u]||[])[o]:e[r],a="",s!==void 0){if(s.F!=null){if(r=s.F,!s.f)continue;a=s.f,r.indexOf(":")==-1&&(r=r+":"+r)}if(s.f!=null)a=s.f;else{if(s.t=="z")continue;if(s.t=="n"&&s.v!=null)a=""+s.v;else if(s.t=="b")a=s.v?"TRUE":"FALSE";else if(s.w!==void 0)a="'"+s.w;else{if(s.v===void 0)continue;s.t=="s"?a="'"+s.v:a=""+s.v}}d[d.length]=r+"="+a}return d}function tz(e,r,s){var a=s||{},n=+!a.skipHeader,i=e||{},l=0,o=0;if(i&&a.origin!=null)if(typeof a.origin=="number")l=a.origin;else{var d=typeof a.origin=="string"?Gs(a.origin):a.origin;l=d.r,o=d.c}var c,u={s:{c:0,r:0},e:{c:o,r:l+r.length-1+n}};if(i["!ref"]){var m=Br(i["!ref"]);u.e.c=Math.max(u.e.c,m.e.c),u.e.r=Math.max(u.e.r,m.e.r),l==-1&&(l=m.e.r+1,u.e.r=l+r.length-1+n)}else l==-1&&(l=0,u.e.r=r.length-1+n);var x=a.header||[],h=0;r.forEach(function(f,b){oa(f).forEach(function(j){(h=x.indexOf(j))==-1&&(x[h=x.length]=j);var w=f[j],y="z",v="",N=gr({c:o+h,r:l+b+n});c=D0(i,N),w&&typeof w=="object"&&!(w instanceof Date)?i[N]=w:(typeof w=="number"?y="n":typeof w=="boolean"?y="b":typeof w=="string"?y="s":w instanceof Date?(y="d",a.cellDates||(y="n",w=sn(w)),v=a.dateNF||ls[14]):w===null&&a.nullError&&(y="e",w=0),c?(c.t=y,c.v=w,delete c.w,delete c.R,v&&(c.z=v)):i[N]=c={t:y,v:w},v&&(c.z=v))})}),u.e.c=Math.max(u.e.c,o+x.length-1);var p=na(l);if(n)for(h=0;h<x.length;++h)i[va(h+o)+p]={t:"s",v:x[h]};return i["!ref"]=Ts(u),i}function N6e(e,r){return tz(null,e,r)}function D0(e,r,s){if(typeof r=="string"){if(Array.isArray(e)){var a=Gs(r);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[r]||(e[r]={t:"z"})}return typeof r!="number"?D0(e,gr(r)):D0(e,gr({r,c:s||0}))}function S6e(e,r){if(typeof r=="number"){if(r>=0&&e.SheetNames.length>r)return r;throw new Error("Cannot find sheet # "+r)}else if(typeof r=="string"){var s=e.SheetNames.indexOf(r);if(s>-1)return s;throw new Error("Cannot find sheet name |"+r+"|")}else throw new Error("Cannot find sheet |"+r+"|")}function k6e(){return{SheetNames:[],Sheets:{}}}function C6e(e,r,s,a){var n=1;if(!s)for(;n<=65535&&e.SheetNames.indexOf(s="Sheet"+n)!=-1;++n,s=void 0);if(!s||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(s)>=0){var i=s.match(/(^.*?)(\d+)$/);n=i&&+i[2]||0;var l=i&&i[1]||s;for(++n;n<=65535&&e.SheetNames.indexOf(s=l+n)!=-1;++n);}if(H$(s),e.SheetNames.indexOf(s)>=0)throw new Error("Worksheet with name |"+s+"| already exists!");return e.SheetNames.push(s),e.Sheets[s]=r,s}function P6e(e,r,s){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=S6e(e,r);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),s){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+s)}e.Workbook.Sheets[a].Hidden=s}function A6e(e,r){return e.z=r,e}function rz(e,r,s){return r?(e.l={Target:r},s&&(e.l.Tooltip=s)):delete e.l,e}function T6e(e,r,s){return rz(e,"#"+r,s)}function E6e(e,r,s){e.c||(e.c=[]),e.c.push({t:r,a:s||"SheetJS"})}function I6e(e,r,s,a){for(var n=typeof r!="string"?r:Br(r),i=typeof r=="string"?r:Ts(r),l=n.s.r;l<=n.e.r;++l)for(var o=n.s.c;o<=n.e.c;++o){var d=D0(e,l,o);d.t="n",d.F=i,delete d.v,l==n.s.r&&o==n.s.c&&(d.f=s,a&&(d.D=!0))}return e}var Bu={encode_col:va,encode_row:na,encode_cell:gr,encode_range:Ts,decode_col:L6,decode_row:M6,split_cell:G1e,decode_cell:Gs,decode_range:An,format_cell:Yl,sheet_add_aoa:t$,sheet_add_json:tz,sheet_add_dom:K$,aoa_to_sheet:Om,json_to_sheet:N6e,table_to_sheet:Y$,table_to_book:t6e,sheet_to_csv:q6,sheet_to_txt:ez,sheet_to_json:ry,sheet_to_html:q$,sheet_to_formulae:w6e,sheet_to_row_object_array:ry,sheet_get_cell:D0,book_new:k6e,book_append_sheet:C6e,book_set_sheet_visibility:P6e,cell_set_number_format:A6e,cell_set_hyperlink:rz,cell_set_internal_link:T6e,cell_add_comment:E6e,sheet_set_array_formula:I6e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Oa=({columns:e,data:r,emptyLabel:s="No records found",renderActions:a})=>t.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200 shadow-sm bg-white",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[t.jsx("thead",{className:"bg-slate-50",children:t.jsxs("tr",{children:[e.map(n=>t.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500",children:n.header},n.key??n.accessor)),a&&t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Actions"})]})}),t.jsxs("tbody",{className:"divide-y divide-slate-100",children:[r.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:e.length+(a?1:0),className:"px-4 py-6 text-center text-sm text-slate-400",children:s})}),r.map((n,i)=>t.jsxs("tr",{children:[e.map(l=>t.jsx("td",{className:"px-4 py-4 text-sm text-slate-700",children:typeof l.render=="function"?l.render(n[l.accessor],n):n[l.accessor]},l.key??l.accessor)),a&&t.jsx("td",{className:"px-4 py-4 text-sm text-slate-500",children:a(n)})]},n.id??n._id??`row-${i}`))]})]})})}),$d=(e,r,s,a="Sheet1",n={})=>{if(!e||e.length===0){alert("No data to export");return}try{const i=e.map(u=>{const m={};return r.forEach(x=>{const h=x.accessor||x.key;let p=u[h];p==null?p="N/A":typeof p=="object"&&p!==null?p instanceof Date?p=p.toLocaleString("en-IN"):p=JSON.stringify(p):typeof p=="string"&&p.includes("")&&(p=p.replace(/[,]/g,"")),x.excelFormatter&&typeof x.excelFormatter=="function"&&(p=x.excelFormatter(p,u)),m[x.header]=p}),m}),l=Bu.json_to_sheet(i),o=Bu.book_new();Bu.book_append_sheet(o,l,a),n.columnWidths&&Array.isArray(n.columnWidths)?l["!cols"]=n.columnWidths.map(u=>({wch:u})):l["!cols"]=r.map(()=>({wch:50}));const d=new Date().toISOString().split("T")[0].replace(/-/g,"_"),c=`${s}_${d}.xlsx`;Z$(o,c)}catch(i){console.error("Excel export error:",i),alert("Failed to export data. Please try again.")}},_6e=[{header:"Partner",accessor:"partnerName"},{header:"Txn ID",accessor:"transactionId"},{header:"Type",accessor:"type"},{header:"Amount",accessor:"amount"},{header:"Balance",accessor:"balance"},{header:"Initiated By",accessor:"initiatedBy"}],O6e=[{header:"Name",accessor:"name"},{header:"Phone",accessor:"phone"},{header:"Email",accessor:"email"},{header:"Partner",accessor:"partnerName"},{header:"Role",accessor:"role"},{header:"Status",accessor:"status"},{header:"Joined Date",accessor:"joinedDate"}],D6e=({token:e})=>{const[r,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState(null);if(g.useEffect(()=>{if(!e)return;(async()=>{n(!0),l(null);try{const c=await We.fetchTeamMembers(e,{status:"all"}),u=(c==null?void 0:c.data)||(c==null?void 0:c.teamMembers)||[];s(Array.isArray(u)?u:[])}catch(c){console.error("Fetch team members error:",c),l(c.message||"Failed to fetch team members"),s([])}finally{n(!1)}})()},[e]),a)return t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading team members..."})]});if(i)return t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:t.jsx("p",{className:"text-rose-500 text-sm",children:i})});const o=r.map(d=>{var c,u,m,x,h;return{id:d._id,name:d.name||"N/A",phone:d.phone||"N/A",email:d.email||"N/A",partnerName:((u=(c=d.partner)==null?void 0:c.profile)==null?void 0:u.name)||((x=(m=d.partner)==null?void 0:m.Profile)==null?void 0:x.name)||((h=d.partner)==null?void 0:h.name)||"N/A",role:d.role?d.role.charAt(0).toUpperCase()+d.role.slice(1):"N/A",status:d.status?d.status.charAt(0).toUpperCase()+d.status.slice(1):"N/A",joinedDate:d.joinedDate?new Date(d.joinedDate).toLocaleDateString("en-IN"):"N/A"}});return t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex items-center justify-end",children:r.length>0&&t.jsxs("button",{onClick:()=>{const d=r.map(c=>{var u,m,x,h,p,f,b,j;return{Name:c.name||"N/A",Phone:c.phone||"N/A",Email:c.email||"N/A","Partner Name":((m=(u=c.partner)==null?void 0:u.profile)==null?void 0:m.name)||((h=(x=c.partner)==null?void 0:x.Profile)==null?void 0:h.name)||((p=c.partner)==null?void 0:p.name)||"N/A","Partner Phone":((f=c.partner)==null?void 0:f.phone)||((j=(b=c.partner)==null?void 0:b.Profile)==null?void 0:j.phone)||"N/A",Role:c.role?c.role.charAt(0).toUpperCase()+c.role.slice(1):"N/A",Status:c.status?c.status.charAt(0).toUpperCase()+c.status.slice(1):"N/A",Qualification:c.qualification||"N/A",Experience:c.experience||"N/A",City:c.city||"N/A","Joined Date":c.joinedDate?new Date(c.joinedDate).toLocaleDateString("en-IN"):"N/A"}});$d(d,[{header:"Name",accessor:"Name"},{header:"Phone",accessor:"Phone"},{header:"Email",accessor:"Email"},{header:"Partner Name",accessor:"Partner Name"},{header:"Partner Phone",accessor:"Partner Phone"},{header:"Role",accessor:"Role"},{header:"Status",accessor:"Status"},{header:"Qualification",accessor:"Qualification"},{header:"Experience",accessor:"Experience"},{header:"City",accessor:"City"},{header:"Joined Date",accessor:"Joined Date"}],"Team_Members_List","Team Members",{columnWidths:[20,15,25,25,15,15,12,20,15,15,15]})},disabled:r.length===0,className:"text-xs font-semibold text-primary hover:text-primary-dark disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2 transition px-3 py-1.5 border border-primary rounded-lg hover:bg-primary/10",title:"Export Team Members to Excel",children:[t.jsx(Na,{className:"w-4 h-4"}),"Export Team Members"]})}),t.jsx(Oa,{columns:O6e,data:o,emptyLabel:"No team members found."})]})},M6e=()=>{const{token:e}=wr(),r=Zt(),[s,a]=g.useState(""),[n,i]=g.useState(1),[l]=g.useState(10),[o,d]=g.useState(""),[c,u]=g.useState(null),[m,x]=g.useState(!1),[h,p]=g.useState(null),[f,b]=g.useState([]),[j,w]=g.useState(!1),[y,v]=g.useState({totalRegistrationFees:0,totalSecurityDeposit:0,totalToolkitFees:0,totalMGPlanRevenue:0,totalPartnerEarnings:0,totalRevenue:0});g.useEffect(()=>{if(!e)return;const F=async()=>{x(!0),p(null);try{const q=await We.fetchPartners(e,{page:n,limit:l,search:s,status:o});u(q)}catch(q){p(q.message||"Failed to fetch partners"),console.error("Fetch partners error:",q)}finally{x(!1)}},B=setTimeout(()=>{F()},s?500:0);return()=>clearTimeout(B)},[n,s,o,e,l]),g.useEffect(()=>{if(!e)return;(async()=>{try{const B=await We.fetchPartnerRevenueStats(e);B!=null&&B.success&&(B!=null&&B.stats)&&v(B.stats)}catch(B){console.error("Fetch revenue stats error:",B)}})()},[e]),g.useEffect(()=>{if(!e)return;(async()=>{w(!0);try{const B=await We.fetchAllWalletTransactions(e,{limit:50});b((B==null?void 0:B.transactions)||(B==null?void 0:B.success)||[])}catch(B){console.error("Fetch wallet transactions error:",B),b([])}finally{w(!1)}})()},[e]);const N=(c==null?void 0:c.partners)||[],S=(c==null?void 0:c.total)||0,k=(c==null?void 0:c.totalPages)||0,P=F=>{const B=F._id||F.id;B&&r(`/admin/partners/${B}`)},C=F=>{a(F.target.value),i(1)},I=F=>{d(F.target.value),i(1)},A=F=>{F>=1&&F<=k&&(i(F),window.scrollTo({top:0,behavior:"smooth"}))},O=async(F,B)=>{if(confirm(`Are you sure you want to approve payment for ${B}?`))try{const q={paymentApproved:!0,approvedBy:"Admin",approvedAt:new Date().toISOString()},ae=await We.approvePartnerPayment(e,F,q);ae.success?(alert(`Payment approved successfully for ${B}!`),fetchAllPartners()):alert(`Failed to approve payment: ${ae.message||"Unknown error"}`)}catch(q){console.error("Payment approval error:",q),alert(`Error approving payment: ${q.message}`)}},R=async(F,B)=>{if(!confirm(` WARNING: This will permanently delete ${B} and ALL related data including:

 Partner profile and KYC documents
 Wallet transactions and earnings
 Team members
 Service assignments
 Reviews and ratings
 Booking history

This action CANNOT be undone!

Type "DELETE" to confirm:`))return;if(prompt(`To confirm deletion of ${B}, please type "DELETE" (in capital letters):`)!=="DELETE"){alert('Deletion cancelled. You must type "DELETE" exactly to confirm.');return}try{x(!0);const ae=await We.deletePartner(e,F);if(ae.success){alert(` Partner ${B} has been permanently deleted along with all related data.`);const V=await We.fetchPartners(e,{page:n,limit:l,search:s,status:o});u(V)}else ae.error==="Atlas connection timeout"?alert(` Database connection timeout. The database may be busy.

Please try again in a few minutes.`):ae.error==="Database timeout"?alert(` Operation timed out. The partner may have been partially deleted.

Please refresh the page and check if the partner still exists.`):alert(` Failed to delete partner: ${ae.message||"Unknown error"}`)}catch(ae){console.error("Delete partner error:",ae),ae.message.includes("timeout")||ae.message.includes("network")?alert(` Network or database connection issue.

Please check your connection and try again in a few minutes.`):alert(` Error deleting partner: ${ae.message}`)}finally{x(!1)}},Z=()=>{if(!f||f.length===0){alert("No transactions to export");return}const F=f.map(te=>({"Transaction ID":te.transactionId||"N/A","Partner Name":te.partnerName||"N/A",Type:te.type?te.type.charAt(0).toUpperCase()+te.type.slice(1):"N/A","Amount ()":te.amount||0,"Balance ()":te.balance||0,Description:te.description||"",Reference:te.reference||"","Initiated By":te.initiatedBy||"System",Date:te.createdAt?new Date(te.createdAt).toLocaleString("en-IN"):"N/A"})),B=Bu.json_to_sheet(F),q=Bu.book_new();Bu.book_append_sheet(q,B,"Wallet Transactions");const ae=[{wch:20},{wch:25},{wch:12},{wch:15},{wch:15},{wch:30},{wch:20},{wch:15},{wch:25}];B["!cols"]=ae;const G=`wallet-transactions-${new Date().toISOString().split("T")[0]}.xlsx`;Z$(q,G)},Y=y.totalRegistrationFees||0,ce=y.totalSecurityDeposit||0,D=y.totalToolkitFees||0,z=y.totalMGPlanRevenue||0;y.totalPartnerEarnings;const se=Y+ce+D+z,K=y.totalRevenue||0,_=Math.abs(se-K)>1?se:K;console.log("Revenue Calculation Check:",{"Registration Fees":`${Y.toLocaleString("en-IN")}`,"Security Deposit":`${ce.toLocaleString("en-IN")}`,"Toolkit Fees":`${D.toLocaleString("en-IN")}`,"MG Plan Revenue":`${z.toLocaleString("en-IN")}`,"Calculated Total":`${se.toLocaleString("en-IN")}`,"Backend Total":`${K.toLocaleString("en-IN")}`,"Final Total Used":`${_.toLocaleString("en-IN")}`,Calculation:`${ce} + ${z} + ${Y} + ${D} = ${se}`,"Is Calculation Correct?":se===Y+ce+D+z});const M=[{label:"Total Partners",value:S,trend:"Across all service categories",description:"Total registered partners",icon:Lr},{label:"Active Partners",value:N.filter(F=>{var q,ae,V;return(((ae=(q=F.Profile)==null?void 0:q.KYC)==null?void 0:ae.status)||((V=F.kyc)==null?void 0:V.status)||F.status||"pending")==="approved"}).length,trend:"Verified and active",icon:vt,description:"Approved partners",intent:"positive"},{label:"Total Revenue",value:`${_.toLocaleString("en-IN")}`,trend:`Reg: ${Y.toLocaleString("en-IN")} | SD: ${ce.toLocaleString("en-IN")} | TK: ${D.toLocaleString("en-IN")} | MG: ${z.toLocaleString("en-IN")}`,description:"All revenue streams combined",icon:gn,intent:"positive"},{label:"Registration Fees",value:`${Y.toLocaleString("en-IN")}`,trend:"Partner onboarding fees",description:"Total registration revenue",icon:vt,intent:"positive"},{label:"Security Deposit",value:`${ce.toLocaleString("en-IN")}`,trend:"Refundable deposits",description:"Total security deposits",icon:vt,intent:"positive"},{label:"Toolkit Fees",value:`${D.toLocaleString("en-IN")}`,trend:"Equipment & tools",description:"Total toolkit revenue",icon:vt,intent:"positive"},{label:"MG Plan Revenue",value:`${z.toLocaleString("en-IN")}`,trend:"From MG plan subscriptions",description:"Total MG plan revenue",icon:gn,intent:"positive"},{label:"Suspended Accounts",value:(c==null?void 0:c.suspended)??0,trend:"Auto-suspend post SLA breach",intent:"warning",icon:Yp,description:"Auto-suspend post SLA breach"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx(ys,{title:"Partner Control",subtitle:"Manage the partner lifecycle end-to-end with unified KYC, wallet management, penalty controls, and payouts."}),t.jsxs("button",{onClick:()=>r("/admin/partners/manual-register"),className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition flex items-center gap-2 font-semibold shadow-sm",children:[t.jsx(Lr,{className:"w-5 h-5"}),"Add New Partner"]})]}),t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:M.map(F=>t.jsx(Zn,{...F},F.label))}),t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),t.jsx("input",{type:"text",placeholder:"Search by name, email, phone, city, pincode...",value:s,onChange:C,className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("select",{value:o,onChange:I,className:"px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"approved",children:"Approved"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"rejected",children:"Rejected"}),t.jsx("option",{value:"suspended",children:"Suspended"})]})]}),t.jsx("div",{className:"text-sm text-slate-600",children:m?t.jsx("span",{children:"Loading..."}):t.jsxs("span",{children:["Showing ",N.length," of ",S," partners",s&&` matching "${s}"`]})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Partner Ledger"}),t.jsxs("div",{className:"flex items-center gap-3",children:[h&&t.jsx("span",{className:"text-xs text-rose-500",children:h}),N.length>0&&t.jsxs("button",{onClick:()=>{(async()=>{try{const B=await We.fetchPartners(e,{page:1,limit:1e3,search:s,status:o}),ae=((B==null?void 0:B.partners)||[]).map(V=>{var he,Qe,W,Ie,Se,we,L,ue,ee,fe,xe,ve,Ne,Ke,dt,ke,Re,Tt,Rt,be,T,ie;const G=V.mgPlan||V.mgPlanSummary,te=(G==null?void 0:G.leads)||V.mgPlanLeadQuota||0,pe=V.mgPlanLeadsUsed||0,ye=Math.max(te-pe,0);return{"Partner ID":((he=V.Profile)==null?void 0:he.id)||V._id||V.id||"N/A",Name:((Qe=V.Profile)==null?void 0:Qe.name)||((W=V.profile)==null?void 0:W.name)||"N/A",Email:((Ie=V.Profile)==null?void 0:Ie.email)||((Se=V.profile)==null?void 0:Se.email)||"N/A",Phone:((we=V.Profile)==null?void 0:we.phone)||V.phone||"N/A","Partner Type":(V.partnerType||((L=V.Profile)==null?void 0:L.partnerType)||"individual")==="franchise"?"Franchise":"Individual",City:((xe=(fe=(ee=(ue=V.Profile)==null?void 0:ue.address)==null?void 0:ee.split(","))==null?void 0:fe.pop())==null?void 0:xe.trim())||((ve=V.profile)==null?void 0:ve.city)||"N/A","Total Earnings ()":((Ne=V.Earnings)==null?void 0:Ne.totalEarnings)||0,"KYC Status":((dt=(Ke=V.Profile)==null?void 0:Ke.KYC)==null?void 0:dt.status)||((ke=V.kyc)==null?void 0:ke.status)||V.status||"pending","Payment Status":V.registerAmount>0&&V.payId&&V.payId!=="N/A"?"Verified":"Pending",Status:((Tt=(Re=V.Profile)==null?void 0:Re.KYC)==null?void 0:Tt.status)==="approved"||((Rt=V.kyc)==null?void 0:Rt.status)==="approved"?"Active":((T=(be=V.Profile)==null?void 0:be.KYC)==null?void 0:T.status)==="Pending"||((ie=V.kyc)==null?void 0:ie.status)==="Pending"?"KYC Pending":"Inactive","Registration Amount ()":V.registerAmount||0,"Security Deposit ()":V.securityDeposit||0,"Toolkit Price ()":V.toolkitPrice||0,"Pay ID":V.payId||"N/A","Paid By":V.paidBy||"N/A","MG Plan":(G==null?void 0:G.name)||"No Plan","Leads Guaranteed":te,"Leads Used":pe,"Leads Remaining":ye,"Plan Expires":V.mgPlanExpiresAt?new Date(V.mgPlanExpiresAt).toLocaleDateString("en-IN"):"N/A"}});$d(ae,[{header:"Partner ID",accessor:"Partner ID"},{header:"Name",accessor:"Name"},{header:"Email",accessor:"Email"},{header:"Phone",accessor:"Phone"},{header:"Partner Type",accessor:"Partner Type"},{header:"City",accessor:"City"},{header:"Total Earnings ()",accessor:"Total Earnings ()"},{header:"KYC Status",accessor:"KYC Status"},{header:"Payment Status",accessor:"Payment Status"},{header:"Status",accessor:"Status"},{header:"Registration Amount ()",accessor:"Registration Amount ()"},{header:"Security Deposit ()",accessor:"Security Deposit ()"},{header:"Toolkit Price ()",accessor:"Toolkit Price ()"},{header:"Pay ID",accessor:"Pay ID"},{header:"Paid By",accessor:"Paid By"},{header:"MG Plan",accessor:"MG Plan"},{header:"Leads Guaranteed",accessor:"Leads Guaranteed"},{header:"Leads Used",accessor:"Leads Used"},{header:"Leads Remaining",accessor:"Leads Remaining"},{header:"Plan Expires",accessor:"Plan Expires"}],"Partners_List","Partners",{columnWidths:[15,25,25,15,15,20,18,15,15,20,18,18,15,15,15,15,15,15,15,15]})}catch(B){console.error("Export error:",B),alert("Failed to export partners. Please try again.")}})()},disabled:m||N.length===0,className:"text-xs font-semibold text-primary hover:text-primary-dark disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2 transition px-3 py-1.5 border border-primary rounded-lg hover:bg-primary/10",title:"Export Partners to Excel",children:[t.jsx(Na,{className:"w-4 h-4"}),"Export Partners"]})]})]}),m?t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading partners..."})]}):N.length>0?t.jsx("div",{className:"space-y-4",children:N.map(F=>{var Ie,Se,we,L,ue,ee,fe,xe,ve,Ne,Ke,dt,ke,Re,Tt,Rt,be,T,ie,Te,qe,At,ft,pt,ge,U,de,Ve,Je,Ge,me,Be,et,mt;const B=F.mgPlan||F.mgPlanSummary,q=(B==null?void 0:B.leads)||F.mgPlanLeadQuota||0,ae=F.mgPlanLeadsUsed||0,V=Math.max(q-ae,0),G=new Date,te=F.mgPlanExpiresAt,pe=te?G>new Date(te):!1,ye=te?Math.ceil((new Date(te)-G)/(1e3*60*60*24)):0,he=pe||ye<=7,Qe=B?pe?"Expired":he?"Needs Renewal":"Active":"No Plan";F._partnerTypeLogged||(console.log("Partner structure:",{hasPartnerType:!!F.partnerType,partnerType:F.partnerType,hasProfilePartnerType:!!((Ie=F.Profile)!=null&&Ie.partnerType),profilePartnerType:(Se=F.Profile)==null?void 0:Se.partnerType,partnerKeys:Object.keys(F),profileKeys:F.Profile?Object.keys(F.Profile):[]}),F._partnerTypeLogged=!0);const W={id:((we=F.Profile)==null?void 0:we.id)||F._id||F.id,_id:((L=F.Profile)==null?void 0:L.id)||F._id||F.id,name:((ue=F.Profile)==null?void 0:ue.name)||((ee=F.profile)==null?void 0:ee.name)||"N/A",city:((Ne=(ve=(xe=(fe=F.Profile)==null?void 0:fe.address)==null?void 0:xe.split(","))==null?void 0:ve.pop())==null?void 0:Ne.trim())||((Ke=F.profile)==null?void 0:Ke.city)||((Tt=(Re=(ke=(dt=F.profile)==null?void 0:dt.address)==null?void 0:ke.split(","))==null?void 0:Re.pop())==null?void 0:Tt.trim())||"N/A",walletBalance:(Rt=F.Earnings)!=null&&Rt.totalEarnings?`${F.Earnings.totalEarnings.toLocaleString("en-IN")}`:"0",totalEarnings:((be=F.Earnings)==null?void 0:be.totalEarnings)||0,complianceScore:((ie=(T=F.Profile)==null?void 0:T.KYC)==null?void 0:ie.status)==="approved"||((Te=F.kyc)==null?void 0:Te.status)==="approved"||F.status==="approved"?"100%":"0%",status:((At=(qe=F.Profile)==null?void 0:qe.KYC)==null?void 0:At.status)==="approved"||((ft=F.kyc)==null?void 0:ft.status)==="approved"||F.status==="approved"?"Active":((ge=(pt=F.Profile)==null?void 0:pt.KYC)==null?void 0:ge.status)==="pending"||((U=F.kyc)==null?void 0:U.status)==="pending"||F.status==="pending"?"KYC Pending":"Inactive",kycStatus:((Ve=(de=F.Profile)==null?void 0:de.KYC)==null?void 0:Ve.status)||((Je=F.kyc)==null?void 0:Je.status)||F.status||"pending",email:((Ge=F.Profile)==null?void 0:Ge.email)||((me=F.profile)==null?void 0:me.email)||"N/A",phone:((Be=F.Profile)==null?void 0:Be.phone)||F.phone||"N/A",partnerType:F.partnerType||((et=F.Profile)==null?void 0:et.partnerType)||"individual",registerAmount:F.registerAmount||0,securityDeposit:F.securityDeposit||0,toolkitPrice:F.toolkitPrice||0,payId:F.payId||"N/A",paidBy:F.paidBy||"N/A",paymentStatus:F.registerAmount>0&&F.payId&&F.payId!=="N/A"?"Verified":"Pending",mgPlan:B?{name:B.name||"N/A",status:Qe,leadsGuaranteed:q,leadsUsed:ae,leadsRemaining:V,leadsCarryForward:V>0?V:0,isExpired:pe,daysUntilRenewal:ye>0?ye:0}:null};return t.jsxs("div",{onClick:()=>P(W),className:"block bg-white border border-slate-200 rounded-2xl px-5 py-4 shadow-sm hover:shadow-md transition cursor-pointer",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-900",children:W.name}),t.jsxs("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:[((mt=W.id)==null?void 0:mt.toString().slice(-8))||"N/A","  ",W.city]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Total Earnings"}),t.jsx("p",{className:"text-lg font-semibold text-primary",children:W.walletBalance})]})]}),t.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-xs",children:[t.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-slate-100 text-slate-600 font-medium",children:["Compliance ",W.complianceScore]}),t.jsx("span",{className:`px-2.5 py-1 rounded-full font-semibold ${W.status==="Active"?"bg-emerald-500/10 text-emerald-600":W.status==="KYC Pending"||W.kycStatus==="pending"?"bg-amber-500/10 text-amber-600":"bg-rose-500/10 text-rose-600"}`,children:W.status}),t.jsx("span",{className:`px-2.5 py-1 rounded-full font-semibold ${W.partnerType==="franchise"?"bg-purple-500/10 text-purple-600":"bg-blue-500/10 text-blue-600"}`,children:W.partnerType==="franchise"?"Franchise":"Individual"}),W.registerAmount>0&&t.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-green-500/10 text-green-600 font-semibold",children:["Reg: ",W.registerAmount.toLocaleString("en-IN")]}),W.securityDeposit>0&&t.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-blue-500/10 text-blue-600 font-semibold",children:["SD: ",W.securityDeposit.toLocaleString("en-IN")]}),W.toolkitPrice>0&&t.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-orange-500/10 text-orange-600 font-semibold",children:["TK: ",W.toolkitPrice.toLocaleString("en-IN")]}),W.mgPlan&&t.jsxs("span",{className:`px-2.5 py-1 rounded-full font-semibold flex items-center gap-1 ${W.mgPlan.status==="Active"?"bg-purple-500/10 text-purple-600":W.mgPlan.status==="Needs Renewal"?"bg-amber-500/10 text-amber-600":W.mgPlan.status==="Expired"?"bg-rose-500/10 text-rose-600":"bg-slate-500/10 text-slate-600"}`,title:`${W.mgPlan.name} Plan - ${W.mgPlan.leadsUsed}/${W.mgPlan.leadsGuaranteed} leads used${W.mgPlan.leadsCarryForward>0?` (${W.mgPlan.leadsCarryForward} carry forward)`:""}`,children:[t.jsx(gn,{className:"w-3 h-3"}),W.mgPlan.name," ",W.mgPlan.status!=="No Plan"&&`(${W.mgPlan.leadsRemaining} left)`]}),t.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[W.paymentStatus==="Pending"&&t.jsxs("button",{onClick:ut=>{ut.stopPropagation(),O(W.id,W.name)},className:"px-3 py-1 text-xs bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition flex items-center gap-1",title:"Approve Payment",children:[t.jsx(vt,{className:"w-3 h-3"}),"Approve Payment"]}),t.jsxs("button",{onClick:ut=>{ut.stopPropagation(),R(W.id,W.name)},className:"px-3 py-1 text-xs bg-red-600 text-white rounded-lg hover:bg-red-700 transition flex items-center gap-1",title:"Delete Partner",children:[t.jsx(la,{className:"w-3 h-3"}),"Delete"]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${W.paymentStatus==="Verified"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:W.paymentStatus}),W.payId!=="N/A"&&t.jsxs("span",{className:"text-xs text-slate-500",children:["Pay ID: ",W.payId]}),t.jsx("span",{className:"text-xs text-slate-500",children:"Click to view details "})]})]})]},W.id)})}):t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:t.jsx("p",{className:"text-slate-500",children:s?`No partners found matching "${s}"`:"No partners found"})}),k>1&&t.jsxs("div",{className:"mt-6 flex items-center justify-between bg-white border border-slate-200 rounded-2xl shadow-sm px-6 py-4",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",n," of ",k]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>A(n-1),disabled:n===1||m,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition",children:[t.jsx(QO,{className:"w-4 h-4"}),"Previous"]}),t.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,k)},(F,B)=>{let q;return k<=5||n<=3?q=B+1:n>=k-2?q=k-4+B:q=n-2+B,t.jsx("button",{onClick:()=>A(q),disabled:m,className:`px-3 py-1.5 rounded-lg text-sm font-medium transition ${n===q?"bg-primary text-white":"text-slate-600 hover:bg-slate-100"} disabled:opacity-50 disabled:cursor-not-allowed`,children:q},q)})}),t.jsxs("button",{onClick:()=>A(n+1),disabled:n===k||m,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition",children:["Next",t.jsx(ZO,{className:"w-4 h-4"})]})]})]})]}),t.jsxs("div",{className:"space-y-4 mt-8",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Team Members"})}),t.jsx(D6e,{token:e})]}),t.jsxs("div",{className:"space-y-4 mt-8",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Wallet Transactions"}),t.jsxs("button",{onClick:Z,disabled:j||!f||f.length===0,className:"text-xs font-semibold text-primary hover:text-primary-dark disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2 transition",children:[t.jsx(Na,{className:"w-4 h-4"}),"Export to Excel"]})]}),j?t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading transactions..."})]}):t.jsx(Oa,{columns:_6e,data:f.map(F=>({id:F.id||F.transactionId,partnerName:F.partnerName||"N/A",transactionId:F.transactionId||"N/A",type:F.type?F.type.charAt(0).toUpperCase()+F.type.slice(1):"N/A",amount:`${(F.amount||0).toLocaleString("en-IN")}`,balance:`${(F.balance||0).toLocaleString("en-IN")}`,initiatedBy:F.initiatedBy||"System"})),emptyLabel:"No recent transactions recorded."})]})]})]})};var L6e=Object.defineProperty,sy=Object.getOwnPropertySymbols,sz=Object.prototype.hasOwnProperty,az=Object.prototype.propertyIsEnumerable,oE=(e,r,s)=>r in e?L6e(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s,Nw=(e,r)=>{for(var s in r||(r={}))sz.call(r,s)&&oE(e,s,r[s]);if(sy)for(var s of sy(r))az.call(r,s)&&oE(e,s,r[s]);return e},Sw=(e,r)=>{var s={};for(var a in e)sz.call(e,a)&&r.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&sy)for(var a of sy(e))r.indexOf(a)<0&&az.call(e,a)&&(s[a]=e[a]);return s};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Nd;(e=>{const r=class qt{constructor(d,c,u,m){if(this.version=d,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],d<qt.MIN_VERSION||d>qt.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let x=[];for(let p=0;p<this.size;p++)x.push(!1);for(let p=0;p<this.size;p++)this.modules.push(x.slice()),this.isFunction.push(x.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(u);if(this.drawCodewords(h),m==-1){let p=1e9;for(let f=0;f<8;f++){this.applyMask(f),this.drawFormatBits(f);const b=this.getPenaltyScore();b<p&&(m=f,p=b),this.applyMask(f)}}n(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(d,c){const u=e.QrSegment.makeSegments(d);return qt.encodeSegments(u,c)}static encodeBinary(d,c){const u=e.QrSegment.makeBytes(d);return qt.encodeSegments([u],c)}static encodeSegments(d,c,u=1,m=40,x=-1,h=!0){if(!(qt.MIN_VERSION<=u&&u<=m&&m<=qt.MAX_VERSION)||x<-1||x>7)throw new RangeError("Invalid value");let p,f;for(p=u;;p++){const y=qt.getNumDataCodewords(p,c)*8,v=l.getTotalBits(d,p);if(v<=y){f=v;break}if(p>=m)throw new RangeError("Data too long")}for(const y of[qt.Ecc.MEDIUM,qt.Ecc.QUARTILE,qt.Ecc.HIGH])h&&f<=qt.getNumDataCodewords(p,y)*8&&(c=y);let b=[];for(const y of d){s(y.mode.modeBits,4,b),s(y.numChars,y.mode.numCharCountBits(p),b);for(const v of y.getData())b.push(v)}n(b.length==f);const j=qt.getNumDataCodewords(p,c)*8;n(b.length<=j),s(0,Math.min(4,j-b.length),b),s(0,(8-b.length%8)%8,b),n(b.length%8==0);for(let y=236;b.length<j;y^=253)s(y,8,b);let w=[];for(;w.length*8<b.length;)w.push(0);return b.forEach((y,v)=>w[v>>>3]|=y<<7-(v&7)),new qt(p,c,w,x)}getModule(d,c){return 0<=d&&d<this.size&&0<=c&&c<this.size&&this.modules[c][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),c=d.length;for(let u=0;u<c;u++)for(let m=0;m<c;m++)u==0&&m==0||u==0&&m==c-1||u==c-1&&m==0||this.drawAlignmentPattern(d[u],d[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const c=this.errorCorrectionLevel.formatBits<<3|d;let u=c;for(let x=0;x<10;x++)u=u<<1^(u>>>9)*1335;const m=(c<<10|u)^21522;n(m>>>15==0);for(let x=0;x<=5;x++)this.setFunctionModule(8,x,a(m,x));this.setFunctionModule(8,7,a(m,6)),this.setFunctionModule(8,8,a(m,7)),this.setFunctionModule(7,8,a(m,8));for(let x=9;x<15;x++)this.setFunctionModule(14-x,8,a(m,x));for(let x=0;x<8;x++)this.setFunctionModule(this.size-1-x,8,a(m,x));for(let x=8;x<15;x++)this.setFunctionModule(8,this.size-15+x,a(m,x));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let u=0;u<12;u++)d=d<<1^(d>>>11)*7973;const c=this.version<<12|d;n(c>>>18==0);for(let u=0;u<18;u++){const m=a(c,u),x=this.size-11+u%3,h=Math.floor(u/3);this.setFunctionModule(x,h,m),this.setFunctionModule(h,x,m)}}drawFinderPattern(d,c){for(let u=-4;u<=4;u++)for(let m=-4;m<=4;m++){const x=Math.max(Math.abs(m),Math.abs(u)),h=d+m,p=c+u;0<=h&&h<this.size&&0<=p&&p<this.size&&this.setFunctionModule(h,p,x!=2&&x!=4)}}drawAlignmentPattern(d,c){for(let u=-2;u<=2;u++)for(let m=-2;m<=2;m++)this.setFunctionModule(d+m,c+u,Math.max(Math.abs(m),Math.abs(u))!=1)}setFunctionModule(d,c,u){this.modules[c][d]=u,this.isFunction[c][d]=!0}addEccAndInterleave(d){const c=this.version,u=this.errorCorrectionLevel;if(d.length!=qt.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const m=qt.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],x=qt.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],h=Math.floor(qt.getNumRawDataModules(c)/8),p=m-h%m,f=Math.floor(h/m);let b=[];const j=qt.reedSolomonComputeDivisor(x);for(let y=0,v=0;y<m;y++){let N=d.slice(v,v+f-x+(y<p?0:1));v+=N.length;const S=qt.reedSolomonComputeRemainder(N,j);y<p&&N.push(0),b.push(N.concat(S))}let w=[];for(let y=0;y<b[0].length;y++)b.forEach((v,N)=>{(y!=f-x||N>=p)&&w.push(v[y])});return n(w.length==h),w}drawCodewords(d){if(d.length!=Math.floor(qt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let m=0;m<this.size;m++)for(let x=0;x<2;x++){const h=u-x,f=(u+1&2)==0?this.size-1-m:m;!this.isFunction[f][h]&&c<d.length*8&&(this.modules[f][h]=a(d[c>>>3],7-(c&7)),c++)}}n(c==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let m;switch(d){case 0:m=(u+c)%2==0;break;case 1:m=c%2==0;break;case 2:m=u%3==0;break;case 3:m=(u+c)%3==0;break;case 4:m=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:m=u*c%2+u*c%3==0;break;case 6:m=(u*c%2+u*c%3)%2==0;break;case 7:m=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&m&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let d=0;for(let x=0;x<this.size;x++){let h=!1,p=0,f=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[x][b]==h?(p++,p==5?d+=qt.PENALTY_N1:p>5&&d++):(this.finderPenaltyAddHistory(p,f),h||(d+=this.finderPenaltyCountPatterns(f)*qt.PENALTY_N3),h=this.modules[x][b],p=1);d+=this.finderPenaltyTerminateAndCount(h,p,f)*qt.PENALTY_N3}for(let x=0;x<this.size;x++){let h=!1,p=0,f=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][x]==h?(p++,p==5?d+=qt.PENALTY_N1:p>5&&d++):(this.finderPenaltyAddHistory(p,f),h||(d+=this.finderPenaltyCountPatterns(f)*qt.PENALTY_N3),h=this.modules[b][x],p=1);d+=this.finderPenaltyTerminateAndCount(h,p,f)*qt.PENALTY_N3}for(let x=0;x<this.size-1;x++)for(let h=0;h<this.size-1;h++){const p=this.modules[x][h];p==this.modules[x][h+1]&&p==this.modules[x+1][h]&&p==this.modules[x+1][h+1]&&(d+=qt.PENALTY_N2)}let c=0;for(const x of this.modules)c=x.reduce((h,p)=>h+(p?1:0),c);const u=this.size*this.size,m=Math.ceil(Math.abs(c*20-u*10)/u)-1;return n(0<=m&&m<=9),d+=m*qt.PENALTY_N4,n(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let u=[6];for(let m=this.size-7;u.length<d;m-=c)u.splice(1,0,m);return u}}static getNumRawDataModules(d){if(d<qt.MIN_VERSION||d>qt.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*d+128)*d+64;if(d>=2){const u=Math.floor(d/7)+2;c-=(25*u-10)*u-55,d>=7&&(c-=36)}return n(208<=c&&c<=29648),c}static getNumDataCodewords(d,c){return Math.floor(qt.getNumRawDataModules(d)/8)-qt.ECC_CODEWORDS_PER_BLOCK[c.ordinal][d]*qt.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let c=[];for(let m=0;m<d-1;m++)c.push(0);c.push(1);let u=1;for(let m=0;m<d;m++){for(let x=0;x<c.length;x++)c[x]=qt.reedSolomonMultiply(c[x],u),x+1<c.length&&(c[x]^=c[x+1]);u=qt.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(d,c){let u=c.map(m=>0);for(const m of d){const x=m^u.shift();u.push(0),c.forEach((h,p)=>u[p]^=qt.reedSolomonMultiply(h,x))}return u}static reedSolomonMultiply(d,c){if(d>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let m=7;m>=0;m--)u=u<<1^(u>>>7)*285,u^=(c>>>m&1)*d;return n(u>>>8==0),u}finderPenaltyCountPatterns(d){const c=d[1];n(c<=this.size*3);const u=c>0&&d[2]==c&&d[3]==c*3&&d[4]==c&&d[5]==c;return(u&&d[0]>=c*4&&d[6]>=c?1:0)+(u&&d[6]>=c*4&&d[0]>=c?1:0)}finderPenaltyTerminateAndCount(d,c,u){return d&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(d,c){c[0]==0&&(d+=this.size),c.pop(),c.unshift(d)}};r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;function s(o,d,c){if(d<0||d>31||o>>>d)throw new RangeError("Value out of range");for(let u=d-1;u>=0;u--)c.push(o>>>u&1)}function a(o,d){return(o>>>d&1)!=0}function n(o){if(!o)throw new Error("Assertion error")}const i=class rs{constructor(d,c,u){if(this.mode=d,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(d){let c=[];for(const u of d)s(u,8,c);return new rs(rs.Mode.BYTE,d.length,c)}static makeNumeric(d){if(!rs.isNumeric(d))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<d.length;){const m=Math.min(d.length-u,3);s(parseInt(d.substring(u,u+m),10),m*3+1,c),u+=m}return new rs(rs.Mode.NUMERIC,d.length,c)}static makeAlphanumeric(d){if(!rs.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=d.length;u+=2){let m=rs.ALPHANUMERIC_CHARSET.indexOf(d.charAt(u))*45;m+=rs.ALPHANUMERIC_CHARSET.indexOf(d.charAt(u+1)),s(m,11,c)}return u<d.length&&s(rs.ALPHANUMERIC_CHARSET.indexOf(d.charAt(u)),6,c),new rs(rs.Mode.ALPHANUMERIC,d.length,c)}static makeSegments(d){return d==""?[]:rs.isNumeric(d)?[rs.makeNumeric(d)]:rs.isAlphanumeric(d)?[rs.makeAlphanumeric(d)]:[rs.makeBytes(rs.toUtf8ByteArray(d))]}static makeEci(d){let c=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)s(d,8,c);else if(d<16384)s(2,2,c),s(d,14,c);else if(d<1e6)s(6,3,c),s(d,21,c);else throw new RangeError("ECI assignment value out of range");return new rs(rs.Mode.ECI,0,c)}static isNumeric(d){return rs.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return rs.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,c){let u=0;for(const m of d){const x=m.mode.numCharCountBits(c);if(m.numChars>=1<<x)return 1/0;u+=4+x+m.bitData.length}return u}static toUtf8ByteArray(d){d=encodeURI(d);let c=[];for(let u=0;u<d.length;u++)d.charAt(u)!="%"?c.push(d.charCodeAt(u)):(c.push(parseInt(d.substring(u+1,u+3),16)),u+=2);return c}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=i;e.QrSegment=i})(Nd||(Nd={}));(e=>{(r=>{const s=class{constructor(n,i){this.ordinal=n,this.formatBits=i}};s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),r.Ecc=s})(e.QrCode||(e.QrCode={}))})(Nd||(Nd={}));(e=>{(r=>{const s=class{constructor(n,i){this.modeBits=n,this.numBitsCharCount=i}numCharCountBits(n){return this.numBitsCharCount[Math.floor((n+7)/17)]}};s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),r.Mode=s})(e.QrSegment||(e.QrSegment={}))})(Nd||(Nd={}));var vu=Nd;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var F6e={L:vu.QrCode.Ecc.LOW,M:vu.QrCode.Ecc.MEDIUM,Q:vu.QrCode.Ecc.QUARTILE,H:vu.QrCode.Ecc.HIGH},nz=128,iz="L",lz="#FFFFFF",oz="#000000",cz=!1,dz=1,R6e=4,B6e=0,$6e=.1;function uz(e,r=0){const s=[];return e.forEach(function(a,n){let i=null;a.forEach(function(l,o){if(!l&&i!==null){s.push(`M${i+r} ${n+r}h${o-i}v1H${i+r}z`),i=null;return}if(o===a.length-1){if(!l)return;i===null?s.push(`M${o+r},${n+r} h1v1H${o+r}z`):s.push(`M${i+r},${n+r} h${o+1-i}v1H${i+r}z`);return}l&&i===null&&(i=o)})}),s.join("")}function mz(e,r){return e.slice().map((s,a)=>a<r.y||a>=r.y+r.h?s:s.map((n,i)=>i<r.x||i>=r.x+r.w?n:!1))}function z6e(e,r,s,a){if(a==null)return null;const n=e.length+s*2,i=Math.floor(r*$6e),l=n/r,o=(a.width||i)*l,d=(a.height||i)*l,c=a.x==null?e.length/2-o/2:a.x*l,u=a.y==null?e.length/2-d/2:a.y*l,m=a.opacity==null?1:a.opacity;let x=null;if(a.excavate){let p=Math.floor(c),f=Math.floor(u),b=Math.ceil(o+c-p),j=Math.ceil(d+u-f);x={x:p,y:f,w:b,h:j}}const h=a.crossOrigin;return{x:c,y:u,h:d,w:o,excavation:x,opacity:m,crossOrigin:h}}function U6e(e,r){return r!=null?Math.max(Math.floor(r),0):e?R6e:B6e}function hz({value:e,level:r,minVersion:s,includeMargin:a,marginSize:n,imageSettings:i,size:l,boostLevel:o}){let d=_t.useMemo(()=>{const p=(Array.isArray(e)?e:[e]).reduce((f,b)=>(f.push(...vu.QrSegment.makeSegments(b)),f),[]);return vu.QrCode.encodeSegments(p,F6e[r],s,void 0,void 0,o)},[e,r,s,o]);const{cells:c,margin:u,numCells:m,calculatedImageSettings:x}=_t.useMemo(()=>{let h=d.getModules();const p=U6e(a,n),f=h.length+p*2,b=z6e(h,l,p,i);return{cells:h,margin:p,numCells:f,calculatedImageSettings:b}},[d,l,i,a,n]);return{qrcode:d,margin:u,cells:c,numCells:m,calculatedImageSettings:x}}var H6e=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),V6e=_t.forwardRef(function(r,s){const a=r,{value:n,size:i=nz,level:l=iz,bgColor:o=lz,fgColor:d=oz,includeMargin:c=cz,minVersion:u=dz,boostLevel:m,marginSize:x,imageSettings:h}=a,f=Sw(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:b}=f,j=Sw(f,["style"]),w=h==null?void 0:h.src,y=_t.useRef(null),v=_t.useRef(null),N=_t.useCallback(Z=>{y.current=Z,typeof s=="function"?s(Z):s&&(s.current=Z)},[s]),[S,k]=_t.useState(!1),{margin:P,cells:C,numCells:I,calculatedImageSettings:A}=hz({value:n,level:l,minVersion:u,boostLevel:m,includeMargin:c,marginSize:x,imageSettings:h,size:i});_t.useEffect(()=>{if(y.current!=null){const Z=y.current,Y=Z.getContext("2d");if(!Y)return;let ce=C;const D=v.current,z=A!=null&&D!==null&&D.complete&&D.naturalHeight!==0&&D.naturalWidth!==0;z&&A.excavation!=null&&(ce=mz(C,A.excavation));const se=window.devicePixelRatio||1;Z.height=Z.width=i*se;const K=i/I*se;Y.scale(K,K),Y.fillStyle=o,Y.fillRect(0,0,I,I),Y.fillStyle=d,H6e?Y.fill(new Path2D(uz(ce,P))):C.forEach(function(_,M){_.forEach(function(F,B){F&&Y.fillRect(B+P,M+P,1,1)})}),A&&(Y.globalAlpha=A.opacity),z&&Y.drawImage(D,A.x+P,A.y+P,A.w,A.h)}}),_t.useEffect(()=>{k(!1)},[w]);const O=Nw({height:i,width:i},b);let R=null;return w!=null&&(R=_t.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{k(!0)},ref:v,crossOrigin:A==null?void 0:A.crossOrigin})),_t.createElement(_t.Fragment,null,_t.createElement("canvas",Nw({style:O,height:i,width:i,ref:N,role:"img"},j)),R)});V6e.displayName="QRCodeCanvas";var K6=_t.forwardRef(function(r,s){const a=r,{value:n,size:i=nz,level:l=iz,bgColor:o=lz,fgColor:d=oz,includeMargin:c=cz,minVersion:u=dz,boostLevel:m,title:x,marginSize:h,imageSettings:p}=a,f=Sw(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:b,cells:j,numCells:w,calculatedImageSettings:y}=hz({value:n,level:l,minVersion:u,boostLevel:m,includeMargin:c,marginSize:h,imageSettings:p,size:i});let v=j,N=null;p!=null&&y!=null&&(y.excavation!=null&&(v=mz(j,y.excavation)),N=_t.createElement("image",{href:p.src,height:y.h,width:y.w,x:y.x+b,y:y.y+b,preserveAspectRatio:"none",opacity:y.opacity,crossOrigin:y.crossOrigin}));const S=uz(v,b);return _t.createElement("svg",Nw({height:i,width:i,viewBox:`0 0 ${w} ${w}`,ref:s,role:"img"},f),!!x&&_t.createElement("title",null,x),_t.createElement("path",{fill:o,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),_t.createElement("path",{fill:d,d:S,shapeRendering:"crispEdges"}),N)});K6.displayName="QRCodeSVG";const xz=({profile:e,partner:r,onClose:s})=>{var p,f,b,j,w;const a=g.useRef(null),n=async()=>{const y=a.current.querySelector("svg");let v="";if(y){const k=new XMLSerializer().serializeToString(y),P=new Blob([k],{type:"image/svg+xml;charset=utf-8"}),C=URL.createObjectURL(P),I=new Image;await new Promise(A=>{I.onload=()=>{const O=document.createElement("canvas");O.width=I.width,O.height=I.height,O.getContext("2d").drawImage(I,0,0),v=O.toDataURL("image/png"),URL.revokeObjectURL(C),A()},I.src=C})}const N=window.open("","_blank"),S=a.current.innerHTML.replace(/<svg[\s\S]*?<\/svg>/,`<img src="${v}" style="width: 80px; height: 80px; display: block;" />`);N.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Partner ID Card - Nexo</title>
          <style>
            @media print {
              @page {
                size: A4;
                margin: 0;
              }
              body {
                margin: 0;
                padding: 0;
                display: flex;
                justify-content: center;
                align-items: flex-start;
                min-height: 100vh;
                padding-top: 30px;
              }
              .id-card {
                transform: scale(1.8);
                transform-origin: top center;
                margin: 0 auto;
              }
            }
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
              background: #f5f5f5;
            }
            .id-card {
              width: 85.6mm;
              height: 53.98mm;
              background: linear-gradient(135deg, #214A73 0%, #2d5a8a 100%);
              border-radius: 12px;
              padding: 10px;
              box-shadow: 0 10px 40px rgba(33, 74, 115, 0.4);
              position: relative;
              overflow: hidden;
            }
            .id-card::before {
              content: '';
              position: absolute;
              top: -50%;
              right: -50%;
              width: 200%;
              height: 200%;
              background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%);
            }
            .id-card::after {
              content: '';
              position: absolute;
              bottom: 0;
              left: 0;
              right: 0;
              height: 3px;
              background: linear-gradient(90deg, #214A73 0%, #2d5a8a 50%, #214A73 100%);
            }
            .id-card-content {
              position: relative;
              z-index: 1;
              display: flex;
              height: 100%;
              background: white;
              border-radius: 8px;
              padding: 8px;
              box-shadow: inset 0 0 20px rgba(33, 74, 115, 0.1);
            }
            .id-card-left {
              flex: 1;
              display: flex;
              flex-direction: column;
              justify-content: space-between;
              padding-right: 8px;
            }
            .id-card-header {
              display: flex;
              align-items: center;
              gap: 6px;
              margin-bottom: 6px;
              padding-bottom: 6px;
              border-bottom: 2px solid #214A73;
            }
            .id-card-logo {
              width: 28px;
              height: 28px;
              background: linear-gradient(135deg, #214A73 0%, #2d5a8a 100%);
              border-radius: 4px;
              display: flex;
              align-items: center;
              justify-content: center;
              color: white;
              font-weight: 800;
              font-size: 11px;
              letter-spacing: 0.5px;
            }
            .id-card-title {
              font-size: 9px;
              font-weight: 800;
              color: #214A73;
              text-transform: uppercase;
              letter-spacing: 1.2px;
            }
            .id-card-photo {
              width: 65px;
              height: 65px;
              border-radius: 8px;
              border: 3px solid #214A73;
              object-fit: cover;
              margin: 6px 0;
              box-shadow: 0 2px 8px rgba(33, 74, 115, 0.2);
            }
            .id-card-name {
              font-size: 15px;
              font-weight: 800;
              color: #1a202c;
              margin-bottom: 4px;
              letter-spacing: 0.3px;
            }
            .id-card-details {
              font-size: 8.5px;
              color: #4a5568;
              line-height: 1.5;
            }
            .id-card-detail-item {
              margin-bottom: 3px;
              display: flex;
              align-items: center;
              gap: 4px;
            }
            .id-card-detail-item strong {
              color: #214A73;
              font-weight: 700;
              min-width: 45px;
            }
            .id-card-right {
              width: 85px;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              gap: 6px;
              border-left: 2px dashed #e2e8f0;
              padding-left: 8px;
            }
            .id-card-qr {
              width: 75px;
              height: 75px;
              padding: 5px;
              background: white;
              border-radius: 6px;
              border: 2px solid #214A73;
              display: flex;
              align-items: center;
              justify-content: center;
              box-shadow: 0 2px 8px rgba(33, 74, 115, 0.15);
            }
            .id-card-verified {
              font-size: 7px;
              color: #48bb78;
              text-align: center;
              font-weight: 700;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 3px;
              background: #f0fdf4;
              padding: 3px 6px;
              border-radius: 4px;
              border: 1px solid #86efac;
            }
            .id-card-id {
              font-size: 7.5px;
              color: #214A73;
              text-align: center;
              font-weight: 700;
              letter-spacing: 0.5px;
            }
            .id-card-footer {
              font-size: 6.5px;
              color: #718096;
              text-align: center;
              margin-top: 2px;
            }
          </style>
        </head>
        <body>
          ${S}
        </body>
      </html>
    `),N.document.close(),setTimeout(()=>{N.print()},250)},i=(e==null?void 0:e.id)||(r==null?void 0:r._id)||"unknown",l=`${window.location.origin}/verify/partner/${i}`,o=i!=="unknown"?i.toString().slice(-8).toUpperCase():"N/A",d=(e==null?void 0:e.name)||((p=r==null?void 0:r.profile)==null?void 0:p.name)||"Partner Name",c=(e==null?void 0:e.phone)||(r==null?void 0:r.phone)||"N/A",u=(e==null?void 0:e.city)||((f=r==null?void 0:r.profile)==null?void 0:f.city)||"N/A";e!=null&&e.email||(b=r==null?void 0:r.profile)!=null&&b.email;const m=(e==null?void 0:e.profilePicture)||(r==null?void 0:r.profilePicture)||null,x=m?m.startsWith("http")?m:`http://localhost:9088/${m}`:null,h=((j=e==null?void 0:e.kyc)==null?void 0:j.status)==="approved"||((w=e==null?void 0:e.kyc)==null?void 0:w.status)==="verified";return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-lg w-full",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-primary mb-1",children:"Partner ID Card"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Professional identification card with QR verification"})]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"text-xl"})})]}),t.jsx("div",{className:"flex justify-center mb-6 bg-gradient-to-br from-slate-50 to-slate-100 p-8 rounded-xl",children:t.jsxs("div",{ref:a,className:"id-card",style:{width:"85.6mm",height:"53.98mm",background:"linear-gradient(135deg, #214A73 0%, #2d5a8a 100%)",borderRadius:"12px",padding:"10px",boxShadow:"0 10px 40px rgba(33, 74, 115, 0.4)",position:"relative",overflow:"hidden"},children:[t.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 20% 20%, rgba(255,255,255,0.15) 0%, transparent 50%)",pointerEvents:"none"}}),t.jsxs("div",{className:"id-card-content",style:{position:"relative",zIndex:1,display:"flex",height:"100%",background:"white",borderRadius:"8px",padding:"8px",boxShadow:"inset 0 0 20px rgba(33, 74, 115, 0.1)"},children:[t.jsx("div",{className:"id-card-left",style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",paddingRight:"8px"},children:t.jsxs("div",{children:[t.jsxs("div",{className:"id-card-header",style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"6px",paddingBottom:"6px",borderBottom:"2px solid #214A73"},children:[t.jsx("div",{className:"id-card-logo",style:{width:"28px",height:"28px",background:"linear-gradient(135deg, #214A73 0%, #2d5a8a 100%)",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:800,fontSize:"11px",letterSpacing:"0.5px"},children:"NEXO"}),t.jsx("div",{className:"id-card-title",style:{fontSize:"9px",fontWeight:800,color:"#214A73",textTransform:"uppercase",letterSpacing:"1.2px"},children:"Verified Partner"})]}),x?t.jsx("img",{src:x,alt:d,className:"id-card-photo",style:{width:"65px",height:"65px",borderRadius:"8px",border:"3px solid #214A73",objectFit:"cover",margin:"6px 0",boxShadow:"0 2px 8px rgba(33, 74, 115, 0.2)"}}):t.jsx("div",{className:"id-card-photo",style:{width:"65px",height:"65px",borderRadius:"8px",border:"3px solid #214A73",background:"linear-gradient(135deg, #214A73 0%, #2d5a8a 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"24px",margin:"6px 0",boxShadow:"0 2px 8px rgba(33, 74, 115, 0.2)"},children:d.charAt(0).toUpperCase()}),t.jsx("div",{className:"id-card-name",style:{fontSize:"15px",fontWeight:800,color:"#1a202c",marginBottom:"4px",letterSpacing:"0.3px"},children:d}),t.jsxs("div",{className:"id-card-details",style:{fontSize:"8.5px",color:"#4a5568",lineHeight:1.5},children:[t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#214A73",fontWeight:700,minWidth:"45px"},children:"ID:"}),t.jsx("span",{children:o})]}),t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#214A73",fontWeight:700,minWidth:"45px"},children:"Phone:"}),t.jsx("span",{children:c})]}),t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#214A73",fontWeight:700,minWidth:"45px"},children:"City:"}),t.jsx("span",{children:u})]})]})]})}),t.jsxs("div",{className:"id-card-right",style:{width:"85px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"6px",borderLeft:"2px dashed #e2e8f0",paddingLeft:"8px"},children:[t.jsx("div",{className:"id-card-qr",style:{width:"75px",height:"75px",padding:"5px",background:"white",borderRadius:"6px",border:"2px solid #214A73",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(33, 74, 115, 0.15)"},children:t.jsx(K6,{value:l,size:65,level:"H",includeMargin:!1})}),h&&t.jsxs("div",{className:"id-card-verified",style:{fontSize:"7px",color:"#48bb78",textAlign:"center",fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",gap:"3px",background:"#f0fdf4",padding:"3px 6px",borderRadius:"4px",border:"1px solid #86efac"},children:[t.jsx(vt,{style:{fontSize:"8px"}}),"Verified"]}),t.jsx("div",{className:"id-card-id",style:{fontSize:"7.5px",color:"#214A73",textAlign:"center",fontWeight:700,letterSpacing:"0.5px"},children:"Scan to Verify"}),t.jsx("div",{className:"id-card-footer",style:{fontSize:"6.5px",color:"#718096",textAlign:"center",marginTop:"2px"},children:"nexo.works"})]})]})]})}),t.jsxs("div",{className:"flex gap-3 justify-center mt-6",children:[t.jsxs("button",{onClick:n,className:"px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2 shadow-lg",children:[t.jsx(Zo,{})," Print ID Card"]}),t.jsxs("button",{onClick:s,className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center gap-2",children:[t.jsx(xt,{})," Close"]})]}),t.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Ja,{className:"text-primary text-xl flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-primary mb-1",children:"Verification Features"}),t.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[t.jsx("li",{children:" QR code links to public verification page"}),t.jsx("li",{children:" Anyone can scan to verify your partner status"}),t.jsx("li",{children:" Shows your verification status and credentials"}),t.jsx("li",{children:" Professional ID card format for printing"})]})]})]})})]})})},W6e=[{header:"Date",accessor:"date"},{header:"Type",accessor:"type"},{header:"Amount",accessor:"amount"},{header:"Description",accessor:"description"},{header:"Balance",accessor:"balance"},{header:"Reference",accessor:"reference"}],G6e=()=>{var e5,t5,r5,s5,a5,n5,i5,l5,o5,c5,d5,u5,m5,h5,x5,p5,f5,g5,y5,b5,v5,j5,w5,N5,S5,k5,C5,P5,A5,T5,E5,I5,_5,O5,D5,M5,L5,F5,R5,B5,$5,z5,U5,H5,V5,W5;const{partnerId:e}=fm(),r=Zt(),{token:s}=wr(),[a,n]=g.useState(!1),[i,l]=g.useState("credit"),[o,d]=g.useState(""),[c,u]=g.useState(""),[m,x]=g.useState(""),[h,p]=g.useState(!1),[f,b]=g.useState(!1),[j,w]=g.useState(!1),[y,v]=g.useState([]),N=g.useRef(null),[S,k]=g.useState(!1),[P,C]=g.useState({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",partnerType:"individual",address:"",landmark:"",pincode:"",city:"",gstNumber:"",referralCode:"",categories:[],categoryNames:[],accountHolderName:"",accountNumber:"",ifscCode:"",bankName:"",kycStatus:"",kycRemarks:"",registerAmount:"",payId:"",paidBy:"",profileCompleted:!1}),[I,A]=g.useState([]),[O,R]=g.useState(!1),[Z,Y]=g.useState(!1),[ce,D]=g.useState(!1),[z,se]=g.useState(""),[K,_]=g.useState(""),[M,F]=g.useState(!1),[B,q]=g.useState(!1),[ae,V]=g.useState({panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null}),[G,te]=g.useState(null),[pe,ye]=g.useState(!1),[he,Qe]=g.useState(!1),[W,Ie]=g.useState([]),[Se,we]=g.useState(null),[L,ue]=g.useState(!1),[ee,fe]=g.useState("cash"),[xe,ve]=g.useState(""),[Ne,Ke]=g.useState(""),[dt,ke]=g.useState(!1),[Re,Tt]=g.useState("cash"),[Rt,be]=g.useState(""),[T,ie]=g.useState(""),[Te,qe]=g.useState(!1),[At,ft]=g.useState("cash"),[pt,ge]=g.useState(""),[U,de]=g.useState(!1),[Ve,Je]=g.useState(!1),[Ge,me]=g.useState(!1),{data:Be,isLoading:et,error:mt}=dr(J=>We.fetchPartnerDetails(J,e),[e]),{data:ut,isLoading:Vt,refresh:$t}=dr(J=>We.fetchPartnerEarnings(J,e),[e]),{data:ct,isLoading:Wr,error:Js,refresh:Zr}=dr(J=>We.fetchPartnerWallet(J,e),[e]),{data:H,isLoading:ne,error:Q}=dr(J=>We.fetchFeeTransactions(J,{partnerId:e}),[e]),{data:re,isLoading:le,error:oe,refresh:Pe}=dr(async J=>{var Oe,kt;try{const ht=await We.fetchPartnerDetails(J,e),Lt=(ht==null?void 0:ht.partner)||(ht==null?void 0:ht.data)||{};console.log("Partner Details:",{partnerId:e,hasHubs:!!Lt.hubs,hubsCount:((Oe=Lt.hubs)==null?void 0:Oe.length)||0,hubs:Lt.hubs});const rr=Lt.displayHubs||Lt.hubs||[],zt=rr.map(Ca=>typeof Ca=="object"&&Ca._id?Ca._id.toString():Ca.toString());console.log("Assigned Hub IDs:",zt),console.log("Using displayHubs:",!!Lt.displayHubs,"serviceHubs count:",((kt=Lt.serviceHubs)==null?void 0:kt.length)||0);const Sr=await We.fetchHubs(J),Qt=(Sr==null?void 0:Sr.data)||[],zs=Qt.map(Ca=>({...Ca,isAssigned:zt.some(Mn=>{var xi;return Mn.toString()===((xi=Ca._id)==null?void 0:xi.toString())})})),Lm=rr.map(Ca=>typeof Ca=="object"&&Ca._id?{...Ca,isAssigned:!0}:Qt.find(Mn=>{var xi;return((xi=Mn._id)==null?void 0:xi.toString())===Ca.toString()})).filter(Boolean);return{success:!0,data:zs,assignedHubIds:zt,assignedHubs:Lm}}catch(ht){if(ht.status===500||ht.status===404)return console.warn("Hubs fetch failed, returning empty array:",ht.message),{success:!0,data:[],assignedHubIds:[],assignedHubs:[]};throw ht}},[e]);g.useEffect(()=>{(async()=>{if(s){R(!0);try{const Oe=await We.fetchCategories(s);Oe.success&&Oe.data&&A(Oe.data)}catch(Oe){console.error("Failed to fetch categories:",Oe)}finally{R(!1)}}})()},[s]),g.useEffect(()=>{(async()=>{const Oe=(Be==null?void 0:Be.partner)||{},ht={...(ut==null?void 0:ut.partner)||{},...Oe};if(!(!s||!(ht!=null&&ht._id)))try{const Lt=await We.fetchMGPlans(s),rr=Lt.plans||Lt.data||[],zt=(ht==null?void 0:ht.partnerType)||"individual",Sr=rr.filter(Qt=>!Qt.partnerType||Qt.partnerType==="both"?!0:Qt.partnerType===zt);Ie(Sr)}catch(Lt){console.error("Error fetching MG plans:",Lt)}})()},[s,Be,ut]);const He=async()=>{var ht,Lt,rr,zt,Sr,Qt;const J=P.payId||((ht=X==null?void 0:X.profile)==null?void 0:ht.payId)||"",Oe=P.registerAmount||((Lt=X==null?void 0:X.profile)==null?void 0:Lt.registerAmount)||0,kt=P.paidBy||((rr=X==null?void 0:X.profile)==null?void 0:rr.paidBy)||"Manual Approval";if(!J||J.trim()===""){alert("Please enter a Payment ID before approving");return}if(confirm(`Approve payment for ${((zt=X==null?void 0:X.profile)==null?void 0:zt.name)||"this partner"}?

Payment ID: ${J}
Amount: ${Oe}
Paid By: ${kt}`)){D(!0);try{const zs={id:e,registerAmount:parseFloat(Oe)||0,payId:J.trim(),paidBy:kt,securityDeposit:parseFloat(P.securityDeposit||((Sr=X==null?void 0:X.profile)==null?void 0:Sr.securityDeposit)||0),toolkitPrice:parseFloat(P.toolkitPrice||((Qt=X==null?void 0:X.profile)==null?void 0:Qt.toolkitPrice)||0),paymentApproved:!0,approvedBy:"Admin",approvedAt:new Date().toISOString()},Lm=await We.approvePartnerPayment(s,e,zs);Lm.success?(alert("Payment approved successfully!"),window.location.reload()):alert("Failed to approve payment: "+(Lm.message||"Unknown error"))}catch(zs){console.error("Payment approval error:",zs),alert("Error approving payment: "+zs.message)}finally{D(!1)}}},Ae=async J=>{if(J.preventDefault(),!o||!c){alert("Please fill all required fields");return}p(!0);try{await We.addWalletTransaction(s,{type:i,amount:Number(o),description:c,reference:m||void 0,paymentMode:At,transactionId:pt||void 0,partner:e}),d(""),u(""),x(""),ft("cash"),ge(""),n(!1),Zr(),$t(),alert("Transaction added successfully!")}catch(Oe){alert(Oe.message||"Failed to add transaction")}finally{p(!1)}},Ee=async()=>{if(Re==="cash"&&!Rt.trim()){alert("Please enter who collected the payment");return}if((Re==="online"||Re==="upi")&&!T.trim()){alert("Please enter the transaction ID");return}qe(!0);try{const J={paymentMethod:Re,...Re==="cash"?{collectedBy:Rt}:{transactionId:T}},kt=await(await fetch(`http://localhost:9088/api/admin/partners/${e}/mg-plan/payment-details`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(J)})).json();kt.success?(alert("Payment details updated successfully!"),ke(!1),Tt("cash"),be(""),ie(""),window.location.reload()):alert(kt.message||"Failed to update payment details")}catch(J){console.error("Error updating payment details:",J),alert("Error updating payment details")}finally{qe(!1)}},_e=async J=>{if(confirm("Are you sure you want to delete this MG plan entry? This action cannot be undone."))try{const Oe=await We.deleteMGPlanHistoryEntry(s,e,J);Oe.success?(alert("MG Plan entry deleted successfully!"),window.location.reload()):alert(Oe.message||"Failed to delete MG plan entry")}catch(Oe){console.error("Error deleting MG plan entry:",Oe),alert("Error deleting MG plan entry. The backend endpoint needs to be implemented first.")}},Ze=async()=>{if(!Se){alert("Please select an MG plan");return}if(Se==="no-plan"){if(!confirm("Are you sure you want to remove the current MG plan? This action will remove all plan benefits."))return;alert(`Remove MG Plan functionality is ready on frontend!

To complete this feature, implement this backend endpoint:
POST /api/admin/partners/${e}/remove-mg-plan

The endpoint should remove the partner's MG plan data and optionally add a removal entry to history.`),Qe(!1),we(null);return}if(ee==="cash"&&!xe.trim()){alert("Please enter who collected the payment");return}if((ee==="online"||ee==="upi")&&!Ne.trim()){alert("Please enter the transaction ID");return}ue(!0);try{const J={paymentMethod:ee,...ee==="cash"?{collectedBy:xe}:{transactionId:Ne}},kt=await(await fetch(`http://localhost:9088/api/admin/mg-plans/${Se}/subscribe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({partnerId:e,...J})})).json();kt.success?(alert("MG Plan assigned successfully!"),Qe(!1),we(null),fe("cash"),ve(""),Ke(""),window.location.reload()):alert(kt.message||"Failed to assign MG plan")}catch(J){console.error("Error assigning MG plan:",J),alert("Error assigning MG plan")}finally{ue(!1)}};g.useEffect(()=>{re!=null&&re.assignedHubIds&&v(re.assignedHubIds.map(J=>J.toString()))},[re]);const ot=()=>{const J=(re==null?void 0:re.assignedHubIds)||[];v(J.map(Oe=>Oe.toString())),b(!0)},yt=J=>{const Oe=J.toString();v(kt=>kt.includes(Oe)?kt.filter(ht=>ht!==Oe):[...kt,Oe])},st=async J=>{J.preventDefault(),w(!0);try{const kt=((re==null?void 0:re.data)||[]).filter(zt=>zt.isAssigned).map(zt=>zt._id.toString()),ht=y,Lt=ht.filter(zt=>!kt.includes(zt)),rr=kt.filter(zt=>!ht.includes(zt));for(const zt of Lt)await We.assignHubToPartner(s,zt,e);for(const zt of rr)await We.unassignHubFromPartner(s,zt,e);b(!1),Pe(),window.location.reload()}catch(Oe){alert(Oe.message||"Failed to update hub assignments")}finally{w(!1)}},at=(Be==null?void 0:Be.partner)||{},Mt=(ut==null?void 0:ut.partner)||{},X={...Mt,...at},Ct=(X==null?void 0:X.mgPlanSummary)||{};console.log("Partner Payment Data:",{partnerId:X==null?void 0:X._id,registerAmount:(e5=X==null?void 0:X.profile)==null?void 0:e5.registerAmount,payId:(t5=X==null?void 0:X.profile)==null?void 0:t5.payId,paidBy:(r5=X==null?void 0:X.profile)==null?void 0:r5.paidBy,registerdFee:(s5=X==null?void 0:X.profile)==null?void 0:s5.registerdFee,paymentApproved:(a5=X==null?void 0:X.profile)==null?void 0:a5.paymentApproved,securityDeposit:(n5=X==null?void 0:X.profile)==null?void 0:n5.securityDeposit,toolkitPrice:(i5=X==null?void 0:X.profile)==null?void 0:i5.toolkitPrice});const Xe=(X==null?void 0:X.profile)||{},$e=(X==null?void 0:X.kyc)||{},it=(X==null?void 0:X.bankDetails)||{},gt=(X==null?void 0:X.terms)||(X==null?void 0:X.partnerTerms)||(X==null?void 0:X.termsAccepted)||((l5=X==null?void 0:X.onboardingData)==null?void 0:l5.terms)||{},On=(X==null?void 0:X.category)||(X==null?void 0:X.categories)||[],Dn=Array.isArray(On)?On:On?[On]:[],ca=(X==null?void 0:X.categoryNames)||[];console.log(" Partner Categories Debug:",{partnerId:X==null?void 0:X._id,hasCategoryField:!!(X!=null&&X.category),hasCategoriesField:!!(X!=null&&X.categories),categoryRaw:X==null?void 0:X.category,categoriesRaw:X==null?void 0:X.categories,categoryCount:Dn.length,categoryNamesCount:ca.length,categories:Dn,categoryNames:ca,fullPartnerKeys:Object.keys(at),earningsPartnerKeys:Object.keys(Mt)});const zd=g.useMemo(()=>{if(ca.length>0)return ca;const J=Dn.map(Oe=>typeof Oe=="object"&&Oe!==null&&Oe!==void 0&&(Oe.name||Oe.description)||null).filter(Boolean);if(J.length>0)return J;if(Dn.length>0&&I.length>0){const Oe=Dn.map(kt=>{const ht=String(typeof kt=="object"&&kt!==null&&(kt._id||kt.id)||kt),Lt=I.find(rr=>String(rr._id||rr.id||rr)===ht);return(Lt==null?void 0:Lt.name)||null}).filter(Boolean);if(Oe.length>0)return Oe}return[]},[ca,Dn,I]);console.log("Final Display Category Names:",zd,{partnerCategoryNames:ca,partnerCategoriesCount:Dn.length,categoriesCount:I.length});const Cx=(X==null?void 0:X.service)||[],Px=(X==null?void 0:X.subcategory)||[],Ft=(X==null?void 0:X.mgPlan)||{},bz=()=>{var J,Oe,kt,ht,Lt,rr,zt,Sr;if(N.current){const Qt=window.open("","_blank"),zs=(Oe=(gt==null?void 0:gt.signature)||((J=X==null?void 0:X.terms)==null?void 0:J.signature))!=null&&Oe.startsWith("data:")?(gt==null?void 0:gt.signature)||((kt=X==null?void 0:X.terms)==null?void 0:kt.signature):(Lt=(gt==null?void 0:gt.signature)||((ht=X==null?void 0:X.terms)==null?void 0:ht.signature))!=null&&Lt.startsWith("http")?(gt==null?void 0:gt.signature)||((rr=X==null?void 0:X.terms)==null?void 0:rr.signature):gt!=null&&gt.signature||(zt=X==null?void 0:X.terms)!=null&&zt.signature?`/uploads/signatures/${(gt==null?void 0:gt.signature)||((Sr=X==null?void 0:X.terms)==null?void 0:Sr.signature)}`:null;Qt.document.write(`
        <html>
          <head>
            <title>Partner Full Details - ${(Xe==null?void 0:Xe.name)||"N/A"}</title>
            <style>
              @media print {
                @page { 
                  size: A4;
                  margin: 18mm 15mm 15mm 15mm;
                }
                
                @page {
                  @top-center {
                    content: element(header);
                  }
                  @bottom-center {
                    content: element(footer);
                  }
                  counter-increment: page;
                }
                
                @page:first {
                  counter-reset: page 0;
                }
                
                .print-page-header {
                  position: running(header);
                  width: 100%;
                  height: 18mm;
                  min-height: 18mm;
                  max-height: 18mm;
                  background: linear-gradient(135deg, #214A73 0%, #0ea5a4 100%);
                  color: white;
                  padding: 5px 0;
                  display: flex;
                  align-items: center;
                  justify-content: space-between;
                  border-bottom: 2px solid #0ea5a4;
                  box-sizing: border-box;
                }
                
                .print-page-header-left {
                  display: flex;
                  align-items: center;
                  gap: 12px;
                  padding-left: 15mm;
                }
                
                .print-page-header-logo {
                  width: 40px;
                  height: 40px;
                  min-width: 40px;
                  min-height: 40px;
                  background: white;
                  border-radius: 6px;
                  padding: 6px;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  flex-shrink: 0;
                }
                
                .print-page-header-logo svg {
                  width: 100%;
                  height: 100%;
                }
                
                .print-page-header-text {
                  display: flex;
                  flex-direction: column;
                  flex: 1;
                }
                
                .print-page-header-text h1 {
                  font-size: 18px;
                  font-weight: bold;
                  margin: 0;
                  line-height: 1.1;
                  padding: 0;
                }
                
                .print-page-header-text p {
                  font-size: 9px;
                  margin: 0;
                  padding: 0;
                  opacity: 0.9;
                  line-height: 1.1;
                }
                
                .print-page-header-right {
                  text-align: right;
                  font-size: 9px;
                  flex-shrink: 0;
                  margin-left: 10px;
                  padding-right: 15mm;
                }
                
                .print-page-header-right .date {
                  font-weight: bold;
                  margin-bottom: 2px;
                  line-height: 1.2;
                }
                
                .print-page-footer {
                  position: running(footer);
                  width: 100%;
                  height: 15mm;
                  min-height: 15mm;
                  max-height: 15mm;
                  background: #f8fafc;
                  border-top: 2px solid #e2e8f0;
                  padding: 4px 0;
                  display: flex;
                  align-items: center;
                  justify-content: space-between;
                  font-size: 8px;
                  color: #64748b;
                  box-sizing: border-box;
                }
                
                .print-page-footer-left {
                  display: flex;
                  align-items: center;
                  gap: 8px;
                  padding-left: 15mm;
                }
                
                .print-page-footer-signature {
                  display: flex;
                  align-items: center;
                  gap: 8px;
                }
                
                .print-page-footer-signature {
                  display: flex !important;
                  align-items: center !important;
                  gap: 8px !important;
                }
                
                .print-page-footer-signature img {
                  max-width: 70px !important;
                  max-height: 30px !important;
                  width: auto !important;
                  height: auto !important;
                  border: 1px solid #cbd5e1 !important;
                  padding: 3px !important;
                  background: white !important;
                  object-fit: contain !important;
                  display: block !important;
                  flex-shrink: 0 !important;
                }
                
                @media print {
                  .print-page-footer-signature {
                    display: flex !important;
                    align-items: center !important;
                    gap: 8px !important;
                  }
                  
                  .print-page-footer-signature img {
                    display: block !important;
                    visibility: visible !important;
                    max-width: 70px !important;
                    max-height: 30px !important;
                  }
                }
                
                .print-page-footer-signature-text {
                  font-size: 8px;
                  color: #475569;
                  line-height: 1.2;
                }
                
                .print-page-footer-signature-text div {
                  margin: 0;
                  padding: 0;
                }
                
                .print-page-footer-right {
                  text-align: right;
                  font-size: 8px;
                  padding-right: 15mm;
                }
                
                .print-page-footer-right .page-info {
                  font-weight: bold;
                  color: #214A73;
                  margin-bottom: 2px;
                }
                
                .print-page-footer-right .page-info::after {
                  content: counter(page);
                }
                
                * { 
                  -webkit-print-color-adjust: exact !important;
                  print-color-adjust: exact !important;
                }
                
                body { 
                  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
                  font-size: 11px; 
                  line-height: 1.5; 
                  color: #1e293b;
                  margin: 0;
                  padding: 0;
                  background: white;
                }
                
                /* Ensure header and footer don't interfere with content */
                .print-content-wrapper {
                  position: relative;
                  z-index: 1;
                  margin: 0;
                  padding: 0;
                  width: 100%;
                  display: block;
                  visibility: visible;
                  opacity: 1;
                }
                
                /* Ensure first content section is visible */
                .print-content-wrapper > *:first-child {
                  margin-top: 0 !important;
                  padding-top: 0 !important;
                }
                
                /* Profile section specific fixes */
                .print-content-wrapper .print-section:first-of-type {
                  page-break-after: avoid;
                  margin-top: 0;
                }
                
                /* Hide header/footer in screen view, show only in print */
                .print-page-header,
                .print-page-footer {
                  display: none;
                }
                
                @media print {
                  body {
                    margin: 0;
                    padding: 0;
                    background: white;
                  }
                  
                  .print-page-header,
                  .print-page-footer {
                    display: flex !important;
                  }
                  
                  .print-content-wrapper {
                    display: block !important;
                    visibility: visible !important;
                    opacity: 1 !important;
                    width: 100% !important;
                    margin: 0 !important;
                    padding: 0 !important;
                  }
                  
                  /* Ensure all content is visible */
                  .print-content-wrapper * {
                    visibility: visible !important;
                  }
                  
                  /* Preserve layout structures */
                  .print-content-wrapper .print-section {
                    display: block !important;
                    visibility: visible !important;
                  }
                  
                  .print-content-wrapper .print-grid {
                    display: grid !important;
                    visibility: visible !important;
                  }
                  
                  .print-content-wrapper .print-label,
                  .print-content-wrapper .print-value {
                    display: block !important;
                    visibility: visible !important;
                  }
                  
                  /* Ensure flex containers work */
                  .print-content-wrapper [class*="flex"] {
                    display: flex !important;
                  }
                  
                  /* Ensure grid containers work */
                  .print-content-wrapper [class*="grid"] {
                    display: grid !important;
                  }
                  
                  /* Ensure tables are visible */
                  table {
                    display: table !important;
                    visibility: visible !important;
                  }
                  
                  tr {
                    display: table-row !important;
                  }
                  
                  td, th {
                    display: table-cell !important;
                  }
                }
                .print-header { 
                  border-bottom: 3px solid #000; 
                  padding-bottom: 15px; 
                  margin-bottom: 25px; 
                  display: flex;
                  align-items: center;
                  gap: 20px;
                }
                .print-logo {
                  width: 80px;
                  height: 80px;
                }
                .print-header-content {
                  flex: 1;
                }
                .print-header h1 {
                  font-size: 24px;
                  margin-bottom: 8px;
                }
                .print-section { 
                  margin-bottom: 20px; 
                  page-break-inside: auto; 
                  padding-bottom: 10px;
                  display: block;
                  visibility: visible;
                  opacity: 1;
                  width: 100%;
                }
                
                @media print {
                  .print-section { 
                    page-break-inside: auto;
                    break-inside: auto;
                    margin-bottom: 15px;
                    page-break-after: auto;
                    orphans: 3;
                    widows: 3;
                  }
                  
                  /* Ensure first section is visible */
                  .print-section:first-of-type {
                    margin-top: 0;
                    padding-top: 0;
                  }
                }
                .print-section-title { 
                  font-size: 16px; 
                  font-weight: bold; 
                  color: #1e293b; 
                  margin-bottom: 12px; 
                  border-bottom: 2px solid #e2e8f0; 
                  padding-bottom: 8px; 
                }
                .print-grid { 
                  display: grid; 
                  grid-template-columns: 1fr 1fr; 
                  gap: 12px 20px; 
                  margin-bottom: 15px;
                  width: 100%;
                }
                
                @media print {
                  .print-grid {
                    display: grid !important;
                    grid-template-columns: 1fr 1fr !important;
                    gap: 10px 15px !important;
                    margin-bottom: 12px !important;
                    width: 100% !important;
                    page-break-inside: auto;
                  }
                  
                  /* Ensure grid items are visible */
                  .print-grid > * {
                    display: block !important;
                    visibility: visible !important;
                    page-break-inside: avoid;
                    min-height: auto;
                  }
                }
                .print-label { 
                  font-weight: 600; 
                  color: #64748b; 
                  margin-bottom: 4px; 
                  font-size: 10px;
                  text-transform: uppercase;
                  letter-spacing: 0.5px;
                }
                .print-value { 
                  margin-bottom: 12px; 
                  color: #1e293b; 
                  font-size: 12px;
                }
                .print-full-width { 
                  grid-column: 1 / -1; 
                }
                table { 
                  width: 100%; 
                  border-collapse: collapse; 
                  margin-top: 15px; 
                  font-size: 10px; 
                }
                th, td { 
                  border: 1px solid #cbd5e1; 
                  padding: 10px; 
                  text-align: left; 
                }
                th { 
                  background-color: #f1f5f9; 
                  font-weight: bold; 
                  color: #475569;
                }
                .status-badge { 
                  display: inline-block; 
                  padding: 4px 10px; 
                  border-radius: 4px; 
                  font-size: 9px; 
                  font-weight: bold; 
                }
                .status-approved { 
                  background-color: #d1fae5 !important; 
                  color: #065f46 !important; 
                }
                .status-pending { 
                  background-color: #fef3c7 !important; 
                  color: #92400e !important; 
                }
                .status-rejected { 
                  background-color: #fee2e2 !important; 
                  color: #991b1b !important; 
                }
                .kyc-doc { 
                  margin: 5px 0; 
                  padding: 8px; 
                  background-color: #f8fafc; 
                  border-left: 3px solid #3b82f6; 
                }
                img {
                  max-width: 100%;
                  height: auto;
                  display: block;
                  page-break-inside: avoid;
                }
                /* KYC Documents Container */
                .kyc-documents-container {
                  display: flex !important;
                  flex-wrap: wrap !important;
                  gap: 15px !important;
                  align-items: flex-start !important;
                  justify-content: flex-start !important;
                  width: 100% !important;
                }
                
                /* KYC Document Cards */
                .kyc-doc {
                  flex: 0 0 auto !important;
                  width: 200px !important;
                  min-width: 180px !important;
                  max-width: 220px !important;
                  display: flex !important;
                  flex-direction: column !important;
                  margin: 0 !important;
                  vertical-align: top !important;
                  text-align: center !important;
                }
                
                .kyc-doc div[class*="aspect"] {
                  width: 100% !important;
                  max-height: 150px !important;
                  overflow: hidden !important;
                }
                
                .kyc-doc img {
                  max-width: 100% !important;
                  max-height: 150px !important;
                  width: 100% !important;
                  height: auto !important;
                  object-fit: contain !important;
                  border: 1px solid #cbd5e1 !important;
                  padding: 5px !important;
                  background: white !important;
                  display: block !important;
                  margin: 0 auto !important;
                }
                
                /* Ensure KYC document cards maintain structure */
                .kyc-doc > div {
                  width: 100% !important;
                }
                
                /* Grid Images */
                .grid img,
                div[class*="grid"] img {
                  max-width: 100% !important;
                  max-height: 150px !important;
                  width: auto !important;
                  height: auto !important;
                  object-fit: contain !important;
                  display: block !important;
                  margin: 5px auto !important;
                }
                
                /* Aspect Ratio Images */
                div[class*="aspect"] {
                  max-height: 150px !important;
                  overflow: visible !important;
                  margin: 5px 0 !important;
                }
                
                div[class*="aspect"] img {
                  max-width: 100% !important;
                  max-height: 150px !important;
                  width: auto !important;
                  height: auto !important;
                  object-fit: contain !important;
                  display: block !important;
                  margin: 0 auto !important;
                }
                
                /* Signature Images */
                .signature-image,
                img.signature-image {
                  max-width: 250px !important;
                  max-height: 100px !important;
                  border: 1px solid #cbd5e1 !important;
                  padding: 10px !important;
                  background: white !important;
                  object-fit: contain !important;
                  width: auto !important;
                  height: auto !important;
                  display: block !important;
                  margin: 0 auto !important;
                }
                
                /* Profile Images */
                img[alt="Profile"],
                .profile-image {
                  max-width: 120px !important;
                  max-height: 120px !important;
                  width: 120px !important;
                  height: 120px !important;
                  border-radius: 50% !important;
                  object-fit: cover !important;
                  border: 4px solid #e2e8f0 !important;
                  display: block !important;
                  margin: 0 auto !important;
                }
                
                /* Image Container Alignment */
                @media print {
                  /* Profile image container - use class-based selectors */
                  div[class*="flex"] {
                    display: flex !important;
                    align-items: center !important;
                    gap: 15px !important;
                  }
                  
                  /* KYC Documents Container - Print */
                  .kyc-documents-container {
                    display: flex !important;
                    flex-wrap: wrap !important;
                    gap: 15px !important;
                    align-items: flex-start !important;
                    justify-content: flex-start !important;
                    width: 100% !important;
                    page-break-inside: auto !important;
                  }
                  
                  /* KYC Document Cards - Print */
                  .kyc-doc {
                    flex: 0 0 auto !important;
                    width: 200px !important;
                    min-width: 180px !important;
                    max-width: 220px !important;
                    display: flex !important;
                    flex-direction: column !important;
                    margin: 0 !important;
                    vertical-align: top !important;
                    text-align: center !important;
                    page-break-inside: avoid !important;
                    page-break-after: auto !important;
                  }
                  
                  .kyc-doc img {
                    max-width: 100% !important;
                    max-height: 150px !important;
                    width: 100% !important;
                    height: auto !important;
                    object-fit: contain !important;
                    page-break-inside: avoid !important;
                  }
                  
                  /* Grid containers */
                  .grid,
                  div[class*="grid"] {
                    display: grid !important;
                    gap: 15px !important;
                    align-items: start !important;
                    margin: 10px 0 !important;
                  }
                  
                  /* Grid with images - responsive columns */
                  .grid img,
                  div[class*="grid"] img {
                    max-width: 180px !important;
                  }
                  
                  /* Ensure images don't break across pages */
                  img {
                    page-break-inside: avoid !important;
                    page-break-after: auto !important;
                    display: block !important;
                  }
                  
                  /* Document sections with images */
                  .print-section {
                    page-break-inside: auto !important;
                  }
                  
                  /* Better spacing for sections with images */
                  .print-section .kyc-doc,
                  .print-section img {
                    margin-bottom: 10px !important;
                  }
                }
                .terms-full-text {
                  margin-top: 20px;
                  padding: 15px;
                  background: #f8fafc;
                  border: 1px solid #e2e8f0;
                  border-radius: 8px;
                  font-size: 11px;
                  line-height: 1.6;
                  color: #334155;
                }
                .terms-full-text h4 {
                  font-size: 12px;
                  font-weight: bold;
                  margin-top: 12px;
                  margin-bottom: 6px;
                  color: #1e293b;
                }
                .terms-full-text ol,
                .terms-full-text ul {
                  margin-left: 20px;
                  margin-top: 8px;
                  margin-bottom: 8px;
                }
                .terms-full-text li {
                  margin-bottom: 4px;
                }
                .terms-full-text .penalty-table {
                  background: #fff7ed;
                  border: 1px solid #fed7aa;
                  padding: 10px;
                  border-radius: 6px;
                  margin-top: 10px;
                  width: 100%;
                }
                .penalty-box {
                  background: #fff7f0;
                  border: 1px solid #ffd8b5;
                  padding: 10px;
                  border-radius: 6px;
                  margin-top: 10px;
                }
              }
            </style>
          </head>
          <body>
            <!-- Print Header (appears on every page) -->
            <div class="print-page-header">
              <div class="print-page-header-left">
                <div class="print-page-header-logo">
                  <svg width="60" height="60" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z" stroke="#214A73" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <path d="M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z" stroke="#214A73" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <path d="M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z" stroke="#214A73" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <path d="M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z" stroke="#214A73" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <circle cx="24" cy="24" r="4" fill="#214A73"/>
      </svg>
                </div>
                <div class="print-page-header-text">
                  <h1>NEXO</h1>
                  <p>Partner Details Document</p>
                </div>
              </div>
              <div class="print-page-header-right">
                <div class="date">${new Date().toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})}</div>
                <div>Partner ID: ${(e==null?void 0:e.toString().slice(-8))||"N/A"}</div>
              </div>
            </div>
            
            <!-- Print Footer (appears on every page) -->
            <div class="print-page-footer">
              <div class="print-page-footer-left">
                ${zs?`
                  <div class="print-page-footer-signature">
                    <img src="${zs}" alt="Partner Signature" onerror="this.style.display='none'" />
                    <div class="print-page-footer-signature-text">
                      <div><strong>Partner Signature</strong></div>
                      <div>${(Xe==null?void 0:Xe.name)||"Partner"}</div>
                    </div>
                  </div>
                `:`
                  <div class="print-page-footer-signature-text">
                    <div><strong>NEXO Partner Platform</strong></div>
                    <div>Official Document</div>
                  </div>
                `}
              </div>
              <div class="print-page-footer-right">
                <div class="page-info">Page </div>
                <div>www.nexo.works</div>
              </div>
            </div>
            
            <!-- Main Content -->
            <div class="print-content-wrapper">
              ${N.current.innerHTML}
            </div>
          </body>
        </html>
      `),Qt.document.close(),Qt.focus(),setTimeout(()=>{const Ca=Qt.document.querySelectorAll("img");let Mn=0;const xi=Ca.length;if(xi===0){Qt.print(),setTimeout(()=>Qt.close(),100);return}Ca.forEach(Fm=>{if(Fm.src.startsWith("data:")){Mn++,Mn===xi&&(Qt.print(),setTimeout(()=>Qt.close(),100));return}const co=new Image;co.crossOrigin="anonymous",co.onload=()=>{try{const Hd=document.createElement("canvas");Hd.width=co.width,Hd.height=co.height,Hd.getContext("2d").drawImage(co,0,0),Fm.src=Hd.toDataURL("image/png"),Mn++,Mn===xi&&(Qt.print(),setTimeout(()=>Qt.close(),100))}catch(Hd){console.warn("Failed to convert image:",Hd),Mn++,Mn===xi&&(Qt.print(),setTimeout(()=>Qt.close(),100))}},co.onerror=()=>{Mn++,Mn===xi&&(Qt.print(),setTimeout(()=>Qt.close(),100))},Fm.src.startsWith("/")?co.src=window.location.origin+Fm.src:co.src=Fm.src})},500)}},Ax=(ut==null?void 0:ut.transactions)||(ut==null?void 0:ut.bookings)||((o5=ut==null?void 0:ut.data)==null?void 0:o5.transactions)||[],X6=(ut==null?void 0:ut.totalEarnings)||((c5=ut==null?void 0:ut.data)==null?void 0:c5.totalEarnings)||0,ka=(ct==null?void 0:ct.data)||ct||{},Ud=(ka==null?void 0:ka.balance)||0,J6=(ka==null?void 0:ka.transactions)||((d5=ka==null?void 0:ka.data)==null?void 0:d5.transactions)||[],Tx=(re==null?void 0:re.data)||[],Q6=(re==null?void 0:re.assignedHubs)||[],rv=Q6.length>0?Q6:Tx.filter(J=>J.isAssigned),Ex=(ka==null?void 0:ka.minWalletBalance)??Ct.minWalletBalance??0,Z6=(ka==null?void 0:ka.leadFee)??Ct.leadFee??0,vz=Ud<Ex?`Wallet below minimum threshold (${Ex}). Recharge to resume lead notifications.`:`Wallet healthy. Minimum required: ${Ex}`,sv=Ct.leadsGuaranteed??0,av=Ct.leadsUsed??0,jz=Ct.leadsRemaining??Math.max(sv-av,0),wz=Ct.refundStatus||"pending";Ax.map(J=>{var Oe,kt;return{bookingId:((Oe=J.bookingId)==null?void 0:Oe.toString().slice(-8))||"N/A",customerName:((kt=J.user)==null?void 0:kt.name)||"N/A",serviceName:J.subService||J.service||"N/A",totalAmount:`${(J.totalAmount||0).toLocaleString("en-IN")}`,commissionAmount:`${(J.commissionAmount||0).toLocaleString("en-IN")}`,partnerEarnings:`${(J.partnerEarnings||0).toLocaleString("en-IN")}`,completedAt:J.completedAt?new Date(J.completedAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A"}});const Nz=J6.map((J,Oe)=>({id:J._id||J.id||`txn-${Oe}`,date:J.createdAt?new Date(J.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):new Date().toLocaleDateString("en-IN"),type:t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${J.type==="credit"?"bg-emerald-500/10 text-emerald-600":"bg-rose-500/10 text-rose-600"}`,children:J.type==="credit"?"Credit":"Debit"}),amount:`${(J.amount||0).toLocaleString("en-IN")}`,description:J.description||"N/A",balance:`${(J.balance||0).toLocaleString("en-IN")}`,reference:J.reference||"N/A"}));return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>r("/admin/partners"),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(J0,{className:"w-5 h-5 text-slate-600"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:(Xe==null?void 0:Xe.name)||"Partner Details"}),t.jsxs("p",{className:"text-sm text-slate-500",children:["Partner ID: ",(e==null?void 0:e.toString().slice(-8))||"N/A"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[t.jsxs("div",{className:"relative group",children:[t.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition font-semibold",children:[t.jsx(Jt,{className:"w-5 h-5"}),"Wallet",t.jsx("span",{className:"text-xs ml-1",children:""})]}),t.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-slate-200 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50",children:t.jsxs("div",{className:"p-2",children:[t.jsxs("div",{className:"px-3 py-2 mb-2 bg-slate-50 rounded",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Current Balance"}),t.jsxs("p",{className:"text-lg font-bold text-slate-900",children:["",Ud.toLocaleString("en-IN")]})]}),t.jsxs("button",{onClick:()=>{l("credit"),n(!0)},className:"w-full text-left px-4 py-2.5 hover:bg-slate-50 flex items-center gap-2 text-sm rounded transition",children:[t.jsx(Tr,{className:"w-4 h-4 text-emerald-600"}),t.jsx("span",{children:"Add Funds"})]}),t.jsxs("button",{onClick:()=>{l("debit"),n(!0)},className:"w-full text-left px-4 py-2.5 hover:bg-slate-50 flex items-center gap-2 text-sm rounded transition",children:[t.jsx(gj,{className:"w-4 h-4 text-rose-600"}),t.jsx("span",{children:"Deduct Funds"})]}),t.jsx("div",{className:"border-t border-slate-200 my-1"}),t.jsxs("button",{onClick:()=>de(!0),className:"w-full text-left px-4 py-2.5 hover:bg-slate-50 flex items-center gap-2 text-sm rounded transition",children:[t.jsx(Ti,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{children:"View Wallet Transactions"})]}),t.jsxs("button",{onClick:()=>Je(!0),className:"w-full text-left px-4 py-2.5 hover:bg-slate-50 flex items-center gap-2 text-sm rounded transition",children:[t.jsx(xs,{className:"w-4 h-4 text-purple-600"}),t.jsx("span",{children:"View Fee Transactions"})]})]})})]}),$e&&t.jsxs("div",{className:"flex items-center gap-2",children:[$e.status!=="approved"&&t.jsxs("button",{onClick:async()=>{if(window.confirm("Approve KYC for this partner?"))try{await We.updatePartnerProfile(s,e,{kycStatus:"approved",kycRemarks:"Approved by admin"}),window.location.reload()}catch(J){alert(J.message||"Failed to approve KYC")}},className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition font-semibold",children:[t.jsx(vt,{className:"w-5 h-5"}),"Approve KYC"]}),$e.status!=="rejected"&&t.jsxs("button",{onClick:async()=>{const J=prompt("Enter rejection reason:");if(J)try{await We.updatePartnerProfile(s,e,{kycStatus:"rejected",kycRemarks:J}),window.location.reload()}catch(Oe){alert(Oe.message||"Failed to reject KYC")}},className:"flex items-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition font-semibold",children:[t.jsx(Qn,{className:"w-5 h-5"}),"Reject KYC"]})]}),t.jsxs("button",{onClick:()=>F(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold",children:[t.jsx(Wo,{className:"w-5 h-5"}),"Update KYC"]}),t.jsxs("button",{onClick:()=>q(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-semibold",children:[t.jsx(zf,{className:"w-5 h-5"}),"Profile Image"]}),t.jsxs("button",{onClick:()=>{var J,Oe,kt,ht,Lt,rr,zt,Sr,Qt;C({name:(Xe==null?void 0:Xe.name)||"",email:(Xe==null?void 0:Xe.email)||"",phone:(X==null?void 0:X.phone)||"",whatsappNumber:(X==null?void 0:X.whatsappNumber)||"",qualification:(X==null?void 0:X.qualification)||"",experience:((J=X==null?void 0:X.experience)==null?void 0:J.toString())||"",partnerType:(X==null?void 0:X.partnerType)||"individual",address:(Xe==null?void 0:Xe.address)||"",landmark:(Xe==null?void 0:Xe.landmark)||"",pincode:(Xe==null?void 0:Xe.pincode)||"",city:(Xe==null?void 0:Xe.city)||"",gstNumber:(Xe==null?void 0:Xe.gstNumber)||(X==null?void 0:X.gstNumber)||"",referralCode:(X==null?void 0:X.referralCode)||"",categories:Dn.map(zs=>zs._id||zs.id||zs).filter(Boolean),categoryNames:zd,accountHolderName:(it==null?void 0:it.accountHolderName)||"",accountNumber:(it==null?void 0:it.accountNumber)||"",ifscCode:(it==null?void 0:it.ifscCode)||"",bankName:(it==null?void 0:it.bankName)||"",kycStatus:($e==null?void 0:$e.status)||"",kycRemarks:($e==null?void 0:$e.remarks)||"",registerAmount:((kt=(Oe=X==null?void 0:X.profile)==null?void 0:Oe.registerAmount)==null?void 0:kt.toString())||"",payId:((ht=X==null?void 0:X.profile)==null?void 0:ht.payId)||"",paidBy:((Lt=X==null?void 0:X.profile)==null?void 0:Lt.paidBy)||"",securityDeposit:((zt=(rr=X==null?void 0:X.profile)==null?void 0:rr.securityDeposit)==null?void 0:zt.toString())||"",toolkitPrice:((Qt=(Sr=X==null?void 0:X.profile)==null?void 0:Sr.toolkitPrice)==null?void 0:Qt.toString())||"",profileCompleted:(X==null?void 0:X.profileCompleted)||!1}),k(!0),se(""),_("")},className:"flex items-center gap-2 px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition font-semibold",children:[t.jsx(Cs,{className:"w-5 h-5"}),"Update Details"]}),t.jsxs("button",{onClick:bz,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold",children:[t.jsx(Zo,{className:"w-5 h-5"}),"Print"]}),t.jsxs("button",{onClick:()=>me(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-semibold",children:[t.jsx(gn,{className:"w-5 h-5"}),"ID Card"]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6 mb-8",ref:N,children:[t.jsxs("div",{className:"print-header hidden print:block mb-6",children:[t.jsx("div",{className:"print-logo",children:t.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z",stroke:"#214A73",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),t.jsx("path",{d:"M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z",stroke:"#214A73",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),t.jsx("path",{d:"M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z",stroke:"#214A73",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),t.jsx("path",{d:"M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z",stroke:"#214A73",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),t.jsx("circle",{cx:"24",cy:"24",r:"4",fill:"#214A73"})]})}),t.jsxs("div",{className:"print-header-content",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Nexo - Partner Full Details Report"}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Generated on ",new Date().toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Partner ID: ",e]})]})]}),(et||Vt)&&!(at!=null&&at._id)?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading partner details..."})]}):mt?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg text-sm",children:["Error loading partner details: ",mt]}):t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"print-section",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5"}),"Basic Information"]}),((Xe==null?void 0:Xe.profileImage)||(X==null?void 0:X.profilePicture))&&t.jsxs("div",{className:"mb-6 flex items-center gap-4 pb-6 border-b border-slate-200",children:[t.jsx("div",{className:"relative",children:t.jsx("img",{src:(u5=(Xe==null?void 0:Xe.profileImage)||(X==null?void 0:X.profilePicture))!=null&&u5.startsWith("http")?(Xe==null?void 0:Xe.profileImage)||(X==null?void 0:X.profilePicture):`/uploads/profiles/${(Xe==null?void 0:Xe.profileImage)||(X==null?void 0:X.profilePicture)}`,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-slate-200 profile-image",onError:J=>{J.target.src="https://via.placeholder.com/150?text=No+Image"}})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Profile Picture"}),t.jsx("a",{href:(m5=(Xe==null?void 0:Xe.profileImage)||(X==null?void 0:X.profilePicture))!=null&&m5.startsWith("http")?(Xe==null?void 0:Xe.profileImage)||(X==null?void 0:X.profilePicture):`/uploads/profiles/${(Xe==null?void 0:Xe.profileImage)||(X==null?void 0:X.profilePicture)}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline",children:"View Full Size"})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-x-8 gap-y-4 print-grid",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Full Name"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(Xe==null?void 0:Xe.name)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Email"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(Xe==null?void 0:Xe.email)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Phone Number"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(X==null?void 0:X.phone)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"WhatsApp Number"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(X==null?void 0:X.whatsappNumber)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Qualification"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(X==null?void 0:X.qualification)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Experience (Years)"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(X==null?void 0:X.experience)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Referral Code"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(X==null?void 0:X.referralCode)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"GST Number"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(Xe==null?void 0:Xe.gstNumber)||(X==null?void 0:X.gstNumber)||"Not Provided"})]}),t.jsxs("div",{className:"md:col-span-2 space-y-1 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Address"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(Xe==null?void 0:Xe.address)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Landmark"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(Xe==null?void 0:Xe.landmark)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Pincode"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(Xe==null?void 0:Xe.pincode)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"City"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(Xe==null?void 0:Xe.city)||"N/A"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Profile Status"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${X!=null&&X.profileCompleted?"bg-emerald-500/10 text-emerald-600 status-badge status-approved":"bg-amber-500/10 text-amber-600 status-badge status-pending"}`,children:X!=null&&X.profileCompleted?"COMPLETED":"INCOMPLETE"}),t.jsx("button",{onClick:async()=>{const J=!(X!=null&&X.profileCompleted),Oe=J?"Mark this profile as COMPLETED?":"Mark this profile as INCOMPLETE?";if(window.confirm(Oe))try{Y(!0),await We.updatePartnerProfile(s,e,{profileCompleted:J}),alert("Profile status updated successfully!"),window.location.reload()}catch(kt){alert("Failed to update profile status: "+kt.message)}finally{Y(!1)}},className:"print:hidden p-1.5 text-slate-600 hover:text-primary hover:bg-slate-100 rounded-lg transition",title:"Toggle Profile Status",children:t.jsx(Cs,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Partner Type"}),t.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${(X==null?void 0:X.partnerType)==="franchise"?"bg-purple-500/10 text-purple-600 status-badge":"bg-blue-500/10 text-blue-600 status-badge"}`,children:(X==null?void 0:X.partnerType)==="franchise"?"FRANCHISE":"INDIVIDUAL"})]})]})]}),t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(is,{className:"w-5 h-5"}),"Service Information"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:zd.length>0?zd.map((J,Oe)=>t.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-semibold",children:J},Oe)):t.jsx("span",{className:"text-slate-500",children:"No categories selected"})})]}),Px.length>0&&t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Sub-Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Px.map((J,Oe)=>t.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:(J==null?void 0:J.name)||"N/A"},Oe))})]}),Cx.length>0&&t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Services"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Cx.map((J,Oe)=>t.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:(J==null?void 0:J.name)||"N/A"},Oe))})]}),(X==null?void 0:X.modeOfService)&&t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Mode of Service"}),t.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-semibold capitalize",children:X.modeOfService==="online"?"Online":X.modeOfService==="offline"?"Offline":X.modeOfService})]})]})]}),t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(Gt,{className:"w-5 h-5"}),"KYC Documents & Status"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"KYC Status"}),t.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${($e==null?void 0:$e.status)==="approved"||(X==null?void 0:X.status)==="approved"?"bg-emerald-500/10 text-emerald-600 status-badge status-approved":($e==null?void 0:$e.status)==="rejected"||(X==null?void 0:X.status)==="rejected"?"bg-rose-500/10 text-rose-600 status-badge status-rejected":"bg-amber-500/10 text-amber-600 status-badge status-pending"}`,children:(($e==null?void 0:$e.status)||(X==null?void 0:X.status)||"pending").toUpperCase()})]}),($e==null?void 0:$e.remarks)&&t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"KYC Remarks"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:$e.remarks})]}),t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-4 print-label",children:"KYC Documents"}),t.jsxs("div",{className:"flex flex-wrap gap-4 kyc-documents-container",children:[($e==null?void 0:$e.panCard)&&t.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[t.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[t.jsx("img",{src:$e.panCard.startsWith("http")?$e.panCard:`/uploads/kyc/${$e.panCard}`,alt:"PAN Card",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:J=>{J.target.style.display="none",J.target.nextSibling&&(J.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:t.jsx(Gt,{className:"w-12 h-12 text-slate-400"})})]}),t.jsxs("div",{className:"p-3 bg-white",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"PAN Card"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Identity Document"})]}),t.jsx("a",{href:$e.panCard.startsWith("http")?$e.panCard:`/uploads/kyc/${$e.panCard}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),($e==null?void 0:$e.aadhaar)&&t.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[t.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[t.jsx("img",{src:$e.aadhaar.startsWith("http")?$e.aadhaar:`/uploads/kyc/${$e.aadhaar}`,alt:"Aadhaar Front",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:J=>{J.target.style.display="none",J.target.nextSibling&&(J.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:t.jsx(Gt,{className:"w-12 h-12 text-slate-400"})})]}),t.jsxs("div",{className:"p-3 bg-white",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Aadhaar (Front)"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Identity Document"})]}),t.jsx("a",{href:$e.aadhaar.startsWith("http")?$e.aadhaar:`/uploads/kyc/${$e.aadhaar}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),($e==null?void 0:$e.aadhaarback)&&t.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[t.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[t.jsx("img",{src:$e.aadhaarback.startsWith("http")?$e.aadhaarback:`/uploads/kyc/${$e.aadhaarback}`,alt:"Aadhaar Back",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:J=>{J.target.style.display="none",J.target.nextSibling&&(J.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:t.jsx(Gt,{className:"w-12 h-12 text-slate-400"})})]}),t.jsxs("div",{className:"p-3 bg-white",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Aadhaar (Back)"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Identity Document"})]}),t.jsx("a",{href:$e.aadhaarback.startsWith("http")?$e.aadhaarback:`/uploads/kyc/${$e.aadhaarback}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),($e==null?void 0:$e.drivingLicence)&&t.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[t.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[t.jsx("img",{src:$e.drivingLicence.startsWith("http")?$e.drivingLicence:`/uploads/kyc/${$e.drivingLicence}`,alt:"Driving Licence",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:J=>{J.target.style.display="none",J.target.nextSibling&&(J.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:t.jsx(Gt,{className:"w-12 h-12 text-slate-400"})})]}),t.jsxs("div",{className:"p-3 bg-white",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Driving Licence"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Identity Document"})]}),t.jsx("a",{href:$e.drivingLicence.startsWith("http")?$e.drivingLicence:`/uploads/kyc/${$e.drivingLicence}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),($e==null?void 0:$e.bill)&&t.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[t.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[t.jsx("img",{src:$e.bill.startsWith("http")?$e.bill:`/uploads/kyc/${$e.bill}`,alt:"Utility Bill",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:J=>{J.target.style.display="none",J.target.nextSibling&&(J.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:t.jsx(Gt,{className:"w-12 h-12 text-slate-400"})})]}),t.jsxs("div",{className:"p-3 bg-white",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Utility Bill"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Address Proof"})]}),t.jsx("a",{href:$e.bill.startsWith("http")?$e.bill:`/uploads/kyc/${$e.bill}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),(($e==null?void 0:$e.chequeImage)||(it==null?void 0:it.chequeImage))&&t.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[t.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[t.jsx("img",{src:(h5=($e==null?void 0:$e.chequeImage)||(it==null?void 0:it.chequeImage))!=null&&h5.startsWith("http")||(x5=($e==null?void 0:$e.chequeImage)||(it==null?void 0:it.chequeImage))!=null&&x5.includes("s3.amazonaws.com")?($e==null?void 0:$e.chequeImage)||(it==null?void 0:it.chequeImage):`/uploads/kyc/${($e==null?void 0:$e.chequeImage)||(it==null?void 0:it.chequeImage)}`,alt:"Cancelled Cheque",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:J=>{J.target.style.display="none",J.target.nextSibling&&(J.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:t.jsx(Gt,{className:"w-12 h-12 text-slate-400"})})]}),t.jsxs("div",{className:"p-3 bg-white",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Cancelled Cheque"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Bank Proof"})]}),t.jsx("a",{href:(p5=($e==null?void 0:$e.chequeImage)||(it==null?void 0:it.chequeImage))!=null&&p5.startsWith("http")||(f5=($e==null?void 0:$e.chequeImage)||(it==null?void 0:it.chequeImage))!=null&&f5.includes("s3.amazonaws.com")?($e==null?void 0:$e.chequeImage)||(it==null?void 0:it.chequeImage):`/uploads/kyc/${($e==null?void 0:$e.chequeImage)||(it==null?void 0:it.chequeImage)}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]})]})]})]})]}),t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(xs,{className:"w-5 h-5"}),"Payment Information"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Registration Amount"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(((g5=X==null?void 0:X.profile)==null?void 0:g5.registerAmount)||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Payment ID"}),t.jsx("p",{className:"text-base text-slate-900 print-value font-mono",children:((y5=X==null?void 0:X.profile)==null?void 0:y5.payId)||"Not Provided"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Security Deposit"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(((b5=X==null?void 0:X.profile)==null?void 0:b5.securityDeposit)||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Toolkit Price"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(((v5=X==null?void 0:X.profile)==null?void 0:v5.toolkitPrice)||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Paid By"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:((j5=X==null?void 0:X.profile)==null?void 0:j5.paidBy)||"Not Specified"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Payment Status"}),(w5=X==null?void 0:X.profile)!=null&&w5.paymentApproved?t.jsx("p",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold print-value bg-emerald-500/10 text-emerald-600",children:"Paid"}):t.jsxs("button",{onClick:He,disabled:ce,className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-amber-500/10 text-amber-600 hover:bg-amber-500/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[ce?t.jsx(rp,{className:"w-3 h-3 animate-spin mr-1"}):null,ce?"Verifying...":"Verify Payment"]})]})]})]}),((X==null?void 0:X.terms)||(gt==null?void 0:gt.signature)||(gt==null?void 0:gt.accepted))&&t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(Gt,{className:"w-5 h-5"}),"Terms & Conditions Acceptance"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Terms Accepted"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:gt.accepted||(N5=X==null?void 0:X.terms)!=null&&N5.accepted?t.jsxs("span",{className:"inline-flex items-center gap-2 text-emerald-600 font-semibold",children:[t.jsx(vt,{className:"w-5 h-5"}),"Accepted"]}):t.jsx("span",{className:"text-slate-400",children:"Not Accepted"})})]}),(gt.acceptedAt||((S5=X==null?void 0:X.terms)==null?void 0:S5.acceptedAt))&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Accepted On"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:new Date(gt.acceptedAt||((k5=X==null?void 0:X.terms)==null?void 0:k5.acceptedAt)).toLocaleString("en-IN")})]}),(gt.signature||((C5=X==null?void 0:X.terms)==null?void 0:C5.signature))&&t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Digital Signature"}),t.jsx("img",{src:(A5=gt.signature||((P5=X==null?void 0:X.terms)==null?void 0:P5.signature))!=null&&A5.startsWith("data:")?gt.signature||((T5=X==null?void 0:X.terms)==null?void 0:T5.signature):(I5=gt.signature||((E5=X==null?void 0:X.terms)==null?void 0:E5.signature))!=null&&I5.startsWith("http")?gt.signature||((_5=X==null?void 0:X.terms)==null?void 0:_5.signature):`/uploads/signatures/${gt.signature||((O5=X==null?void 0:X.terms)==null?void 0:O5.signature)}`,alt:"Partner Signature",className:"signature-image",style:{maxWidth:"250px",maxHeight:"100px",objectFit:"contain"},onError:J=>{J.target.style.display="none"}})]}),t.jsx("div",{className:"md:col-span-2 print-full-width",children:t.jsxs("div",{className:"terms-full-text",children:[t.jsx("h4",{children:"AGREEMENT"}),t.jsx("p",{children:'This Partner Service Agreement ("Agreement") is between NEXO ("Company") and the registered service provider ("Partner"). It governs onboarding, obligations, fees, penalties, liabilities and termination.'}),t.jsx("h4",{children:"Key Points:"}),t.jsxs("ol",{children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Onboarding:"})," Partner shall provide valid KYC (Aadhaar, PAN, Address proof, Photo). Police verification required within 30 days."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Fees:"})," Registration fee, Toolkit fee, MG Plan, Security deposit (terms set by Platform)."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Obligations:"})," Partner shall perform services with due skill, follow SOP, not solicit off-platform, not collect customer data off platform."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Payments:"})," All payments routed through Platform; Partner is independent contractor."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Safety:"})," No intoxication, no harassment; female-customer safety prioritized."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Penalties:"})," Attempt to take customer offline  5,000 + termination; Last-minute cancellations, no-shows, delays and verified complaints trigger specified monetary penalties and suspension/termination for repeated violations."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Liability:"})," Partner responsible for damages caused by negligence; Company not responsible for Partner's personal injury or tools."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Confidentiality:"})," Partner must keep customer and Company data confidential."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Governing Law:"})," Indian law; exclusive jurisdiction of Bengaluru Courts."]})]}),t.jsxs("div",{className:"penalty-table",children:[t.jsx("h4",{children:"Representative Penalty Table:"}),t.jsxs("ul",{children:[t.jsxs("li",{children:["Offline / direct contact with customer: ",t.jsx("strong",{children:"5,000 + termination + wallet freeze"})]}),t.jsxs("li",{children:["Cancel within 2 hours: ",t.jsx("strong",{children:"199"})," | Cancel after reaching site: ",t.jsx("strong",{children:"299"})]}),t.jsxs("li",{children:["No-show after accept: ",t.jsx("strong",{children:"299"})," | Delay > 30 mins: ",t.jsx("strong",{children:"99"})]}),t.jsxs("li",{children:["Verified complaint: ",t.jsx("strong",{children:"199999"})," depending on severity"]})]})]}),t.jsx("p",{style:{marginTop:"12px",fontSize:"10px",color:"#64748b"},children:"Full and binding terms are published on the Platform. By signing and accepting above you confirm you read and agree to all terms and penalties."})]})})]})]}),t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(xs,{className:"w-5 h-5"}),"Bank Details"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Account Holder Name"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:(it==null?void 0:it.accountHolderName)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Account Number"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:(it==null?void 0:it.accountNumber)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"IFSC Code"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:(it==null?void 0:it.ifscCode)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Bank Name"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:(it==null?void 0:it.bankName)||"N/A"})]}),((it==null?void 0:it.chequeImage)||($e==null?void 0:$e.chequeImage))&&t.jsxs("div",{className:"md:col-span-2 print-full-width",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Cancelled Cheque"}),t.jsxs("div",{className:"bg-slate-50 rounded-lg border border-slate-200 overflow-hidden",children:[t.jsx("img",{src:(D5=(it==null?void 0:it.chequeImage)||($e==null?void 0:$e.chequeImage))!=null&&D5.startsWith("http")||(M5=(it==null?void 0:it.chequeImage)||($e==null?void 0:$e.chequeImage))!=null&&M5.includes("s3.amazonaws.com")?(it==null?void 0:it.chequeImage)||($e==null?void 0:$e.chequeImage):`/uploads/kyc/${(it==null?void 0:it.chequeImage)||($e==null?void 0:$e.chequeImage)}`,alt:"Cancelled Cheque",className:"w-full h-auto max-h-64 object-contain",onError:J=>{J.target.style.display="none",J.target.nextSibling&&(J.target.nextSibling.style.display="block")}}),t.jsxs("div",{className:"hidden p-4 text-center text-slate-500",children:[t.jsx(Gt,{className:"w-12 h-12 mx-auto mb-2"}),t.jsx("p",{className:"text-sm",children:"Image not available"})]}),t.jsx("a",{href:(L5=(it==null?void 0:it.chequeImage)||($e==null?void 0:$e.chequeImage))!=null&&L5.startsWith("http")||(F5=(it==null?void 0:it.chequeImage)||($e==null?void 0:$e.chequeImage))!=null&&F5.includes("s3.amazonaws.com")?(it==null?void 0:it.chequeImage)||($e==null?void 0:$e.chequeImage):`/uploads/kyc/${(it==null?void 0:it.chequeImage)||($e==null?void 0:$e.chequeImage)}`,target:"_blank",rel:"noopener noreferrer",className:"block text-xs text-primary hover:underline mt-2 text-center",children:"View Full Size"})]})]})]})]}),((Ft==null?void 0:Ft._id)||(Ft==null?void 0:Ft.name))&&t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(gn,{className:"w-5 h-5"}),"MG Plan Details"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Plan Name"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:(Ft==null?void 0:Ft.name)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Plan Price"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(Ft.price||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Guaranteed Leads"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:[Ft.leads||0," leads/month"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Commission Rate"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:[Ft.commission||0,"%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Lead Fee"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(Ft.leadFee||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Minimum Wallet Balance"}),t.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(Ft.minWalletBalance||0).toLocaleString("en-IN")]})]}),(X==null?void 0:X.mgPlanSubscribedAt)&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Subscribed On"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:new Date(X.mgPlanSubscribedAt).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]}),(X==null?void 0:X.mgPlanExpiresAt)&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Expires On"}),t.jsx("p",{className:"text-base text-slate-900 print-value",children:new Date(X.mgPlanExpiresAt).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]})]})]}),t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[t.jsx(Jt,{className:"w-5 h-5"}),"Performance Summary"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Total Earnings"}),t.jsxs("p",{className:"text-2xl font-bold text-emerald-600 print-value",children:["",X6.toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Wallet Balance"}),t.jsxs("p",{className:"text-2xl font-bold text-primary print-value",children:["",Ud.toLocaleString("en-IN")]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Completed Bookings"}),t.jsx("p",{className:"text-xl font-bold text-slate-900 print-value",children:Ax.length})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"MG Plan Leads Used"}),t.jsxs("p",{className:"text-xl font-bold text-slate-900 print-value",children:[av," / ",sv]})]})]})]}),t.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title",children:"PARTNER TERMS & CONDITIONS"}),t.jsxs("div",{className:"terms-full-text",children:[t.jsx("div",{className:"mb-4 pb-3 border-b border-gray-200",children:t.jsxs("div",{className:"text-xs text-gray-600 space-y-1 mb-3",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Effective Date:"})," 15th November 2025"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Last Updated:"})," 15th November 2025"]})]})}),t.jsxs("div",{className:"space-y-4 text-sm text-gray-700",children:[t.jsxs("div",{children:[t.jsx("h4",{children:"1. Introduction"}),t.jsx("p",{children:'These Partner Terms & Conditions ("Terms") constitute a binding agreement between NEXO ("Company", "Platform", "We", "Us") and the individual or business entity ("Partner", "Service Provider", "You") who registers to provide on-site or online services through the Platform.'}),t.jsx("p",{children:"By registering or accepting any service request, the Partner expressly agrees to these Terms."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"2. Independent Contractor Status"}),t.jsxs("ul",{children:[t.jsx("li",{children:"The Partner is an independent contractor, not an employee, representative, or agent of NEXO."}),t.jsx("li",{children:"No employment benefits (PF, ESI, gratuity, insurance, paid leave, salary) shall be applicable."}),t.jsx("li",{children:"The Partner is solely responsible for compliance with GST, income tax, labour laws, and all statutory obligations."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"3. Mandatory Registration & Onboarding Requirements"}),t.jsx("p",{children:"The Partner shall complete mandatory onboarding, including but not limited to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Valid Government ID"}),t.jsx("li",{children:"Address proof"}),t.jsx("li",{children:"Skill verification/trade test (if applicable)"}),t.jsx("li",{children:"Police verification (whenever required)"}),t.jsx("li",{children:"Recent photograph"}),t.jsx("li",{children:"Bank account details"}),t.jsx("li",{children:"GST number (if applicable)"})]}),t.jsx("p",{children:t.jsx("strong",{children:"Payment of applicable onboarding fees:"})}),t.jsxs("ul",{children:[t.jsx("li",{children:"Registration Fee"}),t.jsx("li",{children:"Toolkit Fee (if provided)"}),t.jsx("li",{children:"Minimum Guarantee (MG) Plan"}),t.jsx("li",{children:"Security Deposit"})]}),t.jsx("p",{className:"text-xs",children:"All fees are non-refundable, except security deposit which is refundable as per Clause 20."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"4. Partner Obligations"}),t.jsx("p",{children:"Partner shall:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Maintain professional behaviour at all times."}),t.jsx("li",{children:"Deliver high-quality, safe, and lawful services."}),t.jsx("li",{children:"Carry valid Partner ID during every service."}),t.jsx("li",{children:"Reach customer location on time."}),t.jsx("li",{children:"Provide correct service estimates before starting work."}),t.jsx("li",{children:"Maintain hygiene, wear uniform/ID (if provided)."}),t.jsx("li",{children:"Not engage in misconduct, harassment, abuse, threats, or illegal activity."}),t.jsx("li",{children:"Maintain tools and ensure safe operation."}),t.jsx("li",{children:"Not demand cash payments directly from customers."}),t.jsx("li",{children:"Not solicit or accept off-platform work (strict penalty)."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"5. Pricing, Estimates & Billing"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Partner must follow NEXO pricing structure and guidelines."}),t.jsx("li",{children:"Any additional work must be pre-approved through the Platform."}),t.jsx("li",{children:"Partner shall not overcharge or misrepresent pricing."}),t.jsx("li",{children:"All payments shall be processed solely through NEXO."}),t.jsx("li",{children:"Partner is responsible for issuing bills/invoices where required by law."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"6. Platform Commission & Deductions"}),t.jsx("p",{children:"Partner agrees to the following deductions:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Platform Commission (%)"}),t.jsx("li",{children:"Lead Cost per lead"}),t.jsx("li",{children:"GST applicable on Platform Commission"}),t.jsx("li",{children:"Penalties & Fines"}),t.jsx("li",{children:"TDS (if applicable)"}),t.jsx("li",{children:"Outstanding dues from previous jobs"}),t.jsx("li",{children:"MG Plan adjustments"})]}),t.jsx("p",{className:"text-xs",children:"All deductions shall be final and binding."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"7. Mandatory Safety Requirements"}),t.jsx("p",{children:"Partner shall:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Follow safety protocols prescribed by NEXO."}),t.jsx("li",{children:"Use proper tools and protective equipment."}),t.jsx("li",{children:"Not perform services beyond skill level or without proper safety."}),t.jsx("li",{children:"Not endanger customer, property, or themselves."})]}),t.jsx("p",{children:"Failure may result in:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Immediate suspension"}),t.jsx("li",{children:"Penalty up to 5,000"}),t.jsx("li",{children:"Legal action for damages"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"8. Customer Safety & Code of Conduct"}),t.jsx("p",{children:"Partner must strictly adhere to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"No harassment (verbal, physical, emotional)"}),t.jsx("li",{children:"No misbehaviour, disrespect, abusive language"}),t.jsx("li",{children:"No consumption of alcohol/drugs on duty"}),t.jsx("li",{children:"No theft, damage, or misconduct"}),t.jsx("li",{children:"No photography or unauthorised recording at customer premises"}),t.jsx("li",{children:"No requesting personal favours or discounts"}),t.jsx("li",{children:"No entering restricted areas without consent"})]}),t.jsx("p",{children:"Any violation may lead to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Permanent termination"}),t.jsx("li",{children:"Police complaint"}),t.jsx("li",{children:"Forfeiture of dues and deposits"}),t.jsx("li",{children:"Penalties up to 25,000"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"9. Punctuality & Attendance"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Partner must accept bookings only if available."}),t.jsx("li",{children:"Must reach customer location on time."}),t.jsx("li",{children:"Any delay beyond 20 minutes must be informed."})]}),t.jsx("p",{children:"Repeated delays may lead to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"50200 penalty per incident"}),t.jsx("li",{children:"Reduced lead allocation"}),t.jsx("li",{children:"Temporary suspension"})]})]}),t.jsxs("div",{className:"penalty-box",children:[t.jsx("h4",{children:"10. No Offline Deals (Strictly Prohibited)"}),t.jsx("p",{children:"Partner shall not:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Ask customer to cancel platform booking"}),t.jsx("li",{children:"Offer lower pricing for offline work"}),t.jsx("li",{children:"Share personal phone number for future services"}),t.jsx("li",{children:"Accept cash or direct payments"})]}),t.jsx("p",{children:t.jsx("strong",{children:"Penalty:"})}),t.jsxs("ul",{children:[t.jsx("li",{children:"5,000 minimum"}),t.jsx("li",{children:"Permanent termination"}),t.jsx("li",{children:"Deduction from wallet and MG plan"}),t.jsx("li",{children:"Legal action for business loss"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"11. Service Quality & Returns"}),t.jsx("p",{children:"Partner must ensure:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"High-quality workmanship"}),t.jsx("li",{children:"Correct problem diagnosis"}),t.jsx("li",{children:"Use of original parts (if applicable)"}),t.jsx("li",{children:"Guarantee service quality as per NEXO policy"})]}),t.jsx("p",{children:"Poor work or customer complaints may attract:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Rework without charges"}),t.jsx("li",{children:"Penalty from 1001,000"}),t.jsx("li",{children:"Suspension on repeated offences"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"12. Damage, Theft, or Loss"}),t.jsx("p",{children:"Partner shall be fully liable for:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Damage to customer property"}),t.jsx("li",{children:"Theft or loss at customer premises"}),t.jsx("li",{children:"Fire, accident, or injury caused due to Partner negligence"}),t.jsx("li",{children:"Incorrect installation or unsafe practices"})]}),t.jsx("p",{children:"Recovery will be made through:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Partner wallet"}),t.jsx("li",{children:"Security deposit"}),t.jsx("li",{children:"MG payouts"}),t.jsx("li",{children:"Legal recovery"})]}),t.jsx("p",{className:"text-xs",children:"Police FIR may be filed for severe cases."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"13. Fraudulent Activities"}),t.jsx("p",{children:"Strictly prohibited:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Faking job completion"}),t.jsx("li",{children:"False OTP entry"}),t.jsx("li",{children:"Manipulating customer rating"}),t.jsx("li",{children:"Overcharging"}),t.jsx("li",{children:"Providing false documents"})]}),t.jsx("p",{children:"Penalty:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Up to 25,000"}),t.jsx("li",{children:"Permanent removal"}),t.jsx("li",{children:"Legal prosecution"})]})]}),t.jsxs("div",{className:"penalty-box",children:[t.jsx("h4",{children:"14. Penalty Structure"}),t.jsxs("table",{className:"penalty-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Violation"}),t.jsx("th",{children:"Penalty"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:"Late arrival"}),t.jsx("td",{children:"50200"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Job rejection after acceptance"}),t.jsx("td",{children:"100300"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Misbehaviour"}),t.jsx("td",{children:"1,0005,000"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Unsafe work"}),t.jsx("td",{children:"2,000"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Offline deal"}),t.jsx("td",{children:"5,000+ termination"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Theft/misconduct"}),t.jsx("td",{children:"Legal action + termination"})]})]})]}),t.jsx("p",{className:"text-xs mt-2",children:"NEXO reserves the right to modify penalties anytime."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"15. Partner Wallet & Settlement"}),t.jsx("p",{children:"Deductions will be applied in the following order:"}),t.jsxs("ol",{children:[t.jsx("li",{children:"Penalties"}),t.jsx("li",{children:"Platform Commission"}),t.jsx("li",{children:"Lead cost"}),t.jsx("li",{children:"MG plan adjustments"}),t.jsx("li",{children:"Pending dues"})]}),t.jsx("p",{children:"Settlement cycles will be weekly or as updated by NEXO."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"16. MG Plan (Minimum Guarantee)"}),t.jsxs("ul",{children:[t.jsx("li",{children:"MG plan is mandatory as per category."}),t.jsx("li",{children:"MG provides priority leads based on plan."}),t.jsx("li",{children:"MG fee is non-refundable."}),t.jsx("li",{children:"Partner failing to meet service quality/minimum performance may lose MG benefits without refund."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"17. Ratings & Reviews"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Partner must maintain minimum rating (e.g., 4.0)."}),t.jsx("li",{children:"Low ratings may result in reduced leads or suspension."}),t.jsx("li",{children:"False or manipulated ratings are punishable."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"18. Use of Platform & Technology"}),t.jsx("p",{children:"Partner shall:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Keep app updated"}),t.jsx("li",{children:"Not misuse customer data"}),t.jsx("li",{children:"Not reverse engineer, hack, or modify NEXO systems"}),t.jsx("li",{children:"Use genuine documents only"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"19. Termination"}),t.jsx("p",{children:"NEXO may terminate partner access without notice for:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Misconduct"}),t.jsx("li",{children:"Fraud"}),t.jsx("li",{children:"Unsafe behaviour"}),t.jsx("li",{children:"Low performance"}),t.jsx("li",{children:"Offline deals"}),t.jsx("li",{children:"Customer complaints"}),t.jsx("li",{children:"Violation of any Terms"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"20. Security Deposit Refund"}),t.jsx("p",{children:"Refund only upon:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"30-day notice period"}),t.jsx("li",{children:"Return of toolkit (if applicable)"}),t.jsx("li",{children:"No pending dues or penalties"}),t.jsx("li",{children:"No active customer complaints"})]}),t.jsx("p",{children:"Refund processing time: 2145 working days."})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"21. Dispute Resolution"}),t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Jurisdiction:"})," Bangalore, Karnataka"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Governing Law:"})," Laws of India"]})]}),t.jsx("p",{children:t.jsx("strong",{children:"Method:"})}),t.jsxs("ul",{children:[t.jsx("li",{children:"Internal review"}),t.jsx("li",{children:"Mediation"}),t.jsx("li",{children:"Arbitration (if required)"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{children:"22. Amendments"}),t.jsx("p",{children:"NEXO reserves the right to change Terms anytime. Continued use of the Platform constitutes acceptance."})]}),t.jsx("div",{className:"penalty-box",style:{background:"#eff6ff",borderColor:"#93c5fd"},children:t.jsxs("p",{className:"text-xs",children:[t.jsx("strong",{children:"By signing and accepting this Agreement, Partner confirms that:"})," (i) they have read, understood, and agree to be bound by all terms, conditions, and penalties outlined herein; (ii) they have had the opportunity to review the full terms published on the Platform; (iii) they understand that this Agreement is legally binding; and (iv) they agree to comply with all obligations and accept all penalties for violations."]})})]})]})]})]})]}),t.jsxs("div",{className:"grid gap-5 md:grid-cols-4 mb-8",children:[t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-500",children:"Total Earnings"}),t.jsx(Jt,{className:"w-5 h-5 text-emerald-500"})]}),t.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:["",X6.toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["From ",Ax.length," completed bookings"]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-500",children:"Wallet Balance"}),t.jsx(Jt,{className:"w-5 h-5 text-primary"})]}),t.jsxs("p",{className:"text-3xl font-bold text-primary",children:["",Ud.toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[J6.length," transactions  Lead fee ",Z6.toLocaleString("en-IN")]}),t.jsx("p",{className:`text-xs mt-2 ${Ud<Ex?"text-rose-500":"text-emerald-500"}`,children:vz})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-500",children:"Total Bookings"}),t.jsx(ks,{className:"w-5 h-5 text-blue-500"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900",children:Ax.length}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Completed bookings"})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-500",children:"MG Plan Progress"}),t.jsx(gn,{className:"w-5 h-5 text-purple-500"})]}),t.jsx("p",{className:"text-lg font-bold text-purple-600 mb-1",children:(Ft==null?void 0:Ft.name)||"No Plan"}),t.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[jz," / ",sv]}),t.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Leads remaining  Used ",av]}),t.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Expires ",Ct.expiresAt?new Date(Ct.expiresAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):""]})]})]}),Ct.leadAcceptancePaused&&t.jsx("div",{className:"bg-amber-50 border border-amber-200 text-amber-700 px-4 py-3 rounded-2xl mb-8 text-sm",children:"Lead notifications are currently paused due to low wallet balance. Top up to resume assignments."}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mb-8",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500 mb-4",children:"Service Categories & MG Plan"}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Selected Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:zd.length>0?zd.map((J,Oe)=>t.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-semibold",children:J},Oe)):t.jsx("span",{className:"text-slate-500 text-sm",children:"No categories selected"})}),Px.length>0&&t.jsxs("div",{className:"mt-3",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Sub-Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Px.map((J,Oe)=>t.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:(J==null?void 0:J.name)||"N/A"},Oe))})]}),Cx.length>0&&t.jsxs("div",{className:"mt-3",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Services"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Cx.map((J,Oe)=>t.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:(J==null?void 0:J.name)||"N/A"},Oe))})]}),(X==null?void 0:X.modeOfService)&&t.jsxs("div",{className:"mt-3",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Mode of Service"}),t.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-semibold capitalize inline-block",children:X.modeOfService==="online"?"Online":X.modeOfService==="offline"?"Offline":X.modeOfService})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"MG Plan"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(gn,{className:"w-5 h-5 text-purple-600"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-lg font-bold text-purple-600",children:(Ft==null?void 0:Ft.name)||"No Plan Assigned"}),(Ft==null?void 0:Ft.name)&&t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[Ft.leads||0," leads  ",Ft.commission||0,"% commission"]})]}),t.jsx("button",{onClick:()=>Qe(!0),className:"px-3 py-1.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition text-sm font-semibold",children:Ft!=null&&Ft.name?"Change Plan":"Assign Plan"})]})]})]})]}),wz==="eligible"&&t.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-2xl mb-6 text-sm",children:"Plan refund eligible: guaranteed leads not met before expiry."}),((gt==null?void 0:gt.signature)||(gt==null?void 0:gt.accepted))&&Object.keys(gt).length>0&&t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mt-8",children:[t.jsxs("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500 mb-4 flex items-center gap-2",children:[t.jsx(Gt,{className:"w-5 h-5"}),"Terms & Conditions"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Terms Accepted"}),gt.accepted?t.jsxs("span",{className:"inline-flex items-center gap-2 text-emerald-600 font-semibold",children:[t.jsx(vt,{className:"w-5 h-5"}),"Accepted"]}):t.jsx("span",{className:"text-slate-400",children:"Not Accepted"})]}),gt.acceptedAt&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Accepted On"}),t.jsx("p",{className:"text-base text-slate-900 font-medium",children:new Date(gt.acceptedAt).toLocaleString("en-IN")})]}),gt.signature&&t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Digital Signature"}),t.jsx("div",{className:"border-2 border-slate-200 rounded-lg p-4 bg-slate-50 inline-block",children:t.jsx("img",{src:gt.signature.startsWith("data:")||gt.signature.startsWith("http")?gt.signature:`/uploads/signatures/${gt.signature}`,alt:"Partner Signature",className:"max-w-xs max-h-32 h-auto object-contain",onError:J=>{J.target.style.display="none"}})})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mt-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Service Hubs"}),t.jsx("p",{className:"text-xs text-slate-400",children:"Assign hubs to this partner. Hubs are created in Hub Management."})]}),t.jsxs("button",{onClick:ot,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl text-xs font-semibold hover:bg-primary-dark transition",children:[t.jsx(Tr,{})," ",rv.length>0?"Update Hubs":"Assign Hubs"]})]}),le?t.jsx("div",{className:"text-sm text-slate-400 py-4",children:"Loading hubs..."}):oe?t.jsxs("div",{className:"text-sm text-rose-500 py-4",children:["Failed to load hubs: ",oe]}):rv.length===0?t.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-slate-300 rounded-xl bg-slate-50",children:[t.jsx(Pr,{className:"text-4xl text-slate-400 mx-auto mb-3"}),t.jsx("p",{className:"text-sm text-slate-600 font-medium mb-1",children:"No Hubs Assigned"}),t.jsx("p",{className:"text-xs text-slate-500",children:'Click "Assign Hubs" to assign service hubs to this partner.'})]}):t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:rv.map(J=>{var ht,Lt,rr;const Oe=((ht=J.areas)==null?void 0:ht.reduce((zt,Sr)=>[...zt,...Sr.pinCodes||[]],[]))||[],kt=[...new Set(Oe)];return t.jsxs("div",{className:"border-2 border-primary/20 rounded-xl p-4 bg-primary/5",children:[t.jsx("div",{className:"flex items-start justify-between mb-3",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(Pr,{className:"text-primary"}),t.jsx("p",{className:"text-sm font-semibold text-slate-800",children:J.name})]}),(J.city||J.state)&&t.jsx("p",{className:"text-xs text-slate-500 ml-6",children:[J.city,J.state].filter(Boolean).join(", ")}),t.jsxs("p",{className:"text-xs text-slate-500 ml-6 mt-1",children:[((Lt=J.areas)==null?void 0:Lt.length)||0," area",((rr=J.areas)==null?void 0:rr.length)===1?"":"s","  ",kt.length," pin code",kt.length===1?"":"s"]})]})}),J.areas&&J.areas.length>0&&t.jsx("div",{className:"mt-3 space-y-2",children:J.areas.map(zt=>t.jsxs("div",{className:"bg-white rounded-lg p-2",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-700 mb-1",children:zt.areaName}),zt.pinCodes&&zt.pinCodes.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1.5",children:zt.pinCodes.map(Sr=>t.jsx("span",{className:"px-2 py-0.5 bg-primary/10 border border-primary/20 rounded-full text-xs font-semibold text-primary",children:Sr},Sr))})]},zt._id))})]},J._id)})})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mt-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"MG Plan History"}),t.jsxs("span",{className:"text-xs text-slate-400",children:["Commission: ",Ct.commission??"--","%"]})]}),Ct.history&&Ct.history.length>0?t.jsx("div",{className:"space-y-4",children:Ct.history.slice().reverse().map((J,Oe)=>t.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[J.planName,"  ",(J.price||0).toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-slate-500",children:[J.subscribedAt?new Date(J.subscribedAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):""," ",""," ",J.expiresAt?new Date(J.expiresAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):""]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${J.refundStatus==="eligible"?"bg-amber-500/10 text-amber-600":J.refundStatus==="processed"?"bg-emerald-500/10 text-emerald-600":"bg-slate-200 text-slate-600"}`,children:J.refundStatus??"pending"}),t.jsx("button",{onClick:()=>_e(Ct.history.length-1-Oe),className:"p-1.5 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",title:"Delete this MG plan entry",children:t.jsx(la,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-4 gap-3 text-xs text-slate-600",children:[t.jsxs("div",{children:[t.jsx("span",{className:"block font-semibold text-slate-500",children:"Guaranteed"}),J.leadsGuaranteed??""," leads"]}),t.jsxs("div",{children:[t.jsx("span",{className:"block font-semibold text-slate-500",children:"Consumed"}),J.leadsConsumed??0," leads"]}),t.jsxs("div",{children:[t.jsx("span",{className:"block font-semibold text-slate-500",children:"Lead Fee"}),"",(J.leadFee??Z6).toLocaleString("en-IN")]}),t.jsxs("div",{children:[t.jsx("span",{className:"block font-semibold text-slate-500",children:"Commission"}),J.commissionRate??Ct.commission??0,"%"]})]}),J.refundNotes&&t.jsx("p",{className:"mt-2 text-xs text-slate-500 italic",children:J.refundNotes})]},Oe))}):t.jsx("p",{className:"text-sm text-slate-500",children:"No MG plan history recorded."})]}),a&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Add Wallet Transaction"}),t.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:Ae,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Transaction Type ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{type:"button",onClick:()=>l("credit"),className:`flex-1 px-4 py-3 rounded-xl font-semibold transition ${i==="credit"?"bg-emerald-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[t.jsx(Tr,{className:"w-4 h-4 inline mr-2"}),"Credit (Add)"]}),t.jsxs("button",{type:"button",onClick:()=>l("debit"),className:`flex-1 px-4 py-3 rounded-xl font-semibold transition ${i==="debit"?"bg-rose-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[t.jsx(gj,{className:"w-4 h-4 inline mr-2"}),"Debit (Deduct)"]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Amount ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:o,onChange:J=>d(J.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter amount",min:"0",step:"0.01",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Description ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:c,onChange:J=>u(J.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter transaction description",rows:3,required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Reference (Optional)"}),t.jsx("input",{type:"text",value:m,onChange:J=>x(J.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Transaction reference number"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Payment Mode ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:At,onChange:J=>ft(J.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",required:!0,children:[t.jsx("option",{value:"cash",children:"Cash"}),t.jsx("option",{value:"online",children:"Online"}),t.jsx("option",{value:"cheque",children:"Cheque"}),t.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]}),At==="online"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Transaction ID"}),t.jsx("input",{type:"text",value:pt,onChange:J=>ge(J.target.value),placeholder:"Enter transaction/reference ID",className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary"})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:h,className:`flex-1 px-4 py-3 rounded-xl font-semibold text-white transition ${i==="credit"?"bg-emerald-500 hover:bg-emerald-600":"bg-rose-500 hover:bg-rose-600"} disabled:opacity-50 disabled:cursor-not-allowed`,children:h?"Processing...":i==="credit"?"Add Funds":"Deduct Funds"})]})]})]})}),S&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Update Partner Details"}),t.jsx("button",{onClick:()=>{k(!1),se(""),_("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:async J=>{J.preventDefault(),Y(!0),se(""),_("");try{const Oe=I.filter(Lt=>P.categories.includes(Lt._id||Lt.id)).map(Lt=>Lt.name),kt={name:P.name,email:P.email,phone:P.phone,whatsappNumber:P.whatsappNumber,qualification:P.qualification,experience:P.experience,partnerType:P.partnerType||"individual",address:P.address,landmark:P.landmark,pincode:P.pincode,city:P.city,gstNumber:P.gstNumber,referralCode:P.referralCode,categories:P.categories,categoryNames:Oe,accountHolderName:P.accountHolderName,accountNumber:P.accountNumber,ifscCode:P.ifscCode,bankName:P.bankName,kycStatus:P.kycStatus,kycRemarks:P.kycRemarks,registerAmount:P.registerAmount,payId:P.payId,paidBy:P.paidBy,securityDeposit:P.securityDeposit,toolkitPrice:P.toolkitPrice,profileCompleted:P.profileCompleted},ht=await We.updatePartnerProfile(s,e,kt);ht.success?(_("Partner details updated successfully!"),setTimeout(()=>{window.location.reload()},1e3)):ht.errors&&Array.isArray(ht.errors)?se(ht.errors.join(", ")):se(ht.message||"Failed to update partner details")}catch(Oe){console.error("Update error:",Oe),Oe.errors&&Array.isArray(Oe.errors)?se(Oe.errors.join(", ")):se(Oe.message||"Failed to update partner details")}finally{Y(!1)}},className:"p-6 space-y-6",children:[z&&t.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg text-sm",children:z}),K&&t.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg text-sm",children:K}),t.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5"}),"Basic Information"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Full Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:P.name,onChange:J=>C(Oe=>({...Oe,name:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Email ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"email",value:P.email,onChange:J=>C(Oe=>({...Oe,email:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Phone Number ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"tel",value:P.phone,onChange:J=>C(Oe=>({...Oe,phone:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"WhatsApp Number"}),t.jsx("input",{type:"tel",value:P.whatsappNumber,onChange:J=>C(Oe=>({...Oe,whatsappNumber:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Qualification"}),t.jsx("input",{type:"text",value:P.qualification,onChange:J=>C(Oe=>({...Oe,qualification:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Experience (Years)"}),t.jsx("input",{type:"number",value:P.experience,onChange:J=>C(Oe=>({...Oe,experience:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",min:"0"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Partner Type ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:P.partnerType||"individual",onChange:J=>C(Oe=>({...Oe,partnerType:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,children:[t.jsx("option",{value:"individual",children:"Individual"}),t.jsx("option",{value:"franchise",children:"Franchise"})]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Address"}),t.jsx("textarea",{value:P.address,onChange:J=>C(Oe=>({...Oe,address:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",rows:2})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Landmark"}),t.jsx("input",{type:"text",value:P.landmark,onChange:J=>C(Oe=>({...Oe,landmark:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:P.pincode,onChange:J=>C(Oe=>({...Oe,pincode:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),t.jsx("input",{type:"text",value:P.city,onChange:J=>C(Oe=>({...Oe,city:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Number"}),t.jsx("input",{type:"text",value:P.gstNumber,onChange:J=>C(Oe=>({...Oe,gstNumber:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Referral Code"}),t.jsx("input",{type:"text",value:P.referralCode,onChange:J=>C(Oe=>({...Oe,referralCode:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]})]})]}),t.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(is,{className:"w-5 h-5"}),"Service Categories"]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Select Categories ",t.jsx("span",{className:"text-red-500",children:"*"})]}),O?t.jsx("div",{className:"text-sm text-slate-500 py-4",children:"Loading categories..."}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 max-h-48 overflow-y-auto p-3 border-2 border-slate-300 rounded-lg",children:I.map(J=>t.jsxs("label",{className:"flex items-center gap-2 p-2 rounded-lg border-2 cursor-pointer transition hover:bg-slate-50",style:{borderColor:P.categories.includes(J._id||J.id)?"#3b82f6":"#e2e8f0",backgroundColor:P.categories.includes(J._id||J.id)?"#eff6ff":"transparent"},children:[t.jsx("input",{type:"checkbox",checked:P.categories.includes(J._id||J.id),onChange:Oe=>{const kt=J._id||J.id;Oe.target.checked?C(ht=>({...ht,categories:[...ht.categories,kt]})):C(ht=>({...ht,categories:ht.categories.filter(Lt=>Lt!==kt)}))},className:"w-4 h-4 text-primary border-2 border-gray-300 rounded focus:ring-primary cursor-pointer"}),t.jsxs("span",{className:"text-sm font-medium text-slate-700 flex-1",children:[J.icon&&t.jsx("span",{className:"mr-1",children:J.icon}),J.name]})]},J._id||J.id))}),P.categories.length>0&&t.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[P.categories.length," categor",P.categories.length===1?"y":"ies"," selected"]})]})]}),((gt==null?void 0:gt.signature)||(gt==null?void 0:gt.accepted))&&Object.keys(gt).length>0&&t.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Gt,{className:"w-5 h-5"}),"Terms & Conditions"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2",children:"Terms Accepted"}),gt.accepted?t.jsxs("span",{className:"inline-flex items-center gap-2 text-emerald-600 font-semibold",children:[t.jsx(vt,{className:"w-5 h-5"}),"Accepted"]}):t.jsx("span",{className:"text-slate-400",children:"Not Accepted"})]}),gt.acceptedAt&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2",children:"Accepted On"}),t.jsx("p",{className:"text-base text-slate-900",children:new Date(gt.acceptedAt).toLocaleString("en-IN")})]}),gt.signature&&t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2",children:"Digital Signature"}),t.jsx("div",{className:"border-2 border-slate-200 rounded-lg p-4 bg-slate-50 inline-block",children:t.jsx("img",{src:gt.signature.startsWith("data:")||gt.signature.startsWith("http")?gt.signature:`/uploads/signatures/${gt.signature}`,alt:"Partner Signature",className:"max-w-md h-auto",onError:J=>{J.target.style.display="none"}})})]})]})]}),t.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(xs,{className:"w-5 h-5"}),"Bank Details"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Holder Name"}),t.jsx("input",{type:"text",value:P.accountHolderName,onChange:J=>C(Oe=>({...Oe,accountHolderName:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Number"}),t.jsx("input",{type:"text",value:P.accountNumber,onChange:J=>C(Oe=>({...Oe,accountNumber:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"IFSC Code"}),t.jsx("input",{type:"text",value:P.ifscCode,onChange:J=>C(Oe=>({...Oe,ifscCode:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Bank Name"}),t.jsx("input",{type:"text",value:P.bankName,onChange:J=>C(Oe=>({...Oe,bankName:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]})]})]}),t.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Gt,{className:"w-5 h-5"}),"KYC Status"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"KYC Status"}),t.jsxs("select",{value:P.kycStatus,onChange:J=>C(Oe=>({...Oe,kycStatus:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",children:[t.jsx("option",{value:"",children:"Select Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"approved",children:"Approved"}),t.jsx("option",{value:"rejected",children:"Rejected"})]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"KYC Remarks"}),t.jsx("textarea",{value:P.kycRemarks,onChange:J=>C(Oe=>({...Oe,kycRemarks:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",rows:3,placeholder:"Enter remarks or notes about KYC verification"})]})]})]}),t.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5"}),"Profile Status"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Profile Completion Status"}),t.jsxs("select",{value:P.profileCompleted?"completed":"incomplete",onChange:J=>C(Oe=>({...Oe,profileCompleted:J.target.value==="completed"})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",children:[t.jsx("option",{value:"incomplete",children:"INCOMPLETE"}),t.jsx("option",{value:"completed",children:"COMPLETED"})]})]}),t.jsx("div",{className:"flex items-end",children:t.jsxs("div",{className:`px-4 py-2 rounded-lg text-sm font-semibold ${P.profileCompleted?"bg-emerald-500/10 text-emerald-600":"bg-amber-500/10 text-amber-600"}`,children:["Current: ",P.profileCompleted?"COMPLETED":"INCOMPLETE"]})})]})]}),t.jsxs("div",{className:"pb-6",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Jt,{className:"w-5 h-5"}),"Payment Information"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Registration Amount"}),t.jsx("input",{type:"number",value:P.registerAmount,onChange:J=>C(Oe=>({...Oe,registerAmount:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",min:"0",step:"0.01"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Payment ID"}),t.jsx("input",{type:"text",value:P.payId,onChange:J=>C(Oe=>({...Oe,payId:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Paid By"}),t.jsx("input",{type:"text",value:P.paidBy,onChange:J=>C(Oe=>({...Oe,paidBy:J.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",placeholder:"e.g., UPI, Bank Transfer, Cash"})]})]}),t.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Payment Status"}),t.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${X!=null&&X.registerdFee&&(X!=null&&X.payId)?"bg-emerald-500/10 text-emerald-600":"bg-amber-500/10 text-amber-600"}`,children:X!=null&&X.registerdFee&&(X!=null&&X.payId)?"Verified":"Pending Verification"})]}),(!(X!=null&&X.registerdFee)||!(X!=null&&X.payId))&&t.jsxs("button",{type:"button",onClick:He,disabled:ce,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:[ce?t.jsx(rp,{className:"w-4 h-4 animate-spin"}):t.jsx(vt,{className:"w-4 h-4"}),ce?"Approving...":"Approve Payment"]})]}),(X==null?void 0:X.registerdFee)&&(X==null?void 0:X.payId)&&t.jsx("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-3",children:t.jsxs("div",{className:"flex items-center gap-2 text-emerald-700",children:[t.jsx(vt,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Payment has been verified and approved"})]})})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>{k(!1),se(""),_("")},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:Z||P.categories.length===0,className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:Z?"Updating...":"Update Partner"})]})]})]})}),M&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Update KYC Documents"}),t.jsx("button",{onClick:()=>{F(!1),V({panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null})},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:async J=>{var kt;if(J.preventDefault(),!Object.values(ae).some(ht=>ht!==null)){alert("Please select at least one document to upload");return}ye(!0);try{const ht=new FormData;ae.panCard&&ht.append("panCard",ae.panCard),ae.aadhaar&&ht.append("aadhaar",ae.aadhaar),ae.aadhaarback&&ht.append("aadhaarback",ae.aadhaarback),ae.drivingLicence&&ht.append("drivingLicence",ae.drivingLicence),ae.bill&&ht.append("bill",ae.bill),ae.chequeImage&&ht.append("chequeImage",ae.chequeImage),ht.append("id",e);const Lt=await fetch("http://localhost:9088/api/admin/updatedDocuments",{method:"PUT",headers:{Authorization:`Bearer ${s}`},body:ht}),rr=await Lt.json();if(rr.success===!0||Lt.ok){const zt=((kt=rr.uploadedFiles)==null?void 0:kt.length)||Object.values(ae).filter(Sr=>Sr!==null).length;alert(`KYC documents updated successfully! ${zt} file(s) uploaded.`),F(!1),V({panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null}),window.location.reload()}else alert(rr.message||rr.error||"Failed to update KYC documents")}catch(ht){console.error("KYC upload error:",ht),alert(ht.message||"Failed to update KYC documents")}finally{ye(!1)}},className:"p-6 space-y-6",children:[t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{key:"panCard",label:"PAN Card"},{key:"aadhaar",label:"Aadhaar (Front)"},{key:"aadhaarback",label:"Aadhaar (Back)"},{key:"drivingLicence",label:"Driving Licence"},{key:"bill",label:"Utility Bill"},{key:"chequeImage",label:"Cancelled Cheque"}].map(({key:J,label:Oe})=>t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:Oe}),t.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-4 text-center",children:[t.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:kt=>{kt.target.files[0]&&V(ht=>({...ht,[J]:kt.target.files[0]}))},className:"hidden",id:`kyc-${J}`}),t.jsxs("label",{htmlFor:`kyc-${J}`,className:"cursor-pointer flex flex-col items-center",children:[t.jsx(Wo,{className:"text-2xl text-slate-400 mb-2"}),ae[J]?t.jsxs("span",{className:"text-sm text-emerald-600",children:[" ",ae[J].name]}):t.jsx("span",{className:"text-sm text-slate-600",children:"Click to upload"})]})]})]},J))}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>{F(!1),V({panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null})},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:pe||!Object.values(ae).some(J=>J!==null),className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:pe?"Uploading...":"Update KYC Documents"})]})]})]})}),B&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Update Profile Image"}),t.jsx("button",{onClick:()=>{q(!1),te(null)},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:async J=>{if(J.preventDefault(),!G){alert("Please select an image");return}ye(!0);try{const Oe=new FormData;Oe.append("profileImage",G);const ht=await(await fetch(`http://localhost:9088/api/admin/updatePartnerProfile/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${s}`},body:Oe})).json();ht.success?(alert("Profile image updated successfully!"),q(!1),te(null),window.location.reload()):alert(ht.message||"Failed to update profile image")}catch(Oe){console.error("Profile image upload error:",Oe),alert(Oe.message||"Failed to update profile image")}finally{ye(!1)}},className:"space-y-4",children:[t.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:J=>te(J.target.files[0]),className:"hidden",id:"profile-image"}),t.jsxs("label",{htmlFor:"profile-image",className:"cursor-pointer flex flex-col items-center",children:[t.jsx(zf,{className:"text-4xl text-slate-400 mb-2"}),G?t.jsxs("div",{className:"mt-4",children:[t.jsx("img",{src:URL.createObjectURL(G),alt:"Preview",className:"w-32 h-32 rounded-full object-cover mx-auto"}),t.jsxs("p",{className:"text-sm text-emerald-600 mt-2",children:[" ",G.name]})]}):t.jsx("span",{className:"text-sm text-slate-600",children:"Click to upload profile image"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{q(!1),te(null)},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:pe||!G,className:"flex-1 px-4 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:pe?"Uploading...":"Update Image"})]})]})]})}),U&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Wallet Transactions"}),t.jsx("button",{onClick:()=>de(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"mb-4 p-4 bg-slate-50 rounded-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Current Balance"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",Ud.toLocaleString("en-IN")]})]}),t.jsxs("button",{onClick:()=>{de(!1),n(!0)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold",children:[t.jsx(Tr,{className:"w-4 h-4 inline mr-2"}),"Add Transaction"]})]})}),Wr?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading transactions..."})]}):Js?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg text-sm",children:["Error loading transactions: ",Js]}):t.jsx(Oa,{columns:W6e,data:Nz,emptyLabel:"No transactions found."})]})]})}),Ve&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Fee Transactions"}),t.jsx("button",{onClick:()=>Je(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("div",{className:"p-6",children:[(H==null?void 0:H.stats)&&t.jsxs("div",{className:"mb-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Amount"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",((R5=H.stats.totalAmount)==null?void 0:R5.toLocaleString("en-IN"))||0]})]}),t.jsxs("div",{className:"p-4 bg-emerald-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-emerald-600",children:"Successful"}),t.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:["",((B5=H.stats.successAmount)==null?void 0:B5.toLocaleString("en-IN"))||0]}),t.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:[H.stats.successCount||0," transactions"]})]}),t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Transactions"}),t.jsx("p",{className:"text-2xl font-bold text-slate-900",children:H.stats.totalCount||0})]}),t.jsxs("div",{className:"p-4 bg-rose-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-rose-600",children:"Failed"}),t.jsx("p",{className:"text-2xl font-bold text-rose-600",children:H.stats.failedCount||0})]})]}),ne?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading fee transactions..."})]}):Q?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg text-sm",children:["Error loading fee transactions: ",Q]}):(($5=H==null?void 0:H.data)==null?void 0:$5.length)===0?t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-slate-500",children:"No fee transactions found."})}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Date"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Fee Type"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Amount"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Description"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Transaction ID"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:(z5=H==null?void 0:H.data)==null?void 0:z5.map((J,Oe)=>{var kt,ht,Lt,rr,zt;return t.jsxs("tr",{className:"hover:bg-slate-50",children:[t.jsx("td",{className:"px-4 py-3 text-sm text-slate-700",children:new Date(J.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${J.feeType==="registration"?"bg-blue-500/10 text-blue-600":J.feeType==="mg_plan"?"bg-purple-500/10 text-purple-600":J.feeType==="security_deposit"?"bg-yellow-500/10 text-yellow-600":J.feeType==="toolkit"?"bg-green-500/10 text-green-600":"bg-slate-500/10 text-slate-600"}`,children:((kt=J.feeType)==null?void 0:kt.replace("_"," ").replace(/\b\w/g,Sr=>Sr.toUpperCase()))||"Other"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:["",((ht=J.amount)==null?void 0:ht.toLocaleString("en-IN"))||0]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${J.status==="success"?"bg-emerald-500/10 text-emerald-600":J.status==="failed"?"bg-rose-500/10 text-rose-600":J.status==="pending"?"bg-yellow-500/10 text-yellow-600":"bg-slate-500/10 text-slate-600"}`,children:((Lt=J.status)==null?void 0:Lt.charAt(0).toUpperCase())+((rr=J.status)==null?void 0:rr.slice(1))||"Unknown"})}),t.jsx("td",{className:"px-4 py-3 text-sm text-slate-700 max-w-xs",children:t.jsxs("div",{children:[t.jsx("p",{className:"truncate",children:J.description||"N/A"}),((zt=J.metadata)==null?void 0:zt.priceBreakdown)&&t.jsxs("details",{className:"mt-1",children:[t.jsx("summary",{className:"text-xs text-primary cursor-pointer hover:underline",children:"View Payment Breakdown"}),t.jsxs("div",{className:"mt-1 text-xs text-slate-500 space-y-0.5 pl-2 bg-slate-50 p-2 rounded",children:[J.metadata.priceBreakdown.registrationFee>0&&t.jsxs("p",{children:["Registration Fee: ",J.metadata.priceBreakdown.registrationFee.toLocaleString("en-IN")]}),J.metadata.priceBreakdown.securityDeposit>0&&t.jsxs("p",{children:["Security Deposit: ",J.metadata.priceBreakdown.securityDeposit.toLocaleString("en-IN")]}),J.metadata.priceBreakdown.toolkitPrice>0&&t.jsxs("p",{children:["Toolkit: ",J.metadata.priceBreakdown.toolkitPrice.toLocaleString("en-IN")]}),J.metadata.priceBreakdown.totalAmount>0&&t.jsxs("p",{className:"font-semibold text-slate-700 border-t border-slate-200 pt-1 mt-1",children:["Total Paid: ",J.metadata.priceBreakdown.totalAmount.toLocaleString("en-IN")]})]})]})]})}),t.jsx("td",{className:"px-4 py-3 text-xs text-slate-500 font-mono",children:J.transactionId||"N/A"})]},J._id||Oe)})})]})})]})]})}),he&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:Ft!=null&&Ft.name?"Change MG Plan":"Assign MG Plan"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select a plan and provide payment details"})]}),t.jsx("button",{onClick:()=>{Qe(!1),we(null),fe("cash"),ve(""),Ke("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})})]}),(Ft==null?void 0:Ft.name)&&t.jsxs("div",{className:"mb-6 space-y-4",children:[t.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(gn,{className:"w-5 h-5 text-purple-600"}),t.jsx("h3",{className:"font-semibold text-purple-900",children:"Current Plan"})]}),!(Ct!=null&&Ct.paymentMethod)&&t.jsxs("button",{type:"button",onClick:()=>ke(!dt),className:"text-xs px-3 py-1.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-semibold flex items-center gap-1",children:[t.jsx(Cs,{className:"w-3 h-3"}),dt?"Cancel":"Add Payment Details"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm mb-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Plan Name"}),t.jsx("p",{className:"font-semibold text-slate-900",children:Ft.name})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Leads"}),t.jsx("p",{className:"font-semibold text-slate-900",children:Ft.leads||0})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Commission"}),t.jsxs("p",{className:"font-semibold text-slate-900",children:[Ft.commission||0,"%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Price"}),t.jsxs("p",{className:"font-semibold text-slate-900",children:["",((U5=Ft.price)==null?void 0:U5.toLocaleString("en-IN"))||0]})]}),(Ct==null?void 0:Ct.paymentMethod)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Payment Method"}),t.jsx("p",{className:"font-semibold text-slate-900 capitalize",children:Ct.paymentMethod})]}),Ct.paymentMethod==="cash"&&Ct.collectedBy&&t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Collected By"}),t.jsx("p",{className:"font-semibold text-slate-900",children:Ct.collectedBy})]}),(Ct.paymentMethod==="online"||Ct.paymentMethod==="upi")&&Ct.transactionId&&t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Transaction ID"}),t.jsx("p",{className:"font-semibold text-slate-900 font-mono text-xs",children:Ct.transactionId})]})]})]}),!(Ct!=null&&Ct.paymentMethod)&&dt&&t.jsxs("div",{className:"border-t border-purple-200 pt-4 space-y-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-purple-900",children:"Add Payment Details"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Payment Method *"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:["cash","online","upi"].map(J=>t.jsx("button",{type:"button",onClick:()=>{Tt(J),be(""),ie("")},className:`px-3 py-2 rounded-lg font-semibold text-xs transition ${Re===J?"bg-purple-600 text-white":"bg-white text-slate-700 hover:bg-slate-100 border border-slate-200"}`,children:J.toUpperCase()},J))})]}),Re==="cash"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Collected By *"}),t.jsx("input",{type:"text",value:Rt,onChange:J=>be(J.target.value),placeholder:"Enter name of person who collected payment",className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent"})]}),(Re==="online"||Re==="upi")&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Transaction ID *"}),t.jsx("input",{type:"text",value:T,onChange:J=>ie(J.target.value),placeholder:"Enter transaction ID",className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent font-mono"})]}),t.jsx("button",{type:"button",onClick:Ee,disabled:Te,className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm",children:Te?t.jsxs(t.Fragment,{children:[t.jsx(rp,{className:"w-4 h-4 animate-spin"}),"Updating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Sl,{className:"w-4 h-4"}),"Update Payment Details"]})})]})]}),!(Ct!=null&&Ct.paymentMethod)&&!dt&&t.jsx("div",{className:"p-4 bg-amber-50 border-2 border-amber-300 rounded-xl",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Jn,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold text-amber-900 mb-1",children:"Payment Details Missing"}),t.jsx("p",{className:"text-sm text-amber-700 mb-2",children:`This MG plan doesn't have payment details recorded. Click "Add Payment Details" above to add them now.`}),t.jsx("p",{className:"text-xs text-amber-600 italic",children:"Note: When you change the plan below, you'll be required to provide payment details for the new plan."})]})]})})]}),t.jsxs("form",{onSubmit:J=>{J.preventDefault(),Ze()},className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Select MG Plan *"}),W.length===0?t.jsx("div",{className:"text-center py-8 bg-slate-50 rounded-xl",children:t.jsx("p",{className:"text-slate-500",children:"No MG plans available for this partner type"})}):t.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[t.jsx("div",{className:`border-2 rounded-xl p-4 transition-all cursor-pointer ${Se==="no-plan"?"border-red-600 bg-red-50":"border-slate-200 hover:border-red-300 bg-white"}`,onClick:()=>we("no-plan"),children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("input",{type:"radio",checked:Se==="no-plan",onChange:()=>we("no-plan"),className:"mt-1 w-4 h-4 text-red-600 border-slate-300 focus:ring-red-600",onClick:J=>J.stopPropagation()}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-semibold text-slate-800",children:"No Plan"}),t.jsx("span",{className:"text-lg font-bold text-red-600",children:"0"})]}),t.jsx("p",{className:"text-sm text-slate-600",children:"Remove current MG plan assignment. Partner will operate without an MG plan."}),(Ft==null?void 0:Ft.name)&&t.jsx("div",{className:"mt-2 p-2 bg-amber-50 border border-amber-200 rounded-lg",children:t.jsxs("p",{className:"text-xs text-amber-700",children:[t.jsx("strong",{children:"Warning:"}),' This will remove the current "',Ft.name,'" plan and all associated benefits.']})})]})]})}),W.map(J=>{var kt;const Oe=Se===J._id;return t.jsx("div",{className:`border-2 rounded-xl p-4 transition-all cursor-pointer ${Oe?"border-purple-600 bg-purple-50":"border-slate-200 hover:border-purple-300 bg-white"}`,onClick:()=>we(J._id),children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("input",{type:"radio",checked:Oe,onChange:()=>we(J._id),className:"mt-1 w-4 h-4 text-purple-600 border-slate-300 focus:ring-purple-600",onClick:ht=>ht.stopPropagation()}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-semibold text-slate-800",children:J.name}),t.jsxs("span",{className:"text-lg font-bold text-purple-600",children:["",((kt=J.price)==null?void 0:kt.toLocaleString("en-IN"))||0]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Leads"}),t.jsx("p",{className:"font-semibold text-slate-700",children:J.leads||0})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Commission"}),t.jsxs("p",{className:"font-semibold text-slate-700",children:[J.commission||0,"%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Duration"}),t.jsxs("p",{className:"font-semibold text-slate-700",children:[J.duration||0," days"]})]})]}),J.description&&t.jsx("p",{className:"text-xs text-slate-500 mt-2",children:J.description})]})]})},J._id)})]})]}),Se&&Se!=="no-plan"&&t.jsxs("div",{className:"border-t border-slate-200 pt-6 space-y-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Payment Details"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Payment Method *"}),t.jsx("div",{className:"grid grid-cols-3 gap-3",children:["cash","online","upi"].map(J=>t.jsx("button",{type:"button",onClick:()=>{fe(J),ve(""),Ke("")},className:`px-4 py-2 rounded-lg font-semibold text-sm transition ${ee===J?"bg-purple-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:J.toUpperCase()},J))})]}),ee==="cash"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Collected By *"}),t.jsx("input",{type:"text",value:xe,onChange:J=>ve(J.target.value),placeholder:"Enter name of person who collected payment",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent",required:!0})]}),(ee==="online"||ee==="upi")&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Transaction ID *"}),t.jsx("input",{type:"text",value:Ne,onChange:J=>Ke(J.target.value),placeholder:"Enter transaction ID",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent font-mono",required:!0})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>{Qe(!1),we(null),fe("cash"),ve(""),Ke("")},className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:L||!Se||W.length===0,className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:L?t.jsxs(t.Fragment,{children:[t.jsx(rp,{className:"w-4 h-4 animate-spin"}),Se==="no-plan"?"Removing...":"Assigning..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Sl,{className:"w-4 h-4"}),Se==="no-plan"?"Remove Plan":Ft!=null&&Ft.name?"Change Plan":"Assign Plan"]})})]})]})]})}),f&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Assign Service Hubs"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select hubs to assign to this partner"})]}),t.jsx("button",{onClick:()=>{b(!1)},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:st,className:"space-y-4",children:[Tx.length===0?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-slate-500",children:"No hubs available. Create hubs in Hub Management first."})}):t.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:Tx.map(J=>{var Lt,rr,zt,Sr;const Oe=y.includes((Lt=J._id)==null?void 0:Lt.toString()),kt=((rr=J.areas)==null?void 0:rr.reduce((Qt,zs)=>[...Qt,...zs.pinCodes||[]],[]))||[],ht=[...new Set(kt)];return t.jsx("div",{className:`border-2 rounded-xl p-4 transition-all cursor-pointer ${Oe?"border-primary bg-primary/5":"border-slate-200 hover:border-primary/50 bg-white"}`,onClick:()=>yt(J._id),children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("input",{type:"checkbox",checked:Oe,onChange:()=>yt(J._id),className:"mt-1 w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary",onClick:Qt=>Qt.stopPropagation()}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(Pr,{className:"text-primary"}),t.jsx("h4",{className:"font-semibold text-slate-800",children:J.name})]}),(J.city||J.state)&&t.jsx("p",{className:"text-xs text-slate-500 ml-6",children:[J.city,J.state].filter(Boolean).join(", ")}),t.jsxs("p",{className:"text-xs text-slate-500 ml-6 mt-1",children:[((zt=J.areas)==null?void 0:zt.length)||0," area",((Sr=J.areas)==null?void 0:Sr.length)===1?"":"s","  ",ht.length," pin code",ht.length===1?"":"s"]}),J.areas&&J.areas.length>0&&t.jsxs("div",{className:"mt-2 ml-6 space-y-1",children:[J.areas.slice(0,2).map(Qt=>{var zs;return t.jsxs("div",{className:"text-xs text-slate-600",children:[" ",Qt.areaName," (",((zs=Qt.pinCodes)==null?void 0:zs.length)||0," pins)"]},Qt._id)}),J.areas.length>2&&t.jsxs("div",{className:"text-xs text-slate-500",children:["+ ",J.areas.length-2," more area",J.areas.length-2===1?"":"s"]})]})]})]})},J._id)})}),t.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-200",children:[t.jsxs("p",{className:"text-sm text-slate-600",children:[y.length," hub",y.length===1?"":"s"," selected"]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:()=>{b(!1)},className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:j||Tx.length===0,className:"px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Updating...":"Update Hubs"})]})]})]})]})}),Ge&&at&&t.jsx(xz,{profile:{id:at._id,name:(Xe==null?void 0:Xe.name)||((H5=at.profile)==null?void 0:H5.name)||"N/A",email:(Xe==null?void 0:Xe.email)||((V5=at.profile)==null?void 0:V5.email)||"N/A",phone:at.phone||"N/A",city:(Xe==null?void 0:Xe.city)||((W5=at.profile)==null?void 0:W5.city)||"N/A",profilePicture:(Xe==null?void 0:Xe.profileImage)||at.profilePicture||null,kyc:{status:($e==null?void 0:$e.status)||"pending"}},partner:at,onClose:()=>me(!1)})]})},q6e=()=>{const{token:e}=wr(),r=Zt(),[s,a]=g.useState(!1),[n,i]=g.useState(null),[l,o]=g.useState(!1),[d,c]=g.useState([]),[u,m]=g.useState([]),[x,h]=g.useState([]),[p,f]=g.useState(null),[b,j]=g.useState(!0),w=g.useRef(null),[y,v]=g.useState(!1),[N,S]=g.useState({phone:"",whatsappNumber:"",name:"",email:"",qualification:"",experience:"",partnerType:"individual",address:"",landmark:"",pincode:"",city:"",category:[],categoryNames:[],modeOfService:"both",selectedHubs:[],selectedPlan:null,selectedPlanId:null,profilePicture:null,profilePicturePreview:null,kycDocuments:{panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null},bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""},registerAmount:0,securityDeposit:0,toolkitPrice:0,paymentApproved:!1,registerdFee:!1,paidBy:"Admin",terms:{accepted:!1,signature:null},agentName:"",gstNumber:"",referralCode:"",profileStatus:"active"});g.useEffect(()=>{(async()=>{var _;if(!e){console.log("No token available"),j(!1);return}j(!0);try{console.log("Fetching categories, hubs, fees, and MG plans...");try{const M=await We.fetchCategories(e);console.log("Categories response:",M);const F=M.categories||M.data||[];c(F),console.log("Categories set:",F.length)}catch(M){console.error("Error fetching categories:",M),i("Failed to load categories. Please refresh the page.")}try{const M=await We.fetchHubs(e);console.log("Hubs response:",M);const F=M.hubs||M.data||[];m(F),console.log("Hubs set:",F.length)}catch(M){console.error("Error fetching hubs:",M),i("Failed to load hubs. Please refresh the page.")}try{const M=await We.fetchFees(e);console.log("Fees response:",M),f(M.data||M);const F=((_=M.data)==null?void 0:_.individual)||M.individual||M.data||M;S(B=>({...B,registerAmount:F.registrationFee||0,securityDeposit:F.securityDeposit||0,toolkitPrice:F.toolkitPrice||0}))}catch(M){console.error("Error fetching fees:",M)}}catch(M){console.error("Error in fetchData:",M),i("Failed to load data. Please refresh the page.")}finally{j(!1)}})()},[e]),g.useEffect(()=>{if(p&&N.partnerType){const K=p[N.partnerType]||p;S(_=>({..._,registerAmount:K.registrationFee||0,securityDeposit:K.securityDeposit||0,toolkitPrice:K.toolkitPrice||0,selectedPlanId:null,selectedPlan:null}))}},[N.partnerType,p]),g.useEffect(()=>{const K=async()=>{if(e)try{console.log("Fetching MG plans for partner type:",N.partnerType);const _=await We.fetchMGPlans(e);console.log("MG Plans response:",_);const F=(_.plans||_.data||[]).filter(B=>!B.partnerType||B.partnerType==="both"?!0:B.partnerType===N.partnerType);console.log("Filtered MG Plans:",F.length,"for type:",N.partnerType),h(F)}catch(_){console.error("Error fetching MG plans:",_),h([])}};N.partnerType&&K()},[N.partnerType,e]);const k=K=>{const{name:_,value:M,type:F,checked:B}=K.target;S(q=>({...q,[_]:F==="checkbox"?B:M}))},P=K=>{const{name:_,value:M}=K.target;S(F=>({...F,bankDetails:{...F.bankDetails,[_]:M}}))},C=K=>{S(_=>{const F=_.category.includes(K)?_.category.filter(ae=>ae!==K):[..._.category,K],q=d.filter(ae=>F.includes(ae._id)).map(ae=>ae.name);return{..._,category:F,categoryNames:q}})},I=K=>{S(_=>{var B;const M=_.selectedHubs.some(q=>q.hubId===K),F=u.find(q=>q._id===K);return M?{..._,selectedHubs:_.selectedHubs.filter(q=>q.hubId!==K)}:{..._,selectedHubs:[..._.selectedHubs,{hubId:F._id,name:F.name,pinCodes:((B=F.areas)==null?void 0:B.flatMap(q=>q.pinCodes||[]))||[]}]}})},A=(K,_)=>{_&&S(M=>({...M,kycDocuments:{...M.kycDocuments,[K]:_}}))},O=K=>{if(!K)return;const _=new FileReader;_.onloadend=()=>{S(M=>({...M,profilePicture:K,profilePicturePreview:_.result}))},_.readAsDataURL(K)},R=K=>{S(_=>({..._,kycDocuments:{..._.kycDocuments,[K]:null}}))},Z=()=>{S(K=>({...K,profilePicture:null,profilePicturePreview:null}))},Y=K=>{const _=w.current;if(!_)return;const M=_.getBoundingClientRect(),F=K.clientX-M.left,B=K.clientY-M.top,q=_.getContext("2d");q.beginPath(),q.moveTo(F,B),v(!0)},ce=K=>{if(!y)return;const _=w.current;if(!_)return;const M=_.getBoundingClientRect(),F=K.clientX-M.left,B=K.clientY-M.top,q=_.getContext("2d");q.lineTo(F,B),q.stroke()},D=()=>{if(y){const K=w.current;if(K){const _=K.toDataURL("image/png");S(M=>({...M,terms:{...M.terms,signature:_}}))}}v(!1)},z=()=>{const K=w.current;if(!K)return;K.getContext("2d").clearRect(0,0,K.width,K.height),S(M=>({...M,terms:{...M.terms,signature:null}}))},se=async K=>{K.preventDefault(),a(!0),i(null),o(!1);try{const _=new FormData;_.append("phone",N.phone),_.append("whatsappNumber",N.whatsappNumber||N.phone),_.append("name",N.name),_.append("email",N.email),_.append("qualification",N.qualification),_.append("experience",N.experience),_.append("partnerType",N.partnerType),_.append("address",N.address),_.append("landmark",N.landmark),_.append("pincode",N.pincode),_.append("city",N.city),_.append("modeOfService",N.modeOfService),_.append("agentName",N.agentName),_.append("gstNumber",N.gstNumber),_.append("referralCode",N.referralCode),_.append("profileStatus",N.profileStatus),_.append("category",JSON.stringify(N.category)),_.append("categoryNames",JSON.stringify(N.categoryNames)),console.log("Selected Hubs being sent:",N.selectedHubs),_.append("selectedHubs",JSON.stringify(N.selectedHubs)),_.append("bankDetails",JSON.stringify(N.bankDetails)),_.append("registerAmount",N.registerAmount),_.append("securityDeposit",N.securityDeposit),_.append("toolkitPrice",N.toolkitPrice),_.append("paymentApproved",N.paymentApproved),_.append("registerdFee",N.registerdFee),_.append("paidBy",N.paidBy),_.append("termsAccepted",N.terms.accepted),N.terms.signature&&_.append("signature",N.terms.signature),N.selectedPlanId&&(_.append("selectedPlanId",N.selectedPlanId),_.append("selectedPlan",N.selectedPlan)),N.profilePicture&&_.append("profilePicture",N.profilePicture),Object.keys(N.kycDocuments).forEach(ae=>{N.kycDocuments[ae]&&_.append(ae,N.kycDocuments[ae])}),console.log("Submitting partner registration...");const M="http://localhost:9088";console.log("API URL:",M);const F=await fetch(`${M}/api/admin/partners/manual-register`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:_});console.log("Response status:",F.status),console.log("Response headers:",F.headers.get("content-type"));const B=F.headers.get("content-type");if(!B||!B.includes("application/json")){const ae=await F.text();throw console.error("Non-JSON response:",ae),new Error("Server returned invalid response. Please check server logs.")}const q=await F.json();if(console.log("Response data:",q),!F.ok)throw new Error(q.message||"Failed to register partner");o(!0),setTimeout(()=>{r(`/admin/partners/${q.partner._id}`)},2e3)}catch(_){i(_.message)}finally{a(!1)}};return t.jsxs("div",{children:[t.jsx(ys,{title:"Manual Partner Registration",subtitle:"Register a new partner with complete details manually"}),t.jsxs("div",{className:"max-w-5xl mx-auto",children:[t.jsxs("button",{onClick:()=>r("/admin/partners"),className:"mb-6 flex items-center gap-2 text-slate-600 hover:text-primary transition",children:[t.jsx(J0,{className:"w-4 h-4"}),"Back to Partners"]}),l&&t.jsxs("div",{className:"mb-6 bg-emerald-50 border border-emerald-200 rounded-xl p-4 flex items-center gap-3",children:[t.jsx(vt,{className:"w-5 h-5 text-emerald-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-emerald-800 font-semibold",children:"Partner registered successfully!"}),t.jsx("p",{className:"text-emerald-600 text-sm",children:"Redirecting to partner details..."})]})]}),n&&t.jsxs("div",{className:"mb-6 bg-rose-50 border border-rose-200 rounded-xl p-4 flex items-center gap-3",children:[t.jsx(Jn,{className:"w-5 h-5 text-rose-600"}),t.jsx("p",{className:"text-rose-800",children:n})]}),t.jsxs("form",{onSubmit:se,className:"space-y-6",children:[t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(vr,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Phone Number ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"tel",name:"phone",value:N.phone,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"10-digit mobile number"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"WhatsApp Number"}),t.jsx("input",{type:"tel",name:"whatsappNumber",value:N.whatsappNumber,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"WhatsApp number"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Full Name ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",name:"name",value:N.name,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Partner's full name"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Email ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"email",name:"email",value:N.email,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"email@example.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Qualification"}),t.jsx("input",{type:"text",name:"qualification",value:N.qualification,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Educational qualification"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Experience"}),t.jsx("input",{type:"text",name:"experience",value:N.experience,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Years of experience"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Partner Type ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsxs("select",{name:"partnerType",value:N.partnerType,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"individual",children:"Individual"}),t.jsx("option",{value:"franchise",children:"Franchise"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Agent Name"}),t.jsx("input",{type:"text",name:"agentName",value:N.agentName,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Referring agent name"})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Pr,{className:"w-5 h-5 text-primary"}),"Address Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Address ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("textarea",{name:"address",value:N.address,onChange:k,required:!0,rows:"2",className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Complete address"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Landmark ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",name:"landmark",value:N.landmark,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Nearby landmark"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Pincode ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",name:"pincode",value:N.pincode,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"6-digit pincode"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["City ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",name:"city",value:N.city,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"City name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"GST Number"}),t.jsx("input",{type:"text",name:"gstNumber",value:N.gstNumber,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"GST number (if applicable)"})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Gt,{className:"w-5 h-5 text-primary"}),"Service Information"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Service Categories ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),b?t.jsxs("div",{className:"flex items-center justify-center p-8 border border-slate-200 rounded-lg",children:[t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),t.jsx("span",{className:"ml-3 text-slate-600",children:"Loading categories..."})]}):d.length===0?t.jsx("div",{className:"p-4 border border-amber-200 bg-amber-50 rounded-lg text-amber-800 text-sm",children:"No categories available. Please add categories first."}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:d.map(K=>t.jsxs("label",{className:"flex items-center gap-2 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:N.category.includes(K._id),onChange:()=>C(K._id),className:"w-4 h-4 text-primary focus:ring-primary"}),t.jsx("span",{className:"text-sm text-slate-700",children:K.name})]},K._id))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Mode of Service ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsxs("select",{name:"modeOfService",value:N.modeOfService,onChange:k,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"online",children:"Online"}),t.jsx("option",{value:"offline",children:"Offline"}),t.jsx("option",{value:"both",children:"Both"})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(c0,{className:"w-5 h-5 text-primary"}),"Profile Picture"]}),t.jsxs("div",{className:"flex items-center gap-6",children:[N.profilePicturePreview?t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:N.profilePicturePreview,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-primary"}),t.jsx("button",{type:"button",onClick:Z,className:"absolute -top-2 -right-2 bg-rose-500 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-rose-600 transition",children:t.jsx(xt,{className:"w-4 h-4"})})]}):t.jsx("div",{className:"w-32 h-32 rounded-full bg-slate-100 flex items-center justify-center border-2 border-dashed border-slate-300",children:t.jsx(c0,{className:"w-8 h-8 text-slate-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:[t.jsx(Wo,{className:"w-4 h-4"}),"Upload Photo",t.jsx("input",{type:"file",accept:"image/*",onChange:K=>O(K.target.files[0]),className:"hidden"})]}),t.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Recommended: Square image, at least 400x400px"})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Pr,{className:"w-5 h-5 text-primary"}),"Service Hubs"]}),t.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Select the service hubs where this partner will operate"}),b?t.jsxs("div",{className:"flex items-center justify-center p-8 border border-slate-200 rounded-lg",children:[t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),t.jsx("span",{className:"ml-3 text-slate-600",children:"Loading hubs..."})]}):u.length===0?t.jsx("div",{className:"p-4 border border-amber-200 bg-amber-50 rounded-lg text-amber-800 text-sm",children:"No hubs available. Please create hubs first in Hub Management."}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:u.map(K=>{var F;const _=N.selectedHubs.some(B=>B.hubId===K._id),M=((F=K.areas)==null?void 0:F.reduce((B,q)=>{var ae;return B+(((ae=q.pinCodes)==null?void 0:ae.length)||0)},0))||0;return t.jsxs("label",{className:`flex items-start gap-3 p-4 border-2 rounded-lg cursor-pointer transition ${_?"border-primary bg-primary/5":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:[t.jsx("input",{type:"checkbox",checked:_,onChange:()=>I(K._id),className:"w-5 h-5 text-primary focus:ring-primary mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-semibold text-slate-900",children:K.name}),t.jsx("div",{className:"text-sm text-slate-600",children:K.city||"N/A"}),t.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[M," pin codes"]})]})]},K._id)})}),N.selectedHubs.length>0&&t.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Selected Hubs: ",N.selectedHubs.length]}),t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:N.selectedHubs.map(K=>t.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:K.name},K.hubId))})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(Gt,{className:"w-5 h-5 text-primary"}),"KYC Documents"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"panCard",label:"PAN Card"},{key:"aadhaar",label:"Aadhaar Front"},{key:"aadhaarback",label:"Aadhaar Back"},{key:"drivingLicence",label:"Driving Licence"},{key:"bill",label:"Utility Bill"},{key:"chequeImage",label:"Cancelled Cheque"}].map(({key:K,label:_})=>t.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:_}),N.kycDocuments[K]?t.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"text-sm text-green-800",children:N.kycDocuments[K].name})]}),t.jsx("button",{type:"button",onClick:()=>R(K),className:"text-rose-600 hover:text-rose-700",children:t.jsx(xt,{className:"w-4 h-4"})})]}):t.jsxs("label",{className:"cursor-pointer flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-slate-300 rounded-lg hover:border-primary hover:bg-slate-50 transition",children:[t.jsx(Wo,{className:"w-4 h-4 text-slate-400"}),t.jsxs("span",{className:"text-sm text-slate-600",children:["Upload ",_]}),t.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:M=>A(K,M.target.files[0]),className:"hidden"})]})]},K))})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(xs,{className:"w-5 h-5 text-primary"}),"Bank Details"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Account Number"}),t.jsx("input",{type:"text",name:"accountNumber",value:N.bankDetails.accountNumber,onChange:P,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Bank account number"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"IFSC Code"}),t.jsx("input",{type:"text",name:"ifscCode",value:N.bankDetails.ifscCode,onChange:P,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"IFSC code"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Account Holder Name"}),t.jsx("input",{type:"text",name:"accountHolderName",value:N.bankDetails.accountHolderName,onChange:P,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"As per bank records"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bank Name"}),t.jsx("input",{type:"text",name:"bankName",value:N.bankDetails.bankName,onChange:P,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Bank name"})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(ZN,{className:"w-5 h-5 text-primary"}),"Terms & Conditions"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"flex items-start gap-3",children:[t.jsx("input",{type:"checkbox",checked:N.terms.accepted,onChange:K=>S(_=>({..._,terms:{..._.terms,accepted:K.target.checked}})),className:"w-5 h-5 text-primary focus:ring-primary mt-0.5"}),t.jsx("span",{className:"text-sm text-slate-700",children:"I confirm that the partner has accepted all terms and conditions"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Partner Signature"}),t.jsx("div",{className:"border-2 border-slate-300 rounded-lg overflow-hidden",children:t.jsx("canvas",{ref:w,width:600,height:200,onMouseDown:Y,onMouseMove:ce,onMouseUp:D,onMouseLeave:D,className:"w-full cursor-crosshair bg-white",style:{touchAction:"none"}})}),t.jsxs("div",{className:"flex items-center justify-between mt-2",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Draw signature above"}),t.jsx("button",{type:"button",onClick:z,className:"text-sm text-rose-600 hover:text-rose-700 font-medium",children:"Clear Signature"})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(vt,{className:"w-5 h-5 text-primary"}),"MG Plan Selection (Optional)"]}),t.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Select an MG plan for the partner (can be done later)"}),t.jsx("div",{className:"mb-4 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("p",{className:"text-xs text-blue-800",children:["Showing plans for: ",t.jsx("strong",{className:"capitalize",children:N.partnerType})," partners"]})}),b?t.jsxs("div",{className:"flex items-center justify-center p-8 border border-slate-200 rounded-lg",children:[t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),t.jsx("span",{className:"ml-3 text-slate-600",children:"Loading MG plans..."})]}):x.length===0?t.jsx("div",{className:"p-4 border border-slate-200 bg-slate-50 rounded-lg text-slate-600 text-sm",children:"No MG plans available. Partner can select a plan later."}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:x.map(K=>t.jsxs("label",{className:`relative p-4 border-2 rounded-lg cursor-pointer transition ${N.selectedPlanId===K._id?"border-primary bg-primary/5":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:[t.jsx("input",{type:"radio",name:"selectedPlanId",value:K._id,checked:N.selectedPlanId===K._id,onChange:_=>S(M=>({...M,selectedPlanId:_.target.value,selectedPlan:K.name})),className:"absolute top-4 right-4 w-4 h-4 text-primary focus:ring-primary"}),t.jsxs("div",{className:"pr-8",children:[t.jsx("div",{className:"text-lg font-bold text-slate-900",children:K.name}),t.jsxs("div",{className:"text-2xl font-bold text-primary mt-2",children:["",K.price]}),t.jsxs("div",{className:"text-sm text-slate-600 mt-2 space-y-1",children:[t.jsxs("div",{children:[" ",K.leads," leads/month"]}),t.jsxs("div",{children:[" ",K.commission,"% commission"]}),t.jsxs("div",{children:[" ",K.leadFee," per lead"]})]})]})]},K._id))})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(xs,{className:"w-5 h-5 text-primary"}),"Payment Information"]}),t.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("p",{className:"text-sm text-blue-800",children:[t.jsx("strong",{children:"Note:"})," Fees are automatically set based on partner type (",N.partnerType,"). You can override them if needed."]})}),(()=>{const K=Number(N.registerAmount)||0,_=Number(N.securityDeposit)||0,M=Number(N.toolkitPrice)||0,F=x.find(ae=>ae._id===N.selectedPlanId),B=F?Number(F.price):0,q=K+_+M+B;return q>0?t.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-primary/20 rounded-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Total Amount Breakdown:"}),t.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",q.toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[K>0&&t.jsxs("div",{className:"flex justify-between text-slate-600",children:[t.jsx("span",{children:"Registration Fee:"}),t.jsxs("span",{className:"font-semibold",children:["",K.toLocaleString("en-IN")]})]}),_>0&&t.jsxs("div",{className:"flex justify-between text-slate-600",children:[t.jsx("span",{children:"Security Deposit:"}),t.jsxs("span",{className:"font-semibold",children:["",_.toLocaleString("en-IN")]})]}),M>0&&t.jsxs("div",{className:"flex justify-between text-slate-600",children:[t.jsx("span",{children:"Toolkit Price:"}),t.jsxs("span",{className:"font-semibold",children:["",M.toLocaleString("en-IN")]})]}),B>0&&t.jsxs("div",{className:"flex justify-between text-primary font-semibold",children:[t.jsxs("span",{children:["MG Plan (",F.name,"):"]}),t.jsxs("span",{children:["",B.toLocaleString("en-IN")]})]})]})]}):null})(),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Registration Amount () ",t.jsx("span",{className:"text-xs text-slate-500",children:"(Auto-fetched)"})]}),t.jsx("input",{type:"number",name:"registerAmount",value:N.registerAmount,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-slate-50",placeholder:"0"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Security Deposit () ",t.jsx("span",{className:"text-xs text-slate-500",children:"(Auto-fetched)"})]}),t.jsx("input",{type:"number",name:"securityDeposit",value:N.securityDeposit,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-slate-50",placeholder:"0"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Toolkit Price () ",t.jsx("span",{className:"text-xs text-slate-500",children:"(Auto-fetched)"})]}),t.jsx("input",{type:"number",name:"toolkitPrice",value:N.toolkitPrice,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-slate-50",placeholder:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Paid By"}),t.jsx("input",{type:"text",name:"paidBy",value:N.paidBy,onChange:k,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Admin/Self/Agent"})]}),t.jsx("div",{className:"md:col-span-2",children:t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",name:"registerdFee",checked:N.registerdFee,onChange:k,className:"w-4 h-4 text-primary focus:ring-primary"}),t.jsx("span",{className:"text-sm text-slate-700",children:"Registration Fee Paid"})]}),t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",name:"paymentApproved",checked:N.paymentApproved,onChange:k,className:"w-4 h-4 text-primary focus:ring-primary"}),t.jsx("span",{className:"text-sm text-slate-700",children:"Payment Approved"})]})]})})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-4",children:[t.jsx("button",{type:"button",onClick:()=>r("/admin/partners"),className:"px-6 py-3 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:s,className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:s?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Registering..."]}):t.jsxs(t.Fragment,{children:[t.jsx(vt,{className:"w-4 h-4"}),"Register Partner"]})})]})]})]})]})},K6e=[{header:"Name",accessor:"name"},{header:"Email",accessor:"email"},{header:"Phone",accessor:"phone"},{header:"Company",accessor:"companyName"},{header:"Spare Parts",accessor:"sparePartsCount"},{header:"Bookings",accessor:"bookingsCount"},{header:"Revenue",accessor:"revenue"},{header:"Status",accessor:"status"},{header:"Actions",accessor:"actions"}],Y6e=()=>{var se,K,_,M,F,B,q,ae,V;const e=Zt(),{token:r}=wr(),[s,a]=g.useState([]),[n,i]=g.useState(!0),[l,o]=g.useState(null),[d,c]=g.useState(""),[u,m]=g.useState("all"),[x,h]=g.useState(1),[p,f]=g.useState(1),[b,j]=g.useState(!1),[w,y]=g.useState(!1),[v,N]=g.useState(null),[S,k]=g.useState({name:"",email:"",phone:"",password:"",companyName:"",address:{street:"",city:"",state:"",pincode:"",country:"India"},gstNumber:"",panNumber:"",bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}}),[P,C]=g.useState(!1);g.useEffect(()=>{I()},[r,x,u,d]);const I=async()=>{if(r){i(!0),o(null);try{const G=await We.fetchVendors(r,{page:x,limit:10,search:d,status:u!=="all"?u:""});G.success?(a(G.vendors||[]),f(G.totalPages||1)):o(G.message||"Failed to fetch vendors")}catch(G){console.error("Fetch vendors error:",G),o(G.message||"Failed to fetch vendors"),a([])}finally{i(!1)}}},A=G=>{G.preventDefault(),h(1),I()},O=async(G,te)=>{if(window.confirm(`Are you sure you want to ${te==="active"?"activate":te==="suspended"?"suspend":"deactivate"} this vendor?`))try{await We.updateVendorStatus(r,G,te),I()}catch(pe){alert(pe.message||"Failed to update vendor status")}},R=async G=>{if(window.confirm("Are you sure you want to delete this vendor? This action cannot be undone."))try{await We.deleteVendor(r,G),I()}catch(te){alert(te.message||"Failed to delete vendor")}},Z=async G=>{G.preventDefault(),C(!0);try{await We.createVendor(r,S),j(!1),k({name:"",email:"",phone:"",password:"",companyName:"",address:{street:"",city:"",state:"",pincode:"",country:"India"},gstNumber:"",panNumber:"",bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}}),I()}catch(te){alert(te.message||"Failed to create vendor")}finally{C(!1)}},Y=async G=>{var te;G.preventDefault(),C(!0);try{const pe={...S};!pe.password||pe.password.trim()===""?(delete pe.password,console.log("Password field empty, will not update password")):console.log("Password provided, will update password"),console.log("Updating vendor with data:",{vendorId:v._id,fields:Object.keys(pe),hasPassword:!!pe.password});const ye=await We.updateVendor(r,v._id,pe);console.log("Update response:",ye),ye.success&&(y(!1),N(null),k({name:"",email:"",phone:"",password:"",companyName:"",address:{street:"",city:"",state:"",pincode:"",country:"India"},gstNumber:"",panNumber:"",bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}}),I(),alert("Vendor updated successfully!"))}catch(pe){console.error("Update vendor error:",pe),alert(pe.message||((te=pe.data)==null?void 0:te.message)||"Failed to update vendor")}finally{C(!1)}},ce=G=>{N(G),k({name:G.name||"",email:G.email||"",phone:G.phone||"",password:"",companyName:G.companyName||"",address:G.address||{street:"",city:"",state:"",pincode:"",country:"India"},gstNumber:G.gstNumber||"",panNumber:G.panNumber||"",bankDetails:G.bankDetails||{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}}),y(!0)},D={total:s.length,active:s.filter(G=>G.status==="active").length,suspended:s.filter(G=>G.status==="suspended").length,inactive:s.filter(G=>G.status==="inactive").length},z=s.map(G=>{var te,pe,ye;return{id:G._id,name:G.name||"N/A",email:G.email||"N/A",phone:G.phone||"N/A",companyName:G.companyName||"N/A",sparePartsCount:((te=G.stats)==null?void 0:te.sparePartsCount)||0,bookingsCount:((pe=G.stats)==null?void 0:pe.bookingsCount)||0,revenue:`${(((ye=G.stats)==null?void 0:ye.totalRevenue)||0).toLocaleString("en-IN")}`,status:G.status||"active",actions:G}});return t.jsxs("div",{className:"space-y-6",children:[t.jsx(ys,{title:"Vendor Management",description:"Create, manage, and monitor vendor accounts",icon:Lr}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(Zn,{title:"Total Vendors",value:D.total,icon:Lr,color:"blue"}),t.jsx(Zn,{title:"Active Vendors",value:D.active,icon:vt,color:"green"}),t.jsx(Zn,{title:"Suspended",value:D.suspended,icon:Yp,color:"red"}),t.jsx(Zn,{title:"Inactive",value:D.inactive,icon:Yp,color:"gray"})]}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[t.jsx("form",{onSubmit:A,className:"flex-1 w-full",children:t.jsxs("div",{className:"relative",children:[t.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",value:d,onChange:G=>c(G.target.value),placeholder:"Search by name, email, phone, company...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),t.jsxs("select",{value:u,onChange:G=>{m(G.target.value),h(1)},className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"}),t.jsx("option",{value:"suspended",children:"Suspended"})]}),t.jsxs("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2",children:[t.jsx(Tr,{})," Create Vendor"]})]})}),n?t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading vendors..."})]}):l?t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:t.jsx("p",{className:"text-rose-500",children:l})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden",children:t.jsx(Oa,{columns:K6e,data:z.map(G=>({...G,status:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${G.status==="active"?"bg-green-100 text-green-800":G.status==="suspended"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:G.status}),actions:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>e(`/admin/vendors/${G.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"View Details",children:t.jsx(Ti,{})}),t.jsx("button",{onClick:()=>ce(G.actions),className:"p-2 text-primary hover:bg-primary/10 rounded-lg transition",title:"Edit",children:t.jsx(ZN,{})}),G.status==="active"?t.jsx("button",{onClick:()=>O(G.id,"suspended"),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Suspend",children:t.jsx(Yp,{})}):t.jsx("button",{onClick:()=>O(G.id,"active"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition",title:"Activate",children:t.jsx(vt,{})}),t.jsx("button",{onClick:()=>R(G.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete",children:t.jsx(la,{})})]})}))})}),p>1&&t.jsxs("div",{className:"flex items-center justify-between bg-white border border-slate-200 rounded-2xl shadow-sm p-4",children:[t.jsxs("button",{onClick:()=>h(G=>Math.max(1,G-1)),disabled:x===1,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(QO,{})," Previous"]}),t.jsxs("span",{className:"text-slate-600",children:["Page ",x," of ",p]}),t.jsxs("button",{onClick:()=>h(G=>Math.min(p,G+1)),disabled:x===p,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next ",t.jsx(ZO,{})]})]})]}),b&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 flex items-center justify-between",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Create New Vendor"}),t.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{})})]}),t.jsxs("form",{onSubmit:Z,className:"p-6 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Name *"}),t.jsx("input",{type:"text",value:S.name,onChange:G=>k({...S,name:G.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email *"}),t.jsx("input",{type:"email",value:S.email,onChange:G=>k({...S,email:G.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone *"}),t.jsx("input",{type:"tel",value:S.phone,onChange:G=>k({...S,phone:G.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Password *"}),t.jsx("input",{type:"password",value:S.password,onChange:G=>k({...S,password:G.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Company Name"}),t.jsx("input",{type:"text",value:S.companyName,onChange:G=>k({...S,companyName:G.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Number"}),t.jsx("input",{type:"text",value:S.gstNumber,onChange:G=>k({...S,gstNumber:G.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"PAN Number"}),t.jsx("input",{type:"text",value:S.panNumber,onChange:G=>k({...S,panNumber:G.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),t.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Address"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Street Address"}),t.jsx("input",{type:"text",value:S.address.street||"",onChange:G=>k({...S,address:{...S.address,street:G.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),t.jsx("input",{type:"text",value:S.address.city||"",onChange:G=>k({...S,address:{...S.address,city:G.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"State"}),t.jsx("input",{type:"text",value:S.address.state||"",onChange:G=>k({...S,address:{...S.address,state:G.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:S.address.pincode||"",onChange:G=>k({...S,address:{...S.address,pincode:G.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Country"}),t.jsx("input",{type:"text",value:S.address.country||"India",onChange:G=>k({...S,address:{...S.address,country:G.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),t.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Bank Details"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Bank Name"}),t.jsx("input",{type:"text",value:S.bankDetails.bankName||"",onChange:G=>k({...S,bankDetails:{...S.bankDetails,bankName:G.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Holder Name"}),t.jsx("input",{type:"text",value:S.bankDetails.accountHolderName||"",onChange:G=>k({...S,bankDetails:{...S.bankDetails,accountHolderName:G.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Number"}),t.jsx("input",{type:"text",value:S.bankDetails.accountNumber||"",onChange:G=>k({...S,bankDetails:{...S.bankDetails,accountNumber:G.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"IFSC Code"}),t.jsx("input",{type:"text",value:S.bankDetails.ifscCode||"",onChange:G=>k({...S,bankDetails:{...S.bankDetails,ifscCode:G.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx("button",{type:"submit",disabled:P,className:"flex-1 px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50",children:P?"Creating...":"Create Vendor"}),t.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"})]})]})]})}),w&&v&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 flex items-center justify-between",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Edit Vendor"}),t.jsx("button",{onClick:()=>{y(!1),N(null)},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{})})]}),t.jsxs("form",{onSubmit:Y,className:"p-6 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Name *"}),t.jsx("input",{type:"text",value:S.name,onChange:G=>k({...S,name:G.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email *"}),t.jsx("input",{type:"email",value:S.email,onChange:G=>k({...S,email:G.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone *"}),t.jsx("input",{type:"tel",value:S.phone,onChange:G=>k({...S,phone:G.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"New Password (leave blank to keep current)"}),t.jsx("input",{type:"password",value:S.password,onChange:G=>k({...S,password:G.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Company Name"}),t.jsx("input",{type:"text",value:S.companyName,onChange:G=>k({...S,companyName:G.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Number"}),t.jsx("input",{type:"text",value:S.gstNumber,onChange:G=>k({...S,gstNumber:G.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"PAN Number"}),t.jsx("input",{type:"text",value:S.panNumber,onChange:G=>k({...S,panNumber:G.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),t.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Address"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Street Address"}),t.jsx("input",{type:"text",value:((se=S.address)==null?void 0:se.street)||"",onChange:G=>k({...S,address:{...S.address,street:G.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),t.jsx("input",{type:"text",value:((K=S.address)==null?void 0:K.city)||"",onChange:G=>k({...S,address:{...S.address,city:G.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"State"}),t.jsx("input",{type:"text",value:((_=S.address)==null?void 0:_.state)||"",onChange:G=>k({...S,address:{...S.address,state:G.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:((M=S.address)==null?void 0:M.pincode)||"",onChange:G=>k({...S,address:{...S.address,pincode:G.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Country"}),t.jsx("input",{type:"text",value:((F=S.address)==null?void 0:F.country)||"India",onChange:G=>k({...S,address:{...S.address,country:G.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),t.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Bank Details"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Bank Name"}),t.jsx("input",{type:"text",value:((B=S.bankDetails)==null?void 0:B.bankName)||"",onChange:G=>k({...S,bankDetails:{...S.bankDetails,bankName:G.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Holder Name"}),t.jsx("input",{type:"text",value:((q=S.bankDetails)==null?void 0:q.accountHolderName)||"",onChange:G=>k({...S,bankDetails:{...S.bankDetails,accountHolderName:G.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Number"}),t.jsx("input",{type:"text",value:((ae=S.bankDetails)==null?void 0:ae.accountNumber)||"",onChange:G=>k({...S,bankDetails:{...S.bankDetails,accountNumber:G.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"IFSC Code"}),t.jsx("input",{type:"text",value:((V=S.bankDetails)==null?void 0:V.ifscCode)||"",onChange:G=>k({...S,bankDetails:{...S.bankDetails,ifscCode:G.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx("button",{type:"submit",disabled:P,className:"flex-1 px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50",children:P?"Updating...":"Update Vendor"}),t.jsx("button",{type:"button",onClick:()=>{y(!1),N(null)},className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"})]})]})]})})]})},X6e=()=>{var u,m,x,h;const{vendorId:e}=fm(),r=Zt(),{token:s}=wr(),[a,n]=g.useState(null),[i,l]=g.useState(!0),[o,d]=g.useState(null);g.useEffect(()=>{c()},[s,e]);const c=async()=>{if(!(!s||!e)){l(!0),d(null);try{const p=await We.getVendorDetails(s,e);p.success?n(p.vendor):d(p.message||"Failed to fetch vendor details")}catch(p){console.error("Fetch vendor details error:",p),d(p.message||"Failed to fetch vendor details")}finally{l(!1)}}};return i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):o||!a?t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsx("p",{className:"text-rose-500",children:o||"Vendor not found"}),t.jsx("button",{onClick:()=>r("/admin/vendors"),className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:"Back to Vendors"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>r("/admin/vendors"),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(J0,{className:"text-xl"})}),t.jsx(ys,{title:`Vendor: ${a.name}`,description:"View vendor details and activities",icon:vr})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Spare Parts"}),t.jsx(gs,{className:"text-primary text-xl"})]}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((u=a.stats)==null?void 0:u.sparePartsCount)||0})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Bookings"}),t.jsx(Yn,{className:"text-primary text-xl"})]}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((m=a.stats)==null?void 0:m.bookingsCount)||0})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Total Revenue"}),t.jsx(Jt,{className:"text-primary text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:["",(((x=a.stats)==null?void 0:x.totalRevenue)||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Balance"}),t.jsx(Jt,{className:"text-primary text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:["",(((h=a.stats)==null?void 0:h.balance)||0).toLocaleString("en-IN")]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Vendor Information"}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${a.status==="active"?"bg-green-100 text-green-800":a.status==="suspended"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:a.status})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Name"}),t.jsxs("p",{className:"text-slate-800 flex items-center gap-2",children:[t.jsx(vr,{className:"text-slate-400"}),a.name]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Email"}),t.jsxs("p",{className:"text-slate-800 flex items-center gap-2",children:[t.jsx(tn,{className:"text-slate-400"}),a.email]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Phone"}),t.jsxs("p",{className:"text-slate-800 flex items-center gap-2",children:[t.jsx(rn,{className:"text-slate-400"}),a.phone]})]}),a.companyName&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Company Name"}),t.jsx("p",{className:"text-slate-800",children:a.companyName})]}),a.gstNumber&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"GST Number"}),t.jsx("p",{className:"text-slate-800",children:a.gstNumber})]}),a.panNumber&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"PAN Number"}),t.jsx("p",{className:"text-slate-800",children:a.panNumber})]}),a.address&&t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Address"}),t.jsxs("p",{className:"text-slate-800",children:[a.address.street&&`${a.address.street}, `,a.address.city&&`${a.address.city}, `,a.address.state&&`${a.address.state} - `,a.address.pincode]})]}),a.bankDetails&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Bank Name"}),t.jsx("p",{className:"text-slate-800",children:a.bankDetails.bankName||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Account Number"}),t.jsx("p",{className:"text-slate-800",children:a.bankDetails.accountNumber||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"IFSC Code"}),t.jsx("p",{className:"text-slate-800",children:a.bankDetails.ifscCode||"N/A"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Account Holder Name"}),t.jsx("p",{className:"text-slate-800",children:a.bankDetails.accountHolderName||"N/A"})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Created At"}),t.jsx("p",{className:"text-slate-800",children:new Date(a.createdAt).toLocaleDateString()})]}),a.lastLogin&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Last Login"}),t.jsx("p",{className:"text-slate-800",children:new Date(a.lastLogin).toLocaleDateString()})]})]})]}),a.spareParts&&a.spareParts.length>0&&t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Recent Spare Parts"}),t.jsx("div",{className:"space-y-2",children:a.spareParts.slice(0,5).map(p=>{var f;return t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-slate-800",children:p.name}),t.jsxs("p",{className:"text-sm text-slate-600",children:["",(f=p.price)==null?void 0:f.toLocaleString("en-IN")," | Stock: ",p.stock]})]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${p.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.status})]},p._id)})})]}),a.recentBookings&&a.recentBookings.length>0&&t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Recent Bookings"}),t.jsx("div",{className:"space-y-2",children:a.recentBookings.slice(0,5).map(p=>{var f,b;return t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-slate-800",children:((f=p.sparePart)==null?void 0:f.name)||"N/A"}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Qty: ",p.quantity," | ",(b=p.totalAmount)==null?void 0:b.toLocaleString("en-IN")]})]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${p.status==="delivered"?"bg-green-100 text-green-800":p.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:p.status})]},p._id)})})]})]})},J6e=()=>{const{token:e}=wr(),[r,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState(""),[o,d]=g.useState("all"),[c,u]=g.useState(null),[m,x]=g.useState(!1);g.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{n(!0);const j=await We.fetchCustomers(e,{page:1,limit:1e3});s(j.customers||[])}catch(j){console.error("Error fetching customers:",j),s([])}finally{n(!1)}},p=r.filter(j=>{var v,N,S;const w=((v=j.name)==null?void 0:v.toLowerCase().includes(i.toLowerCase()))||((N=j.email)==null?void 0:N.toLowerCase().includes(i.toLowerCase()))||((S=j.phone)==null?void 0:S.includes(i)),y=o==="all"||j.status===o;return w&&y}),f=j=>{u(j),x(!0)},b=()=>{const j=["Name","Email","Phone","Total Bookings","Total Spent","Joined Date"],w=p.map(k=>[k.name,k.email,k.phone,k.totalBookings||0,k.totalSpent||0,new Date(k.createdAt).toLocaleDateString()]),y=[j,...w].map(k=>k.join(",")).join(`
`),v=new Blob([y],{type:"text/csv"}),N=window.URL.createObjectURL(v),S=document.createElement("a");S.href=N,S.download="customers.csv",S.click()};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Customer Management"}),t.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Manage and view all registered customers"})]}),t.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:[t.jsx(Na,{})," Export CSV"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Customers"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800 mt-1",children:r.length})]}),t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(Ti,{className:"text-blue-600 text-xl"})})]})}),t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Active Customers"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800 mt-1",children:r.filter(j=>j.status==="active").length})]}),t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx(rD,{className:"text-green-600 text-xl"})})]})}),t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"New This Month"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800 mt-1",children:r.filter(j=>{const w=new Date(j.createdAt),y=new Date;return w.getMonth()===y.getMonth()&&w.getFullYear()===y.getFullYear()}).length})]}),t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx(ks,{className:"text-purple-600 text-xl"})})]})}),t.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-800 mt-1",children:["",r.reduce((j,w)=>j+(w.totalSpent||0),0).toLocaleString()]})]}),t.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:t.jsx(xs,{className:"text-yellow-600 text-xl"})})]})})]}),t.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search by name, email, or phone...",value:i,onChange:j=>l(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ed,{className:"text-slate-400"}),t.jsxs("select",{value:o,onChange:j=>d(j.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:a?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),t.jsx("p",{className:"text-slate-500 mt-4",children:"Loading customers..."})]}):p.length===0?t.jsx("div",{className:"p-8 text-center",children:t.jsx("p",{className:"text-slate-500",children:"No customers found"})}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Customer"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Contact"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Bookings"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total Spent"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Joined"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:p.map(j=>{var w;return t.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-semibold",children:(w=j.name)==null?void 0:w.charAt(0).toUpperCase()}),t.jsxs("div",{className:"ml-3",children:[t.jsx("p",{className:"text-sm font-medium text-slate-900",children:j.name}),t.jsx("p",{className:"text-xs text-slate-500",children:j.email})]})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm text-slate-900",children:j.phone}),j.currentAddress&&t.jsx("div",{className:"text-xs text-slate-500 mt-1",children:j.currentAddress.pincode&&`PIN: ${j.currentAddress.pincode}`})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-slate-900",children:j.totalBookings||0})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-medium text-slate-900",children:["",(j.totalSpent||0).toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-slate-500",children:new Date(j.createdAt).toLocaleDateString()})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${j.status==="active"?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:j.status||"active"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:t.jsx("button",{onClick:()=>f(j),className:"text-primary hover:text-primary-dark font-medium",children:"View Details"})})]},j._id)})})]})})}),m&&c&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsx("div",{className:"p-6 border-b border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Customer Details"}),t.jsx("button",{onClick:()=>x(!1),className:"text-slate-400 hover:text-slate-600",children:""})]})}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase mb-3",children:"Basic Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Name"}),t.jsx("p",{className:"text-sm font-medium text-slate-900",children:c.name})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Status"}),t.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full ${c.status==="active"?"bg-green-100 text-green-800":"bg-slate-100 text-slate-800"}`,children:c.status||"active"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase mb-3",children:"Contact Information"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(tn,{className:"text-slate-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Email"}),t.jsx("p",{className:"text-sm text-slate-900",children:c.email||"N/A"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(rn,{className:"text-slate-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Phone"}),t.jsx("p",{className:"text-sm text-slate-900",children:c.phone})]})]}),c.currentAddress&&t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Pr,{className:"text-slate-400 mt-1"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Current Address"}),t.jsx("p",{className:"text-sm text-slate-900",children:c.currentAddress.address}),c.currentAddress.landmark&&t.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:["Landmark: ",c.currentAddress.landmark]}),t.jsxs("div",{className:"flex gap-2 mt-1",children:[c.currentAddress.addressType&&t.jsx("span",{className:"inline-block px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:c.currentAddress.addressType}),c.currentAddress.pincode&&t.jsxs("span",{className:"inline-block px-2 py-0.5 text-xs font-medium bg-slate-100 text-slate-800 rounded",children:["PIN: ",c.currentAddress.pincode]})]})]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase mb-3",children:"Statistics"}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Total Bookings"}),t.jsx("p",{className:"text-xl font-bold text-slate-900",children:c.totalBookings||0})]}),t.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Total Spent"}),t.jsxs("p",{className:"text-xl font-bold text-slate-900",children:["",(c.totalSpent||0).toLocaleString()]})]}),t.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Member Since"}),t.jsx("p",{className:"text-sm font-medium text-slate-900",children:new Date(c.createdAt).toLocaleDateString()})]})]})]}),c.addresses&&c.addresses.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase mb-3",children:"All Saved Addresses"}),t.jsx("div",{className:"space-y-3",children:c.addresses.map((j,w)=>t.jsx("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-slate-900",children:j.address}),j.landmark&&t.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:["Landmark: ",j.landmark]}),t.jsxs("div",{className:"flex gap-2 mt-2",children:[j.addressType&&t.jsx("span",{className:"inline-block px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:j.addressType}),j.pincode&&t.jsxs("span",{className:"inline-block px-2 py-0.5 text-xs font-medium bg-slate-200 text-slate-800 rounded",children:["PIN: ",j.pincode]})]})]}),c.selectedAddress===j._id&&t.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-semibold bg-green-100 text-green-800 rounded",children:"Current"})]})},w))})]})]})]})})]})},Q6e=()=>{var Qe;const{token:e}=wr(),[r,s]=g.useState([]),[a,n]=g.useState([]),[i,l]=g.useState({}),[o,d]=g.useState(!0),[c,u]=g.useState(!1),[m,x]=g.useState(null),[h,p]=g.useState({dateRange:"all",status:"all",search:""}),[f,b]=g.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:20,hasNextPage:!1,hasPrevPage:!1}),[j,w]=g.useState(null),[y,v]=g.useState(!1),[N,S]=g.useState(null),[k,P]=g.useState(!1),[C,I]=g.useState(null),A=g.useRef(null),[O,R]=g.useState({search:"",sortBy:"name",sortOrder:"asc",partnerType:"all"});g.useEffect(()=>{e&&Z(f.currentPage)},[e,h.dateRange,h.status,h.search,f.currentPage,f.itemsPerPage]);const Z=async(W=f.currentPage)=>{var Ie,Se;try{d(!0);const we=typeof W=="number"?W:parseInt(W)||1,L=await We.fetchBookings(e,{page:we,limit:f.itemsPerPage,status:h.status!=="all"?h.status:void 0,fromDate:(Ie=D(h.dateRange))==null?void 0:Ie.from,toDate:(Se=D(h.dateRange))==null?void 0:Se.to,search:h.search||void 0});s(L.data||[]),L.pagination&&b(ue=>({...ue,currentPage:L.pagination.currentPage,totalPages:L.pagination.totalPages,totalItems:L.pagination.totalItems,hasNextPage:L.pagination.hasNextPage,hasPrevPage:L.pagination.hasPrevPage}))}catch(we){x(we.message||"Failed to fetch bookings")}finally{d(!1)}},Y=async()=>{try{const W=await We.fetchTeamMembers(e,{status:"active"}),Ie={};W.data&&W.data.forEach(Se=>{var L;const we=((L=Se.partner)==null?void 0:L._id)||Se.partner;we&&(Ie[we]||(Ie[we]=[]),Ie[we].push(Se))}),l(Ie)}catch(W){console.error("Failed to fetch team members:",W)}},ce=async()=>{try{u(!0);const Ie=((await We.fetchPartners(e,{page:1,limit:100,status:"approved"})).partners||[]).map(Se=>({_id:Se.Profile.id,profile:{name:Se.Profile.name,email:Se.Profile.email,city:Se.Profile.address||`Pincode: ${Se.Profile.pincode}`,pincode:Se.Profile.pincode,address:Se.Profile.address},phone:Se.Profile.phone,partnerType:Se.Profile.partnerType,mgPlan:Se.mgPlan,mgPlanLeadQuota:Se.mgPlanLeadQuota||0,mgPlanLeadsUsed:Se.mgPlanLeadsUsed||0,mgPlanSubscribedAt:Se.mgPlanSubscribedAt,mgPlanExpiresAt:Se.mgPlanExpiresAt}));n(Ie),await Y()}catch(W){console.error("Failed to fetch partners:",W)}finally{u(!1)}},D=W=>{const Ie=new Date;switch(W){case"today":return{from:new Date(Ie.getFullYear(),Ie.getMonth(),Ie.getDate()).toISOString(),to:new Date(Ie.getFullYear(),Ie.getMonth(),Ie.getDate()+1).toISOString()};case"week":const Se=new Date(Ie.setDate(Ie.getDate()-Ie.getDay()));return{from:new Date(Se.getFullYear(),Se.getMonth(),Se.getDate()).toISOString(),to:new Date().toISOString()};case"month":return{from:new Date(Ie.getFullYear(),Ie.getMonth(),1).toISOString(),to:new Date().toISOString()};default:return null}},z=W=>{W>=1&&W<=f.totalPages&&b(Ie=>({...Ie,currentPage:W}))},se=W=>{b(Ie=>({...Ie,itemsPerPage:W,currentPage:1}))},K=()=>{b(W=>({...W,currentPage:1}))},_=(W,Ie)=>{p(Se=>({...Se,[W]:Ie})),K()},M=W=>({pending:"text-yellow-600 bg-yellow-50",confirmed:"text-blue-600 bg-blue-50",in_progress:"text-purple-600 bg-purple-50",completed:"text-green-600 bg-green-50",cancelled:"text-red-600 bg-red-50",accepted:"text-indigo-600 bg-indigo-50"})[W]||"text-gray-600 bg-gray-50",F=W=>({pending:Xr,confirmed:vt,in_progress:Dt,completed:vt,cancelled:Qn,accepted:vt})[W]||Jn,B=g.useCallback(W=>W.mgPlan?Math.max(0,W.mgPlanLeadQuota-W.mgPlanLeadsUsed):"No Plan",[]),q=g.useCallback(W=>!W.mgPlan||W.mgPlanLeadQuota===0?0:Math.min(100,W.mgPlanLeadsUsed/W.mgPlanLeadQuota*100),[]),ae=W=>{w(W),v(!0),R({search:"",sortBy:"name",sortOrder:"asc",partnerType:"all"}),ce()},V=(W,Ie)=>{R(Se=>({...Se,[W]:Ie}))},G=g.useMemo(()=>{let W=a;if(O.partnerType&&O.partnerType!=="all"&&(W=W.filter(Ie=>Ie.partnerType===O.partnerType)),O.search){const Ie=O.search.toLowerCase();W=W.filter(Se=>{var we,L,ue,ee,fe,xe,ve,Ne,Ke;return((L=(we=Se.profile)==null?void 0:we.name)==null?void 0:L.toLowerCase().includes(Ie))||((ue=Se.phone)==null?void 0:ue.includes(O.search))||((fe=(ee=Se.profile)==null?void 0:ee.address)==null?void 0:fe.toLowerCase().includes(Ie))||((ve=(xe=Se.profile)==null?void 0:xe.city)==null?void 0:ve.toLowerCase().includes(Ie))||((Ke=(Ne=Se.mgPlan)==null?void 0:Ne.name)==null?void 0:Ke.toLowerCase().includes(Ie))})}return W.sort((Ie,Se)=>{var ue,ee,fe,xe,ve,Ne;let we,L;switch(O.sortBy){case"name":we=((ue=Ie.profile)==null?void 0:ue.name)||"",L=((ee=Se.profile)==null?void 0:ee.name)||"";break;case"leads":we=B(Ie),L=B(Se),we=typeof we=="string"?-1:we,L=typeof L=="string"?-1:L;break;case"mgPlan":we=((fe=Ie.mgPlan)==null?void 0:fe.name)||"No Plan",L=((xe=Se.mgPlan)==null?void 0:xe.name)||"No Plan";break;case"leadUsage":we=q(Ie),L=q(Se);break;default:we=((ve=Ie.profile)==null?void 0:ve.name)||"",L=((Ne=Se.profile)==null?void 0:Ne.name)||""}return typeof we=="string"&&typeof L=="string"?O.sortOrder==="asc"?we.localeCompare(L):L.localeCompare(we):O.sortOrder==="asc"?we-L:L-we}),W},[a,O,B,q]),te=async W=>{var Ie;try{S(W);const Se=((Ie=j.booking)==null?void 0:Ie._id)||j._id;await We.assignBooking(e,Se,W,null);const we=a.find(L=>L._id===W);s(L=>L.map(ue=>{var ee;return ue._id===j._id?{...ue,partner:we,partnerName:((ee=we==null?void 0:we.profile)==null?void 0:ee.name)||"Unknown Partner",partnerPhone:(we==null?void 0:we.phone)||"No phone",partnerId:W}:ue})),v(!1),w(null),alert("Partner assigned successfully!")}catch(Se){console.error("Failed to assign partner:",Se),alert("Failed to assign partner: "+(Se.message||"Unknown error"))}finally{S(null)}},pe=()=>{var Se,we,L,ue;const W=window.open("","_blank"),Ie=`${window.location.origin}/logo.png`;W.document.write(`
      <html>
        <head>
          <title>Invoice - ${C._id.slice(-8).toUpperCase()}</title>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
          <style>
            * { 
              margin: 0; 
              padding: 0; 
              box-sizing: border-box; 
            }
            
            body { 
              font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
              color: #1f2937;
              line-height: 1.4;
              background: #ffffff;
              -webkit-font-smoothing: antialiased;
              -moz-osx-font-smoothing: grayscale;
              font-size: 12px;
            }
            
            .invoice-container { 
              max-width: 210mm;
              margin: 0 auto;
              padding: 15mm;
              background: #ffffff;
              min-height: 297mm;
              height: 297mm;
              overflow: hidden;
            }
            
            /* Header Section - Compact */
            .invoice-header { 
              display: flex; 
              justify-content: space-between; 
              align-items: flex-start; 
              margin-bottom: 20px;
              padding-bottom: 15px;
              border-bottom: 2px solid #e5e7eb;
            }
            
            .company-section {
              flex: 1;
            }
            
            .company-logo {
              display: flex;
              align-items: center;
              margin-bottom: 10px;
            }
            
            .logo-container {
              width: 60px;
              height: 60px;
              margin-right: 15px;
              display: flex;
              align-items: center;
              justify-content: center;
            }
            
            .logo-img {
              width: 100%;
              height: 100%;
              object-fit: contain;
              filter: drop-shadow(0 1px 4px rgba(0, 0, 0, 0.1));
            }
            
            .logo-svg-fallback {
              display: none;
              width: 50px;
              height: 50px;
              filter: drop-shadow(0 1px 4px rgba(59, 130, 246, 0.3));
            }
            
            .company-tagline {
              color: #6b7280;
              font-size: 12px;
              font-weight: 500;
              margin-bottom: 5px;
            }
            
            .company-details {
              color: #6b7280;
              font-size: 10px;
              line-height: 1.4;
            }
            
            .company-details strong {
              color: #374151;
              font-weight: 600;
            }
            
            .invoice-meta {
              text-align: right;
              flex-shrink: 0;
            }
            
            .invoice-title {
              font-size: 28px;
              font-weight: 300;
              color: #1f2937;
              margin-bottom: 5px;
              letter-spacing: -0.5px;
            }
            
            .invoice-number {
              font-size: 14px;
              font-weight: 600;
              color: #3b82f6;
              margin-bottom: 8px;
              font-family: 'Monaco', 'Menlo', monospace;
            }
            
            .invoice-date {
              color: #6b7280;
              font-size: 11px;
              margin-bottom: 8px;
            }
            
            .status-badge {
              display: inline-block;
              padding: 4px 8px;
              border-radius: 12px;
              font-size: 10px;
              font-weight: 600;
              text-transform: uppercase;
              letter-spacing: 0.3px;
            }
            
            .status-confirmed { background: #dbeafe; color: #1e40af; }
            .status-completed { background: #d1fae5; color: #065f46; }
            .status-pending { background: #fef3c7; color: #92400e; }
            .status-cancelled { background: #fee2e2; color: #dc2626; }
            .status-failed { background: #fee2e2; color: #dc2626; }
            
            .payment-failed { background: #fee2e2; color: #dc2626; }
            .payment-completed { background: #d1fae5; color: #065f46; }
            .payment-pending { background: #fef3c7; color: #92400e; }
            
            /* Details Section - Compact */
            .invoice-details {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 30px;
              margin-bottom: 25px;
            }
            
            .detail-section h3 {
              font-size: 11px;
              font-weight: 700;
              color: #374151;
              text-transform: uppercase;
              letter-spacing: 0.5px;
              margin-bottom: 10px;
              padding-bottom: 4px;
              border-bottom: 1px solid #f3f4f6;
            }
            
            .detail-item {
              display: flex;
              justify-content: space-between;
              align-items: flex-start;
              margin-bottom: 6px;
              padding: 2px 0;
            }
            
            .detail-label {
              font-size: 11px;
              color: #6b7280;
              font-weight: 500;
              min-width: 80px;
            }
            
            .detail-value {
              font-size: 11px;
              color: #1f2937;
              font-weight: 600;
              text-align: right;
              flex: 1;
            }
            
            .customer-name {
              font-size: 13px !important;
              font-weight: 700 !important;
              color: #1f2937 !important;
              margin-bottom: 2px;
            }
            
            /* Table Section - Compact */
            .services-section {
              margin-bottom: 20px;
            }
            
            .section-title {
              font-size: 13px;
              font-weight: 700;
              color: #1f2937;
              margin-bottom: 12px;
              padding-bottom: 6px;
              border-bottom: 1px solid #f3f4f6;
            }
            
            .invoice-table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 15px;
              background: #ffffff;
              border-radius: 6px;
              overflow: hidden;
              box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
            }
            
            .invoice-table thead {
              background: linear-gradient(135deg, #f8fafc, #f1f5f9);
            }
            
            .invoice-table th {
              padding: 8px 12px;
              text-align: left;
              font-weight: 700;
              font-size: 10px;
              color: #374151;
              text-transform: uppercase;
              letter-spacing: 0.3px;
              border-bottom: 1px solid #e5e7eb;
            }
            
            .invoice-table td {
              padding: 8px 12px;
              border-bottom: 1px solid #f3f4f6;
              font-size: 11px;
              vertical-align: top;
            }
            
            .invoice-table tbody tr:last-child td {
              border-bottom: none;
            }
            
            .service-name {
              font-weight: 600;
              color: #1f2937;
              margin-bottom: 2px;
            }
            
            .service-description {
              font-size: 10px;
              color: #6b7280;
              line-height: 1.3;
            }
            
            .quantity-cell, .rate-cell, .amount-cell {
              text-align: right;
              font-weight: 600;
              color: #1f2937;
            }
            
            /* Totals Section - Compact */
            .totals-section {
              display: flex;
              justify-content: flex-end;
              margin-bottom: 20px;
            }
            
            .totals-table {
              min-width: 250px;
            }
            
            .totals-table tr {
              border-bottom: 1px solid #f3f4f6;
            }
            
            .totals-table tr:last-child {
              border-bottom: none;
            }
            
            .totals-table td {
              padding: 6px 0;
              font-size: 11px;
            }
            
            .totals-label {
              color: #6b7280;
              font-weight: 500;
              padding-right: 25px;
            }
            
            .totals-value {
              text-align: right;
              font-weight: 600;
              color: #1f2937;
              font-family: 'Monaco', 'Menlo', monospace;
            }
            
            .total-row {
              background: linear-gradient(135deg, #1f2937, #374151);
              color: #ffffff !important;
            }
            
            .total-row td {
              padding: 8px 12px;
              font-size: 13px;
              font-weight: 700;
              border-radius: 4px;
            }
            
            .total-row .totals-label,
            .total-row .totals-value {
              color: #ffffff !important;
            }
            
            /* Footer - Compact */
            .invoice-footer {
              margin-top: 25px;
              padding-top: 15px;
              border-top: 1px solid #f3f4f6;
              text-align: center;
            }
            
            .footer-title {
              font-size: 13px;
              font-weight: 700;
              color: #1f2937;
              margin-bottom: 8px;
            }
            
            .footer-text {
              color: #6b7280;
              font-size: 10px;
              line-height: 1.4;
              margin-bottom: 4px;
            }
            
            .footer-contact {
              color: #3b82f6;
              font-weight: 600;
            }
            
            .footer-legal {
              font-size: 9px;
              color: #9ca3af;
              margin-top: 10px;
              font-style: italic;
            }
            
            /* Print Styles - A4 Optimized */
            @media print {
              @page {
                size: A4;
                margin: 10mm;
              }
              
              body { 
                print-color-adjust: exact; 
                -webkit-print-color-adjust: exact;
                font-size: 11px;
              }
              
              .invoice-container { 
                margin: 0; 
                padding: 0;
                box-shadow: none;
                max-width: none;
                height: auto;
                min-height: auto;
              }
              
              .invoice-header {
                margin-bottom: 15px;
                padding-bottom: 10px;
              }
              
              .invoice-details {
                margin-bottom: 20px;
                gap: 20px;
              }
              
              .services-section {
                margin-bottom: 15px;
              }
              
              .totals-section {
                margin-bottom: 15px;
              }
              
              .invoice-footer {
                margin-top: 15px;
                padding-top: 10px;
              }
              
              .logo-container {
                width: 50px !important;
                height: 50px !important;
              }
              
              .logo-img {
                width: 100% !important;
                height: 100% !important;
              }
              
              .logo-svg-fallback {
                width: 40px !important;
                height: 40px !important;
              }
              
              .invoice-title {
                font-size: 24px;
              }
              
              .invoice-table th,
              .invoice-table td {
                padding: 6px 8px;
              }
            }
          </style>
          <script>
            // Handle logo loading with fallback
            function handleLogoError(img) {
              img.style.display = 'none';
              document.querySelector('.logo-svg-fallback').style.display = 'block';
            }
          <\/script>
        </head>
        <body>
          <div class="invoice-container">
            <!-- Header Section -->
            <div class="invoice-header">
              <div class="company-section">
                <div class="company-logo">
                  <div class="logo-container">
                    <img src="${Ie}" alt="Company Logo" class="logo-img" onerror="handleLogoError(this)" />
                    <svg class="logo-svg-fallback" width="50" height="50" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z" fill="#3b82f6"/>
                      <path d="M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z" fill="#3b82f6"/>
                      <path d="M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z" fill="#3b82f6"/>
                      <path d="M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z" fill="#3b82f6"/>
                      <circle cx="24" cy="24" r="3" fill="#ffffff"/>
                    </svg>
                  </div>
                </div>
                <div class="company-tagline">Professional Home Services</div>
                <div class="company-details">
                  <strong>Professional Home Services Private Limited</strong><br>
                  CIN: U74999KA2023PTC123456<br>
                  GSTIN: 29ABCDE1234F1Z5<br>
                  <br>
                  <strong>Registered Office:</strong><br>
                  #123, Tech Park, Whitefield<br>
                  Bangalore, Karnataka - 560066<br>
                  <br>
                  <strong>Contact:</strong> +91-80-4567-8900<br>
                  <strong>Email:</strong> support@company.works<br>
                  <strong>Website:</strong> www.nexo.works
                </div>
              </div>
              
              <div class="invoice-meta">
                <div class="invoice-title">INVOICE</div>
                <div class="invoice-number">#INV-${C._id.slice(-8).toUpperCase()}</div>
                <div class="invoice-date">
                  <strong>Date:</strong> ${new Date(C.createdAt||C.scheduledDate).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"})}
                </div>
                <div class="status-badge status-${C.status}">
                  ${C.status.toUpperCase()}
                </div>
                ${C.paymentStatus&&C.paymentStatus==="failed"?`
                  <div class="status-badge payment-failed" style="margin-top: 8px;">
                    PAYMENT FAILED
                  </div>
                `:C.paymentStatus?`
                  <div class="status-badge payment-${C.paymentStatus}" style="margin-top: 8px;">
                    PAYMENT ${C.paymentStatus.toUpperCase()}
                  </div>
                `:""}
              </div>
            </div>

            <!-- Details Section -->
            <div class="invoice-details">
              <div class="detail-section">
                <h3>Bill To</h3>
                <div class="detail-item">
                  <div class="detail-value customer-name">${C.customerName||"Customer"}</div>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Phone:</span>
                  <span class="detail-value">${C.customerPhone||"N/A"}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Email:</span>
                  <span class="detail-value">${C.customerEmail||"N/A"}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Address:</span>
                  <span class="detail-value">${((Se=C.location)==null?void 0:Se.address)||C.address||"N/A"}</span>
                </div>
                ${(we=C.location)!=null&&we.landmark?`
                  <div class="detail-item">
                    <span class="detail-label">Landmark:</span>
                    <span class="detail-value">${C.location.landmark}</span>
                  </div>
                `:""}
                <div class="detail-item">
                  <span class="detail-label">Pincode:</span>
                  <span class="detail-value">${((L=C.location)==null?void 0:L.pincode)||"N/A"}</span>
                </div>
              </div>
              
              <div class="detail-section">
                <h3>Service Details</h3>
                <div class="detail-item">
                  <span class="detail-label">Booking ID:</span>
                  <span class="detail-value">#${C._id.slice(-8).toUpperCase()}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Service Date:</span>
                  <span class="detail-value">${new Date(C.scheduledDate).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"})}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Service Time:</span>
                  <span class="detail-value">${C.scheduledTime||"N/A"}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Payment Mode:</span>
                  <span class="detail-value">${((ue=C.paymentMode)==null?void 0:ue.toUpperCase())||"N/A"}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Payment Status:</span>
                  <span class="detail-value ${C.paymentStatus==="failed"?'style="color: #dc2626; font-weight: 700;"':C.paymentStatus==="completed"?'style="color: #065f46; font-weight: 700;"':""}">${C.paymentStatus?C.paymentStatus.toUpperCase():"N/A"}</span>
                </div>
                ${C.txnid?`
                  <div class="detail-item">
                    <span class="detail-label">Transaction ID:</span>
                    <span class="detail-value">${C.txnid}</span>
                  </div>
                `:""}
                ${C.partnerName&&C.partnerName!=="Still not assigned"?`
                  <div class="detail-item">
                    <span class="detail-label">Assigned Partner:</span>
                    <span class="detail-value">${C.partnerName}</span>
                  </div>
                `:`
                  <div class="detail-item">
                    <span class="detail-label">Assigned Partner:</span>
                    <span class="detail-value">Not Assigned</span>
                  </div>
                `}
              </div>
            </div>

            <!-- Services Section -->
            <div class="services-section">
              <h2 class="section-title">Services & Items</h2>
              <table class="invoice-table">
                <thead>
                  <tr>
                    <th style="width: 50%;">Description</th>
                    <th style="width: 15%;">Quantity</th>
                    <th style="width: 17.5%;">Rate</th>
                    <th style="width: 17.5%;">Amount</th>
                  </tr>
                </thead>
                <tbody>
                  ${C.cartItems&&C.cartItems.length>0?C.cartItems.map(ee=>`
                      <tr>
                        <td>
                          <div class="service-name">${ee.name||ee.serviceName||"Service"}</div>
                          ${ee.description?`<div class="service-description">${ee.description}</div>`:""}
                        </td>
                        <td class="quantity-cell">${ee.quantity||1}</td>
                        <td class="rate-cell">${(ee.price||ee.amount||0).toLocaleString("en-IN")}</td>
                        <td class="amount-cell">${((ee.price||ee.amount||0)*(ee.quantity||1)).toLocaleString("en-IN")}</td>
                      </tr>
                    `).join(""):`
                      <tr>
                        <td>
                          <div class="service-name">${C.serviceName||"Service Booking"}</div>
                          <div class="service-description">Professional home service booking</div>
                        </td>
                        <td class="quantity-cell">1</td>
                        <td class="rate-cell">${(C.amount||0).toLocaleString("en-IN")}</td>
                        <td class="amount-cell">${(C.amount||0).toLocaleString("en-IN")}</td>
                      </tr>
                    `}
                </tbody>
              </table>
            </div>

            <!-- Totals Section -->
            <div class="totals-section">
              <table class="totals-table">
                <tr>
                  <td class="totals-label">Subtotal:</td>
                  <td class="totals-value">${(C.amount||0).toLocaleString("en-IN")}</td>
                </tr>
                ${C.gstAmount?`
                  <tr>
                    <td class="totals-label">GST (18%):</td>
                    <td class="totals-value">${C.gstAmount.toLocaleString("en-IN")}</td>
                  </tr>
                `:""}
                ${C.usewallet&&C.usewallet>0?`
                  <tr>
                    <td class="totals-label">Wallet Applied:</td>
                    <td class="totals-value">-${C.usewallet.toLocaleString("en-IN")}</td>
                  </tr>
                `:""}
                <tr class="total-row">
                  <td class="totals-label">TOTAL AMOUNT:</td>
                  <td class="totals-value">${(C.totalAmount||C.amount||0).toLocaleString("en-IN")}</td>
                </tr>
                ${C.paymentStatus==="failed"?`
                  <tr>
                    <td colspan="2" style="text-align: center; padding: 12px; background: #fee2e2; color: #dc2626; font-weight: 700; border-radius: 4px; margin-top: 8px;">
                       PAYMENT FAILED - AMOUNT NOT RECEIVED
                    </td>
                  </tr>
                `:""}
              </table>
            </div>

            <!-- Footer -->
            <div class="invoice-footer">
              <div class="footer-title">Thank You for Choosing Our Services!</div>
              <div class="footer-text">
                For any queries regarding this invoice, please contact us at 
                <span class="footer-contact">support@company.works</span> or call 
                <span class="footer-contact">+91-80-4567-8900</span>
              </div>
              <div class="footer-text">
                Visit our website at <span class="footer-contact">www.nexo.works</span> for more services
              </div>
              <div class="footer-legal">
                This is a computer-generated invoice and does not require a physical signature.<br>
                Subject to Bangalore jurisdiction. Terms and conditions apply.
              </div>
            </div>
          </div>
        </body>
      </html>
    `),W.document.close(),setTimeout(()=>{W.print(),W.close()},500)},ye=()=>{pe()},he=r;return o?t.jsx("div",{className:"flex items-center justify-center min-h-96",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Dt,{className:"animate-spin text-2xl text-primary"}),t.jsx("span",{className:"text-lg",children:"Loading bookings..."})]})}):m?t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 text-red-700",children:[t.jsx(Qn,{className:"text-xl"}),t.jsx("span",{className:"font-medium",children:"Error loading data"})]}),t.jsx("p",{className:"text-red-600 mt-2",children:m}),t.jsx("button",{onClick:Z,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Try Again"})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customer Bookings"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and assign bookings to partners"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:[t.jsx(Dt,{className:"text-sm"}),"Refresh"]}),t.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:[t.jsx(Na,{className:"text-sm"}),"Export"]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(Ed,{className:"text-gray-500"}),t.jsx("span",{className:"font-medium text-gray-700",children:"Filters & Search"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),t.jsxs("div",{className:"relative",children:[t.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search by customer, phone, service...",value:h.search,onChange:W=>_("search",W.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),t.jsxs("select",{value:h.dateRange,onChange:W=>_("dateRange",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Time"}),t.jsx("option",{value:"today",children:"Today"}),t.jsx("option",{value:"week",children:"This Week"}),t.jsx("option",{value:"month",children:"This Month"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),t.jsxs("select",{value:h.status,onChange:W=>_("status",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"confirmed",children:"Confirmed"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),t.jsx("div",{className:"flex items-end",children:t.jsx("button",{onClick:()=>p({dateRange:"all",status:"all",search:""}),className:"w-full px-3 py-2 text-sm text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Clear Filters"})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Bookings"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.totalItems}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Showing ",he.length," on this page"]})]}),t.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:t.jsx(ks,{className:"text-xl text-blue-600"})})]})}),t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Assignment"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:he.filter(W=>!W.partner&&W.partnerName==="Still not assigned").length}),t.jsx("p",{className:"text-xs text-gray-500",children:"On current page"})]}),t.jsx("div",{className:"p-3 bg-yellow-50 rounded-lg",children:t.jsx(Vf,{className:"text-xl text-yellow-600"})})]})}),t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Assigned"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:he.filter(W=>W.partner||W.partnerName!=="Still not assigned").length}),t.jsx("p",{className:"text-xs text-gray-500",children:"On current page"})]}),t.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:t.jsx(vt,{className:"text-xl text-green-600"})})]})}),t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Page Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",he.reduce((W,Ie)=>W+(Ie.amount||0),0).toLocaleString()]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Current page total"})]}),t.jsx("div",{className:"p-3 bg-purple-50 rounded-lg",children:t.jsx(Jt,{className:"text-xl text-purple-600"})})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"All Bookings"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned Partner"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:he.map(W=>{var Se,we,L,ue,ee,fe,xe,ve;const Ie=F(W.status);return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:t.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-semibold",children:((we=(Se=W.customerName)==null?void 0:Se.charAt(0))==null?void 0:we.toUpperCase())||"U"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.customerName||"Unknown Customer"}),t.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[t.jsx(rn,{className:"text-xs"}),W.customerPhone]})]})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.serviceName||"Service Booking"}),t.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[t.jsx(Pr,{className:"text-xs"}),((ue=(L=W.location)==null?void 0:L.address)==null?void 0:ue.substring(0,30))||"No address","..."]}),W.cartItems&&W.cartItems.length>0&&t.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[t.jsxs("p",{className:"text-xs font-medium text-gray-600 mb-1",children:["Items (",W.cartItems.length,"):"]}),t.jsxs("div",{className:"space-y-1",children:[W.cartItems.slice(0,2).map((Ne,Ke)=>t.jsxs("div",{className:"flex justify-between text-xs",children:[t.jsxs("span",{className:"text-gray-600 truncate",children:[" ",Ne.name||Ne.serviceName||"Service"]}),t.jsxs("span",{className:"text-gray-800 font-medium ml-2",children:["",Ne.price||Ne.total||Ne.amount||0]})]},Ke)),W.cartItems.length>2&&t.jsxs("p",{className:"text-xs text-gray-500 italic",children:["+",W.cartItems.length-2," more item(s)"]})]})]})]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Date(W.scheduledDate).toLocaleDateString()}),t.jsx("div",{className:"text-sm text-gray-500",children:W.scheduledTime})]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["",((ee=W.totalAmount)==null?void 0:ee.toLocaleString())||((fe=W.amount)==null?void 0:fe.toLocaleString())||"0"]}),W.totalAmount&&W.amount&&W.totalAmount!==W.amount&&t.jsxs("div",{className:"text-xs text-gray-500",children:["Base: ",(xe=W.amount)==null?void 0:xe.toLocaleString(),W.gstAmount&&t.jsxs("span",{className:"block",children:["GST: ",(ve=W.gstAmount)==null?void 0:ve.toLocaleString()]})]}),W.paymentStatus&&t.jsx("div",{className:`text-xs mt-1 ${W.paymentStatus==="completed"?"text-green-600":W.paymentStatus==="pending"?"text-yellow-600":"text-red-600"}`,children:W.paymentStatus})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${M(W.status)}`,children:[t.jsx(Ie,{className:"text-xs"}),W.status]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:W.partnerName&&W.partnerName!=="Still not assigned"?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:t.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center text-white font-semibold text-xs",children:(()=>{var dt;const Ne=W.partnerName||"P";return((dt=(typeof Ne=="string"?Ne.trim():"P").charAt(0))==null?void 0:dt.toUpperCase())||"P"})()})}),t.jsxs("div",{className:"ml-3 flex flex-col",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 leading-tight",children:W.partnerName&&W.partnerName!=="Still not assigned"?W.partnerName:"Unknown Partner"}),t.jsx("div",{className:"text-sm text-gray-500 leading-tight mt-1",children:W.partnerPhone&&W.partnerPhone!=="N/A"?W.partnerPhone:"No phone"})]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"Not assigned"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:t.jsxs("div",{className:"flex items-center gap-2",children:[W.partnerName==="Still not assigned"?t.jsxs("button",{onClick:()=>ae(W),className:"inline-flex items-center gap-1 px-3 py-1 bg-primary text-white rounded-lg hover:bg-primary-dark transition text-xs",children:[t.jsx(Vf,{className:"text-xs"}),"Assign"]}):t.jsxs("button",{onClick:()=>ae(W),className:"inline-flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition text-xs",children:[t.jsx(Ti,{className:"text-xs"}),"Change"]}),t.jsxs("button",{onClick:()=>{I(W),P(!0)},className:"inline-flex items-center gap-1 px-3 py-1 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition text-xs border border-green-200",children:[t.jsx(Gt,{className:"text-xs"}),"Invoice"]})]})})]},W._id)})})]})}),he.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ks,{className:"mx-auto text-4xl text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bookings found"}),t.jsx("p",{className:"text-gray-500",children:"No bookings match your current filters."})]})]}),f.totalItems>0&&t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 px-6 py-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(f.currentPage-1)*f.itemsPerPage+1," to"," ",Math.min(f.currentPage*f.itemsPerPage,f.totalItems)," of"," ",f.totalItems," bookings"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm text-gray-600",children:"Show:"}),t.jsxs("select",{value:f.itemsPerPage,onChange:W=>se(Number(W.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:10,children:"10"}),t.jsx("option",{value:20,children:"20"}),t.jsx("option",{value:50,children:"50"}),t.jsx("option",{value:100,children:"100"})]}),t.jsx("span",{className:"text-sm text-gray-600",children:"per page"})]})]}),f.totalPages>1&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>z(1),disabled:!f.hasPrevPage,className:`px-3 py-2 text-sm font-medium rounded-lg transition ${f.hasPrevPage?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"First"}),t.jsx("button",{onClick:()=>z(f.currentPage-1),disabled:!f.hasPrevPage,className:`px-3 py-2 text-sm font-medium rounded-lg transition ${f.hasPrevPage?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"Previous"}),t.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,f.totalPages)},(W,Ie)=>{let Se;return f.totalPages<=5||f.currentPage<=3?Se=Ie+1:f.currentPage>=f.totalPages-2?Se=f.totalPages-4+Ie:Se=f.currentPage-2+Ie,t.jsx("button",{onClick:()=>z(Se),className:`px-3 py-2 text-sm font-medium rounded-lg transition ${Se===f.currentPage?"bg-primary text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:Se},Se)})}),f.totalPages>5&&t.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Go to:"}),t.jsx("input",{type:"number",min:"1",max:f.totalPages,placeholder:"Page",className:"w-16 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-primary focus:border-transparent",onKeyPress:W=>{if(W.key==="Enter"){const Ie=parseInt(W.target.value);Ie>=1&&Ie<=f.totalPages&&(z(Ie),W.target.value="")}}})]}),t.jsx("button",{onClick:()=>z(f.currentPage+1),disabled:!f.hasNextPage,className:`px-3 py-2 text-sm font-medium rounded-lg transition ${f.hasNextPage?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"Next"}),t.jsx("button",{onClick:()=>z(f.totalPages),disabled:!f.hasNextPage,className:`px-3 py-2 text-sm font-medium rounded-lg transition ${f.hasNextPage?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"Last"})]})]})}),y&&j&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Assign Partner - ",j.serviceName]}),t.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Qn,{className:"text-xl"})})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Booking Details"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Customer: ",t.jsx("span",{className:"font-medium",children:j.customerName})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",t.jsx("span",{className:"font-medium",children:j.customerPhone})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Service: ",t.jsx("span",{className:"font-medium",children:j.serviceName})]})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",t.jsx("span",{className:"font-medium",children:new Date(j.scheduledDate).toLocaleDateString()})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Time: ",t.jsx("span",{className:"font-medium",children:j.scheduledTime})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Amount: ",t.jsxs("span",{className:"font-medium",children:["",j.totalAmount||j.amount]})]})]})]}),j.cartItems&&j.cartItems.length>0&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[t.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-2",children:["Booked Items (",j.cartItems.length,"):"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:j.cartItems.map((W,Ie)=>t.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:W.name||W.serviceName||"Service"}),W.quantity&&t.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",W.quantity]})]}),t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["",W.price||W.total||W.amount||0]})]},Ie))}),j.totalAmount&&j.amount&&j.totalAmount!==j.amount&&t.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100 text-xs text-gray-600",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Subtotal:"}),t.jsxs("span",{children:["",j.amount]})]}),j.gstAmount&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"GST (18%):"}),t.jsxs("span",{children:["",j.gstAmount]})]}),t.jsxs("div",{className:"flex justify-between font-semibold text-gray-900 border-t border-gray-200 pt-1 mt-1",children:[t.jsx("span",{children:"Total:"}),t.jsxs("span",{children:["",j.totalAmount]})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:"Available Partners"}),t.jsxs("div",{className:"text-sm text-gray-500",children:[G.length," of ",a.length," partners"]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Partners"}),t.jsxs("div",{className:"relative",children:[t.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm"}),t.jsx("input",{type:"text",placeholder:"Name, phone, location...",value:O.search,onChange:W=>V("search",W.target.value),className:"w-full pl-9 pr-9 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",autoFocus:!0}),O.search&&t.jsx("button",{onClick:()=>V("search",""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t.jsx(Qn,{className:"text-sm"})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Sort By",O.sortOrder==="asc"?t.jsx(or,{className:"inline ml-1 text-xs text-green-600"}):t.jsx(cd,{className:"inline ml-1 text-xs text-red-600"})]}),t.jsxs("select",{value:O.sortBy,onChange:W=>V("sortBy",W.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"name",children:"Partner Name"}),t.jsx("option",{value:"leads",children:"Remaining Leads"}),t.jsx("option",{value:"mgPlan",children:"MG Plan"}),t.jsx("option",{value:"leadUsage",children:"Lead Usage %"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),t.jsxs("select",{value:O.sortOrder,onChange:W=>V("sortOrder",W.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"asc",children:O.sortBy==="name"||O.sortBy==="mgPlan"?"A to Z":"Low to High"}),t.jsx("option",{value:"desc",children:O.sortBy==="name"||O.sortBy==="mgPlan"?"Z to A":"High to Low"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Partner Type"}),t.jsxs("select",{value:O.partnerType,onChange:W=>V("partnerType",W.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"franchise",children:"Franchise"}),t.jsx("option",{value:"individual",children:"Individual"})]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[t.jsx("button",{onClick:()=>R(W=>({...W,search:"",sortBy:"leads",sortOrder:"desc"})),className:"px-3 py-1 text-xs bg-green-100 text-green-700 rounded-full hover:bg-green-200 transition",children:"Most Leads Available"}),t.jsx("button",{onClick:()=>R(W=>({...W,search:"",sortBy:"leadUsage",sortOrder:"asc"})),className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200 transition",children:"Least Used"}),t.jsx("button",{onClick:()=>R(W=>({...W,search:"",partnerType:"franchise",sortBy:"name",sortOrder:"asc"})),className:"px-3 py-1 text-xs bg-purple-100 text-purple-700 rounded-full hover:bg-purple-200 transition",children:"Franchise Only"}),t.jsx("button",{onClick:()=>R(W=>({...W,search:"",partnerType:"individual",sortBy:"name",sortOrder:"asc"})),className:"px-3 py-1 text-xs bg-indigo-100 text-indigo-700 rounded-full hover:bg-indigo-200 transition",children:"Individual Only"}),t.jsx("button",{onClick:()=>R(W=>({...W,search:"",partnerType:"all",sortBy:"name",sortOrder:"asc"})),className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition",children:"Reset Filters"})]})]}),c?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(Dt,{className:"animate-spin text-xl text-primary mr-2"}),t.jsx("span",{children:"Loading partners..."})]}):t.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[G.map(W=>{var ue,ee,fe,xe,ve,Ne;const Ie=B(W),Se=q(W),we=j.partnerId===W._id,L=i[W._id]||[];return t.jsxs("div",{className:`border rounded-lg p-4 ${we?"border-primary bg-primary-50":"border-gray-200"}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:t.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-primary to-primary-dark flex items-center justify-center text-white font-semibold",children:((fe=(ee=(ue=W.profile)==null?void 0:ue.name)==null?void 0:ee.charAt(0))==null?void 0:fe.toUpperCase())||"P"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("h5",{className:"font-medium text-gray-900",children:((xe=W.profile)==null?void 0:xe.name)||"Unknown Partner"}),we&&t.jsx("span",{className:"px-2 py-1 bg-primary text-white text-xs rounded-full",children:"Current"}),W.partnerType==="franchise"&&t.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Franchise"}),W.mgPlan&&t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:W.mgPlan.name}),!W.mgPlan&&t.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:"No Plan"})]}),t.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[t.jsx(rn,{className:"text-xs"}),W.phone]}),t.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[t.jsx(Pr,{className:"text-xs"}),((ve=W.profile)==null?void 0:ve.address)||((Ne=W.profile)==null?void 0:Ne.city)||"Location not specified"]}),W.partnerType==="franchise"&&t.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[t.jsx(Lr,{className:"text-xs"}),"Team: ",L.length," member",L.length!==1?"s":""]})]})]}),t.jsxs("div",{className:"text-right",children:[W.mgPlan?t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.mgPlan.name}),t.jsxs("div",{className:"text-xs text-gray-500",children:["",W.mgPlan.price]}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsxs("div",{className:"text-xs text-gray-600",children:[W.mgPlanLeadsUsed||0,"/",W.mgPlanLeadQuota||0," leads"]}),t.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-1",children:t.jsx("div",{className:`h-1 rounded-full ${Se>=90?"bg-red-500":Se>=70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Se}%`}})})]}),t.jsxs("div",{className:`text-xs font-medium flex items-center gap-1 ${typeof Ie=="number"&&Ie<=5?"text-red-600":"text-green-600"}`,children:[typeof Ie=="number"&&Ie<=5?t.jsx(Jn,{className:"text-xs"}):t.jsx(vt,{className:"text-xs"}),Ie," remaining"]})]}):t.jsx("div",{className:"mb-3",children:t.jsx("span",{className:"text-xs text-gray-400",children:"No MG Plan"})}),t.jsx("button",{onClick:()=>te(W._id),disabled:N===W._id||typeof Ie=="number"&&Ie<=0,className:`px-4 py-2 rounded-lg text-sm font-medium transition ${N===W._id?"bg-gray-300 text-gray-500 cursor-not-allowed":typeof Ie=="number"&&Ie<=0?"bg-red-100 text-red-600 cursor-not-allowed":we?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-primary text-white hover:bg-primary-dark"}`,children:N===W._id?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Dt,{className:"animate-spin text-xs"}),"Assigning..."]}):typeof Ie=="number"&&Ie<=0?"No Leads Left":we?"Currently Assigned":"Assign Partner"})]})]}),W.partnerType==="franchise"&&L.length>0&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[t.jsxs("h6",{className:"text-sm font-medium text-gray-700 mb-3",children:["Team Members (",L.length,")"]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[L.slice(0,4).map(Ke=>{var dt,ke;return t.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:t.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-gray-400 to-gray-600 flex items-center justify-center text-white font-semibold text-xs",children:((ke=(dt=Ke.name)==null?void 0:dt.charAt(0))==null?void 0:ke.toUpperCase())||"T"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-xs font-medium text-gray-900 truncate",children:Ke.name}),t.jsx("div",{className:"text-xs text-gray-500 capitalize",children:Ke.role||"technician"})]})]},Ke._id)}),L.length>4&&t.jsxs("div",{className:"flex items-center justify-center p-2 bg-gray-50 rounded-lg text-xs text-gray-500",children:["+",L.length-4," more"]})]})]})]},W._id)}),G.length===0&&a.length>0&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx(jn,{className:"mx-auto text-3xl text-gray-400 mb-2"}),t.jsx("p",{className:"text-gray-500",children:"No partners match your search criteria"}),t.jsx("button",{onClick:()=>R(W=>({...W,search:""})),className:"mt-2 text-sm text-primary hover:text-primary-dark",children:"Clear search"})]}),a.length===0&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Lr,{className:"mx-auto text-3xl text-gray-400 mb-2"}),t.jsx("p",{className:"text-gray-500",children:"No partners available"})]})]})]})]})]})}),k&&C&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full shadow-2xl overflow-hidden animate-slide-up my-8",children:[t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-light p-6 text-white flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(Gt,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold",children:"Invoice"}),t.jsxs("p",{className:"text-blue-100 text-sm",children:["Booking #",C._id.slice(-8)]})]})]}),t.jsx("button",{onClick:()=>P(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:t.jsx(xt,{size:24})})]}),t.jsxs("div",{className:"p-8",children:[t.jsx("div",{ref:A,children:t.jsxs("div",{className:"invoice-container",children:[t.jsxs("div",{className:"invoice-header text-center mb-8 pb-6 border-b-2 border-primary",children:[t.jsx("div",{className:"invoice-logo flex justify-center items-center mb-6",children:t.jsxs("div",{className:"logo-display-container",children:[t.jsx("img",{src:"/logo.png",alt:"Company Logo",className:"h-24 w-auto max-w-xs object-contain mx-auto",style:{filter:"drop-shadow(0 2px 8px rgba(0, 0, 0, 0.1))"},onError:W=>{W.target.style.display="none",W.target.nextElementSibling.style.display="block"}}),t.jsx("div",{className:"hidden flex justify-center items-center",children:t.jsxs("svg",{width:"96",height:"96",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mx-auto",children:[t.jsx("path",{d:"M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z",fill:"#3b82f6"}),t.jsx("path",{d:"M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z",fill:"#3b82f6"}),t.jsx("path",{d:"M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z",fill:"#3b82f6"}),t.jsx("path",{d:"M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z",fill:"#3b82f6"}),t.jsx("circle",{cx:"24",cy:"24",r:"3",fill:"#ffffff"})]})})]})}),t.jsx("p",{className:"text-gray-600",children:"Professional Home Services"}),t.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Invoice Date: ",new Date().toLocaleDateString("en-IN")]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:"Bill To:"}),t.jsx("p",{className:"text-gray-700 font-medium",children:C.customerName||"Customer"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:C.customerPhone||"N/A"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:C.customerEmail||"N/A"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:((Qe=C.location)==null?void 0:Qe.address)||C.address||"N/A"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:"Invoice Details:"}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Invoice #: ",t.jsxs("span",{className:"font-medium text-gray-800",children:["INV-",C._id.slice(-8).toUpperCase()]})]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Booking ID: ",t.jsxs("span",{className:"font-medium text-gray-800",children:["#",C._id.slice(-8)]})]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Date: ",t.jsx("span",{className:"font-medium text-gray-800",children:new Date(C.scheduledDate).toLocaleDateString("en-IN")})]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Status: ",t.jsx("span",{className:`font-medium capitalize ${C.status==="completed"?"text-green-600":"text-blue-600"}`,children:C.status})]}),C.paymentStatus&&t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Payment:",t.jsx("span",{className:`font-bold ml-1 ${C.paymentStatus==="failed"?"text-red-600":C.paymentStatus==="completed"?"text-green-600":C.paymentStatus==="pending"?"text-yellow-600":"text-gray-600"}`,children:C.paymentStatus==="failed"?"PAYMENT FAILED":C.paymentStatus.toUpperCase()})]}),C.partnerName&&C.partnerName!=="Still not assigned"?t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Partner: ",t.jsx("span",{className:"font-medium text-gray-800",children:C.partnerName})]}):t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Partner: ",t.jsx("span",{className:"font-medium text-red-600",children:"Not Assigned"})]})]})]}),t.jsxs("table",{className:"w-full border-collapse mb-8",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-100",children:[t.jsx("th",{className:"text-left p-4 font-bold text-gray-800 border-b-2 border-gray-300",children:"Service Description"}),t.jsx("th",{className:"text-center p-4 font-bold text-gray-800 border-b-2 border-gray-300",children:"Quantity"}),t.jsx("th",{className:"text-right p-4 font-bold text-gray-800 border-b-2 border-gray-300",children:"Amount"})]})}),t.jsx("tbody",{children:C.cartItems&&C.cartItems.length>0?C.cartItems.map((W,Ie)=>t.jsxs("tr",{children:[t.jsxs("td",{className:"p-4 border-b border-gray-200",children:[t.jsx("p",{className:"font-medium text-gray-800",children:W.name||W.serviceName}),W.description&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:W.description})]}),t.jsx("td",{className:"p-4 text-center border-b border-gray-200 text-gray-700",children:W.quantity||1}),t.jsxs("td",{className:"p-4 text-right border-b border-gray-200 font-medium text-gray-800",children:["",W.price||W.amount||0]})]},Ie)):t.jsxs("tr",{children:[t.jsxs("td",{className:"p-4 border-b border-gray-200",children:[t.jsx("p",{className:"font-medium text-gray-800",children:C.serviceName||"Service"}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Booking Date: ",new Date(C.scheduledDate).toLocaleDateString("en-IN")]}),C.scheduledTime&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Time: ",C.scheduledTime]})]}),t.jsx("td",{className:"p-4 text-center border-b border-gray-200 text-gray-700",children:"1"}),t.jsxs("td",{className:"p-4 text-right border-b border-gray-200 font-medium text-gray-800",children:["",C.amount||C.totalAmount||0]})]})})]}),t.jsx("div",{className:"flex justify-end mb-8",children:t.jsxs("div",{className:"w-64",children:[t.jsxs("div",{className:"flex justify-between py-2 text-gray-700",children:[t.jsx("span",{children:"Subtotal:"}),t.jsxs("span",{children:["",C.amount||C.totalAmount||0]})]}),C.gstAmount>0&&t.jsxs("div",{className:"flex justify-between py-2 text-gray-700",children:[t.jsx("span",{children:"GST (18%):"}),t.jsxs("span",{children:["",C.gstAmount]})]}),C.usewallet>0&&t.jsxs("div",{className:"flex justify-between py-2 text-green-600",children:[t.jsx("span",{children:"Wallet Used:"}),t.jsxs("span",{children:["- ",C.usewallet]})]}),C.discount>0&&t.jsxs("div",{className:"flex justify-between py-2 text-green-600",children:[t.jsx("span",{children:"Discount:"}),t.jsxs("span",{children:["- ",C.discount]})]}),t.jsxs("div",{className:"flex justify-between py-3 border-t-2 border-gray-300 font-bold text-lg text-primary",children:[t.jsx("span",{children:"Total Amount:"}),t.jsxs("span",{children:["",C.totalAmount||C.amount||0]})]}),C.paymentStatus==="failed"&&t.jsx("div",{className:"mt-3 p-3 bg-red-50 border-2 border-red-200 rounded-lg text-center",children:t.jsx("p",{className:"text-red-700 font-bold",children:" PAYMENT FAILED - AMOUNT NOT RECEIVED"})})]})}),t.jsxs("div",{className:"text-center pt-6 border-t border-gray-300",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Thank you for choosing our services!"}),t.jsx("p",{className:"text-xs text-gray-500",children:"For any queries, contact us at support@company.works | +91 1800-XXX-XXXX"}),t.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"This is a computer-generated invoice and does not require a signature."})]})]})}),t.jsxs("div",{className:"flex gap-4 mt-8 pt-6 border-t border-gray-200",children:[t.jsxs("button",{onClick:pe,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-primary text-white rounded-xl hover:bg-primary-dark transition-all font-semibold",children:[t.jsx(Zo,{size:20}),"Print Invoice"]}),t.jsxs("button",{onClick:ye,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all font-semibold",children:[t.jsx(Na,{size:20}),"Download PDF"]}),t.jsx("button",{onClick:()=>P(!1),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-all",children:"Close"})]})]})]})})]})},lh=[{emoji:"",name:"Wrench",category:"Tools"},{emoji:"",name:"Hammer",category:"Tools"},{emoji:"",name:"Tools",category:"Tools"},{emoji:"",name:"Gear",category:"Tools"},{emoji:"",name:"Nut & Bolt",category:"Tools"},{emoji:"",name:"Electrical",category:"Electrical"},{emoji:"",name:"Light Bulb",category:"Electrical"},{emoji:"",name:"Plug",category:"Electrical"},{emoji:"",name:"Antenna",category:"Electrical"},{emoji:"",name:"Battery",category:"Electrical"},{emoji:"",name:"Shower",category:"Plumbing"},{emoji:"",name:"Water",category:"Plumbing"},{emoji:"",name:"Droplet",category:"Plumbing"},{emoji:"",name:"Wave",category:"Plumbing"},{emoji:"",name:"Tap",category:"Plumbing"},{emoji:"",name:"Paint",category:"Painting"},{emoji:"",name:"Paintbrush",category:"Painting"},{emoji:"",name:"Frame",category:"Decor"},{emoji:"",name:"Window",category:"Decor"},{emoji:"",name:"Door",category:"Decor"},{emoji:"",name:"Snowflake",category:"AC"},{emoji:"",name:"Thermometer",category:"AC"},{emoji:"",name:"Cyclone",category:"AC"},{emoji:"",name:"Wind",category:"AC"},{emoji:"",name:"Broom",category:"Cleaning"},{emoji:"",name:"Sponge",category:"Cleaning"},{emoji:"",name:"Bottle",category:"Cleaning"},{emoji:"",name:"Soap",category:"Cleaning"},{emoji:"",name:"Fire Extinguisher",category:"Safety"},{emoji:"",name:"Paperclip",category:"Hardware"},{emoji:"",name:"Pushpin",category:"Hardware"},{emoji:"",name:"Lock",category:"Hardware"},{emoji:"",name:"Key",category:"Hardware"},{emoji:"",name:"Hook",category:"Hardware"},{emoji:"",name:"TV",category:"Appliances"},{emoji:"",name:"Phone",category:"Appliances"},{emoji:"",name:"Laptop",category:"Appliances"},{emoji:"",name:"Computer",category:"Appliances"},{emoji:"",name:"Keyboard",category:"Appliances"},{emoji:"",name:"Construction",category:"Building"},{emoji:"",name:"Brick",category:"Building"},{emoji:"",name:"House",category:"Building"},{emoji:"",name:"Building",category:"Building"},{emoji:"",name:"Factory",category:"Building"},{emoji:"",name:"Package",category:"Storage"},{emoji:"",name:"Clipboard",category:"Storage"},{emoji:"",name:"Card Index",category:"Storage"},{emoji:"",name:"Folder",category:"Storage"},{emoji:"",name:"File Cabinet",category:"Storage"},{emoji:"",name:"Toolbox",category:"General"},{emoji:"",name:"Shopping Cart",category:"General"},{emoji:"",name:"Chart",category:"General"},{emoji:"",name:"Star",category:"General"},{emoji:"",name:"Sparkle",category:"General"},{emoji:"",name:"Glowing Star",category:"General"},{emoji:"",name:"Diamond",category:"General"},{emoji:"",name:"Target",category:"General"},{emoji:"",name:"Check Mark",category:"General"},{emoji:"",name:"Magnifying Glass",category:"General"},{emoji:"",name:"Ladder",category:"Tools"},{emoji:"",name:"Bucket",category:"Tools"},{emoji:"",name:"Magnet",category:"Tools"},{emoji:"",name:"Flashlight",category:"Tools"},{emoji:"",name:"Screwdriver",category:"Tools"}],Z6e=[{header:"SKU",accessor:"sku"},{header:"Part Name",accessor:"name"},{header:"Category",accessor:"category"},{header:"Location",accessor:"location"},{header:"Stock",accessor:"stock",render:(e,r)=>{const s=typeof e=="string"?e:`${r.stock||0} ${r.unit||"units"}`;return t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${r.status==="Critical"?"bg-rose-500/10 text-rose-600":r.status==="Low"?"bg-amber-500/10 text-amber-600":"bg-emerald-500/10 text-emerald-600"}`,children:s})}},{header:"Supplier",accessor:"supplier"},{header:"Lead Time",accessor:"leadTime",render:e=>typeof e=="string"?e:`${e||0} days`},{header:"Actions",accessor:"_id",render:e=>t.jsx("button",{onClick:()=>fetchItemHistory(e),className:"p-1.5 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",title:"View History",children:t.jsx(Xr,{className:"w-4 h-4"})})}],e5e=[{header:"PO",accessor:"poId"},{header:"Supplier",accessor:"supplier"},{header:"Parts",accessor:"items",render:e=>typeof e=="string"?e:Array.isArray(e)?e.map(r=>`${r.name||r.sku} (${r.quantity})`).join(", "):"N/A"},{header:"Value",accessor:"value",render:(e,r)=>{if(typeof e=="string")return e;const s=r.totalValue||0;return s>1e5?`${(s/1e5).toFixed(1)}L`:`${s.toLocaleString()}`}},{header:"Status",accessor:"status",render:e=>t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${e==="Delivered"?"bg-emerald-500/10 text-emerald-600":e==="In Transit"?"bg-blue-500/10 text-blue-600":e==="Pending"?"bg-amber-500/10 text-amber-600":e==="Cancelled"?"bg-rose-500/10 text-rose-600":"bg-slate-500/10 text-slate-600"}`,children:e})},{header:"ETA",accessor:"eta",render:(e,r)=>typeof e=="string"?e:r.expectedDeliveryDate?new Date(r.expectedDeliveryDate).toLocaleDateString("en-GB",{day:"numeric",month:"short"}):"N/A"}],t5e=()=>{var pt,ge;const{token:e}=wr(),[r,s]=g.useState("inventory"),[a,n]=g.useState(!1),[i,l]=g.useState(null),[o,d]=g.useState({name:"",icon:"",items:[],order:0,isActive:!0}),[c,u]=g.useState({name:"",priceMin:"",priceMax:""}),[m,x]=g.useState(!1),[h,p]=g.useState(""),[f,b]=g.useState(""),[j,w]=g.useState(!1),[y,v]=g.useState(""),[N,S]=g.useState(!1),[k,P]=g.useState(!1),[C,I]=g.useState({supplier:"",supplierContact:"",expectedDeliveryDate:"",notes:"",items:[]}),[A,O]=g.useState({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""}),[R,Z]=g.useState(""),[Y,ce]=g.useState(!1),[D,z]=g.useState(!1),[se,K]=g.useState(null),[_,M]=g.useState([]),F=g.useRef(null),[B,q]=g.useState({category:"",minStockLevel:5,reorderLevel:10,criticalLevel:3,autoReorder:!1,autoReorderQuantity:20,leadTimeDays:7}),{data:ae,refresh:V}=dr(U=>We.fetchInventoryStats(U),[]),{data:G,isLoading:te,error:pe,refresh:ye}=dr(U=>We.fetchInventoryItems(U),[]),{data:he,isLoading:Qe,error:W,refresh:Ie}=dr(U=>We.fetchPurchaseOrders(U),[]),{data:Se,isLoading:we,error:L,refresh:ue}=dr(U=>We.fetchMaterialCategories(U),[]),{data:ee,isLoading:fe,error:xe,refresh:ve}=dr(U=>We.fetchVendorSpareParts(U),[]),Ne=(Se==null?void 0:Se.data)||[],Ke=(G==null?void 0:G.data)||[],dt=(he==null?void 0:he.data)||[],ke=(ae==null?void 0:ae.data)||{},Re=(ee==null?void 0:ee.data)||[];g.useEffect(()=>{const U=de=>{F.current&&!F.current.contains(de.target)&&ce(!1)};return Y&&document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[Y]);const Tt=[{label:"Inventory Value",value:ke.valuation||"0",trend:"Real-time",icon:tZ,description:`Across ${ke.totalItems||0} items`},{label:"Critical SKUs",value:ke.criticalCount||0,trend:ke.criticalCount>0?"Action required":"All good",icon:pj,intent:ke.criticalCount>0?"warning":"positive",description:"Below configured safety stock"},{label:"Active Suppliers",value:ke.suppliers||0,trend:"Active vendors",icon:iZ,description:"With active purchase orders"},{label:"In-transit Shipments",value:ke.inTransit||0,trend:"Pending delivery",icon:sD,description:"Purchase orders in transit"}],Rt=(U=null)=>{U?(l(U._id),d({name:U.name||"",icon:U.icon||"",items:U.items||[],order:U.order||0,isActive:U.isActive!==void 0?U.isActive:!0})):(l(null),d({name:"",icon:"",items:[],order:Ne.length>0?Math.max(...Ne.map(de=>de.order||0))+1:0,isActive:!0})),u({name:"",priceMin:"",priceMax:""}),n(!0),b(""),p("")},be=()=>{n(!1),l(null),d({name:"",icon:"",items:[],order:0,isActive:!0}),u({name:"",priceMin:"",priceMax:""}),b(""),p(""),w(!1),v("")},T=()=>{c.name.trim()&&(d(U=>({...U,items:[...U.items,{name:c.name.trim(),priceMin:c.priceMin?Number(c.priceMin):null,priceMax:c.priceMax?Number(c.priceMax):null}]})),u({name:"",priceMin:"",priceMax:""}))},ie=U=>{d(de=>({...de,items:de.items.filter((Ve,Je)=>Je!==U)}))},Te=async U=>{U.preventDefault(),x(!0),b(""),p("");try{if(!o.name||!o.icon||o.items.length===0){b("Please fill in all required fields and add at least one item"),x(!1);return}i?(await We.updateMaterialCategory(e,i,o),p("Material category updated successfully!")):(await We.createMaterialCategory(e,o),p("Material category created successfully!")),setTimeout(()=>{ue(),be()},1e3)}catch(de){b(de.message||"Failed to save material category")}finally{x(!1)}},qe=async U=>{if(window.confirm("Are you sure you want to delete this material category?"))try{await We.deleteMaterialCategory(e,U),p("Material category deleted successfully!"),setTimeout(()=>{ue(),p("")},1e3)}catch(de){b(de.message||"Failed to delete material category"),setTimeout(()=>b(""),3e3)}},At=async(U,de)=>{const Ve=Ne.findIndex(et=>et._id===U);if(Ve===-1)return;const Je=de==="up"?Ve-1:Ve+1;if(Je<0||Je>=Ne.length)return;const Ge=[...Ne],[me]=Ge.splice(Ve,1);Ge.splice(Je,0,me);const Be=Ge.map((et,mt)=>({id:et._id,order:mt}));try{await We.updateMaterialCategoryOrder(e,Be),ue()}catch(et){b(et.message||"Failed to update order"),setTimeout(()=>b(""),3e3)}},ft=[{header:"Icon",accessor:"icon",render:U=>t.jsx("span",{className:"text-2xl",children:U})},{header:"Name",accessor:"name"},{header:"Items",accessor:"items",render:U=>t.jsxs("span",{className:"text-sm text-slate-600",children:[Array.isArray(U)?U.length:0," items"]})},{header:"Status",accessor:"isActive",render:U=>t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${U?"bg-emerald-500/10 text-emerald-600":"bg-slate-500/10 text-slate-600"}`,children:U?"Active":"Inactive"})},{header:"Order",accessor:"order"},{header:"Actions",accessor:"_id",render:(U,de)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>At(U,"up"),className:"p-1.5 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",disabled:Ne.findIndex(Ve=>Ve._id===U)===0,children:t.jsx($f,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>At(U,"down"),className:"p-1.5 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",disabled:Ne.findIndex(Ve=>Ve._id===U)===Ne.length-1,children:t.jsx(Bf,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>Rt(de),className:"p-1.5 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition",children:t.jsx(Cs,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>qe(U),className:"p-1.5 text-slate-600 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",children:t.jsx(la,{className:"w-4 h-4"})})]})}];return t.jsxs("div",{children:[t.jsx(ys,{title:"Spare Parts",subtitle:"Stay ahead of technician demand with predictive inventory, supplier tracking, and automated procurement flows.",actions:t.jsxs("div",{className:"flex gap-2",children:[r==="materials"&&t.jsxs("button",{onClick:()=>Rt(),className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition flex items-center gap-2",children:[t.jsx(Tr,{className:"w-4 h-4"}),"Add Material Category"]}),r==="inventory"&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>S(!0),className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition flex items-center gap-2",children:[t.jsx(Tr,{className:"w-4 h-4"}),"Create Purchase Order"]}),t.jsx("button",{onClick:()=>P(!0),className:"px-4 py-2 rounded-xl border border-primary text-primary text-sm font-semibold hover:bg-primary/10 transition",children:"Configure Thresholds"})]})]})}),t.jsxs("div",{className:"flex gap-2 mb-6 border-b border-slate-200",children:[t.jsx("button",{onClick:()=>s("inventory"),className:`px-4 py-2 font-semibold text-sm transition ${r==="inventory"?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"}`,children:"Inventory"}),t.jsx("button",{onClick:()=>s("materials"),className:`px-4 py-2 font-semibold text-sm transition ${r==="materials"?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"}`,children:"Available Materials"}),t.jsx("button",{onClick:()=>s("vendor-parts"),className:`px-4 py-2 font-semibold text-sm transition ${r==="vendor-parts"?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"}`,children:"Vendor Spare Parts"})]}),h&&t.jsx("div",{className:"mb-4 p-3 bg-emerald-50 border border-emerald-200 text-emerald-700 rounded-lg text-sm",children:h}),f&&t.jsx("div",{className:"mb-4 p-3 bg-rose-50 border border-rose-200 text-rose-700 rounded-lg text-sm",children:f}),r==="materials"&&t.jsxs("section",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Material Categories"}),we&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading..."}),L&&t.jsx("span",{className:"text-xs text-rose-500",children:"Error loading materials"})]}),t.jsx(Oa,{columns:ft,data:Ne,emptyLabel:"No material categories found. Click 'Add Material Category' to create one."})]}),r==="vendor-parts"&&t.jsxs("section",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Vendor Spare Parts"}),t.jsxs("div",{className:"flex items-center gap-3",children:[xe&&t.jsxs("span",{className:"text-xs text-rose-500",children:["Error loading vendor parts. ",Re.length>0?`Showing ${Re.length} cached items.`:"Please refresh."]}),fe&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading..."}),!fe&&!xe&&t.jsxs("span",{className:"text-xs text-slate-500",children:[Re.length," parts"]}),t.jsxs("button",{onClick:()=>ve(),className:"text-xs text-primary hover:text-primary-dark font-semibold flex items-center gap-1",children:[t.jsx(Dt,{className:"w-3 h-3"}),"Refresh"]})]})]}),t.jsx(Oa,{columns:[{header:"Image/Icon",accessor:"image",render:(U,de)=>t.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-slate-100 flex items-center justify-center",children:de.image?t.jsx("img",{src:de.image,alt:de.name,className:"w-full h-full object-cover"}):de.icon?t.jsx("span",{className:"text-2xl",children:de.icon}):t.jsx(gs,{className:"w-6 h-6 text-slate-400"})})},{header:"Name",accessor:"name"},{header:"Category",accessor:"category"},{header:"Brand",accessor:"brand"},{header:"Price",accessor:"price",render:U=>`${(U==null?void 0:U.toLocaleString("en-IN"))||0}`},{header:"Stock",accessor:"stock",render:(U,de)=>`${U||0} ${de.unit||"units"}`},{header:"Vendor",accessor:"vendor",render:U=>typeof U=="object"&&U!==null?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vr,{className:"w-4 h-4 text-slate-400"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium",children:U.name||"N/A"}),t.jsx("div",{className:"text-xs text-slate-500",children:U.companyName||U.email||""})]})]}):"N/A"},{header:"Status",accessor:"status",render:U=>t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${U==="active"?"bg-emerald-500/10 text-emerald-600":U==="out_of_stock"?"bg-rose-500/10 text-rose-600":"bg-slate-500/10 text-slate-600"}`,children:U==="out_of_stock"?"Out of Stock":U||"Inactive"})},{header:"Actions",accessor:"_id",render:(U,de)=>t.jsx("button",{onClick:()=>{var Ve;return window.open(`/admin/vendors/${((Ve=de.vendor)==null?void 0:Ve._id)||de.vendor}`,"_blank")},className:"p-1.5 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",title:"View Vendor",children:t.jsx(Ti,{className:"w-4 h-4"})})}],data:Re,emptyLabel:"No vendor spare parts found. Vendors can add spare parts from their dashboard."})]}),r==="inventory"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:Tt.map(U=>t.jsx(Zn,{...U},U.label))}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("section",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Inventory Positions"}),t.jsxs("div",{className:"flex items-center gap-3",children:[pe&&t.jsxs("span",{className:"text-xs text-rose-500",children:["Error loading inventory data. ",Ke.length>0?`Showing ${Ke.length} cached items.`:"Please refresh."]}),te&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading stock data..."}),!te&&!pe&&t.jsxs("span",{className:"text-xs text-slate-500",children:[Ke.length," items"]}),t.jsxs("button",{onClick:()=>ye(),className:"text-xs text-primary hover:text-primary-dark font-semibold flex items-center gap-1",children:[t.jsx(Dt,{className:"w-3 h-3"}),"Refresh"]})]})]}),t.jsx(Oa,{columns:Z6e,data:Ke,emptyLabel:"No inventory items found. Add items to track stock levels."})]}),t.jsxs("section",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Available Material Categories"}),t.jsxs("span",{className:"text-xs text-slate-500",children:[Ne.length," categories"]})]}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:we?t.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"Loading materials..."}):Ne.length===0?t.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No material categories found"}):t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Ne.map(U=>t.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary/5 to-primary/10 rounded-xl border border-primary/20",children:[t.jsx("div",{className:"text-3xl mb-2",children:U.icon}),t.jsx("div",{className:"font-semibold text-sm text-primary mb-1",children:U.name}),t.jsxs("div",{className:"text-xs text-slate-600",children:[Array.isArray(U.items)?U.items.length:0," items"]})]},U._id))})})]}),t.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Procurement Tracker"}),W&&t.jsx("span",{className:"text-xs text-rose-500",children:"Error loading orders"}),Qe&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading..."})]}),t.jsx(Oa,{columns:e5e,data:dt,emptyLabel:"No purchase orders found. Create a purchase order to track procurement."})]}),t.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Supplier SLA Watch"}),t.jsx("p",{className:"text-sm text-white/75 leading-relaxed",children:"Track lead times, fill rate, and defect rate for each supplier. Auto-notify procurement ops when SLA breaches exceed configured thresholds."}),t.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[t.jsx("li",{children:" Auto-assign alternate supplier if new ETA > threshold"}),t.jsx("li",{children:" Auto-create debit notes for warranty failure"}),t.jsx("li",{children:" Maintain compliance badges for marketplace visibility"})]})]})]})]})]}),N&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-5 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Create Purchase Order"}),t.jsx("button",{onClick:()=>{S(!1),I({supplier:"",supplierContact:"",expectedDeliveryDate:"",notes:"",items:[]}),O({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""}),Z(""),ce(!1)},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:async U=>{if(U.preventDefault(),C.items.length===0){b("Please add at least one item to the purchase order");return}x(!0);try{await We.createPurchaseOrder(e,{...C,expectedDeliveryDate:new Date(C.expectedDeliveryDate).toISOString()}),p("Purchase order created successfully!"),Ie(),V(),setTimeout(()=>{S(!1),I({supplier:"",supplierContact:"",expectedDeliveryDate:"",notes:"",items:[]}),O({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""}),Z(""),ce(!1)},1e3)}catch(de){b(de.message||"Failed to create purchase order")}finally{x(!1)}},className:"p-5 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Supplier *"}),t.jsx("input",{type:"text",value:C.supplier,onChange:U=>I(de=>({...de,supplier:U.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Contact"}),t.jsx("input",{type:"text",value:C.supplierContact,onChange:U=>I(de=>({...de,supplierContact:U.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Expected Delivery Date *"}),t.jsx("input",{type:"date",value:C.expectedDeliveryDate,onChange:U=>I(de=>({...de,expectedDeliveryDate:U.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Items *"}),t.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 space-y-3",children:[t.jsxs("div",{className:"mb-4 pb-4 border-b border-slate-200",children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Select from Existing Inventory Items"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1 relative",ref:F,children:[t.jsx(jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4"}),t.jsx("input",{type:"text",placeholder:"Search inventory items by SKU, name, or category...",value:R,onChange:U=>{Z(U.target.value),ce(!0)},onFocus:()=>ce(!0),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-primary focus:border-transparent"}),Y&&Ke.length>0&&t.jsxs("div",{className:"absolute z-20 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[Ke.filter(U=>{var de,Ve,Je;return R===""||((de=U.sku)==null?void 0:de.toLowerCase().includes(R.toLowerCase()))||((Ve=U.name)==null?void 0:Ve.toLowerCase().includes(R.toLowerCase()))||((Je=U.category)==null?void 0:Je.toLowerCase().includes(R.toLowerCase()))}).slice(0,10).map(U=>t.jsxs("button",{type:"button",onClick:()=>{typeof U.stock=="string"?parseInt(U.stock.split(" ")[0]):U.stock,O({selectedInventoryItem:U._id,sku:U.sku,name:U.name,quantity:"",unitPrice:U.unitPrice||0}),Z(`${U.sku} - ${U.name}`),ce(!1)},className:"w-full text-left px-4 py-2 hover:bg-primary/10 transition flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-sm",children:U.sku}),t.jsx("div",{className:"text-xs text-slate-600",children:U.name}),t.jsxs("div",{className:"text-xs text-slate-400",children:[U.category,"  ",U.location]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-xs font-semibold text-primary",children:["",U.unitPrice||0]}),t.jsxs("div",{className:"text-xs text-slate-400",children:["Stock: ",stockNum]})]})]},U._id)),Ke.filter(U=>{var de,Ve,Je;return R===""||((de=U.sku)==null?void 0:de.toLowerCase().includes(R.toLowerCase()))||((Ve=U.name)==null?void 0:Ve.toLowerCase().includes(R.toLowerCase()))||((Je=U.category)==null?void 0:Je.toLowerCase().includes(R.toLowerCase()))}).length===0&&t.jsx("div",{className:"px-4 py-3 text-sm text-slate-500 text-center",children:"No inventory items found"})]})]}),t.jsx("button",{type:"button",onClick:()=>{Z(""),ce(!1),O({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""})},className:"px-3 py-2 text-sm text-slate-600 hover:bg-slate-100 border border-slate-300 rounded-lg transition",children:"Clear"})]}),A.selectedInventoryItem&&t.jsxs("div",{className:"mt-2 p-2 bg-primary/5 border border-primary/20 rounded-lg text-xs",children:[t.jsx("span",{className:"font-semibold text-primary",children:"Selected:"})," ",A.sku," - ",A.name]})]})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"SKU *"}),t.jsx("input",{type:"text",placeholder:"SKU",value:A.sku,onChange:U=>O(de=>({...de,sku:U.target.value,selectedInventoryItem:""})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Name *"}),t.jsx("input",{type:"text",placeholder:"Item Name",value:A.name,onChange:U=>O(de=>({...de,name:U.target.value,selectedInventoryItem:""})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Quantity *"}),t.jsx("input",{type:"number",placeholder:"Qty",value:A.quantity,onChange:U=>O(de=>({...de,quantity:U.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",min:"1",required:!0})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Unit Price *"}),t.jsx("input",{type:"number",placeholder:"Price",value:A.unitPrice,onChange:U=>O(de=>({...de,unitPrice:U.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",min:"0",step:"0.01",required:!0})]}),t.jsx("div",{className:"flex items-end",children:t.jsx("button",{type:"button",onClick:()=>{A.sku&&A.name&&A.quantity&&A.unitPrice?(I(U=>({...U,items:[...U.items,{inventoryItemId:A.selectedInventoryItem||null,sku:A.sku,name:A.name,quantity:parseInt(A.quantity),unitPrice:parseFloat(A.unitPrice)}]})),O({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""}),Z(""),ce(!1)):b("Please fill all item fields (SKU, Name, Quantity, Unit Price)")},className:"px-4 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary-dark font-semibold",children:"Add"})})]})]}),t.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[C.items.length===0?t.jsx("div",{className:"text-center py-4 text-slate-400 text-sm",children:"No items added yet. Select from inventory or enter manually."}):C.items.map((U,de)=>{const Ve=U.quantity*U.unitPrice;return t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg text-sm border border-slate-200",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-semibold",children:U.name}),t.jsxs("div",{className:"text-xs text-slate-600",children:["SKU: ",U.sku,"  Qty: ",U.quantity,"  ",U.unitPrice]})]}),t.jsx("div",{className:"text-right mr-3",children:t.jsxs("div",{className:"font-semibold text-primary",children:["",Ve.toLocaleString()]})}),t.jsx("button",{type:"button",onClick:()=>I(Je=>({...Je,items:Je.items.filter((Ge,me)=>me!==de)})),className:"text-rose-600 hover:bg-rose-50 p-1.5 rounded transition",children:t.jsx(xt,{className:"w-4 h-4"})})]},de)}),C.items.length>0&&t.jsx("div",{className:"pt-2 border-t border-slate-200",children:t.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[t.jsx("span",{children:"Total Value:"}),t.jsxs("span",{className:"text-primary text-lg",children:["",C.items.reduce((U,de)=>U+de.quantity*de.unitPrice,0).toLocaleString()]})]})})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Notes"}),t.jsx("textarea",{value:C.notes,onChange:U=>I(de=>({...de,notes:U.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",rows:"3"})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsxs("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:[t.jsx(Ji,{className:"w-4 h-4"}),m?"Creating...":"Create Purchase Order"]}),t.jsx("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:"Cancel"})]})]})]})}),k&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-5 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Configure Thresholds"}),t.jsx("button",{onClick:()=>P(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:async U=>{U.preventDefault(),x(!0);try{await We.upsertThreshold(e,B),p("Threshold configured successfully!"),V(),ye(),setTimeout(()=>{P(!1)},1e3)}catch(de){b(de.message||"Failed to save threshold")}finally{x(!1)}},className:"p-5 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Category *"}),t.jsx("input",{type:"text",value:B.category,onChange:U=>q(de=>({...de,category:U.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",placeholder:"e.g., Air Conditioning",required:!0})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Critical Level"}),t.jsx("input",{type:"number",value:B.criticalLevel,onChange:U=>q(de=>({...de,criticalLevel:parseInt(U.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Min Stock Level"}),t.jsx("input",{type:"number",value:B.minStockLevel,onChange:U=>q(de=>({...de,minStockLevel:parseInt(U.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Reorder Level"}),t.jsx("input",{type:"number",value:B.reorderLevel,onChange:U=>q(de=>({...de,reorderLevel:parseInt(U.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Lead Time (Days)"}),t.jsx("input",{type:"number",value:B.leadTimeDays,onChange:U=>q(de=>({...de,leadTimeDays:parseInt(U.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Auto Reorder Quantity"}),t.jsx("input",{type:"number",value:B.autoReorderQuantity,onChange:U=>q(de=>({...de,autoReorderQuantity:parseInt(U.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",id:"autoReorder",checked:B.autoReorder,onChange:U=>q(de=>({...de,autoReorder:U.target.checked})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),t.jsx("label",{htmlFor:"autoReorder",className:"text-sm font-semibold text-slate-700",children:"Enable Auto Reorder"})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsxs("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:[t.jsx(Ji,{className:"w-4 h-4"}),m?"Saving...":"Save Threshold"]}),t.jsx("button",{type:"button",onClick:()=>P(!1),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:"Cancel"})]})]})]})}),D&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-5 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Item History"}),t.jsx("button",{onClick:()=>{z(!1),K(null),M([])},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"p-5",children:_.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-400",children:[t.jsx(Xr,{className:"w-12 h-12 mx-auto mb-4 text-slate-300"}),t.jsx("p",{children:"No history available for this item"})]}):t.jsx("div",{className:"space-y-3",children:_.sort((U,de)=>new Date(de.timestamp)-new Date(U.timestamp)).map((U,de)=>t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-sm capitalize",children:U.action.replace("_"," ")}),t.jsx("div",{className:"text-xs text-slate-500",children:new Date(U.timestamp).toLocaleString()})]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${U.action==="created"?"bg-emerald-500/10 text-emerald-600":U.action==="stock_added"?"bg-blue-500/10 text-blue-600":U.action==="stock_removed"?"bg-amber-500/10 text-amber-600":U.action==="status_changed"?"bg-purple-500/10 text-purple-600":"bg-slate-500/10 text-slate-600"}`,children:U.action.replace("_"," ")})]}),U.quantity&&t.jsxs("div",{className:"text-sm text-slate-700",children:["Quantity: ",t.jsx("span",{className:"font-semibold",children:U.quantity})]}),U.previousValue!==void 0&&U.newValue!==void 0&&t.jsxs("div",{className:"text-sm text-slate-700 mt-1",children:[t.jsx("span",{className:"line-through text-slate-400",children:U.previousValue}),"  ",t.jsx("span",{className:"font-semibold text-primary",children:U.newValue})]}),U.notes&&t.jsx("div",{className:"text-xs text-slate-600 mt-2 italic",children:U.notes})]},de))})})]})}),a&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-5 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:i?"Edit Material Category":"Add Material Category"}),t.jsx("button",{onClick:be,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:Te,className:"p-5 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Category Name *"}),t.jsx("input",{type:"text",value:o.name,onChange:U=>d(de=>({...de,name:U.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"e.g., Plumbing materials",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Icon (Emoji) *"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-3xl pointer-events-none z-10 flex items-center justify-center w-10 h-10",children:o.icon||""}),t.jsx("input",{type:"text",value:o.icon,onChange:U=>d(de=>({...de,icon:U.target.value})),className:"w-full px-4 py-2 pl-16 pr-4 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-transparent caret-slate-700",placeholder:"",required:!0,maxLength:2,style:{color:"transparent",textShadow:"0 0 0 transparent"}}),!o.icon&&t.jsx("div",{className:"absolute left-16 top-1/2 -translate-y-1/2 text-slate-400 text-sm pointer-events-none",children:"Enter emoji or pick from list"})]}),t.jsxs("button",{type:"button",onClick:()=>{w(!j),v("")},className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 border border-slate-300 rounded-lg transition flex items-center gap-2 text-sm font-semibold",children:[t.jsx("span",{className:"text-lg",children:""}),j?"Hide":"Pick Icon"]})]}),j&&t.jsxs("div",{className:"border-2 border-slate-200 rounded-xl p-4 bg-slate-50 max-h-80 overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"relative mb-3",children:[t.jsx(jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4"}),t.jsx("input",{type:"text",value:y,onChange:U=>v(U.target.value),placeholder:"Search icons...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-sm"})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto",children:[t.jsx("div",{className:"grid grid-cols-8 sm:grid-cols-10 gap-2",children:lh.filter(U=>y===""||U.name.toLowerCase().includes(y.toLowerCase())||U.category.toLowerCase().includes(y.toLowerCase())||U.emoji.includes(y)).map((U,de)=>t.jsx("button",{type:"button",onClick:()=>{d(Ve=>({...Ve,icon:U.emoji})),w(!1)},className:`w-10 h-10 rounded-lg flex items-center justify-center text-xl transition-all duration-200 ${o.icon===U.emoji?"bg-primary text-white ring-2 ring-primary ring-offset-2 scale-110":"bg-white hover:bg-primary/10 hover:scale-105 border border-slate-200"}`,title:`${U.name} (${U.category})`,children:U.emoji},de))}),lh.filter(U=>y===""||U.name.toLowerCase().includes(y.toLowerCase())||U.category.toLowerCase().includes(y.toLowerCase())||U.emoji.includes(y)).length===0&&t.jsx("div",{className:"text-center py-8 text-slate-500",children:t.jsxs("p",{className:"text-sm",children:['No icons found matching "',y,'"']})})]}),t.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-600 mb-2",children:"Quick Filter:"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:["All","Tools","Electrical","Plumbing","Painting","AC","Cleaning","Hardware","Appliances","Building"].map(U=>t.jsx("button",{type:"button",onClick:()=>v(U==="All"?"":U),className:`px-2 py-1 text-xs rounded-md transition ${U==="All"&&y===""||y===U?"bg-primary text-white":"bg-white text-slate-600 hover:bg-slate-100 border border-slate-200"}`,children:U},U))})]})]}),t.jsx("p",{className:"text-xs text-slate-500",children:o.icon?t.jsxs("span",{children:["Selected: ",t.jsx("span",{className:"font-semibold",children:((pt=lh.find(U=>U.emoji===o.icon))==null?void 0:pt.name)||"Custom icon"}),lh.find(U=>U.emoji===o.icon)&&t.jsxs("span",{className:"text-slate-400 ml-1",children:["(",(ge=lh.find(U=>U.emoji===o.icon))==null?void 0:ge.category,")"]})]}):'Click "Pick Icon" to browse available icons or type a custom emoji directly'})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3 flex items-center justify-between",children:t.jsxs("span",{className:"flex items-center gap-2",children:["Items *",t.jsxs("span",{className:"text-xs font-normal text-slate-500 bg-slate-100 px-2 py-0.5 rounded-full",children:[o.items.length," ",o.items.length===1?"item":"items"]})]})}),t.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-br from-slate-50 to-slate-100/50 rounded-xl border-2 border-slate-200 shadow-sm",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Item Name *"}),t.jsx("input",{type:"text",value:c.name,onChange:U=>u(de=>({...de,name:U.target.value})),onKeyPress:U=>U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),T()),className:"w-full px-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"e.g., PVC Pipe, Copper Wire, Paint Bucket"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Min Price ()"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-medium",children:""}),t.jsx("input",{type:"number",value:c.priceMin,onChange:U=>u(de=>({...de,priceMin:U.target.value})),onKeyPress:U=>U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),T()),className:"w-full pl-8 pr-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"600",min:"0"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1.5",children:"Max Price ()"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-medium",children:""}),t.jsx("input",{type:"number",value:c.priceMax,onChange:U=>u(de=>({...de,priceMax:U.target.value})),onKeyPress:U=>U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),T()),className:"w-full pl-8 pr-4 py-2.5 border-2 border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all bg-white",placeholder:"1000",min:"0"})]})]})]}),t.jsxs("button",{type:"button",onClick:T,disabled:!c.name.trim(),className:"w-full px-4 py-2.5 bg-primary text-white rounded-lg hover:bg-primary-dark transition-all font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md",children:[t.jsx(Tr,{className:"w-4 h-4"}),"Add Item"]})]}),t.jsxs("p",{className:"text-xs text-slate-500 mt-3 flex items-start gap-1.5",children:[t.jsx("span",{className:"text-primary mt-0.5",children:""}),t.jsx("span",{children:"Price range is optional. Press Enter to quickly add items."})]})]}),o.items.length>0?t.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto pr-1",children:o.items.map((U,de)=>t.jsxs("div",{className:"group flex items-start gap-3 p-3 bg-white border-2 border-slate-200 rounded-lg hover:border-primary/50 hover:shadow-sm transition-all",children:[t.jsx("div",{className:"flex-shrink-0 w-7 h-7 bg-slate-100 group-hover:bg-primary/10 rounded-full flex items-center justify-center text-xs font-bold text-slate-600 group-hover:text-primary transition-colors",children:de+1}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"font-medium text-slate-800 text-sm break-words",children:U.name||U}),(U.priceMin||U.priceMax)&&t.jsx("div",{className:"flex items-center gap-2 mt-1.5",children:t.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-emerald-50 border border-emerald-200 rounded-md",children:[t.jsxs("span",{className:"text-xs font-semibold text-emerald-700",children:["",U.priceMin||"0"]}),t.jsx("span",{className:"text-xs text-emerald-600",children:""}),t.jsxs("span",{className:"text-xs font-semibold text-emerald-700",children:["",U.priceMax||""]})]})})]}),t.jsx("button",{type:"button",onClick:()=>ie(de),className:"flex-shrink-0 p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all",title:"Remove item",children:t.jsx(la,{className:"w-4 h-4"})})]},de))}):t.jsxs("div",{className:"text-center py-8 px-4 bg-slate-50 border-2 border-dashed border-slate-300 rounded-lg",children:[t.jsx(gs,{className:"w-10 h-10 text-slate-300 mx-auto mb-2"}),t.jsx("p",{className:"text-sm font-medium text-slate-500",children:"No items added yet"}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add at least one item to continue"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Order"}),t.jsx("input",{type:"number",value:o.order,onChange:U=>d(de=>({...de,order:parseInt(U.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Status"}),t.jsxs("select",{value:o.isActive?"active":"inactive",onChange:U=>d(de=>({...de,isActive:U.target.value==="active"})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsxs("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:[t.jsx(Ji,{className:"w-4 h-4"}),m?"Saving...":i?"Update":"Create"]}),t.jsx("button",{type:"button",onClick:be,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:"Cancel"})]})]})]})})]})},r5e=()=>{var N;const{token:e}=wr(),[r,s]=g.useState([]),[a,n]=g.useState(!1),[i,l]=g.useState({totalRevenue:0,totalSubscribers:0,activeSubscriptions:0}),[o,d]=g.useState([]),[c,u]=g.useState(!1),[m,x]=g.useState(null),[h,p]=g.useState(""),[f,b]=g.useState(!1);g.useEffect(()=>{const S=async()=>{if(!e){console.log("No token available, skipping AMC subscribers fetch");return}n(!0);try{console.log("Fetching AMC subscribers with token:",e?"Present":"Missing");const P=await We.fetchAMCSubscribers(e);if(console.log("AMC subscribers response:",P),P&&P.success){const C=P.data||[];s(C);const I=C.reduce((O,R)=>O+(R.amount||0),0),A=C.filter(O=>O.status==="active").length;l({totalRevenue:I,totalSubscribers:C.length,activeSubscriptions:A})}}catch(P){console.error("Error fetching subscribers:",P),console.error("Error details:",P),P.message&&!P.message.includes("Authentication")&&alert("Error loading AMC subscribers: "+P.message)}finally{n(!1)}},k=async()=>{if(!e){console.log("No token available, skipping partners fetch");return}try{const P=await We.fetchPartners(e,{status:"active",limit:100});P&&P.success&&d(P.data||[])}catch(P){console.error("Error fetching partners:",P)}};e&&(S(),k())},[e]);const j=S=>{x(S),p(""),u(!0)},w=async()=>{if(!(!h||!m)){b(!0);try{console.log("Assigning partner with data:",{userId:m.userId,subscriptionId:m._id||m.txnid,partnerId:h,token:e?"Present":"Missing"});const S=await We.assignAMCSubscriptionToPartner(e,{userId:m.userId,subscriptionId:m._id||m.txnid,partnerId:h});if(console.log("Assignment response:",S),S.success){const k=await We.fetchAMCSubscribers(e);k.success&&s(k.data||[]),u(!1),x(null),p("")}}catch(S){console.error("Error assigning partner:",S),alert("Error assigning partner: "+S.message)}finally{b(!1)}}},y=[{label:"Plan Subscribers",value:i.totalSubscribers||0,trend:`${i.activeSubscriptions||0} active`,icon:Lr,intent:i.totalSubscribers>0?"positive":"neutral",description:"Users with AMC plans"},{label:"AMC Revenue",value:i.totalRevenue>0?`${(i.totalRevenue/1e3).toFixed(1)}K`:"0",trend:"From plan subscriptions",icon:Jt,intent:i.totalRevenue>0?"positive":"neutral",description:"Total revenue generated"},{label:"Assigned Subscriptions",value:r.filter(S=>S.assignedPartner).length||0,trend:`${r.length-r.filter(S=>S.assignedPartner).length||0} unassigned`,icon:Gt,intent:r.filter(S=>S.assignedPartner).length>0?"positive":"neutral",description:"Subscriptions with assigned partners"},{label:"Active Partners",value:o.length||0,trend:"Available for assignment",icon:ks,description:"Partners ready to handle AMC services"}],v=[{header:"User Name",accessor:"userName"},{header:"Contact",accessor:"userPhone"},{header:"Plan",accessor:"planName"},{header:"Amount",accessor:"amount",render:S=>t.jsxs("span",{className:"font-semibold text-primary",children:["",(S==null?void 0:S.toLocaleString("en-IN"))||0]})},{header:"Status",accessor:"status",render:S=>t.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-full text-xs font-semibold ${S==="active"?"bg-green-100 text-green-800":S==="expired"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:S||"pending"})},{header:"Assigned Partner",accessor:"assignedPartner",render:(S,k)=>t.jsxs("div",{className:"flex items-center gap-2",children:[S?t.jsx("span",{className:"text-sm text-slate-600",children:S}):t.jsx("span",{className:"text-xs text-slate-400",children:"Not assigned"}),t.jsx("button",{onClick:()=>j(k),className:"p-1 hover:bg-slate-100 rounded transition-colors",title:"Assign Partner",children:t.jsx(Vf,{className:"w-4 h-4 text-primary"})})]})},{header:"Subscribed On",accessor:"subscribedAt",render:S=>S?new Date(S).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A"}];return t.jsxs("div",{children:[t.jsx(ys,{title:"AMC Management",subtitle:"Coordinate multi-asset contracts, recurring maintenance routines, and SLA commitments with predictive renewal insights.",actions:t.jsx("button",{className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition",children:"New AMC Contract"})}),t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:y.map(S=>t.jsx(Zn,{...S},S.label))}),t.jsxs("div",{className:"space-y-10",children:[t.jsxs("section",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"AMC Plan Subscribers"}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Users who purchased AMC plans via payment gateway"})]}),a&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading subscribers..."})]}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden",children:a?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):r.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(xs,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),t.jsx("p",{className:"text-slate-500 font-medium",children:"No AMC plan subscribers yet"}),t.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Users who purchase plans will appear here"})]}):t.jsx(Oa,{columns:v,data:r,emptyLabel:"No subscribers found."})})]}),t.jsxs("section",{children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Partner Assignment Overview"})}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Assignment Statistics"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600",children:"Total Subscriptions:"}),t.jsx("span",{className:"font-semibold",children:r.length})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600",children:"Assigned:"}),t.jsx("span",{className:"font-semibold text-green-600",children:r.filter(S=>S.assignedPartner).length})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600",children:"Unassigned:"}),t.jsx("span",{className:"font-semibold text-orange-600",children:r.length-r.filter(S=>S.assignedPartner).length})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-slate-600",children:"Available Partners:"}),t.jsx("span",{className:"font-semibold text-blue-600",children:o.length})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Quick Actions"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("button",{className:"w-full px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition text-sm",children:"Bulk Assign Partners"}),t.jsx("button",{className:"w-full px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition text-sm",children:"Export Assignment Report"}),t.jsx("button",{className:"w-full px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition text-sm",children:"Partner Performance"})]})]})]})})]}),t.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Recent Partner Assignments"}),t.jsx("button",{className:"text-xs text-primary font-semibold",children:"View All"})]}),r.filter(S=>S.assignedPartner&&S.assignedAt).length>0?t.jsx("div",{className:"space-y-3",children:r.filter(S=>S.assignedPartner&&S.assignedAt).slice(0,5).map((S,k)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-800",children:S.userName}),t.jsx("p",{className:"text-sm text-slate-600",children:S.planName})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-medium text-slate-800",children:S.assignedPartner}),t.jsx("p",{className:"text-xs text-slate-500",children:S.assignedAt?new Date(S.assignedAt).toLocaleDateString("en-IN"):"Recently"})]})]},k))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Lr,{className:"w-10 h-10 text-slate-300 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-slate-500",children:"No partner assignments yet"}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Assignments will appear here once partners are assigned"})]})]}),t.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"AMC Management"}),t.jsx("p",{className:"text-sm text-white/75 leading-relaxed",children:"Efficiently manage AMC plan subscriptions and partner assignments. Ensure customers get the best service by assigning the right partners."}),t.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[t.jsx("li",{children:" Assign partners based on location and expertise"}),t.jsx("li",{children:" Track subscription status and partner performance"}),t.jsx("li",{children:" Monitor revenue from AMC plan sales"}),t.jsx("li",{children:" Automated notifications for assignments"})]})]})]})]}),c&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Assign Partner"}),t.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(xt,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Customer Details"}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 text-sm",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Name:"})," ",m==null?void 0:m.userName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Phone:"})," ",m==null?void 0:m.userPhone]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Plan:"})," ",m==null?void 0:m.planName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Amount:"})," ",(N=m==null?void 0:m.amount)==null?void 0:N.toLocaleString("en-IN")]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Select Partner"}),t.jsxs("select",{value:h,onChange:S=>p(S.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Choose a partner..."}),o.map(S=>{var k,P;return t.jsxs("option",{value:S._id,children:[((k=S.profile)==null?void 0:k.name)||S.phone," - ",((P=S.profile)==null?void 0:P.city)||"No city"]},S._id)})]})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-slate-200",children:[t.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:w,disabled:!h||f,className:"px-4 py-2 bg-primary text-white text-sm font-semibold rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[f&&t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),f?"Assigning...":"Assign Partner"]})]})]})})]})},bc="http://localhost:9088",cE=[{name:"FaMapMarkerAlt",icon:Fl,label:"Map Marker"},{name:"FaCity",icon:dX,label:"City"},{name:"FaBuilding",icon:Eo,label:"Building"},{name:"FaMapPin",icon:wX,label:"Map Pin"}],s5e=()=>{const{token:e}=wr(),[r,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState(!1),[o,d]=g.useState(null),[c,u]=g.useState({name:"",icon:"FaMapMarkerAlt",description:"",state:"",displayOrder:0,isEnabled:!0,image:""}),[m,x]=g.useState(null),[h,p]=g.useState(null),[f,b]=g.useState(!1);g.useEffect(()=>{e&&j()},[e]);const j=async()=>{try{n(!0);const C=await Pt.get(`${bc}/api/cities/all`,{headers:{Authorization:`Bearer ${e}`}});C.data.success&&s(C.data.data)}catch(C){console.error("Error fetching cities:",C),alert("Failed to fetch cities")}finally{n(!1)}},w=C=>{const I=C.target.files[0];if(I){x(I);const A=new FileReader;A.onloadend=()=>{p(A.result)},A.readAsDataURL(I)}},y=async()=>{if(!m)return null;const C=new FormData;C.append("image",m);try{return b(!0),(await Pt.post(`${bc}/api/cities/upload-image`,C,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}})).data.imageUrl}catch(I){throw console.error("Error uploading image:",I),I}finally{b(!1)}},v=async C=>{var I,A;C.preventDefault();try{let O=c.image;m&&(O=await y());const R={...c,image:O};o?(await Pt.put(`${bc}/api/cities/${o._id}`,R,{headers:{Authorization:`Bearer ${e}`}}),alert("City updated successfully")):(await Pt.post(`${bc}/api/cities`,R,{headers:{Authorization:`Bearer ${e}`}}),alert("City created successfully")),l(!1),P(),j(),Tu.clearCache()}catch(O){console.error("Error saving city:",O),alert(((A=(I=O.response)==null?void 0:I.data)==null?void 0:A.message)||"Failed to save city")}},N=C=>{d(C),u({name:C.name,icon:C.icon,description:C.description||"",state:C.state||"",displayOrder:C.displayOrder||0,isEnabled:C.isEnabled,image:C.image||""}),p(C.image||null),x(null),l(!0)},S=async C=>{try{await Pt.patch(`${bc}/api/cities/${C}/toggle`,{},{headers:{Authorization:`Bearer ${e}`}}),j(),Tu.clearCache()}catch(I){console.error("Error toggling city:",I),alert("Failed to toggle city status")}},k=async C=>{if(window.confirm("Are you sure you want to delete this city?"))try{await Pt.delete(`${bc}/api/cities/${C}`,{headers:{Authorization:`Bearer ${e}`}}),alert("City deleted successfully"),j(),Tu.clearCache()}catch(I){console.error("Error deleting city:",I),alert("Failed to delete city")}},P=()=>{d(null),u({name:"",icon:"FaMapMarkerAlt",description:"",state:"",displayOrder:0,isEnabled:!0,image:""}),x(null),p(null)};return t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-primary",children:"City Management"}),t.jsxs("button",{onClick:()=>{P(),l(!0)},className:"bg-primary text-white px-6 py-3 rounded-lg flex items-center gap-2 hover:bg-primary-dark transition-colors",children:[t.jsx(js,{})," Add City"]})]}),a?t.jsx("div",{className:"text-center py-12",children:"Loading..."}):t.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Image"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"City"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"State"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Order"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(C=>{var A;const I=((A=cE.find(O=>O.name===C.icon))==null?void 0:A.icon)||Fl;return t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4",children:C.image?t.jsx("img",{src:C.image.startsWith("http")?C.image:`${bc}${C.image.startsWith("/")?C.image:"/uploads/"+C.image}`,alt:C.name,className:"w-12 h-12 object-cover rounded-lg shadow-sm",onError:O=>{O.target.style.display="none",O.target.parentElement.innerHTML='<div class="w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center"><span class="text-gray-400 text-xs">Error</span></div>'}}):t.jsx(I,{className:"w-6 h-6 text-primary"})}),t.jsx("td",{className:"px-6 py-4 font-medium",children:C.name}),t.jsx("td",{className:"px-6 py-4",children:C.state||"-"}),t.jsx("td",{className:"px-6 py-4",children:C.displayOrder}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${C.isEnabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.isEnabled?"Enabled":"Disabled"})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>S(C._id),className:"p-2 hover:bg-gray-100 rounded",children:C.isEnabled?t.jsx(EX,{className:"text-green-600"}):t.jsx(TX,{className:"text-gray-400"})}),t.jsx("button",{onClick:()=>N(C),className:"p-2 hover:bg-gray-100 rounded",children:t.jsx(xX,{className:"text-blue-600"})}),t.jsx("button",{onClick:()=>k(C._id),className:"p-2 hover:bg-gray-100 rounded",children:t.jsx(_X,{className:"text-red-600"})})]})})]},C._id)})})]})}),i&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:o?"Edit City":"Add City"}),t.jsxs("form",{onSubmit:v,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"City Name *"}),t.jsx("input",{type:"text",value:c.name,onChange:C=>u({...c,name:C.target.value}),className:"w-full border rounded-lg px-4 py-2",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Icon"}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:cE.map(C=>t.jsxs("button",{type:"button",onClick:()=>u({...c,icon:C.name}),className:`p-4 border rounded-lg flex flex-col items-center gap-2 ${c.icon===C.name?"border-primary bg-primary/10":"border-gray-300"}`,children:[t.jsx(C.icon,{className:"w-6 h-6"}),t.jsx("span",{className:"text-xs",children:C.label})]},C.name))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"State"}),t.jsx("input",{type:"text",value:c.state,onChange:C=>u({...c,state:C.target.value}),className:"w-full border rounded-lg px-4 py-2"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),t.jsx("textarea",{value:c.description,onChange:C=>u({...c,description:C.target.value}),className:"w-full border rounded-lg px-4 py-2",rows:"3"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"City Image"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"w-full border rounded-lg px-4 py-2"}),h&&t.jsxs("div",{className:"relative w-full h-48 border rounded-lg overflow-hidden",children:[t.jsx("img",{src:h,alt:"Preview",className:"w-full h-full object-cover"}),t.jsx("button",{type:"button",onClick:()=>{x(null),p(null),u({...c,image:""})},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600",children:""})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Display Order"}),t.jsx("input",{type:"number",value:c.displayOrder,onChange:C=>u({...c,displayOrder:parseInt(C.target.value)}),className:"w-full border rounded-lg px-4 py-2"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:c.isEnabled,onChange:C=>u({...c,isEnabled:C.target.checked}),className:"w-4 h-4"}),t.jsx("label",{className:"text-sm font-medium",children:"Enabled"})]}),t.jsxs("div",{className:"flex gap-2 justify-end",children:[t.jsx("button",{type:"button",onClick:()=>{l(!1),P()},className:"px-6 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark disabled:opacity-50",children:f?"Uploading...":o?"Update":"Create"})]})]})]})})]})},a5e=()=>{var Ke,dt;const{token:e}=wr(),[r,s]=g.useState({status:"all",city:"",allocationStrategy:"all"}),[a,n]=g.useState(1),[i,l]=g.useState(!1),[o,d]=g.useState(1),[c,u]=g.useState(""),[m,x]=g.useState(null),[h,p]=g.useState(!1),[f,b]=g.useState({category:"",service:"",subService:"",city:"",address:"",landmark:"",pincode:"",value:"",allocationStrategy:"rule_based",priority:"medium",description:""}),[j,w]=g.useState([]),[y,v]=g.useState([]),[N,S]=g.useState([]),[k,P]=g.useState(!1),[C,I]=g.useState(!1),[A,O]=g.useState(null),[R,Z]=g.useState(!1),Y=g.useMemo(()=>{const ke={page:a,limit:50};return r.status&&r.status!=="all"&&(ke.status=r.status),r.city&&r.city.trim()&&(ke.city=r.city.trim()),r.allocationStrategy&&r.allocationStrategy!=="all"&&(ke.allocationStrategy=r.allocationStrategy),ke},[r.status,r.city,r.allocationStrategy,a]),ce=g.useMemo(()=>JSON.stringify(Y),[Y]),{data:D,isLoading:z,error:se,refresh:K}=dr(ke=>We.fetchLeads(ke,Y),[ce]),{data:_,isLoading:M,error:F}=dr(ke=>We.fetchLeadAnalytics(ke),[]),{data:B,isLoading:q,error:ae}=dr(ke=>We.fetchBids(ke,{page:1,limit:50}),[]),V=z||M||q,G=se||F||ae,te=Array.isArray(D==null?void 0:D.data)?D.data:[],pe=Array.isArray(B==null?void 0:B.data)?B.data:[],ye=_||{},he=(D==null?void 0:D.pagination)||{};_t.useEffect(()=>{var ke,Re;D&&console.log(" Lead Management - API Response:",{success:D.success,hasData:!!D.data,dataType:Array.isArray(D.data)?"array":typeof D.data,dataLength:((ke=D.data)==null?void 0:ke.length)||0,pagination:D.pagination,firstLead:(Re=D.data)==null?void 0:Re[0]}),se&&console.error(" Lead Management - Error:",se),console.log(" Extracted leads:",te.length,te)},[D,se,te]);const Qe=[{label:"Lead Pool",value:ye.active||0,trend:ye.highValueLeads?`${ye.highValueLeads} high-value leads awaiting bids`:null,icon:_h,description:ye.cityCount?`Across ${ye.cityCount} cities`:"Active leads"},{label:"Conversion Rate",value:ye.conversion||"0%",trend:ye.convertedLeads30d?`${ye.convertedLeads30d} converted (30d)`:null,icon:gn,description:"Rolling 30-day window"},{label:"Avg Allocation Time",value:ye.allocationTime||"0m 0s",trend:"Includes dispute overrides",icon:fj,description:"From ingestion to assignment"},{label:"Bid Health",value:ye.bidParticipation||"0.0 bids/lead",trend:"Maintaining fair marketplace",icon:aZ,description:"Ensures SLA coverage"}],W=[{header:"Lead ID",accessor:"leadId"},{header:"Source",accessor:"source",render:ke=>{const Re={"Partner Registration":"bg-purple-500/10 text-purple-600","Plan Subscription":"bg-blue-500/10 text-blue-600","Customer Enquiry":"bg-green-500/10 text-green-600",Booking:"bg-indigo-500/10 text-indigo-600",Manual:"bg-gray-500/10 text-gray-600"};return t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${Re[ke]||"bg-slate-200 text-slate-700"}`,children:ke})}},{header:"Partner/Customer",accessor:"partnerName",render:(ke,Re)=>{const Tt=Re.partnerName||Re.customerName||"N/A",Rt=Re.partnerPhone||Re.customerPhone||"",be=Re.partnerEmail||Re.customerEmail||"";return Tt==="N/A"?t.jsx("span",{className:"text-slate-400",children:"N/A"}):t.jsxs("div",{className:"text-sm",children:[t.jsx("div",{className:"font-semibold text-slate-900",children:Tt}),Rt&&t.jsx("div",{className:"text-xs text-slate-500",children:Rt}),be&&t.jsx("div",{className:"text-xs text-slate-400",children:be})]})}},{header:"Service",accessor:"service"},{header:"City",accessor:"city"},{header:"Value",accessor:"value"},{header:"Allocation",accessor:"allocationStrategy"},{header:"Assigned To",accessor:"assignedPartner"},{header:"Bids",accessor:"bids"},{header:"Status",accessor:"status",render:ke=>{const Re={Pending:"bg-slate-500/10 text-slate-600","Awaiting Bid":"bg-amber-500/10 text-amber-600",Bidding:"bg-blue-500/10 text-blue-600",Assigned:"bg-indigo-500/10 text-indigo-600",Converted:"bg-emerald-500/10 text-emerald-600",Escalated:"bg-rose-500/10 text-rose-600",Cancelled:"bg-gray-500/10 text-gray-600",Expired:"bg-orange-500/10 text-orange-600"};return t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${Re[ke]||"bg-slate-200 text-slate-700"}`,children:ke})}}],Ie=[{header:"Lead",accessor:"lead"},{header:"Partner",accessor:"partner"},{header:"Bid Amount",accessor:"amount"},{header:"Score",accessor:"score"},{header:"ETA",accessor:"eta"},{header:"Status",accessor:"status",render:ke=>{const Re={Pending:"bg-amber-500/10 text-amber-600",Accepted:"bg-emerald-500/10 text-emerald-600",Rejected:"bg-rose-500/10 text-rose-600",Withdrawn:"bg-gray-500/10 text-gray-600"};return t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${Re[ke]||"bg-slate-200 text-slate-700"}`,children:ke})}}],Se=(ke,Re)=>{s(Tt=>({...Tt,[ke]:Re})),n(1)},we=()=>{s({status:"all",city:"",allocationStrategy:"all"}),n(1)},L=()=>{try{let ke=`Lead Bidding Activity Export
`;ke+=`Exported At: ${new Date().toLocaleString("en-IN")}

`,ke+=`Lead,Partner,Bid Amount,Score,ETA,Status,Submitted At
`,pe.forEach(be=>{const T=be.submittedAt?new Date(be.submittedAt).toLocaleString("en-IN"):"N/A";ke+=`${be.lead},${be.partner},${be.amount},${be.score},${be.eta},${be.status},${T}
`});const Re=new Blob([ke],{type:"text/csv;charset=utf-8;"}),Tt=document.createElement("a"),Rt=URL.createObjectURL(Re);Tt.setAttribute("href",Rt),Tt.setAttribute("download",`bids-export-${new Date().toISOString().split("T")[0]}.csv`),Tt.style.visibility="hidden",document.body.appendChild(Tt),Tt.click(),document.body.removeChild(Tt)}catch(ke){console.error("Error exporting bids:",ke),alert("Failed to export bids. Please try again.")}},ue=async(ke,Re)=>{if(window.confirm(`Change lead status to ${Re}?`))try{await We.updateLeadStatus(e,ke,Re),alert("Lead status updated successfully!"),K()}catch(Tt){alert("Failed to update lead status: "+(Tt.message||"Unknown error"))}};_t.useEffect(()=>{i&&o===2&&j.length===0&&(async()=>{try{const Re=await We.fetchCategories(e);Re!=null&&Re.data&&w(Re.data)}catch(Re){console.error("Error loading categories:",Re)}})()},[i,o,e]);const ee=async()=>{if(!c.trim()){alert("Please enter partner phone number or ID");return}p(!0);try{const ke=await We.fetchPartners(e,{search:c.trim(),limit:10});if(ke!=null&&ke.data&&ke.data.length>0){const Re=ke.data[0];x(Re),d(2)}else alert("Partner not found. Please check the phone number or ID.")}catch(ke){alert("Error searching partner: "+(ke.message||"Unknown error"))}finally{p(!1)}},fe=async ke=>{if(b(Re=>({...Re,category:ke,service:"",subService:""})),v([]),S([]),ke)try{const Re=j.find(Tt=>Tt._id===ke);Re!=null&&Re.services&&v(Re.services||[])}catch(Re){console.error("Error loading services:",Re)}},xe=ke=>{if(b(Re=>({...Re,service:ke,subService:""})),S([]),ke){const Re=y.find(Tt=>Tt._id===ke);Re!=null&&Re.subServices&&S(Re.subServices||[])}},ve=async ke=>{if(ke.preventDefault(),!m){alert("Please verify partner first");return}if(!f.category||!f.city||!f.value){alert("Please fill all required fields");return}P(!0);try{const Re={partnerId:m._id,category:f.category,service:f.service,subService:f.subService,city:f.city,address:f.address,landmark:f.landmark,pincode:f.pincode,value:parseFloat(f.value),allocationStrategy:f.allocationStrategy,priority:f.priority,description:f.description};(await We.createManualLead(e,Re)).success&&(alert("Lead created successfully!"),l(!1),d(1),x(null),u(""),b({category:"",service:"",subService:"",city:"",address:"",landmark:"",pincode:"",value:"",allocationStrategy:"rule_based",priority:"medium",description:""}),K())}catch(Re){alert("Failed to create lead: "+(Re.message||"Unknown error"))}finally{P(!1)}},Ne=ke=>{var Rt;const Tt={Pending:"pending","Awaiting Bid":"awaiting_bid",Bidding:"bidding",Assigned:"assigned",Converted:"converted",Escalated:"escalated",Cancelled:"cancelled",Expired:"expired"}[ke.status]||((Rt=ke.status)==null?void 0:Rt.toLowerCase().replace(" ","_"))||"pending";return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>{O(ke),Z(!0)},className:"text-xs px-2 py-1 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition",title:"View Details",children:t.jsx(Gt,{className:"w-4 h-4"})}),t.jsxs("select",{value:Tt,onChange:be=>ue(ke.id,be.target.value),className:"text-xs px-2 py-1 border border-slate-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary",children:[t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"awaiting_bid",children:"Awaiting Bid"}),t.jsx("option",{value:"bidding",children:"Bidding"}),t.jsx("option",{value:"assigned",children:"Assigned"}),t.jsx("option",{value:"converted",children:"Converted"}),t.jsx("option",{value:"escalated",children:"Escalated"}),t.jsx("option",{value:"cancelled",children:"Cancelled"}),t.jsx("option",{value:"expired",children:"Expired"})]})]})};return t.jsxs("div",{children:[t.jsx(ys,{title:"Lead Management",subtitle:"Automate allocation logic, manage partner bidding, and maximize conversion across acquisition funnels.",actions:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:async()=>{if(window.confirm("This will create leads from all pending bookings. Continue?"))try{await We.syncBookingsToLeads(e),alert("Leads synced successfully!"),K()}catch(ke){alert("Failed to sync leads: "+(ke.message||"Unknown error"))}},className:"px-4 py-2 rounded-xl border border-slate-300 text-slate-700 text-sm font-semibold hover:bg-slate-50 transition inline-flex items-center gap-2",children:[t.jsx(Dt,{})," Sync from Bookings"]}),t.jsxs("button",{className:"px-4 py-2 rounded-xl border border-primary text-primary text-sm font-semibold hover:bg-primary/10 transition inline-flex items-center gap-2",children:[t.jsx(kl,{})," Configure Allocation Rules"]})]})}),t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:Qe.map(ke=>t.jsx(Zn,{...ke},ke.label))}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ed,{className:"w-5 h-5 text-slate-500"}),t.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Filters"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:K,className:"p-2 hover:bg-slate-100 rounded-lg transition",title:"Refresh",children:t.jsx(Dt,{className:"w-4 h-4 text-slate-600"})}),(r.status!=="all"||r.city||r.allocationStrategy!=="all")&&t.jsxs("button",{onClick:we,className:"px-3 py-1.5 text-xs font-semibold text-slate-600 hover:text-slate-900 transition inline-flex items-center gap-1",children:[t.jsx(xt,{className:"w-3 h-3"}),"Clear Filters"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Status"}),t.jsxs("select",{value:r.status,onChange:ke=>Se("status",ke.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"awaiting_bid",children:"Awaiting Bid"}),t.jsx("option",{value:"bidding",children:"Bidding"}),t.jsx("option",{value:"assigned",children:"Assigned"}),t.jsx("option",{value:"converted",children:"Converted"}),t.jsx("option",{value:"escalated",children:"Escalated"}),t.jsx("option",{value:"cancelled",children:"Cancelled"}),t.jsx("option",{value:"expired",children:"Expired"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"City"}),t.jsx("input",{type:"text",value:r.city,onChange:ke=>Se("city",ke.target.value),placeholder:"Filter by city...",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Allocation Strategy"}),t.jsxs("select",{value:r.allocationStrategy,onChange:ke=>Se("allocationStrategy",ke.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",children:[t.jsx("option",{value:"all",children:"All Strategies"}),t.jsx("option",{value:"instant_assign",children:"Instant Assign"}),t.jsx("option",{value:"tiered_bid",children:"Tiered Bid"}),t.jsx("option",{value:"rule_based",children:"Rule Based"}),t.jsx("option",{value:"manual",children:"Manual"})]})]})]})]}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("section",{children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[G&&t.jsxs("span",{className:"text-xs text-rose-500",children:["Error: ",G]}),V&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading leads..."}),!V&&!G&&t.jsxs("span",{className:"text-xs text-slate-500",children:[he.total||0," total leads"]})]})}),t.jsx(Oa,{columns:W,data:te,emptyLabel:"No leads available. Try syncing from bookings or creating a manual lead.",renderActions:Ne}),he.pages>1&&t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",(he.page-1)*he.limit+1," to ",Math.min(he.page*he.limit,he.total)," of ",he.total," leads"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>n(ke=>Math.max(1,ke-1)),disabled:he.page===1,className:"px-3 py-1.5 border border-slate-300 rounded-lg text-sm font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),t.jsxs("span",{className:"text-sm text-slate-600",children:["Page ",he.page," of ",he.pages]}),t.jsx("button",{onClick:()=>n(ke=>Math.min(he.pages,ke+1)),disabled:he.page===he.pages,className:"px-3 py-1.5 border border-slate-300 rounded-lg text-sm font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),t.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Bidding Activity"}),t.jsxs("button",{onClick:L,className:"text-xs text-primary font-semibold hover:underline inline-flex items-center gap-1",children:[t.jsx(Na,{className:"w-3 h-3"})," Download Logs"]})]}),t.jsx(Oa,{columns:Ie,data:pe,emptyLabel:"No bids registered."})]}),t.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Allocation Intelligence"}),t.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:"Blend skill matrices, SLA history, proximity, and wallet health before assigning leads. Override manually when enterprise SLAs demand it."}),t.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(vt,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"Auto-standby pool when primary declines"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(vt,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"Bid ceilings to maintain margin guardrails"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(vt,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"Quality scores updated post each job"})]})]})]})]})]}),i&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[t.jsx(_h,{className:"w-5 h-5"}),o===1?"Verify Partner":"Create Lead"]}),t.jsx("button",{onClick:()=>{l(!1),d(1),x(null),u("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsx("div",{className:"p-6",children:o===1?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:t.jsxs("p",{className:"text-sm text-blue-700",children:[t.jsx("strong",{children:"Step 1:"})," Verify the partner by entering their phone number or partner ID."]})}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(vr,{className:"w-4 h-4 inline mr-1"}),"Partner Phone Number or ID"]}),t.jsx("input",{type:"text",value:c,onChange:ke=>u(ke.target.value),placeholder:"Enter phone number (e.g., 9876543210) or partner ID",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",onKeyPress:ke=>ke.key==="Enter"&&ee()})]}),m&&t.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(vt,{className:"w-5 h-5 text-emerald-600"}),t.jsx("span",{className:"font-semibold text-emerald-900",children:"Partner Verified"})]}),t.jsxs("p",{className:"text-sm text-emerald-700",children:[t.jsx("strong",{children:"Name:"})," ",((Ke=m.profile)==null?void 0:Ke.name)||"N/A",t.jsx("br",{}),t.jsx("strong",{children:"Phone:"})," ",m.phone||"N/A",t.jsx("br",{}),t.jsx("strong",{children:"Status:"})," ",m.profileStatus||"N/A"]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{onClick:ee,disabled:h||!c.trim(),className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",children:h?t.jsxs(t.Fragment,{children:[t.jsx(Xr,{className:"w-4 h-4 animate-spin"}),"Searching..."]}):t.jsxs(t.Fragment,{children:[t.jsx(jn,{className:"w-4 h-4"}),"Verify Partner"]})})]})]}):t.jsxs("form",{onSubmit:ve,className:"space-y-6",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsxs("p",{className:"text-sm text-blue-700",children:[t.jsx("strong",{children:"Step 2:"})," Fill in the lead details below."]}),m&&t.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Partner: ",((dt=m.profile)==null?void 0:dt.name)||m.phone]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Category ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsxs("select",{value:f.category,onChange:ke=>fe(ke.target.value),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select Category"}),j.map(ke=>t.jsx("option",{value:ke._id,children:ke.name},ke._id))]})]}),y.length>0&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service"}),t.jsxs("select",{value:f.service,onChange:ke=>xe(ke.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select Service"}),y.map(ke=>t.jsx("option",{value:ke._id,children:ke.name},ke._id))]})]}),N.length>0&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Sub Service"}),t.jsxs("select",{value:f.subService,onChange:ke=>b(Re=>({...Re,subService:ke.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select Sub Service"}),N.map(ke=>t.jsx("option",{value:ke._id,children:ke.name},ke._id))]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Pr,{className:"w-4 h-4 inline mr-1"}),"City ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",value:f.city,onChange:ke=>b(Re=>({...Re,city:ke.target.value})),required:!0,placeholder:"Enter city",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Jt,{className:"w-4 h-4 inline mr-1"}),"Lead Value () ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"number",value:f.value,onChange:ke=>b(Re=>({...Re,value:ke.target.value})),required:!0,min:"0",step:"0.01",placeholder:"Enter lead value",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Allocation Strategy"}),t.jsxs("select",{value:f.allocationStrategy,onChange:ke=>b(Re=>({...Re,allocationStrategy:ke.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"rule_based",children:"Rule Based"}),t.jsx("option",{value:"instant_assign",children:"Instant Assign"}),t.jsx("option",{value:"tiered_bid",children:"Tiered Bid"}),t.jsx("option",{value:"manual",children:"Manual"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Priority"}),t.jsxs("select",{value:f.priority,onChange:ke=>b(Re=>({...Re,priority:ke.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"}),t.jsx("option",{value:"urgent",children:"Urgent"})]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Pr,{className:"w-4 h-4 inline mr-1"}),"Address"]}),t.jsx("input",{type:"text",value:f.address,onChange:ke=>b(Re=>({...Re,address:ke.target.value})),placeholder:"Enter full address",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Landmark"}),t.jsx("input",{type:"text",value:f.landmark,onChange:ke=>b(Re=>({...Re,landmark:ke.target.value})),placeholder:"Enter landmark",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:f.pincode,onChange:ke=>b(Re=>({...Re,pincode:ke.target.value})),placeholder:"Enter pincode",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Gt,{className:"w-4 h-4 inline mr-1"}),"Description"]}),t.jsx("textarea",{value:f.description,onChange:ke=>b(Re=>({...Re,description:ke.target.value})),placeholder:"Enter lead description or notes",rows:"3",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>d(1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Back"}),t.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:k,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",children:k?t.jsxs(t.Fragment,{children:[t.jsx(Xr,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(vt,{className:"w-4 h-4"}),"Create Lead"]})})]})]})})]})}),R&&A&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>Z(!1),children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:ke=>ke.stopPropagation(),children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Lead Details"}),t.jsx("button",{onClick:()=>Z(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Lead ID"}),t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:A.leadId})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Source"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.source})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Service"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.service})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"City"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.city})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Value"}),t.jsx("div",{className:"text-sm font-semibold text-primary",children:A.value})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Status"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.status})]})]}),(A.partnerName||A.customerName)&&t.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:A.source==="Partner Registration"||A.source==="Plan Subscription"?"Partner Information":"Customer Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Name"}),t.jsx("div",{className:"text-sm text-slate-900 font-semibold",children:A.partnerName||A.customerName})]}),(A.partnerPhone||A.customerPhone)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Phone"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.partnerPhone||A.customerPhone})]}),(A.partnerEmail||A.customerEmail)&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Email"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.partnerEmail||A.customerEmail})]}),A.partnerId&&t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Partner ID"}),t.jsx("div",{className:"text-sm text-slate-700",children:A.partnerId})]})]})]}),A.description&&t.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-2",children:"Description"}),t.jsx("div",{className:"text-sm text-slate-700 bg-slate-50 p-3 rounded-lg",children:A.description})]}),A.metadata&&Object.keys(A.metadata).length>0&&t.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[t.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-2",children:"Additional Information"}),t.jsx("div",{className:"text-xs text-slate-600 bg-slate-50 p-3 rounded-lg",children:t.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(A.metadata,null,2)})})]})]})]})})]})},n5e=[{label:"Revenue",key:"revenue",intent:"positive",icon:or},{label:"Penalties",key:"penalties",intent:"warning",icon:o0},{label:"Refunds",key:"refunds",intent:"negative",icon:r4},{label:"Average Rating",key:"ratings",intent:"positive",icon:or}],i5e=()=>{const{token:e}=wr(),[r,s]=g.useState(!1),[a,n]=g.useState(""),[i,l]=g.useState("weekly"),[o,d]=g.useState(!1),{data:c,isLoading:u,error:m}=dr(D=>We.fetchRevenueAnalytics(D),[]),{data:x,isLoading:h,error:p}=dr(D=>We.fetchUserAnalytics(D),[]),{data:f,isLoading:b,error:j}=dr(D=>We.fetchPartnerPerformance(D),[]),{data:w,isLoading:y,error:v}=dr(D=>We.fetchCategoryRevenue(D),[]),N=u||h||b||y,S=m||p||j||v,k=c||{},P=x||{},C=f||[],I=Array.isArray(w)?w:[],A=[{label:"Total Revenue",value:k!=null&&k.totalRevenue?`${(k.totalRevenue/1e5).toFixed(1)}L`:"0",trend:k!=null&&k.transactionCount?`${k.transactionCount} transactions`:null,description:"After refunds and penalties",icon:or},{label:"Successful Transactions",value:(k==null?void 0:k.successfulTransactions)??0,trend:k!=null&&k.failedTransactions?`${k.failedTransactions} failed`:null,description:"Payment gateway success rate",icon:o0,intent:"positive"},{label:"Total Users",value:(P==null?void 0:P.totalUsers)??0,trend:P!=null&&P.newUsers?`${P.newUsers} new (30d)`:null,description:"Registered customers",icon:r4},{label:"User Retention",value:P!=null&&P.userRetentionRate?`${P.userRetentionRate.toFixed(1)}%`:"0%",trend:P!=null&&P.activeUsers?`${P.activeUsers} active`:null,description:"Active user percentage",icon:or}],O=I.length>0?Math.max(...I.map(D=>D.revenue||0)):1,R=()=>t.jsx("div",{className:"flex items-center justify-center py-16",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}),Z=async()=>{d(!0);try{const D={summary:{totalRevenue:(k==null?void 0:k.totalRevenue)||0,transactionCount:(k==null?void 0:k.transactionCount)||0,successfulTransactions:(k==null?void 0:k.successfulTransactions)||0,failedTransactions:(k==null?void 0:k.failedTransactions)||0,totalUsers:(P==null?void 0:P.totalUsers)||0,activeUsers:(P==null?void 0:P.activeUsers)||0,newUsers:(P==null?void 0:P.newUsers)||0,userRetentionRate:(P==null?void 0:P.userRetentionRate)||0},categoryRevenue:I,partnerPerformance:C,exportedAt:new Date().toISOString()};let z=`Reports & Analytics Dashboard Export
`;z+=`Exported At: ${new Date().toLocaleString("en-IN")}

`,z+=`SUMMARY STATISTICS
`,z+=`Metric,Value
`,z+=`Total Revenue,${(D.summary.totalRevenue||0).toLocaleString("en-IN")}
`,z+=`Total Transactions,${D.summary.transactionCount}
`,z+=`Successful Transactions,${D.summary.successfulTransactions}
`,z+=`Failed Transactions,${D.summary.failedTransactions}
`,z+=`Total Users,${D.summary.totalUsers}
`,z+=`Active Users,${D.summary.activeUsers}
`,z+=`New Users (30d),${D.summary.newUsers}
`,z+=`User Retention Rate,${D.summary.userRetentionRate.toFixed(2)}%

`,I.length>0&&(z+=`CATEGORY-WISE REVENUE
`,z+=`Category,Revenue,Penalties,Rating,Booking Count
`,I.forEach(M=>{z+=`${M.category},${(M.revenue||0).toLocaleString("en-IN")},${(M.penalties||0).toLocaleString("en-IN")},${M.rating||0},${M.bookingCount||0}
`}),z+=`
`),C.length>0&&(z+=`PARTNER PERFORMANCE
`,z+=`Partner Name,Rating,Completion Rate,Total Earnings,Completed Bookings,Cancelled Bookings
`,C.forEach(M=>{var F;z+=`${M.name||"Unknown"},${M.rating||0},${((F=M.completionRate)==null?void 0:F.toFixed(2))||0}%,${(M.totalEarnings||0).toLocaleString("en-IN")},${M.completedBookings||0},${M.cancelledBookings||0}
`}));const se=new Blob([z],{type:"text/csv;charset=utf-8;"}),K=document.createElement("a"),_=URL.createObjectURL(se);K.setAttribute("href",_),K.setAttribute("download",`dashboard-export-${new Date().toISOString().split("T")[0]}.csv`),K.style.visibility="hidden",document.body.appendChild(K),K.click(),document.body.removeChild(K)}catch(D){console.error("Error exporting dashboard:",D),alert("Failed to export dashboard. Please try again.")}finally{d(!1)}},Y=()=>{s(!0)},ce=async D=>{D.preventDefault(),alert(`Email digest scheduled for ${a} (${i}). This feature will be implemented soon.`),s(!1),n("")};return t.jsxs("div",{children:[t.jsx(ys,{title:"Reports & Analytics",subtitle:"Get finance-ready metrics by category, city, partner performance, penalties, and customer satisfaction.",actions:t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:Y,className:"px-4 py-2 rounded-xl border border-primary text-primary text-sm font-semibold hover:bg-primary/10 transition inline-flex items-center gap-2",children:[t.jsx(ks,{})," Schedule Digest"]}),t.jsxs("button",{onClick:Z,disabled:o||N,className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(Na,{})," ",o?"Exporting...":"Export Dashboard"]})]})}),t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:A.map(D=>t.jsx(Zn,{...D},D.label))}),N?R():S?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Unable to fetch live analytics. ",S]}):t.jsxs("div",{className:"space-y-10",children:[t.jsxs("section",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500 mb-6",children:"Category-wise Revenue Snapshot"}),I.length===0?t.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No category revenue data available"}):t.jsx("div",{className:"space-y-6",children:I.map(D=>{const z=O>0?D.revenue/O*100:0;return t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-900",children:D.category}),t.jsxs("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:["Revenue: ",D.revenueFormatted||`${(D.revenue||0).toLocaleString("en-IN")}`,"  Penalties: ",D.penaltiesFormatted||`${(D.penalties||0).toLocaleString("en-IN")}`]})]}),D.rating>0&&t.jsxs("div",{className:"text-sm font-semibold text-primary",children:["Rating ",D.rating]})]}),t.jsx("div",{className:"h-2 rounded-full bg-slate-100 overflow-hidden",children:t.jsx("div",{className:"h-full bg-primary rounded-full transition-all",style:{width:`${z}%`}})})]},D.categoryId||D.category)})})]}),t.jsx("section",{className:"grid lg:grid-cols-3 gap-6",children:n5e.map(D=>t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-900",children:D.label}),t.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Trendline (12 weeks)"})]}),t.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 text-primary flex items-center justify-center",children:t.jsx(D.icon,{})})]}),t.jsx("div",{className:"mt-5 h-28",children:t.jsx("div",{className:"w-full h-full rounded-lg bg-gradient-to-br from-primary/5 to-primary/20 flex items-center justify-center text-sm text-primary font-semibold",children:t.jsx("span",{children:"Coming soon"})})})]},D.label))})]}),r&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[t.jsx(tn,{className:"w-5 h-5"}),"Schedule Email Digest"]}),t.jsx("button",{onClick:()=>{s(!1),n("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email Address"}),t.jsx("input",{type:"email",value:a,onChange:D=>n(D.target.value),required:!0,placeholder:"admin@example.com",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Frequency"}),t.jsxs("select",{value:i,onChange:D=>l(D.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[t.jsx("option",{value:"daily",children:"Daily"}),t.jsx("option",{value:"weekly",children:"Weekly"}),t.jsx("option",{value:"monthly",children:"Monthly"})]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-700",children:[t.jsx("p",{className:"font-semibold mb-1",children:"Coming Soon"}),t.jsx("p",{children:"Email digest scheduling will be available soon. You'll receive automated reports with all analytics data."})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{s(!1),n("")},className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition",children:"Schedule"})]})]})]})})]})},l5e=[{header:"Template",accessor:"name"},{header:"Channel",accessor:"channel"},{header:"Audience",accessor:"audience"},{header:"Last Updated",accessor:"updatedAt"},{header:"Owner",accessor:"owner"},{header:"Status",accessor:"status",render:e=>t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${e==="Active"?"bg-emerald-500/10 text-emerald-600":e==="Draft"?"bg-slate-200 text-slate-700":"bg-amber-500/10 text-amber-600"}`,children:e})}],o5e=[{header:"Flow",accessor:"flow"},{header:"Trigger",accessor:"trigger"},{header:"Audience",accessor:"audience"},{header:"Channels",accessor:"channels"},{header:"Sends (7d)",accessor:"sends"},{header:"Status",accessor:"status"}],c5e=[{id:1,name:"Booking Confirmation",channel:"WhatsApp",audience:"Customer",updatedAt:"12 Nov, 10:12",owner:"CX Ops",status:"Active"},{id:2,name:"Partner Allocation Alert",channel:"SMS + WhatsApp",audience:"Partner",updatedAt:"11 Nov, 18:04",owner:"Partner Ops",status:"Active"},{id:3,name:"Refund Initiated",channel:"WhatsApp",audience:"Customer",updatedAt:"10 Nov, 16:40",owner:"Finance",status:"Draft"}],d5e=()=>{const{data:e,isLoading:r,error:s}=dr(n=>We.fetchModuleData("/notifications/templates",n)),a=[{label:"Templates Live",value:(e==null?void 0:e.templateCount)??48,trend:"8 pending WhatsApp approval",icon:t4,description:"Across partners, customers, finance"},{label:"Automation Journeys",value:(e==null?void 0:e.journeys)??14,trend:"3 paused due to SLA breach",icon:kl,description:"Trigger-condition-action flows"},{label:"Messages Sent (24h)",value:(e==null?void 0:e.messagesSent)??"18,240",trend:"Delivery rate 97.4%",icon:Hf,description:"WhatsApp + SMS combined"},{label:"Tokenized Content",value:(e==null?void 0:e.tokenUsage)??"83%",trend:"Personalized with real-time data",icon:Hi,description:"Dynamic placeholders"}];return t.jsxs("div",{children:[t.jsx(ys,{title:"Notifications",subtitle:"Build and orchestrate WhatsApp and SMS templates with audit-ready versions, journey automation, and compliance guardrails.",actions:t.jsx("button",{className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition",children:"Create Template"})}),t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:a.map(n=>t.jsx(Zn,{...n},n.label))}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("section",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Template Library"}),s&&t.jsx("span",{className:"text-xs text-rose-500",children:"Template sync failed. Showing cached data."}),r&&t.jsx("span",{className:"text-xs text-slate-400",children:"Loading templates..."})]}),t.jsx(Oa,{columns:l5e,data:(e==null?void 0:e.templates)??c5e,emptyLabel:"No templates created."})]}),t.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Journey Automation"}),t.jsx("button",{className:"text-xs text-primary font-semibold",children:"New Flow"})]}),t.jsx(Oa,{columns:o5e,data:(e==null?void 0:e.journeySummary)??[{id:1,flow:"Lead Allocated  Partner Reminder",trigger:"No bid in 15 mins",audience:"Partner",channels:"WhatsApp + Push",sends:"546",status:"Active"},{id:2,flow:"Service Completed  Feedback",trigger:"Job completion event",audience:"Customer",channels:"WhatsApp + Email",sends:"1,824",status:"Active"}],emptyLabel:"No automation journeys configured."})]}),t.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Compliance Guardrails"}),t.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:"Centralized audit logs, template versioning, and opt-out controls ensure every WhatsApp or SMS message adheres to regulatory requirements."}),t.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[t.jsx("li",{children:" Maintain DLT IDs and expiry alerts"}),t.jsx("li",{children:" Auto-block sending if opt-out thresholds exceeded"}),t.jsx("li",{children:" Attach escalation notes for manual overrides"})]})]})]})]})]})},u5e=()=>{const{notifications:e}=wr(),r=(e==null?void 0:e.notifications)||[],s=(e==null?void 0:e.isLoading)||!1,a=(e==null?void 0:e.unreadCount)||0,n=e==null?void 0:e.markAsRead,i=e==null?void 0:e.fetchNotifications,[l,o]=g.useState("all"),d=r.filter(x=>l==="unread"?!x.seen&&!x.read:l==="read"?x.seen||x.read:!0),c=async(x=null)=>{n&&(await n(x),i&&await i())},u=async()=>{n&&(await n(),i&&await i())},m=x=>{if(!x)return"";const h=new Date(x),f=new Date-h,b=Math.floor(f/6e4),j=Math.floor(f/36e5),w=Math.floor(f/864e5);return b<1?"Just now":b<60?`${b} minutes ago`:j<24?`${j} hours ago`:w<7?`${w} days ago`:h.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return t.jsxs("div",{children:[t.jsx(ys,{title:"Notifications",subtitle:"View and manage all your notifications",actions:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>i&&i(),className:"px-4 py-2 rounded-xl bg-slate-100 text-slate-700 text-sm font-semibold hover:bg-slate-200 transition flex items-center gap-2",children:[t.jsx(Dt,{className:"w-4 h-4"}),"Refresh"]}),a>0&&t.jsxs("button",{onClick:u,className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition flex items-center gap-2",children:[t.jsx(vt,{className:"w-4 h-4"}),"Mark All Read"]})]})}),t.jsxs("div",{className:"mb-6 flex items-center gap-2 border-b border-slate-200",children:[t.jsxs("button",{onClick:()=>o("all"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${l==="all"?"border-primary text-primary":"border-transparent text-slate-600 hover:text-slate-900"}`,children:["All (",r.length,")"]}),t.jsxs("button",{onClick:()=>o("unread"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${l==="unread"?"border-primary text-primary":"border-transparent text-slate-600 hover:text-slate-900"}`,children:["Unread (",a,")"]}),t.jsxs("button",{onClick:()=>o("read"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${l==="read"?"border-primary text-primary":"border-transparent text-slate-600 hover:text-slate-900"}`,children:["Read (",r.length-a,")"]})]}),s?t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-12 text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600",children:"Loading notifications..."})]}):d.length===0?t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-12 text-center",children:[t.jsx(Cn,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No notifications"}),t.jsx("p",{className:"text-slate-600",children:l==="unread"?"You're all caught up! No unread notifications.":l==="read"?"No read notifications to display.":"You don't have any notifications yet."})]}):t.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 divide-y divide-slate-100",children:d.map(x=>{var p;const h=!x.seen&&!x.read;return t.jsx("div",{className:`p-6 hover:bg-slate-50 transition-colors ${h?"bg-blue-50/30 border-l-4 border-l-primary":""}`,children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:t.jsx("div",{className:`w-3 h-3 rounded-full ${h?"bg-primary":"bg-slate-300"}`})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-1",children:x.title||((p=x.message)==null?void 0:p.split(": ")[0])||"New notification"}),x.message&&t.jsx("p",{className:"text-sm text-slate-600 mb-2 line-clamp-3",children:x.title?x.message:x.message.split(": ").slice(1).join(": ")||x.message}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-400",children:[t.jsx("span",{children:m(x.date||x.createdAt)}),x.type&&t.jsx("span",{className:"px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:x.type})]})]}),h&&t.jsx("button",{onClick:()=>c(x._id||x.id),className:"flex-shrink-0 p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Mark as read",children:t.jsx(Sl,{className:"w-5 h-5 text-slate-400 hover:text-primary"})})]})})]})},x._id||x.id||Math.random())})})]})},m5e=[{header:"Refund ID",accessor:"refundId"},{header:"Booking",accessor:"bookingId"},{header:"Customer",accessor:"customer"},{header:"Reason",accessor:"reason"},{header:"Channel",accessor:"channel"},{header:"Amount",accessor:"amount"},{header:"Status",accessor:"status",render:e=>t.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${e==="Auto Refunded"?"bg-emerald-500/10 text-emerald-600":e==="Manual Review"?"bg-amber-500/10 text-amber-600":"bg-slate-200 text-slate-700"}`,children:e})},{header:"SLA",accessor:"sla"}],h5e=[{header:"Case",accessor:"caseId"},{header:"Booking",accessor:"bookingId"},{header:"Escalation Level",accessor:"level"},{header:"Amount",accessor:"amount"},{header:"Owner",accessor:"owner"},{header:"Status",accessor:"status"}],x5e=[{id:1,refundId:"RF-2210",bookingId:"BK-2991",customer:"Megha Patil",reason:"Technician no-show",channel:"Auto",amount:"1,299",status:"Auto Refunded",sla:"Closed in 1.8 hrs"},{id:2,refundId:"RF-2206",bookingId:"BK-2986",customer:"Arjun Desai",reason:"Quality dispute",channel:"Manual",amount:"2,450",status:"Manual Review",sla:"Awaiting Finance (4.2 hrs)"},{id:3,refundId:"RF-2201",bookingId:"BK-2978",customer:"Latika Rao",reason:"Double charge",channel:"Auto",amount:"1,049",status:"Auto Refunded",sla:"Closed in 35 mins"}],p5e=()=>{const{data:e,isLoading:r,error:s}=dr(n=>We.fetchModuleData("/refunds",n)),a=[{label:"Auto Closure Rate",value:(e==null?void 0:e.autoRate)??"76%",trend:"Policy engine handling majority scenarios",icon:cZ,description:"Within defined risk guardrails"},{label:"Average Turnaround",value:(e==null?void 0:e.turnaround)??"2.1 hrs",trend:"Manual queue aging at 6.4 hrs",icon:Xr,description:"From request to settlement",intent:(e==null?void 0:e.turnaround)>3?"warning":"positive"},{label:"Finance Exceptions",value:(e==null?void 0:e.exceptions)??12,trend:"Escalated to level-2 for approval",icon:eZ,description:"Needs manual override",intent:"warning"},{label:"Chargeback Prevention",value:(e==null?void 0:e.chargebackAvoided)??"4.6L",trend:"By proactive customer engagement",icon:Ja,description:"Month to date"}];return t.jsxs("div",{children:[t.jsx(ys,{title:"Refund Management",subtitle:"Track refund automation logs, manual overrides, and finance escalations with granular audit trails.",actions:t.jsx("button",{className:"px-4 py-2 rounded-xl border border-primary text-primary text-sm font-semibold hover:bg-primary/10 transition",children:"Configure Policies"})}),t.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:a.map(n=>t.jsx(Zn,{...n},n.label))}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("section",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Refund Ledger"}),s&&t.jsx("span",{className:"text-xs text-rose-500",children:"Refund service offline."}),r&&t.jsx("span",{className:"text-xs text-slate-400",children:"Syncing latest refunds..."})]}),t.jsx(Oa,{columns:m5e,data:(e==null?void 0:e.refunds)??x5e,emptyLabel:"No refunds recorded today."})]}),t.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Manual Overrides"}),t.jsx("button",{className:"text-xs text-primary font-semibold",children:"New Override"})]}),t.jsx(Oa,{columns:h5e,data:(e==null?void 0:e.exceptionsList)??[{id:1,caseId:"EX-1982",bookingId:"BK-2986",level:"Finance L2",amount:"2,450",owner:"Sana Qureshi",status:"Pending"},{id:2,caseId:"EX-1979",bookingId:"BK-2971",level:"Ops L1",amount:"980",owner:"Raghav Iyer",status:"Approved"}],emptyLabel:"No manual overrides pending."})]}),t.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Risk & Escalation Engine"}),t.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:"Every refund request is scored on past incidents, ticket sentiment, wallet health, and policy compliance. Higher risk cases auto-assign to finance controllers."}),t.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[t.jsx("li",{children:" Auto-close low-risk refunds instantly"}),t.jsx("li",{children:" Dual-auth approvals above 5,000"}),t.jsx("li",{children:" SLA breach alerts for pending overrides"})]})]})]})]})]})},f5e=()=>{const{token:e}=wr(),{data:r,isLoading:s,error:a,refresh:n}=dr(y=>We.fetchMGPlans(y),[]),[i,l]=g.useState(!1),[o,d]=g.useState(null),[c,u]=g.useState({name:"",price:"",leads:"",commission:"",leadFee:"",minWalletBalance:"",description:"",refundPolicy:"",features:"",validityType:"monthly",validityMonths:"",partnerType:"individual",isDefault:!1,isActive:!0}),[m,x]=g.useState(!1),h=(r==null?void 0:r.data)||[],p=()=>{d(null),u({name:"",price:"",leads:"",commission:"",leadFee:"",minWalletBalance:"",description:"",refundPolicy:"",features:"",validityType:"monthly",validityMonths:"",partnerType:"individual",isDefault:!1,isActive:!0}),l(!0)},f=y=>{var v;d(y),u({name:y.name,price:y.price,leads:y.leads,commission:y.commission,leadFee:y.leadFee??"",minWalletBalance:y.minWalletBalance??"",description:y.description||"",refundPolicy:y.refundPolicy||"",features:((v=y.features)==null?void 0:v.join(`
`))||"",validityType:y.validityType||"monthly",validityMonths:y.validityType==="custom"&&y.validityMonths||"",partnerType:y.partnerType||"individual",isDefault:y.isDefault||!1,isActive:y.isActive!==void 0?y.isActive:!0}),l(!0)},b=async y=>{y.preventDefault(),x(!0);try{const v={...c,price:Number(c.price),leads:Number(c.leads),commission:Number(c.commission),leadFee:c.leadFee===""?void 0:Number(c.leadFee),minWalletBalance:c.minWalletBalance===""?void 0:Number(c.minWalletBalance),features:c.features.split(`
`).filter(N=>N.trim()),validityType:c.validityType,validityMonths:c.validityType==="custom"&&c.validityMonths?Number(c.validityMonths):void 0};o?await We.updateMGPlan(e,o._id,v):await We.createMGPlan(e,v),l(!1),n()}catch(v){alert(v.message||"Failed to save plan")}finally{x(!1)}},j=async y=>{if(confirm("Are you sure you want to delete this plan?"))try{await We.deleteMGPlan(e,y),n()}catch(v){alert(v.message||"Failed to delete plan")}},w=y=>{if(!y)return"";const v=y.toLowerCase();return v.includes("silver")?"":v.includes("gold")?"":v.includes("platinum")?"":v.includes("basic")?"":v.includes("premium")?"":v.includes("enterprise")||v.includes("business")?"":v.includes("starter")?"":v.includes("pro")?"":""};return t.jsxs("div",{children:[t.jsx(ys,{title:"MG Plan Management",subtitle:"Manage Minimum Guarantee plans for partners - pricing, leads, and commission rates."}),t.jsx("div",{className:"mb-6 flex justify-end",children:t.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition",children:[t.jsx(Tr,{})," Create New Plan"]})}),s?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Error loading plans: ",a]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:h.map(y=>{var v;return t.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-6 shadow-sm hover:shadow-md transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"text-4xl",children:w(y.name)}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:y.name}),y.isDefault&&t.jsx("span",{className:"text-xs text-primary font-semibold",children:"Default Plan"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>f(y),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(Cs,{className:"text-slate-600"})}),t.jsx("button",{onClick:()=>j(y._id),className:"p-2 hover:bg-rose-50 rounded-lg transition",children:t.jsx(la,{className:"text-rose-600"})})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-3xl font-bold text-primary",children:["",y.price.toLocaleString("en-IN")]}),t.jsx("div",{className:"text-sm text-gray-500",children:"per month"})]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:[y.leads," Guaranteed Leads"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:[y.commission,"% Commission Rate"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:["Lead Fee ",(y.leadFee??0).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-green-500"}),t.jsxs("span",{className:"text-gray-700",children:["Min Wallet ",(y.minWalletBalance??0).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-blue-500"}),t.jsxs("span",{className:"text-gray-700",children:["Validity: ",y.validityType==="monthly"?"1 Month":y.validityType==="quarterly"?"3 Months":y.validityType==="yearly"?"12 Months":y.validityType==="custom"?`${y.validityMonths||1} Month(s)`:"1 Month"]})]})]}),y.description&&t.jsx("p",{className:"text-sm text-gray-600 mt-3",children:y.description}),y.refundPolicy&&t.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:y.refundPolicy}),(v=y.features)!=null&&v.length?t.jsxs("div",{className:"pt-3 border-t",children:[t.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-2",children:"Highlights"}),t.jsx("ul",{className:"space-y-1 text-xs text-slate-600",children:y.features.map((N,S)=>t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-green-500"}),t.jsx("span",{children:N})]},S))})]}):null,t.jsxs("div",{className:"pt-3 border-t flex items-center gap-2 flex-wrap",children:[t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${y.isActive?"bg-emerald-500/10 text-emerald-600":"bg-gray-500/10 text-gray-600"}`,children:y.isActive?"Active":"Inactive"}),t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${y.partnerType==="franchise"?"bg-purple-500/10 text-purple-600":y.partnerType==="both"?"bg-blue-500/10 text-blue-600":"bg-slate-500/10 text-slate-600"}`,children:y.partnerType==="franchise"?"Franchise":y.partnerType==="both"?"Both":"Individual"})]})]})]},y._id)})}),i&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:o?"Edit Plan":"Create New Plan"}),t.jsxs("form",{onSubmit:b,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Plan Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:c.name,onChange:y=>u(v=>({...v,name:y.target.value.trim()})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter plan name (e.g., Silver, Gold, Platinum, Basic, Premium, etc.)",required:!0}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:'You can use the same name for different partner types (e.g., "Silver" for Individual and "Silver" for Franchise)'})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Partner Type ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:c.partnerType,onChange:y=>u(v=>({...v,partnerType:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",required:!0,children:[t.jsx("option",{value:"individual",children:"Individual Partner"}),t.jsx("option",{value:"franchise",children:"Franchise Partner"}),t.jsx("option",{value:"both",children:"Both (Individual & Franchise)"})]}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select which partner type can subscribe to this plan"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Price () ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:c.price,onChange:y=>u(v=>({...v,price:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"1000",min:"0",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Guaranteed Leads ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:c.leads,onChange:y=>u(v=>({...v,leads:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"20",min:"0",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Commission (%) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:c.commission,onChange:y=>u(v=>({...v,commission:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"5",min:"0",max:"100",step:"0.1",required:!0})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Lead Fee () ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:c.leadFee,onChange:y=>u(v=>({...v,leadFee:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"50",min:"0",required:!0})]}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Min Wallet Balance () ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:c.minWalletBalance,onChange:y=>u(v=>({...v,minWalletBalance:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"20",min:"0",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),t.jsx("textarea",{value:c.description,onChange:y=>u(v=>({...v,description:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",rows:3,placeholder:"Plan description..."})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Plan Validity ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:c.validityType,onChange:y=>u(v=>({...v,validityType:y.target.value,validityMonths:y.target.value==="custom"?v.validityMonths:""})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",required:!0,children:[t.jsx("option",{value:"monthly",children:"Monthly (1 Month)"}),t.jsx("option",{value:"quarterly",children:"Quarterly (3 Months)"}),t.jsx("option",{value:"yearly",children:"Yearly (12 Months)"}),t.jsx("option",{value:"custom",children:"Custom Duration"})]}),c.validityType==="custom"&&t.jsxs("div",{className:"mt-3",children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Custom Duration (Months) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",value:c.validityMonths,onChange:y=>u(v=>({...v,validityMonths:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter number of months",min:"1",required:c.validityType==="custom"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Enter the number of months for plan validity"})]}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select how long the plan remains valid after subscription"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Refund Policy"}),t.jsx("textarea",{value:c.refundPolicy,onChange:y=>u(v=>({...v,refundPolicy:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",rows:2,placeholder:"Refund policy details..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Features (one per line)"}),t.jsx("textarea",{value:c.features,onChange:y=>u(v=>({...v,features:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",rows:4,placeholder:`Feature 1
Feature 2
Feature 3`})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:c.isDefault,onChange:y=>u(v=>({...v,isDefault:y.target.checked})),className:"w-4 h-4 text-primary rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Set as Default Plan"})]})}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:c.isActive,onChange:y=>u(v=>({...v,isActive:y.target.checked})),className:"w-4 h-4 text-primary rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Active"})]})}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition disabled:opacity-50",children:m?"Saving...":o?"Update Plan":"Create Plan"})]})]})]})})]})},g5e=()=>{const{token:e}=wr(),[r,s]=g.useState("individual"),[a,n]=g.useState({individual:{registrationFee:"",securityDeposit:"",toolkitPrice:"",registrationFeeRefundable:!1,securityDepositRefundable:!1,toolkitPriceRefundable:!1},franchise:{registrationFee:"",securityDeposit:"",toolkitPrice:"",registrationFeeRefundable:!1,securityDepositRefundable:!1,toolkitPriceRefundable:!1}}),[i,l]=g.useState(!1),[o,d]=g.useState(""),[c,u]=g.useState(""),{data:m,isLoading:x,error:h,refresh:p}=dr(y=>We.fetchFees(y),[]);_t.useEffect(()=>{var y,v,N,S,k,P,C,I,A,O,R,Z;m!=null&&m.data&&n({individual:{registrationFee:((y=m.data.individual)==null?void 0:y.registrationFee)||m.data.registrationFee||"",securityDeposit:((v=m.data.individual)==null?void 0:v.securityDeposit)||m.data.securityDeposit||"",toolkitPrice:((N=m.data.individual)==null?void 0:N.toolkitPrice)||m.data.toolkitPrice||"",registrationFeeRefundable:((S=m.data.individual)==null?void 0:S.registrationFeeRefundable)||m.data.registrationFeeRefundable||!1,securityDepositRefundable:((k=m.data.individual)==null?void 0:k.securityDepositRefundable)||m.data.securityDepositRefundable||!1,toolkitPriceRefundable:((P=m.data.individual)==null?void 0:P.toolkitPriceRefundable)||m.data.toolkitPriceRefundable||!1},franchise:{registrationFee:((C=m.data.franchise)==null?void 0:C.registrationFee)||m.data.registrationFee||"",securityDeposit:((I=m.data.franchise)==null?void 0:I.securityDeposit)||m.data.securityDeposit||"",toolkitPrice:((A=m.data.franchise)==null?void 0:A.toolkitPrice)||m.data.toolkitPrice||"",registrationFeeRefundable:((O=m.data.franchise)==null?void 0:O.registrationFeeRefundable)||m.data.registrationFeeRefundable||!1,securityDepositRefundable:((R=m.data.franchise)==null?void 0:R.securityDepositRefundable)||m.data.securityDepositRefundable||!1,toolkitPriceRefundable:((Z=m.data.franchise)==null?void 0:Z.toolkitPriceRefundable)||m.data.toolkitPriceRefundable||!1}})},[m]);const f=async y=>{y.preventDefault(),l(!0),u(""),d("");try{const v=a[r];await We.updateFees(e,{partnerType:r,registrationFee:Number(v.registrationFee),securityDeposit:Number(v.securityDeposit),toolkitPrice:Number(v.toolkitPrice),registrationFeeRefundable:v.registrationFeeRefundable,securityDepositRefundable:v.securityDepositRefundable,toolkitPriceRefundable:v.toolkitPriceRefundable}),d(`${r==="individual"?"Individual":"Franchise"} partner fees updated successfully!`),p(),setTimeout(()=>{d("")},3e3)}catch(v){u(v.message||"Failed to update fees")}finally{l(!1)}},b=()=>{var y,v,N,S,k,P,C,I,A,O,R,Z;m!=null&&m.data&&n({individual:{registrationFee:((y=m.data.individual)==null?void 0:y.registrationFee)||m.data.registrationFee||"",securityDeposit:((v=m.data.individual)==null?void 0:v.securityDeposit)||m.data.securityDeposit||"",toolkitPrice:((N=m.data.individual)==null?void 0:N.toolkitPrice)||m.data.toolkitPrice||"",registrationFeeRefundable:((S=m.data.individual)==null?void 0:S.registrationFeeRefundable)||m.data.registrationFeeRefundable||!1,securityDepositRefundable:((k=m.data.individual)==null?void 0:k.securityDepositRefundable)||m.data.securityDepositRefundable||!1,toolkitPriceRefundable:((P=m.data.individual)==null?void 0:P.toolkitPriceRefundable)||m.data.toolkitPriceRefundable||!1},franchise:{registrationFee:((C=m.data.franchise)==null?void 0:C.registrationFee)||m.data.registrationFee||"",securityDeposit:((I=m.data.franchise)==null?void 0:I.securityDeposit)||m.data.securityDeposit||"",toolkitPrice:((A=m.data.franchise)==null?void 0:A.toolkitPrice)||m.data.toolkitPrice||"",registrationFeeRefundable:((O=m.data.franchise)==null?void 0:O.registrationFeeRefundable)||m.data.registrationFeeRefundable||!1,securityDepositRefundable:((R=m.data.franchise)==null?void 0:R.securityDepositRefundable)||m.data.securityDepositRefundable||!1,toolkitPriceRefundable:((Z=m.data.franchise)==null?void 0:Z.toolkitPriceRefundable)||m.data.toolkitPriceRefundable||!1}}),u(""),d("")},j=()=>{const y=a[r],v=Number(y.registrationFee)||0,N=Number(y.securityDeposit)||0;return v+N},w=a[r];return t.jsxs("div",{children:[t.jsx(ys,{title:"Fee Management",subtitle:"Manage registration fee, security deposit, and toolkit pricing for partner onboarding."}),x?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):h?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Error loading fees: ",h]}):t.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Update Fees"}),t.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg transition",children:[t.jsx(Dt,{className:"w-4 h-4"}),"Reset"]})]}),t.jsxs("div",{className:"flex gap-2 mb-6 p-1 bg-slate-100 rounded-xl",children:[t.jsx("button",{type:"button",onClick:()=>s("individual"),className:`flex-1 px-4 py-2.5 rounded-lg font-semibold transition ${r==="individual"?"bg-white text-primary shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"Individual Partner"}),t.jsx("button",{type:"button",onClick:()=>s("franchise"),className:`flex-1 px-4 py-2.5 rounded-lg font-semibold transition ${r==="franchise"?"bg-white text-purple-600 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"Franchise Partner"})]}),c&&t.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg mb-6 text-sm",children:c}),o&&t.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg mb-6 text-sm",children:o}),t.jsxs("form",{onSubmit:f,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Registration Fee () ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:""}),t.jsx("input",{type:"number",value:w.registrationFee,onChange:y=>n(v=>({...v,[r]:{...v[r],registrationFee:y.target.value}})),className:"w-full pl-8 pr-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"500",min:"0",step:"1",required:!0})]}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["One-time registration fee charged to ",r==="individual"?"individual":"franchise"," partners during onboarding"]}),t.jsxs("div",{className:"flex items-center gap-3 mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsx("input",{type:"checkbox",id:"registrationFeeRefundable",checked:w.registrationFeeRefundable,onChange:y=>n(v=>({...v,[r]:{...v[r],registrationFeeRefundable:y.target.checked}})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),t.jsx("label",{htmlFor:"registrationFeeRefundable",className:"flex-1 cursor-pointer",children:t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Registration Fee is Refundable"})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Security Deposit () ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:""}),t.jsx("input",{type:"number",value:w.securityDeposit,onChange:y=>n(v=>({...v,[r]:{...v[r],securityDeposit:y.target.value}})),className:"w-full pl-8 pr-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"1000",min:"0",step:"1",required:!0})]}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Security deposit amount collected from ",r==="individual"?"individual":"franchise"," partners"]}),t.jsxs("div",{className:"flex items-center gap-3 mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsx("input",{type:"checkbox",id:"securityDepositRefundable",checked:w.securityDepositRefundable,onChange:y=>n(v=>({...v,[r]:{...v[r],securityDepositRefundable:y.target.checked}})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),t.jsx("label",{htmlFor:"securityDepositRefundable",className:"flex-1 cursor-pointer",children:t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Security Deposit is Refundable"})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Toolkit Price () ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:""}),t.jsx("input",{type:"number",value:w.toolkitPrice,onChange:y=>n(v=>({...v,[r]:{...v[r],toolkitPrice:y.target.value}})),className:"w-full pl-8 pr-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"2499",min:"0",step:"1",required:!0})]}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Price for professional toolkit (optional purchase during onboarding)"}),t.jsxs("div",{className:"flex items-center gap-3 mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsx("input",{type:"checkbox",id:"toolkitPriceRefundable",checked:w.toolkitPriceRefundable,onChange:y=>n(v=>({...v,[r]:{...v[r],toolkitPriceRefundable:y.target.checked}})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),t.jsx("label",{htmlFor:"toolkitPriceRefundable",className:"flex-1 cursor-pointer",children:t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Toolkit Price is Refundable"})})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:b,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:i,className:"flex-1 px-4 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ji,{className:"w-5 h-5"}),"Update Fees"]})})]})]})]})}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:`bg-gradient-to-br border rounded-2xl p-6 sticky top-6 ${r==="individual"?"from-primary/10 to-primary/5 border-primary/20":"from-purple-500/10 to-purple-500/5 border-purple-500/20"}`,children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-2 flex items-center gap-2",children:[t.jsx(Jt,{className:`w-5 h-5 ${r==="individual"?"text-primary":"text-purple-600"}`}),"Fee Summary"]}),t.jsxs("p",{className:"text-xs text-slate-600 mb-4",children:[r==="individual"?"Individual Partner":"Franchise Partner"," Fees"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white/80 rounded-xl p-4",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Registration Fee"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",(Number(w.registrationFee)||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"bg-white/80 rounded-xl p-4",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Security Deposit"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",(Number(w.securityDeposit)||0).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"bg-white/80 rounded-xl p-4",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Toolkit Price"}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",(Number(w.toolkitPrice)||0).toLocaleString("en-IN")]})]}),t.jsx("div",{className:`border-t pt-4 mt-4 ${r==="individual"?"border-primary/20":"border-purple-500/20"}`,children:t.jsxs("div",{className:"bg-white/80 rounded-xl p-4",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Total Onboarding Fee"}),t.jsxs("p",{className:`text-2xl font-bold ${r==="individual"?"text-primary":"text-purple-600"}`,children:["",j().toLocaleString("en-IN")]}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"(Registration + Security Deposit)"})]})}),t.jsxs("div",{className:"bg-white/80 rounded-xl p-4 space-y-2",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2 font-semibold",children:"Refundable Status"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-slate-600",children:"Registration Fee:"}),t.jsx("span",{className:`text-xs font-semibold ${w.registrationFeeRefundable?"text-emerald-600":"text-slate-600"}`,children:w.registrationFeeRefundable?" Refundable":" Non-Refundable"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-slate-600",children:"Security Deposit:"}),t.jsx("span",{className:`text-xs font-semibold ${w.securityDepositRefundable?"text-emerald-600":"text-slate-600"}`,children:w.securityDepositRefundable?" Refundable":" Non-Refundable"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-slate-600",children:"Toolkit Price:"}),t.jsx("span",{className:`text-xs font-semibold ${w.toolkitPriceRefundable?"text-emerald-600":"text-slate-600"}`,children:w.toolkitPriceRefundable?" Refundable":" Non-Refundable"})]})]})]}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mt-4",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(eD,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"text-xs text-blue-700",children:[t.jsx("p",{className:"font-semibold mb-1",children:"Note:"}),t.jsx("p",{children:"Toolkit is optional. Total onboarding fee = Registration Fee + Security Deposit"}),(w.registrationFeeRefundable||w.securityDepositRefundable||w.toolkitPriceRefundable)&&t.jsxs("p",{className:"mt-2 text-emerald-700 font-semibold",children:[" Refundable fees will be displayed to ",r==="individual"?"individual":"franchise"," partners during onboarding"]})]})]})})]})]})})]})]})},Y6=({data:e,type:r="booking",onClose:s})=>{var j,w,y,v,N,S,k,P,C,I,A,O;const a=g.useRef(null),n=r==="booking"||r==="job",i=r==="transaction",l=n?(e==null?void 0:e.bookingId)||((j=e==null?void 0:e._id)==null?void 0:j.toString().slice(-8))||`INV-${Date.now()}`:(e==null?void 0:e.transactionId)||((w=e==null?void 0:e._id)==null?void 0:w.toString().slice(-8))||`TXN-${Date.now()}`,o=n?(e==null?void 0:e.completedAt)||(e==null?void 0:e.createdAt)||new Date:(e==null?void 0:e.createdAt)||new Date,d=n?((y=e==null?void 0:e.user)==null?void 0:y.name)||(e==null?void 0:e.customerName)||"Customer":((N=(v=e==null?void 0:e.partner)==null?void 0:v.profile)==null?void 0:N.name)||(e==null?void 0:e.partnerName)||"Partner",c=n?((S=e==null?void 0:e.user)==null?void 0:S.phone)||(e==null?void 0:e.customerPhone)||"N/A":((k=e==null?void 0:e.partner)==null?void 0:k.phone)||"N/A",u=n?((P=e==null?void 0:e.subService)==null?void 0:P.name)||(e==null?void 0:e.serviceName)||((C=e==null?void 0:e.service)==null?void 0:C.name)||"Service":null,m=n?(e==null?void 0:e.amount)||0:((A=(I=e==null?void 0:e.metadata)==null?void 0:I.priceBreakdown)==null?void 0:A.totalAmount)||(e==null?void 0:e.amount)||0,x=n?(e==null?void 0:e.status)||"pending":(e==null?void 0:e.status)||"success",h=n?(e==null?void 0:e.paymentMode)||"cash":null,p=n?(e==null?void 0:e.location)||{}:null,f=i?(e==null?void 0:e.description)||"Transaction":u,b=async()=>{var D;const R=(D=a.current)==null?void 0:D.querySelector(".invoice-logo-img");let Z="";if(R&&R.src)try{if(R.complete&&R.naturalWidth>0){const z=document.createElement("canvas");z.width=R.naturalWidth||60,z.height=R.naturalHeight||60,z.getContext("2d").drawImage(R,0,0),Z=z.toDataURL("image/png")}else{const z=new Image;z.crossOrigin="anonymous",await new Promise((se,K)=>{z.onload=()=>{const _=document.createElement("canvas");_.width=z.width,_.height=z.height,_.getContext("2d").drawImage(z,0,0),Z=_.toDataURL("image/png"),se()},z.onerror=()=>{Z=R.src.startsWith("http")?R.src:`${window.location.origin}${R.src}`,se()},z.src=R.src.startsWith("http")?R.src:`${window.location.origin}${R.src}`})}}catch(z){console.error("Error converting logo:",z),R.src&&(Z=R.src.startsWith("http")?R.src:`${window.location.origin}${R.src}`)}const Y=window.open("","_blank");let ce=a.current.innerHTML;Z&&(ce=ce.replace(/<img[^>]*class="invoice-logo-img"[^>]*>/,`<img src="${Z}" alt="NEXO Logo" style="width: auto; height: 120px; object-fit: contain; display: block;" />`)),Y.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Invoice - ${l}</title>
          <style>
            @media print {
              @page {
                size: A4;
                margin: 20mm;
              }
              body {
                margin: 0;
                padding: 0;
              }
              .no-print {
                display: none !important;
              }
            }
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
              background: white;
              color: #1a202c;
              padding: 40px;
            }
            .invoice-container {
              max-width: 800px;
              margin: 0 auto;
              background: white;
            }
            .invoice-header {
              border-bottom: 3px solid #214A73;
              padding-bottom: 30px;
              margin-bottom: 30px;
            }
            .invoice-header-top {
              display: flex;
              justify-content: space-between;
              align-items: flex-start;
              margin-bottom: 20px;
            }
            .invoice-logo-container {
              display: flex;
              align-items: center;
            }
            .invoice-logo-box {
              width: auto;
              height: 120px;
              border-radius: 8px;
              display: flex;
              align-items: center;
              justify-content: center;
              overflow: hidden;
              padding: 10px;
            }
            .invoice-logo-img {
              width: auto;
              height: 100%;
              object-fit: contain;
              display: block;
            }
            img.invoice-logo-img {
              max-width: none;
              max-height: 120px;
            }
            .invoice-number {
              text-align: right;
            }
            .invoice-number h1 {
              font-size: 28px;
              color: #214A73;
              margin-bottom: 5px;
            }
            .invoice-number p {
              color: #718096;
              font-size: 14px;
            }
            .invoice-info {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 40px;
              margin-bottom: 30px;
            }
            .info-section h3 {
              color: #214A73;
              font-size: 14px;
              text-transform: uppercase;
              letter-spacing: 1px;
              margin-bottom: 15px;
              padding-bottom: 8px;
              border-bottom: 2px solid #e2e8f0;
            }
            .info-section p {
              color: #4a5568;
              margin-bottom: 8px;
              font-size: 14px;
            }
            .invoice-items {
              margin: 30px 0;
            }
            .invoice-items h3 {
              color: #214A73;
              font-size: 14px;
              text-transform: uppercase;
              letter-spacing: 1px;
              margin-bottom: 15px;
              padding-bottom: 8px;
              border-bottom: 2px solid #e2e8f0;
            }
            .items-table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 20px;
            }
            .items-table thead {
              background: #f7fafc;
            }
            .items-table th {
              padding: 12px;
              text-align: left;
              color: #214A73;
              font-weight: 600;
              font-size: 12px;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            .items-table td {
              padding: 15px 12px;
              border-bottom: 1px solid #e2e8f0;
              color: #2d3748;
            }
            .items-table tbody tr:last-child td {
              border-bottom: none;
            }
            .invoice-total {
              margin-top: 20px;
              text-align: right;
            }
            .total-row {
              display: flex;
              justify-content: flex-end;
              margin-bottom: 10px;
              padding: 8px 0;
            }
            .total-label {
              width: 200px;
              text-align: right;
              color: #4a5568;
              font-size: 14px;
            }
            .total-value {
              width: 150px;
              text-align: right;
              color: #1a202c;
              font-weight: 600;
              font-size: 14px;
            }
            .total-row.grand-total {
              border-top: 2px solid #214A73;
              padding-top: 15px;
              margin-top: 15px;
            }
            .total-row.grand-total .total-label,
            .total-row.grand-total .total-value {
              font-size: 18px;
              font-weight: 700;
              color: #214A73;
            }
            .invoice-footer {
              margin-top: 50px;
              padding-top: 30px;
              border-top: 2px solid #e2e8f0;
              text-align: center;
              color: #718096;
              font-size: 12px;
            }
            .status-badge {
              display: inline-block;
              padding: 6px 12px;
              border-radius: 6px;
              font-size: 12px;
              font-weight: 600;
              text-transform: uppercase;
            }
            .status-completed {
              background: #c6f6d5;
              color: #22543d;
            }
            .status-success {
              background: #c6f6d5;
              color: #22543d;
            }
            .status-pending {
              background: #feebc8;
              color: #7c2d12;
            }
            .status-in_progress {
              background: #bee3f8;
              color: #2c5282;
            }
          </style>
        </head>
        <body>
          ${ce}
        </body>
      </html>
    `),Y.document.close(),setTimeout(()=>{Y.print()},250)};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full my-8",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Invoice"}),t.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["#",l]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:b,className:"px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2",children:[t.jsx(Zo,{})," Print"]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"text-xl"})})]})]}),t.jsx("div",{className:"p-8 overflow-y-auto max-h-[calc(100vh-200px)] bg-gradient-to-br from-slate-50 to-white",children:t.jsxs("div",{ref:a,className:"invoice-container bg-white rounded-lg shadow-lg p-8",children:[t.jsxs("div",{className:"invoice-header",children:[t.jsxs("div",{className:"invoice-header-top",children:[t.jsx("div",{className:"invoice-logo-container",children:t.jsx("div",{className:"invoice-logo-box",children:t.jsx("img",{src:"/logo.png",alt:"NEXO Logo",className:"invoice-logo-img"})})}),t.jsxs("div",{className:"invoice-number",children:[t.jsx("h1",{children:"INVOICE"}),t.jsxs("p",{children:["#",l]})]})]}),t.jsxs("div",{className:"invoice-info",children:[t.jsxs("div",{className:"info-section",children:[t.jsx("h3",{children:"Bill To"}),t.jsx("p",{className:"font-semibold text-slate-800",children:d}),t.jsx("p",{children:c}),p&&p.address&&t.jsx("p",{className:"mt-2 text-sm",children:p.address}),p&&p.city&&t.jsxs("p",{className:"text-sm",children:[p.city," - ",p.pincode]})]}),t.jsxs("div",{className:"info-section",children:[t.jsx("h3",{children:"Invoice Details"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Date:"})," ",new Date(o).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})]}),n&&(e==null?void 0:e.scheduledDate)&&t.jsxs("p",{children:[t.jsx("strong",{children:"Service Date:"})," ",new Date(e.scheduledDate).toLocaleDateString("en-IN")]}),n&&(e==null?void 0:e.scheduledTime)&&t.jsxs("p",{children:[t.jsx("strong",{children:"Service Time:"})," ",e.scheduledTime]}),t.jsx("p",{className:"mt-2",children:t.jsx("span",{className:`status-badge ${x==="completed"||x==="success"?"status-completed":x==="pending"?"status-pending":x==="in_progress"?"status-in_progress":"status-pending"}`,children:x})})]})]})]}),t.jsxs("div",{className:"invoice-items",children:[t.jsx("h3",{children:"Items"}),t.jsxs("table",{className:"items-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Description"}),t.jsx("th",{style:{textAlign:"right"},children:"Amount"})]})}),t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsxs("td",{children:[t.jsx("div",{className:"font-semibold text-slate-800",children:f}),n&&u&&t.jsx("div",{className:"text-sm text-slate-600 mt-1",children:u}),i&&(e==null?void 0:e.reference)&&t.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:["Ref: ",e.reference]}),n&&h&&t.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:["Payment: ",h]})]}),t.jsxs("td",{style:{textAlign:"right",fontWeight:600},children:["",m.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]})]}),t.jsxs("div",{className:"invoice-total",children:[i&&((O=e==null?void 0:e.metadata)==null?void 0:O.priceBreakdown)&&t.jsxs(t.Fragment,{children:[e.metadata.priceBreakdown.registrationFee>0&&t.jsxs("div",{className:"total-row",children:[t.jsx("div",{className:"total-label",children:"Registration Fee:"}),t.jsxs("div",{className:"total-value",children:["",e.metadata.priceBreakdown.registrationFee.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.metadata.priceBreakdown.securityDeposit>0&&t.jsxs("div",{className:"total-row",children:[t.jsx("div",{className:"total-label",children:"Security Deposit:"}),t.jsxs("div",{className:"total-value",children:["",e.metadata.priceBreakdown.securityDeposit.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.metadata.priceBreakdown.toolkitPrice>0&&t.jsxs("div",{className:"total-row",children:[t.jsx("div",{className:"total-label",children:"Toolkit:"}),t.jsxs("div",{className:"total-value",children:["",e.metadata.priceBreakdown.toolkitPrice.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.metadata.priceBreakdown.mgPlanFee>0&&t.jsxs("div",{className:"total-row",children:[t.jsx("div",{className:"total-label",children:"MG Plan Fee:"}),t.jsxs("div",{className:"total-value",children:["",e.metadata.priceBreakdown.mgPlanFee.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.metadata.priceBreakdown.leadFee>0&&t.jsxs("div",{className:"total-row",children:[t.jsx("div",{className:"total-label",children:"Lead Fee:"}),t.jsxs("div",{className:"total-value",children:["",e.metadata.priceBreakdown.leadFee.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),t.jsxs("div",{className:"total-row",children:[t.jsx("div",{className:"total-label",children:"Subtotal:"}),t.jsxs("div",{className:"total-value",children:["",m.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),t.jsxs("div",{className:"total-row",children:[t.jsx("div",{className:"total-label",children:"Tax:"}),t.jsx("div",{className:"total-value",children:"0.00"})]}),t.jsxs("div",{className:"total-row grand-total",children:[t.jsx("div",{className:"total-label",children:"Total:"}),t.jsxs("div",{className:"total-value",children:["",m.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),t.jsxs("div",{className:"invoice-footer",children:[t.jsx("p",{className:"mb-2",children:t.jsx("strong",{children:"Thank you for your business!"})}),t.jsx("p",{children:"This is a computer-generated invoice and does not require a signature."}),t.jsx("p",{className:"mt-4",children:"For support, contact us at support@nexo.works"}),t.jsx("p",{className:"mt-2",children:"www.nexo.works"})]})]})})]})})},y5e=()=>{const{token:e}=wr(),[r,s]=g.useState({feeType:"all",status:"all",source:"all",startDate:"",endDate:""}),[a,n]=g.useState(1),[i,l]=g.useState("individual"),[o,d]=g.useState(null),c=g.useMemo(()=>{const A={page:a,limit:r.feeType!=="all"||r.status!=="all"||r.startDate||r.endDate?100:50};return r.feeType&&r.feeType!=="all"&&(A.feeType=r.feeType),r.status&&r.status!=="all"&&(A.status=r.status),r.startDate&&(A.startDate=r.startDate),r.endDate&&(A.endDate=r.endDate),A},[r.feeType,r.status,r.startDate,r.endDate,a]),u=g.useMemo(()=>JSON.stringify(c),[c]),m=g.useMemo(()=>{const A={...c};return O=>We.fetchFeeTransactions(O,A)},[u]),{data:x,isLoading:h,error:p,refresh:f}=dr(m,[u]),b=Array.isArray(x==null?void 0:x.data)?x.data:[],j=(x==null?void 0:x.stats)||{},w=(x==null?void 0:x.pagination)||{},y=b&&b.length>0,v=g.useMemo(()=>{if(i!=="grouped")return{};const A={};return b.forEach(O=>{const R=O.feeType||"other";A[R]||(A[R]={feeType:R,transactions:[],totalAmount:0,count:0,successCount:0,successAmount:0}),A[R].transactions.push(O),A[R].totalAmount+=O.amount||0,A[R].count+=1,O.status==="success"&&(A[R].successCount+=1,A[R].successAmount+=O.amount||0)}),A},[b,i]),N=(A,O)=>{s(R=>{const Z={...R,[A]:O};return A==="startDate"&&O&&Z.endDate&&new Date(O)>new Date(Z.endDate)&&(Z.endDate=""),A==="endDate"&&O&&Z.startDate&&new Date(O)<new Date(Z.startDate)&&(Z.startDate=""),Z}),n(1)},S=()=>{s({feeType:"all",status:"all",source:"all",startDate:"",endDate:""}),n(1)},k=A=>{switch(A){case"registration":return"bg-blue-500/10 text-blue-600";case"mg_plan":return"bg-purple-500/10 text-purple-600";case"security_deposit":return"bg-yellow-500/10 text-yellow-600";case"toolkit":return"bg-green-500/10 text-green-600";case"lead_fee":return"bg-orange-500/10 text-orange-600";case"amc_plan":return"bg-indigo-500/10 text-indigo-600";case"subscription":return"bg-pink-500/10 text-pink-600";case"wallet_recharge":return"bg-teal-500/10 text-teal-600";default:return"bg-slate-500/10 text-slate-600"}},P=(A,O)=>{const R=(O==null?void 0:O.manualApproval)===!0;switch(A){case"partner":return{color:"bg-blue-500/10 text-blue-600",label:"Partner Payment"};case"user":return{color:"bg-green-500/10 text-green-600",label:"User Payment"};case"admin":return R?{color:"bg-orange-500/10 text-orange-600",label:"Manual Approval",icon:""}:{color:"bg-purple-500/10 text-purple-600",label:"Admin Entry"};default:return{color:"bg-slate-500/10 text-slate-600",label:"Unknown"}}},C=A=>{switch(A){case"success":return"bg-emerald-500/10 text-emerald-600";case"failed":return"bg-rose-500/10 text-rose-600";case"pending":return"bg-yellow-500/10 text-yellow-600";case"refunded":return"bg-blue-500/10 text-blue-600";default:return"bg-slate-500/10 text-slate-600"}},I=A=>(A==null?void 0:A.replace("_"," ").replace(/\b\w/g,O=>O.toUpperCase()))||"Other";return t.jsxs("div",{children:[t.jsx(ys,{title:"Fee Transactions",subtitle:"View and manage all fee transactions including registration fees, MG plans, security deposits, and toolkit purchases.",actions:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 rounded-lg p-1",children:[t.jsxs("button",{onClick:()=>l("individual"),className:`px-3 py-1.5 rounded-md text-sm font-semibold transition flex items-center gap-2 ${i==="individual"?"bg-white text-primary shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:[t.jsx(lZ,{className:"w-4 h-4"}),"Individual"]}),t.jsxs("button",{onClick:()=>l("grouped"),className:`px-3 py-1.5 rounded-md text-sm font-semibold transition flex items-center gap-2 ${i==="grouped"?"bg-white text-primary shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:[t.jsx(yo,{className:"w-4 h-4"}),"Grouped"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>{const A=b.map(O=>{var R,Z,Y,ce,D,z,se,K,_,M,F,B,q,ae,V;return{"Date & Time":new Date(O.createdAt).toLocaleString("en-IN"),Name:((R=O.partner)==null?void 0:R.name)||((Z=O.user)==null?void 0:Z.name)||((Y=O.metadata)==null?void 0:Y.partnerName)||((ce=O.metadata)==null?void 0:ce.userName)||"Unknown",Phone:((D=O.partner)==null?void 0:D.phone)||((z=O.user)==null?void 0:z.phone)||((se=O.metadata)==null?void 0:se.partnerPhone)||((K=O.metadata)==null?void 0:K.userPhone)||O.partnerId||O.userId||"N/A",Source:P(O.source||((_=O.metadata)==null?void 0:_.source)||"partner",O.metadata).label,"Manual Approval":(M=O.metadata)!=null&&M.manualApproval?"Yes":"No","Approved By":((F=O.metadata)==null?void 0:F.approvedBy)||"N/A","Amount ()":O.amount||0,Status:((B=O.status)==null?void 0:B.charAt(0).toUpperCase())+((q=O.status)==null?void 0:q.slice(1))||"Unknown","Payment Method":((ae=O.paymentMethod)==null?void 0:ae.charAt(0).toUpperCase())+((V=O.paymentMethod)==null?void 0:V.slice(1))||"N/A","Transaction ID":O.transactionId||"N/A",Description:O.description||"N/A","Fee Type":O.feeType||"N/A"}});$d(A,[{header:"Date & Time",accessor:"Date & Time"},{header:"Name",accessor:"Name"},{header:"Phone",accessor:"Phone"},{header:"Source",accessor:"Source"},{header:"Manual Approval",accessor:"Manual Approval"},{header:"Approved By",accessor:"Approved By"},{header:"Amount ()",accessor:"Amount ()"},{header:"Status",accessor:"Status"},{header:"Payment Method",accessor:"Payment Method"},{header:"Transaction ID",accessor:"Transaction ID"},{header:"Description",accessor:"Description"},{header:"Fee Type",accessor:"Fee Type"}],"Fee_Transactions","Transactions",{columnWidths:[20,20,15,12,12,15,15,12,15,25,30,15]})},disabled:!y,className:"px-4 py-2 rounded-xl border border-slate-300 text-slate-700 text-sm font-semibold hover:bg-slate-50 transition inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:"Export to Excel",children:[t.jsx(Na,{})," Export Excel"]}),t.jsxs("button",{onClick:f,className:"px-4 py-2 rounded-xl border border-slate-300 text-slate-700 text-sm font-semibold hover:bg-slate-50 transition inline-flex items-center gap-2",children:[t.jsx(Dt,{})," Refresh"]})]})]})}),!h&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Amount"}),t.jsx(xs,{className:"w-5 h-5 text-slate-400"})]}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",(j.totalAmount||0).toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[j.totalCount||0," transaction",(j.totalCount||0)!==1?"s":""]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Successful"}),t.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-500/20 flex items-center justify-center",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 rounded-full"})})]}),t.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:["",(j.successAmount||0).toLocaleString("en-IN")]}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[j.successCount||0," transaction",(j.successCount||0)!==1?"s":""]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Manual Approvals"}),t.jsx("div",{className:"w-5 h-5 rounded-full bg-orange-500/20 flex items-center justify-center",children:t.jsx("span",{className:"text-xs",children:""})})]}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:b.filter(A=>{var O;return(O=A.metadata)==null?void 0:O.manualApproval}).length}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Admin approved"})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Failed"}),t.jsx("div",{className:"w-5 h-5 rounded-full bg-rose-500/20 flex items-center justify-center",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-500 rounded-full"})})]}),t.jsx("p",{className:"text-2xl font-bold text-rose-600",children:j.failedCount||0}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Failed transaction",(j.failedCount||0)!==1?"s":""]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Success Rate"}),t.jsx(Dt,{className:"w-5 h-5 text-slate-400"})]}),t.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[(j.totalCount||0)>0?((j.successCount||0)/(j.totalCount||1)*100).toFixed(1):0,"%"]}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Payment success rate"})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(Ed,{className:"w-5 h-5 text-slate-500"}),t.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Filters"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Fee Type"}),t.jsxs("select",{value:r.feeType,onChange:A=>N("feeType",A.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"registration",children:"Registration"}),t.jsx("option",{value:"security_deposit",children:"Security Deposit"}),t.jsx("option",{value:"toolkit",children:"Toolkit"}),t.jsx("option",{value:"mg_plan",children:"MG Plan"}),t.jsx("option",{value:"lead_fee",children:"Lead Fee"}),t.jsx("option",{value:"amc_plan",children:"AMC Plan"}),t.jsx("option",{value:"subscription",children:"Subscription"}),t.jsx("option",{value:"wallet_recharge",children:"Wallet Recharge"}),t.jsx("option",{value:"other",children:"Other"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Transaction Source"}),t.jsxs("select",{value:r.source,onChange:A=>N("source",A.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",children:[t.jsx("option",{value:"all",children:"All Sources"}),t.jsx("option",{value:"partner",children:"Partner Payments"}),t.jsx("option",{value:"user",children:"User Payments"}),t.jsx("option",{value:"admin",children:"Admin Manual Entry"}),t.jsx("option",{value:"manual_approval",children:"Manual Approvals"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Status"}),t.jsxs("select",{value:r.status,onChange:A=>N("status",A.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"success",children:"Success"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"failed",children:"Failed"}),t.jsx("option",{value:"refunded",children:"Refunded"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Date Range"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"date",value:r.startDate,onChange:A=>N("startDate",A.target.value),max:r.endDate||void 0,className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",placeholder:"Start Date"}),t.jsx("input",{type:"date",value:r.endDate,onChange:A=>N("endDate",A.target.value),min:r.startDate||void 0,className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",placeholder:"End Date"})]}),r.startDate&&r.endDate&&new Date(r.startDate)>new Date(r.endDate)&&t.jsx("p",{className:"text-xs text-rose-600 mt-1",children:"End date must be after start date"})]})]}),(r.feeType!=="all"||r.status!=="all"||r.source!=="all"||r.startDate||r.endDate)&&t.jsx("div",{className:"mt-4 flex justify-end",children:t.jsxs("button",{onClick:S,className:"px-4 py-2 text-sm font-semibold text-slate-600 hover:text-slate-900 transition inline-flex items-center gap-2",children:[t.jsx(xt,{className:"w-4 h-4"}),"Clear Filters"]})})]}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm overflow-hidden",children:h?t.jsx("div",{className:"flex items-center justify-center py-16",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):p?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 m-6 rounded-lg",children:[t.jsx("p",{className:"font-semibold mb-1",children:"Error loading transactions"}),t.jsx("p",{className:"text-sm",children:p}),t.jsx("button",{onClick:f,className:"mt-3 px-4 py-2 bg-rose-600 text-white rounded-lg text-sm font-semibold hover:bg-rose-700 transition",children:"Retry"})]}):y?i==="grouped"?t.jsx("div",{className:"divide-y divide-slate-200",children:!y||Object.keys(v).length===0?t.jsxs("div",{className:"text-center py-16",children:[t.jsx(xs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-500 font-medium text-lg mb-2",children:"No transactions found"}),t.jsx("p",{className:"text-sm text-slate-400 mb-4",children:r.feeType!=="all"||r.status!=="all"||r.startDate||r.endDate?"No transactions match your current filters. Try adjusting your filters or clear them to see all transactions.":"There are no fee transactions in the system yet."}),(r.feeType!=="all"||r.status!=="all"||r.startDate||r.endDate)&&t.jsxs("button",{onClick:S,className:"px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[t.jsx(xt,{className:"w-4 h-4"}),"Clear All Filters"]})]}):Object.values(v).map(A=>t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-semibold ${k(A.feeType)}`,children:I(A.feeType)}),t.jsxs("span",{className:"text-sm text-slate-500",children:[A.count," transaction",A.count!==1?"s":""]})]}),t.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-slate-500",children:"Total Amount"}),t.jsxs("p",{className:"font-bold text-slate-900",children:["",A.totalAmount.toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-slate-500",children:"Successful"}),t.jsxs("p",{className:"font-bold text-emerald-600",children:["",A.successAmount.toLocaleString("en-IN")]})]})]})]}),A.transactions.length===0?t.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No transactions in this group"}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Date & Time"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Partner/User"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Source"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Amount"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Status"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Payment Method"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Transaction ID"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Description"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:A.transactions.map(O=>{var R,Z,Y,ce,D,z,se,K,_,M,F,B,q,ae,V;return t.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-700",children:new Date(O.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm",children:[t.jsx("p",{className:"font-semibold text-slate-900",children:((R=O.partner)==null?void 0:R.name)||((Z=O.user)==null?void 0:Z.name)||((Y=O.metadata)==null?void 0:Y.partnerName)||((ce=O.metadata)==null?void 0:ce.userName)||"Unknown"}),t.jsx("p",{className:"text-xs text-slate-500",children:((D=O.partner)==null?void 0:D.phone)||((z=O.user)==null?void 0:z.phone)||((se=O.metadata)==null?void 0:se.partnerPhone)||((K=O.metadata)==null?void 0:K.userPhone)||O.partnerId||O.userId||"N/A"})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:(()=>{var te,pe;const G=P(O.source||((te=O.metadata)==null?void 0:te.source)||"partner",O.metadata);return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold ${G.color}`,children:[G.icon&&t.jsx("span",{className:"mr-1",children:G.icon}),G.label]}),((pe=O.metadata)==null?void 0:pe.manualApproval)&&t.jsxs("span",{className:"text-xs text-orange-600 font-medium",children:["By: ",O.metadata.approvedBy||"Admin"]})]})})()}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:["",((_=O.amount)==null?void 0:_.toLocaleString("en-IN"))||0]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${C(O.status)}`,children:((M=O.status)==null?void 0:M.charAt(0).toUpperCase())+((F=O.status)==null?void 0:F.slice(1))||"Unknown"})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600",children:((B=O.paymentMethod)==null?void 0:B.charAt(0).toUpperCase())+((q=O.paymentMethod)==null?void 0:q.slice(1))||"N/A"}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("div",{className:"text-xs text-slate-500 font-mono",children:O.transactionId||"N/A"})}),t.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 max-w-xs",children:t.jsxs("div",{children:[t.jsx("p",{className:"truncate",children:O.description||"N/A"}),((ae=O.metadata)==null?void 0:ae.manualApproval)&&t.jsxs("div",{className:"mt-1 text-xs bg-orange-50 border border-orange-200 rounded p-2",children:[t.jsx("p",{className:"font-semibold text-orange-700 mb-1",children:" Manual Approval"}),t.jsxs("div",{className:"space-y-0.5 text-orange-600",children:[t.jsxs("p",{children:["By: ",O.metadata.approvedBy]}),t.jsxs("p",{children:["Method: ",O.metadata.paymentMethod||"Manual"]})]})]}),((V=O.metadata)==null?void 0:V.priceBreakdown)&&t.jsxs("details",{className:"mt-1",children:[t.jsx("summary",{className:"text-xs text-primary cursor-pointer hover:underline",children:"View Payment Breakdown"}),t.jsxs("div",{className:"mt-1 text-xs text-slate-500 space-y-0.5 pl-2 bg-slate-50 p-2 rounded",children:[O.metadata.priceBreakdown.registrationFee>0&&t.jsxs("p",{className:r.feeType==="registration"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Registration Fee: ",O.metadata.priceBreakdown.registrationFee.toLocaleString("en-IN"),r.feeType==="registration"&&" (Current Filter)"]}),O.metadata.priceBreakdown.securityDeposit>0&&t.jsxs("p",{className:r.feeType==="security_deposit"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Security Deposit: ",O.metadata.priceBreakdown.securityDeposit.toLocaleString("en-IN"),r.feeType==="security_deposit"&&" (Current Filter)"]}),O.metadata.priceBreakdown.toolkitPrice>0&&t.jsxs("p",{className:r.feeType==="toolkit"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Toolkit: ",O.metadata.priceBreakdown.toolkitPrice.toLocaleString("en-IN"),r.feeType==="toolkit"&&" (Current Filter)"]}),O.metadata.priceBreakdown.totalAmount>0&&t.jsxs("p",{className:"font-semibold text-slate-700 border-t border-slate-200 pt-1 mt-1",children:["Total Paid: ",O.metadata.priceBreakdown.totalAmount.toLocaleString("en-IN")]})]})]})]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("button",{onClick:()=>d({data:O,type:"transaction"}),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-sm font-semibold hover:bg-primary/20 transition flex items-center gap-2",children:[t.jsx(Gt,{})," Invoice"]})})]},O._id)})})]})})]},A.feeType))}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Date & Time"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Partner/User"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Fee Type"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Source"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Payment Method"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Transaction ID"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Description"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:b.map(A=>{var O,R,Z,Y,ce,D,z,se,K,_,M,F,B,q,ae;return t.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700",children:new Date(A.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm",children:[t.jsx("p",{className:"font-semibold text-slate-900",children:((O=A.partner)==null?void 0:O.name)||((R=A.user)==null?void 0:R.name)||((Z=A.metadata)==null?void 0:Z.partnerName)||((Y=A.metadata)==null?void 0:Y.userName)||"Unknown"}),t.jsx("p",{className:"text-xs text-slate-500",children:((ce=A.partner)==null?void 0:ce.phone)||((D=A.user)==null?void 0:D.phone)||((z=A.metadata)==null?void 0:z.partnerPhone)||((se=A.metadata)==null?void 0:se.userPhone)||A.partnerId||A.userId||"N/A"})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${k(A.feeType)}`,children:I(A.feeType)})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(()=>{var G,te;const V=P(A.source||((G=A.metadata)==null?void 0:G.source)||"partner",A.metadata);return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${V.color}`,children:[V.icon&&t.jsx("span",{className:"mr-1",children:V.icon}),V.label]}),((te=A.metadata)==null?void 0:te.manualApproval)&&t.jsxs("span",{className:"text-xs text-orange-600 font-medium",children:["By: ",A.metadata.approvedBy||"Admin"]})]})})()}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:["",((K=A.amount)==null?void 0:K.toLocaleString("en-IN"))||0]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${C(A.status)}`,children:((_=A.status)==null?void 0:_.charAt(0).toUpperCase())+((M=A.status)==null?void 0:M.slice(1))||"Unknown"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:((F=A.paymentMethod)==null?void 0:F.charAt(0).toUpperCase())+((B=A.paymentMethod)==null?void 0:B.slice(1))||"N/A"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-xs text-slate-500 font-mono",children:A.transactionId||"N/A"})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 max-w-xs",children:t.jsxs("div",{children:[t.jsx("p",{className:"truncate",children:A.description||"N/A"}),((q=A.metadata)==null?void 0:q.manualApproval)&&t.jsxs("div",{className:"mt-1 text-xs bg-orange-50 border border-orange-200 rounded p-2",children:[t.jsx("p",{className:"font-semibold text-orange-700 mb-1",children:" Manual Approval Details"}),t.jsxs("div",{className:"space-y-0.5 text-orange-600",children:[t.jsxs("p",{children:["Approved by: ",A.metadata.approvedBy]}),t.jsxs("p",{children:["Date: ",new Date(A.metadata.approvedAt).toLocaleDateString("en-IN")]}),t.jsxs("p",{children:["Payment Method: ",A.metadata.paymentMethod||"Manual"]}),A.metadata.originalPayId&&t.jsxs("p",{children:["Reference: ",A.metadata.originalPayId]})]})]}),((ae=A.metadata)==null?void 0:ae.priceBreakdown)&&t.jsxs("details",{className:"mt-1",children:[t.jsx("summary",{className:"text-xs text-primary cursor-pointer hover:underline",children:"View Payment Breakdown"}),t.jsxs("div",{className:"mt-1 text-xs text-slate-500 space-y-0.5 pl-2 bg-slate-50 p-2 rounded",children:[A.metadata.priceBreakdown.registrationFee>0&&t.jsxs("p",{className:r.feeType==="registration"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Registration Fee: ",A.metadata.priceBreakdown.registrationFee.toLocaleString("en-IN"),r.feeType==="registration"&&" (Current Filter)"]}),A.metadata.priceBreakdown.securityDeposit>0&&t.jsxs("p",{className:r.feeType==="security_deposit"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Security Deposit: ",A.metadata.priceBreakdown.securityDeposit.toLocaleString("en-IN"),r.feeType==="security_deposit"&&" (Current Filter)"]}),A.metadata.priceBreakdown.toolkitPrice>0&&t.jsxs("p",{className:r.feeType==="toolkit"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Toolkit: ",A.metadata.priceBreakdown.toolkitPrice.toLocaleString("en-IN"),r.feeType==="toolkit"&&" (Current Filter)"]}),A.metadata.priceBreakdown.totalAmount>0&&t.jsxs("p",{className:"font-semibold text-slate-700 border-t border-slate-200 pt-1 mt-1",children:["Total Paid: ",A.metadata.priceBreakdown.totalAmount.toLocaleString("en-IN")]})]})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("button",{onClick:()=>d({data:A,type:"transaction"}),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-sm font-semibold hover:bg-primary/20 transition flex items-center gap-2",children:[t.jsx(Gt,{})," Invoice"]})})]},A._id)})})]})}),w.pages>1&&t.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",(a-1)*(w.limit||20)+1," to"," ",Math.min(a*(w.limit||20),w.total)," of"," ",w.total," transactions"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>n(A=>Math.max(1,A-1)),disabled:a===1,className:"px-4 py-2 text-sm font-semibold text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Previous"}),t.jsxs("span",{className:"px-4 py-2 text-sm font-semibold text-slate-700",children:["Page ",a," of ",w.pages||1]}),t.jsx("button",{onClick:()=>n(A=>Math.min(w.pages||1,A+1)),disabled:a>=(w.pages||1),className:"px-4 py-2 text-sm font-semibold text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Next"})]})]})]}):t.jsxs("div",{className:"text-center py-16",children:[t.jsx(xs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-500 font-medium text-lg mb-2",children:"No transactions found"}),t.jsx("p",{className:"text-sm text-slate-400 mb-4",children:r.feeType!=="all"||r.status!=="all"||r.startDate||r.endDate?"No transactions match your current filters. Try adjusting your filters or clear them to see all transactions.":"There are no fee transactions in the system yet."}),(r.feeType!=="all"||r.status!=="all"||r.startDate||r.endDate)&&t.jsxs("button",{onClick:S,className:"px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[t.jsx(xt,{className:"w-4 h-4"}),"Clear All Filters"]})]})}),o&&t.jsx(Y6,{data:o.data,type:o.type,onClose:()=>d(null)})]})},b5e=[{emoji:"",name:"Tools"},{emoji:"",name:"Home"},{emoji:"",name:"Plumbing"},{emoji:"",name:"Electrical"},{emoji:"",name:"Cleaning"},{emoji:"",name:"Painting"},{emoji:"",name:"Carpentry"},{emoji:"",name:"Repair"},{emoji:"",name:"Gardening"},{emoji:"",name:"Automotive"},{emoji:"",name:"Tech"},{emoji:"",name:"Commercial"},{emoji:"",name:"Security"},{emoji:"",name:"AC/Heating"},{emoji:"",name:"Moving"},{emoji:"",name:"Maintenance"},{emoji:"",name:"Mobile"},{emoji:"",name:"Lighting"},{emoji:"",name:"Doors"},{emoji:"",name:"Windows"},{emoji:"",name:"Construction"},{emoji:"",name:"Fire Safety"},{emoji:"",name:"Water"},{emoji:"",name:"Internet"},{emoji:"",name:"TV/Media"},{emoji:"",name:"Appliances"},{emoji:"",name:"Protection"},{emoji:"",name:"Target"},{emoji:"",name:"Star"},{emoji:"",name:"Premium"},{emoji:"",name:"Gift"},{emoji:"",name:"Hot"},{emoji:"",name:"Sparkle"},{emoji:"",name:"Shining"},{emoji:"",name:"Event"},{emoji:"",name:"Medical"},{emoji:"",name:"Kitchen"},{emoji:"",name:"Furniture"},{emoji:"",name:"Bathroom"},{emoji:"",name:"Bedroom"},{emoji:"",name:"Package"},{emoji:"",name:"Design"},{emoji:"",name:"Photography"},{emoji:"",name:"Video"},{emoji:"",name:"Music"},{emoji:"",name:"Fitness"},{emoji:"",name:"Beauty"},{emoji:"",name:"Hair"},{emoji:"",name:"Nails"},{emoji:"",name:"Professional"},{emoji:"",name:"Education"},{emoji:"",name:"Learning"},{emoji:"",name:"Computer"},{emoji:"",name:"Keyboard"},{emoji:"",name:"Printer"},{emoji:"",name:"Phone"},{emoji:"",name:"Watch"},{emoji:"",name:"Audio"},{emoji:"",name:"Camera"},{emoji:"",name:"Gaming"},{emoji:"",name:"Bicycle"},{emoji:"",name:"Scooter"},{emoji:"",name:"Travel"},{emoji:"",name:"Hotel"},{emoji:"",name:"Food"},{emoji:"",name:"Coffee"},{emoji:"",name:"Bakery"},{emoji:"",name:"Restaurant"},{emoji:"",name:"Shopping"},{emoji:"",name:"Payment"},{emoji:"",name:"Bank"},{emoji:"",name:"Analytics"},{emoji:"",name:"Growth"},{emoji:"",name:"Business"},{emoji:"",name:"Partnership"},{emoji:"",name:"Global"},{emoji:"",name:"Location"},{emoji:"",name:"Map"},{emoji:"",name:"Time"},{emoji:"",name:"Calendar"},{emoji:"",name:"Check"},{emoji:"",name:"Cross"},{emoji:"",name:"Warning"},{emoji:"",name:"Info"},{emoji:"",name:"Search"},{emoji:"",name:"Chat"},{emoji:"",name:"Call"},{emoji:"",name:"Email"},{emoji:"",name:"Document"},{emoji:"",name:"Clipboard"},{emoji:"",name:"File"},{emoji:"",name:"Pages"},{emoji:"",name:"Bookmark"},{emoji:"",name:"Label"},{emoji:"",name:"Ticket"},{emoji:"",name:"Voucher"},{emoji:"",name:"Dice"},{emoji:"",name:"Casino"},{emoji:"",name:"Theater"},{emoji:"",name:"Art"},{emoji:"",name:"Frame"},{emoji:"",name:"Paintbrush"},{emoji:"",name:"Crayon"},{emoji:"",name:"Pencil"},{emoji:"",name:"Pen"},{emoji:"",name:"Ballpoint"},{emoji:"",name:"Fountain Pen"},{emoji:"",name:"Ruler"},{emoji:"",name:"Triangle"},{emoji:"",name:"Scissors"},{emoji:"",name:"Pin"},{emoji:"",name:"Pushpin"},{emoji:"",name:"Paperclip"},{emoji:"",name:"Linked Clips"},{emoji:"",name:"Straight Ruler"},{emoji:"",name:"Triangular Ruler"},{emoji:"",name:"Card Index"},{emoji:"",name:"Folder"},{emoji:"",name:"Open Folder"},{emoji:"",name:"Card File"},{emoji:"",name:"File Cabinet"},{emoji:"",name:"Bar Chart"},{emoji:"",name:"Chart Increasing"},{emoji:"",name:"Chart Decreasing"},{emoji:"",name:"Clipboard"},{emoji:"",name:"Pushpin"},{emoji:"",name:"Round Pushpin"},{emoji:"",name:"Paperclip"},{emoji:"",name:"Linked Paperclips"},{emoji:"",name:"Straightedge Ruler"},{emoji:"",name:"Triangular Ruler"},{emoji:"",name:"Scissors"},{emoji:"",name:"Card File Box"},{emoji:"",name:"File Cabinet"},{emoji:"",name:"Wastebasket"}],v5e=()=>{const{token:e}=wr(),[r,s]=g.useState(!1),[a,n]=g.useState(null),[i,l]=g.useState({name:"",description:"",subtitle:"",icon:"",isActive:!0}),[o,d]=g.useState(!1),[c,u]=g.useState(""),[m,x]=g.useState(""),[h,p]=g.useState(""),{data:f,isLoading:b,error:j,refresh:w}=dr(I=>We.fetchCategories(I),[]),v=((f==null?void 0:f.data)||[]).filter(I=>{var A,O;return((A=I.name)==null?void 0:A.toLowerCase().includes(h.toLowerCase()))||((O=I.description)==null?void 0:O.toLowerCase().includes(h.toLowerCase()))}),N=(I=null)=>{I?(n(I._id),l({name:I.name||"",description:I.description||"",subtitle:I.subtitle||"",icon:I.icon||"",isActive:I.isActive!==void 0?I.isActive:!0})):(n(null),l({name:"",description:"",subtitle:"",icon:"",isActive:!0})),s(!0),x(""),u("")},S=()=>{s(!1),n(null),l({name:"",description:"",subtitle:"",icon:"",isActive:!0}),x(""),u("")},k=async I=>{I.preventDefault(),d(!0),x(""),u("");try{a?(await We.updateCategory(e,a,{name:i.name,description:i.description,subtitle:i.subtitle,icon:i.icon,isActive:i.isActive}),u("Category updated successfully!")):(await We.createCategory(e,{name:i.name,description:i.description,subtitle:i.subtitle,icon:i.icon,isActive:i.isActive}),u("Category created successfully!")),w(),setTimeout(()=>{S()},1500)}catch(A){x(A.message||"Failed to save category")}finally{d(!1)}},P=async I=>{if(window.confirm("Are you sure you want to delete this category?"))try{await We.deleteCategory(e,I),u("Category deleted successfully!"),w(),setTimeout(()=>u(""),3e3)}catch(A){x(A.message||"Failed to delete category"),setTimeout(()=>x(""),3e3)}},C=I=>/[\u{1F300}-\u{1F9FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]/u.test(I);return t.jsxs("div",{children:[t.jsx(ys,{title:"Category Management",subtitle:"Manage service categories with icons, descriptions, and status.",actions:t.jsxs("button",{onClick:()=>N(),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition",children:[t.jsx(Tr,{className:"w-5 h-5"}),"Add Category"]})}),m&&t.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg mb-6",children:m}),c&&t.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg mb-6",children:c}),t.jsx("div",{className:"mb-6",children:t.jsx("input",{type:"text",placeholder:"Search categories...",value:h,onChange:I=>p(I.target.value),className:"w-full max-w-md px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary"})}),b?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):j?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Error loading categories: ",j]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(I=>t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6 hover:shadow-md transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center text-2xl",children:[C(I.icon)?I.icon:t.jsx("img",{src:I.icon,alt:I.name,className:"w-8 h-8 object-contain",onError:A=>{A.target.style.display="none",A.target.nextSibling.style.display="block"}}),t.jsx("span",{style:{display:"none"},children:""})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900",children:I.name}),t.jsx("p",{className:"text-sm text-slate-500",children:I.subtitle})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>N(I),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition",children:t.jsx(Cs,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>P(I._id),className:"p-2 text-rose-600 hover:bg-rose-50 rounded-lg transition",children:t.jsx(la,{className:"w-4 h-4"})})]})]}),t.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:I.description}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${I.isActive?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:I.isActive?"Active":"Inactive"}),t.jsx("span",{className:"text-xs text-slate-400",children:new Date(I.createdAt).toLocaleDateString()})]})]},I._id))}),r&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:a?"Edit Category":"Create New Category"}),t.jsx("button",{onClick:S,className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5"})})]}),m&&t.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg mb-6 text-sm",children:m}),c&&t.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg mb-6 text-sm",children:c}),t.jsxs("form",{onSubmit:k,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Category Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:i.name,onChange:I=>l(A=>({...A,name:I.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"e.g., Plumbing, Electrical, Cleaning",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Subtitle ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:i.subtitle,onChange:I=>l(A=>({...A,subtitle:I.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Short description or tagline",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Description ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:i.description,onChange:I=>l(A=>({...A,description:I.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Detailed description of the category",rows:"3",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Icon ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"grid grid-cols-8 gap-2 max-h-48 overflow-y-auto p-2 border-2 border-slate-200 rounded-xl",children:b5e.map((I,A)=>t.jsx("button",{type:"button",onClick:()=>l(O=>({...O,icon:I.emoji})),className:`w-12 h-12 rounded-lg flex items-center justify-center text-2xl transition ${i.icon===I.emoji?"bg-primary text-white ring-2 ring-primary ring-offset-2":"bg-slate-100 hover:bg-slate-200"}`,title:I.name,children:I.emoji},A))}),t.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Selected: ",i.icon||"None"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",id:"isActive",checked:i.isActive,onChange:I=>l(A=>({...A,isActive:I.target.checked})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),t.jsx("label",{htmlFor:"isActive",className:"text-sm font-semibold text-gray-700",children:"Active (Category will be visible to partners)"})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:S,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ji,{className:"w-5 h-5"}),a?"Update Category":"Create Category"]})})]})]})]})})]})},j5e=()=>{const{token:e}=wr(),[r,s]=g.useState(!1),[a,n]=g.useState(!1),[i,l]=g.useState(null),[o,d]=g.useState(null),[c,u]=g.useState(null),[m,x]=g.useState(""),[h,p]=g.useState({name:"",description:"",city:"",state:"",status:"active"}),[f,b]=g.useState({areaName:"",pinCodesText:""}),[j,w]=g.useState(!1),{data:y,isLoading:v,error:N,refresh:S}=dr(K=>We.fetchHubs(K,{search:m}),[m]),{data:k}=dr(K=>We.fetchPartners(K),[]),P=(y==null?void 0:y.data)||[];k!=null&&k.partners;const C=()=>{p({name:"",description:"",city:"",state:"",status:"active"}),l(null)},I=()=>{b({areaName:"",pinCodesText:""}),d(null),u(null)},A=()=>{C(),s(!0)},O=K=>{p({name:K.name||"",description:K.description||"",city:K.city||"",state:K.state||"",status:K.status||"active"}),l(K),s(!0)},R=K=>{I(),u(K),n(!0)},Z=(K,_)=>{var M;b({areaName:_.areaName||"",pinCodesText:((M=_.pinCodes)==null?void 0:M.join(", "))||""}),d(_),u(K),n(!0)},Y=async K=>{if(K.preventDefault(),!h.name.trim()){alert("Hub name is required");return}w(!0);try{i?await We.updateHub(e,i._id,h):await We.createHub(e,{...h,areas:[]}),s(!1),C(),S()}catch(_){alert(_.message||"Failed to save hub")}finally{w(!1)}},ce=async K=>{if(K.preventDefault(),!f.areaName.trim()||!f.pinCodesText.trim()){alert("Area name and pin codes are required");return}const _=Array.from(new Set(f.pinCodesText.split(/[\s,]+/).map(M=>M.trim()).filter(M=>M.length>0&&/^\d{6}$/.test(M))));if(_.length===0){alert("Please add at least one valid 6-digit pin code");return}w(!0);try{o?await We.updateAreaInHub(e,c._id,o._id,{areaName:f.areaName.trim(),pinCodes:_}):await We.addAreaToHub(e,c._id,{areaName:f.areaName.trim(),pinCodes:_}),n(!1),I(),S()}catch(M){alert(M.message||"Failed to save area")}finally{w(!1)}},D=async K=>{if(window.confirm("Are you sure you want to delete this hub? This action cannot be undone."))try{await We.deleteHub(e,K),S()}catch(_){alert(_.message||"Failed to delete hub")}},z=async(K,_)=>{if(window.confirm("Are you sure you want to delete this area?"))try{await We.deleteAreaFromHub(e,K,_),S()}catch(M){alert(M.message||"Failed to delete area")}},se=K=>{var _;return((_=K.areas)==null?void 0:_.reduce((M,F)=>[...M,...F.pinCodes||[]],[]))||[]};return t.jsxs("div",{children:[t.jsx(ys,{title:"Hub Management",subtitle:"Create and manage service hubs with pin codes. Hubs can be assigned to partners in Partner Control."}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mb-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[t.jsx("div",{className:"flex-1 w-full md:w-auto",children:t.jsxs("div",{className:"relative",children:[t.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",value:m,onChange:K=>x(K.target.value),placeholder:"Search hubs by name, city, or state...",className:"w-full md:w-96 pl-10 pr-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]})}),t.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl text-sm font-semibold hover:bg-primary-dark transition",children:[t.jsx(Tr,{})," Create Hub"]})]})}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:["All Hubs (",P.length,")"]}),t.jsx("p",{className:"text-xs text-slate-400",children:"Manage hubs and their area-wise pin codes"})]}),t.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-3 py-2 bg-slate-100 text-slate-700 rounded-lg text-xs font-semibold hover:bg-slate-200 transition",children:[t.jsx(Dt,{})," Refresh"]})]}),v?t.jsx("div",{className:"text-sm text-slate-400 py-8 text-center",children:"Loading hubs..."}):N?t.jsxs("div",{className:"text-sm text-rose-500 py-8 text-center",children:["Failed to load hubs: ",N]}):P.length===0?t.jsx("div",{className:"text-sm text-slate-500 py-8 text-center",children:m?"No hubs found matching your search.":"No hubs created yet. Create your first hub above."}):t.jsx("div",{className:"space-y-4",children:P.map(K=>{var F,B,q;const _=se(K),M=((F=K.assignedPartners)==null?void 0:F.length)||0;return t.jsxs("div",{className:"border border-slate-200 rounded-xl p-5 bg-slate-50 hover:bg-slate-100 transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Pr,{className:"text-primary text-xl"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900",children:K.name}),(K.city||K.state)&&t.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:[K.city,K.state].filter(Boolean).join(", ")})]}),t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${K.status==="active"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:K.status})]}),K.description&&t.jsx("p",{className:"text-sm text-slate-600 mt-2",children:K.description}),t.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-slate-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Pr,{})," ",((B=K.areas)==null?void 0:B.length)||0," Area",((q=K.areas)==null?void 0:q.length)===1?"":"s"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Pr,{})," ",_.length," Pin Code",_.length===1?"":"s"]}),M>0&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Lr,{})," ",M," Partner",M===1?"":"s"]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>R(K),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-xs font-semibold hover:bg-primary/20 transition",title:"Add Area",children:[t.jsx(Tr,{className:"inline mr-1"})," Area"]}),t.jsx("button",{onClick:()=>O(K),className:"p-2 hover:bg-slate-200 rounded-lg transition",title:"Edit Hub",children:t.jsx(Cs,{className:"text-slate-600"})}),t.jsx("button",{onClick:()=>D(K._id),className:"p-2 hover:bg-rose-100 rounded-lg transition",title:"Delete Hub",children:t.jsx(la,{className:"text-rose-600"})})]})]}),K.areas&&K.areas.length>0?t.jsxs("div",{className:"mt-4 space-y-3",children:[t.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Areas"}),K.areas.map(ae=>{var V,G;return t.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-800",children:ae.areaName}),t.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:[((V=ae.pinCodes)==null?void 0:V.length)||0," pin code",((G=ae.pinCodes)==null?void 0:G.length)===1?"":"s"]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>Z(K,ae),className:"p-1.5 hover:bg-slate-100 rounded transition",title:"Edit Area",children:t.jsx(Cs,{className:"text-slate-600 text-sm"})}),t.jsx("button",{onClick:()=>z(K._id,ae._id),className:"p-1.5 hover:bg-rose-100 rounded transition",title:"Delete Area",children:t.jsx(la,{className:"text-rose-600 text-sm"})})]})]}),ae.pinCodes&&ae.pinCodes.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:ae.pinCodes.map(te=>t.jsx("span",{className:"px-2.5 py-1 bg-primary/10 border border-primary/20 rounded-full text-xs font-semibold text-primary",children:te},te))})]},ae._id)})]}):t.jsx("div",{className:"mt-4 text-center py-4 bg-slate-100 rounded-lg",children:t.jsx("p",{className:"text-xs text-slate-500",children:'No areas added yet. Click "Add Area" to get started.'})})]},K._id)})})]}),r&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:i?"Edit Hub":"Create Hub"}),t.jsx("button",{onClick:()=>{s(!1),C()},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Hub Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:h.name,onChange:K=>p(_=>({..._,name:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,placeholder:"e.g., Whitefield"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),t.jsx("textarea",{value:h.description,onChange:K=>p(_=>({..._,description:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",rows:3,placeholder:"Hub description (optional)"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),t.jsx("input",{type:"text",value:h.city,onChange:K=>p(_=>({..._,city:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",placeholder:"e.g., Bangalore"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"State"}),t.jsx("input",{type:"text",value:h.state,onChange:K=>p(_=>({..._,state:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",placeholder:"e.g., Karnataka"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Status"}),t.jsxs("select",{value:h.status,onChange:K=>p(_=>({..._,status:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{s(!1),C()},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:j,className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Saving...":i?"Update Hub":"Create Hub"})]})]})]})}),a&&c&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:o?"Edit Area":"Add Area"}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Hub: ",c.name]})]}),t.jsx("button",{onClick:()=>{n(!1),I()},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Area Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:f.areaName,onChange:K=>b(_=>({..._,areaName:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,placeholder:"e.g., Whitefield Main, ITPL"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Pin Codes ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:f.pinCodesText,onChange:K=>b(_=>({..._,pinCodesText:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",rows:4,required:!0,placeholder:"Enter pin codes separated by commas or spaces (e.g., 560066, 560067, 560087)"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Separate multiple pin codes with commas or spaces. Each pin code must be 6 digits."})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{n(!1),I()},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:j,className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Saving...":o?"Update Area":"Add Area"})]})]})]})})]})},Ap=[{name:"FaSnowflake",label:"AC Service",icon:Zu},{name:"FaBolt",label:"Electrical",icon:Nl},{name:"FaTint",label:"Plumbing",icon:em},{name:"FaBroom",label:"Cleaning",icon:Xu},{name:"FaPaintRoller",label:"Painting",icon:Qu},{name:"FaTools",label:"Tools/Repair",icon:ga},{name:"FaHammer",label:"Carpentry",icon:Ju},{name:"FaFilter",label:"Water Filter",icon:ld},{name:"FaPlug",label:"Plug/Outlet",icon:My},{name:"FaWrench",label:"Wrench",icon:G0},{name:"FaCheckCircle",label:"Check Circle",icon:Ue},{name:"FaRupeeSign",label:"Rupee",icon:Td},{name:"FaCreditCard",label:"Credit Card",icon:_i},{name:"FaMobileAlt",label:"Mobile",icon:Dy},{name:"FaUserCheck",label:"User Check",icon:Ha},{name:"FaCommentDots",label:"Comment",icon:Oy}],w5e=()=>{const{token:e}=wr(),r=Zt(),[s,a]=g.useState(!1),[n,i]=g.useState(null),[l,o]=g.useState({name:"",slug:"",icon:"FaTools",description:"",price:"",basePrice:0,discount:0,discountType:"percentage",cgst:0,sgst:0,serviceCharge:0,serviceChargeType:"amount",trusted:"Trusted by thousands of homes",included:[],excluded:[],addOns:[],cities:[],order:0,isActive:!0}),[d,c]=g.useState({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools",included:[],excluded:[],subServices:[]}),[u,m]=g.useState(""),[x,h]=g.useState(""),[p,f]=g.useState({name:"",shortDescription:"",price:"",icon:"FaTools"}),[b,j]=g.useState(null),[w,y]=g.useState(null),[v,N]=g.useState(!1),[S,k]=g.useState(""),[P,C]=g.useState(""),[I,A]=g.useState(""),[O,R]=g.useState(!1),[Z,Y]=g.useState(null),[ce,D]=g.useState([]),[z,se]=g.useState(!1),{data:K,isLoading:_,error:M,refresh:F}=dr(T=>We.fetchPopularServices(T),[]),B=(K==null?void 0:K.data)||[],q=B.filter(T=>{var ie,Te;return((ie=T.name)==null?void 0:ie.toLowerCase().includes(I.toLowerCase()))||((Te=T.slug)==null?void 0:Te.toLowerCase().includes(I.toLowerCase()))});g.useEffect(()=>{e&&(async()=>{se(!0);try{const ie=await We.fetchAllCities(e);ie.success&&D(ie.data||[])}catch(ie){console.error("Failed to fetch cities:",ie)}finally{se(!1)}})()},[e]);const ae=(T=null)=>{var ie,Te;T?(i(T._id),o({name:T.name||"",slug:T.slug||"",icon:T.icon||"FaTools",description:T.description||"",price:T.price||"",basePrice:T.basePrice||0,discount:T.discount||0,discountType:T.discountType||"percentage",cgst:T.cgst||0,sgst:T.sgst||0,serviceCharge:T.serviceCharge||0,serviceChargeType:T.serviceChargeType||"amount",trusted:T.trusted||"Trusted by thousands of homes",included:T.included||[],excluded:T.excluded||[],addOns:((ie=T.addOns)==null?void 0:ie.map(qe=>({...qe,included:qe.included||[],excluded:qe.excluded||[],subServices:qe.subServices||[]})))||[],cities:((Te=T.cities)==null?void 0:Te.map(qe=>typeof qe=="string"?qe:qe._id))||[],order:T.order||0,isActive:T.isActive!==void 0?T.isActive:!0})):(i(null),o({name:"",slug:"",icon:"FaTools",description:"",price:"",basePrice:0,discount:0,discountType:"percentage",cgst:0,sgst:0,serviceCharge:0,serviceChargeType:"amount",trusted:"Trusted by thousands of homes",included:[],excluded:[],addOns:[],cities:[],order:B.length>0?Math.max(...B.map(qe=>qe.order||0))+1:0,isActive:!0})),c({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools",included:[],excluded:[],subServices:[]}),m(""),h(""),f({name:"",shortDescription:"",price:"",icon:"FaTools"}),j(null),y(null),a(!0),C(""),k("")},V=()=>{a(!1),i(null),o({name:"",slug:"",icon:"FaTools",description:"",price:"",basePrice:0,discount:0,discountType:"percentage",cgst:0,sgst:0,serviceCharge:0,serviceChargeType:"amount",trusted:"Trusted by thousands of homes",included:[],excluded:[],addOns:[],cities:[],order:0,isActive:!0}),m(""),h(""),f({name:"",shortDescription:"",price:"",icon:"FaTools"}),C(""),k("")},G=()=>{u.trim()&&(c(T=>({...T,included:[...T.included,u.trim()]})),m(""))},te=T=>{c(ie=>({...ie,included:ie.included.filter((Te,qe)=>qe!==T)}))},pe=()=>{x.trim()&&(c(T=>({...T,excluded:[...T.excluded,x.trim()]})),h(""))},ye=T=>{c(ie=>({...ie,excluded:ie.excluded.filter((Te,qe)=>qe!==T)}))},he=()=>{p.name.trim()&&p.price.trim()&&(w!==null?(c(T=>({...T,subServices:T.subServices.map((ie,Te)=>Te===w?{...p}:ie)})),y(null)):c(T=>({...T,subServices:[...T.subServices,{...p}]})),f({name:"",shortDescription:"",price:""}))},Qe=T=>{const ie=d.subServices[T];f({name:ie.name||"",shortDescription:ie.shortDescription||"",price:ie.price||"",icon:ie.icon||"FaTools"}),y(T)},W=T=>{c(ie=>({...ie,subServices:ie.subServices.filter((Te,qe)=>qe!==T)})),w===T&&(y(null),f({name:"",shortDescription:"",price:""}))},Ie=()=>{y(null),f({name:"",shortDescription:"",price:"",icon:"FaTools"})},Se=T=>{if(!T.basePrice||T.basePrice<=0)return"";let ie=T.basePrice||0;T.discount>0&&(ie-=ie*T.discount/100),T.serviceCharge>0&&(ie+=T.serviceCharge);const Te=(T.basePrice||0)-(T.discount>0?(T.basePrice||0)*T.discount/100:0)+(T.serviceCharge||0);return ie+=Te*(T.cgst||0)/100+Te*(T.sgst||0)/100,`${Math.round(ie)}`};g.useEffect(()=>{if(d.basePrice>0){const T=Se(d);(!d.price||d.price.startsWith("")||d.price==="")&&c(ie=>({...ie,price:T}))}},[d.basePrice,d.discount,d.cgst,d.sgst,d.serviceCharge]);const we=()=>{if(d.name.trim()&&d.basePrice>0){const T={...d,price:d.price||Se(d),included:d.included||[],excluded:d.excluded||[],subServices:d.subServices||[]};b!==null?(o(ie=>({...ie,addOns:ie.addOns.map((Te,qe)=>qe===b?T:Te)})),j(null)):o(ie=>({...ie,addOns:[...ie.addOns,T]})),c({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools",included:[],excluded:[],subServices:[]}),m(""),h(""),f({name:"",shortDescription:"",price:""}),y(null)}},L=T=>{const ie=l.addOns[T];c({name:ie.name||"",description:ie.description||"",basePrice:ie.basePrice||0,discount:ie.discount||0,cgst:ie.cgst||0,sgst:ie.sgst||0,serviceCharge:ie.serviceCharge||0,price:ie.price||"",icon:ie.icon||"FaTools",included:ie.included||[],excluded:ie.excluded||[],subServices:ie.subServices||[]}),j(T),m(""),h(""),f({name:"",shortDescription:"",price:"",icon:"FaTools"}),y(null)},ue=T=>{o(ie=>({...ie,addOns:ie.addOns.filter((Te,qe)=>qe!==T)})),b===T&&(j(null),c({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools"}))},ee=()=>{j(null),c({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools",included:[],excluded:[],subServices:[]}),m(""),h(""),f({name:"",shortDescription:"",price:"",icon:"FaTools"}),y(null)},fe=T=>T.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),xe=T=>{o(ie=>({...ie,name:T,slug:n?ie.slug:fe(T)}))},ve=async T=>{T.preventDefault(),N(!0),C(""),k("");try{n?(await We.updatePopularService(e,n,l),k("Popular service updated successfully!")):(await We.createPopularService(e,l),k("Popular service created successfully!")),F(),setTimeout(()=>{V()},1500)}catch(ie){C(ie.message||"Failed to save popular service")}finally{N(!1)}},Ne=async T=>{if(window.confirm("Are you sure you want to delete this popular service?"))try{await We.deletePopularService(e,T),k("Popular service deleted successfully!"),F(),setTimeout(()=>k(""),3e3)}catch(ie){C(ie.message||"Failed to delete popular service"),setTimeout(()=>C(""),3e3)}},Ke=async(T,ie)=>{const Te=B.find(pt=>pt._id===T);if(!Te)return;const qe=Te.order||0,At=ie==="up"?qe-1:qe+1,ft=B.find(pt=>(pt.order||0)===At);try{const pt=[{id:T,order:At}];ft&&pt.push({id:ft._id,order:qe}),await We.updatePopularServicesOrder(e,pt),F()}catch(pt){C(pt.message||"Failed to update order"),setTimeout(()=>C(""),3e3)}},dt=T=>{const ie=Ap.find(Te=>Te.name===T);return ie?ie.icon:ga},ke=T=>{Y(T),R(!0)},Re=()=>{R(!1),Y(null)},Tt=T=>{if(!T||!T.basePrice)return 0;let ie=T.basePrice||0;T.discount>0&&(T.discountType==="percentage"?ie-=ie*T.discount/100:ie-=T.discount),T.serviceCharge>0&&(T.serviceChargeType==="percentage"?ie+=(T.basePrice||0)*T.serviceCharge/100:ie+=T.serviceCharge);const Te=(T.basePrice||0)-(T.discount>0?T.discountType==="percentage"?(T.basePrice||0)*T.discount/100:T.discount:0)+(T.serviceCharge>0?T.serviceChargeType==="percentage"?(T.basePrice||0)*T.serviceCharge/100:T.serviceCharge:0);return ie+=Te*(T.cgst||0)/100+Te*(T.sgst||0)/100,ie},Rt=(T=l)=>{if(!T.basePrice||T.basePrice<=0)return"";const ie=Tt(T);return`Starting at ${Math.round(ie)}`};g.useEffect(()=>{if(l.basePrice>0){const T=Rt(l);(!l.price||l.price.startsWith("Starting at ")||l.price==="")&&o(ie=>({...ie,price:T}))}},[l.basePrice,l.discount,l.discountType,l.cgst,l.sgst,l.serviceCharge,l.serviceChargeType]);const be=async()=>{if(window.confirm("This will update all existing services in the database with new fields (basePrice, discount, CGST, SGST, serviceCharge, excluded, etc.). This ensures all services have the required fields. Continue?")){N(!0),C(""),k("");try{await We.migratePopularServices(e),k("Migration completed successfully! All existing services have been updated with new fields."),F(),setTimeout(()=>k(""),5e3)}catch(T){C(T.message||"Failed to migrate services"),setTimeout(()=>C(""),5e3)}finally{N(!1)}}};return t.jsxs("div",{children:[t.jsx(ys,{title:"Popular Services Management",subtitle:"Manage popular services displayed on the homepage. Control order, icons, and visibility.",actions:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:be,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition",title:"Update existing services with new fields",children:[t.jsx(Dt,{className:"w-5 h-5"}),"Migrate Data"]}),t.jsxs("button",{onClick:()=>ae(),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition",children:[t.jsx(Tr,{className:"w-5 h-5"}),"Add Service"]})]})}),P&&t.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg mb-6",children:P}),S&&t.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg mb-6",children:S}),t.jsx("div",{className:"mb-6",children:t.jsx("input",{type:"text",placeholder:"Search popular services...",value:I,onChange:T=>A(T.target.value),className:"w-full max-w-md px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary"})}),_?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):M?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Error loading popular services: ",M]}):t.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Order"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Icon"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Name"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Slug"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Cities"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:q.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-slate-400",children:'No popular services found. Click "Add Service" to create one.'})}):q.sort((T,ie)=>(T.order||0)-(ie.order||0)).map((T,ie)=>{const Te=dt(T.icon);return t.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-medium text-slate-700",children:T.order||0}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("button",{onClick:()=>Ke(T._id,"up"),disabled:ie===0,className:"p-1 text-slate-400 hover:text-primary disabled:opacity-30 disabled:cursor-not-allowed",title:"Move up",children:t.jsx($f,{className:"w-3 h-3"})}),t.jsx("button",{onClick:()=>Ke(T._id,"down"),disabled:ie===q.length-1,className:"p-1 text-slate-400 hover:text-primary disabled:opacity-30 disabled:cursor-not-allowed",title:"Move down",children:t.jsx(Bf,{className:"w-3 h-3"})})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:t.jsx(Te,{className:"w-5 h-5 text-primary"})})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:T.name})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"text-sm text-slate-500 font-mono",children:T.slug})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"text-xs text-slate-600",children:!T.cities||T.cities.length===0?t.jsx("span",{className:"text-slate-400",children:"All cities"}):t.jsxs("div",{className:"flex flex-wrap gap-1",children:[T.cities.slice(0,2).map((qe,At)=>t.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-blue-50 text-blue-700",children:typeof qe=="string"?qe:qe.name},At)),T.cities.length>2&&t.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-slate-100 text-slate-600",children:["+",T.cities.length-2," more"]})]})})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold ${T.isActive?"bg-emerald-500/10 text-emerald-600":"bg-slate-200 text-slate-600"}`,children:T.isActive?"Active":"Inactive"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:()=>{T!=null&&T.slug&&r(`/service/${T.slug}`)},className:"p-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"View Service on Website",children:t.jsx(GC,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>ke(T),className:"p-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"View Details",children:t.jsx(Ti,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>ae(T),className:"p-2 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",title:"Edit",children:t.jsx(Cs,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>Ne(T._id),className:"p-2 text-slate-600 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",title:"Delete",children:t.jsx(la,{className:"w-4 h-4"})})]})})]},T._id)})})]})})}),s&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:n?"Edit Popular Service":"Add Popular Service"}),t.jsx("button",{onClick:V,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:ve,className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Name *"}),t.jsx("input",{type:"text",value:l.name,onChange:T=>xe(T.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"e.g., AC Service"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Slug *"}),t.jsx("input",{type:"text",value:l.slug,onChange:T=>o(ie=>({...ie,slug:T.target.value})),required:!0,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary font-mono",placeholder:"e.g., ac-service"}),t.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"URL-friendly identifier (auto-generated from name)"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Icon *"}),t.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-3",children:Ap.map(T=>{const ie=T.icon,Te=l.icon===T.name;return t.jsxs("button",{type:"button",onClick:()=>o(qe=>({...qe,icon:T.name})),className:`p-4 rounded-xl border-2 transition ${Te?"border-primary bg-primary/10":"border-slate-200 hover:border-primary/50"}`,title:T.label,children:[t.jsx(ie,{className:`w-6 h-6 mx-auto ${Te?"text-primary":"text-slate-400"}`}),t.jsx("p",{className:"mt-2 text-xs text-center text-slate-600",children:T.label})]},T.name)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),t.jsx("textarea",{value:l.description,onChange:T=>o(ie=>({...ie,description:T.target.value})),rows:"3",className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Service description..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Trusted Text"}),t.jsx("input",{type:"text",value:l.trusted,onChange:T=>o(ie=>({...ie,trusted:T.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"e.g., Trusted by thousands of homes"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Services"}),t.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border-2 border-slate-200 mb-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-3",children:b!==null?"Edit Service":"Add New Service"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Name *"}),t.jsx("input",{type:"text",value:d.name,onChange:T=>c(ie=>({...ie,name:T.target.value})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"Add-on service name..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Description"}),t.jsx("textarea",{value:d.description,onChange:T=>c(ie=>({...ie,description:T.target.value})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"Service description...",rows:"2"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Base Price () *"}),t.jsx("input",{type:"number",value:d.basePrice,onChange:T=>c(ie=>({...ie,basePrice:parseFloat(T.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Discount (%)"}),t.jsx("input",{type:"number",value:d.discount,onChange:T=>c(ie=>({...ie,discount:parseFloat(T.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"CGST (%)"}),t.jsx("input",{type:"number",value:d.cgst,onChange:T=>c(ie=>({...ie,cgst:parseFloat(T.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"SGST (%)"}),t.jsx("input",{type:"number",value:d.sgst,onChange:T=>c(ie=>({...ie,sgst:parseFloat(T.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Service Charge ()"}),t.jsx("input",{type:"number",value:d.serviceCharge,onChange:T=>c(ie=>({...ie,serviceCharge:parseFloat(T.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:["Display Price (Text) ",t.jsx("span",{className:"text-slate-400",children:"(Auto-calculated)"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:d.price,onChange:T=>c(ie=>({...ie,price:T.target.value})),className:"flex-1 px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"e.g., 299"}),d.basePrice>0&&t.jsx("button",{type:"button",onClick:()=>{const T=Se(d);c(ie=>({...ie,price:T}))},className:"px-3 py-2 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition text-xs font-semibold whitespace-nowrap",children:"Auto Calculate"})]}),d.basePrice>0&&t.jsxs("p",{className:"mt-1 text-xs text-emerald-600",children:[" Calculated: ",Se(d)]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Icon"}),t.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-2",children:Ap.map(T=>{const ie=T.icon,Te=d.icon===T.name;return t.jsx("button",{type:"button",onClick:()=>c(qe=>({...qe,icon:T.name})),className:`p-2 rounded-lg border-2 transition ${Te?"border-primary bg-primary/10":"border-slate-200 hover:border-primary/50"}`,title:T.label,children:t.jsx(ie,{className:`w-4 h-4 mx-auto ${Te?"text-primary":"text-slate-400"}`})},T.name)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Included Items"}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:u,onChange:T=>m(T.target.value),onKeyPress:T=>T.key==="Enter"&&(T.preventDefault(),G()),className:"flex-1 px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"Add included item..."}),t.jsx("button",{type:"button",onClick:G,className:"px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition text-sm",children:"Add"})]}),t.jsx("div",{className:"space-y-1",children:d.included.map((T,ie)=>t.jsxs("div",{className:"flex items-center justify-between bg-white px-2 py-1.5 rounded border border-slate-200",children:[t.jsx("span",{className:"text-xs text-slate-700",children:T}),t.jsx("button",{type:"button",onClick:()=>te(ie),className:"text-rose-600 hover:text-rose-700",children:t.jsx(xt,{className:"w-3 h-3"})})]},ie))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Excluded Items"}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx("input",{type:"text",value:x,onChange:T=>h(T.target.value),onKeyPress:T=>T.key==="Enter"&&(T.preventDefault(),pe()),className:"flex-1 px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"Add excluded item..."}),t.jsx("button",{type:"button",onClick:pe,className:"px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition text-sm",children:"Add"})]}),t.jsx("div",{className:"space-y-1",children:d.excluded.map((T,ie)=>t.jsxs("div",{className:"flex items-center justify-between bg-white px-2 py-1.5 rounded border border-slate-200",children:[t.jsx("span",{className:"text-xs text-slate-700",children:T}),t.jsx("button",{type:"button",onClick:()=>ye(ie),className:"text-rose-600 hover:text-rose-700",children:t.jsx(xt,{className:"w-3 h-3"})})]},ie))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Sub-Services"}),t.jsxs("div",{className:"bg-white p-3 rounded-lg border-2 border-slate-200 space-y-2 mb-2",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Service Name *"}),t.jsx("input",{type:"text",value:p.name,onChange:T=>f(ie=>({...ie,name:T.target.value})),className:"w-full px-2 py-1.5 border border-slate-300 rounded focus:outline-none focus:border-primary text-xs",placeholder:"Sub-service name..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Short Description"}),t.jsx("input",{type:"text",value:p.shortDescription,onChange:T=>f(ie=>({...ie,shortDescription:T.target.value})),className:"w-full px-2 py-1.5 border border-slate-300 rounded focus:outline-none focus:border-primary text-xs",placeholder:"Brief description..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Price *"}),t.jsx("input",{type:"text",value:p.price,onChange:T=>f(ie=>({...ie,price:T.target.value})),className:"w-full px-2 py-1.5 border border-slate-300 rounded focus:outline-none focus:border-primary text-xs",placeholder:"e.g., 299"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Icon"}),t.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-1.5 max-h-32 overflow-y-auto p-1 border border-slate-200 rounded",children:Ap.map(T=>{const ie=T.icon,Te=p.icon===T.name;return t.jsx("button",{type:"button",onClick:()=>f(qe=>({...qe,icon:T.name})),className:`p-1.5 rounded border transition ${Te?"border-primary bg-primary/10":"border-slate-200 hover:border-primary/50"}`,title:T.label,children:t.jsx(ie,{className:`w-3 h-3 mx-auto ${Te?"text-primary":"text-slate-400"}`})},T.name)})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{type:"button",onClick:he,className:"flex-1 px-3 py-1.5 bg-primary text-white rounded hover:bg-primary-dark transition text-xs font-semibold",children:w!==null?"Update Sub-Service":"Add Sub-Service"}),w!==null&&t.jsx("button",{type:"button",onClick:Ie,className:"px-3 py-1.5 bg-slate-200 text-slate-700 rounded hover:bg-slate-300 transition text-xs font-semibold",children:"Cancel"})]})]}),t.jsx("div",{className:"space-y-1",children:d.subServices.map((T,ie)=>{const Te=dt(T.icon||"FaTools");return t.jsxs("div",{className:"flex items-start justify-between bg-white px-3 py-2 rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-start gap-2 flex-1",children:[t.jsx("div",{className:"w-6 h-6 bg-primary/10 rounded flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx(Te,{className:"w-3 h-3 text-primary"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-900",children:T.name}),T.shortDescription&&t.jsx("div",{className:"text-xs text-slate-600 mt-0.5",children:T.shortDescription}),t.jsx("div",{className:"text-xs text-primary font-semibold mt-0.5",children:T.price})]})]}),t.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[t.jsx("button",{type:"button",onClick:()=>Qe(ie),className:"p-1 text-primary hover:bg-primary/10 rounded transition",title:"Edit",children:t.jsx(Cs,{className:"w-3 h-3"})}),t.jsx("button",{type:"button",onClick:()=>W(ie),className:"p-1 text-rose-600 hover:bg-rose-50 rounded transition",title:"Remove",children:t.jsx(xt,{className:"w-3 h-3"})})]})]},ie)})})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsx("button",{type:"button",onClick:we,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold text-sm",children:b!==null?"Update Add-On":"Add Add-On"}),b!==null&&t.jsx("button",{type:"button",onClick:ee,className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition font-semibold text-sm",children:"Cancel"})]})]})]}),t.jsx("div",{className:"space-y-2",children:l.addOns.length===0?t.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"No services added yet"}):l.addOns.map((T,ie)=>{const Te=dt(T.icon||"FaTools");return t.jsxs("div",{className:"flex items-start justify-between bg-slate-50 px-4 py-3 rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[t.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx(Te,{className:"w-4 h-4 text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:T.name}),T.description&&t.jsx("div",{className:"text-xs text-slate-600 mt-1",children:T.description}),t.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Base: ",T.basePrice||0," |",T.discount>0&&` Discount: ${T.discount}% |`,T.cgst>0&&` CGST: ${T.cgst}% |`,T.sgst>0&&` SGST: ${T.sgst}% |`,T.serviceCharge>0&&` Charge: ${T.serviceCharge} |`," ","Price: ",T.price||"N/A"]}),T.included&&T.included.length>0&&t.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[t.jsx("span",{className:"font-semibold",children:"Included:"})," ",T.included.join(", ")]}),T.excluded&&T.excluded.length>0&&t.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[t.jsx("span",{className:"font-semibold",children:"Excluded:"})," ",T.excluded.join(", ")]}),T.subServices&&T.subServices.length>0&&t.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[t.jsx("span",{className:"font-semibold",children:"Sub-Services:"})," ",T.subServices.length," item(s)"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[t.jsx("button",{type:"button",onClick:()=>L(ie),className:"p-1.5 text-primary hover:bg-primary/10 rounded transition",title:"Edit",children:t.jsx(Cs,{className:"w-4 h-4"})}),t.jsx("button",{type:"button",onClick:()=>ue(ie),className:"p-1.5 text-rose-600 hover:bg-rose-50 rounded transition",title:"Remove",children:t.jsx(xt,{className:"w-4 h-4"})})]})]},ie)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Available Cities"}),z?t.jsx("div",{className:"text-sm text-slate-500",children:"Loading cities..."}):t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("button",{type:"button",onClick:()=>{const T=ce.map(ie=>ie._id);o(ie=>({...ie,cities:T}))},className:"px-3 py-1.5 text-xs bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition font-semibold",children:"Select All"}),t.jsx("button",{type:"button",onClick:()=>o(T=>({...T,cities:[]})),className:"px-3 py-1.5 text-xs bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition font-semibold",children:"Clear All"})]}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 max-h-48 overflow-y-auto p-2 border-2 border-slate-200 rounded-xl",children:ce.length===0?t.jsx("div",{className:"col-span-full text-sm text-slate-400 text-center py-4",children:"No cities available. Please add cities first."}):ce.map(T=>t.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg border-2 cursor-pointer transition ${l.cities.includes(T._id)?"border-primary bg-primary/5":"border-slate-200 hover:border-primary/50"} ${T.isEnabled?"":"opacity-50"}`,children:[t.jsx("input",{type:"checkbox",checked:l.cities.includes(T._id),onChange:ie=>{ie.target.checked?o(Te=>({...Te,cities:[...Te.cities,T._id]})):o(Te=>({...Te,cities:Te.cities.filter(qe=>qe!==T._id)}))},className:"w-4 h-4 text-primary rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm text-slate-700 flex-1",children:T.name}),!T.isEnabled&&t.jsx("span",{className:"text-xs text-slate-400",children:"(Disabled)"})]},T._id))}),t.jsx("p",{className:"mt-1 text-xs text-slate-500",children:l.cities.length===0?"No cities selected - service will be available in all cities":`Selected ${l.cities.length} ${l.cities.length===1?"city":"cities"}`})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Display Order"}),t.jsx("input",{type:"number",value:l.order,onChange:T=>o(ie=>({...ie,order:parseInt(T.target.value)||0})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",min:"0"}),t.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Lower numbers appear first"})]}),t.jsx("div",{children:t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:l.isActive,onChange:T=>o(ie=>({...ie,isActive:T.target.checked})),className:"w-5 h-5 text-primary rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Active (visible on homepage)"})]})}),t.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:V,className:"px-6 py-3 text-slate-600 font-semibold rounded-xl hover:bg-slate-100 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:v,className:"flex items-center gap-2 px-6 py-3 bg-primary text-white font-semibold rounded-xl hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:v?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ji,{className:"w-4 h-4"}),n?"Update":"Create"]})})]})]})]})}),O&&Z&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:Re,children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:T=>T.stopPropagation(),children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[t.jsxs("h3",{className:"text-xl font-semibold text-slate-900",children:["Service Details: ",Z.name]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>{Z!=null&&Z.slug&&(r(`/service/${Z.slug}`),Re())},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm font-semibold flex items-center gap-2",title:"View service on website",children:[t.jsx(GC,{className:"w-4 h-4"}),"View Service"]}),t.jsxs("button",{onClick:()=>{Re(),ae(Z)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition text-sm font-semibold flex items-center gap-2",children:[t.jsx(Cs,{className:"w-4 h-4"}),"Edit"]}),t.jsx("button",{onClick:Re,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Basic Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Service Name"}),t.jsx("p",{className:"text-base text-slate-900 mt-1",children:Z.name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Slug"}),t.jsx("p",{className:"text-base text-slate-900 font-mono mt-1",children:Z.slug})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Icon"}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:_t.createElement(dt(Z.icon),{className:"w-5 h-5 text-primary"})}),t.jsx("span",{className:"text-base text-slate-900",children:Z.icon})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Display Order"}),t.jsx("p",{className:"text-base text-slate-900 mt-1",children:Z.order||0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Status"}),t.jsx("p",{className:"mt-1",children:t.jsx("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold ${Z.isActive?"bg-emerald-500/10 text-emerald-600":"bg-slate-200 text-slate-600"}`,children:Z.isActive?"Active":"Inactive"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Display Price"}),t.jsx("p",{className:"text-base text-slate-900 mt-1",children:Z.price||"Not set"})]})]}),Z.description&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Description"}),t.jsx("p",{className:"text-base text-slate-900 mt-1",children:Z.description})]}),Z.trusted&&t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Trusted Text"}),t.jsx("p",{className:"text-base text-slate-900 mt-1",children:Z.trusted})]})]}),t.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Available Cities"}),!Z.cities||Z.cities.length===0?t.jsx("p",{className:"text-slate-600",children:"Available in all cities"}):t.jsx("div",{className:"flex flex-wrap gap-2",children:Z.cities.map((T,ie)=>t.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-blue-100 text-blue-700 text-sm font-semibold",children:typeof T=="string"?T:T.name},ie))})]}),Z.included&&Z.included.length>0&&t.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Included Items"}),t.jsx("ul",{className:"space-y-2",children:Z.included.map((T,ie)=>t.jsxs("li",{className:"flex items-center gap-2 text-slate-900",children:[t.jsx(Ue,{className:"text-primary flex-shrink-0"}),t.jsx("span",{children:T})]},ie))})]}),Z.excluded&&Z.excluded.length>0&&t.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Excluded Items"}),t.jsx("ul",{className:"space-y-2",children:Z.excluded.map((T,ie)=>t.jsxs("li",{className:"flex items-center gap-2 text-slate-900",children:[t.jsx(Kt,{className:"text-rose-600 flex-shrink-0"}),t.jsx("span",{children:T})]},ie))})]}),Z.addOns&&Z.addOns.length>0&&t.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Services"}),t.jsx("div",{className:"grid sm:grid-cols-1 gap-4",children:Z.addOns.map((T,ie)=>{const Te=dt(T.icon||"FaTools"),At=(ft=>{if(!ft.basePrice||ft.basePrice<=0)return 0;let pt=ft.basePrice||0;ft.discount>0&&(pt-=pt*ft.discount/100),ft.serviceCharge>0&&(pt+=ft.serviceCharge);const ge=(ft.basePrice||0)-(ft.discount>0?(ft.basePrice||0)*ft.discount/100:0)+(ft.serviceCharge||0);return pt+=ge*(ft.cgst||0)/100+ge*(ft.sgst||0)/100,pt})(T);return t.jsxs("div",{className:"bg-white p-5 rounded-lg border-2 border-slate-200 hover:border-primary/30 transition",children:[t.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(Te,{className:"w-6 h-6 text-primary"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-bold text-slate-900 text-lg",children:T.name}),T.description&&t.jsx("p",{className:"text-sm text-slate-600 mt-1",children:T.description})]})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 space-y-1.5 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Base Price:"}),t.jsxs("span",{className:"font-semibold text-slate-900",children:["",(T.basePrice||0).toFixed(2)]})]}),T.discount>0&&t.jsxs("div",{className:"flex justify-between text-rose-600",children:[t.jsxs("span",{children:["Discount (",T.discount,"%):"]}),t.jsxs("span",{children:["-",((T.basePrice||0)*T.discount/100).toFixed(2)]})]}),T.serviceCharge>0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-600",children:"Service Charge:"}),t.jsxs("span",{className:"font-semibold text-slate-900",children:["+",(T.serviceCharge||0).toFixed(2)]})]}),(T.cgst>0||T.sgst>0)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-slate-600",children:["GST (",(T.cgst||0)+(T.sgst||0),"%):"]}),t.jsxs("span",{className:"font-semibold text-slate-900",children:["+",(()=>{const ft=(T.basePrice||0)-(T.discount>0?(T.basePrice||0)*T.discount/100:0)+(T.serviceCharge||0);return(ft*(T.cgst||0)/100+ft*(T.sgst||0)/100).toFixed(2)})()]})]}),t.jsxs("div",{className:"flex justify-between pt-2 mt-2 border-t border-slate-200",children:[t.jsx("span",{className:"font-bold text-slate-900",children:"Total Price:"}),t.jsxs("span",{className:"text-lg font-bold text-primary",children:["",At.toFixed(2)]})]}),T.price&&t.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Display Price: ",T.price]})]}),T.included&&T.included.length>0&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[t.jsx("h5",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Included Items"}),t.jsx("ul",{className:"space-y-1",children:T.included.map((ft,pt)=>t.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-700",children:[t.jsx(Ue,{className:"text-primary flex-shrink-0 text-xs"}),t.jsx("span",{children:ft})]},pt))})]}),T.excluded&&T.excluded.length>0&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[t.jsx("h5",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Excluded Items"}),t.jsx("ul",{className:"space-y-1",children:T.excluded.map((ft,pt)=>t.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-700",children:[t.jsx(Kt,{className:"text-rose-600 flex-shrink-0 text-xs"}),t.jsx("span",{children:ft})]},pt))})]}),T.subServices&&T.subServices.length>0&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[t.jsx("h5",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Sub-Services"}),t.jsx("div",{className:"space-y-2",children:T.subServices.map((ft,pt)=>{const ge=dt(ft.icon||"FaTools");return t.jsxs("div",{className:"bg-white p-2 rounded border border-slate-200 flex items-start gap-2",children:[t.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(ge,{className:"w-4 h-4 text-primary"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-sm font-semibold text-slate-900",children:ft.name}),ft.shortDescription&&t.jsx("div",{className:"text-xs text-slate-600 mt-0.5",children:ft.shortDescription}),t.jsx("div",{className:"text-xs text-primary font-semibold mt-1",children:ft.price})]})]},pt)})})]})]},ie)})})]}),t.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[t.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Metadata"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-slate-600 font-semibold",children:"Created At"}),t.jsx("p",{className:"text-slate-900 mt-1",children:Z.createdAt?new Date(Z.createdAt).toLocaleString():"N/A"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-slate-600 font-semibold",children:"Last Updated"}),t.jsx("p",{className:"text-slate-900 mt-1",children:Z.updatedAt?new Date(Z.updatedAt).toLocaleString():"N/A"})]})]})]})]})]})})]})},N5e=()=>{const{token:e}=wr(),{data:r,isLoading:s,error:a,refresh:n}=dr(y=>We.fetchFeaturedReviews(y),[]),[i,l]=g.useState(!1),[o,d]=g.useState(null),[c,u]=g.useState({text:"",author:"",rating:5,authorRole:"",authorLocation:"",serviceType:"",isActive:!0,displayOrder:0,featured:!1}),[m,x]=g.useState(!1),h=_t.useMemo(()=>r?typeof r=="string"&&r.trim().startsWith("<!")?[]:typeof r!="object"||r===null?[]:Array.isArray(r)?r:r.success&&Array.isArray(r.data)||Array.isArray(r.data)?r.data:[]:[],[r]),p=()=>{d(null),u({text:"",author:"",rating:5,authorRole:"",authorLocation:"",serviceType:"",isActive:!0,displayOrder:h.length,featured:!1}),l(!0)},f=y=>{d(y),u({text:y.text||"",author:y.author||"",rating:y.rating||5,authorRole:y.authorRole||"",authorLocation:y.authorLocation||"",serviceType:y.serviceType||"",isActive:y.isActive!==void 0?y.isActive:!0,displayOrder:y.displayOrder||0,featured:y.featured||!1}),l(!0)},b=async y=>{y.preventDefault(),x(!0);try{const v={...c,rating:Number(c.rating),displayOrder:Number(c.displayOrder)||0};o?await We.updateFeaturedReview(e,o._id,v):await We.createFeaturedReview(e,v),l(!1),n()}catch(v){alert(v.message||"Failed to save review")}finally{x(!1)}},j=async y=>{if(confirm("Are you sure you want to delete this review?"))try{await We.deleteFeaturedReview(e,y),n()}catch(v){alert(v.message||"Failed to delete review")}},w=y=>[...Array(5)].map((v,N)=>t.jsx("span",{className:N<y?"text-yellow-400":"text-gray-300",children:""},N));return t.jsxs("div",{children:[t.jsx(ys,{title:"Featured Reviews Management",subtitle:"Manage customer reviews displayed on the home page."}),t.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[t.jsx("div",{className:"text-sm text-slate-600",children:h.length>0&&t.jsxs("span",{children:["Total Reviews: ",t.jsx("strong",{children:h.length})]})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:n,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-slate-200 text-slate-700 rounded-xl font-semibold hover:bg-slate-300 transition disabled:opacity-50",children:s?"Loading...":"Refresh"}),t.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition",children:[t.jsx(Tr,{})," Add New Review"]})]})]}),s?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:[t.jsx("p",{className:"font-semibold mb-2",children:"Error loading reviews"}),t.jsx("p",{className:"text-sm mb-4",children:a}),t.jsx("button",{onClick:n,className:"px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition",children:"Retry"})]}):h.length===0?t.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-slate-300 rounded-2xl p-12 text-center",children:[t.jsx("p",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No reviews found"}),t.jsx("p",{className:"text-slate-600 mb-6",children:"Add your first customer review to get started"}),t.jsxs("button",{onClick:p,className:"px-6 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[t.jsx(Tr,{})," Add First Review"]})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(y=>t.jsxs("div",{className:`bg-white border-2 rounded-2xl p-6 shadow-sm hover:shadow-md transition ${y.featured?"border-primary border-l-4":"border-slate-200"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"flex gap-1",children:w(y.rating)}),y.featured&&t.jsx("span",{className:"text-xs bg-primary text-white px-2 py-1 rounded",children:"Featured"}),!y.isActive&&t.jsx("span",{className:"text-xs text-rose-600 font-semibold",children:"Inactive"})]}),t.jsxs("p",{className:"text-sm text-gray-600 italic mb-3 line-clamp-3",children:['"',y.text,'"']}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-primary font-semibold",children:[" ",y.author]}),y.authorLocation&&t.jsx("p",{className:"text-xs text-gray-500",children:y.authorLocation}),y.serviceType&&t.jsx("p",{className:"text-xs text-gray-500",children:y.serviceType})]})]}),t.jsxs("div",{className:"flex gap-2 ml-2",children:[t.jsx("button",{onClick:()=>f(y),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(Cs,{className:"text-slate-600"})}),t.jsx("button",{onClick:()=>j(y._id),className:"p-2 hover:bg-rose-50 rounded-lg transition",children:t.jsx(la,{className:"text-rose-600"})})]})]}),t.jsxs("div",{className:"pt-3 border-t border-slate-200 text-xs text-gray-500",children:["Order: ",y.displayOrder]})]},y._id))}),i&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:o?"Edit Review":"Add New Review"}),t.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Review Text ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("textarea",{value:c.text,onChange:y=>u(v=>({...v,text:y.target.value})),required:!0,rows:"4",placeholder:"Enter the customer review text...",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Author Name ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",value:c.author,onChange:y=>u(v=>({...v,author:y.target.value})),required:!0,placeholder:"e.g., Rajesh K.",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Rating ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsxs("select",{value:c.rating,onChange:y=>u(v=>({...v,rating:Number(y.target.value)})),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:5,children:"5 Stars"}),t.jsx("option",{value:4,children:"4 Stars"}),t.jsx("option",{value:3,children:"3 Stars"}),t.jsx("option",{value:2,children:"2 Stars"}),t.jsx("option",{value:1,children:"1 Star"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Author Role (Optional)"}),t.jsx("input",{type:"text",value:c.authorRole,onChange:y=>u(v=>({...v,authorRole:y.target.value})),placeholder:"e.g., Homeowner, Business Owner",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Location (Optional)"}),t.jsx("input",{type:"text",value:c.authorLocation,onChange:y=>u(v=>({...v,authorLocation:y.target.value})),placeholder:"e.g., Mumbai, Delhi",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Type (Optional)"}),t.jsx("input",{type:"text",value:c.serviceType,onChange:y=>u(v=>({...v,serviceType:y.target.value})),placeholder:"e.g., AC Service, Plumbing",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Display Order"}),t.jsx("input",{type:"number",value:c.displayOrder,onChange:y=>u(v=>({...v,displayOrder:y.target.value})),min:"0",placeholder:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:c.isActive,onChange:y=>u(v=>({...v,isActive:y.target.checked})),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Active"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:c.featured,onChange:y=>u(v=>({...v,featured:y.target.checked})),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Featured"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Saving...":o?"Update Review":"Create Review"})]})]})]})})]})},S5e=()=>{const{token:e}=wr(),{data:r,isLoading:s,error:a,refresh:n}=dr(D=>We.fetchAMCPlans(D),[]),[i,l]=g.useState("plans"),[o,d]=g.useState([]),[c,u]=g.useState(!1),[m,x]=g.useState(!1),[h,p]=g.useState(null),[f,b]=g.useState({name:"",price:"",priceDisplay:"",features:"",description:"",isActive:!0,displayOrder:0,highlight:!1,highlightText:"",whatsappNumber:"",planType:"business",targetCustomer:"",includedServices:[],serviceFrequency:{},duration:12,durationUnit:"months"}),[j,w]=g.useState([]),[y,v]=g.useState(!1),[N,S]=g.useState(!1),[k,P]=g.useState("all");g.useEffect(()=>{e&&(async()=>{var z;v(!0);try{const se=await We.fetchPopularServices(e);se.success&&(w(se.data||[]),console.log(" Loaded popular services:",((z=se.data)==null?void 0:z.length)||0))}catch(se){console.error(" Failed to fetch popular services:",se)}finally{v(!1)}})()},[e]);const C=_t.useMemo(()=>r?typeof r=="string"&&r.trim().startsWith("<!")?(console.error(" API returned HTML instead of JSON"),[]):typeof r!="object"||r===null?[]:Array.isArray(r)?r:r.success&&Array.isArray(r.data)||Array.isArray(r.data)?r.data:[]:[],[r]);g.useEffect(()=>{C.length>0&&j.length>0&&(console.log(" Plans with services:",C.length,"Popular services:",j.length),C.forEach(D=>{D.includedServices&&D.includedServices.length>0&&D.includedServices.forEach(z=>{const se=typeof z=="object"?z._id:z;!j.find(_=>_._id===se)&&typeof z=="string"&&console.warn(" Service not found in popular services:",se)})}))},[C,j]);const I=()=>{p(null),b({name:"",price:"",priceDisplay:"",features:"",description:"",isActive:!0,displayOrder:C.length,highlight:!1,highlightText:"",whatsappNumber:"",planType:"business",targetCustomer:"",includedServices:[],serviceFrequency:{},duration:12,durationUnit:"months"}),x(!0)},A=D=>{var z;p(D),b({name:D.name||"",price:D.price||"",priceDisplay:D.priceDisplay||`${D.price||""}`,features:((z=D.features)==null?void 0:z.join(`
`))||"",description:D.description||"",isActive:D.isActive!==void 0?D.isActive:!0,displayOrder:D.displayOrder||0,highlight:D.highlight||!1,highlightText:D.highlightText||"",whatsappNumber:D.whatsappNumber||"",planType:D.planType||"business",targetCustomer:D.targetCustomer||"",includedServices:D.includedServices||[],serviceFrequency:D.serviceFrequency||{},duration:D.duration||12,durationUnit:D.durationUnit||"months"}),x(!0)},O=async D=>{D.preventDefault(),S(!0);try{const z={...f,price:Number(f.price),priceDisplay:f.priceDisplay||`${Number(f.price).toLocaleString("en-IN")}`,features:f.features.split(`
`).filter(se=>se.trim()),displayOrder:Number(f.displayOrder)||0,duration:Number(f.duration)||12,durationUnit:f.durationUnit||"months",planType:f.planType||"business",targetCustomer:f.targetCustomer||"",includedServices:f.includedServices||[],serviceFrequency:f.serviceFrequency||{}};h?await We.updateAMCPlan(e,h._id,z):await We.createAMCPlan(e,z),x(!1),n()}catch(z){alert(z.message||"Failed to save plan")}finally{S(!1)}},R=async D=>{if(confirm("Are you sure you want to delete this plan?"))try{await We.deleteAMCPlan(e,D),n()}catch(z){alert(z.message||"Failed to delete plan")}},Z=async()=>{if(confirm("This will generate AMC plans based on your popular services. Existing plans with the same names will not be overwritten. Continue?")){S(!0);try{const D=await We.generateAMCPlansFromServices(e);alert(`Successfully generated ${D.data.createdPlans} AMC plans from ${D.data.totalServices} popular services!`),n()}catch(D){alert(D.message||"Failed to generate AMC plans from services")}finally{S(!1)}}},Y=async()=>{var D;v(!0);try{const z=await We.fetchPopularServices(e);z.success&&(w(z.data||[]),console.log(" Refreshed popular services:",((D=z.data)==null?void 0:D.length)||0))}catch(z){console.error(" Failed to refresh popular services:",z),alert("Failed to refresh services. Please try again.")}finally{v(!1)}},ce=async()=>{u(!0);try{const D=await We.fetchAMCSubscribers(e);D.success?d(D.data||[]):d([])}catch(D){console.error("Error fetching subscribers:",D),d([])}finally{u(!1)}};return _t.useEffect(()=>{i==="subscribers"&&ce()},[i]),t.jsx("div",{className:"min-h-screen bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto p-4",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx(ys,{title:"AMC Plans Management",subtitle:"Create and manage service-based AMC plans for different customer segments"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[t.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:t.jsx(yo,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-gray-900",children:C.length}),t.jsx("div",{className:"text-xs text-gray-600",children:"Total Plans"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:t.jsx(kl,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-gray-900",children:j.length}),t.jsx("div",{className:"text-xs text-gray-600",children:"Services"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx(vt,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-gray-900",children:C.filter(D=>D.isActive).length}),t.jsx("div",{className:"text-xs text-gray-600",children:"Active"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(_h,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-gray-900",children:C.filter(D=>D.includedServices&&D.includedServices.length>0).length}),t.jsx("div",{className:"text-xs text-gray-600",children:"Service-Based"})]})]})})]})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"bg-white rounded-xl p-1 shadow-sm border border-gray-200 inline-flex",children:[t.jsxs("button",{onClick:()=>l("plans"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center gap-2 text-sm ${i==="plans"?"bg-primary text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[t.jsx(yo,{className:"w-4 h-4"}),"Plans Management"]}),t.jsxs("button",{onClick:()=>l("subscribers"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center gap-2 text-sm ${i==="subscribers"?"bg-primary text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[t.jsx(Lr,{className:"w-4 h-4"}),"Plan Subscribers"]})]})}),i==="plans"?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"}),t.jsxs("div",{className:"flex gap-1",children:[t.jsxs("button",{onClick:()=>P("all"),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition flex items-center gap-1.5 ${k==="all"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx(yo,{className:"w-3 h-3"}),"All Plans"]}),t.jsxs("button",{onClick:()=>P("individual"),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition flex items-center gap-1.5 ${k==="individual"?"bg-primary text-white":"bg-blue-50 text-blue-700 hover:bg-blue-100"}`,children:[t.jsx(en,{className:"w-3 h-3"}),"Individual"]}),t.jsxs("button",{onClick:()=>P("business"),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition flex items-center gap-1.5 ${k==="business"?"bg-primary text-white":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:[t.jsx(_h,{className:"w-3 h-3"}),"Business"]}),t.jsxs("button",{onClick:()=>P("corporate"),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition flex items-center gap-1.5 ${k==="corporate"?"bg-primary text-white":"bg-purple-50 text-purple-700 hover:bg-purple-100"}`,children:[t.jsx(yo,{className:"w-3 h-3"}),"Corporate"]})]})]})}),t.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-6 text-sm text-slate-600",children:[C.length>0&&t.jsxs("span",{children:["Total Plans: ",t.jsx("strong",{children:C.length}),k!=="all"&&t.jsxs("span",{className:"ml-2 text-xs text-slate-500",children:["(Showing ",C.filter(D=>D.planType===k).length," ",k," plans)"]})]}),t.jsxs("span",{className:j.length>0?"text-green-600":"text-red-600",children:["Available Services: ",t.jsx("strong",{children:j.length}),j.length===0&&t.jsx("span",{className:"ml-2 text-xs",children:"( No services loaded)"})]}),C.length>0&&t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("span",{children:[" Individual: ",t.jsx("strong",{children:C.filter(D=>D.planType==="individual").length})]}),t.jsxs("span",{children:[" Business: ",t.jsx("strong",{children:C.filter(D=>D.planType==="business").length})]}),t.jsxs("span",{children:[" Corporate: ",t.jsx("strong",{children:C.filter(D=>D.planType==="corporate").length})]})]}),y&&t.jsxs("span",{className:"text-blue-600",children:[t.jsx("span",{className:"animate-spin inline-block mr-1",children:""}),"Loading services..."]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[t.jsxs("button",{onClick:n,disabled:s,className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg text-sm font-medium hover:border-gray-300 hover:shadow-sm transition-all disabled:opacity-50",children:[t.jsx(Dt,{className:`w-4 h-4 ${s?"animate-spin":""}`}),s?"Loading...":"Refresh"]}),t.jsxs("button",{onClick:Y,disabled:y,className:"flex items-center gap-2 px-3 py-2 bg-blue-50 border border-blue-200 text-blue-700 rounded-lg text-sm font-medium hover:bg-blue-100 transition-all disabled:opacity-50",children:[t.jsx(kl,{className:`w-4 h-4 ${y?"animate-spin":""}`}),"Services"]}),t.jsxs("button",{onClick:Z,disabled:N||y||j.length===0,className:"flex items-center gap-2 px-3 py-2 bg-primary/10 border border-primary/20 text-primary rounded-lg text-sm font-medium hover:bg-primary/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(or,{className:`w-4 h-4 ${N?"animate-spin":""}`}),N?"Generating...":"Auto-Generate"]}),t.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg text-sm font-medium hover:bg-primary-dark shadow-sm hover:shadow-md transition-all",children:[t.jsx(Tr,{className:"w-4 h-4"}),"Create Plan"]})]})]}),s?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a?t.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:[t.jsx("p",{className:"font-semibold mb-2",children:"Error loading plans"}),t.jsx("p",{className:"text-sm mb-4",children:a}),t.jsx("button",{onClick:n,className:"px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition",children:"Retry"})]}):C.length===0?t.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-slate-300 rounded-2xl p-12 text-center",children:[t.jsx("p",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No AMC plans found"}),t.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first AMC plan to get started."}),t.jsxs("div",{className:"flex gap-3 justify-center",children:[t.jsxs("button",{onClick:I,className:"px-6 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[t.jsx(Tr,{})," Create First Plan"]}),t.jsx("button",{onClick:n,className:"px-6 py-3 bg-slate-200 text-slate-700 rounded-xl font-semibold hover:bg-slate-300 transition inline-flex items-center gap-2",children:"Refresh"})]})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:C.filter(D=>k==="all"||D.planType===k).map(D=>{var z,se,K,_;return t.jsxs("div",{className:`bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden relative border ${D.highlight?"border-primary shadow-md":"border-gray-200 hover:border-gray-300"}`,children:[t.jsx("div",{className:`absolute top-0 right-0 px-2 py-1 rounded-bl-lg text-xs font-medium ${D.planType==="individual"?"bg-blue-500 text-white":D.planType==="business"?"bg-green-500 text-white":D.planType==="corporate"?"bg-purple-500 text-white":"bg-gray-500 text-white"}`,children:D.planType==="individual"?t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(en,{className:"w-3 h-3"}),t.jsx("span",{children:"Individual"})]}):D.planType==="business"?t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(_h,{className:"w-3 h-3"}),t.jsx("span",{children:"Business"})]}):D.planType==="corporate"?t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(yo,{className:"w-3 h-3"}),t.jsx("span",{children:"Corporate"})]}):t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(yo,{className:"w-3 h-3"}),t.jsx("span",{children:"General"})]})}),D.highlight&&t.jsx("div",{className:"absolute top-2 left-2 bg-primary text-white px-2 py-1 rounded-lg text-xs font-medium shadow-sm",children:D.highlightText||"Featured"}),t.jsxs("div",{className:"p-4 pt-8",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1 truncate",children:D.name}),D.targetCustomer&&t.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:D.targetCustomer}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${D.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[t.jsx(vt,{className:"w-3 h-3 mr-1"}),D.isActive?"Active":"Inactive"]})})]}),t.jsxs("div",{className:"flex gap-1 ml-2",children:[t.jsx("button",{onClick:()=>A(D),className:"p-2 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",title:"Edit Plan",children:t.jsx(Cs,{className:"w-3 h-3"})}),t.jsx("button",{onClick:()=>R(D._id),className:"p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors",title:"Delete Plan",children:t.jsx(la,{className:"w-3 h-3"})})]})]}),t.jsxs("div",{className:"bg-primary/5 rounded-lg p-3 mb-3 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[t.jsx(Td,{className:"w-4 h-4 text-primary"}),t.jsx("span",{className:"text-2xl font-bold text-primary",children:((z=D.price)==null?void 0:z.toLocaleString("en-IN"))||0})]}),t.jsxs("div",{className:"text-xs text-gray-600",children:["per ",D.durationUnit==="years"?"year":`${D.duration||12} months`]})]}),D.description&&t.jsx("div",{className:"mb-3",children:t.jsx("p",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded-lg",children:D.description})}),t.jsxs("div",{className:"mb-3",children:[t.jsxs("h4",{className:"text-xs font-semibold text-gray-700 mb-2 flex items-center gap-1",children:[t.jsx(vt,{className:"w-3 h-3 text-green-600"}),"Features (",((se=D.features)==null?void 0:se.length)||0,")"]}),t.jsxs("div",{className:"space-y-1",children:[(K=D.features)==null?void 0:K.slice(0,3).map((M,F)=>t.jsxs("div",{className:"flex items-start gap-2 text-xs text-gray-700",children:[t.jsx(Ue,{className:"text-green-600 flex-shrink-0 mt-0.5 w-2 h-2"}),t.jsx("span",{className:"line-clamp-2",children:M})]},F)),((_=D.features)==null?void 0:_.length)>3&&t.jsxs("div",{className:"text-xs text-gray-500",children:["+",D.features.length-3," more features"]})]})]}),D.includedServices&&D.includedServices.length>0&&t.jsxs("div",{className:"mb-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("h4",{className:"text-xs font-semibold text-gray-700 flex items-center gap-1",children:[t.jsx(kl,{className:"w-3 h-3 text-primary"}),"Services",t.jsx("span",{className:"bg-primary/10 text-primary px-1.5 py-0.5 rounded text-xs font-medium",children:D.includedServices.length})]}),j.length===0&&t.jsx("button",{onClick:Y,className:"text-xs text-blue-600 hover:text-blue-700 underline",children:"Load"})]}),t.jsxs("div",{className:"space-y-2",children:[D.includedServices.slice(0,4).map((M,F)=>{var G;let B=null,q=null;typeof M=="object"&&M!==null?(B=M,q=M._id):(q=M,B=j.find(te=>te._id===q));const ae=(G=D.serviceFrequency)==null?void 0:G[q],V=te=>({FaSnowflake:Zu,FaBolt:Nl,FaTint:em,FaBroom:Xu,FaPaintRoller:Qu,FaTools:ga,FaHammer:Ju,FaFilter:ld,FaPlug:My,FaWrench:G0})[te]||ga;if(B){const te=V(B.icon);return t.jsxs("div",{className:"flex items-center justify-between p-2 bg-primary/5 rounded-lg border border-primary/10",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-6 h-6 bg-white rounded-md flex items-center justify-center",children:t.jsx(te,{className:"w-3 h-3 text-primary"})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("div",{className:"text-xs font-medium text-gray-800 truncate",children:B.name}),B.price&&t.jsx("div",{className:"text-xs text-gray-500",children:B.price})]})]}),ae&&t.jsx("div",{className:"text-right ml-2",children:t.jsx("div",{className:"text-xs font-semibold text-primary",children:ae==="unlimited"?"":`${ae}x`})})]},F)}else return t.jsx("div",{className:"flex items-center justify-between p-2 bg-yellow-50 rounded-lg border border-yellow-200",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-6 h-6 bg-yellow-100 rounded-md flex items-center justify-center",children:t.jsx(xt,{className:"w-3 h-3 text-yellow-600"})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("div",{className:"text-xs font-medium text-yellow-800",children:"Unavailable"}),t.jsx("div",{className:"text-xs text-yellow-600 font-mono",children:(q==null?void 0:q.slice(-6))||"Unknown"})]})]})},F)}),D.includedServices.length>3&&t.jsx("div",{className:"text-center mt-2",children:t.jsxs("div",{className:"inline-flex items-center px-2 py-1 bg-gray-100 rounded-lg text-xs text-gray-600 font-medium",children:[t.jsx(yo,{className:"w-3 h-3 mr-1"}),"+",D.includedServices.length-3," more"]})})]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[t.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg",children:[t.jsx("div",{className:"text-gray-500 mb-0.5",children:"Duration"}),t.jsxs("div",{className:"font-medium text-gray-700",children:[D.duration||12," ",D.durationUnit||"months"]})]}),t.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg",children:[t.jsx("div",{className:"text-gray-500 mb-0.5",children:"Order"}),t.jsx("div",{className:"font-medium text-gray-700",children:D.displayOrder})]})]})})]})]},D._id)})}),m&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:h?"Edit AMC Plan":"Create AMC Plan"}),t.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:O,className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Plan Name ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"text",value:f.name,onChange:D=>b(z=>({...z,name:D.target.value})),required:!0,placeholder:"e.g., Basic, Standard, Premium",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Price () ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("input",{type:"number",value:f.price,onChange:D=>{const z=D.target.value;b(se=>({...se,price:z,priceDisplay:se.priceDisplay||`${Number(z).toLocaleString("en-IN")}`}))},required:!0,min:"0",step:"0.01",placeholder:"2500",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Price Display"}),t.jsx("input",{type:"text",value:f.priceDisplay,onChange:D=>b(z=>({...z,priceDisplay:D.target.value})),placeholder:"2,500 (auto-generated if empty)",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Plan Type ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsxs("select",{value:f.planType,onChange:D=>b(z=>({...z,planType:D.target.value})),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"individual",children:" Individual (Homeowners)"}),t.jsx("option",{value:"business",children:" Business (Small-Medium)"}),t.jsx("option",{value:"corporate",children:" Corporate (Large Enterprise)"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Target Customer Description"}),t.jsx("input",{type:"text",value:f.targetCustomer,onChange:D=>b(z=>({...z,targetCustomer:D.target.value})),placeholder:"e.g., Small businesses with 10-50 employees, Homeowners with 2-3 BHK",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),t.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Optional description of who this plan is designed for"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Display Order"}),t.jsx("input",{type:"number",value:f.displayOrder,onChange:D=>b(z=>({...z,displayOrder:D.target.value})),min:"0",placeholder:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsx("div",{className:"flex items-end",children:t.jsxs("div",{className:"w-full",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Plan Category"}),t.jsx("div",{className:`px-4 py-2 rounded-lg border-2 text-sm font-medium ${f.planType==="individual"?"border-blue-200 bg-blue-50 text-blue-700":f.planType==="business"?"border-green-200 bg-green-50 text-green-700":"border-purple-200 bg-purple-50 text-purple-700"}`,children:f.planType==="individual"?" Individual Plan":f.planType==="business"?" Business Plan":" Corporate Plan"})]})})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Features ",t.jsx("span",{className:"text-rose-500",children:"*"}),t.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(One per line)"})]}),t.jsx("textarea",{value:f.features,onChange:D=>b(z=>({...z,features:D.target.value})),required:!0,rows:"6",placeholder:`Monthly inspection
Basic repairs included
Electrical maintenance
Plumbing maintenance
AC service (quarterly)`,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Plan Duration"}),t.jsx("input",{type:"number",value:f.duration,onChange:D=>b(z=>({...z,duration:parseInt(D.target.value)||1})),min:"1",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"12"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Duration Unit"}),t.jsxs("select",{value:f.durationUnit,onChange:D=>b(z=>({...z,durationUnit:D.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"months",children:"Months"}),t.jsx("option",{value:"years",children:"Years"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:[" Select Services for AMC Plan",t.jsx("span",{className:"text-xs text-slate-500 ml-2 block mt-1",children:"Choose which services to include in this AMC plan and configure their frequencies"})]}),y?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"text-sm text-slate-500",children:"Loading available services..."})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[t.jsx("div",{className:"text-xs font-semibold text-slate-700 mr-2",children:"Quick Select:"}),t.jsx("button",{type:"button",onClick:()=>{const D=j.filter(z=>["ac","electrical","plumbing"].some(se=>z.name.toLowerCase().includes(se))).map(z=>z._id);b(z=>({...z,includedServices:D,serviceFrequency:D.reduce((se,K)=>({...se,[K]:"4"}),{})}))},className:"px-3 py-1.5 text-xs bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition font-semibold",children:" Essential (AC, Electrical, Plumbing)"}),t.jsx("button",{type:"button",onClick:()=>{const D=j.filter(z=>["cleaning","maintenance","repair"].some(se=>z.name.toLowerCase().includes(se))).map(z=>z._id);b(z=>({...z,includedServices:D,serviceFrequency:D.reduce((se,K)=>({...se,[K]:"6"}),{})}))},className:"px-3 py-1.5 text-xs bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition font-semibold",children:" Maintenance & Cleaning"}),t.jsx("button",{type:"button",onClick:()=>{const D=j.map(z=>z._id);b(z=>({...z,includedServices:D,serviceFrequency:D.reduce((se,K)=>({...se,[K]:"2"}),{})}))},className:"px-3 py-1.5 text-xs bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition font-semibold",children:" All Services"}),t.jsx("button",{type:"button",onClick:()=>b(D=>({...D,includedServices:[],serviceFrequency:{}})),className:"px-3 py-1.5 text-xs bg-slate-100 text-slate-600 rounded-lg hover:bg-slate-200 transition font-semibold",children:" Clear All"})]}),t.jsxs("div",{className:"border-2 border-slate-200 rounded-xl bg-slate-50 p-4",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsxs("span",{className:"text-sm font-medium text-slate-700",children:["Available Services (",j.length,")"]}),t.jsxs("span",{className:"text-xs text-slate-500",children:[f.includedServices.length," selected"]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-80 overflow-y-auto",children:j.length===0?t.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border-2 border-dashed border-slate-300",children:[t.jsx("div",{className:"text-4xl mb-3",children:""}),t.jsx("div",{className:"text-sm font-medium text-slate-600 mb-1",children:"No services available"}),t.jsx("div",{className:"text-xs text-slate-500",children:"Please add popular services first to include them in AMC plans"})]}):j.map(D=>{const z=f.includedServices.includes(D._id),se=K=>({FaSnowflake:"",FaBolt:"",FaTint:"",FaBroom:"",FaPaintRoller:"",FaTools:"",FaHammer:"",FaFilter:"",FaPlug:"",FaWrench:""})[K]||"";return t.jsxs("div",{className:`bg-white rounded-lg border-2 transition-all duration-200 ${z?"border-primary shadow-lg ring-2 ring-primary/20":"border-slate-200 hover:border-slate-300 hover:shadow-md"}`,children:[t.jsx("div",{className:`p-4 ${z?"bg-primary/5":""}`,children:t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:z,onChange:K=>{K.target.checked?b(_=>({..._,includedServices:[..._.includedServices,D._id],serviceFrequency:{..._.serviceFrequency,[D._id]:"4"}})):b(_=>({..._,includedServices:_.includedServices.filter(M=>M!==D._id),serviceFrequency:{..._.serviceFrequency,[D._id]:void 0}}))},className:"w-5 h-5 text-primary rounded focus:ring-primary"}),t.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[t.jsx("span",{className:"text-2xl",children:se(D.icon)}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h4",{className:"text-sm font-semibold text-slate-900",children:D.name}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${D.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:D.isActive?" Active":" Inactive"})]}),t.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[D.price&&t.jsx("span",{className:"text-xs font-medium text-primary bg-primary/10 px-2 py-0.5 rounded",children:D.price}),D.basePrice&&t.jsxs("span",{className:"text-xs text-slate-500",children:["Base: ",D.basePrice]})]})]})]})]})}),z&&t.jsx("div",{className:"px-4 pb-4 border-t border-slate-200 bg-slate-50/50",children:t.jsxs("div",{className:"pt-4 space-y-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-semibold text-slate-700 mb-2",children:[" Service Frequency (per ",f.durationUnit==="years"?"year":f.duration+" months",")"]}),t.jsxs("select",{value:f.serviceFrequency[D._id]||"4",onChange:K=>b(_=>({..._,serviceFrequency:{..._.serviceFrequency,[D._id]:K.target.value}})),className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white",children:[t.jsx("option",{value:"1",children:"1 time (Annual) - Basic maintenance"}),t.jsx("option",{value:"2",children:"2 times (Bi-annual) - Standard care"}),t.jsx("option",{value:"4",children:"4 times (Quarterly) - Regular maintenance"}),t.jsx("option",{value:"6",children:"6 times (Bi-monthly) - Frequent care"}),t.jsx("option",{value:"12",children:"12 times (Monthly) - Premium maintenance"}),t.jsx("option",{value:"unlimited",children:"Unlimited visits - On-demand"})]})]}),D.basePrice&&t.jsxs("div",{className:"bg-green-50 border border-green-200 p-3 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-medium text-green-800",children:" Estimated Cost"}),t.jsxs("span",{className:"text-sm font-bold text-green-700",children:["",f.serviceFrequency[D._id]==="unlimited"?(D.basePrice*12).toLocaleString("en-IN"):((D.basePrice||0)*parseInt(f.serviceFrequency[D._id]||4)).toLocaleString("en-IN")]})]}),t.jsx("div",{className:"text-xs text-green-600 mt-1",children:f.serviceFrequency[D._id]==="unlimited"?"Unlimited visits (calculated as 12x base price)":`${D.basePrice}  ${f.serviceFrequency[D._id]||4} visits`})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded-lg",children:[t.jsx("div",{className:"text-xs font-medium text-blue-800 mb-1",children:" Recommendation"}),t.jsxs("div",{className:"text-xs text-blue-700",children:[D.name.toLowerCase().includes("ac")&&"AC services work best with quarterly maintenance for optimal performance",D.name.toLowerCase().includes("electrical")&&"Electrical systems should be inspected bi-annually for safety",D.name.toLowerCase().includes("plumbing")&&"Plumbing maintenance prevents major issues when done annually",D.name.toLowerCase().includes("cleaning")&&"Regular cleaning maintains hygiene and professional appearance",!D.name.toLowerCase().match(/(ac|electrical|plumbing|cleaning)/)&&"Configure frequency based on your business requirements"]})]})]})})]},D._id)})}),f.includedServices.length>0&&t.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-primary/5 to-primary/10 border-2 border-primary/20 rounded-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h4",{className:"text-sm font-bold text-slate-800 flex items-center gap-2",children:" AMC Plan Summary"}),t.jsxs("span",{className:"px-3 py-1 bg-primary text-white text-xs font-semibold rounded-full",children:[f.includedServices.length," Services"]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-2 mb-4",children:f.includedServices.map(D=>{const z=j.find(M=>M._id===D),se=f.serviceFrequency[D]||"4",K=(z==null?void 0:z.basePrice)||0,_=se==="unlimited"?K*12:K*parseInt(se);return z?t.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-white rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-lg",children:z.icon==="FaSnowflake"?"":z.icon==="FaBolt"?"":z.icon==="FaTint"?"":z.icon==="FaBroom"?"":""}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-slate-800",children:z.name}),t.jsx("div",{className:"text-xs text-slate-500",children:se==="unlimited"?"Unlimited visits":`${se} visits per ${f.durationUnit==="years"?"year":f.duration+" months"}`})]})]}),K>0&&t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-semibold text-primary",children:["",_.toLocaleString("en-IN")]}),t.jsxs("div",{className:"text-xs text-slate-500",children:["",K,"  ",se==="unlimited"?"12":se]})]})]},D):null})}),t.jsxs("div",{className:"border-t border-primary/20 pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-semibold text-slate-800",children:" Total Estimated Cost"}),t.jsxs("span",{className:"text-xl font-bold text-primary",children:["",f.includedServices.reduce((D,z)=>{const se=j.find(F=>F._id===z),K=f.serviceFrequency[z]||"4",_=(se==null?void 0:se.basePrice)||0,M=K==="unlimited"?_*12:_*parseInt(K);return D+M},0).toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"text-xs text-slate-600 mb-3",children:["Per ",f.durationUnit==="years"?"year":f.duration+" months","  Based on service base prices"]}),t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-3 rounded-lg",children:[t.jsx("div",{className:"text-xs font-medium text-yellow-800 mb-1",children:" Pricing Tip"}),t.jsx("div",{className:"text-xs text-yellow-700",children:"Set your plan price above to add profit margin or offer customer discounts. Consider market rates and competitor pricing."})]})]})]}),t.jsx("div",{className:"mt-4",children:t.jsx("p",{className:"text-xs text-slate-500 text-center",children:f.includedServices.length===0?"No services selected - Select services above to include in this AMC plan":` ${f.includedServices.length} service${f.includedServices.length===1?"":"s"} selected for this AMC plan`})})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),t.jsx("textarea",{value:f.description,onChange:D=>b(z=>({...z,description:D.target.value})),rows:"3",placeholder:"Optional description for the plan",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"WhatsApp Number (Optional)"}),t.jsx("input",{type:"text",value:f.whatsappNumber,onChange:D=>b(z=>({...z,whatsappNumber:D.target.value})),placeholder:"919590926068",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.isActive,onChange:D=>b(z=>({...z,isActive:D.target.checked})),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Active"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.highlight,onChange:D=>b(z=>({...z,highlight:D.target.checked})),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Highlight"})]})]})]}),f.highlight&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Highlight Text"}),t.jsx("input",{type:"text",value:f.highlightText,onChange:D=>b(z=>({...z,highlightText:D.target.value})),placeholder:"e.g., Most Popular, Recommended",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:N,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Saving...":h?"Update Plan":"Create Plan"})]})]})]})})]}):t.jsxs("div",{children:[t.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[t.jsx("div",{className:"text-sm text-slate-600",children:o.length>0&&t.jsxs("span",{children:["Total Subscribers: ",t.jsx("strong",{children:o.length})]})}),t.jsx("button",{onClick:ce,disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-slate-200 text-slate-700 rounded-xl font-semibold hover:bg-slate-300 transition disabled:opacity-50",children:c?"Loading...":"Refresh"})]}),c?t.jsx("div",{className:"flex justify-center items-center py-12",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):o.length===0?t.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-slate-300 rounded-2xl p-12 text-center",children:[t.jsx("p",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No subscribers yet"}),t.jsx("p",{className:"text-slate-600",children:"Users who purchase AMC plans will appear here."})]}):t.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"User"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Plan"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Transaction ID"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:"Subscribed On"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:o.map((D,z)=>{var se;return t.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-slate-900",children:D.userName||"N/A"}),t.jsx("div",{className:"text-sm text-slate-600",children:D.userEmail||D.userPhone||"N/A"})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"font-medium text-slate-900",children:D.planName||"N/A"})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"font-semibold text-primary",children:["",((se=D.amount)==null?void 0:se.toLocaleString("en-IN"))||"0"]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"font-mono text-xs text-slate-600",children:D.txnid||"N/A"})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-semibold ${D.status==="active"?"bg-green-100 text-green-800":D.status==="expired"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:D.status||"pending"})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:D.subscribedAt?new Date(D.subscribedAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A"})]},z)})})]})})})]})]})})},k5e=()=>{const{token:e}=wr(),[r,s]=g.useState({isReady:!1,isAuthenticated:!1,qrCode:null,autoReconnect:!0,reconnectAttempts:0,isReconnecting:!1}),[a,n]=g.useState(!1),[i,l]=g.useState(null),[o,d]=g.useState(null),[c,u]=g.useState(""),[m,x]=g.useState(""),[h,p]=g.useState(!1),[f,b]=g.useState(!1),j=g.useRef(!1);g.useEffect(()=>{if(w(),!r.isReady||r.isReconnecting){b(!0);const k=setInterval(()=>{w()},15e3);return()=>{clearInterval(k),b(!1)}}else b(!1)},[r.isReady,r.isReconnecting]);const w=async()=>{if(!j.current){j.current=!0;try{const k=await We.getWhatsAppStatus(e);k.success&&s(P=>{const C={isReady:k.isReady||!1,isAuthenticated:k.isAuthenticated||!1,qrCode:k.qrCode||null,autoReconnect:k.autoReconnect!==void 0?k.autoReconnect:!0,reconnectAttempts:k.reconnectAttempts||0,isReconnecting:k.isReconnecting||!1};return P.isReady!==C.isReady||P.isReconnecting!==C.isReconnecting||P.qrCode!==C.qrCode||P.reconnectAttempts!==C.reconnectAttempts?C:P})}catch(k){console.error("Error checking status:",k)}finally{j.current=!1}}},y=async()=>{n(!0),l(null),d(null);try{const k=await We.initializeWhatsApp(e);k.success&&(s({isReady:k.isReady||!1,isAuthenticated:k.isAuthenticated||!1,qrCode:k.qrCode||null}),d("WhatsApp client initialized. Please scan the QR code."),setTimeout(()=>{v()},2e3))}catch(k){l(k.message||"Failed to initialize WhatsApp")}finally{n(!1)}},v=async()=>{try{const k=await We.getWhatsAppQRCode(e);k.success&&s(P=>({...P,qrCode:k.qrCode||null,isReady:k.isReady||!1,isAuthenticated:k.isAuthenticated||!1}))}catch(k){console.error("Error fetching QR code:",k)}},N=async()=>{if(window.confirm("Are you sure you want to disconnect WhatsApp? This will require re-authentication.")){n(!0),l(null),d(null);try{(await We.disconnectWhatsApp(e)).success&&(s({isReady:!1,isAuthenticated:!1,qrCode:null}),d("WhatsApp disconnected successfully"))}catch(k){l(k.message||"Failed to disconnect WhatsApp")}finally{n(!1)}}},S=async()=>{if(!c){l("Please enter a phone number");return}p(!0),l(null),d(null);try{(await We.sendTestWhatsAppMessage(e,c,m||"Test message from Nexo Works")).success&&(d("Test message sent successfully!"),u(""),x(""))}catch(k){l(k.message||"Failed to send test message")}finally{p(!1)}};return t.jsxs("div",{className:"space-y-6",children:[t.jsx(ys,{title:"WhatsApp Settings",subtitle:"Connect WhatsApp to send OTP messages for free"}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Connection Status"}),t.jsx("button",{onClick:w,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:a,children:t.jsx(Dt,{className:`text-slate-600 ${a?"animate-spin":""}`})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"flex items-center gap-4",children:r.isReady?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[t.jsx(vt,{className:"text-2xl"}),t.jsx("span",{className:"font-semibold",children:"Connected"})]}),t.jsx("p",{className:"text-sm text-slate-600",children:"WhatsApp is connected and ready to send OTP messages"})]}):r.isReconnecting?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2 text-yellow-600",children:[t.jsx(Dt,{className:"text-2xl animate-spin"}),t.jsx("span",{className:"font-semibold",children:"Reconnecting..."})]}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Attempting to reconnect automatically (Attempt ",r.reconnectAttempts,"/10)"]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[t.jsx(Qn,{className:"text-2xl"}),t.jsx("span",{className:"font-semibold",children:"Not Connected"})]}),t.jsxs("p",{className:"text-sm text-slate-600",children:["WhatsApp is not connected. ",r.autoReconnect?"Auto-reconnect is enabled.":"Please scan QR code to connect."]})]})}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${r.autoReconnect?"bg-green-500":"bg-gray-400"}`}),t.jsxs("span",{children:["Auto-reconnect: ",r.autoReconnect?"Enabled":"Disabled"]}),r.reconnectAttempts>0&&t.jsxs("span",{className:"ml-2",children:[" Attempts: ",r.reconnectAttempts,"/10"]})]})]})]}),!r.isReady&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Scan QR Code"}),r.qrCode?t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"bg-white p-4 rounded-lg border-2 border-slate-200",children:t.jsx("img",{src:r.qrCode,alt:"WhatsApp QR Code",className:"w-64 h-64"})}),t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Scan this QR code with your WhatsApp"}),t.jsxs("ol",{className:"text-sm text-slate-600 text-left max-w-md mx-auto space-y-1",children:[t.jsx("li",{children:"1. Open WhatsApp on your phone"}),t.jsx("li",{children:"2. Go to Settings  Linked Devices"}),t.jsx("li",{children:'3. Tap "Link a Device"'}),t.jsx("li",{children:"4. Scan this QR code"})]})]})]}):t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-slate-600 mb-4",children:'No QR code available. Click "Initialize" to generate one.'})}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{onClick:y,disabled:a,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:a?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Initializing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(mZ,{}),"Initialize WhatsApp"]})}),r.qrCode&&t.jsx("button",{onClick:v,className:"px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:t.jsx(Dt,{})})]})]}),r.isReady&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Actions"}),t.jsx("div",{className:"space-y-4",children:t.jsxs("button",{onClick:N,disabled:a,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-50 text-red-600 rounded-lg font-semibold hover:bg-red-100 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(uZ,{}),"Disconnect WhatsApp"]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Auto-Reconnect Settings"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-700",children:"Automatic Reconnection"}),t.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Automatically reconnect WhatsApp if connection is lost"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:r.autoReconnect,onChange:async k=>{try{await We.setAutoReconnect(e,k.target.checked),s(P=>({...P,autoReconnect:k.target.checked})),d(`Auto-reconnect ${k.target.checked?"enabled":"disabled"}`)}catch(P){l(P.message||"Failed to update auto-reconnect setting")}},className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),!r.isReady&&t.jsxs("button",{onClick:async()=>{n(!0),l(null),d(null);try{const k=await We.reconnectWhatsApp(e);k.success&&(s(P=>({...P,isReady:k.isReady||!1,isAuthenticated:k.isAuthenticated||!1,qrCode:k.qrCode||null})),d("Reconnection initiated. Please wait..."),setTimeout(()=>w(),3e3))}catch(k){l(k.message||"Failed to reconnect")}finally{n(!1)}},disabled:a||r.isReconnecting,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(Dt,{className:a?"animate-spin":""}),r.isReconnecting?"Reconnecting...":"Manual Reconnect"]})]})]}),r.isReady&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[t.jsx(Uf,{}),"Send Test Message"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Phone Number (with country code, e.g., 919876543210)"}),t.jsx("input",{type:"text",value:c,onChange:k=>u(k.target.value),placeholder:"919876543210",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Message (optional)"}),t.jsx("textarea",{value:m,onChange:k=>x(k.target.value),placeholder:"Test message from Nexo Works",rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),t.jsx("button",{onClick:S,disabled:h||!c,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:h?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Hf,{}),"Send Test Message"]})})]})]}),i&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2 text-red-700",children:[t.jsx(Qn,{}),t.jsx("span",{children:i})]}),o&&t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-2 text-green-700",children:[t.jsx(vt,{}),t.jsx("span",{children:o})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"How it works:"}),t.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[t.jsx("li",{children:' Click "Initialize WhatsApp" to generate a QR code'}),t.jsx("li",{children:" Scan the QR code with your WhatsApp mobile app"}),t.jsx("li",{children:" Once connected, all OTP messages will be sent via WhatsApp instead of SMS"}),t.jsx("li",{children:" This is completely free and doesn't require any SMS API"}),t.jsx("li",{children:" The connection persists until you disconnect or restart the server"})]})]})]})},pz=g.createContext(null),fz={isLoading:!0,isAuthenticated:!1,partner:null,token:null,error:null};function C5e(e,r){var s,a,n;switch(r.type){case"INIT":return{...e,isLoading:!1,isAuthenticated:!!((s=r.payload)!=null&&s.token),partner:((a=r.payload)==null?void 0:a.partner)??null,token:((n=r.payload)==null?void 0:n.token)??null};case"LOGIN_START":return{...e,isLoading:!0,error:null};case"LOGIN_SUCCESS":return{...e,isLoading:!1,isAuthenticated:!0,partner:r.payload.partner,token:r.payload.token,error:null};case"LOGIN_ERROR":return{...e,isLoading:!1,isAuthenticated:!1,partner:null,token:null,error:r.payload};case"LOGOUT":return{...fz,isLoading:!1};case"UPDATE_PARTNER":return{...e,partner:{...e.partner,...r.payload}};default:return e}}const P5e=({children:e})=>{const[r,s]=g.useReducer(C5e,fz);g.useEffect(()=>{(async()=>{var o;const l=localStorage.getItem("nexo_partner_auth");if(l)try{const d=JSON.parse(l);if(s({type:"INIT",payload:d}),d.token)try{const c=await jt.getProfile(d.token);if(c.success&&c.profile){const u={...d.partner,...c.profile,profile:{...(o=d.partner)==null?void 0:o.profile,...c.profile}},m={token:d.token,partner:u};localStorage.setItem("nexo_partner_auth",JSON.stringify(m)),s({type:"UPDATE_PARTNER",payload:u})}}catch(c){console.error("Failed to fetch profile on init:",c)}}catch(d){console.error("Failed to parse partner auth cache",d),localStorage.removeItem("nexo_partner_auth"),s({type:"INIT",payload:null})}else s({type:"INIT",payload:null})})()},[]);const a=f4(jt,r.token,r.isAuthenticated),n=g.useMemo(()=>({...r,notifications:a,login:async(i,l)=>{s({type:"LOGIN_START"});try{const o=await jt.verifyOTP(i,l);if(o.success&&o.partner){let d=o.partner;try{const u=await jt.getProfile(o.partner.token);u.success&&u.profile&&(d={...o.partner,...u.profile,profile:{...o.partner.profile,...u.profile}})}catch(u){console.error("Failed to fetch complete profile:",u)}const c={token:o.partner.token,partner:d};return localStorage.setItem("nexo_partner_auth",JSON.stringify(c)),s({type:"LOGIN_SUCCESS",payload:c}),c}else throw new Error(o.message||"Login failed")}catch(o){const d=(o==null?void 0:o.message)??"Unable to login";throw s({type:"LOGIN_ERROR",payload:d}),new Error(d)}},logout:()=>{localStorage.removeItem("nexo_partner_auth"),s({type:"LOGOUT"})},clearError:()=>s({type:"LOGIN_ERROR",payload:null}),updatePartner:i=>{const l=localStorage.getItem("nexo_partner_auth");if(l)try{const o=JSON.parse(l);o.partner={...o.partner,...i},localStorage.setItem("nexo_partner_auth",JSON.stringify(o)),s({type:"UPDATE_PARTNER",payload:i})}catch(o){console.error("Failed to update partner data",o)}},refreshProfile:async()=>{var i;if(r.token)try{const l=await jt.getProfile(r.token);if(l.success&&l.profile){const o={...r.partner,...l.profile,profile:{...(i=r.partner)==null?void 0:i.profile,...l.profile}},d=localStorage.getItem("nexo_partner_auth");if(d){const c=JSON.parse(d);c.partner=o,localStorage.setItem("nexo_partner_auth",JSON.stringify(c))}return s({type:"UPDATE_PARTNER",payload:o}),o}}catch(l){console.error("Failed to refresh profile:",l)}}}),[r,a]);return t.jsx(pz.Provider,{value:n,children:e})},_n=()=>{const e=g.useContext(pz);if(!e)throw new Error("usePartnerAuth must be used within PartnerAuthProvider");return e},A5e=()=>{const e=Zt(),{login:r,error:s,clearError:a}=_n(),[n,i]=g.useState(1),[l,o]=g.useState({phone:"",otp:""}),[d,c]=g.useState(!1),[u,m]=g.useState(null),[x,h]=g.useState(!1),[p,f]=g.useState(0);_t.useEffect(()=>{let v=null;return p>0&&(v=setInterval(()=>{f(N=>N-1)},1e3)),()=>{v&&clearInterval(v)}},[p]);const b=async v=>{if(v.preventDefault(),m(null),a(),!l.phone||l.phone.length!==10){m("Please enter a valid 10-digit phone number");return}c(!0);try{const N=await jt.sendOTP(l.phone);N.success?(N.otp&&alert(`OTP for testing: ${N.otp}`),h(!0),i(2),f(60)):m(N.message||"Failed to send OTP")}catch(N){m(N.message||"Failed to send OTP. Please try again.")}finally{c(!1)}},j=async()=>{if(!(p>0)){c(!0),m(null);try{const v=await jt.resendOTP(l.phone);v.success?f(60):m(v.message||"Failed to resend OTP")}catch(v){m(v.message||"Failed to resend OTP")}finally{c(!1)}}},w=async v=>{if(v.preventDefault(),m(null),a(),!l.otp||l.otp.length!==6){m("Please enter a valid 6-digit OTP");return}c(!0);let N=null;if("Notification"in window){const S=Notification.permission;if(S==="default"||S==="denied")try{N=Notification.requestPermission()}catch(k){console.error("Cannot request notification permission:",k)}}try{await r(l.phone,l.otp),N&&await N==="granted"&&setTimeout(()=>{window.dispatchEvent(new Event("notificationPermissionGranted"))},500),e("/partner/dashboard",{replace:!0})}catch(S){m(S.message||"Invalid OTP. Please try again.")}finally{c(!1)}},y=v=>{const{name:N,value:S}=v.target;o(k=>({...k,[N]:S.replace(/\D/g,"").slice(0,N==="otp"?6:10)})),m(null),s&&a()};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center px-4 py-10",children:t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-full mb-4",children:t.jsx(Os,{className:"text-2xl text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Partner Login"}),t.jsx("p",{className:"text-slate-300",children:"Welcome back! Please login to continue"})]}),(u||s)&&t.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-xl text-red-200 text-sm",children:u||s}),n===1&&t.jsxs("form",{onSubmit:b,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Phone Number"}),t.jsxs("div",{className:"relative",children:[t.jsx(rn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:y,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0,disabled:d})]})]}),t.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Sending OTP..."]}):t.jsxs(t.Fragment,{children:["Send OTP",t.jsx(us,{})]})})]}),n===2&&t.jsxs("form",{onSubmit:w,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Enter OTP"}),t.jsxs("div",{className:"relative",children:[t.jsx(Os,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",name:"otp",value:l.otp,onChange:y,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-center text-2xl tracking-widest",placeholder:"000000",maxLength:6,required:!0,disabled:d,autoFocus:!0})]}),t.jsxs("p",{className:"mt-2 text-xs text-slate-400 text-center",children:["OTP sent to +91 ",l.phone]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("button",{type:"button",onClick:()=>{i(1),o(v=>({...v,otp:""})),h(!1),f(0)},className:"text-slate-300 hover:text-white transition",children:"Change Number"}),t.jsx("button",{type:"button",onClick:j,disabled:p>0||d,className:"text-primary hover:text-primary-light transition disabled:opacity-50 disabled:cursor-not-allowed",children:p>0?`Resend OTP in ${p}s`:"Resend OTP"})]}),t.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Verifying..."]}):t.jsxs(t.Fragment,{children:["Login",t.jsx(us,{})]})})]}),t.jsx("div",{className:"mt-8 text-center",children:t.jsxs("p",{className:"text-sm text-slate-400",children:["Don't have an account?"," ",t.jsx("button",{onClick:()=>e("/partner/onboard"),className:"text-primary hover:text-primary-light font-semibold transition",children:"Register as Partner"})]})})]})})})},T5e=()=>{const{token:e}=_n(),[r,s]=g.useState(null),[a,n]=g.useState(!0),[i,l]=g.useState(null),[o,d]=g.useState(!1),[c,u]=g.useState(""),[m,x]=g.useState(""),[h,p]=g.useState(!1),[f]=g.useState([500,1e3,2e3,5e3,1e4]);g.useEffect(()=>{b()},[e]);const b=async()=>{if(e){n(!0),l(null);try{const N=await jt.getWallet(e);s((N==null?void 0:N.data)||N)}catch(N){l(N.message||"Failed to fetch wallet")}finally{n(!1)}}},j=async()=>{if(!c||parseFloat(c)<=0){alert("Please enter a valid amount");return}p(!0);try{const N=await jt.topUpWallet(e,parseFloat(c),m||"Topup",`TOPUP-${Date.now()}`);N.success||N.message?(alert("Wallet topped up successfully!"),d(!1),u(""),x(""),await b()):alert(N.message||"Failed to top up wallet")}catch(N){console.error("Top-up error:",N),alert(N.message||"Failed to top up wallet")}finally{p(!1)}};if(a)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(i)return t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[t.jsx("p",{className:"text-red-600",children:i}),t.jsx("button",{onClick:b,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Retry"})]});const w=(r==null?void 0:r.balance)||0,y=(r==null?void 0:r.transactions)||[],v=(r==null?void 0:r.mgPlan)||null;return t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Wallet"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your wallet balance and transactions"})]}),t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[t.jsxs("button",{onClick:()=>d(!0),className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2 shadow-lg text-sm sm:text-base",children:[t.jsx(Tr,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Top Up Wallet"}),t.jsx("span",{className:"sm:hidden",children:"Top Up"})]}),t.jsx("button",{onClick:b,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200",children:t.jsx(Dt,{className:"text-lg sm:text-xl text-slate-600"})})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-primary to-primary-dark rounded-2xl shadow-xl p-6 sm:p-8 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white/80 text-xs sm:text-sm mb-1",children:"Current Balance"}),t.jsxs("h2",{className:"text-3xl sm:text-4xl font-bold",children:["",w.toLocaleString("en-IN")]})]}),t.jsx("div",{className:"bg-white/20 p-3 sm:p-4 rounded-xl",children:t.jsx(Jt,{className:"text-3xl sm:text-4xl"})})]}),v&&t.jsxs("div",{className:"bg-white/10 rounded-xl p-4 mt-4",children:[t.jsxs("p",{className:"text-sm text-white/80 mb-2",children:["Active Plan: ",v.name]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{children:["Leads Remaining: ",v.leadsRemaining||0]}),t.jsxs("span",{children:["Lead Fee: ",v.leadFee||0]})]})]}),(r==null?void 0:r.minWalletBalance)&&w<r.minWalletBalance&&t.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/50 rounded-xl p-4 mt-4",children:t.jsxs("p",{className:"text-sm text-yellow-100",children:[" Wallet balance is below minimum threshold (",r.minWalletBalance,"). Recharge to continue accepting leads."]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4",children:[t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Recent Transactions"}),y.length>0&&t.jsxs("button",{onClick:()=>{const N=y.map(S=>{var k,P;return{"Date & Time":S.createdAt?new Date(S.createdAt).toLocaleString("en-IN"):"N/A",Type:((k=S.type)==null?void 0:k.charAt(0).toUpperCase())+((P=S.type)==null?void 0:P.slice(1))||"N/A","Amount ()":S.amount||0,"Balance ()":S.balance||0,Description:S.description||"N/A",Reference:S.reference||"N/A"}});$d(N,[{header:"Date & Time",accessor:"Date & Time"},{header:"Type",accessor:"Type"},{header:"Amount ()",accessor:"Amount ()"},{header:"Balance ()",accessor:"Balance ()"},{header:"Description",accessor:"Description"},{header:"Reference",accessor:"Reference"}],"Wallet_Transactions","Transactions",{columnWidths:[20,12,15,15,30,20]})},className:"px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-semibold bg-primary text-white hover:bg-primary-dark transition inline-flex items-center gap-2 self-start sm:self-auto",title:"Export to Excel",children:[t.jsx(Na,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Export Excel"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})]}),y.length===0?t.jsxs("div",{className:"text-center py-8 text-slate-500",children:[t.jsx(Jt,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No transactions yet"})]}):t.jsx("div",{className:"space-y-3",children:y.slice(0,10).map((N,S)=>{var k,P;return t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1",children:[t.jsx("div",{className:`p-2 sm:p-3 rounded-lg flex-shrink-0 ${N.type==="credit"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:N.type==="credit"?t.jsx(or,{className:"text-lg sm:text-xl"}):t.jsx(cd,{className:"text-lg sm:text-xl"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 text-sm sm:text-base truncate",children:N.description||"Transaction"}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-500",children:N.createdAt?new Date(N.createdAt).toLocaleString("en-IN"):new Date().toLocaleString("en-IN")})]})]}),t.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[t.jsxs("p",{className:`font-bold text-lg sm:text-xl ${N.type==="credit"?"text-green-600":"text-red-600"}`,children:[N.type==="credit"?"+":"-","",((k=N.amount)==null?void 0:k.toLocaleString("en-IN"))||0]}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-500",children:["Balance: ",((P=N.balance)==null?void 0:P.toLocaleString("en-IN"))||0]})]})]},S)})})]}),o&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-4 sm:p-6 my-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Top Up Wallet"}),t.jsx("button",{onClick:()=>{d(!1),u(""),x("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"text-lg sm:text-xl"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Amount ()"}),t.jsx("input",{type:"number",value:c,onChange:N=>u(N.target.value),placeholder:"Enter amount",min:"1",step:"0.01",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Quick Select"}),t.jsx("div",{className:"grid grid-cols-5 gap-2",children:f.map(N=>t.jsxs("button",{onClick:()=>u(N.toString()),className:`px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold transition ${c===N.toString()?"bg-primary text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:["",N]},N))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description (Optional)"}),t.jsx("input",{type:"text",value:m,onChange:N=>x(N.target.value),placeholder:"Add a note for this transaction",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Current Balance:"}),t.jsxs("span",{className:"font-bold text-slate-800",children:["",w.toLocaleString("en-IN")]})]}),c&&parseFloat(c)>0&&t.jsxs("div",{className:"flex items-center justify-between text-sm mt-2",children:[t.jsx("span",{className:"text-slate-600",children:"After Top-up:"}),t.jsxs("span",{className:"font-bold text-green-600",children:["",(w+parseFloat(c)).toLocaleString("en-IN")]})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{onClick:j,disabled:h||!c||parseFloat(c)<=0,className:"flex-1 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Processing...":"Top Up"}),t.jsx("button",{onClick:()=>{d(!1),u(""),x("")},className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"})]})]})]})})]})},E5e=({member:e,partner:r,onClose:s})=>{var f;const a=g.useRef(null),[n,i]=g.useState(!1),l=async()=>{var C;const b=(C=a.current)==null?void 0:C.querySelector("svg");let j="";if(b){const I=new XMLSerializer().serializeToString(b),A=new Blob([I],{type:"image/svg+xml;charset=utf-8"}),O=URL.createObjectURL(A),R=new Image;await new Promise(Z=>{R.onload=()=>{const Y=document.createElement("canvas");Y.width=R.width,Y.height=R.height,Y.getContext("2d").drawImage(R,0,0),j=Y.toDataURL("image/png"),URL.revokeObjectURL(O),Z()},R.onerror=()=>Z(),R.src=O})}const w=a.current;if(!w)return;const y=w.cloneNode(!0);n&&y.classList.add("id-card-cut");const v=(I,A)=>{const O=window.getComputedStyle(I);Array.from(O).forEach(R=>{A.style.setProperty(R,O.getPropertyValue(R),O.getPropertyPriority(R))})},N=y.querySelectorAll("*"),S=w.querySelectorAll("*");if(N.forEach((I,A)=>{S[A]&&v(S[A],I)}),v(w,y),j){const I=y.querySelector("svg");if(I&&I.parentNode){const A=document.createElement("img");A.src=j,A.style.width="65px",A.style.height="65px",A.style.display="block",I.parentNode.replaceChild(A,I)}}const k=window.open("","_blank"),P=y.outerHTML;k.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Team Member ID Card - Nexo</title>
          <style>
            @media print {
              @page {
                size: A4;
                margin: 0;
              }
              body {
                margin: 0;
                padding: 0;
                display: flex;
                justify-content: center;
                align-items: flex-start;
                min-height: 100vh;
                padding-top: 30px;
              }
              .id-card {
                transform: scale(1.8);
                transform-origin: top center;
                margin: 0 auto;
              }
            }
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
              background: #f5f5f5;
            }
            .id-card {
              width: 85.6mm;
              height: 53.98mm;
              background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
              border-radius: 12px;
              padding: 10px;
              box-shadow: 0 10px 40px rgba(79, 70, 229, 0.4);
              position: relative;
              overflow: hidden;
            }
            .id-card-cut {
              height: 70mm;
              overflow: visible;
            }
            .id-card-cut::after {
              content: '';
              position: absolute;
              bottom: 16mm;
              left: 5mm;
              right: 5mm;
              height: 1px;
              border-top: 1px dashed rgba(255,255,255,0.6);
            }
            .id-card::before {
              content: '';
              position: absolute;
              top: -50%;
              right: -50%;
              width: 200%;
              height: 200%;
              background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%);
            }
            .id-card::after {
              content: '';
              position: absolute;
              bottom: 0;
              left: 0;
              right: 0;
              height: 3px;
              background: linear-gradient(90deg, #4F46E5 0%, #7C3AED 50%, #4F46E5 100%);
            }
            .id-card-content {
              position: relative;
              z-index: 1;
              display: flex;
              height: 100%;
              background: white;
              border-radius: 8px;
              padding: 8px;
              box-shadow: inset 0 0 20px rgba(79, 70, 229, 0.1);
            }
            .id-card-cut .id-card-content {
              height: calc(100% - 16mm);
              margin-bottom: 16mm;
            }
            .id-card-tear-section {
              position: absolute;
              bottom: 0;
              left: 0;
              right: 0;
              height: 16mm;
              background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
              border-radius: 0 0 12px 12px;
              padding: 4px 8px;
              display: flex;
              flex-direction: column;
              justify-content: center;
              align-items: center;
              gap: 2px;
              z-index: 5;
              font-size: 6px;
              color: rgba(255,255,255,0.9);
              text-align: center;
            }
            .id-card-left {
              flex: 1;
              display: flex;
              flex-direction: column;
              justify-content: space-between;
              padding-right: 8px;
            }
            .id-card-header {
              display: flex;
              align-items: center;
              gap: 6px;
              margin-bottom: 6px;
              padding-bottom: 6px;
              border-bottom: 2px solid #4F46E5;
            }
            .id-card-logo {
              width: 28px;
              height: 28px;
              background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
              border-radius: 4px;
              display: flex;
              align-items: center;
              justify-content: center;
              color: white;
              font-weight: 800;
              font-size: 11px;
              letter-spacing: 0.5px;
            }
            .id-card-title {
              font-size: 9px;
              font-weight: 800;
              color: #4F46E5;
              text-transform: uppercase;
              letter-spacing: 1.2px;
            }
            .id-card-photo {
              width: 65px;
              height: 65px;
              border-radius: 8px;
              border: 3px solid #4F46E5;
              object-fit: cover;
              margin: 6px 0;
              box-shadow: 0 2px 8px rgba(79, 70, 229, 0.2);
            }
            .id-card-name {
              font-size: 15px;
              font-weight: 800;
              color: #1a202c;
              margin-bottom: 4px;
              letter-spacing: 0.3px;
            }
            .id-card-details {
              font-size: 8.5px;
              color: #4a5568;
              line-height: 1.5;
            }
            .id-card-detail-item {
              margin-bottom: 3px;
              display: flex;
              align-items: center;
              gap: 4px;
            }
            .id-card-detail-item strong {
              color: #4F46E5;
              font-weight: 700;
              min-width: 45px;
            }
            .id-card-right {
              width: 85px;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              gap: 6px;
              border-left: 2px dashed #e2e8f0;
              padding-left: 8px;
            }
            .id-card-qr {
              width: 75px;
              height: 75px;
              padding: 5px;
              background: white;
              border-radius: 6px;
              border: 2px solid #4F46E5;
              display: flex;
              align-items: center;
              justify-content: center;
              box-shadow: 0 2px 8px rgba(79, 70, 229, 0.15);
            }
            .id-card-verified {
              font-size: 7px;
              color: #48bb78;
              text-align: center;
              font-weight: 700;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 3px;
              background: #f0fdf4;
              padding: 3px 6px;
              border-radius: 4px;
              border: 1px solid #86efac;
            }
            .id-card-id {
              font-size: 7.5px;
              color: #4F46E5;
              text-align: center;
              font-weight: 700;
              letter-spacing: 0.5px;
            }
            .id-card-footer {
              font-size: 6.5px;
              color: #718096;
              text-align: center;
              margin-top: 2px;
            }
          </style>
        </head>
        <body>
          ${P}
        </body>
      </html>
    `),k.document.close(),setTimeout(()=>{k.print()},250)},o=(e._id||e.id||"").toString().slice(-8).toUpperCase(),d=`${window.location.origin}/verify/team-member/${e._id||e.id}`,c=e.name||"Team Member",u=e.phone||"N/A",m=e.city||"N/A",x=(e.role||"technician").toUpperCase(),h=e.profilePicture?e.profilePicture.startsWith("http")?e.profilePicture:`http://localhost:9088/${e.profilePicture}`:null,p=((f=e.kyc)==null?void 0:f.status)==="approved"||e.status==="active";return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-lg w-full",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-primary mb-1",children:"Team Member ID Card"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Professional identification card with QR verification"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>i(!n),className:`px-4 py-2 rounded-lg font-semibold transition flex items-center gap-2 ${n?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,title:n?"Switch to Regular Card":"Switch to Cut Card",children:[t.jsx(dZ,{}),n?"Cut Card":"Regular Card"]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:t.jsx(xt,{className:"text-xl"})})]})]}),t.jsx("div",{className:"flex justify-center mb-6 bg-gradient-to-br from-slate-50 to-slate-100 p-8 rounded-xl",children:t.jsxs("div",{ref:a,className:"id-card",style:{width:"85.6mm",height:n?"70mm":"53.98mm",background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",borderRadius:"12px",padding:"10px",boxShadow:"0 10px 40px rgba(79, 70, 229, 0.4)",position:"relative",overflow:n?"visible":"hidden"},children:[n&&t.jsx("div",{style:{position:"absolute",bottom:"16mm",left:"5mm",right:"5mm",height:"1px",borderTop:"1px dashed #fff",opacity:.6,zIndex:10}}),n&&t.jsxs("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"16mm",background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",borderRadius:"0 0 12px 12px",padding:"4px 8px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"2px",zIndex:5},children:[t.jsx("div",{style:{fontSize:"6px",color:"rgba(255,255,255,0.9)",fontWeight:600,textAlign:"center",letterSpacing:"0.5px"},children:"TEAR HERE"}),t.jsx("div",{style:{fontSize:"5.5px",color:"rgba(255,255,255,0.7)",textAlign:"center",marginTop:"2px"},children:o}),t.jsx("div",{style:{fontSize:"5px",color:"rgba(255,255,255,0.6)",textAlign:"center",marginTop:"1px"},children:"Keep this section for records"})]}),t.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 20% 20%, rgba(255,255,255,0.15) 0%, transparent 50%)",pointerEvents:"none"}}),t.jsxs("div",{className:"id-card-content",style:{position:"relative",zIndex:1,display:"flex",height:"100%",background:"white",borderRadius:"8px",padding:"8px",boxShadow:"inset 0 0 20px rgba(79, 70, 229, 0.1)"},children:[t.jsx("div",{className:"id-card-left",style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",paddingRight:"8px"},children:t.jsxs("div",{children:[t.jsxs("div",{className:"id-card-header",style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"6px",paddingBottom:"6px",borderBottom:"2px solid #4F46E5"},children:[t.jsx("div",{className:"id-card-logo",style:{width:"28px",height:"28px",background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:800,fontSize:"11px",letterSpacing:"0.5px"},children:"NEXO"}),t.jsx("div",{className:"id-card-title",style:{fontSize:"9px",fontWeight:800,color:"#4F46E5",textTransform:"uppercase",letterSpacing:"1.2px"},children:"Team Member"})]}),h?t.jsx("img",{src:h,alt:c,className:"id-card-photo",style:{width:"65px",height:"65px",borderRadius:"8px",border:"3px solid #4F46E5",objectFit:"cover",margin:"6px 0",boxShadow:"0 2px 8px rgba(79, 70, 229, 0.2)"}}):t.jsx("div",{className:"id-card-photo",style:{width:"65px",height:"65px",borderRadius:"8px",border:"3px solid #4F46E5",background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"24px",margin:"6px 0",boxShadow:"0 2px 8px rgba(79, 70, 229, 0.2)"},children:c.charAt(0).toUpperCase()}),t.jsx("div",{className:"id-card-name",style:{fontSize:"15px",fontWeight:800,color:"#1a202c",marginBottom:"4px",letterSpacing:"0.3px"},children:c}),t.jsxs("div",{className:"id-card-details",style:{fontSize:"8.5px",color:"#4a5568",lineHeight:1.5},children:[t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#4F46E5",fontWeight:700,minWidth:"45px"},children:"ID:"}),t.jsx("span",{children:o})]}),t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#4F46E5",fontWeight:700,minWidth:"45px"},children:"Role:"}),t.jsx("span",{children:x})]}),t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#4F46E5",fontWeight:700,minWidth:"45px"},children:"Phone:"}),t.jsx("span",{children:u})]}),m!=="N/A"&&t.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("strong",{style:{color:"#4F46E5",fontWeight:700,minWidth:"45px"},children:"City:"}),t.jsx("span",{children:m})]})]})]})}),t.jsxs("div",{className:"id-card-right",style:{width:"85px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"6px",borderLeft:"2px dashed #e2e8f0",paddingLeft:"8px"},children:[t.jsx("div",{className:"id-card-qr",style:{width:"75px",height:"75px",padding:"5px",background:"white",borderRadius:"6px",border:"2px solid #4F46E5",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(79, 70, 229, 0.15)"},children:t.jsx(K6,{value:d,size:65,level:"H",includeMargin:!1})}),p&&t.jsxs("div",{className:"id-card-verified",style:{fontSize:"7px",color:"#48bb78",textAlign:"center",fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",gap:"3px",background:"#f0fdf4",padding:"3px 6px",borderRadius:"4px",border:"1px solid #86efac"},children:[t.jsx(vt,{style:{fontSize:"8px"}}),"Verified"]}),t.jsx("div",{className:"id-card-id",style:{fontSize:"7.5px",color:"#4F46E5",textAlign:"center",fontWeight:700,letterSpacing:"0.5px"},children:"Scan to Verify"}),t.jsx("div",{className:"id-card-footer",style:{fontSize:"6.5px",color:"#718096",textAlign:"center",marginTop:"2px"},children:"nexo.works"})]})]})]})}),t.jsxs("div",{className:"flex gap-3 justify-center mt-6",children:[t.jsxs("button",{onClick:l,className:"px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2 shadow-lg",children:[t.jsx(Zo,{})," Print ID Card"]}),t.jsxs("button",{onClick:s,className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center gap-2",children:[t.jsx(xt,{})," Close"]})]}),t.jsx("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg border border-indigo-200",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Ja,{className:"text-indigo-600 text-xl flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-indigo-600 mb-1",children:"Verification Features"}),t.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[t.jsx("li",{children:" QR code links to public verification page"}),t.jsx("li",{children:" Anyone can scan to verify team member status"}),t.jsx("li",{children:" Shows verification status and credentials"}),t.jsx("li",{children:" Professional ID card format for printing"})]})]})]})})]})})},I5e=()=>{const{token:e}=_n(),[r,s]=g.useState([]),[a,n]=g.useState(!1),[i,l]=g.useState(null),[o,d]=g.useState(!1),[c,u]=g.useState(null),[m,x]=g.useState({}),[h,p]=g.useState({}),[f,b]=g.useState(null);g.useEffect(()=>{e&&(j(),w(),y())},[e]);const j=async()=>{if(e){d(!0);try{const V=await jt.getTeamMembers(e),G=(V==null?void 0:V.data)||V||[];s(Array.isArray(G)?G:[])}catch(V){console.error("Failed to fetch team members:",V),s([])}finally{d(!1)}}},w=async()=>{try{const V=await jt.getAvailableHubs(e),G=(V==null?void 0:V.data)||V||[];R(Array.isArray(G)?G:[])}catch(V){console.error("Failed to fetch hubs:",V),R([])}},y=async()=>{try{const V=await jt.getCategories(e),G=(V==null?void 0:V.categories)||(V==null?void 0:V.data)||V||[];Y(Array.isArray(G)?G:[])}catch(V){console.error("Failed to fetch categories:",V),Y([])}},[v,N]=g.useState({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),[S,k]=g.useState(null),[P,C]=g.useState({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),[I,A]=g.useState({}),[O,R]=g.useState([]),[Z,Y]=g.useState([]),[ce,D]=g.useState(!1),z=async()=>{if(!v.name||!v.phone){alert("Please fill in all required fields");return}if(!e){alert("Authentication required");return}d(!0);try{const V={...v,profilePicture:v.profilePicture,kycData:P},G=await jt.addTeamMember(e,V);G.success?(await j(),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),k(null),C({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),n(!1),D(!1),alert("Team member added successfully!")):alert(G.message||"Failed to add team member")}catch(V){console.error("Failed to add team member:",V),alert(V.message||"Failed to add team member")}finally{d(!1)}},se=V=>{l(V),N({name:V.name||"",email:V.email||"",phone:V.phone||"",whatsappNumber:V.whatsappNumber||"",qualification:V.qualification||"",experience:V.experience||"",address:V.address||"",city:V.city||"",pincode:V.pincode||"",role:V.role||"technician",profilePicture:null,categories:V.categories||[],categoryNames:V.categoryNames||[],hubs:V.hubs||[]}),k(V.profilePicture||null),C(V.kycData||{panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A(V.kyc||{}),n(!0)},K=V=>{const G=V.target.files[0];if(G){N({...v,profilePicture:G});const te=new FileReader;te.onloadend=()=>{k(te.result)},te.readAsDataURL(G)}},_=(V,G)=>{if(G){C(pe=>({...pe,[V]:G}));const te=new FileReader;te.onloadend=()=>{A(pe=>({...pe,[V]:te.result}))},te.readAsDataURL(G)}},M=(V,G)=>{(v.categories||[]).includes(V)?N(pe=>({...pe,categories:(pe.categories||[]).filter(ye=>ye!==V),categoryNames:(pe.categoryNames||[]).filter(ye=>ye!==G)})):N(pe=>({...pe,categories:[...pe.categories||[],V],categoryNames:[...pe.categoryNames||[],G]}))},F=V=>{(v.hubs||[]).includes(V)?N(te=>({...te,hubs:(te.hubs||[]).filter(pe=>pe!==V)})):N(te=>({...te,hubs:[...te.hubs||[],V]}))},B=async()=>{if(!v.name||!v.phone){alert("Please fill in all required fields");return}if(!e||!i){alert("Authentication required");return}const V=i._id||i.id;if(!V){alert("Invalid team member");return}d(!0);try{const G={...v,profilePicture:v.profilePicture,kycData:P},te=await jt.updateTeamMember(e,V,G);te.success?(await j(),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),k(null),C({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),l(null),n(!1),D(!1),alert("Team member updated successfully!")):alert(te.message||"Failed to update team member")}catch(G){console.error("Failed to update team member:",G),alert(G.message||"Failed to update team member")}finally{d(!1)}},q=async V=>{if(!window.confirm("Are you sure you want to remove this team member?"))return;if(!e){alert("Authentication required");return}const G=V._id||V.id;if(!G){alert("Invalid team member");return}d(!0);try{const te=await jt.deleteTeamMember(e,G);te.success?(await j(),alert("Team member deleted successfully!")):alert(te.message||"Failed to delete team member")}catch(te){console.error("Failed to delete team member:",te),alert(te.message||"Failed to delete team member")}finally{d(!1)}},ae=async V=>{const G=V._id||V.id;if(!(!G||!e)){if(m[G]){u(V);return}p(te=>({...te,[G]:!0}));try{const te=await jt.getTeamMemberActivities(e,G),pe=(te==null?void 0:te.data)||te||[];x(ye=>({...ye,[G]:pe})),u(V)}catch(te){console.error("Failed to fetch activities:",te),x(pe=>({...pe,[G]:[]})),u(V)}finally{p(te=>({...te,[G]:!1}))}}};return t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Team Members"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your team members and technicians"})]}),t.jsxs("button",{onClick:()=>{l(null),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),k(null),C({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),D(!1),n(!0)},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2 text-sm sm:text-base self-start sm:self-auto",children:[t.jsx(Vf,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Add Team Member"}),t.jsx("span",{className:"sm:hidden",children:"Add Member"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Total Members"}),t.jsx(Lr,{className:"text-primary text-lg sm:text-xl"})]}),t.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:r.length})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Active Members"}),t.jsx(Lr,{className:"text-green-600 text-lg sm:text-xl"})]}),t.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-green-600",children:r.filter(V=>V.status==="active").length})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Technicians"}),t.jsx(Lr,{className:"text-blue-600 text-lg sm:text-xl"})]}),t.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-blue-600",children:r.filter(V=>V.role==="technician").length})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden",children:[r.length>0&&t.jsx("div",{className:"p-3 sm:p-4 border-b border-slate-200 flex items-center justify-end",children:t.jsxs("button",{onClick:()=>{const V=r.map(G=>{var te;return{Name:G.name||"N/A",Phone:G.phone||"N/A",Email:G.email||"N/A",WhatsApp:G.whatsappNumber||"N/A",Role:G.role||"N/A",Status:G.status||"N/A",Qualification:G.qualification||"N/A",Experience:G.experience||"N/A",Address:G.address||"N/A",City:G.city||"N/A",Pincode:G.pincode||"N/A",Categories:((te=G.categoryNames)==null?void 0:te.join(", "))||"N/A","Joined Date":G.joinedDate?new Date(G.joinedDate).toLocaleDateString("en-IN"):"N/A"}});$d(V,[{header:"Name",accessor:"Name"},{header:"Phone",accessor:"Phone"},{header:"Email",accessor:"Email"},{header:"WhatsApp",accessor:"WhatsApp"},{header:"Role",accessor:"Role"},{header:"Status",accessor:"Status"},{header:"Qualification",accessor:"Qualification"},{header:"Experience",accessor:"Experience"},{header:"Address",accessor:"Address"},{header:"City",accessor:"City"},{header:"Pincode",accessor:"Pincode"},{header:"Categories",accessor:"Categories"},{header:"Joined Date",accessor:"Joined Date"}],"Team_Members","Team Members",{columnWidths:[20,15,25,15,12,12,20,15,30,15,10,30,15]})},className:"px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-semibold bg-primary text-white hover:bg-primary-dark transition inline-flex items-center gap-2",title:"Export to Excel",type:"button",children:[t.jsx(Na,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Export Excel"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})}),r.length===0?t.jsxs("div",{className:"p-12 text-center text-slate-500",children:[t.jsx(Lr,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"mb-4",children:"No team members added yet"}),t.jsx("button",{onClick:()=>{l(null),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),k(null),C({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),D(!1),n(!0)},className:"px-6 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition",children:"Add Your First Team Member"})]}):o?t.jsx("div",{className:"p-12 text-center text-slate-500",children:t.jsx("p",{children:"Loading team members..."})}):t.jsx("div",{className:"divide-y divide-slate-200",children:r.map(V=>{const G=V._id||V.id,te=V.categoryNames||V.categories&&V.categories.map(ye=>typeof ye=="object"?ye.name:ye)||[],pe=V.hubs||[];return t.jsx("div",{className:"p-3 sm:p-4 hover:bg-slate-50 transition",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 flex-1 min-w-0",children:[V.profilePicture?t.jsx("img",{src:V.profilePicture,alt:V.name,className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full object-cover border-2 border-primary/20 flex-shrink-0"}):t.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-lg sm:text-xl border-2 border-primary/20 flex-shrink-0",children:V.name.charAt(0).toUpperCase()}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-2",children:[t.jsx("h3",{className:"text-base sm:text-lg font-bold text-slate-800 truncate",children:V.name}),t.jsx("span",{className:"px-2 py-1 bg-slate-100 rounded text-xs font-semibold whitespace-nowrap",children:V.role||"technician"}),V.kyc&&t.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs font-semibold flex items-center gap-1 whitespace-nowrap",children:[t.jsx(Ja,{className:"text-xs"}),"KYC"]}),V.status==="active"&&t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs font-semibold whitespace-nowrap",children:"Active"})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 text-xs sm:text-sm text-slate-600 mb-2",children:[V.email&&t.jsxs("span",{className:"flex items-center gap-1 truncate max-w-full",children:[t.jsx(tn,{className:"text-xs flex-shrink-0"}),t.jsx("span",{className:"truncate",children:V.email})]}),V.phone&&t.jsxs("span",{className:"flex items-center gap-1 whitespace-nowrap",children:[t.jsx(rn,{className:"text-xs flex-shrink-0"}),V.phone]}),V.city&&t.jsxs("span",{className:"flex items-center gap-1 whitespace-nowrap",children:[t.jsx(Pr,{className:"text-xs flex-shrink-0"}),V.city]})]}),te.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:te.map((ye,he)=>t.jsxs("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded text-xs font-medium flex items-center gap-1",children:[t.jsx(s4,{className:"text-xs flex-shrink-0"}),t.jsx("span",{className:"truncate",children:typeof ye=="object"?ye.name:ye})]},he))}),pe.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:pe.map((ye,he)=>{var Ie,Se;const Qe=typeof ye=="object"?ye.name:((Ie=O.find(we=>(we._id||we.id)===ye))==null?void 0:Ie.name)||ye,W=typeof ye=="object"?ye.city:((Se=O.find(we=>(we._id||we.id)===ye))==null?void 0:Se.city)||"";return t.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium flex items-center gap-1",children:[t.jsx(e4,{className:"text-xs flex-shrink-0"}),t.jsxs("span",{className:"truncate",children:[Qe," ",W&&`(${W})`]})]},he)})})]}),t.jsx("div",{className:"hidden lg:block opacity-40 flex-shrink-0",children:t.jsx(ai,{className:"scale-50"})})]}),t.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-wrap sm:flex-nowrap flex-shrink-0 self-start sm:self-auto",children:[t.jsx("button",{onClick:()=>b(V),className:"p-2 hover:bg-green-50 rounded-lg text-green-600 transition flex-shrink-0",title:"View ID Card",type:"button",children:t.jsx(xs,{className:"text-base sm:text-lg"})}),t.jsx("button",{onClick:()=>ae(V),className:"p-2 hover:bg-purple-50 rounded-lg text-purple-600 transition flex-shrink-0",title:"View Activities",type:"button",children:t.jsx(Wc,{className:"text-base sm:text-lg"})}),t.jsx("button",{onClick:()=>se(V),className:"p-2 hover:bg-blue-50 rounded-lg text-blue-600 transition flex-shrink-0",title:"Edit Member",type:"button",children:t.jsx(Cs,{className:"text-base sm:text-lg"})}),t.jsx("button",{onClick:()=>q(V),className:"p-2 hover:bg-red-50 rounded-lg text-red-600 transition flex-shrink-0",title:"Delete Member",type:"button",children:t.jsx(la,{className:"text-base sm:text-lg"})})]})]})},G)})})]}),a&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-3 sm:p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full p-4 sm:p-6 my-auto max-h-[95vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:i?"Edit Team Member":"Add Team Member"}),t.jsx("button",{onClick:()=>{n(!1),l(null),N({name:"",email:"",phone:"",role:"technician",profilePicture:null}),k(null)},className:"p-2 hover:bg-slate-100 rounded-lg transition flex-shrink-0",type:"button",children:t.jsx(xt,{className:"text-lg sm:text-xl"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Profile Picture"}),t.jsxs("div",{className:"flex items-center gap-4",children:[S?t.jsx("img",{src:S,alt:"Preview",className:"w-20 h-20 rounded-full object-cover border-2 border-primary/20"}):t.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-2xl border-2 border-primary/20",children:v.name?v.name.charAt(0).toUpperCase():"?"}),t.jsxs("label",{className:"px-4 py-2 bg-primary text-white rounded-lg cursor-pointer hover:bg-primary-dark transition flex items-center gap-2",children:[t.jsx(c0,{}),S?"Change":"Upload"," Photo",t.jsx("input",{type:"file",accept:"image/*",onChange:K,className:"hidden"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:v.name,onChange:V=>N({...v,name:V.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter name"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Phone ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"tel",value:v.phone,onChange:V=>N({...v,phone:V.target.value.replace(/\D/g,"").slice(0,10)}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number",maxLength:10})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email"}),t.jsx("input",{type:"email",value:v.email,onChange:V=>N({...v,email:V.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"WhatsApp Number"}),t.jsx("input",{type:"tel",value:v.whatsappNumber,onChange:V=>N({...v,whatsappNumber:V.target.value.replace(/\D/g,"").slice(0,10)}),className:"w-full px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"WhatsApp number"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Qualification"}),t.jsx("input",{type:"text",value:v.qualification,onChange:V=>N({...v,qualification:V.target.value}),className:"w-full px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Qualification"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Experience (Years)"}),t.jsx("input",{type:"number",value:v.experience,onChange:V=>N({...v,experience:V.target.value}),className:"w-full px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Years"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),t.jsx("input",{type:"text",value:v.city,onChange:V=>N({...v,city:V.target.value}),className:"w-full px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"City"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Address"}),t.jsx("textarea",{value:v.address,onChange:V=>N({...v,address:V.target.value}),rows:2,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Full address"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:v.pincode,onChange:V=>N({...v,pincode:V.target.value.replace(/\D/g,"").slice(0,6)}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"6-digit pincode",maxLength:6})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Categories"}),t.jsx("div",{className:"max-h-40 overflow-y-auto p-3 bg-slate-50 rounded-lg border border-slate-200 grid grid-cols-1 sm:grid-cols-2 gap-2",children:Z.length>0?Z.map(V=>{const G=(v.categories||[]).includes(V._id||V.id);return t.jsxs("label",{className:`flex items-center gap-2 p-2 rounded cursor-pointer border-2 transition ${G?"bg-primary/10 border-primary":"bg-white border-slate-200 hover:border-primary/50"}`,children:[t.jsx("input",{type:"checkbox",checked:G,onChange:()=>M(V._id||V.id,V.name),className:"w-4 h-4 text-primary rounded focus:ring-primary"}),t.jsx("span",{className:"text-sm font-medium text-slate-800",children:V.name})]},V._id||V.id)}):t.jsx("div",{className:"col-span-2 text-center text-sm text-slate-500 py-4",children:"No service categories available"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Hubs"}),t.jsx("div",{className:"max-h-40 overflow-y-auto p-3 bg-slate-50 rounded-lg border border-slate-200 space-y-2",children:O.length>0?O.map(V=>{const G=(v.hubs||[]).includes(V._id||V.id);return t.jsxs("label",{className:`flex items-center justify-between p-2 rounded cursor-pointer border-2 transition ${G?"bg-primary/10 border-primary":"bg-white border-slate-200 hover:border-primary/50"}`,children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-slate-800",children:V.name}),t.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:[V.city,", ",V.state]})]}),t.jsx("input",{type:"checkbox",checked:G,onChange:()=>F(V._id||V.id),className:"w-4 h-4 text-primary rounded focus:ring-primary"})]},V._id||V.id)}):t.jsx("div",{className:"text-center text-sm text-slate-500 py-4",children:"No service hubs available"})})]}),t.jsx("div",{children:t.jsxs("button",{type:"button",onClick:()=>D(!ce),className:"w-full px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center justify-between",children:[t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Ja,{}),"KYC Documents ",ce?"(Hide)":"(Show)"]}),t.jsx("span",{children:ce?"":"+"})]})}),ce&&t.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsx("h4",{className:"font-semibold text-slate-800",children:"KYC Documents"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"PAN Card"}),I.panCard&&t.jsx("img",{src:I.panCard,alt:"PAN",className:"w-full h-20 object-cover rounded mb-1"}),t.jsxs("label",{className:"block w-full px-3 py-2 border-2 border-dashed border-slate-300 rounded cursor-pointer hover:border-primary transition text-center text-xs",children:[t.jsx(Gt,{className:"inline mr-1"}),I.panCard?"Change":"Upload"," PAN",t.jsx("input",{type:"file",accept:"image/*",onChange:V=>_("panCard",V.target.files[0]),className:"hidden"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Aadhaar Front"}),I.aadhaar&&t.jsx("img",{src:I.aadhaar,alt:"Aadhaar",className:"w-full h-20 object-cover rounded mb-1"}),t.jsxs("label",{className:"block w-full px-3 py-2 border-2 border-dashed border-slate-300 rounded cursor-pointer hover:border-primary transition text-center text-xs",children:[t.jsx(Gt,{className:"inline mr-1"}),I.aadhaar?"Change":"Upload"," Aadhaar",t.jsx("input",{type:"file",accept:"image/*",onChange:V=>_("aadhaar",V.target.files[0]),className:"hidden"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Aadhaar Back"}),I.aadhaarback&&t.jsx("img",{src:I.aadhaarback,alt:"Aadhaar Back",className:"w-full h-20 object-cover rounded mb-1"}),t.jsxs("label",{className:"block w-full px-3 py-2 border-2 border-dashed border-slate-300 rounded cursor-pointer hover:border-primary transition text-center text-xs",children:[t.jsx(Gt,{className:"inline mr-1"}),I.aadhaarback?"Change":"Upload"," Aadhaar Back",t.jsx("input",{type:"file",accept:"image/*",onChange:V=>_("aadhaarback",V.target.files[0]),className:"hidden"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Cheque"}),I.chequeImage&&t.jsx("img",{src:I.chequeImage,alt:"Cheque",className:"w-full h-20 object-cover rounded mb-1"}),t.jsxs("label",{className:"block w-full px-3 py-2 border-2 border-dashed border-slate-300 rounded cursor-pointer hover:border-primary transition text-center text-xs",children:[t.jsx(Gt,{className:"inline mr-1"}),I.chequeImage?"Change":"Upload"," Cheque",t.jsx("input",{type:"file",accept:"image/*",onChange:V=>_("chequeImage",V.target.files[0]),className:"hidden"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Account Number"}),t.jsx("input",{type:"text",value:P.accountNumber,onChange:V=>C({...P,accountNumber:V.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"IFSC Code"}),t.jsx("input",{type:"text",value:P.ifscCode,onChange:V=>C({...P,ifscCode:V.target.value.toUpperCase()}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm"})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[t.jsx("button",{onClick:i?B:z,disabled:o,className:"flex-1 py-2.5 sm:py-3 bg-primary text-white rounded-lg text-sm sm:text-base font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:o?"Processing...":(i?"Update":"Add")+" Member"}),t.jsx("button",{onClick:()=>{n(!1),l(null),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),k(null),C({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),D(!1)},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg text-sm sm:text-base font-semibold hover:bg-slate-200 transition",type:"button",children:"Cancel"})]})]})]})}),f&&t.jsx(E5e,{member:f,partner:null,onClose:()=>b(null)}),c&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-3 sm:p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full p-4 sm:p-6 my-auto max-h-[95vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800 truncate",children:[c.name,"'s Activities"]}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mt-1",children:"View all bookings and activities"})]}),t.jsx("button",{onClick:()=>u(null),className:"p-2 hover:bg-slate-100 rounded-lg transition flex-shrink-0 self-end sm:self-auto",type:"button",children:t.jsx(xt,{className:"text-lg sm:text-xl"})})]}),h[c._id||c.id]?t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-slate-500",children:"Loading activities..."})}):t.jsx("div",{className:"space-y-4",children:(()=>{const V=c._id||c.id,G=m[V]||[];return G.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-500",children:[t.jsx(Wc,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No activities found for this team member"})]}):G.map((te,pe)=>{var ye,he;return t.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 hover:bg-slate-50 transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold text-slate-800",children:((ye=te.subService)==null?void 0:ye.name)||((he=te.service)==null?void 0:he.name)||"Service"}),te.user&&t.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Customer: ",te.user.name," (",te.user.phone,")"]})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${te.status==="completed"?"bg-green-100 text-green-800":te.status==="in_progress"?"bg-blue-100 text-blue-800":te.status==="accepted"?"bg-purple-100 text-purple-800":"bg-slate-100 text-slate-800"}`,children:te.status})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mt-3 text-xs sm:text-sm",children:[te.scheduledDate&&t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Scheduled Date"}),t.jsx("p",{className:"font-medium",children:new Date(te.scheduledDate).toLocaleDateString()})]}),te.scheduledTime&&t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Time"}),t.jsx("p",{className:"font-medium",children:te.scheduledTime})]}),te.amount&&t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Amount"}),t.jsxs("p",{className:"font-medium",children:["",te.amount]})]}),te.completedAt&&t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-500",children:"Completed"}),t.jsx("p",{className:"font-medium",children:new Date(te.completedAt).toLocaleDateString()})]})]}),te.location&&t.jsxs("div",{className:"mt-3 text-sm",children:[t.jsx("p",{className:"text-slate-500",children:"Location"}),t.jsxs("p",{className:"font-medium",children:[te.location.address,", ",te.location.city," - ",te.location.pincode]})]})]},pe)})})()})]})})]})},_5e=({booking:e,onClose:r,onComplete:s,token:a})=>{var y,v,N;const[n,i]=g.useState([]),[l,o]=g.useState([]),[d,c]=g.useState(""),[u,m]=g.useState(!1),[x,h]=g.useState(null),p=S=>{const k=Array.from(S.target.files);i(P=>[...P,...k])},f=S=>{const k=Array.from(S.target.files);o(P=>[...P,...k])},b=S=>{i(k=>k.filter((P,C)=>C!==S))},j=S=>{o(k=>k.filter((P,C)=>C!==S))},w=async S=>{if(S.preventDefault(),h(null),n.length===0&&l.length===0){h("Please upload at least one photo or video");return}m(!0);try{const k=new FormData;n.forEach(P=>{k.append("photos",P)}),l.forEach(P=>{k.append("videos",P)}),d.trim()&&k.append("remark",d.trim()),await s(e._id||e.bookingId,k),r()}catch(k){h(k.message||"Failed to complete job")}finally{m(!1)}};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Complete Job"}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:u,children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[x&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:x}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[t.jsx("strong",{children:"Booking ID:"})," ",e.bookingId||((y=e._id)==null?void 0:y.toString().slice(-8))||"N/A"]}),t.jsxs("p",{className:"text-sm text-slate-600",children:[t.jsx("strong",{children:"Service:"})," ",((v=e.service)==null?void 0:v.name)||((N=e.subService)==null?void 0:N.name)||"N/A"]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(zf,{className:"inline mr-2"}),"Upload Photos ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition",children:[t.jsx(Wo,{className:"w-5 h-5 text-slate-600 mr-2"}),t.jsx("span",{className:"text-sm text-slate-600",children:"Click to upload photos"}),t.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:p,className:"hidden",disabled:u})]}),n.length>0&&t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:n.map((S,k)=>t.jsxs("div",{className:"relative group",children:[t.jsx("img",{src:URL.createObjectURL(S),alt:`Preview ${k+1}`,className:"w-full h-24 object-cover rounded-lg"}),t.jsx("button",{type:"button",onClick:()=>b(k),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition",children:t.jsx(xt,{className:"w-3 h-3"})})]},k))})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Wo,{className:"inline mr-2"}),"Upload Videos (Optional)"]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition",children:[t.jsx(Wo,{className:"w-5 h-5 text-slate-600 mr-2"}),t.jsx("span",{className:"text-sm text-slate-600",children:"Click to upload videos"}),t.jsx("input",{type:"file",accept:"video/*",multiple:!0,onChange:f,className:"hidden",disabled:u})]}),l.length>0&&t.jsx("div",{className:"space-y-2",children:l.map((S,k)=>t.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-2 rounded-lg",children:[t.jsx("span",{className:"text-sm text-slate-600 truncate flex-1",children:S.name}),t.jsx("button",{type:"button",onClick:()=>j(k),className:"ml-2 text-red-500 hover:text-red-700",children:t.jsx(xt,{className:"w-4 h-4"})})]},k))})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Gt,{className:"inline mr-2"}),"Remark (Optional)"]}),t.jsx("textarea",{value:d,onChange:S=>c(S.target.value),rows:4,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"Add any remarks or notes about the job completion...",disabled:u})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",disabled:u,children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:u||n.length===0&&l.length===0,children:u?"Completing...":"Complete Job"})]})]})]})})},O5e=({booking:e,onClose:r,onPause:s,token:a})=>{var b,j,w;const[n,i]=g.useState(""),[l,o]=g.useState(""),[d,c]=g.useState(""),[u,m]=g.useState(!1),[x,h]=g.useState(null),p=async y=>{if(y.preventDefault(),h(null),!n||!l){h("Please provide both date and time for resuming the job");return}m(!0);try{await s(e._id||e.bookingId,{nextScheduledDate:n,nextScheduledTime:l,pauseReason:d.trim()||"Not specified"}),r()}catch(v){h(v.message||"Failed to pause job")}finally{m(!1)}},f=()=>{const y=new Date;return y.setDate(y.getDate()+1),y.toISOString().split("T")[0]};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Pause Job"}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:u,children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[x&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:x}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[t.jsx("strong",{children:"Booking ID:"})," ",e.bookingId||((b=e._id)==null?void 0:b.toString().slice(-8))||"N/A"]}),t.jsxs("p",{className:"text-sm text-slate-600",children:[t.jsx("strong",{children:"Service:"})," ",((j=e.service)==null?void 0:j.name)||((w=e.subService)==null?void 0:w.name)||"N/A"]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Xr,{className:"inline mr-2"}),"Next Scheduled Date ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",value:n,onChange:y=>i(y.target.value),min:f(),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,disabled:u})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(Xr,{className:"inline mr-2"}),"Next Scheduled Time ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"time",value:l,onChange:y=>o(y.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,disabled:u})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Reason for Pausing (Optional)"}),t.jsx("textarea",{value:d,onChange:y=>c(y.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"e.g., Waiting for parts, Customer requested delay, etc.",disabled:u})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",disabled:u,children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-yellow-500 text-white rounded-lg font-semibold hover:bg-yellow-600 transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:u,children:u?"Pausing...":"Pause Job"})]})]})]})})},D5e=({booking:e,onClose:r,onCreate:s,token:a})=>{var R,Z,Y;const[n,i]=g.useState([{name:"",description:"",quantity:1,unitPrice:0,total:0}]),[l,o]=g.useState(0),[d,c]=g.useState(0),[u,m]=g.useState(0),[x,h]=g.useState(0),[p,f]=g.useState(""),[b,j]=g.useState(""),[w,y]=g.useState(""),[v,N]=g.useState(!1),[S,k]=g.useState(null);_t.useEffect(()=>{const ce=n.reduce((z,se)=>{const K=(se.quantity||0)*(se.unitPrice||0);return z+K},0);o(ce);const D=ce+(d||0)-(u||0);h(D)},[n,d,u]);const P=()=>{i([...n,{name:"",description:"",quantity:1,unitPrice:0,total:0}])},C=ce=>{n.length>1&&i(n.filter((D,z)=>z!==ce))},I=(ce,D,z)=>{const se=[...n];se[ce][D]=z,(D==="quantity"||D==="unitPrice")&&(se[ce].total=(se[ce].quantity||0)*(se[ce].unitPrice||0)),i(se)},A=async ce=>{if(ce.preventDefault(),k(null),n.some(z=>!z.name||z.unitPrice<=0)){k("Please fill all item fields and ensure prices are greater than 0");return}if(!b){k("Please select a valid till date");return}if(x<=0){k("Total amount must be greater than 0");return}const D=new Date(b);if(D<=new Date){k("Valid till date must be in the future");return}N(!0);try{await s(e._id||e.bookingId,{items:n.map(z=>({name:z.name,description:z.description||"",quantity:z.quantity,unitPrice:z.unitPrice,total:z.total})),subtotal:l,tax:d,discount:u,totalAmount:x,description:p,validTill:D.toISOString(),notes:w}),r()}catch(z){k(z.message||"Failed to create quotation")}finally{N(!1)}},O=()=>{const ce=new Date;return ce.setDate(ce.getDate()+1),ce.toISOString().split("T")[0]};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Send Extra Quotation"}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:v,children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("form",{onSubmit:A,className:"p-6 space-y-6",children:[S&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:S}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[t.jsx("strong",{children:"Booking ID:"})," ",e.bookingId||((R=e._id)==null?void 0:R.toString().slice(-8))||"N/A"]}),t.jsxs("p",{className:"text-sm text-slate-600",children:[t.jsx("strong",{children:"Service:"})," ",((Z=e.service)==null?void 0:Z.name)||((Y=e.subService)==null?void 0:Y.name)||"N/A"]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700",children:["Items ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("button",{type:"button",onClick:P,className:"px-3 py-1.5 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[t.jsx(Tr,{className:"w-4 h-4"})," Add Item"]})]}),t.jsx("div",{className:"space-y-3",children:n.map((ce,D)=>t.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h4",{className:"text-sm font-semibold text-slate-700",children:["Item ",D+1]}),n.length>1&&t.jsx("button",{type:"button",onClick:()=>C(D),className:"text-red-500 hover:text-red-700",children:t.jsx(la,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Item Name *"}),t.jsx("input",{type:"text",value:ce.name,onChange:z=>I(D,"name",z.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"e.g., Spare Part, Additional Service",required:!0,disabled:v})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Quantity *"}),t.jsx("input",{type:"number",value:ce.quantity,onChange:z=>I(D,"quantity",parseFloat(z.target.value)||0),min:"1",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",required:!0,disabled:v})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Unit Price () *"}),t.jsx("input",{type:"number",value:ce.unitPrice,onChange:z=>I(D,"unitPrice",parseFloat(z.target.value)||0),min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",required:!0,disabled:v})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Total ()"}),t.jsx("input",{type:"number",value:ce.total.toFixed(2),readOnly:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg bg-slate-50 text-sm"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Description"}),t.jsx("textarea",{value:ce.description,onChange:z=>I(D,"description",z.target.value),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm resize-none",placeholder:"Item description...",disabled:v})]})]},D))})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Subtotal:"}),t.jsxs("span",{className:"font-semibold",children:["",l.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Tax:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",value:d,onChange:ce=>c(parseFloat(ce.target.value)||0),min:"0",step:"0.01",className:"w-24 px-2 py-1 border border-slate-300 rounded text-sm",disabled:v}),t.jsxs("span",{className:"font-semibold",children:["",d.toFixed(2)]})]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Discount:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",value:u,onChange:ce=>m(parseFloat(ce.target.value)||0),min:"0",step:"0.01",className:"w-24 px-2 py-1 border border-slate-300 rounded text-sm",disabled:v}),t.jsxs("span",{className:"font-semibold",children:["",u.toFixed(2)]})]})]}),t.jsxs("div",{className:"flex justify-between text-base font-bold pt-2 border-t border-slate-300",children:[t.jsx("span",{children:"Total Amount:"}),t.jsxs("span",{className:"text-primary",children:["",x.toFixed(2)]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),t.jsx("textarea",{value:p,onChange:ce=>f(ce.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"Additional description about the quotation...",disabled:v})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[t.jsx(ks,{className:"inline mr-2"}),"Valid Till ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"date",value:b,onChange:ce=>j(ce.target.value),min:O(),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,disabled:v})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Notes (Optional)"}),t.jsx("textarea",{value:w,onChange:ce=>y(ce.target.value),rows:2,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"Internal notes...",disabled:v})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",disabled:v,children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:v||x<=0,children:v?"Sending...":"Send Quotation"})]})]})]})})},M5e=({quotation:e,onClose:r,onAccept:s,onReject:a,userType:n,token:i})=>{var N,S,k,P,C,I,A,O,R,Z,Y,ce,D,z;const[l,o]=g.useState(""),[d,c]=g.useState(!1),[u,m]=g.useState(!1),[x,h]=g.useState(null);if(!e)return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Error"}),t.jsx("p",{className:"text-slate-600 mb-4",children:"Quotation data is missing or invalid."}),t.jsx("button",{onClick:r,className:"w-full px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition",children:"Close"})]})});const p=se=>{switch(se){case"accepted":case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"expired":return"bg-gray-100 text-gray-800";default:return"bg-slate-100 text-slate-800"}},f=se=>{switch(se){case"accepted":case"approved":return t.jsx(vt,{className:"w-4 h-4"});case"rejected":return t.jsx(Qn,{className:"w-4 h-4"});case"pending":return t.jsx(Xr,{className:"w-4 h-4"});default:return t.jsx(Xr,{className:"w-4 h-4"})}},b=async()=>{h(null),m(!0);try{await s(e._id),r()}catch(se){h(se.message||"Failed to accept quotation")}finally{m(!1)}},j=async()=>{if(!l.trim()&&n==="admin"){h("Please provide a rejection reason");return}h(null),m(!0);try{await a(e._id,l),r()}catch(se){h(se.message||"Failed to reject quotation")}finally{m(!1)}},w=n==="customer"&&e.customerStatus==="pending",y=n==="admin"&&e.adminStatus==="pending",v=e.validTill?new Date(e.validTill)<new Date:!1;return g.useEffect(()=>{var se;console.log("=== QuotationDetailsModal Debug ==="),console.log("Quotation data:",e),console.log("Quotation ID:",e._id),console.log("Quotation Number:",e.quotationNumber),console.log("Items:",e.items),console.log("Items count:",((se=e.items)==null?void 0:se.length)||0),console.log("User:",e.user),console.log("Partner:",e.partner),console.log("Booking:",e.booking),console.log("Subtotal:",e.subtotal),console.log("Total Amount:",e.totalAmount),console.log("===============================")},[e]),t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Quotation Details"}),t.jsxs("p",{className:"text-sm text-slate-600",children:["#",e.quotationNumber]})]}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:u,children:t.jsx(xt,{className:"w-5 h-5 text-slate-600"})})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[x&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:x}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(vr,{className:"w-4 h-4 text-slate-600"}),t.jsx("span",{className:"text-xs text-slate-600",children:"Customer Status"})]}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 w-fit ${p(e.customerStatus)}`,children:[f(e.customerStatus),((N=e.customerStatus)==null?void 0:N.charAt(0).toUpperCase())+((S=e.customerStatus)==null?void 0:S.slice(1))||"Pending"]}),e.customerResponseAt&&t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:new Date(e.customerResponseAt).toLocaleString()})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Ja,{className:"w-4 h-4 text-slate-600"}),t.jsx("span",{className:"text-xs text-slate-600",children:"Admin Status"})]}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 w-fit ${p(e.adminStatus)}`,children:[f(e.adminStatus),((k=e.adminStatus)==null?void 0:k.charAt(0).toUpperCase())+((P=e.adminStatus)==null?void 0:P.slice(1))||"Pending"]}),e.adminResponseAt&&t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:new Date(e.adminResponseAt).toLocaleString()})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Xr,{className:"w-4 h-4 text-slate-600"}),t.jsx("span",{className:"text-xs text-slate-600",children:"Overall Status"})]}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 w-fit ${p(e.status)}`,children:[f(e.status),((C=e.status)==null?void 0:C.replace("_"," ").split(" ").map(se=>se.charAt(0).toUpperCase()+se.slice(1)).join(" "))||"Pending"]})]})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Booking Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-600",children:"Booking ID:"}),t.jsx("span",{className:"ml-2 font-semibold",children:((I=e.booking)==null?void 0:I.bookingId)||((O=(A=e.booking)==null?void 0:A._id)==null?void 0:O.toString().slice(-8))||((R=e.booking)==null?void 0:R.toString().slice(-8))||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-600",children:"Customer:"}),t.jsx("span",{className:"ml-2 font-semibold",children:((Z=e.user)==null?void 0:Z.name)||e.user||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-600",children:"Partner:"}),t.jsx("span",{className:"ml-2 font-semibold",children:((ce=(Y=e.partner)==null?void 0:Y.profile)==null?void 0:ce.name)||((D=e.partner)==null?void 0:D.phone)||((z=e.partner)==null?void 0:z.name)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-600",children:"Valid Till:"}),t.jsxs("span",{className:`ml-2 font-semibold ${v?"text-red-600":""}`,children:[e.validTill?new Date(e.validTill).toLocaleDateString():"N/A",v&&" (Expired)"]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Items"}),e.items&&e.items.length>0?t.jsx("div",{className:"space-y-2",children:e.items.map((se,K)=>t.jsxs("div",{className:"border border-slate-200 rounded-lg p-3",children:[t.jsxs("div",{className:"flex justify-between items-start mb-1",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-slate-800",children:se.name||"Item "+(K+1)}),se.description&&t.jsx("p",{className:"text-xs text-slate-600 mt-1",children:se.description})]}),t.jsxs("p",{className:"font-semibold text-slate-800",children:["",(se.total||0).toFixed(2)]})]}),t.jsxs("div",{className:"flex gap-4 text-xs text-slate-600",children:[t.jsxs("span",{children:["Qty: ",se.quantity||1]}),t.jsxs("span",{children:["Unit Price: ",(se.unitPrice||0).toFixed(2)]})]})]},K))}):t.jsx("p",{className:"text-sm text-slate-500 italic",children:"No items found in this quotation."})]}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Subtotal:"}),t.jsxs("span",{className:"font-semibold",children:["",(e.subtotal||0).toFixed(2)]})]}),(e.tax||0)>0&&t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Tax:"}),t.jsxs("span",{className:"font-semibold",children:["",(e.tax||0).toFixed(2)]})]}),(e.discount||0)>0&&t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-600",children:"Discount:"}),t.jsxs("span",{className:"font-semibold",children:["-",(e.discount||0).toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-base font-bold pt-2 border-t border-slate-300",children:[t.jsx("span",{children:"Total Amount:"}),t.jsxs("span",{className:"text-primary",children:["",(e.totalAmount||0).toFixed(2)]})]})]}),e.description&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Description"}),t.jsx("p",{className:"text-sm text-slate-600",children:e.description})]}),e.notes&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Notes"}),t.jsx("p",{className:"text-sm text-slate-600",children:e.notes})]}),e.customerRejectionReason&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-red-700 mb-1",children:"Customer Rejection Reason"}),t.jsx("p",{className:"text-sm text-red-600",children:e.customerRejectionReason})]}),e.adminRejectionReason&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-red-700 mb-1",children:"Admin Rejection Reason"}),t.jsx("p",{className:"text-sm text-red-600",children:e.adminRejectionReason})]}),(w||y)&&!v&&t.jsx("div",{className:"pt-4 border-t border-slate-200",children:d?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Rejection Reason ",n==="admin"&&t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:l,onChange:se=>o(se.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"Please provide a reason for rejection...",disabled:u})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:()=>{c(!1),o(""),h(null)},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",disabled:u,children:"Cancel"}),t.jsx("button",{type:"button",onClick:j,className:"flex-1 px-4 py-3 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:u,children:u?"Rejecting...":"Confirm Rejection"})]})]}):t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{type:"button",onClick:b,className:"flex-1 px-4 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",disabled:u,children:[t.jsx(vt,{className:"w-5 h-5"}),u?"Processing...":"Accept Quotation"]}),t.jsxs("button",{type:"button",onClick:()=>c(!0),className:"flex-1 px-4 py-3 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",disabled:u,children:[t.jsx(Qn,{className:"w-5 h-5"}),"Reject Quotation"]})]})}),!w&&!y&&t.jsx("div",{className:"pt-4 border-t border-slate-200",children:t.jsx("button",{type:"button",onClick:r,className:"w-full px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Close"})})]})]})})},L5e=()=>{const{token:e,partner:r}=_n(),[s,a]=g.useState([]),[n,i]=g.useState([]),[l,o]=g.useState(!0),[d,c]=g.useState(null),[u,m]=g.useState("all"),[x,h]=g.useState(null),[p,f]=g.useState(null),[b,j]=g.useState(null),[w,y]=g.useState(null),[v,N]=g.useState(null),[S,k]=g.useState(null),[P,C]=g.useState({});g.useEffect(()=>{A(),I()},[e]),g.useEffect(()=>{s.length>0&&e&&s.forEach(async _=>{try{const M=await jt.getQuotationsByBooking(e,_._id||_.bookingId);M.success&&M.data&&C(F=>({...F,[_._id||_.bookingId]:M.data}))}catch(M){console.error("Failed to fetch quotations:",M)}})},[s,e]);const I=async()=>{if(e)try{const _=await jt.getTeamMembers(e),M=(_==null?void 0:_.data)||_||[];i(Array.isArray(M)?M:[])}catch(_){console.error("Failed to fetch team members:",_)}},A=async()=>{if(e){o(!0),c(null);try{const _=await jt.getBookings(e);let M=[];_!=null&&_.bookings?Object.values(_.bookings).forEach(F=>{Array.isArray(F)&&(M=M.concat(F))}):Array.isArray(_)?M=_:Array.isArray(_==null?void 0:_.data)?M=_.data:Array.isArray(_==null?void 0:_.bookings)?M=_.bookings:_!=null&&_.data&&Array.isArray(_.data)&&(M=_.data),a(M)}catch(_){c(_.message||"Failed to fetch bookings")}finally{o(!1)}}},O=s.filter(_=>u==="all"?!0:_.status===u),R=_=>{switch(_){case"completed":return"bg-green-100 text-green-800";case"accepted":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-purple-100 text-purple-800";case"pending":return"bg-yellow-100 text-yellow-800";case"paused":return"bg-orange-100 text-orange-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-slate-100 text-slate-800"}},Z=_=>{switch(_){case"completed":return t.jsx(vt,{});case"accepted":case"in_progress":return t.jsx(Xr,{});case"paused":return t.jsx(qC,{});case"rejected":return t.jsx(Qn,{});default:return t.jsx(is,{})}},Y=async(_,M)=>{if(!(!e||!M)){h(_);try{const F=await jt.assignBookingToTeamMember(e,_,M);F.success?(await A(),alert("Team member assigned successfully!")):alert(F.message||"Failed to assign team member")}catch(F){console.error("Failed to assign team member:",F),alert(F.message||"Failed to assign team member")}finally{h(null)}}},ce=async(_,M)=>{try{const F=await jt.completeJob(e,_,M);if(F.success)await A(),alert("Job completed successfully!");else throw new Error(F.message||"Failed to complete job")}catch(F){throw console.error("Failed to complete job:",F),F}},D=async(_,M)=>{try{const F=await jt.pauseJob(e,_,M);if(F.success)await A(),alert("Job paused successfully!");else throw new Error(F.message||"Failed to pause job")}catch(F){throw console.error("Failed to pause job:",F),F}},z=async _=>{if(window.confirm("Are you sure you want to continue this job?"))try{const M=await jt.resumeJob(e,_);if(M.success)await A(),alert("Job continued successfully!");else throw new Error(M.message||"Failed to resume job")}catch(M){console.error("Failed to resume job:",M),alert(M.message||"Failed to resume job")}},se=async(_,M)=>{try{const F=await jt.createQuotation(e,_,M);if(F.success){const B=await jt.getQuotationsByBooking(e,_);B.success&&B.data&&C(q=>({...q,[_]:B.data})),await A(),alert("Quotation sent successfully!")}else throw new Error(F.message||"Failed to create quotation")}catch(F){throw console.error("Failed to create quotation:",F),F}};if(l)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})});const K={total:s.length,pending:s.filter(_=>_.status==="pending").length,accepted:s.filter(_=>_.status==="accepted").length,in_progress:s.filter(_=>_.status==="in_progress").length,paused:s.filter(_=>_.status==="paused").length,completed:s.filter(_=>_.status==="completed").length,rejected:s.filter(_=>_.status==="rejected").length};return t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Jobs Management"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage all your service bookings and jobs"})]}),t.jsx("button",{onClick:A,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg sm:text-xl text-slate-600"})})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total Jobs"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:K.total})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Pending"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:K.pending})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Accepted"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:K.accepted})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Completed"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:K.completed})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Rejected"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:K.rejected})]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-4 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-wrap",children:[t.jsx(Ed,{className:"text-slate-600 hidden sm:block"}),["all","pending","accepted","in_progress","paused","completed","rejected"].map(_=>t.jsx("button",{onClick:()=>m(_),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold transition ${u===_?"bg-primary text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:_.charAt(0).toUpperCase()+_.slice(1)},_))]}),t.jsxs("button",{onClick:()=>{const _=O.map(M=>{var F,B,q,ae,V,G;return{"Booking ID":((F=M._id)==null?void 0:F.toString().slice(-8))||"N/A","Customer Name":((B=M.user)==null?void 0:B.name)||"N/A","Customer Phone":((q=M.user)==null?void 0:q.phone)||"N/A",Service:((ae=M.subService)==null?void 0:ae.name)||"N/A","Amount ()":M.amount||0,Status:M.status||"N/A","Scheduled Date":M.scheduledDate?new Date(M.scheduledDate).toLocaleDateString("en-IN"):"N/A","Scheduled Time":M.scheduledTime||"N/A",Location:((V=M.location)==null?void 0:V.address)||"N/A","Team Member":((G=M.teamMember)==null?void 0:G.name)||"Not Assigned","Created At":M.createdAt?new Date(M.createdAt).toLocaleString("en-IN"):"N/A"}});$d(_,[{header:"Booking ID",accessor:"Booking ID"},{header:"Customer Name",accessor:"Customer Name"},{header:"Customer Phone",accessor:"Customer Phone"},{header:"Service",accessor:"Service"},{header:"Amount ()",accessor:"Amount ()"},{header:"Status",accessor:"Status"},{header:"Scheduled Date",accessor:"Scheduled Date"},{header:"Scheduled Time",accessor:"Scheduled Time"},{header:"Location",accessor:"Location"},{header:"Team Member",accessor:"Team Member"},{header:"Created At",accessor:"Created At"}],"Jobs_Management","Jobs",{columnWidths:[15,20,15,25,15,12,15,12,30,20,20]})},disabled:O.length===0,className:"px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-semibold bg-primary text-white hover:bg-primary-dark transition inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed self-start sm:self-auto",title:"Export to Excel",children:[t.jsx(Na,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Export Excel"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden",children:d?t.jsx("div",{className:"p-6 text-center text-red-600",children:d}):O.length===0?t.jsxs("div",{className:"p-12 text-center text-slate-500",children:[t.jsx(is,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No bookings found"})]}):t.jsx("div",{className:"divide-y divide-slate-200",children:O.map((_,M)=>{var F,B,q,ae,V,G,te;return t.jsxs("div",{className:"p-4 sm:p-6 hover:bg-slate-50 transition",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4 mb-3 sm:mb-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[t.jsx("h3",{className:"text-base sm:text-lg font-bold text-slate-800 truncate",children:((F=_.service)==null?void 0:F.name)||_.serviceName||"Service Booking"}),t.jsxs("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 w-fit ${R(_.status)}`,children:[Z(_.status),((B=_.status)==null?void 0:B.charAt(0).toUpperCase())+((q=_.status)==null?void 0:q.slice(1))||"Unknown"]})]}),t.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:["Booking ID: ",_.bookingId||_._id||"N/A"]}),t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[_.user&&t.jsxs("p",{className:"text-sm text-slate-600",children:["Customer: ",((ae=_.user)==null?void 0:ae.name)||_.userName||"N/A"]}),_.teamMember&&t.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-semibold flex items-center gap-1",children:[t.jsx(vr,{className:"text-xs"}),"Team: ",((V=_.teamMember)==null?void 0:V.name)||"Team Member"]})]}),!_.teamMember&&(_.status==="accepted"||_.status==="in_progress")&&n.length>0&&t.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[t.jsxs("select",{onChange:pe=>{pe.target.value&&(Y(_._id||_.bookingId,pe.target.value),pe.target.value="")},disabled:x===(_._id||_.bookingId),className:"px-3 py-1.5 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white",children:[t.jsx("option",{value:"",children:"Assign to Team Member..."}),n.filter(pe=>pe.status==="active").map(pe=>t.jsxs("option",{value:pe._id||pe.id,children:[pe.name," (",pe.role||"technician",")"]},pe._id||pe.id))]}),x===(_._id||_.bookingId)&&t.jsx("span",{className:"text-xs text-slate-500",children:"Assigning..."})]})]}),t.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[t.jsxs("p",{className:"text-lg sm:text-xl font-bold text-primary",children:["",((G=_.totalAmount)==null?void 0:G.toLocaleString("en-IN"))||((te=_.amount)==null?void 0:te.toLocaleString("en-IN"))||0]}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-500",children:_.createdAt?new Date(_.createdAt).toLocaleDateString("en-IN"):"N/A"}),t.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[t.jsxs("button",{onClick:()=>f({data:_,type:"booking"}),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-primary/10 text-primary rounded-lg text-xs sm:text-sm font-semibold hover:bg-primary/20 transition inline-flex items-center gap-1 sm:gap-2",children:[t.jsx(Gt,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Invoice"})]}),_.status==="paused"&&t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("button",{onClick:()=>z(_._id||_.bookingId),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-green-500 text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-green-600 transition inline-flex items-center gap-1 sm:gap-2",children:[t.jsx(oZ,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Continue Job"}),t.jsx("span",{className:"sm:hidden",children:"Continue"})]}),_.pauseDetails&&t.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[t.jsxs("p",{children:["Resume: ",_.pauseDetails.nextScheduledDate?new Date(_.pauseDetails.nextScheduledDate).toLocaleDateString():"N/A"," ",_.pauseDetails.nextScheduledTime||""]}),_.pauseDetails.pauseReason&&t.jsxs("p",{className:"text-slate-500",children:["Reason: ",_.pauseDetails.pauseReason]})]})]}),(_.status==="accepted"||_.status==="in_progress")&&t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("button",{onClick:()=>j(_),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-green-500 text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-green-600 transition inline-flex items-center gap-1 sm:gap-2",children:[t.jsx(vt,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Complete"}),t.jsx("span",{className:"sm:hidden",children:"Complete"})]}),t.jsxs("button",{onClick:()=>y(_),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-yellow-500 text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-yellow-600 transition inline-flex items-center gap-1 sm:gap-2",children:[t.jsx(qC,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Pause"}),t.jsx("span",{className:"sm:hidden",children:"Pause"})]}),t.jsxs("button",{onClick:()=>N(_),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-blue-500 text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-blue-600 transition inline-flex items-center gap-1 sm:gap-2",children:[t.jsx(Jt,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Send Quote"}),t.jsx("span",{className:"sm:hidden",children:"Quote"})]})]})]})]})]}),_.address&&t.jsx("div",{className:"mt-4 p-3 bg-slate-50 rounded-lg",children:t.jsxs("p",{className:"text-sm text-slate-600",children:[t.jsx("strong",{children:"Address:"})," ",_.address]})}),P[_._id||_.bookingId]&&P[_._id||_.bookingId].length>0&&t.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[t.jsx("div",{className:"flex items-center justify-between mb-2",children:t.jsxs("p",{className:"text-sm font-semibold text-blue-800",children:[t.jsx(Jt,{className:"inline mr-1"}),"Quotations (",P[_._id||_.bookingId].length,")"]})}),t.jsx("div",{className:"space-y-2",children:P[_._id||_.bookingId].map(pe=>{var ye;return t.jsxs("div",{className:"bg-white rounded-lg p-2 flex items-center justify-between cursor-pointer hover:bg-blue-100 transition",onClick:()=>k(pe),children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("p",{className:"text-xs font-semibold text-slate-800",children:["#",pe.quotationNumber," - ",((ye=pe.totalAmount)==null?void 0:ye.toFixed(2))||"0.00"]}),t.jsxs("div",{className:"flex gap-2 mt-1",children:[t.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-semibold ${pe.customerStatus==="accepted"?"bg-green-100 text-green-800":pe.customerStatus==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:["Customer: ",pe.customerStatus]}),t.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-semibold ${pe.adminStatus==="accepted"?"bg-green-100 text-green-800":pe.adminStatus==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:["Admin: ",pe.adminStatus]})]})]}),t.jsx(Ti,{className:"w-4 h-4 text-blue-600 ml-2"})]},pe._id)})})]})]},M)})})}),p&&t.jsx(Y6,{data:p.data,type:p.type,onClose:()=>f(null)}),b&&t.jsx(_5e,{booking:b,onClose:()=>j(null),onComplete:ce,token:e}),w&&t.jsx(O5e,{booking:w,onClose:()=>y(null),onPause:D,token:e}),v&&t.jsx(D5e,{booking:v,onClose:()=>N(null),onCreate:se,token:e}),S&&t.jsx(M5e,{quotation:S,onClose:()=>k(null),userType:"partner",token:e})]})},F5e=()=>{var h,p;const{token:e,partner:r}=_n(),[s,a]=g.useState(null),[n,i]=g.useState([]),[l,o]=g.useState(!0),[d,c]=g.useState(null);g.useEffect(()=>{u()},[e]);const u=async()=>{if(e){o(!0),c(null);try{const f=(r==null?void 0:r.partnerType)||null,[b,j]=await Promise.all([jt.getCurrentPlan(e).catch(()=>null),jt.getMGPlans(e,f).catch(()=>null)]);b!=null&&b.data?a(b.data):b&&a(b),j!=null&&j.data?i(j.data):j&&i(Array.isArray(j)?j:[])}catch(f){c(f.message||"Failed to fetch mg plans")}finally{o(!1)}}},m=async f=>{if(e)try{(await jt.subscribeToPlan(e,f)).success&&(alert("Successfully subscribed to plan!"),u())}catch(b){alert(b.message||"Failed to subscribe to plan")}},x=async()=>{if(e)try{(await jt.renewPlan(e)).success&&(alert("Plan renewed successfully!"),u())}catch(f){alert(f.message||"Failed to renew plan")}};return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"MG Plan"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your mg plans details"})]}),t.jsx("button",{onClick:u,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg sm:text-xl text-slate-600"})})]}),s&&t.jsxs("div",{className:"bg-gradient-to-br from-primary to-primary-dark rounded-2xl shadow-xl p-6 sm:p-8 text-white",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 sm:gap-6 mb-4 sm:mb-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Current Plan"}),((h=s.plan)==null?void 0:h.partnerType)&&t.jsx("span",{className:"text-xs px-2 py-1 bg-white/20 rounded-full font-semibold",children:s.plan.partnerType==="individual"?" Individual":s.plan.partnerType==="franchise"?" Franchise":" Both"})]}),t.jsx("p",{className:"text-sm sm:text-base text-white/80",children:((p=s.plan)==null?void 0:p.name)||s.name||"MG Plan"})]}),t.jsx("div",{className:"bg-white/20 p-3 sm:p-4 rounded-xl self-start sm:self-auto",children:t.jsx(xs,{className:"text-3xl sm:text-4xl"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[t.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[t.jsx("p",{className:"text-sm text-white/80 mb-1",children:"Leads Guaranteed"}),t.jsx("p",{className:"text-2xl font-bold",children:s.leadsGuaranteed||0})]}),t.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[t.jsx("p",{className:"text-sm text-white/80 mb-1",children:"Leads Used"}),t.jsx("p",{className:"text-2xl font-bold",children:s.leadsUsed||0})]}),t.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[t.jsx("p",{className:"text-sm text-white/80 mb-1",children:"Leads Remaining"}),t.jsx("p",{className:"text-2xl font-bold",children:s.leadsRemaining||0})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[t.jsxs("div",{className:"bg-white/10 rounded-xl p-3 sm:p-4",children:[t.jsx("p",{className:"text-xs sm:text-sm text-white/80 mb-1",children:"Lead Fee"}),t.jsxs("p",{className:"text-lg sm:text-xl font-bold",children:["",s.leadFee||0]})]}),t.jsxs("div",{className:"bg-white/10 rounded-xl p-3 sm:p-4",children:[t.jsx("p",{className:"text-xs sm:text-sm text-white/80 mb-1",children:"Commission"}),t.jsxs("p",{className:"text-lg sm:text-xl font-bold",children:[s.commission||0,"%"]})]})]}),s.expiresAt&&t.jsxs("div",{className:"bg-white/10 rounded-xl p-3 sm:p-4 mb-4 sm:mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(ks,{className:"text-lg sm:text-xl"}),t.jsx("p",{className:"text-sm sm:text-base font-semibold",children:"Plan Expires"})]}),t.jsx("p",{className:"text-base sm:text-lg",children:new Date(s.expiresAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}),s.daysUntilRenewal!==void 0&&s.daysUntilRenewal<=7&&t.jsx("button",{onClick:x,className:"mt-3 sm:mt-4 w-full py-2 bg-white text-primary rounded-lg text-sm sm:text-base font-semibold hover:bg-white/90 transition",children:"Renew Plan"})]}),s.isExpired&&t.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-xl p-4",children:t.jsx("p",{className:"text-red-100",children:" Your plan has expired. Please renew to continue."})})]}),!s&&t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Available Plans"}),(r==null?void 0:r.partnerType)&&t.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-semibold ${r.partnerType==="individual"?"bg-slate-100 text-slate-700":"bg-purple-100 text-purple-700"}`,children:r.partnerType==="individual"?" Individual":" Franchise"})]}),d?t.jsx("div",{className:"text-center text-red-600 py-8",children:d}):n.length===0?t.jsxs("div",{className:"text-center text-slate-500 py-8",children:[t.jsx(xs,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No plans available"})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:n.map((f,b)=>{var j;return t.jsxs("div",{className:"border-2 border-slate-200 rounded-xl p-4 sm:p-6 hover:border-primary transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:f.name||"Plan"}),f.partnerType&&t.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-semibold flex-shrink-0 ${f.partnerType==="individual"?"bg-slate-100 text-slate-700":f.partnerType==="franchise"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:f.partnerType==="individual"?" Individual":f.partnerType==="franchise"?" Franchise":" Both"})]}),t.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-primary mb-3 sm:mb-4",children:["",((j=f.price)==null?void 0:j.toLocaleString("en-IN"))||0]}),t.jsxs("ul",{className:"space-y-2 mb-4 sm:mb-6",children:[t.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-slate-600",children:[t.jsx(Sl,{className:"text-green-600 flex-shrink-0"}),f.leads||0," Leads Guaranteed"]}),t.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-slate-600",children:[t.jsx(Sl,{className:"text-green-600 flex-shrink-0"}),"Lead Fee: ",f.leadFee||0]}),t.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-slate-600",children:[t.jsx(Sl,{className:"text-green-600 flex-shrink-0"}),"Commission: ",f.commission||0,"%"]})]}),t.jsx("button",{onClick:()=>m(f._id||f.id),className:"w-full py-2.5 sm:py-3 bg-primary text-white rounded-lg text-sm sm:text-base font-semibold hover:bg-primary-dark transition",children:"Subscribe Now"})]},b)})})]})]})},R5e=()=>{const{token:e}=_n(),[r,s]=g.useState([]),[a,n]=g.useState([]),[i,l]=g.useState(!0),[o,d]=g.useState(null),[c,u]=g.useState(""),[m,x]=g.useState("all"),[h,p]=g.useState([]);g.useEffect(()=>{f()},[e,m]);const f=async()=>{if(e){l(!0),d(null);try{if(m!=="all"){const N=await jt.getProductsByCategory(e,m);let S=[];Array.isArray(N)?S=N:Array.isArray(N==null?void 0:N.data)?S=N.data:Array.isArray(N==null?void 0:N.products)&&(S=N.products),s(S)}else{const N=await jt.getCategories(e);let S=[];Array.isArray(N)?S=N:Array.isArray(N==null?void 0:N.data)?S=N.data:Array.isArray(N==null?void 0:N.categories)&&(S=N.categories),p(S),s([])}}catch(N){d(N.message||"Failed to fetch spare parts")}finally{l(!1)}}},b=async N=>{if(e)try{(await jt.addToCart(e,{productId:N._id||N.id,quantity:1})).success&&n([...a,{...N,quantity:1}])}catch(S){alert(S.message||"Failed to add to cart")}},j=(N,S)=>{n(a.map(k=>k._id===N||k.id===N?{...k,quantity:Math.max(1,k.quantity+S)}:k))},w=N=>{n(a.filter(S=>S._id!==N&&S.id!==N))},y=r.filter(N=>{var k,P;return((k=N.name)==null?void 0:k.toLowerCase().includes(c.toLowerCase()))||((P=N.description)==null?void 0:P.toLowerCase().includes(c.toLowerCase()))}),v=a.reduce((N,S)=>N+(S.price||0)*(S.quantity||1),0);return i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Spare Parts"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Browse and order spare parts for your services"})]}),t.jsx("button",{onClick:f,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg sm:text-xl text-slate-600"})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-4 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",value:c,onChange:N=>u(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Search spare parts..."})]}),t.jsxs("select",{value:m,onChange:N=>x(N.target.value),className:"px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",children:[t.jsx("option",{value:"all",children:"All Categories"}),Array.isArray(h)&&h.map((N,S)=>t.jsx("option",{value:N._id||N.id||N.name,children:N.name||"Category"},S))]})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:o?t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center text-red-600",children:o}):y.length===0?t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center border border-slate-200",children:[t.jsx(gs,{className:"text-4xl mx-auto mb-2 opacity-50 text-slate-400"}),t.jsx("p",{className:"text-slate-500",children:"No spare parts found"}),t.jsx("p",{className:"text-sm text-slate-400 mt-2",children:m==="all"?"Please select a category to view products":"Try a different category or search term"})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:y.map((N,S)=>{var k;return t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200 hover:shadow-lg transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-base sm:text-lg font-bold text-slate-800 mb-1 sm:mb-2 truncate",children:N.name||"Spare Part"}),N.description&&t.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mb-2 line-clamp-2",children:N.description})]}),t.jsx("div",{className:"bg-primary/10 p-2 sm:p-3 rounded-lg flex-shrink-0 ml-2",children:t.jsx(gs,{className:"text-primary text-lg sm:text-xl"})})]}),t.jsx("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-primary",children:["",((k=N.price)==null?void 0:k.toLocaleString("en-IN"))||0]}),N.stock!==void 0&&t.jsxs("p",{className:"text-xs sm:text-sm text-slate-500",children:["Stock: ",N.stock," ",N.unit||"units"]})]})}),t.jsxs("button",{onClick:()=>b(N),disabled:N.stock===0,className:"w-full py-2 bg-primary text-white rounded-lg text-sm sm:text-base font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[t.jsx(Yn,{}),t.jsx("span",{className:"hidden sm:inline",children:N.stock===0?"Out of Stock":"Add to Cart"}),t.jsx("span",{className:"sm:hidden",children:N.stock===0?"Out":"Add"})]})]},S)})})}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200 lg:sticky lg:top-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Cart"}),t.jsx(Yn,{className:"text-lg sm:text-xl text-slate-600"})]}),a.length===0?t.jsxs("div",{className:"text-center py-8 text-slate-500",children:[t.jsx(Yn,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"Your cart is empty"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"space-y-3 mb-4 max-h-96 overflow-y-auto",children:a.map((N,S)=>t.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-semibold text-slate-800 text-sm",children:N.name}),t.jsx("button",{onClick:()=>w(N._id||N.id),className:"text-red-600 hover:text-red-700",children:""})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>j(N._id||N.id,-1),className:"p-1 bg-white rounded border border-slate-300 hover:bg-slate-100",children:t.jsx(gj,{className:"text-xs"})}),t.jsx("span",{className:"px-2 font-semibold",children:N.quantity||1}),t.jsx("button",{onClick:()=>j(N._id||N.id,1),className:"p-1 bg-white rounded border border-slate-300 hover:bg-slate-100",children:t.jsx(Tr,{className:"text-xs"})})]}),t.jsxs("p",{className:"font-bold text-primary",children:["",((N.price||0)*(N.quantity||1)).toLocaleString("en-IN")]})]})]},S))}),t.jsxs("div",{className:"border-t border-slate-200 pt-3 sm:pt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[t.jsx("span",{className:"text-base sm:text-lg font-semibold text-slate-800",children:"Total:"}),t.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-primary",children:["",v.toLocaleString("en-IN")]})]}),t.jsx("button",{className:"w-full py-2.5 sm:py-3 bg-primary text-white rounded-lg text-sm sm:text-base font-semibold hover:bg-primary-dark transition",children:"Place Order"})]})]})]})})]})]})},B5e=()=>{const{token:e}=_n(),[r,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState(null),[o,d]=g.useState("all"),[c,u]=g.useState(null);g.useEffect(()=>{m()},[e]);const m=async()=>{if(e){n(!0),l(null);try{const f=await jt.getTransactions(e),b=(f==null?void 0:f.transactions)||(f==null?void 0:f.data)||[];s(b)}catch(f){l(f.message||"Failed to fetch transactions")}finally{n(!1)}}},x=r.filter(f=>o==="all"?!0:f.type===o),h=r.filter(f=>f.type==="credit").reduce((f,b)=>f+(b.amount||0),0),p=r.filter(f=>f.type==="debit").reduce((f,b)=>f+(b.amount||0),0);return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Transactions"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"View all your wallet transactions"})]}),t.jsx("button",{onClick:m,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg sm:text-xl text-slate-600"})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Total Credits"}),t.jsx(or,{className:"text-green-600 text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",h.toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Total Debits"}),t.jsx(cd,{className:"text-red-600 text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",p.toLocaleString("en-IN")]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-slate-600",children:"Net Balance"}),t.jsx(or,{className:"text-primary text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-primary",children:["",(h-p).toLocaleString("en-IN")]})]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-4 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-wrap",children:[t.jsx(Ed,{className:"text-slate-600 hidden sm:block"}),t.jsx("div",{className:"flex gap-2",children:["all","credit","debit"].map(f=>t.jsx("button",{onClick:()=>d(f),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold transition ${o===f?"bg-primary text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]}),t.jsxs("button",{onClick:()=>{const f=x.map(b=>{var j,w;return{"Date & Time":b.createdAt?new Date(b.createdAt).toLocaleString("en-IN"):"N/A",Type:((j=b.type)==null?void 0:j.charAt(0).toUpperCase())+((w=b.type)==null?void 0:w.slice(1))||"N/A","Amount ()":b.amount||0,"Balance ()":b.balance||0,Description:b.description||"N/A",Reference:b.reference||"N/A","Transaction ID":b.transactionId||b._id||"N/A"}});$d(f,[{header:"Date & Time",accessor:"Date & Time"},{header:"Type",accessor:"Type"},{header:"Amount ()",accessor:"Amount ()"},{header:"Balance ()",accessor:"Balance ()"},{header:"Description",accessor:"Description"},{header:"Reference",accessor:"Reference"},{header:"Transaction ID",accessor:"Transaction ID"}],"Transactions","Transactions",{columnWidths:[20,12,15,15,30,20,25]})},disabled:x.length===0,className:"px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-semibold bg-primary text-white hover:bg-primary-dark transition inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed self-start sm:self-auto",title:"Export to Excel",children:[t.jsx(Na,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Export Excel"}),t.jsx("span",{className:"sm:hidden",children:"Export"})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b border-slate-200",children:t.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"All Transactions"})}),i?t.jsx("div",{className:"p-6 text-center text-red-600",children:i}):x.length===0?t.jsxs("div",{className:"p-12 text-center text-slate-500",children:[t.jsx(or,{className:"text-4xl mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No transactions found"})]}):t.jsx("div",{className:"divide-y divide-slate-200",children:x.map((f,b)=>{var j,w;return t.jsxs("div",{className:"p-4 sm:p-6 hover:bg-slate-50 transition flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[t.jsx("div",{className:`p-2 sm:p-3 rounded-lg flex-shrink-0 ${f.type==="credit"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:f.type==="credit"?t.jsx(or,{className:"text-lg sm:text-xl"}):t.jsx(cd,{className:"text-lg sm:text-xl"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[t.jsx("p",{className:"font-semibold text-slate-800 text-sm sm:text-base truncate",children:f.description||"Transaction"}),f.teamMember&&t.jsxs("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded text-xs font-semibold flex items-center gap-1",children:[t.jsx(vr,{className:"text-xs"}),f.teamMember.name]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 mt-1",children:[t.jsx("p",{className:"text-xs sm:text-sm text-slate-500",children:f.createdAt?new Date(f.createdAt).toLocaleString("en-IN"):f.timestamp?new Date(f.timestamp).toLocaleString("en-IN"):"N/A"}),f.transactionId&&t.jsxs("p",{className:"text-xs text-slate-400",children:["ID: ",f.transactionId]})]})]})]}),t.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[t.jsxs("p",{className:`text-lg sm:text-xl font-bold ${f.type==="credit"?"text-green-600":"text-red-600"}`,children:[f.type==="credit"?"+":"-","",((j=f.amount)==null?void 0:j.toLocaleString("en-IN"))||0]}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-500",children:["Balance: ",((w=f.balance)==null?void 0:w.toLocaleString("en-IN"))||0]}),t.jsxs("button",{onClick:()=>u({data:f,type:"transaction"}),className:"mt-2 px-2 sm:px-3 py-1 sm:py-1.5 bg-primary/10 text-primary rounded-lg text-xs sm:text-sm font-semibold hover:bg-primary/20 transition inline-flex items-center gap-1 sm:gap-2",children:[t.jsx(Gt,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Invoice"})]})]})]},b)})})]}),c&&t.jsx(Y6,{data:c.data,type:c.type,onClose:()=>u(null)})]})},$5e=()=>{var P,C,I;const{partner:e,token:r}=_n(),a=((e==null?void 0:e.partnerType)||"individual")==="franchise",[n,i]=g.useState({walletBalance:0,totalJobs:0,completedJobs:0,pendingJobs:0,totalEarnings:0,teamMembers:0}),[l,o]=g.useState(!0),[d,c]=g.useState({monthlyJobs:[],monthlyEarnings:[],statusDistribution:[],transactionTrend:[]}),[u,m]=g.useState([]),[x,h]=g.useState([]),[p,f]=g.useState(null);g.useEffect(()=>{(async()=>{var O,R,Z;if(r)try{const Y=await jt.getWallet(r),ce=((O=Y==null?void 0:Y.data)==null?void 0:O.balance)||((R=Y==null?void 0:Y.success)==null?void 0:R.balance)||0,D=((Z=Y==null?void 0:Y.data)==null?void 0:Z.transactions)||(Y==null?void 0:Y.transactions)||[],z=await jt.getBookings(r);let se=[];z!=null&&z.bookings?Object.values(z.bookings).forEach(ee=>{Array.isArray(ee)&&(se=se.concat(ee))}):Array.isArray(z)?se=z:Array.isArray(z==null?void 0:z.data)?se=z.data:Array.isArray(z==null?void 0:z.bookings)&&(se=z.bookings);const K=se.length,_=se.filter(ee=>(ee==null?void 0:ee.status)==="completed").length,M=se.filter(ee=>["pending","accepted","in_progress"].includes(ee==null?void 0:ee.status)).length;let F=0;if(a)try{const ee=await jt.getTeamMembers(r),fe=(ee==null?void 0:ee.data)||ee||[];F=Array.isArray(fe)?fe.filter(xe=>xe.status==="active").length:0}catch(ee){console.error("Error fetching team members:",ee)}const B=se.filter(ee=>(ee==null?void 0:ee.status)==="completed").reduce((ee,fe)=>ee+((fe==null?void 0:fe.amount)||(fe==null?void 0:fe.totalAmount)||0),0);i({walletBalance:ce,totalJobs:K,completedJobs:_,pendingJobs:M,totalEarnings:B,teamMembers:F});const q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ae=new Date,V={},G={};for(let ee=5;ee>=0;ee--){const fe=new Date(ae.getFullYear(),ae.getMonth()-ee,1),xe=`${fe.getFullYear()}-${fe.getMonth()+1}`;V[xe]={month:q[fe.getMonth()],jobs:0,earnings:0},G[xe]={month:q[fe.getMonth()],earnings:0}}se.forEach(ee=>{if(ee.createdAt){const fe=new Date(ee.createdAt),xe=`${fe.getFullYear()}-${fe.getMonth()+1}`;V[xe]&&(V[xe].jobs++,ee.status==="completed"&&(V[xe].earnings+=ee.amount||ee.totalAmount||0,G[xe].earnings+=ee.amount||ee.totalAmount||0))}});const te=Object.values(V),pe=Object.values(G),ye={completed:se.filter(ee=>(ee==null?void 0:ee.status)==="completed").length,pending:se.filter(ee=>(ee==null?void 0:ee.status)==="pending").length,accepted:se.filter(ee=>(ee==null?void 0:ee.status)==="accepted").length,in_progress:se.filter(ee=>(ee==null?void 0:ee.status)==="in_progress").length,rejected:se.filter(ee=>(ee==null?void 0:ee.status)==="rejected").length},he=[{name:"Completed",value:ye.completed,color:"#10b981"},{name:"Pending",value:ye.pending,color:"#f59e0b"},{name:"Accepted",value:ye.accepted,color:"#3b82f6"},{name:"In Progress",value:ye.in_progress,color:"#8b5cf6"},{name:"Rejected",value:ye.rejected,color:"#ef4444"}].filter(ee=>ee.value>0),Qe={},W=new Date;W.setDate(W.getDate()-30);for(let ee=29;ee>=0;ee--){const fe=new Date;fe.setDate(fe.getDate()-ee);const xe=fe.toISOString().split("T")[0];Qe[xe]={date:fe.toLocaleDateString("en-IN",{month:"short",day:"numeric"}),credit:0,debit:0}}D.forEach(ee=>{if(ee.createdAt||ee.timestamp){const fe=new Date(ee.createdAt||ee.timestamp);if(fe>=W){const xe=fe.toISOString().split("T")[0];Qe[xe]&&(ee.type==="credit"?Qe[xe].credit+=ee.amount||0:ee.type==="debit"&&(Qe[xe].debit+=ee.amount||0))}}});const Ie=Object.values(Qe),Se=se.sort((ee,fe)=>new Date(fe.createdAt||fe.updatedAt)-new Date(ee.createdAt||ee.updatedAt)).slice(0,5),we=D.sort((ee,fe)=>new Date(fe.createdAt||fe.timestamp)-new Date(ee.createdAt||ee.timestamp)).slice(0,5),L=se.filter(ee=>ee.status==="accepted"&&ee.createdAt&&(ee.acceptedAt||ee.updatedAt));let ue=null;if(L.length>0){const ee=L.map(ve=>{const Ne=new Date(ve.createdAt);return new Date(ve.acceptedAt||ve.updatedAt)-Ne}),fe=ee.reduce((ve,Ne)=>ve+Ne,0)/ee.length,xe=fe/(1e3*60*60);if(xe<1){const ve=fe/6e4;ue=`${Math.round(ve)}m`}else ue=`${xe.toFixed(1)}h`}c({monthlyJobs:te,monthlyEarnings:pe,statusDistribution:he,transactionTrend:Ie}),m(Se),h(we),f(ue)}catch(Y){console.error("Error fetching stats:",Y)}finally{o(!1)}})()},[r,a]);const b=({percentage:A,size:O=80,strokeWidth:R=8,color:Z,children:Y})=>{const ce=(O-R)/2,D=ce*2*Math.PI,z=D-A/100*D,se={blue:{stroke:"#3b82f6",text:"text-blue-600"},green:{stroke:"#10b981",text:"text-green-600"},purple:{stroke:"#8b5cf6",text:"text-purple-600"},emerald:{stroke:"#10b981",text:"text-emerald-600"},orange:{stroke:"#f59e0b",text:"text-orange-600"},indigo:{stroke:"#6366f1",text:"text-indigo-600"}},K=se[Z]||se.blue;return t.jsxs("div",{className:"relative",style:{width:O,height:O},children:[t.jsxs("svg",{width:O,height:O,className:"transform -rotate-90",children:[t.jsx("circle",{cx:O/2,cy:O/2,r:ce,stroke:"#e2e8f0",strokeWidth:R,fill:"none"}),t.jsx("circle",{cx:O/2,cy:O/2,r:ce,stroke:K.stroke,strokeWidth:R,fill:"none",strokeDasharray:D,strokeDashoffset:z,strokeLinecap:"round",className:"transition-all duration-1000 ease-out",style:{transition:"stroke-dashoffset 1s ease-out"}})]}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"text-center",children:Y})})]})},j=n.totalJobs>0?Math.round(n.completedJobs/n.totalJobs*100):0,w=n.totalJobs>0?Math.round(n.pendingJobs/n.totalJobs*100):0,y=Math.min(Math.round(n.walletBalance/1e5*100),100),v=Math.min(Math.round(n.teamMembers/10*100),100),N=Math.min(Math.round(n.totalEarnings/1e5*100),100),k=[{label:"Wallet Balance",value:`${n.walletBalance.toLocaleString("en-IN")}`,icon:Jt,color:"blue",bgColor:"bg-blue-500",link:"/partner/dashboard/wallet",percentage:y,subtitle:"Balance"},{label:"Total Jobs",value:n.totalJobs,icon:is,color:"green",bgColor:"bg-green-500",link:"/partner/dashboard/jobs",percentage:j,subtitle:`${j}% completed`},{label:"Completed Jobs",value:n.completedJobs,icon:or,color:"purple",bgColor:"bg-purple-500",link:"/partner/dashboard/jobs",percentage:j,subtitle:"Success rate"},{label:"Total Earnings",value:`${n.totalEarnings.toLocaleString("en-IN")}`,icon:Jt,color:"emerald",bgColor:"bg-emerald-500",link:"/partner/dashboard/jobs",percentage:N,subtitle:"Total revenue"},{label:"Pending Jobs",value:n.pendingJobs,icon:is,color:"orange",bgColor:"bg-orange-500",link:"/partner/dashboard/jobs",percentage:w,subtitle:`${w}% pending`},{label:"Team Members",value:n.teamMembers,icon:Lr,color:"indigo",bgColor:"bg-indigo-500",link:"/partner/dashboard/team",percentage:v,subtitle:"Active members",showOnlyForFranchise:!0}].filter(A=>!A.showOnlyForFranchise||a);return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[t.jsxs("div",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-transparent rounded-xl p-4 sm:p-6 border border-primary/20 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-primary/5 rounded-full -mr-20 -mt-20"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-primary/5 rounded-full -ml-16 -mb-16"}),t.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2 flex items-center gap-2",children:[t.jsx("span",{children:"Dashboard Overview"}),t.jsx("span",{className:"text-lg sm:text-xl",children:""})]}),t.jsxs("p",{className:"text-sm sm:text-base text-slate-600",children:["Welcome back, ",t.jsx("span",{className:"font-semibold text-primary",children:((P=e==null?void 0:e.profile)==null?void 0:P.name)||(e==null?void 0:e.name)||"Partner"}),"! "]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),t.jsxs("span",{className:"text-slate-600",children:[t.jsxs("span",{className:"font-semibold text-slate-800",children:[j,"%"]})," completion rate"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),t.jsxs("span",{className:"text-slate-600",children:[t.jsx("span",{className:"font-semibold text-slate-800",children:n.totalJobs})," total jobs"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[t.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),t.jsxs("span",{className:"text-slate-600",children:[t.jsxs("span",{className:"font-semibold text-slate-800",children:["",n.totalEarnings.toLocaleString("en-IN")]})," earned"]})]})]})]}),t.jsxs("div",{className:"text-xs sm:text-sm text-slate-500 bg-white/80 backdrop-blur-sm px-4 py-2 rounded-lg shadow-sm border border-slate-200",children:[t.jsx("div",{className:"font-medium text-slate-700 mb-0.5",children:"Today"}),new Date().toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:k.map((A,O)=>{const R=A.icon;return t.jsxs(Ht,{to:A.link,className:"bg-white rounded-xl shadow-md hover:shadow-2xl transition-all duration-300 p-4 sm:p-6 border border-slate-200 hover:border-primary/50 group transform hover:-translate-y-1 relative overflow-hidden",children:[t.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 bg-gradient-to-br ${A.bgColor} opacity-5 rounded-full -mr-12 -mt-12 group-hover:opacity-10 transition-opacity`}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:`${A.bgColor} p-2.5 sm:p-3 rounded-xl text-white shadow-lg group-hover:scale-110 transition-transform duration-300`,children:t.jsx(R,{className:"text-lg sm:text-xl"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-xs sm:text-sm font-medium text-slate-600 mb-0.5",children:A.label}),A.subtitle&&t.jsx("p",{className:"text-xs text-slate-400",children:A.subtitle})]})]}),t.jsx("p",{className:"text-xl sm:text-2xl font-bold text-slate-800 group-hover:text-primary transition-colors mb-4",children:A.value})]}),t.jsx("div",{className:"flex-shrink-0",children:t.jsx(b,{percentage:A.percentage,size:70,strokeWidth:6,color:A.color,children:t.jsxs("span",{className:`text-xs sm:text-sm font-bold ${A.color==="blue"?"text-blue-600":A.color==="green"?"text-green-600":A.color==="purple"?"text-purple-600":A.color==="emerald"?"text-emerald-600":A.color==="orange"?"text-orange-600":"text-indigo-600"}`,children:[A.percentage,"%"]})})})]}),t.jsx("div",{className:"mt-4 h-1 bg-slate-100 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full ${A.bgColor} rounded-full transition-all duration-1000 ease-out`,style:{width:`${A.percentage}%`}})})]})]},O)})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-blue-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(is,{className:"text-blue-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Monthly Jobs Trend"})]}),t.jsx(Wi,{width:"100%",height:250,children:t.jsxs(jB,{data:d.monthlyJobs,children:[t.jsx(Xc,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),t.jsx(Qc,{dataKey:"month",stroke:"#64748b"}),t.jsx(Zc,{stroke:"#64748b"}),t.jsx(qi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),t.jsx(_u,{}),t.jsx(f6,{dataKey:"jobs",fill:"#3b82f6",name:"Jobs",radius:[8,8,0,0]})]})})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-purple-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx(or,{className:"text-purple-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Jobs Status Distribution"})]}),d.statusDistribution.length>0?t.jsx(Wi,{width:"100%",height:250,children:t.jsxs(zg,{children:[t.jsx(k0,{data:d.statusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:A,percent:O})=>`${A}: ${(O*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:d.statusDistribution.map((A,O)=>t.jsx(rc,{fill:A.color},`cell-${O}`))}),t.jsx(qi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] text-slate-400",children:[t.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mb-3",children:t.jsx(or,{className:"text-2xl text-purple-400"})}),t.jsx("p",{className:"text-sm font-medium text-slate-500",children:"No data available"}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Start completing jobs to see statistics"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-green-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(Jt,{className:"text-green-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Monthly Earnings Trend"})]}),t.jsx(Wi,{width:"100%",height:250,children:t.jsxs(Eve,{data:d.monthlyEarnings,children:[t.jsx(Xc,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),t.jsx(Qc,{dataKey:"month",stroke:"#64748b"}),t.jsx(Zc,{stroke:"#64748b"}),t.jsx(qi,{formatter:A=>`${A.toLocaleString("en-IN")}`,contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),t.jsx(_u,{}),t.jsx(ZR,{type:"monotone",dataKey:"earnings",stroke:"#10b981",strokeWidth:3,name:"Earnings ()",dot:{fill:"#10b981",r:4},activeDot:{r:6}})]})})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-orange-500/10 transition-colors"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:t.jsx(or,{className:"text-orange-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Transaction Trend (Last 30 Days)"})]}),d.transactionTrend.length>0?t.jsx(Wi,{width:"100%",height:250,children:t.jsxs(C6,{data:d.transactionTrend,children:[t.jsx(Xc,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),t.jsx(Qc,{dataKey:"date",angle:-45,textAnchor:"end",height:80,stroke:"#64748b"}),t.jsx(Zc,{stroke:"#64748b"}),t.jsx(qi,{formatter:A=>`${A.toLocaleString("en-IN")}`,contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),t.jsx(_u,{}),t.jsx(P0,{type:"monotone",dataKey:"credit",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Credits"}),t.jsx(P0,{type:"monotone",dataKey:"debit",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Debits"})]})}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] text-slate-400",children:[t.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mb-3",children:t.jsx(or,{className:"text-2xl text-orange-400"})}),t.jsx("p",{className:"text-sm font-medium text-slate-500",children:"No transaction data"}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Transactions will appear here"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/5 to-primary/10 rounded-full -mr-16 -mt-16"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-primary to-primary-dark rounded-lg",children:t.jsx(Hi,{className:"text-white text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Performance Insights"})]})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 border border-blue-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs font-medium text-blue-700",children:"Avg Response Time"}),t.jsx(Xr,{className:"text-blue-600 text-sm"})]}),t.jsx("p",{className:"text-2xl font-bold text-blue-900",children:p||"0h"}),t.jsx("p",{className:"text-xs text-blue-600 mt-1",children:p?"Based on accepted jobs":"No accepted jobs yet"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl p-4 border border-emerald-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs font-medium text-emerald-700",children:"Success Rate"}),t.jsx(gn,{className:"text-emerald-600 text-sm"})]}),t.jsxs("p",{className:"text-2xl font-bold text-emerald-900",children:[j,"%"]}),t.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:[n.completedJobs," completed"]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4 border border-purple-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs font-medium text-purple-700",children:"Monthly Growth"}),t.jsx(or,{className:"text-purple-600 text-sm"})]}),t.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[d.monthlyJobs.length>1?Math.round((((C=d.monthlyJobs[d.monthlyJobs.length-1])==null?void 0:C.jobs)||0)/Math.max(((I=d.monthlyJobs[d.monthlyJobs.length-2])==null?void 0:I.jobs)||1,1)*100):0,"%"]}),t.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"vs last month"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-4 border border-orange-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs font-medium text-orange-700",children:"Active Jobs"}),t.jsx(Wc,{className:"text-orange-600 text-sm"})]}),t.jsx("p",{className:"text-2xl font-bold text-orange-900",children:n.pendingJobs}),t.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"In progress"})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-purple-500/5 rounded-full -mr-12 -mt-12"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx(Wc,{className:"text-purple-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Recent Activity"})]}),t.jsx(Ht,{to:"/partner/dashboard/jobs",className:"text-xs text-primary hover:underline",children:"View all"})]}),t.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:u.length>0?u.map((A,O)=>{const R={completed:"bg-green-100 text-green-700 border-green-200",pending:"bg-yellow-100 text-yellow-700 border-yellow-200",accepted:"bg-blue-100 text-blue-700 border-blue-200",in_progress:"bg-purple-100 text-purple-700 border-purple-200",rejected:"bg-red-100 text-red-700 border-red-200"},Z=R[A.status]||R.pending;return t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[t.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${A.status==="completed"?"bg-green-500":A.status==="in_progress"?"bg-purple-500":"bg-yellow-500"}`}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-800 truncate",children:A.serviceName||A.serviceCategory||"Service"}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full border ${Z} font-medium`,children:A.status||"pending"})]}),t.jsxs("p",{className:"text-xs text-slate-600 mb-1",children:["",(A.amount||A.totalAmount||0).toLocaleString("en-IN")]}),t.jsx("p",{className:"text-xs text-slate-400",children:A.createdAt?new Date(A.createdAt).toLocaleDateString("en-IN",{month:"short",day:"numeric"}):"Recently"})]})]},O)}):t.jsxs("div",{className:"text-center py-8 text-slate-400",children:[t.jsx(is,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:"No recent activity"})]})})]})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-primary/5 rounded-full -mr-20 -mt-20"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-primary to-primary-dark rounded-lg",children:t.jsx(Hi,{className:"text-white text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Quick Actions"})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[t.jsxs(Ht,{to:"/partner/dashboard/wallet",className:"group p-4 sm:p-5 bg-gradient-to-br from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 rounded-xl transition-all duration-300 text-center transform hover:-translate-y-1 hover:shadow-lg relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-blue-500/10 rounded-full -mr-8 -mt-8 group-hover:bg-blue-500/20 transition-colors"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform shadow-lg",children:t.jsx(Jt,{className:"text-xl sm:text-2xl text-white"})}),t.jsx("p",{className:"text-xs sm:text-sm font-semibold text-blue-800",children:"View Wallet"})]})]}),t.jsxs(Ht,{to:"/partner/dashboard/jobs",className:"group p-4 sm:p-5 bg-gradient-to-br from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 rounded-xl transition-all duration-300 text-center transform hover:-translate-y-1 hover:shadow-lg relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-green-500/10 rounded-full -mr-8 -mt-8 group-hover:bg-green-500/20 transition-colors"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform shadow-lg",children:t.jsx(is,{className:"text-xl sm:text-2xl text-white"})}),t.jsx("p",{className:"text-xs sm:text-sm font-semibold text-green-800",children:"Manage Jobs"})]})]}),t.jsxs(Ht,{to:"/partner/dashboard/spare-parts",className:"group p-4 sm:p-5 bg-gradient-to-br from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200 rounded-xl transition-all duration-300 text-center transform hover:-translate-y-1 hover:shadow-lg relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-purple-500/10 rounded-full -mr-8 -mt-8 group-hover:bg-purple-500/20 transition-colors"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"bg-purple-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform shadow-lg",children:t.jsx(gs,{className:"text-xl sm:text-2xl text-white"})}),t.jsx("p",{className:"text-xs sm:text-sm font-semibold text-purple-800",children:"Spare Parts"})]})]}),t.jsxs(Ht,{to:"/partner/dashboard/transactions",className:"group p-4 sm:p-5 bg-gradient-to-br from-orange-50 to-orange-100 hover:from-orange-100 hover:to-orange-200 rounded-xl transition-all duration-300 text-center transform hover:-translate-y-1 hover:shadow-lg relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-orange-500/10 rounded-full -mr-8 -mt-8 group-hover:bg-orange-500/20 transition-colors"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"bg-orange-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform shadow-lg",children:t.jsx(or,{className:"text-xl sm:text-2xl text-white"})}),t.jsx("p",{className:"text-xs sm:text-sm font-semibold text-orange-800",children:"Transactions"})]})]})]})]})]}),x.length>0&&t.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full -mr-16 -mt-16"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:t.jsx(xs,{className:"text-emerald-600 text-lg"})}),t.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Recent Transactions"})]}),t.jsxs(Ht,{to:"/partner/dashboard/transactions",className:"text-xs text-primary hover:underline flex items-center gap-1",children:["View all ",t.jsx(us,{className:"text-xs"})]})]}),t.jsx("div",{className:"space-y-2",children:x.slice(0,3).map((A,O)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${A.type==="credit"?"bg-green-100":"bg-red-100"}`,children:A.type==="credit"?t.jsx(or,{className:`text-lg ${A.type==="credit"?"text-green-600":"text-red-600"}`}):t.jsx(or,{className:`text-lg rotate-180 ${A.type==="credit"?"text-green-600":"text-red-600"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-800",children:A.description||A.type==="credit"?"Credit":"Debit"}),t.jsx("p",{className:"text-xs text-slate-500",children:A.createdAt?new Date(A.createdAt).toLocaleDateString("en-IN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Recently"})]})]}),t.jsxs("div",{className:`text-sm font-bold ${A.type==="credit"?"text-green-600":"text-red-600"}`,children:[A.type==="credit"?"+":"-","",(A.amount||0).toLocaleString("en-IN")]})]},O))})]})]})]})},z5e=()=>{var dt,ke,Re,Tt,Rt,be;const{partner:e,token:r,updatePartner:s}=_n(),[a,n]=g.useState(null),[i,l]=g.useState(!0),[o,d]=g.useState(!1),[c,u]=g.useState(!1),[m,x]=g.useState(!1),[h,p]=g.useState(!1),[f,b]=g.useState({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",landmark:"",pincode:"",city:"",gstNumber:""}),[j,w]=g.useState({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),[y,v]=g.useState({}),[N,S]=g.useState(null),[k,P]=g.useState(null),[C,I]=g.useState([]),[A,O]=g.useState([]),[R,Z]=g.useState([]),[Y,ce]=g.useState([]),[D,z]=g.useState([]),[se,K]=g.useState([]),[_,M]=g.useState([]),[F,B]=g.useState(!1),[q,ae]=g.useState(null),[V,G]=g.useState(null),[te,pe]=g.useState(!1);g.useEffect(()=>{ye(),he(),Qe()},[r]),g.useEffect(()=>{if(a&&C.length>0){const T=(a==null?void 0:a.hubs)||(e==null?void 0:e.hubs)||[];if(console.log("Profile Hubs:",T),console.log("Available Hubs:",C),T.length>0){const ie=T.map(Te=>{var qe,At;return typeof Te=="string"?Te:Te&&typeof Te=="object"?((qe=Te._id)==null?void 0:qe.toString())||((At=Te.id)==null?void 0:At.toString())||Te.toString():Te==null?void 0:Te.toString()}).filter(Boolean);console.log("Setting selected hubs:",ie),O(ie)}else console.log("No hubs found in profile"),O([])}},[a,C,e]);const ye=async()=>{var T,ie,Te,qe,At,ft;if(r){l(!0);try{const pt=await jt.getProfile(r);if(pt.success&&pt.profile){const ge=pt.profile;if(n(ge),b({name:ge.name||"",email:ge.email||((T=ge.profile)==null?void 0:T.email)||"",phone:ge.phone||"",whatsappNumber:ge.whatsappNumber||"",qualification:ge.qualification||"",experience:ge.experience||"",address:ge.address||((ie=ge.profile)==null?void 0:ie.address)||"",landmark:ge.landmark||((Te=ge.profile)==null?void 0:Te.landmark)||"",pincode:ge.pincode||((qe=ge.profile)==null?void 0:qe.pincode)||"",city:ge.city||((At=ge.profile)==null?void 0:At.city)||"",gstNumber:ge.gstNumber||((ft=ge.profile)==null?void 0:ft.gstNumber)||""}),ge.profilePicture){const U=ge.profilePicture.startsWith("http")?ge.profilePicture:`http://localhost:9088/${ge.profilePicture}`;P(U)}if(ge.kyc){w(de=>{var Ve,Je,Ge,me;return{...de,accountNumber:((Ve=ge.bankDetails)==null?void 0:Ve.accountNumber)||"",ifscCode:((Je=ge.bankDetails)==null?void 0:Je.ifscCode)||"",accountHolderName:((Ge=ge.bankDetails)==null?void 0:Ge.accountHolderName)||"",bankName:((me=ge.bankDetails)==null?void 0:me.bankName)||""}});const U={};ge.kyc.panCard&&(U.panCard=W(ge.kyc.panCard)),ge.kyc.aadhaar&&(U.aadhaar=W(ge.kyc.aadhaar)),ge.kyc.aadhaarback&&(U.aadhaarback=W(ge.kyc.aadhaarback)),ge.kyc.chequeImage&&(U.chequeImage=W(ge.kyc.chequeImage)),ge.kyc.drivingLicence&&(U.drivingLicence=W(ge.kyc.drivingLicence)),ge.kyc.bill&&(U.bill=W(ge.kyc.bill)),v(U)}if(ge.category&&ge.category.length>0){const U=ge.category.map(de=>de._id||de);ce(U),z(ge.categoryNames||ge.category.map(de=>de.name||"").filter(Boolean))}ge.subcategory&&K(Array.isArray(ge.subcategory)?ge.subcategory:[ge.subcategory]),ge.service&&M(Array.isArray(ge.service)?ge.service:[ge.service]),console.log("Profile loaded with hubs:",ge.hubs)}}catch(pt){ae(pt.message||"Failed to fetch profile")}finally{l(!1)}}},he=async()=>{if(r)try{const T=await jt.getAvailableHubs(r),ie=(T==null?void 0:T.data)||T||[];I(Array.isArray(ie)?ie:[])}catch(T){console.error("Failed to fetch hubs:",T)}},Qe=async()=>{if(r)try{const T=await jt.getCategories(r),ie=(T==null?void 0:T.data)||T||[];Z(Array.isArray(ie)?ie:[])}catch(T){console.error("Failed to fetch categories:",T)}},W=T=>T?T.startsWith("http")?T:`http://localhost:9088/${T}`:null,Ie=T=>{const ie=T.target.files[0];if(ie){S(ie);const Te=new FileReader;Te.onloadend=()=>{P(Te.result)},Te.readAsDataURL(ie)}},Se=(T,ie)=>{if(ie){w(qe=>({...qe,[T]:ie}));const Te=new FileReader;Te.onloadend=()=>{v(qe=>({...qe,[T]:Te.result}))},Te.readAsDataURL(ie)}},we=async()=>{if(r){B(!0),ae(null),G(null);try{const T=new FormData;Object.keys(f).forEach(Te=>{f[Te]&&T.append(Te,f[Te])}),N&&T.append("profilePicture",N);const ie=await jt.updateProfile(r,T);ie.success?(G("Profile updated successfully!"),d(!1),s(ie.profile||f),ye()):ae(ie.message||"Failed to update profile")}catch(T){ae(T.message||"Failed to update profile")}finally{B(!1)}}},L=async()=>{if(r){B(!0),ae(null),G(null);try{const T=await jt.updateKYC(r,j);T.success?(G("KYC documents updated successfully!"),u(!1),ye()):ae(T.message||"Failed to update KYC")}catch(T){ae(T.message||"Failed to update KYC")}finally{B(!1)}}},ue=async()=>{if(r){B(!0),ae(null),G(null);try{const T=await jt.selectCategoryAndService(r,{partnerId:(e==null?void 0:e._id)||(a==null?void 0:a.id),category:Y,categoryNames:D,subcategory:se,service:_});T.success?(G("Categories and services updated successfully!"),x(!1),ye()):ae(T.message||"Failed to update categories")}catch(T){ae(T.message||"Failed to update categories")}finally{B(!1)}}},ee=async T=>{if(r)try{const ie=T==null?void 0:T.toString(),Te=A.some(qe=>(qe==null?void 0:qe.toString())===ie);Te?(await jt.unassignHub(r,ie),O(qe=>qe.filter(At=>(At==null?void 0:At.toString())!==ie))):(await jt.assignHub(r,ie),O(qe=>[...qe,ie])),G(`Hub ${Te?"unassigned":"assigned"} successfully!`),setTimeout(()=>ye(),500)}catch(ie){ae(ie.message||"Failed to update hub assignment")}},fe=(T,ie)=>{Y.includes(T)?(ce(Te=>Te.filter(qe=>qe!==T)),z(Te=>Te.filter(qe=>qe!==ie))):(ce(Te=>[...Te,T]),z(Te=>[...Te,ie]))};if(i)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})});const xe=k||(a==null?void 0:a.profilePicture)||null,ve=f.name||((dt=e==null?void 0:e.profile)==null?void 0:dt.name)||(e==null?void 0:e.name)||"Partner",Ne=ve.charAt(0).toUpperCase(),Ke=((ke=a==null?void 0:a.kyc)==null?void 0:ke.status)||"pending";return t.jsxs("div",{className:"space-y-4 md:space-y-6 px-2 sm:px-4 md:px-0",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Profile"}),t.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your complete profile information"})]}),t.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:!o&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>pe(!0),className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[t.jsx(gn,{})," ID Card"]}),t.jsxs("button",{onClick:()=>d(!0),className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[t.jsx(Cs,{})," ",t.jsx("span",{className:"hidden sm:inline",children:"Edit Profile"}),t.jsx("span",{className:"sm:hidden",children:"Edit"})]})]})})]}),V&&t.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-green-700",children:V}),q&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-red-700",children:q}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-4 md:gap-6",children:[t.jsxs("div",{className:"relative flex-shrink-0",children:[t.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden border-4 border-primary/20 bg-gradient-to-br from-primary to-primary-dark flex items-center justify-center",children:xe?t.jsx("img",{src:xe,alt:ve,className:"w-full h-full object-cover"}):t.jsx("span",{className:"text-3xl sm:text-4xl font-bold text-white",children:Ne})}),o&&t.jsxs("label",{className:"absolute bottom-0 right-0 bg-primary text-white p-1.5 sm:p-2 rounded-full cursor-pointer hover:bg-primary-dark transition shadow-lg",children:[t.jsx(c0,{className:"text-base sm:text-lg"}),t.jsx("input",{type:"file",accept:"image/*",onChange:Ie,className:"hidden"})]})]}),t.jsxs("div",{className:"flex-1 w-full text-center md:text-left",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2 justify-center md:justify-start",children:[t.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:ve}),t.jsx("div",{className:`px-2 sm:px-3 py-1 rounded-full text-xs font-semibold inline-block ${Ke==="approved"?"bg-green-100 text-green-800":Ke==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:Ke==="approved"?" Verified":Ke==="rejected"?" Rejected":" Pending"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-sm text-slate-600",children:[f.email&&t.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2",children:[t.jsx(tn,{className:"text-slate-400 flex-shrink-0"}),t.jsx("span",{className:"truncate",children:f.email})]}),f.phone&&t.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2",children:[t.jsx(rn,{className:"text-slate-400 flex-shrink-0"}),t.jsxs("span",{children:["+91 ",f.phone]})]}),f.city&&t.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 sm:col-span-2",children:[t.jsx(Pr,{className:"text-slate-400 flex-shrink-0"}),t.jsx("span",{children:f.city})]})]})]}),t.jsx("div",{className:"hidden lg:block flex-shrink-0",children:t.jsx(ai,{className:"opacity-60"})})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsx("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Personal Information"})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Full Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:f.name,onChange:T=>b({...f,name:T.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Email ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"email",value:f.email,onChange:T=>b({...f,email:T.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone Number"}),t.jsx("input",{type:"tel",value:f.phone,onChange:T=>b({...f,phone:T.target.value.replace(/\D/g,"").slice(0,10)}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"WhatsApp Number"}),t.jsx("input",{type:"tel",value:f.whatsappNumber,onChange:T=>b({...f,whatsappNumber:T.target.value.replace(/\D/g,"").slice(0,10)}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Qualification"}),t.jsx("input",{type:"text",value:f.qualification,onChange:T=>b({...f,qualification:T.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Experience (Years)"}),t.jsx("input",{type:"number",value:f.experience,onChange:T=>b({...f,experience:T.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),t.jsx("input",{type:"text",value:f.city,onChange:T=>b({...f,city:T.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),t.jsx("input",{type:"text",value:f.pincode,onChange:T=>b({...f,pincode:T.target.value.replace(/\D/g,"").slice(0,6)}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Address"}),t.jsx("textarea",{value:f.address,onChange:T=>b({...f,address:T.target.value}),disabled:!o,rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Landmark"}),t.jsx("input",{type:"text",value:f.landmark,onChange:T=>b({...f,landmark:T.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Number"}),t.jsx("input",{type:"text",value:f.gstNumber,onChange:T=>b({...f,gstNumber:T.target.value.toUpperCase()}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]})]}),o&&t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 sm:mt-6",children:[t.jsxs("button",{onClick:we,disabled:F,className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 disabled:opacity-50 text-sm sm:text-base",children:[t.jsx(Ji,{})," ",F?"Saving...":"Save Changes"]}),t.jsxs("button",{onClick:()=>{d(!1),ye()},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[t.jsx(xt,{})," Cancel"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Categories & Services"}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-500 mt-1",children:"Select your service categories and services"})]}),!m&&t.jsxs("button",{onClick:()=>x(!0),className:"px-3 sm:px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 text-sm sm:text-base self-start sm:self-auto",children:[t.jsx(Cs,{})," Edit"]})]}),D.length>0?t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Selected Categories:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:D.map((T,ie)=>t.jsxs("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium flex items-center gap-2",children:[t.jsx(s4,{})," ",T]},ie))})]})}):t.jsx("p",{className:"text-slate-500 text-center py-4",children:"No categories selected"}),m&&t.jsxs("div",{className:"mt-4 sm:mt-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Select Categories:"}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3 max-h-60 overflow-y-auto p-3 bg-slate-50 rounded-lg",children:R.map(T=>{const ie=Y.includes(T._id||T.id);return t.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer border-2 transition ${ie?"bg-primary/10 border-primary":"bg-white border-slate-200 hover:border-primary/50"}`,children:[t.jsx("input",{type:"checkbox",checked:ie,onChange:()=>fe(T._id||T.id,T.name),className:"w-4 h-4 text-primary rounded focus:ring-primary"}),t.jsx("span",{className:"font-medium text-slate-800",children:T.name})]},T._id||T.id)})})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("button",{onClick:ue,disabled:F||Y.length===0,className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 disabled:opacity-50 text-sm sm:text-base",children:[t.jsx(Ji,{})," Save Categories"]}),t.jsxs("button",{onClick:()=>{x(!1),ye()},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[t.jsx(xt,{})," Cancel"]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Service Hubs"}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-500 mt-1",children:"Manage your assigned service hubs"})]}),!h&&t.jsxs("button",{onClick:()=>p(!0),className:"px-3 sm:px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 text-sm sm:text-base self-start sm:self-auto",children:[t.jsx(Cs,{})," Edit"]})]}),A.length>0?t.jsx("div",{className:"space-y-3",children:C.filter(T=>{var Te;const ie=(Te=T._id||T.id)==null?void 0:Te.toString();return A.some(qe=>(qe==null?void 0:qe.toString())===ie)}).map(T=>t.jsxs("div",{className:"p-3 sm:p-4 bg-slate-50 rounded-lg border border-slate-200 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsx(e4,{className:"text-primary text-lg sm:text-xl flex-shrink-0"}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"font-semibold text-slate-800 truncate",children:T.name}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 truncate",children:[T.city,", ",T.state]})]})]}),h&&t.jsx("button",{onClick:()=>{var ie;return ee((ie=T._id||T.id)==null?void 0:ie.toString())},className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-red-100 text-red-600 rounded-lg font-semibold hover:bg-red-200 transition text-sm sm:text-base w-full sm:w-auto",children:"Remove"})]},T._id||T.id))}):t.jsx("p",{className:"text-slate-500 text-center py-4",children:"No hubs assigned"}),h&&t.jsxs("div",{className:"mt-4 sm:mt-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Available Hubs:"}),t.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto p-3 bg-slate-50 rounded-lg",children:C.map(T=>{var qe;const ie=(qe=T._id||T.id)==null?void 0:qe.toString(),Te=A.some(At=>(At==null?void 0:At.toString())===ie);return t.jsxs("div",{className:`p-3 rounded-lg border-2 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 ${Te?"bg-primary/10 border-primary":"bg-white border-slate-200"}`,children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 truncate",children:T.name}),t.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 truncate",children:[T.city,", ",T.state]})]}),t.jsx("button",{onClick:()=>ee(T._id||T.id),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg font-semibold transition text-sm sm:text-base w-full sm:w-auto ${Te?"bg-red-100 text-red-600 hover:bg-red-200":"bg-primary text-white hover:bg-primary-dark"}`,children:Te?"Remove":"Assign"})]},T._id||T.id)})})]}),t.jsx("button",{onClick:()=>{p(!1),ye()},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition text-sm sm:text-base w-full sm:w-auto",children:"Done"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"KYC Documents"}),t.jsx("p",{className:"text-xs sm:text-sm text-slate-500 mt-1",children:"Upload and manage your KYC documents"}),((Re=a==null?void 0:a.kyc)==null?void 0:Re.status)&&t.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[t.jsx("span",{className:"text-xs font-semibold",children:"Status:"}),t.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${a.kyc.status==="approved"?"bg-green-100 text-green-800":a.kyc.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:a.kyc.status.charAt(0).toUpperCase()+a.kyc.status.slice(1)}),a.kyc.remarks&&t.jsxs("span",{className:"text-xs text-slate-500 break-words",children:["(",a.kyc.remarks,")"]})]})]}),!c&&t.jsxs("button",{onClick:()=>u(!0),className:"px-3 sm:px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 text-sm sm:text-base self-start sm:self-auto",children:[t.jsx(Cs,{})," ",t.jsx("span",{className:"hidden sm:inline",children:a!=null&&a.kyc?"Update KYC":"Upload KYC"}),t.jsx("span",{className:"sm:hidden",children:a!=null&&a.kyc?"Update":"Upload"})]})]}),c?t.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["PAN Card ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"space-y-2",children:[y.panCard&&t.jsx("img",{src:y.panCard,alt:"PAN Card",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),t.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[t.jsx(Gt,{className:"inline text-slate-400 mr-2"}),y.panCard?"Change":"Upload"," PAN Card",t.jsx("input",{type:"file",accept:"image/*",onChange:T=>Se("panCard",T.target.files[0]),className:"hidden"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Aadhaar Card (Front) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"space-y-2",children:[y.aadhaar&&t.jsx("img",{src:y.aadhaar,alt:"Aadhaar Front",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),t.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[t.jsx(Gt,{className:"inline text-slate-400 mr-2"}),y.aadhaar?"Change":"Upload"," Aadhaar Front",t.jsx("input",{type:"file",accept:"image/*",onChange:T=>Se("aadhaar",T.target.files[0]),className:"hidden"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Aadhaar Card (Back) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"space-y-2",children:[y.aadhaarback&&t.jsx("img",{src:y.aadhaarback,alt:"Aadhaar Back",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),t.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[t.jsx(Gt,{className:"inline text-slate-400 mr-2"}),y.aadhaarback?"Change":"Upload"," Aadhaar Back",t.jsx("input",{type:"file",accept:"image/*",onChange:T=>Se("aadhaarback",T.target.files[0]),className:"hidden"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Cancelled Cheque ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"space-y-2",children:[y.chequeImage&&t.jsx("img",{src:y.chequeImage,alt:"Cheque",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),t.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[t.jsx(Gt,{className:"inline text-slate-400 mr-2"}),y.chequeImage?"Change":"Upload"," Cheque",t.jsx("input",{type:"file",accept:"image/*",onChange:T=>Se("chequeImage",T.target.files[0]),className:"hidden"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Driving Licence ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"space-y-2",children:[y.drivingLicence&&t.jsx("img",{src:y.drivingLicence,alt:"Driving Licence",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),t.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[t.jsx(Gt,{className:"inline text-slate-400 mr-2"}),y.drivingLicence?"Change":"Upload"," Driving Licence",t.jsx("input",{type:"file",accept:"image/*",onChange:T=>Se("drivingLicence",T.target.files[0]),className:"hidden"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Utility Bill ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"space-y-2",children:[y.bill&&t.jsx("img",{src:y.bill,alt:"Utility Bill",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),t.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[t.jsx(Gt,{className:"inline text-slate-400 mr-2"}),y.bill?"Change":"Upload"," Utility Bill",t.jsx("input",{type:"file",accept:"image/*",onChange:T=>Se("bill",T.target.files[0]),className:"hidden"})]})]})]})]}),t.jsxs("div",{className:"border-t border-slate-200 pt-4 sm:pt-6",children:[t.jsx("h4",{className:"text-base sm:text-lg font-bold text-slate-800 mb-3 sm:mb-4",children:"Bank Details"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Account Number ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:j.accountNumber,onChange:T=>w({...j,accountNumber:T.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["IFSC Code ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:j.ifscCode,onChange:T=>w({...j,ifscCode:T.target.value.toUpperCase()}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Account Holder Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:j.accountHolderName,onChange:T=>w({...j,accountHolderName:T.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Bank Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:j.bankName,onChange:T=>w({...j,bankName:T.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("button",{onClick:L,disabled:F,className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 disabled:opacity-50 text-sm sm:text-base",children:[t.jsx(Ji,{})," ",F?"Saving...":"Save KYC"]}),t.jsxs("button",{onClick:()=>{u(!1),ye()},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[t.jsx(xt,{})," Cancel"]})]})]}):t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[((Tt=a==null?void 0:a.kyc)==null?void 0:Tt.panCard)&&t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Gt,{className:"text-primary"}),t.jsx("span",{className:"font-semibold text-slate-800",children:"PAN Card"})]}),t.jsx("img",{src:W(a.kyc.panCard),alt:"PAN",className:"w-full h-24 object-cover rounded"})]}),((Rt=a==null?void 0:a.kyc)==null?void 0:Rt.aadhaar)&&t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Gt,{className:"text-primary"}),t.jsx("span",{className:"font-semibold text-slate-800",children:"Aadhaar Front"})]}),t.jsx("img",{src:W(a.kyc.aadhaar),alt:"Aadhaar",className:"w-full h-24 object-cover rounded"})]}),((be=a==null?void 0:a.kyc)==null?void 0:be.chequeImage)&&t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(xs,{className:"text-primary"}),t.jsx("span",{className:"font-semibold text-slate-800",children:"Cheque"})]}),t.jsx("img",{src:W(a.kyc.chequeImage),alt:"Cheque",className:"w-full h-24 object-cover rounded"})]}),!(a!=null&&a.kyc)&&t.jsx("p",{className:"text-slate-500 text-center py-4 md:col-span-3",children:"No KYC documents uploaded yet"})]})]}),te&&a&&t.jsx(xz,{profile:a,partner:e,onClose:()=>pe(!1)})]})},U5e=()=>{const{partner:e}=_n(),s=((e==null?void 0:e.partnerType)||"individual")==="franchise";return t.jsx("div",{className:"space-y-6",children:t.jsxs(Sy,{children:[t.jsx(tt,{index:!0,element:t.jsx($5e,{})}),t.jsx(tt,{path:"profile",element:t.jsx(z5e,{})}),t.jsx(tt,{path:"wallet",element:t.jsx(T5e,{})}),s&&t.jsx(tt,{path:"team",element:t.jsx(I5e,{})}),t.jsx(tt,{path:"jobs",element:t.jsx(L5e,{})}),t.jsx(tt,{path:"subscription",element:t.jsx(F5e,{})}),t.jsx(tt,{path:"spare-parts",element:t.jsx(R5e,{})}),t.jsx(tt,{path:"transactions",element:t.jsx(B5e,{})}),t.jsx(tt,{path:"*",element:t.jsx(Cd,{to:"/partner/dashboard",replace:!0})})]})})},dE=()=>{const{notifications:e}=_n(),[r,s]=g.useState(!1),a=g.useRef(null),n=(e==null?void 0:e.notifications)||[],i=(e==null?void 0:e.unreadCount)||0,l=e==null?void 0:e.markAsRead,o=e==null?void 0:e.fetchNotifications;g.useEffect(()=>{const m=x=>{a.current&&!a.current.contains(x.target)&&s(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]),g.useEffect(()=>{o&&o()},[o]);const d=async(m=null)=>{if(l)try{await l(m),o&&await o()}catch(x){console.error("Error marking notification as read:",x)}},c=async m=>{if(m==null||m.preventDefault(),m==null||m.stopPropagation(),!!l)try{await l(),o&&await o()}catch(x){console.error("Error marking all as read:",x)}},u=m=>{if(!m)return"";const x=new Date(m),p=new Date-x,f=Math.floor(p/6e4),b=Math.floor(p/36e5),j=Math.floor(p/864e5);return f<1?"Just now":f<60?`${f}m ago`:b<24?`${b}h ago`:j<7?`${j}d ago`:x.toLocaleDateString()};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"relative",ref:a,children:t.jsxs("button",{onClick:()=>s(!r),className:"relative p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Notifications",children:[t.jsx(Cn,{className:"w-5 h-5"}),i>0&&t.jsx("span",{className:"absolute top-0 right-0 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs font-semibold text-white transition-opacity duration-200",children:i>9?"9+":i},i)]})}),r&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black/20 z-[9998]",onClick:m=>{m.stopPropagation(),s(!1)}}),t.jsxs("div",{className:"fixed right-4 top-16 lg:right-4 lg:top-20 w-80 md:w-96 bg-white rounded-xl shadow-2xl border border-slate-200 z-[9999] max-h-[calc(100vh-140px)] flex flex-col overflow-hidden",onClick:m=>{m.stopPropagation()},onMouseDown:m=>{m.stopPropagation()},children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Notifications"}),t.jsxs("div",{className:"flex items-center gap-2",children:[i>0&&t.jsx("button",{onClick:m=>{m.preventDefault(),m.stopPropagation(),c(m)},className:"text-xs text-primary hover:text-primary-dark font-medium px-2 py-1 rounded hover:bg-primary/10 transition-colors",type:"button",children:"Mark all read"}),t.jsx("button",{onClick:m=>{m.stopPropagation(),s(!1)},className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",type:"button",children:t.jsx(xt,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:"overflow-y-auto flex-1",children:n.length===0?t.jsxs("div",{className:"p-8 text-center text-slate-500",children:[t.jsx(Cn,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),t.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):t.jsx("div",{className:"divide-y divide-slate-100",children:n.map(m=>{const x=!m.read;return t.jsx("div",{className:`p-4 hover:bg-slate-50 transition-colors cursor-pointer ${x?"bg-blue-50/50":""}`,onClick:h=>{h.stopPropagation(),x&&d(m._id||m.id)},onMouseDown:h=>{h.stopPropagation()},children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:t.jsx("div",{className:`w-2 h-2 rounded-full ${x?"bg-primary":"bg-slate-300"}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`text-sm font-medium line-clamp-2 ${x?"text-slate-900":"text-slate-600"}`,children:m.title||"New notification"}),m.message&&t.jsx("p",{className:"text-xs text-slate-600 mt-1 line-clamp-2",children:m.message}),t.jsx("p",{className:"text-xs text-slate-400 mt-2",children:u(m.createdAt||m.date)})]}),x&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})})]})},m._id||m.id||Math.random())})})}),n.length>0&&t.jsx("div",{className:"p-3 border-t border-slate-200 bg-slate-50",children:t.jsx("button",{onClick:m=>{m.stopPropagation(),s(!1)},className:"w-full text-sm text-center text-primary hover:text-primary-dark font-medium",type:"button",children:"View all notifications"})})]})]})]})},H5e=()=>{var m;const{partner:e,logout:r,notifications:s}=_n(),a=Zt();$r();const[n,i]=g.useState(!1),l=()=>{r(),a("/partner/login",{replace:!0})},o=((m=e==null?void 0:e.profile)==null?void 0:m.name)||(e==null?void 0:e.name)||"Partner",d=o.charAt(0).toUpperCase(),c=(e==null?void 0:e.partnerType)||"individual",u=c==="franchise";return g.useEffect(()=>{console.log("Partner Layout - Partner Data:",{partnerType:c,showTeamTab:u,hasPartner:!!e,partnerKeys:e?Object.keys(e):[]})},[e,c,u]),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex flex-col",children:[t.jsx("header",{className:"lg:hidden bg-white shadow-md border-b border-slate-200 fixed top-0 left-0 right-0 z-[60] w-full",children:t.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>i(!n),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:n?t.jsx(xt,{className:"text-xl"}):t.jsx(zy,{className:"text-xl"})}),t.jsx(ai,{className:"scale-75 origin-left"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(dE,{}),e!=null&&e.profilePicture?t.jsx("img",{src:e.profilePicture.startsWith("http")?e.profilePicture:`http://localhost:9088/${e.profilePicture}`,alt:o,className:"w-10 h-10 rounded-full object-cover border-2 border-primary/20"}):t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold shadow-md",children:d})]})]})}),t.jsxs("div",{className:"flex relative flex-1 pt-[64px] lg:pt-0",children:[t.jsxs("aside",{className:"hidden lg:flex lg:w-64 flex-col bg-white shadow-xl border-r border-slate-200 fixed top-0 left-0 h-screen overflow-hidden z-40",children:[t.jsx("div",{className:"px-4 py-4 border-b border-slate-200 flex-shrink-0 bg-white sticky top-0 z-10",children:t.jsx(ai,{className:"scale-75 origin-left"})}),t.jsx("div",{className:"px-4 py-4 border-b border-slate-200 bg-gradient-to-br from-primary/5 to-primary/10 flex-shrink-0",children:t.jsxs("div",{className:"flex items-center gap-3",children:[e!=null&&e.profilePicture?t.jsx("img",{src:e.profilePicture.startsWith("http")?e.profilePicture:`http://localhost:9088/${e.profilePicture}`,alt:o,className:"w-12 h-12 rounded-full object-cover border-2 border-primary/20"}):t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-lg border-2 border-primary/20",children:d}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 truncate text-sm",children:o}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:(e==null?void 0:e.phone)||"N/A"})]}),t.jsx(dE,{})]})}),t.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",children:[t.jsx(xo,{to:"/partner/dashboard",icon:en,label:"Dashboard"}),t.jsx(xo,{to:"/partner/dashboard/profile",icon:vr,label:"Profile"}),t.jsx(xo,{to:"/partner/dashboard/wallet",icon:Jt,label:"Wallet"}),u&&t.jsx(xo,{to:"/partner/dashboard/team",icon:Lr,label:"Team"}),t.jsx(xo,{to:"/partner/dashboard/jobs",icon:is,label:"Jobs"}),t.jsx(xo,{to:"/partner/dashboard/subscription",icon:xs,label:"MG Plan"}),t.jsx(xo,{to:"/partner/dashboard/spare-parts",icon:gs,label:"Spare Parts"}),t.jsx(xo,{to:"/partner/dashboard/transactions",icon:Jt,label:"Transactions"})]}),t.jsx("div",{className:"px-4 py-4 border-t border-slate-200 flex-shrink-0 bg-white sticky bottom-0 z-10",children:t.jsxs("button",{onClick:l,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-semibold rounded-lg bg-red-50 hover:bg-red-100 text-red-600 transition",children:[t.jsx(Ho,{})," Logout"]})})]}),n&&t.jsx("div",{className:"lg:hidden fixed inset-0 z-[70] bg-black/50 backdrop-blur-sm transition-opacity",onClick:()=>i(!1),children:t.jsxs("div",{className:"w-80 max-w-[85vw] bg-white h-full shadow-2xl overflow-y-auto flex flex-col",onClick:x=>x.stopPropagation(),children:[t.jsxs("div",{className:"px-4 py-4 border-b border-slate-200 flex-shrink-0 sticky top-0 bg-white z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx(ai,{className:"scale-75 origin-left"}),t.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:t.jsx(xt,{className:"text-xl"})})]}),t.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-br from-primary/5 to-primary/10 p-3 rounded-lg",children:[e!=null&&e.profilePicture?t.jsx("img",{src:e.profilePicture.startsWith("http")?e.profilePicture:`http://localhost:9088/${e.profilePicture}`,alt:o,className:"w-10 h-10 rounded-full object-cover border-2 border-primary/20"}):t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold border-2 border-primary/20",children:d}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 truncate text-sm",children:o}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:(e==null?void 0:e.phone)||"N/A"})]})]})]}),t.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:[t.jsx(po,{to:"/partner/dashboard",icon:en,label:"Dashboard",onClick:()=>i(!1)}),t.jsx(po,{to:"/partner/dashboard/profile",icon:vr,label:"Profile",onClick:()=>i(!1)}),t.jsx(po,{to:"/partner/dashboard/wallet",icon:Jt,label:"Wallet",onClick:()=>i(!1)}),u&&t.jsx(po,{to:"/partner/dashboard/team",icon:Lr,label:"Team",onClick:()=>i(!1)}),t.jsx(po,{to:"/partner/dashboard/jobs",icon:is,label:"Jobs",onClick:()=>i(!1)}),t.jsx(po,{to:"/partner/dashboard/subscription",icon:xs,label:"MG Plan",onClick:()=>i(!1)}),t.jsx(po,{to:"/partner/dashboard/spare-parts",icon:gs,label:"Spare Parts",onClick:()=>i(!1)}),t.jsx(po,{to:"/partner/dashboard/transactions",icon:Jt,label:"Transactions",onClick:()=>i(!1)})]}),t.jsx("div",{className:"px-6 py-6 border-t border-slate-200 flex-shrink-0 sticky bottom-0 bg-white z-10",children:t.jsxs("button",{onClick:l,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold rounded-xl bg-red-50 hover:bg-red-100 text-red-600 transition",type:"button",children:[t.jsx(Ho,{})," Logout"]})})]})}),t.jsx("div",{className:"flex-1 min-w-0 w-full lg:ml-64",children:t.jsx("main",{className:"p-4 sm:p-6 lg:p-8 min-h-screen",children:t.jsx(Ql,{})})})]}),t.jsx(g4,{notification:s==null?void 0:s.currentNotification,onClose:(s==null?void 0:s.closeNotificationDialog)||(()=>{}),onMarkAsRead:(s==null?void 0:s.markNotificationAsRead)||(()=>{})})]})},xo=({to:e,icon:r,label:s})=>{const a=$r(),n=a.pathname===e||a.pathname.startsWith(e+"/");return t.jsxs(Ht,{to:e,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 relative group ${n?"bg-primary text-white shadow-md shadow-primary/20":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,children:[t.jsx(r,{className:`text-base transition-transform duration-200 ${n?"scale-110":"group-hover:scale-110"}`}),t.jsx("span",{className:"relative z-10",children:s}),n&&t.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-white rounded-r-full"})]})},po=({to:e,icon:r,label:s,onClick:a})=>{const n=$r(),i=n.pathname===e||n.pathname.startsWith(e+"/");return t.jsxs(Ht,{to:e,onClick:a,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition ${i?"bg-primary text-white shadow-md":"text-slate-600 hover:bg-slate-100"}`,children:[t.jsx(r,{className:"text-base"}),s]})},V5e=()=>{const{isAuthenticated:e,isLoading:r}=_n(),s=$r();return r?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),t.jsx("p",{className:"text-sm font-medium tracking-wide text-white/80",children:"Loading partner portal..."})]})}):e?t.jsx(Ql,{}):t.jsx(Cd,{to:"/partner/login",state:{from:s},replace:!0})},uE="http://localhost:9088",es=e=>e.startsWith("/api/")?`${uE}${e}`:`${uE}/api/vendor${e}`,vs=e=>{const r={"Content-Type":"application/json"};return e&&(r.Authorization=`Bearer ${e}`),r},ts=async e=>{const r=e.headers.get("content-type"),s=r&&r.includes("application/json");let a;try{a=s?await e.json():await e.text()}catch(n){throw console.error("Error parsing response:",n),new Error("Invalid response from server")}if(!e.ok){const n=a!=null&&a.message||a!=null&&a.error||(a==null?void 0:a.success)===!1?a==null?void 0:a.message:"Request failed",i=new Error(n);throw i.status=e.status,i.data=a,i}return a},fs={async sendOTP(e){try{const r=es("/auth/send-otp");console.log(" Vendor OTP API call:",{url:r,phone:e});const s=await fetch(r,{method:"POST",headers:vs(),body:JSON.stringify({phone:e})});return console.log(" Vendor OTP API response status:",s.status),ts(s)}catch(r){throw console.error(" Vendor OTP API fetch error:",r),r}},async verifyOTP(e,r){const s=await fetch(es("/auth/verify-otp"),{method:"POST",headers:vs(),body:JSON.stringify({phone:e,otp:r})});return ts(s)},async loginWithPassword(e,r){const s=await fetch(es("/auth/login"),{method:"POST",headers:vs(),body:JSON.stringify({email:e,password:r})});return ts(s)},async updateFCMToken(e,r){const s=await fetch(es("/auth/update-fcm-token"),{method:"PUT",headers:vs(e),body:JSON.stringify({token:r})});return ts(s)},async getProfile(e){const r=await fetch(es("/auth/profile"),{headers:vs(e)});return ts(r)},async getSpareParts(e,r={}){const s=new URLSearchParams(r).toString(),a=es(`/spare-parts${s?`?${s}`:""}`),n=await fetch(a,{headers:vs(e)});return ts(n)},async getSparePart(e,r){const s=await fetch(es(`/spare-parts/${r}`),{headers:vs(e)});return ts(s)},async addSparePart(e,r){const s=await fetch(es("/spare-parts"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:r});return ts(s)},async updateSparePart(e,r,s){const a=await fetch(es(`/spare-parts/${r}`),{method:"PUT",headers:{Authorization:`Bearer ${e}`},body:s});return ts(a)},async deleteSparePart(e,r){const s=await fetch(es(`/spare-parts/${r}`),{method:"DELETE",headers:vs(e)});return ts(s)},async getCategories(e){const r=await fetch(es("/spare-parts/categories"),{headers:vs(e)});return ts(r)},async getBookings(e,r={}){const s=new URLSearchParams(r).toString(),a=es(`/bookings${s?`?${s}`:""}`),n=await fetch(a,{headers:vs(e)});return ts(n)},async getBooking(e,r){const s=await fetch(es(`/bookings/${r}`),{headers:vs(e)});return ts(s)},async updateBookingStatus(e,r,s){const a=await fetch(es(`/bookings/${r}/status`),{method:"PUT",headers:vs(e),body:JSON.stringify(s)});return ts(a)},async getBookingStats(e){const r=await fetch(es("/bookings/stats"),{headers:vs(e)});return ts(r)},async getTransactions(e,r={}){const s=new URLSearchParams(r).toString(),a=es(`/transactions${s?`?${s}`:""}`),n=await fetch(a,{headers:vs(e)});return ts(n)},async getTransaction(e,r){const s=await fetch(es(`/transactions/${r}`),{headers:vs(e)});return ts(s)},async getTransactionStats(e){const r=await fetch(es("/transactions/stats"),{headers:vs(e)});return ts(r)},async createTransaction(e,r){const s=await fetch(es("/transactions"),{method:"POST",headers:vs(e),body:JSON.stringify(r)});return ts(s)},async getNotifications(e){try{const r=await fetch(es("/notifications"),{headers:vs(e)});return ts(r)}catch(r){if(console.error("Error fetching vendor notifications:",r),r.message&&(r.message.includes("Failed to fetch")||r.message.includes("ERR_CONNECTION_REFUSED")))return{success:!1,notifications:[],message:"Unable to connect to server"};throw r}},async markNotificationAsRead(e,r){const s=await fetch(es(`/notifications/${r}/mark-read`),{method:"PUT",headers:vs(e)});return ts(s)},async markNotificationsAsRead(e){const r=await fetch(es("/notifications/mark-read"),{method:"PUT",headers:vs(e)});return ts(r)}},gz=g.createContext(null),yz={isLoading:!0,isAuthenticated:!1,vendor:null,token:null,error:null};function W5e(e,r){var s,a,n;switch(r.type){case"INIT":return{...e,isLoading:!1,isAuthenticated:!!((s=r.payload)!=null&&s.token),vendor:((a=r.payload)==null?void 0:a.vendor)??null,token:((n=r.payload)==null?void 0:n.token)??null};case"LOGIN_START":return{...e,isLoading:!0,error:null};case"LOGIN_SUCCESS":return{...e,isLoading:!1,isAuthenticated:!0,vendor:r.payload.vendor,token:r.payload.token,error:null};case"LOGIN_ERROR":return{...e,isLoading:!1,isAuthenticated:!1,vendor:null,token:null,error:r.payload};case"LOGOUT":return{...yz,isLoading:!1};case"UPDATE_VENDOR":return{...e,vendor:{...e.vendor,...r.payload}};default:return e}}const G5e=({children:e})=>{const[r,s]=g.useReducer(W5e,yz);g.useEffect(()=>{const i=localStorage.getItem("nexo_vendor_auth");if(i)try{const l=JSON.parse(i);s({type:"INIT",payload:l})}catch(l){console.error("Failed to parse vendor auth cache",l),localStorage.removeItem("nexo_vendor_auth"),s({type:"INIT",payload:null})}else s({type:"INIT",payload:null})},[]);const a=f4(fs,r.token,r.isAuthenticated),n=g.useMemo(()=>({...r,notifications:a,login:async(i,l)=>{s({type:"LOGIN_START"});try{const o=await fs.verifyOTP(i,l);if(o.success&&o.vendor){const d={token:o.vendor.token,vendor:o.vendor};return localStorage.setItem("nexo_vendor_auth",JSON.stringify(d)),s({type:"LOGIN_SUCCESS",payload:d}),d}else throw new Error(o.message||"Login failed")}catch(o){const d=(o==null?void 0:o.message)??"Unable to login";throw s({type:"LOGIN_ERROR",payload:d}),new Error(d)}},loginWithPassword:async(i,l)=>{var o;s({type:"LOGIN_START"});try{const d=await fs.loginWithPassword(i,l);if(console.log("Login response:",d),d.success&&d.vendor){const c={token:d.vendor.token,vendor:d.vendor};return localStorage.setItem("nexo_vendor_auth",JSON.stringify(c)),s({type:"LOGIN_SUCCESS",payload:c}),c}else{const c=d.message||"Login failed";throw console.error("Login failed:",c,d),new Error(c)}}catch(d){console.error("Login error caught:",d);const c=(d==null?void 0:d.message)||((o=d==null?void 0:d.data)==null?void 0:o.message)||"Unable to login";throw s({type:"LOGIN_ERROR",payload:c}),new Error(c)}},logout:()=>{localStorage.removeItem("nexo_vendor_auth"),s({type:"LOGOUT"})},clearError:()=>s({type:"LOGIN_ERROR",payload:null}),updateVendor:i=>{const l=localStorage.getItem("nexo_vendor_auth");if(l)try{const o=JSON.parse(l);o.vendor={...o.vendor,...i},localStorage.setItem("nexo_vendor_auth",JSON.stringify(o)),s({type:"UPDATE_VENDOR",payload:i})}catch(o){console.error("Failed to update vendor data",o)}}}),[r,a]);return t.jsx(gz.Provider,{value:n,children:e})},oo=()=>{const e=g.useContext(gz);if(!e)throw new Error("useVendorAuth must be used within VendorAuthProvider");return e},q5e=()=>{const e=Zt(),{login:r,loginWithPassword:s,error:a,clearError:n}=oo(),[i,l]=g.useState("password"),[o,d]=g.useState(1),[c,u]=g.useState({phone:"",email:"",password:"",otp:""}),[m,x]=g.useState(!1),[h,p]=g.useState(null),[f,b]=g.useState(!1),[j,w]=g.useState(0);_t.useEffect(()=>{let P=null;return j>0&&(P=setInterval(()=>{w(C=>C-1)},1e3)),()=>{P&&clearInterval(P)}},[j]);const y=async P=>{var C;if(P.preventDefault(),P.stopPropagation(),p(null),n(),!c.phone||c.phone.length!==10){p("Please enter a valid 10-digit phone number");return}x(!0);try{console.log(" Vendor OTP request initiated for:",c.phone);const I=await fs.sendOTP(c.phone);if(console.log(" Vendor OTP API response:",I),I&&I.success)b(!0),d(2),w(60);else{const A=(I==null?void 0:I.message)||(I==null?void 0:I.error)||"Failed to send OTP";p(A),console.error(" Vendor OTP failed:",A)}}catch(I){console.error(" Vendor OTP error:",I);const A=I.message||((C=I.data)==null?void 0:C.message)||"Failed to send OTP. Please try again.";p(A)}finally{x(!1)}},v=async P=>{var C;if(P.preventDefault(),p(null),n(),!c.email||!c.password){p("Please enter email and password");return}x(!0);try{await s(c.email.trim(),c.password),e("/vendor/dashboard",{replace:!0})}catch(I){const A=I.message||((C=I.data)==null?void 0:C.message)||"Login failed. Please check your credentials.";p(A),console.error("Login error:",I)}finally{x(!1)}},N=async()=>{if(!(j>0)){x(!0),p(null);try{const P=await fs.sendOTP(c.phone);P.success?w(60):p(P.message||"Failed to resend OTP")}catch(P){p(P.message||"Failed to resend OTP")}finally{x(!1)}}},S=async P=>{if(P.preventDefault(),p(null),n(),!c.otp||c.otp.length!==6){p("Please enter a valid 6-digit OTP");return}x(!0);try{await r(c.phone,c.otp),e("/vendor/dashboard",{replace:!0})}catch(C){p(C.message||"Invalid OTP. Please try again.")}finally{x(!1)}},k=P=>{const{name:C,value:I}=P.target;let A=I;(C==="phone"||C==="otp")&&(A=I.replace(/\D/g,"").slice(0,C==="otp"?6:10)),u(O=>({...O,[C]:A})),p(null),a&&n()};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center px-4 py-10",children:t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-full mb-4",children:t.jsx(Os,{className:"text-2xl text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Vendor Login"}),t.jsx("p",{className:"text-slate-300",children:"Welcome back! Please login to continue"})]}),o===1&&t.jsxs("div",{className:"mb-6 flex gap-2 bg-white/5 rounded-lg p-1",children:[t.jsx("button",{type:"button",onClick:()=>{l("password"),u({phone:"",email:"",password:"",otp:""}),p(null)},className:`flex-1 py-2 px-4 rounded-md text-sm font-semibold transition ${i==="password"?"bg-primary text-white":"text-slate-300 hover:text-white"}`,children:"Password"}),t.jsx("button",{type:"button",onClick:()=>{l("otp"),u({phone:"",email:"",password:"",otp:""}),p(null)},className:`flex-1 py-2 px-4 rounded-md text-sm font-semibold transition ${i==="otp"?"bg-primary text-white":"text-slate-300 hover:text-white"}`,children:"OTP"})]}),(h||a)&&t.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-xl text-red-200 text-sm",children:h||a}),i==="password"&&o===1&&t.jsxs("form",{onSubmit:v,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(tn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"email",name:"email",value:c.email,onChange:k,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter your email",required:!0,disabled:m})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Os,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"password",name:"password",value:c.password,onChange:k,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter your password",required:!0,disabled:m})]})]}),t.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:m?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Logging in..."]}):t.jsxs(t.Fragment,{children:["Login",t.jsx(us,{})]})})]}),i==="otp"&&o===1&&t.jsxs("form",{onSubmit:y,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Phone Number"}),t.jsxs("div",{className:"relative",children:[t.jsx(rn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"tel",name:"phone",value:c.phone,onChange:k,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0,disabled:m})]})]}),t.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:m?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Sending OTP..."]}):t.jsxs(t.Fragment,{children:["Send OTP",t.jsx(us,{})]})})]}),i==="otp"&&o===2&&t.jsxs("form",{onSubmit:S,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Enter OTP"}),t.jsxs("div",{className:"relative",children:[t.jsx(Os,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",name:"otp",value:c.otp,onChange:k,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-center text-2xl tracking-widest",placeholder:"000000",maxLength:6,required:!0,disabled:m,autoFocus:!0})]}),t.jsxs("p",{className:"mt-2 text-xs text-slate-400 text-center",children:["OTP sent to +91 ",c.phone]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("button",{type:"button",onClick:()=>{d(1),u(P=>({...P,otp:""})),b(!1),w(0)},className:"text-slate-300 hover:text-white transition",children:"Change Number"}),t.jsx("button",{type:"button",onClick:N,disabled:j>0||m,className:"text-primary hover:text-primary-light transition disabled:opacity-50 disabled:cursor-not-allowed",children:j>0?`Resend OTP in ${j}s`:"Resend OTP"})]}),t.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:m?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Verifying..."]}):t.jsxs(t.Fragment,{children:["Login",t.jsx(us,{})]})})]})]})})})},K5e=()=>{const{token:e,vendor:r}=oo(),[s,a]=g.useState({totalSpareParts:0,totalBookings:0,totalRevenue:0,pendingBookings:0,completedBookings:0,cancelledBookings:0,monthlyRevenue:0,averageOrderValue:0,lowStockItems:0}),[n,i]=g.useState(!0),[l,o]=g.useState({monthlyRevenue:[],bookingStatus:[],monthlyBookings:[]}),[d,c]=g.useState([]),[u,m]=g.useState([]),[x,h]=g.useState({revenueTrend:0,bookingsTrend:0}),p=g.useCallback(async()=>{var y;if(e)try{const[v,N,S]=await Promise.all([fs.getSpareParts(e),fs.getBookings(e),fs.getTransactionStats(e)]),k=v.data||v.spareParts||[],P=N.data||N.bookings||[],C=S.data||S||{},I=C.totalCredits||0,A=C.totalDebits||0,O=C.balance||I-A,R=P.filter(B=>B.status==="completed").length,Z=P.filter(B=>B.status==="pending"||B.status==="confirmed").length,Y=P.filter(B=>B.status==="cancelled").length,ce=P.filter(B=>B.status==="completed"&&B.totalAmount),D=ce.length>0?ce.reduce((B,q)=>B+(q.totalAmount||0),0)/ce.length:0,z=k.filter(B=>(B.stock||0)<10).length,se=f(P,[]),K=[{name:"Completed",value:R,color:"#10b981"},{name:"Pending",value:Z,color:"#f59e0b"},{name:"Cancelled",value:Y,color:"#ef4444"}],_=b(P),M=j(se),F=j(_);a({totalSpareParts:k.length,totalBookings:P.length,totalRevenue:O,pendingBookings:Z,completedBookings:R,cancelledBookings:Y,monthlyRevenue:((y=se[se.length-1])==null?void 0:y.revenue)||0,averageOrderValue:D,lowStockItems:z}),o({monthlyRevenue:se,bookingStatus:K,monthlyBookings:_}),h({revenueTrend:M,bookingsTrend:F}),c(P.slice(0,5));try{const B=await fs.getTransactions(e),q=B.data||B.transactions||[];m(q.slice(0,5))}catch(B){console.error("Failed to fetch recent transactions:",B),m([])}}catch(v){console.error("Failed to fetch dashboard data:",v)}finally{i(!1)}},[e]);g.useEffect(()=>{if(!e)return;p();const y=setInterval(()=>{p()},3e5);return()=>clearInterval(y)},[e,p]);const f=(y,v=[])=>{const N=[],S=new Date;for(let k=5;k>=0;k--){const P=new Date(S.getFullYear(),S.getMonth()-k,1),C=P.toLocaleDateString("en-US",{month:"short"}),A=y.filter(O=>{const R=new Date(O.orderDate||O.createdAt);return R.getMonth()===P.getMonth()&&R.getFullYear()===P.getFullYear()&&O.status==="completed"}).reduce((O,R)=>O+(R.totalAmount||0),0);N.push({month:C,revenue:Math.round(A)})}return N},b=y=>{const v=[],N=new Date;for(let S=5;S>=0;S--){const k=new Date(N.getFullYear(),N.getMonth()-S,1),P=k.toLocaleDateString("en-US",{month:"short"}),C=y.filter(I=>{const A=new Date(I.orderDate||I.createdAt);return A.getMonth()===k.getMonth()&&A.getFullYear()===k.getFullYear()});v.push({month:P,bookings:C.length})}return v},j=y=>{var S,k,P,C;if(y.length<2)return 0;const v=((S=y[y.length-1])==null?void 0:S.revenue)||((k=y[y.length-1])==null?void 0:k.bookings)||0,N=((P=y[y.length-2])==null?void 0:P.revenue)||((C=y[y.length-2])==null?void 0:C.bookings)||0;return N===0?v>0?100:0:Math.round((v-N)/N*100)};if(n)return t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600",children:"Loading dashboard..."})]})});const w=[{title:"Total Revenue",value:`${s.totalRevenue.toLocaleString("en-IN")}`,icon:Jt,color:"text-emerald-600",bgColor:"bg-emerald-50",borderColor:"border-emerald-200",trend:x.revenueTrend,subtitle:`${s.monthlyRevenue.toLocaleString("en-IN")} this month`},{title:"Total Bookings",value:s.totalBookings,icon:Yn,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",trend:x.bookingsTrend,subtitle:`${s.completedBookings} completed`},{title:"Spare Parts",value:s.totalSpareParts,icon:gs,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",subtitle:s.lowStockItems>0?`${s.lowStockItems} low stock`:"All in stock"},{title:"Pending Orders",value:s.pendingBookings,icon:Xr,color:"text-amber-600",bgColor:"bg-amber-50",borderColor:"border-amber-200",subtitle:"Requires attention"}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:["Welcome back, ",(r==null?void 0:r.name)||"Vendor","!"]}),t.jsx("p",{className:"text-slate-600",children:"Here's what's happening with your business today"})]}),t.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors text-sm font-medium text-slate-700",children:[t.jsx(Dt,{className:"w-4 h-4"}),"Refresh"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map((y,v)=>t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-lg hover:border-primary/20 transition-all duration-300 group cursor-pointer",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("div",{className:`${y.bgColor} p-3 rounded-xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-sm`,children:t.jsx(y.icon,{className:`${y.color} text-xl`})}),y.trend!==void 0&&y.trend!==0&&t.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold ${y.trend>=0?"bg-emerald-50 text-emerald-700 border border-emerald-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[y.trend>=0?t.jsx(or,{className:"w-3 h-3"}):t.jsx(cd,{className:"w-3 h-3"}),Math.abs(y.trend),"%"]})]}),t.jsx("h3",{className:"text-sm font-semibold text-slate-600 mb-2",children:y.title}),t.jsx("p",{className:"text-3xl font-bold text-slate-800 mb-2 group-hover:text-primary transition-colors",children:y.value}),y.subtitle&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-400"}),t.jsx("p",{className:"text-xs text-slate-500",children:y.subtitle})]})]},v))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Revenue Trend"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Last 6 months"})]}),t.jsx("div",{className:"p-2 bg-emerald-50 rounded-lg",children:t.jsx(o0,{className:"w-5 h-5 text-emerald-600"})})]}),l.monthlyRevenue.length>0&&l.monthlyRevenue.some(y=>y.revenue>0)?t.jsx(Wi,{width:"100%",height:250,children:t.jsxs(C6,{data:l.monthlyRevenue,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),t.jsx(Xc,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),t.jsx(Qc,{dataKey:"month",stroke:"#64748b",fontSize:12}),t.jsx(Zc,{stroke:"#64748b",fontSize:12}),t.jsx(qi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:y=>[`${y.toLocaleString("en-IN")}`,"Revenue"]}),t.jsx(P0,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)"})]})}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] text-center py-8",children:[t.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(o0,{className:"w-10 h-10 text-slate-400"})}),t.jsx("p",{className:"text-slate-600 font-medium mb-1",children:"No Revenue Data"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Revenue data will appear here once you start receiving payments"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Booking Status"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Distribution overview"})]}),t.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:t.jsx(Wc,{className:"w-5 h-5 text-blue-600"})})]}),l.bookingStatus.length>0&&l.bookingStatus.some(y=>y.value>0)?t.jsx(Wi,{width:"100%",height:250,children:t.jsxs(zg,{children:[t.jsx(k0,{data:l.bookingStatus,cx:"50%",cy:"50%",labelLine:!1,label:({name:y,percent:v})=>`${y}: ${(v*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:l.bookingStatus.map((y,v)=>t.jsx(rc,{fill:y.color},`cell-${v}`))}),t.jsx(qi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] text-center py-8",children:[t.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Wc,{className:"w-10 h-10 text-slate-400"})}),t.jsx("p",{className:"text-slate-600 font-medium mb-1",children:"No Booking Data"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Booking statistics will appear here once you receive orders"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Recent Bookings"}),t.jsxs(Ht,{to:"/vendor/dashboard/bookings",className:"text-sm text-primary hover:text-primary-dark font-medium flex items-center gap-1",children:["View all",t.jsx(us,{className:"w-4 h-4"})]})]}),t.jsx("div",{className:"space-y-3",children:d.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Yn,{className:"w-8 h-8 text-slate-400"})}),t.jsx("p",{className:"text-slate-600 font-medium mb-1",children:"No Recent Bookings"}),t.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Your recent bookings will appear here"}),t.jsxs(Ht,{to:"/vendor/dashboard/add-spare-part",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm font-medium",children:[t.jsx(gs,{className:"w-4 h-4"}),"Add Spare Parts"]})]}):d.map(y=>{var v,N;return t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-slate-50 to-white rounded-xl border border-slate-200 hover:border-primary/30 hover:shadow-md transition-all duration-200 group",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsx("div",{className:`p-2 rounded-lg ${y.status==="completed"?"bg-emerald-100":y.status==="pending"?"bg-amber-100":y.status==="cancelled"?"bg-red-100":"bg-blue-100"}`,children:t.jsx(Yn,{className:`w-4 h-4 ${y.status==="completed"?"text-emerald-600":y.status==="pending"?"text-amber-600":y.status==="cancelled"?"text-red-600":"text-blue-600"}`})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 text-sm truncate group-hover:text-primary transition-colors",children:((v=y.sparePart)==null?void 0:v.name)||y.sparePartName||"Spare Part"}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx("p",{className:"text-xs text-slate-600",children:((N=y.customer)==null?void 0:N.name)||"Customer"}),t.jsx("span",{className:"text-slate-300",children:""}),t.jsx("p",{className:"text-xs text-slate-500",children:new Date(y.orderDate||y.createdAt).toLocaleDateString()})]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[t.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-semibold border ${y.status==="completed"?"bg-emerald-50 text-emerald-700 border-emerald-200":y.status==="pending"?"bg-amber-50 text-amber-700 border-amber-200":y.status==="cancelled"?"bg-red-50 text-red-700 border-red-200":"bg-blue-50 text-blue-700 border-blue-200"}`,children:y.status}),t.jsxs("span",{className:"font-bold text-slate-800 text-lg",children:["",(y.totalAmount||0).toLocaleString("en-IN")]})]})]},y._id||y.id)})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Recent Transactions"}),t.jsxs(Ht,{to:"/vendor/dashboard/transactions",className:"text-sm text-primary hover:text-primary-dark font-medium flex items-center gap-1",children:["View all",t.jsx(us,{className:"w-4 h-4"})]})]}),t.jsx("div",{className:"space-y-3",children:u.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Jt,{className:"w-8 h-8 text-slate-400"})}),t.jsx("p",{className:"text-slate-600 font-medium mb-1",children:"No Recent Transactions"}),t.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Transaction history will appear here"}),t.jsxs(Ht,{to:"/vendor/dashboard/bookings",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm font-medium",children:[t.jsx(Yn,{className:"w-4 h-4"}),"View Bookings"]})]}):u.map(y=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-slate-50 to-white rounded-xl border border-slate-200 hover:border-primary/30 hover:shadow-md transition-all duration-200 group",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsx("div",{className:`p-2.5 rounded-lg shadow-sm ${y.type==="credit"?"bg-emerald-100":"bg-red-100"}`,children:y.type==="credit"?t.jsx(or,{className:"w-5 h-5 text-emerald-600"}):t.jsx(cd,{className:"w-5 h-5 text-red-600"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 text-sm group-hover:text-primary transition-colors",children:y.description||(y.type==="credit"?"Payment Received":"Payment Sent")}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(ks,{className:"w-3 h-3 text-slate-400"}),t.jsx("p",{className:"text-xs text-slate-500",children:new Date(y.transactionDate||y.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})]}),t.jsxs("span",{className:`font-bold text-lg ${y.type==="credit"?"text-emerald-600":"text-red-600"}`,children:[y.type==="credit"?"+":"-","",(y.amount||0).toLocaleString("en-IN")]})]},y._id||y.id))})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 rounded-xl shadow-sm border border-slate-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Quick Actions"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Get things done faster"})]}),t.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:t.jsx(Wc,{className:"w-5 h-5 text-primary"})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(Ht,{to:"/vendor/dashboard/add-spare-part",className:"group relative p-6 bg-white border-2 border-slate-200 rounded-xl hover:border-primary hover:shadow-lg transition-all duration-300 text-center overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full -mr-10 -mt-10 group-hover:scale-150 transition-transform duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"inline-flex p-3 bg-primary/10 rounded-xl mb-3 group-hover:bg-primary group-hover:scale-110 transition-all duration-300",children:t.jsx(gs,{className:"text-2xl text-primary group-hover:text-white transition-colors"})}),t.jsx("p",{className:"font-bold text-slate-800 mb-1 group-hover:text-primary transition-colors",children:"Add Spare Part"}),t.jsx("p",{className:"text-xs text-slate-600",children:"Add new inventory item"})]})]}),t.jsxs(Ht,{to:"/vendor/dashboard/bookings",className:"group relative p-6 bg-white border-2 border-slate-200 rounded-xl hover:border-primary hover:shadow-lg transition-all duration-300 text-center overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full -mr-10 -mt-10 group-hover:scale-150 transition-transform duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"inline-flex p-3 bg-primary/10 rounded-xl mb-3 group-hover:bg-primary group-hover:scale-110 transition-all duration-300",children:t.jsx(Yn,{className:"text-2xl text-primary group-hover:text-white transition-colors"})}),t.jsx("p",{className:"font-bold text-slate-800 mb-1 group-hover:text-primary transition-colors",children:"View Bookings"}),t.jsx("p",{className:"text-xs text-slate-600",children:"Manage all orders"})]})]}),t.jsxs(Ht,{to:"/vendor/dashboard/transactions",className:"group relative p-6 bg-white border-2 border-slate-200 rounded-xl hover:border-primary hover:shadow-lg transition-all duration-300 text-center overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full -mr-10 -mt-10 group-hover:scale-150 transition-transform duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"inline-flex p-3 bg-primary/10 rounded-xl mb-3 group-hover:bg-primary group-hover:scale-110 transition-all duration-300",children:t.jsx(Jt,{className:"text-2xl text-primary group-hover:text-white transition-colors"})}),t.jsx("p",{className:"font-bold text-slate-800 mb-1 group-hover:text-primary transition-colors",children:"View Transactions"}),t.jsx("p",{className:"text-xs text-slate-600",children:"Track payments"})]})]})]})]})]})},Y5e=()=>{const{token:e}=oo(),[r,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState(""),[o,d]=g.useState("all"),[c,u]=g.useState([]);g.useEffect(()=>{m(),x()},[e,o]);const m=async()=>{if(e){n(!0);try{const f={};o!=="all"&&(f.category=o),i&&(f.search=i);const b=await fs.getSpareParts(e,f);s(b.data||[])}catch(f){console.error("Failed to fetch spare parts:",f)}finally{n(!1)}}},x=async()=>{if(e)try{const f=await fs.getCategories(e),b=f.data||f.categories||[];console.log("Fetched categories:",b),u(b)}catch(f){console.error("Failed to fetch categories:",f),u([])}},h=async f=>{if(window.confirm("Are you sure you want to delete this spare part?"))try{await fs.deleteSparePart(e,f),m()}catch{alert("Failed to delete spare part")}},p=r.filter(f=>{var b,j,w;if(o!=="all"&&f.category!==o)return!1;if(i){const y=i.toLowerCase();return((b=f.name)==null?void 0:b.toLowerCase().includes(y))||((j=f.description)==null?void 0:j.toLowerCase().includes(y))||((w=f.brand)==null?void 0:w.toLowerCase().includes(y))}return!0});return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:"Spare Parts"}),t.jsx("p",{className:"text-slate-600",children:"Manage your spare parts inventory"})]}),t.jsx("button",{onClick:m,className:"p-2.5 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg text-slate-600"})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),t.jsx("input",{type:"text",value:i,onChange:f=>l(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Search spare parts..."})]}),t.jsxs("select",{value:o,onChange:f=>d(f.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white min-w-[180px]",children:[t.jsx("option",{value:"all",children:"All Categories"}),c.length>0?c.map((f,b)=>t.jsx("option",{value:f,children:f},b)):t.jsx("option",{value:"",disabled:!0,children:"No categories available"})]})]})}),p.length===0?t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center border border-slate-200",children:[t.jsx(gs,{className:"text-4xl mx-auto mb-2 opacity-50 text-slate-400"}),t.jsx("p",{className:"text-slate-500",children:"No spare parts found"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(f=>{var b;return t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200 hover:shadow-lg transition",children:[t.jsx("div",{className:"w-full h-48 rounded-lg mb-4 overflow-hidden bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center relative",children:f.image?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:f.image.startsWith("http")?f.image:f.image.startsWith("/")?`http://localhost:9088${f.image}`:f.image,alt:f.name,className:"w-full h-full object-cover",onError:j=>{j.target.style.display="none",j.target.nextSibling&&(j.target.nextSibling.style.display="flex")}}),t.jsx("div",{className:"hidden absolute inset-0 items-center justify-center bg-gradient-to-br from-primary/10 to-primary/20",children:f.icon?t.jsx("span",{className:"text-6xl",children:f.icon}):t.jsx(gs,{className:"w-16 h-16 text-primary/40"})})]}):f.icon?t.jsx("span",{className:"text-7xl",children:f.icon}):t.jsx(gs,{className:"w-16 h-16 text-slate-400"})}),t.jsx("div",{className:"flex items-start justify-between mb-2",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-1",children:f.name}),f.brand&&t.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:["Brand: ",f.brand]}),f.description&&t.jsx("p",{className:"text-sm text-slate-600 mb-2 line-clamp-2",children:f.description})]})}),t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-xl font-bold text-primary",children:["",((b=f.price)==null?void 0:b.toLocaleString("en-IN"))||0]}),t.jsxs("p",{className:"text-sm text-slate-500",children:["Stock: ",f.stock," ",f.unit]})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${f.status==="active"?"bg-green-100 text-green-800":f.status==="out_of_stock"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:f.status})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("a",{href:`/vendor/dashboard/add-spare-part?id=${f._id}`,className:"flex-1 py-2 bg-primary/10 text-primary rounded-lg font-semibold hover:bg-primary/20 transition text-center",children:[t.jsx(ZN,{className:"inline mr-2"}),"Edit"]}),t.jsx("button",{onClick:()=>h(f._id),className:"py-2 px-4 bg-red-50 text-red-600 rounded-lg font-semibold hover:bg-red-100 transition",children:t.jsx(la,{})})]})]},f._id)})})]})},X5e=[{emoji:"",name:"Wrench",category:"Tools"},{emoji:"",name:"Hammer",category:"Tools"},{emoji:"",name:"Tools",category:"Tools"},{emoji:"",name:"Gear",category:"Tools"},{emoji:"",name:"Nut & Bolt",category:"Tools"},{emoji:"",name:"Electrical",category:"Electrical"},{emoji:"",name:"Light Bulb",category:"Electrical"},{emoji:"",name:"Plug",category:"Electrical"},{emoji:"",name:"Antenna",category:"Electrical"},{emoji:"",name:"Battery",category:"Electrical"},{emoji:"",name:"Shower",category:"Plumbing"},{emoji:"",name:"Water",category:"Plumbing"},{emoji:"",name:"Droplet",category:"Plumbing"},{emoji:"",name:"Wave",category:"Plumbing"},{emoji:"",name:"Paint",category:"Painting"},{emoji:"",name:"Paintbrush",category:"Painting"},{emoji:"",name:"Frame",category:"Decor"},{emoji:"",name:"Window",category:"Decor"},{emoji:"",name:"Door",category:"Decor"},{emoji:"",name:"Snowflake",category:"AC"},{emoji:"",name:"Thermometer",category:"AC"},{emoji:"",name:"Cyclone",category:"AC"},{emoji:"",name:"Wind",category:"AC"},{emoji:"",name:"Broom",category:"Cleaning"},{emoji:"",name:"Sponge",category:"Cleaning"},{emoji:"",name:"Bottle",category:"Cleaning"},{emoji:"",name:"Soap",category:"Cleaning"},{emoji:"",name:"Fire Extinguisher",category:"Safety"},{emoji:"",name:"Paperclip",category:"Hardware"},{emoji:"",name:"Pushpin",category:"Hardware"},{emoji:"",name:"Lock",category:"Hardware"},{emoji:"",name:"Key",category:"Hardware"},{emoji:"",name:"Hook",category:"Hardware"},{emoji:"",name:"TV",category:"Appliances"},{emoji:"",name:"Phone",category:"Appliances"},{emoji:"",name:"Laptop",category:"Appliances"},{emoji:"",name:"Computer",category:"Appliances"},{emoji:"",name:"Keyboard",category:"Appliances"},{emoji:"",name:"Construction",category:"Building"},{emoji:"",name:"Brick",category:"Building"},{emoji:"",name:"House",category:"Building"},{emoji:"",name:"Building",category:"Building"},{emoji:"",name:"Factory",category:"Building"},{emoji:"",name:"Package",category:"Storage"},{emoji:"",name:"Clipboard",category:"Storage"},{emoji:"",name:"Card Index",category:"Storage"},{emoji:"",name:"Folder",category:"Storage"},{emoji:"",name:"File Cabinet",category:"Storage"},{emoji:"",name:"Toolbox",category:"General"},{emoji:"",name:"Shopping Cart",category:"General"},{emoji:"",name:"Chart",category:"General"},{emoji:"",name:"Star",category:"General"},{emoji:"",name:"Sparkle",category:"General"},{emoji:"",name:"Glowing Star",category:"General"},{emoji:"",name:"Diamond",category:"General"},{emoji:"",name:"Target",category:"General"},{emoji:"",name:"Check Mark",category:"General"},{emoji:"",name:"Magnifying Glass",category:"General"},{emoji:"",name:"Ladder",category:"Tools"},{emoji:"",name:"Bucket",category:"Tools"},{emoji:"",name:"Magnet",category:"Tools"},{emoji:"",name:"Flashlight",category:"Tools"},{emoji:"",name:"Screwdriver",category:"Tools"}],J5e=()=>{const{token:e}=oo(),r=Zt(),[s]=$0(),a=s.get("id"),[n,i]=g.useState(!1),[l,o]=g.useState({name:"",description:"",category:"",brand:"",price:"",stock:"",unit:"units",specifications:"",hsnCode:"",gstPercentage:"0",image:null,icon:""}),[d,c]=g.useState(null),[u,m]=g.useState([]),[x,h]=g.useState(!1),[p,f]=g.useState(null),[b,j]=g.useState("icon"),[w,y]=g.useState(!1),[v,N]=g.useState("");g.useEffect(()=>{S(),a&&k()},[e,a]);const S=async()=>{if(e)try{const R=await fs.getCategories(e),Z=R.data||R.categories||[];console.log("Fetched categories for form:",Z),m(Z)}catch(R){console.error("Failed to fetch categories:",R),m([])}},k=async()=>{if(!(!e||!a))try{const Z=(await fs.getSparePart(e,a)).data;o({name:Z.name||"",description:Z.description||"",category:Z.category||"",brand:Z.brand||"",price:Z.price||"",stock:Z.stock||"",unit:Z.unit||"units",specifications:Z.specifications||"",hsnCode:Z.hsnCode||"",gstPercentage:Z.gstPercentage||"0",image:null,icon:Z.icon||""}),Z.image?(c(Z.image),j("image")):Z.icon&&j("icon")}catch(R){console.error("Failed to fetch spare part:",R)}},P=R=>{const{name:Z,value:Y}=R.target;o(ce=>({...ce,[Z]:Y}))},C=R=>{const Z=R.target.files[0];if(Z){o(ce=>({...ce,image:Z,icon:""})),j("image");const Y=new FileReader;Y.onloadend=()=>{c(Y.result)},Y.readAsDataURL(Z)}},I=R=>{o(Z=>({...Z,icon:R,image:null})),j("icon"),c(null),y(!1)},A=async R=>{R.preventDefault(),i(!0),f(null),h(!1);try{const Z=new FormData;if(Object.keys(l).forEach(Y=>{Y!=="image"&&Y!=="icon"&&l[Y]!==null&&l[Y]!==void 0&&l[Y]!==""&&Z.append(Y,l[Y])}),b==="image"&&l.image)Z.append("image",l.image),Z.append("icon","");else if(b==="icon"&&l.icon){const Y=Array.isArray(l.icon)?l.icon[0]:l.icon;Y&&Y.trim()!==""&&Z.append("icon",Y.trim())}else Z.append("icon","");a?(await fs.updateSparePart(e,a,Z),h(!0),setTimeout(()=>{r("/vendor/dashboard/spare-parts")},1500)):(await fs.addSparePart(e,Z),h(!0),o({name:"",description:"",category:"",brand:"",price:"",stock:"",unit:"units",specifications:"",hsnCode:"",gstPercentage:"0",image:null,icon:""}),c(null),j("icon"),setTimeout(()=>h(!1),3e3))}catch(Z){f(Z.message||"Failed to save spare part")}finally{i(!1)}},O=X5e.filter(R=>v===""||R.name.toLowerCase().includes(v.toLowerCase())||R.category.toLowerCase().includes(v.toLowerCase())||R.emoji.includes(v));return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:a?"Edit Spare Part":"Add New Spare Part"}),t.jsx("p",{className:"text-slate-600",children:"Add or update spare part information"})]}),x&&t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-green-800",children:["Spare part ",a?"updated":"added"," successfully!"]}),p&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-800",children:p}),t.jsxs("form",{onSubmit:A,className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Name *"}),t.jsx("input",{type:"text",name:"name",value:l.name,onChange:P,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),t.jsx("textarea",{name:"description",value:l.description,onChange:P,rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Category *"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",name:"category",value:l.category,onChange:P,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white",list:"categories",placeholder:u.length>0?"Select existing or enter new category":"Enter category name (e.g., Engine Parts, Brake Parts)",required:!0}),u.length>0&&t.jsx("datalist",{id:"categories",children:u.map((R,Z)=>t.jsx("option",{value:R},Z))})]}),u.length>0?t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[u.length," existing categor",u.length===1?"y":"ies"," available. Type to see suggestions or enter a new one."]}):t.jsxs("p",{className:"text-xs text-slate-500 mt-1 flex items-center gap-1",children:[t.jsx(gs,{className:"w-3 h-3"}),"No existing categories. This will create your first category."]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Brand"}),t.jsx("input",{type:"text",name:"brand",value:l.brand,onChange:P,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Price () *"}),t.jsx("input",{type:"number",name:"price",value:l.price,onChange:P,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Stock *"}),t.jsx("input",{type:"number",name:"stock",value:l.stock,onChange:P,min:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Unit"}),t.jsx("input",{type:"text",name:"unit",value:l.unit,onChange:P,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"HSN Code"}),t.jsx("input",{type:"text",name:"hsnCode",value:l.hsnCode,onChange:P,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Percentage (%)"}),t.jsx("input",{type:"number",name:"gstPercentage",value:l.gstPercentage,onChange:P,min:"0",max:"100",step:"0.01",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Specifications"}),t.jsx("textarea",{name:"specifications",value:l.specifications,onChange:P,rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Visual Representation"}),t.jsxs("div",{className:"flex gap-2 mb-4",children:[t.jsxs("button",{type:"button",onClick:()=>{j("icon"),o(R=>({...R,image:null})),c(null)},className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${b==="icon"?"bg-primary text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[t.jsx(KC,{className:"w-4 h-4"}),"Select Icon"]}),t.jsxs("button",{type:"button",onClick:()=>{j("image"),o(R=>({...R,icon:""}))},className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${b==="image"?"bg-primary text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[t.jsx(zf,{className:"w-4 h-4"}),"Upload Image"]})]}),b==="image"?t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("label",{className:"flex-1 cursor-pointer",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"hidden"}),t.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-primary transition",children:[t.jsx(Wo,{className:"text-2xl text-slate-400 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-slate-600",children:d?"Change Image":"Upload Image"})]})]}),d&&t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:d,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg"}),t.jsx("button",{type:"button",onClick:()=>{c(null),o(R=>({...R,image:null}))},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:t.jsx(xt,{})})]})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{type:"button",onClick:()=>y(!w),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:[t.jsx(KC,{className:"w-4 h-4"}),l.icon?"Change Icon":"Select Icon"]}),l.icon&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary/10 to-primary/20 rounded-lg flex items-center justify-center text-4xl",children:l.icon}),t.jsx("button",{type:"button",onClick:()=>o(R=>({...R,icon:""})),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition",children:t.jsx(xt,{})})]})]}),w&&t.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:[t.jsx("div",{className:"mb-4",children:t.jsx("input",{type:"text",placeholder:"Search icons...",value:v,onChange:R=>N(R.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})}),t.jsx("div",{className:"grid grid-cols-8 sm:grid-cols-10 gap-2 max-h-64 overflow-y-auto",children:O.map((R,Z)=>t.jsx("button",{type:"button",onClick:()=>I(R.emoji),className:`w-10 h-10 rounded-lg flex items-center justify-center text-xl transition-all duration-200 ${l.icon===R.emoji?"bg-primary text-white ring-2 ring-primary ring-offset-2 scale-110":"bg-white hover:bg-primary/10 hover:scale-105 border border-slate-200"}`,title:`${R.name} (${R.category})`,children:R.emoji},Z))}),t.jsx("div",{className:"mt-4 flex justify-end",children:t.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition",children:"Close"})})]})]})]})]}),t.jsxs("div",{className:"mt-6 flex gap-4",children:[t.jsx("button",{type:"submit",disabled:n,className:"px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Saving...":a?"Update Spare Part":"Add Spare Part"}),t.jsx("button",{type:"button",onClick:()=>r("/vendor/dashboard/spare-parts"),className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"})]})]})]})},Q5e=()=>{const{token:e}=oo(),[r,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState("all"),[o,d]=g.useState(null),[c,u]=g.useState(!1);g.useEffect(()=>{m()},[e,i]);const m=async()=>{if(e){n(!0);try{const p={};i!=="all"&&(p.status=i);const f=await fs.getBookings(e,p);s(f.data||[])}catch(p){console.error("Failed to fetch bookings:",p)}finally{n(!1)}}},x=async(p,f,b={})=>{u(!0);try{await fs.updateBookingStatus(e,p,{status:f,...b}),m(),d(null)}catch{alert("Failed to update booking status")}finally{u(!1)}},h=p=>{switch(p){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"dispatched":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:"Bookings"}),t.jsx("p",{className:"text-slate-600",children:"Manage spare part bookings"})]}),t.jsx("button",{onClick:m,className:"p-2.5 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg text-slate-600"})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:t.jsxs("select",{value:i,onChange:p=>l(p.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"confirmed",children:"Confirmed"}),t.jsx("option",{value:"dispatched",children:"Dispatched"}),t.jsx("option",{value:"delivered",children:"Delivered"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]})}),r.length===0?t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center border border-slate-200",children:[t.jsx(Yn,{className:"text-4xl mx-auto mb-2 opacity-50 text-slate-400"}),t.jsx("p",{className:"text-slate-500",children:"No bookings found"})]}):t.jsx("div",{className:"space-y-4",children:r.map(p=>{var f,b,j,w,y,v;return t.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200 hover:shadow-lg transition",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-1",children:((f=p.sparePart)==null?void 0:f.name)||"Spare Part"}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Order Date: ",new Date(p.orderDate).toLocaleDateString()]})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${h(p.status)}`,children:p.status})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Quantity"}),t.jsx("p",{className:"font-semibold text-slate-800",children:p.quantity})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Unit Price"}),t.jsxs("p",{className:"font-semibold text-slate-800",children:["",((b=p.unitPrice)==null?void 0:b.toLocaleString("en-IN"))||0]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Total Amount"}),t.jsxs("p",{className:"font-semibold text-primary",children:["",((j=p.totalAmount)==null?void 0:j.toLocaleString("en-IN"))||0]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Customer"}),t.jsx("p",{className:"font-semibold text-slate-800",children:((w=p.customer)==null?void 0:w.name)||((v=(y=p.partner)==null?void 0:y.profile)==null?void 0:v.name)||"N/A"})]})]}),p.shippingAddress&&t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Shipping Address"}),t.jsxs("p",{className:"text-sm text-slate-700",children:[p.shippingAddress.name,", ",p.shippingAddress.street,","," ",p.shippingAddress.city,", ",p.shippingAddress.state," -"," ",p.shippingAddress.pincode]}),t.jsxs("p",{className:"text-sm text-slate-600",children:["Phone: ",p.shippingAddress.phone]})]}),p.trackingNumber&&t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Tracking Number"}),t.jsx("p",{className:"text-sm font-semibold text-slate-800",children:p.trackingNumber})]})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[p.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>x(p._id,"confirmed"),disabled:c,className:"px-4 py-2 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition disabled:opacity-50",children:[t.jsx(vt,{className:"inline mr-2"}),"Confirm"]}),t.jsxs("button",{onClick:()=>x(p._id,"cancelled"),disabled:c,className:"px-4 py-2 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition disabled:opacity-50",children:[t.jsx(xt,{className:"inline mr-2"}),"Cancel"]})]}),p.status==="confirmed"&&t.jsxs("button",{onClick:()=>{const N=prompt("Enter tracking number:");N&&x(p._id,"dispatched",{trackingNumber:N})},disabled:c,className:"px-4 py-2 bg-purple-500 text-white rounded-lg font-semibold hover:bg-purple-600 transition disabled:opacity-50",children:[t.jsx(sD,{className:"inline mr-2"}),"Dispatch"]}),p.status==="dispatched"&&t.jsxs("button",{onClick:()=>x(p._id,"delivered"),disabled:c,className:"px-4 py-2 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition disabled:opacity-50",children:[t.jsx(vt,{className:"inline mr-2"}),"Mark Delivered"]})]})]})},p._id)})})]})},Z5e=()=>{var f,b,j;const{token:e}=oo(),[r,s]=g.useState([]),[a,n]=g.useState({totalCredits:0,totalDebits:0,balance:0}),[i,l]=g.useState(!0),[o,d]=g.useState("all"),[c,u]=g.useState("all");g.useEffect(()=>{m(),x()},[e,o,c]);const m=async()=>{if(e){l(!0);try{const w={};o!=="all"&&(w.type=o),c!=="all"&&(w.status=c);const y=await fs.getTransactions(e,w);s(y.data||[])}catch(w){console.error("Failed to fetch transactions:",w)}finally{l(!1)}}},x=async()=>{if(e)try{const w=await fs.getTransactionStats(e);n(w.data||{})}catch(w){console.error("Failed to fetch transaction stats:",w)}},h=w=>w==="credit"?"text-green-600":"text-red-600",p=w=>{switch(w){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"refunded":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:"Transactions"}),t.jsx("p",{className:"text-slate-600",children:"View your transaction history"})]}),t.jsx("button",{onClick:()=>{m(),x()},className:"p-2.5 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:t.jsx(Dt,{className:"text-lg text-slate-600"})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Total Credits"}),t.jsx(or,{className:"text-green-500 text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",((f=a.totalCredits)==null?void 0:f.toLocaleString("en-IN"))||0]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Total Debits"}),t.jsx(cd,{className:"text-red-500 text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",((b=a.totalDebits)==null?void 0:b.toLocaleString("en-IN"))||0]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Balance"}),t.jsx(Jt,{className:"text-primary text-xl"})]}),t.jsxs("p",{className:"text-2xl font-bold text-primary",children:["",((j=a.balance)==null?void 0:j.toLocaleString("en-IN"))||0]})]})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("select",{value:o,onChange:w=>d(w.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"credit",children:"Credit"}),t.jsx("option",{value:"debit",children:"Debit"})]}),t.jsxs("select",{value:c,onChange:w=>u(w.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"failed",children:"Failed"}),t.jsx("option",{value:"refunded",children:"Refunded"})]})]})}),r.length===0?t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center border border-slate-200",children:[t.jsx(Jt,{className:"text-4xl mx-auto mb-2 opacity-50 text-slate-400"}),t.jsx("p",{className:"text-slate-500",children:"No transactions found"})]}):t.jsx("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Description"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Amount"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Reference"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200",children:r.map(w=>{var y;return t.jsxs("tr",{className:"hover:bg-slate-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700",children:new Date(w.transactionDate).toLocaleDateString()}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:w.description}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${w.type==="credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.type})}),t.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-bold ${h(w.type)}`,children:[w.type==="credit"?"+":"-","",((y=w.amount)==null?void 0:y.toLocaleString("en-IN"))||0]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${p(w.status)}`,children:w.status})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:w.reference||"N/A"})]},w._id)})})]})})})]})},eSe=()=>t.jsx("div",{className:"space-y-6",children:t.jsxs(Sy,{children:[t.jsx(tt,{index:!0,element:t.jsx(K5e,{})}),t.jsx(tt,{path:"spare-parts",element:t.jsx(Y5e,{})}),t.jsx(tt,{path:"add-spare-part",element:t.jsx(J5e,{})}),t.jsx(tt,{path:"bookings",element:t.jsx(Q5e,{})}),t.jsx(tt,{path:"transactions",element:t.jsx(Z5e,{})}),t.jsx(tt,{path:"*",element:t.jsx(Cd,{to:"/vendor/dashboard",replace:!0})})]})}),mE=()=>{const{notifications:e}=oo(),[r,s]=g.useState(!1),[a,n]=g.useState({}),i=g.useRef(null),l=g.useRef(null),o=(e==null?void 0:e.notifications)||[],d=(e==null?void 0:e.unreadCount)||0,c=e==null?void 0:e.markAsRead,u=e==null?void 0:e.fetchNotifications;g.useEffect(()=>{if(r&&l.current){const p=()=>{if(!l.current)return;const b=l.current.getBoundingClientRect(),j=window.innerWidth,w=window.innerHeight,y=384,v=Math.min(w-100,600);if(j<640)n({position:"fixed",top:"4rem",right:"0.5rem",width:"calc(100vw - 1rem)",maxWidth:"24rem",maxHeight:`${v}px`,zIndex:9999});else{const N=j-b.right,S=b.left,k=b.left<300;let P=y,C=0,I="auto";if(k){const A=Math.min(y,N+b.width-16);n({position:"fixed",left:`${b.left}px`,top:`${b.bottom+8}px`,width:`${Math.max(280,A)}px`,maxWidth:"24rem",maxHeight:`${v}px`,minWidth:"280px",zIndex:9999});return}else C=0,I="auto",N<y&&(S>N?(I=0,C="auto",P=Math.min(y,S-8)):P=Math.max(300,N-8)),n({position:"absolute",right:C,left:I,top:"100%",marginTop:"0.5rem",width:`${Math.max(280,P)}px`,maxWidth:"24rem",maxHeight:`${v}px`,minWidth:"280px",zIndex:9999})}},f=setTimeout(p,0);return window.addEventListener("resize",p),window.addEventListener("scroll",p,!0),()=>{clearTimeout(f),window.removeEventListener("resize",p),window.removeEventListener("scroll",p,!0)}}else n({})},[r]),g.useEffect(()=>{const p=f=>{i.current&&!i.current.contains(f.target)&&l.current&&!l.current.contains(f.target)&&s(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]),g.useEffect(()=>{u&&u()},[u]);const m=async(p=null)=>{c&&(await c(p),u&&await u())},x=async()=>{c&&(await c(),u&&await u())},h=p=>{if(!p)return"";const f=new Date(p),j=new Date-f,w=Math.floor(j/6e4),y=Math.floor(j/36e5),v=Math.floor(j/864e5);return w<1?"Just now":w<60?`${w}m ago`:y<24?`${y}h ago`:v<7?`${v}d ago`:f.toLocaleDateString()};return t.jsxs("div",{className:"relative z-50",ref:i,children:[t.jsxs("button",{ref:l,onClick:()=>s(!r),className:"relative p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors z-50","aria-label":"Notifications",children:[t.jsx(Cn,{className:"w-5 h-5"}),d>0&&t.jsx("span",{className:"absolute top-0 right-0 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs font-semibold text-white transition-opacity duration-200",children:d>9?"9+":d},d)]}),r&&t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-slate-200 flex flex-col overflow-hidden",style:{...a,zIndex:9999,position:a.position||"absolute"},children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 flex-shrink-0",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Notifications"}),t.jsxs("div",{className:"flex items-center gap-2",children:[d>0&&t.jsx("button",{onClick:x,className:"text-xs text-primary hover:text-primary-dark font-medium",children:"Mark all read"}),t.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(xt,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:"overflow-y-auto flex-1 min-h-0",children:o.length===0?t.jsxs("div",{className:"p-8 text-center text-slate-500",children:[t.jsx(Cn,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),t.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):t.jsx("div",{className:"divide-y divide-slate-100",children:o.map(p=>{var b;const f=!p.seen&&!p.read;return t.jsx("div",{className:`p-4 hover:bg-slate-50 transition-colors cursor-pointer ${f?"bg-blue-50/50":""}`,onClick:()=>{f&&m(p._id||p.id)},children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-slate-900 break-words line-clamp-2",children:p.title||((b=p.message)==null?void 0:b.split(": ")[0])||"New notification"}),p.message&&t.jsx("p",{className:"text-xs text-slate-600 mt-1 break-words line-clamp-2",children:p.title?p.message:p.message.split(": ").slice(1).join(": ")||p.message}),t.jsx("p",{className:"text-xs text-slate-400 mt-2",children:h(p.date||p.createdAt)})]}),f&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})})]})},p._id||p.id||Math.random())})})}),o.length>0&&t.jsx("div",{className:"p-3 border-t border-slate-200 bg-slate-50 flex-shrink-0",children:t.jsx("button",{onClick:()=>{s(!1)},className:"w-full text-sm text-center text-primary hover:text-primary-dark font-medium",children:"View all notifications"})})]})]})},tSe=()=>{const{vendor:e,token:r,logout:s,updateVendor:a,notifications:n}=oo(),i=Zt();$r();const[l,o]=g.useState(!1),[d,c]=g.useState(e==null?void 0:e.status),[u,m]=g.useState(!0),x=g.useRef(!1),h=g.useRef(e),p=g.useRef(a);g.useEffect(()=>{h.current=e,p.current=a},[e,a]);const f=g.useCallback(async(v=!1)=>{var N,S,k,P,C;if(!r){m(!1);return}if(!(x.current&&!v)){x.current=!0,m(!0);try{const I=await fs.getProfile(r);if(I.success&&I.vendor){const A=I.vendor.status;c(A),p.current&&p.current({...I.vendor})}else c(((N=h.current)==null?void 0:N.status)||"active")}catch(I){console.error("Error checking vendor status:",I),I.status===403||(S=I.data)!=null&&S.status?(c(((k=I.data)==null?void 0:k.status)||"suspended"),h.current&&p.current&&p.current({status:((P=I.data)==null?void 0:P.status)||"suspended"})):c(((C=h.current)==null?void 0:C.status)||"active")}finally{m(!1),x.current=!1}}},[r]);g.useEffect(()=>{if(!r)return;f(!0);const v=setInterval(()=>{f(!1)},3e5);return()=>{clearInterval(v),x.current=!1}},[r,f]),g.useEffect(()=>{if(!(n!=null&&n.currentNotification))return;const v=n.currentNotification,N=v.title||"",S=v.message||"",k=v.type||"";(v.isStatusChange===!0||k==="status-change"||k==="alert"||N.toLowerCase().includes("account")&&(N.toLowerCase().includes("activated")||N.toLowerCase().includes("suspended")||N.toLowerCase().includes("deactivated"))||S.toLowerCase().includes("account")&&(S.toLowerCase().includes("activated")||S.toLowerCase().includes("suspended")||S.toLowerCase().includes("deactivated")))&&(console.log("Status change notification detected, refreshing vendor status..."),setTimeout(()=>{f(!0)},1e3))},[n==null?void 0:n.currentNotification,f]),g.useEffect(()=>{const v=()=>{console.log("Status change event received, refreshing vendor status..."),setTimeout(()=>{f(!0)},1e3)};return window.addEventListener("vendorStatusChange",v),()=>{window.removeEventListener("vendorStatusChange",v)}},[f]);const b=()=>{s(),i("/vendor/login",{replace:!0})},j=(e==null?void 0:e.name)||(e==null?void 0:e.companyName)||"Vendor",w=j.charAt(0).toUpperCase(),y=d==="suspended"||d==="inactive";return u?t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:t.jsxs(E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:20},className:"text-center",children:[t.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),t.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-slate-600",children:"Loading..."})]})}):y?t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:t.jsxs(E.div,{initial:{scale:.5,opacity:0,y:100,rotateX:-90},animate:{scale:1,opacity:1,y:0,rotateX:0},transition:{type:"spring",damping:15,stiffness:200,delay:.2,duration:.8},className:"max-w-2xl w-full bg-white rounded-2xl shadow-2xl border border-slate-200 p-8 md:p-12 text-center",children:[t.jsx(E.div,{initial:{scale:0,rotate:-360,opacity:0},animate:{scale:1,rotate:0,opacity:1},transition:{type:"spring",damping:10,stiffness:150,delay:.4},className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-red-100 via-red-200 to-red-300 rounded-full flex items-center justify-center shadow-xl",children:t.jsx(E.div,{animate:{rotate:[0,-20,20,-20,0],scale:[1,1.2,1]},transition:{duration:.8,delay:1,repeat:3,ease:"easeInOut"},children:t.jsx(Jn,{className:"text-5xl text-red-600"})})},`alert-icon-${d}`),t.jsxs(E.h1,{initial:{opacity:0,y:-30,scale:.8},animate:{opacity:1,y:0,scale:1},transition:{delay:.6,type:"spring",stiffness:200,damping:15},className:"text-4xl font-bold text-slate-800 mb-4",children:["Account ",d==="suspended"?"Suspended":"Blocked"]},`title-${d}`),t.jsxs(E.p,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:.7,type:"spring",stiffness:200,damping:15},className:"text-lg text-slate-600 mb-6",children:["Your vendor account has been ",d==="suspended"?"suspended":"blocked","."]},`description-${d}`),t.jsxs(E.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{delay:.7,type:"spring",stiffness:200},className:"bg-gradient-to-br from-red-50 to-red-100 border-2 border-red-200 rounded-lg p-6 mb-8 shadow-md",children:[t.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-slate-700 mb-4 font-medium",children:"Please contact Nexo Admin to resolve this issue and restore access to your account."}),t.jsxs(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.9,type:"spring",stiffness:300},className:"flex items-center justify-center gap-3 text-slate-700",children:[t.jsx(E.div,{animate:{scale:[1,1.3,1],rotate:[0,10,-10,0]},transition:{duration:2.5,repeat:1/0,repeatDelay:2,ease:"easeInOut"},className:"p-2 bg-white rounded-full shadow-md",children:t.jsx(tn,{className:"text-red-600 text-xl"})}),t.jsxs("span",{className:"text-lg",children:["Email: ",t.jsx(E.a,{href:"mailto:support@nexo.works",className:"text-primary hover:underline font-semibold inline-block",whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.95},transition:{type:"spring",stiffness:400},children:"support@nexo.works"})]})]})]},"contact-box"),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,type:"spring",stiffness:200},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsxs(E.button,{whileHover:{scale:1.08,boxShadow:"0 15px 30px rgba(59, 130, 246, 0.3)",y:-2},whileTap:{scale:.92,y:0},onClick:b,className:"px-8 py-3 bg-gradient-to-r from-primary to-primary-dark text-white rounded-lg font-semibold flex items-center justify-center gap-2 shadow-lg",children:[t.jsx(E.span,{animate:{x:[0,-3,3,0]},transition:{duration:1.5,repeat:1/0,repeatDelay:2},children:t.jsx(Ho,{})}),t.jsx("span",{children:"Logout"})]}),t.jsxs(E.button,{whileHover:{scale:1.08,boxShadow:"0 15px 30px rgba(0, 0, 0, 0.15)",y:-2,backgroundColor:"#e2e8f0"},whileTap:{scale:.92,y:0},onClick:()=>window.location.href="mailto:support@nexo.works?subject=Account Access Issue",className:"px-8 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold flex items-center justify-center gap-2 shadow-lg",children:[t.jsx(E.span,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:t.jsx(tn,{})}),t.jsx("span",{children:"Contact Admin"})]})]},"buttons"),d==="suspended"&&t.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"mt-6 text-sm text-slate-500",children:"If you believe this is an error, please contact our support team immediately."})]},`blocked-card-${d}`)},"blocked-screen"):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex flex-col",children:[t.jsx("header",{className:"lg:hidden bg-white shadow-md border-b border-slate-200 fixed top-0 left-0 right-0 z-40 w-full",children:t.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>o(!l),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:l?t.jsx(xt,{className:"text-xl"}):t.jsx(zy,{className:"text-xl"})}),t.jsx(ai,{className:"scale-75 origin-left"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(mE,{}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold shadow-md",children:w})]})]})}),t.jsxs("div",{className:"flex relative flex-1 pt-[64px] lg:pt-0",children:[t.jsxs("aside",{className:"hidden lg:flex lg:w-64 flex-col bg-white shadow-xl border-r border-slate-200 fixed top-0 left-0 h-screen overflow-visible z-30",children:[t.jsx("div",{className:"px-4 py-4 border-b border-slate-200 flex-shrink-0 bg-white sticky top-0 z-10",children:t.jsx(ai,{className:"scale-75 origin-left"})}),t.jsx("div",{className:"px-4 py-4 border-b border-slate-200 bg-gradient-to-br from-primary/5 to-primary/10 flex-shrink-0 relative overflow-visible",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-lg border-2 border-primary/20",children:w}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 truncate text-sm",children:j}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:(e==null?void 0:e.email)||"N/A"})]}),t.jsx(mE,{})]})}),t.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",children:[t.jsx(oh,{to:"/vendor/dashboard",icon:en,label:"Dashboard"}),t.jsx(oh,{to:"/vendor/dashboard/spare-parts",icon:gs,label:"Spare Parts"}),t.jsx(oh,{to:"/vendor/dashboard/add-spare-part",icon:Tr,label:"Add Spare Part"}),t.jsx(oh,{to:"/vendor/dashboard/bookings",icon:Yn,label:"Bookings"}),t.jsx(oh,{to:"/vendor/dashboard/transactions",icon:Jt,label:"Transactions"})]}),t.jsx("div",{className:"px-4 py-4 border-t border-slate-200 flex-shrink-0 bg-white sticky bottom-0 z-10",children:t.jsxs("button",{onClick:b,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-semibold rounded-lg bg-red-50 hover:bg-red-100 text-red-600 transition",children:[t.jsx(Ho,{})," Logout"]})})]}),l&&t.jsx("div",{className:"lg:hidden fixed inset-0 z-[70] bg-black/50 backdrop-blur-sm transition-opacity",onClick:()=>o(!1),children:t.jsxs("div",{className:"w-80 max-w-[85vw] bg-white h-full shadow-2xl overflow-y-auto flex flex-col",onClick:v=>v.stopPropagation(),children:[t.jsxs("div",{className:"px-4 py-4 border-b border-slate-200 flex-shrink-0 sticky top-0 bg-white z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx(ai,{className:"scale-75 origin-left"}),t.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:t.jsx(xt,{className:"text-xl"})})]}),t.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-br from-primary/5 to-primary/10 p-3 rounded-lg",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold border-2 border-primary/20",children:w}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-semibold text-slate-800 truncate text-sm",children:j}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:(e==null?void 0:e.email)||"N/A"})]})]})]}),t.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:[t.jsx(ch,{to:"/vendor/dashboard",icon:en,label:"Dashboard",onClick:()=>o(!1)}),t.jsx(ch,{to:"/vendor/dashboard/spare-parts",icon:gs,label:"Spare Parts",onClick:()=>o(!1)}),t.jsx(ch,{to:"/vendor/dashboard/add-spare-part",icon:Tr,label:"Add Spare Part",onClick:()=>o(!1)}),t.jsx(ch,{to:"/vendor/dashboard/bookings",icon:Yn,label:"Bookings",onClick:()=>o(!1)}),t.jsx(ch,{to:"/vendor/dashboard/transactions",icon:Jt,label:"Transactions",onClick:()=>o(!1)})]}),t.jsx("div",{className:"px-6 py-6 border-t border-slate-200 flex-shrink-0 sticky bottom-0 bg-white z-10",children:t.jsxs("button",{onClick:b,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold rounded-xl bg-red-50 hover:bg-red-100 text-red-600 transition",type:"button",children:[t.jsx(Ho,{})," Logout"]})})]})}),t.jsx("div",{className:"flex-1 min-w-0 w-full lg:ml-64",children:t.jsx("main",{className:"p-4 sm:p-6 lg:p-8 min-h-screen",children:t.jsx(Ql,{})})})]}),t.jsx(g4,{notification:n==null?void 0:n.currentNotification,onClose:(n==null?void 0:n.closeNotificationDialog)||(()=>{}),onMarkAsRead:(n==null?void 0:n.markNotificationAsRead)||(()=>{})})]})},oh=({to:e,icon:r,label:s})=>{const a=$r(),n=a.pathname===e||a.pathname.startsWith(e+"/");return t.jsxs(Ht,{to:e,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 relative group ${n?"bg-primary text-white shadow-md shadow-primary/20":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,children:[t.jsx(r,{className:`text-base transition-transform duration-200 ${n?"scale-110":"group-hover:scale-110"}`}),t.jsx("span",{className:"relative z-10",children:s}),n&&t.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-white rounded-r-full"})]})},ch=({to:e,icon:r,label:s,onClick:a})=>{const n=$r(),i=n.pathname===e||n.pathname.startsWith(e+"/");return t.jsxs(Ht,{to:e,onClick:a,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition ${i?"bg-primary text-white shadow-md":"text-slate-600 hover:bg-slate-100"}`,children:[t.jsx(r,{className:"text-base"}),s]})},rSe=()=>{const{isAuthenticated:e,isLoading:r}=oo(),s=$r();return r?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),t.jsx("p",{className:"text-sm font-medium tracking-wide text-white/80",children:"Loading vendor portal..."})]})}):e?t.jsx(Ql,{}):t.jsx(Cd,{to:"/vendor/login",state:{from:s},replace:!0})},sSe=()=>{var u;const{partnerId:e}=fm(),[r,s]=g.useState(null),[a,n]=g.useState(!0),[i,l]=g.useState(null);g.useEffect(()=>{o()},[e]);const o=async()=>{try{n(!0);const h=await(await fetch(`http://localhost:9088/api/partner/verify/${e}`)).json();h.success&&h.partner?s(h.partner):l(h.message||"Partner not found")}catch(m){l("Failed to verify partner"),console.error("Verification error:",m)}finally{n(!1)}};if(a)return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-slate-600",children:"Verifying partner..."})]})});if(i||!r)return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[t.jsx(Qn,{className:"text-red-500 text-6xl mx-auto mb-4"}),t.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Verification Failed"}),t.jsx("p",{className:"text-slate-600 mb-6",children:i||"Partner not found or invalid ID"}),t.jsx("a",{href:"/",className:"inline-block px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition",children:"Go to Home"})]})});const d=r.kycStatus==="approved"||r.kycStatus==="verified",c=r.profilePicture?r.profilePicture.startsWith("http")?r.profilePicture:`http://localhost:9088/${r.profilePicture}`:null;return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-12 px-4",children:t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx(ai,{className:"mx-auto mb-4"}),t.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Partner Verification"}),t.jsx("p",{className:"text-slate-600",children:"Verify Nexo Partner Identity"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[t.jsx("div",{className:`${d?"bg-green-500":"bg-yellow-500"} text-white p-4 text-center`,children:t.jsx("div",{className:"flex items-center justify-center gap-3",children:d?t.jsxs(t.Fragment,{children:[t.jsx(vt,{className:"text-2xl"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:"Verified Partner"}),t.jsx("p",{className:"text-sm opacity-90",children:"This partner is verified by Nexo"})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ja,{className:"text-2xl"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:"Verification Pending"}),t.jsx("p",{className:"text-sm opacity-90",children:"KYC verification in progress"})]})]})})}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[t.jsx("div",{className:"flex-shrink-0",children:c?t.jsx("img",{src:c,alt:r.name,className:"w-32 h-32 rounded-full object-cover border-4 border-primary/20"}):t.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-4xl border-4 border-primary/20",children:((u=r.name)==null?void 0:u.charAt(0).toUpperCase())||"P"})}),t.jsxs("div",{className:"flex-1 space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-1",children:r.name||"N/A"}),t.jsxs("p",{className:"text-slate-500",children:["Partner ID: ",r.partnerId||e]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.phone&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:t.jsx(rn,{className:"text-slate-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Phone"}),t.jsx("p",{className:"font-semibold text-slate-800",children:r.phone})]})]}),r.email&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:t.jsx(tn,{className:"text-slate-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Email"}),t.jsx("p",{className:"font-semibold text-slate-800",children:r.email})]})]}),r.city&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:t.jsx(Pr,{className:"text-slate-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"City"}),t.jsx("p",{className:"font-semibold text-slate-800",children:r.city})]})]}),r.experience&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:t.jsx(vr,{className:"text-slate-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Experience"}),t.jsxs("p",{className:"font-semibold text-slate-800",children:[r.experience," Years"]})]})]})]}),r.categoryNames&&r.categoryNames.length>0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Service Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:r.categoryNames.map((m,x)=>t.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium",children:m},x))})]})]})]})}),t.jsx("div",{className:"bg-slate-50 border-t border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx(Ja,{className:"text-primary text-2xl flex-shrink-0 mt-1"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Verification Details"}),t.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[t.jsxs("li",{children:[" Partner ID verified: ",r.partnerId||e]}),t.jsxs("li",{children:[" KYC Status: ",t.jsx("span",{className:"font-semibold",children:r.kycStatus||"Pending"})]}),r.verifiedAt&&t.jsxs("li",{children:[" Verified on: ",new Date(r.verifiedAt).toLocaleDateString()]})]})]})]})})]}),t.jsx("div",{className:"text-center mt-6",children:t.jsx("a",{href:"/",className:"text-primary hover:text-primary-dark font-semibold",children:" Back to Home"})})]})})},aSe=()=>{const e=Zt(),r=$r(),s="919590926068",a=Zl(),[n,i]=g.useState({x:0,y:0}),[l,o]=g.useState(0);g.useEffect(()=>{const h=setInterval(()=>{o(p=>p+1)},1e3);return()=>clearInterval(h)},[]),g.useEffect(()=>{const h=p=>{i({x:p.clientX/window.innerWidth*100,y:p.clientY/window.innerHeight*100})};return window.addEventListener("mousemove",h),()=>window.removeEventListener("mousemove",h)},[]);const d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.1}}},c={hidden:{y:30,opacity:0},visible:{y:0,opacity:1,transition:{duration:.7,ease:[.22,1,.36,1]}}},u={animate:{y:[0,-30,0],x:[0,10,0],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}},m={animate:{rotate:[0,360],transition:{duration:20,repeat:1/0,ease:"linear"}}},x=[{path:"/",label:"Home",icon:en,color:"from-blue-500 to-blue-600"},{path:"/partner",label:"Partner Program",icon:or,color:"from-green-500 to-green-600"},{path:"/leads",label:"Lead Marketplace",icon:Hi,color:"from-yellow-500 to-yellow-600"},{path:"/materials",label:"Material Store",icon:fj,color:"from-purple-500 to-purple-600"},{path:"/amc",label:"AMC Plans",icon:Pr,color:"from-pink-500 to-pink-600"},{path:"/emergency",label:"Emergency Service",icon:Hi,color:"from-red-500 to-red-600"}];return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/50 to-indigo-50 flex items-center justify-center p-4 sm:p-6 relative overflow-hidden",children:[t.jsx("div",{className:"absolute pointer-events-none transition-all duration-300 ease-out",style:{left:`${n.x}%`,top:`${n.y}%`,transform:"translate(-50%, -50%)"},children:t.jsx("div",{className:"w-96 h-96 bg-primary/5 rounded-full blur-3xl opacity-30 transition-opacity duration-500"})}),t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx(E.div,{className:"absolute top-20 left-10 w-72 h-72 bg-gradient-to-br from-primary/20 to-primary/5 rounded-full blur-3xl",variants:u,animate:"animate"}),t.jsx(E.div,{className:"absolute bottom-20 right-10 w-96 h-96 bg-gradient-to-br from-blue-400/10 to-indigo-400/5 rounded-full blur-3xl",variants:u,animate:"animate",transition:{delay:1,duration:5}}),t.jsx(E.div,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-3xl",variants:u,animate:"animate",transition:{delay:.5,duration:6}}),t.jsx(E.div,{className:"absolute top-1/4 right-1/4 w-48 h-48 bg-gradient-to-br from-yellow-300/10 to-orange-300/5 rounded-full blur-2xl",variants:m,animate:"animate"})]}),t.jsx(E.div,{className:"absolute inset-0 opacity-[0.03]",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:30,repeat:1/0,repeatType:"reverse"},style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23214A73' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat",backgroundSize:"60px 60px"}}),t.jsxs(E.div,{className:"relative z-10 max-w-6xl w-full mx-auto",variants:d,initial:"hidden",animate:"visible",children:[t.jsxs(E.div,{variants:c,className:"text-center mb-8 sm:mb-12",children:[t.jsx("div",{className:"flex justify-center mb-4 sm:mb-6",children:t.jsx(ai,{className:"scale-110 sm:scale-125"})}),l>5&&t.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"inline-flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-full text-sm text-slate-600 shadow-lg mb-4",children:[t.jsx(Ih,{className:"text-primary"}),t.jsxs("span",{children:["You've been here for ",l,"s"]})]})]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-8 items-start lg:items-center",children:[t.jsxs(E.div,{variants:c,className:"text-center lg:text-left",children:[t.jsxs("div",{className:"relative mb-6 sm:mb-8",children:[t.jsx(E.h1,{className:"text-[8rem] sm:text-[12rem] lg:text-[14rem] xl:text-[16rem] font-black text-transparent bg-clip-text bg-gradient-to-r from-primary via-primary-dark to-primary leading-none relative select-none",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 200%"},children:"404"}),[...Array(6)].map((h,p)=>t.jsx(E.div,{className:"absolute w-3 h-3 bg-primary/30 rounded-full",style:{top:`${20+p*15}%`,left:`${10+p*12}%`},animate:{y:[0,-20,0],opacity:[.3,.7,.3],scale:[1,1.5,1]},transition:{duration:2+p*.3,repeat:1/0,delay:p*.2}},p))]}),t.jsx(E.div,{variants:c,className:"flex justify-center lg:justify-start mb-6 sm:mb-8",children:t.jsxs("div",{className:"relative",children:[t.jsxs(E.div,{className:"w-24 h-24 sm:w-28 sm:h-28 lg:w-36 lg:h-36 rounded-full bg-gradient-to-br from-primary via-primary-dark to-primary flex items-center justify-center shadow-2xl relative overflow-hidden",animate:{scale:[1,1.15,1],rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),t.jsx(Jn,{className:"text-white text-5xl sm:text-6xl lg:text-7xl relative z-10"})]}),[1,2,3].map(h=>t.jsx(E.div,{className:"absolute inset-0 rounded-full border-2 border-primary/20",style:{top:`-${h*20}px`,left:`-${h*20}px`,right:`-${h*20}px`,bottom:`-${h*20}px`},animate:{scale:[1,1.5+h*.2,1],opacity:[.3,0,.3]},transition:{duration:2+h*.5,repeat:1/0,delay:h*.3}},h))]})}),t.jsxs(E.div,{variants:c,children:[t.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-slate-800 mb-3 sm:mb-4",children:"Page Not Found"}),t.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-slate-600 mb-2 sm:mb-3",children:"Oops! We couldn't find what you're looking for."}),t.jsxs("p",{className:"text-sm sm:text-base text-slate-500 break-words",children:["The page ",t.jsx("span",{className:"font-mono text-primary bg-primary/10 px-2 py-1 rounded break-all",children:r.pathname})," doesn't exist or has been moved."]})]})]}),t.jsxs(E.div,{variants:c,className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[t.jsxs(Ht,{to:"/",className:"group flex-1 px-5 py-3 sm:px-6 sm:py-4 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl font-semibold hover:shadow-2xl transition-all duration-300 flex items-center justify-center gap-2 sm:gap-3 transform hover:scale-105 hover:-translate-y-1",children:[t.jsx(en,{className:"text-lg sm:text-xl group-hover:scale-110 transition-transform"}),t.jsx("span",{className:"text-base sm:text-lg",children:"Go to Home"})]}),t.jsxs("button",{onClick:()=>e(-1),className:"group flex-1 px-5 py-3 sm:px-6 sm:py-4 bg-white text-primary border-2 border-primary rounded-xl font-semibold hover:bg-primary hover:text-white transition-all duration-300 flex items-center justify-center gap-2 sm:gap-3 transform hover:scale-105 hover:-translate-y-1 shadow-lg",children:[t.jsx(J0,{className:"text-lg sm:text-xl group-hover:scale-110 transition-transform"}),t.jsx("span",{className:"text-base sm:text-lg",children:"Go Back"})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[t.jsx(fj,{className:"text-primary"}),"Popular Pages"]}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:x.map((h,p)=>{const f=h.icon;return t.jsx(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:p*.1},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},children:t.jsxs(Ht,{to:h.path,className:"group block p-4 bg-white/90 backdrop-blur-sm rounded-xl border-2 border-slate-200 hover:border-primary transition-all duration-300 shadow-md hover:shadow-xl",children:[t.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-br ${h.color} flex items-center justify-center mb-3 mx-auto group-hover:scale-110 transition-transform`,children:t.jsx(f,{className:"text-white text-xl"})}),t.jsx("p",{className:"text-sm font-semibold text-slate-700 group-hover:text-primary transition-colors text-center",children:h.label})]})},h.path)})})]}),t.jsxs(E.div,{variants:c,className:"p-6 bg-gradient-to-br from-white/90 to-blue-50/50 backdrop-blur-sm rounded-2xl border-2 border-primary/20 shadow-xl",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[t.jsx(Ih,{className:"text-primary"}),"Need Help?"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("button",{onClick:()=>a(s),className:"w-full px-4 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg font-semibold hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-3 transform hover:scale-105",children:[t.jsx(Er,{className:"text-xl"}),t.jsx("span",{children:"Chat on WhatsApp"})]}),t.jsxs(Ht,{to:"/partner",className:"block w-full px-4 py-3 bg-white text-primary border-2 border-primary rounded-lg font-semibold hover:bg-primary hover:text-white transition-all duration-300 flex items-center justify-center gap-3 transform hover:scale-105",children:[t.jsx(t4,{className:"text-xl"}),t.jsx("span",{children:"Become a Partner"})]})]})]}),t.jsx(E.div,{variants:c,className:"p-5 bg-white/80 backdrop-blur-sm rounded-xl border-2 border-primary/30 shadow-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:t.jsx(jn,{className:"text-primary text-xl"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-800 mb-1",children:"Can't find what you're looking for?"}),t.jsx("p",{className:"text-xs text-slate-600",children:"Try using the navigation menu or contact our support team for assistance."})]})]})})]})]}),t.jsx(E.div,{variants:c,className:"mt-8 sm:mt-12 text-center",children:t.jsxs("div",{className:"inline-flex flex-wrap items-center justify-center gap-4 sm:gap-6 px-4 sm:px-6 py-3 bg-white/60 backdrop-blur-sm rounded-full shadow-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-slate-600",children:[t.jsx(Hi,{className:"text-primary"}),t.jsx("span",{children:"Fast Response"})]}),t.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full hidden sm:block"}),t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-slate-600",children:[t.jsx(Ih,{className:"text-primary"}),t.jsx("span",{children:"24/7 Support"})]}),t.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full hidden sm:block"}),t.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-slate-600",children:[t.jsx(or,{className:"text-primary"}),t.jsx("span",{children:"Trusted Platform"})]})]})})]})]})},nSe=({onPermissionGranted:e})=>{const[r,s]=g.useState(!1),[a,n]=g.useState(!1),[i,l]=g.useState("default");g.useEffect(()=>{if("Notification"in window){const m=Notification.permission;if(l(m),console.log("Current notification permission:",m),m==="default"){const x=setTimeout(()=>{s(!0)},3e3);return()=>clearTimeout(x)}else if(m==="denied"){const x=setTimeout(()=>{s(!0)},2e3);return()=>clearTimeout(x)}else m==="granted"&&console.log("Notification permission already granted")}},[]);const o=async()=>{n(!0);try{const m=await qD();m?(s(!1),l("granted"),e&&e(m)):l("denied")}catch(m){console.error("Error requesting permission:",m),l("denied")}finally{n(!1)}},d=()=>{s(!1),sessionStorage.setItem("notificationPromptDismissed","true")},c=()=>{const m=navigator.userAgent.toLowerCase();return m.includes("chrome")&&!m.includes("edge")?["Chrome Instructions:","1. Click the lock icon (or info icon) in the address bar",'2. Click "Site settings"','3. Find "Notifications"','4. Change from "Block" to "Allow"',"5. Refresh this page"]:m.includes("firefox")?["Firefox Instructions:","1. Click the lock icon in the address bar",'2. Click "More Information"','3. Go to "Permissions" tab','4. Find "Notifications"','5. Change from "Block" to "Allow"',"6. Refresh this page"]:m.includes("safari")?["Safari Instructions:","1. Go to Safari  Settings  Websites",'2. Click "Notifications"',"3. Find this website in the list",'4. Change to "Allow"',"5. Refresh this page"]:m.includes("edge")?["Edge Instructions:","1. Click the lock icon in the address bar",'2. Click "Permissions"','3. Find "Notifications"','4. Change from "Block" to "Allow"',"5. Refresh this page"]:["Browser Instructions:","1. Click the lock/info icon in the address bar","2. Go to Site settings/Permissions",'3. Find "Notifications"','4. Change from "Block" to "Allow"',"5. Refresh this page"]},u=()=>c().join(`
`);return sessionStorage.getItem("notificationPromptDismissed")==="true"&&i!=="denied"||!r?null:i==="denied"?t.jsx("div",{className:"fixed bottom-4 right-4 z-[10000] max-w-sm",children:t.jsx("div",{className:"bg-white rounded-xl shadow-2xl border border-amber-200 p-6",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-100 flex items-center justify-center",children:t.jsx(Jn,{className:"w-6 h-6 text-amber-600"})})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Notifications Blocked"}),t.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Notifications are currently blocked. To enable them:"}),t.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 mb-4",children:[t.jsx("p",{className:"text-xs text-slate-700 font-medium mb-2",children:"How to enable:"}),t.jsx("ol",{className:"text-xs text-slate-600 space-y-1 list-decimal list-inside",children:c().slice(1).map((m,x)=>t.jsx("li",{className:"ml-2",children:m.replace(/^\d+\.\s*/,"")},x))})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>{const m=u();navigator.clipboard.writeText(m).then(()=>{alert("Instructions copied to clipboard! Follow the steps to enable notifications.")}).catch(()=>{const x=document.createElement("textarea");x.value=m,document.body.appendChild(x),x.select(),document.execCommand("copy"),document.body.removeChild(x),alert("Instructions copied to clipboard! Follow the steps to enable notifications.")})},className:"px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition-colors flex items-center gap-2",children:[t.jsx(kl,{className:"w-4 h-4"}),"Copy Instructions"]}),t.jsx("button",{onClick:d,className:"p-2 text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Dismiss",children:t.jsx(xt,{className:"w-5 h-5"})})]})]})]})})}):t.jsx("div",{className:"fixed bottom-4 right-4 z-[10000] max-w-sm",children:t.jsx("div",{className:"bg-white rounded-xl shadow-2xl border border-slate-200 p-6",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:t.jsx(Cn,{className:"w-6 h-6 text-primary"})})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Enable Notifications"}),t.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Get instant updates about bookings, messages, and important alerts even when your browser is closed."}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:o,disabled:a,className:"px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Enabling...":"Enable Notifications"}),t.jsx("button",{onClick:d,className:"p-2 text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Dismiss",children:t.jsx(xt,{className:"w-5 h-5"})})]})]})]})})})},iSe="http://localhost:9088",lSe=({user:e,onClose:r,onPlanSelect:s})=>{var N;const{isAuthenticated:a}=nn(),[n,i]=g.useState([]),[l,o]=g.useState(!0),[d,c]=g.useState(null),[u,m]=g.useState(!1),[x,h]=g.useState(null),p="919590926068";g.useEffect(()=>{(async()=>{try{const P=await(await fetch(`${iSe}/api/amc-plans`)).json();P.success&&P.data&&i(P.data)}catch(k){console.error("Error fetching AMC plans:",k)}finally{o(!1)}})()},[]);const f=S=>{var A;const k=((A=e==null?void 0:e.companyDetails)==null?void 0:A.companyName)||"your company";let P=`Hi! I'm ${e==null?void 0:e.name} from ${k}. I'm interested in the ${S.name} AMC plan (${S.price.toLocaleString("en-IN")}/year).`;e!=null&&e.companyDetails&&(P+=`

Company Details:`,P+=`
 Company: ${e.companyDetails.companyName}`,e.companyDetails.companySize&&(P+=`
 Size: ${e.companyDetails.companySize}`),e.companyDetails.industry&&(P+=`
 Industry: ${e.companyDetails.industry}`)),P+=`

Please provide more details about this plan and help me get started.`;const C=encodeURIComponent(P),I=`https://wa.me/${p}?text=${C}`;window.open(I,"_blank"),s&&s(S)},b=S=>{if(!a){alert("Please login to proceed with payment");return}h(S),m(!0)},j=S=>{console.log("Payment successful:",S),m(!1),h(null),alert(`Payment successful! Your ${x==null?void 0:x.name} AMC plan is now active.`),s&&s(x),r&&r()},w=S=>{console.error("Payment failed:",S),m(!1),alert("Payment failed. Please try again or contact support.")},y=()=>{m(!1),h(null)},v=()=>{r&&r()};return t.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[t.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark text-white p-6 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Eo,{className:"w-8 h-8"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Choose Your AMC Plan"}),t.jsxs("p",{className:"text-white/90",children:["Welcome ",((N=e==null?void 0:e.companyDetails)==null?void 0:N.companyName)||(e==null?void 0:e.name),"! Select an Annual Maintenance Contract plan."]})]})]}),t.jsx("button",{onClick:v,className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition",children:t.jsx(Rl,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ss,{className:"w-12 h-12 text-primary animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading AMC plans..."})]}):n.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Eo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No AMC Plans Available"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"We're currently setting up our AMC plans. Please contact us for custom quotes."}),t.jsxs(E.button,{onClick:()=>f({name:"Custom AMC Plan",price:0}),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 py-3 rounded-full font-semibold hover:bg-[#20BA5A] transition-all duration-300 flex items-center gap-2 mx-auto",children:[t.jsx(Er,{className:"w-5 h-5"}),"Contact Us for Custom Plan"]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-center mb-8",children:t.jsx("p",{className:"text-gray-600",children:"Choose the perfect AMC plan for your business needs. Get priority support, scheduled maintenance, and significant cost savings."})}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((S,k)=>t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:k*.1},whileHover:{y:-5,scale:1.02},className:`bg-white rounded-xl shadow-lg border-2 transition-all duration-300 overflow-hidden ${S.highlight?"border-primary scale-105 shadow-xl shadow-primary/20":"border-gray-200 hover:border-primary/30 hover:shadow-xl"}`,children:[S.highlight&&t.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-dark text-white text-center py-2 px-4",children:t.jsx("span",{className:"text-sm font-bold",children:S.highlightText||"RECOMMENDED"})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:S.name}),t.jsxs("div",{className:"mb-4",children:[t.jsx("span",{className:"text-3xl font-bold text-primary",children:S.priceDisplay||`${S.price.toLocaleString("en-IN")}`}),t.jsx("span",{className:"text-gray-600",children:"/year"})]}),S.description&&t.jsx("p",{className:"text-gray-600 text-sm",children:S.description})]}),t.jsxs("ul",{className:"space-y-2 mb-6",children:[S.features.slice(0,4).map((P,C)=>t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Ue,{className:"text-green-500 mt-0.5 flex-shrink-0 text-sm"}),t.jsx("span",{className:"text-gray-700 text-sm",children:P})]},C)),S.features.length>4&&t.jsxs("li",{className:"text-gray-500 text-sm",children:["+",S.features.length-4," more features"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(E.button,{onClick:()=>b(S),whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:`w-full py-3 rounded-xl font-bold transition-all duration-300 flex items-center justify-center gap-2 ${S.highlight?"bg-gradient-to-r from-primary to-primary-dark text-white hover:from-primary-dark hover:to-primary shadow-lg":"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800"}`,children:[t.jsx(_i,{className:"w-4 h-4"}),"Pay Now"]}),t.jsxs(E.button,{onClick:()=>f(S),whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:"w-full py-2 rounded-lg font-medium transition-all duration-300 flex items-center justify-center gap-2 bg-[#25D366] text-white hover:bg-[#20BA5A]",children:[t.jsx(Er,{className:"w-4 h-4"}),"Discuss on WhatsApp"]})]})]})]},S._id||k))})]})}),t.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[t.jsx("div",{className:"text-sm text-gray-600",children:t.jsx("p",{children:"Need a custom plan? Our team will help you find the perfect solution."})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:v,className:"px-6 py-2 text-gray-600 hover:text-gray-800 font-semibold transition",children:"Skip for now"}),t.jsxs(E.button,{onClick:()=>f({name:"Custom AMC Plan",price:0}),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 py-2 rounded-lg font-semibold hover:bg-[#20BA5A] transition-all duration-300 flex items-center gap-2",children:[t.jsx(Er,{className:"w-4 h-4"}),"Custom Plan"]})]})]})})]}),u&&x&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:t.jsx("div",{className:"max-w-md w-full",children:t.jsx(QN,{amount:x.price,orderData:{productinfo:`${x.name} AMC Plan`,userId:(e==null?void 0:e._id)||(e==null?void 0:e.userId)},onSuccess:j,onFailure:w,onCancel:y,title:`Pay for ${x.name}`,description:`Annual Maintenance Contract - ${x.name}`})})})]})},oSe=()=>{var x,h,p,f;const e=Zt(),{user:r}=nn(),[s,a]=g.useState({totalBookings:0,activeBookings:0,completedBookings:0,walletBalance:0}),[n,i]=g.useState([]),[l,o]=g.useState(!0),[d,c]=g.useState(!1);g.useEffect(()=>{r!=null&&r._id&&u()},[r==null?void 0:r._id]),g.useEffect(()=>{var b;if((r==null?void 0:r.userType)==="company"&&!((b=r==null?void 0:r.amcSubscription)!=null&&b.isActive)){const j=setTimeout(()=>{c(!0)},2e3);return()=>clearTimeout(j)}},[r]);const u=async()=>{var b,j,w;try{const y=localStorage.getItem("userToken"),v=(r==null?void 0:r._id)||localStorage.getItem("userId"),N={headers:{Authorization:`Bearer ${y}`}};console.log(" Dashboard: Fetching booking data..."),console.log("   User ID:",v),console.log("   Token exists:",!!y);let S=[];try{console.log(" Trying main bookings endpoint...");const R=await Pt.get("http://localhost:9088/api/user/bookings",N);console.log(" Bookings API Response:",R.data),R.data.success&&R.data.data?S=R.data.data.bookings||R.data.data||[]:R.data.bookings?S=R.data.bookings:Array.isArray(R.data.data)?S=R.data.data:Array.isArray(R.data)&&(S=R.data),console.log(" Processed bookings:",S),console.log(" Bookings count:",Array.isArray(S)?S.length:"Not an array")}catch(R){console.error(" Error fetching bookings:",R),console.error("   Response:",(b=R.response)==null?void 0:b.data);try{console.log(" Trying alternative bookings endpoint...");const Z=await Pt.get("http://localhost:9088/api/user/api/user/bookings",N);S=Z.data.data||Z.data.bookings||Z.data||[]}catch(Z){console.error(" Alternative endpoint also failed:",Z),S=[]}}Array.isArray(S)||(console.log("  Bookings is not an array, converting..."),S=[]);const k=S.filter(R=>R&&R.status!=="temp"&&!R.isTemporary);console.log(" Valid bookings after filtering:",k.length);let P=0;if(v)try{const R=await Pt.get(`http://localhost:9088/api/user/wallet/${v}`,N);R.data.success&&R.data.data&&(P=R.data.data.balance||0)}catch(R){console.error("Error fetching wallet balance:",R)}const C=k.length,I=k.filter(R=>["pending","confirmed","in_progress","in-progress"].includes(R.status)).length,A=k.filter(R=>R.status==="completed").length;console.log(" Dashboard Stats:"),console.log("   Total Bookings:",C),console.log("   Active Bookings:",I),console.log("   Completed Bookings:",A),console.log("   Wallet Balance:",P),a({totalBookings:C,activeBookings:I,completedBookings:A,walletBalance:P});const O=k.sort((R,Z)=>new Date(Z.createdAt)-new Date(R.createdAt)).slice(0,5);console.log(" Recent bookings:",O.map(R=>({id:R._id,service:R.serviceName,status:R.status,date:R.createdAt}))),i(O)}catch(y){console.error(" Error fetching dashboard data:",y),console.error("   Error details:",{message:y.message,response:(j=y.response)==null?void 0:j.data,status:(w=y.response)==null?void 0:w.status}),a({totalBookings:0,activeBookings:0,completedBookings:0,walletBalance:0}),i([])}finally{o(!1)}},m=[{icon:ks,label:"Total Bookings",value:s.totalBookings,color:"blue"},{icon:Xr,label:"Active Bookings",value:s.activeBookings,color:"orange"},{icon:Vo,label:"Completed",value:s.completedBookings,color:"green"},{icon:Jt,label:"Wallet Balance",value:`${s.walletBalance}`,color:"purple"}];return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.jsxs("div",{className:"space-y-6",children:[(r==null?void 0:r.userType)==="company"&&t.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 rounded-2xl p-6 text-white overflow-hidden shadow-xl animate-fade-in",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),t.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-xl rounded-xl flex items-center justify-center",children:t.jsx(Eo,{className:"text-white",size:24})}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-bold mb-1",children:["Welcome ",((x=r==null?void 0:r.companyDetails)==null?void 0:x.companyName)||"Corporate User","!"]}),t.jsx("p",{className:"text-blue-100",children:(h=r==null?void 0:r.amcSubscription)!=null&&h.isActive?`Your ${r.amcSubscription.planName} AMC plan is active`:"Get comprehensive AMC plans for your business needs"})]})]}),!((p=r==null?void 0:r.amcSubscription)!=null&&p.isActive)&&t.jsx("button",{onClick:()=>c(!0),className:"px-6 py-3 bg-white text-blue-600 rounded-xl hover:bg-blue-50 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold whitespace-nowrap",children:"View AMC Plans"})]})]}),t.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-3xl p-8 md:p-12 text-white overflow-hidden shadow-2xl animate-fade-in",children:[t.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full -mr-48 -mt-48 animate-pulse-slow"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-white/5 rounded-full -ml-32 -mb-32"}),t.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzR2LTRoLTJ2NGgtNHYyaDR2NGgydi00aDR2LTJoLTR6bTAtMzBWMGgtMnY0aC00djJoNHY0aDJWNmg0VjRoLTR6TTYgMzR2LTRINHY0SDB2Mmg0djRoMnYtNGg0di0ySDZ6TTYgNFYwSDR2NEgwdjJoNHY0aDJWNmg0VjRINnoiLz48L2c+PC9nPjwvc3ZnPg==')] opacity-20"}),t.jsx("div",{className:"relative z-10",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[t.jsxs("div",{className:"flex items-center gap-4 md:gap-6 animate-slide-in-left",children:[t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-white/20 backdrop-blur-xl rounded-2xl flex items-center justify-center transform hover:scale-110 hover:rotate-6 transition-all duration-300 overflow-hidden ring-4 ring-white/30 shadow-2xl",children:r!=null&&r.profilePicture?t.jsx("img",{src:r.profilePicture,alt:r.name||"User",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-white/30 to-white/10 flex items-center justify-center",children:t.jsx(vr,{className:"text-white",size:32})})}),t.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-400 rounded-full border-4 border-primary-dark animate-pulse"})]}),t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:["Welcome Back, ",((f=r==null?void 0:r.name)==null?void 0:f.split(" ")[0])||"User","! "]}),t.jsx("p",{className:"text-blue-100 text-lg",children:"Manage your bookings and services with ease"})]})]}),t.jsx("div",{className:"flex gap-3 animate-slide-in-right"})]})})]}),t.jsxs("div",{className:"relative bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 rounded-2xl p-4 md:p-6 text-white overflow-hidden shadow-xl animate-fade-in",style:{animationDelay:"200ms"},children:[t.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzR2LTRoLTJ2NGgtNHYyaDR2NGgydi00aDR2LTJoLTR6bTAtMzBWMGgtMnY0aC00djJoNHY0aDJWNmg0VjRoLTR6TTYgMzR2LTRINHY0SDB2Mmg0djRoMnYtNGg0di0ySDZ6TTYgNFYwSDR2NEgwdjJoNHY0aDJWNmg0VjRINnoiLz48L2c+PC9nPjwvc3ZnPg==')] opacity-20"}),t.jsx("div",{className:"relative z-10",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[t.jsxs("div",{className:"relative flex-shrink-0",children:[t.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 bg-white/20 backdrop-blur-xl rounded-xl flex items-center justify-center animate-bounce-slow",children:t.jsxs("div",{className:"relative",children:[t.jsx(Jm,{className:"text-yellow-300 animate-pulse",size:28}),t.jsx(Hi,{className:"absolute -top-1 -right-1 text-white animate-ping",size:12})]})}),t.jsx("div",{className:"absolute top-0 left-0 w-full h-full animate-spin",style:{animationDuration:"4s"},children:t.jsx(kl,{className:"absolute -top-1 left-1/2 -ml-2 text-yellow-300",size:12})}),t.jsx("div",{className:"absolute top-0 left-0 w-full h-full animate-spin",style:{animationDuration:"3s",animationDirection:"reverse"},children:t.jsx(Jm,{className:"absolute -bottom-1 left-1/2 -ml-2 text-white",size:10})}),t.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-300 rounded-full animate-ping"})]}),t.jsxs("div",{className:"text-left",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxs("span",{className:"text-xs font-bold bg-white/20 px-2 py-0.5 rounded-full animate-pulse flex items-center gap-1",children:[t.jsx(Hi,{size:10}),"LIVE NOW"]}),t.jsxs("span",{className:"text-xs md:text-sm font-semibold text-yellow-300 flex items-center gap-1",children:[t.jsx(kl,{className:"animate-spin",size:14,style:{animationDuration:"3s"}}),"Fast Home Service"]})]}),t.jsxs("h3",{className:"text-lg md:text-xl font-bold leading-tight flex items-center gap-2",children:[t.jsx(Jm,{className:"text-yellow-300 animate-pulse",size:18}),"Service in ",t.jsx("span",{className:"text-yellow-300 animate-pulse",children:"Quick Time!"}),t.jsx(vt,{className:"text-green-300 animate-bounce",size:20})]}),t.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-xs md:text-sm text-white/90",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Lr,{className:"animate-pulse",size:14}),"Expert Technicians"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(gn,{className:"animate-pulse",size:14,style:{animationDelay:"0.5s"}}),"Certified"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Vo,{className:"animate-pulse",size:14,style:{animationDelay:"1s"}}),"4.9"]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 md:gap-4 flex-shrink-0",children:[t.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[t.jsxs("div",{className:"text-center px-3 py-2 bg-white/10 backdrop-blur-sm rounded-lg border border-white/20 hover:bg-white/20 transition-all group",children:[t.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[t.jsx(Jm,{className:"text-yellow-300 group-hover:animate-spin",size:16}),t.jsx("div",{className:"text-lg font-bold",children:"1000+"})]}),t.jsx("div",{className:"text-xs text-white/80",children:"Services Done"})]}),t.jsxs("div",{className:"text-center px-3 py-2 bg-white/10 backdrop-blur-sm rounded-lg border border-white/20 hover:bg-white/20 transition-all group",children:[t.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[t.jsx(Hi,{className:"text-yellow-300 animate-pulse group-hover:animate-bounce",size:16}),t.jsx("div",{className:"text-lg font-bold",children:"Fast"})]}),t.jsx("div",{className:"text-xs text-white/80",children:"Response"})]})]}),t.jsxs("button",{onClick:()=>e("/"),className:"group relative px-5 md:px-6 py-2.5 md:py-3 bg-white text-orange-600 rounded-xl font-bold shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-110 whitespace-nowrap overflow-hidden",children:[t.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[t.jsx(Jm,{className:"group-hover:rotate-12 transition-transform",size:18}),t.jsx("span",{className:"text-sm md:text-base",children:"Get Service"}),t.jsx(us,{className:"group-hover:translate-x-2 transition-transform",size:16})]}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-300 to-yellow-400 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left"})]})]})]})})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map((b,j)=>{const w=b.icon,y={blue:"from-primary to-primary-light",orange:"from-orange-500 to-orange-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600"};return t.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-6 overflow-hidden border border-gray-100 hover:border-primary/30 transform hover:-translate-y-2 animate-fade-in",style:{animationDelay:`${j*100}ms`},children:[t.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${y[b.color]} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${y[b.color]} shadow-lg group-hover:scale-110 transition-transform duration-300`,children:t.jsx(w,{className:"text-white",size:24})}),t.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx(us,{className:"text-gray-600",size:16})})]}),t.jsx("p",{className:"text-slate-500 text-sm font-medium mb-1",children:b.label}),t.jsx("p",{className:"text-3xl font-bold text-slate-800 group-hover:text-primary transition-colors",children:b.value})]})]},j)})}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 animate-fade-in",style:{animationDelay:"400ms"},children:[t.jsx("div",{className:"p-6 border-b border-slate-100 bg-gradient-to-r from-primary/5 to-primary-light/5",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-primary-dark rounded-xl flex items-center justify-center transform hover:scale-110 hover:rotate-6 transition-all duration-300",children:t.jsx(ks,{className:"text-white",size:20})}),t.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Recent Bookings"})]}),t.jsxs("button",{onClick:()=>e("/user/dashboard/bookings"),className:"group flex items-center gap-2 px-4 py-2 bg-primary/10 text-primary hover:bg-primary hover:text-white rounded-xl font-medium transition-all duration-200",children:["View All",t.jsx(us,{className:"group-hover:translate-x-1 transition-transform",size:16})]})]})}),t.jsx("div",{className:"p-6",children:n.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ks,{className:"text-slate-400",size:32})}),t.jsx("p",{className:"text-slate-600 font-medium mb-2",children:"No bookings yet"}),t.jsx("p",{className:"text-slate-500 text-sm mb-6",children:"Start booking services to see them here"}),t.jsx("button",{onClick:()=>e("/"),className:"px-6 py-3 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl hover:shadow-lg hover:shadow-primary/30 transition-all duration-200 font-medium",children:"Get Service"})]}):t.jsx("div",{className:"space-y-3",children:n.map((b,j)=>t.jsxs("div",{onClick:()=>e(`/user/dashboard/bookings/${b._id}`),className:"group flex items-center justify-between p-4 border-2 border-slate-200 rounded-xl hover:border-primary hover:bg-primary/5 cursor-pointer transition-all duration-200 transform hover:scale-[1.02] animate-slide-in-left",style:{animationDelay:`${j*50}ms`},children:[t.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary/10 to-primary-light/10 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:t.jsx(ks,{className:"text-primary",size:20})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-slate-800 group-hover:text-primary transition-colors",children:b.serviceName||"Service Booking"}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(Xr,{className:"text-slate-400",size:14}),t.jsx("p",{className:"text-sm text-slate-600",children:new Date(b.scheduledDate||b.bookingDate||b.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})})]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`px-4 py-2 rounded-xl text-sm font-semibold border-2
                      ${b.status==="completed"?"bg-green-50 text-green-700 border-green-200":b.status==="cancelled"?"bg-red-50 text-red-700 border-red-200":"bg-blue-50 text-blue-700 border-blue-200"}`,children:b.status}),t.jsx(us,{className:"text-slate-400 group-hover:text-primary group-hover:translate-x-1 transition-all",size:20})]})]},b._id))})})]}),t.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-2xl p-6 text-white mb-6 animate-fade-in",style:{animationDelay:"300ms"},children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold mb-2",children:" Get Standard Plan"}),t.jsx("p",{className:"text-green-100",children:"Unlock premium features with our Standard subscription plan"}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(vt,{}),"Priority Support"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Vo,{}),"Premium Features"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Hi,{}),"Fast Service"]})]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold mb-1",children:"299"}),t.jsx("div",{className:"text-green-100 text-sm mb-3",children:"per month"}),t.jsx("button",{onClick:()=>e("/#subscription-plans"),className:"bg-white text-green-600 px-6 py-3 rounded-xl font-bold hover:bg-green-50 transition-all shadow-lg hover:shadow-xl transform hover:scale-105",children:"Get Standard Plan"})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("button",{onClick:()=>e("/"),className:"group relative bg-gradient-to-br from-primary to-primary-light rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-8 text-left overflow-hidden transform hover:scale-105 animate-fade-in",style:{animationDelay:"500ms"},children:[t.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"}),t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-xl rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:t.jsx(ks,{className:"text-white",size:28})}),t.jsx("h3",{className:"font-bold text-white text-lg mb-2",children:"Get a Service"}),t.jsx("p",{className:"text-blue-100 text-sm",children:"Browse and get services instantly"}),t.jsxs("div",{className:"mt-4 flex items-center text-white text-sm font-medium",children:[t.jsx("span",{children:"Explore Services"}),t.jsx(us,{className:"ml-2 group-hover:translate-x-2 transition-transform"})]})]})]}),t.jsxs("button",{onClick:()=>e("/user/dashboard/wallet"),className:"group relative bg-gradient-to-br from-green-500 to-green-600 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-8 text-left overflow-hidden transform hover:scale-105 animate-fade-in",style:{animationDelay:"600ms"},children:[t.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"}),t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-xl rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:t.jsx(Jt,{className:"text-white",size:28})}),t.jsx("h3",{className:"font-bold text-white text-lg mb-2",children:"Add Money"}),t.jsx("p",{className:"text-green-100 text-sm",children:"Top up your wallet balance"}),t.jsxs("div",{className:"mt-4 flex items-center text-white text-sm font-medium",children:[t.jsx("span",{children:"Manage Wallet"}),t.jsx(us,{className:"ml-2 group-hover:translate-x-2 transition-transform"})]})]})]}),t.jsxs("button",{onClick:()=>e("/user/dashboard/support"),className:"group relative bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-8 text-left overflow-hidden transform hover:scale-105 animate-fade-in",style:{animationDelay:"700ms"},children:[t.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"}),t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-xl rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:t.jsx(or,{className:"text-white",size:28})}),t.jsx("h3",{className:"font-bold text-white text-lg mb-2",children:"Get Help"}),t.jsx("p",{className:"text-purple-100 text-sm",children:"Contact our support team"}),t.jsxs("div",{className:"mt-4 flex items-center text-white text-sm font-medium",children:[t.jsx("span",{children:"Contact Support"}),t.jsx(us,{className:"ml-2 group-hover:translate-x-2 transition-transform"})]})]})]})]}),d&&t.jsx(lSe,{user:r,onClose:()=>c(!1),onPlanSelect:b=>{console.log("Selected AMC plan:",b),c(!1)}})]})},cSe=()=>{const e=Zt(),[r,s]=g.useState([]),[a,n]=g.useState([]),[i,l]=g.useState(!0),[o,d]=g.useState("all"),[c,u]=g.useState(!1),[m,x]=g.useState(null),[h,p]=g.useState(!1),[f,b]=g.useState(""),[j,w]=g.useState(!1),[y,v]=g.useState(null),N=g.useRef(null);g.useEffect(()=>{S(),new URLSearchParams(window.location.search).get("payment")==="success"&&(window.history.replaceState({},document.title,window.location.pathname),b("Payment successful! Your booking has been confirmed."),p(!0),setTimeout(()=>p(!1),5e3),setTimeout(()=>{console.log(" Refreshing bookings after successful payment..."),S()},2e3))},[]),g.useEffect(()=>{k()},[o,r]);const S=async()=>{var Y,ce,D;try{const z=localStorage.getItem("userToken");if(console.log(" Fetching user bookings..."),console.log("   Token exists:",!!z),console.log("   Token preview:",z?`${z.substring(0,20)}...`:"No token"),console.log("   API URL:","http://localhost:9088/api/user/bookings"),!z){console.error(" No authentication token found"),s([]),l(!1);return}console.log(" Calling bookings API...");const se=await Pt.get("http://localhost:9088/api/user/bookings",{headers:{Authorization:`Bearer ${z}`},timeout:1e4});console.log(" Bookings API Response Status:",se.status),console.log(" Bookings API Response:",se.data);const K=((Y=se.data.data)==null?void 0:Y.bookings)||se.data.data||se.data.bookings||[];console.log(" Processed bookings data:",K),console.log(" Bookings count:",Array.isArray(K)?K.length:"Not an array"),s(Array.isArray(K)?K:[])}catch(z){console.error(" Error fetching bookings:",z),console.error(" Error response:",(ce=z.response)==null?void 0:ce.data),console.error(" Error status:",(D=z.response)==null?void 0:D.status),console.error(" Error message:",z.message),s([])}finally{l(!1)}},k=()=>{const Y=Array.isArray(r)?r:[];n(o==="all"?Y:Y.filter(ce=>ce.status===o))},P=Y=>({pending:"bg-yellow-100 text-yellow-800 border-yellow-200",confirmed:"bg-blue-100 text-blue-800 border-blue-200",in_progress:"bg-purple-100 text-purple-800 border-purple-200",completed:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200"})[Y]||"bg-gray-100 text-gray-800 border-gray-200",C=Y=>({pending:t.jsx(Xr,{className:"inline",size:14}),confirmed:t.jsx(vt,{className:"inline",size:14}),in_progress:t.jsx(Dt,{className:"inline animate-spin",size:14}),completed:t.jsx(vt,{className:"inline",size:14}),cancelled:t.jsx(xt,{className:"inline",size:14})})[Y]||t.jsx(Jn,{className:"inline",size:14}),I=async()=>{var Y,ce,D,z;if(m){if(!R(m)){alert("Cancellation is only allowed within 2 hours of booking creation."),u(!1),x(null);return}try{const se=localStorage.getItem("userToken");console.log(" Cancel booking request details:"),console.log("   Booking ID:",m._id),console.log("   Token exists:",!!se),console.log("   API URL:",`http://localhost:9088/api/user/bookings/${m._id}/cancel`);const K=await Pt.put(`http://localhost:9088/api/user/bookings/${m._id}/cancel-simple`,{cancellationReason:"Customer requested cancellation within 2 hours",cancellationTime:new Date().toISOString()},{headers:{Authorization:`Bearer ${se}`}});console.log(" Cancel booking response:",K.data),b("Booking cancelled successfully"),p(!0),setTimeout(()=>p(!1),3e3),u(!1),x(null),S()}catch(se){console.error(" Error cancelling booking:",se),console.error("   Error response:",(Y=se.response)==null?void 0:Y.data),console.error("   Error status:",(ce=se.response)==null?void 0:ce.status);const K=((z=(D=se.response)==null?void 0:D.data)==null?void 0:z.message)||"Failed to cancel booking. Please try again.";alert(K)}}},A=()=>{var D,z,se,K,_,M,F,B;const Y=window.open("","_blank"),ce=`${window.location.origin}/logo.png`;Y.document.write(`
      <html>
        <head>
          <title>Invoice - ${y._id.slice(-8).toUpperCase()}</title>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
          <style>
            * { 
              margin: 0; 
              padding: 0; 
              box-sizing: border-box; 
            }
            
            body { 
              font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
              color: #1f2937;
              line-height: 1.4;
              background: #ffffff;
              -webkit-font-smoothing: antialiased;
              -moz-osx-font-smoothing: grayscale;
              font-size: 12px;
            }
            
            .invoice-container { 
              max-width: 210mm;
              margin: 0 auto;
              padding: 15mm;
              background: #ffffff;
              min-height: 297mm;
              height: 297mm;
              overflow: hidden;
            }
            
            /* Header Section - Compact */
            .invoice-header { 
              display: flex; 
              justify-content: space-between; 
              align-items: flex-start; 
              margin-bottom: 20px;
              padding-bottom: 15px;
              border-bottom: 2px solid #e5e7eb;
            }
            
            .company-section {
              flex: 1;
            }
            
            .company-logo {
              display: flex;
              align-items: center;
              margin-bottom: 10px;
            }
            
            .logo-container {
              width: 60px;
              height: 60px;
              margin-right: 15px;
              display: flex;
              align-items: center;
              justify-content: center;
            }
            
            .logo-img {
              width: 100%;
              height: 100%;
              object-fit: contain;
              filter: drop-shadow(0 1px 4px rgba(0, 0, 0, 0.1));
            }
            
            .logo-svg-fallback {
              display: none;
              width: 50px;
              height: 50px;
              filter: drop-shadow(0 1px 4px rgba(59, 130, 246, 0.3));
            }
            
            .company-tagline {
              color: #6b7280;
              font-size: 12px;
              font-weight: 500;
              margin-bottom: 5px;
            }
            
            .company-details {
              color: #6b7280;
              font-size: 10px;
              line-height: 1.4;
            }
            
            .company-details strong {
              color: #374151;
              font-weight: 600;
            }
            
            .invoice-meta {
              text-align: right;
              flex-shrink: 0;
            }
            
            .invoice-title {
              font-size: 28px;
              font-weight: 300;
              color: #1f2937;
              margin-bottom: 5px;
              letter-spacing: -0.5px;
            }
            
            .invoice-number {
              font-size: 14px;
              font-weight: 600;
              color: #3b82f6;
              margin-bottom: 8px;
              font-family: 'Monaco', 'Menlo', monospace;
            }
            
            .invoice-date {
              color: #6b7280;
              font-size: 11px;
              margin-bottom: 8px;
            }
            
            .status-badge {
              display: inline-block;
              padding: 4px 8px;
              border-radius: 12px;
              font-size: 10px;
              font-weight: 600;
              text-transform: uppercase;
              letter-spacing: 0.3px;
            }
            
            .status-confirmed { background: #dbeafe; color: #1e40af; }
            .status-completed { background: #d1fae5; color: #065f46; }
            .status-pending { background: #fef3c7; color: #92400e; }
            .status-cancelled { background: #fee2e2; color: #dc2626; }
            
            /* Details Section - Compact */
            .invoice-details {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 30px;
              margin-bottom: 25px;
            }
            
            .detail-section h3 {
              font-size: 11px;
              font-weight: 700;
              color: #374151;
              text-transform: uppercase;
              letter-spacing: 0.5px;
              margin-bottom: 10px;
              padding-bottom: 4px;
              border-bottom: 1px solid #f3f4f6;
            }
            
            .detail-item {
              display: flex;
              justify-content: space-between;
              align-items: flex-start;
              margin-bottom: 6px;
              padding: 2px 0;
            }
            
            .detail-label {
              font-size: 11px;
              color: #6b7280;
              font-weight: 500;
              min-width: 80px;
            }
            
            .detail-value {
              font-size: 11px;
              color: #1f2937;
              font-weight: 600;
              text-align: right;
              flex: 1;
            }
            
            .customer-name {
              font-size: 13px !important;
              font-weight: 700 !important;
              color: #1f2937 !important;
              margin-bottom: 2px;
            }
            
            /* Table Section - Compact */
            .services-section {
              margin-bottom: 20px;
            }
            
            .section-title {
              font-size: 13px;
              font-weight: 700;
              color: #1f2937;
              margin-bottom: 12px;
              padding-bottom: 6px;
              border-bottom: 1px solid #f3f4f6;
            }
            
            .invoice-table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 15px;
              background: #ffffff;
              border-radius: 6px;
              overflow: hidden;
              box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
            }
            
            .invoice-table thead {
              background: linear-gradient(135deg, #f8fafc, #f1f5f9);
            }
            
            .invoice-table th {
              padding: 8px 12px;
              text-align: left;
              font-weight: 700;
              font-size: 10px;
              color: #374151;
              text-transform: uppercase;
              letter-spacing: 0.3px;
              border-bottom: 1px solid #e5e7eb;
            }
            
            .invoice-table td {
              padding: 8px 12px;
              border-bottom: 1px solid #f3f4f6;
              font-size: 11px;
              vertical-align: top;
            }
            
            .invoice-table tbody tr:last-child td {
              border-bottom: none;
            }
            
            .service-name {
              font-weight: 600;
              color: #1f2937;
              margin-bottom: 2px;
            }
            
            .service-description {
              font-size: 10px;
              color: #6b7280;
              line-height: 1.3;
            }
            
            .quantity-cell, .rate-cell, .amount-cell {
              text-align: right;
              font-weight: 600;
              color: #1f2937;
            }
            
            /* Totals Section - Compact */
            .totals-section {
              display: flex;
              justify-content: flex-end;
              margin-bottom: 20px;
            }
            
            .totals-table {
              min-width: 250px;
            }
            
            .totals-table tr {
              border-bottom: 1px solid #f3f4f6;
            }
            
            .totals-table tr:last-child {
              border-bottom: none;
            }
            
            .totals-table td {
              padding: 6px 0;
              font-size: 11px;
            }
            
            .totals-label {
              color: #6b7280;
              font-weight: 500;
              padding-right: 25px;
            }
            
            .totals-value {
              text-align: right;
              font-weight: 600;
              color: #1f2937;
              font-family: 'Monaco', 'Menlo', monospace;
            }
            
            .total-row {
              background: linear-gradient(135deg, #1f2937, #374151);
              color: #ffffff !important;
            }
            
            .total-row td {
              padding: 8px 12px;
              font-size: 13px;
              font-weight: 700;
              border-radius: 4px;
            }
            
            .total-row .totals-label,
            .total-row .totals-value {
              color: #ffffff !important;
            }
            
            /* Footer - Compact */
            .invoice-footer {
              margin-top: 25px;
              padding-top: 15px;
              border-top: 1px solid #f3f4f6;
              text-align: center;
            }
            
            .footer-title {
              font-size: 13px;
              font-weight: 700;
              color: #1f2937;
              margin-bottom: 8px;
            }
            
            .footer-text {
              color: #6b7280;
              font-size: 10px;
              line-height: 1.4;
              margin-bottom: 4px;
            }
            
            .footer-contact {
              color: #3b82f6;
              font-weight: 600;
            }
            
            .footer-legal {
              font-size: 9px;
              color: #9ca3af;
              margin-top: 10px;
              font-style: italic;
            }
            
            /* Print Styles - A4 Optimized */
            @media print {
              @page {
                size: A4;
                margin: 10mm;
              }
              
              body { 
                print-color-adjust: exact; 
                -webkit-print-color-adjust: exact;
                font-size: 11px;
              }
              
              .invoice-container { 
                margin: 0; 
                padding: 0;
                box-shadow: none;
                max-width: none;
                height: auto;
                min-height: auto;
              }
              
              .invoice-header {
                margin-bottom: 15px;
                padding-bottom: 10px;
              }
              
              .invoice-details {
                margin-bottom: 20px;
                gap: 20px;
              }
              
              .services-section {
                margin-bottom: 15px;
              }
              
              .totals-section {
                margin-bottom: 15px;
              }
              
              .invoice-footer {
                margin-top: 15px;
                padding-top: 10px;
              }
              
              .logo-container {
                width: 50px !important;
                height: 50px !important;
              }
              
              .logo-img {
                width: 100% !important;
                height: 100% !important;
              }
              
              .logo-svg-fallback {
                width: 40px !important;
                height: 40px !important;
              }
              
              .invoice-title {
                font-size: 24px;
              }
              
              .invoice-table th,
              .invoice-table td {
                padding: 6px 8px;
              }
            }
          </style>
          <script>
            // Handle logo loading with fallback
            function handleLogoError(img) {
              img.style.display = 'none';
              document.querySelector('.logo-svg-fallback').style.display = 'block';
            }
          <\/script>
        </head>
        <body>
          <div class="invoice-container">
            <!-- Header Section -->
            <div class="invoice-header">
              <div class="company-section">
                <div class="company-logo">
                  <div class="logo-container">
                    <img src="${ce}" alt="Company Logo" class="logo-img" onerror="handleLogoError(this)" />
                    <svg class="logo-svg-fallback" width="80" height="80" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z" fill="#3b82f6"/>
                      <path d="M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z" fill="#3b82f6"/>
                      <path d="M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z" fill="#3b82f6"/>
                      <path d="M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z" fill="#3b82f6"/>
                      <circle cx="24" cy="24" r="3" fill="#ffffff"/>
                    </svg>
                  </div>
                </div>
                <div class="company-tagline">Professional Home Services</div>
                <div class="company-details">
                  <strong>Professional Home Services Private Limited</strong><br>
                  CIN: U74999KA2023PTC123456<br>
                  GSTIN: 29ABCDE1234F1Z5<br>
                  <br>
                  <strong>Registered Office:</strong><br>
                  #123, Tech Park, Whitefield<br>
                  Bangalore, Karnataka - 560066<br>
                  <br>
                  <strong>Contact:</strong> +91-80-4567-8900<br>
                  <strong>Email:</strong> support@company.works<br>
                  <strong>Website:</strong> www.nexo.works 
                </div>
              </div>
              
              <div class="invoice-meta">
                <div class="invoice-title">INVOICE</div>
                <div class="invoice-number">#INV-${y._id.slice(-8).toUpperCase()}</div>
                <div class="invoice-date">
                  <strong>Date:</strong> ${new Date(y.createdAt).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"})}
                </div>
                <div class="status-badge status-${y.status}">
                  ${y.status.toUpperCase()}
                </div>
              </div>
            </div>

            <!-- Details Section -->
            <div class="invoice-details">
              <div class="detail-section">
                <h3>Bill To</h3>
                <div class="detail-item">
                  <div class="detail-value customer-name">${((D=y.customerDetails)==null?void 0:D.name)||"N/A"}</div>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Phone:</span>
                  <span class="detail-value">${((z=y.customerDetails)==null?void 0:z.phone)||"N/A"}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Email:</span>
                  <span class="detail-value">${((se=y.customerDetails)==null?void 0:se.email)||"N/A"}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Address:</span>
                  <span class="detail-value">${((K=y.location)==null?void 0:K.address)||"N/A"}</span>
                </div>
                ${(_=y.location)!=null&&_.landmark?`
                  <div class="detail-item">
                    <span class="detail-label">Landmark:</span>
                    <span class="detail-value">${y.location.landmark}</span>
                  </div>
                `:""}
                <div class="detail-item">
                  <span class="detail-label">Pincode:</span>
                  <span class="detail-value">${((M=y.location)==null?void 0:M.pincode)||"N/A"}</span>
                </div>
              </div>
              
              <div class="detail-section">
                <h3>Service Details</h3>
                <div class="detail-item">
                  <span class="detail-label">Booking ID:</span>
                  <span class="detail-value">#${y._id.slice(-8).toUpperCase()}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Service Date:</span>
                  <span class="detail-value">${new Date(y.scheduledDate).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"})}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Service Time:</span>
                  <span class="detail-value">${y.scheduledTime}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Payment Mode:</span>
                  <span class="detail-value">${((F=y.paymentMode)==null?void 0:F.toUpperCase())||"N/A"}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Payment Status:</span>
                  <span class="detail-value">${((B=y.paymentStatus)==null?void 0:B.toUpperCase())||"N/A"}</span>
                </div>
                ${y.txnid?`
                  <div class="detail-item">
                    <span class="detail-label">Transaction ID:</span>
                    <span class="detail-value">${y.txnid}</span>
                  </div>
                `:""}
              </div>
            </div>

            <!-- Services Section -->
            <div class="services-section">
              <h2 class="section-title">Services & Items</h2>
              <table class="invoice-table">
                <thead>
                  <tr>
                    <th style="width: 50%;">Description</th>
                    <th style="width: 15%;">Quantity</th>
                    <th style="width: 17.5%;">Rate</th>
                    <th style="width: 17.5%;">Amount</th>
                  </tr>
                </thead>
                <tbody>
                  ${y.cartItems&&y.cartItems.length>0?y.cartItems.map(q=>`
                      <tr>
                        <td>
                          <div class="service-name">${q.name||q.serviceName||"Service"}</div>
                          ${q.description?`<div class="service-description">${q.description}</div>`:""}
                        </td>
                        <td class="quantity-cell">${q.quantity||1}</td>
                        <td class="rate-cell">${(q.price||q.amount||0).toLocaleString("en-IN")}</td>
                        <td class="amount-cell">${((q.price||q.amount||0)*(q.quantity||1)).toLocaleString("en-IN")}</td>
                      </tr>
                    `).join(""):`
                      <tr>
                        <td>
                          <div class="service-name">${y.serviceName||"Service Booking"}</div>
                          <div class="service-description">Professional home service booking</div>
                        </td>
                        <td class="quantity-cell">1</td>
                        <td class="rate-cell">${(y.amount||0).toLocaleString("en-IN")}</td>
                        <td class="amount-cell">${(y.amount||0).toLocaleString("en-IN")}</td>
                      </tr>
                    `}
                </tbody>
              </table>
            </div>

            <!-- Totals Section -->
            <div class="totals-section">
              <table class="totals-table">
                <tr>
                  <td class="totals-label">Subtotal:</td>
                  <td class="totals-value">${(y.amount||0).toLocaleString("en-IN")}</td>
                </tr>
                ${y.gstAmount?`
                  <tr>
                    <td class="totals-label">GST (18%):</td>
                    <td class="totals-value">${y.gstAmount.toLocaleString("en-IN")}</td>
                  </tr>
                `:""}
                ${y.usewallet&&y.usewallet>0?`
                  <tr>
                    <td class="totals-label">Wallet Applied:</td>
                    <td class="totals-value">-${y.usewallet.toLocaleString("en-IN")}</td>
                  </tr>
                `:""}
                <tr class="total-row">
                  <td class="totals-label">TOTAL AMOUNT:</td>
                  <td class="totals-value">${(y.totalAmount||y.amount||0).toLocaleString("en-IN")}</td>
                </tr>
              </table>
            </div>

            ${y.specialInstructions?`
              <div class="instructions-section">
                <div class="instructions-title">Special Instructions</div>
                <div class="instructions-text">${y.specialInstructions}</div>
              </div>
            `:""}

            <!-- Footer -->
            <div class="invoice-footer">
              <div class="footer-title">Thank You for Choosing Our Services!</div>
              <div class="footer-text">
                For any queries regarding this invoice, please contact us at 
                <span class="footer-contact">support@company.works</span> or call 
                <span class="footer-contact">+91-80-4567-8900</span>
              </div>
              <div class="footer-text">
                Visit our website at <span class="footer-contact">www.nexo.works </span> for more services
              </div>
              <div class="footer-legal">
                This is a computer-generated invoice and does not require a physical signature.<br>
                Subject to Bangalore jurisdiction. Terms and conditions apply.
              </div>
            </div>
          </div>
        </body>
      </html>
    `),Y.document.close(),setTimeout(()=>{Y.print(),Y.close()},500)},O=()=>{A()},R=Y=>{const ce=new Date(Y.createdAt),z=new Date-ce,se=2*60*60*1e3;return z<=se&&["pending","confirmed"].includes(Y.status)},Z=Y=>{const ce=new Date(Y.createdAt),D=new Date,z=2*60*60*1e3,se=D-ce,K=z-se;if(K<=0)return null;const _=Math.floor(K/(60*60*1e3)),M=Math.floor(K%(60*60*1e3)/(60*1e3));return{hours:_,minutes:M}};return i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.jsxs("div",{className:"space-y-6",children:[h&&t.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 animate-slide-in",children:[t.jsx(vt,{size:24}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Success!"}),t.jsx("p",{className:"text-sm text-green-100",children:f})]})]}),t.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-3xl p-8 md:p-12 text-white overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full -ml-24 -mb-24"}),t.jsx("div",{className:"relative z-10",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(ks,{size:24})}),t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"My Bookings"}),t.jsxs("button",{onClick:()=>{console.log(" Manual refresh triggered"),l(!0),S()},className:"ml-auto bg-white/20 backdrop-blur-sm rounded-xl p-3 hover:bg-white/30 transition-all duration-200 flex items-center gap-2",title:"Refresh bookings",children:[t.jsx(Dt,{size:20,className:i?"animate-spin":""}),t.jsx("span",{className:"hidden sm:inline text-sm",children:"Refresh"})]})]}),t.jsx("p",{className:"text-blue-100 text-lg",children:"Manage and track all your service bookings"})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 text-center min-w-[100px]",children:[t.jsx("p",{className:"text-3xl font-bold mb-1",children:Array.isArray(r)?r.length:0}),t.jsx("p",{className:"text-sm text-blue-100",children:"Total Bookings"})]}),t.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 text-center min-w-[100px]",children:[t.jsx("p",{className:"text-3xl font-bold mb-1",children:Array.isArray(r)?r.filter(Y=>["pending","confirmed","in_progress"].includes(Y.status)).length:0}),t.jsx("p",{className:"text-sm text-blue-100",children:"Active"})]})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(Ed,{className:"text-primary",size:20}),t.jsx("h3",{className:"font-semibold text-gray-800",children:"Filter Bookings"})]}),t.jsx("div",{className:"flex flex-wrap gap-3",children:["all","pending","confirmed","in_progress","completed","cancelled"].map(Y=>t.jsxs("button",{onClick:()=>d(Y),className:`px-5 py-2.5 rounded-xl font-medium capitalize transition-all transform hover:scale-105 ${o===Y?"bg-gradient-to-r from-primary to-primary-light text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[Y.replace("_"," "),Y!=="all"&&t.jsxs("span",{className:"ml-2 text-xs opacity-75",children:["(",Array.isArray(r)?r.filter(ce=>ce.status===Y).length:0,")"]})]},Y))})]}),a.length===0?t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-12 text-center",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary/10 to-primary-light/10 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(ks,{className:"text-primary",size:48})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:"No Bookings Found"}),t.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:o==="all"?"You haven't made any bookings yet. Start by booking a service!":`No ${o.replace("-"," ")} bookings at the moment.`}),t.jsxs("button",{onClick:()=>e("/"),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-primary to-primary-light text-white rounded-xl hover:from-primary-dark hover:to-primary font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[t.jsx(gs,{size:20}),"Book a Service Now"]})]}):t.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.map(Y=>{var ce,D;return t.jsx("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 hover:border-primary/30 overflow-hidden",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary/10 to-primary-light/10 rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(gs,{className:"text-primary",size:20})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:Y.serviceName||"Service Booking"}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Booking ID: #",Y._id.slice(-8)]})]})]}),t.jsxs("div",{className:"space-y-2 ml-15",children:[t.jsxs("div",{className:"flex items-center text-gray-600",children:[t.jsx(ks,{className:"mr-2 text-primary",size:16}),t.jsx("span",{className:"text-sm font-medium",children:new Date(Y.scheduledDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]}),Y.scheduledTime&&t.jsxs("div",{className:"flex items-center text-gray-600",children:[t.jsx(Xr,{className:"mr-2 text-primary",size:16}),t.jsx("span",{className:"text-sm font-medium",children:Y.scheduledTime})]}),(((ce=Y.location)==null?void 0:ce.address)||Y.address)&&t.jsxs("div",{className:"flex items-start text-gray-600",children:[t.jsx(Pr,{className:"mr-2 mt-1 text-primary flex-shrink-0",size:16}),t.jsx("span",{className:"text-sm",children:((D=Y.location)==null?void 0:D.address)||Y.address})]})]})]}),t.jsxs("span",{className:`px-4 py-2 rounded-xl text-sm font-semibold border-2 flex items-center gap-2 ${P(Y.status)}`,children:[C(Y.status),Y.status.replace("_"," ")]})]}),Y.cartItems&&Y.cartItems.length>0&&t.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Services:"}),t.jsxs("div",{className:"space-y-1",children:[Y.cartItems.slice(0,3).map((z,se)=>t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsxs("span",{className:"text-gray-600",children:[" ",z.name||z.serviceName]}),t.jsxs("span",{className:"text-gray-800 font-medium",children:["",z.price||z.amount||0]})]},se)),Y.cartItems.length>3&&t.jsxs("p",{className:"text-xs text-gray-500 italic",children:["+",Y.cartItems.length-3," more service(s)"]})]})]}),Y.totalAmount&&t.jsx("div",{className:"pt-4 border-t border-gray-100 mt-4",children:t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("span",{className:"text-gray-600 font-medium",children:"Total Amount"}),t.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",Y.totalAmount]})]})}),t.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[t.jsxs("button",{onClick:z=>{z.stopPropagation(),e(`/user/dashboard/bookings/${Y._id}`)},className:"flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2.5 bg-primary text-white rounded-xl hover:bg-primary-dark transition-all font-medium",children:[t.jsx(Ti,{size:18}),"View Details"]}),["confirmed","completed"].includes(Y.status)&&t.jsxs("button",{onClick:z=>{z.stopPropagation(),v(Y),w(!0)},className:"flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2.5 bg-green-50 text-green-700 rounded-xl hover:bg-green-100 transition-all font-medium border-2 border-green-200",children:[t.jsx(Gt,{size:18}),"View Invoice"]}),["pending","confirmed"].includes(Y.status)&&t.jsxs(t.Fragment,{children:[R(Y)?t.jsxs("button",{onClick:z=>{z.stopPropagation(),x(Y),u(!0)},className:"flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2.5 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 transition-all font-medium border-2 border-red-200",children:[t.jsx(xt,{size:18}),"Cancel Booking"]}):t.jsxs("div",{className:"flex-1 min-w-[140px] px-4 py-2.5 bg-gray-50 text-gray-400 rounded-xl border-2 border-gray-200 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(Xr,{size:16}),t.jsx("span",{className:"text-sm font-medium",children:"Cancellation Expired"})]}),t.jsx("div",{className:"text-xs mt-1",children:"(2-hour window passed)"})]}),R(Y)&&(()=>{const z=Z(Y);return z&&t.jsx("div",{className:"w-full mt-2 p-2 bg-orange-50 border border-orange-200 rounded-lg",children:t.jsxs("div",{className:"flex items-center gap-2 text-orange-700",children:[t.jsx(Jn,{size:16}),t.jsxs("span",{className:"text-sm font-medium",children:["Cancellation available for ",z.hours,"h ",z.minutes,"m more"]})]})})})()]}),Y.status==="completed"&&t.jsxs("button",{onClick:z=>{z.stopPropagation(),alert("Review feature coming soon!")},className:"flex-1 min-w-[140px] flex items-center justify-center gap-2 px-4 py-2.5 bg-yellow-50 text-yellow-700 rounded-xl hover:bg-yellow-100 transition-all font-medium border-2 border-yellow-200",children:[t.jsx(Vo,{size:18}),"Write Review"]})]})]})},Y._id)})}),c&&m&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl overflow-hidden animate-slide-up",children:[t.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 p-6 text-white",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(Jn,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold",children:"Cancel Booking?"}),t.jsx("p",{className:"text-red-100 text-sm",children:"This action cannot be undone"})]})]})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("p",{className:"text-gray-700 mb-4",children:["Are you sure you want to cancel this booking for ",t.jsx("strong",{children:m.serviceName}),"?"]}),t.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4 mb-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Jn,{className:"text-blue-600 mt-0.5",size:20}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Cancellation Policy"}),t.jsx("p",{className:"text-sm text-blue-700 mb-2",children:" Free cancellation within 2 hours of booking"}),t.jsx("p",{className:"text-sm text-blue-700 mb-2",children:" After 2 hours, cancellation charges may apply"}),R(m)&&(()=>{const Y=Z(m);return Y&&t.jsxs("p",{className:"text-sm font-semibold text-green-700",children:[" You can cancel for free (Time remaining: ",Y.hours,"h ",Y.minutes,"m)"]})})()]})]})}),t.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 mb-6",children:t.jsxs("p",{className:"text-sm text-yellow-800",children:[t.jsx("strong",{children:"Note:"})," This action cannot be undone. You will receive a confirmation email after cancellation."]})}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:()=>{u(!1),x(null)},className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-all",children:"Keep Booking"}),t.jsx("button",{onClick:I,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:from-red-600 hover:to-red-700 font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:"Yes, Cancel"})]})]})]})}),j&&y&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full shadow-2xl overflow-hidden animate-slide-up my-8",children:[t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-light p-6 text-white flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(Gt,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold",children:"Invoice"}),t.jsxs("p",{className:"text-blue-100 text-sm",children:["Booking #",y._id.slice(-8)]})]})]}),t.jsx("button",{onClick:()=>w(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:t.jsx(xt,{size:24})})]}),t.jsxs("div",{className:"p-8",children:[t.jsx("div",{ref:N,children:t.jsxs("div",{className:"invoice-container",children:[t.jsxs("div",{className:"invoice-header text-center mb-8 pb-6 border-b-2 border-primary",children:[t.jsx("div",{className:"invoice-logo flex justify-center items-center mb-6",children:t.jsxs("div",{className:"logo-display-container",children:[t.jsx("img",{src:"/logo.png",alt:"Company Logo",className:"h-24 w-auto max-w-xs object-contain mx-auto",style:{filter:"drop-shadow(0 2px 8px rgba(0, 0, 0, 0.1))"},onError:Y=>{Y.target.style.display="none",Y.target.nextElementSibling.style.display="block"}}),t.jsx("div",{className:"hidden flex justify-center items-center",children:t.jsxs("svg",{width:"96",height:"96",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mx-auto",children:[t.jsx("path",{d:"M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z",fill:"#3b82f6"}),t.jsx("path",{d:"M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z",fill:"#3b82f6"}),t.jsx("path",{d:"M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z",fill:"#3b82f6"}),t.jsx("path",{d:"M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z",fill:"#3b82f6"}),t.jsx("circle",{cx:"24",cy:"24",r:"3",fill:"#ffffff"})]})})]})}),t.jsx("p",{className:"text-gray-600",children:"Professional Home Services"}),t.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Invoice Date: ",new Date().toLocaleDateString("en-IN")]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:"Bill To:"}),t.jsx("p",{className:"text-gray-700 font-medium",children:y.userName||"Customer"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.userPhone||"N/A"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.address||"N/A"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:"Invoice Details:"}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Invoice #: ",t.jsxs("span",{className:"font-medium text-gray-800",children:["INV-",y._id.slice(-8).toUpperCase()]})]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Booking ID: ",t.jsxs("span",{className:"font-medium text-gray-800",children:["#",y._id.slice(-8)]})]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Date: ",t.jsx("span",{className:"font-medium text-gray-800",children:new Date(y.scheduledDate).toLocaleDateString("en-IN")})]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Status: ",t.jsx("span",{className:`font-medium capitalize ${y.status==="completed"?"text-green-600":"text-blue-600"}`,children:y.status})]})]})]}),t.jsxs("table",{className:"w-full border-collapse mb-8",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-100",children:[t.jsx("th",{className:"text-left p-4 font-bold text-gray-800 border-b-2 border-gray-300",children:"Service Description"}),t.jsx("th",{className:"text-center p-4 font-bold text-gray-800 border-b-2 border-gray-300",children:"Quantity"}),t.jsx("th",{className:"text-right p-4 font-bold text-gray-800 border-b-2 border-gray-300",children:"Amount"})]})}),t.jsx("tbody",{children:y.cartItems&&y.cartItems.length>0?y.cartItems.map((Y,ce)=>t.jsxs("tr",{children:[t.jsxs("td",{className:"p-4 border-b border-gray-200",children:[t.jsx("p",{className:"font-medium text-gray-800",children:Y.name||Y.serviceName}),Y.description&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Y.description})]}),t.jsx("td",{className:"p-4 text-center border-b border-gray-200 text-gray-700",children:Y.quantity||1}),t.jsxs("td",{className:"p-4 text-right border-b border-gray-200 font-medium text-gray-800",children:["",Y.price||Y.amount||0]})]},ce)):t.jsxs("tr",{children:[t.jsxs("td",{className:"p-4 border-b border-gray-200",children:[t.jsx("p",{className:"font-medium text-gray-800",children:y.serviceName||"Service"}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Booking Date: ",new Date(y.scheduledDate).toLocaleDateString("en-IN")]}),y.scheduledTime&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Time: ",y.scheduledTime]})]}),t.jsx("td",{className:"p-4 text-center border-b border-gray-200 text-gray-700",children:"1"}),t.jsxs("td",{className:"p-4 text-right border-b border-gray-200 font-medium text-gray-800",children:["",y.amount||y.totalAmount||0]})]})})]}),t.jsx("div",{className:"flex justify-end mb-8",children:t.jsxs("div",{className:"w-64",children:[t.jsxs("div",{className:"flex justify-between py-2 text-gray-700",children:[t.jsx("span",{children:"Subtotal:"}),t.jsxs("span",{children:["",y.amount||y.totalAmount||0]})]}),y.gstAmount>0&&t.jsxs("div",{className:"flex justify-between py-2 text-gray-700",children:[t.jsx("span",{children:"GST (18%):"}),t.jsxs("span",{children:["",y.gstAmount]})]}),y.usewallet>0&&t.jsxs("div",{className:"flex justify-between py-2 text-green-600",children:[t.jsx("span",{children:"Wallet Used:"}),t.jsxs("span",{children:["- ",y.usewallet]})]}),y.discount>0&&t.jsxs("div",{className:"flex justify-between py-2 text-green-600",children:[t.jsx("span",{children:"Discount:"}),t.jsxs("span",{children:["- ",y.discount]})]}),t.jsxs("div",{className:"flex justify-between py-3 border-t-2 border-gray-300 font-bold text-lg text-primary",children:[t.jsx("span",{children:"Total Amount:"}),t.jsxs("span",{children:["",y.totalAmount||0]})]})]})}),t.jsxs("div",{className:"text-center pt-6 border-t border-gray-300",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Thank you for choosing our services!"}),t.jsx("p",{className:"text-xs text-gray-500",children:"For any queries, contact us at support@nexo.works| +91 1800-XXX-XXXX"}),t.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"This is a computer-generated invoice and does not require a signature."})]})]})}),t.jsxs("div",{className:"flex gap-4 mt-8 pt-6 border-t border-gray-200",children:[t.jsxs("button",{onClick:A,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-primary text-white rounded-xl hover:bg-primary-dark transition-all font-semibold",children:[t.jsx(Zo,{size:20}),"Print Invoice"]}),t.jsxs("button",{onClick:O,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all font-semibold",children:[t.jsx(Na,{size:20}),"Download PDF"]}),t.jsx("button",{onClick:()=>w(!1),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-all",children:"Close"})]})]})]})})]})},dSe=()=>{var f,b,j,w,y;const{bookingId:e}=fm(),r=Zt(),[s,a]=g.useState(null),[n,i]=g.useState(!0),[l,o]=g.useState(!1),d=g.useRef(null);g.useEffect(()=>{c()},[e]);const c=async()=>{try{const v=localStorage.getItem("userToken"),N=await Pt.get(`http://localhost:9088/api/user/bookings/${e}`,{headers:{Authorization:`Bearer ${v}`}});a(N.data.data||N.data.booking)}catch(v){console.error("Error fetching booking details:",v)}finally{i(!1)}},u=()=>{var S,k,P,C,I,A,O,R,Z,Y,ce;const v=window.open("","_blank"),N=`${window.location.origin}/logo.png`;v.document.write(`
      <html>
        <head>
          <title>Invoice - ${s._id.slice(-8).toUpperCase()}</title>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
          <style>
            * { 
              margin: 0; 
              padding: 0; 
              box-sizing: border-box; 
            }
            
            body { 
              font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
              color: #1f2937;
              line-height: 1.4;
              background: #ffffff;
              -webkit-font-smoothing: antialiased;
              -moz-osx-font-smoothing: grayscale;
              font-size: 12px;
            }
            
            .invoice-container { 
              max-width: 210mm;
              margin: 0 auto;
              padding: 15mm;
              background: #ffffff;
              min-height: 297mm;
              height: 297mm;
              overflow: hidden;
            }
            
            /* Header Section - Compact */
            .invoice-header { 
              display: flex; 
              justify-content: space-between; 
              align-items: flex-start; 
              margin-bottom: 20px;
              padding-bottom: 15px;
              border-bottom: 2px solid #e5e7eb;
            }
            
            .company-section {
              flex: 1;
            }
            
            .company-logo {
              display: flex;
              align-items: center;
              margin-bottom: 10px;
            }
            
            .logo-container {
              width: 60px;
              height: 60px;
              margin-right: 15px;
              display: flex;
              align-items: center;
              justify-content: center;
            }
            
            .logo-img {
              width: 100%;
              height: 100%;
              object-fit: contain;
              filter: drop-shadow(0 1px 4px rgba(0, 0, 0, 0.1));
            }
            
            .logo-svg-fallback {
              display: none;
              width: 50px;
              height: 50px;
              filter: drop-shadow(0 1px 4px rgba(59, 130, 246, 0.3));
            }
            
            .company-tagline {
              color: #6b7280;
              font-size: 12px;
              font-weight: 500;
              margin-bottom: 5px;
            }
            
            .company-details {
              color: #6b7280;
              font-size: 10px;
              line-height: 1.4;
            }
            
            .company-details strong {
              color: #374151;
              font-weight: 600;
            }
            
            .invoice-meta {
              text-align: right;
              flex-shrink: 0;
            }
            
            .invoice-title {
              font-size: 28px;
              font-weight: 300;
              color: #1f2937;
              margin-bottom: 5px;
              letter-spacing: -0.5px;
            }
            
            .invoice-number {
              font-size: 14px;
              font-weight: 600;
              color: #3b82f6;
              margin-bottom: 8px;
              font-family: 'Monaco', 'Menlo', monospace;
            }
            
            .invoice-date {
              color: #6b7280;
              font-size: 11px;
              margin-bottom: 8px;
            }
            
            .status-badge {
              display: inline-block;
              padding: 4px 8px;
              border-radius: 12px;
              font-size: 10px;
              font-weight: 600;
              text-transform: uppercase;
              letter-spacing: 0.3px;
            }
            
            .status-confirmed { background: #dbeafe; color: #1e40af; }
            .status-completed { background: #d1fae5; color: #065f46; }
            .status-pending { background: #fef3c7; color: #92400e; }
            .status-cancelled { background: #fee2e2; color: #dc2626; }
            
            /* Details Section - Compact */
            .invoice-details {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 30px;
              margin-bottom: 25px;
            }
            
            .detail-section h3 {
              font-size: 11px;
              font-weight: 700;
              color: #374151;
              text-transform: uppercase;
              letter-spacing: 0.5px;
              margin-bottom: 10px;
              padding-bottom: 4px;
              border-bottom: 1px solid #f3f4f6;
            }
            
            .detail-item {
              display: flex;
              justify-content: space-between;
              align-items: flex-start;
              margin-bottom: 6px;
              padding: 2px 0;
            }
            
            .detail-label {
              font-size: 11px;
              color: #6b7280;
              font-weight: 500;
              min-width: 80px;
            }
            
            .detail-value {
              font-size: 11px;
              color: #1f2937;
              font-weight: 600;
              text-align: right;
              flex: 1;
            }
            
            .customer-name {
              font-size: 13px !important;
              font-weight: 700 !important;
              color: #1f2937 !important;
              margin-bottom: 2px;
            }
            
            /* Table Section - Compact */
            .services-section {
              margin-bottom: 20px;
            }
            
            .section-title {
              font-size: 13px;
              font-weight: 700;
              color: #1f2937;
              margin-bottom: 12px;
              padding-bottom: 6px;
              border-bottom: 1px solid #f3f4f6;
            }
            
            .invoice-table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 15px;
              background: #ffffff;
              border-radius: 6px;
              overflow: hidden;
              box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
            }
            
            .invoice-table thead {
              background: linear-gradient(135deg, #f8fafc, #f1f5f9);
            }
            
            .invoice-table th {
              padding: 8px 12px;
              text-align: left;
              font-weight: 700;
              font-size: 10px;
              color: #374151;
              text-transform: uppercase;
              letter-spacing: 0.3px;
              border-bottom: 1px solid #e5e7eb;
            }
            
            .invoice-table td {
              padding: 8px 12px;
              border-bottom: 1px solid #f3f4f6;
              font-size: 11px;
              vertical-align: top;
            }
            
            .invoice-table tbody tr:last-child td {
              border-bottom: none;
            }
            
            .service-name {
              font-weight: 600;
              color: #1f2937;
              margin-bottom: 2px;
            }
            
            .service-description {
              font-size: 10px;
              color: #6b7280;
              line-height: 1.3;
            }
            
            .quantity-cell, .rate-cell, .amount-cell {
              text-align: right;
              font-weight: 600;
              color: #1f2937;
            }
            
            /* Totals Section - Compact */
            .totals-section {
              display: flex;
              justify-content: flex-end;
              margin-bottom: 20px;
            }
            
            .totals-table {
              min-width: 250px;
            }
            
            .totals-table tr {
              border-bottom: 1px solid #f3f4f6;
            }
            
            .totals-table tr:last-child {
              border-bottom: none;
            }
            
            .totals-table td {
              padding: 6px 0;
              font-size: 11px;
            }
            
            .totals-label {
              color: #6b7280;
              font-weight: 500;
              padding-right: 25px;
            }
            
            .totals-value {
              text-align: right;
              font-weight: 600;
              color: #1f2937;
              font-family: 'Monaco', 'Menlo', monospace;
            }
            
            .total-row {
              background: linear-gradient(135deg, #1f2937, #374151);
              color: #ffffff !important;
            }
            
            .total-row td {
              padding: 8px 12px;
              font-size: 13px;
              font-weight: 700;
              border-radius: 4px;
            }
            
            .total-row .totals-label,
            .total-row .totals-value {
              color: #ffffff !important;
            }
            
            /* Footer - Compact */
            .invoice-footer {
              margin-top: 25px;
              padding-top: 15px;
              border-top: 1px solid #f3f4f6;
              text-align: center;
            }
            
            .footer-title {
              font-size: 13px;
              font-weight: 700;
              color: #1f2937;
              margin-bottom: 8px;
            }
            
            .footer-text {
              color: #6b7280;
              font-size: 10px;
              line-height: 1.4;
              margin-bottom: 4px;
            }
            
            .footer-contact {
              color: #3b82f6;
              font-weight: 600;
            }
            
            .footer-legal {
              font-size: 9px;
              color: #9ca3af;
              margin-top: 10px;
              font-style: italic;
            }
            
            /* Print Styles - A4 Optimized */
            @media print {
              @page {
                size: A4;
                margin: 10mm;
              }
              
              body { 
                print-color-adjust: exact; 
                -webkit-print-color-adjust: exact;
                font-size: 11px;
              }
              
              .invoice-container { 
                margin: 0; 
                padding: 0;
                box-shadow: none;
                max-width: none;
                height: auto;
                min-height: auto;
              }
              
              .invoice-header {
                margin-bottom: 15px;
                padding-bottom: 10px;
              }
              
              .invoice-details {
                margin-bottom: 20px;
                gap: 20px;
              }
              
              .services-section {
                margin-bottom: 15px;
              }
              
              .totals-section {
                margin-bottom: 15px;
              }
              
              .invoice-footer {
                margin-top: 15px;
                padding-top: 10px;
              }
              
              .logo-container {
                width: 50px !important;
                height: 50px !important;
              }
              
              .logo-img {
                width: 100% !important;
                height: 100% !important;
              }
              
              .logo-svg-fallback {
                width: 40px !important;
                height: 40px !important;
              }
              
              .invoice-title {
                font-size: 24px;
              }
              
              .invoice-table th,
              .invoice-table td {
                padding: 6px 8px;
              }
            }
          </style>
          <script>
            // Handle logo loading with fallback
            function handleLogoError(img) {
              img.style.display = 'none';
              document.querySelector('.logo-svg-fallback').style.display = 'block';
            }
          <\/script>
        </head>
        <body>
          <div class="invoice-container">
            <!-- Header Section -->
            <div class="invoice-header">
              <div class="company-section">
                <div class="company-logo">
                  <div class="logo-container">
                    <img src="${N}" alt="Company Logo" class="logo-img" onerror="handleLogoError(this)" />
                    <svg class="logo-svg-fallback" width="80" height="80" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z" fill="#3b82f6"/>
                      <path d="M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z" fill="#3b82f6"/>
                      <path d="M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z" fill="#3b82f6"/>
                      <path d="M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z" fill="#3b82f6"/>
                      <circle cx="24" cy="24" r="3" fill="#ffffff"/>
                    </svg>
                  </div>
                </div>
                <div class="company-tagline">Professional Home Services</div>
                <div class="company-details">
                  <strong>Professional Home Services Private Limited</strong><br>
                  CIN: U74999KA2023PTC123456<br>
                  GSTIN: 29ABCDE1234F1Z5<br>
                  <br>
                  <strong>Registered Office:</strong><br>
                  #123, Tech Park, Whitefield<br>
                  Bangalore, Karnataka - 560066<br>
                  <br>
                  <strong>Contact:</strong> +91-80-4567-8900<br>
                  <strong>Email:</strong> support@company.works<br>
                  <strong>Website:</strong> www.nexo.works 
                </div>
              </div>
              
              <div class="invoice-meta">
                <div class="invoice-title">INVOICE</div>
                <div class="invoice-number">#INV-${s._id.slice(-8).toUpperCase()}</div>
                <div class="invoice-date">
                  <strong>Date:</strong> ${new Date(s.createdAt).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"})}
                </div>
                <div class="status-badge status-${s.status}">
                  ${s.status.toUpperCase()}
                </div>
              </div>
            </div>

            <!-- Details Section -->
            <div class="invoice-details">
              <div class="detail-section">
                <h3>Bill To</h3>
                <div class="detail-item">
                  <div class="detail-value customer-name">${((S=s.customerDetails)==null?void 0:S.name)||((k=s.user)==null?void 0:k.name)||"Customer"}</div>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Phone:</span>
                  <span class="detail-value">${((P=s.customerDetails)==null?void 0:P.phone)||((C=s.user)==null?void 0:C.phone)||"N/A"}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Email:</span>
                  <span class="detail-value">${((I=s.customerDetails)==null?void 0:I.email)||((A=s.user)==null?void 0:A.email)||"N/A"}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Address:</span>
                  <span class="detail-value">${((O=s.location)==null?void 0:O.address)||s.address||"N/A"}</span>
                </div>
                ${(R=s.location)!=null&&R.landmark?`
                  <div class="detail-item">
                    <span class="detail-label">Landmark:</span>
                    <span class="detail-value">${s.location.landmark}</span>
                  </div>
                `:""}
                <div class="detail-item">
                  <span class="detail-label">Pincode:</span>
                  <span class="detail-value">${((Z=s.location)==null?void 0:Z.pincode)||"N/A"}</span>
                </div>
              </div>
              
              <div class="detail-section">
                <h3>Service Details</h3>
                <div class="detail-item">
                  <span class="detail-label">Booking ID:</span>
                  <span class="detail-value">#${s._id.slice(-8).toUpperCase()}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Service Date:</span>
                  <span class="detail-value">${new Date(s.scheduledDate||s.bookingDate).toLocaleDateString("en-IN",{day:"2-digit",month:"long",year:"numeric"})}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Service Time:</span>
                  <span class="detail-value">${s.scheduledTime||s.bookingTime||"N/A"}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Payment Mode:</span>
                  <span class="detail-value">${((Y=s.paymentMode)==null?void 0:Y.toUpperCase())||"N/A"}</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Payment Status:</span>
                  <span class="detail-value">${((ce=s.paymentStatus)==null?void 0:ce.toUpperCase())||"N/A"}</span>
                </div>
                ${s.txnid?`
                  <div class="detail-item">
                    <span class="detail-label">Transaction ID:</span>
                    <span class="detail-value">${s.txnid}</span>
                  </div>
                `:""}
              </div>
            </div>

            <!-- Services Section -->
            <div class="services-section">
              <h2 class="section-title">Services & Items</h2>
              <table class="invoice-table">
                <thead>
                  <tr>
                    <th style="width: 50%;">Description</th>
                    <th style="width: 15%;">Quantity</th>
                    <th style="width: 17.5%;">Rate</th>
                    <th style="width: 17.5%;">Amount</th>
                  </tr>
                </thead>
                <tbody>
                  ${s.cartItems&&s.cartItems.length>0?s.cartItems.map(D=>`
                      <tr>
                        <td>
                          <div class="service-name">${D.name||D.serviceName||"Service"}</div>
                          ${D.description?`<div class="service-description">${D.description}</div>`:""}
                        </td>
                        <td class="quantity-cell">${D.quantity||1}</td>
                        <td class="rate-cell">${(D.price||D.amount||0).toLocaleString("en-IN")}</td>
                        <td class="amount-cell">${((D.price||D.amount||0)*(D.quantity||1)).toLocaleString("en-IN")}</td>
                      </tr>
                    `).join(""):`
                      <tr>
                        <td>
                          <div class="service-name">${s.serviceName||"Service Booking"}</div>
                          <div class="service-description">Professional home service booking</div>
                        </td>
                        <td class="quantity-cell">1</td>
                        <td class="rate-cell">${(s.amount||0).toLocaleString("en-IN")}</td>
                        <td class="amount-cell">${(s.amount||0).toLocaleString("en-IN")}</td>
                      </tr>
                    `}
                </tbody>
              </table>
            </div>

            <!-- Totals Section -->
            <div class="totals-section">
              <table class="totals-table">
                <tr>
                  <td class="totals-label">Subtotal:</td>
                  <td class="totals-value">${(s.amount||0).toLocaleString("en-IN")}</td>
                </tr>
                ${s.gstAmount?`
                  <tr>
                    <td class="totals-label">GST (18%):</td>
                    <td class="totals-value">${s.gstAmount.toLocaleString("en-IN")}</td>
                  </tr>
                `:""}
                ${s.usewallet&&s.usewallet>0?`
                  <tr>
                    <td class="totals-label">Wallet Applied:</td>
                    <td class="totals-value">-${s.usewallet.toLocaleString("en-IN")}</td>
                  </tr>
                `:""}
                <tr class="total-row">
                  <td class="totals-label">TOTAL AMOUNT:</td>
                  <td class="totals-value">${(s.totalAmount||s.amount||0).toLocaleString("en-IN")}</td>
                </tr>
              </table>
            </div>

            <!-- Footer -->
            <div class="invoice-footer">
              <div class="footer-title">Thank You for Choosing Our Services!</div>
              <div class="footer-text">
                For any queries regarding this invoice, please contact us at 
                <span class="footer-contact">support@company.works</span> or call 
                <span class="footer-contact">+91-80-4567-8900</span>
              </div>
              <div class="footer-text">
                Visit our website at <span class="footer-contact">www.nexo.works </span> for more services
              </div>
              <div class="footer-legal">
                This is a computer-generated invoice and does not require a physical signature.<br>
                Subject to Bangalore jurisdiction. Terms and conditions apply.
              </div>
            </div>
          </div>
        </body>
      </html>
    `),v.document.close(),setTimeout(()=>{v.print(),v.close()},500)},m=()=>{u()},x=v=>{if(!v)return!1;const N=new Date(v.createdAt),k=new Date-N,P=2*60*60*1e3;return k<=P&&["pending","confirmed"].includes(v.status)},h=v=>{if(!v)return null;const N=new Date(v.createdAt),S=new Date,k=2*60*60*1e3,P=S-N,C=k-P;if(C<=0)return null;const I=Math.floor(C/(60*60*1e3)),A=Math.floor(C%(60*60*1e3)/(60*1e3));return{hours:I,minutes:A}},p=async()=>{var v,N,S;if(!x(s)){alert("Cancellation is only allowed within 2 hours of booking creation.");return}if(confirm("Are you sure you want to cancel this booking?"))try{const k=localStorage.getItem("userToken");console.log(" BookingDetails cancel request:"),console.log("   Booking ID:",e),console.log("   Token exists:",!!k),await Pt.put(`http://localhost:9088/api/user/bookings/${e}/cancel-simple`,{cancellationReason:"Customer requested cancellation from booking details",cancellationTime:new Date().toISOString()},{headers:{Authorization:`Bearer ${k}`}}),alert("Booking cancelled successfully"),c()}catch(k){console.error("Error cancelling booking:",k),console.error("Error response:",(v=k.response)==null?void 0:v.data);const P=((S=(N=k.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to cancel booking";alert(P)}};return n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>r("/user/dashboard/bookings"),className:"p-2 hover:bg-gray-100 rounded-lg",children:t.jsx(J0,{size:24})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Booking Details"})]}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:s.serviceName||"Service Booking"}),t.jsxs("p",{className:"text-gray-500",children:["Booking ID: ",s._id]})]}),t.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-medium
            ${s.status==="completed"?"bg-green-100 text-green-800":s.status==="cancelled"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:s.status})]})}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Booking Information"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx(ks,{className:"text-gray-400 mt-1 mr-3",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),t.jsx("p",{className:"font-medium text-gray-800",children:new Date(s.bookingDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]})]}),s.bookingTime&&t.jsxs("div",{className:"flex items-start",children:[t.jsx(Xr,{className:"text-gray-400 mt-1 mr-3",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Time"}),t.jsx("p",{className:"font-medium text-gray-800",children:s.bookingTime})]})]}),s.address&&t.jsxs("div",{className:"flex items-start",children:[t.jsx(Pr,{className:"text-gray-400 mt-1 mr-3",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),t.jsx("p",{className:"font-medium text-gray-800",children:s.address})]})]})]})]}),s.partner&&t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Provider"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx(vr,{className:"text-gray-400 mt-1 mr-3",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),t.jsx("p",{className:"font-medium text-gray-800",children:s.partner.name})]})]}),s.partner.phone&&t.jsxs("div",{className:"flex items-start",children:[t.jsx(rn,{className:"text-gray-400 mt-1 mr-3",size:20}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),t.jsx("p",{className:"font-medium text-gray-800",children:s.partner.phone})]})]})]})]}),s.cartItems&&s.cartItems.length>0&&t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Services Booked"}),t.jsx("div",{className:"space-y-3",children:s.cartItems.map((v,N)=>t.jsxs("div",{className:"flex justify-between items-start py-2 border-b border-gray-100 last:border-0",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-800",children:v.name||v.serviceName}),v.description&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:v.description}),v.quantity&&v.quantity>1&&t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Quantity: ",v.quantity]})]}),t.jsxs("span",{className:"font-medium text-gray-800 ml-4",children:["",v.price||v.amount||0]})]},N))})]}),s.totalAmount&&t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Payment Details"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"Subtotal"}),t.jsxs("span",{children:["",s.amount||0]})]}),s.gstAmount>0&&t.jsxs("div",{className:"flex justify-between text-gray-600",children:[t.jsx("span",{children:"GST (18%)"}),t.jsxs("span",{children:["",s.gstAmount]})]}),s.usewallet>0&&t.jsxs("div",{className:"flex justify-between text-green-600",children:[t.jsx("span",{children:"Wallet Used"}),t.jsxs("span",{children:["- ",s.usewallet]})]}),s.discount>0&&t.jsxs("div",{className:"flex justify-between text-green-600",children:[t.jsx("span",{children:"Discount"}),t.jsxs("span",{children:["- ",s.discount]})]}),t.jsxs("div",{className:"pt-3 border-t",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Total Amount"}),t.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:["",s.totalAmount]})]}),t.jsx("div",{className:"mt-2",children:t.jsxs("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${s.paymentStatus==="completed"?"bg-green-100 text-green-800":s.paymentStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:["Payment: ",s.paymentStatus]})})]})]})]}),["confirmed","completed"].includes(s.status)&&t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Invoice & Documents"}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-50 text-blue-700 rounded-xl hover:bg-blue-100 transition-all font-medium border-2 border-blue-200",children:[t.jsx(Gt,{size:18}),"View Invoice"]}),t.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2.5 bg-green-50 text-green-700 rounded-xl hover:bg-green-100 transition-all font-medium border-2 border-green-200",children:[t.jsx(Zo,{size:18}),"Print Invoice"]}),t.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2.5 bg-purple-50 text-purple-700 rounded-xl hover:bg-purple-100 transition-all font-medium border-2 border-purple-200",children:[t.jsx(Na,{size:18}),"Download PDF"]})]})]}),s.status!=="cancelled"&&s.status!=="completed"&&t.jsx("div",{className:"space-y-4",children:x(s)?t.jsxs("div",{children:[t.jsx("button",{onClick:p,className:"w-full px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium",children:"Cancel Booking"}),(()=>{const v=h(s);return v&&t.jsx("div",{className:"mt-3 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:t.jsxs("p",{className:"text-sm text-orange-700",children:[t.jsx("strong",{children:"Cancellation Policy:"})," Free cancellation available for ",v.hours,"h ",v.minutes,"m more"]})})})()]}):t.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[t.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"Cancellation Not Available"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Free cancellation is only available within 2 hours of booking creation. For assistance, please contact customer support."})]})}),s.status==="completed"&&!s.reviewed&&t.jsx("button",{onClick:()=>r(`/user/dashboard/bookings/${e}/review`),className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Write a Review"}),l&&s&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full shadow-2xl overflow-hidden animate-slide-up my-8",children:[t.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-light p-6 text-white flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(Gt,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold",children:"Invoice"}),t.jsxs("p",{className:"text-blue-100 text-sm",children:["Booking #",s._id.slice(-8)]})]})]}),t.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:t.jsx(xt,{size:24})})]}),t.jsxs("div",{className:"p-8",children:[t.jsx("div",{ref:d,children:t.jsxs("div",{className:"invoice-container",children:[t.jsxs("div",{className:"invoice-header text-center mb-8 pb-6 border-b-2 border-primary",children:[t.jsx("div",{className:"invoice-logo flex justify-center items-center mb-6",children:t.jsxs("div",{className:"logo-display-container",children:[t.jsx("img",{src:"/logo.png",alt:"Company Logo",className:"h-24 w-auto max-w-xs object-contain mx-auto",style:{filter:"drop-shadow(0 2px 8px rgba(0, 0, 0, 0.1))"},onError:v=>{v.target.style.display="none",v.target.nextElementSibling.style.display="block"}}),t.jsx("div",{className:"hidden flex justify-center items-center",children:t.jsxs("svg",{width:"96",height:"96",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mx-auto",children:[t.jsx("path",{d:"M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z",fill:"#3b82f6"}),t.jsx("path",{d:"M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z",fill:"#3b82f6"}),t.jsx("path",{d:"M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z",fill:"#3b82f6"}),t.jsx("path",{d:"M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z",fill:"#3b82f6"}),t.jsx("circle",{cx:"24",cy:"24",r:"3",fill:"#ffffff"})]})})]})}),t.jsx("p",{className:"text-gray-600",children:"Professional Home Services"}),t.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Invoice Date: ",new Date().toLocaleDateString("en-IN")]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:"Bill To:"}),t.jsx("p",{className:"text-gray-700 font-medium",children:((f=s.customerDetails)==null?void 0:f.name)||((b=s.user)==null?void 0:b.name)||"Customer"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:((j=s.customerDetails)==null?void 0:j.phone)||((w=s.user)==null?void 0:w.phone)||"N/A"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:((y=s.location)==null?void 0:y.address)||s.address||"N/A"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:"Invoice Details:"}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Invoice #: ",t.jsxs("span",{className:"font-medium text-gray-800",children:["INV-",s._id.slice(-8).toUpperCase()]})]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Booking ID: ",t.jsxs("span",{className:"font-medium text-gray-800",children:["#",s._id.slice(-8)]})]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Date: ",t.jsx("span",{className:"font-medium text-gray-800",children:new Date(s.scheduledDate||s.bookingDate).toLocaleDateString("en-IN")})]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Status: ",t.jsx("span",{className:`font-medium capitalize ${s.status==="completed"?"text-green-600":"text-blue-600"}`,children:s.status})]})]})]}),t.jsxs("table",{className:"w-full border-collapse mb-8",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-100",children:[t.jsx("th",{className:"text-left p-4 font-bold text-gray-800 border-b-2 border-gray-300",children:"Service Description"}),t.jsx("th",{className:"text-center p-4 font-bold text-gray-800 border-b-2 border-gray-300",children:"Quantity"}),t.jsx("th",{className:"text-right p-4 font-bold text-gray-800 border-b-2 border-gray-300",children:"Amount"})]})}),t.jsx("tbody",{children:s.cartItems&&s.cartItems.length>0?s.cartItems.map((v,N)=>t.jsxs("tr",{children:[t.jsxs("td",{className:"p-4 border-b border-gray-200",children:[t.jsx("p",{className:"font-medium text-gray-800",children:v.name||v.serviceName}),v.description&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.description})]}),t.jsx("td",{className:"p-4 text-center border-b border-gray-200 text-gray-700",children:v.quantity||1}),t.jsxs("td",{className:"p-4 text-right border-b border-gray-200 font-medium text-gray-800",children:["",v.price||v.amount||0]})]},N)):t.jsxs("tr",{children:[t.jsxs("td",{className:"p-4 border-b border-gray-200",children:[t.jsx("p",{className:"font-medium text-gray-800",children:s.serviceName||"Service"}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Booking Date: ",new Date(s.scheduledDate||s.bookingDate).toLocaleDateString("en-IN")]}),s.scheduledTime&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Time: ",s.scheduledTime]})]}),t.jsx("td",{className:"p-4 text-center border-b border-gray-200 text-gray-700",children:"1"}),t.jsxs("td",{className:"p-4 text-right border-b border-gray-200 font-medium text-gray-800",children:["",s.amount||s.totalAmount||0]})]})})]}),t.jsx("div",{className:"flex justify-end mb-8",children:t.jsxs("div",{className:"w-64",children:[t.jsxs("div",{className:"flex justify-between py-2 text-gray-700",children:[t.jsx("span",{children:"Subtotal:"}),t.jsxs("span",{children:["",s.amount||s.totalAmount||0]})]}),s.gstAmount>0&&t.jsxs("div",{className:"flex justify-between py-2 text-gray-700",children:[t.jsx("span",{children:"GST (18%):"}),t.jsxs("span",{children:["",s.gstAmount]})]}),s.usewallet>0&&t.jsxs("div",{className:"flex justify-between py-2 text-green-600",children:[t.jsx("span",{children:"Wallet Used:"}),t.jsxs("span",{children:["- ",s.usewallet]})]}),s.discount>0&&t.jsxs("div",{className:"flex justify-between py-2 text-green-600",children:[t.jsx("span",{children:"Discount:"}),t.jsxs("span",{children:["- ",s.discount]})]}),t.jsxs("div",{className:"flex justify-between py-3 border-t-2 border-gray-300 font-bold text-lg text-primary",children:[t.jsx("span",{children:"Total Amount:"}),t.jsxs("span",{children:["",s.totalAmount||0]})]})]})}),t.jsxs("div",{className:"text-center pt-6 border-t border-gray-300",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Thank you for choosing our services!"}),t.jsx("p",{className:"text-xs text-gray-500",children:"For any queries, contact us at support@nexo.works| +91 1800-XXX-XXXX"}),t.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"This is a computer-generated invoice and does not require a signature."})]})]})}),t.jsxs("div",{className:"flex gap-4 mt-8 pt-6 border-t border-gray-200",children:[t.jsxs("button",{onClick:u,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-primary text-white rounded-xl hover:bg-primary-dark transition-all font-semibold",children:[t.jsx(Zo,{size:20}),"Print Invoice"]}),t.jsxs("button",{onClick:m,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all font-semibold",children:[t.jsx(Na,{size:20}),"Download PDF"]}),t.jsx("button",{onClick:()=>o(!1),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-all",children:"Close"})]})]})]})})]}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("p",{className:"text-gray-500",children:"Booking not found"}),t.jsx("button",{onClick:()=>r("/user/dashboard/bookings"),className:"mt-4 text-blue-600 hover:text-blue-700",children:"Back to Bookings"})]})},hE="http://localhost:9088",er=e=>e.startsWith("/api/")?`${hE}${e}`:`${hE}/api/user${e}`,sr=e=>{const r={"Content-Type":"application/json"};return e&&(r.Authorization=`Bearer ${e}`),r},tr=async e=>{const r=e.headers.get("content-type")||"",s=r.includes("application/json"),a=await e.text();if(console.log("API Response:",{status:e.status,ok:e.ok,contentType:r,text:a.substring(0,200)}),!a||a.trim()===""){if(!e.ok){const i=new Error("Empty response from server");throw i.status=e.status,i}return{success:!0,message:"Operation completed successfully"}}let n;if(s)try{n=JSON.parse(a)}catch(i){console.error("JSON Parse Error:",i),n=a}else n=a;if(!e.ok){const i=new Error((n==null?void 0:n.message)||(n==null?void 0:n.error)||"Request failed");throw i.status=e.status,i.data=n,i}return n},ti={async register(e){const r=await fetch(er("/register"),{method:"POST",headers:sr(),body:JSON.stringify(e)});return tr(r)},async sendOTP(e){const r=er("/auth/send-otp");console.log("Sending OTP to URL:",r,"Phone:",e);const s=await fetch(r,{method:"POST",headers:sr(),body:JSON.stringify({phone:e})});return tr(s)},async sendLoginOTP(e){const r=er("/login/otp/send");console.log("Sending Login OTP to URL:",r,"Phone:",e);const s=await fetch(r,{method:"POST",headers:sr(),body:JSON.stringify({phone:e})});return tr(s)},async verifyOTP(e,r){const s=await fetch(er("/login/otp/verify"),{method:"POST",headers:sr(),body:JSON.stringify({phone:e,otp:r})});return tr(s)},async loginWithPassword(e,r){const s=await fetch(er("/login/password"),{method:"POST",headers:sr(),body:JSON.stringify({email:e,password:r})});return tr(s)},async getProfile(e){const r=await fetch(er("/profile"),{headers:sr(e)});return tr(r)},async updateProfile(e,r){const s={Authorization:`Bearer ${e}`},a=await fetch(er("/profile"),{method:"PUT",headers:s,body:r});return tr(a)},async changePassword(e,r,s){const a=await fetch(er("/change-password"),{method:"PUT",headers:sr(e),body:JSON.stringify({currentPassword:r,newPassword:s})});return tr(a)},async addAddress(e,r){const s=await fetch(er("/address"),{method:"POST",headers:sr(e),body:JSON.stringify(r)});return tr(s)},async updateAddress(e,r,s){const a=await fetch(er(`/address/${r}`),{method:"PUT",headers:sr(e),body:JSON.stringify(s)});return tr(a)},async deleteAddress(e,r){const s=await fetch(er(`/address/${r}`),{method:"DELETE",headers:sr(e)});return tr(s)},async getBookings(e){const r=await fetch(er("/bookings"),{headers:sr(e)});return tr(r)},async getBookingDetails(e,r){const s=await fetch(er(`/bookings/${r}`),{headers:sr(e)});return tr(s)},async cancelBooking(e,r){const s=await fetch(er(`/bookings/${r}/cancel`),{method:"PUT",headers:sr(e)});return tr(s)},async getWalletBalance(e,r){const s=await fetch(er(`/wallet/${r}`),{headers:sr(e)});return tr(s)},async getWalletDetails(e,r){const s=await fetch(er(`/wallet/${r}`),{headers:sr(e)});return tr(s)},async initiateWalletPayment(e,r,s){const a=await fetch(er("/wallet/initiate-payment"),{method:"POST",headers:sr(e),body:JSON.stringify({amount:r,userId:s})});return tr(a)},async checkWalletPaymentStatus(e,r){const s=await fetch(er(`/wallet/payment-status/${r}`),{headers:sr(e)});return tr(s)},async getNotifications(e){const r=await fetch(er("/notifications"),{headers:sr(e)});return tr(r)},async markNotificationAsRead(e,r){const s=await fetch(er(`/notifications/${r}/read`),{method:"PUT",headers:sr(e)});return tr(s)},async deleteNotification(e,r){const s=await fetch(er(`/notifications/${r}`),{method:"DELETE",headers:sr(e)});return tr(s)},async sendSupportMessage(e,r,s){const a=await fetch(er("/contactus"),{method:"POST",headers:sr(e),body:JSON.stringify({subject:r,message:s})});return tr(a)},async submitReview(e,r){const s=await fetch(er("/reviews"),{method:"POST",headers:sr(e),body:JSON.stringify(r)});return tr(s)},async getDashboard(e){const r=await fetch(er("/dashboard"),{headers:sr(e)});return tr(r)},async getQuickStats(e){const r=await fetch(er("/dashboard/quick-stats"),{headers:sr(e)});return tr(r)},async getSmartAlerts(e){const r=await fetch(er("/dashboard/alerts"),{headers:sr(e)});return tr(r)},async getActivityStreak(e){const r=await fetch(er("/dashboard/streak"),{headers:sr(e)});return tr(r)},async getSuggestions(e){const r=await fetch(er("/dashboard/suggestions"),{headers:sr(e)});return tr(r)},async getRecentActivity(e,r=15){const s=await fetch(er(`/dashboard/activity?limit=${r}`),{headers:sr(e)});return tr(s)},async getBookingStats(e){const r=await fetch(er("/dashboard/booking-stats"),{headers:sr(e)});return tr(r)},async getWalletSummaryDashboard(e){const r=await fetch(er("/dashboard/wallet-summary"),{headers:sr(e)});return tr(r)},async getDashboardInsights(e){const r=await fetch(er("/dashboard/insights"),{headers:sr(e)});return tr(r)},async getRecommendations(e){const r=await fetch(er("/dashboard/recommendations"),{headers:sr(e)});return tr(r)},async getGreeting(e){const r=await fetch(er("/dashboard/greeting"),{headers:sr(e)});return tr(r)}},xE="http://localhost:9088",uSe=()=>{const{checkAuth:e}=nn(),[r,s]=g.useState({name:"",email:"",phone:"",profilePicture:"",userType:"home",companyDetails:{companyName:"",companySize:"",industry:"",gstNumber:"",contactPerson:"",designation:""}}),[a,n]=g.useState(!0),[i,l]=g.useState(!1),[o,d]=g.useState(null),[c,u]=g.useState(!1),[m,x]=g.useState(!1),[h,p]=g.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[f,b]=g.useState(!1),[j,w]=g.useState(!1),[y,v]=g.useState(!1),[N,S]=g.useState(!1);g.useEffect(()=>{k()},[]);const k=async()=>{try{const R=localStorage.getItem("userToken"),Y=(await Pt.get(`${xE}/api/user/profile`,{headers:{Authorization:`Bearer ${R}`}})).data.user;console.log("Fetched user data:",Y);const ce={name:Y.name||"",email:Y.email||"",phone:Y.phone||"",profilePicture:Y.profilePicture||"",userType:Y.userType||"home",companyDetails:Y.companyDetails||{companyName:"",companySize:"",industry:"",gstNumber:"",contactPerson:"",designation:""}};console.log("Setting profile data:",ce),s(ce),Y.profilePicture&&d(Y.profilePicture)}catch(R){console.error("Error fetching profile:",R)}finally{n(!1)}},P=R=>{s({...r,[R.target.name]:R.target.value})},C=R=>{s({...r,companyDetails:{...r.companyDetails,[R.target.name]:R.target.value}})},I=R=>{const Z=R.target.files[0];if(Z){const Y=new FileReader;Y.onloadend=()=>{d(Y.result)},Y.readAsDataURL(Z),s({...r,profilePicture:Z})}},A=async R=>{R.preventDefault(),l(!0);try{const Z=localStorage.getItem("userToken"),Y=new FormData;Y.append("name",r.name),Y.append("email",r.email),Y.append("userType",r.userType),r.userType==="company"&&Y.append("companyDetails",JSON.stringify(r.companyDetails)),r.profilePicture instanceof File&&Y.append("profilePicture",r.profilePicture),await Pt.put(`${xE}/api/user/profile`,Y,{headers:{Authorization:`Bearer ${Z}`,"Content-Type":"multipart/form-data"}}),u(!0),setTimeout(()=>u(!1),3e3),await k(),await e()}catch(Z){console.error("Error updating profile:",Z),alert("Failed to update profile")}finally{l(!1)}},O=async R=>{if(R.preventDefault(),h.newPassword!==h.confirmPassword){alert("New password and confirm password do not match");return}if(h.newPassword.length<6){alert("Password must be at least 6 characters long");return}S(!0);try{const Z=localStorage.getItem("userToken");await ti.changePassword(Z,h.currentPassword,h.newPassword),u(!0),setTimeout(()=>u(!1),3e3),p({currentPassword:"",newPassword:"",confirmPassword:""}),x(!1)}catch(Z){console.error("Error changing password:",Z),alert(Z.message||"Failed to change password. Please check your current password.")}finally{S(!1)}};return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.jsxs("div",{className:"space-y-6",children:[c&&t.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 animate-slide-in",children:[t.jsx(vt,{size:24}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Profile Updated!"}),t.jsx("p",{className:"text-sm text-green-100",children:"Your changes have been saved successfully."})]})]}),t.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-3xl p-8 md:p-12 text-white overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full -ml-24 -mb-24"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(vr,{size:24})}),t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"My Profile"})]}),t.jsx("p",{className:"text-blue-100 text-lg",children:"Manage your personal information and account settings"})]})]}),t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-primary-light/10 p-8 border-b border-gray-200",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"w-32 h-32 rounded-2xl overflow-hidden bg-gradient-to-br from-primary/20 to-primary-light/20 ring-4 ring-white shadow-xl",children:o?t.jsx("img",{src:o,alt:"Profile",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary to-primary-light",children:t.jsx(vr,{size:48,className:"text-white"})})}),t.jsxs("label",{className:"absolute bottom-0 right-0 p-3 bg-primary rounded-xl cursor-pointer hover:bg-primary-dark transition-all shadow-lg group-hover:scale-110 transform duration-300",children:[t.jsx(c0,{className:"text-white",size:20}),t.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"hidden"})]})]}),t.jsxs("div",{className:"text-center md:text-left",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:r.name||"User"}),t.jsx("p",{className:"text-gray-600 mb-3",children:r.email||"No email provided"}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary",children:[t.jsx(Ja,{size:16}),t.jsx("span",{className:"font-medium",children:"Verified Account"})]})]})]})}),t.jsxs("form",{onSubmit:A,className:"p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx(tp,{size:16,className:"text-primary"}),"Full Name *"]}),t.jsxs("div",{className:"relative",children:[t.jsx(vr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",name:"name",value:r.name,onChange:P,className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Enter your full name",required:!0})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx(tp,{size:16,className:"text-primary"}),"Email Address *"]}),t.jsxs("div",{className:"relative",children:[t.jsx(tn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"email",name:"email",value:r.email,onChange:P,className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Enter your email address",required:!0})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:[t.jsxs("label",{className:"block text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[t.jsx(tp,{size:20,className:"text-primary"}),"Account Type *"]}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose your account type to get personalized services and AMC plans"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[{value:"home",label:"Home",icon:en,desc:"Personal/Residential"},{value:"pg",label:"PG/Hostel",icon:Lr,desc:"Paying Guest/Hostel"},{value:"company",label:"Business",icon:is,desc:"Company/Organization"}].map(R=>{const Z=R.icon,Y=r.userType===R.value;return t.jsxs("div",{onClick:()=>s({...r,userType:R.value}),className:`relative p-4 border-2 rounded-xl cursor-pointer transition-all duration-300 ${Y?"border-primary bg-primary/5 shadow-md":"border-gray-200 hover:border-primary/50 hover:shadow-sm"}`,children:[t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-2 ${Y?"bg-primary text-white":"bg-gray-100 text-gray-600"}`,children:t.jsx(Z,{size:24})}),t.jsx("h3",{className:`font-semibold text-sm ${Y?"text-primary":"text-gray-900"}`,children:R.label}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:R.desc})]}),Y&&t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx(vt,{className:"text-primary",size:20})})]},R.value)})}),t.jsx("div",{className:"mt-4 p-3 bg-white border border-blue-200 rounded-lg",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vt,{className:"text-green-500",size:16}),t.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Current selection: ",t.jsx("span",{className:"text-primary font-bold",children:r.userType==="home"?"Home (Personal/Residential)":r.userType==="pg"?"PG/Hostel (Paying Guest/Hostel)":"Business (Company/Organization)"})]})]})})]}),r.userType==="company"&&t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(is,{className:"text-blue-600",size:20}),t.jsx("h3",{className:"text-lg font-bold text-blue-900",children:"Company Details"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Company Name *"}),t.jsx("input",{type:"text",name:"companyName",value:r.companyDetails.companyName,onChange:C,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Enter company name",required:r.userType==="company"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Company Size"}),t.jsxs("select",{name:"companySize",value:r.companyDetails.companySize,onChange:C,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",children:[t.jsx("option",{value:"",children:"Select company size"}),t.jsx("option",{value:"small",children:"Small (1-50 employees)"}),t.jsx("option",{value:"medium",children:"Medium (51-200 employees)"}),t.jsx("option",{value:"large",children:"Large (201-1000 employees)"}),t.jsx("option",{value:"enterprise",children:"Enterprise (1000+ employees)"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Industry"}),t.jsx("input",{type:"text",name:"industry",value:r.companyDetails.industry,onChange:C,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"e.g., Technology, Healthcare, Manufacturing"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GST Number"}),t.jsx("input",{type:"text",name:"gstNumber",value:r.companyDetails.gstNumber,onChange:C,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Enter GST number (optional)"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Contact Person"}),t.jsx("input",{type:"text",name:"contactPerson",value:r.companyDetails.contactPerson,onChange:C,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Primary contact person name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Designation"}),t.jsx("input",{type:"text",name:"designation",value:r.companyDetails.designation,onChange:C,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"e.g., Manager, Director, Owner"})]})]}),t.jsx("div",{className:"bg-blue-100 border border-blue-300 rounded-lg p-3 mt-4",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(vt,{className:"text-blue-600 mt-0.5 flex-shrink-0",size:16}),t.jsxs("div",{className:"text-sm text-blue-800",children:[t.jsx("p",{className:"font-medium mb-1",children:"Business Account Benefits:"}),t.jsxs("ul",{className:"text-xs space-y-1",children:[t.jsx("li",{children:" Access to business AMC plans"}),t.jsx("li",{children:" Priority customer support"}),t.jsx("li",{children:" Bulk service discounts"}),t.jsx("li",{children:" Dedicated account manager"})]})]})]})})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx(Ja,{size:16,className:"text-gray-400"}),"Phone Number (Verified)"]}),t.jsxs("div",{className:"relative",children:[t.jsx(rn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"tel",value:r.phone,className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl bg-gray-50 text-gray-600 cursor-not-allowed",disabled:!0})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-500",children:[t.jsx(vt,{size:14,className:"text-green-500"}),t.jsx("span",{children:"Phone number is verified and cannot be changed"})]})]}),t.jsx("div",{className:"pt-4",children:t.jsx("button",{type:"submit",disabled:i,className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-gradient-to-r from-primary to-primary-light text-white rounded-xl hover:from-primary-dark hover:to-primary disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",children:i?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Saving Changes..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ji,{size:20}),"Save Changes"]})})})]})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[t.jsxs("button",{onClick:()=>x(!m),className:"w-full bg-gradient-to-r from-primary/10 to-primary-light/10 p-6 border-b border-gray-200 flex items-center justify-between hover:from-primary/15 hover:to-primary-light/15 transition-all",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center",children:t.jsx(Os,{className:"text-white",size:20})}),t.jsxs("div",{className:"text-left",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Change Password"}),t.jsx("p",{className:"text-gray-600 text-sm mt-0.5",children:"Update your account password"})]})]}),t.jsx("div",{className:`transform transition-transform ${m?"rotate-180":""}`,children:t.jsx(tp,{className:"text-primary",size:20})})]}),m&&t.jsxs("form",{onSubmit:O,className:"p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx(Os,{size:16,className:"text-primary"}),"Current Password *"]}),t.jsxs("div",{className:"relative",children:[t.jsx(Os,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:f?"text":"password",value:h.currentPassword,onChange:R=>p({...h,currentPassword:R.target.value}),className:"w-full pl-12 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Enter current password",required:!0}),t.jsx("button",{type:"button",onClick:()=>b(!f),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f?t.jsx(Zv,{size:20}):t.jsx(Ti,{size:20})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx(Os,{size:16,className:"text-primary"}),"New Password *"]}),t.jsxs("div",{className:"relative",children:[t.jsx(Os,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:j?"text":"password",value:h.newPassword,onChange:R=>p({...h,newPassword:R.target.value}),className:"w-full pl-12 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Enter new password (min 6 characters)",required:!0,minLength:6}),t.jsx("button",{type:"button",onClick:()=>w(!j),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:j?t.jsx(Zv,{size:20}):t.jsx(Ti,{size:20})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[t.jsx(Os,{size:16,className:"text-primary"}),"Confirm New Password *"]}),t.jsxs("div",{className:"relative",children:[t.jsx(Os,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:y?"text":"password",value:h.confirmPassword,onChange:R=>p({...h,confirmPassword:R.target.value}),className:"w-full pl-12 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Confirm new password",required:!0}),t.jsx("button",{type:"button",onClick:()=>v(!y),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:y?t.jsx(Zv,{size:20}):t.jsx(Ti,{size:20})})]}),h.newPassword&&h.confirmPassword&&h.newPassword!==h.confirmPassword&&t.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Passwords do not match"})]}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{x(!1),p({currentPassword:"",newPassword:"",confirmPassword:""})},className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-all",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:N||h.newPassword!==h.confirmPassword,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-primary to-primary-light text-white rounded-xl hover:from-primary-dark hover:to-primary disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:N?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Changing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Os,{size:20}),"Change Password"]})})]})]})]}),t.jsx("div",{className:"bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-2xl p-6 text-white shadow-xl",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(Ja,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-lg mb-2",children:"Account Security"}),t.jsx("p",{className:"text-blue-100 mb-4",children:"Your account is secured with phone verification. Keep your profile information up to date for the best experience."}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsx("div",{className:"px-3 py-1.5 bg-white/20 backdrop-blur-sm rounded-lg text-sm font-medium",children:" Phone Verified"}),t.jsx("div",{className:"px-3 py-1.5 bg-white/20 backdrop-blur-sm rounded-lg text-sm font-medium",children:" Active Account"}),r.password&&t.jsx("div",{className:"px-3 py-1.5 bg-white/20 backdrop-blur-sm rounded-lg text-sm font-medium",children:" Password Set"})]})]})]})})]})]})},mSe=()=>{const[e,r]=g.useState([]),[s,a]=g.useState(!0),[n,i]=g.useState(!1),[l,o]=g.useState(null),[d,c]=g.useState(!1),[u,m]=g.useState(!1),[x,h]=g.useState(!1),[p,f]=g.useState({address:"",lat:"",lng:"",landmark:"",addressType:"home"});g.useEffect(()=>{b()},[]);const b=async()=>{try{const S=localStorage.getItem("userToken"),k=await Pt.get("http://localhost:9088/api/user/profile",{headers:{Authorization:`Bearer ${S}`}});r(k.data.user.addresses||[])}catch(S){console.error("Error fetching addresses:",S)}finally{a(!1)}},j=async S=>{S.preventDefault(),m(!0);try{const k=localStorage.getItem("userToken");l?await Pt.put(`http://localhost:9088/api/user/address/${l._id}`,p,{headers:{Authorization:`Bearer ${k}`}}):await Pt.post("http://localhost:9088/api/user/address",p,{headers:{Authorization:`Bearer ${k}`}}),c(!0),setTimeout(()=>c(!1),3e3),i(!1),o(null),f({address:"",lat:"",lng:"",landmark:"",addressType:"home"}),b()}catch(k){console.error("Error saving address:",k),alert("Failed to save address. Please try again.")}finally{m(!1)}},w=async S=>{if(confirm("Are you sure you want to delete this address?"))try{const k=localStorage.getItem("userToken");await Pt.delete(`http://localhost:9088/api/user/address/${S}`,{headers:{Authorization:`Bearer ${k}`}}),alert("Address deleted successfully"),b()}catch(k){console.error("Error deleting address:",k),alert("Failed to delete address")}},y=S=>{o(S),f({address:S.address,lat:S.lat||"",lng:S.lng||"",landmark:S.landmark||"",addressType:S.addressType||"home"}),i(!0)},v=S=>S==="work"?t.jsx(is,{size:20}):t.jsx(en,{size:20}),N=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}h(!0),navigator.geolocation.getCurrentPosition(async S=>{const{latitude:k,longitude:P}=S.coords;try{const I=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${k}&lon=${P}&zoom=18&addressdetails=1`)).json();I&&I.display_name?f({...p,address:I.display_name,lat:k.toString(),lng:P.toString()}):f({...p,address:`Location: ${k.toFixed(6)}, ${P.toFixed(6)}`,lat:k.toString(),lng:P.toString()})}catch(C){console.error("Error reverse geocoding:",C),f({...p,address:`Location: ${k.toFixed(6)}, ${P.toFixed(6)}`,lat:k.toString(),lng:P.toString()})}finally{h(!1)}},S=>{console.error("Error getting location:",S);let k="Unable to get your location. ";switch(S.code){case S.PERMISSION_DENIED:k+="Please allow location access in your browser settings.";break;case S.POSITION_UNAVAILABLE:k+="Location information is unavailable.";break;case S.TIMEOUT:k+="Location request timed out.";break;default:k+="An unknown error occurred."}alert(k),h(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return s?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.jsxs("div",{className:"space-y-6",children:[d&&t.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 animate-slide-in",children:[t.jsx(vt,{size:24}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Success!"}),t.jsx("p",{className:"text-sm text-green-100",children:"Address saved successfully."})]})]}),t.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-3xl p-8 md:p-12 text-white overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full -ml-24 -mb-24"}),t.jsx("div",{className:"relative z-10",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(Pr,{size:24})}),t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"My Addresses"})]}),t.jsx("p",{className:"text-blue-100 text-lg",children:"Manage your saved addresses for faster bookings"})]}),t.jsxs("button",{onClick:()=>{o(null),f({address:"",lat:"",lng:"",landmark:"",addressType:"home"}),i(!0)},className:"flex items-center justify-center gap-2 px-6 py-3 bg-white text-primary rounded-xl hover:bg-blue-50 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold",children:[t.jsx(Tr,{size:20}),"Add New Address"]})]})})]}),e.length===0?t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-12 text-center",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary/10 to-primary-light/10 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Pr,{className:"text-primary",size:48})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:"No Addresses Yet"}),t.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Add your first address to make booking services faster and easier. You can save multiple addresses for home, work, and more."}),t.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-primary to-primary-light text-white rounded-xl hover:from-primary-dark hover:to-primary font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[t.jsx(Tr,{size:20}),"Add Your First Address"]})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((S,k)=>t.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-6 border border-gray-100 hover:border-primary/30 hover:-translate-y-1",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`p-3 rounded-xl ${S.addressType==="home"?"bg-blue-100 text-blue-600":S.addressType==="work"?"bg-purple-100 text-purple-600":"bg-green-100 text-green-600"} group-hover:scale-110 transition-transform`,children:v(S.addressType)}),t.jsxs("div",{children:[t.jsx("span",{className:"font-bold text-gray-800 capitalize block",children:S.addressType}),t.jsxs("span",{className:"text-xs text-gray-500",children:["Address #",k+1]})]})]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:()=>y(S),className:"p-2 text-primary hover:bg-primary/10 rounded-lg transition-colors",title:"Edit address",children:t.jsx(Cs,{size:18})}),t.jsx("button",{onClick:()=>w(S._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete address",children:t.jsx(la,{size:18})})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Pr,{className:"text-gray-400 mt-1 flex-shrink-0",size:16}),t.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:S.address})]}),S.landmark&&t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(e1,{className:"text-gray-400 mt-1 flex-shrink-0",size:16}),t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsx("span",{className:"font-medium",children:"Landmark:"})," ",S.landmark]})]})]}),t.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:t.jsx("button",{onClick:()=>y(S),className:"w-full py-2 text-primary hover:bg-primary/5 rounded-lg transition-colors text-sm font-medium",children:"Edit Details"})})]},S._id))}),n&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-2xl overflow-hidden animate-slide-up",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-primary-light/10 p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center",children:t.jsx(Pr,{className:"text-white",size:20})}),t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:l?"Edit Address":"Add New Address"})]}),t.jsx("button",{onClick:()=>{i(!1),o(null)},className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:t.jsx(xt,{size:20,className:"text-gray-600"})})]})}),t.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Address Type *"}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("label",{className:`flex flex-col items-center justify-center p-4 border-2 rounded-xl cursor-pointer transition-all ${p.addressType==="home"?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/30"}`,children:[t.jsx("input",{type:"radio",name:"addressType",value:"home",checked:p.addressType==="home",onChange:S=>f({...p,addressType:S.target.value}),className:"sr-only"}),t.jsx(en,{size:24,className:p.addressType==="home"?"text-primary":"text-gray-400"}),t.jsx("span",{className:`mt-2 text-sm font-medium ${p.addressType==="home"?"text-primary":"text-gray-600"}`,children:"Home"})]}),t.jsxs("label",{className:`flex flex-col items-center justify-center p-4 border-2 rounded-xl cursor-pointer transition-all ${p.addressType==="work"?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/30"}`,children:[t.jsx("input",{type:"radio",name:"addressType",value:"work",checked:p.addressType==="work",onChange:S=>f({...p,addressType:S.target.value}),className:"sr-only"}),t.jsx(is,{size:24,className:p.addressType==="work"?"text-primary":"text-gray-400"}),t.jsx("span",{className:`mt-2 text-sm font-medium ${p.addressType==="work"?"text-primary":"text-gray-600"}`,children:"Work"})]}),t.jsxs("label",{className:`flex flex-col items-center justify-center p-4 border-2 rounded-xl cursor-pointer transition-all ${p.addressType==="other"?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/30"}`,children:[t.jsx("input",{type:"radio",name:"addressType",value:"other",checked:p.addressType==="other",onChange:S=>f({...p,addressType:S.target.value}),className:"sr-only"}),t.jsx(tD,{size:24,className:p.addressType==="other"?"text-primary":"text-gray-400"}),t.jsx("span",{className:`mt-2 text-sm font-medium ${p.addressType==="other"?"text-primary":"text-gray-600"}`,children:"Other"})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Complete Address *"}),t.jsx("button",{type:"button",onClick:N,disabled:x,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-primary hover:bg-primary/10 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:x?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),"Getting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(e1,{size:16}),"Use Current Location"]})})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Pr,{className:"absolute left-4 top-4 text-gray-400",size:18}),t.jsx("textarea",{value:p.address,onChange:S=>f({...p,address:S.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all resize-none",rows:"3",placeholder:"House/Flat No., Building Name, Street, Area",required:!0})]}),p.lat&&p.lng&&t.jsxs("p",{className:"text-xs text-green-600 mt-2 flex items-center gap-1",children:[t.jsx(vt,{size:12}),"Location coordinates saved: ",parseFloat(p.lat).toFixed(4),", ",parseFloat(p.lng).toFixed(4)]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Landmark (Optional)"}),t.jsxs("div",{className:"relative",children:[t.jsx(e1,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"text",value:p.landmark,onChange:S=>f({...p,landmark:S.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Nearby landmark for easy location"})]})]}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{i(!1),o(null)},disabled:u,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:u,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-primary to-primary-light text-white rounded-xl hover:from-primary-dark hover:to-primary disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:u?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(vt,{size:20}),"Save Address"]})})]})]})]})})]})},hSe=()=>{const[e,r]=g.useState(null),[s,a]=g.useState(0),[n,i]=g.useState([]),[l,o]=g.useState(!0),[d,c]=g.useState(!1),[u,m]=g.useState(""),[x,h]=g.useState(!1),[p,f]=g.useState(null);g.useEffect(()=>{b(),w(),j()},[]);const b=async()=>{try{const v=localStorage.getItem("userToken");if(v){const N=await ti.getProfile(v);r(N.user)}}catch(v){console.error("Error fetching user profile:",v)}},j=()=>{const v=new URLSearchParams(window.location.search),N=v.get("payment"),S=v.get("amount"),k=v.get("reason");N==="success"?(f({type:"success",message:`${S} added successfully to your wallet!`}),window.history.replaceState({},document.title,window.location.pathname),setTimeout(()=>{w(),f(null)},3e3)):N==="failed"&&(f({type:"error",message:`Payment failed: ${k||"Unknown error"}`}),setTimeout(()=>f(null),5e3))},w=async()=>{try{const v=localStorage.getItem("userToken"),N=(e==null?void 0:e._id)||localStorage.getItem("userId");if(!v||!N){console.error("No token or userId found"),o(!1);return}const S=await ti.getWalletDetails(v,N);S.success&&(a(S.data.balance||0),i(S.data.transactions||[])),o(!1)}catch(v){console.error("Error fetching wallet data:",v),a(0),i([]),o(!1)}},y=async v=>{if(v.preventDefault(),!u||u<=0){alert("Please enter a valid amount");return}try{h(!0);const N=localStorage.getItem("userToken"),S=(e==null?void 0:e._id)||localStorage.getItem("userId");if(!N||!S){alert("Please login to continue"),h(!1);return}const k=await ti.initiateWalletPayment(N,parseFloat(u),S);if(k.success){const P=document.createElement("form");P.method="POST",P.action=k.data.action,Object.keys(k.data).forEach(C=>{if(C!=="action"){const I=document.createElement("input");I.type="hidden",I.name=C,I.value=k.data[C],P.appendChild(I)}}),document.body.appendChild(P),P.submit()}else alert("Failed to initiate payment. Please try again."),h(!1)}catch(N){console.error("Error initiating payment:",N),alert("Failed to initiate payment. Please try again."),h(!1)}};return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[p&&t.jsxs("div",{className:`fixed top-4 right-4 z-50 max-w-md p-4 rounded-lg shadow-lg ${p.type==="success"?"bg-green-500":"bg-red-500"} text-white flex items-center gap-3 animate-slide-in`,children:[p.type==="success"?t.jsx(vt,{size:24}):t.jsx(Qn,{size:24}),t.jsx("p",{className:"font-medium",children:p.message})]}),t.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-blue-900 rounded-3xl p-8 text-white overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full -ml-24 -mb-24"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex justify-between items-start mb-8",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Jt,{className:"text-white/80",size:20}),t.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Available Balance"})]}),t.jsxs("h1",{className:"text-5xl font-bold mb-2",children:["",s.toFixed(2)]}),t.jsxs("p",{className:"text-white/60 text-sm",children:["Last updated: ",new Date().toLocaleDateString()]})]}),t.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-6 py-3 bg-white text-primary rounded-xl hover:bg-white/90 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold",children:[t.jsx(Tr,{size:20}),"Add Money"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[t.jsx("p",{className:"text-white/70 text-xs mb-1",children:"Total Spent"}),t.jsxs("p",{className:"text-2xl font-bold",children:["",n.filter(v=>v.type==="Debit").reduce((v,N)=>v+N.amount,0).toFixed(2)]})]}),t.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[t.jsx("p",{className:"text-white/70 text-xs mb-1",children:"Total Added"}),t.jsxs("p",{className:"text-2xl font-bold",children:["",n.filter(v=>v.type==="Credit").reduce((v,N)=>v+N.amount,0).toFixed(2)]})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("button",{onClick:()=>c(!0),className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow text-left",children:[t.jsx(Tr,{className:"text-green-600 mb-3",size:32}),t.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Add Money"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Top up your wallet"})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx($f,{className:"text-blue-600 mb-3",size:32}),t.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Total Spent"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["",n.filter(v=>v.type==="Debit").reduce((v,N)=>v+N.amount,0).toFixed(2)]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx(Bf,{className:"text-purple-600 mb-3",size:32}),t.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Total Added"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["",n.filter(v=>v.type==="Credit").reduce((v,N)=>v+N.amount,0).toFixed(2)]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow",children:[t.jsx("div",{className:"p-6 border-b",children:t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Transaction History"})}),t.jsx("div",{className:"p-6",children:n.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Xr,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-500",children:"No transactions yet"})]}):t.jsx("div",{className:"space-y-4",children:n.map((v,N)=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`p-3 rounded-lg ${v.type==="Credit"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:v.type==="Credit"?t.jsx(Bf,{size:20}):t.jsx($f,{size:20})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800",children:v.description||(v.type==="Credit"?"Money Added":"Payment")}),t.jsx("p",{className:"text-sm text-gray-500",children:new Date(v.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),v.transactionId&&t.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["ID: ",v.transactionId]})]})]}),t.jsxs("span",{className:`text-lg font-bold ${v.type==="Credit"?"text-green-600":"text-red-600"}`,children:[v.type==="Credit"?"+":"-","",v.amount.toFixed(2)]})]},N))})})]}),d&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Add Money to Wallet"}),t.jsxs("form",{onSubmit:y,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter Amount"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:""}),t.jsx("input",{type:"number",value:u,onChange:v=>m(v.target.value),className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",min:"1",step:"0.01",required:!0})]})]}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:[100,500,1e3,2e3].map(v=>t.jsxs("button",{type:"button",onClick:()=>m(v.toString()),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:["",v]},v))}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>{c(!1),m("")},disabled:x,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:x,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Processing..."]}):"Add Money"})]})]})]})})]})},xSe=()=>{const[e,r]=g.useState([]),[s,a]=g.useState(!0);g.useEffect(()=>{n()},[]);const n=async()=>{try{const l=localStorage.getItem("userToken"),o=await Pt.get("http://localhost:9088/api/user/profile",{headers:{Authorization:`Bearer ${l}`}});r(o.data.user.reviews||[])}catch(l){console.error("Error fetching reviews:",l)}finally{a(!1)}},i=l=>t.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(o=>t.jsx(Vo,{size:16,className:o<=l?"fill-yellow-400 text-yellow-400":"text-gray-300"},o))});return s?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"My Reviews"}),t.jsxs("div",{className:"text-sm text-gray-500",children:["Total Reviews: ",e.length]})]}),e.length===0?t.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[t.jsx(Vo,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No reviews yet"}),t.jsx("p",{className:"text-gray-500",children:"Complete a booking to leave a review"})]}):t.jsx("div",{className:"space-y-4",children:e.map((l,o)=>{var d;return t.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:((d=l.partner)==null?void 0:d.name)||"Service Provider"}),i(l.rating)]}),t.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[t.jsx(ks,{className:"mr-2",size:14}),new Date(l.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]})]}),t.jsx("p",{className:"text-gray-700",children:l.comment}),l.video&&t.jsx("div",{className:"mt-4",children:t.jsx("video",{src:l.video,controls:!0,className:"w-full max-w-md rounded-lg"})})]},o)})})]})},pSe=()=>{const[e,r]=g.useState([]),[s,a]=g.useState(!0);g.useEffect(()=>{n()},[]);const n=async()=>{try{const o=localStorage.getItem("userToken"),d=await Pt.get("http://localhost:9088/api/user/notifications",{headers:{Authorization:`Bearer ${o}`}});r(d.data.notifications||[])}catch(o){console.error("Error fetching notifications:",o)}finally{a(!1)}},i=async o=>{try{const d=localStorage.getItem("userToken");await Pt.put(`http://localhost:9088/api/user/notifications/${o}/read`,{},{headers:{Authorization:`Bearer ${d}`}}),n()}catch(d){console.error("Error marking notification as read:",d)}},l=async o=>{try{const d=localStorage.getItem("userToken");await Pt.delete(`http://localhost:9088/api/user/notifications/${o}`,{headers:{Authorization:`Bearer ${d}`}}),n()}catch(d){console.error("Error deleting notification:",d)}};return s?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Notifications"}),e.filter(o=>!o.seen).length>0&&t.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[e.filter(o=>!o.seen).length," New"]})]}),e.length===0?t.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[t.jsx(Cn,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No notifications"}),t.jsx("p",{className:"text-gray-500",children:"You're all caught up!"})]}):t.jsx("div",{className:"space-y-4",children:e.map(o=>t.jsx("div",{className:`bg-white rounded-lg shadow p-6 ${o.seen?"":"border-l-4 border-blue-600"}`,children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-gray-800 mb-2",children:o.message}),t.jsx("p",{className:"text-sm text-gray-500",children:new Date(o.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{className:"flex gap-2 ml-4",children:[!o.seen&&t.jsx("button",{onClick:()=>i(o._id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Mark as read",children:t.jsx(Sl,{size:18})}),t.jsx("button",{onClick:()=>l(o._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:t.jsx(la,{size:18})})]})]})},o._id))})]})},fSe=()=>{const[e,r]=g.useState({subject:"",message:""}),[s,a]=g.useState(!1),[n,i]=g.useState(!1),[l,o]=g.useState(null),d=async m=>{m.preventDefault(),a(!0);try{const x=localStorage.getItem("userToken");await Pt.post("http://localhost:9088/api/user/contactus",e,{headers:{Authorization:`Bearer ${x}`}}),i(!0),r({subject:"",message:""}),setTimeout(()=>i(!1),5e3)}catch(x){console.error("Error sending message:",x),alert("Failed to send message. Please try again.")}finally{a(!1)}},c=m=>{o(l===m?null:m)},u=[{question:"How do I book a service?",answer:"Browse our services, select the one you need, choose a date and time, and confirm your booking. You can pay using your wallet or other payment methods."},{question:"Can I cancel my booking?",answer:"Yes, you can cancel your booking from the My Bookings section. Cancellation charges may apply based on the timing. Free cancellation is available up to 2 hours before the scheduled time."},{question:"How do I add money to my wallet?",answer:'Go to the Wallet section and click on "Add Money". Choose your payment method (UPI, Card, Net Banking) and complete the transaction securely through PayU gateway.'},{question:"How can I track my service provider?",answer:"Once your booking is confirmed, you can track your service provider in real-time from the booking details page. You'll receive notifications when they're on the way."},{question:"What if I'm not satisfied with the service?",answer:"We have a 100% satisfaction guarantee. If you're not happy with the service, contact our support team within 24 hours and we'll make it right or provide a full refund."},{question:"How do I update my profile information?",answer:"Go to the Profile section from the sidebar menu. You can update your name, email, phone number, and profile picture. Changes are saved automatically."}];return t.jsxs("div",{className:"space-y-8",children:[n&&t.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 animate-slide-in",children:[t.jsx(vt,{size:24}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Message Sent Successfully!"}),t.jsx("p",{className:"text-sm text-green-100",children:"We'll get back to you soon."})]})]}),t.jsxs("div",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-3xl p-8 md:p-12 text-white overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full -ml-24 -mb-24"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:t.jsx(nZ,{size:24})}),t.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"Support & Help Center"})]}),t.jsx("p",{className:"text-blue-100 text-lg max-w-2xl",children:"We're here to help! Get in touch with our support team or find answers to common questions."})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-6 text-center border border-gray-100 hover:border-primary/30 hover:-translate-y-1",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-primary-dark rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:t.jsx(rn,{className:"text-white",size:28})}),t.jsx("h3",{className:"font-bold text-gray-800 mb-2 text-lg",children:"Call Us"}),t.jsx("p",{className:"text-primary font-semibold text-lg mb-2",children:"+91 1800-XXX-XXXX"}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[t.jsx(Xr,{size:14}),t.jsx("span",{children:"Mon-Sat, 9AM-6PM"})]}),t.jsx("button",{className:"mt-4 px-4 py-2 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition-colors text-sm font-medium",children:"Call Now"})]}),t.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-6 text-center border border-gray-100 hover:border-green-200 hover:-translate-y-1",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:t.jsx(tn,{className:"text-white",size:28})}),t.jsx("h3",{className:"font-bold text-gray-800 mb-2 text-lg",children:"Email Us"}),t.jsx("p",{className:"text-green-600 font-semibold mb-2",children:"support@nexo.works"}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[t.jsx(vt,{size:14}),t.jsx("span",{children:"24/7 Support"})]}),t.jsx("button",{className:"mt-4 px-4 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors text-sm font-medium",children:"Send Email"})]}),t.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 p-6 text-center border border-gray-100 hover:border-primary-light/30 hover:-translate-y-1",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-light to-primary rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:t.jsx(t4,{className:"text-white",size:28})}),t.jsx("h3",{className:"font-bold text-gray-800 mb-2 text-lg",children:"Live Chat"}),t.jsx("p",{className:"text-primary-light font-semibold mb-2",children:"Chat with us"}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{children:"Available 24/7"})]}),t.jsx("button",{className:"mt-4 px-4 py-2 bg-primary/10 text-primary-light rounded-lg hover:bg-primary/20 transition-colors text-sm font-medium",children:"Start Chat"})]})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-primary-light/10 p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center",children:t.jsx(Hf,{className:"text-white",size:20})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Send us a Message"}),t.jsx("p",{className:"text-gray-600 text-sm mt-0.5",children:"We typically respond within 24 hours"})]})]})}),t.jsxs("form",{onSubmit:d,className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subject *"}),t.jsx("input",{type:"text",value:e.subject,onChange:m=>r({...e,subject:m.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"What is this about?",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message *"}),t.jsx("textarea",{value:e.message,onChange:m=>r({...e,message:m.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-all resize-none",rows:"6",placeholder:"Describe your issue or question in detail...",required:!0}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Please provide as much detail as possible to help us assist you better."})]}),t.jsx("button",{type:"submit",disabled:s,className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-gradient-to-r from-primary to-primary-light text-white rounded-xl hover:from-primary-dark hover:to-primary disabled:from-gray-400 disabled:to-gray-400 disabled:cursor-not-allowed font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",children:s?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Hf,{size:20}),"Send Message"]})})]})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-primary-light/10 p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center",children:t.jsx(Ih,{className:"text-white",size:20})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Frequently Asked Questions"}),t.jsx("p",{className:"text-gray-600 text-sm mt-0.5",children:"Quick answers to common questions"})]})]})}),t.jsx("div",{className:"p-6 space-y-3",children:u.map((m,x)=>t.jsxs("div",{className:"border-2 border-gray-100 rounded-xl overflow-hidden hover:border-primary/30 transition-all duration-300",children:[t.jsxs("button",{onClick:()=>c(x),className:"w-full flex items-center justify-between p-4 text-left hover:bg-gray-50 transition-colors",children:[t.jsx("h3",{className:"font-semibold text-gray-800 pr-4",children:m.question}),t.jsx("div",{className:`flex-shrink-0 w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center transition-transform duration-300 ${l===x?"rotate-180":""}`,children:t.jsx(rZ,{className:"text-primary",size:20})})]}),t.jsx("div",{className:`overflow-hidden transition-all duration-300 ${l===x?"max-h-96":"max-h-0"}`,children:t.jsx("div",{className:"p-4 pt-0 text-gray-600 bg-gray-50",children:t.jsx("p",{className:"leading-relaxed",children:m.answer})})})]},x))})]}),t.jsx("div",{className:"bg-gradient-to-br from-primary via-primary-dark to-[#152d47] rounded-2xl p-6 text-white shadow-xl",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(vt,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-lg mb-2",children:"Need Immediate Help?"}),t.jsx("p",{className:"text-blue-100 mb-4",children:"For urgent issues, please call our support hotline. We're available 24/7 to assist you with any emergency service needs."}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsx("button",{className:"px-4 py-2 bg-white text-primary rounded-lg hover:bg-blue-50 transition-colors font-medium",children:"Call Support"}),t.jsx("button",{className:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 transition-colors font-medium",children:"View Help Center"})]})]})]})})]})},pE="http://localhost:9088",gSe=()=>{const{user:e}=nn(),r=Zt(),[s]=$0(),[a,n]=g.useState([]),[i,l]=g.useState(null),[o,d]=g.useState(!0),[c,u]=g.useState(null);g.useEffect(()=>{const j=s.get("payment"),w=s.get("reason");j==="success"?(u({type:"success",message:"Subscription activated successfully!"}),window.history.replaceState({},"","/user/subscriptions")):j==="failed"&&(u({type:"error",message:`Payment failed: ${w||"Unknown error"}`}),window.history.replaceState({},"","/user/subscriptions")),m()},[s]);const m=async()=>{try{d(!0);const j=localStorage.getItem("userToken"),w=await Pt.get(`${pE}/api/user/amc-subscriptions`,{headers:{Authorization:`Bearer ${j}`}});w.data.success&&(n(w.data.data.subscriptions||[]),l(w.data.data.activeSubscription||null))}catch(j){console.error("Error fetching AMC subscriptions:",j),u({type:"error",message:"Failed to load AMC subscriptions"})}finally{d(!1)}},x=async j=>{if(window.confirm("Are you sure you want to cancel this AMC subscription?"))try{const w=localStorage.getItem("userToken");(await Pt.put(`${pE}/api/user/amc-subscriptions/${j}/cancel`,{reason:"User requested cancellation"},{headers:{Authorization:`Bearer ${w}`}})).data.success&&(u({type:"success",message:"AMC subscription cancelled successfully"}),m())}catch(w){console.error("Error cancelling AMC subscription:",w),u({type:"error",message:"Failed to cancel AMC subscription"})}},h=j=>{switch(j){case"active":return t.jsx(Ue,{className:"text-green-500"});case"pending":return t.jsx(si,{className:"text-yellow-500"});case"expired":case"cancelled":return t.jsx(Rl,{className:"text-red-500"});default:return null}},p=j=>{switch(j){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"expired":case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=j=>new Date(j).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}),b=(j,w)=>{const y=new Date(j),v=new Date(w),N=Math.abs(v-y),S=Math.ceil(N/(1e3*60*60*24));if(S>=365){const k=Math.floor(S/365);return`${k} ${k>1?"years":"year"}`}else if(S>=30){const k=Math.floor(S/30);return`${k} ${k>1?"months":"month"}`}else return`${S} ${S>1?"days":"day"}`};return o?t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c&&t.jsx(hj,{type:c.type,message:c.message,onClose:()=>u(null)}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My AMC Subscriptions"}),t.jsx("p",{className:"text-gray-600",children:"Manage your Annual Maintenance Contract subscriptions"})]}),i&&t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-primary to-primary-dark rounded-2xl p-6 mb-8 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:i.planName}),t.jsx("p",{className:"text-white/80",children:"Active AMC Plan"})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-3xl font-bold",children:["",i.planPrice]}),t.jsxs("div",{className:"text-white/80",children:["for ",b(i.startDate,i.endDate)]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Zx,{}),t.jsxs("span",{children:["Started: ",f(i.startDate)]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Zx,{}),t.jsxs("span",{children:["Expires: ",f(i.endDate)]})]})]}),i.serviceAddress&&i.serviceAddress.address&&t.jsxs("div",{className:"mb-4 p-3 bg-white/10 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Service Address:"}),t.jsxs("p",{className:"text-sm text-white/90",children:[i.serviceAddress.address,i.serviceAddress.landmark&&`, ${i.serviceAddress.landmark}`,i.serviceAddress.pincode&&` - ${i.serviceAddress.pincode}`]})]}),i.features&&i.features.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Plan Benefits:"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.features.slice(0,4).map((j,w)=>t.jsx("span",{className:"px-2 py-1 bg-white/20 text-white text-xs rounded-full",children:j},w)),i.features.length>4&&t.jsxs("span",{className:"px-2 py-1 bg-white/10 text-white/80 text-xs rounded-full",children:["+",i.features.length-4," more"]})]})]}),t.jsx("button",{onClick:()=>x(i._id),className:"mt-4 bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel AMC Subscription"})]}),!i&&t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-50 rounded-2xl p-8 mb-8 text-center",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Active AMC Subscription"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Subscribe to an AMC plan to enjoy annual maintenance benefits and priority support"}),t.jsx("button",{onClick:()=>r("/"),className:"bg-primary text-white px-6 py-3 rounded-full font-semibold hover:bg-primary-dark transition-colors",children:"Browse AMC Plans"})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"AMC Subscription History"}),a.length===0?t.jsx("div",{className:"text-center py-8 text-gray-500",children:t.jsx("p",{children:"No AMC subscription history found"})}):t.jsx("div",{className:"space-y-4",children:a.map(j=>t.jsx(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:j.planName}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 ${p(j.status)}`,children:[h(j.status),j.status.toUpperCase()]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 text-sm text-gray-600 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Td,{className:"text-primary"}),t.jsxs("span",{children:["",j.planPrice,"/year"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Zx,{className:"text-primary"}),t.jsx("span",{children:f(j.startDate)})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Zx,{className:"text-primary"}),t.jsxs("span",{children:["to ",f(j.endDate)]})]})]}),j.serviceAddress&&j.serviceAddress.address&&t.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Service Address:"}),t.jsxs("p",{className:"text-sm text-gray-600",children:[j.serviceAddress.address,j.serviceAddress.landmark&&`, ${j.serviceAddress.landmark}`,j.serviceAddress.pincode&&` - ${j.serviceAddress.pincode}`]})]}),j.features&&j.features.length>0&&t.jsxs("div",{className:"mt-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Plan Features:"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[j.features.slice(0,3).map((w,y)=>t.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded-full",children:w},y)),j.features.length>3&&t.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",j.features.length-3," more"]})]})]}),t.jsxs("div",{className:"mt-3 flex flex-wrap gap-4 text-xs text-gray-500",children:[j.txnid&&t.jsxs("span",{children:["Transaction ID: ",j.txnid]}),j.mihpayid&&t.jsxs("span",{children:["Payment ID: ",j.mihpayid]})]})]}),j.status==="active"&&t.jsx("button",{onClick:()=>x(j._id),className:"ml-4 text-red-600 hover:text-red-700 font-semibold text-sm",children:"Cancel"})]})},j._id))})]})]})},ySe=()=>t.jsx("div",{className:"user-dashboard",children:t.jsxs(Sy,{children:[t.jsx(tt,{index:!0,element:t.jsx(oSe,{})}),t.jsx(tt,{path:"bookings",element:t.jsx(cSe,{})}),t.jsx(tt,{path:"bookings/:bookingId",element:t.jsx(dSe,{})}),t.jsx(tt,{path:"subscriptions",element:t.jsx(gSe,{})}),t.jsx(tt,{path:"profile",element:t.jsx(uSe,{})}),t.jsx(tt,{path:"addresses",element:t.jsx(mSe,{})}),t.jsx(tt,{path:"wallet",element:t.jsx(hSe,{})}),t.jsx(tt,{path:"reviews",element:t.jsx(xSe,{})}),t.jsx(tt,{path:"notifications",element:t.jsx(pSe,{})}),t.jsx(tt,{path:"support",element:t.jsx(fSe,{})}),t.jsx(tt,{path:"*",element:t.jsx(Cd,{to:"/user/dashboard",replace:!0})})]})}),bSe=()=>{var d,c;const[e,r]=g.useState(!1),s=Zt(),a=$r(),{user:n,logout:i}=nn(),l=[{path:"/user/dashboard",icon:en,label:"Dashboard",color:"blue"},{path:"/user/dashboard/bookings",icon:ks,label:"My Bookings",color:"purple"},{path:"/user/dashboard/subscriptions",icon:xs,label:"Subscriptions",color:"teal"},{path:"/user/dashboard/profile",icon:vr,label:"Profile",color:"green"},{path:"/user/dashboard/addresses",icon:Pr,label:"Addresses",color:"orange"},{path:"/user/dashboard/wallet",icon:xs,label:"Wallet",color:"pink"},{path:"/user/dashboard/reviews",icon:Vo,label:"My Reviews",color:"yellow"},{path:"/user/dashboard/notifications",icon:Cn,label:"Notifications",color:"red"},{path:"/user/dashboard/support",icon:Ih,label:"Support",color:"indigo"}],o=()=>{i(),s("/")};return t.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-slate-50",children:[e&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>r(!1)}),t.jsx("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-50
        w-72 bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 shadow-2xl transform transition-transform duration-300
        ${e?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-primary-dark rounded-xl flex items-center justify-center",children:t.jsx(vr,{className:"text-white",size:20})}),t.jsx("h1",{className:"text-2xl font-bold text-white",children:"Nexo"})]}),t.jsx("button",{onClick:()=>r(!1),className:"lg:hidden text-slate-400 hover:text-white transition-colors",children:t.jsx(xt,{size:24})})]}),t.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:l.map(u=>{const m=u.icon,x=a.pathname===u.path;return t.jsxs("button",{onClick:()=>{s(u.path),r(!1)},className:`
                    w-full flex items-center gap-3 px-4 py-3.5 rounded-xl
                    transition-all duration-200 group relative overflow-hidden
                    ${x?"bg-gradient-to-r from-primary to-primary-dark text-white shadow-lg shadow-primary/50":"text-slate-300 hover:bg-white/5 hover:text-white"}
                  `,children:[x&&t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-transparent animate-pulse"}),t.jsx(m,{size:20,className:"relative z-10"}),t.jsx("span",{className:"font-medium relative z-10",children:u.label}),x&&t.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full relative z-10"})]},u.path)})}),t.jsxs("div",{className:"p-4 border-t border-white/10",children:[t.jsx("div",{className:"bg-white/5 rounded-xl p-4 mb-3",children:t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary-dark rounded-full flex items-center justify-center overflow-hidden ring-2 ring-white/20 shadow-lg",children:n!=null&&n.profilePicture?t.jsx("img",{src:n.profilePicture,alt:n.name||"User",className:"w-full h-full object-cover"}):t.jsx(vr,{className:"text-white",size:20})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-white font-semibold text-sm truncate",children:(n==null?void 0:n.name)||"Welcome!"}),t.jsx("p",{className:"text-slate-400 text-xs truncate",children:(n==null?void 0:n.email)||(n==null?void 0:n.phone)||"User Dashboard"})]})]})}),t.jsxs("button",{onClick:o,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl\r
                bg-red-500/10 text-red-400 hover:bg-red-500/20 hover:text-red-300\r
                transition-all duration-200 font-medium`,children:[t.jsx(Ho,{size:18}),t.jsx("span",{children:"Logout"})]})]})]})}),t.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx("header",{className:"bg-white/80 backdrop-blur-xl shadow-sm z-10 border-b border-slate-200",children:t.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[t.jsx("button",{onClick:()=>r(!0),className:"lg:hidden p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(zy,{size:24})}),t.jsxs("div",{className:"flex-1 lg:ml-0 ml-4",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:((d=l.find(u=>u.path===a.pathname))==null?void 0:d.label)||"Dashboard"}),t.jsx("p",{className:"text-sm text-slate-600 mt-0.5",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:()=>s("/user/dashboard/notifications"),className:"relative p-3 text-slate-600 hover:text-primary rounded-xl hover:bg-primary/10 transition-all duration-200",children:[t.jsx(Cn,{size:22}),t.jsx("span",{className:"absolute top-2 right-2 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white animate-pulse"})]}),t.jsxs("button",{onClick:()=>s("/user/dashboard/profile"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl hover:shadow-lg hover:shadow-primary/30 transition-all duration-200",children:[t.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center overflow-hidden",children:n!=null&&n.profilePicture?t.jsx("img",{src:n.profilePicture,alt:n.name||"User",className:"w-full h-full object-cover"}):t.jsx(vr,{size:14})}),t.jsx("span",{className:"hidden sm:inline font-medium",children:((c=n==null?void 0:n.name)==null?void 0:c.split(" ")[0])||"Profile"})]})]})]})}),t.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsx(Ql,{})})})]})]})},vSe=()=>localStorage.getItem("userToken")?t.jsx(Ql,{}):t.jsx(Cd,{to:"/",replace:!0}),fE=()=>{const e=Zt(),{checkAuth:r}=nn(),[s,a]=g.useState("otp"),[n,i]=g.useState(1),[l,o]=g.useState({phone:"",otp:"",email:"",password:""}),[d,c]=g.useState(!1),[u,m]=g.useState(null),[x,h]=g.useState(0),[p,f]=g.useState(null);_t.useEffect(()=>{let N=null;return x>0&&(N=setInterval(()=>{h(S=>S-1)},1e3)),()=>{N&&clearInterval(N)}},[x]);const b=async N=>{if(N.preventDefault(),m(null),!l.phone||l.phone.length!==10){m("Please enter a valid 10-digit phone number");return}c(!0);try{console.log("Sending login OTP to:",l.phone);const S=await ti.sendLoginOTP(l.phone);console.log("OTP Response:",S),S.success?(S.otp&&f(S.otp),i(2),h(60)):m(S.message||"Failed to send OTP")}catch(S){console.error("OTP Error:",S),m(S.message||"Failed to connect to server. Please check if backend is running.")}finally{c(!1)}},j=async()=>{if(!(x>0)){c(!0),m(null);try{const N=await ti.sendLoginOTP(l.phone);N.success?(N.otp&&f(N.otp),h(60)):m(N.message||"Failed to resend OTP")}catch(N){m(N.message||"Failed to resend OTP")}finally{c(!1)}}},w=async N=>{if(N.preventDefault(),m(null),!l.otp||l.otp.length!==6){m("Please enter a valid 6-digit OTP");return}c(!0);try{const S=await ti.verifyOTP(l.phone,l.otp);S.token?(localStorage.setItem("userToken",S.token),await r(),e("/user/dashboard",{replace:!0})):m("Invalid OTP. Please try again.")}catch(S){m(S.message||"Invalid OTP. Please try again.")}finally{c(!1)}},y=async N=>{N.preventDefault(),m(null),c(!0);try{const S=await ti.loginWithPassword(l.email,l.password);console.log("Login response:",S),S.success&&S.user&&S.user.token?(localStorage.setItem("userToken",S.user.token),await r(),e("/user/dashboard",{replace:!0})):m("Invalid credentials")}catch(S){console.error("Login error:",S),m(S.message||"Invalid credentials. Please try again.")}finally{c(!1)}},v=N=>{const{name:S,value:k}=N.target;o(S==="phone"||S==="otp"?P=>({...P,[S]:k.replace(/\D/g,"").slice(0,S==="otp"?6:10)}):P=>({...P,[S]:k})),m(null)};return t.jsxs("div",{className:"min-h-screen relative bg-gradient-to-br from-primary via-primary-dark to-slate-900 flex items-center justify-center px-4 py-10 overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx(E.div,{className:"absolute -top-40 -left-40 w-80 h-80 bg-blue-500/30 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,50,0],y:[0,30,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute top-1/4 -right-40 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl",animate:{scale:[1,1.3,1],x:[0,-30,0],y:[0,50,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1}}),t.jsx(E.div,{className:"absolute -bottom-40 left-1/3 w-96 h-96 bg-cyan-500/20 rounded-full blur-3xl",animate:{scale:[1,1.4,1],x:[0,40,0],y:[0,-40,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:2}}),[...Array(20)].map((N,S)=>t.jsx(E.div,{className:"absolute rounded-full bg-white/20",style:{width:`${Math.random()*6+2}px`,height:`${Math.random()*6+2}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-100,0],x:[0,Math.random()*50-25,0],opacity:[.2,.8,.2]},transition:{duration:Math.random()*5+5,repeat:1/0,ease:"easeInOut",delay:Math.random()*2}},S)),t.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)
            `,backgroundSize:"50px 50px"}}),[...Array(5)].map((N,S)=>t.jsx(E.div,{className:"absolute h-px bg-gradient-to-r from-transparent via-white/30 to-transparent",style:{width:"100%",top:`${20+S*20}%`},animate:{x:["-100%","100%"],opacity:[0,1,0]},transition:{duration:3+S,repeat:1/0,ease:"linear",delay:S*.5}},`line-${S}`))]}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md relative z-10",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary-dark rounded-2xl mb-4 shadow-lg",children:t.jsx(vr,{className:"text-2xl text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2 drop-shadow-lg",children:"User Login"}),t.jsx("p",{className:"text-white/90 font-medium",children:"Welcome back! Please login to continue"})]}),u&&t.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-xl text-red-200 text-sm",children:u}),t.jsxs("div",{className:"flex gap-2 mb-6 bg-white/10 backdrop-blur-sm p-1.5 rounded-xl border border-white/20",children:[t.jsx("button",{onClick:()=>{a("otp"),i(1),m(null)},className:`flex-1 py-2.5 rounded-lg font-semibold transition-all ${s==="otp"?"bg-gradient-to-r from-primary to-primary-dark text-white shadow-lg shadow-primary/50":"text-white/80 hover:text-white hover:bg-white/5"}`,children:"Login with OTP"}),t.jsx("button",{onClick:()=>{a("password"),i(1),m(null)},className:`flex-1 py-2.5 rounded-lg font-semibold transition-all ${s==="password"?"bg-gradient-to-r from-primary to-primary-dark text-white shadow-lg shadow-primary/50":"text-white/80 hover:text-white hover:bg-white/5"}`,children:"Login with Password"})]}),s==="otp"&&n===1&&t.jsxs("form",{onSubmit:b,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Phone Number"}),t.jsxs("div",{className:"relative",children:[t.jsx(rn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:v,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0,disabled:d})]})]}),t.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Sending OTP..."]}):t.jsxs(t.Fragment,{children:["Send OTP",t.jsx(us,{})]})})]}),s==="otp"&&n===2&&t.jsxs("form",{onSubmit:w,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Enter OTP"}),t.jsxs("div",{className:"relative",children:[t.jsx(Os,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"text",name:"otp",value:l.otp,onChange:v,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15 text-center text-2xl tracking-widest font-bold",placeholder:"000000",maxLength:6,required:!0,disabled:d,autoFocus:!0})]}),t.jsxs("p",{className:"mt-2 text-sm text-white/80 text-center font-medium",children:["OTP sent to +91 ",l.phone]}),p&&t.jsxs("div",{className:"mt-3 p-3 bg-green-500/20 border border-green-500/50 rounded-xl",children:[t.jsx("p",{className:"text-xs text-white/70 text-center mb-1",children:"Testing OTP:"}),t.jsx("p",{className:"text-2xl font-bold text-white text-center tracking-widest",children:p})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("button",{type:"button",onClick:()=>{i(1),o(N=>({...N,otp:""})),h(0)},className:"text-white/90 hover:text-white transition font-medium",children:" Change Number"}),t.jsx("button",{type:"button",onClick:j,disabled:x>0||d,className:"text-white font-semibold hover:text-white/80 transition disabled:opacity-50 disabled:cursor-not-allowed",children:x>0?`Resend in ${x}s`:"Resend OTP"})]}),t.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Verifying..."]}):t.jsxs(t.Fragment,{children:["Login",t.jsx(us,{})]})})]}),s==="password"&&t.jsxs("form",{onSubmit:y,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(tn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"email",name:"email",value:l.email,onChange:v,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter your email",required:!0,disabled:d})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Os,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"password",name:"password",value:l.password,onChange:v,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter your password",required:!0,disabled:d})]})]}),t.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Logging in..."]}):t.jsxs(t.Fragment,{children:["Login",t.jsx(us,{})]})})]}),t.jsxs("div",{className:"mt-8 text-center space-y-3",children:[t.jsxs("p",{className:"text-sm text-white/90 font-medium",children:["Don't have an account?"," ",t.jsx("button",{onClick:()=>e("/user/register"),className:"text-white font-bold hover:underline transition",children:"Sign Up"})]}),t.jsx("button",{onClick:()=>e("/"),className:"text-sm text-white/80 hover:text-white transition font-medium",children:" Back to Home"})]})]})})]})},jSe=()=>{const e=Zt(),{checkAuth:r}=nn(),[s,a]=g.useState(1),[n,i]=g.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",otp:"",referalCode:"",userType:"home",companyName:"",companySize:"",industry:"",gstNumber:"",contactPerson:"",designation:""}),[l,o]=g.useState(!1),[d,c]=g.useState(null),[u,m]=g.useState(0),[x,h]=g.useState(null);_t.useEffect(()=>{let w=null;return u>0&&(w=setInterval(()=>{m(y=>y-1)},1e3)),()=>{w&&clearInterval(w)}},[u]);const p=w=>{const{name:y,value:v}=w.target;i(y==="phone"?N=>({...N,[y]:v.replace(/\D/g,"").slice(0,10)}):y==="otp"?N=>({...N,[y]:v.replace(/\D/g,"").slice(0,6)}):N=>({...N,[y]:v})),c(null)},f=async w=>{if(w.preventDefault(),c(null),!n.name||!n.email||!n.phone||!n.password){c("Please fill in all required fields");return}if(n.userType==="company"&&(!n.companyName||!n.contactPerson)){c("Company name and contact person are required for company registration");return}if(n.phone.length!==10){c("Please enter a valid 10-digit phone number");return}if(n.password.length<6){c("Password must be at least 6 characters");return}if(n.password!==n.confirmPassword){c("Passwords do not match");return}o(!0);try{console.log("Sending OTP to:",n.phone);const y=await ti.sendOTP(n.phone);console.log("OTP Response:",y),y.success?(y.otp&&h(y.otp),a(2),m(60)):c(y.message||"Failed to send OTP")}catch(y){console.error("Registration Error:",y),c(y.message||"Failed to connect to server. Please check if backend is running on port 9000.")}finally{o(!1)}},b=async()=>{if(!(u>0)){o(!0),c(null);try{const w=await ti.sendOTP(n.phone);w.success?(w.otp&&h(w.otp),m(60)):c(w.message||"Failed to resend OTP")}catch(w){c(w.message||"Failed to resend OTP")}finally{o(!1)}}},j=async w=>{if(w.preventDefault(),c(null),!n.otp||n.otp.length!==6){c("Please enter a valid 6-digit OTP");return}o(!0);try{const y=await ti.verifyOTP(n.phone,n.otp);if(y.success||y.token){const v={name:n.name,email:n.email,phone:n.phone,password:n.password,confirmPassword:n.confirmPassword,referalCode:n.referalCode,userType:n.userType,...n.userType==="company"&&{companyDetails:{companyName:n.companyName,companySize:n.companySize,industry:n.industry,gstNumber:n.gstNumber,contactPerson:n.contactPerson,designation:n.designation}}},N=await ti.register(v);N.token?(localStorage.setItem("userToken",N.token),await r(),e("/user/dashboard",{replace:!0})):y.token?(localStorage.setItem("userToken",y.token),await r(),e("/user/dashboard",{replace:!0})):(c("Registration completed but login failed. Please login manually."),setTimeout(()=>e("/user/login"),2e3))}else c("Invalid OTP. Please try again.")}catch(y){console.error("Registration error:",y),c(y.message||"Verification failed. Please try again.")}finally{o(!1)}};return t.jsxs("div",{className:"min-h-screen relative bg-gradient-to-br from-primary via-primary-dark to-slate-900 flex items-center justify-center px-4 py-10 overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx(E.div,{className:"absolute -top-40 -left-40 w-80 h-80 bg-blue-500/30 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,50,0],y:[0,30,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute top-1/4 -right-40 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl",animate:{scale:[1,1.3,1],x:[0,-30,0],y:[0,50,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1}}),t.jsx(E.div,{className:"absolute -bottom-40 left-1/3 w-96 h-96 bg-cyan-500/20 rounded-full blur-3xl",animate:{scale:[1,1.4,1],x:[0,40,0],y:[0,-40,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:2}}),[...Array(20)].map((w,y)=>t.jsx(E.div,{className:"absolute rounded-full bg-white/20",style:{width:`${Math.random()*6+2}px`,height:`${Math.random()*6+2}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-100,0],x:[0,Math.random()*50-25,0],opacity:[.2,.8,.2]},transition:{duration:Math.random()*5+5,repeat:1/0,ease:"easeInOut",delay:Math.random()*2}},y)),t.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)
            `,backgroundSize:"50px 50px"}}),[...Array(5)].map((w,y)=>t.jsx(E.div,{className:"absolute h-px bg-gradient-to-r from-transparent via-white/30 to-transparent",style:{width:"100%",top:`${20+y*20}%`},animate:{x:["-100%","100%"],opacity:[0,1,0]},transition:{duration:3+y,repeat:1/0,ease:"linear",delay:y*.5}},`line-${y}`))]}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md relative z-10",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-primary-dark rounded-2xl mb-4 shadow-lg",children:t.jsx(vr,{className:"text-2xl text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2 drop-shadow-lg",children:"Create Account"}),t.jsx("p",{className:"text-white/90 font-medium",children:"Join Nexo and book services easily"})]}),t.jsxs("div",{className:"flex items-center justify-center mb-6 gap-2",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${s>=1?"bg-primary text-white":"bg-white/20 text-slate-400"}`,children:s>1?t.jsx(Sl,{size:16}):"1"}),t.jsx("div",{className:`w-16 h-1 ${s>=2?"bg-primary":"bg-white/20"}`}),t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${s>=2?"bg-primary text-white":"bg-white/20 text-slate-400"}`,children:"2"})]}),d&&t.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-xl text-red-200 text-sm",children:d}),s===1&&t.jsxs("form",{onSubmit:f,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-3",children:"I am registering as *"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"home",label:"Home",icon:en,desc:"Personal use"},{value:"pg",label:"PG/Hostel",icon:Lr,desc:"Paying guest"},{value:"company",label:"Company",icon:is,desc:"Business use"},{value:"other",label:"Other",icon:tD,desc:"Other purpose"}].map(w=>{const y=w.icon;return t.jsxs("button",{type:"button",onClick:()=>i(v=>({...v,userType:w.value})),className:`p-3 rounded-xl border-2 transition-all text-left ${n.userType===w.value?"border-primary bg-primary/20 text-white":"border-white/30 bg-white/5 text-white/80 hover:border-white/50 hover:bg-white/10"}`,disabled:l,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(y,{className:"text-lg"}),t.jsx("span",{className:"font-semibold text-sm",children:w.label})]}),t.jsx("p",{className:"text-xs opacity-80",children:w.desc})]},w.value)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Full Name *"}),t.jsxs("div",{className:"relative",children:[t.jsx(vr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"text",name:"name",value:n.name,onChange:p,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter your full name",required:!0,disabled:l})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Email Address *"}),t.jsxs("div",{className:"relative",children:[t.jsx(tn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"email",name:"email",value:n.email,onChange:p,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter your email",required:!0,disabled:l})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Phone Number *"}),t.jsxs("div",{className:"relative",children:[t.jsx(rn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:p,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0,disabled:l})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Password *"}),t.jsxs("div",{className:"relative",children:[t.jsx(Os,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"password",name:"password",value:n.password,onChange:p,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Create a password (min 6 characters)",required:!0,disabled:l})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Confirm Password *"}),t.jsxs("div",{className:"relative",children:[t.jsx(Os,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:p,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Confirm your password",required:!0,disabled:l})]})]}),n.userType==="company"&&t.jsxs(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4 border-t border-white/20 pt-4",children:[t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-sm font-semibold text-white/90 mb-3",children:"Company Details"})}),t.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Company Name *"}),t.jsx("input",{type:"text",name:"companyName",value:n.companyName,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter company name",required:n.userType==="company",disabled:l})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Contact Person *"}),t.jsx("input",{type:"text",name:"contactPerson",value:n.contactPerson,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Contact person name",required:n.userType==="company",disabled:l})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Company Size"}),t.jsxs("select",{name:"companySize",value:n.companySize,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",disabled:l,children:[t.jsx("option",{value:"",className:"bg-gray-800",children:"Select size"}),t.jsx("option",{value:"small",className:"bg-gray-800",children:"Small (1-50)"}),t.jsx("option",{value:"medium",className:"bg-gray-800",children:"Medium (51-200)"}),t.jsx("option",{value:"large",className:"bg-gray-800",children:"Large (201-1000)"}),t.jsx("option",{value:"enterprise",className:"bg-gray-800",children:"Enterprise (1000+)"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Designation"}),t.jsx("input",{type:"text",name:"designation",value:n.designation,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Your designation",disabled:l})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Industry"}),t.jsx("input",{type:"text",name:"industry",value:n.industry,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"e.g., IT, Manufacturing, Healthcare",disabled:l})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"GST Number (Optional)"}),t.jsx("input",{type:"text",name:"gstNumber",value:n.gstNumber,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"GST registration number",disabled:l})]})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Referral Code (Optional)"}),t.jsx("input",{type:"text",name:"referalCode",value:n.referalCode,onChange:p,className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15",placeholder:"Enter referral code if you have one",disabled:l})]}),t.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Processing..."]}):t.jsxs(t.Fragment,{children:["Continue",t.jsx(us,{})]})})]}),s===2&&t.jsxs("form",{onSubmit:j,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-white mb-2",children:"Enter OTP"}),t.jsxs("div",{className:"relative",children:[t.jsx(Os,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),t.jsx("input",{type:"text",name:"otp",value:n.otp,onChange:p,className:"w-full pl-12 pr-4 py-3 bg-white/10 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 focus:bg-white/15 text-center text-2xl tracking-widest font-bold",placeholder:"000000",maxLength:6,required:!0,disabled:l,autoFocus:!0})]}),t.jsxs("p",{className:"mt-2 text-sm text-white/80 text-center font-medium",children:["OTP sent to +91 ",n.phone]}),x&&t.jsxs("div",{className:"mt-3 p-3 bg-green-500/20 border border-green-500/50 rounded-xl",children:[t.jsx("p",{className:"text-xs text-white/70 text-center mb-1",children:"Testing OTP:"}),t.jsx("p",{className:"text-2xl font-bold text-white text-center tracking-widest",children:x})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("button",{type:"button",onClick:()=>{a(1),i(w=>({...w,otp:""})),m(0)},className:"text-white/90 hover:text-white transition font-medium",children:" Back"}),t.jsx("button",{type:"button",onClick:b,disabled:u>0||l,className:"text-white font-semibold hover:text-white/80 transition disabled:opacity-50 disabled:cursor-not-allowed",children:u>0?`Resend in ${u}s`:"Resend OTP"})]}),t.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?t.jsxs(t.Fragment,{children:[t.jsx(Dt,{className:"animate-spin"}),"Verifying..."]}):t.jsxs(t.Fragment,{children:["Complete Registration",t.jsx(Sl,{})]})})]}),t.jsxs("div",{className:"mt-8 text-center space-y-3",children:[t.jsxs("p",{className:"text-sm text-white/90 font-medium",children:["Already have an account?"," ",t.jsx("button",{onClick:()=>e("/user/login"),className:"text-white font-bold hover:underline transition",children:"Login"})]}),t.jsx("button",{onClick:()=>e("/"),className:"text-sm text-white/80 hover:text-white transition font-medium",children:" Back to Home"})]})]})})]})},gE=()=>{const[e]=$0(),r=Zt(),[s,a]=g.useState(!0),n=e.get("status"),i=e.get("txnid"),l=e.get("payid"),o=e.get("reason"),d=e.get("type");g.useEffect(()=>{const x=setTimeout(()=>{a(!1)},1500);return()=>clearTimeout(x)},[]);const c=()=>{r("/")},u=()=>{r(d==="subscription"?"/user/dashboard/subscriptions":"/user/dashboard/bookings")},m=()=>{const x=`Hi! I need help with my payment. Transaction ID: ${i||"N/A"}. Status: ${n}. ${o?`Reason: ${o}`:""}`,p=`https://wa.me/919590926068?text=${encodeURIComponent(x)}`;window.open(p,"_blank")};return s?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[t.jsx(ss,{className:"w-16 h-16 text-primary animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-xl text-gray-600",children:"Processing payment result..."})]})}):t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-8 text-center",children:n==="success"?t.jsxs(t.Fragment,{children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Ue,{className:"w-12 h-12 text-green-600"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),t.jsx("p",{className:"text-gray-600 mb-6",children:d==="subscription"?"Your subscription has been activated successfully. You will receive a confirmation shortly.":"Your payment has been processed successfully. You will receive a confirmation shortly."}),i&&t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Transaction ID"}),t.jsx("p",{className:"font-mono text-sm font-semibold text-gray-900",children:i}),l&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm text-gray-600 mb-1 mt-2",children:"Payment ID"}),t.jsx("p",{className:"font-mono text-sm font-semibold text-gray-900",children:l})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(E.button,{onClick:u,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-primary text-white py-3 rounded-xl font-semibold hover:bg-primary-dark transition-all flex items-center justify-center gap-2",children:[t.jsx(kX,{}),d==="subscription"?"View My Subscriptions":"View My Bookings"]}),t.jsxs(E.button,{onClick:c,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gray-100 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-200 transition-all flex items-center justify-center gap-2",children:[t.jsx(Ff,{}),"Go to Home"]})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Rl,{className:"w-12 h-12 text-red-600"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Failed"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Unfortunately, your payment could not be processed."}),o&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[t.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Reason:"}),t.jsx("p",{className:"text-sm text-red-700 mt-1",children:o})]}),i&&t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Transaction ID"}),t.jsx("p",{className:"font-mono text-sm font-semibold text-gray-900",children:i})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(E.button,{onClick:m,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-[#25D366] text-white py-3 rounded-xl font-semibold hover:bg-[#20BA5A] transition-all flex items-center justify-center gap-2",children:[t.jsx(Er,{}),"Contact Support"]}),t.jsxs(E.button,{onClick:c,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gray-100 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-200 transition-all flex items-center justify-center gap-2",children:[t.jsx(Ff,{}),"Go to Home"]})]})]})})})},wSe=()=>{const{isAuthenticated:e,user:r}=nn(),s=Zt(),[a,n]=g.useState(!1),i=d=>{console.log("Payment successful:",d),alert("Payment successful! Check console for details."),n(!1)},l=d=>{console.error("Payment failed:",d),alert("Payment failed! Check console for details."),n(!1)},o=()=>{n(!1)};return e?t.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Gateway Test"}),t.jsx("p",{className:"text-gray-600",children:"Test the PayU payment integration"})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"User Information"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Name:"})," ",(r==null?void 0:r.name)||"N/A"]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Email:"})," ",(r==null?void 0:r.email)||"N/A"]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"Phone:"})," ",(r==null?void 0:r.phone)||"N/A"]}),t.jsxs("p",{children:[t.jsx("span",{className:"font-semibold",children:"User Type:"})," ",(r==null?void 0:r.userType)||"home"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Test Payments"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("button",{onClick:()=>n(!0),className:"w-full bg-primary text-white py-3 rounded-lg font-semibold hover:bg-primary-dark transition",children:"Test Payment - 100"}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsx("p",{className:"font-semibold mb-2",children:"Test Instructions:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[t.jsx("li",{children:"Click the button above to open payment gateway"}),t.jsx("li",{children:"You'll be redirected to PayU test environment"}),t.jsx("li",{children:"Use test card details provided by PayU"}),t.jsx("li",{children:"After payment, you'll be redirected back"})]})]})]})]})]}),a&&t.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsx("div",{className:"max-w-md w-full",children:t.jsx(QN,{amount:100,orderData:{productinfo:"Test Payment - PayU Integration",userId:(r==null?void 0:r._id)||(r==null?void 0:r.userId)},onSuccess:i,onFailure:l,onCancel:o,title:"Test Payment",description:"Testing PayU payment integration"})})})]})}):t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please Login"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to test payments."}),t.jsx("button",{onClick:()=>s("/user/login"),className:"bg-primary text-white px-6 py-3 rounded-lg font-semibold hover:bg-primary-dark transition",children:"Go to Login"})]})})};function NSe(){return t.jsx(DX,{children:t.jsxs(kW,{children:[t.jsx(MX,{}),t.jsx(nSe,{}),t.jsxs(Sy,{children:[t.jsxs(tt,{element:t.jsx(ZQ,{}),children:[t.jsx(tt,{path:"/",element:t.jsx(TQ,{})}),t.jsx(tt,{path:"/service/:serviceName",element:t.jsx(IQ,{})}),t.jsx(tt,{path:"/service/:serviceName/checkout",element:t.jsx(_Q,{})}),t.jsx(tt,{path:"/payment/success",element:t.jsx(OQ,{})}),t.jsx(tt,{path:"/payment/failure",element:t.jsx(DQ,{})}),t.jsx(tt,{path:"/payment",element:t.jsx(gE,{})}),t.jsx(tt,{path:"/payment-result",element:t.jsx(gE,{})}),t.jsx(tt,{path:"/test-payment",element:t.jsx(wSe,{})}),t.jsx(tt,{path:"/partner",element:t.jsx(MQ,{})}),t.jsx(tt,{path:"/leads",element:t.jsx(LQ,{})}),t.jsx(tt,{path:"/materials",element:t.jsx(FQ,{})}),t.jsx(tt,{path:"/emergency",element:t.jsx(RQ,{})}),t.jsx(tt,{path:"/amc",element:t.jsx($Q,{})}),t.jsx(tt,{path:"/brand-partnerships",element:t.jsx(zQ,{})}),t.jsx(tt,{path:"/partner/onboard",element:t.jsx(WC,{})}),t.jsx(tt,{path:"/partner-onboarding",element:t.jsx(WC,{})}),t.jsx(tt,{path:"/partner-terms",element:t.jsx(WQ,{})}),t.jsx(tt,{path:"/terms",element:t.jsx(GQ,{})}),t.jsx(tt,{path:"/privacy",element:t.jsx(qQ,{})}),t.jsx(tt,{path:"/refund-policy",element:t.jsx(KQ,{})}),t.jsx(tt,{path:"/partner-refund-policy",element:t.jsx(YQ,{})}),t.jsx(tt,{path:"/verify/partner/:partnerId",element:t.jsx(sSe,{})})]}),t.jsx(tt,{path:"/admin",element:t.jsx(sse,{})}),t.jsx(tt,{path:"/partner/login",element:t.jsx(A5e,{})}),t.jsx(tt,{path:"/vendor/login",element:t.jsx(q5e,{})}),t.jsx(tt,{path:"/user/login",element:t.jsx(fE,{})}),t.jsx(tt,{path:"/user-login",element:t.jsx(fE,{})}),t.jsx(tt,{path:"/user/register",element:t.jsx(jSe,{})}),t.jsx(tt,{element:t.jsx(nse,{}),children:t.jsxs(tt,{element:t.jsx(ase,{}),children:[t.jsx(tt,{path:"/admin/dashboard",element:t.jsx(Hve,{})}),t.jsx(tt,{path:"/admin/partners",element:t.jsx(M6e,{})}),t.jsx(tt,{path:"/admin/partners/manual-register",element:t.jsx(q6e,{})}),t.jsx(tt,{path:"/admin/partners/:partnerId",element:t.jsx(G6e,{})}),t.jsx(tt,{path:"/admin/vendors",element:t.jsx(Y6e,{})}),t.jsx(tt,{path:"/admin/vendors/:vendorId",element:t.jsx(X6e,{})}),t.jsx(tt,{path:"/admin/customers",element:t.jsx(J6e,{})}),t.jsx(tt,{path:"/admin/customer-bookings",element:t.jsx(Q6e,{})}),t.jsx(tt,{path:"/admin/spares",element:t.jsx(t5e,{})}),t.jsx(tt,{path:"/admin/amc",element:t.jsx(r5e,{})}),t.jsx(tt,{path:"/admin/cities",element:t.jsx(s5e,{})}),t.jsx(tt,{path:"/admin/leads",element:t.jsx(a5e,{})}),t.jsx(tt,{path:"/admin/reports",element:t.jsx(i5e,{})}),t.jsx(tt,{path:"/admin/notifications",element:t.jsx(u5e,{})}),t.jsx(tt,{path:"/admin/notification-templates",element:t.jsx(d5e,{})}),t.jsx(tt,{path:"/admin/refunds",element:t.jsx(p5e,{})}),t.jsx(tt,{path:"/admin/mg-plans",element:t.jsx(f5e,{})}),t.jsx(tt,{path:"/admin/fees",element:t.jsx(g5e,{})}),t.jsx(tt,{path:"/admin/fee-transactions",element:t.jsx(y5e,{})}),t.jsx(tt,{path:"/admin/categories",element:t.jsx(v5e,{})}),t.jsx(tt,{path:"/admin/hubs",element:t.jsx(j5e,{})}),t.jsx(tt,{path:"/admin/popular-services",element:t.jsx(w5e,{})}),t.jsx(tt,{path:"/admin/amc-plans",element:t.jsx(S5e,{})}),t.jsx(tt,{path:"/admin/featured-reviews",element:t.jsx(N5e,{})}),t.jsx(tt,{path:"/admin/whatsapp-settings",element:t.jsx(k5e,{})})]})}),t.jsx(tt,{element:t.jsx(V5e,{}),children:t.jsx(tt,{element:t.jsx(H5e,{}),children:t.jsx(tt,{path:"/partner/dashboard/*",element:t.jsx(U5e,{})})})}),t.jsx(tt,{element:t.jsx(rSe,{}),children:t.jsx(tt,{element:t.jsx(tSe,{}),children:t.jsx(tt,{path:"/vendor/dashboard/*",element:t.jsx(eSe,{})})})}),t.jsx(tt,{element:t.jsx(vSe,{}),children:t.jsx(tt,{element:t.jsx(bSe,{}),children:t.jsx(tt,{path:"/user/dashboard/*",element:t.jsx(ySe,{})})})}),t.jsx(tt,{path:"*",element:t.jsx(aSe,{})})]})]})})}const SSe=()=>{const[e,r]=g.useState(!0),[s,a]=g.useState(0),[n]=g.useState(()=>{const c=Array.from({length:20},(x,h)=>({size:h<5?Math.random()*20+15:Math.random()*60+30,duration:Math.random()*8+6,delay:Math.random()*2,startX:Math.random()*100,startY:Math.random()*100,opacity:Math.random()*.3+.2,isVisible:h<5,x1:Math.random()*200-100,x2:Math.random()*200-100,x3:Math.random()*200-100,x4:Math.random()*200-100,y1:Math.random()*200-100,y2:Math.random()*200-100,y3:Math.random()*200-100,y4:Math.random()*200-100,scale1:Math.random()*.5+1.2,scale2:Math.random()*.5+.8})),u=Array.from({length:12},(x,h)=>({size:Math.random()*100+80,duration:Math.random()*10+8,delay:Math.random()*2.5,startX:Math.random()*100,startY:Math.random()*100,opacity:Math.random()*.25+.15,isVisible:h<4,x1:Math.random()*250-125,x2:Math.random()*250-125,x3:Math.random()*250-125,x4:Math.random()*250-125,y1:Math.random()*250-125,y2:Math.random()*250-125,y3:Math.random()*250-125,y4:Math.random()*250-125,scale1:Math.random()*.5+1.25,scale2:Math.random()*.5+.75})),m=Array.from({length:8},()=>({size:Math.random()*150+100,duration:Math.random()*12+10,delay:Math.random()*3,startX:Math.random()*100,startY:Math.random()*100,opacity:Math.random()*.2+.1,isVisible:!1,x1:Math.random()*300-150,x2:Math.random()*300-150,x3:Math.random()*300-150,y1:Math.random()*300-150,y2:Math.random()*300-150,y3:Math.random()*300-150,scale1:Math.random()*.4+1.3,scale2:Math.random()*.4+.7}));return{smallBalls:c,mediumBalls:u,largeBalls:m}});g.useEffect(()=>{let c="normal";if("connection"in navigator){const y=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(y){const v=y.effectiveType;v==="slow-2g"||v==="2g"?c="slow":v==="3g"&&(c="medium")}}let u,m,x;const h=c==="slow"?8e3:c==="medium"?6e3:5e3,p=c==="slow"?2e3:1500,f=c==="slow"?5:c==="medium"?10:15;u=setInterval(()=>{a(y=>y>=90?(clearInterval(u),90):Math.min(y+Math.random()*f,90))},c==="slow"?300:c==="medium"?250:200);const j=()=>{const y=document.querySelectorAll("img"),v=y.length;let N=0;return v===0?!0:(y.forEach(S=>{S.complete?N++:(S.addEventListener("load",()=>{N++,N===v&&a(95)}),S.addEventListener("error",()=>{N++,N===v&&a(95)}))}),N===v)},w=()=>{x=setTimeout(()=>{a(100),setTimeout(()=>{r(!1)},500)},p)};return document.readyState==="complete"?j()?w():setTimeout(()=>{w()},500):window.addEventListener("load",()=>{setTimeout(()=>{w()},300)}),m=setTimeout(()=>{clearInterval(u),a(100),setTimeout(()=>{r(!1)},500)},h),()=>{u&&clearInterval(u),m&&clearTimeout(m),x&&clearTimeout(x),window.removeEventListener("load",w)}},[]);const i={initial:{scale:.8,opacity:0},animate:{scale:[.8,1.1,1],opacity:1,rotate:[0,360],transition:{scale:{duration:1,ease:"easeOut"},rotate:{duration:2,repeat:1/0,ease:"linear"}}}},l={animate:{opacity:[.6,1,.6],strokeWidth:[3,3.5,3],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}},o={animate:{scale:[1,1.2,1],transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}},d={initial:{opacity:1},exit:{opacity:0,transition:{duration:.5,ease:"easeInOut"}}};return t.jsx(wl,{children:e&&t.jsxs(E.div,{className:"fixed inset-0 z-[9999] bg-gradient-to-br from-primary via-primary-dark to-primary flex flex-col items-center justify-center",variants:d,initial:"initial",exit:"exit",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx("div",{className:"w-full h-full",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})}),n.smallBalls.map((c,u)=>t.jsx(E.div,{className:`absolute rounded-full pointer-events-none ${c.isVisible?"bg-white/20 backdrop-blur-sm border border-white/30":"bg-white/50 blur-2xl"}`,style:{width:`${c.size}px`,height:`${c.size}px`,left:`${c.startX}%`,top:`${c.startY}%`,opacity:c.isVisible?.4:c.opacity,zIndex:c.isVisible?2:1,filter:c.isVisible?"drop-shadow(0 0 8px rgba(255,255,255,0.3))":"blur(40px)",WebkitFilter:c.isVisible?"drop-shadow(0 0 8px rgba(255,255,255,0.3))":"blur(40px)",boxShadow:c.isVisible?"inset 0 0 20px rgba(255,255,255,0.1), 0 0 15px rgba(255,255,255,0.2)":"none"},animate:{x:[c.x1,c.x2,c.x3,c.x4,c.x1],y:[c.y1,c.y2,c.y3,c.y4,c.y1],scale:[1,c.scale1,1,c.scale2,1]},transition:{duration:c.duration,repeat:1/0,ease:"easeInOut",delay:c.delay,repeatType:"loop"}},`small-${u}`)),n.mediumBalls.map((c,u)=>t.jsx(E.div,{className:`absolute rounded-full pointer-events-none ${c.isVisible?"bg-white/20 backdrop-blur-sm border border-white/30":"bg-white/45 blur-2xl"}`,style:{width:`${c.size}px`,height:`${c.size}px`,left:`${c.startX}%`,top:`${c.startY}%`,opacity:c.isVisible?.35:c.opacity,zIndex:c.isVisible?2:1,filter:c.isVisible?"drop-shadow(0 0 10px rgba(255,255,255,0.3))":"blur(50px)",WebkitFilter:c.isVisible?"drop-shadow(0 0 10px rgba(255,255,255,0.3))":"blur(50px)",boxShadow:c.isVisible?"inset 0 0 25px rgba(255,255,255,0.1), 0 0 20px rgba(255,255,255,0.2)":"none"},animate:{x:[c.x1,c.x2,c.x3,c.x4,c.x1],y:[c.y1,c.y2,c.y3,c.y4,c.y1],scale:[1,c.scale1,1,c.scale2,1]},transition:{duration:c.duration,repeat:1/0,ease:"easeInOut",delay:c.delay,repeatType:"loop"}},`medium-${u}`)),n.largeBalls.map((c,u)=>t.jsx(E.div,{className:"absolute rounded-full bg-white/35 blur-3xl pointer-events-none",style:{width:`${c.size}px`,height:`${c.size}px`,left:`${c.startX}%`,top:`${c.startY}%`,opacity:c.opacity,zIndex:0,filter:"blur(80px)",WebkitFilter:"blur(80px)"},animate:{x:[c.x1,c.x2,c.x3,c.x1],y:[c.y1,c.y2,c.y3,c.y1],scale:[1,c.scale1,1,c.scale2,1]},transition:{duration:c.duration,repeat:1/0,ease:"easeInOut",delay:c.delay,repeatType:"loop"}},`large-${u}`)),t.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[t.jsx(E.div,{className:"relative w-24 h-24 sm:w-32 sm:h-32 mb-6",variants:i,initial:"initial",animate:"animate",children:t.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx(E.path,{d:"M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z",stroke:"#FFFFFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:l,animate:"animate"}),t.jsx(E.path,{d:"M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z",stroke:"#FFFFFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:l,animate:"animate",transition:{delay:.2}}),t.jsx(E.path,{d:"M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z",stroke:"#FFFFFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:l,animate:"animate",transition:{delay:.4}}),t.jsx(E.path,{d:"M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z",stroke:"#FFFFFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:l,animate:"animate",transition:{delay:.6}}),t.jsx(E.circle,{cx:"24",cy:"24",r:"4",fill:"#FFFFFF",variants:o,animate:"animate"})]})}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"text-center mb-8",children:[t.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-white mb-2",children:"Nexo"}),t.jsx("p",{className:"text-sm sm:text-base text-white/80 font-light",children:"Connect. Work. Grow."})]}),t.jsxs("div",{className:"w-64 sm:w-80 max-w-md mx-auto",children:[t.jsx("div",{className:"h-1.5 bg-white/20 rounded-full overflow-hidden",children:t.jsx(E.div,{className:"h-full bg-white rounded-full",initial:{width:0},animate:{width:`${s}%`},transition:{duration:.3,ease:"easeOut"}})}),t.jsx(E.p,{className:"text-white/60 text-xs sm:text-sm mt-3 text-center",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:s<50?"Loading...":s<90?"Almost there...":"Ready!"})]})]}),t.jsxs("div",{className:"absolute inset-0 pointer-events-none z-5",children:[t.jsx(E.div,{className:"absolute top-1/4 left-1/4 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{y:[0,-20,0],rotate:[0,15,-15,0],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:0},children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})})}),t.jsx(E.div,{className:"absolute top-1/3 right-1/4 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{y:[0,15,0],rotate:[0,-10,10,0],opacity:[.3,.5,.3]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:.5},children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M15 12l-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0-.83-.83-.83-2.17 0-3L12 9"}),t.jsx("path",{d:"M17.64 15L22 10.64"}),t.jsx("path",{d:"M20.91 11.7l-2.25-2.25L15.64 12l-1.5-1.5 3.06-3.06-2.25-2.25L12 7.36l-1.5-1.5 2.81-2.81-2.25-2.25L7.36 3l-1.5-1.5L9.38.14l-2.25-2.25L4.5 1.5"})]})}),t.jsx(E.div,{className:"absolute bottom-1/3 left-1/3 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{x:[0,15,0],rotate:[0,20,-20,0],opacity:[.3,.5,.3]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:1},children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M9.06 2.57c-1.18-.59-2.65-.15-3.44.99l-.57.8c-.28.4-.28.95 0 1.35l5.18 7.27c.28.4.78.4 1.06 0l5.18-7.27c.28-.4.28-.95 0-1.35l-.57-.8c-.79-1.14-2.26-1.58-3.44-.99L9.06 2.57z"}),t.jsx("path",{d:"M12 18v4"}),t.jsx("path",{d:"M9 22h6"})]})}),t.jsx(E.div,{className:"absolute bottom-1/4 right-1/3 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{y:[0,-15,0],rotate:[0,-15,15,0],opacity:[.3,.5,.3]},transition:{duration:5.5,repeat:1/0,ease:"easeInOut",delay:1.5},children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M18 3v3a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V3"}),t.jsx("path",{d:"M12 21v-9"}),t.jsx("path",{d:"M9 21v-6"}),t.jsx("path",{d:"M15 21v-6"}),t.jsx("path",{d:"M9 3h6"})]})}),t.jsx(E.div,{className:"absolute top-1/2 left-1/5 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{x:[0,-10,0],y:[0,10,0],opacity:[.3,.5,.3]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:2},children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M20 7h-3V6a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v1H4a1 1 0 0 0-1 1v11a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V8a1 1 0 0 0-1-1z"}),t.jsx("path",{d:"M9 6v1"}),t.jsx("path",{d:"M15 6v1"})]})}),t.jsx(E.div,{className:"absolute top-2/3 right-1/5 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{rotate:[0,360],x:[0,10,0],opacity:[.3,.5,.3]},transition:{duration:7,repeat:1/0,ease:"linear",delay:2.5},children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M12 2v4"}),t.jsx("path",{d:"M12 18v4"}),t.jsx("path",{d:"M8 6h8"}),t.jsx("path",{d:"M8 18h8"}),t.jsx("path",{d:"M12 6l-4 4h8l-4-4z"}),t.jsx("path",{d:"M12 18l-4-4h8l-4 4z"}),t.jsx("circle",{cx:"12",cy:"12",r:"2"})]})})]}),t.jsx(E.div,{className:"absolute bottom-12 left-1/2 transform -translate-x-1/2",animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:t.jsx("div",{className:"w-8 h-8 border-4 border-white/30 border-t-white rounded-full"})})]})})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/firebase-messaging-sw.js").catch(e=>{console.error("Service Worker registration failed:",e)})});G1.createRoot(document.getElementById("root")).render(t.jsxs(FI,{children:[t.jsx(SSe,{}),t.jsx(rse,{children:t.jsx(P5e,{children:t.jsx(G5e,{children:t.jsx(kQ,{children:t.jsx(NSe,{})})})})})]}));
