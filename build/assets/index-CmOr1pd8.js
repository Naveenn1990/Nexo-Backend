var fB=Object.defineProperty;var pB=(e,t,s)=>t in e?fB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Bn=(e,t,s)=>pB(e,typeof t!="symbol"?t+"":t,s);function xB(e,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();function Dn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var PT={exports:{}},rg={},AT={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh=Symbol.for("react.element"),gB=Symbol.for("react.portal"),yB=Symbol.for("react.fragment"),bB=Symbol.for("react.strict_mode"),vB=Symbol.for("react.profiler"),jB=Symbol.for("react.provider"),wB=Symbol.for("react.context"),NB=Symbol.for("react.forward_ref"),SB=Symbol.for("react.suspense"),kB=Symbol.for("react.memo"),CB=Symbol.for("react.lazy"),A5=Symbol.iterator;function PB(e){return e===null||typeof e!="object"?null:(e=A5&&e[A5]||e["@@iterator"],typeof e=="function"?e:null)}var TT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ET=Object.assign,_T={};function wu(e,t,s){this.props=e,this.context=t,this.refs=_T,this.updater=s||TT}wu.prototype.isReactComponent={};wu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function IT(){}IT.prototype=wu.prototype;function fj(e,t,s){this.props=e,this.context=t,this.refs=_T,this.updater=s||TT}var pj=fj.prototype=new IT;pj.constructor=fj;ET(pj,wu.prototype);pj.isPureReactComponent=!0;var T5=Array.isArray,OT=Object.prototype.hasOwnProperty,xj={current:null},DT={key:!0,ref:!0,__self:!0,__source:!0};function MT(e,t,s){var a,n={},i=null,l=null;if(t!=null)for(a in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)OT.call(t,a)&&!DT.hasOwnProperty(a)&&(n[a]=t[a]);var o=arguments.length-2;if(o===1)n.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)n[a]===void 0&&(n[a]=o[a]);return{$$typeof:qh,type:e,key:i,ref:l,props:n,_owner:xj.current}}function AB(e,t){return{$$typeof:qh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gj(e){return typeof e=="object"&&e!==null&&e.$$typeof===qh}function TB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var E5=/\/+/g;function ab(e,t){return typeof e=="object"&&e!==null&&e.key!=null?TB(""+e.key):t.toString(36)}function Mf(e,t,s,a,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case qh:case gB:l=!0}}if(l)return l=e,n=n(l),e=a===""?"."+ab(l,0):a,T5(n)?(s="",e!=null&&(s=e.replace(E5,"$&/")+"/"),Mf(n,t,s,"",function(d){return d})):n!=null&&(gj(n)&&(n=AB(n,s+(!n.key||l&&l.key===n.key?"":(""+n.key).replace(E5,"$&/")+"/")+e)),t.push(n)),1;if(l=0,a=a===""?".":a+":",T5(e))for(var o=0;o<e.length;o++){i=e[o];var c=a+ab(i,o);l+=Mf(i,t,s,c,n)}else if(c=PB(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=a+ab(i,o++),l+=Mf(i,t,s,c,n);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R0(e,t,s){if(e==null)return e;var a=[],n=0;return Mf(e,a,"","",function(i){return t.call(s,i,n++)}),a}function EB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ka={current:null},Lf={transition:null},_B={ReactCurrentDispatcher:ka,ReactCurrentBatchConfig:Lf,ReactCurrentOwner:xj};function LT(){throw Error("act(...) is not supported in production builds of React.")}Ut.Children={map:R0,forEach:function(e,t,s){R0(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return R0(e,function(){t++}),t},toArray:function(e){return R0(e,function(t){return t})||[]},only:function(e){if(!gj(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ut.Component=wu;Ut.Fragment=yB;Ut.Profiler=vB;Ut.PureComponent=fj;Ut.StrictMode=bB;Ut.Suspense=SB;Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_B;Ut.act=LT;Ut.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=ET({},e.props),n=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=xj.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)OT.call(t,c)&&!DT.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:qh,type:e.type,key:n,ref:i,props:a,_owner:l}};Ut.createContext=function(e){return e={$$typeof:wB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jB,_context:e},e.Consumer=e};Ut.createElement=MT;Ut.createFactory=function(e){var t=MT.bind(null,e);return t.type=e,t};Ut.createRef=function(){return{current:null}};Ut.forwardRef=function(e){return{$$typeof:NB,render:e}};Ut.isValidElement=gj;Ut.lazy=function(e){return{$$typeof:CB,_payload:{_status:-1,_result:e},_init:EB}};Ut.memo=function(e,t){return{$$typeof:kB,type:e,compare:t===void 0?null:t}};Ut.startTransition=function(e){var t=Lf.transition;Lf.transition={};try{e()}finally{Lf.transition=t}};Ut.unstable_act=LT;Ut.useCallback=function(e,t){return ka.current.useCallback(e,t)};Ut.useContext=function(e){return ka.current.useContext(e)};Ut.useDebugValue=function(){};Ut.useDeferredValue=function(e){return ka.current.useDeferredValue(e)};Ut.useEffect=function(e,t){return ka.current.useEffect(e,t)};Ut.useId=function(){return ka.current.useId()};Ut.useImperativeHandle=function(e,t,s){return ka.current.useImperativeHandle(e,t,s)};Ut.useInsertionEffect=function(e,t){return ka.current.useInsertionEffect(e,t)};Ut.useLayoutEffect=function(e,t){return ka.current.useLayoutEffect(e,t)};Ut.useMemo=function(e,t){return ka.current.useMemo(e,t)};Ut.useReducer=function(e,t,s){return ka.current.useReducer(e,t,s)};Ut.useRef=function(e){return ka.current.useRef(e)};Ut.useState=function(e){return ka.current.useState(e)};Ut.useSyncExternalStore=function(e,t,s){return ka.current.useSyncExternalStore(e,t,s)};Ut.useTransition=function(){return ka.current.useTransition()};Ut.version="18.3.1";AT.exports=Ut;var g=AT.exports;const At=Dn(g),FT=xB({__proto__:null,default:At},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IB=g,OB=Symbol.for("react.element"),DB=Symbol.for("react.fragment"),MB=Object.prototype.hasOwnProperty,LB=IB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FB={key:!0,ref:!0,__self:!0,__source:!0};function RT(e,t,s){var a,n={},i=null,l=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(a in t)MB.call(t,a)&&!FB.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)n[a]===void 0&&(n[a]=t[a]);return{$$typeof:OB,type:e,key:i,ref:l,props:n,_owner:LB.current}}rg.Fragment=DB;rg.jsx=RT;rg.jsxs=RT;PT.exports=rg;var r=PT.exports,Uv={},BT={exports:{}},on={},$T={exports:{}},UT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ae,oe){var R=ae.length;ae.push(oe);e:for(;0<R;){var O=R-1>>>1,I=ae[O];if(0<n(I,oe))ae[O]=oe,ae[R]=I,R=O;else break e}}function s(ae){return ae.length===0?null:ae[0]}function a(ae){if(ae.length===0)return null;var oe=ae[0],R=ae.pop();if(R!==oe){ae[0]=R;e:for(var O=0,I=ae.length,X=I>>>1;O<X;){var W=2*(O+1)-1,T=ae[W],L=W+1,D=ae[L];if(0>n(T,R))L<I&&0>n(D,T)?(ae[O]=D,ae[L]=R,O=L):(ae[O]=T,ae[W]=R,O=W);else if(L<I&&0>n(D,R))ae[O]=D,ae[L]=R,O=L;else break e}}return oe}function n(ae,oe){var R=ae.sortIndex-oe.sortIndex;return R!==0?R:ae.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,f=3,h=!1,x=!1,p=!1,b=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(ae){for(var oe=s(d);oe!==null;){if(oe.callback===null)a(d);else if(oe.startTime<=ae)a(d),oe.sortIndex=oe.expirationTime,t(c,oe);else break;oe=s(d)}}function w(ae){if(p=!1,y(ae),!x)if(s(c)!==null)x=!0,me(N);else{var oe=s(d);oe!==null&&Q(w,oe.startTime-ae)}}function N(ae,oe){x=!1,p&&(p=!1,j(P),P=-1),h=!0;var R=f;try{for(y(oe),m=s(c);m!==null&&(!(m.expirationTime>oe)||ae&&!A());){var O=m.callback;if(typeof O=="function"){m.callback=null,f=m.priorityLevel;var I=O(m.expirationTime<=oe);oe=e.unstable_now(),typeof I=="function"?m.callback=I:m===s(c)&&a(c),y(oe)}else a(c);m=s(c)}if(m!==null)var X=!0;else{var W=s(d);W!==null&&Q(w,W.startTime-oe),X=!1}return X}finally{m=null,f=R,h=!1}}var k=!1,S=null,P=-1,_=5,C=-1;function A(){return!(e.unstable_now()-C<_)}function V(){if(S!==null){var ae=e.unstable_now();C=ae;var oe=!0;try{oe=S(!0,ae)}finally{oe?q():(k=!1,S=null)}}else k=!1}var q;if(typeof v=="function")q=function(){v(V)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ue=Z.port2;Z.port1.onmessage=V,q=function(){ue.postMessage(null)}}else q=function(){b(V,0)};function me(ae){S=ae,k||(k=!0,q())}function Q(ae,oe){P=b(function(){ae(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ae){ae.callback=null},e.unstable_continueExecution=function(){x||h||(x=!0,me(N))},e.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<ae?Math.floor(1e3/ae):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(ae){switch(f){case 1:case 2:case 3:var oe=3;break;default:oe=f}var R=f;f=oe;try{return ae()}finally{f=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ae,oe){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var R=f;f=ae;try{return oe()}finally{f=R}},e.unstable_scheduleCallback=function(ae,oe,R){var O=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?O+R:O):R=O,ae){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=R+I,ae={id:u++,callback:oe,priorityLevel:ae,startTime:R,expirationTime:I,sortIndex:-1},R>O?(ae.sortIndex=R,t(d,ae),s(c)===null&&ae===s(d)&&(p?(j(P),P=-1):p=!0,Q(w,R-O))):(ae.sortIndex=I,t(c,ae),x||h||(x=!0,me(N))),ae},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(ae){var oe=f;return function(){var R=f;f=oe;try{return ae.apply(this,arguments)}finally{f=R}}}})(UT);$T.exports=UT;var RB=$T.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BB=g,rn=RB;function Ye(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zT=new Set,Gm={};function Bc(e,t){ru(e,t),ru(e+"Capture",t)}function ru(e,t){for(Gm[e]=t,e=0;e<t.length;e++)zT.add(t[e])}var al=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zv=Object.prototype.hasOwnProperty,$B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_5={},I5={};function UB(e){return zv.call(I5,e)?!0:zv.call(_5,e)?!1:$B.test(e)?I5[e]=!0:(_5[e]=!0,!1)}function zB(e,t,s,a){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VB(e,t,s,a){if(t===null||typeof t>"u"||zB(e,t,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ca(e,t,s,a,n,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Ks={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ks[e]=new Ca(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ks[t]=new Ca(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ks[e]=new Ca(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ks[e]=new Ca(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ks[e]=new Ca(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ks[e]=new Ca(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ks[e]=new Ca(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ks[e]=new Ca(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ks[e]=new Ca(e,5,!1,e.toLowerCase(),null,!1,!1)});var yj=/[\-:]([a-z])/g;function bj(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yj,bj);Ks[t]=new Ca(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yj,bj);Ks[t]=new Ca(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yj,bj);Ks[t]=new Ca(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ks[e]=new Ca(e,1,!1,e.toLowerCase(),null,!1,!1)});Ks.xlinkHref=new Ca("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ks[e]=new Ca(e,1,!1,e.toLowerCase(),null,!0,!0)});function vj(e,t,s,a){var n=Ks.hasOwnProperty(t)?Ks[t]:null;(n!==null?n.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VB(t,s,n,a)&&(s=null),a||n===null?UB(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):n.mustUseProperty?e[n.propertyName]=s===null?n.type===3?!1:"":s:(t=n.attributeName,a=n.attributeNamespace,s===null?e.removeAttribute(t):(n=n.type,s=n===3||n===4&&s===!0?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}var jl=BB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B0=Symbol.for("react.element"),fd=Symbol.for("react.portal"),pd=Symbol.for("react.fragment"),jj=Symbol.for("react.strict_mode"),Vv=Symbol.for("react.profiler"),VT=Symbol.for("react.provider"),HT=Symbol.for("react.context"),wj=Symbol.for("react.forward_ref"),Hv=Symbol.for("react.suspense"),Wv=Symbol.for("react.suspense_list"),Nj=Symbol.for("react.memo"),Rl=Symbol.for("react.lazy"),WT=Symbol.for("react.offscreen"),O5=Symbol.iterator;function qu(e){return e===null||typeof e!="object"?null:(e=O5&&e[O5]||e["@@iterator"],typeof e=="function"?e:null)}var Rr=Object.assign,nb;function ym(e){if(nb===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);nb=t&&t[1]||""}return`
`+nb+e}var ib=!1;function lb(e,t){if(!e||ib)return"";ib=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var a=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){a=d}e.call(t.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),i=a.stack.split(`
`),l=n.length-1,o=i.length-1;1<=l&&0<=o&&n[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(n[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||n[l]!==i[o]){var c=`
`+n[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{ib=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?ym(e):""}function HB(e){switch(e.tag){case 5:return ym(e.type);case 16:return ym("Lazy");case 13:return ym("Suspense");case 19:return ym("SuspenseList");case 0:case 2:case 15:return e=lb(e.type,!1),e;case 11:return e=lb(e.type.render,!1),e;case 1:return e=lb(e.type,!0),e;default:return""}}function Gv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pd:return"Fragment";case fd:return"Portal";case Vv:return"Profiler";case jj:return"StrictMode";case Hv:return"Suspense";case Wv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case HT:return(e.displayName||"Context")+".Consumer";case VT:return(e._context.displayName||"Context")+".Provider";case wj:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nj:return t=e.displayName||null,t!==null?t:Gv(e.type)||"Memo";case Rl:t=e._payload,e=e._init;try{return Gv(e(t))}catch{}}return null}function WB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gv(t);case 8:return t===jj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function GT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function GB(e){var t=GT(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(l){a=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $0(e){e._valueTracker||(e._valueTracker=GB(e))}function KT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=GT(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function sp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kv(e,t){var s=t.checked;return Rr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function D5(e,t){var s=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;s=mo(t.value!=null?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qT(e,t){t=t.checked,t!=null&&vj(e,"checked",t,!1)}function qv(e,t){qT(e,t);var s=mo(t.value),a=t.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yv(e,t.type,s):t.hasOwnProperty("defaultValue")&&Yv(e,t.type,mo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function M5(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Yv(e,t,s){(t!=="number"||sp(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var bm=Array.isArray;function Md(e,t,s,a){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&a&&(e[s].defaultSelected=!0)}else{for(s=""+mo(s),t=null,n=0;n<e.length;n++){if(e[n].value===s){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Xv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ye(91));return Rr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function L5(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(Ye(92));if(bm(s)){if(1<s.length)throw Error(Ye(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:mo(s)}}function YT(e,t){var s=mo(t.value),a=mo(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function F5(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function XT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?XT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var U0,JT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,a,n){MSApp.execUnsafeLocalFunction(function(){return e(t,s,a,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(U0=U0||document.createElement("div"),U0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=U0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Km(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Cm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KB=["Webkit","ms","Moz","O"];Object.keys(Cm).forEach(function(e){KB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cm[t]=Cm[e]})});function QT(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Cm.hasOwnProperty(e)&&Cm[e]?(""+t).trim():t+"px"}function ZT(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var a=s.indexOf("--")===0,n=QT(s,t[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,n):e[s]=n}}var qB=Rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qv(e,t){if(t){if(qB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ye(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ye(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ye(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ye(62))}}function Zv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e1=null;function Sj(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var t1=null,Ld=null,Fd=null;function R5(e){if(e=Jh(e)){if(typeof t1!="function")throw Error(Ye(280));var t=e.stateNode;t&&(t=lg(t),t1(e.stateNode,e.type,t))}}function eE(e){Ld?Fd?Fd.push(e):Fd=[e]:Ld=e}function tE(){if(Ld){var e=Ld,t=Fd;if(Fd=Ld=null,R5(e),t)for(e=0;e<t.length;e++)R5(t[e])}}function rE(e,t){return e(t)}function sE(){}var ob=!1;function aE(e,t,s){if(ob)return e(t,s);ob=!0;try{return rE(e,t,s)}finally{ob=!1,(Ld!==null||Fd!==null)&&(sE(),tE())}}function qm(e,t){var s=e.stateNode;if(s===null)return null;var a=lg(s);if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(Ye(231,t,typeof s));return s}var r1=!1;if(al)try{var Yu={};Object.defineProperty(Yu,"passive",{get:function(){r1=!0}}),window.addEventListener("test",Yu,Yu),window.removeEventListener("test",Yu,Yu)}catch{r1=!1}function YB(e,t,s,a,n,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var Pm=!1,ap=null,np=!1,s1=null,XB={onError:function(e){Pm=!0,ap=e}};function JB(e,t,s,a,n,i,l,o,c){Pm=!1,ap=null,YB.apply(XB,arguments)}function QB(e,t,s,a,n,i,l,o,c){if(JB.apply(this,arguments),Pm){if(Pm){var d=ap;Pm=!1,ap=null}else throw Error(Ye(198));np||(np=!0,s1=d)}}function $c(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function nE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function B5(e){if($c(e)!==e)throw Error(Ye(188))}function ZB(e){var t=e.alternate;if(!t){if(t=$c(e),t===null)throw Error(Ye(188));return t!==e?null:e}for(var s=e,a=t;;){var n=s.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){s=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===s)return B5(n),e;if(i===a)return B5(n),t;i=i.sibling}throw Error(Ye(188))}if(s.return!==a.return)s=n,a=i;else{for(var l=!1,o=n.child;o;){if(o===s){l=!0,s=n,a=i;break}if(o===a){l=!0,a=n,s=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===s){l=!0,s=i,a=n;break}if(o===a){l=!0,a=i,s=n;break}o=o.sibling}if(!l)throw Error(Ye(189))}}if(s.alternate!==a)throw Error(Ye(190))}if(s.tag!==3)throw Error(Ye(188));return s.stateNode.current===s?e:t}function iE(e){return e=ZB(e),e!==null?lE(e):null}function lE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lE(e);if(t!==null)return t;e=e.sibling}return null}var oE=rn.unstable_scheduleCallback,$5=rn.unstable_cancelCallback,e$=rn.unstable_shouldYield,t$=rn.unstable_requestPaint,Qr=rn.unstable_now,r$=rn.unstable_getCurrentPriorityLevel,kj=rn.unstable_ImmediatePriority,cE=rn.unstable_UserBlockingPriority,ip=rn.unstable_NormalPriority,s$=rn.unstable_LowPriority,dE=rn.unstable_IdlePriority,sg=null,bi=null;function a$(e){if(bi&&typeof bi.onCommitFiberRoot=="function")try{bi.onCommitFiberRoot(sg,e,void 0,(e.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:l$,n$=Math.log,i$=Math.LN2;function l$(e){return e>>>=0,e===0?32:31-(n$(e)/i$|0)|0}var z0=64,V0=4194304;function vm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lp(e,t){var s=e.pendingLanes;if(s===0)return 0;var a=0,n=e.suspendedLanes,i=e.pingedLanes,l=s&268435455;if(l!==0){var o=l&~n;o!==0?a=vm(o):(i&=l,i!==0&&(a=vm(i)))}else l=s&~n,l!==0?a=vm(l):i!==0&&(a=vm(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&n)&&(n=a&-a,i=t&-t,n>=i||n===16&&(i&4194240)!==0))return t;if(a&4&&(a|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)s=31-Qn(t),n=1<<s,a|=e[s],t&=~n;return a}function o$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c$(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Qn(i),o=1<<l,c=n[l];c===-1?(!(o&s)||o&a)&&(n[l]=o$(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function a1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uE(){var e=z0;return z0<<=1,!(z0&4194240)&&(z0=64),e}function cb(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Yh(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qn(t),e[t]=s}function d$(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-Qn(s),i=1<<n;t[n]=0,a[n]=-1,e[n]=-1,s&=~i}}function Cj(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-Qn(s),n=1<<a;n&t|e[a]&t&&(e[a]|=t),s&=~n}}var or=0;function mE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hE,Pj,fE,pE,xE,n1=!1,H0=[],Jl=null,Ql=null,Zl=null,Ym=new Map,Xm=new Map,Vl=[],u$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U5(e,t){switch(e){case"focusin":case"focusout":Jl=null;break;case"dragenter":case"dragleave":Ql=null;break;case"mouseover":case"mouseout":Zl=null;break;case"pointerover":case"pointerout":Ym.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xm.delete(t.pointerId)}}function Xu(e,t,s,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Jh(t),t!==null&&Pj(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function m$(e,t,s,a,n){switch(t){case"focusin":return Jl=Xu(Jl,e,t,s,a,n),!0;case"dragenter":return Ql=Xu(Ql,e,t,s,a,n),!0;case"mouseover":return Zl=Xu(Zl,e,t,s,a,n),!0;case"pointerover":var i=n.pointerId;return Ym.set(i,Xu(Ym.get(i)||null,e,t,s,a,n)),!0;case"gotpointercapture":return i=n.pointerId,Xm.set(i,Xu(Xm.get(i)||null,e,t,s,a,n)),!0}return!1}function gE(e){var t=Ko(e.target);if(t!==null){var s=$c(t);if(s!==null){if(t=s.tag,t===13){if(t=nE(s),t!==null){e.blockedOn=t,xE(e.priority,function(){fE(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ff(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=i1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);e1=a,s.target.dispatchEvent(a),e1=null}else return t=Jh(s),t!==null&&Pj(t),e.blockedOn=s,!1;t.shift()}return!0}function z5(e,t,s){Ff(e)&&s.delete(t)}function h$(){n1=!1,Jl!==null&&Ff(Jl)&&(Jl=null),Ql!==null&&Ff(Ql)&&(Ql=null),Zl!==null&&Ff(Zl)&&(Zl=null),Ym.forEach(z5),Xm.forEach(z5)}function Ju(e,t){e.blockedOn===t&&(e.blockedOn=null,n1||(n1=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,h$)))}function Jm(e){function t(n){return Ju(n,e)}if(0<H0.length){Ju(H0[0],e);for(var s=1;s<H0.length;s++){var a=H0[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Jl!==null&&Ju(Jl,e),Ql!==null&&Ju(Ql,e),Zl!==null&&Ju(Zl,e),Ym.forEach(t),Xm.forEach(t),s=0;s<Vl.length;s++)a=Vl[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<Vl.length&&(s=Vl[0],s.blockedOn===null);)gE(s),s.blockedOn===null&&Vl.shift()}var Rd=jl.ReactCurrentBatchConfig,op=!0;function f$(e,t,s,a){var n=or,i=Rd.transition;Rd.transition=null;try{or=1,Aj(e,t,s,a)}finally{or=n,Rd.transition=i}}function p$(e,t,s,a){var n=or,i=Rd.transition;Rd.transition=null;try{or=4,Aj(e,t,s,a)}finally{or=n,Rd.transition=i}}function Aj(e,t,s,a){if(op){var n=i1(e,t,s,a);if(n===null)bb(e,t,a,cp,s),U5(e,a);else if(m$(n,e,t,s,a))a.stopPropagation();else if(U5(e,a),t&4&&-1<u$.indexOf(e)){for(;n!==null;){var i=Jh(n);if(i!==null&&hE(i),i=i1(e,t,s,a),i===null&&bb(e,t,a,cp,s),i===n)break;n=i}n!==null&&a.stopPropagation()}else bb(e,t,a,null,s)}}var cp=null;function i1(e,t,s,a){if(cp=null,e=Sj(a),e=Ko(e),e!==null)if(t=$c(e),t===null)e=null;else if(s=t.tag,s===13){if(e=nE(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cp=e,null}function yE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(r$()){case kj:return 1;case cE:return 4;case ip:case s$:return 16;case dE:return 536870912;default:return 16}default:return 16}}var Gl=null,Tj=null,Rf=null;function bE(){if(Rf)return Rf;var e,t=Tj,s=t.length,a,n="value"in Gl?Gl.value:Gl.textContent,i=n.length;for(e=0;e<s&&t[e]===n[e];e++);var l=s-e;for(a=1;a<=l&&t[s-a]===n[i-a];a++);return Rf=n.slice(e,1<a?1-a:void 0)}function Bf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function W0(){return!0}function V5(){return!1}function cn(e){function t(s,a,n,i,l){this._reactName=s,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?W0:V5,this.isPropagationStopped=V5,this}return Rr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=W0)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=W0)},persist:function(){},isPersistent:W0}),t}var Nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ej=cn(Nu),Xh=Rr({},Nu,{view:0,detail:0}),x$=cn(Xh),db,ub,Qu,ag=Rr({},Xh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_j,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qu&&(Qu&&e.type==="mousemove"?(db=e.screenX-Qu.screenX,ub=e.screenY-Qu.screenY):ub=db=0,Qu=e),db)},movementY:function(e){return"movementY"in e?e.movementY:ub}}),H5=cn(ag),g$=Rr({},ag,{dataTransfer:0}),y$=cn(g$),b$=Rr({},Xh,{relatedTarget:0}),mb=cn(b$),v$=Rr({},Nu,{animationName:0,elapsedTime:0,pseudoElement:0}),j$=cn(v$),w$=Rr({},Nu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),N$=cn(w$),S$=Rr({},Nu,{data:0}),W5=cn(S$),k$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=P$[e])?!!t[e]:!1}function _j(){return A$}var T$=Rr({},Xh,{key:function(e){if(e.key){var t=k$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?C$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_j,charCode:function(e){return e.type==="keypress"?Bf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),E$=cn(T$),_$=Rr({},ag,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G5=cn(_$),I$=Rr({},Xh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_j}),O$=cn(I$),D$=Rr({},Nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),M$=cn(D$),L$=Rr({},ag,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),F$=cn(L$),R$=[9,13,27,32],Ij=al&&"CompositionEvent"in window,Am=null;al&&"documentMode"in document&&(Am=document.documentMode);var B$=al&&"TextEvent"in window&&!Am,vE=al&&(!Ij||Am&&8<Am&&11>=Am),K5=" ",q5=!1;function jE(e,t){switch(e){case"keyup":return R$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xd=!1;function $$(e,t){switch(e){case"compositionend":return wE(t);case"keypress":return t.which!==32?null:(q5=!0,K5);case"textInput":return e=t.data,e===K5&&q5?null:e;default:return null}}function U$(e,t){if(xd)return e==="compositionend"||!Ij&&jE(e,t)?(e=bE(),Rf=Tj=Gl=null,xd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vE&&t.locale!=="ko"?null:t.data;default:return null}}var z$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!z$[e.type]:t==="textarea"}function NE(e,t,s,a){eE(a),t=dp(t,"onChange"),0<t.length&&(s=new Ej("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var Tm=null,Qm=null;function V$(e){DE(e,0)}function ng(e){var t=bd(e);if(KT(t))return e}function H$(e,t){if(e==="change")return t}var SE=!1;if(al){var hb;if(al){var fb="oninput"in document;if(!fb){var X5=document.createElement("div");X5.setAttribute("oninput","return;"),fb=typeof X5.oninput=="function"}hb=fb}else hb=!1;SE=hb&&(!document.documentMode||9<document.documentMode)}function J5(){Tm&&(Tm.detachEvent("onpropertychange",kE),Qm=Tm=null)}function kE(e){if(e.propertyName==="value"&&ng(Qm)){var t=[];NE(t,Qm,e,Sj(e)),aE(V$,t)}}function W$(e,t,s){e==="focusin"?(J5(),Tm=t,Qm=s,Tm.attachEvent("onpropertychange",kE)):e==="focusout"&&J5()}function G$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ng(Qm)}function K$(e,t){if(e==="click")return ng(t)}function q$(e,t){if(e==="input"||e==="change")return ng(t)}function Y$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ri=typeof Object.is=="function"?Object.is:Y$;function Zm(e,t){if(ri(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var n=s[a];if(!zv.call(t,n)||!ri(e[n],t[n]))return!1}return!0}function Q5(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Z5(e,t){var s=Q5(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Q5(s)}}function CE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?CE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function PE(){for(var e=window,t=sp();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=sp(e.document)}return t}function Oj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function X$(e){var t=PE(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&CE(s.ownerDocument.documentElement,s)){if(a!==null&&Oj(s)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=s.textContent.length,i=Math.min(a.start,n);a=a.end===void 0?i:Math.min(a.end,n),!e.extend&&i>a&&(n=a,a=i,i=n),n=Z5(s,i);var l=Z5(s,a);n&&l&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var J$=al&&"documentMode"in document&&11>=document.documentMode,gd=null,l1=null,Em=null,o1=!1;function e6(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;o1||gd==null||gd!==sp(a)||(a=gd,"selectionStart"in a&&Oj(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Em&&Zm(Em,a)||(Em=a,a=dp(l1,"onSelect"),0<a.length&&(t=new Ej("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=gd)))}function G0(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var yd={animationend:G0("Animation","AnimationEnd"),animationiteration:G0("Animation","AnimationIteration"),animationstart:G0("Animation","AnimationStart"),transitionend:G0("Transition","TransitionEnd")},pb={},AE={};al&&(AE=document.createElement("div").style,"AnimationEvent"in window||(delete yd.animationend.animation,delete yd.animationiteration.animation,delete yd.animationstart.animation),"TransitionEvent"in window||delete yd.transitionend.transition);function ig(e){if(pb[e])return pb[e];if(!yd[e])return e;var t=yd[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in AE)return pb[e]=t[s];return e}var TE=ig("animationend"),EE=ig("animationiteration"),_E=ig("animationstart"),IE=ig("transitionend"),OE=new Map,t6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ko(e,t){OE.set(e,t),Bc(t,[e])}for(var xb=0;xb<t6.length;xb++){var gb=t6[xb],Q$=gb.toLowerCase(),Z$=gb[0].toUpperCase()+gb.slice(1);ko(Q$,"on"+Z$)}ko(TE,"onAnimationEnd");ko(EE,"onAnimationIteration");ko(_E,"onAnimationStart");ko("dblclick","onDoubleClick");ko("focusin","onFocus");ko("focusout","onBlur");ko(IE,"onTransitionEnd");ru("onMouseEnter",["mouseout","mouseover"]);ru("onMouseLeave",["mouseout","mouseover"]);ru("onPointerEnter",["pointerout","pointerover"]);ru("onPointerLeave",["pointerout","pointerover"]);Bc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eU=new Set("cancel close invalid load scroll toggle".split(" ").concat(jm));function r6(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,QB(a,t,void 0,e),e.currentTarget=null}function DE(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var l=a.length-1;0<=l;l--){var o=a[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&n.isPropagationStopped())break e;r6(n,o,d),i=c}else for(l=0;l<a.length;l++){if(o=a[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&n.isPropagationStopped())break e;r6(n,o,d),i=c}}}if(np)throw e=s1,np=!1,s1=null,e}function jr(e,t){var s=t[h1];s===void 0&&(s=t[h1]=new Set);var a=e+"__bubble";s.has(a)||(ME(t,e,2,!1),s.add(a))}function yb(e,t,s){var a=0;t&&(a|=4),ME(s,e,a,t)}var K0="_reactListening"+Math.random().toString(36).slice(2);function eh(e){if(!e[K0]){e[K0]=!0,zT.forEach(function(s){s!=="selectionchange"&&(eU.has(s)||yb(s,!1,e),yb(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[K0]||(t[K0]=!0,yb("selectionchange",!1,t))}}function ME(e,t,s,a){switch(yE(t)){case 1:var n=f$;break;case 4:n=p$;break;default:n=Aj}s=n.bind(null,t,s,e),n=void 0,!r1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):n!==void 0?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function bb(e,t,s,a,n){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var o=a.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(l===4)for(l=a.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;l=l.return}for(;o!==null;){if(l=Ko(o),l===null)return;if(c=l.tag,c===5||c===6){a=i=l;continue e}o=o.parentNode}}a=a.return}aE(function(){var d=i,u=Sj(s),m=[];e:{var f=OE.get(e);if(f!==void 0){var h=Ej,x=e;switch(e){case"keypress":if(Bf(s)===0)break e;case"keydown":case"keyup":h=E$;break;case"focusin":x="focus",h=mb;break;case"focusout":x="blur",h=mb;break;case"beforeblur":case"afterblur":h=mb;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=H5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=y$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=O$;break;case TE:case EE:case _E:h=j$;break;case IE:h=M$;break;case"scroll":h=x$;break;case"wheel":h=F$;break;case"copy":case"cut":case"paste":h=N$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=G5}var p=(t&4)!==0,b=!p&&e==="scroll",j=p?f!==null?f+"Capture":null:f;p=[];for(var v=d,y;v!==null;){y=v;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,j!==null&&(w=qm(v,j),w!=null&&p.push(th(v,w,y)))),b)break;v=v.return}0<p.length&&(f=new h(f,x,null,s,u),m.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&s!==e1&&(x=s.relatedTarget||s.fromElement)&&(Ko(x)||x[nl]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(x=s.relatedTarget||s.toElement,h=d,x=x?Ko(x):null,x!==null&&(b=$c(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(h=null,x=d),h!==x)){if(p=H5,w="onMouseLeave",j="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=G5,w="onPointerLeave",j="onPointerEnter",v="pointer"),b=h==null?f:bd(h),y=x==null?f:bd(x),f=new p(w,v+"leave",h,s,u),f.target=b,f.relatedTarget=y,w=null,Ko(u)===d&&(p=new p(j,v+"enter",x,s,u),p.target=y,p.relatedTarget=b,w=p),b=w,h&&x)t:{for(p=h,j=x,v=0,y=p;y;y=rd(y))v++;for(y=0,w=j;w;w=rd(w))y++;for(;0<v-y;)p=rd(p),v--;for(;0<y-v;)j=rd(j),y--;for(;v--;){if(p===j||j!==null&&p===j.alternate)break t;p=rd(p),j=rd(j)}p=null}else p=null;h!==null&&s6(m,f,h,p,!1),x!==null&&b!==null&&s6(m,b,x,p,!0)}}e:{if(f=d?bd(d):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var N=H$;else if(Y5(f))if(SE)N=q$;else{N=G$;var k=W$}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=K$);if(N&&(N=N(e,d))){NE(m,N,s,u);break e}k&&k(e,f,d),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Yv(f,"number",f.value)}switch(k=d?bd(d):window,e){case"focusin":(Y5(k)||k.contentEditable==="true")&&(gd=k,l1=d,Em=null);break;case"focusout":Em=l1=gd=null;break;case"mousedown":o1=!0;break;case"contextmenu":case"mouseup":case"dragend":o1=!1,e6(m,s,u);break;case"selectionchange":if(J$)break;case"keydown":case"keyup":e6(m,s,u)}var S;if(Ij)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else xd?jE(e,s)&&(P="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(P="onCompositionStart");P&&(vE&&s.locale!=="ko"&&(xd||P!=="onCompositionStart"?P==="onCompositionEnd"&&xd&&(S=bE()):(Gl=u,Tj="value"in Gl?Gl.value:Gl.textContent,xd=!0)),k=dp(d,P),0<k.length&&(P=new W5(P,e,null,s,u),m.push({event:P,listeners:k}),S?P.data=S:(S=wE(s),S!==null&&(P.data=S)))),(S=B$?$$(e,s):U$(e,s))&&(d=dp(d,"onBeforeInput"),0<d.length&&(u=new W5("onBeforeInput","beforeinput",null,s,u),m.push({event:u,listeners:d}),u.data=S))}DE(m,t)})}function th(e,t,s){return{instance:e,listener:t,currentTarget:s}}function dp(e,t){for(var s=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=qm(e,s),i!=null&&a.unshift(th(e,i,n)),i=qm(e,t),i!=null&&a.push(th(e,i,n))),e=e.return}return a}function rd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function s6(e,t,s,a,n){for(var i=t._reactName,l=[];s!==null&&s!==a;){var o=s,c=o.alternate,d=o.stateNode;if(c!==null&&c===a)break;o.tag===5&&d!==null&&(o=d,n?(c=qm(s,i),c!=null&&l.unshift(th(s,c,o))):n||(c=qm(s,i),c!=null&&l.push(th(s,c,o)))),s=s.return}l.length!==0&&e.push({event:t,listeners:l})}var tU=/\r\n?/g,rU=/\u0000|\uFFFD/g;function a6(e){return(typeof e=="string"?e:""+e).replace(tU,`
`).replace(rU,"")}function q0(e,t,s){if(t=a6(t),a6(e)!==t&&s)throw Error(Ye(425))}function up(){}var c1=null,d1=null;function u1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var m1=typeof setTimeout=="function"?setTimeout:void 0,sU=typeof clearTimeout=="function"?clearTimeout:void 0,n6=typeof Promise=="function"?Promise:void 0,aU=typeof queueMicrotask=="function"?queueMicrotask:typeof n6<"u"?function(e){return n6.resolve(null).then(e).catch(nU)}:m1;function nU(e){setTimeout(function(){throw e})}function vb(e,t){var s=t,a=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(a===0){e.removeChild(n),Jm(t);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=n}while(s);Jm(t)}function eo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function i6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Su=Math.random().toString(36).slice(2),fi="__reactFiber$"+Su,rh="__reactProps$"+Su,nl="__reactContainer$"+Su,h1="__reactEvents$"+Su,iU="__reactListeners$"+Su,lU="__reactHandles$"+Su;function Ko(e){var t=e[fi];if(t)return t;for(var s=e.parentNode;s;){if(t=s[nl]||s[fi]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=i6(e);e!==null;){if(s=e[fi])return s;e=i6(e)}return t}e=s,s=e.parentNode}return null}function Jh(e){return e=e[fi]||e[nl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ye(33))}function lg(e){return e[rh]||null}var f1=[],vd=-1;function Co(e){return{current:e}}function Sr(e){0>vd||(e.current=f1[vd],f1[vd]=null,vd--)}function yr(e,t){vd++,f1[vd]=e.current,e.current=t}var ho={},ca=Co(ho),Ia=Co(!1),xc=ho;function su(e,t){var s=e.type.contextTypes;if(!s)return ho;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in s)n[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Oa(e){return e=e.childContextTypes,e!=null}function mp(){Sr(Ia),Sr(ca)}function l6(e,t,s){if(ca.current!==ho)throw Error(Ye(168));yr(ca,t),yr(Ia,s)}function LE(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var n in a)if(!(n in t))throw Error(Ye(108,WB(e)||"Unknown",n));return Rr({},s,a)}function hp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ho,xc=ca.current,yr(ca,e),yr(Ia,Ia.current),!0}function o6(e,t,s){var a=e.stateNode;if(!a)throw Error(Ye(169));s?(e=LE(e,t,xc),a.__reactInternalMemoizedMergedChildContext=e,Sr(Ia),Sr(ca),yr(ca,e)):Sr(Ia),yr(Ia,s)}var $i=null,og=!1,jb=!1;function FE(e){$i===null?$i=[e]:$i.push(e)}function oU(e){og=!0,FE(e)}function Po(){if(!jb&&$i!==null){jb=!0;var e=0,t=or;try{var s=$i;for(or=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}$i=null,og=!1}catch(n){throw $i!==null&&($i=$i.slice(e+1)),oE(kj,Po),n}finally{or=t,jb=!1}}return null}var jd=[],wd=0,fp=null,pp=0,wn=[],Nn=0,gc=null,Vi=1,Hi="";function Fo(e,t){jd[wd++]=pp,jd[wd++]=fp,fp=e,pp=t}function RE(e,t,s){wn[Nn++]=Vi,wn[Nn++]=Hi,wn[Nn++]=gc,gc=e;var a=Vi;e=Hi;var n=32-Qn(a)-1;a&=~(1<<n),s+=1;var i=32-Qn(t)+n;if(30<i){var l=n-n%5;i=(a&(1<<l)-1).toString(32),a>>=l,n-=l,Vi=1<<32-Qn(t)+n|s<<n|a,Hi=i+e}else Vi=1<<i|s<<n|a,Hi=e}function Dj(e){e.return!==null&&(Fo(e,1),RE(e,1,0))}function Mj(e){for(;e===fp;)fp=jd[--wd],jd[wd]=null,pp=jd[--wd],jd[wd]=null;for(;e===gc;)gc=wn[--Nn],wn[Nn]=null,Hi=wn[--Nn],wn[Nn]=null,Vi=wn[--Nn],wn[Nn]=null}var Za=null,Ja=null,Er=!1,Gn=null;function BE(e,t){var s=kn(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function c6(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Za=e,Ja=eo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Za=e,Ja=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=gc!==null?{id:Vi,overflow:Hi}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=kn(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Za=e,Ja=null,!0):!1;default:return!1}}function p1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function x1(e){if(Er){var t=Ja;if(t){var s=t;if(!c6(e,t)){if(p1(e))throw Error(Ye(418));t=eo(s.nextSibling);var a=Za;t&&c6(e,t)?BE(a,s):(e.flags=e.flags&-4097|2,Er=!1,Za=e)}}else{if(p1(e))throw Error(Ye(418));e.flags=e.flags&-4097|2,Er=!1,Za=e}}}function d6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Za=e}function Y0(e){if(e!==Za)return!1;if(!Er)return d6(e),Er=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!u1(e.type,e.memoizedProps)),t&&(t=Ja)){if(p1(e))throw $E(),Error(Ye(418));for(;t;)BE(e,t),t=eo(t.nextSibling)}if(d6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ye(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Ja=eo(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Ja=null}}else Ja=Za?eo(e.stateNode.nextSibling):null;return!0}function $E(){for(var e=Ja;e;)e=eo(e.nextSibling)}function au(){Ja=Za=null,Er=!1}function Lj(e){Gn===null?Gn=[e]:Gn.push(e)}var cU=jl.ReactCurrentBatchConfig;function Zu(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Ye(309));var a=s.stateNode}if(!a)throw Error(Ye(147,e));var n=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=n.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ye(284));if(!s._owner)throw Error(Ye(290,e))}return e}function X0(e,t){throw e=Object.prototype.toString.call(t),Error(Ye(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function u6(e){var t=e._init;return t(e._payload)}function UE(e){function t(j,v){if(e){var y=j.deletions;y===null?(j.deletions=[v],j.flags|=16):y.push(v)}}function s(j,v){if(!e)return null;for(;v!==null;)t(j,v),v=v.sibling;return null}function a(j,v){for(j=new Map;v!==null;)v.key!==null?j.set(v.key,v):j.set(v.index,v),v=v.sibling;return j}function n(j,v){return j=ao(j,v),j.index=0,j.sibling=null,j}function i(j,v,y){return j.index=y,e?(y=j.alternate,y!==null?(y=y.index,y<v?(j.flags|=2,v):y):(j.flags|=2,v)):(j.flags|=1048576,v)}function l(j){return e&&j.alternate===null&&(j.flags|=2),j}function o(j,v,y,w){return v===null||v.tag!==6?(v=Ab(y,j.mode,w),v.return=j,v):(v=n(v,y),v.return=j,v)}function c(j,v,y,w){var N=y.type;return N===pd?u(j,v,y.props.children,w,y.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Rl&&u6(N)===v.type)?(w=n(v,y.props),w.ref=Zu(j,v,y),w.return=j,w):(w=Gf(y.type,y.key,y.props,null,j.mode,w),w.ref=Zu(j,v,y),w.return=j,w)}function d(j,v,y,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=Tb(y,j.mode,w),v.return=j,v):(v=n(v,y.children||[]),v.return=j,v)}function u(j,v,y,w,N){return v===null||v.tag!==7?(v=sc(y,j.mode,w,N),v.return=j,v):(v=n(v,y),v.return=j,v)}function m(j,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ab(""+v,j.mode,y),v.return=j,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case B0:return y=Gf(v.type,v.key,v.props,null,j.mode,y),y.ref=Zu(j,null,v),y.return=j,y;case fd:return v=Tb(v,j.mode,y),v.return=j,v;case Rl:var w=v._init;return m(j,w(v._payload),y)}if(bm(v)||qu(v))return v=sc(v,j.mode,y,null),v.return=j,v;X0(j,v)}return null}function f(j,v,y,w){var N=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:o(j,v,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case B0:return y.key===N?c(j,v,y,w):null;case fd:return y.key===N?d(j,v,y,w):null;case Rl:return N=y._init,f(j,v,N(y._payload),w)}if(bm(y)||qu(y))return N!==null?null:u(j,v,y,w,null);X0(j,y)}return null}function h(j,v,y,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return j=j.get(y)||null,o(v,j,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case B0:return j=j.get(w.key===null?y:w.key)||null,c(v,j,w,N);case fd:return j=j.get(w.key===null?y:w.key)||null,d(v,j,w,N);case Rl:var k=w._init;return h(j,v,y,k(w._payload),N)}if(bm(w)||qu(w))return j=j.get(y)||null,u(v,j,w,N,null);X0(v,w)}return null}function x(j,v,y,w){for(var N=null,k=null,S=v,P=v=0,_=null;S!==null&&P<y.length;P++){S.index>P?(_=S,S=null):_=S.sibling;var C=f(j,S,y[P],w);if(C===null){S===null&&(S=_);break}e&&S&&C.alternate===null&&t(j,S),v=i(C,v,P),k===null?N=C:k.sibling=C,k=C,S=_}if(P===y.length)return s(j,S),Er&&Fo(j,P),N;if(S===null){for(;P<y.length;P++)S=m(j,y[P],w),S!==null&&(v=i(S,v,P),k===null?N=S:k.sibling=S,k=S);return Er&&Fo(j,P),N}for(S=a(j,S);P<y.length;P++)_=h(S,j,P,y[P],w),_!==null&&(e&&_.alternate!==null&&S.delete(_.key===null?P:_.key),v=i(_,v,P),k===null?N=_:k.sibling=_,k=_);return e&&S.forEach(function(A){return t(j,A)}),Er&&Fo(j,P),N}function p(j,v,y,w){var N=qu(y);if(typeof N!="function")throw Error(Ye(150));if(y=N.call(y),y==null)throw Error(Ye(151));for(var k=N=null,S=v,P=v=0,_=null,C=y.next();S!==null&&!C.done;P++,C=y.next()){S.index>P?(_=S,S=null):_=S.sibling;var A=f(j,S,C.value,w);if(A===null){S===null&&(S=_);break}e&&S&&A.alternate===null&&t(j,S),v=i(A,v,P),k===null?N=A:k.sibling=A,k=A,S=_}if(C.done)return s(j,S),Er&&Fo(j,P),N;if(S===null){for(;!C.done;P++,C=y.next())C=m(j,C.value,w),C!==null&&(v=i(C,v,P),k===null?N=C:k.sibling=C,k=C);return Er&&Fo(j,P),N}for(S=a(j,S);!C.done;P++,C=y.next())C=h(S,j,P,C.value,w),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?P:C.key),v=i(C,v,P),k===null?N=C:k.sibling=C,k=C);return e&&S.forEach(function(V){return t(j,V)}),Er&&Fo(j,P),N}function b(j,v,y,w){if(typeof y=="object"&&y!==null&&y.type===pd&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case B0:e:{for(var N=y.key,k=v;k!==null;){if(k.key===N){if(N=y.type,N===pd){if(k.tag===7){s(j,k.sibling),v=n(k,y.props.children),v.return=j,j=v;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Rl&&u6(N)===k.type){s(j,k.sibling),v=n(k,y.props),v.ref=Zu(j,k,y),v.return=j,j=v;break e}s(j,k);break}else t(j,k);k=k.sibling}y.type===pd?(v=sc(y.props.children,j.mode,w,y.key),v.return=j,j=v):(w=Gf(y.type,y.key,y.props,null,j.mode,w),w.ref=Zu(j,v,y),w.return=j,j=w)}return l(j);case fd:e:{for(k=y.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){s(j,v.sibling),v=n(v,y.children||[]),v.return=j,j=v;break e}else{s(j,v);break}else t(j,v);v=v.sibling}v=Tb(y,j.mode,w),v.return=j,j=v}return l(j);case Rl:return k=y._init,b(j,v,k(y._payload),w)}if(bm(y))return x(j,v,y,w);if(qu(y))return p(j,v,y,w);X0(j,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(s(j,v.sibling),v=n(v,y),v.return=j,j=v):(s(j,v),v=Ab(y,j.mode,w),v.return=j,j=v),l(j)):s(j,v)}return b}var nu=UE(!0),zE=UE(!1),xp=Co(null),gp=null,Nd=null,Fj=null;function Rj(){Fj=Nd=gp=null}function Bj(e){var t=xp.current;Sr(xp),e._currentValue=t}function g1(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function Bd(e,t){gp=e,Fj=Nd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ea=!0),e.firstContext=null)}function Tn(e){var t=e._currentValue;if(Fj!==e)if(e={context:e,memoizedValue:t,next:null},Nd===null){if(gp===null)throw Error(Ye(308));Nd=e,gp.dependencies={lanes:0,firstContext:e}}else Nd=Nd.next=e;return t}var qo=null;function $j(e){qo===null?qo=[e]:qo.push(e)}function VE(e,t,s,a){var n=t.interleaved;return n===null?(s.next=s,$j(t)):(s.next=n.next,n.next=s),t.interleaved=s,il(e,a)}function il(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Bl=!1;function Uj(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function to(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,qt&2){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,il(e,s)}return n=a.interleaved,n===null?(t.next=t,$j(a)):(t.next=n.next,n.next=t),a.interleaved=t,il(e,s)}function $f(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,Cj(e,s)}}function m6(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var n=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?n=i=l:i=i.next=l,s=s.next}while(s!==null);i===null?n=i=t:i=i.next=t}else n=i=t;s={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function yp(e,t,s,a){var n=e.updateQueue;Bl=!1;var i=n.firstBaseUpdate,l=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=n.baseState;l=0,u=d=c=null,o=i;do{var f=o.lane,h=o.eventTime;if((a&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,p=o;switch(f=t,h=s,p.tag){case 1:if(x=p.payload,typeof x=="function"){m=x.call(h,m,f);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,f=typeof x=="function"?x.call(h,m,f):x,f==null)break e;m=Rr({},m,f);break e;case 2:Bl=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=n.effects,f===null?n.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=h,c=m):u=u.next=h,l|=f;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;f=o,o=f.next,f.next=null,n.lastBaseUpdate=f,n.shared.pending=null}}while(!0);if(u===null&&(c=m),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do l|=n.lane,n=n.next;while(n!==t)}else i===null&&(n.shared.lanes=0);bc|=l,e.lanes=l,e.memoizedState=m}}function h6(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(n!==null){if(a.callback=null,a=s,typeof n!="function")throw Error(Ye(191,n));n.call(a)}}}var Qh={},vi=Co(Qh),sh=Co(Qh),ah=Co(Qh);function Yo(e){if(e===Qh)throw Error(Ye(174));return e}function zj(e,t){switch(yr(ah,t),yr(sh,e),yr(vi,Qh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jv(t,e)}Sr(vi),yr(vi,t)}function iu(){Sr(vi),Sr(sh),Sr(ah)}function WE(e){Yo(ah.current);var t=Yo(vi.current),s=Jv(t,e.type);t!==s&&(yr(sh,e),yr(vi,s))}function Vj(e){sh.current===e&&(Sr(vi),Sr(sh))}var Or=Co(0);function bp(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wb=[];function Hj(){for(var e=0;e<wb.length;e++)wb[e]._workInProgressVersionPrimary=null;wb.length=0}var Uf=jl.ReactCurrentDispatcher,Nb=jl.ReactCurrentBatchConfig,yc=0,Lr=null,ps=null,Cs=null,vp=!1,_m=!1,nh=0,dU=0;function Js(){throw Error(Ye(321))}function Wj(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!ri(e[s],t[s]))return!1;return!0}function Gj(e,t,s,a,n,i){if(yc=i,Lr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Uf.current=e===null||e.memoizedState===null?fU:pU,e=s(a,n),_m){i=0;do{if(_m=!1,nh=0,25<=i)throw Error(Ye(301));i+=1,Cs=ps=null,t.updateQueue=null,Uf.current=xU,e=s(a,n)}while(_m)}if(Uf.current=jp,t=ps!==null&&ps.next!==null,yc=0,Cs=ps=Lr=null,vp=!1,t)throw Error(Ye(300));return e}function Kj(){var e=nh!==0;return nh=0,e}function mi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cs===null?Lr.memoizedState=Cs=e:Cs=Cs.next=e,Cs}function En(){if(ps===null){var e=Lr.alternate;e=e!==null?e.memoizedState:null}else e=ps.next;var t=Cs===null?Lr.memoizedState:Cs.next;if(t!==null)Cs=t,ps=e;else{if(e===null)throw Error(Ye(310));ps=e,e={memoizedState:ps.memoizedState,baseState:ps.baseState,baseQueue:ps.baseQueue,queue:ps.queue,next:null},Cs===null?Lr.memoizedState=Cs=e:Cs=Cs.next=e}return Cs}function ih(e,t){return typeof t=="function"?t(e):t}function Sb(e){var t=En(),s=t.queue;if(s===null)throw Error(Ye(311));s.lastRenderedReducer=e;var a=ps,n=a.baseQueue,i=s.pending;if(i!==null){if(n!==null){var l=n.next;n.next=i.next,i.next=l}a.baseQueue=n=i,s.pending=null}if(n!==null){i=n.next,a=a.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((yc&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,l=a):c=c.next=m,Lr.lanes|=u,bc|=u}d=d.next}while(d!==null&&d!==i);c===null?l=a:c.next=o,ri(a,t.memoizedState)||(Ea=!0),t.memoizedState=a,t.baseState=l,t.baseQueue=c,s.lastRenderedState=a}if(e=s.interleaved,e!==null){n=e;do i=n.lane,Lr.lanes|=i,bc|=i,n=n.next;while(n!==e)}else n===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function kb(e){var t=En(),s=t.queue;if(s===null)throw Error(Ye(311));s.lastRenderedReducer=e;var a=s.dispatch,n=s.pending,i=t.memoizedState;if(n!==null){s.pending=null;var l=n=n.next;do i=e(i,l.action),l=l.next;while(l!==n);ri(i,t.memoizedState)||(Ea=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,a]}function GE(){}function KE(e,t){var s=Lr,a=En(),n=t(),i=!ri(a.memoizedState,n);if(i&&(a.memoizedState=n,Ea=!0),a=a.queue,qj(XE.bind(null,s,a,e),[e]),a.getSnapshot!==t||i||Cs!==null&&Cs.memoizedState.tag&1){if(s.flags|=2048,lh(9,YE.bind(null,s,a,n,t),void 0,null),_s===null)throw Error(Ye(349));yc&30||qE(s,t,n)}return n}function qE(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Lr.updateQueue,t===null?(t={lastEffect:null,stores:null},Lr.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function YE(e,t,s,a){t.value=s,t.getSnapshot=a,JE(t)&&QE(e)}function XE(e,t,s){return s(function(){JE(t)&&QE(e)})}function JE(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!ri(e,s)}catch{return!0}}function QE(e){var t=il(e,1);t!==null&&Zn(t,e,1,-1)}function f6(e){var t=mi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ih,lastRenderedState:e},t.queue=e,e=e.dispatch=hU.bind(null,Lr,e),[t.memoizedState,e]}function lh(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},t=Lr.updateQueue,t===null?(t={lastEffect:null,stores:null},Lr.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e)),e}function ZE(){return En().memoizedState}function zf(e,t,s,a){var n=mi();Lr.flags|=e,n.memoizedState=lh(1|t,s,void 0,a===void 0?null:a)}function cg(e,t,s,a){var n=En();a=a===void 0?null:a;var i=void 0;if(ps!==null){var l=ps.memoizedState;if(i=l.destroy,a!==null&&Wj(a,l.deps)){n.memoizedState=lh(t,s,i,a);return}}Lr.flags|=e,n.memoizedState=lh(1|t,s,i,a)}function p6(e,t){return zf(8390656,8,e,t)}function qj(e,t){return cg(2048,8,e,t)}function e8(e,t){return cg(4,2,e,t)}function t8(e,t){return cg(4,4,e,t)}function r8(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function s8(e,t,s){return s=s!=null?s.concat([e]):null,cg(4,4,r8.bind(null,t,e),s)}function Yj(){}function a8(e,t){var s=En();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&Wj(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function n8(e,t){var s=En();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&Wj(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function i8(e,t,s){return yc&21?(ri(s,t)||(s=uE(),Lr.lanes|=s,bc|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ea=!0),e.memoizedState=s)}function uU(e,t){var s=or;or=s!==0&&4>s?s:4,e(!0);var a=Nb.transition;Nb.transition={};try{e(!1),t()}finally{or=s,Nb.transition=a}}function l8(){return En().memoizedState}function mU(e,t,s){var a=so(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},o8(e))c8(t,s);else if(s=VE(e,t,s,a),s!==null){var n=ja();Zn(s,e,a,n),d8(s,t,a)}}function hU(e,t,s){var a=so(e),n={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(o8(e))c8(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,s);if(n.hasEagerState=!0,n.eagerState=o,ri(o,l)){var c=t.interleaved;c===null?(n.next=n,$j(t)):(n.next=c.next,c.next=n),t.interleaved=n;return}}catch{}finally{}s=VE(e,t,n,a),s!==null&&(n=ja(),Zn(s,e,a,n),d8(s,t,a))}}function o8(e){var t=e.alternate;return e===Lr||t!==null&&t===Lr}function c8(e,t){_m=vp=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function d8(e,t,s){if(s&4194240){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,Cj(e,s)}}var jp={readContext:Tn,useCallback:Js,useContext:Js,useEffect:Js,useImperativeHandle:Js,useInsertionEffect:Js,useLayoutEffect:Js,useMemo:Js,useReducer:Js,useRef:Js,useState:Js,useDebugValue:Js,useDeferredValue:Js,useTransition:Js,useMutableSource:Js,useSyncExternalStore:Js,useId:Js,unstable_isNewReconciler:!1},fU={readContext:Tn,useCallback:function(e,t){return mi().memoizedState=[e,t===void 0?null:t],e},useContext:Tn,useEffect:p6,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,zf(4194308,4,r8.bind(null,t,e),s)},useLayoutEffect:function(e,t){return zf(4194308,4,e,t)},useInsertionEffect:function(e,t){return zf(4,2,e,t)},useMemo:function(e,t){var s=mi();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=mi();return t=s!==void 0?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=mU.bind(null,Lr,e),[a.memoizedState,e]},useRef:function(e){var t=mi();return e={current:e},t.memoizedState=e},useState:f6,useDebugValue:Yj,useDeferredValue:function(e){return mi().memoizedState=e},useTransition:function(){var e=f6(!1),t=e[0];return e=uU.bind(null,e[1]),mi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=Lr,n=mi();if(Er){if(s===void 0)throw Error(Ye(407));s=s()}else{if(s=t(),_s===null)throw Error(Ye(349));yc&30||qE(a,t,s)}n.memoizedState=s;var i={value:s,getSnapshot:t};return n.queue=i,p6(XE.bind(null,a,i,e),[e]),a.flags|=2048,lh(9,YE.bind(null,a,i,s,t),void 0,null),s},useId:function(){var e=mi(),t=_s.identifierPrefix;if(Er){var s=Hi,a=Vi;s=(a&~(1<<32-Qn(a)-1)).toString(32)+s,t=":"+t+"R"+s,s=nh++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=dU++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pU={readContext:Tn,useCallback:a8,useContext:Tn,useEffect:qj,useImperativeHandle:s8,useInsertionEffect:e8,useLayoutEffect:t8,useMemo:n8,useReducer:Sb,useRef:ZE,useState:function(){return Sb(ih)},useDebugValue:Yj,useDeferredValue:function(e){var t=En();return i8(t,ps.memoizedState,e)},useTransition:function(){var e=Sb(ih)[0],t=En().memoizedState;return[e,t]},useMutableSource:GE,useSyncExternalStore:KE,useId:l8,unstable_isNewReconciler:!1},xU={readContext:Tn,useCallback:a8,useContext:Tn,useEffect:qj,useImperativeHandle:s8,useInsertionEffect:e8,useLayoutEffect:t8,useMemo:n8,useReducer:kb,useRef:ZE,useState:function(){return kb(ih)},useDebugValue:Yj,useDeferredValue:function(e){var t=En();return ps===null?t.memoizedState=e:i8(t,ps.memoizedState,e)},useTransition:function(){var e=kb(ih)[0],t=En().memoizedState;return[e,t]},useMutableSource:GE,useSyncExternalStore:KE,useId:l8,unstable_isNewReconciler:!1};function Hn(e,t){if(e&&e.defaultProps){t=Rr({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function y1(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:Rr({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var dg={isMounted:function(e){return(e=e._reactInternals)?$c(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=ja(),n=so(e),i=qi(a,n);i.payload=t,s!=null&&(i.callback=s),t=to(e,i,n),t!==null&&(Zn(t,e,n,a),$f(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=ja(),n=so(e),i=qi(a,n);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=to(e,i,n),t!==null&&(Zn(t,e,n,a),$f(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ja(),a=so(e),n=qi(s,a);n.tag=2,t!=null&&(n.callback=t),t=to(e,n,a),t!==null&&(Zn(t,e,a,s),$f(t,e,a))}};function x6(e,t,s,a,n,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,l):t.prototype&&t.prototype.isPureReactComponent?!Zm(s,a)||!Zm(n,i):!0}function u8(e,t,s){var a=!1,n=ho,i=t.contextType;return typeof i=="object"&&i!==null?i=Tn(i):(n=Oa(t)?xc:ca.current,a=t.contextTypes,i=(a=a!=null)?su(e,n):ho),t=new t(s,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dg,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),t}function g6(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&dg.enqueueReplaceState(t,t.state,null)}function b1(e,t,s,a){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},Uj(e);var i=t.contextType;typeof i=="object"&&i!==null?n.context=Tn(i):(i=Oa(t)?xc:ca.current,n.context=su(e,i)),n.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(y1(e,t,i,s),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&dg.enqueueReplaceState(n,n.state,null),yp(e,s,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function lu(e,t){try{var s="",a=t;do s+=HB(a),a=a.return;while(a);var n=s}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:n,digest:null}}function Cb(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function v1(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var gU=typeof WeakMap=="function"?WeakMap:Map;function m8(e,t,s){s=qi(-1,s),s.tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){Np||(Np=!0,E1=a),v1(e,t)},s}function h8(e,t,s){s=qi(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=t.value;s.payload=function(){return a(n)},s.callback=function(){v1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){v1(e,t),typeof a!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),s}function y6(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new gU;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(s)||(n.add(s),e=_U.bind(null,e,t,s),t.then(e,e))}function b6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function v6(e,t,s,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=qi(-1,1),t.tag=2,to(s,t,1))),s.lanes|=1),e)}var yU=jl.ReactCurrentOwner,Ea=!1;function pa(e,t,s,a){t.child=e===null?zE(t,null,s,a):nu(t,e.child,s,a)}function j6(e,t,s,a,n){s=s.render;var i=t.ref;return Bd(t,n),a=Gj(e,t,s,a,i,n),s=Kj(),e!==null&&!Ea?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,ll(e,t,n)):(Er&&s&&Dj(t),t.flags|=1,pa(e,t,a,n),t.child)}function w6(e,t,s,a,n){if(e===null){var i=s.type;return typeof i=="function"&&!sw(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=i,f8(e,t,i,a,n)):(e=Gf(s.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&n)){var l=i.memoizedProps;if(s=s.compare,s=s!==null?s:Zm,s(l,a)&&e.ref===t.ref)return ll(e,t,n)}return t.flags|=1,e=ao(i,a),e.ref=t.ref,e.return=t,t.child=e}function f8(e,t,s,a,n){if(e!==null){var i=e.memoizedProps;if(Zm(i,a)&&e.ref===t.ref)if(Ea=!1,t.pendingProps=a=i,(e.lanes&n)!==0)e.flags&131072&&(Ea=!0);else return t.lanes=e.lanes,ll(e,t,n)}return j1(e,t,s,a,n)}function p8(e,t,s){var a=t.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},yr(kd,Ha),Ha|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,yr(kd,Ha),Ha|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:s,yr(kd,Ha),Ha|=a}else i!==null?(a=i.baseLanes|s,t.memoizedState=null):a=s,yr(kd,Ha),Ha|=a;return pa(e,t,n,s),t.child}function x8(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function j1(e,t,s,a,n){var i=Oa(s)?xc:ca.current;return i=su(t,i),Bd(t,n),s=Gj(e,t,s,a,i,n),a=Kj(),e!==null&&!Ea?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,ll(e,t,n)):(Er&&a&&Dj(t),t.flags|=1,pa(e,t,s,n),t.child)}function N6(e,t,s,a,n){if(Oa(s)){var i=!0;hp(t)}else i=!1;if(Bd(t,n),t.stateNode===null)Vf(e,t),u8(t,s,a),b1(t,s,a,n),a=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=s.contextType;typeof d=="object"&&d!==null?d=Tn(d):(d=Oa(s)?xc:ca.current,d=su(t,d));var u=s.getDerivedStateFromProps,m=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==a||c!==d)&&g6(t,l,a,d),Bl=!1;var f=t.memoizedState;l.state=f,yp(t,a,l,n),c=t.memoizedState,o!==a||f!==c||Ia.current||Bl?(typeof u=="function"&&(y1(t,s,u,a),c=t.memoizedState),(o=Bl||x6(t,s,o,a,f,c,d))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),l.props=a,l.state=c,l.context=d,a=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,HE(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Hn(t.type,o),l.props=d,m=t.pendingProps,f=l.context,c=s.contextType,typeof c=="object"&&c!==null?c=Tn(c):(c=Oa(s)?xc:ca.current,c=su(t,c));var h=s.getDerivedStateFromProps;(u=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||f!==c)&&g6(t,l,a,c),Bl=!1,f=t.memoizedState,l.state=f,yp(t,a,l,n);var x=t.memoizedState;o!==m||f!==x||Ia.current||Bl?(typeof h=="function"&&(y1(t,s,h,a),x=t.memoizedState),(d=Bl||x6(t,s,d,a,f,x,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,x,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=x),l.props=a,l.state=x,l.context=c,a=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),a=!1)}return w1(e,t,s,a,i,n)}function w1(e,t,s,a,n,i){x8(e,t);var l=(t.flags&128)!==0;if(!a&&!l)return n&&o6(t,s,!1),ll(e,t,i);a=t.stateNode,yU.current=t;var o=l&&typeof s.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&l?(t.child=nu(t,e.child,null,i),t.child=nu(t,null,o,i)):pa(e,t,o,i),t.memoizedState=a.state,n&&o6(t,s,!0),t.child}function g8(e){var t=e.stateNode;t.pendingContext?l6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&l6(e,t.context,!1),zj(e,t.containerInfo)}function S6(e,t,s,a,n){return au(),Lj(n),t.flags|=256,pa(e,t,s,a),t.child}var N1={dehydrated:null,treeContext:null,retryLane:0};function S1(e){return{baseLanes:e,cachePool:null,transitions:null}}function y8(e,t,s){var a=t.pendingProps,n=Or.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(n&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),yr(Or,n&1),e===null)return x1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=hg(l,a,0,null),e=sc(e,a,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=S1(s),t.memoizedState=N1,e):Xj(t,l));if(n=e.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return bU(e,t,l,a,o,n,s);if(i){i=a.fallback,l=t.mode,n=e.child,o=n.sibling;var c={mode:"hidden",children:a.children};return!(l&1)&&t.child!==n?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=ao(n,c),a.subtreeFlags=n.subtreeFlags&14680064),o!==null?i=ao(o,i):(i=sc(i,l,s,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=e.child.memoizedState,l=l===null?S1(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~s,t.memoizedState=N1,a}return i=e.child,e=i.sibling,a=ao(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=s),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function Xj(e,t){return t=hg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function J0(e,t,s,a){return a!==null&&Lj(a),nu(t,e.child,null,s),e=Xj(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bU(e,t,s,a,n,i,l){if(s)return t.flags&256?(t.flags&=-257,a=Cb(Error(Ye(422))),J0(e,t,l,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,n=t.mode,a=hg({mode:"visible",children:a.children},n,0,null),i=sc(i,n,l,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&nu(t,e.child,null,l),t.child.memoizedState=S1(l),t.memoizedState=N1,i);if(!(t.mode&1))return J0(e,t,l,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var o=a.dgst;return a=o,i=Error(Ye(419)),a=Cb(i,a,void 0),J0(e,t,l,a)}if(o=(l&e.childLanes)!==0,Ea||o){if(a=_s,a!==null){switch(l&-l){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|l)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,il(e,n),Zn(a,e,n,-1))}return rw(),a=Cb(Error(Ye(421))),J0(e,t,l,a)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=IU.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,Ja=eo(n.nextSibling),Za=t,Er=!0,Gn=null,e!==null&&(wn[Nn++]=Vi,wn[Nn++]=Hi,wn[Nn++]=gc,Vi=e.id,Hi=e.overflow,gc=t),t=Xj(t,a.children),t.flags|=4096,t)}function k6(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),g1(e.return,t,s)}function Pb(e,t,s,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=s,i.tailMode=n)}function b8(e,t,s){var a=t.pendingProps,n=a.revealOrder,i=a.tail;if(pa(e,t,a.children,s),a=Or.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&k6(e,s,t);else if(e.tag===19)k6(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(yr(Or,a),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(s=t.child,n=null;s!==null;)e=s.alternate,e!==null&&bp(e)===null&&(n=s),s=s.sibling;s=n,s===null?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),Pb(t,!1,n,s,i);break;case"backwards":for(s=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&bp(e)===null){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}Pb(t,!0,s,null,i);break;case"together":Pb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ll(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),bc|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ye(153));if(t.child!==null){for(e=t.child,s=ao(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=ao(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function vU(e,t,s){switch(t.tag){case 3:g8(t),au();break;case 5:WE(t);break;case 1:Oa(t.type)&&hp(t);break;case 4:zj(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;yr(xp,a._currentValue),a._currentValue=n;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(yr(Or,Or.current&1),t.flags|=128,null):s&t.child.childLanes?y8(e,t,s):(yr(Or,Or.current&1),e=ll(e,t,s),e!==null?e.sibling:null);yr(Or,Or.current&1);break;case 19:if(a=(s&t.childLanes)!==0,e.flags&128){if(a)return b8(e,t,s);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),yr(Or,Or.current),a)break;return null;case 22:case 23:return t.lanes=0,p8(e,t,s)}return ll(e,t,s)}var v8,k1,j8,w8;v8=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};k1=function(){};j8=function(e,t,s,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,Yo(vi.current);var i=null;switch(s){case"input":n=Kv(e,n),a=Kv(e,a),i=[];break;case"select":n=Rr({},n,{value:void 0}),a=Rr({},a,{value:void 0}),i=[];break;case"textarea":n=Xv(e,n),a=Xv(e,a),i=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=up)}Qv(s,a);var l;s=null;for(d in n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var o=n[d];for(l in o)o.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Gm.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(o=n!=null?n[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(s||(s={}),s[l]=c[l])}else s||(i||(i=[]),i.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Gm.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&jr("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};w8=function(e,t,s,a){s!==a&&(t.flags|=4)};function em(e,t){if(!Er)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Qs(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function jU(e,t,s){var a=t.pendingProps;switch(Mj(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qs(t),null;case 1:return Oa(t.type)&&mp(),Qs(t),null;case 3:return a=t.stateNode,iu(),Sr(Ia),Sr(ca),Hj(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Y0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gn!==null&&(O1(Gn),Gn=null))),k1(e,t),Qs(t),null;case 5:Vj(t);var n=Yo(ah.current);if(s=t.type,e!==null&&t.stateNode!=null)j8(e,t,s,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(Ye(166));return Qs(t),null}if(e=Yo(vi.current),Y0(t)){a=t.stateNode,s=t.type;var i=t.memoizedProps;switch(a[fi]=t,a[rh]=i,e=(t.mode&1)!==0,s){case"dialog":jr("cancel",a),jr("close",a);break;case"iframe":case"object":case"embed":jr("load",a);break;case"video":case"audio":for(n=0;n<jm.length;n++)jr(jm[n],a);break;case"source":jr("error",a);break;case"img":case"image":case"link":jr("error",a),jr("load",a);break;case"details":jr("toggle",a);break;case"input":D5(a,i),jr("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},jr("invalid",a);break;case"textarea":L5(a,i),jr("invalid",a)}Qv(s,i),n=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?a.textContent!==o&&(i.suppressHydrationWarning!==!0&&q0(a.textContent,o,e),n=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&q0(a.textContent,o,e),n=["children",""+o]):Gm.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&jr("scroll",a)}switch(s){case"input":$0(a),M5(a,i,!0);break;case"textarea":$0(a),F5(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=up)}a=n,t.updateQueue=a,a!==null&&(t.flags|=4)}else{l=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=XT(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=l.createElement(s,{is:a.is}):(e=l.createElement(s),s==="select"&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,s),e[fi]=t,e[rh]=a,v8(e,t,!1,!1),t.stateNode=e;e:{switch(l=Zv(s,a),s){case"dialog":jr("cancel",e),jr("close",e),n=a;break;case"iframe":case"object":case"embed":jr("load",e),n=a;break;case"video":case"audio":for(n=0;n<jm.length;n++)jr(jm[n],e);n=a;break;case"source":jr("error",e),n=a;break;case"img":case"image":case"link":jr("error",e),jr("load",e),n=a;break;case"details":jr("toggle",e),n=a;break;case"input":D5(e,a),n=Kv(e,a),jr("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=Rr({},a,{value:void 0}),jr("invalid",e);break;case"textarea":L5(e,a),n=Xv(e,a),jr("invalid",e);break;default:n=a}Qv(s,n),o=n;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?ZT(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&JT(e,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Km(e,c):typeof c=="number"&&Km(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gm.hasOwnProperty(i)?c!=null&&i==="onScroll"&&jr("scroll",e):c!=null&&vj(e,i,c,l))}switch(s){case"input":$0(e),M5(e,a,!1);break;case"textarea":$0(e),F5(e);break;case"option":a.value!=null&&e.setAttribute("value",""+mo(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?Md(e,!!a.multiple,i,!1):a.defaultValue!=null&&Md(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=up)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qs(t),null;case 6:if(e&&t.stateNode!=null)w8(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(Ye(166));if(s=Yo(ah.current),Yo(vi.current),Y0(t)){if(a=t.stateNode,s=t.memoizedProps,a[fi]=t,(i=a.nodeValue!==s)&&(e=Za,e!==null))switch(e.tag){case 3:q0(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&q0(a.nodeValue,s,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[fi]=t,t.stateNode=a}return Qs(t),null;case 13:if(Sr(Or),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Er&&Ja!==null&&t.mode&1&&!(t.flags&128))$E(),au(),t.flags|=98560,i=!1;else if(i=Y0(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(Ye(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ye(317));i[fi]=t}else au(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qs(t),i=!1}else Gn!==null&&(O1(Gn),Gn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Or.current&1?ys===0&&(ys=3):rw())),t.updateQueue!==null&&(t.flags|=4),Qs(t),null);case 4:return iu(),k1(e,t),e===null&&eh(t.stateNode.containerInfo),Qs(t),null;case 10:return Bj(t.type._context),Qs(t),null;case 17:return Oa(t.type)&&mp(),Qs(t),null;case 19:if(Sr(Or),i=t.memoizedState,i===null)return Qs(t),null;if(a=(t.flags&128)!==0,l=i.rendering,l===null)if(a)em(i,!1);else{if(ys!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=bp(e),l!==null){for(t.flags|=128,em(i,!1),a=l.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;s!==null;)i=s,e=a,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return yr(Or,Or.current&1|2),t.child}e=e.sibling}i.tail!==null&&Qr()>ou&&(t.flags|=128,a=!0,em(i,!1),t.lanes=4194304)}else{if(!a)if(e=bp(l),e!==null){if(t.flags|=128,a=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),em(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Er)return Qs(t),null}else 2*Qr()-i.renderingStartTime>ou&&s!==1073741824&&(t.flags|=128,a=!0,em(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(s=i.last,s!==null?s.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qr(),t.sibling=null,s=Or.current,yr(Or,a?s&1|2:s&1),t):(Qs(t),null);case 22:case 23:return tw(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Ha&1073741824&&(Qs(t),t.subtreeFlags&6&&(t.flags|=8192)):Qs(t),null;case 24:return null;case 25:return null}throw Error(Ye(156,t.tag))}function wU(e,t){switch(Mj(t),t.tag){case 1:return Oa(t.type)&&mp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return iu(),Sr(Ia),Sr(ca),Hj(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vj(t),null;case 13:if(Sr(Or),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ye(340));au()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Sr(Or),null;case 4:return iu(),null;case 10:return Bj(t.type._context),null;case 22:case 23:return tw(),null;case 24:return null;default:return null}}var Q0=!1,ta=!1,NU=typeof WeakSet=="function"?WeakSet:Set,yt=null;function Sd(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){Gr(e,t,a)}else s.current=null}function C1(e,t,s){try{s()}catch(a){Gr(e,t,a)}}var C6=!1;function SU(e,t){if(c1=op,e=PE(),Oj(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var l=0,o=-1,c=-1,d=0,u=0,m=e,f=null;t:for(;;){for(var h;m!==s||n!==0&&m.nodeType!==3||(o=l+n),m!==i||a!==0&&m.nodeType!==3||(c=l+a),m.nodeType===3&&(l+=m.nodeValue.length),(h=m.firstChild)!==null;)f=m,m=h;for(;;){if(m===e)break t;if(f===s&&++d===n&&(o=l),f===i&&++u===a&&(c=l),(h=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=h}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(d1={focusedElem:e,selectionRange:s},op=!1,yt=t;yt!==null;)if(t=yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,yt=e;else for(;yt!==null;){t=yt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,b=x.memoizedState,j=t.stateNode,v=j.getSnapshotBeforeUpdate(t.elementType===t.type?p:Hn(t.type,p),b);j.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ye(163))}}catch(w){Gr(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,yt=e;break}yt=t.return}return x=C6,C6=!1,x}function Im(e,t,s){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&C1(t,s,i)}n=n.next}while(n!==a)}}function ug(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function P1(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function N8(e){var t=e.alternate;t!==null&&(e.alternate=null,N8(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fi],delete t[rh],delete t[h1],delete t[iU],delete t[lU])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function S8(e){return e.tag===5||e.tag===3||e.tag===4}function P6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||S8(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function A1(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=up));else if(a!==4&&(e=e.child,e!==null))for(A1(e,t,s),e=e.sibling;e!==null;)A1(e,t,s),e=e.sibling}function T1(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(T1(e,t,s),e=e.sibling;e!==null;)T1(e,t,s),e=e.sibling}var Fs=null,Wn=!1;function Ol(e,t,s){for(s=s.child;s!==null;)k8(e,t,s),s=s.sibling}function k8(e,t,s){if(bi&&typeof bi.onCommitFiberUnmount=="function")try{bi.onCommitFiberUnmount(sg,s)}catch{}switch(s.tag){case 5:ta||Sd(s,t);case 6:var a=Fs,n=Wn;Fs=null,Ol(e,t,s),Fs=a,Wn=n,Fs!==null&&(Wn?(e=Fs,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Fs.removeChild(s.stateNode));break;case 18:Fs!==null&&(Wn?(e=Fs,s=s.stateNode,e.nodeType===8?vb(e.parentNode,s):e.nodeType===1&&vb(e,s),Jm(e)):vb(Fs,s.stateNode));break;case 4:a=Fs,n=Wn,Fs=s.stateNode.containerInfo,Wn=!0,Ol(e,t,s),Fs=a,Wn=n;break;case 0:case 11:case 14:case 15:if(!ta&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var i=n,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&C1(s,t,l),n=n.next}while(n!==a)}Ol(e,t,s);break;case 1:if(!ta&&(Sd(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(o){Gr(s,t,o)}Ol(e,t,s);break;case 21:Ol(e,t,s);break;case 22:s.mode&1?(ta=(a=ta)||s.memoizedState!==null,Ol(e,t,s),ta=a):Ol(e,t,s);break;default:Ol(e,t,s)}}function A6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new NU),t.forEach(function(a){var n=OU.bind(null,e,a);s.has(a)||(s.add(a),a.then(n,n))})}}function $n(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var n=s[a];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Fs=o.stateNode,Wn=!1;break e;case 3:Fs=o.stateNode.containerInfo,Wn=!0;break e;case 4:Fs=o.stateNode.containerInfo,Wn=!0;break e}o=o.return}if(Fs===null)throw Error(Ye(160));k8(i,l,n),Fs=null,Wn=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){Gr(n,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)C8(t,e),t=t.sibling}function C8(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($n(t,e),ci(e),a&4){try{Im(3,e,e.return),ug(3,e)}catch(p){Gr(e,e.return,p)}try{Im(5,e,e.return)}catch(p){Gr(e,e.return,p)}}break;case 1:$n(t,e),ci(e),a&512&&s!==null&&Sd(s,s.return);break;case 5:if($n(t,e),ci(e),a&512&&s!==null&&Sd(s,s.return),e.flags&32){var n=e.stateNode;try{Km(n,"")}catch(p){Gr(e,e.return,p)}}if(a&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,l=s!==null?s.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&qT(n,i),Zv(o,l);var d=Zv(o,i);for(l=0;l<c.length;l+=2){var u=c[l],m=c[l+1];u==="style"?ZT(n,m):u==="dangerouslySetInnerHTML"?JT(n,m):u==="children"?Km(n,m):vj(n,u,m,d)}switch(o){case"input":qv(n,i);break;case"textarea":YT(n,i);break;case"select":var f=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Md(n,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?Md(n,!!i.multiple,i.defaultValue,!0):Md(n,!!i.multiple,i.multiple?[]:"",!1))}n[rh]=i}catch(p){Gr(e,e.return,p)}}break;case 6:if($n(t,e),ci(e),a&4){if(e.stateNode===null)throw Error(Ye(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(p){Gr(e,e.return,p)}}break;case 3:if($n(t,e),ci(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Jm(t.containerInfo)}catch(p){Gr(e,e.return,p)}break;case 4:$n(t,e),ci(e);break;case 13:$n(t,e),ci(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(Zj=Qr())),a&4&&A6(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(ta=(d=ta)||u,$n(t,e),ta=d):$n(t,e),ci(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(yt=e,u=e.child;u!==null;){for(m=yt=u;yt!==null;){switch(f=yt,h=f.child,f.tag){case 0:case 11:case 14:case 15:Im(4,f,f.return);break;case 1:Sd(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){a=f,s=f.return;try{t=a,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(p){Gr(a,s,p)}}break;case 5:Sd(f,f.return);break;case 22:if(f.memoizedState!==null){E6(m);continue}}h!==null?(h.return=f,yt=h):E6(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{n=m.stateNode,d?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=QT("display",l))}catch(p){Gr(e,e.return,p)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(p){Gr(e,e.return,p)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:$n(t,e),ci(e),a&4&&A6(e);break;case 21:break;default:$n(t,e),ci(e)}}function ci(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(S8(s)){var a=s;break e}s=s.return}throw Error(Ye(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(Km(n,""),a.flags&=-33);var i=P6(e);T1(e,i,n);break;case 3:case 4:var l=a.stateNode.containerInfo,o=P6(e);A1(e,o,l);break;default:throw Error(Ye(161))}}catch(c){Gr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kU(e,t,s){yt=e,P8(e)}function P8(e,t,s){for(var a=(e.mode&1)!==0;yt!==null;){var n=yt,i=n.child;if(n.tag===22&&a){var l=n.memoizedState!==null||Q0;if(!l){var o=n.alternate,c=o!==null&&o.memoizedState!==null||ta;o=Q0;var d=ta;if(Q0=l,(ta=c)&&!d)for(yt=n;yt!==null;)l=yt,c=l.child,l.tag===22&&l.memoizedState!==null?_6(n):c!==null?(c.return=l,yt=c):_6(n);for(;i!==null;)yt=i,P8(i),i=i.sibling;yt=n,Q0=o,ta=d}T6(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,yt=i):T6(e)}}function T6(e){for(;yt!==null;){var t=yt;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ta||ug(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!ta)if(s===null)a.componentDidMount();else{var n=t.elementType===t.type?s.memoizedProps:Hn(t.type,s.memoizedProps);a.componentDidUpdate(n,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&h6(t,i,a);break;case 3:var l=t.updateQueue;if(l!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}h6(t,l,s)}break;case 5:var o=t.stateNode;if(s===null&&t.flags&4){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Jm(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ye(163))}ta||t.flags&512&&P1(t)}catch(f){Gr(t,t.return,f)}}if(t===e){yt=null;break}if(s=t.sibling,s!==null){s.return=t.return,yt=s;break}yt=t.return}}function E6(e){for(;yt!==null;){var t=yt;if(t===e){yt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,yt=s;break}yt=t.return}}function _6(e){for(;yt!==null;){var t=yt;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{ug(4,t)}catch(c){Gr(t,s,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var n=t.return;try{a.componentDidMount()}catch(c){Gr(t,n,c)}}var i=t.return;try{P1(t)}catch(c){Gr(t,i,c)}break;case 5:var l=t.return;try{P1(t)}catch(c){Gr(t,l,c)}}}catch(c){Gr(t,t.return,c)}if(t===e){yt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,yt=o;break}yt=t.return}}var CU=Math.ceil,wp=jl.ReactCurrentDispatcher,Jj=jl.ReactCurrentOwner,Pn=jl.ReactCurrentBatchConfig,qt=0,_s=null,ls=null,Vs=0,Ha=0,kd=Co(0),ys=0,oh=null,bc=0,mg=0,Qj=0,Om=null,Ta=null,Zj=0,ou=1/0,Ri=null,Np=!1,E1=null,ro=null,Z0=!1,Kl=null,Sp=0,Dm=0,_1=null,Hf=-1,Wf=0;function ja(){return qt&6?Qr():Hf!==-1?Hf:Hf=Qr()}function so(e){return e.mode&1?qt&2&&Vs!==0?Vs&-Vs:cU.transition!==null?(Wf===0&&(Wf=uE()),Wf):(e=or,e!==0||(e=window.event,e=e===void 0?16:yE(e.type)),e):1}function Zn(e,t,s,a){if(50<Dm)throw Dm=0,_1=null,Error(Ye(185));Yh(e,s,a),(!(qt&2)||e!==_s)&&(e===_s&&(!(qt&2)&&(mg|=s),ys===4&&Hl(e,Vs)),Da(e,a),s===1&&qt===0&&!(t.mode&1)&&(ou=Qr()+500,og&&Po()))}function Da(e,t){var s=e.callbackNode;c$(e,t);var a=lp(e,e===_s?Vs:0);if(a===0)s!==null&&$5(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(s!=null&&$5(s),t===1)e.tag===0?oU(I6.bind(null,e)):FE(I6.bind(null,e)),aU(function(){!(qt&6)&&Po()}),s=null;else{switch(mE(a)){case 1:s=kj;break;case 4:s=cE;break;case 16:s=ip;break;case 536870912:s=dE;break;default:s=ip}s=M8(s,A8.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function A8(e,t){if(Hf=-1,Wf=0,qt&6)throw Error(Ye(327));var s=e.callbackNode;if($d()&&e.callbackNode!==s)return null;var a=lp(e,e===_s?Vs:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=kp(e,a);else{t=a;var n=qt;qt|=2;var i=E8();(_s!==e||Vs!==t)&&(Ri=null,ou=Qr()+500,rc(e,t));do try{TU();break}catch(o){T8(e,o)}while(!0);Rj(),wp.current=i,qt=n,ls!==null?t=0:(_s=null,Vs=0,t=ys)}if(t!==0){if(t===2&&(n=a1(e),n!==0&&(a=n,t=I1(e,n))),t===1)throw s=oh,rc(e,0),Hl(e,a),Da(e,Qr()),s;if(t===6)Hl(e,a);else{if(n=e.current.alternate,!(a&30)&&!PU(n)&&(t=kp(e,a),t===2&&(i=a1(e),i!==0&&(a=i,t=I1(e,i))),t===1))throw s=oh,rc(e,0),Hl(e,a),Da(e,Qr()),s;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(Ye(345));case 2:Ro(e,Ta,Ri);break;case 3:if(Hl(e,a),(a&130023424)===a&&(t=Zj+500-Qr(),10<t)){if(lp(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){ja(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=m1(Ro.bind(null,e,Ta,Ri),t);break}Ro(e,Ta,Ri);break;case 4:if(Hl(e,a),(a&4194240)===a)break;for(t=e.eventTimes,n=-1;0<a;){var l=31-Qn(a);i=1<<l,l=t[l],l>n&&(n=l),a&=~i}if(a=n,a=Qr()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*CU(a/1960))-a,10<a){e.timeoutHandle=m1(Ro.bind(null,e,Ta,Ri),a);break}Ro(e,Ta,Ri);break;case 5:Ro(e,Ta,Ri);break;default:throw Error(Ye(329))}}}return Da(e,Qr()),e.callbackNode===s?A8.bind(null,e):null}function I1(e,t){var s=Om;return e.current.memoizedState.isDehydrated&&(rc(e,t).flags|=256),e=kp(e,t),e!==2&&(t=Ta,Ta=s,t!==null&&O1(t)),e}function O1(e){Ta===null?Ta=e:Ta.push.apply(Ta,e)}function PU(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var n=s[a],i=n.getSnapshot;n=n.value;try{if(!ri(i(),n))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hl(e,t){for(t&=~Qj,t&=~mg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Qn(t),a=1<<s;e[s]=-1,t&=~a}}function I6(e){if(qt&6)throw Error(Ye(327));$d();var t=lp(e,0);if(!(t&1))return Da(e,Qr()),null;var s=kp(e,t);if(e.tag!==0&&s===2){var a=a1(e);a!==0&&(t=a,s=I1(e,a))}if(s===1)throw s=oh,rc(e,0),Hl(e,t),Da(e,Qr()),s;if(s===6)throw Error(Ye(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ro(e,Ta,Ri),Da(e,Qr()),null}function ew(e,t){var s=qt;qt|=1;try{return e(t)}finally{qt=s,qt===0&&(ou=Qr()+500,og&&Po())}}function vc(e){Kl!==null&&Kl.tag===0&&!(qt&6)&&$d();var t=qt;qt|=1;var s=Pn.transition,a=or;try{if(Pn.transition=null,or=1,e)return e()}finally{or=a,Pn.transition=s,qt=t,!(qt&6)&&Po()}}function tw(){Ha=kd.current,Sr(kd)}function rc(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,sU(s)),ls!==null)for(s=ls.return;s!==null;){var a=s;switch(Mj(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&mp();break;case 3:iu(),Sr(Ia),Sr(ca),Hj();break;case 5:Vj(a);break;case 4:iu();break;case 13:Sr(Or);break;case 19:Sr(Or);break;case 10:Bj(a.type._context);break;case 22:case 23:tw()}s=s.return}if(_s=e,ls=e=ao(e.current,null),Vs=Ha=t,ys=0,oh=null,Qj=mg=bc=0,Ta=Om=null,qo!==null){for(t=0;t<qo.length;t++)if(s=qo[t],a=s.interleaved,a!==null){s.interleaved=null;var n=a.next,i=s.pending;if(i!==null){var l=i.next;i.next=n,a.next=l}s.pending=a}qo=null}return e}function T8(e,t){do{var s=ls;try{if(Rj(),Uf.current=jp,vp){for(var a=Lr.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}vp=!1}if(yc=0,Cs=ps=Lr=null,_m=!1,nh=0,Jj.current=null,s===null||s.return===null){ys=1,oh=t,ls=null;break}e:{var i=e,l=s.return,o=s,c=t;if(t=Vs,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=b6(l);if(h!==null){h.flags&=-257,v6(h,l,o,i,t),h.mode&1&&y6(i,d,t),t=h,c=d;var x=t.updateQueue;if(x===null){var p=new Set;p.add(c),t.updateQueue=p}else x.add(c);break e}else{if(!(t&1)){y6(i,d,t),rw();break e}c=Error(Ye(426))}}else if(Er&&o.mode&1){var b=b6(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),v6(b,l,o,i,t),Lj(lu(c,o));break e}}i=c=lu(c,o),ys!==4&&(ys=2),Om===null?Om=[i]:Om.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var j=m8(i,c,t);m6(i,j);break e;case 1:o=c;var v=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ro===null||!ro.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=h8(i,o,t);m6(i,w);break e}}i=i.return}while(i!==null)}I8(s)}catch(N){t=N,ls===s&&s!==null&&(ls=s=s.return);continue}break}while(!0)}function E8(){var e=wp.current;return wp.current=jp,e===null?jp:e}function rw(){(ys===0||ys===3||ys===2)&&(ys=4),_s===null||!(bc&268435455)&&!(mg&268435455)||Hl(_s,Vs)}function kp(e,t){var s=qt;qt|=2;var a=E8();(_s!==e||Vs!==t)&&(Ri=null,rc(e,t));do try{AU();break}catch(n){T8(e,n)}while(!0);if(Rj(),qt=s,wp.current=a,ls!==null)throw Error(Ye(261));return _s=null,Vs=0,ys}function AU(){for(;ls!==null;)_8(ls)}function TU(){for(;ls!==null&&!e$();)_8(ls)}function _8(e){var t=D8(e.alternate,e,Ha);e.memoizedProps=e.pendingProps,t===null?I8(e):ls=t,Jj.current=null}function I8(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=wU(s,t),s!==null){s.flags&=32767,ls=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ys=6,ls=null;return}}else if(s=jU(s,t,Ha),s!==null){ls=s;return}if(t=t.sibling,t!==null){ls=t;return}ls=t=e}while(t!==null);ys===0&&(ys=5)}function Ro(e,t,s){var a=or,n=Pn.transition;try{Pn.transition=null,or=1,EU(e,t,s,a)}finally{Pn.transition=n,or=a}return null}function EU(e,t,s,a){do $d();while(Kl!==null);if(qt&6)throw Error(Ye(327));s=e.finishedWork;var n=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(Ye(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(d$(e,i),e===_s&&(ls=_s=null,Vs=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Z0||(Z0=!0,M8(ip,function(){return $d(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=Pn.transition,Pn.transition=null;var l=or;or=1;var o=qt;qt|=4,Jj.current=null,SU(e,s),C8(s,e),X$(d1),op=!!c1,d1=c1=null,e.current=s,kU(s),t$(),qt=o,or=l,Pn.transition=i}else e.current=s;if(Z0&&(Z0=!1,Kl=e,Sp=n),i=e.pendingLanes,i===0&&(ro=null),a$(s.stateNode),Da(e,Qr()),t!==null)for(a=e.onRecoverableError,s=0;s<t.length;s++)n=t[s],a(n.value,{componentStack:n.stack,digest:n.digest});if(Np)throw Np=!1,e=E1,E1=null,e;return Sp&1&&e.tag!==0&&$d(),i=e.pendingLanes,i&1?e===_1?Dm++:(Dm=0,_1=e):Dm=0,Po(),null}function $d(){if(Kl!==null){var e=mE(Sp),t=Pn.transition,s=or;try{if(Pn.transition=null,or=16>e?16:e,Kl===null)var a=!1;else{if(e=Kl,Kl=null,Sp=0,qt&6)throw Error(Ye(331));var n=qt;for(qt|=4,yt=e.current;yt!==null;){var i=yt,l=i.child;if(yt.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(yt=d;yt!==null;){var u=yt;switch(u.tag){case 0:case 11:case 15:Im(8,u,i)}var m=u.child;if(m!==null)m.return=u,yt=m;else for(;yt!==null;){u=yt;var f=u.sibling,h=u.return;if(N8(u),u===d){yt=null;break}if(f!==null){f.return=h,yt=f;break}yt=h}}}var x=i.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var b=p.sibling;p.sibling=null,p=b}while(p!==null)}}yt=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,yt=l;else e:for(;yt!==null;){if(i=yt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Im(9,i,i.return)}var j=i.sibling;if(j!==null){j.return=i.return,yt=j;break e}yt=i.return}}var v=e.current;for(yt=v;yt!==null;){l=yt;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,yt=y;else e:for(l=v;yt!==null;){if(o=yt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ug(9,o)}}catch(N){Gr(o,o.return,N)}if(o===l){yt=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,yt=w;break e}yt=o.return}}if(qt=n,Po(),bi&&typeof bi.onPostCommitFiberRoot=="function")try{bi.onPostCommitFiberRoot(sg,e)}catch{}a=!0}return a}finally{or=s,Pn.transition=t}}return!1}function O6(e,t,s){t=lu(s,t),t=m8(e,t,1),e=to(e,t,1),t=ja(),e!==null&&(Yh(e,1,t),Da(e,t))}function Gr(e,t,s){if(e.tag===3)O6(e,e,s);else for(;t!==null;){if(t.tag===3){O6(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ro===null||!ro.has(a))){e=lu(s,e),e=h8(t,e,1),t=to(t,e,1),e=ja(),t!==null&&(Yh(t,1,e),Da(t,e));break}}t=t.return}}function _U(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),t=ja(),e.pingedLanes|=e.suspendedLanes&s,_s===e&&(Vs&s)===s&&(ys===4||ys===3&&(Vs&130023424)===Vs&&500>Qr()-Zj?rc(e,0):Qj|=s),Da(e,t)}function O8(e,t){t===0&&(e.mode&1?(t=V0,V0<<=1,!(V0&130023424)&&(V0=4194304)):t=1);var s=ja();e=il(e,t),e!==null&&(Yh(e,t,s),Da(e,s))}function IU(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),O8(e,s)}function OU(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(s=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(Ye(314))}a!==null&&a.delete(t),O8(e,s)}var D8;D8=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ia.current)Ea=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Ea=!1,vU(e,t,s);Ea=!!(e.flags&131072)}else Ea=!1,Er&&t.flags&1048576&&RE(t,pp,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Vf(e,t),e=t.pendingProps;var n=su(t,ca.current);Bd(t,s),n=Gj(null,t,a,e,n,s);var i=Kj();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oa(a)?(i=!0,hp(t)):i=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Uj(t),n.updater=dg,t.stateNode=n,n._reactInternals=t,b1(t,a,e,s),t=w1(null,t,a,!0,i,s)):(t.tag=0,Er&&i&&Dj(t),pa(null,t,n,s),t=t.child),t;case 16:a=t.elementType;e:{switch(Vf(e,t),e=t.pendingProps,n=a._init,a=n(a._payload),t.type=a,n=t.tag=MU(a),e=Hn(a,e),n){case 0:t=j1(null,t,a,e,s);break e;case 1:t=N6(null,t,a,e,s);break e;case 11:t=j6(null,t,a,e,s);break e;case 14:t=w6(null,t,a,Hn(a.type,e),s);break e}throw Error(Ye(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Hn(a,n),j1(e,t,a,n,s);case 1:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Hn(a,n),N6(e,t,a,n,s);case 3:e:{if(g8(t),e===null)throw Error(Ye(387));a=t.pendingProps,i=t.memoizedState,n=i.element,HE(e,t),yp(t,a,null,s);var l=t.memoizedState;if(a=l.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){n=lu(Error(Ye(423)),t),t=S6(e,t,a,s,n);break e}else if(a!==n){n=lu(Error(Ye(424)),t),t=S6(e,t,a,s,n);break e}else for(Ja=eo(t.stateNode.containerInfo.firstChild),Za=t,Er=!0,Gn=null,s=zE(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(au(),a===n){t=ll(e,t,s);break e}pa(e,t,a,s)}t=t.child}return t;case 5:return WE(t),e===null&&x1(t),a=t.type,n=t.pendingProps,i=e!==null?e.memoizedProps:null,l=n.children,u1(a,n)?l=null:i!==null&&u1(a,i)&&(t.flags|=32),x8(e,t),pa(e,t,l,s),t.child;case 6:return e===null&&x1(t),null;case 13:return y8(e,t,s);case 4:return zj(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=nu(t,null,a,s):pa(e,t,a,s),t.child;case 11:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Hn(a,n),j6(e,t,a,n,s);case 7:return pa(e,t,t.pendingProps,s),t.child;case 8:return pa(e,t,t.pendingProps.children,s),t.child;case 12:return pa(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,i=t.memoizedProps,l=n.value,yr(xp,a._currentValue),a._currentValue=l,i!==null)if(ri(i.value,l)){if(i.children===n.children&&!Ia.current){t=ll(e,t,s);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=qi(-1,s&-s),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),g1(i.return,s,t),o.lanes|=s;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(Ye(341));l.lanes|=s,o=l.alternate,o!==null&&(o.lanes|=s),g1(l,s,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}pa(e,t,n.children,s),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,Bd(t,s),n=Tn(n),a=a(n),t.flags|=1,pa(e,t,a,s),t.child;case 14:return a=t.type,n=Hn(a,t.pendingProps),n=Hn(a.type,n),w6(e,t,a,n,s);case 15:return f8(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Hn(a,n),Vf(e,t),t.tag=1,Oa(a)?(e=!0,hp(t)):e=!1,Bd(t,s),u8(t,a,n),b1(t,a,n,s),w1(null,t,a,!0,e,s);case 19:return b8(e,t,s);case 22:return p8(e,t,s)}throw Error(Ye(156,t.tag))};function M8(e,t){return oE(e,t)}function DU(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,t,s,a){return new DU(e,t,s,a)}function sw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function MU(e){if(typeof e=="function")return sw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wj)return 11;if(e===Nj)return 14}return 2}function ao(e,t){var s=e.alternate;return s===null?(s=kn(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Gf(e,t,s,a,n,i){var l=2;if(a=e,typeof e=="function")sw(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case pd:return sc(s.children,n,i,t);case jj:l=8,n|=8;break;case Vv:return e=kn(12,s,t,n|2),e.elementType=Vv,e.lanes=i,e;case Hv:return e=kn(13,s,t,n),e.elementType=Hv,e.lanes=i,e;case Wv:return e=kn(19,s,t,n),e.elementType=Wv,e.lanes=i,e;case WT:return hg(s,n,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case VT:l=10;break e;case HT:l=9;break e;case wj:l=11;break e;case Nj:l=14;break e;case Rl:l=16,a=null;break e}throw Error(Ye(130,e==null?e:typeof e,""))}return t=kn(l,s,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function sc(e,t,s,a){return e=kn(7,e,a,t),e.lanes=s,e}function hg(e,t,s,a){return e=kn(22,e,a,t),e.elementType=WT,e.lanes=s,e.stateNode={isHidden:!1},e}function Ab(e,t,s){return e=kn(6,e,null,t),e.lanes=s,e}function Tb(e,t,s){return t=kn(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function LU(e,t,s,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cb(0),this.expirationTimes=cb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cb(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function aw(e,t,s,a,n,i,l,o,c){return e=new LU(e,t,s,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=kn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uj(i),e}function FU(e,t,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fd,key:a==null?null:""+a,children:e,containerInfo:t,implementation:s}}function L8(e){if(!e)return ho;e=e._reactInternals;e:{if($c(e)!==e||e.tag!==1)throw Error(Ye(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ye(171))}if(e.tag===1){var s=e.type;if(Oa(s))return LE(e,s,t)}return t}function F8(e,t,s,a,n,i,l,o,c){return e=aw(s,a,!0,e,n,i,l,o,c),e.context=L8(null),s=e.current,a=ja(),n=so(s),i=qi(a,n),i.callback=t??null,to(s,i,n),e.current.lanes=n,Yh(e,n,a),Da(e,a),e}function fg(e,t,s,a){var n=t.current,i=ja(),l=so(n);return s=L8(s),t.context===null?t.context=s:t.pendingContext=s,t=qi(i,l),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=to(n,t,l),e!==null&&(Zn(e,n,l,i),$f(e,n,l)),l}function Cp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function D6(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function nw(e,t){D6(e,t),(e=e.alternate)&&D6(e,t)}function RU(){return null}var R8=typeof reportError=="function"?reportError:function(e){console.error(e)};function iw(e){this._internalRoot=e}pg.prototype.render=iw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ye(409));fg(e,t,null,null)};pg.prototype.unmount=iw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vc(function(){fg(null,e,null,null)}),t[nl]=null}};function pg(e){this._internalRoot=e}pg.prototype.unstable_scheduleHydration=function(e){if(e){var t=pE();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Vl.length&&t!==0&&t<Vl[s].priority;s++);Vl.splice(s,0,e),s===0&&gE(e)}};function lw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function M6(){}function BU(e,t,s,a,n){if(n){if(typeof a=="function"){var i=a;a=function(){var d=Cp(l);i.call(d)}}var l=F8(t,a,e,0,null,!1,!1,"",M6);return e._reactRootContainer=l,e[nl]=l.current,eh(e.nodeType===8?e.parentNode:e),vc(),l}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var o=a;a=function(){var d=Cp(c);o.call(d)}}var c=aw(e,0,!1,null,null,!1,!1,"",M6);return e._reactRootContainer=c,e[nl]=c.current,eh(e.nodeType===8?e.parentNode:e),vc(function(){fg(t,c,s,a)}),c}function gg(e,t,s,a,n){var i=s._reactRootContainer;if(i){var l=i;if(typeof n=="function"){var o=n;n=function(){var c=Cp(l);o.call(c)}}fg(t,l,e,n)}else l=BU(s,t,e,n,a);return Cp(l)}hE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=vm(t.pendingLanes);s!==0&&(Cj(t,s|1),Da(t,Qr()),!(qt&6)&&(ou=Qr()+500,Po()))}break;case 13:vc(function(){var a=il(e,1);if(a!==null){var n=ja();Zn(a,e,1,n)}}),nw(e,1)}};Pj=function(e){if(e.tag===13){var t=il(e,134217728);if(t!==null){var s=ja();Zn(t,e,134217728,s)}nw(e,134217728)}};fE=function(e){if(e.tag===13){var t=so(e),s=il(e,t);if(s!==null){var a=ja();Zn(s,e,t,a)}nw(e,t)}};pE=function(){return or};xE=function(e,t){var s=or;try{return or=e,t()}finally{or=s}};t1=function(e,t,s){switch(t){case"input":if(qv(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var n=lg(a);if(!n)throw Error(Ye(90));KT(a),qv(a,n)}}}break;case"textarea":YT(e,s);break;case"select":t=s.value,t!=null&&Md(e,!!s.multiple,t,!1)}};rE=ew;sE=vc;var $U={usingClientEntryPoint:!1,Events:[Jh,bd,lg,eE,tE,ew]},tm={findFiberByHostInstance:Ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UU={bundleType:tm.bundleType,version:tm.version,rendererPackageName:tm.rendererPackageName,rendererConfig:tm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iE(e),e===null?null:e.stateNode},findFiberByHostInstance:tm.findFiberByHostInstance||RU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ef.isDisabled&&ef.supportsFiber)try{sg=ef.inject(UU),bi=ef}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$U;on.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lw(t))throw Error(Ye(200));return FU(e,t,null,s)};on.createRoot=function(e,t){if(!lw(e))throw Error(Ye(299));var s=!1,a="",n=R8;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=aw(e,1,!1,null,null,s,!1,a,n),e[nl]=t.current,eh(e.nodeType===8?e.parentNode:e),new iw(t)};on.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ye(188)):(e=Object.keys(e).join(","),Error(Ye(268,e)));return e=iE(t),e=e===null?null:e.stateNode,e};on.flushSync=function(e){return vc(e)};on.hydrate=function(e,t,s){if(!xg(t))throw Error(Ye(200));return gg(null,e,t,!0,s)};on.hydrateRoot=function(e,t,s){if(!lw(e))throw Error(Ye(405));var a=s!=null&&s.hydratedSources||null,n=!1,i="",l=R8;if(s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),t=F8(t,null,e,1,s??null,n,!1,i,l),e[nl]=t.current,eh(e),a)for(e=0;e<a.length;e++)s=a[e],n=s._getVersion,n=n(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,n]:t.mutableSourceEagerHydrationData.push(s,n);return new pg(t)};on.render=function(e,t,s){if(!xg(t))throw Error(Ye(200));return gg(null,e,t,!1,s)};on.unmountComponentAtNode=function(e){if(!xg(e))throw Error(Ye(40));return e._reactRootContainer?(vc(function(){gg(null,null,e,!1,function(){e._reactRootContainer=null,e[nl]=null})}),!0):!1};on.unstable_batchedUpdates=ew;on.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!xg(s))throw Error(Ye(200));if(e==null||e._reactInternals===void 0)throw Error(Ye(38));return gg(e,t,s,!1,a)};on.version="18.3.1-next-f1338f8080-20240426";function B8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B8)}catch(e){console.error(e)}}B8(),BT.exports=on;var yg=BT.exports,L6=yg;Uv.createRoot=L6.createRoot,Uv.hydrateRoot=L6.hydrateRoot;var zU=typeof Element<"u",VU=typeof Map=="function",HU=typeof Set=="function",WU=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Kf(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var s,a,n;if(Array.isArray(e)){if(s=e.length,s!=t.length)return!1;for(a=s;a--!==0;)if(!Kf(e[a],t[a]))return!1;return!0}var i;if(VU&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(a=i.next()).done;)if(!t.has(a.value[0]))return!1;for(i=e.entries();!(a=i.next()).done;)if(!Kf(a.value[1],t.get(a.value[0])))return!1;return!0}if(HU&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(a=i.next()).done;)if(!t.has(a.value[0]))return!1;return!0}if(WU&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(s=e.length,s!=t.length)return!1;for(a=s;a--!==0;)if(e[a]!==t[a])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(n=Object.keys(e),s=n.length,s!==Object.keys(t).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,n[a]))return!1;if(zU&&e instanceof Element)return!1;for(a=s;a--!==0;)if(!((n[a]==="_owner"||n[a]==="__v"||n[a]==="__o")&&e.$$typeof)&&!Kf(e[n[a]],t[n[a]]))return!1;return!0}return e!==e&&t!==t}var GU=function(t,s){try{return Kf(t,s)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}};const KU=Dn(GU);var qU=function(e,t,s,a,n,i,l,o){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[s,a,n,i,l,o],u=0;c=new Error(t.replace(/%s/g,function(){return d[u++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},YU=qU;const F6=Dn(YU);var XU=function(t,s,a,n){var i=a?a.call(n,t,s):void 0;if(i!==void 0)return!!i;if(t===s)return!0;if(typeof t!="object"||!t||typeof s!="object"||!s)return!1;var l=Object.keys(t),o=Object.keys(s);if(l.length!==o.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(s),d=0;d<l.length;d++){var u=l[d];if(!c(u))return!1;var m=t[u],f=s[u];if(i=a?a.call(n,m,f,u):void 0,i===!1||i===void 0&&m!==f)return!1}return!0};const JU=Dn(XU);var $8=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))($8||{}),Eb={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},R6=Object.values($8),ow={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},QU=Object.entries(ow).reduce((e,[t,s])=>(e[s]=t,e),{}),Xn="data-rh",Ud={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},zd=(e,t)=>{for(let s=e.length-1;s>=0;s-=1){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,t))return a[t]}return null},ZU=e=>{let t=zd(e,"title");const s=zd(e,Ud.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),s&&t)return s.replace(/%s/g,()=>t);const a=zd(e,Ud.DEFAULT_TITLE);return t||a||void 0},ez=e=>zd(e,Ud.ON_CHANGE_CLIENT_STATE)||(()=>{}),_b=(e,t)=>t.filter(s=>typeof s[e]<"u").map(s=>s[e]).reduce((s,a)=>({...s,...a}),{}),tz=(e,t)=>t.filter(s=>typeof s.base<"u").map(s=>s.base).reverse().reduce((s,a)=>{if(!s.length){const n=Object.keys(a);for(let i=0;i<n.length;i+=1){const o=n[i].toLowerCase();if(e.indexOf(o)!==-1&&a[o])return s.concat(a)}}return s},[]),rz=e=>console&&typeof console.warn=="function"&&console.warn(e),rm=(e,t,s)=>{const a={};return s.filter(n=>Array.isArray(n[e])?!0:(typeof n[e]<"u"&&rz(`Helmet: ${e} should be of type "Array". Instead found type "${typeof n[e]}"`),!1)).map(n=>n[e]).reverse().reduce((n,i)=>{const l={};i.filter(c=>{let d;const u=Object.keys(c);for(let f=0;f<u.length;f+=1){const h=u[f],x=h.toLowerCase();t.indexOf(x)!==-1&&!(d==="rel"&&c[d].toLowerCase()==="canonical")&&!(x==="rel"&&c[x].toLowerCase()==="stylesheet")&&(d=x),t.indexOf(h)!==-1&&(h==="innerHTML"||h==="cssText"||h==="itemprop")&&(d=h)}if(!d||!c[d])return!1;const m=c[d].toLowerCase();return a[d]||(a[d]={}),l[d]||(l[d]={}),a[d][m]?!1:(l[d][m]=!0,!0)}).reverse().forEach(c=>n.push(c));const o=Object.keys(l);for(let c=0;c<o.length;c+=1){const d=o[c],u={...a[d],...l[d]};a[d]=u}return n},[]).reverse()},sz=(e,t)=>{if(Array.isArray(e)&&e.length){for(let s=0;s<e.length;s+=1)if(e[s][t])return!0}return!1},az=e=>({baseTag:tz(["href"],e),bodyAttributes:_b("bodyAttributes",e),defer:zd(e,Ud.DEFER),encode:zd(e,Ud.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:_b("htmlAttributes",e),linkTags:rm("link",["rel","href"],e),metaTags:rm("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:rm("noscript",["innerHTML"],e),onChangeClientState:ez(e),scriptTags:rm("script",["src","innerHTML"],e),styleTags:rm("style",["cssText"],e),title:ZU(e),titleAttributes:_b("titleAttributes",e),prioritizeSeoTags:sz(e,Ud.PRIORITIZE_SEO_TAGS)}),U8=e=>Array.isArray(e)?e.join(""):e,nz=(e,t)=>{const s=Object.keys(e);for(let a=0;a<s.length;a+=1)if(t[s[a]]&&t[s[a]].includes(e[s[a]]))return!0;return!1},Ib=(e,t)=>Array.isArray(e)?e.reduce((s,a)=>(nz(a,t)?s.priority.push(a):s.default.push(a),s),{priority:[],default:[]}):{default:e,priority:[]},B6=(e,t)=>({...e,[t]:void 0}),iz=["noscript","script","style"],D1=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),z8=e=>Object.keys(e).reduce((t,s)=>{const a=typeof e[s]<"u"?`${s}="${e[s]}"`:`${s}`;return t?`${t} ${a}`:a},""),lz=(e,t,s,a)=>{const n=z8(s),i=U8(t);return n?`<${e} ${Xn}="true" ${n}>${D1(i,a)}</${e}>`:`<${e} ${Xn}="true">${D1(i,a)}</${e}>`},oz=(e,t,s=!0)=>t.reduce((a,n)=>{const i=n,l=Object.keys(i).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,u)=>{const m=typeof i[u]>"u"?u:`${u}="${D1(i[u],s)}"`;return d?`${d} ${m}`:m},""),o=i.innerHTML||i.cssText||"",c=iz.indexOf(e)===-1;return`${a}<${e} ${Xn}="true" ${l}${c?"/>":`>${o}</${e}>`}`},""),V8=(e,t={})=>Object.keys(e).reduce((s,a)=>{const n=ow[a];return s[n||a]=e[a],s},t),cz=(e,t,s)=>{const a={key:t,[Xn]:!0},n=V8(s,a);return[At.createElement("title",n,t)]},qf=(e,t)=>t.map((s,a)=>{const n={key:a,[Xn]:!0};return Object.keys(s).forEach(i=>{const o=ow[i]||i;if(o==="innerHTML"||o==="cssText"){const c=s.innerHTML||s.cssText;n.dangerouslySetInnerHTML={__html:c}}else n[o]=s[i]}),At.createElement(e,n)}),vn=(e,t,s=!0)=>{switch(e){case"title":return{toComponent:()=>cz(e,t.title,t.titleAttributes),toString:()=>lz(e,t.title,t.titleAttributes,s)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>V8(t),toString:()=>z8(t)};default:return{toComponent:()=>qf(e,t),toString:()=>oz(e,t,s)}}},dz=({metaTags:e,linkTags:t,scriptTags:s,encode:a})=>{const n=Ib(e,Eb.meta),i=Ib(t,Eb.link),l=Ib(s,Eb.script);return{priorityMethods:{toComponent:()=>[...qf("meta",n.priority),...qf("link",i.priority),...qf("script",l.priority)],toString:()=>`${vn("meta",n.priority,a)} ${vn("link",i.priority,a)} ${vn("script",l.priority,a)}`},metaTags:n.default,linkTags:i.default,scriptTags:l.default}},uz=e=>{const{baseTag:t,bodyAttributes:s,encode:a=!0,htmlAttributes:n,noscriptTags:i,styleTags:l,title:o="",titleAttributes:c,prioritizeSeoTags:d}=e;let{linkTags:u,metaTags:m,scriptTags:f}=e,h={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:h,linkTags:u,metaTags:m,scriptTags:f}=dz(e)),{priority:h,base:vn("base",t,a),bodyAttributes:vn("bodyAttributes",s,a),htmlAttributes:vn("htmlAttributes",n,a),link:vn("link",u,a),meta:vn("meta",m,a),noscript:vn("noscript",i,a),script:vn("script",f,a),style:vn("style",l,a),title:vn("title",{title:o,titleAttributes:c},a)}},M1=uz,tf=[],H8=!!(typeof window<"u"&&window.document&&window.document.createElement),L1=class{constructor(e,t){Bn(this,"instances",[]);Bn(this,"canUseDOM",H8);Bn(this,"context");Bn(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?tf:this.instances,add:e=>{(this.canUseDOM?tf:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?tf:this.instances).indexOf(e);(this.canUseDOM?tf:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=M1({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},mz={},W8=At.createContext(mz),tc,G8=(tc=class extends g.Component{constructor(s){super(s);Bn(this,"helmetData");this.helmetData=new L1(this.props.context||{},tc.canUseDOM)}render(){return At.createElement(W8.Provider,{value:this.helmetData.value},this.props.children)}},Bn(tc,"canUseDOM",H8),tc),sd=(e,t)=>{const s=document.head||document.querySelector("head"),a=s.querySelectorAll(`${e}[${Xn}]`),n=[].slice.call(a),i=[];let l;return t&&t.length&&t.forEach(o=>{const c=document.createElement(e);for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d))if(d==="innerHTML")c.innerHTML=o.innerHTML;else if(d==="cssText")c.styleSheet?c.styleSheet.cssText=o.cssText:c.appendChild(document.createTextNode(o.cssText));else{const u=d,m=typeof o[u]>"u"?"":o[u];c.setAttribute(d,m)}c.setAttribute(Xn,"true"),n.some((d,u)=>(l=u,c.isEqualNode(d)))?n.splice(l,1):i.push(c)}),n.forEach(o=>{var c;return(c=o.parentNode)==null?void 0:c.removeChild(o)}),i.forEach(o=>s.appendChild(o)),{oldTags:n,newTags:i}},F1=(e,t)=>{const s=document.getElementsByTagName(e)[0];if(!s)return;const a=s.getAttribute(Xn),n=a?a.split(","):[],i=[...n],l=Object.keys(t);for(const o of l){const c=t[o]||"";s.getAttribute(o)!==c&&s.setAttribute(o,c),n.indexOf(o)===-1&&n.push(o);const d=i.indexOf(o);d!==-1&&i.splice(d,1)}for(let o=i.length-1;o>=0;o-=1)s.removeAttribute(i[o]);n.length===i.length?s.removeAttribute(Xn):s.getAttribute(Xn)!==l.join(",")&&s.setAttribute(Xn,l.join(","))},hz=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=U8(e)),F1("title",t)},$6=(e,t)=>{const{baseTag:s,bodyAttributes:a,htmlAttributes:n,linkTags:i,metaTags:l,noscriptTags:o,onChangeClientState:c,scriptTags:d,styleTags:u,title:m,titleAttributes:f}=e;F1("body",a),F1("html",n),hz(m,f);const h={baseTag:sd("base",s),linkTags:sd("link",i),metaTags:sd("meta",l),noscriptTags:sd("noscript",o),scriptTags:sd("script",d),styleTags:sd("style",u)},x={},p={};Object.keys(h).forEach(b=>{const{newTags:j,oldTags:v}=h[b];j.length&&(x[b]=j),v.length&&(p[b]=h[b].oldTags)}),t&&t(),c(e,x,p)},sm=null,fz=e=>{sm&&cancelAnimationFrame(sm),e.defer?sm=requestAnimationFrame(()=>{$6(e,()=>{sm=null})}):($6(e),sm=null)},pz=fz,U6=class extends g.Component{constructor(){super(...arguments);Bn(this,"rendered",!1)}shouldComponentUpdate(t){return!JU(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:s}=this.props.context;let a=null;const n=az(t.get().map(i=>{const l={...i.props};return delete l.context,l}));G8.canUseDOM?pz(n):M1&&(a=M1(n)),s(a)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},$v,xz=($v=class extends g.Component{shouldComponentUpdate(e){return!KU(B6(this.props,"helmetData"),B6(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,s,a){return{...t,[e.type]:[...t[e.type]||[],{...s,...this.mapNestedChildrenToProps(e,a)}]}}mapObjectTypeChildren(e,t,s,a){switch(e.type){case"title":return{...t,[e.type]:a,titleAttributes:{...s}};case"body":return{...t,bodyAttributes:{...s}};case"html":return{...t,htmlAttributes:{...s}};default:return{...t,[e.type]:{...s}}}}mapArrayTypeChildrenToProps(e,t){let s={...t};return Object.keys(e).forEach(a=>{s={...s,[a]:e[a]}}),s}warnOnInvalidChildren(e,t){return F6(R6.some(s=>e.type===s),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${R6.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),F6(!t||typeof t=="string"||Array.isArray(t)&&!t.some(s=>typeof s!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let s={};return At.Children.forEach(e,a=>{if(!a||!a.props)return;const{children:n,...i}=a.props,l=Object.keys(i).reduce((c,d)=>(c[QU[d]||d]=i[d],c),{});let{type:o}=a;switch(typeof o=="symbol"?o=o.toString():this.warnOnInvalidChildren(a,n),o){case"Symbol(react.fragment)":t=this.mapChildrenToProps(n,t);break;case"link":case"meta":case"noscript":case"script":case"style":s=this.flattenArrayTypeChildren(a,s,l,n);break;default:t=this.mapObjectTypeChildren(a,t,l,n);break}}),this.mapArrayTypeChildrenToProps(s,t)}render(){const{children:e,...t}=this.props;let s={...t},{helmetData:a}=t;if(e&&(s=this.mapChildrenToProps(e,s)),a&&!(a instanceof L1)){const n=a;a=new L1(n.context,!0),delete s.helmetData}return a?At.createElement(U6,{...s,context:a.value}):At.createElement(W8.Consumer,null,n=>At.createElement(U6,{...s,context:n}))}},Bn($v,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),$v);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ch.apply(this,arguments)}var ql;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ql||(ql={}));const z6="popstate";function gz(e){e===void 0&&(e={});function t(a,n){let{pathname:i,search:l,hash:o}=a.location;return R1("",{pathname:i,search:l,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:Pp(n)}return bz(t,s,null,e)}function Fr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function K8(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yz(){return Math.random().toString(36).substr(2,8)}function V6(e,t){return{usr:e.state,key:e.key,idx:t}}function R1(e,t,s,a){return s===void 0&&(s=null),ch({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ku(t):t,{state:s,key:t&&t.key||a||yz()})}function Pp(e){let{pathname:t="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function ku(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function bz(e,t,s,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,l=n.history,o=ql.Pop,c=null,d=u();d==null&&(d=0,l.replaceState(ch({},l.state,{idx:d}),""));function u(){return(l.state||{idx:null}).idx}function m(){o=ql.Pop;let b=u(),j=b==null?null:b-d;d=b,c&&c({action:o,location:p.location,delta:j})}function f(b,j){o=ql.Push;let v=R1(p.location,b,j);d=u()+1;let y=V6(v,d),w=p.createHref(v);try{l.pushState(y,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;n.location.assign(w)}i&&c&&c({action:o,location:p.location,delta:1})}function h(b,j){o=ql.Replace;let v=R1(p.location,b,j);d=u();let y=V6(v,d),w=p.createHref(v);l.replaceState(y,"",w),i&&c&&c({action:o,location:p.location,delta:0})}function x(b){let j=n.location.origin!=="null"?n.location.origin:n.location.href,v=typeof b=="string"?b:Pp(b);return v=v.replace(/ $/,"%20"),Fr(j,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,j)}let p={get action(){return o},get location(){return e(n,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(z6,m),c=b,()=>{n.removeEventListener(z6,m),c=null}},createHref(b){return t(n,b)},createURL:x,encodeLocation(b){let j=x(b);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:f,replace:h,go(b){return l.go(b)}};return p}var H6;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(H6||(H6={}));function vz(e,t,s){return s===void 0&&(s="/"),jz(e,t,s)}function jz(e,t,s,a){let n=typeof t=="string"?ku(t):t,i=cu(n.pathname||"/",s);if(i==null)return null;let l=q8(e);wz(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=Oz(i);o=_z(l[c],d)}return o}function q8(e,t,s,a){t===void 0&&(t=[]),s===void 0&&(s=[]),a===void 0&&(a="");let n=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(Fr(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let d=no([a,c.relativePath]),u=s.concat(c);i.children&&i.children.length>0&&(Fr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),q8(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Tz(d,i.index),routesMeta:u})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))n(i,l);else for(let c of Y8(i.path))n(i,l,c)}),t}function Y8(e){let t=e.split("/");if(t.length===0)return[];let[s,...a]=t,n=s.endsWith("?"),i=s.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let l=Y8(a.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),n&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function wz(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:Ez(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const Nz=/^:[\w-]+$/,Sz=3,kz=2,Cz=1,Pz=10,Az=-2,W6=e=>e==="*";function Tz(e,t){let s=e.split("/"),a=s.length;return s.some(W6)&&(a+=Az),t&&(a+=kz),s.filter(n=>!W6(n)).reduce((n,i)=>n+(Nz.test(i)?Sz:i===""?Cz:Pz),a)}function Ez(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function _z(e,t,s){let{routesMeta:a}=e,n={},i="/",l=[];for(let o=0;o<a.length;++o){let c=a[o],d=o===a.length-1,u=i==="/"?t:t.slice(i.length)||"/",m=B1({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!m)return null;Object.assign(n,m.params),l.push({params:n,pathname:no([i,m.pathname]),pathnameBase:Fz(no([i,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(i=no([i,m.pathnameBase]))}return l}function B1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=Iz(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let i=n[0],l=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((d,u,m)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let p=o[m]||"";l=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const x=o[m];return h&&!x?d[f]=void 0:d[f]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function Iz(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),K8(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function Oz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return K8(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function Dz(e,t){t===void 0&&(t="/");let{pathname:s,search:a="",hash:n=""}=typeof e=="string"?ku(e):e;return{pathname:s?s.startsWith("/")?s:Mz(s,t):t,search:Rz(a),hash:Bz(n)}}function Mz(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function Ob(e,t,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lz(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function cw(e,t){let s=Lz(e);return t?s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function dw(e,t,s,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=ku(e):(n=ch({},e),Fr(!n.pathname||!n.pathname.includes("?"),Ob("?","pathname","search",n)),Fr(!n.pathname||!n.pathname.includes("#"),Ob("#","pathname","hash",n)),Fr(!n.search||!n.search.includes("#"),Ob("#","search","hash",n)));let i=e===""||n.pathname==="",l=i?"/":n.pathname,o;if(l==null)o=s;else{let m=t.length-1;if(!a&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),m-=1;n.pathname=f.join("/")}o=m>=0?t[m]:"/"}let c=Dz(n,o),d=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const no=e=>e.join("/").replace(/\/\/+/g,"/"),Fz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Rz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Bz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $z(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const X8=["post","put","patch","delete"];new Set(X8);const Uz=["get",...X8];new Set(Uz);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},dh.apply(this,arguments)}const bg=g.createContext(null),J8=g.createContext(null),wl=g.createContext(null),vg=g.createContext(null),Oi=g.createContext({outlet:null,matches:[],isDataRoute:!1}),Q8=g.createContext(null);function zz(e,t){let{relative:s}=t===void 0?{}:t;Cu()||Fr(!1);let{basename:a,navigator:n}=g.useContext(wl),{hash:i,pathname:l,search:o}=wg(e,{relative:s}),c=l;return a!=="/"&&(c=l==="/"?a:no([a,l])),n.createHref({pathname:c,search:o,hash:i})}function Cu(){return g.useContext(vg)!=null}function Br(){return Cu()||Fr(!1),g.useContext(vg).location}function Z8(e){g.useContext(wl).static||g.useLayoutEffect(e)}function ms(){let{isDataRoute:e}=g.useContext(Oi);return e?sV():Vz()}function Vz(){Cu()||Fr(!1);let e=g.useContext(bg),{basename:t,future:s,navigator:a}=g.useContext(wl),{matches:n}=g.useContext(Oi),{pathname:i}=Br(),l=JSON.stringify(cw(n,s.v7_relativeSplatPath)),o=g.useRef(!1);return Z8(()=>{o.current=!0}),g.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){a.go(d);return}let m=dw(d,JSON.parse(l),i,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:no([t,m.pathname])),(u.replace?a.replace:a.push)(m,u.state,u)},[t,a,l,i,e])}const Hz=g.createContext(null);function Wz(e){let t=g.useContext(Oi).outlet;return t&&g.createElement(Hz.Provider,{value:e},t)}function jg(){let{matches:e}=g.useContext(Oi),t=e[e.length-1];return t?t.params:{}}function wg(e,t){let{relative:s}=t===void 0?{}:t,{future:a}=g.useContext(wl),{matches:n}=g.useContext(Oi),{pathname:i}=Br(),l=JSON.stringify(cw(n,a.v7_relativeSplatPath));return g.useMemo(()=>dw(e,JSON.parse(l),i,s==="path"),[e,l,i,s])}function Gz(e,t){return Kz(e,t)}function Kz(e,t,s,a){Cu()||Fr(!1);let{navigator:n}=g.useContext(wl),{matches:i}=g.useContext(Oi),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=Br(),u;if(t){var m;let b=typeof t=="string"?ku(t):t;c==="/"||(m=b.pathname)!=null&&m.startsWith(c)||Fr(!1),u=b}else u=d;let f=u.pathname||"/",h=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=vz(e,{pathname:h}),p=Qz(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:no([c,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:no([c,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,s,a);return t&&p?g.createElement(vg.Provider,{value:{location:dh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ql.Pop}},p):p}function qz(){let e=rV(),t=$z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),s?g.createElement("pre",{style:n},s):null,null)}const Yz=g.createElement(qz,null);class Xz extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?g.createElement(Oi.Provider,{value:this.props.routeContext},g.createElement(Q8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jz(e){let{routeContext:t,match:s,children:a}=e,n=g.useContext(bg);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),g.createElement(Oi.Provider,{value:t},a)}function Qz(e,t,s,a){var n;if(t===void 0&&(t=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let l=e,o=(n=s)==null?void 0:n.errors;if(o!=null){let u=l.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);u>=0||Fr(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,d=-1;if(s&&a&&a.v7_partialHydration)for(let u=0;u<l.length;u++){let m=l[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:f,errors:h}=s,x=m.route.loader&&f[m.route.id]===void 0&&(!h||h[m.route.id]===void 0);if(m.route.lazy||x){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((u,m,f)=>{let h,x=!1,p=null,b=null;s&&(h=o&&m.route.id?o[m.route.id]:void 0,p=m.route.errorElement||Yz,c&&(d<0&&f===0?(aV("route-fallback"),x=!0,b=null):d===f&&(x=!0,b=m.route.hydrateFallbackElement||null)));let j=t.concat(l.slice(0,f+1)),v=()=>{let y;return h?y=p:x?y=b:m.route.Component?y=g.createElement(m.route.Component,null):m.route.element?y=m.route.element:y=u,g.createElement(Jz,{match:m,routeContext:{outlet:u,matches:j,isDataRoute:s!=null},children:y})};return s&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?g.createElement(Xz,{location:s.location,revalidation:s.revalidation,component:p,error:h,children:v(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):v()},null)}var e_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(e_||{}),t_=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(t_||{});function Zz(e){let t=g.useContext(bg);return t||Fr(!1),t}function eV(e){let t=g.useContext(J8);return t||Fr(!1),t}function tV(e){let t=g.useContext(Oi);return t||Fr(!1),t}function r_(e){let t=tV(),s=t.matches[t.matches.length-1];return s.route.id||Fr(!1),s.route.id}function rV(){var e;let t=g.useContext(Q8),s=eV(),a=r_();return t!==void 0?t:(e=s.errors)==null?void 0:e[a]}function sV(){let{router:e}=Zz(e_.UseNavigateStable),t=r_(t_.UseNavigateStable),s=g.useRef(!1);return Z8(()=>{s.current=!0}),g.useCallback(function(n,i){i===void 0&&(i={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,dh({fromRouteId:t},i)))},[e,t])}const G6={};function aV(e,t,s){G6[e]||(G6[e]=!0)}function nV(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Zh(e){let{to:t,replace:s,state:a,relative:n}=e;Cu()||Fr(!1);let{future:i,static:l}=g.useContext(wl),{matches:o}=g.useContext(Oi),{pathname:c}=Br(),d=ms(),u=dw(t,cw(o,i.v7_relativeSplatPath),c,n==="path"),m=JSON.stringify(u);return g.useEffect(()=>d(JSON.parse(m),{replace:s,state:a,relative:n}),[d,m,n,s,a]),null}function Uc(e){return Wz(e.context)}function pt(e){Fr(!1)}function iV(e){let{basename:t="/",children:s=null,location:a,navigationType:n=ql.Pop,navigator:i,static:l=!1,future:o}=e;Cu()&&Fr(!1);let c=t.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:c,navigator:i,static:l,future:dh({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof a=="string"&&(a=ku(a));let{pathname:u="/",search:m="",hash:f="",state:h=null,key:x="default"}=a,p=g.useMemo(()=>{let b=cu(u,c);return b==null?null:{location:{pathname:b,search:m,hash:f,state:h,key:x},navigationType:n}},[c,u,m,f,h,x,n]);return p==null?null:g.createElement(wl.Provider,{value:d},g.createElement(vg.Provider,{children:s,value:p}))}function uw(e){let{children:t,location:s}=e;return Gz($1(t),s)}new Promise(()=>{});function $1(e,t){t===void 0&&(t=[]);let s=[];return g.Children.forEach(e,(a,n)=>{if(!g.isValidElement(a))return;let i=[...t,n];if(a.type===g.Fragment){s.push.apply(s,$1(a.props.children,i));return}a.type!==pt&&Fr(!1),!a.props.index||!a.props.children||Fr(!1);let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=$1(a.props.children,i)),s.push(l)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ap.apply(this,arguments)}function s_(e,t){if(e==null)return{};var s={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}function lV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oV(e,t){return e.button===0&&(!t||t==="_self")&&!lV(e)}function U1(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let a=e[s];return t.concat(Array.isArray(a)?a.map(n=>[s,n]):[[s,a]])},[]))}function cV(e,t){let s=U1(e);return t&&t.forEach((a,n)=>{s.has(n)||t.getAll(n).forEach(i=>{s.append(n,i)})}),s}const dV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uV=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],mV="6";try{window.__reactRouterVersion=mV}catch{}const hV=g.createContext({isTransitioning:!1}),fV="startTransition",K6=FT[fV];function pV(e){let{basename:t,children:s,future:a,window:n}=e,i=g.useRef();i.current==null&&(i.current=gz({window:n,v5Compat:!0}));let l=i.current,[o,c]=g.useState({action:l.action,location:l.location}),{v7_startTransition:d}=a||{},u=g.useCallback(m=>{d&&K6?K6(()=>c(m)):c(m)},[c,d]);return g.useLayoutEffect(()=>l.listen(u),[l,u]),g.useEffect(()=>nV(a),[a]),g.createElement(iV,{basename:t,children:s,location:o.location,navigationType:o.action,navigator:l,future:a})}const xV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wt=g.forwardRef(function(t,s){let{onClick:a,relative:n,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:m}=t,f=s_(t,dV),{basename:h}=g.useContext(wl),x,p=!1;if(typeof d=="string"&&gV.test(d)&&(x=d,xV))try{let y=new URL(window.location.href),w=d.startsWith("//")?new URL(y.protocol+d):new URL(d),N=cu(w.pathname,h);w.origin===y.origin&&N!=null?d=N+w.search+w.hash:p=!0}catch{}let b=zz(d,{relative:n}),j=bV(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:n,viewTransition:m});function v(y){a&&a(y),y.defaultPrevented||j(y)}return g.createElement("a",Ap({},f,{href:x||b,onClick:p||i?a:v,ref:s,target:c}))}),Db=g.forwardRef(function(t,s){let{"aria-current":a="page",caseSensitive:n=!1,className:i="",end:l=!1,style:o,to:c,viewTransition:d,children:u}=t,m=s_(t,uV),f=wg(c,{relative:m.relative}),h=Br(),x=g.useContext(J8),{navigator:p,basename:b}=g.useContext(wl),j=x!=null&&vV(f)&&d===!0,v=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,y=h.pathname,w=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(y=y.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&b&&(w=cu(w,b)||w);const N=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let k=y===v||!l&&y.startsWith(v)&&y.charAt(N)==="/",S=w!=null&&(w===v||!l&&w.startsWith(v)&&w.charAt(v.length)==="/"),P={isActive:k,isPending:S,isTransitioning:j},_=k?a:void 0,C;typeof i=="function"?C=i(P):C=[i,k?"active":null,S?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let A=typeof o=="function"?o(P):o;return g.createElement(Wt,Ap({},m,{"aria-current":_,className:C,ref:s,style:A,to:c,viewTransition:d}),typeof u=="function"?u(P):u)});var z1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(z1||(z1={}));var q6;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(q6||(q6={}));function yV(e){let t=g.useContext(bg);return t||Fr(!1),t}function bV(e,t){let{target:s,replace:a,state:n,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=ms(),d=Br(),u=wg(e,{relative:l});return g.useCallback(m=>{if(oV(m,s)){m.preventDefault();let f=a!==void 0?a:Pp(d)===Pp(u);c(e,{replace:f,state:n,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,u,a,n,s,e,i,l,o])}function a_(e){let t=g.useRef(U1(e)),s=g.useRef(!1),a=Br(),n=g.useMemo(()=>cV(a.search,s.current?null:t.current),[a.search]),i=ms(),l=g.useCallback((o,c)=>{const d=U1(typeof o=="function"?o(n):o);s.current=!0,i("?"+d,c)},[i,n]);return[n,l]}function vV(e,t){t===void 0&&(t={});let s=g.useContext(hV);s==null&&Fr(!1);let{basename:a}=yV(z1.useViewTransitionState),n=wg(e,{relative:t.relative});if(!s.isTransitioning)return!1;let i=cu(s.currentLocation.pathname,a)||s.currentLocation.pathname,l=cu(s.nextLocation.pathname,a)||s.nextLocation.pathname;return B1(n.pathname,l)!=null||B1(n.pathname,i)!=null}const n_=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ng=g.createContext({}),Sg=g.createContext(null),kg=typeof document<"u",mw=kg?g.useLayoutEffect:g.useEffect,i_=g.createContext({strict:!1}),hw=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),jV="framerAppearId",l_="data-"+hw(jV);function wV(e,t,s,a){const{visualElement:n}=g.useContext(Ng),i=g.useContext(i_),l=g.useContext(Sg),o=g.useContext(n_).reducedMotion,c=g.useRef();a=a||i.renderer,!c.current&&a&&(c.current=a(e,{visualState:t,parent:n,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:o}));const d=c.current;g.useInsertionEffect(()=>{d&&d.update(s,l)});const u=g.useRef(!!(s[l_]&&!window.HandoffComplete));return mw(()=>{d&&(d.render(),u.current&&d.animationState&&d.animationState.animateChanges())}),g.useEffect(()=>{d&&(d.updateFeatures(),!u.current&&d.animationState&&d.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),d}function Cd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function NV(e,t,s){return g.useCallback(a=>{a&&e.mount&&e.mount(a),t&&(a?t.mount(a):t.unmount()),s&&(typeof s=="function"?s(a):Cd(s)&&(s.current=a))},[t])}function uh(e){return typeof e=="string"||Array.isArray(e)}function Cg(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const fw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pw=["initial",...fw];function Pg(e){return Cg(e.animate)||pw.some(t=>uh(e[t]))}function o_(e){return!!(Pg(e)||e.variants)}function SV(e,t){if(Pg(e)){const{initial:s,animate:a}=e;return{initial:s===!1||uh(s)?s:void 0,animate:uh(a)?a:void 0}}return e.inherit!==!1?t:{}}function kV(e){const{initial:t,animate:s}=SV(e,g.useContext(Ng));return g.useMemo(()=>({initial:t,animate:s}),[Y6(t),Y6(s)])}function Y6(e){return Array.isArray(e)?e.join(" "):e}const X6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mh={};for(const e in X6)mh[e]={isEnabled:t=>X6[e].some(s=>!!t[s])};function CV(e){for(const t in e)mh[t]={...mh[t],...e[t]}}const xw=g.createContext({}),c_=g.createContext({}),PV=Symbol.for("motionComponentSymbol");function AV({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:a,Component:n}){e&&CV(e);function i(o,c){let d;const u={...g.useContext(n_),...o,layoutId:TV(o)},{isStatic:m}=u,f=kV(o),h=a(o,m);if(!m&&kg){f.visualElement=wV(n,h,u,t);const x=g.useContext(c_),p=g.useContext(i_).strict;f.visualElement&&(d=f.visualElement.loadFeatures(u,p,e,x))}return g.createElement(Ng.Provider,{value:f},d&&f.visualElement?g.createElement(d,{visualElement:f.visualElement,...u}):null,s(n,o,NV(h,f.visualElement,c),h,m,f.visualElement))}const l=g.forwardRef(i);return l[PV]=n,l}function TV({layoutId:e}){const t=g.useContext(xw).id;return t&&e!==void 0?t+"-"+e:e}function EV(e){function t(a,n={}){return AV(e(a,n))}if(typeof Proxy>"u")return t;const s=new Map;return new Proxy(t,{get:(a,n)=>(s.has(n)||s.set(n,t(n)),s.get(n))})}const _V=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gw(e){return typeof e!="string"||e.includes("-")?!1:!!(_V.indexOf(e)>-1||/[A-Z]/.test(e))}const Tp={};function IV(e){Object.assign(Tp,e)}const e0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zc=new Set(e0);function d_(e,{layout:t,layoutId:s}){return zc.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Tp[e]||e==="opacity")}const La=e=>!!(e&&e.getVelocity),OV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DV=e0.length;function MV(e,{enableHardwareAcceleration:t=!0,allowTransformNone:s=!0},a,n){let i="";for(let l=0;l<DV;l++){const o=e0[l];if(e[o]!==void 0){const c=OV[o]||o;i+=`${c}(${e[o]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),n?i=n(e,a?"":i):s&&a&&(i="none"),i}const u_=e=>t=>typeof t=="string"&&t.startsWith(e),m_=u_("--"),V1=u_("var(--"),LV=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,FV=(e,t)=>t&&typeof e=="number"?t.transform(e):e,fo=(e,t,s)=>Math.min(Math.max(s,e),t),Vc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Mm={...Vc,transform:e=>fo(0,1,e)},rf={...Vc,default:1},Lm=e=>Math.round(e*1e5)/1e5,Ag=/(-)?([\d]*\.?[\d])+/g,h_=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,RV=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function t0(e){return typeof e=="string"}const r0=e=>({test:t=>t0(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Fl=r0("deg"),ji=r0("%"),_t=r0("px"),BV=r0("vh"),$V=r0("vw"),J6={...ji,parse:e=>ji.parse(e)/100,transform:e=>ji.transform(e*100)},Q6={...Vc,transform:Math.round},f_={borderWidth:_t,borderTopWidth:_t,borderRightWidth:_t,borderBottomWidth:_t,borderLeftWidth:_t,borderRadius:_t,radius:_t,borderTopLeftRadius:_t,borderTopRightRadius:_t,borderBottomRightRadius:_t,borderBottomLeftRadius:_t,width:_t,maxWidth:_t,height:_t,maxHeight:_t,size:_t,top:_t,right:_t,bottom:_t,left:_t,padding:_t,paddingTop:_t,paddingRight:_t,paddingBottom:_t,paddingLeft:_t,margin:_t,marginTop:_t,marginRight:_t,marginBottom:_t,marginLeft:_t,rotate:Fl,rotateX:Fl,rotateY:Fl,rotateZ:Fl,scale:rf,scaleX:rf,scaleY:rf,scaleZ:rf,skew:Fl,skewX:Fl,skewY:Fl,distance:_t,translateX:_t,translateY:_t,translateZ:_t,x:_t,y:_t,z:_t,perspective:_t,transformPerspective:_t,opacity:Mm,originX:J6,originY:J6,originZ:_t,zIndex:Q6,fillOpacity:Mm,strokeOpacity:Mm,numOctaves:Q6};function yw(e,t,s,a){const{style:n,vars:i,transform:l,transformOrigin:o}=e;let c=!1,d=!1,u=!0;for(const m in t){const f=t[m];if(m_(m)){i[m]=f;continue}const h=f_[m],x=FV(f,h);if(zc.has(m)){if(c=!0,l[m]=x,!u)continue;f!==(h.default||0)&&(u=!1)}else m.startsWith("origin")?(d=!0,o[m]=x):n[m]=x}if(t.transform||(c||a?n.transform=MV(e.transform,s,u,a):n.transform&&(n.transform="none")),d){const{originX:m="50%",originY:f="50%",originZ:h=0}=o;n.transformOrigin=`${m} ${f} ${h}`}}const bw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function p_(e,t,s){for(const a in t)!La(t[a])&&!d_(a,s)&&(e[a]=t[a])}function UV({transformTemplate:e},t,s){return g.useMemo(()=>{const a=bw();return yw(a,t,{enableHardwareAcceleration:!s},e),Object.assign({},a.vars,a.style)},[t])}function zV(e,t,s){const a=e.style||{},n={};return p_(n,a,e),Object.assign(n,UV(e,t,s)),e.transformValues?e.transformValues(n):n}function VV(e,t,s){const a={},n=zV(e,t,s);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=n,a}const HV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ep(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||HV.has(e)}let x_=e=>!Ep(e);function WV(e){e&&(x_=t=>t.startsWith("on")?!Ep(t):e(t))}try{WV(require("@emotion/is-prop-valid").default)}catch{}function GV(e,t,s){const a={};for(const n in e)n==="values"&&typeof e.values=="object"||(x_(n)||s===!0&&Ep(n)||!t&&!Ep(n)||e.draggable&&n.startsWith("onDrag"))&&(a[n]=e[n]);return a}function Z6(e,t,s){return typeof e=="string"?e:_t.transform(t+s*e)}function KV(e,t,s){const a=Z6(t,e.x,e.width),n=Z6(s,e.y,e.height);return`${a} ${n}`}const qV={offset:"stroke-dashoffset",array:"stroke-dasharray"},YV={offset:"strokeDashoffset",array:"strokeDasharray"};function XV(e,t,s=1,a=0,n=!0){e.pathLength=1;const i=n?qV:YV;e[i.offset]=_t.transform(-a);const l=_t.transform(t),o=_t.transform(s);e[i.array]=`${l} ${o}`}function vw(e,{attrX:t,attrY:s,attrScale:a,originX:n,originY:i,pathLength:l,pathSpacing:o=1,pathOffset:c=0,...d},u,m,f){if(yw(e,d,u,f),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:x,dimensions:p}=e;h.transform&&(p&&(x.transform=h.transform),delete h.transform),p&&(n!==void 0||i!==void 0||x.transform)&&(x.transformOrigin=KV(p,n!==void 0?n:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),s!==void 0&&(h.y=s),a!==void 0&&(h.scale=a),l!==void 0&&XV(h,l,o,c,!1)}const g_=()=>({...bw(),attrs:{}}),jw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function JV(e,t,s,a){const n=g.useMemo(()=>{const i=g_();return vw(i,t,{enableHardwareAcceleration:!1},jw(a),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};p_(i,e.style,e),n.style={...i,...n.style}}return n}function QV(e=!1){return(s,a,n,{latestValues:i},l)=>{const c=(gw(s)?JV:VV)(a,i,l,s),u={...GV(a,typeof s=="string",e),...c,ref:n},{children:m}=a,f=g.useMemo(()=>La(m)?m.get():m,[m]);return g.createElement(s,{...u,children:f})}}function y_(e,{style:t,vars:s},a,n){Object.assign(e.style,t,n&&n.getProjectionStyles(a));for(const i in s)e.style.setProperty(i,s[i])}const b_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function v_(e,t,s,a){y_(e,t,void 0,a);for(const n in t.attrs)e.setAttribute(b_.has(n)?n:hw(n),t.attrs[n])}function ww(e,t){const{style:s}=e,a={};for(const n in s)(La(s[n])||t.style&&La(t.style[n])||d_(n,e))&&(a[n]=s[n]);return a}function j_(e,t){const s=ww(e,t);for(const a in e)if(La(e[a])||La(t[a])){const n=e0.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[n]=e[a]}return s}function Nw(e,t,s,a={},n={}){return typeof t=="function"&&(t=t(s!==void 0?s:e.custom,a,n)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(s!==void 0?s:e.custom,a,n)),t}function w_(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const _p=e=>Array.isArray(e),ZV=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),eH=e=>_p(e)?e[e.length-1]||0:e;function Yf(e){const t=La(e)?e.get():e;return ZV(t)?t.toValue():t}function tH({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},a,n,i){const l={latestValues:rH(a,n,i,e),renderState:t()};return s&&(l.mount=o=>s(a,o,l)),l}const N_=e=>(t,s)=>{const a=g.useContext(Ng),n=g.useContext(Sg),i=()=>tH(e,t,a,n);return s?i():w_(i)};function rH(e,t,s,a){const n={},i=a(e,{});for(const f in i)n[f]=Yf(i[f]);let{initial:l,animate:o}=e;const c=Pg(e),d=o_(e);t&&d&&!c&&e.inherit!==!1&&(l===void 0&&(l=t.initial),o===void 0&&(o=t.animate));let u=s?s.initial===!1:!1;u=u||l===!1;const m=u?o:l;return m&&typeof m!="boolean"&&!Cg(m)&&(Array.isArray(m)?m:[m]).forEach(h=>{const x=Nw(e,h);if(!x)return;const{transitionEnd:p,transition:b,...j}=x;for(const v in j){let y=j[v];if(Array.isArray(y)){const w=u?y.length-1:0;y=y[w]}y!==null&&(n[v]=y)}for(const v in p)n[v]=p[v]}),n}const Zr=e=>e;class eS{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const s=this.order.indexOf(t);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function sH(e){let t=new eS,s=new eS,a=0,n=!1,i=!1;const l=new WeakSet,o={schedule:(c,d=!1,u=!1)=>{const m=u&&n,f=m?t:s;return d&&l.add(c),f.add(c)&&m&&n&&(a=t.order.length),c},cancel:c=>{s.remove(c),l.delete(c)},process:c=>{if(n){i=!0;return}if(n=!0,[t,s]=[s,t],s.clear(),a=t.order.length,a)for(let d=0;d<a;d++){const u=t.order[d];u(c),l.has(u)&&(o.schedule(u),e())}n=!1,i&&(i=!1,o.process(c))}};return o}const sf=["prepare","read","update","preRender","render","postRender"],aH=40;function nH(e,t){let s=!1,a=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=sf.reduce((m,f)=>(m[f]=sH(()=>s=!0),m),{}),l=m=>i[m].process(n),o=()=>{const m=performance.now();s=!1,n.delta=a?1e3/60:Math.max(Math.min(m-n.timestamp,aH),1),n.timestamp=m,n.isProcessing=!0,sf.forEach(l),n.isProcessing=!1,s&&t&&(a=!1,e(o))},c=()=>{s=!0,a=!0,n.isProcessing||e(o)};return{schedule:sf.reduce((m,f)=>{const h=i[f];return m[f]=(x,p=!1,b=!1)=>(s||c(),h.schedule(x,p,b)),m},{}),cancel:m=>sf.forEach(f=>i[f].cancel(m)),state:n,steps:i}}const{schedule:br,cancel:ol,state:Zs,steps:Mb}=nH(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zr,!0),iH={useVisualState:N_({scrapeMotionValuesFromProps:j_,createRenderState:g_,onMount:(e,t,{renderState:s,latestValues:a})=>{br.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),br.render(()=>{vw(s,a,{enableHardwareAcceleration:!1},jw(t.tagName),e.transformTemplate),v_(t,s)})}})},lH={useVisualState:N_({scrapeMotionValuesFromProps:ww,createRenderState:bw})};function oH(e,{forwardMotionProps:t=!1},s,a){return{...gw(e)?iH:lH,preloadedFeatures:s,useRender:QV(t),createVisualElement:a,Component:e}}function Wi(e,t,s,a={passive:!0}){return e.addEventListener(t,s,a),()=>e.removeEventListener(t,s)}const S_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Tg(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const cH=e=>t=>S_(t)&&e(t,Tg(t));function Yi(e,t,s,a){return Wi(e,t,cH(s),a)}const dH=(e,t)=>s=>t(e(s)),io=(...e)=>e.reduce(dH);function k_(e){let t=null;return()=>{const s=()=>{t=null};return t===null?(t=e,s):!1}}const tS=k_("dragHorizontal"),rS=k_("dragVertical");function C_(e){let t=!1;if(e==="y")t=rS();else if(e==="x")t=tS();else{const s=tS(),a=rS();s&&a?t=()=>{s(),a()}:(s&&s(),a&&a())}return t}function P_(){const e=C_(!0);return e?(e(),!1):!0}class Ao{constructor(t){this.isMounted=!1,this.node=t}update(){}}function sS(e,t){const s="pointer"+(t?"enter":"leave"),a="onHover"+(t?"Start":"End"),n=(i,l)=>{if(i.pointerType==="touch"||P_())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[a]&&br.update(()=>o[a](i,l))};return Yi(e.current,s,n,{passive:!e.getProps()[a]})}class uH extends Ao{mount(){this.unmount=io(sS(this.node,!0),sS(this.node,!1))}unmount(){}}class mH extends Ao{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=io(Wi(this.node.current,"focus",()=>this.onFocus()),Wi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const A_=(e,t)=>t?e===t?!0:A_(e,t.parentElement):!1;function Lb(e,t){if(!t)return;const s=new PointerEvent("pointer"+e);t(s,Tg(s))}class hH extends Ao{constructor(){super(...arguments),this.removeStartListeners=Zr,this.removeEndListeners=Zr,this.removeAccessibleListeners=Zr,this.startPointerPress=(t,s)=>{if(this.isPressing)return;this.removeEndListeners();const a=this.node.getProps(),i=Yi(window,"pointerup",(o,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:m}=this.node.getProps();br.update(()=>{!m&&!A_(this.node.current,o.target)?u&&u(o,c):d&&d(o,c)})},{passive:!(a.onTap||a.onPointerUp)}),l=Yi(window,"pointercancel",(o,c)=>this.cancelPress(o,c),{passive:!(a.onTapCancel||a.onPointerCancel)});this.removeEndListeners=io(i,l),this.startPress(t,s)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const l=o=>{o.key!=="Enter"||!this.checkPressEnd()||Lb("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&br.update(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=Wi(this.node.current,"keyup",l),Lb("down",(o,c)=>{this.startPress(o,c)})},s=Wi(this.node.current,"keydown",t),a=()=>{this.isPressing&&Lb("cancel",(i,l)=>this.cancelPress(i,l))},n=Wi(this.node.current,"blur",a);this.removeAccessibleListeners=io(s,n)}}startPress(t,s){this.isPressing=!0;const{onTapStart:a,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),a&&br.update(()=>a(t,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!P_()}cancelPress(t,s){if(!this.checkPressEnd())return;const{onTapCancel:a}=this.node.getProps();a&&br.update(()=>a(t,s))}mount(){const t=this.node.getProps(),s=Yi(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),a=Wi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=io(s,a)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const H1=new WeakMap,Fb=new WeakMap,fH=e=>{const t=H1.get(e.target);t&&t(e)},pH=e=>{e.forEach(fH)};function xH({root:e,...t}){const s=e||document;Fb.has(s)||Fb.set(s,{});const a=Fb.get(s),n=JSON.stringify(t);return a[n]||(a[n]=new IntersectionObserver(pH,{root:e,...t})),a[n]}function gH(e,t,s){const a=xH(t);return H1.set(e,s),a.observe(e),()=>{H1.delete(e),a.unobserve(e)}}const yH={some:0,all:1};class bH extends Ao{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:a,amount:n="some",once:i}=t,l={root:s?s.current:void 0,rootMargin:a,threshold:typeof n=="number"?n:yH[n]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),f=d?u:m;f&&f(c)};return gH(this.node.current,l,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(vH(t,s))&&this.startObserver()}unmount(){}}function vH({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const jH={inView:{Feature:bH},tap:{Feature:hH},focus:{Feature:mH},hover:{Feature:uH}};function T_(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(t[a]!==e[a])return!1;return!0}function wH(e){const t={};return e.values.forEach((s,a)=>t[a]=s.get()),t}function NH(e){const t={};return e.values.forEach((s,a)=>t[a]=s.getVelocity()),t}function Eg(e,t,s){const a=e.getProps();return Nw(a,t,s!==void 0?s:a.custom,wH(e),NH(e))}let Sw=Zr;const ac=e=>e*1e3,Xi=e=>e/1e3,SH={current:!1},E_=e=>Array.isArray(e)&&typeof e[0]=="number";function __(e){return!!(!e||typeof e=="string"&&I_[e]||E_(e)||Array.isArray(e)&&e.every(__))}const wm=([e,t,s,a])=>`cubic-bezier(${e}, ${t}, ${s}, ${a})`,I_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wm([0,.65,.55,1]),circOut:wm([.55,0,1,.45]),backIn:wm([.31,.01,.66,-.59]),backOut:wm([.33,1.53,.69,.99])};function O_(e){if(e)return E_(e)?wm(e):Array.isArray(e)?e.map(O_):I_[e]}function kH(e,t,s,{delay:a=0,duration:n,repeat:i=0,repeatType:l="loop",ease:o,times:c}={}){const d={[t]:s};c&&(d.offset=c);const u=O_(o);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:a,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"})}function CH(e,{repeat:t,repeatType:s="loop"}){const a=t&&s!=="loop"&&t%2===1?0:e.length-1;return e[a]}const D_=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,PH=1e-7,AH=12;function TH(e,t,s,a,n){let i,l,o=0;do l=t+(s-t)/2,i=D_(l,a,n)-e,i>0?s=l:t=l;while(Math.abs(i)>PH&&++o<AH);return l}function s0(e,t,s,a){if(e===t&&s===a)return Zr;const n=i=>TH(i,0,1,e,s);return i=>i===0||i===1?i:D_(n(i),t,a)}const EH=s0(.42,0,1,1),_H=s0(0,0,.58,1),M_=s0(.42,0,.58,1),IH=e=>Array.isArray(e)&&typeof e[0]!="number",L_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,F_=e=>t=>1-e(1-t),kw=e=>1-Math.sin(Math.acos(e)),R_=F_(kw),OH=L_(kw),B_=s0(.33,1.53,.69,.99),Cw=F_(B_),DH=L_(Cw),MH=e=>(e*=2)<1?.5*Cw(e):.5*(2-Math.pow(2,-10*(e-1))),LH={linear:Zr,easeIn:EH,easeInOut:M_,easeOut:_H,circIn:kw,circInOut:OH,circOut:R_,backIn:Cw,backInOut:DH,backOut:B_,anticipate:MH},aS=e=>{if(Array.isArray(e)){Sw(e.length===4);const[t,s,a,n]=e;return s0(t,s,a,n)}else if(typeof e=="string")return LH[e];return e},Pw=(e,t)=>s=>!!(t0(s)&&RV.test(s)&&s.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(s,t)),$_=(e,t,s)=>a=>{if(!t0(a))return a;const[n,i,l,o]=a.match(Ag);return{[e]:parseFloat(n),[t]:parseFloat(i),[s]:parseFloat(l),alpha:o!==void 0?parseFloat(o):1}},FH=e=>fo(0,255,e),Rb={...Vc,transform:e=>Math.round(FH(e))},Xo={test:Pw("rgb","red"),parse:$_("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:a=1})=>"rgba("+Rb.transform(e)+", "+Rb.transform(t)+", "+Rb.transform(s)+", "+Lm(Mm.transform(a))+")"};function RH(e){let t="",s="",a="",n="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),n=e.substring(4,5),t+=t,s+=s,a+=a,n+=n),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:n?parseInt(n,16)/255:1}}const W1={test:Pw("#"),parse:RH,transform:Xo.transform},Pd={test:Pw("hsl","hue"),parse:$_("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+ji.transform(Lm(t))+", "+ji.transform(Lm(s))+", "+Lm(Mm.transform(a))+")"},fa={test:e=>Xo.test(e)||W1.test(e)||Pd.test(e),parse:e=>Xo.test(e)?Xo.parse(e):Pd.test(e)?Pd.parse(e):W1.parse(e),transform:e=>t0(e)?e:e.hasOwnProperty("red")?Xo.transform(e):Pd.transform(e)},Dr=(e,t,s)=>-s*e+s*t+e;function Bb(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function BH({hue:e,saturation:t,lightness:s,alpha:a}){e/=360,t/=100,s/=100;let n=0,i=0,l=0;if(!t)n=i=l=s;else{const o=s<.5?s*(1+t):s+t-s*t,c=2*s-o;n=Bb(c,o,e+1/3),i=Bb(c,o,e),l=Bb(c,o,e-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:a}}const $b=(e,t,s)=>{const a=e*e;return Math.sqrt(Math.max(0,s*(t*t-a)+a))},$H=[W1,Xo,Pd],UH=e=>$H.find(t=>t.test(e));function nS(e){const t=UH(e);let s=t.parse(e);return t===Pd&&(s=BH(s)),s}const U_=(e,t)=>{const s=nS(e),a=nS(t),n={...s};return i=>(n.red=$b(s.red,a.red,i),n.green=$b(s.green,a.green,i),n.blue=$b(s.blue,a.blue,i),n.alpha=Dr(s.alpha,a.alpha,i),Xo.transform(n))};function zH(e){var t,s;return isNaN(e)&&t0(e)&&(((t=e.match(Ag))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(h_))===null||s===void 0?void 0:s.length)||0)>0}const z_={regex:LV,countKey:"Vars",token:"${v}",parse:Zr},V_={regex:h_,countKey:"Colors",token:"${c}",parse:fa.parse},H_={regex:Ag,countKey:"Numbers",token:"${n}",parse:Vc.parse};function Ub(e,{regex:t,countKey:s,token:a,parse:n}){const i=e.tokenised.match(t);i&&(e["num"+s]=i.length,e.tokenised=e.tokenised.replace(t,a),e.values.push(...i.map(n)))}function Ip(e){const t=e.toString(),s={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&Ub(s,z_),Ub(s,V_),Ub(s,H_),s}function W_(e){return Ip(e).values}function G_(e){const{values:t,numColors:s,numVars:a,tokenised:n}=Ip(e),i=t.length;return l=>{let o=n;for(let c=0;c<i;c++)c<a?o=o.replace(z_.token,l[c]):c<a+s?o=o.replace(V_.token,fa.transform(l[c])):o=o.replace(H_.token,Lm(l[c]));return o}}const VH=e=>typeof e=="number"?0:e;function HH(e){const t=W_(e);return G_(e)(t.map(VH))}const po={test:zH,parse:W_,createTransformer:G_,getAnimatableNone:HH},K_=(e,t)=>s=>`${s>0?t:e}`;function q_(e,t){return typeof e=="number"?s=>Dr(e,t,s):fa.test(e)?U_(e,t):e.startsWith("var(")?K_(e,t):X_(e,t)}const Y_=(e,t)=>{const s=[...e],a=s.length,n=e.map((i,l)=>q_(i,t[l]));return i=>{for(let l=0;l<a;l++)s[l]=n[l](i);return s}},WH=(e,t)=>{const s={...e,...t},a={};for(const n in s)e[n]!==void 0&&t[n]!==void 0&&(a[n]=q_(e[n],t[n]));return n=>{for(const i in a)s[i]=a[i](n);return s}},X_=(e,t)=>{const s=po.createTransformer(t),a=Ip(e),n=Ip(t);return a.numVars===n.numVars&&a.numColors===n.numColors&&a.numNumbers>=n.numNumbers?io(Y_(a.values,n.values),s):K_(e,t)},hh=(e,t,s)=>{const a=t-e;return a===0?1:(s-e)/a},iS=(e,t)=>s=>Dr(e,t,s);function GH(e){return typeof e=="number"?iS:typeof e=="string"?fa.test(e)?U_:X_:Array.isArray(e)?Y_:typeof e=="object"?WH:iS}function KH(e,t,s){const a=[],n=s||GH(e[0]),i=e.length-1;for(let l=0;l<i;l++){let o=n(e[l],e[l+1]);if(t){const c=Array.isArray(t)?t[l]||Zr:t;o=io(c,o)}a.push(o)}return a}function J_(e,t,{clamp:s=!0,ease:a,mixer:n}={}){const i=e.length;if(Sw(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=KH(t,a,n),o=l.length,c=d=>{let u=0;if(o>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const m=hh(e[u],e[u+1],d);return l[u](m)};return s?d=>c(fo(e[0],e[i-1],d)):c}function qH(e,t){const s=e[e.length-1];for(let a=1;a<=t;a++){const n=hh(0,t,a);e.push(Dr(s,1,n))}}function YH(e){const t=[0];return qH(t,e.length-1),t}function XH(e,t){return e.map(s=>s*t)}function JH(e,t){return e.map(()=>t||M_).splice(0,e.length-1)}function Op({duration:e=300,keyframes:t,times:s,ease:a="easeInOut"}){const n=IH(a)?a.map(aS):aS(a),i={done:!1,value:t[0]},l=XH(s&&s.length===t.length?s:YH(t),e),o=J_(l,t,{ease:Array.isArray(n)?n:JH(t,n)});return{calculatedDuration:e,next:c=>(i.value=o(c),i.done=c>=e,i)}}function Q_(e,t){return t?e*(1e3/t):0}const QH=5;function Z_(e,t,s){const a=Math.max(t-QH,0);return Q_(s-e(a),t-a)}const zb=.001,ZH=.01,eW=10,tW=.05,rW=1;function sW({duration:e=800,bounce:t=.25,velocity:s=0,mass:a=1}){let n,i,l=1-t;l=fo(tW,rW,l),e=fo(ZH,eW,Xi(e)),l<1?(n=d=>{const u=d*l,m=u*e,f=u-s,h=G1(d,l),x=Math.exp(-m);return zb-f/h*x},i=d=>{const m=d*l*e,f=m*s+s,h=Math.pow(l,2)*Math.pow(d,2)*e,x=Math.exp(-m),p=G1(Math.pow(d,2),l);return(-n(d)+zb>0?-1:1)*((f-h)*x)/p}):(n=d=>{const u=Math.exp(-d*e),m=(d-s)*e+1;return-zb+u*m},i=d=>{const u=Math.exp(-d*e),m=(s-d)*(e*e);return u*m});const o=5/e,c=nW(n,i,o);if(e=ac(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(c,2)*a;return{stiffness:d,damping:l*2*Math.sqrt(a*d),duration:e}}}const aW=12;function nW(e,t,s){let a=s;for(let n=1;n<aW;n++)a=a-e(a)/t(a);return a}function G1(e,t){return e*Math.sqrt(1-t*t)}const iW=["duration","bounce"],lW=["stiffness","damping","mass"];function lS(e,t){return t.some(s=>e[s]!==void 0)}function oW(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!lS(e,lW)&&lS(e,iW)){const s=sW(e);t={...t,...s,mass:1},t.isResolvedFromDuration=!0}return t}function eI({keyframes:e,restDelta:t,restSpeed:s,...a}){const n=e[0],i=e[e.length-1],l={done:!1,value:n},{stiffness:o,damping:c,mass:d,duration:u,velocity:m,isResolvedFromDuration:f}=oW({...a,velocity:-Xi(a.velocity||0)}),h=m||0,x=c/(2*Math.sqrt(o*d)),p=i-n,b=Xi(Math.sqrt(o/d)),j=Math.abs(p)<5;s||(s=j?.01:2),t||(t=j?.005:.5);let v;if(x<1){const y=G1(b,x);v=w=>{const N=Math.exp(-x*b*w);return i-N*((h+x*b*p)/y*Math.sin(y*w)+p*Math.cos(y*w))}}else if(x===1)v=y=>i-Math.exp(-b*y)*(p+(h+b*p)*y);else{const y=b*Math.sqrt(x*x-1);v=w=>{const N=Math.exp(-x*b*w),k=Math.min(y*w,300);return i-N*((h+x*b*p)*Math.sinh(k)+y*p*Math.cosh(k))/y}}return{calculatedDuration:f&&u||null,next:y=>{const w=v(y);if(f)l.done=y>=u;else{let N=h;y!==0&&(x<1?N=Z_(v,y,w):N=0);const k=Math.abs(N)<=s,S=Math.abs(i-w)<=t;l.done=k&&S}return l.value=l.done?i:w,l}}}function oS({keyframes:e,velocity:t=0,power:s=.8,timeConstant:a=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:l,min:o,max:c,restDelta:d=.5,restSpeed:u}){const m=e[0],f={done:!1,value:m},h=P=>o!==void 0&&P<o||c!==void 0&&P>c,x=P=>o===void 0?c:c===void 0||Math.abs(o-P)<Math.abs(c-P)?o:c;let p=s*t;const b=m+p,j=l===void 0?b:l(b);j!==b&&(p=j-m);const v=P=>-p*Math.exp(-P/a),y=P=>j+v(P),w=P=>{const _=v(P),C=y(P);f.done=Math.abs(_)<=d,f.value=f.done?j:C};let N,k;const S=P=>{h(f.value)&&(N=P,k=eI({keyframes:[f.value,x(f.value)],velocity:Z_(y,P,f.value),damping:n,stiffness:i,restDelta:d,restSpeed:u}))};return S(0),{calculatedDuration:null,next:P=>{let _=!1;return!k&&N===void 0&&(_=!0,w(P),S(P)),N!==void 0&&P>N?k.next(P-N):(!_&&w(P),f)}}}const cW=e=>{const t=({timestamp:s})=>e(s);return{start:()=>br.update(t,!0),stop:()=>ol(t),now:()=>Zs.isProcessing?Zs.timestamp:performance.now()}},cS=2e4;function dS(e){let t=0;const s=50;let a=e.next(t);for(;!a.done&&t<cS;)t+=s,a=e.next(t);return t>=cS?1/0:t}const dW={decay:oS,inertia:oS,tween:Op,keyframes:Op,spring:eI};function Dp({autoplay:e=!0,delay:t=0,driver:s=cW,keyframes:a,type:n="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:o="loop",onPlay:c,onStop:d,onComplete:u,onUpdate:m,...f}){let h=1,x=!1,p,b;const j=()=>{b=new Promise(O=>{p=O})};j();let v;const y=dW[n]||Op;let w;y!==Op&&typeof a[0]!="number"&&(w=J_([0,100],a,{clamp:!1}),a=[0,100]);const N=y({...f,keyframes:a});let k;o==="mirror"&&(k=y({...f,keyframes:[...a].reverse(),velocity:-(f.velocity||0)}));let S="idle",P=null,_=null,C=null;N.calculatedDuration===null&&i&&(N.calculatedDuration=dS(N));const{calculatedDuration:A}=N;let V=1/0,q=1/0;A!==null&&(V=A+l,q=V*(i+1)-l);let Z=0;const ue=O=>{if(_===null)return;h>0&&(_=Math.min(_,O)),h<0&&(_=Math.min(O-q/h,_)),P!==null?Z=P:Z=Math.round(O-_)*h;const I=Z-t*(h>=0?1:-1),X=h>=0?I<0:I>q;Z=Math.max(I,0),S==="finished"&&P===null&&(Z=q);let W=Z,T=N;if(i){const z=Math.min(Z,q)/V;let se=Math.floor(z),ne=z%1;!ne&&z>=1&&(ne=1),ne===1&&se--,se=Math.min(se,i+1),!!(se%2)&&(o==="reverse"?(ne=1-ne,l&&(ne-=l/V)):o==="mirror"&&(T=k)),W=fo(0,1,ne)*V}const L=X?{done:!1,value:a[0]}:T.next(W);w&&(L.value=w(L.value));let{done:D}=L;!X&&A!==null&&(D=h>=0?Z>=q:Z<=0);const M=P===null&&(S==="finished"||S==="running"&&D);return m&&m(L.value),M&&ae(),L},me=()=>{v&&v.stop(),v=void 0},Q=()=>{S="idle",me(),p(),j(),_=C=null},ae=()=>{S="finished",u&&u(),me(),p()},oe=()=>{if(x)return;v||(v=s(ue));const O=v.now();c&&c(),P!==null?_=O-P:(!_||S==="finished")&&(_=O),S==="finished"&&j(),C=_,P=null,S="running",v.start()};e&&oe();const R={then(O,I){return b.then(O,I)},get time(){return Xi(Z)},set time(O){O=ac(O),Z=O,P!==null||!v||h===0?P=O:_=v.now()-O/h},get duration(){const O=N.calculatedDuration===null?dS(N):N.calculatedDuration;return Xi(O)},get speed(){return h},set speed(O){O===h||!v||(h=O,R.time=Xi(Z))},get state(){return S},play:oe,pause:()=>{S="paused",P=Z},stop:()=>{x=!0,S!=="idle"&&(S="idle",d&&d(),Q())},cancel:()=>{C!==null&&ue(C),Q()},complete:()=>{S="finished"},sample:O=>(_=0,ue(O))};return R}function uW(e){let t;return()=>(t===void 0&&(t=e()),t)}const mW=uW(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hW=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),af=10,fW=2e4,pW=(e,t)=>t.type==="spring"||e==="backgroundColor"||!__(t.ease);function xW(e,t,{onUpdate:s,onComplete:a,...n}){if(!(mW()&&hW.has(t)&&!n.repeatDelay&&n.repeatType!=="mirror"&&n.damping!==0&&n.type!=="inertia"))return!1;let l=!1,o,c,d=!1;const u=()=>{c=new Promise(y=>{o=y})};u();let{keyframes:m,duration:f=300,ease:h,times:x}=n;if(pW(t,n)){const y=Dp({...n,repeat:0,delay:0});let w={done:!1,value:m[0]};const N=[];let k=0;for(;!w.done&&k<fW;)w=y.sample(k),N.push(w.value),k+=af;x=void 0,m=N,f=k-af,h="linear"}const p=kH(e.owner.current,t,m,{...n,duration:f,ease:h,times:x}),b=()=>{d=!1,p.cancel()},j=()=>{d=!0,br.update(b),o(),u()};return p.onfinish=()=>{d||(e.set(CH(m,n)),a&&a(),j())},{then(y,w){return c.then(y,w)},attachTimeline(y){return p.timeline=y,p.onfinish=null,Zr},get time(){return Xi(p.currentTime||0)},set time(y){p.currentTime=ac(y)},get speed(){return p.playbackRate},set speed(y){p.playbackRate=y},get duration(){return Xi(f)},play:()=>{l||(p.play(),ol(b))},pause:()=>p.pause(),stop:()=>{if(l=!0,p.playState==="idle")return;const{currentTime:y}=p;if(y){const w=Dp({...n,autoplay:!1});e.setWithVelocity(w.sample(y-af).value,w.sample(y).value,af)}j()},complete:()=>{d||p.finish()},cancel:j}}function gW({keyframes:e,delay:t,onUpdate:s,onComplete:a}){const n=()=>(s&&s(e[e.length-1]),a&&a(),{time:0,speed:1,duration:0,play:Zr,pause:Zr,stop:Zr,then:i=>(i(),Promise.resolve()),cancel:Zr,complete:Zr});return t?Dp({keyframes:[0,1],duration:0,delay:t,onComplete:n}):n()}const yW={type:"spring",stiffness:500,damping:25,restSpeed:10},bW=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),vW={type:"keyframes",duration:.8},jW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wW=(e,{keyframes:t})=>t.length>2?vW:zc.has(e)?e.startsWith("scale")?bW(t[1]):yW:jW,K1=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(po.test(t)||t==="0")&&!t.startsWith("url(")),NW=new Set(["brightness","contrast","saturate","opacity"]);function SW(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=s.match(Ag)||[];if(!a)return e;const n=s.replace(a,"");let i=NW.has(t)?1:0;return a!==s&&(i*=100),t+"("+i+n+")"}const kW=/([a-z-]*)\(.*?\)/g,q1={...po,getAnimatableNone:e=>{const t=e.match(kW);return t?t.map(SW).join(" "):e}},CW={...f_,color:fa,backgroundColor:fa,outlineColor:fa,fill:fa,stroke:fa,borderColor:fa,borderTopColor:fa,borderRightColor:fa,borderBottomColor:fa,borderLeftColor:fa,filter:q1,WebkitFilter:q1},Aw=e=>CW[e];function tI(e,t){let s=Aw(e);return s!==q1&&(s=po),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const rI=e=>/^0[^.\s]+$/.test(e);function PW(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||rI(e)}function AW(e,t,s,a){const n=K1(t,s);let i;Array.isArray(s)?i=[...s]:i=[null,s];const l=a.from!==void 0?a.from:e.get();let o;const c=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?l:i[d-1]),PW(i[d])&&c.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(o=i[d]);if(n&&c.length&&o)for(let d=0;d<c.length;d++){const u=c[d];i[u]=tI(t,o)}return i}function TW({when:e,delay:t,delayChildren:s,staggerChildren:a,staggerDirection:n,repeat:i,repeatType:l,repeatDelay:o,from:c,elapsed:d,...u}){return!!Object.keys(u).length}function Tw(e,t){return e[t]||e.default||e}const EW={skipAnimations:!1},Ew=(e,t,s,a={})=>n=>{const i=Tw(a,e)||{},l=i.delay||a.delay||0;let{elapsed:o=0}=a;o=o-ac(l);const c=AW(t,e,s,i),d=c[0],u=c[c.length-1],m=K1(e,d),f=K1(e,u);let h={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-o,onUpdate:x=>{t.set(x),i.onUpdate&&i.onUpdate(x)},onComplete:()=>{n(),i.onComplete&&i.onComplete()}};if(TW(i)||(h={...h,...wW(e,h)}),h.duration&&(h.duration=ac(h.duration)),h.repeatDelay&&(h.repeatDelay=ac(h.repeatDelay)),!m||!f||SH.current||i.type===!1||EW.skipAnimations)return gW(h);if(!a.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const x=xW(t,e,h);if(x)return x}return Dp(h)};function Mp(e){return!!(La(e)&&e.add)}const sI=e=>/^\-?\d*\.?\d+$/.test(e);function _w(e,t){e.indexOf(t)===-1&&e.push(t)}function Iw(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Ow{constructor(){this.subscriptions=[]}add(t){return _w(this.subscriptions,t),()=>Iw(this.subscriptions,t)}notify(t,s,a){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,s,a);else for(let i=0;i<n;i++){const l=this.subscriptions[i];l&&l(t,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _W=e=>!isNaN(parseFloat(e));class IW{constructor(t,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(a,n=!0)=>{this.prev=this.current,this.current=a;const{delta:i,timestamp:l}=Zs;this.lastUpdated!==l&&(this.timeDelta=i,this.lastUpdated=l,br.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>br.postRender(this.velocityCheck),this.velocityCheck=({timestamp:a})=>{a!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=_W(this.current),this.owner=s.owner}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Ow);const a=this.events[t].add(s);return t==="change"?()=>{a(),br.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,a){this.set(s),this.prev=t,this.timeDelta=a}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Q_(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function du(e,t){return new IW(e,t)}const aI=e=>t=>t.test(e),OW={test:e=>e==="auto",parse:e=>e},nI=[Vc,_t,ji,Fl,$V,BV,OW],am=e=>nI.find(aI(e)),DW=[...nI,fa,po],MW=e=>DW.find(aI(e));function LW(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,du(s))}function FW(e,t){const s=Eg(e,t);let{transitionEnd:a={},transition:n={},...i}=s?e.makeTargetAnimatable(s,!1):{};i={...i,...a};for(const l in i){const o=eH(i[l]);LW(e,l,o)}}function RW(e,t,s){var a,n;const i=Object.keys(t).filter(o=>!e.hasValue(o)),l=i.length;if(l)for(let o=0;o<l;o++){const c=i[o],d=t[c];let u=null;Array.isArray(d)&&(u=d[0]),u===null&&(u=(n=(a=s[c])!==null&&a!==void 0?a:e.readValue(c))!==null&&n!==void 0?n:t[c]),u!=null&&(typeof u=="string"&&(sI(u)||rI(u))?u=parseFloat(u):!MW(u)&&po.test(d)&&(u=tI(c,d)),e.addValue(c,du(u,{owner:e})),s[c]===void 0&&(s[c]=u),u!==null&&e.setBaseTarget(c,u))}}function BW(e,t){return t?(t[e]||t.default||t).from:void 0}function $W(e,t,s){const a={};for(const n in e){const i=BW(n,t);if(i!==void 0)a[n]=i;else{const l=s.getValue(n);l&&(a[n]=l.get())}}return a}function UW({protectedKeys:e,needsAnimating:t},s){const a=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,a}function zW(e,t){const s=e.get();if(Array.isArray(t)){for(let a=0;a<t.length;a++)if(t[a]!==s)return!0}else return s!==t}function iI(e,t,{delay:s=0,transitionOverride:a,type:n}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:l,...o}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");a&&(i=a);const d=[],u=n&&e.animationState&&e.animationState.getState()[n];for(const m in o){const f=e.getValue(m),h=o[m];if(!f||h===void 0||u&&UW(u,m))continue;const x={delay:s,elapsed:0,...Tw(i||{},m)};if(window.HandoffAppearAnimations){const j=e.getProps()[l_];if(j){const v=window.HandoffAppearAnimations(j,m,f,br);v!==null&&(x.elapsed=v,x.isHandoff=!0)}}let p=!x.isHandoff&&!zW(f,h);if(x.type==="spring"&&(f.getVelocity()||x.velocity)&&(p=!1),f.animation&&(p=!1),p)continue;f.start(Ew(m,f,h,e.shouldReduceMotion&&zc.has(m)?{type:!1}:x));const b=f.animation;Mp(c)&&(c.add(m),b.then(()=>c.remove(m))),d.push(b)}return l&&Promise.all(d).then(()=>{l&&FW(e,l)}),d}function Y1(e,t,s={}){const a=Eg(e,t,s.custom);let{transition:n=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(n=s.transitionOverride);const i=a?()=>Promise.all(iI(e,a,s)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:m}=n;return VW(e,t,d+c,u,m,s)}:()=>Promise.resolve(),{when:o}=n;if(o){const[c,d]=o==="beforeChildren"?[i,l]:[l,i];return c().then(()=>d())}else return Promise.all([i(),l(s.delay)])}function VW(e,t,s=0,a=0,n=1,i){const l=[],o=(e.variantChildren.size-1)*a,c=n===1?(d=0)=>d*a:(d=0)=>o-d*a;return Array.from(e.variantChildren).sort(HW).forEach((d,u)=>{d.notify("AnimationStart",t),l.push(Y1(d,t,{...i,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(l)}function HW(e,t){return e.sortNodePosition(t)}function WW(e,t,s={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const n=t.map(i=>Y1(e,i,s));a=Promise.all(n)}else if(typeof t=="string")a=Y1(e,t,s);else{const n=typeof t=="function"?Eg(e,t,s.custom):t;a=Promise.all(iI(e,n,s))}return a.then(()=>e.notify("AnimationComplete",t))}const GW=[...fw].reverse(),KW=fw.length;function qW(e){return t=>Promise.all(t.map(({animation:s,options:a})=>WW(e,s,a)))}function YW(e){let t=qW(e);const s=JW();let a=!0;const n=(c,d)=>{const u=Eg(e,d);if(u){const{transition:m,transitionEnd:f,...h}=u;c={...c,...h,...f}}return c};function i(c){t=c(e)}function l(c,d){const u=e.getProps(),m=e.getVariantContext(!0)||{},f=[],h=new Set;let x={},p=1/0;for(let j=0;j<KW;j++){const v=GW[j],y=s[v],w=u[v]!==void 0?u[v]:m[v],N=uh(w),k=v===d?y.isActive:null;k===!1&&(p=j);let S=w===m[v]&&w!==u[v]&&N;if(S&&a&&e.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...x},!y.isActive&&k===null||!w&&!y.prevProp||Cg(w)||typeof w=="boolean")continue;let _=XW(y.prevProp,w)||v===d&&y.isActive&&!S&&N||j>p&&N,C=!1;const A=Array.isArray(w)?w:[w];let V=A.reduce(n,{});k===!1&&(V={});const{prevResolvedValues:q={}}=y,Z={...q,...V},ue=me=>{_=!0,h.has(me)&&(C=!0,h.delete(me)),y.needsAnimating[me]=!0};for(const me in Z){const Q=V[me],ae=q[me];if(x.hasOwnProperty(me))continue;let oe=!1;_p(Q)&&_p(ae)?oe=!T_(Q,ae):oe=Q!==ae,oe?Q!==void 0?ue(me):h.add(me):Q!==void 0&&h.has(me)?ue(me):y.protectedKeys[me]=!0}y.prevProp=w,y.prevResolvedValues=V,y.isActive&&(x={...x,...V}),a&&e.blockInitialAnimation&&(_=!1),_&&(!S||C)&&f.push(...A.map(me=>({animation:me,options:{type:v,...c}})))}if(h.size){const j={};h.forEach(v=>{const y=e.getBaseTarget(v);y!==void 0&&(j[v]=y)}),f.push({animation:j})}let b=!!f.length;return a&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(b=!1),a=!1,b?t(f):Promise.resolve()}function o(c,d,u){var m;if(s[c].isActive===d)return Promise.resolve();(m=e.variantChildren)===null||m===void 0||m.forEach(h=>{var x;return(x=h.animationState)===null||x===void 0?void 0:x.setActive(c,d)}),s[c].isActive=d;const f=l(u,c);for(const h in s)s[h].protectedKeys={};return f}return{animateChanges:l,setActive:o,setAnimateFunction:i,getState:()=>s}}function XW(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!T_(t,e):!1}function Mo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JW(){return{animate:Mo(!0),whileInView:Mo(),whileHover:Mo(),whileTap:Mo(),whileDrag:Mo(),whileFocus:Mo(),exit:Mo()}}class QW extends Ao{constructor(t){super(t),t.animationState||(t.animationState=YW(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Cg(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let ZW=0;class eG extends Ao{constructor(){super(...arguments),this.id=ZW++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s,custom:a}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t,{custom:a??this.node.getProps().custom});s&&!t&&i.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const tG={animation:{Feature:QW},exit:{Feature:eG}},uS=(e,t)=>Math.abs(e-t);function rG(e,t){const s=uS(e.x,t.x),a=uS(e.y,t.y);return Math.sqrt(s**2+a**2)}class lI{constructor(t,s,{transformPagePoint:a,contextWindow:n,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Hb(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=rG(m.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:x}=m,{timestamp:p}=Zs;this.history.push({...x,timestamp:p});const{onStart:b,onMove:j}=this.handlers;f||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,m)},this.handlePointerMove=(m,f)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Vb(f,this.transformPagePoint),br.update(this.updatePoint,!0)},this.handlePointerUp=(m,f)=>{this.end();const{onEnd:h,onSessionEnd:x,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Hb(m.type==="pointercancel"?this.lastMoveEventInfo:Vb(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(m,b),x&&x(m,b)},!S_(t))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=a,this.contextWindow=n||window;const l=Tg(t),o=Vb(l,this.transformPagePoint),{point:c}=o,{timestamp:d}=Zs;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=s;u&&u(t,Hb(o,this.history)),this.removeListeners=io(Yi(this.contextWindow,"pointermove",this.handlePointerMove),Yi(this.contextWindow,"pointerup",this.handlePointerUp),Yi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ol(this.updatePoint)}}function Vb(e,t){return t?{point:t(e.point)}:e}function mS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Hb({point:e},t){return{point:e,delta:mS(e,oI(t)),offset:mS(e,sG(t)),velocity:aG(t,.1)}}function sG(e){return e[0]}function oI(e){return e[e.length-1]}function aG(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const n=oI(e);for(;s>=0&&(a=e[s],!(n.timestamp-a.timestamp>ac(t)));)s--;if(!a)return{x:0,y:0};const i=Xi(n.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const l={x:(n.x-a.x)/i,y:(n.y-a.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function sn(e){return e.max-e.min}function X1(e,t=0,s=.01){return Math.abs(e-t)<=s}function hS(e,t,s,a=.5){e.origin=a,e.originPoint=Dr(t.min,t.max,e.origin),e.scale=sn(s)/sn(t),(X1(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Dr(s.min,s.max,e.origin)-e.originPoint,(X1(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Fm(e,t,s,a){hS(e.x,t.x,s.x,a?a.originX:void 0),hS(e.y,t.y,s.y,a?a.originY:void 0)}function fS(e,t,s){e.min=s.min+t.min,e.max=e.min+sn(t)}function nG(e,t,s){fS(e.x,t.x,s.x),fS(e.y,t.y,s.y)}function pS(e,t,s){e.min=t.min-s.min,e.max=e.min+sn(t)}function Rm(e,t,s){pS(e.x,t.x,s.x),pS(e.y,t.y,s.y)}function iG(e,{min:t,max:s},a){return t!==void 0&&e<t?e=a?Dr(t,e,a.min):Math.max(e,t):s!==void 0&&e>s&&(e=a?Dr(s,e,a.max):Math.min(e,s)),e}function xS(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function lG(e,{top:t,left:s,bottom:a,right:n}){return{x:xS(e.x,s,n),y:xS(e.y,t,a)}}function gS(e,t){let s=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function oG(e,t){return{x:gS(e.x,t.x),y:gS(e.y,t.y)}}function cG(e,t){let s=.5;const a=sn(e),n=sn(t);return n>a?s=hh(t.min,t.max-a,e.min):a>n&&(s=hh(e.min,e.max-n,t.min)),fo(0,1,s)}function dG(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const J1=.35;function uG(e=J1){return e===!1?e=0:e===!0&&(e=J1),{x:yS(e,"left","right"),y:yS(e,"top","bottom")}}function yS(e,t,s){return{min:bS(e,t),max:bS(e,s)}}function bS(e,t){return typeof e=="number"?e:e[t]||0}const vS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ad=()=>({x:vS(),y:vS()}),jS=()=>({min:0,max:0}),ns=()=>({x:jS(),y:jS()});function yn(e){return[e("x"),e("y")]}function cI({top:e,left:t,right:s,bottom:a}){return{x:{min:t,max:s},y:{min:e,max:a}}}function mG({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function hG(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function Wb(e){return e===void 0||e===1}function Q1({scale:e,scaleX:t,scaleY:s}){return!Wb(e)||!Wb(t)||!Wb(s)}function Bo(e){return Q1(e)||dI(e)||e.z||e.rotate||e.rotateX||e.rotateY}function dI(e){return wS(e.x)||wS(e.y)}function wS(e){return e&&e!=="0%"}function Lp(e,t,s){const a=e-s,n=t*a;return s+n}function NS(e,t,s,a,n){return n!==void 0&&(e=Lp(e,n,a)),Lp(e,s,a)+t}function Z1(e,t=0,s=1,a,n){e.min=NS(e.min,t,s,a,n),e.max=NS(e.max,t,s,a,n)}function uI(e,{x:t,y:s}){Z1(e.x,t.translate,t.scale,t.originPoint),Z1(e.y,s.translate,s.scale,s.originPoint)}function fG(e,t,s,a=!1){const n=s.length;if(!n)return;t.x=t.y=1;let i,l;for(let o=0;o<n;o++){i=s[o],l=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Td(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,uI(e,l)),a&&Bo(i.latestValues)&&Td(e,i.latestValues))}t.x=SS(t.x),t.y=SS(t.y)}function SS(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function $l(e,t){e.min=e.min+t,e.max=e.max+t}function kS(e,t,[s,a,n]){const i=t[n]!==void 0?t[n]:.5,l=Dr(e.min,e.max,i);Z1(e,t[s],t[a],l,t.scale)}const pG=["x","scaleX","originX"],xG=["y","scaleY","originY"];function Td(e,t){kS(e.x,t,pG),kS(e.y,t,xG)}function mI(e,t){return cI(hG(e.getBoundingClientRect(),t))}function gG(e,t,s){const a=mI(e,s),{scroll:n}=t;return n&&($l(a.x,n.offset.x),$l(a.y,n.offset.y)),a}const hI=({current:e})=>e?e.ownerDocument.defaultView:null,yG=new WeakMap;class bG{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ns(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const n=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Tg(u,"page").point)},i=(u,m)=>{const{drag:f,dragPropagation:h,onDragStart:x}=this.getProps();if(f&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=C_(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yn(b=>{let j=this.getAxisMotionValue(b).get()||0;if(ji.test(j)){const{projection:v}=this.visualElement;if(v&&v.layout){const y=v.layout.layoutBox[b];y&&(j=sn(y)*(parseFloat(j)/100))}}this.originPoint[b]=j}),x&&br.update(()=>x(u,m),!1,!0);const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},l=(u,m)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:x,onDrag:p}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:b}=m;if(h&&this.currentDirection===null){this.currentDirection=vG(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),p&&p(u,m)},o=(u,m)=>this.stop(u,m),c=()=>yn(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new lI(t,{onSessionStart:n,onStart:i,onMove:l,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:hI(this.visualElement)})}stop(t,s){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:n}=s;this.startAnimation(n);const{onDragEnd:i}=this.getProps();i&&br.update(()=>i(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,a){const{drag:n}=this.getProps();if(!a||!nf(t,n,this.currentDirection))return;const i=this.getAxisMotionValue(t);let l=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(l=iG(l,this.constraints[t],this.elastic[t])),i.set(l)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:a}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;s&&Cd(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&n?this.constraints=lG(n.layoutBox,s):this.constraints=!1,this.elastic=uG(a),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&yn(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=dG(n.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Cd(t))return!1;const a=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=gG(a,n.root,this.visualElement.getTransformPagePoint());let l=oG(n.layout.layoutBox,i);if(s){const o=s(mG(l));this.hasMutatedConstraints=!!o,o&&(l=cI(o))}return l}startAnimation(t){const{drag:s,dragMomentum:a,dragElastic:n,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=yn(u=>{if(!nf(u,s,this.currentDirection))return;let m=c&&c[u]||{};l&&(m={min:0,max:0});const f=n?200:1e6,h=n?40:1e7,x={type:"inertia",velocity:a?t[u]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(o)}startAxisValueAnimation(t,s){const a=this.getAxisMotionValue(t);return a.start(Ew(t,a,0,s))}stopAnimation(){yn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){yn(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s="_drag"+t.toUpperCase(),a=this.visualElement.getProps(),n=a[s];return n||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){yn(s=>{const{drag:a}=this.getProps();if(!nf(s,a,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(s);if(n&&n.layout){const{min:l,max:o}=n.layout.layoutBox[s];i.set(t[s]-Dr(l,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!Cd(s)||!a||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};yn(l=>{const o=this.getAxisMotionValue(l);if(o){const c=o.get();n[l]=cG({min:c,max:c},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),yn(l=>{if(!nf(l,t,null))return;const o=this.getAxisMotionValue(l),{min:c,max:d}=this.constraints[l];o.set(Dr(c,d,n[l]))})}addListeners(){if(!this.visualElement.current)return;yG.set(this.visualElement,this);const t=this.visualElement.current,s=Yi(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),a=()=>{const{dragConstraints:c}=this.getProps();Cd(c)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",a);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),a();const l=Wi(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(yn(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{l(),s(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:l=J1,dragMomentum:o=!0}=t;return{...t,drag:s,dragDirectionLock:a,dragPropagation:n,dragConstraints:i,dragElastic:l,dragMomentum:o}}}function nf(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function vG(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class jG extends Ao{constructor(t){super(t),this.removeGroupControls=Zr,this.removeListeners=Zr,this.controls=new bG(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zr}unmount(){this.removeGroupControls(),this.removeListeners()}}const CS=e=>(t,s)=>{e&&br.update(()=>e(t,s))};class wG extends Ao{constructor(){super(...arguments),this.removePointerDownListener=Zr}onPointerDown(t){this.session=new lI(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hI(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:a,onPanEnd:n}=this.node.getProps();return{onSessionStart:CS(t),onStart:CS(s),onMove:a,onEnd:(i,l)=>{delete this.session,n&&br.update(()=>n(i,l))}}}mount(){this.removePointerDownListener=Yi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function NG(){const e=g.useContext(Sg);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:a}=e,n=g.useId();return g.useEffect(()=>a(n),[]),!t&&s?[!1,()=>s&&s(n)]:[!0]}const Xf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const nm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(_t.test(e))e=parseFloat(e);else return e;const s=PS(e,t.target.x),a=PS(e,t.target.y);return`${s}% ${a}%`}},SG={correct:(e,{treeScale:t,projectionDelta:s})=>{const a=e,n=po.parse(e);if(n.length>5)return a;const i=po.createTransformer(e),l=typeof n[0]!="number"?1:0,o=s.x.scale*t.x,c=s.y.scale*t.y;n[0+l]/=o,n[1+l]/=c;const d=Dr(o,c,.5);return typeof n[2+l]=="number"&&(n[2+l]/=d),typeof n[3+l]=="number"&&(n[3+l]/=d),i(n)}};class kG extends At.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a,layoutId:n}=this.props,{projection:i}=t;IV(CG),i&&(s.group&&s.group.add(i),a&&a.register&&n&&a.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Xf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:a,drag:n,isPresent:i}=this.props,l=a.projection;return l&&(l.isPresent=i,n||t.layoutDependency!==s||s===void 0?l.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?l.promote():l.relegate()||br.postRender(()=>{const o=l.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:n}=t;n&&(n.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(n),a&&a.deregister&&a.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function fI(e){const[t,s]=NG(),a=g.useContext(xw);return At.createElement(kG,{...e,layoutGroup:a,switchLayoutGroup:g.useContext(c_),isPresent:t,safeToRemove:s})}const CG={borderRadius:{...nm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nm,borderTopRightRadius:nm,borderBottomLeftRadius:nm,borderBottomRightRadius:nm,boxShadow:SG},pI=["TopLeft","TopRight","BottomLeft","BottomRight"],PG=pI.length,AS=e=>typeof e=="string"?parseFloat(e):e,TS=e=>typeof e=="number"||_t.test(e);function AG(e,t,s,a,n,i){n?(e.opacity=Dr(0,s.opacity!==void 0?s.opacity:1,TG(a)),e.opacityExit=Dr(t.opacity!==void 0?t.opacity:1,0,EG(a))):i&&(e.opacity=Dr(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,a));for(let l=0;l<PG;l++){const o=`border${pI[l]}Radius`;let c=ES(t,o),d=ES(s,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||TS(c)===TS(d)?(e[o]=Math.max(Dr(AS(c),AS(d),a),0),(ji.test(d)||ji.test(c))&&(e[o]+="%")):e[o]=d}(t.rotate||s.rotate)&&(e.rotate=Dr(t.rotate||0,s.rotate||0,a))}function ES(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const TG=xI(0,.5,R_),EG=xI(.5,.95,Zr);function xI(e,t,s){return a=>a<e?0:a>t?1:s(hh(e,t,a))}function _S(e,t){e.min=t.min,e.max=t.max}function mn(e,t){_S(e.x,t.x),_S(e.y,t.y)}function IS(e,t,s,a,n){return e-=t,e=Lp(e,1/s,a),n!==void 0&&(e=Lp(e,1/n,a)),e}function _G(e,t=0,s=1,a=.5,n,i=e,l=e){if(ji.test(t)&&(t=parseFloat(t),t=Dr(l.min,l.max,t/100)-l.min),typeof t!="number")return;let o=Dr(i.min,i.max,a);e===i&&(o-=t),e.min=IS(e.min,t,s,o,n),e.max=IS(e.max,t,s,o,n)}function OS(e,t,[s,a,n],i,l){_G(e,t[s],t[a],t[n],t.scale,i,l)}const IG=["x","scaleX","originX"],OG=["y","scaleY","originY"];function DS(e,t,s,a){OS(e.x,t,IG,s?s.x:void 0,a?a.x:void 0),OS(e.y,t,OG,s?s.y:void 0,a?a.y:void 0)}function MS(e){return e.translate===0&&e.scale===1}function gI(e){return MS(e.x)&&MS(e.y)}function DG(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function yI(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function LS(e){return sn(e.x)/sn(e.y)}class MG{constructor(){this.members=[]}add(t){_w(this.members,t),t.scheduleRender()}remove(t){if(Iw(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(n=>t===n);if(s===0)return!1;let a;for(let n=s;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(t,s){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,s&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:a}=t;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FS(e,t,s){let a="";const n=e.x.translate/t.x,i=e.y.translate/t.y;if((n||i)&&(a=`translate3d(${n}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),s){const{rotate:c,rotateX:d,rotateY:u}=s;c&&(a+=`rotate(${c}deg) `),d&&(a+=`rotateX(${d}deg) `),u&&(a+=`rotateY(${u}deg) `)}const l=e.x.scale*t.x,o=e.y.scale*t.y;return(l!==1||o!==1)&&(a+=`scale(${l}, ${o})`),a||"none"}const LG=(e,t)=>e.depth-t.depth;class FG{constructor(){this.children=[],this.isDirty=!1}add(t){_w(this.children,t),this.isDirty=!0}remove(t){Iw(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(LG),this.isDirty=!1,this.children.forEach(t)}}function RG(e,t){const s=performance.now(),a=({timestamp:n})=>{const i=n-s;i>=t&&(ol(a),e(i-t))};return br.read(a,!0),()=>ol(a)}function BG(e){window.MotionDebug&&window.MotionDebug.record(e)}function $G(e){return e instanceof SVGElement&&e.tagName!=="svg"}function UG(e,t,s){const a=La(e)?e:du(e);return a.start(Ew("",a,t,s)),a.animation}const RS=["","X","Y","Z"],zG={visibility:"hidden"},BS=1e3;let VG=0;const $o={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function bI({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:a,resetTransform:n}){return class{constructor(l={},o=t==null?void 0:t()){this.id=VG++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,$o.totalNodes=$o.resolvedTargetDeltas=$o.recalculatedProjection=0,this.nodes.forEach(GG),this.nodes.forEach(JG),this.nodes.forEach(QG),this.nodes.forEach(KG),BG($o)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new FG)}addEventListener(l,o){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Ow),this.eventHandlers.get(l).add(o)}notifyListeners(l,...o){const c=this.eventHandlers.get(l);c&&c.notify(...o)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$G(l),this.instance=l;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(d||c)&&(this.isLayoutDirty=!0),e){let m;const f=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=RG(f,250),Xf.hasAnimatedSinceResize&&(Xf.hasAnimatedSinceResize=!1,this.nodes.forEach(US))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||sK,{onLayoutAnimationStart:b,onLayoutAnimationComplete:j}=u.getProps(),v=!this.targetLayout||!yI(this.targetLayout,x)||h,y=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,y);const w={...Tw(p,"layout"),onPlay:b,onComplete:j};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||US(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ol(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZG),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($S);return}this.isUpdating||this.nodes.forEach(YG),this.isUpdating=!1,this.nodes.forEach(XG),this.nodes.forEach(HG),this.nodes.forEach(WG),this.clearAllSnapshots();const o=performance.now();Zs.delta=fo(0,1e3/60,o-Zs.timestamp),Zs.timestamp=o,Zs.isProcessing=!0,Mb.update.process(Zs),Mb.preRender.process(Zs),Mb.render.process(Zs),Zs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(qG),this.sharedNodes.forEach(eK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,br.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){br.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ns(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:a(this.instance),offset:s(this.instance)})}resetTransform(){if(!n)return;const l=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!gI(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;l&&(o||Bo(this.latestValues)||u)&&(n(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return l&&(c=this.removeTransform(c)),aK(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return ns();const o=l.measureViewportBox(),{scroll:c}=this.root;return c&&($l(o.x,c.offset.x),$l(o.y,c.offset.y)),o}removeElementScroll(l){const o=ns();mn(o,l);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:m}=d;if(d!==this.root&&u&&m.layoutScroll){if(u.isRoot){mn(o,l);const{scroll:f}=this.root;f&&($l(o.x,-f.offset.x),$l(o.y,-f.offset.y))}$l(o.x,u.offset.x),$l(o.y,u.offset.y)}}return o}applyTransform(l,o=!1){const c=ns();mn(c,l);for(let d=0;d<this.path.length;d++){const u=this.path[d];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Td(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Bo(u.latestValues)&&Td(c,u.latestValues)}return Bo(this.latestValues)&&Td(c,this.latestValues),c}removeTransform(l){const o=ns();mn(o,l);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Bo(d.latestValues))continue;Q1(d.latestValues)&&d.updateSnapshot();const u=ns(),m=d.measurePageBox();mn(u,m),DS(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Bo(this.latestValues)&&DS(o,this.latestValues),o}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:f}=this.options;if(!(!this.layout||!(m||f))){if(this.resolvedRelativeTargetAt=Zs.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ns(),this.relativeTargetOrigin=ns(),Rm(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ns(),this.targetWithTransforms=ns()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mn(this.target,this.layout.layoutBox),uI(this.target,this.targetDelta)):mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ns(),this.relativeTargetOrigin=ns(),Rm(this.relativeTargetOrigin,this.target,h.target),mn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}$o.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Q1(this.parent.latestValues)||dI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Zs.timestamp&&(d=!1),d)return;const{layout:u,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||m))return;mn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;fG(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:x}=o;if(!x){this.projectionTransform&&(this.projectionDelta=Ad(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ad(),this.projectionDeltaWithTransform=Ad());const p=this.projectionTransform;Fm(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=FS(this.projectionDelta,this.treeScale),(this.projectionTransform!==p||this.treeScale.x!==f||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),$o.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,o=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=Ad();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=ns(),h=c?c.source:void 0,x=this.layout?this.layout.source:void 0,p=h!==x,b=this.getStack(),j=!b||b.members.length<=1,v=!!(p&&!j&&this.options.crossfade===!0&&!this.path.some(rK));this.animationProgress=0;let y;this.mixTargetDelta=w=>{const N=w/1e3;zS(m.x,l.x,N),zS(m.y,l.y,N),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rm(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tK(this.relativeTarget,this.relativeTargetOrigin,f,N),y&&DG(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=ns()),mn(y,this.relativeTarget)),p&&(this.animationValues=u,AG(u,d,this.latestValues,N,v,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ol(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=br.update(()=>{Xf.hasAnimatedSinceResize=!0,this.currentAnimation=UG(0,BS,{...l,onUpdate:o=>{this.mixTargetDelta(o),l.onUpdate&&l.onUpdate(o)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(BS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:u}=l;if(!(!o||!c||!d)){if(this!==l&&this.layout&&d&&vI(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ns();const m=sn(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+m;const f=sn(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+f}mn(o,c),Td(o,u),Fm(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(l,o){this.sharedNodes.has(l)||this.sharedNodes.set(l,new MG),this.sharedNodes.get(l).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let o=!1;const{latestValues:c}=l;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(o=!0),!o)return;const d={};for(let u=0;u<RS.length;u++){const m="rotate"+RS[u];c[m]&&(d[m]=c[m],l.setStaticValue(m,0))}l.render();for(const u in d)l.setStaticValue(u,d[u]);l.scheduleRender()}getProjectionStyles(l){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zG;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Yf(l==null?void 0:l.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Yf(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Bo(this.latestValues)&&(p.transform=u?u({},""):"none",this.hasProjected=!1),p}const f=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=FS(this.projectionDeltaWithTransform,this.treeScale,f),u&&(d.transform=u(f,d.transform));const{x:h,y:x}=this.projectionDelta;d.transformOrigin=`${h.origin*100}% ${x.origin*100}% 0`,m.animationValues?d.opacity=m===this?(c=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:d.opacity=m===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const p in Tp){if(f[p]===void 0)continue;const{correct:b,applyTo:j}=Tp[p],v=d.transform==="none"?f[p]:b(f[p],m);if(j){const y=j.length;for(let w=0;w<y;w++)d[j[w]]=v}else d[p]=v}return this.options.layoutId&&(d.pointerEvents=m===this?Yf(l==null?void 0:l.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var o;return(o=l.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach($S),this.root.sharedNodes.clear()}}}function HG(e){e.updateLayout()}function WG(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:n}=e.layout,{animationType:i}=e.options,l=s.source!==e.layout.source;i==="size"?yn(m=>{const f=l?s.measuredBox[m]:s.layoutBox[m],h=sn(f);f.min=a[m].min,f.max=f.min+h}):vI(i,s.layoutBox,a)&&yn(m=>{const f=l?s.measuredBox[m]:s.layoutBox[m],h=sn(a[m]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+h)});const o=Ad();Fm(o,a,s.layoutBox);const c=Ad();l?Fm(c,e.applyTransform(n,!0),s.measuredBox):Fm(c,a,s.layoutBox);const d=!gI(o);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:f,layout:h}=m;if(f&&h){const x=ns();Rm(x,s.layoutBox,f.layoutBox);const p=ns();Rm(p,a,h.layoutBox),yI(x,p)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=x,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function GG(e){$o.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function KG(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function qG(e){e.clearSnapshot()}function $S(e){e.clearMeasurements()}function YG(e){e.isLayoutDirty=!1}function XG(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function US(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function JG(e){e.resolveTargetDelta()}function QG(e){e.calcProjection()}function ZG(e){e.resetRotation()}function eK(e){e.removeLeadSnapshot()}function zS(e,t,s){e.translate=Dr(t.translate,0,s),e.scale=Dr(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function VS(e,t,s,a){e.min=Dr(t.min,s.min,a),e.max=Dr(t.max,s.max,a)}function tK(e,t,s,a){VS(e.x,t.x,s.x,a),VS(e.y,t.y,s.y,a)}function rK(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const sK={duration:.45,ease:[.4,0,.1,1]},HS=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),WS=HS("applewebkit/")&&!HS("chrome/")?Math.round:Zr;function GS(e){e.min=WS(e.min),e.max=WS(e.max)}function aK(e){GS(e.x),GS(e.y)}function vI(e,t,s){return e==="position"||e==="preserve-aspect"&&!X1(LS(t),LS(s),.2)}const nK=bI({attachResizeListener:(e,t)=>Wi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gb={current:void 0},jI=bI({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Gb.current){const e=new nK({});e.mount(window),e.setOptions({layoutScroll:!0}),Gb.current=e}return Gb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),iK={pan:{Feature:wG},drag:{Feature:jG,ProjectionNode:jI,MeasureLayout:fI}},lK=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function oK(e){const t=lK.exec(e);if(!t)return[,];const[,s,a]=t;return[s,a]}function e2(e,t,s=1){const[a,n]=oK(e);if(!a)return;const i=window.getComputedStyle(t).getPropertyValue(a);if(i){const l=i.trim();return sI(l)?parseFloat(l):l}else return V1(n)?e2(n,t,s+1):n}function cK(e,{...t},s){const a=e.current;if(!(a instanceof Element))return{target:t,transitionEnd:s};s&&(s={...s}),e.values.forEach(n=>{const i=n.get();if(!V1(i))return;const l=e2(i,a);l&&n.set(l)});for(const n in t){const i=t[n];if(!V1(i))continue;const l=e2(i,a);l&&(t[n]=l,s||(s={}),s[n]===void 0&&(s[n]=i))}return{target:t,transitionEnd:s}}const dK=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),wI=e=>dK.has(e),uK=e=>Object.keys(e).some(wI),KS=e=>e===Vc||e===_t,qS=(e,t)=>parseFloat(e.split(", ")[t]),YS=(e,t)=>(s,{transform:a})=>{if(a==="none"||!a)return 0;const n=a.match(/^matrix3d\((.+)\)$/);if(n)return qS(n[1],t);{const i=a.match(/^matrix\((.+)\)$/);return i?qS(i[1],e):0}},mK=new Set(["x","y","z"]),hK=e0.filter(e=>!mK.has(e));function fK(e){const t=[];return hK.forEach(s=>{const a=e.getValue(s);a!==void 0&&(t.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),t.length&&e.render(),t}const uu={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:YS(4,13),y:YS(5,14)};uu.translateX=uu.x;uu.translateY=uu.y;const pK=(e,t,s)=>{const a=t.measureViewportBox(),n=t.current,i=getComputedStyle(n),{display:l}=i,o={};l==="none"&&t.setStaticValue("display",e.display||"block"),s.forEach(d=>{o[d]=uu[d](a,i)}),t.render();const c=t.measureViewportBox();return s.forEach(d=>{const u=t.getValue(d);u&&u.jump(o[d]),e[d]=uu[d](c,i)}),e},xK=(e,t,s={},a={})=>{t={...t},a={...a};const n=Object.keys(t).filter(wI);let i=[],l=!1;const o=[];if(n.forEach(c=>{const d=e.getValue(c);if(!e.hasValue(c))return;let u=s[c],m=am(u);const f=t[c];let h;if(_p(f)){const x=f.length,p=f[0]===null?1:0;u=f[p],m=am(u);for(let b=p;b<x&&f[b]!==null;b++)h?Sw(am(f[b])===h):h=am(f[b])}else h=am(f);if(m!==h)if(KS(m)&&KS(h)){const x=d.get();typeof x=="string"&&d.set(parseFloat(x)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&h===_t&&(t[c]=f.map(parseFloat))}else m!=null&&m.transform&&(h!=null&&h.transform)&&(u===0||f===0)?u===0?d.set(h.transform(u)):t[c]=m.transform(f):(l||(i=fK(e),l=!0),o.push(c),a[c]=a[c]!==void 0?a[c]:t[c],d.jump(f))}),o.length){const c=o.indexOf("height")>=0?window.pageYOffset:null,d=pK(t,e,o);return i.length&&i.forEach(([u,m])=>{e.getValue(u).set(m)}),e.render(),kg&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:a}}else return{target:t,transitionEnd:a}};function gK(e,t,s,a){return uK(t)?xK(e,t,s,a):{target:t,transitionEnd:a}}const yK=(e,t,s,a)=>{const n=cK(e,t,a);return t=n.target,a=n.transitionEnd,gK(e,t,s,a)},t2={current:null},NI={current:!1};function bK(){if(NI.current=!0,!!kg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>t2.current=e.matches;e.addListener(t),t()}else t2.current=!1}function vK(e,t,s){const{willChange:a}=t;for(const n in t){const i=t[n],l=s[n];if(La(i))e.addValue(n,i),Mp(a)&&a.add(n);else if(La(l))e.addValue(n,du(i,{owner:e})),Mp(a)&&a.remove(n);else if(l!==i)if(e.hasValue(n)){const o=e.getValue(n);!o.hasAnimated&&o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,du(o!==void 0?o:i,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const XS=new WeakMap,SI=Object.keys(mh),jK=SI.length,JS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],wK=pw.length;class NK{constructor({parent:t,props:s,presenceContext:a,reducedMotionConfig:n,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>br.render(this.render,!1,!0);const{latestValues:o,renderState:c}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=s.initial?{...o}:{},this.renderState=c,this.parent=t,this.props=s,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.isControllingVariants=Pg(s),this.isVariantNode=o_(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(s,{});for(const m in u){const f=u[m];o[m]!==void 0&&La(f)&&(f.set(o[m],!1),Mp(d)&&d.add(m))}}scrapeMotionValuesFromProps(t,s){return{}}mount(t){this.current=t,XS.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),NI.current||bK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:t2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){XS.delete(this.current),this.projection&&this.projection.unmount(),ol(this.notifyUpdate),ol(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,s){const a=zc.has(t),n=s.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&br.update(this.notifyUpdate,!1,!0),a&&this.projection&&(this.projection.isTransformDirty=!0)}),i=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{n(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...s},a,n,i){let l,o;for(let c=0;c<jK;c++){const d=SI[c],{isEnabled:u,Feature:m,ProjectionNode:f,MeasureLayout:h}=mh[d];f&&(l=f),u(s)&&(!this.features[d]&&m&&(this.features[d]=new m(this)),h&&(o=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:u,dragConstraints:m,layoutScroll:f,layoutRoot:h}=s;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!u||m&&Cd(m),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:h})}return o}updateFeatures(){for(const t in this.features){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ns()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}makeTargetAnimatable(t,s=!0){return this.makeTargetAnimatableFromInstance(t,this.props,s)}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<JS.length;a++){const n=JS[a];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i=t["on"+n];i&&(this.propEventSubscriptions[n]=this.on(n,i))}this.prevMotionValues=vK(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const a=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(a.initial=this.props.initial),a}const s={};for(let a=0;a<wK;a++){const n=pw[a],i=this.props[n];(uh(i)||i===!1)&&(s[n]=i)}return s}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){s!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,s)),this.values.set(t,s),this.latestValues[t]=s.get()}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&s!==void 0&&(a=du(s,{owner:this}),this.addValue(t,a)),a}readValue(t){var s;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:a}=this.props,n=typeof a=="string"||typeof a=="object"?(s=Nw(this.props,a))===null||s===void 0?void 0:s[t]:void 0;if(a&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!La(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Ow),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class kI extends NK{sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:a}){delete s[t],delete a[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:s,...a},{transformValues:n},i){let l=$W(a,t||{},this);if(n&&(s&&(s=n(s)),a&&(a=n(a)),l&&(l=n(l))),i){RW(this,a,l);const o=yK(this,a,l,s);s=o.transitionEnd,a=o.target}return{transition:t,transitionEnd:s,...a}}}function SK(e){return window.getComputedStyle(e)}class kK extends kI{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,s){if(zc.has(s)){const a=Aw(s);return a&&a.default||0}else{const a=SK(t),n=(m_(s)?a.getPropertyValue(s):a[s])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(t,{transformPagePoint:s}){return mI(t,s)}build(t,s,a,n){yw(t,s,a,n.transformTemplate)}scrapeMotionValuesFromProps(t,s){return ww(t,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;La(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(t,s,a,n){y_(t,s,a,n)}}class CK extends kI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(zc.has(s)){const a=Aw(s);return a&&a.default||0}return s=b_.has(s)?s:hw(s),t.getAttribute(s)}measureInstanceViewportBox(){return ns()}scrapeMotionValuesFromProps(t,s){return j_(t,s)}build(t,s,a,n){vw(t,s,a,this.isSVGTag,n.transformTemplate)}renderInstance(t,s,a,n){v_(t,s,a,n)}mount(t){this.isSVGTag=jw(t.tagName),super.mount(t)}}const PK=(e,t)=>gw(e)?new CK(t,{enableHardwareAcceleration:!1}):new kK(t,{enableHardwareAcceleration:!0}),AK={layout:{ProjectionNode:jI,MeasureLayout:fI}},TK={...tG,...jH,...iK,...AK},E=EV((e,t)=>oH(e,t,TK,PK));function CI(){const e=g.useRef(!1);return mw(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function EK(){const e=CI(),[t,s]=g.useState(0),a=g.useCallback(()=>{e.current&&s(t+1)},[t]);return[g.useCallback(()=>br.postRender(a),[a]),t]}class _K extends g.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function IK({children:e,isPresent:t}){const s=g.useId(),a=g.useRef(null),n=g.useRef({width:0,height:0,top:0,left:0});return g.useInsertionEffect(()=>{const{width:i,height:l,top:o,left:c}=n.current;if(t||!a.current||!i||!l)return;a.current.dataset.motionPopId=s;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${l}px !important;
            top: ${o}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),g.createElement(_K,{isPresent:t,childRef:a,sizeRef:n},g.cloneElement(e,{ref:a}))}const Kb=({children:e,initial:t,isPresent:s,onExitComplete:a,custom:n,presenceAffectsLayout:i,mode:l})=>{const o=w_(OK),c=g.useId(),d=g.useMemo(()=>({id:c,initial:t,isPresent:s,custom:n,onExitComplete:u=>{o.set(u,!0);for(const m of o.values())if(!m)return;a&&a()},register:u=>(o.set(u,!1),()=>o.delete(u))}),i?void 0:[s]);return g.useMemo(()=>{o.forEach((u,m)=>o.set(m,!1))},[s]),g.useEffect(()=>{!s&&!o.size&&a&&a()},[s]),l==="popLayout"&&(e=g.createElement(IK,{isPresent:s},e)),g.createElement(Sg.Provider,{value:d},e)};function OK(){return new Map}function DK(e){return g.useEffect(()=>()=>e(),[])}const Uo=e=>e.key||"";function MK(e,t){e.forEach(s=>{const a=Uo(s);t.set(a,s)})}function LK(e){const t=[];return g.Children.forEach(e,s=>{g.isValidElement(s)&&t.push(s)}),t}const jc=({children:e,custom:t,initial:s=!0,onExitComplete:a,exitBeforeEnter:n,presenceAffectsLayout:i=!0,mode:l="sync"})=>{const o=g.useContext(xw).forceRender||EK()[0],c=CI(),d=LK(e);let u=d;const m=g.useRef(new Map).current,f=g.useRef(u),h=g.useRef(new Map).current,x=g.useRef(!0);if(mw(()=>{x.current=!1,MK(d,h),f.current=u}),DK(()=>{x.current=!0,h.clear(),m.clear()}),x.current)return g.createElement(g.Fragment,null,u.map(v=>g.createElement(Kb,{key:Uo(v),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:i,mode:l},v)));u=[...u];const p=f.current.map(Uo),b=d.map(Uo),j=p.length;for(let v=0;v<j;v++){const y=p[v];b.indexOf(y)===-1&&!m.has(y)&&m.set(y,void 0)}return l==="wait"&&m.size&&(u=[]),m.forEach((v,y)=>{if(b.indexOf(y)!==-1)return;const w=h.get(y);if(!w)return;const N=p.indexOf(y);let k=v;if(!k){const S=()=>{m.delete(y);const P=Array.from(h.keys()).filter(_=>!b.includes(_));if(P.forEach(_=>h.delete(_)),f.current=d.filter(_=>{const C=Uo(_);return C===y||P.includes(C)}),!m.size){if(c.current===!1)return;o(),a&&a()}};k=g.createElement(Kb,{key:Uo(w),isPresent:!1,onExitComplete:S,custom:t,presenceAffectsLayout:i,mode:l},w),m.set(y,k)}u.splice(N,0,k)}),u=u.map(v=>{const y=v.key;return m.has(y)?v:g.createElement(Kb,{key:Uo(v),isPresent:!0,presenceAffectsLayout:i,mode:l},v)}),g.createElement(g.Fragment,null,m.size?u:u.map(v=>g.cloneElement(v)))};var PI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},QS=At.createContext&&At.createContext(PI),FK=["attr","size","title"];function RK(e,t){if(e==null)return{};var s=BK(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function BK(e,t){if(e==null)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}function Fp(){return Fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Fp.apply(this,arguments)}function ZS(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Rp(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(s),!0).forEach(function(a){$K(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ZS(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function $K(e,t,s){return t=UK(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function UK(e){var t=zK(e,"string");return typeof t=="symbol"?t:t+""}function zK(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AI(e){return e&&e.map((t,s)=>At.createElement(t.tag,Rp({key:s},t.attr),AI(t.child)))}function ve(e){return t=>At.createElement(VK,Fp({attr:Rp({},e.attr)},t),AI(e.child))}function VK(e){var t=s=>{var{attr:a,size:n,title:i}=e,l=RK(e,FK),o=n||s.size||"1em",c;return s.className&&(c=s.className),e.className&&(c=(c?c+" ":"")+e.className),At.createElement("svg",Fp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,a,l,{className:c,style:Rp(Rp({color:e.color||s.color},s.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&At.createElement("title",null,i),e.children)};return QS!==void 0?At.createElement(QS.Consumer,null,s=>t(s)):t(PI)}function HK(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function WK(e){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function GK(e){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function KK(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function hr(e){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function ek(e){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function pn(e){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function lf(e){return ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(e)}function qK(e){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function YK(e){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function lo(e){return ve({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(e)}function XK(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(e)}function fh(e){return ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M256.47 216.77l86.73 109.18s-16.6 102.36-76.57 150.12C206.66 523.85 0 510.19 0 510.19s3.8-23.14 11-55.43l94.62-112.17c3.97-4.7-.87-11.62-6.65-9.5l-60.4 22.09c14.44-41.66 32.72-80.04 54.6-97.47 59.97-47.76 163.3-40.94 163.3-40.94zM636.53 31.03l-19.86-25c-5.49-6.9-15.52-8.05-22.41-2.56l-232.48 177.8-34.14-42.97c-5.09-6.41-15.14-5.21-18.59 2.21l-25.33 54.55 86.73 109.18 58.8-12.45c8-1.69 11.42-11.2 6.34-17.6l-34.09-42.92 232.48-177.8c6.89-5.48 8.04-15.53 2.55-22.44z"},child:[]}]})(e)}function JK(e){return ve({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(e)}function tk(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function QK(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function Be(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function ZK(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function eq(e){return ve({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function xo(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function _g(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(e)}function tq(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M510.37 254.79l-12.08-76.26a132.493 132.493 0 0 0-37.16-72.95l-54.76-54.75c-19.73-19.72-45.18-32.7-72.71-37.05l-76.7-12.15c-27.51-4.36-55.69.11-80.52 12.76L107.32 49.6a132.25 132.25 0 0 0-57.79 57.8l-35.1 68.88a132.602 132.602 0 0 0-12.82 80.94l12.08 76.27a132.493 132.493 0 0 0 37.16 72.95l54.76 54.75a132.087 132.087 0 0 0 72.71 37.05l76.7 12.14c27.51 4.36 55.69-.11 80.52-12.75l69.12-35.21a132.302 132.302 0 0 0 57.79-57.8l35.1-68.87c12.71-24.96 17.2-53.3 12.82-80.96zM176 368c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm32-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm160 128c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function go(e){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(e)}function rq(e){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(e)}function TI(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function mu(e){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function r2(e){return ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function a0(e){return ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(e)}function ph(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function EI(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504.971 199.362l-22.627-22.627c-9.373-9.373-24.569-9.373-33.941 0l-5.657 5.657L329.608 69.255l5.657-5.657c9.373-9.373 9.373-24.569 0-33.941L312.638 7.029c-9.373-9.373-24.569-9.373-33.941 0L154.246 131.48c-9.373 9.373-9.373 24.569 0 33.941l22.627 22.627c9.373 9.373 24.569 9.373 33.941 0l5.657-5.657 39.598 39.598-81.04 81.04-5.657-5.657c-12.497-12.497-32.758-12.497-45.255 0L9.373 412.118c-12.497 12.497-12.497 32.758 0 45.255l45.255 45.255c12.497 12.497 32.758 12.497 45.255 0l114.745-114.745c12.497-12.497 12.497-32.758 0-45.255l-5.657-5.657 81.04-81.04 39.598 39.598-5.657 5.657c-9.373 9.373-9.373 24.569 0 33.941l22.627 22.627c9.373 9.373 24.569 9.373 33.941 0l124.451-124.451c9.372-9.372 9.372-24.568 0-33.941z"},child:[]}]})(e)}function sq(e){return ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(e)}function xh(e){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M571.31 193.94l-22.63-22.63c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31-28.9-28.9c5.63-21.31.36-44.9-16.35-61.61l-45.25-45.25c-62.48-62.48-163.79-62.48-226.28 0l90.51 45.25v18.75c0 16.97 6.74 33.25 18.75 45.25l49.14 49.14c16.71 16.71 40.3 21.98 61.61 16.35l28.9 28.9-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63l22.63 22.63c6.25 6.25 16.38 6.25 22.63 0l90.51-90.51c6.23-6.24 6.23-16.37-.02-22.62zm-286.72-15.2c-3.7-3.7-6.84-7.79-9.85-11.95L19.64 404.96c-25.57 23.88-26.26 64.19-1.53 88.93s65.05 24.05 88.93-1.53l238.13-255.07c-3.96-2.91-7.9-5.87-11.44-9.41l-49.14-49.14z"},child:[]}]})(e)}function aq(e){return ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"},child:[]}]})(e)}function nq(e){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(e)}function _I(e){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function Bp(e){return ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function Li(e){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Ig(e){return ve({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(e)}function iq(e){return ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function gh(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 128V32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v96c0 17.67 14.33 32 32 32h352c17.67 0 32-14.33 32-32zm32-64v128c0 17.67-14.33 32-32 32H256c-35.35 0-64 28.65-64 64v32c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32v-32h160c53.02 0 96-42.98 96-96v-64c0-35.35-28.65-64-64-64z"},child:[]}]})(e)}function lq(e){return ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M109.25 173.25c24.99-24.99 24.99-65.52 0-90.51-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 25 25 65.52 25 90.51 0zm256 165.49c-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 24.99 24.99 65.52 24.99 90.51 0 25-24.99 25-65.51 0-90.51zm-1.94-231.43l-22.62-22.62c-12.5-12.5-32.76-12.5-45.25 0L20.69 359.44c-12.5 12.5-12.5 32.76 0 45.25l22.62 22.62c12.5 12.5 32.76 12.5 45.25 0l274.75-274.75c12.5-12.49 12.5-32.75 0-45.25z"},child:[]}]})(e)}function II(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Dw(e){return ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M320,32a32,32,0,0,0-64,0v96h64Zm48,128H16A16,16,0,0,0,0,176v32a16,16,0,0,0,16,16H32v32A160.07,160.07,0,0,0,160,412.8V512h64V412.8A160.07,160.07,0,0,0,352,256V224h16a16,16,0,0,0,16-16V176A16,16,0,0,0,368,160ZM128,32a32,32,0,0,0-64,0v96h64Z"},child:[]}]})(e)}function Un(e){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function oq(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(e)}function Og(e){return ve({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"},child:[]}]})(e)}function cq(e){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(e)}function yh(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function ad(e){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function bh(e){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M440.3 345.2l-33.8-19.5 26-7c8.2-2.2 13.1-10.7 10.9-18.9l-4-14.9c-2.2-8.2-10.7-13.1-18.9-10.9l-70.8 19-63.9-37 63.8-36.9 70.8 19c8.2 2.2 16.7-2.7 18.9-10.9l4-14.9c2.2-8.2-2.7-16.7-10.9-18.9l-26-7 33.8-19.5c7.4-4.3 9.9-13.7 5.7-21.1L430.4 119c-4.3-7.4-13.7-9.9-21.1-5.7l-33.8 19.5 7-26c2.2-8.2-2.7-16.7-10.9-18.9l-14.9-4c-8.2-2.2-16.7 2.7-18.9 10.9l-19 70.8-62.8 36.2v-77.5l53.7-53.7c6.2-6.2 6.2-16.4 0-22.6l-11.3-11.3c-6.2-6.2-16.4-6.2-22.6 0L256 56.4V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v40.4l-19.7-19.7c-6.2-6.2-16.4-6.2-22.6 0L138.3 48c-6.3 6.2-6.3 16.4 0 22.6l53.7 53.7v77.5l-62.8-36.2-19-70.8c-2.2-8.2-10.7-13.1-18.9-10.9l-14.9 4c-8.2 2.2-13.1 10.7-10.9 18.9l7 26-33.8-19.5c-7.4-4.3-16.8-1.7-21.1 5.7L2.1 145.7c-4.3 7.4-1.7 16.8 5.7 21.1l33.8 19.5-26 7c-8.3 2.2-13.2 10.7-11 19l4 14.9c2.2 8.2 10.7 13.1 18.9 10.9l70.8-19 63.8 36.9-63.8 36.9-70.8-19c-8.2-2.2-16.7 2.7-18.9 10.9l-4 14.9c-2.2 8.2 2.7 16.7 10.9 18.9l26 7-33.8 19.6c-7.4 4.3-9.9 13.7-5.7 21.1l15.5 26.8c4.3 7.4 13.7 9.9 21.1 5.7l33.8-19.5-7 26c-2.2 8.2 2.7 16.7 10.9 18.9l14.9 4c8.2 2.2 16.7-2.7 18.9-10.9l19-70.8 62.8-36.2v77.5l-53.7 53.7c-6.3 6.2-6.3 16.4 0 22.6l11.3 11.3c6.2 6.2 16.4 6.2 22.6 0l19.7-19.7V496c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-40.4l19.7 19.7c6.2 6.2 16.4 6.2 22.6 0l11.3-11.3c6.2-6.2 6.2-16.4 0-22.6L256 387.7v-77.5l62.8 36.2 19 70.8c2.2 8.2 10.7 13.1 18.9 10.9l14.9-4c8.2-2.2 13.1-10.7 10.9-18.9l-7-26 33.8 19.5c7.4 4.3 16.8 1.7 21.1-5.7l15.5-26.8c4.3-7.3 1.8-16.8-5.6-21z"},child:[]}]})(e)}function ha(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function nd(e){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function dq(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"},child:[]}]})(e)}function Jt(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function Mw(e){return ve({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function vh(e){return ve({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M205.22 22.09c-7.94-28.78-49.44-30.12-58.44 0C100.01 179.85 0 222.72 0 333.91 0 432.35 78.72 512 176 512s176-79.65 176-178.09c0-111.75-99.79-153.34-146.78-311.82zM176 448c-61.75 0-112-50.25-112-112 0-8.84 7.16-16 16-16s16 7.16 16 16c0 44.11 35.89 80 80 80 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function uq(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.63 214.63l-45.25-45.25c-6-6-14.14-9.37-22.63-9.37H384V80c0-26.51-21.49-48-48-48H176c-26.51 0-48 21.49-48 48v80H77.25c-8.49 0-16.62 3.37-22.63 9.37L9.37 214.63c-6 6-9.37 14.14-9.37 22.63V320h128v-16c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v16h128v-16c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v16h128v-82.75c0-8.48-3.37-16.62-9.37-22.62zM320 160H192V96h128v64zm64 208c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-16H192v16c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-16H0v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96H384v16z"},child:[]}]})(e)}function ei(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(e)}function qb(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function ya(e){return ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(e)}function OI(e){return ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function DI(e){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function $p(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function Dg(e){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}const mq=({isOpen:e,onClose:t})=>(g.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),g.useEffect(()=>{if(!e)return;const s=a=>{a.key==="Escape"&&e&&(a.preventDefault(),a.stopPropagation(),t&&t())};return document.addEventListener("keydown",s,!0),()=>{document.removeEventListener("keydown",s,!0)}},[e,t]),r.jsx(jc,{children:e&&r.jsxs(r.Fragment,{children:[r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:s=>{s.preventDefault(),s.stopPropagation(),t&&t()},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[10000] cursor-pointer"}),r.jsx("div",{className:"fixed inset-0 z-[10001] flex items-center justify-center p-4 pointer-events-none",children:r.jsxs(E.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",stiffness:300,damping:30},onClick:s=>s.stopPropagation(),onMouseDown:s=>s.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl max-w-md w-full pointer-events-auto relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#25D366] via-[#20BA5A] to-[#128C7E] opacity-10"}),[...Array(6)].map((s,a)=>r.jsx(E.div,{className:"absolute rounded-full bg-[#25D366]/20 pointer-events-none",style:{width:`${20+a*10}px`,height:`${20+a*10}px`,left:`${10+a*15}%`,top:`${10+a*12}%`},animate:{y:[0,-30,0],x:[0,20,0],scale:[1,1.2,1],opacity:[.2,.4,.2]},transition:{duration:3+a*.5,repeat:1/0,ease:"easeInOut",delay:a*.3}},a)),r.jsx("button",{type:"button",onClick:s=>{s.preventDefault(),s.stopPropagation(),t&&t()},onMouseDown:s=>{s.preventDefault(),s.stopPropagation()},className:"absolute top-4 right-4 z-[100] w-10 h-10 rounded-full bg-white hover:bg-gray-50 shadow-lg flex items-center justify-center transition-all duration-200 hover:scale-110 active:scale-95 group cursor-pointer border border-gray-200","aria-label":"Close dialog",title:"Close",style:{pointerEvents:"auto"},children:r.jsx(Mw,{className:"w-5 h-5 text-gray-700 group-hover:text-gray-900 transition-colors"})}),r.jsxs("div",{className:"relative z-10 p-8 sm:p-10",children:[r.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-[#25D366] to-[#128C7E] flex items-center justify-center shadow-xl",children:r.jsx(E.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:r.jsx(oq,{className:"w-12 h-12 text-white"})})}),r.jsx(E.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl sm:text-4xl font-bold text-center mb-3 bg-gradient-to-r from-[#25D366] to-[#128C7E] bg-clip-text text-transparent",children:"Coming Soon!"}),r.jsx(E.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-gray-600 text-center mb-6 text-lg",children:"WhatsApp integration is under development"}),r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-[#25D366]/10 to-[#128C7E]/10 rounded-2xl p-6 mb-6 border border-[#25D366]/20",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-[#25D366]/20 flex items-center justify-center",children:r.jsx(xo,{className:"w-6 h-6 text-[#128C7E]"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"We're working on it!"}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Our team is building an amazing WhatsApp experience for you. Stay tuned for updates and be the first to know when it's ready!"})]})]})}),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-3 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-[#25D366] flex-shrink-0"}),r.jsx("span",{className:"text-sm",children:"Instant booking via WhatsApp"})]}),r.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-[#25D366] flex-shrink-0"}),r.jsx("span",{className:"text-sm",children:"Real-time service updates"})]}),r.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-[#25D366] flex-shrink-0"}),r.jsx("span",{className:"text-sm",children:"24/7 customer support"})]})]}),r.jsxs(E.button,{type:"button",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},onClick:s=>{s.preventDefault(),s.stopPropagation(),t&&t()},className:"w-full bg-gradient-to-r from-[#25D366] to-[#128C7E] text-white py-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2 hover:scale-105 active:scale-95 cursor-pointer",children:[r.jsx(YK,{className:"w-5 h-5"}),r.jsx("span",{children:"I'll be notified"})]}),r.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center text-xs text-gray-500 mt-4",children:"For now, please contact us through other channels"})]})]})})]})})),MI=g.createContext(),Mg=()=>{const e=g.useContext(MI);if(!e)throw new Error("useComingSoon must be used within ComingSoonProvider");return e},hq=({children:e})=>{const[t,s]=g.useState(!1),a=()=>s(!0),n=()=>s(!1);return r.jsxs(MI.Provider,{value:{openDialog:a,closeDialog:n},children:[e,r.jsx(mq,{isOpen:t,onClose:n})]})},fq=()=>{const{pathname:e,hash:t}=Br();return g.useEffect(()=>{if(t){const s=document.getElementById(t.substring(1));if(s){setTimeout(()=>{s.scrollIntoView({behavior:"smooth",block:"start"})},100);return}}window.scrollTo({top:0,left:0,behavior:"smooth"})},[e,t]),null},Ba=({title:e="Nexo - Connect. Work. Grow. | Home Services on WhatsApp",description:t="Fast, reliable and affordable home services from verified experts. Book AC, electrical, plumbing, cleaning, and 200+ services on WhatsApp. Response under 2 minutes.",keywords:s="home services, AC service, electrical work, plumbing, cleaning services, WhatsApp booking, verified technicians, home maintenance",image:a="/logo.png",url:n="",type:i="website"})=>{const l=e.includes("Nexo")?e:`${e} | Nexo`,o="https://nexo.works",c=n?`${o}${n}`:o,d=a.startsWith("http")?a:`${o}${a}`;return r.jsxs(xz,{children:[r.jsx("title",{children:l}),r.jsx("meta",{name:"title",content:l}),r.jsx("meta",{name:"description",content:t}),r.jsx("meta",{name:"keywords",content:s}),r.jsx("meta",{name:"author",content:"Nexo"}),r.jsx("meta",{name:"robots",content:"index, follow"}),r.jsx("meta",{name:"language",content:"English"}),r.jsx("meta",{name:"revisit-after",content:"7 days"}),r.jsx("meta",{property:"og:type",content:i}),r.jsx("meta",{property:"og:url",content:c}),r.jsx("meta",{property:"og:title",content:l}),r.jsx("meta",{property:"og:description",content:t}),r.jsx("meta",{property:"og:image",content:d}),r.jsx("meta",{property:"og:image:width",content:"1200"}),r.jsx("meta",{property:"og:image:height",content:"630"}),r.jsx("meta",{property:"og:image:type",content:"image/png"}),r.jsx("meta",{property:"og:site_name",content:"Nexo"}),r.jsx("meta",{property:"og:locale",content:"en_IN"}),r.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),r.jsx("meta",{name:"twitter:url",content:c}),r.jsx("meta",{name:"twitter:title",content:l}),r.jsx("meta",{name:"twitter:description",content:t}),r.jsx("meta",{name:"twitter:image",content:d}),r.jsx("meta",{name:"twitter:site",content:"@nexo"}),r.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),r.jsx("meta",{name:"theme-color",content:"#214A73"}),r.jsx("link",{rel:"canonical",href:c}),r.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Service",name:"Nexo Home Services",description:t,url:c,logo:`${o}/logo.png`,contactPoint:{"@type":"ContactPoint",telephone:"+91-9590926068",contactType:"Customer Service",availableLanguage:["English","Hindi"]},areaServed:{"@type":"Country",name:"India"},serviceType:"Home Services",provider:{"@type":"Organization",name:"Nexo",url:o}})})]})},Di=()=>{const{openDialog:e}=Mg();return s=>{var a;(a=s==null?void 0:s.preventDefault)==null||a.call(s),e()}},pq={FaSnowflake:bh,FaBolt:lo,FaTint:vh,FaBroom:fh,FaPaintRoller:gh,FaTools:ei,FaHammer:xh,FaFilter:ph,FaPlug:Dw,FaWrench:Dg,FaCheckCircle:Be,FaRupeeSign:Og,FaCreditCard:go,FaMobileAlt:Ig,FaUserCheck:ya,FaCommentDots:_g},xq=e=>pq[e]||ei,gq=window.location.origin,yq=()=>{const e="919590926068",t=Di(),[s,a]=g.useState([]),[n,i]=g.useState(!0);g.useEffect(()=>{(async()=>{try{i(!0);const j=await(await fetch(`${gq}/api/user/popular`)).json();if(j.success&&j.data){const v=j.data.map(y=>({...y,icon:xq(y.icon)}));a(v)}else a([{name:"AC Service",slug:"ac-service",icon:bh},{name:"Electrical Work",slug:"electrical-work",icon:lo},{name:"Plumbing",slug:"plumbing",icon:vh},{name:"Deep Cleaning",slug:"deep-cleaning",icon:fh},{name:"Painting",slug:"painting",icon:gh},{name:"Appliance Repair",slug:"appliance-repair",icon:ei},{name:"Carpentry",slug:"carpentry",icon:xh},{name:"Water Purifier Service",slug:"water-purifier-service",icon:ph}])}catch(b){console.error("Error fetching popular services:",b),a([{name:"AC Service",slug:"ac-service",icon:bh},{name:"Electrical Work",slug:"electrical-work",icon:lo},{name:"Plumbing",slug:"plumbing",icon:vh},{name:"Deep Cleaning",slug:"deep-cleaning",icon:fh},{name:"Painting",slug:"painting",icon:gh},{name:"Appliance Repair",slug:"appliance-repair",icon:ei},{name:"Carpentry",slug:"carpentry",icon:xh},{name:"Water Purifier Service",slug:"water-purifier-service",icon:ph}])}finally{i(!1)}})()},[]);const[l,o]=g.useState([{name:"Basic",price:"99",features:["Priority support","2 free inspections"]},{name:"Pro",price:"199",features:["Free visits","Discounted services","Priority booking"]},{name:"Ultra",price:"349",features:["2 handyman hours/month","Emergency booking support","24x7 premium assistance"]}]);g.useEffect(()=>{(async()=>{try{const v=await(await fetch("https://nexo.works/api/public/subscription-plans")).json();if(v.success&&v.data&&Array.isArray(v.data)&&v.data.length>0){const y=v.data.map(w=>({name:w.name,price:w.priceDisplay||`${w.price}`,features:w.features||[],highlight:w.highlight||!1,highlightText:w.highlightText||"",whatsappNumber:w.whatsappNumber||""}));o(y)}}catch(b){console.error("Error fetching subscription plans:",b)}})()},[]);const c=[{icon:lo,text:"Response under 2 minutes",color:"text-yellow-500"},{icon:Be,text:"Verified technicians",color:"text-green-500"},{icon:Og,text:"Fixed pricing",color:"text-blue-500"},{icon:go,text:"Pay after service",color:"text-purple-500"},{icon:Ig,text:"24x7 WhatsApp support",color:"text-green-600"},{icon:Dg,text:"Free rework within 72 hours",color:"text-orange-500"}],d=[{step:"1",title:"Tell us your requirement on WhatsApp",description:"Just message your problem. Our AI assistant handles the rest.",icon:_g},{step:"2",title:"Get the right technician",description:"We assign a verified, background-checked expert near you.",icon:ya},{step:"3",title:"Service done. Pay after work.",description:"Simple, transparent, and satisfaction guaranteed.",icon:go}],[u,m]=g.useState([{text:"Fast service and clean work.",author:"Rajesh K.",rating:5},{text:"Great response time. Loved it.",author:"Priya M.",rating:5},{text:"Technician was polite and professional.",author:"Amit S.",rating:5}]);g.useEffect(()=>{(async()=>{try{const v=await(await fetch("https://nexo.works/api/public/featured-reviews")).json();if(v.success&&v.data&&Array.isArray(v.data)&&v.data.length>0){const y=v.data.map(w=>({text:w.text,author:w.author,rating:w.rating||5}));m(y)}}catch(b){console.error("Error fetching featured reviews:",b)}})()},[]);const f={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.3,delayChildren:.2}}},h={hidden:{y:30,opacity:0},visible:{y:0,opacity:1,transition:{duration:.8,ease:"easeOut"}}},x={animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}};return r.jsxs(r.Fragment,{children:[r.jsx(Ba,{title:"Nexo - Home Services on WhatsApp | AC, Electrical, Plumbing & More",description:"Fast, reliable and affordable home services from verified experts. Book AC service, electrical work, plumbing, cleaning, and 200+ services on WhatsApp. Response under 2 minutes. Verified technicians. Pay after service.",keywords:"home services, AC service, electrical work, plumbing, cleaning services, WhatsApp booking, verified technicians, home maintenance, appliance repair, carpentry, painting services",url:"/"}),r.jsxs("div",{className:"overflow-x-hidden w-full max-w-full",children:[r.jsxs("section",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-primary via-primary-dark to-primary overflow-hidden w-full max-w-full",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),r.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",variants:x,animate:"animate"}),r.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",variants:x,animate:"animate",transition:{delay:1,duration:5}}),r.jsx(E.div,{className:"absolute top-1/2 right-20 w-32 h-32 sm:w-40 sm:h-40 bg-gradient-to-br from-white/10 to-transparent rounded-full blur-2xl",variants:x,animate:"animate",transition:{delay:2,duration:6}}),r.jsx(E.div,{className:"absolute bottom-1/3 left-1/4 w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-blue-300/15 to-transparent rounded-full blur-xl",variants:x,animate:"animate",transition:{delay:.5,duration:4.5}}),[...Array(20)].map((p,b)=>r.jsx(E.div,{className:"absolute bg-white/30 rounded-full",style:{width:`${6+b%4*3}px`,height:`${6+b%4*3}px`,left:`${3+b*5%94}%`,top:`${8+b*4%85}%`},animate:{y:[0,-150,0],x:[0,b%2===0?50:-50,0],opacity:[.2,.6,.2],scale:[1,1.5,1]},transition:{duration:8+b%4,repeat:1/0,ease:"easeInOut",delay:b*.2}},`small-${b}`)),[...Array(12)].map((p,b)=>r.jsx(E.div,{className:"absolute bg-white/20 rounded-full blur-sm",style:{width:`${14+b%3*4}px`,height:`${14+b%3*4}px`,left:`${5+b*8%90}%`,top:`${10+b*6%80}%`},animate:{y:[0,-120,0],x:[0,b%2===0?60:-60,0],opacity:[.15,.4,.15],scale:[1,1.4,1]},transition:{duration:9+b%3*2,repeat:1/0,ease:"easeInOut",delay:b*.4}},`medium-${b}`)),[...Array(8)].map((p,b)=>r.jsx(E.div,{className:"absolute bg-white/10 rounded-full blur-2xl",style:{width:`${100+b%3*30}px`,height:`${100+b%3*30}px`,left:`${8+b*12%85}%`,top:`${12+b*10%75}%`},animate:{y:[0,-80,0],x:[0,b%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.1,.3,.1]},transition:{duration:10+b%3*2,repeat:1/0,ease:"easeInOut",delay:b*.8}},`large-${b}`)),r.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-64 opacity-20",style:{background:"linear-gradient(to top, rgba(255,255,255,0.1) 0%, transparent 100%)"},animate:{y:[0,-20,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),r.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:r.jsxs(E.div,{variants:f,initial:"hidden",animate:"visible",children:[r.jsxs(E.h1,{variants:h,className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-4 sm:mb-6 leading-tight",children:["Your home services.",r.jsx("br",{}),r.jsx(E.span,{className:"text-yellow-300 inline-block",variants:h,animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"Now on WhatsApp."})]}),r.jsx(E.p,{variants:h,className:"text-lg sm:text-xl md:text-2xl text-white/90 mb-6 sm:mb-8 max-w-3xl mx-auto px-4",children:"Fast, reliable and affordable service from verified experts."}),r.jsxs(E.div,{variants:h,className:"flex flex-col sm:flex-row gap-4 justify-center items-center px-4",children:[r.jsxs(E.button,{onClick:t,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2 w-full sm:w-auto justify-center",children:[r.jsx(hr,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Book on WhatsApp"]}),r.jsx(E.a,{href:"/partner/onboard",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-primary px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-white/50 transition-all duration-300 w-full sm:w-auto text-center",children:"Become a Partner"})]}),r.jsx(E.p,{variants:h,className:"text-white/80 mt-6 sm:mt-8 text-sm sm:text-lg px-4",children:"Support for AC, electrical, plumbing, cleaning, appliances and 200+ services."})]})}),r.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-20 sm:h-24 bg-white pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0}})]}),r.jsxs("section",{className:"py-12 sm:py-16 lg:py-20 bg-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 20% 50%, rgba(33, 74, 115, 0.1) 0%, transparent 50%),
                                  radial-gradient(circle at 80% 80%, rgba(33, 74, 115, 0.1) 0%, transparent 50%)`},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}})}),r.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-3 sm:mb-4",children:"How It Works"}),r.jsx("p",{className:"text-lg sm:text-xl text-gray-600",children:"Simple steps to get your service done"})]}),r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:d.map((p,b)=>{const j=p.icon;return r.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.6,delay:b*.2},whileHover:{y:-5,scale:1.02},className:"bg-gradient-to-br from-primary/5 to-primary/10 p-6 sm:p-8 rounded-2xl border border-primary/20 hover:shadow-xl transition-all duration-300 relative",children:[r.jsx("div",{className:"absolute -top-4 -left-4 w-10 h-10 sm:w-12 sm:h-12 bg-primary text-white rounded-full flex items-center justify-center text-lg sm:text-xl font-bold shadow-lg",children:p.step}),r.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-primary/10 rounded-full flex items-center justify-center mb-4 sm:mb-6 mx-auto",children:r.jsx(j,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary"})}),r.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-primary mb-3 sm:mb-4 text-center",children:p.title}),r.jsx("p",{className:"text-gray-600 text-base sm:text-lg text-center",children:p.description})]},b)})}),r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.6},className:"text-center mt-8 sm:mt-12",children:r.jsx("div",{className:"flex justify-center",children:r.jsxs(E.button,{onClick:t,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-primary text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-primary-dark transition-all duration-300 shadow-lg hover:shadow-xl flex items-center gap-2",children:[r.jsx(hr,{className:"w-5 h-5"}),"Start on WhatsApp"]})})})]})]}),r.jsxs("section",{id:"services",className:"py-12 sm:py-16 lg:py-20 bg-gray-50 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx(E.div,{className:"absolute inset-0",style:{background:"linear-gradient(45deg, transparent 30%, rgba(33, 74, 115, 0.05) 50%, transparent 70%)"},animate:{x:["-100%","100%"]},transition:{duration:20,repeat:1/0,ease:"linear"}})}),r.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-3 sm:mb-4",children:"Popular Services"}),r.jsx("p",{className:"text-lg sm:text-xl text-gray-600",children:"Choose from our wide range of services"})]}),n?r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[...Array(8)].map((p,b)=>r.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-lg border border-gray-100 animate-pulse",children:[r.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gray-200 rounded-lg mb-3 sm:mb-4"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"})]},b))}):r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:s.map((p,b)=>{const j=p.icon;return r.jsx(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"-50px"},transition:{duration:.4,delay:b*.1},whileHover:{y:-5,scale:1.02},className:"bg-white p-4 sm:p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:r.jsxs(Wt,{to:`/service/${p.slug}`,className:"block",children:[r.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-primary/10 rounded-lg flex items-center justify-center mb-3 sm:mb-4",children:r.jsx(j,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"})}),r.jsx("h3",{className:"text-base sm:text-xl font-bold text-primary mb-2",children:p.name}),r.jsxs(E.button,{onClick:v=>{v.stopPropagation(),t(v)},whileHover:{scale:1.05,x:2},whileTap:{scale:.95},className:"text-primary hover:text-primary-dark font-semibold text-xs sm:text-sm flex items-center gap-1",children:["Book Now ",r.jsx(hr,{className:"w-3 h-3"})]})]})},p.slug||p._id||b)})})]})]}),r.jsxs("section",{className:"py-12 sm:py-16 lg:py-20 bg-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 50% 50%, rgba(33, 74, 115, 0.1) 0%, transparent 70%)"},animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}})}),r.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:r.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-3 sm:mb-4",children:"Why Choose Us"})}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:c.map((p,b)=>{const j=p.icon;return r.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:b*.1},whileHover:{scale:1.05,x:5},className:"flex items-center gap-3 sm:gap-4 bg-gray-50 p-4 sm:p-6 rounded-xl hover:bg-primary/5 transition-all duration-300",children:[r.jsx(j,{className:`w-6 h-6 sm:w-8 sm:h-8 ${p.color} flex-shrink-0`}),r.jsx("span",{className:"text-base sm:text-lg font-semibold text-gray-800",children:p.text})]},b)})}),r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mt-8 sm:mt-12",children:r.jsx("div",{className:"flex justify-center",children:r.jsxs(E.button,{onClick:t,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-primary text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-primary-dark transition-all duration-300 shadow-lg hover:shadow-xl flex items-center gap-2",children:[r.jsx(hr,{className:"w-5 h-5"}),"Book Your Service"]})})})]})]}),r.jsxs("section",{className:"py-12 sm:py-16 lg:py-20 bg-gradient-to-br from-primary/10 to-primary/5 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx(E.div,{className:"absolute inset-0",style:{background:"linear-gradient(135deg, rgba(33, 74, 115, 0.1) 0%, transparent 100%)"},animate:{rotate:[0,360]},transition:{duration:30,repeat:1/0,ease:"linear"}})}),r.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-3 sm:mb-4",children:"Subscription Plans"}),r.jsx("p",{className:"text-lg sm:text-xl text-gray-600",children:"Boost your home maintenance"})]}),r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:l.map((p,b)=>{const j=p.highlight||p.name==="Pro",v=p.whatsappNumber||e;return r.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.6,delay:b*.2},whileHover:{y:-10,scale:1.02},className:`bg-white p-6 sm:p-8 rounded-2xl shadow-xl border-2 ${j?"border-primary scale-105 lg:scale-105 sm:scale-100":"border-gray-200"}`,children:[p.highlightText&&r.jsx("div",{className:"text-xs text-primary font-semibold mb-2",children:p.highlightText}),r.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-primary mb-2",children:p.name}),r.jsxs("div",{className:"mb-4 sm:mb-6",children:[r.jsx("span",{className:"text-3xl sm:text-4xl font-bold text-primary",children:p.price}),r.jsx("span",{className:"text-gray-600",children:"/month"})]}),r.jsx("ul",{className:"space-y-2 sm:space-y-3 mb-6 sm:mb-8",children:p.features.map((y,w)=>r.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-gray-700",children:[r.jsx(Be,{className:"text-primary flex-shrink-0"}),y]},w))}),r.jsxs(E.button,{onClick:()=>t(v),whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:`block w-full text-center py-3 rounded-full font-semibold transition-all duration-300 text-sm sm:text-base flex items-center justify-center gap-2 ${j?"bg-primary text-white hover:bg-primary-dark":"bg-gray-100 text-primary hover:bg-gray-200"}`,children:[r.jsx(hr,{className:"w-4 h-4"}),"Subscribe on WhatsApp"]})]},p.name||b)})})]})]}),r.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-white relative overflow-hidden",children:r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-2xl sm:rounded-3xl p-8 sm:p-12 text-white text-center relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M20 20.5V18H0v-2h20v-2H0v-2h20v-2H0V8h20V6H0V4h20V2H0V0h22v20h2V0h2v20h2V0h2v20h2V0h2v20h2V0h2v20h2v2H0v-2h22zm0 0v2H0v-2h22z'/%3E%3C/g%3E%3C/svg%3E")`},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-3 sm:mb-4",children:"AMC for PGs, Clinics, Shops & Apartments"}),r.jsx("p",{className:"text-lg sm:text-xl mb-4 sm:mb-6 text-white/90",children:"Electrical + Plumbing + AC Maintenance + Repairs"}),r.jsx("p",{className:"text-2xl sm:text-3xl font-bold mb-6 sm:mb-8",children:"Starting 2,500/month"}),r.jsx("div",{className:"flex justify-center",children:r.jsxs(E.button,{onClick:t,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-primary px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-gray-100 transition-all duration-300 shadow-lg flex items-center gap-2",children:[r.jsx(hr,{className:"w-5 h-5"}),"Get AMC Quote on WhatsApp"]})})]})]})})}),r.jsxs("section",{className:"py-12 sm:py-16 lg:py-20 bg-gray-50 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx(E.div,{className:"absolute inset-0",style:{background:"radial-gradient(circle at 30% 30%, rgba(33, 74, 115, 0.1) 0%, transparent 50%), radial-gradient(circle at 70% 70%, rgba(33, 74, 115, 0.1) 0%, transparent 50%)"},animate:{scale:[1,1.1,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}})}),r.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:r.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-3 sm:mb-4",children:"Customer Reviews"})}),r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:u.map((p,b)=>r.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:b*.2},whileHover:{y:-5},className:"bg-white p-6 sm:p-8 rounded-2xl shadow-lg border-l-4 border-primary",children:[r.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(p.rating)].map((j,v)=>r.jsx("span",{className:"text-yellow-400 text-lg sm:text-xl",children:""},v))}),r.jsxs("p",{className:"text-gray-700 text-base sm:text-lg mb-4 italic",children:['"',p.text,'"']}),r.jsxs("p",{className:"text-primary font-semibold",children:[" ",p.author]})]},b))})]})]})]})]})},bq={FaSnowflake:bh,FaBolt:lo,FaTint:vh,FaBroom:fh,FaPaintRoller:gh,FaTools:ei,FaHammer:xh,FaFilter:ph,FaPlug:Dw,FaWrench:Dg,FaCheckCircle:Be,FaCreditCard:go,FaMobileAlt:Ig,FaCommentDots:_g},Fi=e=>bq[e]||ei,rk=window.location.origin,vq=()=>{const{serviceName:e}=jg(),t=ms(),s=Di(),[a,n]=g.useState(null),[i,l]=g.useState([]),[o,c]=g.useState(!0),[d,u]=g.useState(null),[m,f]=g.useState({}),[h,x]=g.useState({}),[p,b]=g.useState({}),[j,v]=g.useState(null),[y,w]=g.useState(!1),{openDialog:N}=Mg(),k=()=>`nexo_cart_${e||"default"}`,S=()=>{if(e)try{const T=k(),L=localStorage.getItem(T);if(L){const D=JSON.parse(L);f(D.selectedSubServices||{}),x(D.selectedAddOns||{}),b(D.selectedAddOnSubServices||{})}}catch(T){console.error("Error loading cart from localStorage:",T)}},P=(T,L,D)=>{if(e)try{const M=k(),z={selectedSubServices:T||m,selectedAddOns:L||h,selectedAddOnSubServices:D||p};localStorage.setItem(M,JSON.stringify(z))}catch(M){console.error("Error saving cart to localStorage:",M)}};g.useEffect(()=>{e&&(async()=>{c(!0),u(null);try{const D=await(await fetch(`${rk}/api/user/service-by-slug/${e}`)).json();if(D.success&&D.data){const M={...D.data,icon:Fi(D.data.icon),subServices:D.data.subServices||[]};n(M),S()}else u("Service not found")}catch(L){console.error("Error fetching service:",L),u("Failed to load service. Please try again later.")}finally{c(!1)}})()},[e]),g.useEffect(()=>{if(e&&a){const T=k(),L={selectedSubServices:m,selectedAddOns:h,selectedAddOnSubServices:p};try{localStorage.setItem(T,JSON.stringify(L))}catch(D){console.error("Error saving cart to localStorage:",D)}}},[m,h,p,e,a]),g.useEffect(()=>{(async()=>{try{const D=await(await fetch(`${rk}/api/user/popular`)).json();if(D.success&&D.data){const M=D.data.filter(z=>z.slug!==e).slice(0,6).map(z=>({...z,icon:Fi(z.icon)}));l(M)}}catch(L){console.error("Error fetching popular services:",L)}})()},[e]);const C=a||{name:"Service",description:"Professional service for all your needs.",trusted:"Trusted by thousands of homes",icon:ei,included:[],excluded:[],addOns:[],reviews:[],averageRating:null,totalReviews:0},A=C.icon||ei,V=()=>!C.subServices||C.subServices.length===0?0:C.subServices.reduce((T,L)=>{const D=m[L._id]||0,M=L.finalPrice||L.basePrice||L.price||0;return T+M*D},0),q=T=>{const L=T.basePrice||0,D=T.discount||0,M=T.cgst||0,z=T.sgst||0,se=T.serviceCharge||0,ne=L*(D/100),te=L-ne,Re=te+se,Ce=Re*((M+z)/100),Je=Re+Ce;return{basePrice:L,discount:D,discountAmount:ne,subtotalAfterDiscount:te,serviceCharge:se,subtotalWithCharge:Re,cgst:M,sgst:z,gstAmount:Ce,finalPrice:Je}},Z=()=>!C.addOns||C.addOns.length===0?0:C.addOns.reduce((T,L,D)=>{const M=h[D]||0;if(M>0){const z=q(L);return T+z.finalPrice*M}return T},0),ue=()=>{if(!C.addOns||C.addOns.length===0)return 0;let T=0;return C.addOns.forEach((L,D)=>{L.subServices&&L.subServices.length>0&&L.subServices.forEach((M,z)=>{const se=`${D}-${z}`,ne=p[se]||0;if(ne>0){const te=M.price||"0",Re=parseFloat(te.replace(/[,\s]/g,""))||0;T+=Re*ne}})}),T},me=()=>V()+Z()+ue(),Q=()=>{const T=Object.values(m).reduce((M,z)=>M+z,0),L=Object.values(h).reduce((M,z)=>M+z,0),D=Object.values(p).reduce((M,z)=>M+z,0);return T+L+D},ae=T=>{f(L=>{const D={...L,[T]:(L[T]||0)+1};return P(D,h,p),D})},oe=T=>{f(L=>{const D={...L};return D[T]>1?D[T]=D[T]-1:delete D[T],P(D,h,p),D})},R=(T,L)=>{const D=`${T}-${L}`;b(M=>{const z={...M,[D]:(M[D]||0)+1};return P(m,h,z),z})},O=(T,L)=>{const D=`${T}-${L}`;b(M=>{const z={...M};return z[D]>1?z[D]=z[D]-1:delete z[D],P(m,h,z),z})},I=T=>{x(L=>{const D={...L,[T]:(L[T]||0)+1};return P(m,D,p),D})},X=T=>{x(L=>{const D={...L};return D[T]>1?D[T]=D[T]-1:delete D[T],P(m,D,p),D})},W=T=>{x(L=>{const D={...L};return delete D[T],P(m,D,p),D})};return o?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[r.jsx(ha,{className:"w-12 h-12 text-primary animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Loading service details..."})]})}):d||!a?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Service Not Found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:d||"The service you are looking for does not exist."}),r.jsx(Wt,{to:"/",className:"inline-block bg-primary text-white px-6 py-3 rounded-full font-semibold hover:bg-primary-dark transition",children:"Go to Home"})]})}):r.jsxs(r.Fragment,{children:[r.jsx(Ba,{title:`${C.name} | Nexo`,description:`${C.description} ${C.trusted}. Book ${C.name} on WhatsApp with verified technicians.`,keywords:`${C.name}, home services, ${C.name.toLowerCase()} near me, WhatsApp booking, verified technicians`,url:`/service/${e}`}),r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-6 sm:py-8 lg:py-10 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})}),r.jsx(E.div,{className:"absolute top-10 left-10 w-32 h-32 sm:w-40 sm:h-40 bg-gradient-to-br from-white/15 to-white/5 rounded-full blur-2xl",animate:{y:[0,-20,0],x:[0,10,0],scale:[1,1.05,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),r.jsx(E.div,{className:"absolute bottom-10 right-10 w-36 h-36 sm:w-48 sm:h-48 bg-gradient-to-br from-yellow-300/15 to-yellow-300/5 rounded-full blur-2xl",animate:{y:[0,-20,0],x:[0,-10,0],scale:[1,1.05,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(8)].map((T,L)=>r.jsx(E.div,{className:"absolute bg-white/20 rounded-full",style:{width:`${4+L%3*2}px`,height:`${4+L%3*2}px`,left:`${5+L*12%90}%`,top:`${10+L*8%80}%`},animate:{y:[0,-80,0],opacity:[.2,.4,.2]},transition:{duration:6+L%3,repeat:1/0,ease:"easeInOut",delay:L*.3}},`particle-${L}`)),r.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"text-center",children:[r.jsx(E.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.5},className:"inline-block mb-3 sm:mb-4",children:r.jsx(A,{className:"w-12 h-12 sm:w-14 sm:h-14 text-yellow-300"})}),r.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-extrabold mb-3 sm:mb-4 leading-tight",children:C.name}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 mb-4 sm:mb-5",children:[C.averageRating&&r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.2},className:"flex items-center gap-1.5 bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full border border-white/20",children:[r.jsx(nd,{className:"text-yellow-300 text-sm"}),r.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:C.averageRating}),r.jsxs("span",{className:"text-xs text-white/70",children:["(",C.totalReviews," reviews)"]})]}),r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.25},className:"flex items-center gap-1.5 bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full border border-white/20",children:[r.jsx(yh,{className:"text-green-300 text-sm"}),r.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:"Verified"})]}),r.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.3},className:"flex items-center gap-1.5 bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full border border-white/20",children:[r.jsx(xo,{className:"text-blue-300 text-sm"}),r.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:"Quick Service"})]})]}),C.trusted&&r.jsx("p",{className:"text-sm sm:text-base text-white/90 mb-4 sm:mb-5 font-medium",children:C.trusted}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-2 sm:gap-3",children:[r.jsxs(E.button,{onClick:s,whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 rounded-full text-base font-bold shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2 w-full sm:w-auto justify-center min-h-[44px]","aria-label":"Book service on WhatsApp",children:[r.jsx(hr,{className:"w-5 h-5"}),r.jsx("span",{children:"Book on WhatsApp"})]}),C.subServices&&C.subServices.length>0&&r.jsxs(E.button,{onClick:()=>{const T=document.querySelector("[data-packages-section]");T==null||T.scrollIntoView({behavior:"smooth",block:"start"})},whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-white/20 text-white px-5 sm:px-6 py-3 rounded-full text-sm font-semibold border border-white/40 hover:bg-white/30 transition-all duration-300 w-full sm:w-auto min-h-[44px] flex items-center justify-center gap-2","aria-label":"View available packages",children:[r.jsx(lf,{className:"w-4 h-4"}),r.jsx("span",{children:"View Packages"})]})]})]})}),r.jsx("div",{className:"absolute bottom-0 left-0 w-full h-6 sm:h-8 bg-gray-50 pointer-events-none rounded-t-3xl"})]}),r.jsx("section",{className:"pt-6 pb-5 sm:pt-8 sm:pb-8 lg:pb-12 bg-gradient-to-b from-gray-50 via-white to-gray-50",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid lg:grid-cols-12 gap-4 sm:gap-6 lg:gap-8",children:[r.jsxs("div",{className:"lg:col-span-8 space-y-4 sm:space-y-6",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"bg-white rounded-xl sm:rounded-2xl border border-gray-200 shadow-lg p-4 sm:p-6 lg:p-8",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-primary/10 to-primary/20 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:C.name}),C.averageRating&&r.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm mt-1",children:[r.jsx(nd,{className:"text-yellow-500 fill-yellow-500 text-xs sm:text-sm"}),r.jsx("span",{className:"font-bold text-gray-900",children:C.averageRating}),r.jsxs("span",{className:"text-gray-600 text-xs",children:["(",(C.totalReviews||0).toLocaleString("en-IN")," reviews)"]})]})]})]}),C.description&&r.jsx("p",{className:"text-xs sm:text-sm text-gray-700 mb-3 sm:mb-4 leading-relaxed",children:C.description}),r.jsx("div",{className:"p-3 sm:p-4 bg-gradient-to-br from-emerald-50 to-emerald-100/50 border-2 border-emerald-200 rounded-lg sm:rounded-xl cursor-pointer hover:bg-gradient-to-br hover:from-emerald-100 hover:to-emerald-200/50 hover:border-emerald-300 hover:shadow-md transition-all duration-300 group",children:r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-emerald-500 rounded-lg flex items-center justify-center shadow-sm flex-shrink-0",children:r.jsx(Be,{className:"text-white text-sm sm:text-lg"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-xs sm:text-sm font-bold text-gray-900",children:"Nexo COVER"}),r.jsx("div",{className:"text-xs text-gray-700 font-medium",children:"Upto 30 days warranty on repairs"})]})]}),r.jsx(eq,{className:"text-emerald-600 group-hover:text-emerald-700 group-hover:translate-x-1 transition-all flex-shrink-0"})]})})]}),C.addOns&&C.addOns.length>0?r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:r.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl border border-gray-200 shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary px-4 sm:px-6 py-4 sm:py-5 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black/5"}),r.jsxs("div",{className:"relative flex items-center gap-2 sm:gap-3",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/20 backdrop-blur-sm rounded-lg sm:rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",children:r.jsx(lf,{className:"text-white text-lg sm:text-xl"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white truncate",children:"Add-On Services"}),r.jsx("p",{className:"text-white/90 text-xs font-medium",children:"Enhance your service"})]})]})]}),r.jsx("div",{className:"p-4 sm:p-6 space-y-3 sm:space-y-4 max-h-[600px] overflow-y-auto custom-scrollbar",children:C.addOns.map((T,L)=>{const D=h[L]||0,M=D>0,z=q(T),se=Fi(T.icon||"FaTools");return r.jsxs(E.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3,delay:L*.1},whileHover:{scale:1.02,y:-4},onClick:()=>v({index:L,addon:T}),className:`bg-gradient-to-br ${M?"from-primary/5 to-primary/10 border-2 border-primary shadow-lg":"from-white to-gray-50/50 border border-gray-200 hover:border-primary/40 hover:shadow-md"} p-3 sm:p-4 lg:p-5 rounded-lg sm:rounded-xl transition-all duration-300 cursor-pointer`,children:[r.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 mb-3 sm:mb-4",children:[r.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0 shadow-sm ${M?"bg-gradient-to-br from-primary to-primary-dark":"bg-gradient-to-br from-primary/10 to-primary/20"}`,children:r.jsx(se,{className:`w-6 h-6 sm:w-7 sm:h-7 ${M?"text-white":"text-primary"}`})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-sm sm:text-base font-bold text-gray-900 mb-1.5 sm:mb-2 line-clamp-1",children:T.name}),T.description&&r.jsx("p",{className:"text-xs text-gray-600 mb-2 sm:mb-3 line-clamp-2 leading-relaxed",children:T.description}),r.jsxs("div",{className:"flex items-baseline gap-1.5 sm:gap-2 mb-2 sm:mb-3 flex-wrap",children:[r.jsxs("span",{className:"text-xl sm:text-2xl font-black text-primary",children:["",Math.round(z.finalPrice).toLocaleString("en-IN")]}),z.discount>0&&r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 line-through",children:["",Math.round(z.basePrice).toLocaleString("en-IN")]}),r.jsxs("span",{className:"text-xs font-bold text-white bg-gradient-to-r from-green-500 to-green-600 px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-full shadow-sm",children:[z.discount,"% OFF"]})]})]}),M&&r.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-bold text-white bg-gradient-to-r from-primary to-primary-dark px-2 sm:px-3 py-1 sm:py-1.5 rounded-full shadow-md",children:[r.jsx(ad,{className:"text-xs"}),D," in cart"]})]})]}),M?r.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 sm:gap-2",onClick:ne=>ne.stopPropagation(),children:[r.jsx("button",{onClick:ne=>{ne.stopPropagation(),v({index:L,addon:T})},className:"bg-gray-100 text-gray-700 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:bg-gray-200 transition-all text-xs sm:text-sm flex items-center justify-center min-h-[44px] sm:min-h-[48px] shadow-sm hover:shadow flex-1 sm:flex-none",children:"Details"}),r.jsx("button",{onClick:ne=>{ne.stopPropagation(),X(L)},className:"bg-gray-100 text-gray-700 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:bg-gray-200 transition-all text-xs sm:text-sm flex items-center justify-center min-h-[44px] sm:min-h-[48px] min-w-[44px] sm:min-w-[48px] shadow-sm hover:shadow","aria-label":"Decrease quantity",children:r.jsx(Li,{className:"text-xs sm:text-sm"})}),r.jsx("div",{className:"bg-gradient-to-r from-primary to-primary-dark text-white px-4 sm:px-5 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold text-sm sm:text-base min-w-[3rem] sm:min-w-[3.5rem] text-center min-h-[44px] sm:min-h-[48px] flex items-center justify-center shadow-md",children:D}),r.jsx("button",{onClick:ne=>{ne.stopPropagation(),I(L)},className:"bg-gradient-to-r from-primary to-primary-dark text-white px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:from-primary-dark hover:to-primary transition-all text-xs sm:text-sm flex items-center justify-center min-h-[44px] sm:min-h-[48px] min-w-[44px] sm:min-w-[48px] shadow-md hover:shadow-lg","aria-label":"Increase quantity",children:r.jsx(Un,{className:"text-xs sm:text-sm"})}),r.jsx("button",{onClick:ne=>{ne.stopPropagation(),W(L)},className:"bg-red-50 text-red-600 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:bg-red-100 transition-all text-xs sm:text-sm min-h-[44px] sm:min-h-[48px] min-w-[44px] sm:min-w-[48px] flex items-center justify-center shadow-sm hover:shadow","aria-label":`Remove ${T.name} from cart`,title:"Remove",children:r.jsx(Jt,{className:"text-xs sm:text-sm"})})]}):r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",onClick:ne=>ne.stopPropagation(),children:[r.jsx("button",{onClick:ne=>{ne.stopPropagation(),v({index:L,addon:T})},className:"flex-1 bg-gray-100 text-gray-700 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl font-bold hover:bg-gray-200 transition-all text-xs sm:text-sm flex items-center justify-center min-h-[44px] sm:min-h-[48px] shadow-sm hover:shadow",children:"View Details"}),r.jsxs("button",{onClick:ne=>{ne.stopPropagation(),I(L)},className:"flex-1 bg-gradient-to-r from-primary to-primary-dark text-white px-4 sm:px-5 py-2.5 sm:py-3.5 rounded-lg sm:rounded-xl font-bold hover:from-primary-dark hover:to-primary transition-all text-xs sm:text-sm flex items-center justify-center gap-1.5 sm:gap-2 min-h-[44px] sm:min-h-[48px] shadow-md hover:shadow-lg","aria-label":`Add ${T.name} to cart`,children:[r.jsx(Un,{className:"text-xs sm:text-sm"}),r.jsx("span",{children:"Add"})]})]})]},L)})})]})}):r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 text-center",children:r.jsx("p",{className:"text-gray-500",children:"No add-on services available"})})]}),r.jsx("div",{className:"lg:col-span-4",children:r.jsxs(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"bg-white rounded-xl sm:rounded-2xl border border-gray-200 shadow-xl hover:shadow-2xl transition-shadow duration-300 p-4 sm:p-6 lg:p-8 lg:sticky lg:top-24 max-h-[calc(100vh-8rem)] overflow-y-auto custom-scrollbar",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 pb-3 sm:pb-4 border-b-2 border-gray-100",children:[r.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 sm:gap-3 hover:opacity-80 transition-opacity cursor-pointer flex-1 min-w-0",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-primary/10 to-primary/20 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(ad,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),r.jsx("h2",{className:"text-base sm:text-xl font-bold text-gray-900 truncate",children:"Shopping Cart"})]}),Q()>0&&r.jsxs("button",{onClick:()=>w(!0),className:"bg-gradient-to-r from-primary to-primary-dark text-white text-xs font-bold px-2 sm:px-3 py-1 sm:py-1.5 rounded-full shadow-md hover:shadow-lg transition-all flex-shrink-0 ml-2",children:[Q()," items"]})]}),Q()===0?r.jsxs("div",{className:"text-center py-8 sm:py-12",children:[r.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:r.jsx(ad,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400"})}),r.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-700 mb-1",children:"Your cart is empty"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Add services to get started"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-3 mb-6 max-h-[400px] overflow-y-auto custom-scrollbar pr-2",children:[C.subServices&&C.subServices.filter(T=>m[T._id]>0).map(T=>{const L=m[T._id],D=T.finalPrice||T.basePrice||T.price||0,M=T.originalPrice||T.price||0,z=M>D;return r.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-white border border-gray-200 rounded-lg sm:rounded-xl p-3 sm:p-4 hover:shadow-md transition-all",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 sm:gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-900 mb-2 sm:mb-3 line-clamp-1",children:T.name}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("div",{className:"flex items-center gap-1 bg-white border-2 border-gray-200 rounded-lg shadow-sm",children:[r.jsx("button",{onClick:()=>oe(T._id),className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center text-gray-600 hover:bg-gray-100 hover:text-primary transition rounded-l-lg",children:r.jsx(Li,{className:"text-xs"})}),r.jsx("span",{className:"w-8 sm:w-10 text-center font-bold text-xs sm:text-sm text-gray-900",children:L}),r.jsx("button",{onClick:()=>ae(T._id),className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center text-gray-600 hover:bg-gray-100 hover:text-primary transition rounded-r-lg",children:r.jsx(Un,{className:"text-xs"})})]})})]}),r.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[r.jsxs("p",{className:"text-sm sm:text-base font-bold text-primary",children:["",Math.round(D*L).toLocaleString("en-IN")]}),z&&r.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(M*L).toLocaleString("en-IN")]})]})]})},`sub-${T._id}`)}),C.addOns&&C.addOns.map((T,L)=>{const D=h[L]||0;if(D===0)return null;const M=q(T);return r.jsx("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 border border-primary/20 rounded-lg sm:rounded-xl p-3 sm:p-4 hover:shadow-md transition-all",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 sm:gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-900 mb-2 sm:mb-3 line-clamp-1",children:T.name}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("div",{className:"flex items-center gap-1 bg-white border-2 border-primary/30 rounded-lg shadow-sm",children:[r.jsx("button",{onClick:()=>X(L),className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center text-gray-600 hover:bg-primary/10 hover:text-primary transition rounded-l-lg",children:r.jsx(Li,{className:"text-xs"})}),r.jsx("span",{className:"w-8 sm:w-10 text-center font-bold text-xs sm:text-sm text-primary",children:D}),r.jsx("button",{onClick:()=>I(L),className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center text-gray-600 hover:bg-primary/10 hover:text-primary transition rounded-r-lg",children:r.jsx(Un,{className:"text-xs"})})]})})]}),r.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[r.jsxs("p",{className:"text-sm sm:text-base font-bold text-primary",children:["",Math.round(M.finalPrice*D).toLocaleString("en-IN")]}),M.discount>0&&r.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(M.basePrice*D).toLocaleString("en-IN")]})]})]})},`addon-${L}`)}).filter(T=>T!==null),C.addOns&&C.addOns.map((T,L)=>{var M;const D=((M=T.subServices)==null?void 0:M.filter((z,se)=>{const ne=`${L}-${se}`;return p[ne]>0}))||[];return D.length===0?null:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"text-xs font-semibold text-primary/70 uppercase tracking-wide mb-1 px-2",children:[T.name," - Sub Services"]}),D.map((z,se)=>{const ne=`${L}-${se}`,te=p[ne]||0;if(te===0)return null;const Re=z.price||"0",Ce=parseFloat(Re.replace(/[,\s]/g,""))||0,Je=Fi(z.icon||"FaTools");return r.jsx("div",{className:"bg-gradient-to-br from-primary/5 to-white border border-primary/10 rounded-lg p-3 ml-3",children:r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[r.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx(Je,{className:"w-4 h-4 text-primary"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs font-bold text-gray-900 mb-1",children:z.name}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>O(L,se),className:"w-6 h-6 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded transition",children:r.jsx(Li,{className:"text-xs text-gray-700"})}),r.jsx("span",{className:"w-8 text-center font-bold text-xs text-gray-900",children:te}),r.jsx("button",{onClick:()=>R(L,se),className:"w-6 h-6 flex items-center justify-center bg-primary/10 hover:bg-primary/20 rounded transition",children:r.jsx(Un,{className:"text-xs text-primary"})})]})]})]}),r.jsx("div",{className:"text-right flex-shrink-0",children:r.jsxs("p",{className:"text-sm font-bold text-primary",children:["",Math.round(Ce*te).toLocaleString("en-IN")]})})]})},ne)})]},`addon-subservices-${L}`)})]}),r.jsxs("div",{className:"pt-6 border-t-2 border-gray-200 mb-6",children:[r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"h-0.5 w-8 bg-primary rounded-full"}),r.jsx("div",{className:"text-xs font-bold text-gray-700 uppercase tracking-wide",children:"Price Breakdown"})]}),C.subServices&&C.subServices.filter(T=>m[T._id]>0).map(T=>{const L=m[T._id],D=T.finalPrice||T.basePrice||T.price||0;T.originalPrice||T.price;const M=D*L,z=T.gst||0,se=M*z/100;return r.jsxs("div",{className:"text-xs space-y-1 pb-2 border-b border-gray-100 last:border-b-0",children:[r.jsxs("div",{className:"font-semibold text-gray-700",children:[T.name," (Qty: ",L,")"]}),r.jsxs("div",{className:"flex justify-between text-gray-600",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{children:["",Math.round(M).toLocaleString("en-IN")]})]}),z>0&&r.jsxs("div",{className:"flex justify-between text-gray-600",children:[r.jsxs("span",{children:["GST (",z,"%)"]}),r.jsxs("span",{children:["+",Math.round(se).toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"flex justify-between font-semibold text-gray-900 pt-1",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{children:["",Math.round(M+se).toLocaleString("en-IN")]})]})]},`breakdown-sub-${T._id}`)}),C.addOns&&C.addOns.map((T,L)=>{const D=h[L]||0;if(D===0)return null;const M=q(T);return r.jsxs("div",{className:"text-xs space-y-1 pb-2 border-b border-gray-100 last:border-b-0",children:[r.jsxs("div",{className:"font-semibold text-gray-700",children:[T.name," (Qty: ",D,")"]}),r.jsxs("div",{className:"flex justify-between text-gray-600",children:[r.jsx("span",{children:"Base Price"}),r.jsxs("span",{children:["",Math.round(M.basePrice*D).toLocaleString("en-IN")]})]}),M.discount>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsxs("span",{children:["Discount (",M.discount,"%)"]}),r.jsxs("span",{children:["-",Math.round(M.discountAmount*D).toLocaleString("en-IN")]})]}),M.serviceCharge>0&&r.jsxs("div",{className:"flex justify-between text-gray-600",children:[r.jsx("span",{children:"Service Charge"}),r.jsxs("span",{children:["+",Math.round(M.serviceCharge*D).toLocaleString("en-IN")]})]}),(M.cgst>0||M.sgst>0)&&r.jsxs("div",{className:"flex justify-between text-gray-600",children:[r.jsxs("span",{children:["GST (",M.cgst+M.sgst,"%)"]}),r.jsxs("span",{children:["+",Math.round(M.gstAmount*D).toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"flex justify-between font-semibold text-gray-900 pt-1",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{children:["",Math.round(M.finalPrice*D).toLocaleString("en-IN")]})]})]},`breakdown-addon-${L}`)}).filter(T=>T!==null),C.addOns&&C.addOns.map((T,L)=>{var M;const D=((M=T.subServices)==null?void 0:M.filter((z,se)=>{const ne=`${L}-${se}`;return p[ne]>0}))||[];return D.length===0?null:D.map((z,se)=>{const ne=`${L}-${se}`,te=p[ne]||0;if(te===0)return null;const Re=z.price||"0",Je=(parseFloat(Re.replace(/[,\s]/g,""))||0)*te;return r.jsxs("div",{className:"text-xs space-y-1 pb-2 border-b border-gray-100 last:border-b-0",children:[r.jsxs("div",{className:"font-semibold text-gray-700",children:[z.name," (",T.name,") (Qty: ",te,")"]}),r.jsxs("div",{className:"flex justify-between text-gray-600",children:[r.jsx("span",{children:"Price"}),r.jsxs("span",{children:["",Math.round(Je).toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"flex justify-between font-semibold text-gray-900 pt-1",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{children:["",Math.round(Je).toLocaleString("en-IN")]})]})]},ne)})}).flat().filter(T=>T!==null)]}),r.jsxs("div",{className:"flex items-center justify-between pt-3 sm:pt-4 border-t-2 border-gray-300 bg-gradient-to-r from-primary/5 to-transparent -mx-2 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg",children:[r.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900",children:"Grand Total"}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-xl sm:text-2xl font-black text-primary",children:["",Math.round(me()).toLocaleString("en-IN")]}),(()=>{let T=0;C.subServices&&C.subServices.filter(D=>m[D._id]>0).forEach(D=>{const M=m[D._id],z=D.originalPrice||D.price||0;T+=z*M}),C.addOns&&C.addOns.forEach((D,M)=>{const z=h[M]||0;z>0&&(T+=(D.basePrice||0)*z)}),C.addOns&&C.addOns.forEach((D,M)=>{D.subServices&&D.subServices.forEach((z,se)=>{const ne=`${M}-${se}`,te=p[ne]||0;if(te>0){const Re=z.price||"0",Ce=parseFloat(Re.replace(/[,\s]/g,""))||0;T+=Ce*te}})});const L=me();return T>L?r.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(T).toLocaleString("en-IN")]}):null})()]})]})]}),r.jsxs("button",{onClick:N,className:"w-full bg-gradient-to-r from-[#25D366] to-[#20BA5A] text-white py-3 sm:py-4 rounded-lg sm:rounded-xl font-bold hover:from-[#20BA5A] hover:to-[#25D366] transition-all text-sm sm:text-base mb-4 flex items-center justify-center gap-2 min-h-[48px] sm:min-h-[52px] shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[r.jsx(hr,{className:"w-5 h-5 sm:w-6 sm:h-6"}),r.jsx("span",{children:"Book Now"})]})]})]})})]})})}),(C.included&&C.included.length>0||C.excluded&&C.excluded.length>0)&&r.jsx("section",{className:"py-12 sm:py-16 bg-white",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[C.included&&C.included.length>0&&r.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"bg-white rounded-2xl shadow-md border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-emerald-500 px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-white/20 rounded-lg p-2",children:r.jsx(Be,{className:"text-white text-lg"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:"What's Included"}),r.jsx("p",{className:"text-white/80 text-xs",children:"Everything you get"})]})]})}),r.jsx("div",{className:"p-6 space-y-2.5",children:C.included.map((T,L)=>r.jsxs(E.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:L*.05},className:"flex items-center gap-3 bg-emerald-50 p-3.5 rounded-lg border border-emerald-200 hover:bg-emerald-100 transition-all group",children:[r.jsx("div",{className:"bg-emerald-500 rounded-full p-1.5 flex-shrink-0",children:r.jsx(Be,{className:"text-white text-xs"})}),r.jsx("span",{className:"text-gray-800 font-medium text-sm flex-1 leading-relaxed",children:T})]},L))})]}),C.excluded&&C.excluded.length>0&&r.jsxs(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6,delay:.2},className:"bg-white rounded-2xl shadow-md border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-rose-500 px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-white/20 rounded-lg p-2",children:r.jsx(Jt,{className:"text-white text-lg"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:"What's Not Included"}),r.jsx("p",{className:"text-white/80 text-xs",children:"Items not covered"})]})]})}),r.jsx("div",{className:"p-6 space-y-2.5",children:C.excluded.map((T,L)=>r.jsxs(E.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:L*.05},className:"flex items-center gap-3 bg-rose-50 p-3.5 rounded-lg border border-rose-200 hover:bg-rose-100 transition-all group",children:[r.jsx("div",{className:"bg-rose-500 rounded-full p-1.5 flex-shrink-0",children:r.jsx(Jt,{className:"text-white text-xs"})}),r.jsx("span",{className:"text-gray-800 font-medium text-sm flex-1 leading-relaxed",children:T})]},L))})]})]})})}),C.subServices&&C.subServices.length>0&&r.jsx("section",{"data-packages-section":!0,className:"py-8 sm:py-12 bg-gradient-to-b from-white via-gray-50/30 to-white",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[r.jsx("div",{className:"lg:col-span-8",children:r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Service Packages"}),r.jsx("p",{className:"text-gray-600",children:"Choose from our curated service packages"})]}),r.jsx("div",{className:"space-y-6",children:C.subServices.map(T=>{var Le,mt;const L=m[T._id]||0,D=L>0,M=T.finalPrice||T.basePrice||T.price||0,z=T.originalPrice||T.price||0,se=z>M,ne=Array.isArray(T.icon)&&T.icon.length>0?T.icon[0]:T.icon||"",te=T.name.match(/(\d+)\s*(AC|unit|item)/i),Re=te?parseInt(te[1]):1,Ce=M/Re,Je=((Le=T.reviews)==null?void 0:Le.length)||0,Ge=Je>=1e6?`${(Je/1e6).toFixed(1)}M`:Je>=1e3?`${(Je/1e3).toFixed(1)}K`:Je.toString();return r.jsxs(E.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.3},className:`bg-white rounded-xl border-2 ${D?"border-primary shadow-lg":"border-gray-200 hover:border-primary/30"} overflow-hidden transition-all relative`,children:[te&&r.jsx("div",{className:"absolute top-0 left-0 z-10",children:r.jsxs("span",{className:"text-xs font-bold text-white bg-gray-900 px-3 py-1.5 rounded-br-lg",children:[te[1]," ",((mt=te[2])==null?void 0:mt.toUpperCase())||"UNIT"," PACK"]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 p-4 sm:p-5",children:[r.jsxs("div",{className:"flex-1 min-w-0 order-1",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:T.name}),T.description&&r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2 sm:mb-3 line-clamp-2",children:T.description}),r.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-2 sm:mb-3",children:[r.jsx(nd,{className:"text-yellow-400 text-xs sm:text-sm"}),r.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:T.rating>0?T.rating.toFixed(2):"4.77"}),r.jsxs("span",{className:"text-xs text-gray-500",children:["(",Ge," reviews)"]})]}),r.jsxs("div",{className:"mb-2 sm:mb-3",children:[r.jsxs("div",{className:"flex items-baseline gap-1.5 sm:gap-2 mb-1 flex-wrap",children:[r.jsxs("span",{className:"text-xl sm:text-2xl font-black text-gray-900",children:["",Math.round(M).toLocaleString("en-IN")]}),se&&r.jsxs("span",{className:"text-sm sm:text-base text-gray-500 line-through",children:["",Math.round(z).toLocaleString("en-IN")]})]}),Re>1&&r.jsxs("p",{className:"text-xs sm:text-sm text-emerald-600 font-semibold",children:["",Math.round(Ce)," per ",(te==null?void 0:te[2])||"unit"]})]}),T.duration&&r.jsxs("div",{className:"flex items-center gap-1 mb-2 sm:mb-3 text-xs sm:text-sm text-gray-600",children:[r.jsx(xo,{className:"text-xs"}),r.jsx("span",{children:T.duration})]}),T.includes&&T.includes.length>0&&r.jsx("ul",{className:"space-y-1 mb-2 sm:mb-3",children:T.includes.slice(0,2).map((Tt,Pe)=>r.jsxs("li",{className:"text-xs text-gray-700 flex items-start gap-1.5 sm:gap-2",children:[r.jsx("span",{className:"text-gray-400 mt-0.5 sm:mt-1",children:""}),r.jsx("span",{className:"line-clamp-1",children:Tt})]},Pe))}),r.jsx("button",{className:"text-xs text-primary hover:text-primary-dark font-semibold",children:"View details "})]}),ne&&r.jsx("div",{className:"flex-shrink-0 w-full sm:w-40 h-32 sm:h-40 lg:h-48 order-2 sm:order-2",children:r.jsx("img",{src:ne,alt:T.name,className:"w-full h-full object-cover rounded-lg border border-gray-200",onError:Tt=>{Tt.target.style.display="none"}})}),r.jsx("div",{className:"flex-shrink-0 flex flex-row sm:flex-col items-center justify-between sm:justify-center gap-2 order-3 sm:order-3",children:D?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>oe(T._id),className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center text-gray-700 hover:bg-gray-100 rounded-lg border border-gray-200 transition",children:r.jsx(Li,{className:"text-xs sm:text-sm"})}),r.jsx("span",{className:"w-10 sm:w-12 text-center font-bold text-gray-900 text-base sm:text-lg",children:L}),r.jsx("button",{onClick:()=>ae(T._id),className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center text-gray-700 hover:bg-gray-100 rounded-lg border border-gray-200 transition",children:r.jsx(Un,{className:"text-xs sm:text-sm"})})]}):r.jsx("button",{onClick:()=>ae(T._id),className:"flex-1 sm:flex-none bg-primary text-white px-4 sm:px-6 py-2.5 sm:py-3 rounded-lg font-semibold hover:bg-primary-dark transition-all text-xs sm:text-sm whitespace-nowrap",children:"Add to Cart"})})]})]},T._id)})})]})}),r.jsx("div",{className:"lg:col-span-4",children:r.jsx(E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"space-y-4 sm:space-y-6",children:r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-md p-4 sm:p-5 lg:sticky lg:top-24",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4 gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx(A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary flex-shrink-0"}),r.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 truncate",children:C.name})]}),r.jsxs("div",{className:"flex flex-col items-end flex-shrink-0",children:[r.jsx("div",{className:"bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Instant"}),r.jsx("span",{className:"text-xs text-gray-500 mt-0.5",children:"In 33 mins"})]})]}),C.averageRating&&r.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm mb-3 sm:mb-4 p-2 bg-yellow-50 rounded-lg border border-yellow-100",children:[r.jsx(nd,{className:"text-yellow-500 fill-yellow-500 text-xs sm:text-sm"}),r.jsx("span",{className:"font-bold text-gray-900",children:C.averageRating}),r.jsxs("span",{className:"text-gray-600 text-xs",children:["(",(C.totalReviews||0).toLocaleString("en-IN")," reviews)"]})]}),r.jsxs("div",{className:"pt-3 sm:pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[r.jsx("h3",{className:"text-xs sm:text-sm font-bold text-gray-900",children:"Nexo Promise"}),r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-primary/10 rounded-full flex items-center justify-center border-2 border-primary/20 flex-shrink-0",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-xs font-bold text-primary leading-tight",children:"QUALITY"}),r.jsx("div",{className:"text-xs font-bold text-primary leading-tight",children:"ASSURED"})]})})]}),r.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[r.jsx(Be,{className:"text-green-500 text-xs flex-shrink-0"}),r.jsx("span",{className:"text-xs text-gray-700",children:"Verified Professionals"})]}),r.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[r.jsx(Be,{className:"text-green-500 text-xs flex-shrink-0"}),r.jsx("span",{className:"text-xs text-gray-700",children:"Hassle Free Booking"})]}),r.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[r.jsx(Be,{className:"text-green-500 text-xs flex-shrink-0"}),r.jsx("span",{className:"text-xs text-gray-700",children:"Transparent Pricing"})]})]})]})]})})})]})})}),C.reviews&&C.reviews.length>0&&r.jsx("section",{className:"py-12 sm:py-16 bg-gray-50",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3",children:"What Our Customers Say"}),C.averageRating&&r.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[r.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((T,L)=>r.jsx(nd,{className:`w-6 h-6 sm:w-7 sm:h-7 ${L<Math.floor(C.averageRating)?"text-yellow-400":L<C.averageRating?"text-yellow-300":"text-gray-300"}`},L))}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-3xl sm:text-4xl font-black text-gray-900",children:C.averageRating}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Based on ",C.totalReviews," reviews"]})]})]})]}),r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:C.reviews.slice(0,6).map((T,L)=>{var D,M;return r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:L*.1},whileHover:{y:-4,scale:1.02},className:"bg-white p-4 rounded-xl shadow-md border border-gray-100 hover:shadow-lg transition-all group",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((z,se)=>r.jsx(nd,{className:`w-4 h-4 ${se<T.rating?"text-yellow-400":"text-gray-300"}`},se))}),r.jsxs("span",{className:"text-xs font-bold text-gray-600 ml-1",children:[T.rating,"/5"]})]}),r.jsx("p",{className:"text-gray-700 mb-3 text-sm leading-relaxed line-clamp-3",children:T.comment}),r.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-primary-dark rounded-full flex items-center justify-center text-white font-bold text-xs",children:(((D=T.user)==null?void 0:D.name)||"A")[0].toUpperCase()}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-bold text-gray-900",children:((M=T.user)==null?void 0:M.name)||"Anonymous"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Verified Customer"})]})]}),r.jsx("span",{className:"text-xs text-gray-400",children:new Date(T.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]},T._id||L)})})]})})}),Object.keys(m).length>0&&r.jsx("section",{id:"price-breakdown",className:"py-12 sm:py-16 bg-white",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3",children:"Price Breakdown"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Transparent pricing for selected packages"})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 mb-6 overflow-hidden",children:r.jsx("div",{className:"divide-y divide-gray-100",children:C.subServices.filter(T=>m[T._id]>0).map(T=>{const L=m[T._id],D=T.finalPrice||T.basePrice||T.price||0,M=T.originalPrice||T.price||0,z=M*L,se=D*L,ne=(M-D)*L,te=T.gst||0,Re=se*te/100;return r.jsxs("div",{className:"px-6 py-4 space-y-2 border-b border-gray-100 last:border-b-0",children:[r.jsxs("div",{className:"font-semibold text-gray-900 mb-2",children:[T.name," (Qty: ",L,")"]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Base Price"}),r.jsxs("span",{className:"text-gray-900",children:["",Math.round(z)]})]}),ne>0&&r.jsxs("div",{className:"flex items-center justify-between text-sm text-green-600",children:[r.jsxs("span",{children:["Discount (",T.discount||0,"%)"]}),r.jsxs("span",{children:["-",Math.round(ne)]})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm font-medium pt-1 border-t border-gray-100",children:[r.jsx("span",{className:"text-gray-700",children:"Subtotal"}),r.jsxs("span",{className:"text-gray-900",children:["",Math.round(se)]})]}),te>0&&r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[r.jsxs("span",{children:["GST (",te,"%)"]}),r.jsxs("span",{children:["+",Math.round(Re)]})]}),r.jsxs("div",{className:"flex items-center justify-between text-base font-bold pt-2 border-t-2 border-gray-200",children:[r.jsx("span",{className:"text-gray-900",children:"Total"}),r.jsxs("span",{className:"text-primary",children:["",Math.round(se+Re)]})]})]},T._id)})})}),r.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 mb-8",children:r.jsx("div",{className:"px-6 py-5",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Total Amount Payable"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Inclusive of all taxes & charges"})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"flex items-baseline gap-1",children:[r.jsx("span",{className:"text-base font-semibold text-gray-600",children:""}),r.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:(()=>{let T=0;return C.subServices.filter(L=>m[L._id]>0).forEach(L=>{const D=m[L._id],z=(L.finalPrice||L.basePrice||L.price||0)*D,se=L.gst||0;T+=z+z*se/100}),Math.round(T).toLocaleString("en-IN")})()})]})})]})})}),r.jsxs("div",{className:"text-center mt-8",children:[r.jsxs("button",{onClick:s,className:"bg-[#25D366] text-white px-10 py-4 rounded-lg text-base font-bold shadow-md hover:shadow-lg transition-all duration-300 flex items-center gap-2 mx-auto w-full sm:w-auto justify-center min-h-[48px]","aria-label":"Book this service on WhatsApp",children:[r.jsx(hr,{className:"w-5 h-5"}),r.jsx("span",{children:"Book Selected Packages"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Click to book via WhatsApp"})]})]})})}),i.length>0&&r.jsx("section",{className:"py-12 sm:py-16 bg-gray-50",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:[r.jsxs("div",{className:"text-center mb-10",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3",children:"Explore Other Popular Services"}),r.jsx("p",{className:"text-base text-gray-600",children:"Discover more services we offer"})]}),r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((T,L)=>{const D=T.icon||ei;return r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:L*.1},whileHover:{y:-4,scale:1.02},onClick:()=>t(`/service/${T.slug}`),className:"bg-white p-5 rounded-xl border-2 border-gray-100 cursor-pointer hover:border-primary/40 hover:shadow-lg transition-all group",children:r.jsxs("div",{className:"text-center",children:[r.jsx(E.div,{whileHover:{rotate:360,scale:1.1},transition:{duration:.6},className:"inline-block mb-4",children:r.jsx("div",{className:"bg-gradient-to-br from-primary/10 to-primary/20 rounded-xl p-4 group-hover:from-primary/20 group-hover:to-primary/30 transition-all",children:r.jsx(D,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary"})})}),r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-primary transition-colors",children:T.name}),T.description&&r.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2 min-h-[2.5rem]",children:T.description}),r.jsxs(E.div,{whileHover:{x:5},className:"mt-4 inline-flex items-center gap-2 bg-primary/10 text-primary font-bold px-4 py-2 rounded-full group-hover:bg-primary group-hover:text-white transition-all text-sm",children:["View Details",r.jsx("span",{className:"text-base",children:""})]})]})},T._id||L)})})]})})}),r.jsxs("section",{className:"py-12 sm:py-16 bg-gradient-to-br from-primary via-primary-dark to-primary text-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Why Book on WhatsApp"}),r.jsx("p",{className:"text-base text-white/90",children:"Experience the easiest way to book services"})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20 hover:bg-white/20 transition-all text-center",children:[r.jsx("div",{className:"bg-yellow-400/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(lo,{className:"text-xl text-yellow-300"})}),r.jsx("h3",{className:"text-base font-bold mb-1",children:"Instant Response"}),r.jsx("p",{className:"text-xs text-white/80",children:"Get immediate confirmation"})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20 hover:bg-white/20 transition-all text-center",children:[r.jsx("div",{className:"bg-green-400/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(ya,{className:"text-xl text-green-300"})}),r.jsx("h3",{className:"text-base font-bold mb-1",children:"Verified Experts"}),r.jsx("p",{className:"text-xs text-white/80",children:"Background-checked professionals"})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20 hover:bg-white/20 transition-all text-center",children:[r.jsx("div",{className:"bg-blue-400/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(yh,{className:"text-xl text-blue-300"})}),r.jsx("h3",{className:"text-base font-bold mb-1",children:"Pay After Service"}),r.jsx("p",{className:"text-xs text-white/80",children:"No upfront payment required"})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.4},className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20 hover:bg-white/20 transition-all text-center",children:[r.jsx("div",{className:"bg-purple-400/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(lf,{className:"text-xl text-purple-300"})}),r.jsx("h3",{className:"text-base font-bold mb-1",children:"Full Transparency"}),r.jsx("p",{className:"text-xs text-white/80",children:"Clear pricing & terms"})]})]}),r.jsx("div",{className:"text-center",children:r.jsxs(E.button,{onClick:s,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-8 py-4 rounded-full text-base font-bold hover:bg-[#20BA5A] transition-all duration-300 shadow-xl hover:shadow-[#25D366]/50 flex items-center gap-2 mx-auto",children:[r.jsx(hr,{className:"w-5 h-5"}),"Book Now on WhatsApp"]})})]})})]}),r.jsx("section",{className:"py-8 bg-white",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:r.jsx(Wt,{to:"/#services",className:"inline-flex items-center text-primary hover:text-primary-dark font-semibold text-base sm:text-lg transition-colors",children:" Back to All Services"})})})]}),j&&r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-md z-[10000] flex items-center justify-center p-4",onClick:()=>v(null),children:r.jsxs("div",{className:"relative max-w-3xl w-full",children:[r.jsx("button",{onClick:T=>{T.stopPropagation(),v(null)},className:"absolute -top-12 right-0 w-10 h-10 flex items-center justify-center bg-white hover:bg-gray-100 rounded-full transition-all text-gray-600 hover:text-gray-900 shadow-lg z-[10001]","aria-label":"Close modal",children:r.jsx(Jt,{className:"text-xl"})}),r.jsxs(E.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:T=>T.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-h-[85vh] overflow-hidden flex flex-col",children:[r.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-4 py-4 z-20",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex justify-center mb-3",children:r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-primary to-primary-dark rounded-xl flex items-center justify-center shadow-md",children:At.createElement(Fi(j.addon.icon||"FaTools"),{className:"text-white text-xl"})})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:j.addon.name}),j.addon.description&&r.jsx("p",{className:"text-sm text-gray-600 text-center leading-relaxed mb-4",children:j.addon.description}),(()=>{const T=h[j.index]||0,L=T>0;return r.jsx("button",{onClick:()=>{L||I(j.index),v(null)},className:`w-full px-3 py-2 rounded-lg font-medium transition-all text-sm flex items-center justify-center gap-2 ${L?"bg-green-500 text-white hover:bg-green-600 cursor-default":"bg-primary text-white hover:bg-primary-dark"}`,children:L?r.jsxs(r.Fragment,{children:[r.jsx(Be,{className:"text-sm"}),r.jsxs("span",{children:["Already in Cart (",T,")"]})]}):r.jsxs(r.Fragment,{children:[r.jsx(ad,{className:"text-sm"}),r.jsx("span",{children:"Add to Cart"})]})})})()]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-4",children:[j.addon.subServices&&j.addon.subServices.length>0&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b border-gray-200",children:[r.jsx(lf,{className:"text-primary text-base"}),r.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Sub-Services"}),r.jsxs("span",{className:"text-xs text-gray-500 ml-auto",children:["(",j.addon.subServices.length,")"]})]}),r.jsx("div",{className:"grid sm:grid-cols-2 gap-3 max-h-[280px] overflow-y-auto custom-scrollbar",children:j.addon.subServices.map((T,L)=>{const D=Fi(T.icon||"FaTools"),M=`${j.index}-${L}`,z=p[M]||0,se=z>0;return r.jsxs("div",{className:`bg-white p-3 rounded-lg border transition-all ${se?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/30"}`,children:[r.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[r.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 ${se?"bg-primary text-white":"bg-primary/10 text-primary"}`,children:r.jsx(D,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1 line-clamp-1",children:T.name}),r.jsx("p",{className:"text-sm font-bold text-primary",children:T.price}),se&&r.jsxs("span",{className:"text-xs text-primary font-medium",children:["(",z," in cart)"]})]})]}),se?r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("button",{onClick:ne=>{ne.stopPropagation(),O(j.index,L)},className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-md hover:bg-gray-200 transition-all text-xs flex items-center justify-center min-w-[28px]","aria-label":"Decrease",children:r.jsx(Li,{className:"text-xs"})}),r.jsx("div",{className:"bg-primary text-white px-3 py-1 rounded-md font-semibold text-sm min-w-[2rem] text-center",children:z}),r.jsx("button",{onClick:ne=>{ne.stopPropagation(),R(j.index,L)},className:"bg-primary text-white px-2 py-1 rounded-md hover:bg-primary-dark transition-all text-xs flex items-center justify-center min-w-[28px]","aria-label":"Increase",children:r.jsx(Un,{className:"text-xs"})})]}):r.jsxs("button",{onClick:ne=>{ne.stopPropagation(),R(j.index,L)},className:"w-full bg-primary text-white px-3 py-1.5 rounded-md font-medium text-xs hover:bg-primary-dark transition-all flex items-center justify-center gap-1",children:[r.jsx(Un,{className:"text-xs"}),r.jsx("span",{children:"Add"})]})]},L)})})]}),(()=>{const T=q(j.addon),L=h[j.index]||0;return r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h3",{className:"text-base font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Og,{className:"text-primary"}),r.jsx("span",{children:"Price Breakdown"})]}),L>0&&r.jsxs("span",{className:"bg-primary text-white text-xs font-semibold px-2 py-1 rounded-full",children:[L," in cart"]})]}),r.jsxs("div",{className:"space-y-2 bg-white rounded-lg p-3 border border-gray-100 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Base Price:"}),r.jsxs("span",{className:"font-semibold text-gray-900",children:["",Math.round(T.basePrice).toLocaleString("en-IN")]})]}),T.discount>0&&r.jsxs("div",{className:"flex justify-between bg-green-50 rounded px-2 py-1",children:[r.jsxs("span",{className:"text-green-700 font-medium flex items-center gap-1",children:[r.jsx(lq,{className:"text-xs"}),"Discount (",T.discount,"%):"]}),r.jsxs("span",{className:"font-semibold text-green-700",children:["-",Math.round(T.discountAmount).toLocaleString("en-IN")]})]}),T.serviceCharge>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Service Charge:"}),r.jsxs("span",{className:"font-semibold text-gray-900",children:["+",Math.round(T.serviceCharge).toLocaleString("en-IN")]})]}),(T.cgst>0||T.sgst>0)&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600",children:["GST (",T.cgst+T.sgst,"%):"]}),r.jsxs("span",{className:"font-semibold text-gray-900",children:["+",Math.round(T.gstAmount).toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"flex justify-between pt-2 mt-2 border-t border-gray-200",children:[r.jsx("span",{className:"font-bold text-gray-900",children:"Total:"}),r.jsxs("span",{className:"text-xl font-black text-primary",children:["",Math.round(T.finalPrice).toLocaleString("en-IN")]})]})]})]})})(),j.addon.included&&j.addon.included.length>0||j.addon.excluded&&j.addon.excluded.length>0?r.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[j.addon.included&&j.addon.included.length>0&&r.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(Be,{className:"text-green-500 text-sm"}),r.jsx("span",{children:"Included"})]}),r.jsx("ul",{className:"space-y-1.5",children:j.addon.included.map((T,L)=>r.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-700",children:[r.jsx(Be,{className:"text-green-500 text-xs mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"flex-1",children:T})]},L))})]}),j.addon.excluded&&j.addon.excluded.length>0&&r.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(Jt,{className:"text-red-500 text-sm"}),r.jsx("span",{children:"Not Included"})]}),r.jsx("ul",{className:"space-y-1.5",children:j.addon.excluded.map((T,L)=>r.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-700",children:[r.jsx(Jt,{className:"text-red-500 text-xs mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"flex-1",children:T})]},L))})]})]}):null]})]})]})}),y&&r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[10000] flex items-center justify-center p-4",onClick:()=>w(!1),children:r.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:T=>T.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-primary via-primary-dark to-primary px-6 py-5 flex items-center justify-between z-20",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:r.jsx(ad,{className:"text-white text-xl"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Shopping Cart"}),r.jsxs("p",{className:"text-white/90 text-sm",children:[Q()," items"]})]})]}),r.jsx("button",{onClick:()=>w(!1),className:"w-10 h-10 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-lg transition text-white",children:r.jsx(Jt,{className:"text-xl"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:Q()===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ad,{className:"w-12 h-12 text-gray-400"})}),r.jsx("p",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Your cart is empty"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Add services to get started"})]}):r.jsxs(r.Fragment,{children:[C.subServices&&C.subServices.filter(T=>m[T._id]>0).map(T=>{const L=m[T._id],D=T.finalPrice||T.basePrice||T.price||0,M=T.originalPrice||T.price||0,z=M>D,se=Fi(T.icon||"FaTools");return r.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-gray-50 to-white border-2 border-gray-200 rounded-xl p-4 hover:shadow-lg transition-all",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx(se,{className:"w-6 h-6 text-primary"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-base font-bold text-gray-900 mb-1",children:T.name}),T.description&&r.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:T.description}),r.jsxs("div",{className:"flex items-center justify-between mt-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>oe(T._id),className:"w-8 h-8 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded-lg transition",children:r.jsx(Li,{className:"text-xs text-gray-700"})}),r.jsx("span",{className:"w-12 text-center font-bold text-sm text-gray-900",children:L}),r.jsx("button",{onClick:()=>ae(T._id),className:"w-8 h-8 flex items-center justify-center bg-primary/10 hover:bg-primary/20 rounded-lg transition",children:r.jsx(Un,{className:"text-xs text-primary"})})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-lg font-black text-primary",children:["",Math.round(D*L).toLocaleString("en-IN")]}),z&&r.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(M*L).toLocaleString("en-IN")]})]})]})]})]})},`sub-${T._id}`)}),C.addOns&&C.addOns.map((T,L)=>{const D=h[L]||0;if(D===0)return null;const M=q(T),z=Fi(T.icon||"FaTools");return r.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-primary/5 to-primary/10 border-2 border-primary/20 rounded-xl p-4 hover:shadow-lg transition-all",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary-dark rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:r.jsx(z,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-base font-bold text-gray-900 mb-1",children:T.name}),T.description&&r.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:T.description}),r.jsxs("div",{className:"flex items-center justify-between mt-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>X(L),className:"w-8 h-8 flex items-center justify-center bg-white hover:bg-gray-100 rounded-lg transition border border-primary/20",children:r.jsx(Li,{className:"text-xs text-gray-700"})}),r.jsx("span",{className:"w-12 text-center font-bold text-sm text-primary",children:D}),r.jsx("button",{onClick:()=>I(L),className:"w-8 h-8 flex items-center justify-center bg-primary hover:bg-primary-dark rounded-lg transition text-white",children:r.jsx(Un,{className:"text-xs"})})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-lg font-black text-primary",children:["",Math.round(M.finalPrice*D).toLocaleString("en-IN")]}),M.discount>0&&r.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["",Math.round(M.basePrice*D).toLocaleString("en-IN")]})]})]})]})]})},`addon-${L}`)}).filter(T=>T!==null),C.addOns&&C.addOns.map((T,L)=>{var M;const D=((M=T.subServices)==null?void 0:M.filter((z,se)=>{const ne=`${L}-${se}`;return p[ne]>0}))||[];return D.length===0?null:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-primary/30 to-transparent"}),r.jsxs("span",{className:"text-xs font-bold text-primary uppercase tracking-wide px-3",children:[T.name," - Sub Services"]}),r.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-primary/30 to-transparent"})]}),D.map((z,se)=>{const ne=`${L}-${se}`,te=p[ne]||0;if(te===0)return null;const Re=z.price||"0",Ce=parseFloat(Re.replace(/[,\s]/g,""))||0,Je=Fi(z.icon||"FaTools");return r.jsx(E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-gradient-to-br from-primary/5 to-white border-2 border-primary/10 rounded-xl p-4 hover:shadow-md transition-all ml-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Je,{className:"w-5 h-5 text-primary"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h5",{className:"text-sm font-bold text-gray-900 mb-1",children:z.name}),z.shortDescription&&r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:z.shortDescription}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>O(L,se),className:"w-7 h-7 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded-lg transition",children:r.jsx(Li,{className:"text-xs text-gray-700"})}),r.jsx("span",{className:"w-10 text-center font-bold text-xs text-gray-900",children:te}),r.jsx("button",{onClick:()=>R(L,se),className:"w-7 h-7 flex items-center justify-center bg-primary/10 hover:bg-primary/20 rounded-lg transition",children:r.jsx(Un,{className:"text-xs text-primary"})})]}),r.jsxs("p",{className:"text-base font-black text-primary",children:["",Math.round(Ce*te).toLocaleString("en-IN")]})]})]})]})},ne)})]},`addon-subservices-${L}`)})]})}),Q()>0&&r.jsxs("div",{className:"border-t-2 border-gray-200 bg-gradient-to-br from-gray-50 to-white p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Grand Total"}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-3xl font-black text-primary",children:["",Math.round(me()).toLocaleString("en-IN")]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Q()," items"]})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>w(!1),className:"flex-1 px-6 py-3.5 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transition-all",children:"Continue Shopping"}),r.jsxs("button",{onClick:()=>{w(!1),N()},className:"flex-1 bg-gradient-to-r from-[#25D366] to-[#20BA5A] text-white px-6 py-3.5 rounded-xl font-bold hover:from-[#20BA5A] hover:to-[#25D366] transition-all flex items-center justify-center gap-2 shadow-lg hover:shadow-xl",children:[r.jsx(hr,{className:"w-5 h-5"}),r.jsx("span",{children:"Book Now"})]})]})]})]})})]})},s2=window.location.origin,Ct=e=>e.startsWith("/api/")?`${s2}${e}`:`${s2}/api/partner${e}`,Mt=e=>{const t={"Content-Type":"application/json"};return e&&(t.Authorization=`Bearer ${e}`),t},Pt=async e=>{const t=e.headers.get("content-type"),a=t&&t.includes("application/json")?await e.json():await e.text();if(!e.ok){const n=new Error((a==null?void 0:a.message)||(a==null?void 0:a.error)||"Request failed");throw n.status=e.status,n.data=a,n}return a},gt={async sendOTP(e){const t=await fetch(Ct("/auth/send-otp"),{method:"POST",headers:Mt(),body:JSON.stringify({phone:e})});return Pt(t)},async verifyOTP(e,t){const s=await fetch(Ct("/auth/verify-otp"),{method:"POST",headers:Mt(),body:JSON.stringify({phone:e,otp:t})});return Pt(s)},async resendOTP(e){const t=await fetch(Ct("/auth/resend-otp"),{method:"POST",headers:Mt(),body:JSON.stringify({phone:e})});return Pt(t)},async completeProfile(e,t){const s=new FormData;Object.keys(t).forEach(n=>{n!=="profilePicture"&&t[n]!==null&&t[n]!==void 0&&(typeof t[n]=="object"?s.append(n,JSON.stringify(t[n])):s.append(n,t[n]))}),t.profilePicture&&s.append("profilePicture",t.profilePicture);const a=await fetch(Ct("/profile/complete"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return Pt(a)},async completeKYC(e,t){const s=new FormData;t.panCard&&s.append("panCard",t.panCard),t.aadhaar&&s.append("aadhaar",t.aadhaar),t.aadhaarback&&s.append("aadhaarback",t.aadhaarback),t.chequeImage&&s.append("chequeImage",t.chequeImage),t.drivingLicence&&s.append("drivingLicence",t.drivingLicence),t.bill&&s.append("bill",t.bill),t.accountNumber&&s.append("accountNumber",t.accountNumber),t.ifscCode&&s.append("ifscCode",t.ifscCode),t.accountHolderName&&s.append("accountHolderName",t.accountHolderName),t.bankName&&s.append("bankName",t.bankName);const a=await fetch(Ct("/kyc/complete"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return Pt(a)},async completePayment(e,t){const s=await fetch(Ct("/regigiste-fee"),{method:"PUT",headers:Mt(e),body:JSON.stringify(t)});return Pt(s)},async getProfile(e){const t=await fetch(Ct("/profile"),{headers:Mt(e)});return Pt(t)},async updateOnboardingStep(e,t){const s=await fetch(Ct("/profile/onboarding-step"),{method:"PUT",headers:Mt(e),body:JSON.stringify(t)});return Pt(s)},async updateProfile(e,t){if(t instanceof FormData){const s=await fetch(Ct("/profile/update"),{method:"PUT",headers:{Authorization:`Bearer ${e}`},body:t});return Pt(s)}else{const s=await fetch(Ct("/profile/update"),{method:"PUT",headers:Mt(e),body:JSON.stringify(t)});return Pt(s)}},async getCategories(e){const t=e?Mt(e):Mt(),s=await fetch(Ct("/dropdown/categories"),{headers:t});return Pt(s)},async selectCategoryAndService(e,t,s){const a=await fetch(Ct("/select-category-and-service"),{method:"POST",headers:Mt(e),body:JSON.stringify({category:t,services:s})});return Pt(a)},async getMGPlans(e,t=null){const s=Ct(t?`/mg-plans?partnerType=${t}`:"/mg-plans"),a=await fetch(s,{headers:Mt(e)});return Pt(a)},async getCurrentPlan(e){const t=await fetch(Ct("/mg-plans/current"),{headers:Mt(e)});return Pt(t)},async subscribeToPlan(e,t){const s=await fetch(Ct("/mg-plans/subscribe"),{method:"POST",headers:Mt(e),body:JSON.stringify({planId:t})});return Pt(s)},async renewPlan(e){const t=await fetch(Ct("/mg-plans/renew"),{method:"POST",headers:Mt(e)});return Pt(t)},async getPricingSettings(){const e=await fetch(`${s2}/api/registerFee/fees`,{headers:Mt()});return Pt(e)},async getAvailableServiceHubs(e){const t=await fetch(Ct("/service-hubs/available"),{headers:Mt(e)});return Pt(t)},async createServiceHub(e,t){const s=await fetch(Ct("/service-hubs"),{method:"POST",headers:Mt(e),body:JSON.stringify(t)});return Pt(s)},async assignHub(e,t){const s=await fetch(Ct("/hubs/assign"),{method:"POST",headers:Mt(e),body:JSON.stringify({hubId:t})});return Pt(s)},async unassignHub(e,t){const s=await fetch(Ct("/hubs/unassign"),{method:"POST",headers:Mt(e),body:JSON.stringify({hubId:t})});return Pt(s)},async getWallet(e){const t=await fetch(Ct("/getWalletbypartner"),{headers:Mt(e)});return Pt(t)},async getTransactions(e){const t=await fetch(Ct("/getAllwalletTransaction"),{headers:Mt(e)});return Pt(t)},async topUpWallet(e,t,s,a){const n=await fetch(Ct("/wallet/topup"),{method:"POST",headers:Mt(e),body:JSON.stringify({amount:t,type:"credit",description:s||"Topup",reference:a||`TOPUP-${Date.now()}`})});return Pt(n)},async getBookings(e){const t=await fetch(Ct("/bookings"),{headers:Mt(e)});return Pt(t)},async getPendingBookings(e){const t=await fetch(Ct("/bookings/pending"),{headers:Mt(e)});return Pt(t)},async getAcceptedBookings(e){const t=await fetch(Ct("/bookings/accepted/:partnerId"),{headers:Mt(e)});return Pt(t)},async getCompletedBookings(e){const t=await fetch(Ct("/bookings/completed"),{headers:Mt(e)});return Pt(t)},async getProductsByCategory(e,t){const s=await fetch(Ct(`/products/${t}`),{headers:Mt(e)});return Pt(s)},async addToCart(e,t){const s=await fetch(Ct("/products/add"),{method:"POST",headers:Mt(e),body:JSON.stringify(t)});return Pt(s)},async getAvailableHubs(e){const t=await fetch(Ct("/service-hubs/available"),{headers:Mt(e)});return Pt(t)},async updateKYC(e,t){const s=new FormData;t.panCard&&s.append("panCard",t.panCard),t.aadhaar&&s.append("aadhaar",t.aadhaar),t.aadhaarback&&s.append("aadhaarback",t.aadhaarback),t.chequeImage&&s.append("chequeImage",t.chequeImage),t.drivingLicence&&s.append("drivingLicence",t.drivingLicence),t.bill&&s.append("bill",t.bill),t.accountNumber&&s.append("accountNumber",t.accountNumber),t.ifscCode&&s.append("ifscCode",t.ifscCode),t.accountHolderName&&s.append("accountHolderName",t.accountHolderName),t.bankName&&s.append("bankName",t.bankName);const a=await fetch(Ct("/kyc/complete"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return Pt(a)},async selectCategoryAndService(e,t){const s=await fetch(Ct("/select-category-and-service"),{method:"POST",headers:Mt(e),body:JSON.stringify(t)});return Pt(s)},async getTeamMembers(e){const t=await fetch(Ct("/team-members"),{headers:Mt(e)});return Pt(t)},async addTeamMember(e,t){const s=new FormData;if(Object.keys(t).forEach(n=>{n!=="profilePicture"&&n!=="kyc"&&n!=="kycData"&&t[n]!==null&&t[n]!==void 0&&(Array.isArray(t[n])?t[n].forEach((i,l)=>{s.append(`${n}[${l}]`,i)}):s.append(n,t[n]))}),t.profilePicture&&s.append("profilePicture",t.profilePicture),t.kycData){const n=t.kycData;n.panCard&&s.append("panCard",n.panCard),n.aadhaar&&s.append("aadhaar",n.aadhaar),n.aadhaarback&&s.append("aadhaarback",n.aadhaarback),n.chequeImage&&s.append("chequeImage",n.chequeImage),n.drivingLicence&&s.append("drivingLicence",n.drivingLicence),n.bill&&s.append("bill",n.bill)}const a=await fetch(Ct("/team-members"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return Pt(a)},async updateTeamMember(e,t,s){const a=new FormData;if(Object.keys(s).forEach(i=>{i!=="profilePicture"&&i!=="kyc"&&i!=="kycData"&&s[i]!==null&&s[i]!==void 0&&(typeof s[i]=="object"&&!Array.isArray(s[i])?a.append(i,JSON.stringify(s[i])):Array.isArray(s[i])?s[i].forEach((l,o)=>{a.append(`${i}[${o}]`,l)}):a.append(i,s[i]))}),s.profilePicture&&a.append("profilePicture",s.profilePicture),s.kycData){const i=s.kycData;i.panCard&&a.append("panCard",i.panCard),i.aadhaar&&a.append("aadhaar",i.aadhaar),i.aadhaarback&&a.append("aadhaarback",i.aadhaarback),i.chequeImage&&a.append("chequeImage",i.chequeImage),i.drivingLicence&&a.append("drivingLicence",i.drivingLicence),i.bill&&a.append("bill",i.bill)}const n=await fetch(Ct(`/team-members/${t}`),{method:"PUT",headers:{Authorization:`Bearer ${e}`},body:a});return Pt(n)},async deleteTeamMember(e,t){const s=await fetch(Ct(`/team-members/${t}`),{method:"DELETE",headers:Mt(e)});return Pt(s)},async getTeamMemberActivities(e,t){const s=await fetch(Ct(`/team-members/${t}/activities`),{headers:Mt(e)});return Pt(s)},async assignBookingToTeamMember(e,t,s){const a=await fetch(Ct("/team-members/assign-booking"),{method:"POST",headers:Mt(e),body:JSON.stringify({bookingId:t,teamMemberId:s})});return Pt(a)},async verifyPartner(e){const t=await fetch(Ct(`/verify/${e}`));return Pt(t)},async updateFCMToken(e,t){const s=await fetch(Ct("/updateTokenFmc"),{method:"PUT",headers:Mt(e),body:JSON.stringify({token:t})});return Pt(s)},async getNotifications(e){const t=await fetch(Ct("/notifications"),{headers:Mt(e)});return Pt(t)},async markNotificationsAsRead(e){const t=await fetch(Ct("/notifications/mark-read"),{method:"PUT",headers:Mt(e)});return Pt(t)},async markNotificationAsRead(e,t){const s=await fetch(Ct(`/notifications/${t}/mark-read`),{method:"PUT",headers:Mt(e)});return Pt(s)},async completeJob(e,t,s){const a=await fetch(Ct(`/bookings/${t}/complete`),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});return Pt(a)},async pauseJob(e,t,s){const a=await fetch(Ct(`/bookings/${t}/pause`),{method:"POST",headers:Mt(e),body:JSON.stringify(s)});return Pt(a)},async resumeJob(e,t){const s=await fetch(Ct(`/bookings/${t}/resume`),{method:"POST",headers:Mt(e)});return Pt(s)},async createQuotation(e,t,s){const a=await fetch(Ct(`/bookings/${t}/quotation`),{method:"POST",headers:Mt(e),body:JSON.stringify(s)});return Pt(a)},async getQuotationsByBooking(e,t){const s=await fetch(Ct(`/bookings/${t}/quotations`),{headers:Mt(e)});return Pt(s)},async getPartnerQuotations(e){const t=await fetch(Ct("/quotations"),{headers:Mt(e)});return Pt(t)},async getQuotationById(e,t){const s=await fetch(Ct(`/quotations/${t}`),{headers:Mt(e)});return Pt(s)}},jq=()=>{const[e,t]=g.useState("ac-technician"),[s,a]=g.useState("all"),n={"ac-technician":{name:"AC Technician",earnings:"45,00075,000"},electrician:{name:"Electrician",earnings:"35,00060,000"},plumber:{name:"Plumber",earnings:"30,00055,000"},carpenter:{name:"Carpenter",earnings:"40,00070,000"},painter:{name:"Painter",earnings:"35,00065,000"},cleaner:{name:"Deep Cleaner",earnings:"25,00050,000"}},[i,l]=g.useState([]);g.useEffect(()=>{(async()=>{try{const m=window.location.origin,f=await fetch(`${m}/api/partner/mg-plans/public`,{method:"GET",headers:{"Content-Type":"application/json"}});if(f.ok){const h=await f.json();if(h.success&&h.data&&Array.isArray(h.data)){const x=h.data.map(p=>{const j=(p.name||"").toLowerCase();let v=p.icon||"";p.icon||(j.includes("silver")?v="":j.includes("gold")?v="":j.includes("platinum")||j.includes("diamond")?v="":j.includes("bronze")&&(v=""));const y=p.features&&Array.isArray(p.features)&&p.features.length>0?p.features:[`${p.leads||0} Guaranteed Leads/month`,`${p.commission||0}% Commission Rate`,"Priority Support"];return{name:p.name,price:p.price||0,leads:p.leads||0,commission:p.commission||0,icon:v,features:y,partnerType:p.partnerType||"both"}});x.length>0&&l(x)}}}catch(m){console.error("Failed to fetch MG plans:",m)}})()},[]);const o=[{icon:QK,text:"High daily job volume",color:"text-blue-500"},{icon:iq,text:"Weekly payouts",color:"text-green-500"},{icon:Be,text:"Verified partner badge",color:"text-purple-500"},{icon:JK,text:"Priority support",color:"text-orange-500"},{icon:sq,text:"Free training",color:"text-indigo-500"},{icon:lo,text:"Early payouts (Premium)",color:"text-yellow-500"}],c=[{step:"1",title:"Complete Registration Form",description:"Fill your details and choose trade",icon:r2},{step:"2",title:"Upload KYC Documents",description:"Submit identity and bank documents",icon:nq},{step:"3",title:"Complete Payment",description:"Pay registration fee via WhatsApp Pay",icon:go},{step:"4",title:"Get Verified & Start Earning",description:"Approval and job access",icon:ya}],d={animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}};return r.jsxs(r.Fragment,{children:[r.jsx(Ba,{title:"Become a Service Partner | Earn 25,000-70,000/month | Nexo",description:"Join Nexo as a service partner. Earn 25,000 to 70,000 per month. High job volume, weekly payouts, verified badge, priority support, and free training. Start your partner journey today.",keywords:"service partner, technician jobs, partner program, earn money, service provider, home services partner, technician registration",url:"/partner"}),r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),r.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",variants:d,animate:"animate"}),r.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",variants:d,animate:"animate",transition:{delay:1,duration:5}}),r.jsx(E.div,{className:"absolute top-1/2 right-20 w-32 h-32 sm:w-40 sm:h-40 bg-gradient-to-br from-white/10 to-transparent rounded-full blur-2xl",variants:d,animate:"animate",transition:{delay:2,duration:6}}),r.jsx(E.div,{className:"absolute bottom-1/3 left-1/4 w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-blue-300/15 to-transparent rounded-full blur-xl",variants:d,animate:"animate",transition:{delay:.5,duration:4.5}}),[...Array(20)].map((u,m)=>r.jsx(E.div,{className:"absolute rounded-full z-0",style:{width:`${6+m%4*3}px`,height:`${6+m%4*3}px`,left:`${3+m*5%94}%`,top:`${8+m*4%85}%`,backgroundColor:"rgba(255, 255, 255, 0.4)"},animate:{y:[0,-150,0],x:[0,m%2===0?50:-50,0],opacity:[.4,.8,.4],scale:[1,1.5,1]},transition:{duration:8+m%4,repeat:1/0,ease:"easeInOut",delay:m*.2}},`small-${m}`)),[...Array(12)].map((u,m)=>r.jsx(E.div,{className:"absolute rounded-full blur-sm z-0",style:{width:`${14+m%3*4}px`,height:`${14+m%3*4}px`,left:`${5+m*8%90}%`,top:`${10+m*6%80}%`,backgroundColor:"rgba(255, 255, 255, 0.3)"},animate:{y:[0,-120,0],x:[0,m%2===0?60:-60,0],opacity:[.3,.6,.3],scale:[1,1.4,1]},transition:{duration:9+m%3*2,repeat:1/0,ease:"easeInOut",delay:m*.4}},`medium-${m}`)),[...Array(8)].map((u,m)=>r.jsx(E.div,{className:"absolute rounded-full blur-2xl z-0",style:{width:`${100+m%3*30}px`,height:`${100+m%3*30}px`,left:`${8+m*12%85}%`,top:`${12+m*10%75}%`,backgroundColor:"rgba(255, 255, 255, 0.2)"},animate:{y:[0,-80,0],x:[0,m%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.2,.4,.2]},transition:{duration:10+m%3*2,repeat:1/0,ease:"easeInOut",delay:m*.8}},`large-${m}`)),r.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-64 opacity-20",style:{background:"linear-gradient(to top, rgba(255,255,255,0.1) 0%, transparent 100%)"},animate:{y:[0,-20,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),r.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[r.jsx(E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:.8,type:"spring"},className:"inline-block mb-4 sm:mb-6",children:r.jsx(ya,{className:"w-16 h-16 sm:w-20 sm:h-20 text-yellow-300"})}),r.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4",children:"Become a Service Partner"}),r.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl mb-6 sm:mb-8 text-yellow-300",children:"Earn 25,000 to 70,000 per month"}),r.jsx("div",{className:"flex justify-center",children:r.jsxs(E.a,{href:"/partner/onboard",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-primary text-white px-8 sm:px-10 py-4 sm:py-5 rounded-full text-lg sm:text-xl font-semibold shadow-2xl hover:shadow-primary/50 transition-all duration-300 flex items-center gap-3",children:[r.jsx(ya,{className:"w-6 h-6 sm:w-7 sm:h-7"}),"Start Partner Registration"]})})]})}),r.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-20 sm:h-24 bg-gray-50 pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0}})]}),r.jsxs("section",{className:"py-12 sm:py-16 lg:py-20 bg-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 20% 50%, rgba(33, 74, 115, 0.1) 0%, transparent 50%),
                                      radial-gradient(circle at 80% 80%, rgba(33, 74, 115, 0.1) 0%, transparent 50%)`},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:15,repeat:1/0,repeatType:"reverse"}})}),r.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:r.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-3 sm:mb-4",children:"What You Get"})}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:o.map((u,m)=>{const f=u.icon;return r.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:m*.1},whileHover:{y:-5,scale:1.05},className:"bg-gradient-to-br from-primary/5 to-primary/10 p-5 sm:p-6 rounded-xl border border-primary/20 text-center",children:[r.jsx(f,{className:`w-10 h-10 sm:w-12 sm:h-12 ${u.color} mx-auto mb-3 sm:mb-4`}),r.jsx("p",{className:"text-sm sm:text-base lg:text-lg font-semibold text-gray-800",children:u.text})]},m)})})]})]}),r.jsxs("section",{className:"py-12 sm:py-16 lg:py-20 bg-gray-50 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx(E.div,{className:"absolute inset-0",style:{background:"linear-gradient(45deg, transparent 30%, rgba(33, 74, 115, 0.05) 50%, transparent 70%)"},animate:{x:["-100%","100%"]},transition:{duration:20,repeat:1/0,ease:"linear"}})}),r.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-3 sm:mb-4",children:"Partner Earnings Calculator"}),r.jsx("p",{className:"text-lg sm:text-xl text-gray-600",children:"Select your category to see potential earnings"})]}),r.jsx("div",{className:"max-w-3xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 sm:p-8",children:[r.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-800 mb-3 sm:mb-4",children:"Select your category:"}),r.jsx("select",{value:e,onChange:u=>t(u.target.value),className:"w-full p-3 sm:p-4 border-2 border-primary rounded-xl text-base sm:text-lg focus:outline-none focus:ring-2 focus:ring-primary mb-6 sm:mb-8",children:Object.entries(n).map(([u,m])=>r.jsx("option",{value:u,children:m.name},u))}),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-r from-primary to-primary-dark text-white p-5 sm:p-6 rounded-xl text-center",children:[r.jsx("p",{className:"text-base sm:text-lg mb-2",children:"Approx earnings:"}),r.jsx("p",{className:"text-3xl sm:text-4xl font-bold",children:n[e].earnings}),r.jsx("p",{className:"text-base sm:text-lg mt-2",children:"per month"})]},e),r.jsx("div",{className:"mt-6 sm:mt-8 text-center",children:r.jsx("div",{className:"flex justify-center",children:r.jsxs(E.a,{href:"/partner/onboard",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-primary text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-primary-dark transition-all duration-300 shadow-lg hover:shadow-xl flex items-center gap-2",children:[r.jsx(ya,{className:"w-5 h-5"}),"Start Registration"]})})})]})})]})]}),r.jsxs("section",{className:"py-12 sm:py-16 lg:py-20 bg-white relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 50% 50%, rgba(33, 74, 115, 0.1) 0%, transparent 70%)"},animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}})}),r.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-3 sm:mb-4",children:"MG Plan"}),r.jsxs("div",{className:"flex justify-center gap-2 sm:gap-3 mt-6",children:[r.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a("all"),className:`px-4 sm:px-6 py-2 sm:py-2.5 rounded-full text-sm sm:text-base font-semibold transition-all ${s==="all"?"bg-primary text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-200 hover:border-primary"}`,children:" All Plans"}),r.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a("individual"),className:`px-4 sm:px-6 py-2 sm:py-2.5 rounded-full text-sm sm:text-base font-semibold transition-all ${s==="individual"?"bg-primary text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-200 hover:border-primary"}`,children:" Individual"}),r.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a("franchise"),className:`px-4 sm:px-6 py-2 sm:py-2.5 rounded-full text-sm sm:text-base font-semibold transition-all ${s==="franchise"?"bg-primary text-white shadow-lg":"bg-white text-gray-700 border-2 border-gray-200 hover:border-primary"}`,children:" Franchise"})]})]}),i.filter(u=>s==="all"?!0:u.partnerType===s||u.partnerType==="both").length===0?r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 bg-white rounded-2xl shadow-lg border-2 border-dashed border-gray-300",children:[r.jsx("p",{className:"text-gray-600 text-lg font-medium mb-2",children:"No plans available"}),r.jsxs("p",{className:"text-gray-500 text-sm",children:["No plans found for ",s==="individual"?"Individual":"Franchise"," partners."]})]}):r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:i.filter(u=>s==="all"?!0:u.partnerType===s||u.partnerType==="both").map((u,m)=>{var f;return r.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.6,delay:m*.2},whileHover:{y:-10,scale:1.02},className:`bg-white p-6 sm:p-8 rounded-2xl shadow-xl border-2 ${u.name==="Platinum"?"border-primary scale-105 lg:scale-105 sm:scale-100":"border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("div",{className:"text-4xl",children:u.icon}),u.partnerType&&r.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-semibold flex-shrink-0 ${u.partnerType==="individual"?"bg-slate-100 text-slate-700":u.partnerType==="franchise"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:u.partnerType==="individual"?" Individual":u.partnerType==="franchise"?" Franchise":" All Partners"})]}),r.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-primary mb-2",children:u.name}),r.jsxs("div",{className:"mb-4 sm:mb-6",children:[r.jsxs("span",{className:"text-3xl sm:text-4xl font-bold text-primary",children:["",u.price.toLocaleString("en-IN")]}),r.jsx("span",{className:"text-gray-600",children:"/month"})]}),r.jsxs("ul",{className:"space-y-2 sm:space-y-3 mb-6 sm:mb-8",children:[r.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsxs("span",{children:[u.leads," Guaranteed Leads/month"]})]}),r.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsxs("span",{children:[u.commission,"% Commission Rate"]})]}),(f=u.features)==null?void 0:f.map((h,x)=>r.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),h]},x))]}),r.jsxs(E.a,{href:"/partner/onboard",whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:`block w-full text-center py-3 rounded-full font-semibold transition-all duration-300 text-sm sm:text-base flex items-center justify-center gap-2 ${u.name==="Platinum"?"bg-primary text-white hover:bg-primary-dark":"bg-gray-100 text-primary hover:bg-gray-200"}`,children:[r.jsx(ya,{className:"w-4 h-4"}),"Choose ",u.name," Plan"]})]},u.name)})})]})]}),r.jsxs("section",{className:"py-12 sm:py-16 lg:py-20 bg-gradient-to-br from-primary/10 to-primary/5 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx(E.div,{className:"absolute inset-0",style:{background:"linear-gradient(135deg, rgba(33, 74, 115, 0.1) 0%, transparent 100%)"},animate:{rotate:[0,360]},transition:{duration:30,repeat:1/0,ease:"linear"}})}),r.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[r.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary mb-3 sm:mb-4",children:"How to Join"}),r.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto",children:"Follow these simple steps to become a Nexo partner and start earning"})]}),r.jsxs("div",{className:"relative py-8",children:[r.jsxs("div",{className:"hidden lg:block absolute top-[5.5rem] left-[12%] right-[12%] h-1.5 bg-gray-200 rounded-full overflow-hidden z-0",style:{transform:"translateY(-50%)"},children:[r.jsx("div",{className:"absolute inset-0 bg-gray-200 rounded-full"}),c.slice(0,-1).map((u,m)=>{const f=100/(c.length-1),h=m*f,x=m*1.4;return r.jsx(E.div,{className:"absolute h-full bg-gradient-to-r from-primary via-primary-dark to-primary rounded-full z-10",style:{left:`${h}%`},initial:{width:0},whileInView:{width:`${f}%`},viewport:{once:!0},transition:{duration:.6,delay:x+.2,ease:"easeInOut"}},m)})]}),r.jsxs("div",{className:"lg:hidden absolute left-[2.5rem] sm:left-[3rem] top-[2.5rem] sm:top-[3rem] bottom-8 w-1 bg-gray-200 rounded-full overflow-hidden z-0",style:{transform:"translateX(-50%)"},children:[r.jsx("div",{className:"absolute inset-0 bg-gray-200 rounded-full"}),c.slice(0,-1).map((u,m)=>{const f=100/(c.length-1),h=m*f,x=m*1.4;return r.jsx(E.div,{className:"absolute w-full bg-gradient-to-b from-primary to-primary-dark rounded-full z-10",style:{top:`${h}%`},initial:{height:0},whileInView:{height:`${f}%`},viewport:{once:!0},transition:{duration:.6,delay:x+.2,ease:"easeInOut"}},m)})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-12 lg:gap-6 relative z-10",children:c.map((u,m)=>{const f=u.icon,h=m===c.length-1;return r.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.4,delay:m*1.4},className:"relative flex flex-col items-center",children:[r.jsx("div",{className:"relative flex flex-col items-center w-full mb-6",children:r.jsxs(E.div,{whileHover:{scale:1.1,y:-5},className:"relative w-20 h-20 sm:w-24 sm:h-24 lg:w-28 lg:h-28 bg-white rounded-full shadow-2xl border-2 border-primary flex items-center justify-center group cursor-pointer transition-all duration-300",children:[r.jsxs(E.div,{initial:{scale:0,rotate:-180,opacity:0},whileInView:{scale:1,rotate:0,opacity:1},viewport:{once:!0},transition:{duration:.4,delay:m*1.4+.1,type:"spring",stiffness:200},className:"absolute -right-1.5 -top-1.5 z-30 w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-br from-yellow-400 via-yellow-500 to-yellow-600 text-primary rounded-full flex items-center justify-center text-xs font-extrabold shadow-2xl border-2 border-white ring-2 ring-yellow-300/50",whileHover:{scale:1.2,rotate:5},children:[r.jsx("span",{className:"drop-shadow-sm",children:u.step}),r.jsx(E.div,{className:"absolute inset-0 rounded-full bg-yellow-400",animate:{scale:[1,1.4,1],opacity:[.6,0,.6]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),r.jsx(E.div,{className:"absolute inset-0 rounded-full border-4 border-primary/20",animate:{scale:[1,1.3,1],opacity:[.3,0,.3]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"}}),r.jsx(E.div,{className:"absolute inset-0 rounded-full border-4 border-primary/40",animate:{scale:[1,1.15,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:.5}}),r.jsx(E.div,{className:"absolute inset-0 rounded-full overflow-hidden z-5",initial:{scale:0,opacity:0},whileInView:{scale:1,opacity:1},viewport:{once:!0},transition:{duration:.8,delay:m*1.4,ease:[.16,1,.3,1]},children:r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary via-primary-dark to-primary"})}),r.jsx(E.svg,{className:"absolute inset-0 w-full h-full transform -rotate-90 z-6",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.3,delay:m*1.4},children:r.jsx(E.circle,{cx:"50%",cy:"50%",r:"45%",fill:"none",stroke:"rgba(255, 255, 255, 0.3)",strokeWidth:"3",strokeDasharray:`${2*Math.PI*45}`,initial:{strokeDashoffset:2*Math.PI*45},whileInView:{strokeDashoffset:0},viewport:{once:!0},transition:{duration:.8,delay:m*1.4,ease:"easeInOut"}})}),r.jsx(E.div,{className:"relative z-10 bg-gradient-to-br from-primary via-primary-dark to-primary rounded-full w-full h-full flex items-center justify-center shadow-inner",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.4,delay:m*1.4+.8,ease:"easeOut"},children:r.jsx(E.div,{initial:{scale:0,rotate:-180},whileInView:{scale:1,rotate:0},viewport:{once:!0},transition:{duration:.5,delay:m*1.4+.9,type:"spring",stiffness:200},children:r.jsx(f,{className:"w-8 h-8 sm:w-9 sm:h-9 lg:w-10 lg:h-10 text-white drop-shadow-lg"})})}),r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-20"})]})}),r.jsxs("div",{className:"text-center px-2 mt-2",children:[r.jsx(E.h3,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:m*1.4+1,ease:"easeOut"},className:"text-xl sm:text-2xl font-bold text-primary mb-3",children:u.title}),r.jsx(E.p,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:m*1.4+1.2,ease:"easeOut"},className:"text-sm sm:text-base text-gray-600 leading-relaxed",children:u.description})]}),!h&&r.jsx("div",{className:"hidden lg:block absolute top-[5.5rem] left-[calc(50%+3.5rem)] w-[calc(25%-4rem)] z-30",style:{transform:"translateY(-50%)"},children:r.jsx(E.div,{className:"absolute right-0 top-1/2 -translate-y-1/2",initial:{opacity:0,scale:0,x:-20},whileInView:{opacity:1,scale:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:m*1.4+.8,type:"spring",stiffness:150},children:r.jsx("svg",{className:"w-6 h-6 text-primary drop-shadow-lg",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]},m)})})]}),r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.8},className:"text-center mt-12 sm:mt-16",children:r.jsx("div",{className:"flex justify-center",children:r.jsxs(E.a,{href:"/partner/onboard",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-gradient-to-r from-primary to-primary-dark text-white px-8 sm:px-10 py-4 sm:py-5 rounded-full text-base sm:text-lg font-semibold hover:shadow-xl transition-all duration-300 shadow-lg flex items-center gap-3",children:[r.jsx(ya,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Start Partner Registration"]})})})]})]})]})]})},wq=()=>{const e=ms();Di();const[t,s]=g.useState(!1),[a,n]=g.useState([]),[i,l]=g.useState([]),[o,c]=g.useState([]),[d,u]=g.useState(!1),[m,f]=g.useState(!1),[h,x]=g.useState({name:"",phone:"",email:"",category:"",service:"",subService:"",city:"",address:"",landmark:"",pincode:"",description:"",estimatedBudget:""});g.useEffect(()=>{(async()=>{var N;u(!0);try{const P=await(await fetch("https://nexo.works/api/public/service-hierarchy")).json();if(console.log("Service hierarchy response:",P),P!=null&&P.success&&((N=P==null?void 0:P.data)!=null&&N.categories)){const _=P.data.categories.filter(C=>C.isActive!==!1).map(C=>({_id:C._id,name:C.name,services:C.services||[]}));n(_),console.log("Categories loaded:",_.length)}else P!=null&&P.data&&Array.isArray(P.data)?n(P.data):(console.warn("Unexpected data format:",P),n([]))}catch(k){console.error("Error fetching categories:",k),n([])}finally{u(!1)}})()},[]);const p=w=>{if(x(N=>({...N,category:w,service:"",subService:""})),l([]),c([]),w){const N=a.find(k=>k._id===w);N!=null&&N.services&&l(N.services||[])}},b=w=>{if(x(N=>({...N,service:w,subService:""})),c([]),w){const N=i.find(k=>k._id===w);N!=null&&N.subServices&&c(N.subServices||[])}},j=async w=>{if(w.preventDefault(),!h.name||!h.phone||!h.category||!h.city){alert("Please fill all required fields");return}f(!0);try{const S=await(await fetch("https://nexo.works/api/public/submit-service-enquiry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json();console.log("Enquiry submission response:",S),S.success?(alert("Service enquiry submitted successfully! We will contact you soon."),s(!1),x({name:"",phone:"",email:"",category:"",service:"",subService:"",city:"",address:"",landmark:"",pincode:"",description:"",estimatedBudget:""}),l([]),c([])):alert(S.message||"Failed to submit enquiry. Please try again.")}catch(N){console.error("Error submitting enquiry:",N),alert("Failed to submit enquiry. Please try again.")}finally{f(!1)}},v=[{name:"Painting",icon:""},{name:"Carpentry",icon:""},{name:"Renovation",icon:""},{name:"AC Installation",icon:""},{name:"Electrical Wiring",icon:""},{name:"Plumbing Projects",icon:""},{name:"Waterproofing",icon:""}],y=[{step:"1",title:"Customer messages on WhatsApp",description:"Verified customer sends requirement"},{step:"2",title:"We verify the requirement",description:"Quality check and validation"},{step:"3",title:"Lead is shared with max 3 partners",description:"Fair distribution to qualified partners"},{step:"4",title:"You pay per lead",description:"Only pay for genuine, verified leads"}];return r.jsxs(r.Fragment,{children:[r.jsx(Ba,{title:"Get Verified Leads for Your Business | Lead Marketplace | Nexo",description:"Buy verified leads for your business. Pay only for genuine leads. Categories: Painting, Carpentry, Renovation, AC Installation, Electrical Wiring, Plumbing Projects, Waterproofing.",keywords:"business leads, verified leads, service leads, contractor leads, lead generation, buy leads, qualified leads",url:"/leads"}),r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),r.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),r.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,-15,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(20)].map((w,N)=>r.jsx(E.div,{className:"absolute rounded-full z-0",style:{width:`${6+N%4*3}px`,height:`${6+N%4*3}px`,left:`${3+N*5%94}%`,top:`${8+N*4%85}%`,backgroundColor:"rgba(255, 255, 255, 0.4)"},animate:{y:[0,-150,0],x:[0,N%2===0?50:-50,0],opacity:[.4,.8,.4],scale:[1,1.5,1]},transition:{duration:8+N%4,repeat:1/0,ease:"easeInOut",delay:N*.2}},`small-${N}`)),[...Array(12)].map((w,N)=>r.jsx(E.div,{className:"absolute rounded-full blur-sm z-0",style:{width:`${14+N%3*4}px`,height:`${14+N%3*4}px`,left:`${5+N*8%90}%`,top:`${10+N*6%80}%`,backgroundColor:"rgba(255, 255, 255, 0.3)"},animate:{y:[0,-120,0],x:[0,N%2===0?60:-60,0],opacity:[.3,.6,.3],scale:[1,1.4,1]},transition:{duration:9+N%3*2,repeat:1/0,ease:"easeInOut",delay:N*.4}},`medium-${N}`)),[...Array(8)].map((w,N)=>r.jsx(E.div,{className:"absolute rounded-full blur-2xl z-0",style:{width:`${100+N%3*30}px`,height:`${100+N%3*30}px`,left:`${8+N*12%85}%`,top:`${12+N*10%75}%`,backgroundColor:"rgba(255, 255, 255, 0.2)"},animate:{y:[0,-80,0],x:[0,N%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.2,.4,.2]},transition:{duration:10+N%3*2,repeat:1/0,ease:"easeInOut",delay:N*.8}},`large-${N}`)),r.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[r.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4",children:"Get Verified Leads for Your Business"}),r.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mb-6 sm:mb-8 text-white/90",children:"Pay only for genuine leads"}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[r.jsx(E.button,{onClick:()=>e("/partner/onboard?from=leads"),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-primary px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-white/50 transition-all duration-300 flex items-center justify-center gap-2",children:"I am Looking for Leads"}),r.jsxs(E.button,{onClick:()=>s(!0),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center justify-center gap-2",children:[r.jsx(hr,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"I am Looking for Service"]})]})]})}),r.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-20 sm:h-24 bg-gray-50 pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0}})]}),r.jsx("section",{className:"py-20 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[r.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Categories"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Choose from various service categories"})]}),r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:v.map((w,N)=>r.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.4,delay:N*.1},whileHover:{y:-5,scale:1.05},className:"bg-gradient-to-br from-primary/5 to-primary/10 p-8 rounded-xl border border-primary/20 text-center cursor-pointer hover:shadow-xl transition-all duration-300",children:[r.jsx("span",{className:"text-5xl mb-4 block",children:w.icon}),r.jsx("h3",{className:"text-xl font-bold text-primary",children:w.name})]},w.name))})]})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:r.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"How it Works"})}),r.jsx("div",{className:"grid md:grid-cols-4 gap-8",children:y.map((w,N)=>r.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:N*.2},className:"text-center",children:[r.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center text-white text-3xl font-bold mx-auto mb-4",children:w.step}),r.jsx("h3",{className:"text-xl font-bold text-primary mb-2",children:w.title}),r.jsx("p",{className:"text-gray-600",children:w.description})]},N))}),r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.8},className:"text-center mt-12",children:r.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[r.jsx(E.button,{onClick:()=>e("/partner/onboard?from=leads"),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-primary text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-primary-dark transition-all duration-300 shadow-lg hover:shadow-xl",children:"I am Looking for Leads"}),r.jsxs(E.button,{onClick:()=>s(!0),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-[#20ba5a] transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[r.jsx(hr,{className:"w-5 h-5"}),"Submit Service Enquiry"]})]})})]})}),r.jsx(jc,{children:t&&r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[10000] p-4",onClick:()=>s(!1),children:r.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:w=>w.stopPropagation(),className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[r.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[r.jsx(r2,{className:"w-5 h-5"}),"Submit Service Enquiry"]}),r.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(Mw,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[r.jsx(DI,{className:"w-4 h-4 inline mr-1"}),"Name ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"text",value:h.name,onChange:w=>x(N=>({...N,name:w.target.value})),required:!0,placeholder:"Enter your name",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[r.jsx(II,{className:"w-4 h-4 inline mr-1"}),"Phone ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"tel",value:h.phone,onChange:w=>x(N=>({...N,phone:w.target.value})),required:!0,placeholder:"Enter your phone number",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[r.jsx(TI,{className:"w-4 h-4 inline mr-1"}),"Email"]}),r.jsx("input",{type:"email",value:h.email,onChange:w=>x(N=>({...N,email:w.target.value})),placeholder:"Enter your email",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[r.jsx(Bp,{className:"w-4 h-4 inline mr-1"}),"City ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"text",value:h.city,onChange:w=>x(N=>({...N,city:w.target.value})),required:!0,placeholder:"Enter your city",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Category ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsxs("select",{value:h.category,onChange:w=>p(w.target.value),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select Category"}),a.map(w=>r.jsx("option",{value:w._id,children:w.name},w._id))]})]}),i.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service"}),r.jsxs("select",{value:h.service,onChange:w=>b(w.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select Service"}),i.map(w=>r.jsx("option",{value:w._id,children:w.name},w._id))]})]}),o.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Sub Service"}),r.jsxs("select",{value:h.subService,onChange:w=>x(N=>({...N,subService:w.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select Sub Service"}),o.map(w=>r.jsx("option",{value:w._id,children:w.name},w._id))]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[r.jsx(Bp,{className:"w-4 h-4 inline mr-1"}),"Address"]}),r.jsx("input",{type:"text",value:h.address,onChange:w=>x(N=>({...N,address:w.target.value})),placeholder:"Enter full address",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Landmark"}),r.jsx("input",{type:"text",value:h.landmark,onChange:w=>x(N=>({...N,landmark:w.target.value})),placeholder:"Enter landmark",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),r.jsx("input",{type:"text",value:h.pincode,onChange:w=>x(N=>({...N,pincode:w.target.value})),placeholder:"Enter pincode",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Estimated Budget ()"}),r.jsx("input",{type:"number",value:h.estimatedBudget,onChange:w=>x(N=>({...N,estimatedBudget:w.target.value})),placeholder:"Enter estimated budget",min:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[r.jsx(r2,{className:"w-4 h-4 inline mr-1"}),"Description"]}),r.jsx("textarea",{value:h.description,onChange:w=>x(N=>({...N,description:w.target.value})),placeholder:"Describe your service requirement in detail",rows:"4",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",children:m?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin",children:""}),"Submitting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(hr,{className:"w-4 h-4"}),"Submit Enquiry"]})})]})]})]})})})]})]})},Nq=()=>{const e=Di(),[t,s]=g.useState([]),[a,n]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{const c=await(await fetch("https://nexo.works/api/public/material-categories")).json();if(c!=null&&c.success&&(c!=null&&c.data)&&Array.isArray(c.data)){const d=c.data.map(u=>({name:u.name,icon:u.icon,items:u.items||[]}));s(d)}else s([{name:"Plumbing materials",icon:"",items:["Pipes","Fittings","Taps","Valves","Sealants"]},{name:"Switchboards and cables",icon:"",items:["MCB","Wires","Switches","Sockets","Cable trays"]},{name:"Painting supplies",icon:"",items:["Paints","Brushes","Primers","Thinners","Putty"]},{name:"AC gas",icon:"",items:["R22","R410A","R32","Compressors","Filters"]},{name:"Hardware items",icon:"",items:["Screws","Nails","Hinges","Locks","Handles"]}])}catch(l){console.error("Error fetching material categories:",l),s([{name:"Plumbing materials",icon:"",items:["Pipes","Fittings","Taps","Valves","Sealants"]},{name:"Switchboards and cables",icon:"",items:["MCB","Wires","Switches","Sockets","Cable trays"]},{name:"Painting supplies",icon:"",items:["Paints","Brushes","Primers","Thinners","Putty"]},{name:"AC gas",icon:"",items:["R22","R410A","R32","Compressors","Filters"]},{name:"Hardware items",icon:"",items:["Screws","Nails","Hinges","Locks","Handles"]}])}finally{n(!1)}})()},[]),r.jsxs(r.Fragment,{children:[r.jsx(Ba,{title:"Materials for Technicians | Order Materials on WhatsApp | Nexo",description:"Order materials instantly on WhatsApp. Plumbing materials, switchboards, cables, painting supplies, AC gas, hardware items. Best prices, instant delivery, quality assured.",keywords:"technician materials, plumbing materials, electrical supplies, painting supplies, AC gas, hardware items, material store",url:"/materials"}),r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),r.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),r.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,-15,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(20)].map((i,l)=>r.jsx(E.div,{className:"absolute bg-white/30 rounded-full",style:{width:`${6+l%4*3}px`,height:`${6+l%4*3}px`,left:`${3+l*5%94}%`,top:`${8+l*4%85}%`},animate:{y:[0,-150,0],x:[0,l%2===0?50:-50,0],opacity:[.2,.6,.2],scale:[1,1.5,1]},transition:{duration:8+l%4,repeat:1/0,ease:"easeInOut",delay:l*.2}},`small-${l}`)),[...Array(12)].map((i,l)=>r.jsx(E.div,{className:"absolute bg-white/20 rounded-full blur-sm",style:{width:`${14+l%3*4}px`,height:`${14+l%3*4}px`,left:`${5+l*8%90}%`,top:`${10+l*6%80}%`},animate:{y:[0,-120,0],x:[0,l%2===0?60:-60,0],opacity:[.15,.4,.15],scale:[1,1.4,1]},transition:{duration:9+l%3*2,repeat:1/0,ease:"easeInOut",delay:l*.4}},`medium-${l}`)),[...Array(8)].map((i,l)=>r.jsx(E.div,{className:"absolute bg-white/10 rounded-full blur-2xl",style:{width:`${100+l%3*30}px`,height:`${100+l%3*30}px`,left:`${8+l*12%85}%`,top:`${12+l*10%75}%`},animate:{y:[0,-80,0],x:[0,l%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.1,.3,.1]},transition:{duration:10+l%3*2,repeat:1/0,ease:"easeInOut",delay:l*.8}},`large-${l}`)),r.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[r.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4",children:"Materials for Technicians"}),r.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mb-6 sm:mb-8 text-white/90",children:"Order materials instantly on WhatsApp"}),r.jsx("div",{className:"flex justify-center",children:r.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2",children:[r.jsx(hr,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Order Materials on WhatsApp"]})})]})}),r.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-24 sm:h-28 bg-gradient-to-b from-gray-50 to-white pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0},children:r.jsx("svg",{className:"absolute bottom-0 left-0 w-full h-full",viewBox:"0 0 1440 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",children:r.jsx("path",{d:"M0,60 C240,100 480,20 720,60 C960,100 1200,20 1440,60 L1440,120 L0,120 Z",fill:"white",className:"animate-pulse"})})})]}),r.jsxs("section",{className:"py-20 bg-gradient-to-b from-white via-gray-50/50 to-white relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-primary/5 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-primary/5 rounded-full blur-3xl"})]}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[r.jsx(E.div,{initial:{scale:.9},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.5},className:"inline-block mb-4",children:r.jsx("span",{className:"text-6xl",children:""})}),r.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-primary mb-4",children:"Available Materials"}),r.jsx("p",{className:"text-xl md:text-2xl text-gray-600 max-w-2xl mx-auto",children:"Everything you need for your service jobs - Quality materials at competitive prices"})]}),a?r.jsxs("div",{className:"text-center py-20",children:[r.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block w-16 h-16 border-4 border-primary border-t-transparent rounded-full"}),r.jsx("p",{className:"mt-6 text-lg text-gray-600 font-medium",children:"Loading materials..."})]}):t.length===0?r.jsx("div",{className:"text-center py-20",children:r.jsx("p",{className:"text-xl text-gray-500",children:"No materials available at the moment."})}):r.jsx("div",{className:"grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:t.map((i,l)=>r.jsxs(E.div,{initial:{opacity:0,y:40,scale:.95},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:l*.1,type:"spring",stiffness:100},whileHover:{y:-8,scale:1.02,transition:{duration:.2}},className:"group relative bg-white rounded-3xl border-2 border-gray-100 shadow-md hover:shadow-2xl transition-all duration-300 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/0 to-primary/0 group-hover:from-primary/5 group-hover:to-primary/10 transition-all duration-300"}),r.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-primary via-primary-light to-primary opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.jsxs("div",{className:"relative p-6 lg:p-8",children:[r.jsx(E.div,{whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:300},className:"mb-6 flex items-center justify-center w-20 h-20 mx-auto bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl group-hover:from-primary/20 group-hover:to-primary/10 transition-all duration-300",children:r.jsx("span",{className:"text-5xl",children:i.icon})}),r.jsx("h3",{className:"text-2xl lg:text-3xl font-bold text-primary mb-6 text-center group-hover:text-primary-dark transition-colors",children:i.name}),r.jsx("div",{className:"mb-8 min-h-[120px]",children:r.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:i.items.map((o,c)=>r.jsxs(E.span,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.3,delay:l*.1+c*.05},whileHover:{scale:1.1},className:"inline-flex items-center px-3 py-1.5 bg-gradient-to-r from-primary/10 to-primary/5 text-primary text-sm font-semibold rounded-full border border-primary/20 hover:border-primary/40 hover:from-primary/20 hover:to-primary/10 transition-all duration-200 shadow-sm",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-2"}),o]},`${o}-${c}`))})}),r.jsxs(E.button,{onClick:e,whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-gradient-to-r from-[#25D366] to-[#20BA5A] text-white py-4 rounded-xl font-bold text-base shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-3 group/btn relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover/btn:translate-x-[100%] transition-transform duration-700"}),r.jsx(hr,{className:"w-5 h-5 relative z-10"}),r.jsx("span",{className:"relative z-10",children:"Order on WhatsApp"})]})]}),r.jsx("div",{className:"absolute bottom-0 right-0 w-24 h-24 bg-primary/5 rounded-tl-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},`${i.name}-${l}`))})]})]}),r.jsxs("section",{className:"py-24 md:py-32 bg-gradient-to-br from-primary via-primary-dark to-[#153a5a] text-white relative overflow-hidden",children:[r.jsx(E.div,{className:"absolute top-0 left-0 w-96 h-96 bg-white/10 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),r.jsx(E.div,{className:"absolute bottom-0 right-0 w-96 h-96 bg-yellow-300/10 rounded-full blur-3xl",animate:{x:[0,-100,0],y:[0,-50,0],scale:[1,1.2,1]},transition:{duration:25,repeat:1/0,ease:"easeInOut",delay:2}}),r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})}),[...Array(15)].map((i,l)=>r.jsx(E.div,{className:"absolute bg-white/20 rounded-full",style:{width:`${4+l%3*2}px`,height:`${4+l%3*2}px`,left:`${l*7%100}%`,top:`${l*5%100}%`},animate:{y:[0,-100,0],x:[0,l%2===0?30:-30,0],opacity:[.2,.6,.2]},transition:{duration:8+l%4,repeat:1/0,ease:"easeInOut",delay:l*.3}},`particle-${l}`)),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[r.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16 md:mb-20",children:[r.jsx(E.div,{initial:{scale:0,rotate:-180},whileInView:{scale:1,rotate:0},viewport:{once:!0},transition:{duration:.8,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-20 h-20 mb-6 bg-white/10 backdrop-blur-sm rounded-full border-2 border-white/20",children:r.jsx("span",{className:"text-4xl",children:""})}),r.jsxs(E.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.2},className:"text-5xl md:text-6xl lg:text-7xl font-extrabold mb-6 leading-tight",children:[r.jsx("span",{className:"block bg-gradient-to-r from-white via-yellow-200 to-white bg-clip-text text-transparent animate-pulse",children:"Earn more."}),r.jsx("span",{className:"block bg-gradient-to-r from-yellow-200 via-white to-yellow-200 bg-clip-text text-transparent",children:"Work faster."})]}),r.jsx(E.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.4},className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Get everything you need to complete jobs efficiently and profitably"}),r.jsx(E.div,{initial:{width:0},whileInView:{width:"100px"},viewport:{once:!0},transition:{duration:.8,delay:.6},className:"mx-auto mt-8 h-1 bg-gradient-to-r from-transparent via-yellow-300 to-transparent"})]}),r.jsxs("div",{className:"grid sm:grid-cols-1 md:grid-cols-3 gap-6 lg:gap-8 max-w-6xl mx-auto",children:[r.jsxs(E.div,{initial:{opacity:0,y:50,rotateX:-15},whileInView:{opacity:1,y:0,rotateX:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,type:"spring",stiffness:100},whileHover:{y:-12,scale:1.03,rotateY:5,transition:{duration:.3}},className:"group relative bg-white/10 backdrop-blur-md border-2 border-white/20 p-8 lg:p-10 rounded-3xl text-center hover:bg-white/15 hover:border-white/30 transition-all duration-500 overflow-hidden shadow-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-400/0 to-yellow-400/0 group-hover:from-yellow-400/20 group-hover:to-yellow-400/10 transition-all duration-500 rounded-3xl"}),r.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:r.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-yellow-300/50 via-transparent to-yellow-300/50 animate-pulse"})}),r.jsxs(E.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,repeatDelay:2,ease:"easeInOut"},className:"relative mb-8 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-yellow-400/20 rounded-full blur-2xl group-hover:blur-3xl transition-all duration-500"}),r.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-yellow-300/30 to-yellow-500/20 rounded-2xl flex items-center justify-center border-2 border-yellow-300/30 group-hover:border-yellow-300/50 transition-all duration-300",children:r.jsx("span",{className:"text-6xl",children:""})})]}),r.jsx("h3",{className:"text-3xl font-bold mb-4 relative z-10 group-hover:text-yellow-200 transition-colors duration-300",children:"Instant Delivery"}),r.jsx("p",{className:"text-white/80 leading-relaxed text-lg relative z-10",children:"Get materials delivered directly to your job site - no delays, no hassle"}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-yellow-300 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),r.jsxs(E.div,{initial:{opacity:0,y:50,rotateX:-15},whileInView:{opacity:1,y:0,rotateX:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,delay:.2,type:"spring",stiffness:100},whileHover:{y:-12,scale:1.03,rotateY:5,transition:{duration:.3}},className:"group relative bg-white/10 backdrop-blur-md border-2 border-white/20 p-8 lg:p-10 rounded-3xl text-center hover:bg-white/15 hover:border-white/30 transition-all duration-500 overflow-hidden shadow-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-400/0 to-emerald-400/0 group-hover:from-emerald-400/20 group-hover:to-emerald-400/10 transition-all duration-500 rounded-3xl"}),r.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:r.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-emerald-300/50 via-transparent to-emerald-300/50 animate-pulse"})}),r.jsxs(E.div,{animate:{scale:[1,1.15,1],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"relative mb-8 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-emerald-400/20 rounded-full blur-2xl group-hover:blur-3xl transition-all duration-500"}),r.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-emerald-300/30 to-emerald-500/20 rounded-2xl flex items-center justify-center border-2 border-emerald-300/30 group-hover:border-emerald-300/50 transition-all duration-300",children:r.jsx("span",{className:"text-6xl",children:""})})]}),r.jsx("h3",{className:"text-3xl font-bold mb-4 relative z-10 group-hover:text-emerald-200 transition-colors duration-300",children:"Best Prices"}),r.jsx("p",{className:"text-white/80 leading-relaxed text-lg relative z-10",children:"Competitive pricing for all materials - maximize your profit margins"}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-emerald-300 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),r.jsxs(E.div,{initial:{opacity:0,y:50,rotateX:-15},whileInView:{opacity:1,y:0,rotateX:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,delay:.4,type:"spring",stiffness:100},whileHover:{y:-12,scale:1.03,rotateY:5,transition:{duration:.3}},className:"group relative bg-white/10 backdrop-blur-md border-2 border-white/20 p-8 lg:p-10 rounded-3xl text-center hover:bg-white/15 hover:border-white/30 transition-all duration-500 overflow-hidden shadow-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/0 to-blue-400/0 group-hover:from-blue-400/20 group-hover:to-blue-400/10 transition-all duration-500 rounded-3xl"}),r.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:r.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-blue-300/50 via-transparent to-blue-300/50 animate-pulse"})}),r.jsxs(E.div,{animate:{rotate:[0,-8,8,0],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,repeatDelay:1.5,ease:"easeInOut"},className:"relative mb-8 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-blue-400/20 rounded-full blur-2xl group-hover:blur-3xl transition-all duration-500"}),r.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-blue-300/30 to-blue-500/20 rounded-2xl flex items-center justify-center border-2 border-blue-300/30 group-hover:border-blue-300/50 transition-all duration-300",children:r.jsx("span",{className:"text-6xl",children:""})})]}),r.jsx("h3",{className:"text-3xl font-bold mb-4 relative z-10 group-hover:text-blue-200 transition-colors duration-300",children:"Quality Assured"}),r.jsx("p",{className:"text-white/80 leading-relaxed text-lg relative z-10",children:"Verified and tested materials only - quality you can trust"}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-blue-300 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]})]})]})]})]})]})},Sq=()=>{const e=Di(),t=[{icon:"",text:"Service in 2040 minutes"},{icon:"",text:"Available 24/7"},{icon:"",text:"Verified emergency technicians"},{icon:"",text:"You keep 50% commission"}],s=[{name:"Electrical Emergency",icon:"",description:"Power outage, short circuit, electrical fire risk"},{name:"Plumbing Emergency",icon:"",description:"Burst pipe, severe leak, blocked drain"},{name:"AC Emergency",icon:"",description:"AC breakdown, gas leak, compressor failure"},{name:"Lockout Emergency",icon:"",description:"Locked out, broken lock, key stuck"}];return r.jsxs(r.Fragment,{children:[r.jsx(Ba,{title:"Emergency Service in 20-40 Minutes | 24/7 Available | Nexo",description:"Emergency home service available 24/7. Get help in 20-40 minutes for electrical, plumbing, AC, and lockout emergencies. Response under 2 minutes. Verified technicians.",keywords:"emergency service, 24/7 service, urgent repair, emergency plumber, emergency electrician, midnight service, emergency AC repair",url:"/emergency"}),r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("section",{className:"relative bg-gradient-to-br from-red-600 to-red-800 text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),r.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),r.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,-15,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(20)].map((a,n)=>r.jsx(E.div,{className:"absolute bg-white/30 rounded-full",style:{width:`${6+n%4*3}px`,height:`${6+n%4*3}px`,left:`${3+n*5%94}%`,top:`${8+n*4%85}%`},animate:{y:[0,-150,0],x:[0,n%2===0?50:-50,0],opacity:[.2,.6,.2],scale:[1,1.5,1]},transition:{duration:8+n%4,repeat:1/0,ease:"easeInOut",delay:n*.2}},`small-${n}`)),[...Array(12)].map((a,n)=>r.jsx(E.div,{className:"absolute bg-white/20 rounded-full blur-sm",style:{width:`${14+n%3*4}px`,height:`${14+n%3*4}px`,left:`${5+n*8%90}%`,top:`${10+n*6%80}%`},animate:{y:[0,-120,0],x:[0,n%2===0?60:-60,0],opacity:[.15,.4,.15],scale:[1,1.4,1]},transition:{duration:9+n%3*2,repeat:1/0,ease:"easeInOut",delay:n*.4}},`medium-${n}`)),[...Array(8)].map((a,n)=>r.jsx(E.div,{className:"absolute bg-white/10 rounded-full blur-2xl",style:{width:`${100+n%3*30}px`,height:`${100+n%3*30}px`,left:`${8+n*12%85}%`,top:`${12+n*10%75}%`},animate:{y:[0,-80,0],x:[0,n%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.1,.3,.1]},transition:{duration:10+n%3*2,repeat:1/0,ease:"easeInOut",delay:n*.8}},`large-${n}`)),r.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[r.jsx(E.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-5xl sm:text-6xl mb-4",children:""}),r.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-3 sm:mb-4",children:"Emergency Service"}),r.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl mb-2",children:"in 2040 minutes"}),r.jsx("p",{className:"text-lg sm:text-xl mb-6 sm:mb-8 text-white/90",children:"For midnight or urgent needs"}),r.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-5 sm:p-6 max-w-2xl mx-auto mb-6 sm:mb-8",children:[r.jsx("p",{className:"text-base sm:text-lg mb-2",children:"Emergency Charge: 199499"}),r.jsx("p",{className:"text-base sm:text-lg",children:"You keep 50 percent commission"})]}),r.jsx("div",{className:"flex justify-center",children:r.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2",children:[r.jsx(hr,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Request Emergency Service"]})})]})}),r.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-20 sm:h-24 bg-gray-50 pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0}})]}),r.jsx("section",{className:"py-20 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:r.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Why Choose Emergency Service"})}),r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((a,n)=>r.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:n*.1},className:"bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-xl border-2 border-red-200 text-center",children:[r.jsx("span",{className:"text-5xl mb-4 block",children:a.icon}),r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:a.text})]},n))})]})}),r.jsx("section",{className:"py-20 bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[r.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Emergency Types"}),r.jsx("p",{className:"text-xl text-gray-600",children:"We handle all types of emergencies"})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:s.map((a,n)=>r.jsxs(E.div,{initial:{opacity:0,x:n%2===0?-30:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:n*.1},whileHover:{scale:1.02},className:"bg-white p-8 rounded-2xl shadow-lg border-l-4 border-red-500",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("span",{className:"text-5xl",children:a.icon}),r.jsx("h3",{className:"text-2xl font-bold text-primary",children:a.name})]}),r.jsx("p",{className:"text-gray-600 text-lg",children:a.description})]},a.name))})]})}),r.jsx("section",{className:"py-20 bg-gradient-to-br from-red-600 to-red-800 text-white",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[r.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Need Help Right Now?"}),r.jsx("p",{className:"text-xl mb-8 text-white/90",children:"Our emergency team is ready 24/7"}),r.jsx("div",{className:"flex justify-center",children:r.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-red-600 px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-gray-100 transition-all duration-300 shadow-2xl hover:shadow-white/50 flex items-center gap-2",children:[r.jsx(hr,{className:"w-5 h-5"}),"Call Emergency Service"]})})]})})})]})]})},kq=()=>{const e="919590926068",t=Di(),[s,a]=g.useState([]),[n,i]=g.useState(!0);g.useEffect(()=>{(async()=>{try{const d=window.location.origin;console.log("Fetching AMC plans from:",`${d}/api/public/amc-plans`);const u=await fetch(`${d}/api/public/amc-plans`,{method:"GET",headers:{"Content-Type":"application/json"}});if(console.log("Response status:",u.status,u.statusText),!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const m=await u.json();if(console.log("AMC Plans API Response:",m),m.success&&m.data&&Array.isArray(m.data)){const f=m.data.map(h=>{var x;return{name:h.name,price:h.priceDisplay||`${((x=h.price)==null?void 0:x.toLocaleString("en-IN"))||0}`,features:h.features&&Array.isArray(h.features)?h.features:[],highlight:h.highlight||!1,whatsappNumber:h.whatsappNumber||e,isActive:h.isActive!==void 0?h.isActive:!0}});console.log("Mapped plans:",f),a(f)}else console.warn("Invalid response format:",m),a([])}catch(d){console.error("Failed to fetch AMC plans:",d),a([])}finally{i(!1)}})()},[]);const l=[{name:"PGs (Paying Guests)",icon:""},{name:"Clinics",icon:""},{name:"Apartments",icon:""},{name:"Shops",icon:""},{name:"Hostels",icon:""},{name:"Small Offices",icon:""}],o=["Electrical maintenance","Plumbing maintenance","AC service & repair","Appliance maintenance","General repairs"];return r.jsxs(r.Fragment,{children:[r.jsx(Ba,{title:"AMC Services for Businesses | PGs, Clinics, Apartments | Nexo",description:"Annual Maintenance Contract (AMC) for PGs, clinics, apartments, shops, hostels, and small offices. Starting 2,500/month. Includes electrical, plumbing, AC, and appliance maintenance.",keywords:"AMC services, annual maintenance contract, business AMC, PG maintenance, clinic maintenance, apartment maintenance, commercial maintenance",url:"/amc"}),r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),r.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),r.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,-15,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(20)].map((c,d)=>r.jsx(E.div,{className:"absolute rounded-full z-0",style:{width:`${6+d%4*3}px`,height:`${6+d%4*3}px`,left:`${3+d*5%94}%`,top:`${8+d*4%85}%`,backgroundColor:"rgba(255, 255, 255, 0.4)"},animate:{y:[0,-150,0],x:[0,d%2===0?50:-50,0],opacity:[.4,.8,.4],scale:[1,1.5,1]},transition:{duration:8+d%4,repeat:1/0,ease:"easeInOut",delay:d*.2}},`small-${d}`)),[...Array(12)].map((c,d)=>r.jsx(E.div,{className:"absolute rounded-full blur-sm z-0",style:{width:`${14+d%3*4}px`,height:`${14+d%3*4}px`,left:`${5+d*8%90}%`,top:`${10+d*6%80}%`,backgroundColor:"rgba(255, 255, 255, 0.3)"},animate:{y:[0,-120,0],x:[0,d%2===0?60:-60,0],opacity:[.3,.6,.3],scale:[1,1.4,1]},transition:{duration:9+d%3*2,repeat:1/0,ease:"easeInOut",delay:d*.4}},`medium-${d}`)),[...Array(8)].map((c,d)=>r.jsx(E.div,{className:"absolute rounded-full blur-2xl z-0",style:{width:`${100+d%3*30}px`,height:`${100+d%3*30}px`,left:`${8+d*12%85}%`,top:`${12+d*10%75}%`,backgroundColor:"rgba(255, 255, 255, 0.2)"},animate:{y:[0,-80,0],x:[0,d%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.2,.4,.2]},transition:{duration:10+d%3*2,repeat:1/0,ease:"easeInOut",delay:d*.8}},`large-${d}`)),r.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[r.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4",children:"AMC Services for Businesses"}),r.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mb-6 sm:mb-8 text-white/90",children:"For PGs, clinics, apartments, shops, hostels, small offices"}),r.jsx("div",{className:"flex justify-center",children:r.jsxs(E.button,{onClick:t,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2",children:[r.jsx(hr,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Get AMC Proposal on WhatsApp"]})})]})}),r.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-20 sm:h-24 bg-gray-50 pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0}})]}),r.jsx("section",{className:"py-20 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:r.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Perfect For"})}),r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((c,d)=>r.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:d*.1},className:"bg-gradient-to-br from-primary/5 to-primary/10 p-6 rounded-xl border border-primary/20 text-center",children:[r.jsx("span",{className:"text-5xl mb-4 block",children:c.icon}),r.jsx("h3",{className:"text-xl font-bold text-primary",children:c.name})]},c.name))})]})}),r.jsx("section",{className:"py-20 bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[r.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Services Included"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Comprehensive maintenance for your business"})]}),r.jsx("div",{className:"grid md:grid-cols-5 gap-6",children:o.map((c,d)=>r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:d*.1},className:"bg-white p-6 rounded-xl shadow-lg text-center border border-gray-200",children:r.jsx("p",{className:"text-lg font-semibold text-primary",children:c})},d))})]})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[r.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"AMC Plans"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Choose the plan that fits your business needs"})]}),n?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):s.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-600",children:"No AMC plans available at the moment. Please check back later."})}):r.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:s.map((c,d)=>r.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:d*.2},whileHover:c.isActive!==!1?{y:-10,scale:1.02}:{},className:`bg-white p-8 rounded-2xl shadow-xl border-2 ${c.highlight||c.name==="Standard"?"border-primary scale-105":"border-gray-200"} ${c.isActive===!1?"opacity-60":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-2xl font-bold text-primary",children:c.name}),c.isActive===!1&&r.jsx("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded-full font-semibold",children:"Inactive"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("span",{className:"text-4xl font-bold text-primary",children:c.price}),r.jsx("span",{className:"text-gray-600",children:"/month"})]}),r.jsx("ul",{className:"space-y-3 mb-8",children:c.features&&c.features.length>0?c.features.map((u,m)=>r.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[r.jsx("span",{className:"text-primary mt-1",children:""}),r.jsx("span",{children:u})]},m)):r.jsx("li",{className:"text-gray-500",children:"No features listed"})}),r.jsxs(E.button,{onClick:()=>{const u=c.whatsappNumber||e;window.open(`https://wa.me/${u}`,"_blank")},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:`block w-full text-center py-3 rounded-full font-semibold transition-all duration-300 flex items-center justify-center gap-2 ${c.highlight||c.name==="Standard"?"bg-primary text-white hover:bg-primary-dark":"bg-gray-100 text-primary hover:bg-gray-200"}`,children:[r.jsx(hr,{className:"w-4 h-4"}),"Get Quote"]})]},c.name||d))}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mt-12",children:[r.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"Need a custom plan for apartments or large buildings?"}),r.jsx("div",{className:"flex justify-center",children:r.jsxs(E.button,{onClick:t,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-primary text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-primary-dark transition-all duration-300 shadow-lg hover:shadow-xl flex items-center gap-2",children:[r.jsx(hr,{className:"w-5 h-5"}),"Request Custom Plan"]})})]})]})})]})]})},Cq=()=>{const e=Di(),t=[{name:"Brand Promotions",icon:"",description:"Showcase your brand to thousands of customers",benefits:["Featured listings","Brand visibility","Customer reach"]},{name:"Featured Listings",icon:"",description:"Get priority placement in service categories",benefits:["Top placement","Higher visibility","More leads"]},{name:"Sponsored Tool Partners",icon:"",description:"Partner with technicians and service providers",benefits:["Direct access","Loyalty programs","Bulk orders"]},{name:"Technician Loyalty Partnerships",icon:"",description:"Build long-term relationships with service partners",benefits:["Exclusive deals","Training programs","Co-marketing"]}],s=[{name:"Tools",icon:""},{name:"Appliances",icon:""},{name:"Paint",icon:""},{name:"Hardware",icon:""},{name:"Electrical",icon:""},{name:"Plumbing",icon:""}],a=[{icon:"",text:"Access to thousands of customers"},{icon:"",text:"Direct connection with technicians"},{icon:"",text:"Increased brand awareness"},{icon:"",text:"Higher sales volume"},{icon:"",text:"Targeted marketing"},{icon:"",text:"Long-term partnerships"}];return r.jsxs(r.Fragment,{children:[r.jsx(Ba,{title:"Partner with Us | Brand Partnerships | Nexo",description:"Showcase your tools, appliances, paint, or hardware brand to thousands of customers and technicians. Brand promotions, featured listings, sponsored tool partners, technician loyalty partnerships.",keywords:"brand partnership, brand collaboration, business partnership, brand promotion, featured listing, sponsored partners",url:"/brand-partnerships"}),r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("section",{className:"relative bg-gradient-to-br from-primary to-primary-dark text-white py-12 sm:py-16 lg:py-20 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),r.jsx(E.div,{className:"absolute top-20 left-10 w-40 h-40 sm:w-60 sm:h-60 bg-gradient-to-br from-white/20 to-white/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,15,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),r.jsx(E.div,{className:"absolute bottom-20 right-10 w-48 h-48 sm:w-72 sm:h-72 bg-gradient-to-br from-yellow-300/20 to-yellow-300/5 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,-15,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(20)].map((n,i)=>r.jsx(E.div,{className:"absolute bg-white/30 rounded-full",style:{width:`${6+i%4*3}px`,height:`${6+i%4*3}px`,left:`${3+i*5%94}%`,top:`${8+i*4%85}%`},animate:{y:[0,-150,0],x:[0,i%2===0?50:-50,0],opacity:[.2,.6,.2],scale:[1,1.5,1]},transition:{duration:8+i%4,repeat:1/0,ease:"easeInOut",delay:i*.2}},`small-${i}`)),[...Array(12)].map((n,i)=>r.jsx(E.div,{className:"absolute bg-white/20 rounded-full blur-sm",style:{width:`${14+i%3*4}px`,height:`${14+i%3*4}px`,left:`${5+i*8%90}%`,top:`${10+i*6%80}%`},animate:{y:[0,-120,0],x:[0,i%2===0?60:-60,0],opacity:[.15,.4,.15],scale:[1,1.4,1]},transition:{duration:9+i%3*2,repeat:1/0,ease:"easeInOut",delay:i*.4}},`medium-${i}`)),[...Array(8)].map((n,i)=>r.jsx(E.div,{className:"absolute bg-white/10 rounded-full blur-2xl",style:{width:`${100+i%3*30}px`,height:`${100+i%3*30}px`,left:`${8+i*12%85}%`,top:`${12+i*10%75}%`},animate:{y:[0,-80,0],x:[0,i%2===0?60:-60,0],scale:[1,1.3,1],opacity:[.1,.3,.1]},transition:{duration:10+i%3*2,repeat:1/0,ease:"easeInOut",delay:i*.8}},`large-${i}`)),r.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[r.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4",children:"Partner with Us"}),r.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mb-6 sm:mb-8 text-white/90",children:"Showcase your tools, appliances, paint, or hardware brand to thousands of customers and technicians"}),r.jsx("div",{className:"flex justify-center",children:r.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold shadow-2xl hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2",children:[r.jsx(hr,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Partner With Us"]})})]})}),r.jsx(E.div,{className:"absolute bottom-0 left-0 w-full h-20 sm:h-24 bg-gray-50 pointer-events-none",initial:{clipPath:"inset(100% 0 0 0)"},animate:{clipPath:"inset(0% 0 0 0)"},transition:{duration:1,delay:.5,ease:"easeOut"},style:{marginBottom:0}})]}),r.jsx("section",{className:"py-20 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:r.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Partnership Types"})}),r.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:t.map((n,i)=>r.jsxs(E.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:i*.1},whileHover:{y:-5,scale:1.02},className:"bg-gradient-to-br from-primary/5 to-primary/10 p-8 rounded-2xl border border-primary/20 shadow-lg",children:[r.jsx("div",{className:"text-5xl mb-4",children:n.icon}),r.jsx("h3",{className:"text-2xl font-bold text-primary mb-3",children:n.name}),r.jsx("p",{className:"text-gray-700 mb-4 text-lg",children:n.description}),r.jsx("ul",{className:"space-y-2",children:n.benefits.map((l,o)=>r.jsxs("li",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx("span",{className:"text-primary",children:""}),l]},o))})]},n.name))})]})}),r.jsx("section",{className:"py-20 bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[r.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Brand Categories"}),r.jsx("p",{className:"text-xl text-gray-600",children:"We partner with brands across all categories"})]}),r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((n,i)=>r.jsxs(E.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5,delay:i*.1},className:"bg-white p-8 rounded-xl shadow-lg border border-gray-200 text-center hover:shadow-xl transition-all duration-300",children:[r.jsx("span",{className:"text-5xl mb-4 block",children:n.icon}),r.jsx("h3",{className:"text-xl font-bold text-primary",children:n.name})]},n.name))})]})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:r.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-primary mb-4",children:"Why Partner With Us"})}),r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((n,i)=>r.jsxs(E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:i*.1},className:"flex items-center gap-4 bg-gray-50 p-6 rounded-xl",children:[r.jsx("span",{className:"text-4xl",children:n.icon}),r.jsx("span",{className:"text-lg font-semibold text-gray-800",children:n.text})]},i))})]})}),r.jsx("section",{className:"py-20 bg-gradient-to-br from-primary to-primary-dark text-white",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[r.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Ready to Grow Together?"}),r.jsx("p",{className:"text-xl mb-8 text-white/90",children:"Join us and reach thousands of customers and technicians"}),r.jsx("div",{className:"flex justify-center",children:r.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-white text-primary px-6 sm:px-8 py-3 sm:py-4 rounded-full text-base sm:text-lg font-semibold hover:bg-gray-100 transition-all duration-300 shadow-2xl hover:shadow-white/50 flex items-center gap-2",children:[r.jsx(hr,{className:"w-5 h-5"}),"Start Partnership Discussion"]})})]})})})]})]})},Pq=({paymentData:e,onSuccess:t,onFailure:s})=>{const a=g.useRef(null);return g.useEffect(()=>{e&&a.current&&a.current.submit()},[e]),e?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full mx-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Redirecting to Payment Gateway"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Please wait while we redirect you to secure payment page..."})]}),r.jsxs("form",{ref:a,action:e.action,method:"post",style:{display:"none"},children:[r.jsx("input",{type:"hidden",name:"key",value:e.key}),r.jsx("input",{type:"hidden",name:"txnid",value:e.txnid}),r.jsx("input",{type:"hidden",name:"amount",value:e.amount}),r.jsx("input",{type:"hidden",name:"productinfo",value:e.productinfo}),r.jsx("input",{type:"hidden",name:"firstname",value:e.firstname}),r.jsx("input",{type:"hidden",name:"email",value:e.email}),r.jsx("input",{type:"hidden",name:"phone",value:e.phone}),r.jsx("input",{type:"hidden",name:"surl",value:e.surl}),r.jsx("input",{type:"hidden",name:"furl",value:e.furl}),r.jsx("input",{type:"hidden",name:"hash",value:e.hash})]})]})}):null},sk=[{id:"ac-service",name:"AC Service",icon:""},{id:"plumbing",name:"Plumbing",icon:""},{id:"electrical",name:"Electrical",icon:""},{id:"cleaning",name:"Cleaning",icon:""}],Aq=[{name:"Silver",price:1e3,leads:20,commission:5,leadFee:50,minWalletBalance:20,icon:"",color:"bg-gray-100",borderColor:"border-gray-300",features:["Priority support","Weekly performance insights"]},{name:"Gold",price:2e3,leads:50,commission:4,leadFee:40,minWalletBalance:50,icon:"",color:"bg-yellow-50",borderColor:"border-yellow-300",features:["Dedicated success manager","Higher lead priority"]},{name:"Platinum",price:5e3,leads:150,commission:3,leadFee:30,minWalletBalance:100,icon:"",color:"bg-purple-50",borderColor:"border-purple-300",features:["Featured listing","Daily performance insights","Fast-track payouts"]}],Tq=({currentStep:e,setCurrentStep:t,formData:s,token:a})=>{var p,b,j;const[n,i]=g.useState(!1),[l,o]=g.useState(!1),[c,d]=g.useState(!1),[u,m]=g.useState(new Date),[f,h]=g.useState(0);g.useEffect(()=>{const v=async()=>{var w,N;if(a){d(!0);try{const k=await gt.getProfile(a);if(k.success&&k.profile){const S=k.profile;console.log("Profile status check:",S);const P=S.paymentApproved===!0||S.registerdFee===!0||((w=S.profile)==null?void 0:w.paymentApproved)===!0||((N=S.profile)==null?void 0:N.registerdFee)===!0,_=S.status==="approved"||S.isApproved===!0||S.approvedAt,C=_&&P;if(console.log("Payment verified:",P,"Profile approved:",_,"Overall approved:",C),i(C),o(P),m(new Date),C)try{await gt.updateOnboardingStep(a,{step:9,completed:!0,approved:!0,approvedAt:new Date().toISOString()})}catch(A){console.error("Error updating step completion:",A)}}}catch(k){console.error("Error checking approval status:",k)}finally{d(!1)}}};v();const y=setInterval(v,6e4);return()=>clearInterval(y)},[a]),g.useEffect(()=>{const v=setInterval(()=>{h(y=>y+1)},1e3);return()=>clearInterval(v)},[]);const x=v=>{const y=Math.floor(v/60),w=v%60;return`${y}:${w.toString().padStart(2,"0")}`};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8,bounce:.4},className:"w-28 h-28 bg-gradient-to-br from-blue-400 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl",children:r.jsx(E.div,{animate:{rotate:c?360:0,scale:c?[1,1.2,1]:[1,1.1,1]},transition:{rotate:{duration:c?1:3,repeat:1/0,ease:"linear"},scale:{duration:c?.5:2,repeat:1/0,ease:"easeInOut"}},className:"w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg",children:n?r.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5},children:r.jsx(ZK,{className:"w-10 h-10 text-green-600"})}):r.jsx(aq,{className:"w-10 h-10 text-blue-600"})})}),r.jsx(E.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-primary mb-2",children:n?"Profile Approved!":l?"Your Account Under Review":"Waiting for Payment Verification"}),r.jsx(E.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-gray-600 mb-4",children:n?"Congratulations! Your profile has been approved and payment verified. You can now proceed to select your MG plan.":l?"Your payment has been successfully verified! Your partner account is now under review by our admin team. We will notify you once approved.":"Your payment is being verified by our admin team. Once approved, your profile will be reviewed."}),r.jsxs(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7},className:`inline-flex items-center gap-3 px-4 py-2 rounded-full text-sm font-medium ${n?"bg-green-100 text-green-800 border border-green-200":l?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[c?r.jsx(dq,{className:"animate-spin"}):n?r.jsx(Be,{className:"text-green-600"}):l?r.jsx(Be,{className:"text-yellow-600"}):r.jsx(xo,{className:"text-blue-600"}),r.jsx("span",{children:c?"Checking status...":n?"Profile & Payment Approved":l?"Payment Verified - Profile Review Pending":`Payment Verification Pending  Last checked: ${u.toLocaleTimeString()}`})]})]}),l&&s.payment.payId&&r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-green-50 rounded-2xl p-6 border-2 border-green-200 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Be,{className:"text-green-600 text-2xl"}),r.jsx("h3",{className:"text-lg font-bold text-green-800",children:"Payment Details"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Transaction ID:"}),r.jsx("span",{className:"font-mono font-semibold text-gray-800",children:s.payment.payId})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Registration Fee:"}),r.jsxs("span",{className:"font-semibold text-gray-800",children:["",(p=s.payment.registrationFee)==null?void 0:p.toLocaleString()]})]}),s.payment.securityDepositSelected&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Security Deposit:"}),r.jsxs("span",{className:"font-semibold text-gray-800",children:["",(b=s.payment.securityDeposit)==null?void 0:b.toLocaleString()]})]}),s.toolkit.selected&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Toolkit:"}),r.jsxs("span",{className:"font-semibold text-gray-800",children:["",(j=s.toolkit.price)==null?void 0:j.toLocaleString()]})]}),r.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Total Paid:"}),r.jsxs("span",{className:"font-bold text-lg text-green-600",children:["",((s.payment.registrationFee||0)+(s.payment.securityDepositSelected&&s.payment.securityDeposit||0)+(s.toolkit.selected&&s.toolkit.price||0)).toLocaleString()]})]})}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Payment Status:"}),r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-semibold",children:[r.jsx(Be,{}),"Verified"]})]})]})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:`bg-gradient-to-br rounded-2xl p-6 border-2 ${n?"from-green-50 to-emerald-100 border-green-200":l?"from-yellow-50 to-amber-100 border-yellow-200":"from-blue-50 to-indigo-100 border-blue-200"}`,children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"flex items-center justify-center gap-3 mb-4",children:n?r.jsxs(r.Fragment,{children:[r.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"w-4 h-4 bg-green-500 rounded-full"}),r.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,delay:.3},className:"w-4 h-4 bg-green-500 rounded-full"}),r.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,delay:.6},className:"w-4 h-4 bg-green-500 rounded-full"})]}):r.jsxs(r.Fragment,{children:[r.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0},className:"w-4 h-4 bg-blue-500 rounded-full"}),r.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,delay:.2},className:"w-4 h-4 bg-blue-500 rounded-full"}),r.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,delay:.4},className:"w-4 h-4 bg-blue-500 rounded-full"})]})}),r.jsx("h3",{className:`text-xl font-semibold mb-2 ${n?"text-green-800":l?"text-yellow-800":"text-blue-800"}`,children:n?"Review Completed Successfully":l?"Profile Review in Progress":"Payment Verification Pending"}),r.jsx("p",{className:`text-sm ${n?"text-green-600":l?"text-yellow-600":"text-blue-600"}`,children:n?"All verification checks have been completed successfully":l?"Your payment has been verified. Our team is now reviewing your profile information.":"Your payment is being verified by our admin team before profile review begins."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1},className:"flex items-start gap-3",children:[r.jsx(E.div,{animate:l?{scale:[1,1.2,1]}:{},className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${l?"bg-yellow-100":"bg-gray-100"}`,children:r.jsx(go,{className:`w-4 h-4 ${l?"text-yellow-600":"text-gray-400"}`})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-800",children:"Payment Verification"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Registration fee and payment details verification"})]})]}),r.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.1},className:"flex items-start gap-3",children:[r.jsx(E.div,{animate:n?{scale:[1,1.2,1]}:{},className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${n||l?"bg-green-100":"bg-gray-100"}`,children:r.jsx(Be,{className:`w-4 h-4 ${n?"text-green-600":l?"text-green-500":"text-gray-400"}`})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-800",children:"Documents Verified"}),r.jsx("div",{className:"text-sm text-gray-600",children:"KYC documents, address proof, and business details checked"})]})]}),r.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.3},className:"flex items-start gap-3",children:[r.jsx(E.div,{animate:n?{scale:[1,1.2,1]}:{},className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${n||l?"bg-blue-100":"bg-gray-100"}`,children:r.jsx(yh,{className:`w-4 h-4 ${n?"text-blue-600":l?"text-blue-500":"text-gray-400"}`})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-800",children:"Background Check"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Business legitimacy and service category verification"})]})]}),r.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.5},className:"flex items-start gap-3",children:[r.jsx(E.div,{animate:n?{scale:[1,1.2,1]}:{},className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 ${n||l?"bg-purple-100":"bg-gray-100"}`,children:r.jsx(ya,{className:`w-4 h-4 ${n?"text-purple-600":l?"text-purple-500":"text-gray-400"}`})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-800",children:"Final Approval"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Account activation and partner onboarding completion"})]})]})]})]}),r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.8},className:"text-center",children:n?r.jsxs(E.button,{onClick:()=>t(11),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-primary text-white px-8 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition flex items-center gap-2 mx-auto",children:["Proceed to MG Plan Selection",r.jsx(pn,{})]}):r.jsxs("div",{className:`border-2 rounded-xl p-4 max-w-md mx-auto ${l?"bg-yellow-50 border-yellow-200":"bg-gray-100 border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx(xo,{className:`${l?"text-yellow-500":"text-gray-500"}`}),r.jsx("span",{className:`text-sm font-medium ${l?"text-yellow-700":"text-gray-700"}`,children:l?"Waiting for Profile Approval":"Waiting for Payment Verification"})]}),r.jsx("p",{className:"text-xs text-gray-600 text-center",children:l?"Your payment has been verified! Your profile is now under review by our team.":"Your payment is being verified by our admin team. You will be notified once approved."}),r.jsx("div",{className:"mt-3 text-center",children:r.jsxs("span",{className:"text-xs text-gray-500",children:["Time elapsed: ",x(f)]})})]})}),r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2},className:"bg-gray-50 rounded-xl p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-medium text-gray-800",children:"Need Help?"}),r.jsx("div",{className:"text-gray-600",children:"Contact our support team if you have any questions about your application status."})]})]})}),r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2.2},className:"border-t border-gray-200 pt-6",children:r.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[r.jsxs("div",{className:"text-center mb-3",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Want to register a new partner?"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Clear all saved data and start fresh registration"})]}),r.jsxs(E.button,{onClick:()=>{window.confirm("Are you sure you want to start a new registration? This will clear all saved data from this device.")&&(localStorage.removeItem("partnerOnboardingStep"),localStorage.removeItem("partnerOnboardingFormData"),localStorage.removeItem("partnerOnboardingToken"),localStorage.removeItem("partnerOnboardingPartnerData"),window.location.href="/partner/onboard")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-blue-600 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-blue-700 transition shadow-md",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Register New Partner"]})]})})]})},ak=()=>{var Te;const e=Br(),[t]=a_(),s=t.get("from")==="leads"||((Te=e.state)==null?void 0:Te.fromLeads),n=(()=>{try{const ce=localStorage.getItem("partnerOnboardingStep"),U=localStorage.getItem("partnerOnboardingToken"),ie=localStorage.getItem("partnerOnboardingFormData"),Ae=localStorage.getItem("partnerOnboardingPartnerData");return{step:ce?parseInt(ce):1,token:U||null,formData:ie?JSON.parse(ie):null,partnerData:Ae?JSON.parse(Ae):null}}catch(ce){return console.error("Error loading saved data:",ce),{step:1,token:null,formData:null,partnerData:null}}})(),[i,l]=g.useState(n.step),[o,c]=g.useState(n.token),[d,u]=g.useState(n.partnerData),[m,f]=g.useState(!1),[h,x]=g.useState(n.formData||{phone:"",otp:"",name:"",email:"",whatsappNumber:"",qualification:"",experience:"",address:"",landmark:"",pincode:"",city:"",referralCode:"",gstNumber:"",partnerType:"individual",trade:"",categories:[],categoryNames:[],subcategory:"",service:"",modeOfService:"offline",profilePicture:null,selectedHubs:[],selectedPlan:null,selectedPlanId:null,kyc:{panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}},toolkit:{selected:!1,type:"ac-toolkit",price:2499},payment:{registrationFee:0,securityDeposit:0,securityDepositSelected:!0,total:0,payId:"",paidBy:"Self"},terms:{accepted:!1,signature:null}}),[p,b]=g.useState(!1),[j,v]=g.useState(null),[y,w]=g.useState(!1),[N,k]=g.useState(0),[S,P]=g.useState(null),[_,C]=g.useState([]),[A,V]=g.useState(!1),[q,Z]=g.useState([]),[ue,me]=g.useState(!1),[Q,ae]=g.useState(null),[oe,R]=g.useState([]),[O,I]=g.useState(!1),X=g.useRef(null),W=g.useRef(null),[T,L]=g.useState(!1),[D,M]=g.useState(null),[z,se]=g.useState(!1),ne=Di(),{openDialog:te}=Mg(),[Re,Ce]=g.useState(null),[Je,Ge]=g.useState(!1),Le=12,mt=_.find(ce=>ce.name===h.selectedPlan);g.useEffect(()=>{if(N>0){const ce=setTimeout(()=>k(N-1),1e3);return()=>clearTimeout(ce)}},[N]),g.useEffect(()=>{try{(h.phone||h.name||h.email)&&localStorage.setItem("partnerOnboardingFormData",JSON.stringify(h))}catch(ce){console.error("Error saving form data:",ce)}},[h]),g.useEffect(()=>{try{localStorage.setItem("partnerOnboardingStep",i.toString())}catch(ce){console.error("Error saving step:",ce)}},[i]),g.useEffect(()=>{try{o&&localStorage.setItem("partnerOnboardingToken",o)}catch(ce){console.error("Error saving token:",ce)}},[o]),g.useEffect(()=>{try{d&&localStorage.setItem("partnerOnboardingPartnerData",JSON.stringify(d))}catch(ce){console.error("Error saving partner data:",ce)}},[d]),g.useEffect(()=>{if(i===11&&(h.selectedPlan||m))try{localStorage.removeItem("partnerOnboardingStep"),localStorage.removeItem("partnerOnboardingFormData"),localStorage.removeItem("partnerOnboardingToken"),localStorage.removeItem("partnerOnboardingPartnerData"),console.log(" Onboarding complete - localStorage cleared")}catch(ce){console.error("Error clearing localStorage:",ce)}},[i,h.selectedPlan,m]),g.useEffect(()=>{const ce=t.get("payment"),U=t.get("txnid"),ie=t.get("payid"),Ae=t.get("reason");if(ce==="success"&&U&&ie)console.log(" Payment callback received:",{txnid:U,payid:ie}),(async()=>{try{b(!0),v(null);const Me="https://nexo.works";console.log(" Verifying payment with:",`${Me}/api/payu/payment-status/${U}`);const le=await fetch(`${Me}/api/payu/payment-status/${U}`,{method:"GET",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}),Ne=le.headers.get("content-type");if(!Ne||!Ne.includes("application/json"))throw console.error(" API returned non-JSON response:",Ne),new Error("Invalid API response format. Please check backend configuration.");const We=await le.json();console.log(" Payment verification response:",We),We.success&&We.data.status==="completed"&&We.data.approved?(console.log(" Payment verified by backend:",We.data),x(at=>({...at,payment:{...at.payment,payId:ie,status:"completed"}})),setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100)):We.success&&(We.data.status==="pending"||We.data.status==="initiated")?(console.log(" Payment status:",We.data.status,"- Waiting for PayU callback or admin approval"),x(at=>({...at,payment:{...at.payment,payId:ie,status:(We.data.status==="initiated","pending")}})),We.data.status==="initiated"?(v("Payment is being processed by PayU. Please wait..."),setTimeout(()=>{console.log(" Retrying payment verification..."),window.location.reload()},3e3)):setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100)):(console.log(" Payment verification failed:",We),v(We.message||"Payment verification failed. Please contact support."),x(at=>({...at,payment:{...at.payment,payId:U,status:"failed"}})),setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100))}catch(Me){console.error("Payment verification error:",Me),v(`Failed to verify payment: ${Me.message}. Please contact support with transaction ID: ${U}`),x(le=>({...le,payment:{...le.payment,payId:U,status:"failed"}})),setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100)}finally{b(!1)}})();else if(ce==="failed"){console.log(" Payment failed:",{reason:Ae,txnid:U});const Me={E4179:"Payment was cancelled. Please try again.",E000:"Payment failed. Please check your payment details and try again.",E001:"Unauthorized payment key. Please contact support.",E002:"Invalid transaction. Please try again.",E003:"Payment declined by bank. Please try a different payment method.",E004:"Insufficient funds. Please check your account balance.",E005:"Transaction timeout. Please try again.",payment_failed:"Payment could not be processed. Please try again.",invalid_hash:"Security verification failed. Please contact support.",server_error:"Server error occurred. Please try again later."}[Ae]||`Payment failed: ${Ae||"Unknown error"}. Please try again.`;v(Me),x(le=>({...le,payment:{...le.payment,payId:U||"",status:"failed"}})),setTimeout(()=>{l(8),window.history.replaceState({},"",window.location.pathname)},100)}},[t,o]),g.useEffect(()=>{(async()=>{if(i===4){me(!0);try{const U=await gt.getCategories(o||"");(U.success&&U.categories||U.categories&&Array.isArray(U.categories))&&Z(U.categories)}catch(U){console.error("Failed to fetch Categories:",U),Z(sk)}finally{me(!1)}}})()},[i,o]),g.useEffect(()=>{(async()=>{try{const U=await gt.getPricingSettings();if(U.success&&U.data){const ie=h.partnerType||"individual",Ae=U.data[ie]||U.data,Ue={...U.data,registrationFee:Ae.registrationFee,securityDeposit:Ae.securityDeposit,toolkitPrice:Ae.toolkitPrice,registrationFeeRefundable:Ae.registrationFeeRefundable!==void 0?!!Ae.registrationFeeRefundable:!1,securityDepositRefundable:Ae.securityDepositRefundable!==void 0?!!Ae.securityDepositRefundable:!1,toolkitPriceRefundable:Ae.toolkitPriceRefundable!==void 0?!!Ae.toolkitPriceRefundable:!1};ae(Ue),x(Me=>{const le=Ae.registrationFee||500,Ne=Ae.securityDeposit||1e3,We=Me.payment.securityDepositSelected?Ne:0,at=Ae.toolkitPrice||2499,it=Me.toolkit.selected;return console.log("Updating fees for partner type:",h.partnerType,{registrationFee:le,baseSecurityDeposit:Ne,securityDeposit:We,toolkitPrice:at,securityDepositSelected:Me.payment.securityDepositSelected,toolkitSelected:it}),{...Me,payment:{...Me.payment,registrationFee:le,securityDeposit:We,total:le+We+(it?at:0)},toolkit:{...Me.toolkit,price:at}}})}}catch(U){console.error("Failed to fetch pricing settings:",U)}})()},[h.partnerType]),g.useEffect(()=>{(async()=>{if(o&&i===5){I(!0);try{const U=await gt.getAvailableServiceHubs(o);U.success&&U.data&&R(U.data||[])}catch(U){console.error("Failed to fetch available hubs:",U),R([])}finally{I(!1)}}})()},[o,i]),g.useEffect(()=>{if(i!==6){const Me=X.current;Me&&Me._cleanup&&(Me._cleanup(),Me._cleanup=null);return}const ce=()=>{const Me=X.current;if(!Me||!Me.isConnected)return!1;const le=Me.getContext("2d");if(!le)return console.error("Could not get canvas context"),!1;const Ne=Me.parentElement;if(!Ne)return!1;const We=Ne.getBoundingClientRect();if(We.width===0||We.height===0)return!1;const at=window.devicePixelRatio||1;Me.width=We.width*at,Me.height=150*at,Me.style.width=We.width+"px",Me.style.height="150px",le.setTransform(1,0,0,1,0,0),le.scale(at,at),le.clearRect(0,0,We.width,150),le.strokeStyle="#0ea5a4",le.fillStyle="#0ea5a4",le.lineWidth=2.5,le.lineJoin="round",le.lineCap="round";let it=!1,Ot=0,Et=0;const et=J=>{const G=Me.getBoundingClientRect(),Y=Me.width/at/G.width,ee=Me.height/at/G.height,re=J.touches&&J.touches.length>0?J.touches[0].clientX:J.changedTouches&&J.changedTouches.length>0?J.changedTouches[0].clientX:J.clientX,xe=J.touches&&J.touches.length>0?J.touches[0].clientY:J.changedTouches&&J.changedTouches.length>0?J.changedTouches[0].clientY:J.clientY;return{x:(re-G.left)*Y,y:(xe-G.top)*ee}},sr=J=>{J.preventDefault(),J.stopPropagation(),it=!0;const G=et(J);Ot=G.x,Et=G.y,le.beginPath(),le.arc(Ot,Et,1.25,0,2*Math.PI),le.fill()},rs=J=>{if(!it)return;J.preventDefault(),J.stopPropagation();const G=et(J),Y=G.x,ee=G.y;le.beginPath(),le.moveTo(Ot,Et),le.lineTo(Y,ee),le.stroke(),Ot=Y,Et=ee;try{const re=Me.toDataURL("image/png");x(xe=>({...xe,terms:{...xe.terms,signature:re}}))}catch(re){console.error("Error updating signature:",re)}},zr=J=>{if(J&&(J.preventDefault(),J.stopPropagation()),it){it=!1;try{const G=Me.toDataURL("image/png");x(Y=>({...Y,terms:{...Y.terms,signature:G}}))}catch(G){console.error("Error saving signature:",G)}}};Me._cleanup&&Me._cleanup(),Me.addEventListener("mousedown",sr),Me.addEventListener("mousemove",rs),Me.addEventListener("mouseup",zr),Me.addEventListener("mouseleave",zr),Me.addEventListener("touchstart",sr,{passive:!1}),Me.addEventListener("touchmove",rs,{passive:!1}),Me.addEventListener("touchend",zr,{passive:!1}),Me.addEventListener("touchcancel",zr,{passive:!1});const B=()=>{Me.removeEventListener("mousedown",sr),Me.removeEventListener("mousemove",rs),Me.removeEventListener("mouseup",zr),Me.removeEventListener("mouseleave",zr),Me.removeEventListener("touchstart",sr),Me.removeEventListener("touchmove",rs),Me.removeEventListener("touchend",zr),Me.removeEventListener("touchcancel",zr)};return Me._cleanup=B,!0};let U,ie=0;const Ae=20,Ue=()=>{ce()||(ie++,ie<Ae?U=setTimeout(Ue,100):console.warn("Could not initialize signature canvas after multiple attempts"))};return U=setTimeout(Ue,100),requestAnimationFrame(()=>{var Me;(Me=X.current)!=null&&Me._cleanup||Ue()}),()=>{U&&clearTimeout(U);const Me=X.current;Me&&Me._cleanup&&(Me._cleanup(),Me._cleanup=null)}},[i]),g.useEffect(()=>{(async()=>{if(o&&(i===11||i===12)){V(!0);try{const[U,ie]=await Promise.all([gt.getMGPlans(o,h.partnerType),gt.getCurrentPlan(o).catch(()=>null)]);if(ie!=null&&ie.data||ie!=null&&ie.plan){const Ae=ie.data||ie,Ue=Ae.plan||Ae;Ue&&Ue.name&&x(Me=>({...Me,selectedPlan:Ue.name,selectedPlanId:Ue._id||Ue.id||Ae.planId}))}if(U.success&&U.data&&Array.isArray(U.data)){const Ae=U.data.filter(Ue=>!Ue.partnerType||Ue.partnerType==="both"?!0:Ue.partnerType===h.partnerType);C(Ae.map(Ue=>{const le=(Ue.name||"").toLowerCase();let Ne="",We="bg-blue-50",at="border-blue-300";return le.includes("silver")?(Ne="",We="bg-gray-100",at="border-gray-300"):le.includes("gold")?(Ne="",We="bg-yellow-50",at="border-yellow-300"):le.includes("platinum")||le.includes("diamond")?(Ne="",We="bg-purple-50",at="border-purple-300"):le.includes("bronze")&&(Ne="",We="bg-orange-50",at="border-orange-300"),{_id:Ue._id,id:Ue._id,name:Ue.name,price:Ue.price||0,leads:Ue.leads||0,commission:Ue.commission||0,leadFee:Ue.leadFee||0,minWalletBalance:Ue.minWalletBalance||0,features:Ue.features||[],icon:Ue.icon||Ne,color:Ue.color||We,borderColor:Ue.borderColor||at,partnerType:Ue.partnerType||"individual"}}))}else C([])}catch(U){console.error("Failed to fetch MG plans:",U),C([])}finally{V(!1)}}})()},[o,i,h.partnerType]);const Tt=async()=>{if(!h.phone||h.phone.length!==10){v("Please enter a valid 10-digit phone number");return}b(!0),v(null);try{const ce=await gt.sendOTP(h.phone);ce.otp&&alert(`OTP for testing: ${ce.otp}`),w(!0),k(60)}catch(ce){v(ce.message||"Failed to send OTP")}finally{b(!1)}},Pe=async()=>{if(!h.otp||h.otp.length!==6){v("Please enter a valid 6-digit OTP");return}b(!0),v(null);try{const ce=await gt.verifyOTP(h.phone,h.otp);if(ce.success&&ce.partner){c(ce.partner.token),u(ce.partner);try{const U=await gt.getProfile(ce.partner.token);if(U.success&&U.profile){const ie=U.profile,Ae=ie.kyc||ie.KYC||{},Ue=ie.bankDetails||Ae.bankDetails||{},Me=et=>et&&typeof et=="string"?(et.startsWith("http://")||et.startsWith("https://")||et.startsWith("/"),et):null;x(et=>{var sr,rs,zr,B,J,G;return{...et,name:ie.name||et.name,email:ie.email||et.email,whatsappNumber:ie.whatsappNumber||et.whatsappNumber,qualification:ie.qualification||et.qualification,experience:((sr=ie.experience)==null?void 0:sr.toString())||et.experience,city:ie.city||et.city,partnerType:ie.partnerType||et.partnerType,modeOfService:ie.modeOfService||et.modeOfService,categories:((rs=ie.category)==null?void 0:rs.map(Y=>Y._id||Y.id||Y))||et.categories,categoryNames:((zr=ie.category)==null?void 0:zr.map(Y=>Y.name||Y))||ie.categoryNames||et.categoryNames,trade:((B=ie.categoryNames)==null?void 0:B[0])||((G=(J=ie.category)==null?void 0:J[0])==null?void 0:G.name)||et.trade,...ie.address&&{address:ie.address},...ie.landmark&&{landmark:ie.landmark},...ie.pincode&&{pincode:ie.pincode},...ie.gstNumber&&{gstNumber:ie.gstNumber},kyc:{...et.kyc,panCard:Me(Ae.panCard)||et.kyc.panCard,aadhaar:Me(Ae.aadhaar)||et.kyc.aadhaar,aadhaarback:Me(Ae.aadhaarback)||et.kyc.aadhaarback,chequeImage:Me(Ae.chequeImage)||et.kyc.chequeImage,drivingLicence:Me(Ae.drivingLicence)||et.kyc.drivingLicence,bill:Me(Ae.bill)||et.kyc.bill,bankDetails:{accountNumber:Ue.accountNumber||et.kyc.bankDetails.accountNumber,ifscCode:Ue.ifscCode||et.kyc.bankDetails.ifscCode,accountHolderName:Ue.accountHolderName||et.kyc.bankDetails.accountHolderName,bankName:Ue.bankName||et.kyc.bankDetails.bankName}},payment:{...et.payment,payId:ie.payId||ce.partner.payId||et.payment.payId,registrationFee:ie.registerAmount||ce.partner.registerAmount||et.payment.registrationFee},terms:{accepted:ie.termsAccepted||ce.partner.termsAccepted||et.terms.accepted,signature:ie.termsSignature||ce.partner.termsSignature||et.terms.signature},selectedPlan:ie.mgPlan||ce.partner.mgPlan||et.selectedPlan,selectedPlanId:ie.mgPlanId||ce.partner.mgPlanId||et.selectedPlanId}});const le=ie.profileCompleted||ce.partner.profileCompleted,Ne=ie.payId||ce.partner.payId||ie.registerAmount,We=ie.mgPlan||ce.partner.mgPlan,at=ie.termsAccepted||ce.partner.termsAccepted,it=!!((ie.name||h.name)&&(ie.email||h.email)&&(ie.address||h.address)&&(ie.pincode||h.pincode)&&(ie.city||h.city)),Ot=!!(Ae.panCard&&Ae.aadhaar&&Ae.aadhaarback&&Ae.chequeImage&&Ae.drivingLicence&&Ae.bill&&Ue.accountNumber&&Ue.ifscCode&&Ue.accountHolderName&&Ue.bankName),Et=!!(ie.category&&ie.category.length>0);l(s?it&&Ot&&Et&&at?11:it?Ot?Et?at?12:6:4:3:2:le&&Ne&&We?11:le&&Ne&&!We?12:le&&!Ne?7:le&&!at?6:2)}else l(2)}catch(U){console.log("No existing profile found or error fetching profile:",U),l(2)}}}catch(ce){v(ce.message||"Invalid OTP")}finally{b(!1)}},dt=(ce,U)=>{U&&x(ie=>({...ie,kyc:{...ie.kyc,[ce]:U}}))},$e=ce=>{ce&&x(U=>({...U,profilePicture:ce}))},Qe=async()=>{try{v(null),se(!1);const ce=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!1});M(ce),L(!0),setTimeout(()=>{W.current&&(W.current.srcObject=ce,W.current.onloadedmetadata=()=>{W.current&&W.current.play().then(()=>{se(!0)}).catch(U=>{console.error("Error playing video:",U),v("Failed to start camera. Please try again.")})})},100)}catch(ce){console.error("Error accessing camera:",ce),v("Unable to access camera. Please check permissions or upload a photo instead."),L(!1),se(!1)}},Xe=()=>{D&&(D.getTracks().forEach(ce=>ce.stop()),M(null)),L(!1),se(!1),W.current&&(W.current.srcObject=null)},kt=()=>{if(!W.current){v("Camera not ready. Please wait a moment and try again.");return}const ce=W.current;if(!ce.videoWidth||!ce.videoHeight){v("Camera is still loading. Please wait a moment and try again.");return}if(ce.readyState<2){ce.addEventListener("loadedmetadata",()=>{kt()},{once:!0});return}try{const U=document.createElement("canvas");U.width=ce.videoWidth,U.height=ce.videoHeight;const ie=U.getContext("2d");ie.translate(U.width,0),ie.scale(-1,1),ie.drawImage(ce,0,0,U.width,U.height),U.toBlob(Ae=>{if(Ae){const Ue=new File([Ae],"profile-photo.jpg",{type:"image/jpeg"});$e(Ue),Xe(),v(null)}else v("Failed to capture photo. Please try again.")},"image/jpeg",.9)}catch(U){console.error("Error capturing photo:",U),v("Failed to capture photo. Please try again.")}};g.useEffect(()=>()=>{D&&D.getTracks().forEach(ce=>ce.stop())},[D]);const er=async()=>{var ce;if(!o){v("Please verify your phone number first");return}b(!0),v(null);try{const U={name:h.name,email:h.email,whatsappNumber:h.whatsappNumber||h.phone,qualification:h.qualification,experience:h.experience,contactNumber:h.phone,address:h.address,landmark:h.landmark||"",pincode:h.pincode,city:h.city,referralCode:h.referralCode||"",gstNumber:h.gstNumber||"",partnerType:h.partnerType||"individual",profilePicture:h.profilePicture||null};(await gt.completeProfile(o,U)).success&&l(3)}catch(U){const ie=U.message||((ce=U.data)==null?void 0:ce.message)||"Failed to save profile";v(ie),U.status===401&&(v("Session expired. Please verify your phone number again."),c(null))}finally{b(!1)}},we=async()=>{var ce;if(!o){v("Please verify your phone number first");return}if(h.categories.length===0){v("Please select at least one category");return}b(!0),v(null);try{const U={categories:h.categories,categoryNames:h.categoryNames,subcategory:h.subcategory?Array.isArray(h.subcategory)?h.subcategory:[h.subcategory]:[],service:h.service?Array.isArray(h.service)?h.service:[h.service]:[],modeOfService:h.modeOfService};console.log(" Saving categories:",{categories:U.categories,categoryNames:U.categoryNames,categoriesCount:U.categories.length,categoryNamesCount:U.categoryNames.length});const ie=await gt.updateProfile(o,U);console.log(" Update Profile Response:",ie),ie.success?(console.log(" Categories saved successfully"),l(5)):v(ie.message||"Failed to save categories")}catch(U){console.error(" Error saving categories:",U);const ie=U.message||((ce=U.data)==null?void 0:ce.message)||"Failed to save categories";v(ie),U.status===401&&(v("Session expired. Please verify your phone number again."),c(null))}finally{b(!1)}},F=async()=>{var ce;if(!o){v("Please verify your phone number first");return}b(!0),v(null);try{const U=h.kyc.panCard&&typeof h.kyc.panCard=="string"&&h.kyc.aadhaar&&typeof h.kyc.aadhaar=="string"&&h.kyc.aadhaarback&&typeof h.kyc.aadhaarback=="string"&&h.kyc.chequeImage&&typeof h.kyc.chequeImage=="string"&&h.kyc.drivingLicence&&typeof h.kyc.drivingLicence=="string"&&h.kyc.bill&&typeof h.kyc.bill=="string",ie=h.kyc.panCard instanceof File||h.kyc.aadhaar instanceof File||h.kyc.aadhaarback instanceof File||h.kyc.chequeImage instanceof File||h.kyc.drivingLicence instanceof File||h.kyc.bill instanceof File;if(U&&!ie){l(4),b(!1);return}const Ae={panCard:h.kyc.panCard instanceof File?h.kyc.panCard:void 0,aadhaar:h.kyc.aadhaar instanceof File?h.kyc.aadhaar:void 0,aadhaarback:h.kyc.aadhaarback instanceof File?h.kyc.aadhaarback:void 0,chequeImage:h.kyc.chequeImage instanceof File?h.kyc.chequeImage:void 0,drivingLicence:h.kyc.drivingLicence instanceof File?h.kyc.drivingLicence:void 0,bill:h.kyc.bill instanceof File?h.kyc.bill:void 0,accountNumber:h.kyc.bankDetails.accountNumber,ifscCode:h.kyc.bankDetails.ifscCode,accountHolderName:h.kyc.bankDetails.accountHolderName,bankName:h.kyc.bankDetails.bankName};ie?(await gt.completeKYC(o,Ae)).success&&l(4):l(4)}catch(U){const ie=U.message||((ce=U.data)==null?void 0:ce.message)||"Failed to upload KYC documents";v(ie),U.status===401&&(v("Session expired. Please verify your phone number again."),c(null))}finally{b(!1)}},fe=async()=>{var ce,U;if(!o){v("Please verify your phone number first");return}b(!0),v(null);try{const ie=h.payment.registrationFee||0,Ae=h.payment.securityDeposit||0,Ue=h.toolkit.selected&&h.toolkit.price||0,Me={registerAmount:ie,paidBy:h.payment.paidBy,securityDeposit:Ae,toolkitPrice:Ue,terms:{accepted:h.terms.accepted,signature:h.terms.signature,acceptedAt:new Date().toISOString()}};console.log("Sending payment data from onboarding:",Me);const le=await gt.completePayment(o,Me);if(le.success){const Ne=le.partnerId||((ce=d==null?void 0:d._id)==null?void 0:ce.toString())||(d==null?void 0:d.partnerId)||`PRT-${Date.now().toString().slice(-6)}`;if(P(Ne),h.selectedHubs.length>0&&o)try{await new Promise(it=>setTimeout(it,500));const We=[];for(const it of h.selectedHubs)if(it.hubId)try{const Ot=await gt.assignHub(o,it.hubId);We.push({hub:it.name,success:!0,response:Ot})}catch(Ot){console.error(`Error assigning hub ${it.name}:`,Ot),We.push({hub:it.name,success:!1,error:Ot.message})}const at=We.filter(it=>!it.success);at.length>0?console.warn("Some hubs failed to assign:",at):console.log("All hubs assigned successfully:",We)}catch(We){console.error("Error in hub assignment process:",We)}l(8)}}catch(ie){const Ae=ie.message||((U=ie.data)==null?void 0:U.message)||"Failed to complete payment";v(Ae),ie.status===401&&(v("Session expired. Please verify your phone number again."),c(null))}finally{b(!1)}},lt=()=>{i<Le&&(s&&i===6?ye():s&&i===7?l(12):i===6&&h.payment.payId&&h.payment.status==="completed"?l(8):i===8?de():l(ce=>ce+1))},Nt=()=>{if(i>1)if(s&&i===8)l(6);else if(i===9&&h.payment.payId&&h.payment.status==="completed")l(8);else if(i===8&&h.payment.payId&&h.payment.status==="completed")l(7);else{let ce=i-1;s&&ce===7&&(ce=6),l(ce)}},ye=async()=>{var ce,U;if(!o){v("Please verify your phone number first");return}b(!0),v(null);try{const ie={name:h.name,email:h.email,whatsappNumber:h.whatsappNumber,qualification:h.qualification,experience:h.experience,address:h.address,landmark:h.landmark,pincode:h.pincode,city:h.city,referralCode:h.referralCode,gstNumber:h.gstNumber,partnerType:h.partnerType||"individual",categories:h.categories,categoryNames:h.categoryNames,subcategory:h.subcategory?Array.isArray(h.subcategory)?h.subcategory:[h.subcategory]:[],service:h.service?Array.isArray(h.service)?h.service:[h.service]:[],modeOfService:h.modeOfService,terms:{accepted:h.terms.accepted,signature:h.terms.signature,acceptedAt:new Date().toISOString()}};if((await gt.updateProfile(o,ie)).success){const Ue=((ce=d==null?void 0:d._id)==null?void 0:ce.toString())||(d==null?void 0:d.partnerId)||`PRT-${Date.now().toString().slice(-6)}`;if(P(Ue),h.selectedHubs.length>0&&o)try{await new Promise(Ne=>setTimeout(Ne,500));const Me=[];for(const Ne of h.selectedHubs)if(Ne.hubId)try{const We=await gt.assignHub(o,Ne.hubId);Me.push({hub:Ne.name,success:!0,response:We})}catch(We){console.error(`Error assigning hub ${Ne.name}:`,We),Me.push({hub:Ne.name,success:!1,error:We.message})}const le=Me.filter(Ne=>!Ne.success);le.length>0?console.warn("Some hubs failed to assign:",le):console.log("All hubs assigned successfully:",Me)}catch(Me){console.error("Error in hub assignment process:",Me)}if(s&&h.categories&&h.categories.length>0&&h.city)try{const Me=h.categories[0],le={partnerId:Ue,category:Me,service:h.categories.length>1?h.categories[1]:null,city:h.city,address:h.address||"",landmark:h.landmark||"",pincode:h.pincode||"",value:0,allocationStrategy:"rule_based",priority:"medium",description:`Partner registration from Lead Marketplace - ${h.name||"New Partner"}`};console.log("Partner registered from Lead Marketplace:",le)}catch(Me){console.error("Error creating lead entry:",Me)}l(12)}}catch(ie){const Ae=ie.message||((U=ie.data)==null?void 0:U.message)||"Failed to complete registration";v(Ae),ie.status===401&&(v("Session expired. Please verify your phone number again."),c(null))}finally{b(!1)}},qe=async()=>{if(!o){v("Please verify your phone number first");return}Ge(!0),v(null);try{const ce=h.payment.total+(h.toolkit.selected?h.toolkit.price:0),U="https://nexo.works";console.log("Calling PayU API:",`${U}/api/payu/initiate-payment`);const Ae=await(await fetch(`${U}/api/payu/initiate-payment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({amount:ce,phone:h.phone,name:h.name,email:h.email,partnerId:(d==null?void 0:d._id)||S})})).json();Ae.success?Ce(Ae.data):(v(Ae.message||"Failed to initiate payment"),Ge(!1))}catch(ce){console.error("Payment initiation error:",ce),v("Failed to initiate payment. Please try again."),Ge(!1)}},st=ce=>{switch(ce){case 2:return!!(h.name&&h.email&&h.address&&h.pincode&&h.city&&h.partnerType);case 3:const U=h.kyc.panCard&&(h.kyc.panCard instanceof File||typeof h.kyc.panCard=="string"),ie=h.kyc.aadhaar&&(h.kyc.aadhaar instanceof File||typeof h.kyc.aadhaar=="string"),Ae=h.kyc.aadhaarback&&(h.kyc.aadhaarback instanceof File||typeof h.kyc.aadhaarback=="string"),Ue=h.kyc.chequeImage&&(h.kyc.chequeImage instanceof File||typeof h.kyc.chequeImage=="string"),Me=h.kyc.drivingLicence&&(h.kyc.drivingLicence instanceof File||typeof h.kyc.drivingLicence=="string"),le=h.kyc.bill&&(h.kyc.bill instanceof File||typeof h.kyc.bill=="string");return U&&ie&&Ae&&Ue&&Me&&le&&h.kyc.bankDetails.accountNumber&&h.kyc.bankDetails.ifscCode&&h.kyc.bankDetails.accountHolderName&&h.kyc.bankDetails.bankName;case 4:return h.categories.length>0;case 5:return!0;case 6:return!!(h.terms.accepted&&h.terms.signature);case 7:return!0;case 8:return!!(h.payment.payId&&h.payment.payId.trim().length>0);case 9:return!0;case 10:return setTimeout(()=>l(11),100),r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ha,{className:"animate-spin text-4xl text-primary mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Redirecting to MG Plan selection..."})]});default:return!1}},St=()=>{switch(i){case 1:return y&&h.otp.length===6;case 2:return h.name&&h.email&&h.address&&h.pincode&&h.city&&h.partnerType;case 3:const ce=h.kyc.panCard&&(h.kyc.panCard instanceof File||typeof h.kyc.panCard=="string"),U=h.kyc.aadhaar&&(h.kyc.aadhaar instanceof File||typeof h.kyc.aadhaar=="string"),ie=h.kyc.aadhaarback&&(h.kyc.aadhaarback instanceof File||typeof h.kyc.aadhaarback=="string"),Ae=h.kyc.chequeImage&&(h.kyc.chequeImage instanceof File||typeof h.kyc.chequeImage=="string"),Ue=h.kyc.drivingLicence&&(h.kyc.drivingLicence instanceof File||typeof h.kyc.drivingLicence=="string"),Me=h.kyc.bill&&(h.kyc.bill instanceof File||typeof h.kyc.bill=="string");return ce&&U&&ie&&Ae&&Ue&&Me&&h.kyc.bankDetails.accountNumber&&h.kyc.bankDetails.ifscCode&&h.kyc.bankDetails.accountHolderName&&h.kyc.bankDetails.bankName;case 4:return h.categories.length>0;case 5:return h.selectedHubs.length===0?!0:h.selectedHubs.every(Ne=>{if(!Ne)return!1;const We=Ne.pinCodes||[];return!Array.isArray(We)||We.length===0?!1:We.every(at=>at!=null&&at.toString().trim().length>0)});case 6:return h.terms.accepted&&!!h.terms.signature;case 7:return!0;case 8:return!!(h.payment.payId&&h.payment.payId.trim().length>0);case 9:return!0;case 10:return!0;default:return!1}};g.useEffect(()=>{s&&i===7&&l(12)},[i,s]),g.useEffect(()=>{i===7&&h.payment.payId&&h.payment.status==="completed"&&(console.log(" Payment already completed and verified, showing payment confirmation"),l(8))},[i,h.payment.payId,h.payment.status]),g.useEffect(()=>{if(i===10){const ce=setTimeout(()=>{l(11)},1500);return()=>clearTimeout(ce)}},[i]),g.useEffect(()=>{if(s&&o&&d&&i!==12&&i!==11){const ce=!!(h.name&&h.email&&h.address&&h.pincode&&h.city),U=!!(h.kyc.panCard&&(h.kyc.panCard instanceof File||typeof h.kyc.panCard=="string")&&h.kyc.aadhaar&&(h.kyc.aadhaar instanceof File||typeof h.kyc.aadhaar=="string")&&h.kyc.aadhaarback&&(h.kyc.aadhaarback instanceof File||typeof h.kyc.aadhaarback=="string")&&h.kyc.chequeImage&&(h.kyc.chequeImage instanceof File||typeof h.kyc.chequeImage=="string")&&h.kyc.drivingLicence&&(h.kyc.drivingLicence instanceof File||typeof h.kyc.drivingLicence=="string")&&h.kyc.bill&&(h.kyc.bill instanceof File||typeof h.kyc.bill=="string")&&h.kyc.bankDetails.accountNumber&&h.kyc.bankDetails.ifscCode&&h.kyc.bankDetails.accountHolderName&&h.kyc.bankDetails.bankName),ie=!!(h.categories&&h.categories.length>0),Ae=!!(h.terms.accepted&&h.terms.signature);ce&&U&&ie&&Ae&&i!==12&&l(11)}},[h,s,o,d,i]);const de=async()=>{var ce,U;if(!h.payment.payId||h.payment.payId.trim().length===0){v("Please enter a valid payment transaction ID");return}b(!0),v("");try{const ie={registerAmount:h.payment.registrationFee||0,payId:h.payment.payId,paidBy:h.payment.paidBy||"partner",securityDeposit:h.payment.securityDepositSelected?h.payment.securityDeposit:0,toolkitPrice:h.toolkit.selected?h.toolkit.price:0,terms:{accepted:h.terms.accepted,signature:h.terms.signature,acceptedAt:new Date().toISOString()}},Ae=await gt.updateOnboardingStep(o,{step:8,completed:!0,approved:!1,...ie});Ae.success?l(9):v(Ae.message||"Failed to update onboarding step")}catch(ie){console.error("Payment confirmation error:",ie),v(((U=(ce=ie.response)==null?void 0:ce.data)==null?void 0:U.message)||ie.message||"An error occurred while confirming payment")}finally{b(!1)}},he=()=>{var ce,U,ie,Ae;switch(i){case 1:return r.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[r.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-primary mb-1.5 sm:mb-2",children:"Welcome to NEXO Partner Onboarding"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Enter your phone number to get started"})]}),r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Phone Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(II,{className:"absolute left-3 top-3.5 text-gray-400"}),r.jsx("input",{type:"tel",value:h.phone,onChange:le=>{x(Ne=>({...Ne,phone:le.target.value.replace(/\D/g,"").slice(0,10)})),v(null)},className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter 10-digit phone number",maxLength:10,disabled:y})]})]}),y&&r.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Enter OTP ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(_I,{className:"absolute left-3 top-3.5 text-gray-400"}),r.jsx("input",{type:"text",value:h.otp,onChange:le=>{x(Ne=>({...Ne,otp:le.target.value.replace(/\D/g,"").slice(0,6)})),v(null)},className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter 6-digit OTP",maxLength:6})]})]}),r.jsx("button",{onClick:Pe,disabled:p||h.otp.length!==6,className:"w-full bg-primary text-white py-3 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:p?r.jsx(ha,{className:"animate-spin mx-auto"}):"Verify OTP"}),N>0?r.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Resend OTP in ",N,"s"]}):r.jsx("button",{onClick:Tt,className:"w-full text-primary font-semibold",children:"Resend OTP"})]}),!y&&r.jsx("button",{onClick:Tt,disabled:p||h.phone.length!==10,className:"w-full bg-primary text-white py-3 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:p?r.jsx(ha,{className:"animate-spin mx-auto"}):"Send OTP"}),j&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:j})]})]});case 2:return r.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[r.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-primary mb-1.5 sm:mb-2",children:"Personal Information"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Tell us about yourself"}),st(2)&&r.jsx("p",{className:"text-sm text-green-600 mt-2",children:" Information already saved"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 text-center",children:["Select Partner Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex gap-4 justify-center",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"partnerType",value:"individual",checked:h.partnerType==="individual",onChange:le=>x(Ne=>({...Ne,partnerType:le.target.value})),className:"w-4 h-4 text-primary focus:ring-primary"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Individual"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"partnerType",value:"franchise",checked:h.partnerType==="franchise",onChange:le=>x(Ne=>({...Ne,partnerType:le.target.value})),className:"w-4 h-4 text-primary focus:ring-primary"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Franchise"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:h.name,onChange:le=>x(Ne=>({...Ne,name:le.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter your full name"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",value:h.email,onChange:le=>x(Ne=>({...Ne,email:le.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter your email"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"WhatsApp Number"}),r.jsx("input",{type:"tel",value:h.whatsappNumber,onChange:le=>x(Ne=>({...Ne,whatsappNumber:le.target.value.replace(/\D/g,"").slice(0,10)})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter WhatsApp number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Qualification"}),r.jsx("input",{type:"text",value:h.qualification,onChange:le=>x(Ne=>({...Ne,qualification:le.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"e.g., ITI, Diploma"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Experience (Years)"}),r.jsx("input",{type:"number",value:h.experience,onChange:le=>x(Ne=>({...Ne,experience:le.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Years of experience"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["City ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:h.city,onChange:le=>x(Ne=>({...Ne,city:le.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter your city"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Address ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{value:h.address,onChange:le=>x(Ne=>({...Ne,address:le.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter your full address",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Landmark"}),r.jsx("input",{type:"text",value:h.landmark,onChange:le=>x(Ne=>({...Ne,landmark:le.target.value})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Nearby landmark"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Pincode ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:h.pincode,onChange:le=>x(Ne=>({...Ne,pincode:le.target.value.replace(/\D/g,"").slice(0,6)})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter pincode",maxLength:6})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GST Number (Optional)"}),r.jsx("input",{type:"text",value:h.gstNumber,onChange:le=>x(Ne=>({...Ne,gstNumber:le.target.value.toUpperCase().replace(/\s/g,"")})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter GST number (if applicable)",maxLength:15})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Referral Code (Optional)"}),r.jsx("input",{type:"text",value:h.referralCode,onChange:le=>x(Ne=>({...Ne,referralCode:le.target.value.toUpperCase()})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter referral code if any"})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Profile Picture (Optional)"}),r.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6",children:h.profilePicture?r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:h.profilePicture instanceof File?URL.createObjectURL(h.profilePicture):h.profilePicture,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-primary"}),r.jsx("button",{type:"button",onClick:()=>x(le=>({...le,profilePicture:null})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:""})]}),r.jsx("p",{className:"text-sm text-green-600 font-semibold",children:" Profile picture uploaded"})]}):r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-100 border-4 border-gray-300 flex items-center justify-center",children:r.jsx(DI,{className:"text-6xl text-gray-400"})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("label",{className:"cursor-pointer",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:le=>{le.target.files&&le.target.files[0]&&$e(le.target.files[0])},className:"hidden"}),r.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold",children:[r.jsx(qb,{})," Upload Photo"]})]}),r.jsxs("button",{type:"button",onClick:Qe,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-semibold",children:[r.jsx(tk,{})," Capture Photo"]})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Upload a photo or capture using camera"})]})})]}),T&&r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Capture Photo"}),r.jsx("button",{type:"button",onClick:Xe,className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),r.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden mb-4",style:{minHeight:"300px"},children:[r.jsx("video",{ref:W,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-auto",style:{transform:"scaleX(-1)"}}),!z&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ha,{className:"animate-spin text-3xl mx-auto mb-2"}),r.jsx("p",{className:"text-sm",children:"Loading camera..."})]})})]}),j&&T&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-2 rounded-lg text-sm mb-4",children:j}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:Xe,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition font-semibold",children:"Cancel"}),r.jsxs("button",{type:"button",onClick:kt,disabled:!z,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(tk,{})," Capture"]})]})]})}),j&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:j})]});case 3:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"KYC Documents"}),r.jsx("p",{className:"text-gray-600",children:"Upload your identity and bank documents"}),st(3)&&r.jsx("p",{className:"text-sm text-green-600 mt-2",children:" Documents already uploaded"})]}),r.jsxs("div",{className:"space-y-4",children:[[{key:"panCard",label:"PAN Card",required:!0},{key:"aadhaar",label:"Aadhaar Card (Front)",required:!0},{key:"aadhaarback",label:"Aadhaar Card (Back)",required:!0},{key:"chequeImage",label:"Cancelled Cheque",required:!0},{key:"drivingLicence",label:"Driving Licence",required:!0},{key:"bill",label:"Utility Bill",required:!0}].map(({key:le,label:Ne,required:We})=>r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[Ne," ",We&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center",children:[r.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:at=>dt(le,at.target.files[0]),className:"hidden",id:le}),r.jsx("label",{htmlFor:le,className:`cursor-pointer flex flex-col items-center ${h.kyc[le]&&typeof h.kyc[le]=="string"?"opacity-100":""}`,children:h.kyc[le]&&typeof h.kyc[le]=="string"?r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Be,{className:"text-2xl text-green-600"})}),r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[r.jsx("span",{className:"text-sm text-green-600 font-semibold",children:" Already Uploaded"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Click to replace"})]})]}):h.kyc[le]instanceof File?r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[r.jsx(qb,{className:"text-3xl text-primary mb-2"}),r.jsxs("span",{className:"text-sm text-green-600",children:[" ",h.kyc[le].name||"Uploaded"]})]}):r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[r.jsx(qb,{className:"text-3xl text-gray-400 mb-2"}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Click to upload ",Ne]})]})})]})]},le)),r.jsxs("div",{className:"border-t pt-6 mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Bank Details"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"accountNumber",label:"Account Number",required:!0},{key:"ifscCode",label:"IFSC Code",required:!0},{key:"accountHolderName",label:"Account Holder Name",required:!0},{key:"bankName",label:"Bank Name",required:!0}].map(({key:le,label:Ne,required:We})=>r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[Ne," ",We&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:h.kyc.bankDetails[le],onChange:at=>x(it=>({...it,kyc:{...it.kyc,bankDetails:{...it.kyc.bankDetails,[le]:at.target.value}}})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary",placeholder:`Enter ${Ne.toLowerCase()}`,...le==="ifscCode"&&{maxLength:11,style:{textTransform:"uppercase"}}})]},le))})]})]}),j&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:j})]});case 4:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Select Categories"}),r.jsx("p",{className:"text-gray-600",children:"Select one or more service categories you want to provide"}),st(4)&&r.jsx("p",{className:"text-sm text-green-600 mt-2",children:" Categories already selected"})]}),ue?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx(ha,{className:"animate-spin text-4xl text-primary"})}):r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:(q.length>0?q:sk).map(le=>{const Ne=le.id||le._id||le.name,We=le.name,at=le.icon||"",it=h.categories.includes(Ne)||h.categoryNames.includes(We);return r.jsxs(E.button,{onClick:()=>{x(Ot=>{const Et=[...Ot.categories],et=[...Ot.categoryNames];if(it){const sr=Et.indexOf(Ne);sr>-1&&Et.splice(sr,1);const rs=et.indexOf(We);rs>-1&&et.splice(rs,1)}else Et.includes(Ne)||Et.push(Ne),et.includes(We)||et.push(We);return{...Ot,categories:Et,categoryNames:et,trade:et.length>0?et[0]:""}})},whileHover:{scale:1.05},whileTap:{scale:.95},className:`p-6 rounded-2xl border-2 transition-all ${it?"border-primary bg-primary/10 shadow-lg":"border-gray-200 hover:border-primary/50"}`,children:[r.jsx("div",{className:"text-4xl mb-3",children:at}),r.jsx("div",{className:"font-semibold text-gray-800",children:We}),it&&r.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"mt-2",children:r.jsx(Be,{className:"text-primary mx-auto"})})]},Ne)})}),h.categories.length>0&&r.jsx("div",{className:"mt-4 p-4 bg-primary/5 rounded-xl",children:r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[r.jsx("span",{className:"font-semibold",children:"Selected:"})," ",h.categoryNames.join(", ")]})})]});case 5:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Select Service Hubs"}),r.jsx("p",{className:"text-gray-600",children:"Select from available service hubs created by admin. Choose hubs and pin codes for your service areas."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"What are Service Hubs?"})," Service hubs define the areas where you provide services. Each hub can have multiple pin codes. Select hubs and choose the pin codes you want to cover."]})}),O?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ha,{className:"animate-spin text-4xl text-primary mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading available hubs..."})]}):oe.length>0?r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Available Service Hubs"}),r.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:oe.map(le=>{var it,Ot;const Ne=h.selectedHubs.some(Et=>{var et;return Et.hubId===((et=le._id)==null?void 0:et.toString())||Et.name===le.name}),We=h.selectedHubs.find(Et=>{var et;return Et.hubId===((et=le._id)==null?void 0:et.toString())||Et.name===le.name}),at=(We==null?void 0:We.pinCodes)||[];return r.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all ${Ne?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50 bg-white"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Bp,{className:"text-primary"}),r.jsx("h4",{className:"font-semibold text-gray-800",children:le.name}),le.isPrimary&&r.jsx("span",{className:"px-2 py-0.5 bg-primary/10 text-primary text-xs rounded-full font-semibold",children:"Primary"})]}),(le.city||le.state)&&r.jsx("p",{className:"text-xs text-gray-500 ml-6",children:[le.city,le.state].filter(Boolean).join(", ")}),le.areas&&le.areas.length>0&&r.jsxs("p",{className:"text-xs text-gray-500 ml-6 mt-1",children:[le.areas.length," area",le.areas.length!==1?"s":"","  ",((it=le.pinCodes)==null?void 0:it.length)||0," pin code",((Ot=le.pinCodes)==null?void 0:Ot.length)===1?"":"s"]})]}),r.jsx("button",{type:"button",onClick:()=>{if(Ne)x(Et=>({...Et,selectedHubs:Et.selectedHubs.filter(et=>{var sr;return et.hubId!==((sr=le._id)==null?void 0:sr.toString())&&et.name!==le.name})}));else{const Et=le.pinCodes||[];Et.length>0?x(et=>{var sr;return{...et,selectedHubs:[...et.selectedHubs,{hubId:(sr=le._id)==null?void 0:sr.toString(),name:le.name,pinCodes:[...Et],isPrimary:et.selectedHubs.length===0}]}}):alert("This hub has no pin codes available. Please contact admin.")}},className:`px-3 py-1 rounded-lg text-sm font-semibold transition ${Ne?"bg-red-100 text-red-600 hover:bg-red-200":"bg-primary text-white hover:bg-primary-dark"}`,children:Ne?"Remove":"Select Hub"})]}),Ne&&le.pinCodes&&le.pinCodes.length>0&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Select Pin Codes:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:le.pinCodes.map(Et=>{const et=at.includes(Et);return r.jsx("button",{type:"button",onClick:()=>{x(sr=>{const rs=sr.selectedHubs.map(zr=>{var B;if(zr.hubId===((B=le._id)==null?void 0:B.toString())||zr.name===le.name){const J=zr.pinCodes||[];if(et&&J.length===1)return alert("At least one pin code must be selected for each hub. Remove the hub instead if you don't need it."),zr;const G=et?J.filter(Y=>Y!==Et):[...J,Et];return{...zr,pinCodes:G}}return zr});return{...sr,selectedHubs:rs}})},className:`px-3 py-1 rounded-full text-xs font-semibold transition ${et?"bg-primary text-white border-2 border-primary":"bg-white text-gray-600 border-2 border-gray-300 hover:border-primary"}`,children:Et},Et)})}),at.length===0&&r.jsx("p",{className:"text-xs text-amber-600 mt-2",children:" Please select at least one pin code"})]}),!Ne&&le.pinCodes&&le.pinCodes.length>0&&r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:le.pinCodes.map(Et=>r.jsx("span",{className:"px-2.5 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-semibold",children:Et},Et))})]},le._id||le.name)})})]}):r.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50",children:[r.jsx(Bp,{className:"text-4xl text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No Service Hubs Available"}),r.jsx("p",{className:"text-sm text-gray-500",children:"No service hubs have been created yet. Please contact admin or proceed without hubs."})]}),h.selectedHubs.length>0&&r.jsxs("div",{className:"mt-6 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Your Selected Service Hubs"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[h.selectedHubs.length," hub",h.selectedHubs.length!==1?"s":""," selected"]})]}),h.selectedHubs.map((le,Ne)=>r.jsx("div",{className:"border-2 border-primary rounded-xl p-4 bg-primary/5",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"font-semibold text-gray-800",children:le.name}),le.isPrimary&&r.jsx("span",{className:"px-2 py-0.5 bg-primary text-white text-xs rounded-full font-semibold",children:"Primary"})]}),le.pinCodes&&le.pinCodes.length>0?r.jsx("div",{className:"flex flex-wrap gap-2",children:le.pinCodes.map((We,at)=>r.jsx("span",{className:"px-2.5 py-1 bg-white border border-primary rounded-full text-xs font-semibold text-primary",children:We},at))}):r.jsx("p",{className:"text-xs text-amber-600",children:"No pin codes selected"})]}),r.jsxs("button",{type:"button",onClick:()=>{const We=h.selectedHubs.filter((at,it)=>it!==Ne);le.isPrimary&&We.length>0&&(We[0].isPrimary=!0),x(at=>({...at,selectedHubs:We}))},className:"ml-4 p-2 text-red-600 hover:bg-red-50 rounded-lg transition flex items-center gap-1",title:"Delete Hub",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),r.jsx("span",{className:"text-sm font-semibold",children:"Delete"})]})]})},Ne))]})]})]});case 6:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Terms & Conditions"}),r.jsx("p",{className:"text-gray-600",children:"Please read and accept the Partner Agreement"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6 max-h-[600px] overflow-y-auto",children:[r.jsxs("div",{className:"mb-4 pb-3 border-b border-gray-200",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"PARTNER TERMS & CONDITIONS"}),r.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Effective Date:"})," 15th November 2025"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Last Updated:"})," 15th November 2025"]})]})]}),r.jsxs("div",{className:"space-y-4 text-sm text-gray-700",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"1. Introduction"}),r.jsx("p",{className:"leading-relaxed",children:'These Partner Terms & Conditions ("Terms") constitute a binding agreement between NEXO ("Company", "Platform", "We", "Us") and the individual or business entity ("Partner", "Service Provider", "You") who registers to provide on-site or online services through the Platform.'}),r.jsx("p",{className:"leading-relaxed mt-2",children:"By registering or accepting any service request, the Partner expressly agrees to these Terms."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"2. Independent Contractor Status"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsx("li",{className:"leading-relaxed",children:"The Partner is an independent contractor, not an employee, representative, or agent of NEXO."}),r.jsx("li",{className:"leading-relaxed",children:"No employment benefits (PF, ESI, gratuity, insurance, paid leave, salary) shall be applicable."}),r.jsx("li",{className:"leading-relaxed",children:"The Partner is solely responsible for compliance with GST, income tax, labour laws, and all statutory obligations."})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"3. Mandatory Registration & Onboarding Requirements"}),r.jsx("p",{className:"leading-relaxed mb-2",children:"The Partner shall complete mandatory onboarding, including but not limited to:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[r.jsx("li",{children:"Valid Government ID"}),r.jsx("li",{children:"Address proof"}),r.jsx("li",{children:"Skill verification/trade test (if applicable)"}),r.jsx("li",{children:"Police verification (whenever required)"}),r.jsx("li",{children:"Recent photograph"}),r.jsx("li",{children:"Bank account details"}),r.jsx("li",{children:"GST number (if applicable)"})]}),r.jsx("p",{className:"leading-relaxed mb-2",children:r.jsx("strong",{children:"Payment of applicable onboarding fees:"})}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[r.jsx("li",{children:"Registration Fee"}),r.jsx("li",{children:"Toolkit Fee (if provided)"}),r.jsx("li",{children:"Minimum Guarantee (MG) Plan"}),r.jsx("li",{children:"Security Deposit"})]}),r.jsx("p",{className:"leading-relaxed text-xs",children:"All fees are non-refundable, except security deposit which is refundable as per Clause 23."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"4. Partner Obligations"}),r.jsx("p",{className:"leading-relaxed mb-2",children:"Partner shall:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsx("li",{children:"Maintain professional behaviour at all times."}),r.jsx("li",{children:"Deliver high-quality, safe, and lawful services."}),r.jsx("li",{children:"Carry valid Partner ID during every service."}),r.jsx("li",{children:"Reach customer location on time."}),r.jsx("li",{children:"Provide correct service estimates before starting work."}),r.jsx("li",{children:"Maintain hygiene, wear uniform/ID (if provided)."}),r.jsx("li",{children:"Not engage in misconduct, harassment, abuse, threats, or illegal activity."}),r.jsx("li",{children:"Maintain tools and ensure safe operation."}),r.jsx("li",{children:"Not demand cash payments directly from customers."}),r.jsx("li",{children:"Not solicit or accept off-platform work (strict penalty)."})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"5. Pricing, Estimates & Billing"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsx("li",{children:"Partner must follow NEXO pricing structure and guidelines."}),r.jsx("li",{children:"Any additional work must be pre-approved through the Platform."}),r.jsx("li",{children:"Partner shall not overcharge or misrepresent pricing."}),r.jsx("li",{children:"All payments shall be processed solely through NEXO."}),r.jsx("li",{children:"Partner is responsible for issuing bills/invoices where required by law."})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"6. Platform Commission & Deductions"}),r.jsx("p",{className:"leading-relaxed mb-2",children:"Partner agrees to the following deductions:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[r.jsx("li",{children:"Platform Commission (%)"}),r.jsx("li",{children:"Lead Cost per lead"}),r.jsx("li",{children:"GST applicable on Platform Commission"}),r.jsx("li",{children:"Penalties & Fines"}),r.jsx("li",{children:"TDS (if applicable)"}),r.jsx("li",{children:"Outstanding dues from previous jobs"}),r.jsx("li",{children:"MG Plan adjustments"})]}),r.jsx("p",{className:"leading-relaxed text-xs",children:"All deductions shall be final and binding."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"7. Mandatory Safety Requirements"}),r.jsx("p",{className:"leading-relaxed mb-2",children:"Partner shall:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[r.jsx("li",{children:"Follow safety protocols prescribed by NEXO."}),r.jsx("li",{children:"Use proper tools and protective equipment."}),r.jsx("li",{children:"Not perform services beyond skill level or without proper safety."}),r.jsx("li",{children:"Not endanger customer, property, or themselves."})]}),r.jsx("p",{className:"leading-relaxed mb-2",children:"Failure may result in:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsx("li",{children:"Immediate suspension"}),r.jsx("li",{children:"Penalty up to 5,000"}),r.jsx("li",{children:"Legal action for damages"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"8. Customer Safety & Code of Conduct"}),r.jsx("p",{className:"leading-relaxed mb-2",children:"Partner must strictly adhere to:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[r.jsx("li",{children:"No harassment (verbal, physical, emotional)"}),r.jsx("li",{children:"No misbehaviour, disrespect, abusive language"}),r.jsx("li",{children:"No consumption of alcohol/drugs on duty"}),r.jsx("li",{children:"No theft, damage, or misconduct"}),r.jsx("li",{children:"No photography or unauthorised recording at customer premises"}),r.jsx("li",{children:"No requesting personal favours or discounts"}),r.jsx("li",{children:"No entering restricted areas without consent"})]}),r.jsx("p",{className:"leading-relaxed mb-2",children:"Any violation may lead to:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsx("li",{children:"Permanent termination"}),r.jsx("li",{children:"Police complaint"}),r.jsx("li",{children:"Forfeiture of dues and deposits"}),r.jsx("li",{children:"Penalties up to 25,000"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"9. Punctuality & Attendance"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[r.jsx("li",{children:"Partner must accept bookings only if available."}),r.jsx("li",{children:"Must reach customer location on time."}),r.jsx("li",{children:"Any delay beyond 20 minutes must be informed."})]}),r.jsx("p",{className:"leading-relaxed mb-2",children:"Repeated delays may lead to:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsx("li",{children:"50200 penalty per incident"}),r.jsx("li",{children:"Reduced lead allocation"}),r.jsx("li",{children:"Temporary suspension"})]})]}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-red-900",children:"10. No Offline Deals (Strictly Prohibited)"}),r.jsx("p",{className:"leading-relaxed mb-2 text-red-900",children:"Partner shall not:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2 text-red-900",children:[r.jsx("li",{children:"Ask customer to cancel platform booking"}),r.jsx("li",{children:"Offer lower pricing for offline work"}),r.jsx("li",{children:"Share personal phone number for future services"}),r.jsx("li",{children:"Accept cash or direct payments"})]}),r.jsx("p",{className:"leading-relaxed mb-2 text-red-900",children:r.jsx("strong",{children:"Penalty:"})}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 text-red-900",children:[r.jsx("li",{children:"5,000 minimum"}),r.jsx("li",{children:"Permanent termination"}),r.jsx("li",{children:"Deduction from wallet and MG plan"}),r.jsx("li",{children:"Legal action for business loss"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"11. Service Quality & Returns"}),r.jsx("p",{className:"leading-relaxed mb-2",children:"Partner must ensure:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[r.jsx("li",{children:"High-quality workmanship"}),r.jsx("li",{children:"Correct problem diagnosis"}),r.jsx("li",{children:"Use of original parts (if applicable)"}),r.jsx("li",{children:"Guarantee service quality as per NEXO policy"})]}),r.jsx("p",{className:"leading-relaxed mb-2",children:"Poor work or customer complaints may attract:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsx("li",{children:"Rework without charges"}),r.jsx("li",{children:"Penalty from 1001,000"}),r.jsx("li",{children:"Suspension on repeated offences"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"12. Damage, Theft, or Loss"}),r.jsx("p",{className:"leading-relaxed mb-2",children:"Partner shall be fully liable for:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[r.jsx("li",{children:"Damage to customer property"}),r.jsx("li",{children:"Theft or loss at customer premises"}),r.jsx("li",{children:"Fire, accident, or injury caused due to Partner negligence"}),r.jsx("li",{children:"Incorrect installation or unsafe practices"})]}),r.jsx("p",{className:"leading-relaxed mb-2",children:"Recovery will be made through:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsx("li",{children:"Partner wallet"}),r.jsx("li",{children:"Security deposit"}),r.jsx("li",{children:"MG payouts"}),r.jsx("li",{children:"Legal recovery"})]}),r.jsx("p",{className:"leading-relaxed text-xs mt-2",children:"Police FIR may be filed for severe cases."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"13. Fraudulent Activities"}),r.jsx("p",{className:"leading-relaxed mb-2",children:"Strictly prohibited:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[r.jsx("li",{children:"Faking job completion"}),r.jsx("li",{children:"False OTP entry"}),r.jsx("li",{children:"Manipulating customer rating"}),r.jsx("li",{children:"Overcharging"}),r.jsx("li",{children:"Providing false documents"})]}),r.jsx("p",{className:"leading-relaxed mb-2",children:"Penalty:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsx("li",{children:"Up to 25,000"}),r.jsx("li",{children:"Permanent removal"}),r.jsx("li",{children:"Legal prosecution"})]})]}),r.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-bold text-base mb-3 text-amber-900",children:"14. Penalty Structure"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-xs border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-amber-100",children:[r.jsx("th",{className:"border border-amber-300 px-2 py-1 text-left font-bold",children:"Violation"}),r.jsx("th",{className:"border border-amber-300 px-2 py-1 text-left font-bold",children:"Penalty"})]})}),r.jsxs("tbody",{className:"text-amber-900",children:[r.jsxs("tr",{children:[r.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Late arrival"}),r.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"50200"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Job rejection after acceptance"}),r.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"100300"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Misbehaviour"}),r.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"1,0005,000"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Unsafe work"}),r.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"2,000"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Offline deal"}),r.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"5,000+ termination"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Theft/misconduct"}),r.jsx("td",{className:"border border-amber-300 px-2 py-1",children:"Legal action + termination"})]})]})]})}),r.jsx("p",{className:"text-xs text-amber-900 mt-2",children:"NEXO reserves the right to modify penalties anytime."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"15. Partner Wallet & Settlement"}),r.jsx("p",{className:"leading-relaxed mb-2",children:"Deductions will be applied in the following order:"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-4 mb-2",children:[r.jsx("li",{children:"Penalties"}),r.jsx("li",{children:"Platform Commission"}),r.jsx("li",{children:"Lead cost"}),r.jsx("li",{children:"MG plan adjustments"}),r.jsx("li",{children:"Pending dues"})]}),r.jsx("p",{className:"leading-relaxed",children:"Settlement cycles will be weekly or as updated by NEXO."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"16. MG Plan (Minimum Guarantee)"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsx("li",{children:"MG plan is optional or mandatory as per category."}),r.jsx("li",{children:"MG provides priority leads based on plan."}),r.jsx("li",{children:"MG fee is non-refundable."}),r.jsx("li",{children:"Partner failing to meet service quality/minimum performance may lose MG benefits without refund."})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"17. Ratings & Reviews"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsx("li",{children:"Partner must maintain minimum rating (e.g., 4.0)."}),r.jsx("li",{children:"Low ratings may result in reduced leads or suspension."}),r.jsx("li",{children:"False or manipulated ratings are punishable."})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"18. Use of Platform & Technology"}),r.jsx("p",{className:"leading-relaxed mb-2",children:"Partner shall:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsx("li",{children:"Keep app updated"}),r.jsx("li",{children:"Not misuse customer data"}),r.jsx("li",{children:"Not reverse engineer, hack, or modify NEXO systems"}),r.jsx("li",{children:"Use genuine documents only"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"19. Termination"}),r.jsx("p",{className:"leading-relaxed mb-2",children:"NEXO may terminate partner access without notice for:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsx("li",{children:"Misconduct"}),r.jsx("li",{children:"Fraud"}),r.jsx("li",{children:"Unsafe behaviour"}),r.jsx("li",{children:"Low performance"}),r.jsx("li",{children:"Offline deals"}),r.jsx("li",{children:"Customer complaints"}),r.jsx("li",{children:"Violation of any Terms"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"20. Security Deposit Refund"}),r.jsx("p",{className:"leading-relaxed mb-2",children:"Refund only upon:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[r.jsx("li",{children:"30-day notice period"}),r.jsx("li",{children:"Return of toolkit (if applicable)"}),r.jsx("li",{children:"No pending dues or penalties"}),r.jsx("li",{children:"No active customer complaints"})]}),r.jsx("p",{className:"leading-relaxed",children:"Refund processing time: 2145 working days."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"21. Dispute Resolution"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4 mb-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Jurisdiction:"})," Bangalore, Karnataka"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Governing Law:"})," Laws of India"]})]}),r.jsx("p",{className:"leading-relaxed mb-2",children:r.jsx("strong",{children:"Method:"})}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsx("li",{children:"Internal review"}),r.jsx("li",{children:"Mediation"}),r.jsx("li",{children:"Arbitration (if required)"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-base mb-2 text-gray-900",children:"22. Amendments"}),r.jsx("p",{className:"leading-relaxed",children:"NEXO reserves the right to change Terms anytime. Continued use of the Platform constitutes acceptance."})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:r.jsxs("p",{className:"text-xs text-blue-900 leading-relaxed",children:[r.jsx("strong",{children:"By signing and accepting this Agreement, Partner confirms that:"})," (i) they have read, understood, and agree to be bound by all terms, conditions, and penalties outlined herein; (ii) they have had the opportunity to review the full terms published on the Platform; (iii) they understand that this Agreement is legally binding; and (iv) they agree to comply with all obligations and accept all penalties for violations."]})})]})]}),r.jsx("div",{className:"space-y-6",children:h.terms.accepted&&h.terms.signature?r.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Be,{className:"text-green-600 text-2xl"}),r.jsx("h3",{className:"text-lg font-bold text-green-800",children:"Terms Already Accepted"})]}),r.jsx("p",{className:"text-sm text-green-700 mb-4",children:"You have already accepted the Terms & Conditions and provided your digital signature."}),h.terms.signature&&r.jsxs("div",{className:"mt-4",children:[r.jsx("p",{className:"text-xs text-green-600 mb-2 font-semibold",children:"Your Signature:"}),r.jsx("div",{className:"bg-white border border-green-200 rounded-lg p-3",children:r.jsx("img",{src:h.terms.signature,alt:"Signature",className:"max-w-full h-auto",style:{maxHeight:"100px"}})})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Digital Signature"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("canvas",{ref:X,className:"border-2 border-dashed border-gray-300 rounded-lg w-full cursor-crosshair",style:{touchAction:"none",display:"block",maxWidth:"100%",height:"150px"}}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Draw your signature in the box above"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{type:"button",onClick:()=>{const le=X.current;le&&(le.getContext("2d").clearRect(0,0,le.width,le.height),x(We=>({...We,terms:{...We.terms,signature:null}})))},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition text-sm font-semibold",children:"Clear Signature"})}),h.terms.signature&&r.jsx("p",{className:"text-sm text-green-600 mt-2 font-semibold",children:" Signature captured"})]}),r.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-6",children:r.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:h.terms.accepted,onChange:le=>{x(Ne=>({...Ne,terms:{...Ne.terms,accepted:le.target.checked}}))},className:"mt-1 w-5 h-5 text-primary border-gray-300 rounded focus:ring-primary"}),r.jsxs("span",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"I have read, understood and accept the Terms & Conditions"})," *",r.jsx("br",{}),r.jsx("span",{className:"text-xs text-gray-500",children:"By checking this box, you agree to be bound by all terms, conditions, and penalties outlined in the Partner Agreement."})]})]})})]})})]})]});case 7:return s?null:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:" Payment Options"}),r.jsx("p",{className:"text-gray-600",children:"Choose your preferred payment plan and complete via WhatsApp Pay"})]}),j&&r.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 flex items-start gap-3",children:[r.jsx("svg",{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-red-800 mb-1",children:"Payment Failed"}),r.jsx("p",{className:"text-sm text-red-700",children:j}),r.jsx("button",{onClick:()=>v(null),className:"mt-2 text-sm text-red-600 hover:text-red-800 font-medium underline",children:"Dismiss"})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl p-6 space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/50 rounded-xl border border-primary/20",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-800 font-semibold",children:"Registration Fee"}),r.jsx("p",{className:"text-xs text-gray-600",children:"One-time onboarding fee"})]})]}),r.jsxs("span",{className:"font-bold text-xl text-primary",children:["",h.payment.registrationFee.toLocaleString()]})]}),r.jsx("div",{className:"relative",children:r.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all duration-200 ${h.payment.securityDepositSelected?"border-primary bg-primary/5 shadow-md":"border-gray-200 hover:border-primary/50"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all duration-200 ${h.payment.securityDepositSelected?"bg-primary border-primary":"border-gray-300 hover:border-primary/70"}`,children:[r.jsx("input",{type:"checkbox",id:"securityDeposit",checked:h.payment.securityDepositSelected,onChange:le=>{const Ne=le.target.checked,We=h.partnerType||"individual",at=(Q==null?void 0:Q[We])||Q,it=Ne?(at==null?void 0:at.securityDeposit)||1e3:0;x(Ot=>({...Ot,payment:{...Ot.payment,securityDepositSelected:Ne,securityDeposit:it,total:Ot.payment.registrationFee+it+(Ot.toolkit.selected?Ot.toolkit.price:0)}}))},className:"w-3 h-3 text-primary focus:ring-0 opacity-0 absolute"}),h.payment.securityDepositSelected&&r.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"securityDeposit",className:"text-gray-800 font-semibold text-base cursor-pointer flex items-center gap-2",children:["Include Security Deposit",h.payment.securityDepositSelected&&r.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[r.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Selected"]})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Refundable security deposit"})]})]}),r.jsx("div",{className:"text-right",children:Q&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`text-2xl font-bold transition-colors duration-200 ${h.payment.securityDepositSelected?"text-primary":"text-gray-700"}`,children:["",Q.securityDeposit.toLocaleString()]}),!h.payment.securityDepositSelected&&r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Click to include"})]})})]}),h.payment.securityDepositSelected&&r.jsx("div",{className:"mt-3 pt-3 border-t border-primary/20",children:r.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[r.jsx("svg",{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:"Why include security deposit?"}),r.jsx("p",{className:"text-xs mt-1",children:"Builds trust with customers and partners. Fully refundable upon completion.."})]})]})})]})}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all duration-200 ${h.toolkit.selected?"border-orange-400 bg-orange-50/50 shadow-md":"border-gray-200 hover:border-orange-300"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all duration-200 cursor-pointer ${h.toolkit.selected?"bg-orange-500 border-orange-500":"border-gray-300 hover:border-orange-400"}`,children:[r.jsx("input",{type:"checkbox",id:"toolkitCheckbox",checked:h.toolkit.selected,onChange:le=>x(Ne=>({...Ne,toolkit:{...Ne.toolkit,selected:le.target.checked}})),className:"w-3 h-3 text-primary focus:ring-0 opacity-0 absolute cursor-pointer"}),h.toolkit.selected&&r.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),r.jsx("div",{children:r.jsxs("label",{htmlFor:"toolkitCheckbox",className:"cursor-pointer",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(uq,{className:`text-lg transition-colors duration-200 ${h.toolkit.selected?"text-orange-600":"text-orange-500"}`}),r.jsxs("span",{className:`font-semibold transition-colors duration-200 ${h.toolkit.selected?"text-gray-800":"text-gray-700"}`,children:["Professional Toolkit (Optional)",h.toolkit.selected&&r.jsxs("span",{className:"inline-flex items-center ml-2 px-2 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[r.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Selected"]})]})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Professional-grade tools and equipment to get started faster"})]})})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`text-2xl font-bold transition-colors duration-200 ${h.toolkit.selected?"text-orange-600":"text-gray-700"}`,children:["",h.toolkit.price.toLocaleString()]}),!h.toolkit.selected&&r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Optional add-on"})]})]}),h.toolkit.selected&&r.jsx("div",{className:"mt-3 pt-3 border-t border-orange-200",children:r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),r.jsx("span",{className:"text-gray-700",children:"Quality Tools"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),r.jsx("span",{className:"text-gray-700",children:"Faster Setup"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),r.jsx("span",{className:"text-gray-700",children:"Professional Look"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),r.jsx("span",{className:"text-gray-700",children:"Customer Trust"})]})]})})]}),h.toolkit.selected&&Q&&Q.toolkitPriceRefundable===!0&&r.jsxs("div",{className:"ml-8 mt-2 flex items-center gap-2 bg-emerald-50 border border-emerald-200 rounded-lg p-2",children:[r.jsx(Be,{className:"text-emerald-600 text-xs flex-shrink-0"}),r.jsx("span",{className:"text-xs text-emerald-800 font-medium",children:"Toolkit Price is refundable"})]})]}),r.jsx("div",{className:"border-t-2 border-primary/30 pt-6 mt-6",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-xl p-4 border border-primary/20",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Total Amount"}),r.jsxs("span",{className:"text-3xl font-bold text-primary",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between items-center py-1",children:[r.jsx("span",{className:"text-gray-600",children:"Registration Fee"}),r.jsxs("span",{className:"font-medium",children:["",h.payment.registrationFee.toLocaleString()]})]}),h.payment.securityDepositSelected&&r.jsxs("div",{className:"flex justify-between items-center py-1",children:[r.jsx("span",{className:"text-gray-600",children:"Security Deposit"}),r.jsxs("span",{className:"font-medium",children:["",h.payment.securityDeposit.toLocaleString()]})]}),h.toolkit.selected&&r.jsxs("div",{className:"flex justify-between items-center py-1",children:[r.jsx("span",{className:"text-gray-600",children:"Toolkit Price"}),r.jsxs("span",{className:"font-medium",children:["",h.toolkit.price.toLocaleString()]})]}),r.jsx("div",{className:"border-t border-gray-300 pt-2 mt-2",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-semibold text-gray-800",children:"Total"}),r.jsxs("span",{className:"font-bold text-lg text-primary",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]})})]})]})}),Q&&(Q.registrationFeeRefundable===!0||Q.securityDepositRefundable===!0||Q.toolkitPriceRefundable===!0)&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-primary/20 space-y-2",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Refundable Fees:"}),Q.registrationFeeRefundable===!0&&r.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 border border-emerald-200 rounded-lg p-2",children:[r.jsx(Be,{className:"text-emerald-600 text-sm flex-shrink-0"}),r.jsx("span",{className:"text-xs text-emerald-800 font-medium",children:"Registration Fee is refundable"})]}),Q.securityDepositRefundable===!0&&r.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 border border-emerald-200 rounded-lg p-2",children:[r.jsx(Be,{className:"text-emerald-600 text-sm flex-shrink-0"}),r.jsx("span",{className:"text-xs text-emerald-800 font-medium",children:"Security Deposit is refundable"})]}),Q.toolkitPriceRefundable===!0&&r.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 border border-emerald-200 rounded-lg p-2",children:[r.jsx(Be,{className:"text-emerald-600 text-sm flex-shrink-0"}),r.jsx("span",{className:"text-xs text-emerald-800 font-medium",children:"Toolkit Price is refundable"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-2xl p-6 border-2 border-blue-200",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Secure Payment Gateway"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Complete your payment securely using PayU payment gateway"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[r.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h4",{className:"font-semibold text-gray-800",children:"Secure & Encrypted"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Your payment information is safe with us"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Credit Card"}),r.jsxs("svg",{className:"w-8 h-8 text-blue-600 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:[r.jsx("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),r.jsx("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Debit Card"}),r.jsxs("svg",{className:"w-8 h-8 text-green-600 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:[r.jsx("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),r.jsx("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"UPI"}),r.jsx("svg",{className:"w-8 h-8 text-purple-600 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Net Banking"}),r.jsx("svg",{className:"w-8 h-8 text-orange-600 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V8a2 2 0 00-2-2h-5L9 4H4zm7 5a1 1 0 10-2 0v1H8a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V9z",clipRule:"evenodd"})})]})]}),r.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:r.jsxs("p",{className:"text-sm text-blue-800 text-center",children:[r.jsx("strong",{children:"Note:"})," You will be redirected to PayU secure payment page to complete your transaction"]})})]}),r.jsx(E.button,{onClick:qe,disabled:Je,whileHover:{scale:Je?1:1.05},whileTap:{scale:Je?1:.95},className:"w-full bg-primary text-white py-4 rounded-xl font-semibold text-lg flex items-center justify-center gap-3 shadow-lg hover:shadow-xl transition disabled:opacity-50 disabled:cursor-not-allowed",children:Je?r.jsxs(r.Fragment,{children:[r.jsx(ha,{className:"animate-spin"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(go,{}),"Pay ",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()," Securely",r.jsx(pn,{})]})})]}),j&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm",children:j}),r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"border-t border-gray-200 pt-6 mt-6",children:r.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[r.jsxs("div",{className:"text-center mb-3",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Want to register a new partner?"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Clear all saved data and start fresh registration"})]}),r.jsxs(E.button,{onClick:()=>{window.confirm("Are you sure you want to start a new registration? This will clear all saved data from this device.")&&(localStorage.removeItem("partnerOnboardingStep"),localStorage.removeItem("partnerOnboardingFormData"),localStorage.removeItem("partnerOnboardingToken"),localStorage.removeItem("partnerOnboardingPartnerData"),window.location.href="/partner/onboard")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-blue-600 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-blue-700 transition shadow-md",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Register New Partner"]})]})})]});case 8:const Ue=h.payment.payId&&h.payment.payId.length>0;h.payment.status;const Me=h.payment.status==="failed";return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"text-center mb-8",children:Me?r.jsxs(r.Fragment,{children:[r.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-12 h-12 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),r.jsx("h2",{className:"text-3xl font-bold text-red-600 mb-2",children:"Payment Failed!"}),r.jsx("p",{className:"text-gray-600",children:"Your payment could not be processed. Please try again."})]}):Ue?r.jsxs(r.Fragment,{children:[r.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Be,{className:"text-4xl text-green-600"})}),r.jsx("h2",{className:"text-3xl font-bold text-green-600 mb-2",children:"Payment Received!"}),r.jsx("p",{className:"text-gray-600",children:"Your payment has been received and is being verified by our team"})]}):r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Payment Confirmation"}),r.jsx("p",{className:"text-gray-600",children:"Enter your payment transaction ID to complete registration"})]})}),r.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl p-6 space-y-4",children:[r.jsxs("div",{className:"bg-white/50 rounded-xl p-4 border border-primary/20",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Payment ",Ue?"Completed":"Summary"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Registration Fee"}),r.jsxs("span",{className:"font-medium",children:["",h.payment.registrationFee.toLocaleString()]})]}),h.payment.securityDepositSelected&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Security Deposit"}),r.jsxs("span",{className:"font-medium",children:["",h.payment.securityDeposit.toLocaleString()]})]}),h.toolkit.selected&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Professional Toolkit"}),r.jsxs("span",{className:"font-medium",children:["",h.toolkit.price.toLocaleString()]})]}),r.jsx("div",{className:"border-t border-gray-300 pt-2 mt-2",children:r.jsxs("div",{className:"flex justify-between font-semibold",children:[r.jsxs("span",{children:["Total ",Ue?"Paid":"Amount"]}),r.jsxs("span",{className:"text-primary",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]})})]})]}),Me?r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-50 rounded-xl p-4 border-2 border-red-200",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),r.jsx("h4",{className:"text-lg font-semibold text-red-800",children:"Payment Failed"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 space-y-2",children:[h.payment.payId&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Transaction ID:"}),r.jsx("span",{className:"font-mono font-semibold text-gray-800",children:h.payment.payId})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Amount:"}),r.jsxs("span",{className:"font-semibold text-gray-800",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-semibold",children:[r.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Failed"]})]})]}),r.jsx("div",{className:"bg-red-100 border border-red-300 rounded-lg p-3 mt-3",children:r.jsxs("p",{className:"text-sm text-red-800",children:[r.jsx("strong",{children:" Payment Failed:"})," ",j||"Your payment could not be processed. Please try again or contact support if the issue persists."]})}),r.jsxs(E.button,{onClick:()=>{x(le=>({...le,payment:{...le.payment,payId:"",status:""}})),v(null),l(7)},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-red-600 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-red-700 transition",children:[r.jsx(ek,{}),"Try Payment Again"]})]})}):Ue?r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-green-50 rounded-xl p-4 border-2 border-green-200",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Be,{className:"text-green-600 text-xl"}),r.jsx("h4",{className:"text-lg font-semibold text-green-800",children:"Payment Details"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Transaction ID:"}),r.jsx("span",{className:"font-mono font-semibold text-gray-800",children:h.payment.payId})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Amount Paid:"}),r.jsxs("span",{className:"font-semibold text-green-600",children:["",(h.payment.total+(h.toolkit.selected?h.toolkit.price:0)).toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Payment Method:"}),r.jsx("span",{className:"font-semibold text-gray-800",children:"Online Payment (PayU)"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-semibold",children:[r.jsx(xo,{}),"Pending Verification"]})]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mt-3",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:" Payment Pending Verification:"})," Your payment has been received successfully. Our admin team will verify it shortly. You can proceed to the next step where you'll wait for approval."]})})]})}):r.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border-2 border-gray-200",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("svg",{className:"w-5 h-5 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm0 2h12v8H4V6z",clipRule:"evenodd"})}),r.jsx("label",{className:"text-base font-semibold text-gray-800",children:"Payment Transaction ID"})]}),r.jsx("input",{type:"text",value:h.payment.payId,onChange:le=>x(Ne=>({...Ne,payment:{...Ne.payment,payId:le.target.value}})),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition-colors",placeholder:"Enter payment transaction ID from WhatsApp Pay",required:!0}),r.jsx("p",{className:"text-sm text-gray-600",children:"Enter the transaction ID you received after completing the payment via WhatsApp Pay to complete your registration."})]})})]})]});case 9:return r.jsx(Tq,{currentStep:i,setCurrentStep:l,formData:h,token:o});case 11:return h.selectedPlan||m?r.jsxs("div",{className:"space-y-6 text-center",children:[r.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:r.jsx(ya,{className:"text-4xl text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:h.selectedPlan?"Thank You!":"Registration Complete!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:h.selectedPlan?`Thank you for subscribing to the ${h.selectedPlan} plan! Your lead subscription is now active.`:"Your partner registration is complete! You can subscribe to an MG plan anytime from your dashboard."})]}),r.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl p-6",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Your Partner ID"}),r.jsx("div",{className:"text-3xl font-bold text-primary",children:S||((ce=d==null?void 0:d._id)==null?void 0:ce.toString().slice(-8))||(d==null?void 0:d.partnerId)||"PRT-XXXXXX"})]}),h.categoryNames&&h.categoryNames.length>0&&r.jsxs("div",{className:"bg-white border-2 border-primary rounded-2xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Selected Categories"}),r.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:h.categoryNames.map((le,Ne)=>r.jsx("span",{className:"bg-primary/10 text-primary px-4 py-2 rounded-full font-semibold",children:le},Ne))})]}),h.selectedPlan&&r.jsxs("div",{className:"bg-white border-2 border-primary rounded-2xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your MG Plan"}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl mb-3",children:h.selectedPlan==="Silver"?"":h.selectedPlan==="Gold"?"":""}),r.jsxs("div",{className:"text-2xl font-bold text-primary mb-2",children:[h.selectedPlan," Plan"]}),r.jsxs("p",{className:"text-gray-600",children:["You've successfully subscribed to the ",h.selectedPlan," plan. You'll receive guaranteed leads and commission benefits."]}),mt&&r.jsxs("p",{className:"text-sm text-gray-500 mt-3",children:["Lead fee ",mt.leadFee??0,"  Maintain wallet  ",mt.minWalletBalance??0," to keep leads flowing."]})]})]}),r.jsxs("div",{className:"flex gap-4 justify-center",children:[r.jsxs(E.a,{onClick:le=>{le.preventDefault(),ne(le)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-green-600 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition flex items-center gap-2",children:[r.jsx(hr,{className:"text-lg"}),"Contact Support"]}),r.jsxs(E.button,{onClick:()=>navigate("/partner/login"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-primary text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition flex items-center gap-2",children:["Go to Dashboard",r.jsx(pn,{})]})]})]}):r.jsxs("div",{className:"space-y-6",children:[h.selectedPlan&&mt&&r.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-300 rounded-2xl p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:r.jsx(Be,{className:"text-white text-2xl"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-green-800",children:"Your Activated Plan"}),r.jsx("p",{className:"text-sm text-green-600",children:"Currently active and receiving leads"})]})]}),r.jsx("div",{className:"text-4xl",children:mt.icon})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h4",{className:"text-2xl font-bold text-primary",children:[h.selectedPlan," Plan"]}),r.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["",mt.price.toLocaleString("en-IN"),"/mo"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[r.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Guaranteed Leads"}),r.jsxs("p",{className:"text-xl font-bold text-green-700",children:[mt.leads,"/month"]})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Commission Rate"}),r.jsxs("p",{className:"text-xl font-bold text-blue-700",children:[mt.commission,"%"]})]}),r.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Lead Fee"}),r.jsxs("p",{className:"text-xl font-bold text-purple-700",children:["",mt.leadFee]})]}),r.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Min Wallet Balance"}),r.jsxs("p",{className:"text-xl font-bold text-orange-700",children:["",mt.minWalletBalance]})]})]}),((U=mt.features)==null?void 0:U.length)>0&&r.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Plan Features:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:mt.features.map((le,Ne)=>r.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:[" ",le]},Ne))})]})]}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-green-700",children:[r.jsx(Be,{}),r.jsx("span",{className:"font-medium",children:"Plan is active and you're receiving leads"})]})]}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:h.selectedPlan?"Change Your MG Plan":"Choose Your MG Plan"}),r.jsx("p",{className:"text-gray-600",children:h.selectedPlan?"Select a different plan below to upgrade or change your subscription":"Select a Minimum Guarantee plan to get started"}),h.partnerType&&r.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-blue-50 border border-blue-200 rounded-xl",children:[r.jsx("span",{className:"text-2xl",children:h.partnerType==="individual"?"":""}),r.jsxs("span",{className:"text-sm font-semibold text-blue-700",children:["Showing plans for ",h.partnerType==="individual"?"Individual":"Franchise"," Partners"]})]})]}),A?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ha,{className:"animate-spin text-4xl text-primary mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading available plans..."})]}):_.length===0?r.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50",children:[r.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No MG Plans Available"}),r.jsxs("p",{className:"text-sm text-gray-500",children:[h.partnerType?`No plans available for ${h.partnerType==="individual"?"Individual":"Franchise"} partners yet.`:"No Minimum Guarantee plans have been configured yet."," Please contact admin or skip this step."]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:_.map(le=>{var We;const Ne=le._id||le.id;return r.jsxs(E.button,{onClick:async()=>{var at;x(it=>({...it,selectedPlan:le.name,selectedPlanId:Ne||null})),b(!0),v(null);try{if(o&&Ne){if((await gt.subscribeToPlan(o,Ne)).success&&(x(Ot=>({...Ot,selectedPlanId:Ne})),s&&h.categories&&h.categories.length>0&&h.city))try{console.log("Plan subscribed, lead should be created by backend")}catch(Ot){console.error("Error creating lead after plan selection:",Ot)}}else if(o){const Ot=(at=(await gt.getMGPlans(o)).data)==null?void 0:at.find(Et=>Et.name===le.name);Ot&&(await gt.subscribeToPlan(o,Ot._id)).success&&x(et=>({...et,selectedPlanId:Ot._id}))}s||te(),v(null)}catch(it){console.error("Failed to subscribe to plan:",it),v("Failed to subscribe to plan. Please try again.")}finally{b(!1)}},disabled:p,whileHover:{scale:p?1:1.05},whileTap:{scale:p?1:.95},className:`${le.color} border-2 rounded-2xl p-6 text-left transition relative ${h.selectedPlan===le.name?`${le.borderColor} border-4 shadow-lg ring-4 ring-green-200`:"border-gray-200 hover:border-primary"} ${p?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[h.selectedPlan===le.name&&r.jsxs("div",{className:"absolute -top-3 -right-3 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg flex items-center gap-1 animate-pulse",children:[r.jsx(Be,{}),"Active Plan"]}),r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("div",{className:"text-4xl",children:le.icon}),le.partnerType==="both"&&r.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full font-semibold",children:"All Partners"})]}),r.jsx("div",{className:"font-bold text-xl text-gray-800 mb-2",children:le.name}),r.jsxs("div",{className:"text-3xl font-bold text-primary mb-3",children:["",le.price.toLocaleString("en-IN")]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Be,{className:"text-green-500"}),r.jsxs("span",{className:"text-gray-700",children:[le.leads," Leads/month"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Be,{className:"text-green-500"}),r.jsxs("span",{className:"text-gray-700",children:[le.commission,"% Commission"]})]}),le.leadFee&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Be,{className:"text-green-500"}),r.jsxs("span",{className:"text-gray-700",children:["Lead Fee ",le.leadFee]})]}),le.minWalletBalance&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Be,{className:"text-green-500"}),r.jsxs("span",{className:"text-gray-700",children:["Min Wallet ",le.minWalletBalance]})]})]}),(We=le.features)!=null&&We.length?r.jsx("ul",{className:"mt-4 space-y-1 text-xs text-gray-600",children:le.features.map((at,it)=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Be,{className:"text-primary"}),r.jsx("span",{children:at})]},it))}):null,h.selectedPlan===le.name&&r.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"mt-4",children:r.jsx(Be,{className:"text-primary text-2xl mx-auto"})})]},le.name)})}),h.selectedPlan?r.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-xl p-5 text-center",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:r.jsx(Be,{className:"text-white"})}),r.jsxs("p",{className:"text-green-800 font-bold text-lg",children:["Your ",h.selectedPlan," Plan is Active"]})]}),r.jsx("p",{className:"text-sm text-green-700 mb-3",children:"You're currently receiving leads with this plan. Click on any other plan above to upgrade or change your subscription."}),r.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-green-600",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Be,{className:"text-green-500"}),"Leads Active"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Be,{className:"text-green-500"}),"Commission Enabled"]})]})]}):r.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Please select a plan to continue"})]});case 12:return r.jsxs("div",{className:"space-y-6 text-center",children:[r.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:r.jsx(ya,{className:"text-4xl text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"You're Already Registered!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Your partner profile is already complete. You can proceed to subscribe to a lead plan or manage your account."})]}),r.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 rounded-2xl p-6",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Your Partner ID"}),r.jsx("div",{className:"text-3xl font-bold text-primary",children:S||((ie=d==null?void 0:d._id)==null?void 0:ie.toString().slice(-8))||(d==null?void 0:d.partnerId)||"PRT-XXXXXX"})]}),h.categoryNames&&h.categoryNames.length>0&&r.jsxs("div",{className:"bg-white border-2 border-primary rounded-2xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your Categories"}),r.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:h.categoryNames.map((le,Ne)=>r.jsx("span",{className:"bg-primary/10 text-primary px-4 py-2 rounded-full font-semibold",children:le},Ne))})]}),h.selectedPlan&&mt?r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-300 rounded-2xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:r.jsx(Be,{className:"text-white text-2xl"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h3",{className:"text-xl font-bold text-green-800",children:"Your Activated Plan"}),r.jsx("p",{className:"text-sm text-green-600",children:"Currently active and receiving leads"})]})]}),r.jsx("div",{className:"text-4xl",children:mt.icon})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h4",{className:"text-2xl font-bold text-primary",children:[h.selectedPlan," Plan"]}),r.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["",mt.price.toLocaleString("en-IN"),"/mo"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[r.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Guaranteed Leads"}),r.jsxs("p",{className:"text-xl font-bold text-green-700",children:[mt.leads,"/month"]})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Commission Rate"}),r.jsxs("p",{className:"text-xl font-bold text-blue-700",children:[mt.commission,"%"]})]}),r.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Lead Fee"}),r.jsxs("p",{className:"text-xl font-bold text-purple-700",children:["",mt.leadFee]})]}),r.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Min Wallet Balance"}),r.jsxs("p",{className:"text-xl font-bold text-orange-700",children:["",mt.minWalletBalance]})]})]}),((Ae=mt.features)==null?void 0:Ae.length)>0&&r.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Plan Features:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:mt.features.map((le,Ne)=>r.jsxs("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:[" ",le]},Ne))})]})]}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-green-700",children:[r.jsx(Be,{}),r.jsx("span",{className:"font-medium",children:"Plan is active and you're receiving leads"})]})]}):r.jsxs("div",{className:"bg-white border-2 border-primary rounded-2xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your MG Plan"}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-gray-600 mb-6",children:"You haven't subscribed to a lead plan yet. Choose a plan to start receiving leads!"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Aq.map(le=>{var Ne;return r.jsxs(E.button,{onClick:async()=>{var We;x(at=>({...at,selectedPlan:le.name,selectedPlanId:null})),b(!0),v(null);try{if(o){const it=(We=(await gt.getMGPlans(o)).data)==null?void 0:We.find(Ot=>Ot.name===le.name);it?(await gt.subscribeToPlan(o,it._id)).success&&(x(Et=>({...Et,selectedPlanId:it._id})),s&&h.categories&&h.categories.length>0&&h.city&&console.log("Plan subscribed, lead should be created by backend"),l(11),v(null)):v(`Plan "${le.name}" not available. Please contact support.`)}else v("Please login to subscribe to a plan")}catch(at){console.error("Failed to subscribe to plan:",at),v("Failed to subscribe to plan. Please try again.")}finally{b(!1)}},disabled:p,whileHover:{scale:p?1:1.05},whileTap:{scale:p?1:.95},className:`${le.color} border-2 rounded-2xl p-6 text-left transition ${h.selectedPlan===le.name?`${le.borderColor} border-4 shadow-lg`:"border-gray-200 hover:border-primary"} ${p?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[r.jsx("div",{className:"text-4xl mb-3",children:le.icon}),r.jsx("div",{className:"font-bold text-xl text-gray-800 mb-2",children:le.name}),r.jsxs("div",{className:"text-3xl font-bold text-primary mb-3",children:["",le.price.toLocaleString("en-IN")]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Be,{className:"text-green-500"}),r.jsxs("span",{className:"text-gray-700",children:[le.leads," Leads/month"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Be,{className:"text-green-500"}),r.jsxs("span",{className:"text-gray-700",children:[le.commission,"% Commission"]})]}),le.leadFee&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Be,{className:"text-green-500"}),r.jsxs("span",{className:"text-gray-700",children:["Lead Fee ",le.leadFee]})]}),le.minWalletBalance&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Be,{className:"text-green-500"}),r.jsxs("span",{className:"text-gray-700",children:["Min Wallet ",le.minWalletBalance]})]})]}),(Ne=le.features)!=null&&Ne.length?r.jsx("ul",{className:"mt-4 space-y-1 text-xs text-gray-600",children:le.features.map((We,at)=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Be,{className:"text-primary"}),r.jsx("span",{children:We})]},at))}):null,h.selectedPlan===le.name&&r.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"mt-4",children:r.jsx(Be,{className:"text-primary text-2xl mx-auto"})})]},le.name)})}),j&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm text-center",children:j})]})]}),r.jsxs("div",{className:"flex gap-4 justify-center",children:[r.jsx(E.a,{href:"/partner/login",whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-primary text-white px-6 py-3 rounded-xl font-semibold",children:"Go to Dashboard"}),r.jsxs(E.a,{onClick:le=>{le.preventDefault(),ne(le)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 py-3 rounded-xl font-semibold flex items-center gap-2",children:[r.jsx(hr,{})," Contact Support"]})]}),r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"border-t border-gray-200 pt-6 mt-6",children:r.jsxs("div",{className:"bg-blue-50 rounded-xl p-5 border border-blue-200",children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsxs("h4",{className:"font-semibold text-gray-800 mb-2 flex items-center justify-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Want to register a new partner?"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Clear all saved data and start fresh registration"})]}),r.jsxs(E.button,{onClick:()=>{window.confirm("Are you sure you want to start a new registration? This will clear all saved data from this device.")&&(localStorage.removeItem("partnerOnboardingStep"),localStorage.removeItem("partnerOnboardingFormData"),localStorage.removeItem("partnerOnboardingToken"),localStorage.removeItem("partnerOnboardingPartnerData"),window.location.href="/partner/onboard")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-blue-600 text-white py-3 rounded-xl font-semibold flex items-center justify-center gap-2 hover:bg-blue-700 transition shadow-md",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Register New Partner"]})]})})]});default:return null}};return r.jsxs(r.Fragment,{children:[r.jsx(Ba,{title:"Partner Onboarding | NEXO",description:"Join NEXO as a service partner. Complete your registration in simple steps.",keywords:"partner onboarding, become partner, service partner registration",url:"/partner/onboard"}),Re&&r.jsx(Pq,{paymentData:Re,onSuccess:()=>{Ce(null),Ge(!1)},onFailure:()=>{Ce(null),Ge(!1),v("Payment failed. Please try again.")}}),r.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-6 px-4 sm:px-6 pt-20 sm:pt-24",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[i<11&&i!==12&&r.jsxs("div",{className:"mb-4 sm:mb-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[r.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-600",children:["Step ",i," of ",s?Le-2:Le-1]}),r.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-primary",children:[Math.round(i/(s?Le-2:Le-1)*100),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:r.jsx(E.div,{className:"bg-primary h-1.5 rounded-full",initial:{width:0},animate:{width:`${i/(s?Le-2:Le-1)*100}%`},transition:{duration:.3}})})]}),r.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-lg p-4 sm:p-6 md:p-6 lg:p-8",children:[r.jsx(jc,{mode:"wait",children:r.jsx(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:he()},i)}),i<12&&i!==13&&r.jsxs("div",{className:"flex justify-between items-center mt-6 sm:mt-8 pt-4 sm:pt-6 border-t",children:[r.jsxs("button",{onClick:Nt,disabled:i===1,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition ${i===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[r.jsx(ek,{})," Previous"]}),i===2?r.jsxs("button",{onClick:er,disabled:p||!St(),className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[p?r.jsx(ha,{className:"animate-spin"}):"Save & Continue"," ",r.jsx(pn,{})]}):i===3?r.jsxs("button",{onClick:F,disabled:p||!St(),className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[p?r.jsx(ha,{className:"animate-spin"}):"Upload & Continue"," ",r.jsx(pn,{})]}):i===4?r.jsxs("button",{onClick:we,disabled:p||h.categories.length===0,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[p?r.jsx(ha,{className:"animate-spin"}):"Save Categories & Continue"," ",r.jsx(pn,{})]}):i===6?r.jsxs("button",{onClick:async()=>{var ce,U;if(s)await ye();else{b(!0);try{if(o&&h.terms.signature,o)try{const ie=await gt.getProfile(o);if(ie.success&&ie.profile){const Ae=ie.profile;if(Ae.paymentApproved===!0||Ae.registerdFee===!0||((ce=Ae.profile)==null?void 0:ce.paymentApproved)===!0||((U=Ae.profile)==null?void 0:U.registerdFee)===!0){console.log(" Payment already completed, skipping payment step"),x(Me=>{var le;return{...Me,payment:{...Me.payment,status:"completed",payId:((le=Ae.profile)==null?void 0:le.payId)||Ae.payId||"COMPLETED"}}}),l(9),b(!1);return}}}catch(ie){console.error("Error checking payment status:",ie)}l(7)}catch(ie){v(ie.message||"Failed to accept terms")}finally{b(!1)}}},disabled:!St()||p,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[p?r.jsx(ha,{className:"animate-spin"}):s?"Complete Registration":"Accept & Continue"," ",r.jsx(pn,{})]}):i===7&&!s?r.jsxs("button",{onClick:fe,disabled:p,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[p?r.jsx(ha,{className:"animate-spin"}):"Complete Payment"," ",r.jsx(pn,{})]}):i===8&&h.payment.status!=="failed"?r.jsxs("button",{onClick:de,disabled:p||!h.payment.payId,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[p?r.jsx(ha,{className:"animate-spin"}):"Confirm Payment & Continue"," ",r.jsx(pn,{})]}):i===9?r.jsxs("div",{className:"flex gap-3 justify-center",children:[r.jsxs("button",{onClick:lt,disabled:p,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:["Yes, Choose MG Plan ",r.jsx(pn,{})]}),r.jsx("button",{onClick:()=>{f(!0),l(11)},disabled:p,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-gray-200 text-gray-700 hover:bg-gray-300 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Skip for Now"})]}):i===10?r.jsxs("button",{onClick:lt,disabled:!St()||p,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:["Next ",r.jsx(pn,{})]}):r.jsxs("button",{onClick:lt,disabled:!St()||p,className:"flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-primary text-white hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:["Next ",r.jsx(pn,{})]})]})]})]})})]})},Eq=()=>r.jsxs(r.Fragment,{children:[r.jsx(Ba,{title:"Partner Terms & Conditions | NEXO",description:"Partner Terms & Conditions for service providers on NEXO platform. Read our comprehensive terms covering registration, obligations, penalties, and more.",keywords:"partner terms, service provider terms, NEXO terms and conditions, partner agreement"}),r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"bg-white/20 rounded-full p-4",children:r.jsx(a0,{className:"w-12 h-12"})})}),r.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Partner Terms & Conditions"}),r.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"Effective Date: 15th November 2025 | Last Updated: 15th November 2025"})]})})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx(EI,{className:"text-primary"}),"1. Introduction"]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:'These Partner Terms & Conditions ("Terms") constitute a binding agreement between NEXO ("Company", "Platform", "We", "Us") and the individual or business entity ("Partner", "Service Provider", "You") who registers to provide on-site or online services through the Platform.'}),r.jsx("p",{className:"text-gray-700 leading-relaxed mt-4 font-semibold",children:"By registering or accepting any service request, the Partner expressly agrees to these Terms."})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"2. Independent Contractor Status"}),r.jsxs("ul",{className:"space-y-3 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"The Partner is an independent contractor, not an employee, representative, or agent of NEXO."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"No employment benefits (PF, ESI, gratuity, insurance, paid leave, salary) shall be applicable."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"The Partner is solely responsible for compliance with GST, income tax, labour laws, and all statutory obligations."})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"3. Mandatory Registration & Onboarding Requirements"}),r.jsx("p",{className:"text-gray-700 mb-4",children:"The Partner shall complete mandatory onboarding, including but not limited to:"}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"Valid Government ID"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"Address proof"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"Skill verification/trade test (if applicable)"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"Police verification (whenever required)"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"Recent photograph"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"Bank account details"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"GST number (if applicable)"})]})]})]}),r.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4",children:[r.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Payment of applicable onboarding fees:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[r.jsx("li",{children:"Registration Fee"}),r.jsx("li",{children:"Toolkit Fee (if provided)"}),r.jsx("li",{children:"Minimum Guarantee (MG) Plan"}),r.jsx("li",{children:"Security Deposit"})]})]}),r.jsx("p",{className:"text-gray-700",children:r.jsx("strong",{children:"All fees are non-refundable, except security deposit which is refundable as per Clause 23."})})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"4. Partner Obligations"}),r.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall:"}),r.jsxs("ul",{className:"space-y-3 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Maintain professional behaviour at all times."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Deliver high-quality, safe, and lawful services."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Carry valid Partner ID during every service."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"Reach customer location on time."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),r.jsx("span",{children:"Provide correct service estimates before starting work."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),r.jsx("span",{children:"Maintain hygiene, wear uniform/ID (if provided)."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),r.jsx("span",{children:"Not engage in misconduct, harassment, abuse, threats, or illegal activity."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"h)"}),r.jsx("span",{children:"Maintain tools and ensure safe operation."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"i)"}),r.jsx("span",{children:"Not demand cash payments directly from customers."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"j)"}),r.jsx("span",{className:"text-red-600 font-semibold",children:"Not solicit or accept off-platform work (strict penalty)."})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"5. Pricing, Estimates & Billing"}),r.jsxs("ul",{className:"space-y-3 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Partner must follow NEXO pricing structure and guidelines."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Any additional work must be pre-approved through the Platform."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Partner shall not overcharge or misrepresent pricing."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"All payments shall be processed solely through NEXO."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),r.jsx("span",{children:"Partner is responsible for issuing bills/invoices where required by law."})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"6. Platform Commission & Deductions"}),r.jsx("p",{className:"text-gray-700 mb-4",children:"Partner agrees to the following deductions:"}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:r.jsxs("ul",{className:"space-y-2 text-gray-700",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Jt,{className:"text-red-500"}),r.jsx("span",{children:"Platform Commission (%)"})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Jt,{className:"text-red-500"}),r.jsx("span",{children:"Lead Cost per lead"})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Jt,{className:"text-red-500"}),r.jsx("span",{children:"GST applicable on Platform Commission"})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Jt,{className:"text-red-500"}),r.jsx("span",{children:"Penalties & Fines"})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Jt,{className:"text-red-500"}),r.jsx("span",{children:"TDS (if applicable)"})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Jt,{className:"text-red-500"}),r.jsx("span",{children:"Outstanding dues from previous jobs"})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(Jt,{className:"text-red-500"}),r.jsx("span",{children:"MG Plan adjustments"})]})]})}),r.jsx("p",{className:"text-gray-700 font-semibold",children:"All deductions shall be final and binding."})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx(mu,{className:"text-yellow-500"}),"7. Mandatory Safety Requirements"]}),r.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall:"}),r.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Follow safety protocols prescribed by NEXO."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Use proper tools and protective equipment."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Not perform services beyond skill level or without proper safety."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"Not endanger customer, property, or themselves."})]})]}),r.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[r.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Failure may result in:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[r.jsx("li",{children:"Immediate suspension"}),r.jsx("li",{children:"Penalty up to 5,000"}),r.jsx("li",{children:"Legal action for damages"})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"8. Customer Safety & Code of Conduct"}),r.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner must strictly adhere to:"}),r.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"No harassment (verbal, physical, emotional)"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"No misbehaviour, disrespect, abusive language"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"No consumption of alcohol/drugs on duty"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"No theft, damage, or misconduct"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),r.jsx("span",{children:"No photography or unauthorised recording at customer premises"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),r.jsx("span",{children:"No requesting personal favours or discounts"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),r.jsx("span",{children:"No entering restricted areas without consent"})]})]}),r.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[r.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Any violation may lead to:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[r.jsx("li",{children:"Permanent termination"}),r.jsx("li",{children:"Police complaint"}),r.jsx("li",{children:"Forfeiture of dues and deposits"}),r.jsx("li",{children:"Penalties up to 25,000"})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.9},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"9. Punctuality & Attendance"}),r.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Partner must accept bookings only if available."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Must reach customer location on time."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Any delay beyond 20 minutes must be informed."})]})]}),r.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:[r.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Repeated delays may lead to:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[r.jsx("li",{children:"50200 penalty per incident"}),r.jsx("li",{children:"Reduced lead allocation"}),r.jsx("li",{children:"Temporary suspension"})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8 border-2 border-red-200",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-red-600 mb-4",children:"10. No Offline Deals (Strictly Prohibited)"}),r.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall not:"}),r.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-red-600 font-bold mt-1",children:""}),r.jsx("span",{children:"Ask customer to cancel platform booking"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-red-600 font-bold mt-1",children:""}),r.jsx("span",{children:"Offer lower pricing for offline work"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-red-600 font-bold mt-1",children:""}),r.jsx("span",{children:"Share personal phone number for future services"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-red-600 font-bold mt-1",children:""}),r.jsx("span",{children:"Accept cash or direct payments"})]})]}),r.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[r.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Penalty:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[r.jsx("li",{children:"5,000 minimum"}),r.jsx("li",{children:"Permanent termination"}),r.jsx("li",{children:"Deduction from wallet and MG plan"}),r.jsx("li",{children:"Legal action for business loss"})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.1},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"11. Service Quality & Returns"}),r.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner must ensure:"}),r.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"High-quality workmanship"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Correct problem diagnosis"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"Use of original parts (if applicable)"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),r.jsx("span",{children:"Guarantee service quality as per NEXO policy"})]})]}),r.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:[r.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Poor work or customer complaints may attract:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[r.jsx("li",{children:"Rework without charges"}),r.jsx("li",{children:"Penalty from 1001,000"}),r.jsx("li",{children:"Suspension on repeated offences"})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.2},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"12. Damage, Theft, or Loss"}),r.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall be fully liable for:"}),r.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Damage to customer property"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Theft or loss at customer premises"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Fire, accident, or injury caused due to Partner negligence"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"Incorrect installation or unsafe practices"})]})]}),r.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[r.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Recovery will be made through:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[r.jsx("li",{children:"Partner wallet"}),r.jsx("li",{children:"Security deposit"}),r.jsx("li",{children:"MG payouts"}),r.jsx("li",{children:"Legal recovery"})]}),r.jsx("p",{className:"text-gray-800 font-semibold mt-3",children:"Police FIR may be filed for severe cases."})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.3},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"13. Fraudulent Activities"}),r.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Strictly prohibited:"}),r.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Faking job completion"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"False OTP entry"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Manipulating customer rating"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"Overcharging"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),r.jsx("span",{children:"Providing false documents"})]})]}),r.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[r.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Penalty:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[r.jsx("li",{children:"Up to 25,000"}),r.jsx("li",{children:"Permanent removal"}),r.jsx("li",{children:"Legal prosecution"})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.4},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"14. Penalty Structure"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-primary text-white",children:[r.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"Violation"}),r.jsx("th",{className:"border border-gray-300 px-4 py-3 text-left",children:"Penalty"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Late arrival"}),r.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"50200"})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Job rejection after acceptance"}),r.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"100300"})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Misbehaviour"}),r.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"1,0005,000"})]}),r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"Unsafe work"}),r.jsx("td",{className:"border border-gray-300 px-4 py-3",children:"2,000"})]}),r.jsxs("tr",{className:"hover:bg-red-50",children:[r.jsx("td",{className:"border border-gray-300 px-4 py-3 font-semibold text-red-600",children:"Offline deal"}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 font-semibold text-red-600",children:"5,000+ termination"})]}),r.jsxs("tr",{className:"hover:bg-red-50",children:[r.jsx("td",{className:"border border-gray-300 px-4 py-3 font-semibold text-red-600",children:"Theft/misconduct"}),r.jsx("td",{className:"border border-gray-300 px-4 py-3 font-semibold text-red-600",children:"Legal action + termination"})]})]})]})}),r.jsx("p",{className:"text-gray-700 mt-4 italic",children:"NEXO reserves the right to modify penalties anytime."})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.5},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"15. Partner Wallet & Settlement"}),r.jsx("p",{className:"text-gray-700 mb-4",children:"Deductions will be applied in the following order:"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-700 ml-4",children:[r.jsx("li",{children:"Penalties"}),r.jsx("li",{children:"Platform Commission"}),r.jsx("li",{children:"Lead cost"}),r.jsx("li",{children:"MG plan adjustments"}),r.jsx("li",{children:"Pending dues"})]}),r.jsx("p",{className:"text-gray-700 mt-4",children:"Settlement cycles will be weekly or as updated by NEXO."})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.6},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"16. MG Plan (Minimum Guarantee)"}),r.jsxs("ul",{className:"space-y-3 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"MG plan is optional or mandatory as per category."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"MG provides priority leads based on plan."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"MG fee is non-refundable."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"Partner failing to meet service quality/minimum performance may lose MG benefits without refund."})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.7},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"17. Ratings & Reviews"}),r.jsxs("ul",{className:"space-y-3 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Partner must maintain minimum rating (e.g., 4.0)."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Low ratings may result in reduced leads or suspension."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"False or manipulated ratings are punishable."})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.8},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"18. Use of Platform & Technology"}),r.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Partner shall:"}),r.jsxs("ul",{className:"space-y-3 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Keep app updated"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Not misuse customer data"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Not reverse engineer, hack, or modify NEXO systems"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"Use genuine documents only"})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.9},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"19. Termination"}),r.jsx("p",{className:"text-gray-700 mb-4",children:"NEXO may terminate partner access without notice for:"}),r.jsxs("ul",{className:"space-y-2 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Misconduct"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Fraud"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Unsafe behaviour"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"Low performance"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),r.jsx("span",{children:"Offline deals"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),r.jsx("span",{children:"Customer complaints"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),r.jsx("span",{children:"Violation of any Terms"})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:2},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"20. Security Deposit Refund"}),r.jsx("p",{className:"text-gray-700 mb-4",children:"Refund only upon:"}),r.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"30-day notice period"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Return of toolkit (if applicable)"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"No pending dues or penalties"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"No active customer complaints"})]})]}),r.jsx("p",{className:"text-gray-700 font-semibold",children:"Refund processing time: 2145 working days."})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:2.1},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"21. Dispute Resolution"}),r.jsxs("div",{className:"space-y-3 text-gray-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Jurisdiction:"})," Bangalore, Karnataka"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Governing Law:"})," Laws of India"]}),r.jsx("p",{className:"mt-4",children:r.jsx("strong",{children:"Method:"})}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsx("li",{children:"Internal review"}),r.jsx("li",{children:"Mediation"}),r.jsx("li",{children:"Arbitration (if required)"})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:2.2},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"22. Amendments"}),r.jsx("p",{className:"text-gray-700",children:"NEXO reserves the right to change Terms anytime. Continued use of the Platform constitutes acceptance."})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:2.3},className:"mb-12",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Questions or Concerns?"}),r.jsx("p",{className:"text-white/90 mb-4",children:"If you have any questions about these Terms & Conditions, please contact us at:"}),r.jsx("p",{className:"text-white font-semibold",children:"Email: support@nexo.works"})]})})]})]})]}),_q=()=>r.jsxs(r.Fragment,{children:[r.jsx(Ba,{title:"Customer Terms & Conditions | NEXO",description:"Customer Terms & Conditions for using NEXO platform. Read our comprehensive terms covering bookings, payments, cancellations, and customer rights.",keywords:"customer terms, user terms, NEXO terms and conditions, customer agreement"}),r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"bg-white/20 rounded-full p-4",children:r.jsx(a0,{className:"w-12 h-12"})})}),r.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Customer Terms & Conditions"}),r.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"Effective Date: 15 Nov 2025 | Last Updated: 15 Nov 2025"})]})})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx(EI,{className:"text-primary"}),"1. Introduction"]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:'These Customer Terms & Conditions ("Terms") constitute a legally binding agreement between NEXO ("Company", "Platform", "We", "Us") and any individual or entity ("Customer", "You") who accesses, uses, or avails any service listed on the NEXO mobile application, website, or WhatsApp service platform.'}),r.jsx("p",{className:"text-gray-700 leading-relaxed mt-4 font-semibold",children:"By using or accessing the Platform, You agree to be bound by these Terms."})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"2. Eligibility"}),r.jsx("p",{className:"text-gray-700 mb-4",children:"By using the Platform, You confirm:"}),r.jsxs("ul",{className:"space-y-3 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"You are at least 18 years old;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"You are legally competent to enter into contracts;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Information provided by You is true and accurate;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"You are availing services for lawful purposes only."})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"3. Nature of Services"}),r.jsxs("ul",{className:"space-y-3 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:'NEXO is an aggregator, facilitating connections between Customers and independent service professionals ("Partners").'})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"NEXO does not employ, control, or supervise Partners."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Services are rendered solely by the Partner, and NEXO is only a facilitating platform."})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"4. Customer Obligations"}),r.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Customer agrees to:"}),r.jsxs("ul",{className:"space-y-3 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Provide correct service address, contact details, and description of work;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Ensure availability of an adult at service location;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Verify Partner identity before granting access;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"Provide safe, hazard-free environment;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),r.jsx("span",{className:"text-red-600 font-semibold",children:"Not request or engage Partners for offline jobs outside the Platform;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),r.jsx("span",{children:"Treat Partners respectfully and refrain from abusive, unlawful, or threatening behaviour;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),r.jsx("span",{children:"Ensure payment is made only through NEXO."})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"5. Booking, Cancellation & Rescheduling"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5.1 Booking Confirmation"}),r.jsx("p",{className:"text-gray-700",children:"A booking is confirmed only upon completion of the applicable Visiting Fee, Service Fee, or pre-payment as required."})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5.2 Cancellation by Customer"}),r.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 mb-4",children:r.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Free cancellation within 15 minutes of booking."})}),r.jsx("p",{className:"text-gray-700 mb-3",children:"After 15 minutes, cancellation charges apply:"}),r.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Before dispatch  50% of visiting fee"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"After Partner dispatch  full visiting fee + 50 penalty"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"After Partner arrival  full visiting fee + applicable labour charges (if work has begun)"})]})]}),r.jsx("p",{className:"text-gray-700 mt-3 font-semibold text-red-600",children:"Repeated cancellations may lead to suspension."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5.3 Rescheduling"}),r.jsxs("ul",{className:"space-y-2 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Be,{className:"text-green-500 mt-1"}),r.jsx("span",{children:"Free one-time reschedule if requested at least 60 minutes before service."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Jt,{className:"text-yellow-500 mt-1"}),r.jsx("span",{children:"Subsequent reschedules may attract fee up to 50."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Jt,{className:"text-red-500 mt-1"}),r.jsx("span",{children:"Rescheduling is not permitted once Partner arrives."})]})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"6. Service Charges & Payments"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6.1 Charges"}),r.jsx("p",{className:"text-gray-700 mb-3",children:"Charges include:"}),r.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Visiting Fee"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Labour charges"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Service fee"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"Additional work approved by Customer"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),r.jsx("span",{children:"Cost of materials (if used)"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),r.jsx("span",{children:"Government taxes including GST"})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6.2 Payment Method"}),r.jsxs("ul",{className:"space-y-2 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Be,{className:"text-green-500 mt-1"}),r.jsx("span",{children:"All payments must be processed through the NEXO Platform."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Jt,{className:"text-red-500 mt-1"}),r.jsx("span",{className:"text-red-600 font-semibold",children:"Direct cash/card payments to Partner are strictly prohibited."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(mu,{className:"text-yellow-500 mt-1"}),r.jsx("span",{children:"NEXO is not responsible for any offline payments made by Customer."})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6.3 Final Invoice"}),r.jsx("p",{className:"text-gray-700",children:"Final charges may vary from initial estimate after inspection by Partner."})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx(yh,{className:"text-primary"}),"7. Safety, Security & Conduct"]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"7.1 Customer Safety Rights"}),r.jsx("p",{className:"text-gray-700 mb-3",children:"Customer may:"}),r.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Ask for Partner ID verification"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Refuse entry if Partner identity appears suspicious"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Report misconduct immediately"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"Request replacement of Partner if uncomfortable"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"7.2 Customer Responsibilities"}),r.jsx("p",{className:"text-gray-700 mb-3",children:"Customer must ensure:"}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"Home is safe for work"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"Pets/children are supervised"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"Valuables are secured"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"Clear working access for Partner"})]})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"8. Service Quality & Warranty"}),r.jsxs("ul",{className:"space-y-3 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"NEXO does not provide warranty on services unless explicitly mentioned."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Workmanship warranty (if any) is provided solely by the Partner."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Customer must inspect work upon completion before payment."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"Any rework request must be raised within 24 hours (if applicable)."})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.9},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8 border-2 border-red-200",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-red-600 mb-4",children:"9. Prohibited Activities"}),r.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"Customer shall not:"}),r.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-red-600 font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Harass, abuse, threaten, or intimidate Partners;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-red-600 font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Engage in discriminatory or unlawful behaviour;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-red-600 font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Request services that are illegal or unsafe;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-red-600 font-bold mt-1",children:"d)"}),r.jsx("span",{children:"Ask for personal contact of Partner;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-red-600 font-bold mt-1",children:"e)"}),r.jsx("span",{children:"Request offline or private service outside the Platform;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-red-600 font-bold mt-1",children:"f)"}),r.jsx("span",{children:"Record Partner without consent;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-red-600 font-bold mt-1",children:"g)"}),r.jsx("span",{children:"Provide false complaints or fraudulent claims."})]})]}),r.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:[r.jsx("p",{className:"text-gray-800 font-semibold mb-2",children:"Violation may result in:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[r.jsx("li",{children:"Account suspension"}),r.jsx("li",{children:"Legal action"}),r.jsx("li",{children:"Service denial"}),r.jsx("li",{children:"Blacklisting"})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"10. Liability & Damages"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"10.1 Customer Responsibility"}),r.jsx("p",{className:"text-gray-700 mb-3",children:"Customer is responsible for:"}),r.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-primary",children:""}),r.jsx("span",{children:"Securing valuables"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-primary",children:""}),r.jsx("span",{children:"Providing accurate service details"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-primary",children:""}),r.jsx("span",{children:"Ensuring safe working conditions"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-primary",children:""}),r.jsx("span",{children:"Reviewing work before job closure"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"10.2 NEXO's Liability Limitation"}),r.jsx("p",{className:"text-gray-700 mb-3",children:"NEXO is not liable for:"}),r.jsxs("ul",{className:"space-y-2 text-gray-700 ml-4",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Any theft, loss, or damage caused by Partner;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Delays, cancellations, or non-performance by Partner;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Damages arising due to incorrect information provided by Customer;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"Losses from natural wear & tear or misuse;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),r.jsx("span",{children:"Electrical/plumbing faults not directly caused by Partner;"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),r.jsx("span",{children:"Third-party or material failures."})]})]}),r.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-4",children:r.jsx("p",{className:"text-gray-800 font-semibold",children:"NEXO's liability, if any, shall not exceed the service fee paid."})})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.1},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx(OI,{className:"text-primary"}),"11. Partner Misconduct or Issues"]}),r.jsx("p",{className:"text-gray-700 mb-4",children:"If Partner misbehaviour or misconduct is reported (with proof):"}),r.jsxs("ul",{className:"space-y-3 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Be,{className:"text-green-500 mt-1"}),r.jsx("span",{children:"Immediate review will be conducted"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Be,{className:"text-green-500 mt-1"}),r.jsx("span",{children:"Partner may be suspended"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Be,{className:"text-green-500 mt-1"}),r.jsx("span",{children:"Replacement may be arranged"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Be,{className:"text-green-500 mt-1"}),r.jsx("span",{children:"Refunds (if applicable) may be processed"})]})]}),r.jsx("p",{className:"text-gray-700 mt-4 font-semibold",children:"For severe offences, NEXO may file a police complaint."})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.2},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"12. Data Privacy"}),r.jsx("p",{className:"text-gray-700 mb-3",children:"Customer data will be used in accordance with NEXO's Privacy Policy."}),r.jsx("p",{className:"text-gray-700",children:"Customer agrees to receive booking updates, OTPs, notifications, and promotional messages."})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.3},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"13. Intellectual Property Rights"}),r.jsx("p",{className:"text-gray-700 mb-3",children:"All content, branding, design, and material on the Platform is owned by NEXO."}),r.jsx("p",{className:"text-gray-700",children:"Copying, distributing, or modifying Platform content without written permission is prohibited."})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.4},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"14. Termination of Account"}),r.jsx("p",{className:"text-gray-700 mb-4",children:"NEXO may deactivate or terminate Customer account without notice for:"}),r.jsxs("ul",{className:"space-y-2 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Fraudulent behaviour"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Misuse of Platform"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Harassment of Partner"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"Repeated cancellations"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),r.jsx("span",{children:"Illegal activity"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),r.jsx("span",{children:"Violation of any Terms"})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.5},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"15. Dispute Resolution"}),r.jsxs("ul",{className:"space-y-3 text-gray-700 mb-4",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Raise complaint within 24 hours of service."})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Disputes shall be resolved via:"})]})]}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-8 mb-4",children:[r.jsx("li",{children:"Support escalation"}),r.jsx("li",{children:"Mediation"}),r.jsx("li",{children:"Arbitration"})]}),r.jsxs("div",{className:"space-y-2 text-gray-700",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"c)"})," Jurisdiction: Bangalore, Karnataka"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"d)"})," Governing Law: Laws of India"]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.6},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"16. Force Majeure"}),r.jsx("p",{className:"text-gray-700",children:"NEXO is not liable for delays/failures caused by events outside reasonable control including weather, traffic, strikes, pandemics, accidents, or natural disasters."})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.7},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"17. Amendments"}),r.jsx("p",{className:"text-gray-700",children:"NEXO may modify these Terms at any time. Updates will be notified, and continued usage constitutes acceptance."})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.8},className:"mb-12",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Questions or Concerns?"}),r.jsx("p",{className:"text-white/90 mb-4",children:"If you have any questions about these Terms & Conditions, please contact us at:"}),r.jsx("p",{className:"text-white font-semibold",children:"Email: support@nexo.works"})]})})]})]})]}),Iq=()=>r.jsxs(r.Fragment,{children:[r.jsx(Ba,{title:"Privacy Policy | NEXO",description:"NEXO Privacy Policy - Learn how we collect, use, store, and protect your personal information across our platform.",keywords:"privacy policy, data protection, NEXO privacy, user data, data security"}),r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"bg-white/20 rounded-full p-4",children:r.jsx(yh,{className:"w-12 h-12"})})}),r.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Privacy Policy"}),r.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"Effective Date: 15 Nov 2025"})]})})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx(a0,{className:"text-primary"}),"1. Introduction"]}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:'This Privacy Policy explains how NEXO collects, uses, stores, and protects Customer, Partner, and user data across mobile app, website, and WhatsApp ("Platform").'}),r.jsx("p",{className:"text-gray-700 leading-relaxed mt-4 font-semibold",children:"By using the Platform, you agree to this Policy."})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx(rq,{className:"text-primary"}),"2. Information We Collect"]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2.1 Personal Information"}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"Name"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"Phone number"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"Email"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"Address & location"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"OTP verification"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"Device details"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-yellow-500"}),r.jsx("span",{className:"italic",children:"ID proof (Partners only)"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-yellow-500"}),r.jsx("span",{className:"italic",children:"Bank details (Partners only)"})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2.2 Usage Information"}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-blue-500"}),r.jsx("span",{children:"Browsing behaviour"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-blue-500"}),r.jsx("span",{children:"Clickstream"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-blue-500"}),r.jsx("span",{children:"Transaction data"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-blue-500"}),r.jsx("span",{children:"Service history"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-blue-500"}),r.jsx("span",{children:"Communication logs (WhatsApp/chat/call)"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-blue-500"}),r.jsx("span",{children:"IP address"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2.3 Location Data"}),r.jsx("p",{className:"text-gray-700",children:"For service allocation and partner tracking."})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"3. How We Use Information"}),r.jsx("p",{className:"text-gray-700 mb-4",children:"We use information for:"}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Booking and service fulfillment"})]}),r.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Identity verification"})]}),r.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Customer support"})]}),r.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"Fraud prevention"})]}),r.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),r.jsx("span",{children:"Partner allocation & tracking"})]}),r.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"f)"}),r.jsx("span",{children:"Payment processing"})]}),r.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"g)"}),r.jsx("span",{children:"Safety and dispute resolution"})]}),r.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"h)"}),r.jsx("span",{children:"Marketing & promotional messages"})]}),r.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"i)"}),r.jsx("span",{children:"Legal compliance"})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx(cq,{className:"text-primary"}),"4. Data Sharing"]}),r.jsx("p",{className:"text-gray-700 mb-4",children:"We share limited data with:"}),r.jsxs("ul",{className:"space-y-3 text-gray-700 mb-6",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Partners for service delivery"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Payment gateways"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Background verification agencies"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"Marketing automation tools (e.g., AiSensy)"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"e)"}),r.jsx("span",{children:"Law enforcement (upon request)"})]})]}),r.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4",children:r.jsxs("p",{className:"text-gray-800 font-semibold flex items-center gap-2",children:[r.jsx(Be,{className:"text-green-500"}),"We never sell personal data."]})})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx(_I,{className:"text-primary"}),"5. Data Security"]}),r.jsx("p",{className:"text-gray-700 mb-4",children:"We implement:"}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-3 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"Encryption"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"Secured servers"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"Access restrictions"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"Fraud detection tools"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Be,{className:"text-green-500"}),r.jsx("span",{children:"OTP-based authentication"})]})]}),r.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:r.jsxs("p",{className:"text-gray-800 font-semibold flex items-center gap-2",children:[r.jsx(mu,{className:"text-yellow-500"}),"However, no system is 100% secure."]})})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"6. WhatsApp Data Usage"}),r.jsx("p",{className:"text-gray-700 mb-4",children:"Usage of WhatsApp APIs (including AiSensy) includes:"}),r.jsxs("ul",{className:"space-y-3 text-gray-700 mb-4",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Be,{className:"text-green-500 mt-1"}),r.jsx("span",{children:"Sending booking updates"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Be,{className:"text-green-500 mt-1"}),r.jsx("span",{children:"Sending notifications"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Be,{className:"text-green-500 mt-1"}),r.jsx("span",{children:"Sending promotional content"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Be,{className:"text-green-500 mt-1"}),r.jsx("span",{children:"Customerpartner communication"})]})]}),r.jsx("p",{className:"text-gray-700 font-semibold",children:"All messages follow WhatsApp's commerce policies."})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx(tq,{className:"text-primary"}),"7. Cookies & Tracking"]}),r.jsx("p",{className:"text-gray-700",children:"Used for analytics, personalization, and fraud prevention."})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx(OI,{className:"text-primary"}),"8. User Rights"]}),r.jsx("p",{className:"text-gray-700 mb-4",children:"Users may request:"}),r.jsxs("ul",{className:"space-y-3 text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"a)"}),r.jsx("span",{children:"Data access"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"b)"}),r.jsx("span",{children:"Data correction"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"c)"}),r.jsx("span",{children:"Data deletion (subject to legal limits)"})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-primary font-bold mt-1",children:"d)"}),r.jsx("span",{children:"Opt-out of marketing messages"})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.9},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"9. Third-Party Links"}),r.jsx("p",{className:"text-gray-700",children:"External links have separate privacy policies; NEXO is not responsible for third-party practices."})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"10. Children's Privacy"}),r.jsx("p",{className:"text-gray-700",children:"Platform is not intended for children under age 18."})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.1},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"11. Amendments"}),r.jsx("p",{className:"text-gray-700",children:"We may update this Policy; changes posted on website/app become effective immediately."})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.2},className:"mb-12",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Questions About Privacy?"}),r.jsx("p",{className:"text-white/90 mb-4",children:"If you have any questions about this Privacy Policy or wish to exercise your rights, please contact us at:"}),r.jsx("p",{className:"text-white font-semibold mb-2",children:"Email: support@nexo.works"}),r.jsx("p",{className:"text-white/80 text-sm",children:"For data access, correction, or deletion requests, please include your registered email or phone number."})]})})]})]})]}),Oq=()=>r.jsxs(r.Fragment,{children:[r.jsx(Ba,{title:"Customer Refund Policy | NEXO",description:"NEXO Customer Refund Policy - Learn about refund eligibility, non-refundable fees, refund processing times, and refund methods.",keywords:"refund policy, customer refund, NEXO refund, refund eligibility, refund processing"}),r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"bg-white/20 rounded-full p-4",children:r.jsx(a0,{className:"w-12 h-12"})})}),r.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Customer Refund Policy"}),r.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"NEXO - Fair & Transparent Refund Process"})]})})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx(Be,{className:"text-green-500"}),"1. Eligibility for Refund"]}),r.jsx("p",{className:"text-gray-700 mb-4",children:"A customer is eligible for a refund only in the following cases:"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[r.jsx(Be,{className:"text-green-500 mt-1 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",children:"Partner fails to arrive within the committed time window."})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[r.jsx(Be,{className:"text-green-500 mt-1 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",children:"Service not initiated due to partner unavailability / NEXO internal issue."})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[r.jsx(Be,{className:"text-green-500 mt-1 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",children:"Service not delivered due to NEXO's fault, such as system failure or incorrect partner assignment."})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[r.jsx(Be,{className:"text-green-500 mt-1 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",children:"Duplicate payment made by the customer."})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[r.jsx(Be,{className:"text-green-500 mt-1 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",children:"Overcharging due to system or billing error."})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8 border-2 border-red-200",children:[r.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-red-600 mb-4 flex items-center gap-3",children:[r.jsx(Jt,{className:"text-red-600"}),"2. Non-Refundable Fees"]}),r.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"The following charges are strictly non-refundable:"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[r.jsx(Jt,{className:"text-red-500 mt-1 flex-shrink-0"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("strong",{children:"Visiting Fee"}),", once the partner has arrived at the customer location."]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[r.jsx(Jt,{className:"text-red-500 mt-1 flex-shrink-0"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("strong",{children:"Service Charge"})," (platform/processing fee)."]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[r.jsx(Jt,{className:"text-red-500 mt-1 flex-shrink-0"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("strong",{children:"Cancellation Fee"})," charged due to last-minute customer cancellation."]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[r.jsx(Jt,{className:"text-red-500 mt-1 flex-shrink-0"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("strong",{children:"Custom materials/parts"})," purchased exclusively for the customer's job."]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[r.jsx(Jt,{className:"text-red-500 mt-1 flex-shrink-0"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("strong",{children:"Any penalties"})," applied due to customer behaviour or policy violation."]})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx(xo,{className:"text-primary"}),"3. Refund Time (Customer)"]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-5 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx($p,{className:"text-blue-500"}),"Refund to NEXO Wallet:"]}),r.jsx("p",{className:"text-gray-700 text-lg font-semibold",children:"Instant to 24 hours."})]}),r.jsxs("div",{className:"p-5 bg-purple-50 rounded-lg border-l-4 border-purple-500",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx($p,{className:"text-purple-500"}),"Refund to Bank Account / UPI:"]}),r.jsx("p",{className:"text-gray-700 text-lg font-semibold",children:"37 working days, depending on bank processing timelines."})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"4. Mode of Refund"}),r.jsx("p",{className:"text-gray-700 mb-4",children:"Refund will be processed via:"}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[r.jsx(Be,{className:"text-green-500 text-xl"}),r.jsx("span",{className:"text-gray-700 font-semibold",children:"NEXO Wallet"})]}),r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[r.jsx(Be,{className:"text-green-500 text-xl"}),r.jsx("span",{className:"text-gray-700 font-semibold",children:"Source Account (UPI/Card/Net Banking)"})]})]}),r.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:r.jsxs("p",{className:"text-gray-800 font-semibold flex items-center gap-2",children:[r.jsx(mu,{className:"text-red-500"}),"No cash refunds are permitted under any circumstances."]})})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx(XK,{className:"text-primary"}),"5. Material Purchase Refund"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[r.jsx("p",{className:"text-gray-700 mb-2",children:r.jsx("strong",{children:"Materials purchased by the partner on customer's request are not refundable once:"})}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 ml-4",children:[r.jsx("li",{children:"Opened"}),r.jsx("li",{children:"Installed"}),r.jsx("li",{children:"Used"}),r.jsx("li",{children:"Customized"})]})]}),r.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-400",children:r.jsxs("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"If unopened and vendor accepts returns,"})," only material cost may be refunded (vendor policies apply)."]})})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mb-12",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Need Help with Refunds?"}),r.jsx("p",{className:"text-white/90 mb-4",children:"If you believe you are eligible for a refund or have questions about our refund policy, please contact our support team:"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-white font-semibold",children:"Email: support@nexo.works"}),r.jsx("p",{className:"text-white/80 text-sm",children:"Please include your booking ID and a brief description of the issue for faster processing."})]})]})})]})]})]}),Dq=()=>r.jsxs(r.Fragment,{children:[r.jsx(Ba,{title:"Partner Refund Policy | NEXO",description:"NEXO Partner Refund Policy - Learn about refund eligibility, non-refundable items, refund processing times, and refund methods for partners.",keywords:"partner refund policy, NEXO partner refund, refund eligibility, partner refund processing"}),r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-primary via-primary-dark to-primary text-white py-16 sm:py-20",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"bg-white/20 rounded-full p-4",children:r.jsx(a0,{className:"w-12 h-12"})})}),r.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Partner Refund Policy"}),r.jsx("p",{className:"text-lg sm:text-xl text-white/90",children:"NEXO Partner Program - Fair & Transparent Refund Process"})]})})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx(Be,{className:"text-green-500"}),"1. Eligibility for Refund"]}),r.jsx("p",{className:"text-gray-700 mb-4",children:"A partner may receive a refund only for the following cases:"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[r.jsx(Be,{className:"text-green-500 mt-1 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",children:"Duplicate payment made by the partner."})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[r.jsx(Be,{className:"text-green-500 mt-1 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",children:"Wallet deduction error due to a system glitch."})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[r.jsx(Be,{className:"text-green-500 mt-1 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",children:"Overcharged commission or lead deduction due to technical error."})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-400",children:[r.jsx(Be,{className:"text-yellow-500 mt-1 flex-shrink-0"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("strong",{children:"MG Plan or Subscription"}),"  Refund only if partner has not activated or taken any job (within 24 hours of purchase)."]})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8 border-2 border-red-200",children:[r.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-red-600 mb-4 flex items-center gap-3",children:[r.jsx(Jt,{className:"text-red-600"}),"2. Non-Refundable Items"]}),r.jsx("p",{className:"text-gray-700 mb-4 font-semibold",children:"The following are strictly non-refundable:"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[r.jsx(Jt,{className:"text-red-500 mt-1 flex-shrink-0"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("strong",{children:"Minimum Guarantee (MG) Plans"}),", once activated or once a job is assigned."]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[r.jsx(Jt,{className:"text-red-500 mt-1 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",children:r.jsx("strong",{children:"Registration fees"})})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[r.jsx(Jt,{className:"text-red-500 mt-1 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",children:r.jsx("strong",{children:"Toolkit fees"})})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-400",children:[r.jsx(mu,{className:"text-yellow-500 mt-1 flex-shrink-0"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("strong",{children:"Security deposit"})," (refundable only at exit with conditions)"]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[r.jsx(Jt,{className:"text-red-500 mt-1 flex-shrink-0"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("strong",{children:"Lead cost"})," deducted for job views, accepts, or responses."]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[r.jsx(Jt,{className:"text-red-500 mt-1 flex-shrink-0"}),r.jsxs("span",{className:"text-gray-700",children:[r.jsx("strong",{children:"Penalties"})," for cancellations, no-show, customer complaints."]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg border-l-4 border-red-500",children:[r.jsx(Jt,{className:"text-red-500 mt-1 flex-shrink-0"}),r.jsxs("span",{className:"text-gray-700",children:["Any ",r.jsx("strong",{children:"custom kit, merchandise, uniform, or device cost"}),"."]})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4 flex items-center gap-3",children:[r.jsx(xo,{className:"text-primary"}),"3. Refund Time (Partner)"]}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"p-5 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx($p,{className:"text-blue-500"}),"Wallet Refunds:"]}),r.jsx("p",{className:"text-gray-700 text-lg font-semibold",children:"Instant to 24 hours"})]}),r.jsxs("div",{className:"p-5 bg-purple-50 rounded-lg border-l-4 border-purple-500",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx($p,{className:"text-purple-500"}),"Bank Refunds:"]}),r.jsx("p",{className:"text-gray-700 text-lg font-semibold",children:"37 working days"})]})]})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"4. Mode of Refund"}),r.jsx("p",{className:"text-gray-700 mb-4",children:"Refund will be processed to:"}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[r.jsx(Be,{className:"text-green-500 text-xl"}),r.jsx("span",{className:"text-gray-700 font-semibold",children:"Partner Wallet"})]}),r.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[r.jsx(Be,{className:"text-green-500 text-xl"}),r.jsx("span",{className:"text-gray-700 font-semibold",children:"Original payment mode (UPI/Card/Net Banking)"})]})]}),r.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:r.jsxs("p",{className:"text-gray-800 font-semibold flex items-center gap-2",children:[r.jsx(mu,{className:"text-red-500"}),"Cash refunds are not permitted."]})})]})}),r.jsx(E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-12",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary-dark rounded-lg shadow-lg p-6 sm:p-8 text-white",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Need Help with Refunds?"}),r.jsx("p",{className:"text-white/90 mb-4",children:"If you believe you are eligible for a refund or have questions about our refund policy, please contact our partner support team:"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-white font-semibold",children:"Email: support@nexo.works"}),r.jsx("p",{className:"text-white/80 text-sm",children:"Please include your Partner ID and a brief description of the issue for faster processing."})]})]})})]})]})]}),An=({className:e="",variant:t="default"})=>{const s=t==="light",a=s?"#FFFFFF":"#214A73",n=s?"text-white":"text-primary",i=s?"text-white/80":"text-primary/80",l={initial:{scale:1,rotate:0},animate:{rotate:360,scale:[1,1.05,1],transition:{rotate:{duration:8,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}}},hover:{scale:1.15,rotate:[0,360],transition:{duration:.6,ease:"easeOut"}}},o={initial:{opacity:.7},animate:{opacity:[.7,1,.7],strokeWidth:[3,3.5,3],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}},c={initial:{scale:1,rotate:0},animate:{scale:[1,1.3,1],rotate:-360,transition:{scale:{duration:1.5,repeat:1/0,ease:"easeInOut"},rotate:{duration:5,repeat:1/0,ease:"linear"}}}};return r.jsxs("div",{className:`flex items-center gap-3 ${e}`,children:[r.jsx(E.div,{className:"relative w-12 h-12 flex items-center justify-center",variants:l,initial:"initial",animate:"animate",whileHover:"hover",children:r.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{filter:"drop-shadow(0 0 4px rgba(33, 74, 115, 0.3))"},children:[r.jsx(E.path,{d:"M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z",stroke:a,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:o,initial:"initial",animate:"animate"}),r.jsx(E.path,{d:"M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z",stroke:a,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:o,initial:"initial",animate:"animate",transition:{delay:.2}}),r.jsx(E.path,{d:"M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z",stroke:a,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:o,initial:"initial",animate:"animate",transition:{delay:.4}}),r.jsx(E.path,{d:"M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z",stroke:a,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:o,initial:"initial",animate:"animate",transition:{delay:.6}}),r.jsx(E.circle,{cx:"24",cy:"24",r:"4",fill:a,variants:c,initial:"initial",animate:"animate",style:{filter:"drop-shadow(0 0 6px rgba(33, 74, 115, 0.6))"}})]})}),r.jsxs(E.div,{className:"flex flex-col",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:[r.jsx(E.span,{className:`text-2xl font-bold ${n}`,whileHover:{scale:1.05},transition:{duration:.2},children:"Nexo"}),r.jsx(E.span,{className:`text-xs ${i} font-light`,animate:{opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"Connect. Work. Grow."})]})]})},LI=()=>{const e=ms(),t=Br();return{handleHashClick:(a,n)=>{a.preventDefault();const i=n.includes("#")?n.split("#")[1]:null;if(!i){e(n);return}t.pathname==="/"?(window.location.hash=i,setTimeout(()=>{const l=document.getElementById(i);l&&l.scrollIntoView({behavior:"smooth",block:"start"}),window.dispatchEvent(new HashChangeEvent("hashchange"))},50)):(e(`/#${i}`),setTimeout(()=>{const l=document.getElementById(i);l&&setTimeout(()=>{l.scrollIntoView({behavior:"smooth",block:"start"})},100)},100))}}},Mq=()=>{const[e,t]=g.useState(!1),[s,a]=g.useState(!1),[n,i]=g.useState(""),l=Br(),{handleHashClick:o}=LI();g.useEffect(()=>{const u=()=>{a(window.scrollY>20)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]),g.useEffect(()=>{const u=()=>{i(window.location.hash)};return u(),window.addEventListener("hashchange",u),l.hash&&i(l.hash),()=>{window.removeEventListener("hashchange",u)}},[l.hash]);const c=u=>{if(u==="/")return l.pathname==="/"&&!l.hash&&!n;if(u.startsWith("/#")){const m=u.substring(2),f=l.hash||n;return l.pathname==="/"&&(f===`#${m}`||f===m)}return l.pathname===u},d=[{name:"Home",path:"/"},{name:"Services",path:"/#services"},{name:"Emergency Service",path:"/emergency"},{name:"Material Store",path:"/materials"},{name:"Partner Program",path:"/partner"},{name:"AMC Plans",path:"/amc"},{name:"Lead Marketplace",path:"/leads"}];return r.jsxs(E.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.5},className:`fixed top-0 left-0 right-0 z-[9999] transition-all duration-300 w-full max-w-full overflow-x-hidden bg-white shadow-md ${s?"shadow-lg":""}`,children:[r.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none",children:r.jsx(E.div,{className:"absolute inset-0",style:{background:"linear-gradient(90deg, transparent 0%, rgba(33, 74, 115, 0.1) 50%, transparent 100%)"},animate:{x:["-100%","100%"]},transition:{duration:15,repeat:1/0,ease:"linear"}})}),r.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex items-center justify-between h-20",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsx(Wt,{to:"/",children:r.jsx(An,{variant:"default"})})})}),r.jsx("nav",{className:"hidden xl:flex items-center gap-1 flex-1 justify-center max-w-4xl mx-4",children:d.map((u,m)=>{const f=c(u.path);return r.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:m*.05},children:u.path.startsWith("/#")?r.jsxs("a",{href:u.path,onClick:h=>o(h,u.path),className:`relative px-3 py-2 text-sm font-medium transition-colors duration-200 whitespace-nowrap cursor-pointer ${f?"text-primary":"text-gray-700 hover:text-primary"}`,children:[u.name,f&&r.jsx(E.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary",layoutId:"navbar-indicator",initial:!1,transition:{type:"spring",stiffness:380,damping:30}})]}):r.jsxs(Wt,{to:u.path,className:`relative px-3 py-2 text-sm font-medium transition-colors duration-200 whitespace-nowrap ${f?"text-primary":"text-gray-700 hover:text-primary"}`,children:[u.name,f&&r.jsx(E.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary",layoutId:"navbar-indicator",initial:!1,transition:{type:"spring",stiffness:380,damping:30}})]})},u.name)})}),r.jsx("nav",{className:"hidden lg:flex xl:hidden items-center gap-1 flex-1 justify-center max-w-3xl mx-2",children:d.slice(0,5).map((u,m)=>{const f=c(u.path);return u.path.startsWith("/#")?r.jsx("a",{href:u.path,onClick:h=>o(h,u.path),className:`px-2 py-2 text-xs font-medium transition-colors duration-200 whitespace-nowrap cursor-pointer ${f?"text-primary":"text-gray-700 hover:text-primary"}`,children:u.name.length>15?u.name.substring(0,12)+"...":u.name},u.name):r.jsx(Wt,{to:u.path,className:`px-2 py-2 text-xs font-medium transition-colors duration-200 whitespace-nowrap ${f?"text-primary":"text-gray-700 hover:text-primary"}`,children:u.name.length>15?u.name.substring(0,12)+"...":u.name},u.name)})}),r.jsx("div",{className:"flex-shrink-0 flex items-center gap-3",children:r.jsx(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.3},className:"hidden lg:block",children:r.jsxs(Wt,{to:"/partner/onboard",className:"bg-primary text-white px-4 xl:px-5 py-2 xl:py-2.5 rounded-full hover:bg-primary-dark transition-all duration-300 font-semibold shadow-lg hover:shadow-xl flex items-center gap-2 text-xs xl:text-sm whitespace-nowrap",children:[r.jsx(ya,{className:"w-3 h-3 xl:w-4 xl:h-4"}),r.jsx("span",{className:"hidden 2xl:inline",children:"Become a Partner"}),r.jsx("span",{className:"2xl:hidden",children:"Partner"})]})})}),r.jsx(E.button,{onClick:()=>t(!e),className:"md:hidden focus:outline-none p-2 transition-colors duration-200 text-primary",whileHover:{scale:1.1},whileTap:{scale:.9},children:r.jsx(jc,{mode:"wait",children:e?r.jsx(E.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:r.jsx(Mw,{className:"h-6 w-6"})},"close"):r.jsx(E.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:r.jsx(qK,{className:"h-6 w-6"})},"menu")})})]}),r.jsx(jc,{children:e&&r.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden overflow-hidden",children:r.jsxs("div",{className:"py-4 space-y-2 border-t border-gray-200 mt-2",children:[d.map((u,m)=>{const f=c(u.path);return r.jsx(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:m*.1},children:u.path.startsWith("/#")?r.jsx("a",{href:u.path,onClick:h=>{o(h,u.path),t(!1)},className:`block px-4 py-3 rounded-lg transition-all duration-200 cursor-pointer ${f?"bg-primary/10 text-primary font-semibold":"text-gray-700 hover:bg-gray-100 hover:text-primary"}`,children:u.name}):r.jsx(Wt,{to:u.path,onClick:()=>t(!1),className:`block px-4 py-3 rounded-lg transition-all duration-200 ${f?"bg-primary/10 text-primary font-semibold":"text-gray-700 hover:bg-gray-100 hover:text-primary"}`,children:u.name})},u.name)}),r.jsx(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:d.length*.1},className:"pt-2 space-y-2",children:r.jsxs(Wt,{to:"/partner/onboard",onClick:()=>t(!1),className:"block mx-4 bg-primary text-white px-6 py-3 rounded-full text-center font-semibold shadow-lg flex items-center justify-center gap-2",children:[r.jsx(ya,{className:"w-4 h-4"}),"Become a Partner"]})})]})})})]})]})},Lq=()=>{const e=Di(),{handleHashClick:t}=LI(),s={company:[{name:"About Us",path:"/#about"},{name:"Services",path:"/#services"},{name:"Partner Program",path:"/partner"},{name:"Partner Login",path:"/partner/login"},{name:"Vendor Login",path:"/vendor/login"},{name:"AMC Plans",path:"/amc"}],legal:[{name:"Customer Terms",path:"/terms"},{name:"Partner Terms",path:"/partner-terms"},{name:"Privacy Policy",path:"/privacy"},{name:"Customer Refund Policy",path:"/refund-policy"},{name:"Partner Refund Policy",path:"/partner-refund-policy"}],resources:[{name:"Lead Marketplace",path:"/leads"},{name:"Material Store",path:"/materials"},{name:"Emergency Service",path:"/emergency"},{name:"Brand Partnerships",path:"/brand-partnerships"}]},a=[{icon:HK,href:"#",name:"Facebook"},{icon:KK,href:"#",name:"Twitter"},{icon:WK,href:"#",name:"Instagram"},{icon:GK,href:"#",name:"LinkedIn"}];return r.jsxs("footer",{className:"relative bg-gradient-to-br from-primary via-primary-dark to-primary text-white overflow-hidden pb-20 sm:pb-24",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx(E.div,{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"}})}),r.jsx(E.div,{className:"absolute top-0 left-0 w-64 h-64 bg-white/20 rounded-full blur-3xl",animate:{y:[0,-30,0],x:[0,20,0],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),r.jsx(E.div,{className:"absolute bottom-0 right-0 w-80 h-80 bg-yellow-300/20 rounded-full blur-3xl",animate:{y:[0,30,0],x:[0,-20,0],scale:[1,1.2,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1}}),[...Array(15)].map((n,i)=>r.jsx(E.div,{className:"absolute rounded-full z-0",style:{width:`${6+i%3*2}px`,height:`${6+i%3*2}px`,left:`${5+i*7%90}%`,top:`${10+i*6%80}%`,backgroundColor:"rgba(255, 255, 255, 0.4)"},animate:{y:[0,-60,0],x:[0,i%2===0?20:-20,0],opacity:[.4,.8,.4],scale:[1,1.8,1]},transition:{duration:7+i%4,repeat:1/0,ease:"easeInOut",delay:i*.3}},`small-${i}`)),[...Array(10)].map((n,i)=>r.jsx(E.div,{className:"absolute rounded-full blur-sm z-0",style:{width:`${12+i%2*4}px`,height:`${12+i%2*4}px`,left:`${8+i*9%85}%`,top:`${12+i*8%75}%`,backgroundColor:"rgba(255, 255, 255, 0.3)"},animate:{y:[0,-80,0],x:[0,i%2===0?30:-30,0],opacity:[.3,.6,.3],scale:[1,1.6,1]},transition:{duration:8+i%3*2,repeat:1/0,ease:"easeInOut",delay:i*.4}},`medium-${i}`)),[...Array(6)].map((n,i)=>r.jsx(E.div,{className:"absolute rounded-full blur-md z-0",style:{width:`${20+i%2*8}px`,height:`${20+i%2*8}px`,left:`${10+i*15%80}%`,top:`${15+i*12%70}%`,backgroundColor:"rgba(255, 255, 255, 0.2)"},animate:{y:[0,-100,0],x:[0,i%2===0?40:-40,0],opacity:[.2,.4,.2],scale:[1,1.4,1]},transition:{duration:10+i%3*2,repeat:1/0,ease:"easeInOut",delay:i*.6}},`large-${i}`)),r.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 sm:gap-12",children:[r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5},className:"col-span-1 lg:col-span-2",children:[r.jsx(An,{className:"mb-4",variant:"light"}),r.jsx("p",{className:"text-sm sm:text-base text-white/80 mt-4 mb-6 max-w-md",children:"Fast, reliable, and affordable home services. Connect with verified experts on WhatsApp."}),r.jsx("div",{className:"space-y-3",children:r.jsxs(E.a,{href:"mailto:support@nexo.works",whileHover:{scale:1.05,x:5},className:"flex items-center gap-3 text-white/80 hover:text-yellow-300 transition-colors duration-200",children:[r.jsx(TI,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm sm:text-base",children:"support@nexo.works"})]})}),r.jsx("div",{className:"flex items-center gap-4 mt-6",children:a.map((n,i)=>{const l=n.icon;return r.jsx(E.a,{href:n.href,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.2,y:-3},whileTap:{scale:.9},className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center text-white/80 hover:text-yellow-300 hover:bg-white/20 transition-all duration-300","aria-label":n.name,children:r.jsx(l,{className:"w-5 h-5"})},i)})})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:.1},children:[r.jsx("h3",{className:"text-white font-bold text-lg mb-4 sm:mb-6",children:"Company"}),r.jsx("ul",{className:"space-y-3",children:s.company.map((n,i)=>r.jsx(E.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:i*.1},children:n.path.startsWith("/#")?r.jsxs("a",{href:n.path,onClick:l=>t(l,n.path),className:"text-sm sm:text-base text-white/80 hover:text-yellow-300 transition-colors duration-200 flex items-center gap-2 group cursor-pointer",children:[r.jsx("span",{className:"w-0 group-hover:w-2 h-0.5 bg-yellow-300 transition-all duration-200"}),n.name]}):r.jsxs(Wt,{to:n.path,className:"text-sm sm:text-base text-white/80 hover:text-yellow-300 transition-colors duration-200 flex items-center gap-2 group",children:[r.jsx("span",{className:"w-0 group-hover:w-2 h-0.5 bg-yellow-300 transition-all duration-200"}),n.name]})},n.name))})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:.2},children:[r.jsx("h3",{className:"text-white font-bold text-lg mb-4 sm:mb-6",children:"Resources"}),r.jsx("ul",{className:"space-y-3",children:s.resources.map((n,i)=>r.jsx(E.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:i*.1},children:r.jsxs(Wt,{to:n.path,className:"text-sm sm:text-base text-white/80 hover:text-yellow-300 transition-colors duration-200 flex items-center gap-2 group",children:[r.jsx("span",{className:"w-0 group-hover:w-2 h-0.5 bg-yellow-300 transition-all duration-200"}),n.name]})},n.name))})]}),r.jsxs(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:.3},children:[r.jsx("h3",{className:"text-white font-bold text-lg mb-4 sm:mb-6",children:"Legal"}),r.jsx("ul",{className:"space-y-3",children:s.legal.map((n,i)=>r.jsx(E.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:i*.1},children:r.jsxs(Wt,{to:n.path,className:"text-sm sm:text-base text-white/80 hover:text-yellow-300 transition-colors duration-200 flex items-center gap-2 group",children:[r.jsx("span",{className:"w-0 group-hover:w-2 h-0.5 bg-yellow-300 transition-all duration-200"}),n.name]})},n.name))})]})]}),r.jsx(E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.6},className:"mt-12 sm:mt-16 pt-8 border-t border-white/20",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[r.jsxs("div",{className:"text-center sm:text-left",children:[r.jsx("p",{className:"text-white font-semibold text-lg mb-2",children:"Need Help? Chat with us on WhatsApp"}),r.jsx("p",{className:"text-white/80 text-sm sm:text-base",children:"Get instant support 24/7"})]}),r.jsxs(E.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"bg-[#25D366] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full font-semibold shadow-lg hover:shadow-[#25D366]/50 transition-all duration-300 flex items-center gap-2",children:[r.jsx(hr,{className:"w-5 h-5"}),"Chat on WhatsApp"]})]})}),r.jsx(E.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.6,delay:.4},className:"border-t border-white/20 mt-8 pt-8 text-center",children:r.jsxs("p",{className:"text-sm text-white/60",children:[" ",new Date().getFullYear()," Nexo. All rights reserved. | Connect. Work. Grow"]})})]})]})},Fq=({message:e="Hi, I need help with your services.",className:t=""})=>{const{openDialog:s}=Mg(),a=n=>{n.preventDefault(),s()};return r.jsx("div",{className:"fixed bottom-6 right-6 z-[9999]",children:r.jsxs(E.button,{onClick:a,className:`relative bg-[#25D366] text-white rounded-full p-4 shadow-2xl hover:bg-[#20BA5A] transition-all duration-300 flex items-center justify-center ${t}`,initial:{scale:0},animate:{scale:[1,1.05,1],y:[0,-8,0]},whileHover:{scale:1.15,y:-10},whileTap:{scale:.9},transition:{scale:{duration:2,repeat:1/0,ease:"easeInOut",type:"tween"},y:{duration:2,repeat:1/0,ease:"easeInOut",type:"tween"},default:{type:"spring",stiffness:200,damping:15}},style:{boxShadow:"0 10px 40px rgba(37, 211, 102, 0.4)"},"aria-label":"WhatsApp Support",children:[r.jsx(E.div,{className:"absolute inset-0 bg-[#25D366] rounded-full -z-10",animate:{scale:[1,1.5,1.5],opacity:[.5,0,0]},transition:{duration:2,repeat:1/0,ease:"easeOut"}}),r.jsx(E.div,{className:"absolute inset-0 bg-[#25D366] rounded-full -z-10",animate:{scale:[1,1.8,1.8],opacity:[.3,0,0]},transition:{duration:2,repeat:1/0,ease:"easeOut",delay:.5}}),r.jsx("svg",{className:"w-8 h-8 relative z-10",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),r.jsx(E.span,{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white",animate:{scale:[1,1.3,1],opacity:[1,.8,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})]})})},Rq=()=>r.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 overflow-x-hidden w-full max-w-full",children:[r.jsx(Mq,{}),r.jsx("main",{className:"flex-1 w-full max-w-full overflow-x-hidden pt-20",children:r.jsx(Uc,{})}),r.jsx(Lq,{}),r.jsx(Fq,{})]});function nc(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function Pu(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function Bq(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function a2(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function FI(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(e)}function Lg(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function wi(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function RI(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(e)}function Ya(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(e)}function jh(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function ki(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function $q(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function Bs(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(e)}function Hc(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function Up(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function It(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function Vd(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function BI(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function $I(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function Uq(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},child:[]},{tag:"rect",attr:{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"},child:[]}]})(e)}function Hs(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function n2(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"},child:[]}]})(e)}function zs(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(e)}function Qt(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function si(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function os(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function Lw(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function nk(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(e)}function wc(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function Vt(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function Jf(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},child:[]},{tag:"polyline",attr:{points:"13 2 13 9 20 9"},child:[]}]})(e)}function Fg(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function zq(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"6",r:"3"},child:[]},{tag:"path",attr:{d:"M6 21V9a9 9 0 0 0 9 9"},child:[]}]})(e)}function Yb(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function Nc(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function wh(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(e)}function UI(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function Vq(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(e)}function Hq(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(e)}function Wq(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function of(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(e)}function Hd(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function ic(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function cl(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function aa(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(e)}function zI(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(e)}function Fw(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function Rw(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(e)}function zp(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function i2(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function Is(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function ik(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"},child:[]},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"},child:[]}]})(e)}function Au(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function Bw(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(e)}function Gq(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(e)}function Mr(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function Rg(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"},child:[]},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"},child:[]},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"},child:[]}]})(e)}function VI(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"polyline",attr:{points:"23 20 23 14 17 14"},child:[]},{tag:"path",attr:{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"},child:[]}]})(e)}function Gt(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function Ji(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function Kq(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"6",cy:"6",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"line",attr:{x1:"20",y1:"4",x2:"8.12",y2:"15.88"},child:[]},{tag:"line",attr:{x1:"14.47",y1:"14.48",x2:"20",y2:"20"},child:[]},{tag:"line",attr:{x1:"8.12",y1:"8.12",x2:"12",y2:"12"},child:[]}]})(e)}function ai(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function HI(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(e)}function Bg(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function ni(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function qq(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(e)}function Sn(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function lk(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(e)}function Yq(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(e)}function $w(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(e)}function ok(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(e)}function an(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function hu(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(e)}function ur(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function WI(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(e)}function oo(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function GI(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function Qf(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(e)}function Ws(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function sa(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function Xq(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]},{tag:"path",attr:{d:"M16.72 11.06A10.94 10.94 0 0 1 19 12.55"},child:[]},{tag:"path",attr:{d:"M5 12.55a10.94 10.94 0 0 1 5.17-2.39"},child:[]},{tag:"path",attr:{d:"M10.71 5.05A16 16 0 0 1 22.58 9"},child:[]},{tag:"path",attr:{d:"M1.42 9a15.91 15.91 0 0 1 4.7-2.88"},child:[]},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12.01",y2:"20"},child:[]}]})(e)}function Jq(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12.55a11 11 0 0 1 14.08 0"},child:[]},{tag:"path",attr:{d:"M1.42 9a16 16 0 0 1 21.16 0"},child:[]},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12.01",y2:"20"},child:[]}]})(e)}function Sc(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function ut(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function Wd(e){return ve({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}const Zf=new Map,md=new Map,Qq=3e4,Zq=(e,t,s=[])=>{const a=e.toString(),n=s.length>0?`-${JSON.stringify(s)}`:"";return`${a}-${t||"no-token"}${n}`},Bt=(e,t=[])=>{const{token:s}=Ar(),[a,n]=g.useState(null),[i,l]=g.useState(!0),[o,c]=g.useState(null),d=g.useRef(e),u=g.useRef(!0),m=g.useRef(null);g.useEffect(()=>{d.current=e},[e]);const f=g.useMemo(()=>!t||t.length===0?"":JSON.stringify(t),[t]);m.current=g.useMemo(()=>s?Zq(e,s,t):null,[e,s,f]);const h=g.useCallback(async()=>{if(!s||!m.current){l(!1);return}const p=m.current;if(md.has(p))try{const v=await md.get(p);u.current&&(n(v),l(!1));return}catch{}const b=Zf.get(p);if(b){const{data:v,timestamp:y}=b;if(Date.now()-y<Qq){u.current&&(n(v),l(!1),c(null));return}}const j=(async()=>{try{u.current&&(l(!0),c(null));const v=await d.current(s);return Zf.set(p,{data:v,timestamp:Date.now()}),u.current&&(n(v),l(!1),c(null)),v}catch(v){const y=(v==null?void 0:v.message)??"Unable to fetch data";throw u.current&&(c(y),l(!1)),v}finally{md.delete(p)}})();md.set(p,j),await j},[s]);g.useEffect(()=>(u.current=!0,h(),()=>{u.current=!1}),[s,...t]),g.useEffect(()=>()=>{u.current=!1},[]);const x=g.useCallback(async()=>{if(!s||!m.current)return;const p=m.current;Zf.delete(p),md.delete(p),await h()},[s,h]);return{data:a,isLoading:i,error:o,refresh:x}},eY=()=>{Zf.clear(),md.clear()},tY=()=>{};var ck={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=function(e){const t=[];let s=0;for(let a=0;a<e.length;a++){let n=e.charCodeAt(a);n<128?t[s++]=n:n<2048?(t[s++]=n>>6|192,t[s++]=n&63|128):(n&64512)===55296&&a+1<e.length&&(e.charCodeAt(a+1)&64512)===56320?(n=65536+((n&1023)<<10)+(e.charCodeAt(++a)&1023),t[s++]=n>>18|240,t[s++]=n>>12&63|128,t[s++]=n>>6&63|128,t[s++]=n&63|128):(t[s++]=n>>12|224,t[s++]=n>>6&63|128,t[s++]=n&63|128)}return t},rY=function(e){const t=[];let s=0,a=0;for(;s<e.length;){const n=e[s++];if(n<128)t[a++]=String.fromCharCode(n);else if(n>191&&n<224){const i=e[s++];t[a++]=String.fromCharCode((n&31)<<6|i&63)}else if(n>239&&n<365){const i=e[s++],l=e[s++],o=e[s++],c=((n&7)<<18|(i&63)<<12|(l&63)<<6|o&63)-65536;t[a++]=String.fromCharCode(55296+(c>>10)),t[a++]=String.fromCharCode(56320+(c&1023))}else{const i=e[s++],l=e[s++];t[a++]=String.fromCharCode((n&15)<<12|(i&63)<<6|l&63)}}return t.join("")},qI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let n=0;n<e.length;n+=3){const i=e[n],l=n+1<e.length,o=l?e[n+1]:0,c=n+2<e.length,d=c?e[n+2]:0,u=i>>2,m=(i&3)<<4|o>>4;let f=(o&15)<<2|d>>6,h=d&63;c||(h=64,l||(f=64)),a.push(s[u],s[m],s[f],s[h])}return a.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(KI(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):rY(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const s=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let n=0;n<e.length;){const i=s[e.charAt(n++)],o=n<e.length?s[e.charAt(n)]:0;++n;const d=n<e.length?s[e.charAt(n)]:64;++n;const m=n<e.length?s[e.charAt(n)]:64;if(++n,i==null||o==null||d==null||m==null)throw new sY;const f=i<<2|o>>4;if(a.push(f),d!==64){const h=o<<4&240|d>>2;if(a.push(h),m!==64){const x=d<<6&192|m;a.push(x)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class sY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aY=function(e){const t=KI(e);return qI.encodeByteArray(t,!0)},YI=function(e){return aY(e).replace(/\./g,"")},nY=function(e){try{return qI.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lY=()=>iY().__FIREBASE_DEFAULTS__,oY=()=>{if(typeof process>"u"||typeof ck>"u")return;const e=ck.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},cY=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&nY(e[1]);return t&&JSON.parse(t)},dY=()=>{try{return tY()||lY()||oY()||cY()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},XI=()=>{var e;return(e=dY())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}wrapCallback(t){return(s,a)=>{s?this.reject(s):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(s):t(s,a))}}}function mY(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Uw(){try{return typeof indexedDB=="object"}catch{return!1}}function zw(){return new Promise((e,t)=>{try{let s=!0;const a="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(a);n.onsuccess=()=>{n.result.close(),s||self.indexedDB.deleteDatabase(a),e(!0)},n.onupgradeneeded=()=>{s=!1},n.onerror=()=>{var i;t(((i=n.error)==null?void 0:i.message)||"")}}catch(s){t(s)}})}function JI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hY="FirebaseError";class Wc extends Error{constructor(t,s,a){super(s),this.code=t,this.customData=a,this.name=hY,Object.setPrototypeOf(this,Wc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,n0.prototype.create)}}class n0{constructor(t,s,a){this.service=t,this.serviceName=s,this.errors=a}create(t,...s){const a=s[0]||{},n=`${this.service}/${t}`,i=this.errors[t],l=i?fY(i,a):"Error",o=`${this.serviceName}: ${l} (${n}).`;return new Wc(n,o,a)}}function fY(e,t){return e.replace(pY,(s,a)=>{const n=t[a];return n!=null?String(n):`<${a}?>`})}const pY=/\{\$([^}]+)}/g;function Vp(e,t){if(e===t)return!0;const s=Object.keys(e),a=Object.keys(t);for(const n of s){if(!a.includes(n))return!1;const i=e[n],l=t[n];if(dk(i)&&dk(l)){if(!Vp(i,l))return!1}else if(i!==l)return!1}for(const n of a)if(!s.includes(n))return!1;return!0}function dk(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xY=1e3,gY=2,yY=4*60*60*1e3,bY=.5;function uk(e,t=xY,s=gY){const a=t*Math.pow(s,e),n=Math.round(bY*a*(Math.random()-.5)*2);return Math.min(yY,a+n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(e){return e&&e._delegate?e._delegate:e}class Ci{constructor(t,s,a){this.name=t,this.instanceFactory=s,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vY=class{constructor(t,s){this.name=t,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const s=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(s)){const a=new uY;if(this.instancesDeferred.set(s,a),this.isInitialized(s)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:s});n&&a.resolve(n)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(t){const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(t==null?void 0:t.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(n){if(a)return null;throw n}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wY(t))try{this.getOrInitializeService({instanceIdentifier:zo})}catch{}for(const[s,a]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(s);try{const i=this.getOrInitializeService({instanceIdentifier:n});a.resolve(i)}catch{}}}}clearInstance(t=zo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...t.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zo){return this.instances.has(t)}getOptions(t=zo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:s={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:a,options:s});for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);a===o&&l.resolve(n)}return n}onInit(t,s){const a=this.normalizeInstanceIdentifier(s),n=this.onInitCallbacks.get(a)??new Set;n.add(t),this.onInitCallbacks.set(a,n);const i=this.instances.get(a);return i&&t(i,a),()=>{n.delete(t)}}invokeOnInitCallbacks(t,s){const a=this.onInitCallbacks.get(s);if(a)for(const n of a)try{n(t,s)}catch{}}getOrInitializeService({instanceIdentifier:t,options:s={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:jY(t),options:s}),this.instances.set(t,a),this.instancesOptions.set(t,s),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=zo){return this.component?this.component.multipleInstances?t:zo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function jY(e){return e===zo?void 0:e}function wY(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const s=this.getProvider(t.name);if(s.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);s.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const s=new vY(t,this);return this.providers.set(t,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(wr||(wr={}));const SY={debug:wr.DEBUG,verbose:wr.VERBOSE,info:wr.INFO,warn:wr.WARN,error:wr.ERROR,silent:wr.SILENT},kY=wr.INFO,CY={[wr.DEBUG]:"log",[wr.VERBOSE]:"log",[wr.INFO]:"info",[wr.WARN]:"warn",[wr.ERROR]:"error"},PY=(e,t,...s)=>{if(t<e.logLevel)return;const a=new Date().toISOString(),n=CY[t];if(n)console[n](`[${a}]  ${e.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class QI{constructor(t){this.name=t,this._logLevel=kY,this._logHandler=PY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in wr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SY[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,wr.DEBUG,...t),this._logHandler(this,wr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,wr.VERBOSE,...t),this._logHandler(this,wr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,wr.INFO,...t),this._logHandler(this,wr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,wr.WARN,...t),this._logHandler(this,wr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,wr.ERROR,...t),this._logHandler(this,wr.ERROR,...t)}}const AY=(e,t)=>t.some(s=>e instanceof s);let mk,hk;function TY(){return mk||(mk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EY(){return hk||(hk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZI=new WeakMap,l2=new WeakMap,eO=new WeakMap,Xb=new WeakMap,Vw=new WeakMap;function _Y(e){const t=new Promise((s,a)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",l)},i=()=>{s(Qi(e.result)),n()},l=()=>{a(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",l)});return t.then(s=>{s instanceof IDBCursor&&ZI.set(s,e)}).catch(()=>{}),Vw.set(t,e),t}function IY(e){if(l2.has(e))return;const t=new Promise((s,a)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",l),e.removeEventListener("abort",l)},i=()=>{s(),n()},l=()=>{a(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",l),e.addEventListener("abort",l)});l2.set(e,t)}let o2={get(e,t,s){if(e instanceof IDBTransaction){if(t==="done")return l2.get(e);if(t==="objectStoreNames")return e.objectStoreNames||eO.get(e);if(t==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Qi(e[t])},set(e,t,s){return e[t]=s,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function OY(e){o2=e(o2)}function DY(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...s){const a=e.call(Jb(this),t,...s);return eO.set(a,t.sort?t.sort():[t]),Qi(a)}:EY().includes(e)?function(...t){return e.apply(Jb(this),t),Qi(ZI.get(this))}:function(...t){return Qi(e.apply(Jb(this),t))}}function MY(e){return typeof e=="function"?DY(e):(e instanceof IDBTransaction&&IY(e),AY(e,TY())?new Proxy(e,o2):e)}function Qi(e){if(e instanceof IDBRequest)return _Y(e);if(Xb.has(e))return Xb.get(e);const t=MY(e);return t!==e&&(Xb.set(e,t),Vw.set(t,e)),t}const Jb=e=>Vw.get(e);function $g(e,t,{blocked:s,upgrade:a,blocking:n,terminated:i}={}){const l=indexedDB.open(e,t),o=Qi(l);return a&&l.addEventListener("upgradeneeded",c=>{a(Qi(l.result),c.oldVersion,c.newVersion,Qi(l.transaction),c)}),s&&l.addEventListener("blocked",c=>s(c.oldVersion,c.newVersion,c)),o.then(c=>{i&&c.addEventListener("close",()=>i()),n&&c.addEventListener("versionchange",d=>n(d.oldVersion,d.newVersion,d))}).catch(()=>{}),o}function Qb(e,{blocked:t}={}){const s=indexedDB.deleteDatabase(e);return t&&s.addEventListener("blocked",a=>t(a.oldVersion,a)),Qi(s).then(()=>{})}const LY=["get","getKey","getAll","getAllKeys","count"],FY=["put","add","delete","clear"],Zb=new Map;function fk(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Zb.get(t))return Zb.get(t);const s=t.replace(/FromIndex$/,""),a=t!==s,n=FY.includes(s);if(!(s in(a?IDBIndex:IDBObjectStore).prototype)||!(n||LY.includes(s)))return;const i=async function(l,...o){const c=this.transaction(l,n?"readwrite":"readonly");let d=c.store;return a&&(d=d.index(o.shift())),(await Promise.all([d[s](...o),n&&c.done]))[0]};return Zb.set(t,i),i}OY(e=>({...e,get:(t,s,a)=>fk(t,s)||e.get(t,s,a),has:(t,s)=>!!fk(t,s)||e.has(t,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RY{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(BY(s)){const a=s.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(s=>s).join(" ")}}function BY(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const c2="@firebase/app",pk="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=new QI("@firebase/app"),$Y="@firebase/app-compat",UY="@firebase/analytics-compat",zY="@firebase/analytics",VY="@firebase/app-check-compat",HY="@firebase/app-check",WY="@firebase/auth",GY="@firebase/auth-compat",KY="@firebase/database",qY="@firebase/data-connect",YY="@firebase/database-compat",XY="@firebase/functions",JY="@firebase/functions-compat",QY="@firebase/installations",ZY="@firebase/installations-compat",eX="@firebase/messaging",tX="@firebase/messaging-compat",rX="@firebase/performance",sX="@firebase/performance-compat",aX="@firebase/remote-config",nX="@firebase/remote-config-compat",iX="@firebase/storage",lX="@firebase/storage-compat",oX="@firebase/firestore",cX="@firebase/ai",dX="@firebase/firestore-compat",uX="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="[DEFAULT]",mX={[c2]:"fire-core",[$Y]:"fire-core-compat",[zY]:"fire-analytics",[UY]:"fire-analytics-compat",[HY]:"fire-app-check",[VY]:"fire-app-check-compat",[WY]:"fire-auth",[GY]:"fire-auth-compat",[KY]:"fire-rtdb",[qY]:"fire-data-connect",[YY]:"fire-rtdb-compat",[XY]:"fire-fn",[JY]:"fire-fn-compat",[QY]:"fire-iid",[ZY]:"fire-iid-compat",[eX]:"fire-fcm",[tX]:"fire-fcm-compat",[rX]:"fire-perf",[sX]:"fire-perf-compat",[aX]:"fire-rc",[nX]:"fire-rc-compat",[iX]:"fire-gcs",[lX]:"fire-gcs-compat",[oX]:"fire-fst",[dX]:"fire-fst-compat",[cX]:"fire-vertex","fire-js":"fire-js",[uX]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=new Map,hX=new Map,u2=new Map;function xk(e,t){try{e.container.addComponent(t)}catch(s){dl.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,s)}}function ul(e){const t=e.name;if(u2.has(t))return dl.debug(`There were multiple attempts to register component ${t}.`),!1;u2.set(t,e);for(const s of Hp.values())xk(s,e);for(const s of hX.values())xk(s,e);return!0}function i0(e,t){const s=e.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new n0("app","Firebase",fX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(t,s,a){this._isDeleted=!1,this._options={...t},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}function tO(e,t={}){let s=e;typeof t!="object"&&(t={name:t});const a={name:d2,automaticDataCollectionEnabled:!0,...t},n=a.name;if(typeof n!="string"||!n)throw co.create("bad-app-name",{appName:String(n)});if(s||(s=XI()),!s)throw co.create("no-options");const i=Hp.get(n);if(i){if(Vp(s,i.options)&&Vp(a,i.config))return i;throw co.create("duplicate-app",{appName:n})}const l=new NY(n);for(const c of u2.values())l.addComponent(c);const o=new pX(s,a,l);return Hp.set(n,o),o}function rO(e=d2){const t=Hp.get(e);if(!t&&e===d2&&XI())return tO();if(!t)throw co.create("no-app",{appName:e});return t}function Ni(e,t,s){let a=mX[e]??e;s&&(a+=`-${s}`);const n=a.match(/\s|\//),i=t.match(/\s|\//);if(n||i){const l=[`Unable to register library "${a}" with version "${t}":`];n&&l.push(`library name "${a}" contains illegal characters (whitespace or "/")`),n&&i&&l.push("and"),i&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),dl.warn(l.join(" "));return}ul(new Ci(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xX="firebase-heartbeat-database",gX=1,Nh="firebase-heartbeat-store";let ev=null;function sO(){return ev||(ev=$g(xX,gX,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Nh)}catch(s){console.warn(s)}}}}).catch(e=>{throw co.create("idb-open",{originalErrorMessage:e.message})})),ev}async function yX(e){try{const s=(await sO()).transaction(Nh),a=await s.objectStore(Nh).get(aO(e));return await s.done,a}catch(t){if(t instanceof Wc)dl.warn(t.message);else{const s=co.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});dl.warn(s.message)}}}async function gk(e,t){try{const a=(await sO()).transaction(Nh,"readwrite");await a.objectStore(Nh).put(t,aO(e)),await a.done}catch(s){if(s instanceof Wc)dl.warn(s.message);else{const a=co.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});dl.warn(a.message)}}}function aO(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bX=1024,vX=30;class jX{constructor(t){this.container=t,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new NX(s),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,s;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=yk();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>vX){const l=SX(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){dl.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=yk(),{heartbeatsToSend:a,unsentEntries:n}=wX(this._heartbeatsCache.heartbeats),i=YI(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=s,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(s){return dl.warn(s),""}}}function yk(){return new Date().toISOString().substring(0,10)}function wX(e,t=bX){const s=[];let a=e.slice();for(const n of e){const i=s.find(l=>l.agent===n.agent);if(i){if(i.dates.push(n.date),bk(s)>t){i.dates.pop();break}}else if(s.push({agent:n.agent,dates:[n.date]}),bk(s)>t){s.pop();break}a=a.slice(1)}return{heartbeatsToSend:s,unsentEntries:a}}class NX{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Uw()?zw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await yX(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return gk(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return gk(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function bk(e){return YI(JSON.stringify({version:2,heartbeats:e})).length}function SX(e){if(e.length===0)return-1;let t=0,s=e[0].date;for(let a=1;a<e.length;a++)e[a].date<s&&(s=e[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kX(e){ul(new Ci("platform-logger",t=>new RY(t),"PRIVATE")),ul(new Ci("heartbeat",t=>new jX(t),"PRIVATE")),Ni(c2,pk,e),Ni(c2,pk,"esm2020"),Ni("fire-js","")}kX("");const nO="@firebase/installations",Hw="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=1e4,lO=`w:${Hw}`,oO="FIS_v2",CX="https://firebaseinstallations.googleapis.com/v1",PX=60*60*1e3,AX="installations",TX="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EX={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},kc=new n0(AX,TX,EX);function cO(e){return e instanceof Wc&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO({projectId:e}){return`${CX}/projects/${e}/installations`}function uO(e){return{token:e.token,requestStatus:2,expiresIn:IX(e.expiresIn),creationTime:Date.now()}}async function mO(e,t){const a=(await t.json()).error;return kc.create("request-failed",{requestName:e,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function hO({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function _X(e,{refreshToken:t}){const s=hO(e);return s.append("Authorization",OX(t)),s}async function fO(e){const t=await e();return t.status>=500&&t.status<600?e():t}function IX(e){return Number(e.replace("s","000"))}function OX(e){return`${oO} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DX({appConfig:e,heartbeatServiceProvider:t},{fid:s}){const a=dO(e),n=hO(e),i=t.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&n.append("x-firebase-client",d)}const l={fid:s,authVersion:oO,appId:e.appId,sdkVersion:lO},o={method:"POST",headers:n,body:JSON.stringify(l)},c=await fO(()=>fetch(a,o));if(c.ok){const d=await c.json();return{fid:d.fid||s,registrationStatus:2,refreshToken:d.refreshToken,authToken:uO(d.authToken)}}else throw await mO("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MX(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LX=/^[cdef][\w-]{21}$/,m2="";function FX(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const s=RX(e);return LX.test(s)?s:m2}catch{return m2}}function RX(e){return MX(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=new Map;function gO(e,t){const s=Ug(e);yO(s,t),BX(s,t)}function yO(e,t){const s=xO.get(e);if(s)for(const a of s)a(t)}function BX(e,t){const s=$X();s&&s.postMessage({key:e,fid:t}),UX()}let Jo=null;function $X(){return!Jo&&"BroadcastChannel"in self&&(Jo=new BroadcastChannel("[Firebase] FID Change"),Jo.onmessage=e=>{yO(e.data.key,e.data.fid)}),Jo}function UX(){xO.size===0&&Jo&&(Jo.close(),Jo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zX="firebase-installations-database",VX=1,Cc="firebase-installations-store";let tv=null;function Ww(){return tv||(tv=$g(zX,VX,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Cc)}}})),tv}async function Wp(e,t){const s=Ug(e),n=(await Ww()).transaction(Cc,"readwrite"),i=n.objectStore(Cc),l=await i.get(s);return await i.put(t,s),await n.done,(!l||l.fid!==t.fid)&&gO(e,t.fid),t}async function bO(e){const t=Ug(e),a=(await Ww()).transaction(Cc,"readwrite");await a.objectStore(Cc).delete(t),await a.done}async function zg(e,t){const s=Ug(e),n=(await Ww()).transaction(Cc,"readwrite"),i=n.objectStore(Cc),l=await i.get(s),o=t(l);return o===void 0?await i.delete(s):await i.put(o,s),await n.done,o&&(!l||l.fid!==o.fid)&&gO(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(e){let t;const s=await zg(e.appConfig,a=>{const n=HX(a),i=WX(e,n);return t=i.registrationPromise,i.installationEntry});return s.fid===m2?{installationEntry:await t}:{installationEntry:s,registrationPromise:t}}function HX(e){const t=e||{fid:FX(),registrationStatus:0};return vO(t)}function WX(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const n=Promise.reject(kc.create("app-offline"));return{installationEntry:t,registrationPromise:n}}const s={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=GX(e,s);return{installationEntry:s,registrationPromise:a}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:KX(e)}:{installationEntry:t}}async function GX(e,t){try{const s=await DX(e,t);return Wp(e.appConfig,s)}catch(s){throw cO(s)&&s.customData.serverCode===409?await bO(e.appConfig):await Wp(e.appConfig,{fid:t.fid,registrationStatus:0}),s}}async function KX(e){let t=await vk(e.appConfig);for(;t.registrationStatus===1;)await pO(100),t=await vk(e.appConfig);if(t.registrationStatus===0){const{installationEntry:s,registrationPromise:a}=await Gw(e);return a||s}return t}function vk(e){return zg(e,t=>{if(!t)throw kc.create("installation-not-found");return vO(t)})}function vO(e){return qX(e)?{fid:e.fid,registrationStatus:0}:e}function qX(e){return e.registrationStatus===1&&e.registrationTime+iO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YX({appConfig:e,heartbeatServiceProvider:t},s){const a=XX(e,s),n=_X(e,s),i=t.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&n.append("x-firebase-client",d)}const l={installation:{sdkVersion:lO,appId:e.appId}},o={method:"POST",headers:n,body:JSON.stringify(l)},c=await fO(()=>fetch(a,o));if(c.ok){const d=await c.json();return uO(d)}else throw await mO("Generate Auth Token",c)}function XX(e,{fid:t}){return`${dO(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kw(e,t=!1){let s;const a=await zg(e.appConfig,i=>{if(!jO(i))throw kc.create("not-registered");const l=i.authToken;if(!t&&ZX(l))return i;if(l.requestStatus===1)return s=JX(e,t),i;{if(!navigator.onLine)throw kc.create("app-offline");const o=tJ(i);return s=QX(e,o),o}});return s?await s:a.authToken}async function JX(e,t){let s=await jk(e.appConfig);for(;s.authToken.requestStatus===1;)await pO(100),s=await jk(e.appConfig);const a=s.authToken;return a.requestStatus===0?Kw(e,t):a}function jk(e){return zg(e,t=>{if(!jO(t))throw kc.create("not-registered");const s=t.authToken;return rJ(s)?{...t,authToken:{requestStatus:0}}:t})}async function QX(e,t){try{const s=await YX(e,t),a={...t,authToken:s};return await Wp(e.appConfig,a),s}catch(s){if(cO(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await bO(e.appConfig);else{const a={...t,authToken:{requestStatus:0}};await Wp(e.appConfig,a)}throw s}}function jO(e){return e!==void 0&&e.registrationStatus===2}function ZX(e){return e.requestStatus===2&&!eJ(e)}function eJ(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+PX}function tJ(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function rJ(e){return e.requestStatus===1&&e.requestTime+iO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sJ(e){const t=e,{installationEntry:s,registrationPromise:a}=await Gw(t);return a?a.catch(console.error):Kw(t).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aJ(e,t=!1){const s=e;return await nJ(s),(await Kw(s,t)).token}async function nJ(e){const{registrationPromise:t}=await Gw(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iJ(e){if(!e||!e.options)throw rv("App Configuration");if(!e.name)throw rv("App Name");const t=["projectId","apiKey","appId"];for(const s of t)if(!e.options[s])throw rv(s);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function rv(e){return kc.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="installations",lJ="installations-internal",oJ=e=>{const t=e.getProvider("app").getImmediate(),s=iJ(t),a=i0(t,"heartbeat");return{app:t,appConfig:s,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},cJ=e=>{const t=e.getProvider("app").getImmediate(),s=i0(t,wO).getImmediate();return{getId:()=>sJ(s),getToken:n=>aJ(s,n)}};function dJ(){ul(new Ci(wO,oJ,"PUBLIC")),ul(new Ci(lJ,cJ,"PRIVATE"))}dJ();Ni(nO,Hw);Ni(nO,Hw,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uJ="/firebase-messaging-sw.js",mJ="/firebase-cloud-messaging-push-scope",NO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",hJ="https://fcmregistrations.googleapis.com/v1",SO="google.c.a.c_id",fJ="google.c.a.c_l",pJ="google.c.a.ts",xJ="google.c.a.e",wk=1e4;var Nk;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Nk||(Nk={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Sh;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Sh||(Sh={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gJ(e){const t="=".repeat((4-e.length%4)%4),s=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),a=atob(s),n=new Uint8Array(a.length);for(let i=0;i<a.length;++i)n[i]=a.charCodeAt(i);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="fcm_token_details_db",yJ=5,Sk="fcm_token_object_Store";async function bJ(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(sv))return null;let t=null;return(await $g(sv,yJ,{upgrade:async(a,n,i,l)=>{if(n<2||!a.objectStoreNames.contains(Sk))return;const o=l.objectStore(Sk),c=await o.index("fcmSenderId").get(e);if(await o.clear(),!!c){if(n===2){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;t={token:d.fcmToken,createTime:d.createTime??Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Bi(d.vapidKey)}}}else if(n===3){const d=c;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Bi(d.auth),p256dh:Bi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Bi(d.vapidKey)}}}else if(n===4){const d=c;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Bi(d.auth),p256dh:Bi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Bi(d.vapidKey)}}}}}})).close(),await Qb(sv),await Qb("fcm_vapid_details_db"),await Qb("undefined"),vJ(t)?t:null}function vJ(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jJ="firebase-messaging-database",wJ=1,kh="firebase-messaging-store";let av=null;function kO(){return av||(av=$g(jJ,wJ,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(kh)}}})),av}async function NJ(e){const t=CO(e),a=await(await kO()).transaction(kh).objectStore(kh).get(t);if(a)return a;{const n=await bJ(e.appConfig.senderId);if(n)return await qw(e,n),n}}async function qw(e,t){const s=CO(e),n=(await kO()).transaction(kh,"readwrite");return await n.objectStore(kh).put(t,s),await n.done,t}function CO({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SJ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},na=new n0("messaging","Messaging",SJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kJ(e,t){const s=await Xw(e),a=PO(t),n={method:"POST",headers:s,body:JSON.stringify(a)};let i;try{i=await(await fetch(Yw(e.appConfig),n)).json()}catch(l){throw na.create("token-subscribe-failed",{errorInfo:l==null?void 0:l.toString()})}if(i.error){const l=i.error.message;throw na.create("token-subscribe-failed",{errorInfo:l})}if(!i.token)throw na.create("token-subscribe-no-token");return i.token}async function CJ(e,t){const s=await Xw(e),a=PO(t.subscriptionOptions),n={method:"PATCH",headers:s,body:JSON.stringify(a)};let i;try{i=await(await fetch(`${Yw(e.appConfig)}/${t.token}`,n)).json()}catch(l){throw na.create("token-update-failed",{errorInfo:l==null?void 0:l.toString()})}if(i.error){const l=i.error.message;throw na.create("token-update-failed",{errorInfo:l})}if(!i.token)throw na.create("token-update-no-token");return i.token}async function PJ(e,t){const a={method:"DELETE",headers:await Xw(e)};try{const i=await(await fetch(`${Yw(e.appConfig)}/${t}`,a)).json();if(i.error){const l=i.error.message;throw na.create("token-unsubscribe-failed",{errorInfo:l})}}catch(n){throw na.create("token-unsubscribe-failed",{errorInfo:n==null?void 0:n.toString()})}}function Yw({projectId:e}){return`${hJ}/projects/${e}/registrations`}async function Xw({appConfig:e,installations:t}){const s=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${s}`})}function PO({p256dh:e,auth:t,endpoint:s,vapidKey:a}){const n={web:{endpoint:s,auth:t,p256dh:e}};return a!==NO&&(n.web.applicationPubKey=a),n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AJ=7*24*60*60*1e3;async function TJ(e){const t=await _J(e.swRegistration,e.vapidKey),s={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Bi(t.getKey("auth")),p256dh:Bi(t.getKey("p256dh"))},a=await NJ(e.firebaseDependencies);if(a){if(IJ(a.subscriptionOptions,s))return Date.now()>=a.createTime+AJ?EJ(e,{token:a.token,createTime:Date.now(),subscriptionOptions:s}):a.token;try{await PJ(e.firebaseDependencies,a.token)}catch(n){console.warn(n)}return kk(e.firebaseDependencies,s)}else return kk(e.firebaseDependencies,s)}async function EJ(e,t){try{const s=await CJ(e.firebaseDependencies,t),a={...t,token:s,createTime:Date.now()};return await qw(e.firebaseDependencies,a),s}catch(s){throw s}}async function kk(e,t){const a={token:await kJ(e,t),createTime:Date.now(),subscriptionOptions:t};return await qw(e,a),a.token}async function _J(e,t){const s=await e.pushManager.getSubscription();return s||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gJ(t)})}function IJ(e,t){const s=t.vapidKey===e.vapidKey,a=t.endpoint===e.endpoint,n=t.auth===e.auth,i=t.p256dh===e.p256dh;return s&&a&&n&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return OJ(t,e),DJ(t,e),MJ(t,e),t}function OJ(e,t){if(!t.notification)return;e.notification={};const s=t.notification.title;s&&(e.notification.title=s);const a=t.notification.body;a&&(e.notification.body=a);const n=t.notification.image;n&&(e.notification.image=n);const i=t.notification.icon;i&&(e.notification.icon=i)}function DJ(e,t){t.data&&(e.data=t.data)}function MJ(e,t){var n,i,l,o;if(!t.fcmOptions&&!((n=t.notification)!=null&&n.click_action))return;e.fcmOptions={};const s=((i=t.fcmOptions)==null?void 0:i.link)??((l=t.notification)==null?void 0:l.click_action);s&&(e.fcmOptions.link=s);const a=(o=t.fcmOptions)==null?void 0:o.analytics_label;a&&(e.fcmOptions.analyticsLabel=a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LJ(e){return typeof e=="object"&&!!e&&SO in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FJ(e){if(!e||!e.options)throw nv("App Configuration Object");if(!e.name)throw nv("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:s}=e;for(const a of t)if(!s[a])throw nv(a);return{appName:e.name,projectId:s.projectId,apiKey:s.apiKey,appId:s.appId,senderId:s.messagingSenderId}}function nv(e){return na.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RJ{constructor(t,s,a){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const n=FJ(t);this.firebaseDependencies={app:t,appConfig:n,installations:s,analyticsProvider:a}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BJ(e){try{e.swRegistration=await navigator.serviceWorker.register(uJ,{scope:mJ}),e.swRegistration.update().catch(()=>{}),await $J(e.swRegistration)}catch(t){throw na.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function $J(e){return new Promise((t,s)=>{const a=setTimeout(()=>s(new Error(`Service worker not registered after ${wk} ms`)),wk),n=e.installing||e.waiting;e.active?(clearTimeout(a),t()):n?n.onstatechange=i=>{var l;((l=i.target)==null?void 0:l.state)==="activated"&&(n.onstatechange=null,clearTimeout(a),t())}:(clearTimeout(a),s(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UJ(e,t){if(!t&&!e.swRegistration&&await BJ(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw na.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zJ(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=NO)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(e,t){if(!navigator)throw na.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw na.create("permission-blocked");return await zJ(e,t==null?void 0:t.vapidKey),await UJ(e,t==null?void 0:t.serviceWorkerRegistration),TJ(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VJ(e,t,s){const a=HJ(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(a,{message_id:s[SO],message_name:s[fJ],message_time:s[pJ],message_device_time:Math.floor(Date.now()/1e3)})}function HJ(e){switch(e){case Sh.NOTIFICATION_CLICKED:return"notification_open";case Sh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WJ(e,t){const s=t.data;if(!s.isFirebaseMessaging)return;e.onMessageHandler&&s.messageType===Sh.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Ck(s)):e.onMessageHandler.next(Ck(s)));const a=s.data;LJ(a)&&a[xJ]==="1"&&await VJ(e,s.messageType,a)}const Pk="@firebase/messaging",Ak="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GJ=e=>{const t=new RJ(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",s=>WJ(t,s)),t},KJ=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:a=>AO(t,a)}};function qJ(){ul(new Ci("messaging",GJ,"PUBLIC")),ul(new Ci("messaging-internal",KJ,"PRIVATE")),Ni(Pk,Ak),Ni(Pk,Ak,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(){try{await zw()}catch{return!1}return typeof window<"u"&&Uw()&&JI()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YJ(e,t){if(!navigator)throw na.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XJ(e=rO()){return TO().then(t=>{if(!t)throw na.create("unsupported-browser")},t=>{throw na.create("indexed-db-unsupported")}),i0(Tu(e),"messaging").getImmediate()}async function JJ(e,t){return e=Tu(e),AO(e,t)}function QJ(e,t){return e=Tu(e),YJ(e,t)}qJ();var ZJ="firebase",eQ="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni(ZJ,eQ,"app");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="analytics",tQ="firebase_id",rQ="origin",sQ=60*1e3,aQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new QI("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nQ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},en=new n0("analytics","Analytics",nQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iQ(e){if(!e.startsWith(Jw)){const t=en.create("invalid-gtag-resource",{gtagURL:e});return wa.warn(t.message),""}return e}function EO(e){return Promise.all(e.map(t=>t.catch(s=>s)))}function lQ(e,t){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(e,t)),s}function oQ(e,t){const s=lQ("firebase-js-sdk-policy",{createScriptURL:iQ}),a=document.createElement("script"),n=`${Jw}?l=${e}&id=${t}`;a.src=s?s==null?void 0:s.createScriptURL(n):n,a.async=!0,document.head.appendChild(a)}function cQ(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function dQ(e,t,s,a,n,i){const l=a[n];try{if(l)await t[l];else{const c=(await EO(s)).find(d=>d.measurementId===n);c&&await t[c.appId]}}catch(o){wa.error(o)}e("config",n,i)}async function uQ(e,t,s,a,n){try{let i=[];if(n&&n.send_to){let l=n.send_to;Array.isArray(l)||(l=[l]);const o=await EO(s);for(const c of l){const d=o.find(m=>m.measurementId===c),u=d&&t[d.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",a,n||{})}catch(i){wa.error(i)}}function mQ(e,t,s,a){async function n(i,...l){try{if(i==="event"){const[o,c]=l;await uQ(e,t,s,o,c)}else if(i==="config"){const[o,c]=l;await dQ(e,t,s,a,o,c)}else if(i==="consent"){const[o,c]=l;e("consent",o,c)}else if(i==="get"){const[o,c,d]=l;e("get",o,c,d)}else if(i==="set"){const[o]=l;e("set",o)}else e(i,...l)}catch(o){wa.error(o)}}return n}function hQ(e,t,s,a,n){let i=function(...l){window[a].push(arguments)};return window[n]&&typeof window[n]=="function"&&(i=window[n]),window[n]=mQ(i,e,t,s),{gtagCore:i,wrappedGtag:window[n]}}function fQ(e){const t=window.document.getElementsByTagName("script");for(const s of Object.values(t))if(s.src&&s.src.includes(Jw)&&s.src.includes(e))return s;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pQ=30,xQ=1e3;class gQ{constructor(t={},s=xQ){this.throttleMetadata=t,this.intervalMillis=s}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,s){this.throttleMetadata[t]=s}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const _O=new gQ;function yQ(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function bQ(e){var l;const{appId:t,apiKey:s}=e,a={method:"GET",headers:yQ(s)},n=aQ.replace("{app-id}",t),i=await fetch(n,a);if(i.status!==200&&i.status!==304){let o="";try{const c=await i.json();(l=c.error)!=null&&l.message&&(o=c.error.message)}catch{}throw en.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function vQ(e,t=_O,s){const{appId:a,apiKey:n,measurementId:i}=e.options;if(!a)throw en.create("no-app-id");if(!n){if(i)return{measurementId:i,appId:a};throw en.create("no-api-key")}const l=t.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new NQ;return setTimeout(async()=>{o.abort()},sQ),IO({appId:a,apiKey:n,measurementId:i},l,o,t)}async function IO(e,{throttleEndTimeMillis:t,backoffCount:s},a,n=_O){var o;const{appId:i,measurementId:l}=e;try{await jQ(a,t)}catch(c){if(l)return wa.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:l};throw c}try{const c=await bQ(e);return n.deleteThrottleMetadata(i),c}catch(c){const d=c;if(!wQ(d)){if(n.deleteThrottleMetadata(i),l)return wa.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:l};throw c}const u=Number((o=d==null?void 0:d.customData)==null?void 0:o.httpStatus)===503?uk(s,n.intervalMillis,pQ):uk(s,n.intervalMillis),m={throttleEndTimeMillis:Date.now()+u,backoffCount:s+1};return n.setThrottleMetadata(i,m),wa.debug(`Calling attemptFetch again in ${u} millis`),IO(e,m,a,n)}}function jQ(e,t){return new Promise((s,a)=>{const n=Math.max(t-Date.now(),0),i=setTimeout(s,n);e.addEventListener(()=>{clearTimeout(i),a(en.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function wQ(e){if(!(e instanceof Wc)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class NQ{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function SQ(e,t,s,a,n){if(n&&n.global){e("event",s,a);return}else{const i=await t,l={...a,send_to:i};e("event",s,l)}}async function kQ(e,t,s,a){if(a&&a.global){const n={};for(const i of Object.keys(s))n[`user_properties.${i}`]=s[i];return e("set",n),Promise.resolve()}else{const n=await t;e("config",n,{update:!0,user_properties:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CQ(){if(Uw())try{await zw()}catch(e){return wa.warn(en.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return wa.warn(en.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function PQ(e,t,s,a,n,i,l){const o=vQ(e);o.then(f=>{s[f.measurementId]=f.appId,e.options.measurementId&&f.measurementId!==e.options.measurementId&&wa.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>wa.error(f)),t.push(o);const c=CQ().then(f=>{if(f)return a.getId()}),[d,u]=await Promise.all([o,c]);fQ(i)||oQ(i,d.measurementId),n("js",new Date);const m=(l==null?void 0:l.config)??{};return m[rQ]="firebase",m.update=!0,u!=null&&(m[tQ]=u),n("config",d.measurementId,m),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(t){this.app=t}_delete(){return delete Gd[this.app.options.appId],Promise.resolve()}}let Gd={},Tk=[];const Ek={};let iv="dataLayer",TQ="gtag",_k,Qw,Ik=!1;function EQ(){const e=[];if(mY()&&e.push("This is a browser extension environment."),JI()||e.push("Cookies are not available."),e.length>0){const t=e.map((a,n)=>`(${n+1}) ${a}`).join(" "),s=en.create("invalid-analytics-context",{errorInfo:t});wa.warn(s.message)}}function _Q(e,t,s){EQ();const a=e.options.appId;if(!a)throw en.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)wa.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw en.create("no-api-key");if(Gd[a]!=null)throw en.create("already-exists",{id:a});if(!Ik){cQ(iv);const{wrappedGtag:i,gtagCore:l}=hQ(Gd,Tk,Ek,iv,TQ);Qw=i,_k=l,Ik=!0}return Gd[a]=PQ(e,Tk,Ek,t,_k,iv,s),new AQ(e)}function IQ(e=rO()){e=Tu(e);const t=i0(e,Gp);return t.isInitialized()?t.getImmediate():OQ(e)}function OQ(e,t={}){const s=i0(e,Gp);if(s.isInitialized()){const n=s.getImmediate();if(Vp(t,s.getOptions()))return n;throw en.create("already-initialized")}return s.initialize({options:t})}function DQ(e,t,s){e=Tu(e),kQ(Qw,Gd[e.app.options.appId],t,s).catch(a=>wa.error(a))}function MQ(e,t,s,a){e=Tu(e),SQ(Qw,Gd[e.app.options.appId],t,s,a).catch(n=>wa.error(n))}const Ok="@firebase/analytics",Dk="0.10.19";function LQ(){ul(new Ci(Gp,(t,{options:s})=>{const a=t.getProvider("app").getImmediate(),n=t.getProvider("installations-internal").getImmediate();return _Q(a,n,s)},"PUBLIC")),ul(new Ci("analytics-internal",e,"PRIVATE")),Ni(Ok,Dk),Ni(Ok,Dk,"esm2020");function e(t){try{const s=t.getProvider(Gp).getImmediate();return{logEvent:(a,n,i)=>MQ(s,a,n,i),setUserProperties:(a,n)=>DQ(s,a,n)}}catch(s){throw en.create("interop-component-reg-failed",{reason:s})}}}LQ();const FQ={apiKey:"AIzaSyAwED6Sq3-6cUPJ4QcCdj6xAqEiXfP0J9c",authDomain:"nexo-7fc25.firebaseapp.com",projectId:"nexo-7fc25",storageBucket:"nexo-7fc25.firebasestorage.app",messagingSenderId:"592565521792",appId:"1:592565521792:web:0842ec948362df3e720565",measurementId:"G-11HMWKHPJY"},OO=tO(FQ);typeof window<"u"&&IQ(OO);const RQ="BC4rz7vzSsS59jhKkTcwex63a_XBnJEnBwaEDWpdM_Epk5NGztNTl27jN31usSSOEanFSX6HZuRe96JyAZbPjRg";let pi=null;const DO=async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.getRegistration("/");if(e)return e;const t=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/"});return await navigator.serviceWorker.ready,t}catch(e){return console.error("Service Worker registration failed:",e),null}return null},MO=async()=>{if(typeof window>"u"||!await TO())return null;await DO();try{return pi=XJ(OO),pi}catch(t){return console.error("Error initializing Firebase Messaging:",t),null}},LO=async()=>{if(typeof window>"u"||!("Notification"in window))return null;try{let e=Notification.permission;if(e==="default")try{e=await Notification.requestPermission()}catch(a){return console.error("Error requesting notification permission:",a),null}else if(e==="denied")return null;if(e!=="granted"||(await DO(),await new Promise(a=>setTimeout(a,1e3)),pi||(pi=await MO()),!pi))return null;let t=null,s=3;for(;!t&&s>0;)try{if(t=await JJ(pi,{vapidKey:RQ}),t)return t}catch{s--,s>0&&await new Promise(n=>setTimeout(n,1e3))}return t||null}catch(e){return console.error("Error getting FCM token:",e),null}};let Lo=null,lv=null;const BQ=async e=>{try{if(Lo&&lv===e)return Lo;if(Lo&&typeof Lo=="function"&&(Lo(),Lo=null,lv=null),pi||(pi=await MO()),!pi)return null;const t=QJ(pi,s=>{e&&e(s)});return Lo=t,lv=e,t}catch(t){return console.error("Error setting up message listener:",t),null}},Mk=()=>{try{const e=window.AudioContext||window.webkitAudioContext;if(!e){console.log("Web Audio API not available, browser notification will use default sound");return}const t=new e;t.state==="suspended"?t.resume().then(()=>{console.log("AudioContext resumed, playing notification sound"),Lk(t)}).catch(s=>{console.warn("Could not resume AudioContext:",s),console.log("Browser notification will use default sound")}):Lk(t)}catch(e){console.warn("Could not play notification sound:",e),console.log("Browser notification will use default sound")}},Lk=e=>{try{const t=e.createOscillator(),s=e.createGain();t.connect(s),s.connect(e.destination),t.frequency.value=800,t.type="sine";const a=e.currentTime;s.gain.setValueAtTime(0,a),s.gain.linearRampToValueAtTime(.3,a+.01),s.gain.exponentialRampToValueAtTime(.01,a+.2),t.start(a),t.stop(a+.2),t.onended=()=>{try{e.close()}catch{}}}catch(t){console.warn("Error playing beep sound:",t)}},Zw=(e,t,s)=>{const[a,n]=g.useState([]),[i,l]=g.useState(null),[o,c]=g.useState(!1),[d,u]=g.useState(0),[m,f]=g.useState(null),h=g.useRef(null),x=g.useRef(null),p=g.useCallback(async()=>{if(!(!s||!t))try{const w=await LO();if(w&&(e!=null&&e.updateFCMToken)){l(w);try{await e.updateFCMToken(t,w)}catch(N){console.error("Error sending FCM token to backend:",N)}}}catch(w){console.error("Error initializing notifications:",w)}},[s,t,e]),b=g.useCallback(async(w=!1)=>{if(!(!s||!t||!(e!=null&&e.getNotifications))){c(!0);try{const N=await e.getNotifications(t);let k=[];if(N.success&&N.notifications?k=N.notifications:Array.isArray(N)&&(k=N),k.length>0&&x.current){const P=k[0];P._id&&P._id!==x.current&&(w&&!P.read&&!P.seen&&(f(P),Mk()),x.current=P._id)}else if(k.length>0){const P=k[0];P._id&&(x.current=P._id)}n(k);const S=k.filter(P=>!P.read).length;u(S)}catch(N){console.error("Error fetching notifications:",N),N.message&&N.message.includes("ERR_CONNECTION_REFUSED"),n([]),u(0)}finally{c(!1)}}},[s,t,e]),j=g.useCallback(async(w=null)=>{if(!(!s||!t||!e))try{if(w&&e.markNotificationAsRead)u(N=>Math.max(0,N-1)),await e.markNotificationAsRead(t,w);else if(e.markNotificationsAsRead)u(0),await e.markNotificationsAsRead(t);else return;await b()}catch(N){console.error("Error marking notifications as read:",N),await b()}},[s,t,e,b]);g.useEffect(()=>{if(!s)return;let w=null;return(async()=>{try{w=await BQ(k=>{var Z,ue,me,Q,ae,oe,R,O,I,X,W,T,L,D;const S=((Z=k.notification)==null?void 0:Z.title)||((ue=k.data)==null?void 0:ue.title)||"New Notification",P=((me=k.notification)==null?void 0:me.body)||((Q=k.data)==null?void 0:Q.message)||"You have a new notification",_=((ae=k.data)==null?void 0:ae.type)||((oe=k.data)==null?void 0:oe.notificationType)||"new-notification",C=((R=k.data)==null?void 0:R.isStatusChange)==="true"||_==="status-change",A=((O=k.notification)==null?void 0:O.icon)||((I=k.data)==null?void 0:I.icon),V=((X=k.notification)==null?void 0:X.image)||((W=k.data)==null?void 0:W.image);if(Mk(),k.notification||k.data){const M=te=>te?te.startsWith("http://")||te.startsWith("https://")?te:te.startsWith("/")?`${window.location.origin}${te}`:`${window.location.origin}/${te}`:`${window.location.origin}/android-chrome-192x192.png`,z=M(A)||`${window.location.origin}/android-chrome-192x192.png`,se=`${window.location.origin}/android-chrome-192x192.png`,ne=V?M(V):null;if("Notification"in window&&Notification.permission==="granted"){const te={body:P,icon:z,badge:se,tag:_,data:k.data,timestamp:Date.now(),vibrate:[200,100,200],silent:!1,...ne&&{image:ne}},Re=new Notification(S,te);Re.onclick=()=>{var Ce;window.focus(),Re.close(),((Ce=k.data)==null?void 0:Ce.type)==="new-notification"&&b()}}}const q={_id:((T=k.data)==null?void 0:T.notificationId)||((L=k.data)==null?void 0:L.userId)||((D=k.data)==null?void 0:D.adminId)||Date.now().toString(),title:S,message:P,type:C?"status-change":_||"info",icon:A,image:V,read:!1,seen:!1,createdAt:new Date,isStatusChange:C};f(q),C&&window.dispatchEvent(new CustomEvent("vendorStatusChange",{detail:{title:S,message:P}})),setTimeout(async()=>{try{await b(!1)}catch(M){console.error("Error refreshing notifications list:",M)}},1e3)})}catch(k){console.error("Error setting up message listener:",k)}})(),s&&t&&(e!=null&&e.getNotifications)&&b(!1),()=>{w&&typeof w=="function"&&w(),h.current&&(clearInterval(h.current),h.current=null)}},[s,b,t,e]),g.useEffect(()=>{s&&t&&p()},[s,t,p]),g.useEffect(()=>{const w=()=>{s&&t&&p()};return window.addEventListener("notificationPermissionGranted",w),()=>{window.removeEventListener("notificationPermissionGranted",w)}},[s,t,p]);const v=g.useCallback(()=>{f(null)},[]),y=g.useCallback(async w=>{await j(w),f(null)},[j]);return{notifications:a,fcmToken:i,isLoading:o,unreadCount:d,currentNotification:m,fetchNotifications:b,markAsRead:j,initializeNotifications:p,closeNotificationDialog:v,markNotificationAsRead:y}},ov="https://nexo.works",Ee=e=>e.startsWith("/admin/bookings")?`${ov}${e}`:e.startsWith("/api/")?`${ov}${e}`:`${ov}/api/admin${e}`,_e=e=>{const t={"Content-Type":"application/json"};return e&&(t.Authorization=`Bearer ${e}`),t},Ie=async e=>{const t=e.headers.get("content-type")||"",s=t.includes("application/json"),a=t.includes("text/html"),n=await e.text();if(a||n.trim().startsWith("<!")&&n.trim().toLowerCase().includes("html")){const l=new Error(`Server returned HTML instead of JSON (Status: ${e.status}). This usually means the endpoint doesn't exist or there's a server error.`);throw l.status=e.status,l.isHtml=!0,l.htmlPreview=n.substring(0,500),l}if(!n||n.trim()===""){if(!e.ok){const l=new Error("Empty response from server");throw l.status=e.status,l}return{success:!0,message:"Operation completed successfully"}}let i;if(s)try{i=JSON.parse(n)}catch{if(n.trim().startsWith("<!")){const o=new Error("Server returned HTML instead of JSON");throw o.status=e.status,o.isHtml=!0,o.htmlPreview=n.substring(0,500),o}i=n}else i=n;if(!e.ok){const l=new Error((i==null?void 0:i.message)||(i==null?void 0:i.error)||"Request failed");throw l.status=e.status,l.data=i,l}return i},Fe={async login(e){const t=await fetch(Ee("/api/admin/login"),{method:"POST",headers:_e(),body:JSON.stringify(e)});return await Ie(t)},async fetchDashboard(e){const t=await fetch(Ee("/api/admin/dashboard"),{headers:_e(e)});return await Ie(t)},async fetchDashboardCounts(e){const t=await fetch(Ee("/api/admin/dashboard/counts"),{headers:_e(e)});return await Ie(t)},async fetchVendors(e,t={}){const s=new URLSearchParams({page:t.page||1,limit:t.limit||10,...t.search&&{search:t.search},...t.status&&{status:t.status}}).toString(),a=await fetch(Ee(`/api/admin/vendors?${s}`),{headers:_e(e)});return await Ie(a)},async getVendorDetails(e,t){const s=await fetch(Ee(`/api/admin/vendors/${t}`),{headers:_e(e)});return Ie(s)},async createVendor(e,t){const s=await fetch(Ee("/api/admin/vendors"),{method:"POST",headers:_e(e),body:JSON.stringify(t)});return Ie(s)},async updateVendor(e,t,s){const a=await fetch(Ee(`/api/admin/vendors/${t}`),{method:"PUT",headers:_e(e),body:JSON.stringify(s)});return Ie(a)},async updateVendorStatus(e,t,s){const a=await fetch(Ee(`/api/admin/vendors/${t}/status`),{method:"PUT",headers:_e(e),body:JSON.stringify({status:s})});return Ie(a)},async deleteVendor(e,t){const s=await fetch(Ee(`/api/admin/vendors/${t}`),{method:"DELETE",headers:_e(e)});return Ie(s)},async fetchVendorSpareParts(e,t={}){const s=new URLSearchParams;t.vendorId&&s.append("vendorId",t.vendorId),t.category&&s.append("category",t.category),t.status&&s.append("status",t.status),t.search&&s.append("search",t.search);const a=s.toString(),n=Ee(`/api/admin/vendors/spare-parts${a?`?${a}`:""}`),i=await fetch(n,{headers:_e(e)});return Ie(i)},async fetchVendorSparePartsByVendor(e,t,s={}){const a=new URLSearchParams;s.category&&a.append("category",s.category),s.status&&a.append("status",s.status),s.search&&a.append("search",s.search);const n=a.toString(),i=Ee(`/api/admin/vendors/${t}/spare-parts${n?`?${n}`:""}`),l=await fetch(i,{headers:_e(e)});return Ie(l)},async fetchPartners(e,t={}){const s=new URLSearchParams({page:t.page||1,limit:t.limit||10,...t.search&&{search:t.search},...t.status&&{status:t.status}}).toString(),a=await fetch(Ee(`/api/admin/partners?${s}`),{headers:_e(e)});return await Ie(a)},async fetchPartnerRevenueStats(e){const t=await fetch(Ee("/partners-revenue-stats"),{headers:_e(e)});return await Ie(t)},async fetchPendingKYC(e){const t=await fetch(Ee("/api/admin/partners/kyc/pending"),{headers:_e(e)});return await Ie(t)},async fetchPartnerDetails(e,t){const s=await fetch(Ee(`/api/admin/partners/${t}`),{headers:_e(e)});return await Ie(s)},async updatePartnerStatus(e,t,s,a){const n=await fetch(Ee(`/api/admin/partners/${t}/status`),{method:"PUT",headers:_e(e),body:JSON.stringify({status:s,remarks:a})});return Ie(n)},async verifyPartnerKYC(e,t){const s=await fetch(Ee(`/api/admin/partners/${t}/kyc`),{method:"PUT",headers:_e(e)});return Ie(s)},async updatePartnerProfile(e,t,s){const a=Ee(`/api/admin/updatePartnerProfile/${t}`),n=await fetch(a,{method:"PUT",headers:_e(e),body:JSON.stringify(s)});return Ie(n)},async approvePartnerPayment(e,t,s){const a=await fetch(Ee(`/api/admin/partners/${t}/approve-payment`),{method:"PUT",headers:_e(e),body:JSON.stringify(s)});return Ie(a)},async suspendPartner(e,t){const s=await fetch(Ee(`/api/admin/partner/${t}/status`),{method:"PUT",headers:_e(e),body:JSON.stringify({status:"inactive"})});return Ie(s)},async activatePartner(e,t){const s=await fetch(Ee(`/api/admin/partner/${t}/status`),{method:"PUT",headers:_e(e),body:JSON.stringify({status:"active"})});return Ie(s)},async deletePartner(e,t){const s=await fetch(Ee(`/api/admin/deletepartner/${t}`),{method:"DELETE",headers:_e(e)});return Ie(s)},async fetchBookings(e,t={}){const s=new URLSearchParams({page:t.page||1,limit:t.limit||10,status:t.status||"all",...t.fromDate&&{fromDate:t.fromDate},...t.toDate&&{toDate:t.toDate}}).toString(),a=await fetch(Ee(`/api/admin/bookings/bookings?${s}`),{headers:_e(e)});return await Ie(a)},async assignBooking(e,t,s,a){const n=await fetch(Ee("/api/admin/bookings/assign-partner"),{method:"PUT",headers:_e(e),body:JSON.stringify({bookingId:t,partnerId:s,teamMemberId:a})});return Ie(n)},async fetchTeamMembers(e,t={}){const s=new URLSearchParams({...t.status&&{status:t.status}}).toString(),a=await fetch(Ee(`/api/admin/team-members${s?`?${s}`:""}`),{headers:_e(e)});return await Ie(a)},async completeBooking(e,t){const s=await fetch(Ee(`/api/admin/bookings/${t}/complete`),{method:"PUT",headers:_e(e)});return Ie(s)},async createManualBooking(e,t){const s=await fetch(Ee("/api/admin/bookings/create"),{method:"POST",headers:_e(e),body:JSON.stringify(t)});return Ie(s)},async fetchUsers(e,t={}){const s=new URLSearchParams({page:t.page||1,limit:t.limit||10,...t.search&&{search:t.search},...t.status&&{status:t.status}}).toString(),a=await fetch(Ee(`/api/admin/users?${s}`),{headers:_e(e)});return await Ie(a)},async fetchRevenueAnalytics(e,t={}){const s=new URLSearchParams({...t.startDate&&{startDate:t.startDate},...t.endDate&&{endDate:t.endDate}}).toString(),a=await fetch(Ee(`/api/admin/reports/revenue?${s}`),{headers:_e(e)}),n=await Ie(a);return(n==null?void 0:n.data)||n},async fetchPartnerPerformance(e){const t=await fetch(Ee("/api/admin/reports/partners/performance"),{headers:_e(e)}),s=await Ie(t);return(s==null?void 0:s.data)||s},async fetchUserAnalytics(e){const t=await fetch(Ee("/api/admin/reports/users"),{headers:_e(e)}),s=await Ie(t);return(s==null?void 0:s.data)||s},async fetchCategoryRevenue(e,t={}){const s=new URLSearchParams({...t.startDate&&{startDate:t.startDate},...t.endDate&&{endDate:t.endDate}}).toString(),a=await fetch(Ee(`/api/admin/reports/category-revenue?${s}`),{headers:_e(e)}),n=await Ie(a);return(n==null?void 0:n.data)||n},async fetchTransactionReport(e,t={}){const s=new URLSearchParams({...t.startDate&&{startDate:t.startDate},...t.endDate&&{endDate:t.endDate},...t.status&&{status:t.status}}).toString(),a=await fetch(Ee(`/api/admin/reports/transactions?${s}`),{headers:_e(e)}),n=await Ie(a);return(n==null?void 0:n.data)||n},async fetchLeads(e,t={}){const s=new URLSearchParams({...t.page&&{page:t.page.toString()},...t.limit&&{limit:t.limit.toString()},...t.status&&t.status!=="all"&&{status:t.status},...t.city&&{city:t.city},...t.allocationStrategy&&t.allocationStrategy!=="all"&&{allocationStrategy:t.allocationStrategy},...t.startDate&&{startDate:t.startDate},...t.endDate&&{endDate:t.endDate}}).toString(),a=await fetch(Ee(`/api/admin/leads?${s}`),{headers:_e(e)});return await Ie(a)},async fetchLeadAnalytics(e){const t=await fetch(Ee("/api/admin/leads/analytics"),{headers:_e(e)}),s=await Ie(t);return(s==null?void 0:s.data)||s},async fetchBids(e,t={}){const s=new URLSearchParams({...t.page&&{page:t.page.toString()},...t.limit&&{limit:t.limit.toString()},...t.status&&t.status!=="all"&&{status:t.status},...t.leadId&&{leadId:t.leadId}}).toString(),a=await fetch(Ee(`/api/admin/leads/bids?${s}`),{headers:_e(e)});return await Ie(a)},async createLeadFromBooking(e,t){const s=await fetch(Ee("/api/admin/leads/create"),{method:"POST",headers:_e(e),body:JSON.stringify({bookingId:t})});return Ie(s)},async createManualLead(e,t){const s=await fetch(Ee("/api/admin/leads/create-manual"),{method:"POST",headers:_e(e),body:JSON.stringify(t)});return Ie(s)},async updateLeadStatus(e,t,s,a){const n=await fetch(Ee(`/api/admin/leads/${t}/status`),{method:"PUT",headers:_e(e),body:JSON.stringify({status:s,assignedPartner:a})});return Ie(n)},async acceptBid(e,t,s){const a=await fetch(Ee("/api/admin/leads/accept-bid"),{method:"POST",headers:_e(e),body:JSON.stringify({leadId:t,bidId:s})});return Ie(a)},async syncBookingsToLeads(e){const t=await fetch(Ee("/api/admin/leads/sync"),{method:"POST",headers:_e(e)});return Ie(t)},async fetchReviews(e){const t=await fetch(Ee("/api/admin/reviews"),{headers:_e(e)}),s=await Ie(t);return(s==null?void 0:s.data)||s},async updateReviewStatus(e,t,s){const a=await fetch(Ee(`/api/admin/reviews/${t}/status`),{method:"PUT",headers:_e(e),body:JSON.stringify({status:s})});return Ie(a)},async fetchPartnerEarnings(e,t){const s=await fetch(Ee(`/api/admin/partner/${t}/earnings`),{headers:_e(e)});return Ie(s)},async fetchFeeTransactions(e,t={}){const s=new URLSearchParams;t.partnerId&&typeof t.partnerId=="string"&&t.partnerId.trim()&&s.append("partnerId",t.partnerId.trim()),t.feeType&&typeof t.feeType=="string"&&t.feeType.trim()&&t.feeType!=="all"&&s.append("feeType",t.feeType.trim()),t.status&&typeof t.status=="string"&&t.status.trim()&&t.status!=="all"&&s.append("status",t.status.trim()),t.startDate&&typeof t.startDate=="string"&&t.startDate.trim()&&s.append("startDate",t.startDate.trim()),t.endDate&&typeof t.endDate=="string"&&t.endDate.trim()&&s.append("endDate",t.endDate.trim()),t.page&&s.append("page",t.page.toString()),t.limit&&s.append("limit",t.limit.toString());const a=Ee(`/api/admin/fee-transactions${s.toString()?`?${s.toString()}`:""}`),n=await fetch(a,{method:"GET",headers:_e(e)});return Ie(n)},async fetchPartnerWallet(e,t){const s=await fetch(Ee(`/api/admin/adminwallets/${t}`),{headers:_e(e)});return Ie(s)},async fetchAllWalletTransactions(e,t={}){const s=new URLSearchParams({...t.limit&&{limit:t.limit}}).toString(),a=await fetch(Ee(`/api/admin/wallet-transactions?${s}`),{headers:_e(e)});return Ie(a)},async addWalletTransaction(e,t){const s=await fetch(Ee("/api/admin/partner/addwallets"),{method:"PUT",headers:_e(e),body:JSON.stringify(t)});return Ie(s)},async fetchMGPlans(e){const t=await fetch(Ee("/api/admin/mg-plans"),{headers:_e(e)});return Ie(t)},async fetchSubscriptionPlans(e){try{const t=Ee("/api/admin/subscription-plans"),s=await fetch(t,{headers:_e(e)});if((s.headers.get("content-type")||"").includes("text/html")){const n=await s.text();throw console.error("Server returned HTML instead of JSON"),console.error("Response status:",s.status,s.statusText),new Error(`API endpoint returned HTML (${s.status}). Check if the endpoint exists: ${t}`)}return await Ie(s)}catch(t){throw console.error("Error fetching subscription plans:",t),t}},async createSubscriptionPlan(e,t){const s=await fetch(Ee("/api/admin/subscription-plans"),{method:"POST",headers:_e(e),body:JSON.stringify(t)});return Ie(s)},async updateSubscriptionPlan(e,t,s){const a=await fetch(Ee(`/api/admin/subscription-plans/${t}`),{method:"PUT",headers:_e(e),body:JSON.stringify(s)});return Ie(a)},async deleteSubscriptionPlan(e,t){const s=await fetch(Ee(`/api/admin/subscription-plans/${t}`),{method:"DELETE",headers:_e(e)});return Ie(s)},async fetchAMCPlans(e){try{const t=Ee("/api/admin/amc-plans"),s=await fetch(t,{headers:_e(e)});if((s.headers.get("content-type")||"").includes("text/html")){const n=await s.text();throw console.error("Server returned HTML instead of JSON"),console.error("Response status:",s.status,s.statusText),new Error(`API endpoint returned HTML (${s.status}). Check if the endpoint exists: ${t}`)}return await Ie(s)}catch(t){throw console.error("Error fetching AMC plans:",t),t}},async createAMCPlan(e,t){const s=await fetch(Ee("/api/admin/amc-plans"),{method:"POST",headers:_e(e),body:JSON.stringify(t)});return Ie(s)},async updateAMCPlan(e,t,s){const a=await fetch(Ee(`/api/admin/amc-plans/${t}`),{method:"PUT",headers:_e(e),body:JSON.stringify(s)});return Ie(a)},async deleteAMCPlan(e,t){const s=await fetch(Ee(`/api/admin/amc-plans/${t}`),{method:"DELETE",headers:_e(e)});return Ie(s)},async fetchFeaturedReviews(e){const t=await fetch(Ee("/api/admin/featured-reviews"),{headers:_e(e)});return Ie(t)},async createFeaturedReview(e,t){const s=await fetch(Ee("/api/admin/featured-reviews"),{method:"POST",headers:_e(e),body:JSON.stringify(t)});return Ie(s)},async updateFeaturedReview(e,t,s){const a=await fetch(Ee(`/api/admin/featured-reviews/${t}`),{method:"PUT",headers:_e(e),body:JSON.stringify(s)});return Ie(a)},async deleteFeaturedReview(e,t){const s=await fetch(Ee(`/api/admin/featured-reviews/${t}`),{method:"DELETE",headers:_e(e)});return Ie(s)},async createMGPlan(e,t){const s=await fetch(Ee("/api/admin/mg-plans"),{method:"POST",headers:_e(e),body:JSON.stringify(t)});return Ie(s)},async updateMGPlan(e,t,s){const a=await fetch(Ee(`/api/admin/mg-plans/${t}`),{method:"PUT",headers:_e(e),body:JSON.stringify(s)});return Ie(a)},async deleteMGPlan(e,t){const s=await fetch(Ee(`/api/admin/mg-plans/${t}`),{method:"DELETE",headers:_e(e)});return Ie(s)},async fetchPartnerServiceHubs(e,t){const s=await fetch(Ee(`/api/admin/partners/${t}/service-hubs`),{headers:_e(e)});return Ie(s)},async createPartnerServiceHub(e,t,s){const a=await fetch(Ee(`/api/admin/partners/${t}/service-hubs`),{method:"POST",headers:_e(e),body:JSON.stringify(s)});return Ie(a)},async updatePartnerServiceHub(e,t,s,a){const n=await fetch(Ee(`/api/admin/partners/${t}/service-hubs/${s}`),{method:"PUT",headers:_e(e),body:JSON.stringify(a)});return Ie(n)},async deletePartnerServiceHub(e,t,s){const a=await fetch(Ee(`/api/admin/partners/${t}/service-hubs/${s}`),{method:"DELETE",headers:_e(e)});return Ie(a)},async fetchHubs(e,t={}){const s=new URLSearchParams;t.status&&s.append("status",t.status),t.search&&s.append("search",t.search);const a=s.toString(),n=Ee(`/api/admin/hubs${a?`?${a}`:""}`),i=await fetch(n,{headers:_e(e)});return Ie(i)},async fetchHubById(e,t){const s=await fetch(Ee(`/api/admin/hubs/${t}`),{headers:_e(e)});return Ie(s)},async createHub(e,t){const s=await fetch(Ee("/api/admin/hubs"),{method:"POST",headers:_e(e),body:JSON.stringify(t)});return Ie(s)},async updateHub(e,t,s){const a=await fetch(Ee(`/api/admin/hubs/${t}`),{method:"PUT",headers:_e(e),body:JSON.stringify(s)});return Ie(a)},async deleteHub(e,t){const s=await fetch(Ee(`/api/admin/hubs/${t}`),{method:"DELETE",headers:_e(e)});return Ie(s)},async assignHubToPartner(e,t,s){const a=await fetch(Ee(`/api/admin/hubs/${t}/assign-partner`),{method:"POST",headers:_e(e),body:JSON.stringify({partnerId:s})});return Ie(a)},async unassignHubFromPartner(e,t,s){const a=await fetch(Ee(`/api/admin/hubs/${t}/unassign-partner`),{method:"POST",headers:_e(e),body:JSON.stringify({partnerId:s})});return Ie(a)},async fetchHubPartners(e,t){const s=await fetch(Ee(`/api/admin/hubs/${t}/partners`),{headers:_e(e)});return Ie(s)},async addAreaToHub(e,t,s){const a=await fetch(Ee(`/api/admin/hubs/${t}/areas`),{method:"POST",headers:_e(e),body:JSON.stringify(s)});return Ie(a)},async updateAreaInHub(e,t,s,a){const n=await fetch(Ee(`/api/admin/hubs/${t}/areas/${s}`),{method:"PUT",headers:_e(e),body:JSON.stringify(a)});return Ie(n)},async deleteAreaFromHub(e,t,s){const a=await fetch(Ee(`/api/admin/hubs/${t}/areas/${s}`),{method:"DELETE",headers:_e(e)});return Ie(a)},async fetchHubsByPinCode(e,t){const s=await fetch(Ee(`/api/admin/hubs/pin-code/${t}`),{headers:_e(e)});return Ie(s)},async fetchFees(e){const t=await fetch(Ee("/api/admin/fees"),{headers:_e(e)});return Ie(t)},async updateFees(e,t){const s=await fetch(Ee("/api/admin/fees"),{method:"PUT",headers:_e(e),body:JSON.stringify(t)});return Ie(s)},async fetchCategories(e){const t=await fetch(Ee("/api/admin/service-categories"),{headers:_e(e)});return Ie(t)},async createCategory(e,t){const s=await fetch(Ee("/api/admin/service-category"),{method:"POST",headers:_e(e),body:JSON.stringify(t)});return Ie(s)},async updateCategory(e,t,s){const a=await fetch(Ee(`/api/admin/service-category/${t}`),{method:"PUT",headers:_e(e),body:JSON.stringify(s)});return Ie(a)},async deleteCategory(e,t){const s=await fetch(Ee(`/api/admin/service-category/${t}`),{method:"DELETE",headers:_e(e)});return Ie(s)},async fetchPopularServices(e){const t=await fetch(Ee("/api/admin/popular-services"),{headers:_e(e)});return Ie(t)},async createPopularService(e,t){const s=await fetch(Ee("/api/admin/popular-services"),{method:"POST",headers:_e(e),body:JSON.stringify(t)});return Ie(s)},async updatePopularService(e,t,s){const a=await fetch(Ee(`/api/admin/popular-services/${t}`),{method:"PUT",headers:_e(e),body:JSON.stringify(s)});return Ie(a)},async deletePopularService(e,t){const s=await fetch(Ee(`/api/admin/popular-services/${t}`),{method:"DELETE",headers:_e(e)});return Ie(s)},async migratePopularServices(e){const t=await fetch(Ee("/popular-services/migrate"),{method:"POST",headers:_e(e)});return Ie(t)},async updatePopularServicesOrder(e,t){const s=await fetch(Ee("/api/admin/popular-services/order/update"),{method:"PUT",headers:_e(e),body:JSON.stringify({services:t})});return Ie(s)},async fetchModuleData(e,t,s={}){const a=await fetch(Ee(e),{...s,headers:{..._e(t),...s.headers||{}}});return Ie(a)},async fetchMaterialCategories(e){const t=await fetch(Ee("/api/admin/material-categories"),{headers:_e(e)});return Ie(t)},async fetchMaterialCategory(e,t){const s=await fetch(Ee(`/api/admin/material-categories/${t}`),{headers:_e(e)});return Ie(s)},async createMaterialCategory(e,t){const s=await fetch(Ee("/api/admin/material-categories"),{method:"POST",headers:_e(e),body:JSON.stringify(t)});return Ie(s)},async updateMaterialCategory(e,t,s){const a=await fetch(Ee(`/api/admin/material-categories/${t}`),{method:"PUT",headers:_e(e),body:JSON.stringify(s)});return Ie(a)},async deleteMaterialCategory(e,t){const s=await fetch(Ee(`/api/admin/material-categories/${t}`),{method:"DELETE",headers:_e(e)});return Ie(s)},async updateMaterialCategoryOrder(e,t){const s=await fetch(Ee("/api/admin/material-categories/order/update"),{method:"PUT",headers:_e(e),body:JSON.stringify({categories:t})});return Ie(s)},async fetchInventoryItems(e,t={}){const s=new URLSearchParams;t.category&&s.append("category",t.category),t.location&&s.append("location",t.location),t.status&&s.append("status",t.status),t.search&&s.append("search",t.search);const a=s.toString(),n=Ee(`/api/admin/inventory/items${a?`?${a}`:""}`),i=await fetch(n,{headers:_e(e)});return Ie(i)},async fetchInventoryStats(e){const t=await fetch(Ee("/api/admin/inventory/items/stats"),{headers:_e(e)});return Ie(t)},async fetchInventoryItem(e,t){const s=await fetch(Ee(`/api/admin/inventory/items/${t}`),{headers:_e(e)});return Ie(s)},async createInventoryItem(e,t){const s=await fetch(Ee("/api/admin/inventory/items"),{method:"POST",headers:_e(e),body:JSON.stringify(t)});return Ie(s)},async updateInventoryItem(e,t,s){const a=await fetch(Ee(`/api/admin/inventory/items/${t}`),{method:"PUT",headers:_e(e),body:JSON.stringify(s)});return Ie(a)},async deleteInventoryItem(e,t){const s=await fetch(Ee(`/api/admin/inventory/items/${t}`),{method:"DELETE",headers:_e(e)});return Ie(s)},async fetchInventoryItemHistory(e,t){const s=await fetch(Ee(`/api/admin/inventory/items/${t}/history`),{headers:_e(e)});return Ie(s)},async fetchPurchaseOrders(e,t={}){const s=new URLSearchParams;t.status&&s.append("status",t.status),t.supplier&&s.append("supplier",t.supplier),t.search&&s.append("search",t.search);const a=s.toString(),n=Ee(`/api/admin/inventory/purchase-orders${a?`?${a}`:""}`),i=await fetch(n,{headers:_e(e)});return Ie(i)},async fetchPurchaseOrder(e,t){const s=await fetch(Ee(`/api/admin/inventory/purchase-orders/${t}`),{headers:_e(e)});return Ie(s)},async createPurchaseOrder(e,t){const s=await fetch(Ee("/api/admin/inventory/purchase-orders"),{method:"POST",headers:_e(e),body:JSON.stringify(t)});return Ie(s)},async updatePurchaseOrder(e,t,s){const a=await fetch(Ee(`/api/admin/inventory/purchase-orders/${t}`),{method:"PUT",headers:_e(e),body:JSON.stringify(s)});return Ie(a)},async deletePurchaseOrder(e,t){const s=await fetch(Ee(`/api/admin/inventory/purchase-orders/${t}`),{method:"DELETE",headers:_e(e)});return Ie(s)},async fetchThresholds(e){const t=await fetch(Ee("/api/admin/inventory/thresholds"),{headers:_e(e)});return Ie(t)},async fetchThreshold(e,t){const s=await fetch(Ee(`/api/admin/inventory/thresholds/${t}`),{headers:_e(e)});return Ie(s)},async upsertThreshold(e,t){const s=await fetch(Ee("/api/admin/inventory/thresholds"),{method:"POST",headers:_e(e),body:JSON.stringify(t)});return Ie(s)},async deleteThreshold(e,t){const s=await fetch(Ee(`/api/admin/inventory/thresholds/${t}`),{method:"DELETE",headers:_e(e)});return Ie(s)},async updateFCMToken(e,t){const s=await fetch(Ee("/api/firebase/token"),{method:"POST",headers:_e(e),body:JSON.stringify({fcmToken:t,isAdmin:!0})});return Ie(s)},async getNotifications(e){const t=await fetch(Ee("/api/firebase"),{headers:_e(e)});return Ie(t)},async getAllQuotations(e,t={}){const s=new URLSearchParams(t).toString(),a=await fetch(Ee(`/api/admin/quotations?${s}`),{headers:_e(e)});return Ie(a)},async getQuotationById(e,t){const s=await fetch(Ee(`/api/admin/quotations/${t}`),{headers:_e(e)});return Ie(s)},async approveQuotation(e,t){const s=await fetch(Ee(`/api/admin/quotations/${t}/approve`),{method:"PUT",headers:_e(e)});return Ie(s)},async rejectQuotation(e,t,s){const a=await fetch(Ee(`/api/admin/quotations/${t}/reject`),{method:"PUT",headers:_e(e),body:JSON.stringify({rejectionReason:s})});return Ie(a)},async markNotificationsAsRead(e){const t=await fetch(Ee("/api/firebase/mark-read"),{method:"PUT",headers:_e(e)});return Ie(t)},async markNotificationAsRead(e,t){const s=await fetch(Ee(`/api/firebase/${t}/mark-read`),{method:"PUT",headers:_e(e)});return Ie(s)},async initializeWhatsApp(e){const t=await fetch(Ee("/api/admin/whatsapp/initialize"),{method:"POST",headers:_e(e)});return Ie(t)},async getWhatsAppQRCode(e){const t=await fetch(Ee("/api/admin/whatsapp/qr-code"),{method:"GET",headers:_e(e)});return Ie(t)},async getWhatsAppStatus(e){const t=await fetch(Ee("/api/admin/whatsapp/status"),{method:"GET",headers:_e(e)});return Ie(t)},async disconnectWhatsApp(e){const t=await fetch(Ee("/api/admin/whatsapp/disconnect"),{method:"POST",headers:_e(e)});return Ie(t)},async sendTestWhatsAppMessage(e,t,s){const a=await fetch(Ee("/api/admin/whatsapp/test-message"),{method:"POST",headers:_e(e),body:JSON.stringify({phoneNumber:t,message:s})});return Ie(a)},async reconnectWhatsApp(e){const t=await fetch(Ee("/api/admin/whatsapp/reconnect"),{method:"POST",headers:_e(e)});return Ie(t)},async setAutoReconnect(e,t){const s=await fetch(Ee("/api/admin/whatsapp/auto-reconnect"),{method:"POST",headers:_e(e),body:JSON.stringify({enabled:t})});return Ie(s)},async manualPartnerRegistration(e,t){const s=await fetch(Ee("/api/admin/partners/manual-register"),{method:"POST",headers:_e(e),body:JSON.stringify(t)});return Ie(s)}},FO=g.createContext(null),RO={isLoading:!0,isAuthenticated:!1,admin:null,token:null,error:null};function $Q(e,t){var s,a,n;switch(t.type){case"INIT":return{...e,isLoading:!1,isAuthenticated:!!((s=t.payload)!=null&&s.token),admin:((a=t.payload)==null?void 0:a.admin)??null,token:((n=t.payload)==null?void 0:n.token)??null};case"LOGIN_START":return{...e,isLoading:!0,error:null};case"LOGIN_SUCCESS":return{...e,isLoading:!1,isAuthenticated:!0,admin:t.payload.admin,token:t.payload.token,error:null};case"LOGIN_ERROR":return{...e,isLoading:!1,isAuthenticated:!1,admin:null,token:null,error:t.payload};case"LOGOUT":return{...RO,isLoading:!1};default:return e}}const UQ=({children:e})=>{const[t,s]=g.useReducer($Q,RO);g.useEffect(()=>{const i=localStorage.getItem("nexo_admin_auth");if(i)try{const l=JSON.parse(i);s({type:"INIT",payload:l})}catch(l){console.error("Failed to parse admin auth cache",l),localStorage.removeItem("nexo_admin_auth"),s({type:"INIT",payload:null})}else s({type:"INIT",payload:null})},[]);const a=Zw(Fe,t.token,t.isAuthenticated),n=g.useMemo(()=>({...t,notifications:a,login:async(i,l)=>{var o,c;s({type:"LOGIN_START"});try{const d=await i(l),u={token:d.token,admin:d.admin};return localStorage.setItem("nexo_admin_auth",JSON.stringify(u)),s({type:"LOGIN_SUCCESS",payload:u}),u}catch(d){const u=(d==null?void 0:d.message)??((c=(o=d==null?void 0:d.response)==null?void 0:o.data)==null?void 0:c.message)??"Unable to login";throw s({type:"LOGIN_ERROR",payload:u}),new Error(u)}},logout:()=>{localStorage.removeItem("nexo_admin_auth"),eY(),s({type:"LOGOUT"})},clearError:()=>s({type:"LOGIN_ERROR",payload:null})}),[t,a]);return r.jsx(FO.Provider,{value:n,children:e})},Ar=()=>{const e=g.useContext(FO);if(!e)throw new Error("useAdminAuth must be used within AdminAuthProvider");return e},zQ=()=>{const e=ms(),t=Br(),{login:s,error:a,clearError:n}=Ar(),[i,l]=g.useState({email:"",password:""}),[o,c]=g.useState(!1),[d,u]=g.useState(null),m=h=>{const{name:x,value:p}=h.target;l(b=>({...b,[x]:p})),u(null),a&&n()},f=async h=>{var p,b;h.preventDefault(),c(!0),u(null);let x=null;if("Notification"in window){const j=Notification.permission;if(j==="default"||j==="denied")try{x=Notification.requestPermission()}catch(v){console.error("Cannot request notification permission:",v)}}try{await s(Fe.login,i),x&&await x==="granted"&&setTimeout(()=>{window.dispatchEvent(new Event("notificationPermissionGranted"))},500);const j=((b=(p=t.state)==null?void 0:p.from)==null?void 0:b.pathname)??"/admin/dashboard";e(j,{replace:!0})}catch(j){u(j.message)}finally{c(!1)}};return r.jsxs("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center px-4 py-10",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/30 via-primary-dark/30 to-slate-950 opacity-70 pointer-events-none"}),r.jsxs(E.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative max-w-md w-full bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-8 shadow-2xl",children:[r.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary/20 text-primary flex items-center justify-center",children:r.jsx(ni,{className:"text-3xl"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Nexo Admin Access"}),r.jsx("p",{className:"text-sm text-white/60 mt-2",children:"Secure sign-in for operations and leadership teams."})]})]}),r.jsxs("form",{className:"mt-8 space-y-5",onSubmit:f,children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white/80 mb-2",children:"Work Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(cl,{className:"absolute left-3 top-3.5 text-white/40"}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"username",required:!0,value:i.email,onChange:m,className:"w-full bg-white/10 border border-white/10 text-white placeholder:text-white/40 rounded-xl py-3 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-primary focus:bg-white/15 transition",placeholder:"ops@nexo.in"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white/80 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Hd,{className:"absolute left-3 top-3.5 text-white/40"}),r.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:i.password,onChange:m,className:"w-full bg-white/10 border border-white/10 text-white placeholder:text-white/40 rounded-xl py-3 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-primary focus:bg-white/15 transition",placeholder:""})]})]}),(a||d)&&r.jsx("p",{className:"text-sm text-rose-300 bg-rose-500/10 border border-rose-500/30 rounded-lg px-4 py-3",children:d||a}),r.jsxs(E.button,{whileTap:{scale:.98},type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl py-3 transition disabled:opacity-70 disabled:cursor-not-allowed",children:[o&&r.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),o?"Verifying access...":"Sign In"]})]}),r.jsx("div",{className:"mt-8 border-t border-white/10 pt-4 text-xs text-white/40 text-center leading-relaxed",children:"Nexo Admin Console is restricted to authorized personnel. All access is monitored and logged for compliance."})]})]})},Fk=()=>{const{notifications:e}=Ar(),[t,s]=g.useState(!1),a=g.useRef(null),n=(e==null?void 0:e.notifications)||[],i=(e==null?void 0:e.unreadCount)||0,l=e==null?void 0:e.markAsRead,o=e==null?void 0:e.fetchNotifications;g.useEffect(()=>{const m=f=>{a.current&&!a.current.contains(f.target)&&s(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]),g.useEffect(()=>{o&&o()},[o]);const c=async(m=null)=>{l&&(await l(m),o&&await o())},d=async()=>{l&&(await l(),o&&await o())},u=m=>{if(!m)return"";const f=new Date(m),x=new Date-f,p=Math.floor(x/6e4),b=Math.floor(x/36e5),j=Math.floor(x/864e5);return p<1?"Just now":p<60?`${p}m ago`:b<24?`${b}h ago`:j<7?`${j}d ago`:f.toLocaleDateString()};return r.jsxs("div",{className:"relative",ref:a,children:[r.jsxs("button",{onClick:()=>s(!t),className:"relative p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Notifications",children:[r.jsx(ki,{className:"w-5 h-5"}),i>0&&r.jsx("span",{className:"absolute top-0 right-0 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs font-semibold text-white transition-opacity duration-200",children:i>9?"9+":i},i)]}),t&&r.jsxs("div",{className:"absolute right-0 mt-2 w-80 md:w-96 bg-white rounded-xl shadow-2xl border border-slate-200 z-50 max-h-[calc(100vh-120px)] sm:max-h-[600px] flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Notifications"}),r.jsxs("div",{className:"flex items-center gap-2",children:[i>0&&r.jsx("button",{onClick:d,className:"text-xs text-primary hover:text-primary-dark font-medium",children:"Mark all read"}),r.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",children:r.jsx(ut,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"overflow-y-auto flex-1",children:n.length===0?r.jsxs("div",{className:"p-8 text-center text-slate-500",children:[r.jsx(ki,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),r.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):r.jsx("div",{className:"divide-y divide-slate-100",children:n.map(m=>{var h;const f=!m.seen&&!m.read;return r.jsx("div",{className:`p-4 hover:bg-slate-50 transition-colors cursor-pointer ${f?"bg-blue-50/50":""}`,onClick:()=>{f&&c(m._id||m.id)},children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-1",children:r.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-slate-900 break-words line-clamp-2",children:m.title||((h=m.message)==null?void 0:h.split(": ")[0])||"New notification"}),m.message&&r.jsx("p",{className:"text-xs text-slate-600 mt-1 break-words line-clamp-2",children:m.title?m.message:m.message.split(": ").slice(1).join(": ")||m.message}),r.jsx("p",{className:"text-xs text-slate-400 mt-2",children:u(m.date||m.createdAt)})]}),f&&r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})})]})},m._id||m.id||Math.random())})})}),n.length>0&&r.jsx("div",{className:"p-3 border-t border-slate-200 bg-slate-50",children:r.jsx("button",{onClick:()=>{s(!1)},className:"w-full text-sm text-center text-primary hover:text-primary-dark font-medium",children:"View all notifications"})})]})]})},eN=({notification:e,onClose:t,onMarkAsRead:s})=>{var o;const[a,n]=g.useState(!1);if(g.useEffect(()=>{if(e){n(!0);const c=setTimeout(()=>{n(!1),setTimeout(()=>{t&&t()},300)},5e3);return()=>clearTimeout(c)}else n(!1)},[e,t]),!e)return null;const i=c=>{switch(c){case"success":return r.jsx(It,{className:"w-6 h-6 text-emerald-500"});case"alert":return r.jsx(Pu,{className:"w-6 h-6 text-amber-500"});case"message":return r.jsx(zp,{className:"w-6 h-6 text-blue-500"});case"job":return r.jsx(Bs,{className:"w-6 h-6 text-purple-500"});case"info":default:return r.jsx(UI,{className:"w-6 h-6 text-slate-500"})}},l=()=>{s&&e._id&&s(e._id),n(!1),setTimeout(()=>{t()},300)};return r.jsx(jc,{children:a&&r.jsx("div",{className:"fixed inset-0 z-[10000] flex items-start justify-end pointer-events-none overflow-hidden",style:{padding:"0.5rem"},children:r.jsx(E.div,{initial:{opacity:0,x:400,y:0},animate:{opacity:1,x:0,y:0},exit:{opacity:0,x:400},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white rounded-xl shadow-2xl border border-slate-200 p-4 sm:p-6 pointer-events-auto overflow-hidden flex flex-col",style:{maxWidth:"min(calc(100vw - 1rem), 28rem)",width:"calc(100vw - 1rem)",maxHeight:"calc(100vh - 1rem)",marginTop:"0.5rem",marginRight:"0.5rem"},children:r.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 flex-shrink-0 min-w-0",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:i(e.type||"info")}),r.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[r.jsx("h3",{className:"text-sm sm:text-base font-semibold text-slate-900 break-words pr-2 flex-1 min-w-0",children:e.title||((o=e.message)==null?void 0:o.split(": ")[0])||"New Notification"}),r.jsx("button",{onClick:()=>{n(!1),setTimeout(()=>t(),300)},className:"flex-shrink-0 p-1 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Close",children:r.jsx(ut,{className:"w-4 h-4 sm:w-5 sm:h-5 text-slate-400"})})]}),e.message&&r.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mb-3 break-words overflow-wrap-anywhere line-clamp-3",children:e.title?e.message:e.message.split(": ").slice(1).join(": ")||e.message}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 flex-shrink-0",children:[r.jsx("button",{onClick:l,className:"flex-1 px-3 sm:px-4 py-2 bg-primary text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-primary-dark transition-colors whitespace-nowrap",children:"Mark as Read"}),r.jsx("button",{onClick:()=>{n(!1),setTimeout(()=>t(),300)},className:"flex-1 px-3 sm:px-4 py-2 bg-slate-100 text-slate-700 rounded-lg text-xs sm:text-sm font-semibold hover:bg-slate-200 transition-colors whitespace-nowrap",children:"Dismiss"})]})]})]})})})})},cf=[{label:"Overview",icon:Nc,to:"/admin/dashboard"},{label:"Partner Control",icon:sa,to:"/admin/partners"},{label:"Vendor Management",icon:qq,to:"/admin/vendors"},{label:"Customer Bookings",icon:Uq,to:"/admin/bookings"},{label:"Category Management",icon:$w,to:"/admin/categories"},{label:"Popular Services",icon:Yq,to:"/admin/popular-services"},{label:"Subscription Plans",icon:Ya,to:"/admin/subscription-plans"},{label:"AMC Plans",icon:Bs,to:"/admin/amc-plans"},{label:"Featured Reviews",icon:zp,to:"/admin/featured-reviews"},{label:"Hub Management",icon:aa,to:"/admin/hubs"},{label:"Spare Parts",icon:Is,to:"/admin/spares"},{label:"AMC Management",icon:Bs,to:"/admin/amc"},{label:"Lead Management",icon:ur,to:"/admin/leads"},{label:"MG Plans",icon:Ya,to:"/admin/mg-plans"},{label:"Fee Management",icon:Qt,to:"/admin/fees"},{label:"Fee Transactions",icon:zs,to:"/admin/fee-transactions"},{label:"Reports",icon:Bg,to:"/admin/reports"},{label:"Notifications",icon:ki,to:"/admin/notifications"},{label:"Refund Management",icon:Gt,to:"/admin/refunds"},{label:"WhatsApp Settings",icon:zp,to:"/admin/whatsapp-settings"}],VQ=()=>{var d,u;const{admin:e,logout:t,notifications:s}=Ar(),a=ms(),n=Br(),[i,l]=g.useState(!1),o=g.useMemo(()=>{const m=cf.find(f=>n.pathname.startsWith(f.to));return(m==null?void 0:m.label)??"Overview"},[n.pathname]),c=()=>{t(),a("/admin")};return r.jsxs("div",{className:"min-h-screen bg-slate-100 text-slate-900 flex flex-col",children:[r.jsx("header",{className:"lg:hidden bg-white shadow-md border-b border-slate-200 fixed top-0 left-0 right-0 z-[60] w-full",children:r.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>l(!i),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:i?r.jsx(ut,{className:"text-xl"}):r.jsx(Fw,{className:"text-xl"})}),r.jsx("div",{children:r.jsx("h1",{className:"text-lg font-semibold tracking-tight",children:"Nexo Admin"})})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Fk,{}),r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center uppercase font-bold shadow-inner text-sm",children:(((d=e==null?void 0:e.name)==null?void 0:d[0])??"A").toUpperCase()})]})]})}),r.jsxs("div",{className:"flex relative flex-1 pt-[64px] lg:pt-0",children:[r.jsxs("aside",{className:"hidden lg:flex lg:w-72 xl:w-80 flex-col bg-slate-900 text-white fixed top-0 left-0 h-screen overflow-hidden z-40",children:[r.jsxs("div",{className:"px-6 py-6 border-b border-slate-800 flex-shrink-0 bg-slate-900 sticky top-0 z-10",children:[r.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Nexo Admin"}),r.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Operations Control Center"})]}),r.jsx("nav",{className:"flex-1 px-3 py-6 space-y-1 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent",children:cf.map(m=>{const f=m.icon;return r.jsxs(Db,{to:m.to,className:({isActive:h})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 relative group ${h?"bg-white text-slate-900 shadow-lg shadow-white/20":"text-slate-200 hover:bg-slate-800/70"}`,children:[r.jsx(f,{className:"text-lg transition-transform duration-200 group-hover:scale-110"}),m.label]},m.to)})}),r.jsx("div",{className:"px-6 py-6 border-t border-slate-800 flex-shrink-0 bg-slate-900 sticky bottom-0 z-10",children:r.jsxs("button",{onClick:c,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold rounded-xl bg-slate-800 hover:bg-slate-700 transition",type:"button",children:[r.jsx(ic,{})," Logout"]})})]}),i&&r.jsx("div",{className:"lg:hidden fixed inset-0 z-[70] bg-black/50 backdrop-blur-sm transition-opacity",onClick:()=>l(!1),children:r.jsxs("div",{className:"w-80 max-w-[85vw] bg-slate-900 text-white h-full shadow-2xl overflow-y-auto flex flex-col",onClick:m=>m.stopPropagation(),children:[r.jsx("div",{className:"px-6 py-6 border-b border-slate-800 flex-shrink-0 sticky top-0 bg-slate-900 z-10",children:r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-semibold tracking-tight",children:"Nexo Admin"}),r.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Operations Control Center"})]}),r.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition text-white",type:"button",children:r.jsx(ut,{className:"text-xl"})})]})}),r.jsx("nav",{className:"flex-1 px-3 py-6 space-y-1 overflow-y-auto",children:cf.map(m=>{const f=m.icon;return r.jsxs(Db,{to:m.to,onClick:()=>l(!1),className:({isActive:h})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition ${h?"bg-white text-slate-900 shadow-lg":"text-slate-200 hover:bg-slate-800/70"}`,children:[r.jsx(f,{className:"text-lg"}),m.label]},m.to)})}),r.jsx("div",{className:"px-6 py-6 border-t border-slate-800 flex-shrink-0 sticky bottom-0 bg-slate-900 z-10",children:r.jsxs("button",{onClick:c,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold rounded-xl bg-slate-800 hover:bg-slate-700 transition text-white",type:"button",children:[r.jsx(ic,{})," Logout"]})})]})}),r.jsxs("div",{className:"flex-1 min-w-0 w-full lg:ml-72 xl:ml-80",children:[r.jsx("header",{className:"hidden lg:block bg-white shadow-sm border-b border-slate-200 sticky top-0 z-30",children:r.jsxs("div",{className:"px-5 sm:px-8 py-5 flex items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:["Admin / ",o]}),r.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Admin Dashboard"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Fk,{}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-700",children:(e==null?void 0:e.name)??"Admin"}),r.jsx("p",{className:"text-xs text-slate-400",children:(e==null?void 0:e.role)??"Super Admin"})]}),r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center uppercase font-bold shadow-inner",children:(((u=e==null?void 0:e.name)==null?void 0:u[0])??"A").toUpperCase()})]})]})}),r.jsx("nav",{className:"lg:hidden bg-white border-b border-slate-200 sticky top-[64px] z-[55]",children:r.jsx("div",{className:"px-4 py-3 flex items-center gap-2 overflow-x-auto scrollbar-hide",children:cf.map(m=>{const f=m.icon;return r.jsxs(Db,{to:m.to,className:({isActive:h})=>`flex items-center gap-2 px-4 py-2 rounded-full text-xs font-semibold whitespace-nowrap transition ${h?"bg-primary text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[r.jsx(f,{className:"text-sm"}),m.label]},m.to)})})}),r.jsx("main",{className:"px-4 sm:px-6 lg:px-8 py-6 min-h-screen",children:r.jsx(Uc,{})})]})]}),r.jsx(eN,{notification:s==null?void 0:s.currentNotification,onClose:(s==null?void 0:s.closeNotificationDialog)||(()=>{}),onMarkAsRead:(s==null?void 0:s.markNotificationAsRead)||(()=>{})})]})},HQ=()=>{const{isAuthenticated:e,isLoading:t}=Ar(),s=Br();return t?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-900 text-white",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),r.jsx("p",{className:"text-sm font-medium tracking-wide text-white/80",children:"Loading control center..."})]})}):e?r.jsx(Uc,{}):r.jsx(Zh,{to:"/admin",state:{from:s},replace:!0})},$r=({title:e,subtitle:t,actions:s})=>r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end lg:justify-between gap-4 mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:e}),t&&r.jsx("p",{className:"text-sm text-slate-500 mt-2 max-w-2xl",children:t})]}),s&&r.jsx("div",{className:"flex flex-wrap gap-3",children:s})]}),Qa=({label:e,value:t,trend:s,intent:a="positive",description:n,icon:i,color:l="bg-primary",gradient:o})=>{const c=a==="negative"?"text-rose-500 bg-rose-500/10 border-rose-500/20":a==="warning"?"text-amber-500 bg-amber-500/10 border-amber-500/20":"text-emerald-500 bg-emerald-500/10 border-emerald-500/20",d=o?`bg-gradient-to-br ${o}`:`${l} bg-opacity-10`;return r.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-md hover:shadow-lg transition-all duration-300 px-5 py-6 flex flex-col gap-4 relative overflow-hidden group",children:[r.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 ${d} rounded-full -mr-12 -mt-12 opacity-10 group-hover:opacity-20 transition-opacity`}),r.jsxs("div",{className:"flex items-start justify-between gap-3 relative z-10",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 mb-1",children:e}),r.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1 mb-2",children:typeof t=="number"?t.toLocaleString("en-IN"):t}),s&&r.jsx("div",{className:"flex items-center gap-2 mt-2",children:r.jsx("span",{className:`text-xs font-semibold px-3 py-1.5 rounded-lg border ${c} inline-flex items-center gap-1`,children:s})}),n&&r.jsx("p",{className:"text-xs text-slate-500 mt-2 leading-relaxed",children:n})]}),i&&r.jsx("div",{className:`w-14 h-14 rounded-xl ${d} flex items-center justify-center flex-shrink-0 shadow-sm group-hover:scale-110 transition-transform duration-300`,children:r.jsx(i,{className:`text-xl ${o?"text-white":"text-primary"}`})})]}),r.jsx("div",{className:"relative z-10 mt-2",children:r.jsx("div",{className:"h-0.5 bg-slate-100 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full ${o?`bg-gradient-to-r ${o}`:l} rounded-full transition-all duration-500`,style:{width:"100%"}})})})]})};function BO(e){var t,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=BO(e[t]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function Yt(){for(var e,t,s=0,a="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=BO(e))&&(a&&(a+=" "),a+=t);return a}var WQ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function tN(e){if(typeof e!="string")return!1;var t=WQ;return t.includes(e)}var GQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function $O(e){if(typeof e!="string")return!1;var t=GQ;return t.includes(e)}function UO(e){return typeof e=="string"&&e.startsWith("data-")}function Sa(e){var t=Object.entries(e).filter(s=>{var[a]=s;return $O(a)||UO(a)});return Object.fromEntries(t)}function Pc(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Sa(t)}return typeof e=="object"&&!Array.isArray(e)?Sa(e):null}function da(e){var t=Object.entries(e).filter(s=>{var[a]=s;return $O(a)||UO(a)||tN(a)});return Object.fromEntries(t)}function KQ(e){return e==null?null:g.isValidElement(e)?da(e.props):typeof e=="object"&&!Array.isArray(e)?da(e):null}var qQ=["children","width","height","viewBox","className","style","title","desc"];function h2(){return h2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},h2.apply(null,arguments)}function YQ(e,t){if(e==null)return{};var s,a,n=XQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function XQ(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var rN=g.forwardRef((e,t)=>{var{children:s,width:a,height:n,viewBox:i,className:l,style:o,title:c,desc:d}=e,u=YQ(e,qQ),m=i||{width:a,height:n,x:0,y:0},f=Yt("recharts-surface",l);return g.createElement("svg",h2({},da(u),{className:f,width:a,height:n,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),g.createElement("title",null,c),g.createElement("desc",null,d),s)}),JQ=["children","className"];function f2(){return f2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},f2.apply(null,arguments)}function QQ(e,t){if(e==null)return{};var s,a,n=ZQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function ZQ(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Yr=g.forwardRef((e,t)=>{var{children:s,className:a}=e,n=QQ(e,JQ),i=Yt("recharts-layer",a);return g.createElement("g",f2({className:i},da(n),{ref:t}),s)}),zO=g.createContext(null),eZ=()=>g.useContext(zO);function gr(e){return function(){return e}}const VO=Math.cos,Kp=Math.sin,ii=Math.sqrt,qp=Math.PI,Vg=2*qp,p2=Math.PI,x2=2*p2,Vo=1e-6,tZ=x2-Vo;function HO(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=arguments[t]+e[t]}function rZ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return HO;const s=10**t;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*s)/s+a[n]}}class sZ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?HO:rZ(t)}moveTo(t,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,s){this._append`L${this._x1=+t},${this._y1=+s}`}quadraticCurveTo(t,s,a,n){this._append`Q${+t},${+s},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(t,s,a,n,i,l){this._append`C${+t},${+s},${+a},${+n},${this._x1=+i},${this._y1=+l}`}arcTo(t,s,a,n,i){if(t=+t,s=+s,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=a-t,d=n-s,u=l-t,m=o-s,f=u*u+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=s}`;else if(f>Vo)if(!(Math.abs(m*c-d*u)>Vo)||!i)this._append`L${this._x1=t},${this._y1=s}`;else{let h=a-l,x=n-o,p=c*c+d*d,b=h*h+x*x,j=Math.sqrt(p),v=Math.sqrt(f),y=i*Math.tan((p2-Math.acos((p+f-b)/(2*j*v)))/2),w=y/v,N=y/j;Math.abs(w-1)>Vo&&this._append`L${t+w*u},${s+w*m}`,this._append`A${i},${i},0,0,${+(m*h>u*x)},${this._x1=t+N*c},${this._y1=s+N*d}`}}arc(t,s,a,n,i,l){if(t=+t,s=+s,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let o=a*Math.cos(n),c=a*Math.sin(n),d=t+o,u=s+c,m=1^l,f=l?n-i:i-n;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Vo||Math.abs(this._y1-u)>Vo)&&this._append`L${d},${u}`,a&&(f<0&&(f=f%x2+x2),f>tZ?this._append`A${a},${a},0,1,${m},${t-o},${s-c}A${a},${a},0,1,${m},${this._x1=d},${this._y1=u}`:f>Vo&&this._append`A${a},${a},0,${+(f>=p2)},${m},${this._x1=t+a*Math.cos(i)},${this._y1=s+a*Math.sin(i)}`)}rect(t,s,a,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+s}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function sN(e){let t=3;return e.digits=function(s){if(!arguments.length)return t;if(s==null)t=null;else{const a=Math.floor(s);if(!(a>=0))throw new RangeError(`invalid digits: ${s}`);t=a}return e},()=>new sZ(t)}function aN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function WO(e){this._context=e}WO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hg(e){return new WO(e)}function GO(e){return e[0]}function KO(e){return e[1]}function qO(e,t){var s=gr(!0),a=null,n=Hg,i=null,l=sN(o);e=typeof e=="function"?e:e===void 0?GO:gr(e),t=typeof t=="function"?t:t===void 0?KO:gr(t);function o(c){var d,u=(c=aN(c)).length,m,f=!1,h;for(a==null&&(i=n(h=l())),d=0;d<=u;++d)!(d<u&&s(m=c[d],d,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(m,d,c),+t(m,d,c));if(h)return i=null,h+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:gr(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:gr(+c),o):t},o.defined=function(c){return arguments.length?(s=typeof c=="function"?c:gr(!!c),o):s},o.curve=function(c){return arguments.length?(n=c,a!=null&&(i=n(a)),o):n},o.context=function(c){return arguments.length?(c==null?a=i=null:i=n(a=c),o):a},o}function df(e,t,s){var a=null,n=gr(!0),i=null,l=Hg,o=null,c=sN(d);e=typeof e=="function"?e:e===void 0?GO:gr(+e),t=typeof t=="function"?t:gr(t===void 0?0:+t),s=typeof s=="function"?s:s===void 0?KO:gr(+s);function d(m){var f,h,x,p=(m=aN(m)).length,b,j=!1,v,y=new Array(p),w=new Array(p);for(i==null&&(o=l(v=c())),f=0;f<=p;++f){if(!(f<p&&n(b=m[f],f,m))===j)if(j=!j)h=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=f-1;x>=h;--x)o.point(y[x],w[x]);o.lineEnd(),o.areaEnd()}j&&(y[f]=+e(b,f,m),w[f]=+t(b,f,m),o.point(a?+a(b,f,m):y[f],s?+s(b,f,m):w[f]))}if(v)return o=null,v+""||null}function u(){return qO().defined(n).curve(l).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:gr(+m),a=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:gr(+m),d):e},d.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:gr(+m),d):a},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:gr(+m),s=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:gr(+m),d):t},d.y1=function(m){return arguments.length?(s=m==null?null:typeof m=="function"?m:gr(+m),d):s},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(s)},d.lineX1=function(){return u().x(a).y(t)},d.defined=function(m){return arguments.length?(n=typeof m=="function"?m:gr(!!m),d):n},d.curve=function(m){return arguments.length?(l=m,i!=null&&(o=l(i)),d):l},d.context=function(m){return arguments.length?(m==null?i=o=null:o=l(i=m),d):i},d}class YO{constructor(t,s){this._context=t,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,s){switch(t=+t,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,s,t,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,t,this._y0,t,s);break}}this._x0=t,this._y0=s}}function aZ(e){return new YO(e,!0)}function nZ(e){return new YO(e,!1)}const nN={draw(e,t){const s=ii(t/qp);e.moveTo(s,0),e.arc(0,0,s,0,Vg)}},iZ={draw(e,t){const s=ii(t/5)/2;e.moveTo(-3*s,-s),e.lineTo(-s,-s),e.lineTo(-s,-3*s),e.lineTo(s,-3*s),e.lineTo(s,-s),e.lineTo(3*s,-s),e.lineTo(3*s,s),e.lineTo(s,s),e.lineTo(s,3*s),e.lineTo(-s,3*s),e.lineTo(-s,s),e.lineTo(-3*s,s),e.closePath()}},XO=ii(1/3),lZ=XO*2,oZ={draw(e,t){const s=ii(t/lZ),a=s*XO;e.moveTo(0,-s),e.lineTo(a,0),e.lineTo(0,s),e.lineTo(-a,0),e.closePath()}},cZ={draw(e,t){const s=ii(t),a=-s/2;e.rect(a,a,s,s)}},dZ=.8908130915292852,JO=Kp(qp/10)/Kp(7*qp/10),uZ=Kp(Vg/10)*JO,mZ=-VO(Vg/10)*JO,hZ={draw(e,t){const s=ii(t*dZ),a=uZ*s,n=mZ*s;e.moveTo(0,-s),e.lineTo(a,n);for(let i=1;i<5;++i){const l=Vg*i/5,o=VO(l),c=Kp(l);e.lineTo(c*s,-o*s),e.lineTo(o*a-c*n,c*a+o*n)}e.closePath()}},cv=ii(3),fZ={draw(e,t){const s=-ii(t/(cv*3));e.moveTo(0,s*2),e.lineTo(-cv*s,-s),e.lineTo(cv*s,-s),e.closePath()}},hn=-.5,fn=ii(3)/2,g2=1/ii(12),pZ=(g2/2+1)*3,xZ={draw(e,t){const s=ii(t/pZ),a=s/2,n=s*g2,i=a,l=s*g2+s,o=-i,c=l;e.moveTo(a,n),e.lineTo(i,l),e.lineTo(o,c),e.lineTo(hn*a-fn*n,fn*a+hn*n),e.lineTo(hn*i-fn*l,fn*i+hn*l),e.lineTo(hn*o-fn*c,fn*o+hn*c),e.lineTo(hn*a+fn*n,hn*n-fn*a),e.lineTo(hn*i+fn*l,hn*l-fn*i),e.lineTo(hn*o+fn*c,hn*c-fn*o),e.closePath()}};function gZ(e,t){let s=null,a=sN(n);e=typeof e=="function"?e:gr(e||nN),t=typeof t=="function"?t:gr(t===void 0?64:+t);function n(){let i;if(s||(s=i=a()),e.apply(this,arguments).draw(s,+t.apply(this,arguments)),i)return s=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:gr(i),n):e},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:gr(+i),n):t},n.context=function(i){return arguments.length?(s=i??null,n):s},n}function Yp(){}function Xp(e,t,s){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+s)/6)}function QO(e){this._context=e}QO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yZ(e){return new QO(e)}function ZO(e){this._context=e}ZO.prototype={areaStart:Yp,areaEnd:Yp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bZ(e){return new ZO(e)}function e7(e){this._context=e}e7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(s,a):this._context.moveTo(s,a);break;case 3:this._point=4;default:Xp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vZ(e){return new e7(e)}function t7(e){this._context=e}t7.prototype={areaStart:Yp,areaEnd:Yp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function jZ(e){return new t7(e)}function Rk(e){return e<0?-1:1}function Bk(e,t,s){var a=e._x1-e._x0,n=t-e._x1,i=(e._y1-e._y0)/(a||n<0&&-0),l=(s-e._y1)/(n||a<0&&-0),o=(i*n+l*a)/(a+n);return(Rk(i)+Rk(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function $k(e,t){var s=e._x1-e._x0;return s?(3*(e._y1-e._y0)/s-t)/2:t}function dv(e,t,s){var a=e._x0,n=e._y0,i=e._x1,l=e._y1,o=(i-a)/3;e._context.bezierCurveTo(a+o,n+o*t,i-o,l-o*s,i,l)}function Jp(e){this._context=e}Jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dv(this,this._t0,$k(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var s=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dv(this,$k(this,s=Bk(this,e,t)),s);break;default:dv(this,this._t0,s=Bk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=s}}};function r7(e){this._context=new s7(e)}(r7.prototype=Object.create(Jp.prototype)).point=function(e,t){Jp.prototype.point.call(this,t,e)};function s7(e){this._context=e}s7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,s,a,n,i){this._context.bezierCurveTo(t,e,a,s,i,n)}};function wZ(e){return new Jp(e)}function NZ(e){return new r7(e)}function a7(e){this._context=e}a7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,s=e.length;if(s)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),s===2)this._context.lineTo(e[1],t[1]);else for(var a=Uk(e),n=Uk(t),i=0,l=1;l<s;++i,++l)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],e[l],t[l]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Uk(e){var t,s=e.length-1,a,n=new Array(s),i=new Array(s),l=new Array(s);for(n[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<s-1;++t)n[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(n[s-1]=2,i[s-1]=7,l[s-1]=8*e[s-1]+e[s],t=1;t<s;++t)a=n[t]/i[t-1],i[t]-=a,l[t]-=a*l[t-1];for(n[s-1]=l[s-1]/i[s-1],t=s-2;t>=0;--t)n[t]=(l[t]-n[t+1])/i[t];for(i[s-1]=(e[s]+n[s-1])/2,t=0;t<s-1;++t)i[t]=2*e[t+1]-n[t+1];return[n,i]}function SZ(e){return new a7(e)}function Wg(e,t){this._context=e,this._t=t}Wg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var s=this._x*(1-this._t)+e*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,t)}break}}this._x=e,this._y=t}};function kZ(e){return new Wg(e,.5)}function CZ(e){return new Wg(e,0)}function PZ(e){return new Wg(e,1)}function fu(e,t){if((l=e.length)>1)for(var s=1,a,n,i=e[t[0]],l,o=i.length;s<l;++s)for(n=i,i=e[t[s]],a=0;a<o;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function y2(e){for(var t=e.length,s=new Array(t);--t>=0;)s[t]=t;return s}function AZ(e,t){return e[t]}function TZ(e){const t=[];return t.key=e,t}function EZ(){var e=gr([]),t=y2,s=fu,a=AZ;function n(i){var l=Array.from(e.apply(this,arguments),TZ),o,c=l.length,d=-1,u;for(const m of i)for(o=0,++d;o<c;++o)(l[o][d]=[0,+a(m,l[o].key,d,i)]).data=m;for(o=0,u=aN(t(l));o<c;++o)l[u[o]].index=o;return s(l,u),l}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:gr(Array.from(i)),n):e},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:gr(+i),n):a},n.order=function(i){return arguments.length?(t=i==null?y2:typeof i=="function"?i:gr(Array.from(i)),n):t},n.offset=function(i){return arguments.length?(s=i??fu,n):s},n}function _Z(e,t){if((a=e.length)>0){for(var s,a,n=0,i=e[0].length,l;n<i;++n){for(l=s=0;s<a;++s)l+=e[s][n][1]||0;if(l)for(s=0;s<a;++s)e[s][n][1]/=l}fu(e,t)}}function IZ(e,t){if((n=e.length)>0){for(var s=0,a=e[t[0]],n,i=a.length;s<i;++s){for(var l=0,o=0;l<n;++l)o+=e[l][s][1]||0;a[s][1]+=a[s][0]=-o/2}fu(e,t)}}function OZ(e,t){if(!(!((l=e.length)>0)||!((i=(n=e[t[0]]).length)>0))){for(var s=0,a=1,n,i,l;a<i;++a){for(var o=0,c=0,d=0;o<l;++o){for(var u=e[t[o]],m=u[a][1]||0,f=u[a-1][1]||0,h=(m-f)/2,x=0;x<o;++x){var p=e[t[x]],b=p[a][1]||0,j=p[a-1][1]||0;h+=b-j}c+=m,d+=h*m}n[a-1][1]+=n[a-1][0]=s,c&&(s-=d/c)}n[a-1][1]+=n[a-1][0]=s,fu(e,t)}}var Gg={},n7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s==="__proto__"}e.isUnsafeProperty=t})(n7);var iN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){switch(typeof s){case"number":case"symbol":return!1;case"string":return s.includes(".")||s.includes("[")||s.includes("]")}}e.isDeepKey=t})(iN);var Kg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){var a;return typeof s=="string"||typeof s=="symbol"?s:Object.is((a=s==null?void 0:s.valueOf)==null?void 0:a.call(s),-0)?"-0":String(s)}e.toKey=t})(Kg);var qg={},i7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){if(s==null)return"";if(typeof s=="string")return s;if(Array.isArray(s))return s.map(t).join(",");const a=String(s);return a==="0"&&Object.is(Number(s),-0)?"-0":a}e.toString=t})(i7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i7,s=Kg;function a(n){if(Array.isArray(n))return n.map(s.toKey);if(typeof n=="symbol")return[n];n=t.toString(n);const i=[],l=n.length;if(l===0)return i;let o=0,c="",d="",u=!1;for(n.charCodeAt(0)===46&&(i.push(""),o++);o<l;){const m=n[o];d?m==="\\"&&o+1<l?(o++,c+=n[o]):m===d?d="":c+=m:u?m==='"'||m==="'"?d=m:m==="]"?(u=!1,i.push(c),c=""):c+=m:m==="["?(u=!0,c&&(i.push(c),c="")):m==="."?c&&(i.push(c),c=""):c+=m,o++}return c&&i.push(c),i}e.toPath=a})(qg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n7,s=iN,a=Kg,n=qg;function i(o,c,d){if(o==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=o[c];return u===void 0?s.isDeepKey(c)?i(o,n.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=a.toKey(c));const u=o[c];return u===void 0?d:u}default:{if(Array.isArray(c))return l(o,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=o[c];return u===void 0?d:u}}}function l(o,c,d){if(c.length===0)return d;let u=o;for(let m=0;m<c.length;m++){if(u==null||t.isUnsafeProperty(c[m]))return d;u=u[c[m]]}return u===void 0?d:u}e.get=i})(Gg);var DZ=Gg.get;const Ac=Dn(DZ);var As=e=>e===0?0:e>0?1:-1,_n=e=>typeof e=="number"&&e!=+e,ml=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,xt=e=>(typeof e=="number"||e instanceof Number)&&!_n(e),Pi=e=>xt(e)||typeof e=="string",MZ=0,Ch=e=>{var t=++MZ;return"".concat(e||"").concat(t)},ia=function(t,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xt(t)&&typeof t!="string")return a;var i;if(ml(t)){if(s==null)return a;var l=t.indexOf("%");i=s*parseFloat(t.slice(0,l))/100}else i=+t;return _n(i)&&(i=a),n&&s!=null&&i>s&&(i=s),i},l7=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,s={},a=0;a<t;a++)if(!s[e[a]])s[e[a]]=!0;else return!0;return!1};function rr(e,t,s){return xt(e)&&xt(t)?e+s*(t-e):t}function o7(e,t,s){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):Ac(a,t))===s)}var kr=e=>e===null||typeof e>"u",l0=e=>kr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function LZ(e){return e!=null}function Gc(){}var FZ=["type","size","sizeType"];function b2(){return b2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},b2.apply(null,arguments)}function zk(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Vk(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(s),!0).forEach(function(a){RZ(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):zk(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function RZ(e,t,s){return(t=BZ(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function BZ(e){var t=$Z(e,"string");return typeof t=="symbol"?t:t+""}function $Z(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UZ(e,t){if(e==null)return{};var s,a,n=zZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function zZ(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var c7={symbolCircle:nN,symbolCross:iZ,symbolDiamond:oZ,symbolSquare:cZ,symbolStar:hZ,symbolTriangle:fZ,symbolWye:xZ},VZ=Math.PI/180,HZ=e=>{var t="symbol".concat(l0(e));return c7[t]||nN},WZ=(e,t,s)=>{if(t==="area")return e;switch(s){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*VZ;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},GZ=(e,t)=>{c7["symbol".concat(l0(e))]=t},lN=e=>{var{type:t="circle",size:s=64,sizeType:a="area"}=e,n=UZ(e,FZ),i=Vk(Vk({},n),{},{type:t,size:s,sizeType:a}),l="circle";typeof t=="string"&&(l=t);var o=()=>{var f=HZ(l),h=gZ().type(f).size(WZ(s,a,l)),x=h();if(x!==null)return x},{className:c,cx:d,cy:u}=i,m=da(i);return xt(d)&&xt(u)&&xt(s)?g.createElement("path",b2({},m,{className:Yt("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:o()})):null};lN.registerSymbol=GZ;var d7=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,oN=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(g.isValidElement(e)&&(s=e.props),typeof s!="object"&&typeof s!="function")return null;var a={};return Object.keys(s).forEach(n=>{tN(n)&&(a[n]=i=>s[n](s,i))}),a},KZ=(e,t,s)=>a=>(e(t,s,a),null),o0=(e,t,s)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(n=>{var i=e[n];tN(n)&&typeof i=="function"&&(a||(a={}),a[n]=KZ(i,t,s))}),a};function Hk(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function qZ(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(s),!0).forEach(function(a){YZ(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Hk(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function YZ(e,t,s){return(t=XZ(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function XZ(e){var t=JZ(e,"string");return typeof t=="symbol"?t:t+""}function JZ(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xr(e,t){var s=qZ({},e),a=t,n=Object.keys(t),i=n.reduce((l,o)=>(l[o]===void 0&&a[o]!==void 0&&(l[o]=a[o]),l),s);return i}function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Qp.apply(null,arguments)}function Wk(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function QZ(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Wk(Object(s),!0).forEach(function(a){ZZ(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Wk(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ZZ(e,t,s){return(t=eee(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function eee(e){var t=tee(e,"string");return typeof t=="symbol"?t:t+""}function tee(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bn=32,ree={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function see(e){var{data:t,iconType:s,inactiveColor:a}=e,n=bn/2,i=bn/6,l=bn/3,o=t.inactive?a:t.color,c=s??t.type;if(c==="none")return null;if(c==="plainline"){var d;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(d=t.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:n,x2:bn,y2:n,className:"recharts-legend-icon"})}if(c==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(n,`
            H`).concat(bn,"M").concat(2*l,",").concat(n,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(n),className:"recharts-legend-icon"});if(c==="rect")return g.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(bn/8,"h").concat(bn,"v").concat(bn*3/4,"h").concat(-bn,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var u=QZ({},t);return delete u.legendIcon,g.cloneElement(t.legendIcon,u)}return g.createElement(lN,{fill:o,cx:n,cy:n,size:bn,sizeType:"diameter",type:c})}function aee(e){var{payload:t,iconSize:s,layout:a,formatter:n,inactiveColor:i,iconType:l}=e,o={x:0,y:0,width:bn,height:bn},c={display:a==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,m)=>{var f=u.formatter||n,h=Yt({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:u.inactive});if(u.type==="none")return null;var x=u.inactive?i:u.color,p=f?f(u.value,u,m):u.value;return g.createElement("li",Qp({className:h,style:c,key:"legend-item-".concat(m)},o0(e,u,m)),g.createElement(rN,{width:s,height:s,viewBox:o,style:d,"aria-label":"".concat(p," legend icon")},g.createElement(see,{data:u,iconType:l,inactiveColor:i})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},p))})}var nee=e=>{var t=Xr(e,ree),{payload:s,layout:a,align:n}=t;if(!s||!s.length)return null;var i={padding:0,margin:0,textAlign:a==="horizontal"?n:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:i},g.createElement(aee,Qp({},t,{payload:s})))},u7={},m7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s,a){const n=new Map;for(let i=0;i<s.length;i++){const l=s[i],o=a(l);n.has(o)||n.set(o,l)}return Array.from(n.values())}e.uniqBy=t})(m7);var cN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s}e.identity=t})(cN);var h7={},Yg={},f7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return Number.isSafeInteger(s)&&s>=0}e.isLength=t})(f7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f7;function s(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=s})(Yg);var p7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return typeof s=="object"&&s!==null}e.isObjectLike=t})(p7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yg,s=p7;function a(n){return s.isObjectLike(n)&&t.isArrayLike(n)}e.isArrayLikeObject=a})(h7);var x7={},g7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gg;function s(a){return function(n){return t.get(n,a)}}e.property=s})(g7);var y7={},dN={},b7={},uN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s!==null&&(typeof s=="object"||typeof s=="function")}e.isObject=t})(uN);var mN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s==null||typeof s!="object"&&typeof s!="function"}e.isPrimitive=t})(mN);var hN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s,a){return s===a||Number.isNaN(s)&&Number.isNaN(a)}e.eq=t})(hN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uN,s=mN,a=hN;function n(u,m,f){return typeof f!="function"?n(u,m,()=>{}):i(u,m,function h(x,p,b,j,v,y){const w=f(x,p,b,j,v,y);return w!==void 0?!!w:i(x,p,h,y)},new Map)}function i(u,m,f,h){if(m===u)return!0;switch(typeof m){case"object":return l(u,m,f,h);case"function":return Object.keys(m).length>0?i(u,{...m},f,h):a.eq(u,m);default:return t.isObject(u)?typeof m=="string"?m==="":!0:a.eq(u,m)}}function l(u,m,f,h){if(m==null)return!0;if(Array.isArray(m))return c(u,m,f,h);if(m instanceof Map)return o(u,m,f,h);if(m instanceof Set)return d(u,m,f,h);const x=Object.keys(m);if(u==null)return x.length===0;if(x.length===0)return!0;if(h!=null&&h.has(m))return h.get(m)===u;h==null||h.set(m,u);try{for(let p=0;p<x.length;p++){const b=x[p];if(!s.isPrimitive(u)&&!(b in u)||m[b]===void 0&&u[b]!==void 0||m[b]===null&&u[b]!==null||!f(u[b],m[b],b,u,m,h))return!1}return!0}finally{h==null||h.delete(m)}}function o(u,m,f,h){if(m.size===0)return!0;if(!(u instanceof Map))return!1;for(const[x,p]of m.entries()){const b=u.get(x);if(f(b,p,x,u,m,h)===!1)return!1}return!0}function c(u,m,f,h){if(m.length===0)return!0;if(!Array.isArray(u))return!1;const x=new Set;for(let p=0;p<m.length;p++){const b=m[p];let j=!1;for(let v=0;v<u.length;v++){if(x.has(v))continue;const y=u[v];let w=!1;if(f(y,b,p,u,m,h)&&(w=!0),w){x.add(v),j=!0;break}}if(!j)return!1}return!0}function d(u,m,f,h){return m.size===0?!0:u instanceof Set?c([...u],[...m],f,h):!1}e.isMatchWith=n,e.isSetMatch=d})(b7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b7;function s(a,n){return t.isMatchWith(a,n,()=>{})}e.isMatch=s})(dN);var v7={},fN={},j7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return Object.getOwnPropertySymbols(s).filter(a=>Object.prototype.propertyIsEnumerable.call(s,a))}e.getSymbols=t})(j7);var pN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}e.getTag=t})(pN);var xN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",s="[object String]",a="[object Number]",n="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",m="[object Function]",f="[object ArrayBuffer]",h="[object Object]",x="[object Error]",p="[object DataView]",b="[object Uint8Array]",j="[object Uint8ClampedArray]",v="[object Uint16Array]",y="[object Uint32Array]",w="[object BigUint64Array]",N="[object Int8Array]",k="[object Int16Array]",S="[object Int32Array]",P="[object BigInt64Array]",_="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=f,e.arrayTag=u,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=w,e.booleanTag=n,e.dataViewTag=p,e.dateTag=o,e.errorTag=x,e.float32ArrayTag=_,e.float64ArrayTag=C,e.functionTag=m,e.int16ArrayTag=k,e.int32ArrayTag=S,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=a,e.objectTag=h,e.regexpTag=t,e.setTag=d,e.stringTag=s,e.symbolTag=l,e.uint16ArrayTag=v,e.uint32ArrayTag=y,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=j})(xN);var w7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}e.isTypedArray=t})(w7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j7,s=pN,a=xN,n=mN,i=w7;function l(u,m){return o(u,void 0,u,new Map,m)}function o(u,m,f,h=new Map,x=void 0){const p=x==null?void 0:x(u,m,f,h);if(p!==void 0)return p;if(n.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const b=new Array(u.length);h.set(u,b);for(let j=0;j<u.length;j++)b[j]=o(u[j],j,f,h,x);return Object.hasOwn(u,"index")&&(b.index=u.index),Object.hasOwn(u,"input")&&(b.input=u.input),b}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const b=new RegExp(u.source,u.flags);return b.lastIndex=u.lastIndex,b}if(u instanceof Map){const b=new Map;h.set(u,b);for(const[j,v]of u)b.set(j,o(v,j,f,h,x));return b}if(u instanceof Set){const b=new Set;h.set(u,b);for(const j of u)b.add(o(j,void 0,f,h,x));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const b=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,b);for(let j=0;j<u.length;j++)b[j]=o(u[j],j,f,h,x);return b}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const b=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,b),c(b,u,f,h,x),b}if(typeof File<"u"&&u instanceof File){const b=new File([u],u.name,{type:u.type});return h.set(u,b),c(b,u,f,h,x),b}if(typeof Blob<"u"&&u instanceof Blob){const b=new Blob([u],{type:u.type});return h.set(u,b),c(b,u,f,h,x),b}if(u instanceof Error){const b=new u.constructor;return h.set(u,b),b.message=u.message,b.name=u.name,b.stack=u.stack,b.cause=u.cause,c(b,u,f,h,x),b}if(u instanceof Boolean){const b=new Boolean(u.valueOf());return h.set(u,b),c(b,u,f,h,x),b}if(u instanceof Number){const b=new Number(u.valueOf());return h.set(u,b),c(b,u,f,h,x),b}if(u instanceof String){const b=new String(u.valueOf());return h.set(u,b),c(b,u,f,h,x),b}if(typeof u=="object"&&d(u)){const b=Object.create(Object.getPrototypeOf(u));return h.set(u,b),c(b,u,f,h,x),b}return u}function c(u,m,f=u,h,x){const p=[...Object.keys(m),...t.getSymbols(m)];for(let b=0;b<p.length;b++){const j=p[b],v=Object.getOwnPropertyDescriptor(u,j);(v==null||v.writable)&&(u[j]=o(m[j],j,f,h,x))}}function d(u){switch(s.getTag(u)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=c})(fN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fN;function s(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=s})(v7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dN,s=v7;function a(n){return n=s.cloneDeep(n),i=>t.isMatch(i,n)}e.matches=a})(y7);var N7={},S7={},k7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fN,s=xN;function a(n,i){return t.cloneDeepWith(n,(l,o,c,d)=>{const u=i==null?void 0:i(l,o,c,d);if(u!==void 0)return u;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case s.numberTag:case s.stringTag:case s.booleanTag:{const m=new n.constructor(n==null?void 0:n.valueOf());return t.copyProperties(m,n),m}case s.argumentsTag:{const m={};return t.copyProperties(m,n),m.length=n.length,m[Symbol.iterator]=n[Symbol.iterator],m}default:return}})}e.cloneDeepWith=a})(k7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k7;function s(a){return t.cloneDeepWith(a)}e.cloneDeep=s})(S7);var C7={},gN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function s(a,n=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<n;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=s})(gN);var P7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pN;function s(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=s})(P7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iN,s=gN,a=P7,n=qg;function i(l,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(l==null?void 0:l[o])==null?c=n.toPath(o):c=[o],c.length===0)return!1;let d=l;for(let u=0;u<c.length;u++){const m=c[u];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||a.isArguments(d))&&s.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=i})(C7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dN,s=Kg,a=S7,n=Gg,i=C7;function l(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=s.toKey(o);break}}return c=a.cloneDeep(c),function(d){const u=n.get(d,o);return u===void 0?i.has(d,o):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=l})(N7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cN,s=g7,a=y7,n=N7;function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?n.matchesProperty(l[0],l[1]):a.matches(l);case"string":case"symbol":case"number":return s.property(l)}}e.iteratee=i})(x7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m7,s=cN,a=h7,n=x7;function i(l,o=s.identity){return a.isArrayLikeObject(l)?t.uniqBy(Array.from(l),n.iteratee(o)):[]}e.uniqBy=i})(u7);var iee=u7.uniqBy;const Gk=Dn(iee);function A7(e,t,s){return t===!0?Gk(e,s):typeof t=="function"?Gk(e,t):e}var T7={exports:{}},E7={},_7={exports:{}},I7={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=g;function lee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oee=typeof Object.is=="function"?Object.is:lee,cee=pu.useState,dee=pu.useEffect,uee=pu.useLayoutEffect,mee=pu.useDebugValue;function hee(e,t){var s=t(),a=cee({inst:{value:s,getSnapshot:t}}),n=a[0].inst,i=a[1];return uee(function(){n.value=s,n.getSnapshot=t,uv(n)&&i({inst:n})},[e,s,t]),dee(function(){return uv(n)&&i({inst:n}),e(function(){uv(n)&&i({inst:n})})},[e]),mee(s),s}function uv(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!oee(e,s)}catch{return!0}}function fee(e,t){return t()}var pee=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?fee:hee;I7.useSyncExternalStore=pu.useSyncExternalStore!==void 0?pu.useSyncExternalStore:pee;_7.exports=I7;var xee=_7.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg=g,gee=xee;function yee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bee=typeof Object.is=="function"?Object.is:yee,vee=gee.useSyncExternalStore,jee=Xg.useRef,wee=Xg.useEffect,Nee=Xg.useMemo,See=Xg.useDebugValue;E7.useSyncExternalStoreWithSelector=function(e,t,s,a,n){var i=jee(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=Nee(function(){function c(h){if(!d){if(d=!0,u=h,h=a(h),n!==void 0&&l.hasValue){var x=l.value;if(n(x,h))return m=x}return m=h}if(x=m,bee(u,h))return x;var p=a(h);return n!==void 0&&n(x,p)?(u=h,x):(u=h,m=p)}var d=!1,u,m,f=s===void 0?null:s;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,s,a,n]);var o=vee(e,i[0],i[1]);return wee(function(){l.hasValue=!0,l.value=o},[o]),See(o),o};T7.exports=E7;var kee=T7.exports,yN=g.createContext(null),Cee=e=>e,vr=()=>{var e=g.useContext(yN);return e?e.store.dispatch:Cee},ep=()=>{},Pee=()=>ep,Aee=(e,t)=>e===t;function vt(e){var t=g.useContext(yN);return kee.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Pee,t?t.store.getState:ep,t?t.store.getState:ep,t?e:ep,Aee)}function Tee(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Eee(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function _ee(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(s=>typeof s=="function")){const s=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${s}]`)}}var Kk=e=>Array.isArray(e)?e:[e];function Iee(e){const t=Array.isArray(e[0])?e[0]:e;return _ee(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Oee(e,t){const s=[],{length:a}=e;for(let n=0;n<a;n++)s.push(e[n].apply(null,t));return s}var Dee=class{constructor(e){this.value=e}deref(){return this.value}},Mee=typeof WeakRef<"u"?WeakRef:Dee,Lee=0,qk=1;function uf(){return{s:Lee,v:void 0,o:null,p:null}}function O7(e,t={}){let s=uf();const{resultEqualityCheck:a}=t;let n,i=0;function l(){var m;let o=s;const{length:c}=arguments;for(let f=0,h=c;f<h;f++){const x=arguments[f];if(typeof x=="function"||typeof x=="object"&&x!==null){let p=o.o;p===null&&(o.o=p=new WeakMap);const b=p.get(x);b===void 0?(o=uf(),p.set(x,o)):o=b}else{let p=o.p;p===null&&(o.p=p=new Map);const b=p.get(x);b===void 0?(o=uf(),p.set(x,o)):o=b}}const d=o;let u;if(o.s===qk)u=o.v;else if(u=e.apply(null,arguments),i++,a){const f=((m=n==null?void 0:n.deref)==null?void 0:m.call(n))??n;f!=null&&a(f,u)&&(u=f,i!==0&&i--),n=typeof u=="object"&&u!==null||typeof u=="function"?new Mee(u):u}return d.s=qk,d.v=u,u}return l.clearCache=()=>{s=uf(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function Fee(e,...t){const s=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...n)=>{let i=0,l=0,o,c={},d=n.pop();typeof d=="object"&&(c=d,d=n.pop()),Tee(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...s,...c},{memoize:m,memoizeOptions:f=[],argsMemoize:h=O7,argsMemoizeOptions:x=[]}=u,p=Kk(f),b=Kk(x),j=Iee(n),v=m(function(){return i++,d.apply(null,arguments)},...p),y=h(function(){l++;const N=Oee(j,arguments);return o=v.apply(null,N),o},...b);return Object.assign(y,{resultFunc:d,memoizedResultFunc:v,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:h})};return Object.assign(a,{withTypes:()=>a}),a}var pe=Fee(O7),Ree=Object.assign((e,t=pe)=>{Eee(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const s=Object.keys(e),a=s.map(i=>e[i]);return t(a,(...i)=>i.reduce((l,o,c)=>(l[s[c]]=o,l),{}))},{withTypes:()=>Ree}),D7={},M7={},L7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const s=(a,n,i)=>{if(a!==n){const l=t(a),o=t(n);if(l===o&&l===0){if(a<n)return i==="desc"?1:-1;if(a>n)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=s})(L7);var F7={},bN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return typeof s=="symbol"||s instanceof Symbol}e.isSymbol=t})(bN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bN,s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function n(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!s.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=n})(F7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L7,s=F7,a=qg;function n(i,l,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(h=>String(h));const d=(h,x)=>{let p=h;for(let b=0;b<x.length&&p!=null;++b)p=p[x[b]];return p},u=(h,x)=>x==null||h==null?x:typeof h=="object"&&"key"in h?Object.hasOwn(x,h.key)?x[h.key]:d(x,h.path):typeof h=="function"?h(x):Array.isArray(h)?d(x,h):typeof x=="object"?x[h]:x,m=l.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||s.isKey(h)?h:{key:h,path:a.toPath(h)}));return i.map(h=>({original:h,criteria:m.map(x=>u(x,h))})).slice().sort((h,x)=>{for(let p=0;p<m.length;p++){const b=t.compareValues(h.criteria[p],x.criteria[p],o[p]);if(b!==0)return b}return 0}).map(h=>h.original)}e.orderBy=n})(M7);var R7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s,a=1){const n=[],i=Math.floor(a),l=(o,c)=>{for(let d=0;d<o.length;d++){const u=o[d];Array.isArray(u)&&c<i?l(u,c+1):n.push(u)}};return l(s,0),n}e.flatten=t})(R7);var vN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gN,s=Yg,a=uN,n=hN;function i(l,o,c){return a.isObject(c)&&(typeof o=="number"&&s.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?n.eq(c[o],l):!1}e.isIterateeCall=i})(vN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M7,s=R7,a=vN;function n(i,...l){const o=l.length;return o>1&&a.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&a.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,s.flatten(l),["asc"])}e.sortBy=n})(D7);var Bee=D7.sortBy;const Jg=Dn(Bee);var B7=e=>e.legend.settings,$ee=e=>e.legend.size,Uee=e=>e.legend.payload,zee=pe([Uee,B7],(e,t)=>{var{itemSorter:s}=t,a=e.flat(1);return s?Jg(a,s):a});function Vee(){return vt(zee)}var mf=1;function $7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,s]=g.useState({height:0,left:0,top:0,width:0}),a=g.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>mf||Math.abs(l.left-t.left)>mf||Math.abs(l.top-t.top)>mf||Math.abs(l.width-t.width)>mf)&&s({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function Ls(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Hee=typeof Symbol=="function"&&Symbol.observable||"@@observable",Yk=Hee,mv=()=>Math.random().toString(36).substring(7).split("").join("."),Wee={INIT:`@@redux/INIT${mv()}`,REPLACE:`@@redux/REPLACE${mv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mv()}`},Zp=Wee;function jN(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function U7(e,t,s){if(typeof e!="function")throw new Error(Ls(2));if(typeof t=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(Ls(0));if(typeof t=="function"&&typeof s>"u"&&(s=t,t=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(Ls(1));return s(U7)(e,t)}let a=e,n=t,i=new Map,l=i,o=0,c=!1;function d(){l===i&&(l=new Map,i.forEach((b,j)=>{l.set(j,b)}))}function u(){if(c)throw new Error(Ls(3));return n}function m(b){if(typeof b!="function")throw new Error(Ls(4));if(c)throw new Error(Ls(5));let j=!0;d();const v=o++;return l.set(v,b),function(){if(j){if(c)throw new Error(Ls(6));j=!1,d(),l.delete(v),i=null}}}function f(b){if(!jN(b))throw new Error(Ls(7));if(typeof b.type>"u")throw new Error(Ls(8));if(typeof b.type!="string")throw new Error(Ls(17));if(c)throw new Error(Ls(9));try{c=!0,n=a(n,b)}finally{c=!1}return(i=l).forEach(v=>{v()}),b}function h(b){if(typeof b!="function")throw new Error(Ls(10));a=b,f({type:Zp.REPLACE})}function x(){const b=m;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Ls(11));function v(){const w=j;w.next&&w.next(u())}return v(),{unsubscribe:b(v)}},[Yk](){return this}}}return f({type:Zp.INIT}),{dispatch:f,subscribe:m,getState:u,replaceReducer:h,[Yk]:x}}function Gee(e){Object.keys(e).forEach(t=>{const s=e[t];if(typeof s(void 0,{type:Zp.INIT})>"u")throw new Error(Ls(12));if(typeof s(void 0,{type:Zp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ls(13))})}function z7(e){const t=Object.keys(e),s={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(s[l]=e[l])}const a=Object.keys(s);let n;try{Gee(s)}catch(i){n=i}return function(l={},o){if(n)throw n;let c=!1;const d={};for(let u=0;u<a.length;u++){const m=a[u],f=s[m],h=l[m],x=f(h,o);if(typeof x>"u")throw o&&o.type,new Error(Ls(14));d[m]=x,c=c||x!==h}return c=c||a.length!==Object.keys(l).length,c?d:l}}function ex(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,s)=>(...a)=>t(s(...a)))}function Kee(...e){return t=>(s,a)=>{const n=t(s,a);let i=()=>{throw new Error(Ls(15))};const l={getState:n.getState,dispatch:(c,...d)=>i(c,...d)},o=e.map(c=>c(l));return i=ex(...o)(n.dispatch),{...n,dispatch:i}}}function V7(e){return jN(e)&&"type"in e&&typeof e.type=="string"}var H7=Symbol.for("immer-nothing"),Xk=Symbol.for("immer-draftable"),nn=Symbol.for("immer-state");function Kn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ph=Object.getPrototypeOf;function Tc(e){return!!e&&!!e[nn]}function hl(e){var t;return e?W7(e)||Array.isArray(e)||!!e[Xk]||!!((t=e.constructor)!=null&&t[Xk])||c0(e)||Zg(e):!1}var qee=Object.prototype.constructor.toString(),Jk=new WeakMap;function W7(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const s=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(s===Object)return!0;if(typeof s!="function")return!1;let a=Jk.get(s);return a===void 0&&(a=Function.toString.call(s),Jk.set(s,a)),a===qee}function tx(e,t,s=!0){Qg(e)===0?(s?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((a,n)=>t(n,a,e))}function Qg(e){const t=e[nn];return t?t.type_:Array.isArray(e)?1:c0(e)?2:Zg(e)?3:0}function v2(e,t){return Qg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function G7(e,t,s){const a=Qg(e);a===2?e.set(t,s):a===3?e.add(s):e[t]=s}function Yee(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function c0(e){return e instanceof Map}function Zg(e){return e instanceof Set}function Ho(e){return e.copy_||e.base_}function j2(e,t){if(c0(e))return new Map(e);if(Zg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=W7(e);if(t===!0||t==="class_only"&&!s){const a=Object.getOwnPropertyDescriptors(e);delete a[nn];let n=Reflect.ownKeys(a);for(let i=0;i<n.length;i++){const l=n[i],o=a[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(a[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(Ph(e),a)}else{const a=Ph(e);if(a!==null&&s)return{...e};const n=Object.create(a);return Object.assign(n,e)}}function wN(e,t=!1){return ey(e)||Tc(e)||!hl(e)||(Qg(e)>1&&Object.defineProperties(e,{set:hf,add:hf,clear:hf,delete:hf}),Object.freeze(e),t&&Object.values(e).forEach(s=>wN(s,!0))),e}function Xee(){Kn(2)}var hf={value:Xee};function ey(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Jee={};function Ec(e){const t=Jee[e];return t||Kn(0,e),t}var Ah;function K7(){return Ah}function Qee(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Qk(e,t){t&&(Ec("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function w2(e){N2(e),e.drafts_.forEach(Zee),e.drafts_=null}function N2(e){e===Ah&&(Ah=e.parent_)}function Zk(e){return Ah=Qee(Ah,e)}function Zee(e){const t=e[nn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function eC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const s=t.drafts_[0];return e!==void 0&&e!==s?(s[nn].modified_&&(w2(t),Kn(4)),hl(e)&&(e=rx(t,e),t.parent_||sx(t,e)),t.patches_&&Ec("Patches").generateReplacementPatches_(s[nn].base_,e,t.patches_,t.inversePatches_)):e=rx(t,s,[]),w2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==H7?e:void 0}function rx(e,t,s){if(ey(t))return t;const a=e.immer_.shouldUseStrictIteration(),n=t[nn];if(!n)return tx(t,(i,l)=>tC(e,n,t,i,l,s),a),t;if(n.scope_!==e)return t;if(!n.modified_)return sx(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let l=i,o=!1;n.type_===3&&(l=new Set(i),i.clear(),o=!0),tx(l,(c,d)=>tC(e,n,i,c,d,s,o),a),sx(e,i,!1),s&&e.patches_&&Ec("Patches").generatePatches_(n,s,e.patches_,e.inversePatches_)}return n.copy_}function tC(e,t,s,a,n,i,l){if(n==null||typeof n!="object"&&!l)return;const o=ey(n);if(!(o&&!l)){if(Tc(n)){const c=i&&t&&t.type_!==3&&!v2(t.assigned_,a)?i.concat(a):void 0,d=rx(e,n,c);if(G7(s,a,d),Tc(d))e.canAutoFreeze_=!1;else return}else l&&s.add(n);if(hl(n)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[a]===n&&o)return;rx(e,n),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(c0(s)?s.has(a):Object.prototype.propertyIsEnumerable.call(s,a))&&sx(e,n)}}}function sx(e,t,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&wN(t,s)}function ete(e,t){const s=Array.isArray(e),a={type_:s?1:0,scope_:t?t.scope_:K7(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,i=NN;s&&(n=[a],i=Th);const{revoke:l,proxy:o}=Proxy.revocable(n,i);return a.draft_=o,a.revoke_=l,o}var NN={get(e,t){if(t===nn)return e;const s=Ho(e);if(!v2(s,t))return tte(e,s,t);const a=s[t];return e.finalized_||!hl(a)?a:a===hv(e.base_,t)?(fv(e),e.copy_[t]=k2(a,e)):a},has(e,t){return t in Ho(e)},ownKeys(e){return Reflect.ownKeys(Ho(e))},set(e,t,s){const a=q7(Ho(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,s),!0;if(!e.modified_){const n=hv(Ho(e),t),i=n==null?void 0:n[nn];if(i&&i.base_===s)return e.copy_[t]=s,e.assigned_[t]=!1,!0;if(Yee(s,n)&&(s!==void 0||v2(e.base_,t)))return!0;fv(e),S2(e)}return e.copy_[t]===s&&(s!==void 0||t in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=s,e.assigned_[t]=!0),!0},deleteProperty(e,t){return hv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,fv(e),S2(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const s=Ho(e),a=Reflect.getOwnPropertyDescriptor(s,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:s[t]}},defineProperty(){Kn(11)},getPrototypeOf(e){return Ph(e.base_)},setPrototypeOf(){Kn(12)}},Th={};tx(NN,(e,t)=>{Th[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Th.deleteProperty=function(e,t){return Th.set.call(this,e,t,void 0)};Th.set=function(e,t,s){return NN.set.call(this,e[0],t,s,e[0])};function hv(e,t){const s=e[nn];return(s?Ho(s):e)[t]}function tte(e,t,s){var n;const a=q7(t,s);return a?"value"in a?a.value:(n=a.get)==null?void 0:n.call(e.draft_):void 0}function q7(e,t){if(!(t in e))return;let s=Ph(e);for(;s;){const a=Object.getOwnPropertyDescriptor(s,t);if(a)return a;s=Ph(s)}}function S2(e){e.modified_||(e.modified_=!0,e.parent_&&S2(e.parent_))}function fv(e){e.copy_||(e.copy_=j2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var rte=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,s,a)=>{if(typeof t=="function"&&typeof s!="function"){const i=s;s=t;const l=this;return function(c=i,...d){return l.produce(c,u=>s.call(this,u,...d))}}typeof s!="function"&&Kn(6),a!==void 0&&typeof a!="function"&&Kn(7);let n;if(hl(t)){const i=Zk(this),l=k2(t,void 0);let o=!0;try{n=s(l),o=!1}finally{o?w2(i):N2(i)}return Qk(i,a),eC(n,i)}else if(!t||typeof t!="object"){if(n=s(t),n===void 0&&(n=t),n===H7&&(n=void 0),this.autoFreeze_&&wN(n,!0),a){const i=[],l=[];Ec("Patches").generateReplacementPatches_(t,n,i,l),a(i,l)}return n}else Kn(1,t)},this.produceWithPatches=(t,s)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,c=>t(c,...o));let a,n;return[this.produce(t,s,(l,o)=>{a=l,n=o}),a,n]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){hl(e)||Kn(8),Tc(e)&&(e=Zi(e));const t=Zk(this),s=k2(e,void 0);return s[nn].isManual_=!0,N2(t),s}finishDraft(e,t){const s=e&&e[nn];(!s||!s.isManual_)&&Kn(9);const{scope_:a}=s;return Qk(a,t),eC(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let s;for(s=t.length-1;s>=0;s--){const n=t[s];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}s>-1&&(t=t.slice(s+1));const a=Ec("Patches").applyPatches_;return Tc(e)?a(e,t):this.produce(e,n=>a(n,t))}};function k2(e,t){const s=c0(e)?Ec("MapSet").proxyMap_(e,t):Zg(e)?Ec("MapSet").proxySet_(e,t):ete(e,t);return(t?t.scope_:K7()).drafts_.push(s),s}function Zi(e){return Tc(e)||Kn(10,e),Y7(e)}function Y7(e){if(!hl(e)||ey(e))return e;const t=e[nn];let s,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,s=j2(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else s=j2(e,!0);return tx(s,(n,i)=>{G7(s,n,Y7(i))},a),t&&(t.finalized_=!1),s}var C2=new rte,X7=C2.produce,ste=C2.setUseStrictIteration.bind(C2);function J7(e){return({dispatch:s,getState:a})=>n=>i=>typeof i=="function"?i(s,a,e):n(i)}var ate=J7(),nte=J7,ite=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ex:ex.apply(null,arguments)};function In(e,t){function s(...a){if(t){let n=t(...a);if(!n)throw new Error(tn(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:a[0]}}return s.toString=()=>`${e}`,s.type=e,s.match=a=>V7(a)&&a.type===e,s}var Q7=class Nm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Nm.prototype)}static get[Symbol.species](){return Nm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Nm(...t[0].concat(this)):new Nm(...t.concat(this))}};function rC(e){return hl(e)?X7(e,()=>{}):e}function ff(e,t,s){return e.has(t)?e.get(t):e.set(t,s(t)).get(t)}function lte(e){return typeof e=="boolean"}var ote=()=>function(t){const{thunk:s=!0,immutableCheck:a=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=t??{};let l=new Q7;return s&&(lte(s)?l.push(ate):l.push(nte(s.extraArgument))),l},Z7="RTK_autoBatch",gs=()=>e=>({payload:e,meta:{[Z7]:!0}}),sC=e=>t=>{setTimeout(t,e)},eD=(e={type:"raf"})=>t=>(...s)=>{const a=t(...s);let n=!0,i=!1,l=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sC(10):e.type==="callback"?e.queueNotification:sC(e.timeout),d=()=>{l=!1,i&&(i=!1,o.forEach(u=>u()))};return Object.assign({},a,{subscribe(u){const m=()=>n&&u(),f=a.subscribe(m);return o.add(u),()=>{f(),o.delete(u)}},dispatch(u){var m;try{return n=!((m=u==null?void 0:u.meta)!=null&&m[Z7]),i=!n,i&&(l||(l=!0,c(d))),a.dispatch(u)}finally{n=!0}}})},cte=e=>function(s){const{autoBatch:a=!0}=s??{};let n=new Q7(e);return a&&n.push(eD(typeof a=="object"?a:void 0)),n};function dte(e){const t=ote(),{reducer:s=void 0,middleware:a,devTools:n=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof s=="function")o=s;else if(jN(s))o=z7(s);else throw new Error(tn(1));let c;typeof a=="function"?c=a(t):c=t();let d=ex;n&&(d=ite({trace:!1,...typeof n=="object"&&n}));const u=Kee(...c),m=cte(u);let f=typeof l=="function"?l(m):m();const h=d(...f);return U7(o,i,h)}function tD(e){const t={},s=[];let a;const n={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(tn(28));if(o in t)throw new Error(tn(29));return t[o]=l,n},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&s.push({matcher:i.settled,reducer:l.settled}),n},addMatcher(i,l){return s.push({matcher:i,reducer:l}),n},addDefaultCase(i){return a=i,n}};return e(n),[t,s,a]}ste(!1);function ute(e){return typeof e=="function"}function mte(e,t){let[s,a,n]=tD(t),i;if(ute(e))i=()=>rC(e());else{const o=rC(e);i=()=>o}function l(o=i(),c){let d=[s[c.type],...a.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[n]),d.reduce((u,m)=>{if(m)if(Tc(u)){const h=m(u,c);return h===void 0?u:h}else{if(hl(u))return X7(u,f=>m(f,c));{const f=m(u,c);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},o)}return l.getInitialState=i,l}var hte="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",fte=(e=21)=>{let t="",s=e;for(;s--;)t+=hte[Math.random()*64|0];return t},pte=Symbol.for("rtk-slice-createasyncthunk");function xte(e,t){return`${e}/${t}`}function gte({creators:e}={}){var s;const t=(s=e==null?void 0:e.asyncThunk)==null?void 0:s[pte];return function(n){const{name:i,reducerPath:l=i}=n;if(!i)throw new Error(tn(11));const o=(typeof n.reducers=="function"?n.reducers(bte()):n.reducers)||{},c=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(w,N){const k=typeof w=="string"?w:w.type;if(!k)throw new Error(tn(12));if(k in d.sliceCaseReducersByType)throw new Error(tn(13));return d.sliceCaseReducersByType[k]=N,u},addMatcher(w,N){return d.sliceMatchers.push({matcher:w,reducer:N}),u},exposeAction(w,N){return d.actionCreators[w]=N,u},exposeCaseReducer(w,N){return d.sliceCaseReducersByName[w]=N,u}};c.forEach(w=>{const N=o[w],k={reducerName:w,type:xte(i,w),createNotation:typeof n.reducers=="function"};jte(N)?Nte(k,N,u,t):vte(k,N,u)});function m(){const[w={},N=[],k=void 0]=typeof n.extraReducers=="function"?tD(n.extraReducers):[n.extraReducers],S={...w,...d.sliceCaseReducersByType};return mte(n.initialState,P=>{for(let _ in S)P.addCase(_,S[_]);for(let _ of d.sliceMatchers)P.addMatcher(_.matcher,_.reducer);for(let _ of N)P.addMatcher(_.matcher,_.reducer);k&&P.addDefaultCase(k)})}const f=w=>w,h=new Map,x=new WeakMap;let p;function b(w,N){return p||(p=m()),p(w,N)}function j(){return p||(p=m()),p.getInitialState()}function v(w,N=!1){function k(P){let _=P[w];return typeof _>"u"&&N&&(_=ff(x,k,j)),_}function S(P=f){const _=ff(h,N,()=>new WeakMap);return ff(_,P,()=>{const C={};for(const[A,V]of Object.entries(n.selectors??{}))C[A]=yte(V,P,()=>ff(x,P,j),N);return C})}return{reducerPath:w,getSelectors:S,get selectors(){return S(k)},selectSlice:k}}const y={name:i,reducer:b,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:j,...v(l),injectInto(w,{reducerPath:N,...k}={}){const S=N??l;return w.inject({reducerPath:S,reducer:b},k),{...y,...v(S,!0)}}};return y}}function yte(e,t,s,a){function n(i,...l){let o=t(i);return typeof o>"u"&&a&&(o=s()),e(o,...l)}return n.unwrapped=e,n}var $a=gte();function bte(){function e(t,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...s}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...s){return t(...s)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:s}},asyncThunk:e}}function vte({type:e,reducerName:t,createNotation:s},a,n){let i,l;if("reducer"in a){if(s&&!wte(a))throw new Error(tn(17));i=a.reducer,l=a.prepare}else i=a;n.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?In(e,l):In(e))}function jte(e){return e._reducerDefinitionType==="asyncThunk"}function wte(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Nte({type:e,reducerName:t},s,a,n){if(!n)throw new Error(tn(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:c,settled:d,options:u}=s,m=n(e,i,u);a.exposeAction(t,m),l&&a.addCase(m.fulfilled,l),o&&a.addCase(m.pending,o),c&&a.addCase(m.rejected,c),d&&a.addMatcher(m.settled,d),a.exposeCaseReducer(t,{fulfilled:l||pf,pending:o||pf,rejected:c||pf,settled:d||pf})}function pf(){}var Ste="task",rD="listener",sD="completed",SN="cancelled",kte=`task-${SN}`,Cte=`task-${sD}`,P2=`${rD}-${SN}`,Pte=`${rD}-${sD}`,ty=class{constructor(e){Bn(this,"name","TaskAbortError");Bn(this,"message");this.code=e,this.message=`${Ste} ${SN} (reason: ${e})`}},kN=(e,t)=>{if(typeof e!="function")throw new TypeError(tn(32))},ax=()=>{},aD=(e,t=ax)=>(e.catch(t),e),nD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),lc=(e,t)=>{const s=e.signal;s.aborted||("reason"in s||Object.defineProperty(s,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},oc=e=>{if(e.aborted){const{reason:t}=e;throw new ty(t)}};function iD(e,t){let s=ax;return new Promise((a,n)=>{const i=()=>n(new ty(e.reason));if(e.aborted){i();return}s=nD(e,i),t.finally(()=>s()).then(a,n)}).finally(()=>{s=ax})}var Ate=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(s){return{status:s instanceof ty?"cancelled":"rejected",error:s}}finally{t==null||t()}},nx=e=>t=>aD(iD(e,t).then(s=>(oc(e),s))),lD=e=>{const t=nx(e);return s=>t(new Promise(a=>setTimeout(a,s)))},{assign:Kd}=Object,aC={},ry="listenerMiddleware",Tte=(e,t)=>{const s=a=>nD(e,()=>lc(a,e.reason));return(a,n)=>{kN(a);const i=new AbortController;s(i);const l=Ate(async()=>{oc(e),oc(i.signal);const o=await a({pause:nx(i.signal),delay:lD(i.signal),signal:i.signal});return oc(i.signal),o},()=>lc(i,Cte));return n!=null&&n.autoJoin&&t.push(l.catch(ax)),{result:nx(e)(l),cancel(){lc(i,kte)}}}},Ete=(e,t)=>{const s=async(a,n)=>{oc(t);let i=()=>{};const o=[new Promise((c,d)=>{let u=e({predicate:a,effect:(m,f)=>{f.unsubscribe(),c([m,f.getState(),f.getOriginalState()])}});i=()=>{u(),d()}})];n!=null&&o.push(new Promise(c=>setTimeout(c,n,null)));try{const c=await iD(t,Promise.race(o));return oc(t),c}finally{i()}};return(a,n)=>aD(s(a,n))},oD=e=>{let{type:t,actionCreator:s,matcher:a,predicate:n,effect:i}=e;if(t)n=In(t).match;else if(s)t=s.type,n=s.match;else if(a)n=a;else if(!n)throw new Error(tn(21));return kN(i),{predicate:n,type:t,effect:i}},cD=Kd(e=>{const{type:t,predicate:s,effect:a}=oD(e);return{id:fte(),effect:a,type:t,predicate:s,pending:new Set,unsubscribe:()=>{throw new Error(tn(22))}}},{withTypes:()=>cD}),nC=(e,t)=>{const{type:s,effect:a,predicate:n}=oD(t);return Array.from(e.values()).find(i=>(typeof s=="string"?i.type===s:i.predicate===n)&&i.effect===a)},A2=e=>{e.pending.forEach(t=>{lc(t,P2)})},_te=(e,t)=>()=>{for(const s of t.keys())A2(s);e.clear()},iC=(e,t,s)=>{try{e(t,s)}catch(a){setTimeout(()=>{throw a},0)}},dD=Kd(In(`${ry}/add`),{withTypes:()=>dD}),Ite=In(`${ry}/removeAll`),uD=Kd(In(`${ry}/remove`),{withTypes:()=>uD}),Ote=(...e)=>{console.error(`${ry}/error`,...e)},d0=(e={})=>{const t=new Map,s=new Map,a=h=>{const x=s.get(h)??0;s.set(h,x+1)},n=h=>{const x=s.get(h)??1;x===1?s.delete(h):s.set(h,x-1)},{extra:i,onError:l=Ote}=e;kN(l);const o=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),x=>{h.unsubscribe(),x!=null&&x.cancelActive&&A2(h)}),c=h=>{const x=nC(t,h)??cD(h);return o(x)};Kd(c,{withTypes:()=>c});const d=h=>{const x=nC(t,h);return x&&(x.unsubscribe(),h.cancelActive&&A2(x)),!!x};Kd(d,{withTypes:()=>d});const u=async(h,x,p,b)=>{const j=new AbortController,v=Ete(c,j.signal),y=[];try{h.pending.add(j),a(h),await Promise.resolve(h.effect(x,Kd({},p,{getOriginalState:b,condition:(w,N)=>v(w,N).then(Boolean),take:v,delay:lD(j.signal),pause:nx(j.signal),extra:i,signal:j.signal,fork:Tte(j.signal,y),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((w,N,k)=>{w!==j&&(lc(w,P2),k.delete(w))})},cancel:()=>{lc(j,P2),h.pending.delete(j)},throwIfCancelled:()=>{oc(j.signal)}})))}catch(w){w instanceof ty||iC(l,w,{raisedBy:"effect"})}finally{await Promise.all(y),lc(j,Pte),n(h),h.pending.delete(j)}},m=_te(t,s);return{middleware:h=>x=>p=>{if(!V7(p))return x(p);if(dD.match(p))return c(p.payload);if(Ite.match(p)){m();return}if(uD.match(p))return d(p.payload);let b=h.getState();const j=()=>{if(b===aC)throw new Error(tn(23));return b};let v;try{if(v=x(p),t.size>0){const y=h.getState(),w=Array.from(t.values());for(const N of w){let k=!1;try{k=N.predicate(p,y,b)}catch(S){k=!1,iC(l,S,{raisedBy:"predicate"})}k&&u(N,p,h,j)}}}finally{b=aC}return v},startListening:c,stopListening:d,clearListeners:m}};function tn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Dte={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},mD=$a({name:"chartLayout",initialState:Dte,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var s,a,n,i;e.margin.top=(s=t.payload.top)!==null&&s!==void 0?s:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(n=t.payload.bottom)!==null&&n!==void 0?n:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Mte,setLayout:Lte,setChartSize:Fte,setScale:Rte}=mD.actions,Bte=mD.reducer;function hD(e,t,s){return Array.isArray(e)&&e&&t+s!==0?e.slice(t,s+1):e}function lC(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ed(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(s),!0).forEach(function(a){$te(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):lC(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function $te(e,t,s){return(t=Ute(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ute(e){var t=zte(e,"string");return typeof t=="symbol"?t:t+""}function zte(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mr(e,t,s){return kr(e)||kr(t)?s:Pi(t)?Ac(e,t,s):typeof t=="function"?t(e):s}var Vte=(e,t,s)=>{if(t&&s){var{width:a,height:n}=s,{align:i,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&xt(e[i]))return Ed(Ed({},e),{},{[i]:e[i]+(a||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&xt(e[l]))return Ed(Ed({},e),{},{[l]:e[l]+(n||0)})}return e},Mi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",fD=(e,t,s,a)=>{if(a)return e.map(o=>o.coordinate);var n,i,l=e.map(o=>(o.coordinate===t&&(n=!0),o.coordinate===s&&(i=!0),o.coordinate));return n||l.push(t),i||l.push(s),l},pD=(e,t,s)=>{if(!e)return null;var{duplicateDomain:a,type:n,range:i,scale:l,realScaleType:o,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:m,niceTicks:f,axisType:h}=e;if(!l)return null;var x=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,p=n==="category"&&l.bandwidth?l.bandwidth()/x:0;if(p=h==="angleAxis"&&i&&i.length>=2?As(i[0]-i[1])*2*p:p,m||f){var b=(m||f||[]).map((j,v)=>{var y=a?a.indexOf(j):j;return{coordinate:l(y)+p,value:j,offset:p,index:v}});return b.filter(j=>!_n(j.coordinate))}return c&&d?d.map((j,v)=>({coordinate:l(j)+p,value:j,index:v,offset:p})):l.ticks&&u!=null?l.ticks(u).map((j,v)=>({coordinate:l(j)+p,value:j,offset:p,index:v})):l.domain().map((j,v)=>({coordinate:l(j)+p,value:a?a[j]:j,index:v,offset:p}))},oC=1e-4,Hte=e=>{var t=e.domain();if(!(!t||t.length<=2)){var s=t.length,a=e.range(),n=Math.min(a[0],a[1])-oC,i=Math.max(a[0],a[1])+oC,l=e(t[0]),o=e(t[s-1]);(l<n||l>i||o<n||o>i)&&e.domain([t[0],t[s-1]])}},Wte=(e,t)=>{if(!t||t.length!==2||!xt(t[0])||!xt(t[1]))return e;var s=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),n=[e[0],e[1]];return(!xt(e[0])||e[0]<s)&&(n[0]=s),(!xt(e[1])||e[1]>a)&&(n[1]=a),n[0]>a&&(n[0]=a),n[1]<s&&(n[1]=s),n},Gte=e=>{var t=e.length;if(!(t<=0))for(var s=0,a=e[0].length;s<a;++s)for(var n=0,i=0,l=0;l<t;++l){var o=_n(e[l][s][1])?e[l][s][0]:e[l][s][1];o>=0?(e[l][s][0]=n,e[l][s][1]=n+o,n=e[l][s][1]):(e[l][s][0]=i,e[l][s][1]=i+o,i=e[l][s][1])}},Kte=e=>{var t=e.length;if(!(t<=0))for(var s=0,a=e[0].length;s<a;++s)for(var n=0,i=0;i<t;++i){var l=_n(e[i][s][1])?e[i][s][0]:e[i][s][1];l>=0?(e[i][s][0]=n,e[i][s][1]=n+l,n=e[i][s][1]):(e[i][s][0]=0,e[i][s][1]=0)}},qte={sign:Gte,expand:_Z,none:fu,silhouette:IZ,wiggle:OZ,positive:Kte},Yte=(e,t,s)=>{var a=qte[s],n=EZ().keys(t).value((i,l)=>Number(mr(i,l,0))).order(y2).offset(a);return n(e)};function xD(e){return e==null?void 0:String(e)}function ix(e){var{axis:t,ticks:s,bandSize:a,entry:n,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!kr(n[t.dataKey])){var o=o7(s,"value",n[t.dataKey]);if(o)return o.coordinate+a/2}return s[i]?s[i].coordinate+a/2:null}var c=mr(n,kr(l)?t.dataKey:l);return kr(c)?null:t.scale(c)}var cC=e=>{var{axis:t,ticks:s,offset:a,bandSize:n,entry:i,index:l}=e;if(t.type==="category")return s[l]?s[l].coordinate+a:null;var o=mr(i,t.dataKey,t.scale.domain()[l]);return kr(o)?null:t.scale(o)-n/2+a},Xte=e=>{var{numericAxis:t}=e,s=t.scale.domain();if(t.type==="number"){var a=Math.min(s[0],s[1]),n=Math.max(s[0],s[1]);return a<=0&&n>=0?0:n<0?n:a}return s[0]},Jte=e=>{var t=e.flat(2).filter(xt);return[Math.min(...t),Math.max(...t)]},Qte=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Zte=(e,t,s)=>{if(e!=null)return Qte(Object.keys(e).reduce((a,n)=>{var i=e[n],{stackedData:l}=i,o=l.reduce((c,d)=>{var u=hD(d,t,s),m=Jte(u);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],a[0]),Math.max(o[1],a[1])]},[1/0,-1/0]))},dC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yo=(e,t,s)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!s||a>0)return a}if(e&&t&&t.length>=2){for(var n=Jg(t,u=>u.coordinate),i=1/0,l=1,o=n.length;l<o;l++){var c=n[l],d=n[l-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return s?void 0:0};function mC(e){var{tooltipEntrySettings:t,dataKey:s,payload:a,value:n,name:i}=e;return Ed(Ed({},t),{},{dataKey:s,payload:a,value:n,name:i})}function To(e,t){if(e)return String(e);if(typeof t=="string")return t}var ere=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},tre=(e,t)=>t==="centric"?e.angle:e.radius,Nl=e=>e.layout.width,Sl=e=>e.layout.height,rre=e=>e.layout.scale,gD=e=>e.layout.margin,sy=pe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ay=pe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),yD="data-recharts-item-index",bD="data-recharts-item-data-key",u0=60;function hC(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function xf(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(s),!0).forEach(function(a){sre(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):hC(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function sre(e,t,s){return(t=are(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function are(e){var t=nre(e,"string");return typeof t=="symbol"?t:t+""}function nre(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ire=e=>e.brush.height;function lre(e){var t=ay(e);return t.reduce((s,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:u0;return s+n}return s},0)}function ore(e){var t=ay(e);return t.reduce((s,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:u0;return s+n}return s},0)}function cre(e){var t=sy(e);return t.reduce((s,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?s+a.height:s,0)}function dre(e){var t=sy(e);return t.reduce((s,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?s+a.height:s,0)}var vs=pe([Nl,Sl,gD,ire,lre,ore,cre,dre,B7,$ee],(e,t,s,a,n,i,l,o,c,d)=>{var u={left:(s.left||0)+n,right:(s.right||0)+i},m={top:(s.top||0)+l,bottom:(s.bottom||0)+o},f=xf(xf({},m),u),h=f.bottom;f.bottom+=a,f=Vte(f,c,d);var x=e-f.left-f.right,p=t-f.top-f.bottom;return xf(xf({brushBottom:h},f),{},{width:Math.max(x,0),height:Math.max(p,0)})}),ure=pe(vs,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),CN=pe(Nl,Sl,(e,t)=>({x:0,y:0,width:e,height:t})),mre=g.createContext(null),Os=()=>g.useContext(mre)!=null,ny=e=>e.brush,iy=pe([ny,vs,gD],(e,t,s)=>({height:e.height,x:xt(e.x)?e.x:t.left,y:xt(e.y)?e.y:t.top+t.height+t.brushBottom-((s==null?void 0:s.bottom)||0),width:xt(e.width)?e.width:t.width})),vD={},jD={},wD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s,a,{signal:n,edges:i}={}){let l,o=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{o!==null&&(s.apply(l,o),l=void 0,o=null)},m=()=>{d&&u(),p()};let f=null;const h=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,m()},a)},x=()=>{f!==null&&(clearTimeout(f),f=null)},p=()=>{x(),l=void 0,o=null},b=()=>{u()},j=function(...v){if(n!=null&&n.aborted)return;l=this,o=v;const y=f==null;h(),c&&y&&u()};return j.schedule=h,j.cancel=p,j.flush=b,n==null||n.addEventListener("abort",p,{once:!0}),j}e.debounce=t})(wD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wD;function s(a,n=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:c}=i,d=Array(2);l&&(d[0]="leading"),o&&(d[1]="trailing");let u,m=null;const f=t.debounce(function(...p){u=a.apply(this,p),m=null},n,{edges:d}),h=function(...p){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(u=a.apply(this,p),m=Date.now(),f.cancel(),f.schedule(),u):(f.apply(this,p),u)},x=()=>(f.flush(),u);return h.cancel=f.cancel,h.flush=x,h}e.debounce=s})(jD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jD;function s(a,n=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return t.debounce(a,n,{leading:l,maxWait:n,trailing:o})}e.throttle=s})(vD);var hre=vD.throttle;const fre=Dn(hre);var lx=function(t,s){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i]},ND=(e,t,s)=>{var{width:a="100%",height:n="100%",aspect:i,maxHeight:l}=s,o=ml(a)?e:Number(a),c=ml(n)?t:Number(n);return i&&i>0&&(o?c=o/i:c&&(o=c*i),l&&c!=null&&c>l&&(c=l)),{calculatedWidth:o,calculatedHeight:c}},pre={width:0,height:0,overflow:"visible"},xre={width:0,overflowX:"visible"},gre={height:0,overflowY:"visible"},yre={},bre=e=>{var{width:t,height:s}=e,a=ml(t),n=ml(s);return a&&n?pre:a?xre:n?gre:yre};function vre(e){var{width:t,height:s,aspect:a}=e,n=t,i=s;return n===void 0&&i===void 0?(n="100%",i="100%"):n===void 0?n=a&&a>0?void 0:"100%":i===void 0&&(i=a&&a>0?void 0:"100%"),{width:n,height:i}}function Cr(e){return Number.isFinite(e)}function Ai(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function T2(){return T2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},T2.apply(null,arguments)}function fC(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function pC(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(s),!0).forEach(function(a){jre(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fC(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function jre(e,t,s){return(t=wre(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function wre(e){var t=Nre(e,"string");return typeof t=="symbol"?t:t+""}function Nre(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SD=g.createContext({width:-1,height:-1});function Sre(e){return Ai(e.width)&&Ai(e.height)}function kD(e){var{children:t,width:s,height:a}=e,n=g.useMemo(()=>({width:s,height:a}),[s,a]);return Sre(n)?g.createElement(SD.Provider,{value:n},t):null}var PN=()=>g.useContext(SD),kre=g.forwardRef((e,t)=>{var{aspect:s,initialDimension:a={width:-1,height:-1},width:n,height:i,minWidth:l=0,minHeight:o,maxHeight:c,children:d,debounce:u=0,id:m,className:f,onResize:h,style:x={}}=e,p=g.useRef(null),b=g.useRef();b.current=h,g.useImperativeHandle(t,()=>p.current);var[j,v]=g.useState({containerWidth:a.width,containerHeight:a.height}),y=g.useCallback((P,_)=>{v(C=>{var A=Math.round(P),V=Math.round(_);return C.containerWidth===A&&C.containerHeight===V?C:{containerWidth:A,containerHeight:V}})},[]);g.useEffect(()=>{if(p.current==null||typeof ResizeObserver>"u")return Gc;var P=V=>{var q,{width:Z,height:ue}=V[0].contentRect;y(Z,ue),(q=b.current)===null||q===void 0||q.call(b,Z,ue)};u>0&&(P=fre(P,u,{trailing:!0,leading:!1}));var _=new ResizeObserver(P),{width:C,height:A}=p.current.getBoundingClientRect();return y(C,A),_.observe(p.current),()=>{_.disconnect()}},[y,u]);var{containerWidth:w,containerHeight:N}=j;lx(!s||s>0,"The aspect(%s) must be greater than zero.",s);var{calculatedWidth:k,calculatedHeight:S}=ND(w,N,{width:n,height:i,aspect:s,maxHeight:c});return lx(k!=null&&k>0||S!=null&&S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,S,n,i,l,o,s),g.createElement("div",{id:m?"".concat(m):void 0,className:Yt("recharts-responsive-container",f),style:pC(pC({},x),{},{width:n,height:i,minWidth:l,minHeight:o,maxHeight:c}),ref:p},g.createElement("div",{style:bre({width:n,height:i})},g.createElement(kD,{width:k,height:S},d)))}),xi=g.forwardRef((e,t)=>{var s=PN();if(Ai(s.width)&&Ai(s.height))return e.children;var{width:a,height:n}=vre({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=ND(void 0,void 0,{width:a,height:n,aspect:e.aspect,maxHeight:e.maxHeight});return xt(i)&&xt(l)?g.createElement(kD,{width:i,height:l},e.children):g.createElement(kre,T2({},e,{width:a,height:n,ref:t}))});function CD(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var ly=()=>{var e,t=Os(),s=vt(ure),a=vt(iy),n=(e=vt(ny))===null||e===void 0?void 0:e.padding;return!t||!a||!n?s:{width:a.width-n.left-n.right,height:a.height-n.top-n.bottom,x:n.left,y:n.top}},Cre={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},PD=()=>{var e;return(e=vt(vs))!==null&&e!==void 0?e:Cre},AN=()=>vt(Nl),TN=()=>vt(Sl),Pre=()=>vt(e=>e.layout.margin),zt=e=>e.layout.layoutType,Eu=()=>vt(zt),Are=()=>{var e=Eu();return e!==void 0},oy=e=>{var t=vr(),s=Os(),{width:a,height:n}=e,i=PN(),l=a,o=n;return i&&(l=i.width>0?i.width:a,o=i.height>0?i.height:n),g.useEffect(()=>{!s&&Ai(l)&&Ai(o)&&t(Fte({width:l,height:o}))},[t,s,l,o]),null},Tre={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},AD=$a({name:"legend",initialState:Tre,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:gs()},removeLegendPayload:{reducer(e,t){var s=Zi(e).payload.indexOf(t.payload);s>-1&&e.payload.splice(s,1)},prepare:gs()}}}),{setLegendSize:xC,setLegendSettings:Ere,addLegendPayload:TD,removeLegendPayload:ED}=AD.actions,_re=AD.reducer,Ire=["contextPayload"];function E2(){return E2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},E2.apply(null,arguments)}function gC(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function xu(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(s),!0).forEach(function(a){Ore(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):gC(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ore(e,t,s){return(t=Dre(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Dre(e){var t=Mre(e,"string");return typeof t=="symbol"?t:t+""}function Mre(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lre(e,t){if(e==null)return{};var s,a,n=Fre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Fre(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Rre(e){return e.value}function Bre(e){var{contextPayload:t}=e,s=Lre(e,Ire),a=A7(t,e.payloadUniqBy,Rre),n=xu(xu({},s),{},{payload:a});return g.isValidElement(e.content)?g.cloneElement(e.content,n):typeof e.content=="function"?g.createElement(e.content,n):g.createElement(nee,n)}function $re(e,t,s,a,n,i){var{layout:l,align:o,verticalAlign:c}=t,d,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&l==="vertical"?d={left:((a||0)-i.width)/2}:d=o==="right"?{right:s&&s.right||0}:{left:s&&s.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?u={top:((n||0)-i.height)/2}:u=c==="bottom"?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),xu(xu({},d),u)}function Ure(e){var t=vr();return g.useEffect(()=>{t(Ere(e))},[t,e]),null}function zre(e){var t=vr();return g.useEffect(()=>(t(xC(e)),()=>{t(xC({width:0,height:0}))}),[t,e]),null}function Vre(e,t,s,a){return e==="vertical"&&xt(t)?{height:t}:e==="horizontal"?{width:s||a}:null}var Hre={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function qd(e){var t=Xr(e,Hre),s=Vee(),a=eZ(),n=Pre(),{width:i,height:l,wrapperStyle:o,portal:c}=t,[d,u]=$7([s]),m=AN(),f=TN();if(m==null||f==null)return null;var h=m-((n==null?void 0:n.left)||0)-((n==null?void 0:n.right)||0),x=Vre(t.layout,l,i,h),p=c?o:xu(xu({position:"absolute",width:(x==null?void 0:x.width)||i||"auto",height:(x==null?void 0:x.height)||l||"auto"},$re(o,t,n,m,f,d)),o),b=c??a;if(b==null||s==null)return null;var j=g.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:u},g.createElement(Ure,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),g.createElement(zre,{width:d.width,height:d.height}),g.createElement(Bre,E2({},t,x,{margin:n,chartWidth:m,chartHeight:f,contextPayload:s})));return yg.createPortal(j,b)}qd.displayName="Legend";function _2(){return _2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_2.apply(null,arguments)}function yC(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function pv(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(s),!0).forEach(function(a){Wre(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yC(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Wre(e,t,s){return(t=Gre(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Gre(e){var t=Kre(e,"string");return typeof t=="symbol"?t:t+""}function Kre(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qre(e){return Array.isArray(e)&&Pi(e[0])&&Pi(e[1])?e.join(" ~ "):e}var Yre=e=>{var{separator:t=" : ",contentStyle:s={},itemStyle:a={},labelStyle:n={},payload:i,formatter:l,itemSorter:o,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:m,accessibilityLayer:f=!1}=e,h=()=>{if(i&&i.length){var N={padding:0,margin:0},k=(o?Jg(i,o):i).map((S,P)=>{if(S.type==="none")return null;var _=S.formatter||l||qre,{value:C,name:A}=S,V=C,q=A;if(_){var Z=_(C,A,S,P,i);if(Array.isArray(Z))[V,q]=Z;else if(Z!=null)V=Z;else return null}var ue=pv({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},a);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:ue},Pi(q)?g.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Pi(q)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},V),g.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:N},k)}return null},x=pv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),p=pv({margin:0},n),b=!kr(u),j=b?u:"",v=Yt("recharts-default-tooltip",c),y=Yt("recharts-tooltip-label",d);b&&m&&i!==void 0&&i!==null&&(j=m(u,i));var w=f?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",_2({className:v,style:x},w),g.createElement("p",{className:y,style:p},g.isValidElement(j)?j:"".concat(j)),h())},im="recharts-tooltip-wrapper",Xre={visibility:"hidden"};function Jre(e){var{coordinate:t,translateX:s,translateY:a}=e;return Yt(im,{["".concat(im,"-right")]:xt(s)&&t&&xt(t.x)&&s>=t.x,["".concat(im,"-left")]:xt(s)&&t&&xt(t.x)&&s<t.x,["".concat(im,"-bottom")]:xt(a)&&t&&xt(t.y)&&a>=t.y,["".concat(im,"-top")]:xt(a)&&t&&xt(t.y)&&a<t.y})}function bC(e){var{allowEscapeViewBox:t,coordinate:s,key:a,offsetTopLeft:n,position:i,reverseDirection:l,tooltipDimension:o,viewBox:c,viewBoxDimension:d}=e;if(i&&xt(i[a]))return i[a];var u=s[a]-o-(n>0?n:0),m=s[a]+n;if(t[a])return l[a]?u:m;var f=c[a];if(f==null)return 0;if(l[a]){var h=u,x=f;return h<x?Math.max(m,f):Math.max(u,f)}if(d==null)return 0;var p=m+o,b=f+d;return p>b?Math.max(u,f):Math.max(m,f)}function Qre(e){var{translateX:t,translateY:s,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(s,"px, 0)"):"translate(".concat(t,"px, ").concat(s,"px)")}}function Zre(e){var{allowEscapeViewBox:t,coordinate:s,offsetTopLeft:a,position:n,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:c}=e,d,u,m;return l.height>0&&l.width>0&&s?(u=bC({allowEscapeViewBox:t,coordinate:s,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),m=bC({allowEscapeViewBox:t,coordinate:s,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=Qre({translateX:u,translateY:m,useTranslate3d:o})):d=Xre,{cssProperties:d,cssClasses:Jre({translateX:u,translateY:m,coordinate:s})}}function vC(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function gf(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(s),!0).forEach(function(a){I2(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):vC(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function I2(e,t,s){return(t=ese(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ese(e){var t=tse(e,"string");return typeof t=="symbol"?t:t+""}function tse(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class rse extends g.PureComponent{constructor(){super(...arguments),I2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),I2(this,"handleKeyDown",t=>{if(t.key==="Escape"){var s,a,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&s!==void 0?s:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,s;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:s,animationDuration:a,animationEasing:n,children:i,coordinate:l,hasPayload:o,isAnimationActive:c,offset:d,position:u,reverseDirection:m,useTranslate3d:f,viewBox:h,wrapperStyle:x,lastBoundingBox:p,innerRef:b,hasPortalFromProps:j}=this.props,{cssClasses:v,cssProperties:y}=Zre({allowEscapeViewBox:s,coordinate:l,offsetTopLeft:d,position:u,reverseDirection:m,tooltipBox:{height:p.height,width:p.width},useTranslate3d:f,viewBox:h}),w=j?{}:gf(gf({transition:c&&t?"transform ".concat(a,"ms ").concat(n):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),N=gf(gf({},w),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},x);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:N,ref:b},i)}}var sse=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),kl={devToolsEnabled:!1,isSsr:sse()},_D=()=>{var e;return(e=vt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function O2(){return O2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},O2.apply(null,arguments)}function jC(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function wC(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(s),!0).forEach(function(a){ase(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):jC(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function ase(e,t,s){return(t=nse(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function nse(e){var t=ise(e,"string");return typeof t=="symbol"?t:t+""}function ise(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NC={curveBasisClosed:bZ,curveBasisOpen:vZ,curveBasis:yZ,curveBumpX:aZ,curveBumpY:nZ,curveLinearClosed:jZ,curveLinear:Hg,curveMonotoneX:wZ,curveMonotoneY:NZ,curveNatural:SZ,curveStep:kZ,curveStepAfter:PZ,curveStepBefore:CZ},ox=e=>Cr(e.x)&&Cr(e.y),SC=e=>e.base!=null&&ox(e.base)&&ox(e),lm=e=>e.x,om=e=>e.y,lse=(e,t)=>{if(typeof e=="function")return e;var s="curve".concat(l0(e));return(s==="curveMonotone"||s==="curveBump")&&t?NC["".concat(s).concat(t==="vertical"?"Y":"X")]:NC[s]||Hg},ose=e=>{var{type:t="linear",points:s=[],baseLine:a,layout:n,connectNulls:i=!1}=e,l=lse(t,n),o=i?s.filter(ox):s,c;if(Array.isArray(a)){var d=s.map((h,x)=>wC(wC({},h),{},{base:a[x]}));n==="vertical"?c=df().y(om).x1(lm).x0(h=>h.base.x):c=df().x(lm).y1(om).y0(h=>h.base.y);var u=c.defined(SC).curve(l),m=i?d.filter(SC):d;return u(m)}n==="vertical"&&xt(a)?c=df().y(om).x1(lm).x0(a):xt(a)?c=df().x(lm).y1(om).y0(a):c=qO().x(lm).y(om);var f=c.defined(ox).curve(l);return f(o)},Yd=e=>{var{className:t,points:s,path:a,pathRef:n}=e;if((!s||!s.length)&&!a)return null;var i=s&&s.length?ose(e):a;return g.createElement("path",O2({},Sa(e),oN(e),{className:Yt("recharts-curve",t),d:i===null?void 0:i,ref:n}))},cse=["x","y","top","left","width","height","className"];function D2(){return D2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},D2.apply(null,arguments)}function kC(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function dse(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(s),!0).forEach(function(a){use(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):kC(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function use(e,t,s){return(t=mse(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function mse(e){var t=hse(e,"string");return typeof t=="symbol"?t:t+""}function hse(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fse(e,t){if(e==null)return{};var s,a,n=pse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function pse(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var xse=(e,t,s,a,n,i)=>"M".concat(e,",").concat(n,"v").concat(a,"M").concat(i,",").concat(t,"h").concat(s),gse=e=>{var{x:t=0,y:s=0,top:a=0,left:n=0,width:i=0,height:l=0,className:o}=e,c=fse(e,cse),d=dse({x:t,y:s,top:a,left:n,width:i,height:l},c);return!xt(t)||!xt(s)||!xt(i)||!xt(l)||!xt(a)||!xt(n)?null:g.createElement("path",D2({},da(d),{className:Yt("recharts-cross",o),d:xse(t,s,i,l,a,n)}))};function yse(e,t,s,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-n:s.left+.5,y:e==="horizontal"?s.top+.5:t.y-n,width:e==="horizontal"?a:s.width-1,height:e==="horizontal"?s.height-1:a}}function CC(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function PC(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(s),!0).forEach(function(a){bse(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):CC(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function bse(e,t,s){return(t=vse(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function vse(e){var t=jse(e,"string");return typeof t=="symbol"?t:t+""}function jse(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wse=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),ID=(e,t,s)=>e.map(a=>"".concat(wse(a)," ").concat(t,"ms ").concat(s)).join(","),Nse=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((s,a)=>s.filter(n=>a.includes(n))),Eh=(e,t)=>Object.keys(t).reduce((s,a)=>PC(PC({},s),{},{[a]:e(a,t[a])}),{});function AC(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function xs(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(s),!0).forEach(function(a){Sse(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):AC(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Sse(e,t,s){return(t=kse(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function kse(e){var t=Cse(e,"string");return typeof t=="symbol"?t:t+""}function Cse(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cx=(e,t,s)=>e+(t-e)*s,M2=e=>{var{from:t,to:s}=e;return t!==s},OD=(e,t,s)=>{var a=Eh((n,i)=>{if(M2(i)){var[l,o]=e(i.from,i.to,i.velocity);return xs(xs({},i),{},{from:l,velocity:o})}return i},t);return s<1?Eh((n,i)=>M2(i)?xs(xs({},i),{},{velocity:cx(i.velocity,a[n].velocity,s),from:cx(i.from,a[n].from,s)}):i,t):OD(e,a,s-1)};function Pse(e,t,s,a,n,i){var l,o=a.reduce((f,h)=>xs(xs({},f),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>Eh((f,h)=>h.from,o),d=()=>!Object.values(o).filter(M2).length,u=null,m=f=>{l||(l=f);var h=f-l,x=h/s.dt;o=OD(s,o,x),n(xs(xs(xs({},e),t),c())),l=f,d()||(u=i.setTimeout(m))};return()=>(u=i.setTimeout(m),()=>{var f;(f=u)===null||f===void 0||f()})}function Ase(e,t,s,a,n,i,l){var o=null,c=n.reduce((m,f)=>xs(xs({},m),{},{[f]:[e[f],t[f]]}),{}),d,u=m=>{d||(d=m);var f=(m-d)/a,h=Eh((p,b)=>cx(...b,s(f)),c);if(i(xs(xs(xs({},e),t),h)),f<1)o=l.setTimeout(u);else{var x=Eh((p,b)=>cx(...b,s(1)),c);i(xs(xs(xs({},e),t),x))}};return()=>(o=l.setTimeout(u),()=>{var m;(m=o)===null||m===void 0||m()})}const Tse=(e,t,s,a,n,i)=>{var l=Nse(e,t);return s==null?()=>(n(xs(xs({},e),t)),()=>{}):s.isStepper===!0?Pse(e,t,s,l,n,i):Ase(e,t,s,a,l,n,i)};var dx=1e-4,DD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],MD=(e,t)=>e.map((s,a)=>s*t**a).reduce((s,a)=>s+a),TC=(e,t)=>s=>{var a=DD(e,t);return MD(a,s)},Ese=(e,t)=>s=>{var a=DD(e,t),n=[...a.map((i,l)=>i*l).slice(1),0];return MD(n,s)},_se=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];if(s.length===1)switch(s[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var n,i=s[0].split("(");if(i[0]==="cubic-bezier"&&((n=i[1])===null||n===void 0?void 0:n.split(")")[0].split(",").length)===4){var l=i[1].split(")")[0].split(",").map(o=>parseFloat(o));return[l[0],l[1],l[2],l[3]]}}}return s.length===4?s:[0,0,1,1]},Ise=(e,t,s,a)=>{var n=TC(e,s),i=TC(t,a),l=Ese(e,s),o=d=>d>1?1:d<0?0:d,c=d=>{for(var u=d>1?1:d,m=u,f=0;f<8;++f){var h=n(m)-u,x=l(m);if(Math.abs(h-u)<dx||x<dx)return i(m);m=o(m-h/x)}return i(m)};return c.isStepper=!1,c},EC=function(){return Ise(..._se(...arguments))},Ose=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:s=100,damping:a=8,dt:n=17}=t,i=(l,o,c)=>{var d=-(l-o)*s,u=c*a,m=c+(d-u)*n/1e3,f=c*n/1e3+l;return Math.abs(f-o)<dx&&Math.abs(m)<dx?[o,0]:[f,m]};return i.isStepper=!0,i.dt=n,i},Dse=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return EC(e);case"spring":return Ose();default:if(e.split("(")[0]==="cubic-bezier")return EC(e)}return typeof e=="function"?e:null};function Mse(e){var t,s=()=>null,a=!1,n=null,i=l=>{if(!a){if(Array.isArray(l)){if(!l.length)return;var o=l,[c,...d]=o;if(typeof c=="number"){n=e.setTimeout(i.bind(null,d),c);return}i(c),n=e.setTimeout(i.bind(null,d));return}typeof l=="string"&&(t=l,s(t)),typeof l=="object"&&(t=l,s(t)),typeof l=="function"&&l()}};return{stop:()=>{a=!0},start:l=>{a=!1,n&&(n(),n=null),i(l)},subscribe:l=>(s=l,()=>{s=()=>null}),getTimeoutController:()=>e}}class Lse{setTimeout(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),n=null,i=l=>{l-a>=s?t(l):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{n!=null&&cancelAnimationFrame(n)}}}function Fse(){return Mse(new Lse)}var Rse=g.createContext(Fse);function Bse(e,t){var s=g.useContext(Rse);return g.useMemo(()=>t??s(e),[e,t,s])}var $se={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},_C={t:0},xv={t:1};function _u(e){var t=Xr(e,$se),{isActive:s,canBegin:a,duration:n,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:c,children:d}=t,u=Bse(t.animationId,t.animationManager),[m,f]=g.useState(s?_C:xv),h=g.useRef(null);return g.useEffect(()=>{s||f(xv)},[s]),g.useEffect(()=>{if(!s||!a)return Gc;var x=Tse(_C,xv,Dse(i),n,f,u.getTimeoutController()),p=()=>{h.current=x()};return u.start([c,l,p,n,o]),()=>{u.stop(),h.current&&h.current(),o()}},[s,a,n,i,l,c,o,u]),d(m.t)}function Iu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",s=g.useRef(Ch(t)),a=g.useRef(e);return a.current!==e&&(s.current=Ch(t),a.current=e),s.current}var Use=["radius"],zse=["radius"];function IC(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function OC(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?IC(Object(s),!0).forEach(function(a){Vse(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):IC(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Vse(e,t,s){return(t=Hse(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Hse(e){var t=Wse(e,"string");return typeof t=="symbol"?t:t+""}function Wse(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ux.apply(null,arguments)}function DC(e,t){if(e==null)return{};var s,a,n=Gse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Gse(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var MC=(e,t,s,a,n)=>{var i=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,o=s>=0?1:-1,c=a>=0&&s>=0||a<0&&s<0?1:0,d;if(i>0&&n instanceof Array){for(var u=[0,0,0,0],m=0,f=4;m<f;m++)u[m]=n[m]>i?i:n[m];d="M".concat(e,",").concat(t+l*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+o*u[0],",").concat(t)),d+="L ".concat(e+s-o*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+s,",").concat(t+l*u[1])),d+="L ".concat(e+s,",").concat(t+a-l*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+s-o*u[2],",").concat(t+a)),d+="L ".concat(e+o*u[3],",").concat(t+a),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+a-l*u[3])),d+="Z"}else if(i>0&&n===+n&&n>0){var h=Math.min(i,n);d="M ".concat(e,",").concat(t+l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+o*h,",").concat(t,`
            L `).concat(e+s-o*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+s,",").concat(t+l*h,`
            L `).concat(e+s,",").concat(t+a-l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+s-o*h,",").concat(t+a,`
            L `).concat(e+o*h,",").concat(t+a,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+a-l*h," Z")}else d="M ".concat(e,",").concat(t," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return d},LC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LD=e=>{var t=Xr(e,LC),s=g.useRef(null),[a,n]=g.useState(-1);g.useEffect(()=>{if(s.current&&s.current.getTotalLength)try{var Q=s.current.getTotalLength();Q&&n(Q)}catch{}},[]);var{x:i,y:l,width:o,height:c,radius:d,className:u}=t,{animationEasing:m,animationDuration:f,animationBegin:h,isAnimationActive:x,isUpdateAnimationActive:p}=t,b=g.useRef(o),j=g.useRef(c),v=g.useRef(i),y=g.useRef(l),w=g.useMemo(()=>({x:i,y:l,width:o,height:c,radius:d}),[i,l,o,c,d]),N=Iu(w,"rectangle-");if(i!==+i||l!==+l||o!==+o||c!==+c||o===0||c===0)return null;var k=Yt("recharts-rectangle",u);if(!p){var S=da(t),{radius:P}=S,_=DC(S,Use);return g.createElement("path",ux({},_,{radius:typeof d=="number"?d:void 0,className:k,d:MC(i,l,o,c,d)}))}var C=b.current,A=j.current,V=v.current,q=y.current,Z="0px ".concat(a===-1?1:a,"px"),ue="".concat(a,"px 0px"),me=ID(["strokeDasharray"],f,typeof m=="string"?m:LC.animationEasing);return g.createElement(_u,{animationId:N,key:N,canBegin:a>0,duration:f,easing:m,isActive:p,begin:h},Q=>{var ae=rr(C,o,Q),oe=rr(A,c,Q),R=rr(V,i,Q),O=rr(q,l,Q);s.current&&(b.current=ae,j.current=oe,v.current=R,y.current=O);var I;x?Q>0?I={transition:me,strokeDasharray:ue}:I={strokeDasharray:Z}:I={strokeDasharray:ue};var X=da(t),{radius:W}=X,T=DC(X,zse);return g.createElement("path",ux({},T,{radius:typeof d=="number"?d:void 0,className:k,d:MC(R,O,ae,oe,d),ref:s,style:OC(OC({},I),t.style)}))})};function FC(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function RC(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(s),!0).forEach(function(a){Kse(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):FC(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Kse(e,t,s){return(t=qse(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function qse(e){var t=Yse(e,"string");return typeof t=="symbol"?t:t+""}function Yse(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mx=Math.PI/180,Xse=e=>e*180/Math.PI,cs=(e,t,s,a)=>({x:e+Math.cos(-mx*a)*s,y:t+Math.sin(-mx*a)*s}),FD=function(t,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(s-(a.top||0)-(a.bottom||0)))/2},Jse=(e,t)=>{var{x:s,y:a}=e,{x:n,y:i}=t;return Math.sqrt((s-n)**2+(a-i)**2)},Qse=(e,t)=>{var{x:s,y:a}=e,{cx:n,cy:i}=t,l=Jse({x:s,y:a},{x:n,y:i});if(l<=0)return{radius:l,angle:0};var o=(s-n)/l,c=Math.acos(o);return a>i&&(c=2*Math.PI-c),{radius:l,angle:Xse(c),angleInRadian:c}},Zse=e=>{var{startAngle:t,endAngle:s}=e,a=Math.floor(t/360),n=Math.floor(s/360),i=Math.min(a,n);return{startAngle:t-i*360,endAngle:s-i*360}},eae=(e,t)=>{var{startAngle:s,endAngle:a}=t,n=Math.floor(s/360),i=Math.floor(a/360),l=Math.min(n,i);return e+l*360},tae=(e,t)=>{var{chartX:s,chartY:a}=e,{radius:n,angle:i}=Qse({x:s,y:a},t),{innerRadius:l,outerRadius:o}=t;if(n<l||n>o||n===0)return null;var{startAngle:c,endAngle:d}=Zse(t),u=i,m;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;m=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;m=u>=d&&u<=c}return m?RC(RC({},t),{},{radius:n,angle:eae(u,t)}):null};function RD(e){var{cx:t,cy:s,radius:a,startAngle:n,endAngle:i}=e,l=cs(t,s,a,n),o=cs(t,s,a,i);return{points:[l,o],cx:t,cy:s,radius:a,startAngle:n,endAngle:i}}function L2(){return L2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},L2.apply(null,arguments)}var rae=(e,t)=>{var s=As(t-e),a=Math.min(Math.abs(t-e),359.999);return s*a},yf=e=>{var{cx:t,cy:s,radius:a,angle:n,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:c}=e,d=o*(l?1:-1)+a,u=Math.asin(o/d)/mx,m=c?n:n+i*u,f=cs(t,s,d,m),h=cs(t,s,a,m),x=c?n-i*u:n,p=cs(t,s,d*Math.cos(u*mx),x);return{center:f,circleTangency:h,lineTangency:p,theta:u}},BD=e=>{var{cx:t,cy:s,innerRadius:a,outerRadius:n,startAngle:i,endAngle:l}=e,o=rae(i,l),c=i+o,d=cs(t,s,n,i),u=cs(t,s,n,c),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(a>0){var f=cs(t,s,a,i),h=cs(t,s,a,c);m+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else m+="L ".concat(t,",").concat(s," Z");return m},sae=e=>{var{cx:t,cy:s,innerRadius:a,outerRadius:n,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:c,endAngle:d}=e,u=As(d-c),{circleTangency:m,lineTangency:f,theta:h}=yf({cx:t,cy:s,radius:n,angle:c,sign:u,cornerRadius:i,cornerIsExternal:o}),{circleTangency:x,lineTangency:p,theta:b}=yf({cx:t,cy:s,radius:n,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:o}),j=o?Math.abs(c-d):Math.abs(c-d)-h-b;if(j<0)return l?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):BD({cx:t,cy:s,innerRadius:a,outerRadius:n,startAngle:c,endAngle:d});var v="M ".concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(j>180),",").concat(+(u<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
  `);if(a>0){var{circleTangency:y,lineTangency:w,theta:N}=yf({cx:t,cy:s,radius:a,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:k,lineTangency:S,theta:P}=yf({cx:t,cy:s,radius:a,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),_=o?Math.abs(c-d):Math.abs(c-d)-N-P;if(_<0&&i===0)return"".concat(v,"L").concat(t,",").concat(s,"Z");v+="L".concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(u>0),",").concat(y.x,",").concat(y.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(w.x,",").concat(w.y,"Z")}else v+="L".concat(t,",").concat(s,"Z");return v},aae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$D=e=>{var t=Xr(e,aae),{cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u,className:m}=t;if(i<n||d===u)return null;var f=Yt("recharts-sector",m),h=i-n,x=ia(l,h,0,!0),p;return x>0&&Math.abs(d-u)<360?p=sae({cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:Math.min(x,h/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:u}):p=BD({cx:s,cy:a,innerRadius:n,outerRadius:i,startAngle:d,endAngle:u}),g.createElement("path",L2({},da(t),{className:f,d:p}))};function nae(e,t,s){if(e==="horizontal")return[{x:t.x,y:s.top},{x:t.x,y:s.top+s.height}];if(e==="vertical")return[{x:s.left,y:t.y},{x:s.left+s.width,y:t.y}];if(d7(t)){if(e==="centric"){var{cx:a,cy:n,innerRadius:i,outerRadius:l,angle:o}=t,c=cs(a,n,i,o),d=cs(a,n,l,o);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return RD(t)}}var UD={},zD={},VD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bN;function s(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=s})(VD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VD;function s(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=s})(zD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vN,s=zD;function a(n,i,l){l&&typeof l!="number"&&t.isIterateeCall(n,i,l)&&(i=l=void 0),n=s.toFinite(n),i===void 0?(i=n,n=0):i=s.toFinite(i),l=l===void 0?n<i?1:-1:s.toFinite(l);const o=Math.max(Math.ceil((i-n)/(l||1)),0),c=new Array(o);for(let d=0;d<o;d++)c[d]=n,n+=l;return c}e.range=a})(UD);var iae=UD.range;const HD=Dn(iae);function uo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lae(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function EN(e){let t,s,a;e.length!==2?(t=uo,s=(o,c)=>uo(e(o),c),a=(o,c)=>e(o)-c):(t=e===uo||e===lae?e:oae,s=e,a=e);function n(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const m=d+u>>>1;s(o[m],c)<0?d=m+1:u=m}while(d<u)}return d}function i(o,c,d=0,u=o.length){if(d<u){if(t(c,c)!==0)return u;do{const m=d+u>>>1;s(o[m],c)<=0?d=m+1:u=m}while(d<u)}return d}function l(o,c,d=0,u=o.length){const m=n(o,c,d,u-1);return m>d&&a(o[m-1],c)>-a(o[m],c)?m-1:m}return{left:n,center:l,right:i}}function oae(){return 0}function WD(e){return e===null?NaN:+e}function*cae(e,t){for(let s of e)s!=null&&(s=+s)>=s&&(yield s)}const dae=EN(uo),m0=dae.right;EN(WD).center;class BC extends Map{constructor(t,s=hae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),t!=null)for(const[a,n]of t)this.set(a,n)}get(t){return super.get($C(this,t))}has(t){return super.has($C(this,t))}set(t,s){return super.set(uae(this,t),s)}delete(t){return super.delete(mae(this,t))}}function $C({_intern:e,_key:t},s){const a=t(s);return e.has(a)?e.get(a):s}function uae({_intern:e,_key:t},s){const a=t(s);return e.has(a)?e.get(a):(e.set(a,s),s)}function mae({_intern:e,_key:t},s){const a=t(s);return e.has(a)&&(s=e.get(a),e.delete(a)),s}function hae(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fae(e=uo){if(e===uo)return GD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,s)=>{const a=e(t,s);return a||a===0?a:(e(s,s)===0)-(e(t,t)===0)}}function GD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const pae=Math.sqrt(50),xae=Math.sqrt(10),gae=Math.sqrt(2);function hx(e,t,s){const a=(t-e)/Math.max(0,s),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),l=i>=pae?10:i>=xae?5:i>=gae?2:1;let o,c,d;return n<0?(d=Math.pow(10,-n)/l,o=Math.round(e*d),c=Math.round(t*d),o/d<e&&++o,c/d>t&&--c,d=-d):(d=Math.pow(10,n)*l,o=Math.round(e/d),c=Math.round(t/d),o*d<e&&++o,c*d>t&&--c),c<o&&.5<=s&&s<2?hx(e,t,s*2):[o,c,d]}function F2(e,t,s){if(t=+t,e=+e,s=+s,!(s>0))return[];if(e===t)return[e];const a=t<e,[n,i,l]=a?hx(t,e,s):hx(e,t,s);if(!(i>=n))return[];const o=i-n+1,c=new Array(o);if(a)if(l<0)for(let d=0;d<o;++d)c[d]=(i-d)/-l;else for(let d=0;d<o;++d)c[d]=(i-d)*l;else if(l<0)for(let d=0;d<o;++d)c[d]=(n+d)/-l;else for(let d=0;d<o;++d)c[d]=(n+d)*l;return c}function R2(e,t,s){return t=+t,e=+e,s=+s,hx(e,t,s)[2]}function B2(e,t,s){t=+t,e=+e,s=+s;const a=t<e,n=a?R2(t,e,s):R2(e,t,s);return(a?-1:1)*(n<0?1/-n:n)}function UC(e,t){let s;for(const a of e)a!=null&&(s<a||s===void 0&&a>=a)&&(s=a);return s}function zC(e,t){let s;for(const a of e)a!=null&&(s>a||s===void 0&&a>=a)&&(s=a);return s}function KD(e,t,s=0,a=1/0,n){if(t=Math.floor(t),s=Math.floor(Math.max(0,s)),a=Math.floor(Math.min(e.length-1,a)),!(s<=t&&t<=a))return e;for(n=n===void 0?GD:fae(n);a>s;){if(a-s>600){const c=a-s+1,d=t-s+1,u=Math.log(c),m=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*m*(c-m)/c)*(d-c/2<0?-1:1),h=Math.max(s,Math.floor(t-d*m/c+f)),x=Math.min(a,Math.floor(t+(c-d)*m/c+f));KD(e,t,h,x,n)}const i=e[t];let l=s,o=a;for(cm(e,s,t),n(e[a],i)>0&&cm(e,s,a);l<o;){for(cm(e,l,o),++l,--o;n(e[l],i)<0;)++l;for(;n(e[o],i)>0;)--o}n(e[s],i)===0?cm(e,s,o):(++o,cm(e,o,a)),o<=t&&(s=o+1),t<=o&&(a=o-1)}return e}function cm(e,t,s){const a=e[t];e[t]=e[s],e[s]=a}function yae(e,t,s){if(e=Float64Array.from(cae(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return zC(e);if(t>=1)return UC(e);var a,n=(a-1)*t,i=Math.floor(n),l=UC(KD(e,i).subarray(0,i+1)),o=zC(e.subarray(i+1));return l+(o-l)*(n-i)}}function bae(e,t,s=WD){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+s(e[0],0,e);if(t>=1)return+s(e[a-1],a-1,e);var a,n=(a-1)*t,i=Math.floor(n),l=+s(e[i],i,e),o=+s(e[i+1],i+1,e);return l+(o-l)*(n-i)}}function vae(e,t,s){e=+e,t=+t,s=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+s;for(var a=-1,n=Math.max(0,Math.ceil((t-e)/s))|0,i=new Array(n);++a<n;)i[a]=e+a*s;return i}function Mn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Cl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $2=Symbol("implicit");function _N(){var e=new BC,t=[],s=[],a=$2;function n(i){let l=e.get(i);if(l===void 0){if(a!==$2)return a;e.set(i,l=t.push(i)-1)}return s[l%s.length]}return n.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new BC;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return n},n.range=function(i){return arguments.length?(s=Array.from(i),n):s.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return _N(t,s).unknown(a)},Mn.apply(n,arguments),n}function IN(){var e=_N().unknown(void 0),t=e.domain,s=e.range,a=0,n=1,i,l,o=!1,c=0,d=0,u=.5;delete e.unknown;function m(){var f=t().length,h=n<a,x=h?n:a,p=h?a:n;i=(p-x)/Math.max(1,f-c+d*2),o&&(i=Math.floor(i)),x+=(p-x-i*(f-c))*u,l=i*(1-c),o&&(x=Math.round(x),l=Math.round(l));var b=vae(f).map(function(j){return x+i*j});return s(h?b.reverse():b)}return e.domain=function(f){return arguments.length?(t(f),m()):t()},e.range=function(f){return arguments.length?([a,n]=f,a=+a,n=+n,m()):[a,n]},e.rangeRound=function(f){return[a,n]=f,a=+a,n=+n,o=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(f){return arguments.length?(o=!!f,m()):o},e.padding=function(f){return arguments.length?(c=Math.min(1,d=+f),m()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),m()):c},e.paddingOuter=function(f){return arguments.length?(d=+f,m()):d},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),m()):u},e.copy=function(){return IN(t(),[a,n]).round(o).paddingInner(c).paddingOuter(d).align(u)},Mn.apply(m(),arguments)}function qD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qD(t())},e}function jae(){return qD(IN.apply(null,arguments).paddingInner(1))}function ON(e,t,s){e.prototype=t.prototype=s,s.constructor=e}function YD(e,t){var s=Object.create(e.prototype);for(var a in t)s[a]=t[a];return s}function h0(){}var _h=.7,fx=1/_h,Xd="\\s*([+-]?\\d+)\\s*",Ih="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wae=/^#([0-9a-f]{3,8})$/,Nae=new RegExp(`^rgb\\(${Xd},${Xd},${Xd}\\)$`),Sae=new RegExp(`^rgb\\(${Si},${Si},${Si}\\)$`),kae=new RegExp(`^rgba\\(${Xd},${Xd},${Xd},${Ih}\\)$`),Cae=new RegExp(`^rgba\\(${Si},${Si},${Si},${Ih}\\)$`),Pae=new RegExp(`^hsl\\(${Ih},${Si},${Si}\\)$`),Aae=new RegExp(`^hsla\\(${Ih},${Si},${Si},${Ih}\\)$`),VC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ON(h0,Oh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:HC,formatHex:HC,formatHex8:Tae,formatHsl:Eae,formatRgb:WC,toString:WC});function HC(){return this.rgb().formatHex()}function Tae(){return this.rgb().formatHex8()}function Eae(){return XD(this).formatHsl()}function WC(){return this.rgb().formatRgb()}function Oh(e){var t,s;return e=(e+"").trim().toLowerCase(),(t=wae.exec(e))?(s=t[1].length,t=parseInt(t[1],16),s===6?GC(t):s===3?new _a(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):s===8?bf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):s===4?bf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Nae.exec(e))?new _a(t[1],t[2],t[3],1):(t=Sae.exec(e))?new _a(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kae.exec(e))?bf(t[1],t[2],t[3],t[4]):(t=Cae.exec(e))?bf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Pae.exec(e))?YC(t[1],t[2]/100,t[3]/100,1):(t=Aae.exec(e))?YC(t[1],t[2]/100,t[3]/100,t[4]):VC.hasOwnProperty(e)?GC(VC[e]):e==="transparent"?new _a(NaN,NaN,NaN,0):null}function GC(e){return new _a(e>>16&255,e>>8&255,e&255,1)}function bf(e,t,s,a){return a<=0&&(e=t=s=NaN),new _a(e,t,s,a)}function _ae(e){return e instanceof h0||(e=Oh(e)),e?(e=e.rgb(),new _a(e.r,e.g,e.b,e.opacity)):new _a}function U2(e,t,s,a){return arguments.length===1?_ae(e):new _a(e,t,s,a??1)}function _a(e,t,s,a){this.r=+e,this.g=+t,this.b=+s,this.opacity=+a}ON(_a,U2,YD(h0,{brighter(e){return e=e==null?fx:Math.pow(fx,e),new _a(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_h:Math.pow(_h,e),new _a(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _a(cc(this.r),cc(this.g),cc(this.b),px(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KC,formatHex:KC,formatHex8:Iae,formatRgb:qC,toString:qC}));function KC(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}`}function Iae(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}${Qo((isNaN(this.opacity)?1:this.opacity)*255)}`}function qC(){const e=px(this.opacity);return`${e===1?"rgb(":"rgba("}${cc(this.r)}, ${cc(this.g)}, ${cc(this.b)}${e===1?")":`, ${e})`}`}function px(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qo(e){return e=cc(e),(e<16?"0":"")+e.toString(16)}function YC(e,t,s,a){return a<=0?e=t=s=NaN:s<=0||s>=1?e=t=NaN:t<=0&&(e=NaN),new qn(e,t,s,a)}function XD(e){if(e instanceof qn)return new qn(e.h,e.s,e.l,e.opacity);if(e instanceof h0||(e=Oh(e)),!e)return new qn;if(e instanceof qn)return e;e=e.rgb();var t=e.r/255,s=e.g/255,a=e.b/255,n=Math.min(t,s,a),i=Math.max(t,s,a),l=NaN,o=i-n,c=(i+n)/2;return o?(t===i?l=(s-a)/o+(s<a)*6:s===i?l=(a-t)/o+2:l=(t-s)/o+4,o/=c<.5?i+n:2-i-n,l*=60):o=c>0&&c<1?0:l,new qn(l,o,c,e.opacity)}function Oae(e,t,s,a){return arguments.length===1?XD(e):new qn(e,t,s,a??1)}function qn(e,t,s,a){this.h=+e,this.s=+t,this.l=+s,this.opacity=+a}ON(qn,Oae,YD(h0,{brighter(e){return e=e==null?fx:Math.pow(fx,e),new qn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_h:Math.pow(_h,e),new qn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*t,n=2*s-a;return new _a(gv(e>=240?e-240:e+120,n,a),gv(e,n,a),gv(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new qn(XC(this.h),vf(this.s),vf(this.l),px(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=px(this.opacity);return`${e===1?"hsl(":"hsla("}${XC(this.h)}, ${vf(this.s)*100}%, ${vf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function XC(e){return e=(e||0)%360,e<0?e+360:e}function vf(e){return Math.max(0,Math.min(1,e||0))}function gv(e,t,s){return(e<60?t+(s-t)*e/60:e<180?s:e<240?t+(s-t)*(240-e)/60:t)*255}const DN=e=>()=>e;function Dae(e,t){return function(s){return e+s*t}}function Mae(e,t,s){return e=Math.pow(e,s),t=Math.pow(t,s)-e,s=1/s,function(a){return Math.pow(e+a*t,s)}}function Lae(e){return(e=+e)==1?JD:function(t,s){return s-t?Mae(t,s,e):DN(isNaN(t)?s:t)}}function JD(e,t){var s=t-e;return s?Dae(e,s):DN(isNaN(e)?t:e)}const JC=function e(t){var s=Lae(t);function a(n,i){var l=s((n=U2(n)).r,(i=U2(i)).r),o=s(n.g,i.g),c=s(n.b,i.b),d=JD(n.opacity,i.opacity);return function(u){return n.r=l(u),n.g=o(u),n.b=c(u),n.opacity=d(u),n+""}}return a.gamma=e,a}(1);function Fae(e,t){t||(t=[]);var s=e?Math.min(t.length,e.length):0,a=t.slice(),n;return function(i){for(n=0;n<s;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function Rae(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Bae(e,t){var s=t?t.length:0,a=e?Math.min(s,e.length):0,n=new Array(a),i=new Array(s),l;for(l=0;l<a;++l)n[l]=Ou(e[l],t[l]);for(;l<s;++l)i[l]=t[l];return function(o){for(l=0;l<a;++l)i[l]=n[l](o);return i}}function $ae(e,t){var s=new Date;return e=+e,t=+t,function(a){return s.setTime(e*(1-a)+t*a),s}}function xx(e,t){return e=+e,t=+t,function(s){return e*(1-s)+t*s}}function Uae(e,t){var s={},a={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?s[n]=Ou(e[n],t[n]):a[n]=t[n];return function(i){for(n in s)a[n]=s[n](i);return a}}var z2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yv=new RegExp(z2.source,"g");function zae(e){return function(){return e}}function Vae(e){return function(t){return e(t)+""}}function Hae(e,t){var s=z2.lastIndex=yv.lastIndex=0,a,n,i,l=-1,o=[],c=[];for(e=e+"",t=t+"";(a=z2.exec(e))&&(n=yv.exec(t));)(i=n.index)>s&&(i=t.slice(s,i),o[l]?o[l]+=i:o[++l]=i),(a=a[0])===(n=n[0])?o[l]?o[l]+=n:o[++l]=n:(o[++l]=null,c.push({i:l,x:xx(a,n)})),s=yv.lastIndex;return s<t.length&&(i=t.slice(s),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?Vae(c[0].x):zae(t):(t=c.length,function(d){for(var u=0,m;u<t;++u)o[(m=c[u]).i]=m.x(d);return o.join("")})}function Ou(e,t){var s=typeof t,a;return t==null||s==="boolean"?DN(t):(s==="number"?xx:s==="string"?(a=Oh(t))?(t=a,JC):Hae:t instanceof Oh?JC:t instanceof Date?$ae:Rae(t)?Fae:Array.isArray(t)?Bae:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Uae:xx)(e,t)}function MN(e,t){return e=+e,t=+t,function(s){return Math.round(e*(1-s)+t*s)}}function Wae(e,t){t===void 0&&(t=e,e=Ou);for(var s=0,a=t.length-1,n=t[0],i=new Array(a<0?0:a);s<a;)i[s]=e(n,n=t[++s]);return function(l){var o=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[o](l-o)}}function Gae(e){return function(){return e}}function gx(e){return+e}var QC=[0,1];function va(e){return e}function V2(e,t){return(t-=e=+e)?function(s){return(s-e)/t}:Gae(isNaN(t)?NaN:.5)}function Kae(e,t){var s;return e>t&&(s=e,e=t,t=s),function(a){return Math.max(e,Math.min(t,a))}}function qae(e,t,s){var a=e[0],n=e[1],i=t[0],l=t[1];return n<a?(a=V2(n,a),i=s(l,i)):(a=V2(a,n),i=s(i,l)),function(o){return i(a(o))}}function Yae(e,t,s){var a=Math.min(e.length,t.length)-1,n=new Array(a),i=new Array(a),l=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<a;)n[l]=V2(e[l],e[l+1]),i[l]=s(t[l],t[l+1]);return function(o){var c=m0(e,o,1,a)-1;return i[c](n[c](o))}}function f0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cy(){var e=QC,t=QC,s=Ou,a,n,i,l=va,o,c,d;function u(){var f=Math.min(e.length,t.length);return l!==va&&(l=Kae(e[0],e[f-1])),o=f>2?Yae:qae,c=d=null,m}function m(f){return f==null||isNaN(f=+f)?i:(c||(c=o(e.map(a),t,s)))(a(l(f)))}return m.invert=function(f){return l(n((d||(d=o(t,e.map(a),xx)))(f)))},m.domain=function(f){return arguments.length?(e=Array.from(f,gx),u()):e.slice()},m.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},m.rangeRound=function(f){return t=Array.from(f),s=MN,u()},m.clamp=function(f){return arguments.length?(l=f?!0:va,u()):l!==va},m.interpolate=function(f){return arguments.length?(s=f,u()):s},m.unknown=function(f){return arguments.length?(i=f,m):i},function(f,h){return a=f,n=h,u()}}function LN(){return cy()(va,va)}function Xae(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yx(e,t){if((s=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var s,a=e.slice(0,s);return[a.length>1?a[0]+a.slice(2):a,+e.slice(s+1)]}function gu(e){return e=yx(Math.abs(e)),e?e[1]:NaN}function Jae(e,t){return function(s,a){for(var n=s.length,i=[],l=0,o=e[0],c=0;n>0&&o>0&&(c+o+1>a&&(o=Math.max(1,a-c)),i.push(s.substring(n-=o,n+o)),!((c+=o+1)>a));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function Qae(e){return function(t){return t.replace(/[0-9]/g,function(s){return e[+s]})}}var Zae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dh(e){if(!(t=Zae.exec(e)))throw new Error("invalid format: "+e);var t;return new FN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Dh.prototype=FN.prototype;function FN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}FN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ene(e){e:for(var t=e.length,s=1,a=-1,n;s<t;++s)switch(e[s]){case".":a=n=s;break;case"0":a===0&&(a=s),n=s;break;default:if(!+e[s])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var QD;function tne(e,t){var s=yx(e,t);if(!s)return e+"";var a=s[0],n=s[1],i=n-(QD=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+yx(e,Math.max(0,t+i-1))[0]}function ZC(e,t){var s=yx(e,t);if(!s)return e+"";var a=s[0],n=s[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const eP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Xae,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ZC(e*100,t),r:ZC,s:tne,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tP(e){return e}var rP=Array.prototype.map,sP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rne(e){var t=e.grouping===void 0||e.thousands===void 0?tP:Jae(rP.call(e.grouping,Number),e.thousands+""),s=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?tP:Qae(rP.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=Dh(m);var f=m.fill,h=m.align,x=m.sign,p=m.symbol,b=m.zero,j=m.width,v=m.comma,y=m.precision,w=m.trim,N=m.type;N==="n"?(v=!0,N="g"):eP[N]||(y===void 0&&(y=12),w=!0,N="g"),(b||f==="0"&&h==="=")&&(b=!0,f="0",h="=");var k=p==="$"?s:p==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",S=p==="$"?a:/[%p]/.test(N)?l:"",P=eP[N],_=/[defgprs%]/.test(N);y=y===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function C(A){var V=k,q=S,Z,ue,me;if(N==="c")q=P(A)+q,A="";else{A=+A;var Q=A<0||1/A<0;if(A=isNaN(A)?c:P(Math.abs(A),y),w&&(A=ene(A)),Q&&+A==0&&x!=="+"&&(Q=!1),V=(Q?x==="("?x:o:x==="-"||x==="("?"":x)+V,q=(N==="s"?sP[8+QD/3]:"")+q+(Q&&x==="("?")":""),_){for(Z=-1,ue=A.length;++Z<ue;)if(me=A.charCodeAt(Z),48>me||me>57){q=(me===46?n+A.slice(Z+1):A.slice(Z))+q,A=A.slice(0,Z);break}}}v&&!b&&(A=t(A,1/0));var ae=V.length+A.length+q.length,oe=ae<j?new Array(j-ae+1).join(f):"";switch(v&&b&&(A=t(oe+A,oe.length?j-q.length:1/0),oe=""),h){case"<":A=V+A+q+oe;break;case"=":A=V+oe+A+q;break;case"^":A=oe.slice(0,ae=oe.length>>1)+V+A+q+oe.slice(ae);break;default:A=oe+V+A+q;break}return i(A)}return C.toString=function(){return m+""},C}function u(m,f){var h=d((m=Dh(m),m.type="f",m)),x=Math.max(-8,Math.min(8,Math.floor(gu(f)/3)))*3,p=Math.pow(10,-x),b=sP[8+x/3];return function(j){return h(p*j)+b}}return{format:d,formatPrefix:u}}var jf,RN,ZD;sne({thousands:",",grouping:[3],currency:["$",""]});function sne(e){return jf=rne(e),RN=jf.format,ZD=jf.formatPrefix,jf}function ane(e){return Math.max(0,-gu(Math.abs(e)))}function nne(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gu(t)/3)))*3-gu(Math.abs(e)))}function ine(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gu(t)-gu(e))+1}function e9(e,t,s,a){var n=B2(e,t,s),i;switch(a=Dh(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=nne(n,l))&&(a.precision=i),ZD(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=ine(n,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=ane(n))&&(a.precision=i-(a.type==="%")*2);break}}return RN(a)}function Eo(e){var t=e.domain;return e.ticks=function(s){var a=t();return F2(a[0],a[a.length-1],s??10)},e.tickFormat=function(s,a){var n=t();return e9(n[0],n[n.length-1],s??10,a)},e.nice=function(s){s==null&&(s=10);var a=t(),n=0,i=a.length-1,l=a[n],o=a[i],c,d,u=10;for(o<l&&(d=l,l=o,o=d,d=n,n=i,i=d);u-- >0;){if(d=R2(l,o,s),d===c)return a[n]=l,a[i]=o,t(a);if(d>0)l=Math.floor(l/d)*d,o=Math.ceil(o/d)*d;else if(d<0)l=Math.ceil(l*d)/d,o=Math.floor(o*d)/d;else break;c=d}return e},e}function t9(){var e=LN();return e.copy=function(){return f0(e,t9())},Mn.apply(e,arguments),Eo(e)}function r9(e){var t;function s(a){return a==null||isNaN(a=+a)?t:a}return s.invert=s,s.domain=s.range=function(a){return arguments.length?(e=Array.from(a,gx),s):e.slice()},s.unknown=function(a){return arguments.length?(t=a,s):t},s.copy=function(){return r9(e).unknown(t)},e=arguments.length?Array.from(e,gx):[0,1],Eo(s)}function s9(e,t){e=e.slice();var s=0,a=e.length-1,n=e[s],i=e[a],l;return i<n&&(l=s,s=a,a=l,l=n,n=i,i=l),e[s]=t.floor(n),e[a]=t.ceil(i),e}function aP(e){return Math.log(e)}function nP(e){return Math.exp(e)}function lne(e){return-Math.log(-e)}function one(e){return-Math.exp(-e)}function cne(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dne(e){return e===10?cne:e===Math.E?Math.exp:t=>Math.pow(e,t)}function une(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function iP(e){return(t,s)=>-e(-t,s)}function BN(e){const t=e(aP,nP),s=t.domain;let a=10,n,i;function l(){return n=une(a),i=dne(a),s()[0]<0?(n=iP(n),i=iP(i),e(lne,one)):e(aP,nP),t}return t.base=function(o){return arguments.length?(a=+o,l()):a},t.domain=function(o){return arguments.length?(s(o),l()):s()},t.ticks=o=>{const c=s();let d=c[0],u=c[c.length-1];const m=u<d;m&&([d,u]=[u,d]);let f=n(d),h=n(u),x,p;const b=o==null?10:+o;let j=[];if(!(a%1)&&h-f<b){if(f=Math.floor(f),h=Math.ceil(h),d>0){for(;f<=h;++f)for(x=1;x<a;++x)if(p=f<0?x/i(-f):x*i(f),!(p<d)){if(p>u)break;j.push(p)}}else for(;f<=h;++f)for(x=a-1;x>=1;--x)if(p=f>0?x/i(-f):x*i(f),!(p<d)){if(p>u)break;j.push(p)}j.length*2<b&&(j=F2(d,u,b))}else j=F2(f,h,Math.min(h-f,b)).map(i);return m?j.reverse():j},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=Dh(c)).precision==null&&(c.trim=!0),c=RN(c)),o===1/0)return c;const d=Math.max(1,a*o/t.ticks().length);return u=>{let m=u/i(Math.round(n(u)));return m*a<a-.5&&(m*=a),m<=d?c(u):""}},t.nice=()=>s(s9(s(),{floor:o=>i(Math.floor(n(o))),ceil:o=>i(Math.ceil(n(o)))})),t}function a9(){const e=BN(cy()).domain([1,10]);return e.copy=()=>f0(e,a9()).base(e.base()),Mn.apply(e,arguments),e}function lP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function oP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $N(e){var t=1,s=e(lP(t),oP(t));return s.constant=function(a){return arguments.length?e(lP(t=+a),oP(t)):t},Eo(s)}function n9(){var e=$N(cy());return e.copy=function(){return f0(e,n9()).constant(e.constant())},Mn.apply(e,arguments)}function cP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mne(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hne(e){return e<0?-e*e:e*e}function UN(e){var t=e(va,va),s=1;function a(){return s===1?e(va,va):s===.5?e(mne,hne):e(cP(s),cP(1/s))}return t.exponent=function(n){return arguments.length?(s=+n,a()):s},Eo(t)}function zN(){var e=UN(cy());return e.copy=function(){return f0(e,zN()).exponent(e.exponent())},Mn.apply(e,arguments),e}function fne(){return zN.apply(null,arguments).exponent(.5)}function dP(e){return Math.sign(e)*e*e}function pne(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function i9(){var e=LN(),t=[0,1],s=!1,a;function n(i){var l=pne(e(i));return isNaN(l)?a:s?Math.round(l):l}return n.invert=function(i){return e.invert(dP(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((t=Array.from(i,gx)).map(dP)),n):t.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(s=!!i,n):s},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return i9(e.domain(),t).round(s).clamp(e.clamp()).unknown(a)},Mn.apply(n,arguments),Eo(n)}function l9(){var e=[],t=[],s=[],a;function n(){var l=0,o=Math.max(1,t.length);for(s=new Array(o-1);++l<o;)s[l-1]=bae(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?a:t[m0(s,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?s[o-1]:e[0],o<s.length?s[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(uo),n()},i.range=function(l){return arguments.length?(t=Array.from(l),n()):t.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return s.slice()},i.copy=function(){return l9().domain(e).range(t).unknown(a)},Mn.apply(i,arguments)}function o9(){var e=0,t=1,s=1,a=[.5],n=[0,1],i;function l(c){return c!=null&&c<=c?n[m0(a,c,0,s)]:i}function o(){var c=-1;for(a=new Array(s);++c<s;)a[c]=((c+1)*t-(c-s)*e)/(s+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},l.range=function(c){return arguments.length?(s=(n=Array.from(c)).length-1,o()):n.slice()},l.invertExtent=function(c){var d=n.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,a[0]]:d>=s?[a[s-1],t]:[a[d-1],a[d]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return a.slice()},l.copy=function(){return o9().domain([e,t]).range(n).unknown(i)},Mn.apply(Eo(l),arguments)}function c9(){var e=[.5],t=[0,1],s,a=1;function n(i){return i!=null&&i<=i?t[m0(e,i,0,a)]:s}return n.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),n):e.slice()},n.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),n):t.slice()},n.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return c9().domain(e).range(t).unknown(s)},Mn.apply(n,arguments)}const bv=new Date,vv=new Date;function js(e,t,s,a){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),n.round=i=>{const l=n(i),o=n.ceil(i);return i-l<o-i?l:o},n.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),n.range=(i,l,o)=>{const c=[];if(i=n.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let d;do c.push(d=new Date(+i)),t(i,o),e(i);while(d<i&&i<l);return c},n.filter=i=>js(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),s&&(n.count=(i,l)=>(bv.setTime(+i),vv.setTime(+l),e(bv),e(vv),Math.floor(s(bv,vv))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?l=>a(l)%i===0:l=>n.count(0,l)%i===0):n)),n}const bx=js(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?js(t=>{t.setTime(Math.floor(t/e)*e)},(t,s)=>{t.setTime(+t+s*e)},(t,s)=>(s-t)/e):bx);bx.range;const Gi=1e3,Cn=Gi*60,Ki=Cn*60,fl=Ki*24,VN=fl*7,uP=fl*30,jv=fl*365,Zo=js(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Gi)},(e,t)=>(t-e)/Gi,e=>e.getUTCSeconds());Zo.range;const HN=js(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gi)},(e,t)=>{e.setTime(+e+t*Cn)},(e,t)=>(t-e)/Cn,e=>e.getMinutes());HN.range;const WN=js(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Cn)},(e,t)=>(t-e)/Cn,e=>e.getUTCMinutes());WN.range;const GN=js(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gi-e.getMinutes()*Cn)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getHours());GN.range;const KN=js(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getUTCHours());KN.range;const p0=js(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cn)/fl,e=>e.getDate()-1);p0.range;const dy=js(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fl,e=>e.getUTCDate()-1);dy.range;const d9=js(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fl,e=>Math.floor(e/fl));d9.range;function Kc(e){return js(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,s)=>{t.setDate(t.getDate()+s*7)},(t,s)=>(s-t-(s.getTimezoneOffset()-t.getTimezoneOffset())*Cn)/VN)}const uy=Kc(0),vx=Kc(1),xne=Kc(2),gne=Kc(3),yu=Kc(4),yne=Kc(5),bne=Kc(6);uy.range;vx.range;xne.range;gne.range;yu.range;yne.range;bne.range;function qc(e){return js(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,s)=>{t.setUTCDate(t.getUTCDate()+s*7)},(t,s)=>(s-t)/VN)}const my=qc(0),jx=qc(1),vne=qc(2),jne=qc(3),bu=qc(4),wne=qc(5),Nne=qc(6);my.range;jx.range;vne.range;jne.range;bu.range;wne.range;Nne.range;const qN=js(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());qN.range;const YN=js(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());YN.range;const pl=js(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:js(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,s)=>{t.setFullYear(t.getFullYear()+s*e)});pl.range;const xl=js(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:js(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,s)=>{t.setUTCFullYear(t.getUTCFullYear()+s*e)});xl.range;function u9(e,t,s,a,n,i){const l=[[Zo,1,Gi],[Zo,5,5*Gi],[Zo,15,15*Gi],[Zo,30,30*Gi],[i,1,Cn],[i,5,5*Cn],[i,15,15*Cn],[i,30,30*Cn],[n,1,Ki],[n,3,3*Ki],[n,6,6*Ki],[n,12,12*Ki],[a,1,fl],[a,2,2*fl],[s,1,VN],[t,1,uP],[t,3,3*uP],[e,1,jv]];function o(d,u,m){const f=u<d;f&&([d,u]=[u,d]);const h=m&&typeof m.range=="function"?m:c(d,u,m),x=h?h.range(d,+u+1):[];return f?x.reverse():x}function c(d,u,m){const f=Math.abs(u-d)/m,h=EN(([,,b])=>b).right(l,f);if(h===l.length)return e.every(B2(d/jv,u/jv,m));if(h===0)return bx.every(Math.max(B2(d,u,m),1));const[x,p]=l[f/l[h-1][2]<l[h][2]/f?h-1:h];return x.every(p)}return[o,c]}const[Sne,kne]=u9(xl,YN,my,d9,KN,WN),[Cne,Pne]=u9(pl,qN,uy,p0,GN,HN);function wv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Nv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function dm(e,t,s){return{y:e,m:t,d:s,H:0,M:0,S:0,L:0}}function Ane(e){var t=e.dateTime,s=e.date,a=e.time,n=e.periods,i=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,d=um(n),u=mm(n),m=um(i),f=mm(i),h=um(l),x=mm(l),p=um(o),b=mm(o),j=um(c),v=mm(c),y={a:Q,A:ae,b:oe,B:R,c:null,d:gP,e:gP,f:Jne,g:lie,G:cie,H:qne,I:Yne,j:Xne,L:m9,m:Qne,M:Zne,p:O,q:I,Q:vP,s:jP,S:eie,u:tie,U:rie,V:sie,w:aie,W:nie,x:null,X:null,y:iie,Y:oie,Z:die,"%":bP},w={a:X,A:W,b:T,B:L,c:null,d:yP,e:yP,f:fie,g:Sie,G:Cie,H:uie,I:mie,j:hie,L:f9,m:pie,M:xie,p:D,q:M,Q:vP,s:jP,S:gie,u:yie,U:bie,V:vie,w:jie,W:wie,x:null,X:null,y:Nie,Y:kie,Z:Pie,"%":bP},N={a:C,A,b:V,B:q,c:Z,d:pP,e:pP,f:Hne,g:fP,G:hP,H:xP,I:xP,j:$ne,L:Vne,m:Bne,M:Une,p:_,q:Rne,Q:Gne,s:Kne,S:zne,u:One,U:Dne,V:Mne,w:Ine,W:Lne,x:ue,X:me,y:fP,Y:hP,Z:Fne,"%":Wne};y.x=k(s,y),y.X=k(a,y),y.c=k(t,y),w.x=k(s,w),w.X=k(a,w),w.c=k(t,w);function k(z,se){return function(ne){var te=[],Re=-1,Ce=0,Je=z.length,Ge,Le,mt;for(ne instanceof Date||(ne=new Date(+ne));++Re<Je;)z.charCodeAt(Re)===37&&(te.push(z.slice(Ce,Re)),(Le=mP[Ge=z.charAt(++Re)])!=null?Ge=z.charAt(++Re):Le=Ge==="e"?" ":"0",(mt=se[Ge])&&(Ge=mt(ne,Le)),te.push(Ge),Ce=Re+1);return te.push(z.slice(Ce,Re)),te.join("")}}function S(z,se){return function(ne){var te=dm(1900,void 0,1),Re=P(te,z,ne+="",0),Ce,Je;if(Re!=ne.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(se&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(Ce=Nv(dm(te.y,0,1)),Je=Ce.getUTCDay(),Ce=Je>4||Je===0?jx.ceil(Ce):jx(Ce),Ce=dy.offset(Ce,(te.V-1)*7),te.y=Ce.getUTCFullYear(),te.m=Ce.getUTCMonth(),te.d=Ce.getUTCDate()+(te.w+6)%7):(Ce=wv(dm(te.y,0,1)),Je=Ce.getDay(),Ce=Je>4||Je===0?vx.ceil(Ce):vx(Ce),Ce=p0.offset(Ce,(te.V-1)*7),te.y=Ce.getFullYear(),te.m=Ce.getMonth(),te.d=Ce.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),Je="Z"in te?Nv(dm(te.y,0,1)).getUTCDay():wv(dm(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(Je+5)%7:te.w+te.U*7-(Je+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,Nv(te)):wv(te)}}function P(z,se,ne,te){for(var Re=0,Ce=se.length,Je=ne.length,Ge,Le;Re<Ce;){if(te>=Je)return-1;if(Ge=se.charCodeAt(Re++),Ge===37){if(Ge=se.charAt(Re++),Le=N[Ge in mP?se.charAt(Re++):Ge],!Le||(te=Le(z,ne,te))<0)return-1}else if(Ge!=ne.charCodeAt(te++))return-1}return te}function _(z,se,ne){var te=d.exec(se.slice(ne));return te?(z.p=u.get(te[0].toLowerCase()),ne+te[0].length):-1}function C(z,se,ne){var te=h.exec(se.slice(ne));return te?(z.w=x.get(te[0].toLowerCase()),ne+te[0].length):-1}function A(z,se,ne){var te=m.exec(se.slice(ne));return te?(z.w=f.get(te[0].toLowerCase()),ne+te[0].length):-1}function V(z,se,ne){var te=j.exec(se.slice(ne));return te?(z.m=v.get(te[0].toLowerCase()),ne+te[0].length):-1}function q(z,se,ne){var te=p.exec(se.slice(ne));return te?(z.m=b.get(te[0].toLowerCase()),ne+te[0].length):-1}function Z(z,se,ne){return P(z,t,se,ne)}function ue(z,se,ne){return P(z,s,se,ne)}function me(z,se,ne){return P(z,a,se,ne)}function Q(z){return l[z.getDay()]}function ae(z){return i[z.getDay()]}function oe(z){return c[z.getMonth()]}function R(z){return o[z.getMonth()]}function O(z){return n[+(z.getHours()>=12)]}function I(z){return 1+~~(z.getMonth()/3)}function X(z){return l[z.getUTCDay()]}function W(z){return i[z.getUTCDay()]}function T(z){return c[z.getUTCMonth()]}function L(z){return o[z.getUTCMonth()]}function D(z){return n[+(z.getUTCHours()>=12)]}function M(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var se=k(z+="",y);return se.toString=function(){return z},se},parse:function(z){var se=S(z+="",!1);return se.toString=function(){return z},se},utcFormat:function(z){var se=k(z+="",w);return se.toString=function(){return z},se},utcParse:function(z){var se=S(z+="",!0);return se.toString=function(){return z},se}}}var mP={"-":"",_:" ",0:"0"},Ds=/^\s*\d+/,Tne=/^%/,Ene=/[\\^$*+?|[\]().{}]/g;function Zt(e,t,s){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<s?new Array(s-i+1).join(t)+n:n)}function _ne(e){return e.replace(Ene,"\\$&")}function um(e){return new RegExp("^(?:"+e.map(_ne).join("|")+")","i")}function mm(e){return new Map(e.map((t,s)=>[t.toLowerCase(),s]))}function Ine(e,t,s){var a=Ds.exec(t.slice(s,s+1));return a?(e.w=+a[0],s+a[0].length):-1}function One(e,t,s){var a=Ds.exec(t.slice(s,s+1));return a?(e.u=+a[0],s+a[0].length):-1}function Dne(e,t,s){var a=Ds.exec(t.slice(s,s+2));return a?(e.U=+a[0],s+a[0].length):-1}function Mne(e,t,s){var a=Ds.exec(t.slice(s,s+2));return a?(e.V=+a[0],s+a[0].length):-1}function Lne(e,t,s){var a=Ds.exec(t.slice(s,s+2));return a?(e.W=+a[0],s+a[0].length):-1}function hP(e,t,s){var a=Ds.exec(t.slice(s,s+4));return a?(e.y=+a[0],s+a[0].length):-1}function fP(e,t,s){var a=Ds.exec(t.slice(s,s+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),s+a[0].length):-1}function Fne(e,t,s){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(s,s+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),s+a[0].length):-1}function Rne(e,t,s){var a=Ds.exec(t.slice(s,s+1));return a?(e.q=a[0]*3-3,s+a[0].length):-1}function Bne(e,t,s){var a=Ds.exec(t.slice(s,s+2));return a?(e.m=a[0]-1,s+a[0].length):-1}function pP(e,t,s){var a=Ds.exec(t.slice(s,s+2));return a?(e.d=+a[0],s+a[0].length):-1}function $ne(e,t,s){var a=Ds.exec(t.slice(s,s+3));return a?(e.m=0,e.d=+a[0],s+a[0].length):-1}function xP(e,t,s){var a=Ds.exec(t.slice(s,s+2));return a?(e.H=+a[0],s+a[0].length):-1}function Une(e,t,s){var a=Ds.exec(t.slice(s,s+2));return a?(e.M=+a[0],s+a[0].length):-1}function zne(e,t,s){var a=Ds.exec(t.slice(s,s+2));return a?(e.S=+a[0],s+a[0].length):-1}function Vne(e,t,s){var a=Ds.exec(t.slice(s,s+3));return a?(e.L=+a[0],s+a[0].length):-1}function Hne(e,t,s){var a=Ds.exec(t.slice(s,s+6));return a?(e.L=Math.floor(a[0]/1e3),s+a[0].length):-1}function Wne(e,t,s){var a=Tne.exec(t.slice(s,s+1));return a?s+a[0].length:-1}function Gne(e,t,s){var a=Ds.exec(t.slice(s));return a?(e.Q=+a[0],s+a[0].length):-1}function Kne(e,t,s){var a=Ds.exec(t.slice(s));return a?(e.s=+a[0],s+a[0].length):-1}function gP(e,t){return Zt(e.getDate(),t,2)}function qne(e,t){return Zt(e.getHours(),t,2)}function Yne(e,t){return Zt(e.getHours()%12||12,t,2)}function Xne(e,t){return Zt(1+p0.count(pl(e),e),t,3)}function m9(e,t){return Zt(e.getMilliseconds(),t,3)}function Jne(e,t){return m9(e,t)+"000"}function Qne(e,t){return Zt(e.getMonth()+1,t,2)}function Zne(e,t){return Zt(e.getMinutes(),t,2)}function eie(e,t){return Zt(e.getSeconds(),t,2)}function tie(e){var t=e.getDay();return t===0?7:t}function rie(e,t){return Zt(uy.count(pl(e)-1,e),t,2)}function h9(e){var t=e.getDay();return t>=4||t===0?yu(e):yu.ceil(e)}function sie(e,t){return e=h9(e),Zt(yu.count(pl(e),e)+(pl(e).getDay()===4),t,2)}function aie(e){return e.getDay()}function nie(e,t){return Zt(vx.count(pl(e)-1,e),t,2)}function iie(e,t){return Zt(e.getFullYear()%100,t,2)}function lie(e,t){return e=h9(e),Zt(e.getFullYear()%100,t,2)}function oie(e,t){return Zt(e.getFullYear()%1e4,t,4)}function cie(e,t){var s=e.getDay();return e=s>=4||s===0?yu(e):yu.ceil(e),Zt(e.getFullYear()%1e4,t,4)}function die(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Zt(t/60|0,"0",2)+Zt(t%60,"0",2)}function yP(e,t){return Zt(e.getUTCDate(),t,2)}function uie(e,t){return Zt(e.getUTCHours(),t,2)}function mie(e,t){return Zt(e.getUTCHours()%12||12,t,2)}function hie(e,t){return Zt(1+dy.count(xl(e),e),t,3)}function f9(e,t){return Zt(e.getUTCMilliseconds(),t,3)}function fie(e,t){return f9(e,t)+"000"}function pie(e,t){return Zt(e.getUTCMonth()+1,t,2)}function xie(e,t){return Zt(e.getUTCMinutes(),t,2)}function gie(e,t){return Zt(e.getUTCSeconds(),t,2)}function yie(e){var t=e.getUTCDay();return t===0?7:t}function bie(e,t){return Zt(my.count(xl(e)-1,e),t,2)}function p9(e){var t=e.getUTCDay();return t>=4||t===0?bu(e):bu.ceil(e)}function vie(e,t){return e=p9(e),Zt(bu.count(xl(e),e)+(xl(e).getUTCDay()===4),t,2)}function jie(e){return e.getUTCDay()}function wie(e,t){return Zt(jx.count(xl(e)-1,e),t,2)}function Nie(e,t){return Zt(e.getUTCFullYear()%100,t,2)}function Sie(e,t){return e=p9(e),Zt(e.getUTCFullYear()%100,t,2)}function kie(e,t){return Zt(e.getUTCFullYear()%1e4,t,4)}function Cie(e,t){var s=e.getUTCDay();return e=s>=4||s===0?bu(e):bu.ceil(e),Zt(e.getUTCFullYear()%1e4,t,4)}function Pie(){return"+0000"}function bP(){return"%"}function vP(e){return+e}function jP(e){return Math.floor(+e/1e3)}var id,x9,g9;Aie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Aie(e){return id=Ane(e),x9=id.format,id.parse,g9=id.utcFormat,id.utcParse,id}function Tie(e){return new Date(e)}function Eie(e){return e instanceof Date?+e:+new Date(+e)}function XN(e,t,s,a,n,i,l,o,c,d){var u=LN(),m=u.invert,f=u.domain,h=d(".%L"),x=d(":%S"),p=d("%I:%M"),b=d("%I %p"),j=d("%a %d"),v=d("%b %d"),y=d("%B"),w=d("%Y");function N(k){return(c(k)<k?h:o(k)<k?x:l(k)<k?p:i(k)<k?b:a(k)<k?n(k)<k?j:v:s(k)<k?y:w)(k)}return u.invert=function(k){return new Date(m(k))},u.domain=function(k){return arguments.length?f(Array.from(k,Eie)):f().map(Tie)},u.ticks=function(k){var S=f();return e(S[0],S[S.length-1],k??10)},u.tickFormat=function(k,S){return S==null?N:d(S)},u.nice=function(k){var S=f();return(!k||typeof k.range!="function")&&(k=t(S[0],S[S.length-1],k??10)),k?f(s9(S,k)):u},u.copy=function(){return f0(u,XN(e,t,s,a,n,i,l,o,c,d))},u}function _ie(){return Mn.apply(XN(Cne,Pne,pl,qN,uy,p0,GN,HN,Zo,x9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Iie(){return Mn.apply(XN(Sne,kne,xl,YN,my,dy,KN,WN,Zo,g9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hy(){var e=0,t=1,s,a,n,i,l=va,o=!1,c;function d(m){return m==null||isNaN(m=+m)?c:l(n===0?.5:(m=(i(m)-s)*n,o?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,s=i(e=+e),a=i(t=+t),n=s===a?0:1/(a-s),d):[e,t]},d.clamp=function(m){return arguments.length?(o=!!m,d):o},d.interpolator=function(m){return arguments.length?(l=m,d):l};function u(m){return function(f){var h,x;return arguments.length?([h,x]=f,l=m(h,x),d):[l(0),l(1)]}}return d.range=u(Ou),d.rangeRound=u(MN),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,s=m(e),a=m(t),n=s===a?0:1/(a-s),d}}function _o(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function y9(){var e=Eo(hy()(va));return e.copy=function(){return _o(e,y9())},Cl.apply(e,arguments)}function b9(){var e=BN(hy()).domain([1,10]);return e.copy=function(){return _o(e,b9()).base(e.base())},Cl.apply(e,arguments)}function v9(){var e=$N(hy());return e.copy=function(){return _o(e,v9()).constant(e.constant())},Cl.apply(e,arguments)}function JN(){var e=UN(hy());return e.copy=function(){return _o(e,JN()).exponent(e.exponent())},Cl.apply(e,arguments)}function Oie(){return JN.apply(null,arguments).exponent(.5)}function j9(){var e=[],t=va;function s(a){if(a!=null&&!isNaN(a=+a))return t((m0(e,a,1)-1)/(e.length-1))}return s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let n of a)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(uo),s},s.interpolator=function(a){return arguments.length?(t=a,s):t},s.range=function(){return e.map((a,n)=>t(n/(e.length-1)))},s.quantiles=function(a){return Array.from({length:a+1},(n,i)=>yae(e,i/a))},s.copy=function(){return j9(t).domain(e)},Cl.apply(s,arguments)}function fy(){var e=0,t=.5,s=1,a=1,n,i,l,o,c,d=va,u,m=!1,f;function h(p){return isNaN(p=+p)?f:(p=.5+((p=+u(p))-i)*(a*p<a*i?o:c),d(m?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t,s]=p,n=u(e=+e),i=u(t=+t),l=u(s=+s),o=n===i?0:.5/(i-n),c=i===l?0:.5/(l-i),a=i<n?-1:1,h):[e,t,s]},h.clamp=function(p){return arguments.length?(m=!!p,h):m},h.interpolator=function(p){return arguments.length?(d=p,h):d};function x(p){return function(b){var j,v,y;return arguments.length?([j,v,y]=b,d=Wae(p,[j,v,y]),h):[d(0),d(.5),d(1)]}}return h.range=x(Ou),h.rangeRound=x(MN),h.unknown=function(p){return arguments.length?(f=p,h):f},function(p){return u=p,n=p(e),i=p(t),l=p(s),o=n===i?0:.5/(i-n),c=i===l?0:.5/(l-i),a=i<n?-1:1,h}}function w9(){var e=Eo(fy()(va));return e.copy=function(){return _o(e,w9())},Cl.apply(e,arguments)}function N9(){var e=BN(fy()).domain([.1,1,10]);return e.copy=function(){return _o(e,N9()).base(e.base())},Cl.apply(e,arguments)}function S9(){var e=$N(fy());return e.copy=function(){return _o(e,S9()).constant(e.constant())},Cl.apply(e,arguments)}function QN(){var e=UN(fy());return e.copy=function(){return _o(e,QN()).exponent(e.exponent())},Cl.apply(e,arguments)}function Die(){return QN.apply(null,arguments).exponent(.5)}const Sm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:IN,scaleDiverging:w9,scaleDivergingLog:N9,scaleDivergingPow:QN,scaleDivergingSqrt:Die,scaleDivergingSymlog:S9,scaleIdentity:r9,scaleImplicit:$2,scaleLinear:t9,scaleLog:a9,scaleOrdinal:_N,scalePoint:jae,scalePow:zN,scaleQuantile:l9,scaleQuantize:o9,scaleRadial:i9,scaleSequential:y9,scaleSequentialLog:b9,scaleSequentialPow:JN,scaleSequentialQuantile:j9,scaleSequentialSqrt:Oie,scaleSequentialSymlog:v9,scaleSqrt:fne,scaleSymlog:n9,scaleThreshold:c9,scaleTime:_ie,scaleUtc:Iie,tickFormat:e9},Symbol.toStringTag,{value:"Module"}));var Io=e=>e.chartData,ZN=pe([Io],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),x0=(e,t,s,a)=>a?ZN(e):Io(e);function _c(e){if(Array.isArray(e)&&e.length===2){var[t,s]=e;if(Cr(t)&&Cr(s))return!0}return!1}function wP(e,t,s){return s?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function k9(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[s,a]=e,n,i;if(Cr(s))n=s;else if(typeof s=="function")return;if(Cr(a))i=a;else if(typeof a=="function")return;var l=[n,i];if(_c(l))return l}}function Mie(e,t,s){if(!(!s&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,s);if(_c(a))return wP(a,t,s)}catch{}if(Array.isArray(e)&&e.length===2){var[n,i]=e,l,o;if(n==="auto")t!=null&&(l=Math.min(...t));else if(xt(n))l=n;else if(typeof n=="function")try{t!=null&&(l=n(t==null?void 0:t[0]))}catch{}else if(typeof n=="string"&&dC.test(n)){var c=dC.exec(n);if(c==null||t==null)l=void 0;else{var d=+c[1];l=t[0]-d}}else l=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(xt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&uC.test(i)){var u=uC.exec(i);if(u==null||t==null)o=void 0;else{var m=+u[1];o=t[1]+m}}else o=t==null?void 0:t[1];var f=[l,o];if(_c(f))return t==null?f:wP(f,t,s)}}}var Du=1e9,Lie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},t4,_r=!0,On="[DecimalError] ",dc=On+"Invalid argument: ",e4=On+"Exponent out of range: ",Mu=Math.floor,Wo=Math.pow,Fie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xa,ks=1e7,Nr=7,C9=9007199254740991,wx=Mu(C9/Nr),bt={};bt.absoluteValue=bt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};bt.comparedTo=bt.cmp=function(e){var t,s,a,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,n=e.d.length,t=0,s=a<n?a:n;t<s;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};bt.decimalPlaces=bt.dp=function(){var e=this,t=e.d.length-1,s=(t-e.e)*Nr;if(t=e.d[t],t)for(;t%10==0;t/=10)s--;return s<0?0:s};bt.dividedBy=bt.div=function(e){return el(this,new this.constructor(e))};bt.dividedToIntegerBy=bt.idiv=function(e){var t=this,s=t.constructor;return fr(el(t,new s(e),0,1),s.precision)};bt.equals=bt.eq=function(e){return!this.cmp(e)};bt.exponent=function(){return ds(this)};bt.greaterThan=bt.gt=function(e){return this.cmp(e)>0};bt.greaterThanOrEqualTo=bt.gte=function(e){return this.cmp(e)>=0};bt.isInteger=bt.isint=function(){return this.e>this.d.length-2};bt.isNegative=bt.isneg=function(){return this.s<0};bt.isPositive=bt.ispos=function(){return this.s>0};bt.isZero=function(){return this.s===0};bt.lessThan=bt.lt=function(e){return this.cmp(e)<0};bt.lessThanOrEqualTo=bt.lte=function(e){return this.cmp(e)<1};bt.logarithm=bt.log=function(e){var t,s=this,a=s.constructor,n=a.precision,i=n+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Xa))throw Error(On+"NaN");if(s.s<1)throw Error(On+(s.s?"NaN":"-Infinity"));return s.eq(Xa)?new a(0):(_r=!1,t=el(Mh(s,i),Mh(e,i),i),_r=!0,fr(t,n))};bt.minus=bt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?T9(t,e):P9(t,(e.s=-e.s,e))};bt.modulo=bt.mod=function(e){var t,s=this,a=s.constructor,n=a.precision;if(e=new a(e),!e.s)throw Error(On+"NaN");return s.s?(_r=!1,t=el(s,e,0,1).times(e),_r=!0,s.minus(t)):fr(new a(s),n)};bt.naturalExponential=bt.exp=function(){return A9(this)};bt.naturalLogarithm=bt.ln=function(){return Mh(this)};bt.negated=bt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};bt.plus=bt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P9(t,e):T9(t,(e.s=-e.s,e))};bt.precision=bt.sd=function(e){var t,s,a,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(dc+e);if(t=ds(n)+1,a=n.d.length-1,s=a*Nr+1,a=n.d[a],a){for(;a%10==0;a/=10)s--;for(a=n.d[0];a>=10;a/=10)s++}return e&&t>s?t:s};bt.squareRoot=bt.sqrt=function(){var e,t,s,a,n,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(On+"NaN")}for(e=ds(o),_r=!1,n=Math.sqrt(+o),n==0||n==1/0?(t=gi(o.d),(t.length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=Mu((e+1)/2)-(e<0||e%2),n==1/0?t="5e"+e:(t=n.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new c(t)):a=new c(n.toString()),s=c.precision,n=l=s+3;;)if(i=a,a=i.plus(el(o,i,l+2)).times(.5),gi(i.d).slice(0,l)===(t=gi(a.d)).slice(0,l)){if(t=t.slice(l-3,l+1),n==l&&t=="4999"){if(fr(i,s+1,0),i.times(i).eq(o)){a=i;break}}else if(t!="9999")break;l+=4}return _r=!0,fr(a,s)};bt.times=bt.mul=function(e){var t,s,a,n,i,l,o,c,d,u=this,m=u.constructor,f=u.d,h=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,s=u.e+e.e,c=f.length,d=h.length,c<d&&(i=f,f=h,h=i,l=c,c=d,d=l),i=[],l=c+d,a=l;a--;)i.push(0);for(a=d;--a>=0;){for(t=0,n=c+a;n>a;)o=i[n]+h[a]*f[n-a-1]+t,i[n--]=o%ks|0,t=o/ks|0;i[n]=(i[n]+t)%ks|0}for(;!i[--l];)i.pop();return t?++s:i.shift(),e.d=i,e.e=s,_r?fr(e,m.precision):e};bt.toDecimalPlaces=bt.todp=function(e,t){var s=this,a=s.constructor;return s=new a(s),e===void 0?s:(Ti(e,0,Du),t===void 0?t=a.rounding:Ti(t,0,8),fr(s,e+ds(s)+1,t))};bt.toExponential=function(e,t){var s,a=this,n=a.constructor;return e===void 0?s=Ic(a,!0):(Ti(e,0,Du),t===void 0?t=n.rounding:Ti(t,0,8),a=fr(new n(a),e+1,t),s=Ic(a,!0,e+1)),s};bt.toFixed=function(e,t){var s,a,n=this,i=n.constructor;return e===void 0?Ic(n):(Ti(e,0,Du),t===void 0?t=i.rounding:Ti(t,0,8),a=fr(new i(n),e+ds(n)+1,t),s=Ic(a.abs(),!1,e+ds(a)+1),n.isneg()&&!n.isZero()?"-"+s:s)};bt.toInteger=bt.toint=function(){var e=this,t=e.constructor;return fr(new t(e),ds(e)+1,t.rounding)};bt.toNumber=function(){return+this};bt.toPower=bt.pow=function(e){var t,s,a,n,i,l,o=this,c=o.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Xa);if(o=new c(o),!o.s){if(e.s<1)throw Error(On+"Infinity");return o}if(o.eq(Xa))return o;if(a=c.precision,e.eq(Xa))return fr(o,a);if(t=e.e,s=e.d.length-1,l=t>=s,i=o.s,l){if((s=u<0?-u:u)<=C9){for(n=new c(Xa),t=Math.ceil(a/Nr+4),_r=!1;s%2&&(n=n.times(o),SP(n.d,t)),s=Mu(s/2),s!==0;)o=o.times(o),SP(o.d,t);return _r=!0,e.s<0?new c(Xa).div(n):fr(n,a)}}else if(i<0)throw Error(On+"NaN");return i=i<0&&e.d[Math.max(t,s)]&1?-1:1,o.s=1,_r=!1,n=e.times(Mh(o,a+d)),_r=!0,n=A9(n),n.s=i,n};bt.toPrecision=function(e,t){var s,a,n=this,i=n.constructor;return e===void 0?(s=ds(n),a=Ic(n,s<=i.toExpNeg||s>=i.toExpPos)):(Ti(e,1,Du),t===void 0?t=i.rounding:Ti(t,0,8),n=fr(new i(n),e,t),s=ds(n),a=Ic(n,e<=s||s<=i.toExpNeg,e)),a};bt.toSignificantDigits=bt.tosd=function(e,t){var s=this,a=s.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Ti(e,1,Du),t===void 0?t=a.rounding:Ti(t,0,8)),fr(new a(s),e,t)};bt.toString=bt.valueOf=bt.val=bt.toJSON=bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ds(e),s=e.constructor;return Ic(e,t<=s.toExpNeg||t>=s.toExpPos)};function P9(e,t){var s,a,n,i,l,o,c,d,u=e.constructor,m=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),_r?fr(t,m):t;if(c=e.d,d=t.d,l=e.e,n=t.e,c=c.slice(),i=l-n,i){for(i<0?(a=c,i=-i,o=d.length):(a=d,n=l,o=c.length),l=Math.ceil(m/Nr),o=l>o?l+1:o+1,i>o&&(i=o,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(o=c.length,i=d.length,o-i<0&&(i=o,a=d,d=c,c=a),s=0;i;)s=(c[--i]=c[i]+d[i]+s)/ks|0,c[i]%=ks;for(s&&(c.unshift(s),++n),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=n,_r?fr(t,m):t}function Ti(e,t,s){if(e!==~~e||e<t||e>s)throw Error(dc+e)}function gi(e){var t,s,a,n=e.length-1,i="",l=e[0];if(n>0){for(i+=l,t=1;t<n;t++)a=e[t]+"",s=Nr-a.length,s&&(i+=Ul(s)),i+=a;l=e[t],a=l+"",s=Nr-a.length,s&&(i+=Ul(s))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var el=function(){function e(a,n){var i,l=0,o=a.length;for(a=a.slice();o--;)i=a[o]*n+l,a[o]=i%ks|0,l=i/ks|0;return l&&a.unshift(l),a}function t(a,n,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(a[o]!=n[o]){c=a[o]>n[o]?1:-1;break}return c}function s(a,n,i){for(var l=0;i--;)a[i]-=l,l=a[i]<n[i]?1:0,a[i]=l*ks+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,l){var o,c,d,u,m,f,h,x,p,b,j,v,y,w,N,k,S,P,_=a.constructor,C=a.s==n.s?1:-1,A=a.d,V=n.d;if(!a.s)return new _(a);if(!n.s)throw Error(On+"Division by zero");for(c=a.e-n.e,S=V.length,N=A.length,h=new _(C),x=h.d=[],d=0;V[d]==(A[d]||0);)++d;if(V[d]>(A[d]||0)&&--c,i==null?v=i=_.precision:l?v=i+(ds(a)-ds(n))+1:v=i,v<0)return new _(0);if(v=v/Nr+2|0,d=0,S==1)for(u=0,V=V[0],v++;(d<N||u)&&v--;d++)y=u*ks+(A[d]||0),x[d]=y/V|0,u=y%V|0;else{for(u=ks/(V[0]+1)|0,u>1&&(V=e(V,u),A=e(A,u),S=V.length,N=A.length),w=S,p=A.slice(0,S),b=p.length;b<S;)p[b++]=0;P=V.slice(),P.unshift(0),k=V[0],V[1]>=ks/2&&++k;do u=0,o=t(V,p,S,b),o<0?(j=p[0],S!=b&&(j=j*ks+(p[1]||0)),u=j/k|0,u>1?(u>=ks&&(u=ks-1),m=e(V,u),f=m.length,b=p.length,o=t(m,p,f,b),o==1&&(u--,s(m,S<f?P:V,f))):(u==0&&(o=u=1),m=V.slice()),f=m.length,f<b&&m.unshift(0),s(p,m,b),o==-1&&(b=p.length,o=t(V,p,S,b),o<1&&(u++,s(p,S<b?P:V,b))),b=p.length):o===0&&(u++,p=[0]),x[d++]=u,o&&p[0]?p[b++]=A[w]||0:(p=[A[w]],b=1);while((w++<N||p[0]!==void 0)&&v--)}return x[0]||x.shift(),h.e=c,fr(h,l?i+ds(h)+1:i)}}();function A9(e,t){var s,a,n,i,l,o,c=0,d=0,u=e.constructor,m=u.precision;if(ds(e)>16)throw Error(e4+ds(e));if(!e.s)return new u(Xa);for(_r=!1,o=m,l=new u(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(a=Math.log(Wo(2,d))/Math.LN10*2+5|0,o+=a,s=n=i=new u(Xa),u.precision=o;;){if(n=fr(n.times(e),o),s=s.times(++c),l=i.plus(el(n,s,o)),gi(l.d).slice(0,o)===gi(i.d).slice(0,o)){for(;d--;)i=fr(i.times(i),o);return u.precision=m,t==null?(_r=!0,fr(i,m)):i}i=l}}function ds(e){for(var t=e.e*Nr,s=e.d[0];s>=10;s/=10)t++;return t}function Sv(e,t,s){if(t>e.LN10.sd())throw _r=!0,s&&(e.precision=s),Error(On+"LN10 precision limit exceeded");return fr(new e(e.LN10),t)}function Ul(e){for(var t="";e--;)t+="0";return t}function Mh(e,t){var s,a,n,i,l,o,c,d,u,m=1,f=10,h=e,x=h.d,p=h.constructor,b=p.precision;if(h.s<1)throw Error(On+(h.s?"NaN":"-Infinity"));if(h.eq(Xa))return new p(0);if(t==null?(_r=!1,d=b):d=t,h.eq(10))return t==null&&(_r=!0),Sv(p,d);if(d+=f,p.precision=d,s=gi(x),a=s.charAt(0),i=ds(h),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&s.charAt(1)>3;)h=h.times(e),s=gi(h.d),a=s.charAt(0),m++;i=ds(h),a>1?(h=new p("0."+s),i++):h=new p(a+"."+s.slice(1))}else return c=Sv(p,d+2,b).times(i+""),h=Mh(new p(a+"."+s.slice(1)),d-f).plus(c),p.precision=b,t==null?(_r=!0,fr(h,b)):h;for(o=l=h=el(h.minus(Xa),h.plus(Xa),d),u=fr(h.times(h),d),n=3;;){if(l=fr(l.times(u),d),c=o.plus(el(l,new p(n),d)),gi(c.d).slice(0,d)===gi(o.d).slice(0,d))return o=o.times(2),i!==0&&(o=o.plus(Sv(p,d+2,b).times(i+""))),o=el(o,new p(m),d),p.precision=b,t==null?(_r=!0,fr(o,b)):o;o=c,n+=2}}function NP(e,t){var s,a,n;for((s=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(s<0&&(s=a),s+=+t.slice(a+1),t=t.substring(0,a)):s<0&&(s=t.length),a=0;t.charCodeAt(a)===48;)++a;for(n=t.length;t.charCodeAt(n-1)===48;)--n;if(t=t.slice(a,n),t){if(n-=a,s=s-a-1,e.e=Mu(s/Nr),e.d=[],a=(s+1)%Nr,s<0&&(a+=Nr),a<n){for(a&&e.d.push(+t.slice(0,a)),n-=Nr;a<n;)e.d.push(+t.slice(a,a+=Nr));t=t.slice(a),a=Nr-t.length}else a-=n;for(;a--;)t+="0";if(e.d.push(+t),_r&&(e.e>wx||e.e<-wx))throw Error(e4+s)}else e.s=0,e.e=0,e.d=[0];return e}function fr(e,t,s){var a,n,i,l,o,c,d,u,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(a=t-l,a<0)a+=Nr,n=t,d=m[u=0];else{if(u=Math.ceil((a+1)/Nr),i=m.length,u>=i)return e;for(d=i=m[u],l=1;i>=10;i/=10)l++;a%=Nr,n=a-Nr+l}if(s!==void 0&&(i=Wo(10,l-n-1),o=d/i%10|0,c=t<0||m[u+1]!==void 0||d%i,c=s<4?(o||c)&&(s==0||s==(e.s<0?3:2)):o>5||o==5&&(s==4||c||s==6&&(a>0?n>0?d/Wo(10,l-n):0:m[u-1])%10&1||s==(e.s<0?8:7))),t<1||!m[0])return c?(i=ds(e),m.length=1,t=t-i-1,m[0]=Wo(10,(Nr-t%Nr)%Nr),e.e=Mu(-t/Nr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=u,i=1,u--):(m.length=u+1,i=Wo(10,Nr-a),m[u]=n>0?(d/Wo(10,l-n)%Wo(10,n)|0)*i:0),c)for(;;)if(u==0){(m[0]+=i)==ks&&(m[0]=1,++e.e);break}else{if(m[u]+=i,m[u]!=ks)break;m[u--]=0,i=1}for(a=m.length;m[--a]===0;)m.pop();if(_r&&(e.e>wx||e.e<-wx))throw Error(e4+ds(e));return e}function T9(e,t){var s,a,n,i,l,o,c,d,u,m,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),_r?fr(t,h):t;if(c=e.d,m=t.d,a=t.e,d=e.e,c=c.slice(),l=d-a,l){for(u=l<0,u?(s=c,l=-l,o=m.length):(s=m,a=d,o=c.length),n=Math.max(Math.ceil(h/Nr),o)+2,l>n&&(l=n,s.length=1),s.reverse(),n=l;n--;)s.push(0);s.reverse()}else{for(n=c.length,o=m.length,u=n<o,u&&(o=n),n=0;n<o;n++)if(c[n]!=m[n]){u=c[n]<m[n];break}l=0}for(u&&(s=c,c=m,m=s,t.s=-t.s),o=c.length,n=m.length-o;n>0;--n)c[o++]=0;for(n=m.length;n>l;){if(c[--n]<m[n]){for(i=n;i&&c[--i]===0;)c[i]=ks-1;--c[i],c[n]+=ks}c[n]-=m[n]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,_r?fr(t,h):t):new f(0)}function Ic(e,t,s){var a,n=ds(e),i=gi(e.d),l=i.length;return t?(s&&(a=s-l)>0?i=i.charAt(0)+"."+i.slice(1)+Ul(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+Ul(-n-1)+i,s&&(a=s-l)>0&&(i+=Ul(a))):n>=l?(i+=Ul(n+1-l),s&&(a=s-n-1)>0&&(i=i+"."+Ul(a))):((a=n+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),s&&(a=s-l)>0&&(n+1===l&&(i+="."),i+=Ul(a))),e.s<0?"-"+i:i}function SP(e,t){if(e.length>t)return e.length=t,!0}function E9(e){var t,s,a;function n(i){var l=this;if(!(l instanceof n))return new n(i);if(l.constructor=n,i instanceof n){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(dc+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return NP(l,i.toString())}else if(typeof i!="string")throw Error(dc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,Fie.test(i))NP(l,i);else throw Error(dc+i)}if(n.prototype=bt,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=E9,n.config=n.set=Rie,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(s=a[t++])||(e[s]=this[s]);return n.config(e),n}function Rie(e){if(!e||typeof e!="object")throw Error(On+"Object expected");var t,s,a,n=["precision",1,Du,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if((a=e[s=n[t]])!==void 0)if(Mu(a)===a&&a>=n[t+1]&&a<=n[t+2])this[s]=a;else throw Error(dc+s+": "+a);if((a=e[s="LN10"])!==void 0)if(a==Math.LN10)this[s]=new this(a);else throw Error(dc+s+": "+a);return this}var t4=E9(Lie);Xa=new t4(1);const ir=t4;var Bie=e=>e,_9={},I9=e=>e===_9,kP=e=>function t(){return arguments.length===0||arguments.length===1&&I9(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},O9=(e,t)=>e===1?t:kP(function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];var i=a.filter(l=>l!==_9).length;return i>=e?t(...a):O9(e-i,kP(function(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];var d=a.map(u=>I9(u)?o.shift():u);return t(...d,...o)}))}),py=e=>O9(e.length,e),H2=(e,t)=>{for(var s=[],a=e;a<t;++a)s[a-e]=a;return s},$ie=py((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(s=>t[s]).map(e)),Uie=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];if(!s.length)return Bie;var n=s.reverse(),i=n[0],l=n.slice(1);return function(){return l.reduce((o,c)=>c(o),i(...arguments))}},W2=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),D9=e=>{var t=null,s=null;return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t&&n.every((l,o)=>{var c;return l===((c=t)===null||c===void 0?void 0:c[o])})||(t=n,s=e(...n)),s}};function M9(e){var t;return e===0?t=1:t=Math.floor(new ir(e).abs().log(10).toNumber())+1,t}function L9(e,t,s){for(var a=new ir(e),n=0,i=[];a.lt(t)&&n<1e5;)i.push(a.toNumber()),a=a.add(s),n++;return i}py((e,t,s)=>{var a=+e,n=+t;return a+s*(n-a)});py((e,t,s)=>{var a=t-+e;return a=a||1/0,(s-e)/a});py((e,t,s)=>{var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(s-e)/a))});var F9=e=>{var[t,s]=e,[a,n]=[t,s];return t>s&&([a,n]=[s,t]),[a,n]},R9=(e,t,s)=>{if(e.lte(0))return new ir(0);var a=M9(e.toNumber()),n=new ir(10).pow(a),i=e.div(n),l=a!==1?.05:.1,o=new ir(Math.ceil(i.div(l).toNumber())).add(s).mul(l),c=o.mul(n);return t?new ir(c.toNumber()):new ir(Math.ceil(c.toNumber()))},zie=(e,t,s)=>{var a=new ir(1),n=new ir(e);if(!n.isint()&&s){var i=Math.abs(e);i<1?(a=new ir(10).pow(M9(e)-1),n=new ir(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new ir(Math.floor(e)))}else e===0?n=new ir(Math.floor((t-1)/2)):s||(n=new ir(Math.floor(e)));var l=Math.floor((t-1)/2),o=Uie($ie(c=>n.add(new ir(c-l).mul(a)).toNumber()),H2);return o(0,t)},B9=function(t,s,a,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((s-t)/(a-1)))return{step:new ir(0),tickMin:new ir(0),tickMax:new ir(0)};var l=R9(new ir(s).sub(t).div(a-1),n,i),o;t<=0&&s>=0?o=new ir(0):(o=new ir(t).add(s).div(2),o=o.sub(new ir(o).mod(l)));var c=Math.ceil(o.sub(t).div(l).toNumber()),d=Math.ceil(new ir(s).sub(o).div(l).toNumber()),u=c+d+1;return u>a?B9(t,s,a,n,i+1):(u<a&&(d=s>0?d+(a-u):d,c=s>0?c:c+(a-u)),{step:l,tickMin:o.sub(new ir(c).mul(l)),tickMax:o.add(new ir(d).mul(l))})};function Vie(e){var[t,s]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[l,o]=F9([t,s]);if(l===-1/0||o===1/0){var c=o===1/0?[l,...H2(0,a-1).map(()=>1/0)]:[...H2(0,a-1).map(()=>-1/0),o];return t>s?W2(c):c}if(l===o)return zie(l,a,n);var{step:d,tickMin:u,tickMax:m}=B9(l,o,i,n,0),f=L9(u,m.add(new ir(.1).mul(d)),d);return t>s?W2(f):f}function Hie(e,t){var[s,a]=e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=F9([s,a]);if(i===-1/0||l===1/0)return[s,a];if(i===l)return[i];var o=Math.max(t,2),c=R9(new ir(l).sub(i).div(o-1),n,0),d=[...L9(new ir(i),new ir(l),c),l];return n===!1&&(d=d.map(u=>Math.round(u))),s>a?W2(d):d}var Wie=D9(Vie),Gie=D9(Hie),$9=e=>e.rootProps.maxBarSize,Kie=e=>e.rootProps.barGap,U9=e=>e.rootProps.barCategoryGap,qie=e=>e.rootProps.barSize,g0=e=>e.rootProps.stackOffset,r4=e=>e.options.chartName,s4=e=>e.rootProps.syncId,z9=e=>e.rootProps.syncMethod,a4=e=>e.options.eventEmitter,Yie=e=>e.rootProps.baseValue,es={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ui={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Wa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},xy=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Xie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ui.angleAxisId,includeHidden:!1,name:void 0,reversed:Ui.reversed,scale:Ui.scale,tick:Ui.tick,tickCount:void 0,ticks:void 0,type:Ui.type,unit:void 0},Jie={allowDataOverflow:Wa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wa.scale,tick:Wa.tick,tickCount:Wa.tickCount,ticks:void 0,type:Wa.type,unit:void 0},Qie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ui.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ui.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ui.scale,tick:Ui.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Zie={allowDataOverflow:Wa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wa.scale,tick:Wa.tick,tickCount:Wa.tickCount,ticks:void 0,type:"category",unit:void 0},n4=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Qie:Xie,i4=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Zie:Jie,gy=e=>e.polarOptions,l4=pe([Nl,Sl,vs],FD),V9=pe([gy,l4],(e,t)=>{if(e!=null)return ia(e.innerRadius,t,0)}),H9=pe([gy,l4],(e,t)=>{if(e!=null)return ia(e.outerRadius,t,t*.8)}),ele=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:s}=e;return[t,s]},W9=pe([gy],ele);pe([n4,W9],xy);var G9=pe([l4,V9,H9],(e,t,s)=>{if(!(e==null||t==null||s==null))return[t,s]});pe([i4,G9],xy);var K9=pe([zt,gy,V9,H9,Nl,Sl],(e,t,s,a,n,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||s==null||a==null)){var{cx:l,cy:o,startAngle:c,endAngle:d}=t;return{cx:ia(l,n,n/2),cy:ia(o,i,i/2),innerRadius:s,outerRadius:a,startAngle:c,endAngle:d,clockWise:!1}}}),Ir=(e,t)=>t,y0=(e,t,s)=>s;function yy(e){return e==null?void 0:e.id}function q9(e,t,s){var{chartData:a=[]}=t,{allowDuplicatedCategory:n,dataKey:i}=s,l=new Map;return e.forEach(o=>{var c,d=(c=o.data)!==null&&c!==void 0?c:a;if(!(d==null||d.length===0)){var u=yy(o);d.forEach((m,f)=>{var h=i==null||n?f:String(mr(m,i,null)),x=mr(m,o.dataKey,0),p;l.has(h)?p=l.get(h):p={},Object.assign(p,{[u]:x}),l.set(h,p)})}}),Array.from(l.values())}function by(e){return e.stackId!=null&&e.dataKey!=null}var vy=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function jy(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function tle(e,t){if(e.length===t.length){for(var s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}return!1}var ws=e=>{var t=zt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Lu=e=>e.tooltip.settings.axisId;function CP(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Nx(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(s),!0).forEach(function(a){rle(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):CP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function rle(e,t,s){return(t=sle(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function sle(e){var t=ale(e,"string");return typeof t=="symbol"?t:t+""}function ale(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G2=[0,"auto"],Ua={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Y9=(e,t)=>e.cartesianAxis.xAxis[t],Pl=(e,t)=>{var s=Y9(e,t);return s??Ua},za={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:G2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:u0},X9=(e,t)=>e.cartesianAxis.yAxis[t],Al=(e,t)=>{var s=X9(e,t);return s??za},nle={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},o4=(e,t)=>{var s=e.cartesianAxis.zAxis[t];return s??nle},Ur=(e,t,s)=>{switch(t){case"xAxis":return Pl(e,s);case"yAxis":return Al(e,s);case"zAxis":return o4(e,s);case"angleAxis":return n4(e,s);case"radiusAxis":return i4(e,s);default:throw new Error("Unexpected axis type: ".concat(t))}},ile=(e,t,s)=>{switch(t){case"xAxis":return Pl(e,s);case"yAxis":return Al(e,s);default:throw new Error("Unexpected axis type: ".concat(t))}},b0=(e,t,s)=>{switch(t){case"xAxis":return Pl(e,s);case"yAxis":return Al(e,s);case"angleAxis":return n4(e,s);case"radiusAxis":return i4(e,s);default:throw new Error("Unexpected axis type: ".concat(t))}},J9=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function c4(e,t){return s=>{switch(e){case"xAxis":return"xAxisId"in s&&s.xAxisId===t;case"yAxis":return"yAxisId"in s&&s.yAxisId===t;case"zAxis":return"zAxisId"in s&&s.zAxisId===t;case"angleAxis":return"angleAxisId"in s&&s.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in s&&s.radiusAxisId===t;default:return!1}}}var v0=e=>e.graphicalItems.cartesianItems,lle=pe([Ir,y0],c4),d4=(e,t,s)=>e.filter(s).filter(a=>(t==null?void 0:t.includeHidden)===!0?!0:!a.hide),j0=pe([v0,Ur,lle],d4,{memoizeOptions:{resultEqualityCheck:jy}}),Q9=pe([j0],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(by)),Z9=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),ole=pe([j0],Z9),u4=e=>e.map(t=>t.data).filter(Boolean).flat(1),cle=pe([j0],u4,{memoizeOptions:{resultEqualityCheck:jy}}),m4=(e,t)=>{var{chartData:s=[],dataStartIndex:a,dataEndIndex:n}=t;return e.length>0?e:s.slice(a,n+1)},h4=pe([cle,x0],m4),f4=(e,t,s)=>(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:mr(a,t.dataKey)})):s.length>0?s.map(a=>a.dataKey).flatMap(a=>e.map(n=>({value:mr(n,a)}))):e.map(a=>({value:a})),wy=pe([h4,Ur,j0],f4);function eM(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function tp(e){if(Pi(e)||e instanceof Date){var t=Number(e);if(Cr(t))return t}}function PP(e){if(Array.isArray(e)){var t=[tp(e[0]),tp(e[1])];return _c(t)?t:void 0}var s=tp(e);if(s!=null)return[s,s]}function gl(e){return e.map(tp).filter(LZ)}function dle(e,t,s){return!s||typeof t!="number"||_n(t)?[]:s.length?gl(s.flatMap(a=>{var n=mr(e,a.dataKey),i,l;if(Array.isArray(n)?[i,l]=n:i=l=n,!(!Cr(i)||!Cr(l)))return[t-i,t+l]})):[]}var Ns=e=>{var t=ws(e),s=Lu(e);return b0(e,t,s)},tM=pe([Ns],e=>e==null?void 0:e.dataKey),ule=pe([Q9,x0,Ns],q9),rM=(e,t,s)=>{var a={},n=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),a);return Object.fromEntries(Object.entries(n).map(i=>{var[l,o]=i,c=o.map(yy);return[l,{stackedData:Yte(e,c,s),graphicalItems:o}]}))},Lh=pe([ule,Q9,g0],rM),sM=(e,t,s,a)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(a==null&&s!=="zAxis"){var l=Zte(e,n,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},mle=pe([Ur],e=>e.allowDataOverflow),p4=e=>{var t;if(e==null||!("domain"in e))return G2;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var s=gl(e.ticks);return[Math.min(...s),Math.max(...s)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:G2},x4=pe([Ur],p4),g4=pe([x4,mle],k9),hle=pe([Lh,Io,Ir,g4],sM,{memoizeOptions:{resultEqualityCheck:vy}}),Ny=e=>e.errorBars,fle=(e,t,s)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>eM(s,a)),Sx=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];var n=s.filter(Boolean);if(n.length!==0){var i=n.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},y4=(e,t,s,a,n)=>{var i,l;if(s.length>0&&e.forEach(o=>{s.forEach(c=>{var d,u,m=(d=a[c.id])===null||d===void 0?void 0:d.filter(j=>eM(n,j)),f=mr(o,(u=t.dataKey)!==null&&u!==void 0?u:c.dataKey),h=dle(o,f,m);if(h.length>=2){var x=Math.min(...h),p=Math.max(...h);(i==null||x<i)&&(i=x),(l==null||p>l)&&(l=p)}var b=PP(f);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),l=l==null?b[1]:Math.max(l,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var c=PP(mr(o,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),l=l==null?c[1]:Math.max(l,c[1]))}),Cr(i)&&Cr(l))return[i,l]},ple=pe([h4,Ur,ole,Ny,Ir],y4,{memoizeOptions:{resultEqualityCheck:vy}});function xle(e){var{value:t}=e;if(Pi(t)||t instanceof Date)return t}var gle=(e,t,s)=>{var a=e.map(xle).filter(n=>n!=null);return s&&(t.dataKey==null||t.allowDuplicatedCategory&&l7(a))?HD(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},aM=e=>e.referenceElements.dots,Fu=(e,t,s)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===s:a.yAxisId===s),yle=pe([aM,Ir,y0],Fu),nM=e=>e.referenceElements.areas,ble=pe([nM,Ir,y0],Fu),iM=e=>e.referenceElements.lines,vle=pe([iM,Ir,y0],Fu),lM=(e,t)=>{var s=gl(e.map(a=>t==="xAxis"?a.x:a.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},jle=pe(yle,Ir,lM),oM=(e,t)=>{var s=gl(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},wle=pe([ble,Ir],oM);function Nle(e){var t;if(e.x!=null)return gl([e.x]);var s=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.x);return s==null||s.length===0?[]:gl(s)}function Sle(e){var t;if(e.y!=null)return gl([e.y]);var s=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.y);return s==null||s.length===0?[]:gl(s)}var cM=(e,t)=>{var s=e.flatMap(a=>t==="xAxis"?Nle(a):Sle(a));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},kle=pe([vle,Ir],cM),Cle=pe(jle,kle,wle,(e,t,s)=>Sx(e,s,t)),b4=(e,t,s,a,n,i,l,o)=>{if(s!=null)return s;var c=l==="vertical"&&o==="xAxis"||l==="horizontal"&&o==="yAxis",d=c?Sx(a,i,n):Sx(i,n);return Mie(t,d,e.allowDataOverflow)},Ple=pe([Ur,x4,g4,hle,ple,Cle,zt,Ir],b4,{memoizeOptions:{resultEqualityCheck:vy}}),Ale=[0,1],v4=(e,t,s,a,n,i,l)=>{if(!((e==null||s==null||s.length===0)&&l===void 0)){var{dataKey:o,type:c}=e,d=Mi(t,i);if(d&&o==null){var u;return HD(0,(u=s==null?void 0:s.length)!==null&&u!==void 0?u:0)}return c==="category"?gle(a,e,d):n==="expand"?Ale:l}},j4=pe([Ur,zt,h4,wy,g0,Ir,Ple],v4),dM=(e,t,s,a,n)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&n==="radiusAxis"?"band":t==="radial"&&n==="angleAxis"?"linear":l==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!s)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(l0(i));return o in Sm?o:"point"}}},Ru=pe([Ur,zt,J9,r4,Ir],dM);function Tle(e){if(e!=null){if(e in Sm)return Sm[e]();var t="scale".concat(l0(e));if(t in Sm)return Sm[t]()}}function w4(e,t,s,a){if(!(s==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(s).range(a);var n=Tle(t);if(n!=null){var i=n.domain(s).range(a);return Hte(i),i}}}var N4=(e,t,s)=>{var a=p4(t);if(!(s!=="auto"&&s!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&_c(e))return Wie(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&_c(e))return Gie(e,t.tickCount,t.allowDecimals)}},S4=pe([j4,b0,Ru],N4),k4=(e,t,s,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&_c(t)&&Array.isArray(s)&&s.length>0){var n=t[0],i=s[0],l=t[1],o=s[s.length-1];return[Math.min(n,i),Math.max(l,o)]}return t},Ele=pe([Ur,j4,S4,Ir],k4),_le=pe(wy,Ur,(e,t)=>{if(!(!t||t.type!=="number")){var s=1/0,a=Array.from(gl(e.map(o=>o.value))).sort((o,c)=>o-c);if(a.length<2)return 1/0;var n=a[a.length-1]-a[0];if(n===0)return 1/0;for(var i=0;i<a.length-1;i++){var l=a[i+1]-a[i];s=Math.min(s,l)}return s/n}}),uM=pe(_le,zt,U9,vs,(e,t,s,a)=>a,(e,t,s,a,n)=>{if(!Cr(e))return 0;var i=t==="vertical"?a.height:a.width;if(n==="gap")return e*i/2;if(n==="no-gap"){var l=ia(s,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),Ile=(e,t)=>{var s=Pl(e,t);return s==null||typeof s.padding!="string"?0:uM(e,"xAxis",t,s.padding)},Ole=(e,t)=>{var s=Al(e,t);return s==null||typeof s.padding!="string"?0:uM(e,"yAxis",t,s.padding)},Dle=pe(Pl,Ile,(e,t)=>{var s,a;if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n=="string"?{left:t,right:t}:{left:((s=n.left)!==null&&s!==void 0?s:0)+t,right:((a=n.right)!==null&&a!==void 0?a:0)+t}}),Mle=pe(Al,Ole,(e,t)=>{var s,a;if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n=="string"?{top:t,bottom:t}:{top:((s=n.top)!==null&&s!==void 0?s:0)+t,bottom:((a=n.bottom)!==null&&a!==void 0?a:0)+t}}),Lle=pe([vs,Dle,iy,ny,(e,t,s)=>s],(e,t,s,a,n)=>{var{padding:i}=a;return n?[i.left,s.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Fle=pe([vs,zt,Mle,iy,ny,(e,t,s)=>s],(e,t,s,a,n,i)=>{var{padding:l}=n;return i?[a.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-s.bottom,e.top+s.top]:[e.top+s.top,e.top+e.height-s.bottom]}),w0=(e,t,s,a)=>{var n;switch(t){case"xAxis":return Lle(e,s,a);case"yAxis":return Fle(e,s,a);case"zAxis":return(n=o4(e,s))===null||n===void 0?void 0:n.range;case"angleAxis":return W9(e);case"radiusAxis":return G9(e,s);default:return}},mM=pe([Ur,w0],xy),Bu=pe([Ur,Ru,Ele,mM],w4);pe([j0,Ny,Ir],fle);function hM(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Sy=(e,t)=>t,ky=(e,t,s)=>s,Rle=pe(sy,Sy,ky,(e,t,s)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===s).sort(hM)),Ble=pe(ay,Sy,ky,(e,t,s)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===s).sort(hM)),fM=(e,t)=>({width:e.width,height:t.height}),$le=(e,t)=>{var s=typeof t.width=="number"?t.width:u0;return{width:s,height:e.height}},pM=pe(vs,Pl,fM),Ule=(e,t,s)=>{switch(t){case"top":return e.top;case"bottom":return s-e.bottom;default:return 0}},zle=(e,t,s)=>{switch(t){case"left":return e.left;case"right":return s-e.right;default:return 0}},Vle=pe(Sl,vs,Rle,Sy,ky,(e,t,s,a,n)=>{var i={},l;return s.forEach(o=>{var c=fM(t,o);l==null&&(l=Ule(t,a,e));var d=a==="top"&&!n||a==="bottom"&&n;i[o.id]=l-Number(d)*c.height,l+=(d?-1:1)*c.height}),i}),Hle=pe(Nl,vs,Ble,Sy,ky,(e,t,s,a,n)=>{var i={},l;return s.forEach(o=>{var c=$le(t,o);l==null&&(l=zle(t,a,e));var d=a==="left"&&!n||a==="right"&&n;i[o.id]=l-Number(d)*c.width,l+=(d?-1:1)*c.width}),i}),Wle=(e,t)=>{var s=Pl(e,t);if(s!=null)return Vle(e,s.orientation,s.mirror)},Gle=pe([vs,Pl,Wle,(e,t)=>t],(e,t,s,a)=>{if(t!=null){var n=s==null?void 0:s[a];return n==null?{x:e.left,y:0}:{x:e.left,y:n}}}),Kle=(e,t)=>{var s=Al(e,t);if(s!=null)return Hle(e,s.orientation,s.mirror)},qle=pe([vs,Al,Kle,(e,t)=>t],(e,t,s,a)=>{if(t!=null){var n=s==null?void 0:s[a];return n==null?{x:0,y:e.top}:{x:n,y:e.top}}}),xM=pe(vs,Al,(e,t)=>{var s=typeof t.width=="number"?t.width:u0;return{width:s,height:e.height}}),AP=(e,t,s)=>{switch(t){case"xAxis":return pM(e,s).width;case"yAxis":return xM(e,s).height;default:return}},gM=(e,t,s,a)=>{if(s!=null){var{allowDuplicatedCategory:n,type:i,dataKey:l}=s,o=Mi(e,a),c=t.map(d=>d.value);if(l&&o&&i==="category"&&n&&l7(c))return c}},C4=pe([zt,wy,Ur,Ir],gM),yM=(e,t,s,a)=>{if(!(s==null||s.dataKey==null)){var{type:n,scale:i}=s,l=Mi(e,a);if(l&&(n==="number"||i!=="auto"))return t.map(o=>o.value)}},P4=pe([zt,wy,b0,Ir],yM),TP=pe([zt,ile,Ru,Bu,C4,P4,w0,S4,Ir],(e,t,s,a,n,i,l,o,c)=>{if(t!=null){var d=Mi(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:n,isCategorical:d,niceTicks:o,range:l,realScaleType:s,scale:a}}}),Yle=(e,t,s,a,n,i,l,o,c)=>{if(!(t==null||a==null)){var d=Mi(e,c),{type:u,ticks:m,tickCount:f}=t,h=s==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,x=u==="category"&&a.bandwidth?a.bandwidth()/h:0;x=c==="angleAxis"&&i!=null&&i.length>=2?As(i[0]-i[1])*2*x:x;var p=m||n;if(p){var b=p.map((j,v)=>{var y=l?l.indexOf(j):j;return{index:v,coordinate:a(y)+x,value:j,offset:x}});return b.filter(j=>Cr(j.coordinate))}return d&&o?o.map((j,v)=>({coordinate:a(j)+x,value:j,index:v,offset:x})).filter(j=>Cr(j.coordinate)):a.ticks?a.ticks(f).map(j=>({coordinate:a(j)+x,value:j,offset:x})):a.domain().map((j,v)=>({coordinate:a(j)+x,value:l?l[j]:j,index:v,offset:x}))}},bM=pe([zt,b0,Ru,Bu,S4,w0,C4,P4,Ir],Yle),Xle=(e,t,s,a,n,i,l)=>{if(!(t==null||s==null||a==null||a[0]===a[1])){var o=Mi(e,l),{tickCount:c}=t,d=0;return d=l==="angleAxis"&&(a==null?void 0:a.length)>=2?As(a[0]-a[1])*2*d:d,o&&i?i.map((u,m)=>({coordinate:s(u)+d,value:u,index:m,offset:d})):s.ticks?s.ticks(c).map(u=>({coordinate:s(u)+d,value:u,offset:d})):s.domain().map((u,m)=>({coordinate:s(u)+d,value:n?n[u]:u,index:m,offset:d}))}},Ei=pe([zt,b0,Bu,w0,C4,P4,Ir],Xle),_i=pe(Ur,Bu,(e,t)=>{if(!(e==null||t==null))return Nx(Nx({},e),{},{scale:t})}),Jle=pe([Ur,Ru,j4,mM],w4);pe((e,t,s)=>o4(e,s),Jle,(e,t)=>{if(!(e==null||t==null))return Nx(Nx({},e),{},{scale:t})});var Qle=pe([zt,sy,ay],(e,t,s)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return s.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),vM=e=>e.options.defaultTooltipEventType,jM=e=>e.options.validateTooltipEventTypes;function wM(e,t,s){if(e==null)return t;var a=e?"axis":"item";return s==null?t:s.includes(a)?a:t}function A4(e,t){var s=vM(e),a=jM(e);return wM(t,s,a)}function Zle(e){return vt(t=>A4(t,e))}var NM=(e,t)=>{var s,a=Number(t);if(!(_n(a)||t==null))return a>=0?e==null||(s=e[a])===null||s===void 0?void 0:s.value:void 0},eoe=e=>e.tooltip.settings,Wl={active:!1,index:null,dataKey:void 0,coordinate:void 0},toe={itemInteraction:{click:Wl,hover:Wl},axisInteraction:{click:Wl,hover:Wl},keyboardInteraction:Wl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},SM=$a({name:"tooltip",initialState:toe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:gs()},removeTooltipEntrySettings:{reducer(e,t){var s=Zi(e).tooltipItemPayloads.indexOf(t.payload);s>-1&&e.tooltipItemPayloads.splice(s,1)},prepare:gs()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:roe,removeTooltipEntrySettings:soe,setTooltipSettingsState:aoe,setActiveMouseOverItemIndex:kM,mouseLeaveItem:noe,mouseLeaveChart:CM,setActiveClickItemIndex:ioe,setMouseOverAxisIndex:PM,setMouseClickAxisIndex:loe,setSyncInteraction:K2,setKeyboardInteraction:q2}=SM.actions,ooe=SM.reducer;function EP(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function wf(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(s),!0).forEach(function(a){coe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):EP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function coe(e,t,s){return(t=doe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function doe(e){var t=uoe(e,"string");return typeof t=="symbol"?t:t+""}function uoe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function moe(e,t,s){return t==="axis"?s==="click"?e.axisInteraction.click:e.axisInteraction.hover:s==="click"?e.itemInteraction.click:e.itemInteraction.hover}function hoe(e){return e.index!=null}var AM=(e,t,s,a)=>{if(t==null)return Wl;var n=moe(e,t,s);if(n==null)return Wl;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(hoe(n)){if(i)return wf(wf({},n),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return wf(wf({},Wl),{},{coordinate:n.coordinate})},T4=(e,t)=>{var s=e==null?void 0:e.index;if(s==null)return null;var a=Number(s);if(!Cr(a))return s;var n=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(n,Math.min(a,i)))},TM=(e,t,s,a,n,i,l,o)=>{if(!(i==null||o==null)){var c=l[0],d=c==null?void 0:o(c.positions,i);if(d!=null)return d;var u=n==null?void 0:n[Number(i)];if(u)switch(s){case"horizontal":return{x:u.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:u.coordinate}}}},EM=(e,t,s,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var n;return s==="hover"?n=e.itemInteraction.hover.dataKey:n=e.itemInteraction.click.dataKey,n==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===n})},N0=e=>e.options.tooltipPayloadSearcher,$u=e=>e.tooltip;function _P(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function IP(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(s),!0).forEach(function(a){foe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_P(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function foe(e,t,s){return(t=poe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function poe(e){var t=xoe(e,"string");return typeof t=="symbol"?t:t+""}function xoe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function goe(e,t){return e??t}var _M=(e,t,s,a,n,i,l)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:d,dataEndIndex:u}=s,m=[];return e.reduce((f,h)=>{var x,{dataDefinedOnItem:p,settings:b}=h,j=goe(p,o),v=Array.isArray(j)?hD(j,d,u):j,y=(x=b==null?void 0:b.dataKey)!==null&&x!==void 0?x:a,w=b==null?void 0:b.nameKey,N;if(a&&Array.isArray(v)&&!Array.isArray(v[0])&&l==="axis"?N=o7(v,a,n):N=i(v,t,c,w),Array.isArray(N))N.forEach(S=>{var P=IP(IP({},b),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});f.push(mC({tooltipEntrySettings:P,dataKey:S.dataKey,payload:S.payload,value:mr(S.payload,S.dataKey),name:S.name}))});else{var k;f.push(mC({tooltipEntrySettings:b,dataKey:y,payload:N,value:mr(N,y),name:(k=mr(N,w))!==null&&k!==void 0?k:b==null?void 0:b.name}))}return f},m)}},E4=pe([Ns,zt,J9,r4,ws],dM),yoe=pe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),boe=pe([ws,Lu],c4),S0=pe([yoe,Ns,boe],d4,{memoizeOptions:{resultEqualityCheck:jy}}),voe=pe([S0],e=>e.filter(by)),joe=pe([S0],u4,{memoizeOptions:{resultEqualityCheck:jy}}),Uu=pe([joe,Io],m4),woe=pe([voe,Io,Ns],q9),_4=pe([Uu,Ns,S0],f4),IM=pe([Ns],p4),Noe=pe([Ns],e=>e.allowDataOverflow),OM=pe([IM,Noe],k9),Soe=pe([S0],e=>e.filter(by)),koe=pe([woe,Soe,g0],rM),Coe=pe([koe,Io,ws,OM],sM),Poe=pe([S0],Z9),Aoe=pe([Uu,Ns,Poe,Ny,ws],y4,{memoizeOptions:{resultEqualityCheck:vy}}),Toe=pe([aM,ws,Lu],Fu),Eoe=pe([Toe,ws],lM),_oe=pe([nM,ws,Lu],Fu),Ioe=pe([_oe,ws],oM),Ooe=pe([iM,ws,Lu],Fu),Doe=pe([Ooe,ws],cM),Moe=pe([Eoe,Doe,Ioe],Sx),Loe=pe([Ns,IM,OM,Coe,Aoe,Moe,zt,ws],b4),DM=pe([Ns,zt,Uu,_4,g0,ws,Loe],v4),Foe=pe([DM,Ns,E4],N4),Roe=pe([Ns,DM,Foe,ws],k4),MM=e=>{var t=ws(e),s=Lu(e),a=!1;return w0(e,t,s,a)},LM=pe([Ns,MM],xy),FM=pe([Ns,E4,Roe,LM],w4),Boe=pe([zt,_4,Ns,ws],gM),$oe=pe([zt,_4,Ns,ws],yM),Uoe=(e,t,s,a,n,i,l,o)=>{if(t){var{type:c}=t,d=Mi(e,o);if(a){var u=s==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,m=c==="category"&&a.bandwidth?a.bandwidth()/u:0;return m=o==="angleAxis"&&n!=null&&(n==null?void 0:n.length)>=2?As(n[0]-n[1])*2*m:m,d&&l?l.map((f,h)=>({coordinate:a(f)+m,value:f,index:h,offset:m})):a.domain().map((f,h)=>({coordinate:a(f)+m,value:i?i[f]:f,index:h,offset:m}))}}},Tl=pe([zt,Ns,E4,FM,MM,Boe,$oe,ws],Uoe),I4=pe([vM,jM,eoe],(e,t,s)=>wM(s.shared,e,t)),RM=e=>e.tooltip.settings.trigger,O4=e=>e.tooltip.settings.defaultIndex,Cy=pe([$u,I4,RM,O4],AM),bo=pe([Cy,Uu],T4),BM=pe([Tl,bo],NM),$M=pe([Cy],e=>{if(e)return e.dataKey}),UM=pe([$u,I4,RM,O4],EM),zoe=pe([Nl,Sl,zt,vs,Tl,O4,UM,N0],TM),Voe=pe([Cy,zoe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Hoe=pe([Cy],e=>e.active),Woe=pe([UM,bo,Io,tM,BM,N0,I4],_M),Goe=pe([Woe],e=>{if(e!=null){var t=e.map(s=>s.payload).filter(s=>s!=null);return Array.from(new Set(t))}});function OP(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function DP(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(s),!0).forEach(function(a){Koe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):OP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Koe(e,t,s){return(t=qoe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function qoe(e){var t=Yoe(e,"string");return typeof t=="symbol"?t:t+""}function Yoe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xoe=()=>vt(Ns),Joe=()=>{var e=Xoe(),t=vt(Tl),s=vt(FM);return yo(!e||!s?void 0:DP(DP({},e),{},{scale:s}),t)};function MP(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ld(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(s),!0).forEach(function(a){Qoe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):MP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Qoe(e,t,s){return(t=Zoe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Zoe(e){var t=ece(e,"string");return typeof t=="symbol"?t:t+""}function ece(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tce=(e,t,s,a)=>{var n=t.find(i=>i&&i.index===s);if(n){if(e==="horizontal")return{x:n.coordinate,y:a.chartY};if(e==="vertical")return{x:a.chartX,y:n.coordinate}}return{x:0,y:0}},rce=(e,t,s,a)=>{var n=t.find(d=>d&&d.index===s);if(n){if(e==="centric"){var i=n.coordinate,{radius:l}=a;return ld(ld(ld({},a),cs(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var o=n.coordinate,{angle:c}=a;return ld(ld(ld({},a),cs(a.cx,a.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function sce(e,t){var{chartX:s,chartY:a}=e;return s>=t.left&&s<=t.left+t.width&&a>=t.top&&a<=t.top+t.height}var zM=(e,t,s,a,n)=>{var i,l=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(a==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var c=0;c<o;c++){var d=c>0?s[c-1].coordinate:s[o-1].coordinate,u=s[c].coordinate,m=c>=o-1?s[0].coordinate:s[c+1].coordinate,f=void 0;if(As(u-d)!==As(m-u)){var h=[];if(As(m-u)===As(n[1]-n[0])){f=m;var x=u+n[1]-n[0];h[0]=Math.min(x,(x+d)/2),h[1]=Math.max(x,(x+d)/2)}else{f=d;var p=m+n[1]-n[0];h[0]=Math.min(u,(p+u)/2),h[1]=Math.max(u,(p+u)/2)}var b=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>b[0]&&e<=b[1]||e>=h[0]&&e<=h[1]){({index:l}=s[c]);break}}else{var j=Math.min(d,m),v=Math.max(d,m);if(e>(j+u)/2&&e<=(v+u)/2){({index:l}=s[c]);break}}}else if(t){for(var y=0;y<o;y++)if(y===0&&e<=(t[y].coordinate+t[y+1].coordinate)/2||y>0&&y<o-1&&e>(t[y].coordinate+t[y-1].coordinate)/2&&e<=(t[y].coordinate+t[y+1].coordinate)/2||y===o-1&&e>(t[y].coordinate+t[y-1].coordinate)/2){({index:l}=t[y]);break}}return l},VM=()=>vt(r4),D4=(e,t)=>t,HM=(e,t,s)=>s,M4=(e,t,s,a)=>a,ace=pe(Tl,e=>Jg(e,t=>t.coordinate)),L4=pe([$u,D4,HM,M4],AM),WM=pe([L4,Uu],T4),nce=(e,t,s)=>{if(t!=null){var a=$u(e);return t==="axis"?s==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:s==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},GM=pe([$u,D4,HM,M4],EM),kx=pe([Nl,Sl,zt,vs,Tl,M4,GM,N0],TM),ice=pe([L4,kx],(e,t)=>{var s;return(s=e.coordinate)!==null&&s!==void 0?s:t}),KM=pe([Tl,WM],NM),lce=pe([GM,WM,Io,tM,KM,N0,D4],_M),oce=pe([L4],e=>({isActive:e.active,activeIndex:e.index})),cce=(e,t,s,a,n,i,l)=>{if(!(!e||!s||!a||!n)&&sce(e,l)){var o=ere(e,t),c=zM(o,i,n,s,a),d=tce(t,n,c,e);return{activeIndex:String(c),activeCoordinate:d}}},dce=(e,t,s,a,n,i,l)=>{if(!(!e||!a||!n||!i||!s)){var o=tae(e,s);if(o){var c=tre(o,t),d=zM(c,l,i,a,n),u=rce(t,i,d,o);return{activeIndex:String(d),activeCoordinate:u}}}},uce=(e,t,s,a,n,i,l,o)=>{if(!(!e||!t||!a||!n||!i))return t==="horizontal"||t==="vertical"?cce(e,t,a,n,i,l,o):dce(e,t,s,a,n,i,l)},mce=pe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,s)=>s,(e,t,s)=>{if(t!=null){var a=e[t];if(a!=null)return s?a.panoramaElementId:a.elementId}}),hce=pe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(a=>parseInt(a,10)).concat(Object.values(es)),s=Array.from(new Set(t));return s.sort((a,n)=>a-n)},{memoizeOptions:{resultEqualityCheck:tle}});function LP(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function FP(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(s),!0).forEach(function(a){fce(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):LP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function fce(e,t,s){return(t=pce(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function pce(e){var t=xce(e,"string");return typeof t=="symbol"?t:t+""}function xce(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gce={},yce={zIndexMap:Object.values(es).reduce((e,t)=>FP(FP({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),gce)},bce=new Set(Object.values(es));function vce(e){return bce.has(e)}var qM=$a({name:"zIndex",initialState:yce,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:s}=t.payload;e.zIndexMap[s]?e.zIndexMap[s].consumers+=1:e.zIndexMap[s]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:gs()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:s}=t.payload;e.zIndexMap[s]&&(e.zIndexMap[s].consumers-=1,e.zIndexMap[s].consumers<=0&&!vce(s)&&delete e.zIndexMap[s])},prepare:gs()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:s,elementId:a,isPanorama:n}=t.payload;e.zIndexMap[s]?n?e.zIndexMap[s].panoramaElementId=a:e.zIndexMap[s].elementId=a:e.zIndexMap[s]={consumers:0,elementId:n?void 0:a,panoramaElementId:n?a:void 0}},prepare:gs()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:s}=t.payload;e.zIndexMap[s]&&(t.payload.isPanorama?e.zIndexMap[s].panoramaElementId=void 0:e.zIndexMap[s].elementId=void 0)},prepare:gs()}}}),{registerZIndexPortal:jce,unregisterZIndexPortal:wce,registerZIndexPortalId:Nce,unregisterZIndexPortalId:Sce}=qM.actions,kce=qM.reducer;function Pa(e){var{zIndex:t,children:s}=e,a=Are(),n=a&&t!==void 0&&t!==0,i=Os(),l=vr();g.useLayoutEffect(()=>n?(l(jce({zIndex:t})),()=>{l(wce({zIndex:t}))}):Gc,[l,t,n]);var o=vt(d=>mce(d,t,i));if(!n)return s;if(!o)return null;var c=document.getElementById(o);return c?yg.createPortal(s,c):null}function Y2(){return Y2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Y2.apply(null,arguments)}function RP(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Nf(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(s),!0).forEach(function(a){Cce(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):RP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Cce(e,t,s){return(t=Pce(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Pce(e){var t=Ace(e,"string");return typeof t=="symbol"?t:t+""}function Ace(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tce(e){var{cursor:t,cursorComp:s,cursorProps:a}=e;return g.isValidElement(t)?g.cloneElement(t,a):g.createElement(s,a)}function Ece(e){var t,{coordinate:s,payload:a,index:n,offset:i,tooltipAxisBandSize:l,layout:o,cursor:c,tooltipEventType:d,chartName:u}=e,m=s,f=a,h=n;if(!c||!m||u!=="ScatterChart"&&d!=="axis")return null;var x,p,b;if(u==="ScatterChart")x=m,p=gse,b=es.cursorLine;else if(u==="BarChart")x=yse(o,m,i,l),p=LD,b=es.cursorRectangle;else if(o==="radial"&&d7(m)){var{cx:j,cy:v,radius:y,startAngle:w,endAngle:N}=RD(m);x={cx:j,cy:v,startAngle:w,endAngle:N,innerRadius:y,outerRadius:y},p=$D,b=es.cursorLine}else x={points:nae(o,m,i)},p=Yd,b=es.cursorLine;var k=typeof c=="object"&&"className"in c?c.className:void 0,S=Nf(Nf(Nf(Nf({stroke:"#ccc",pointerEvents:"none"},i),x),Pc(c)),{},{payload:f,payloadIndex:h,className:Yt("recharts-tooltip-cursor",k)});return g.createElement(Pa,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},g.createElement(Tce,{cursor:c,cursorComp:p,cursorProps:S}))}function _ce(e){var t=Joe(),s=PD(),a=Eu(),n=VM();return t==null||s==null||a==null||n==null?null:g.createElement(Ece,Y2({},e,{offset:s,layout:a,tooltipAxisBandSize:t,chartName:n}))}var YM=g.createContext(null),Ice=()=>g.useContext(YM),XM={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function n(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,m,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new n(u,m||c,f),x=s?s+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],h]:c._events[x].push(h):(c._events[x]=h,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new a:delete c._events[d]}function o(){this._events=new a,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],u,m;if(this._eventsCount===0)return d;for(m in u=this._events)t.call(u,m)&&d.push(s?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},o.prototype.listeners=function(d){var u=s?s+d:d,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var f=0,h=m.length,x=new Array(h);f<h;f++)x[f]=m[f].fn;return x},o.prototype.listenerCount=function(d){var u=s?s+d:d,m=this._events[u];return m?m.fn?1:m.length:0},o.prototype.emit=function(d,u,m,f,h,x){var p=s?s+d:d;if(!this._events[p])return!1;var b=this._events[p],j=arguments.length,v,y;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),j){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,m),!0;case 4:return b.fn.call(b.context,u,m,f),!0;case 5:return b.fn.call(b.context,u,m,f,h),!0;case 6:return b.fn.call(b.context,u,m,f,h,x),!0}for(y=1,v=new Array(j-1);y<j;y++)v[y-1]=arguments[y];b.fn.apply(b.context,v)}else{var w=b.length,N;for(y=0;y<w;y++)switch(b[y].once&&this.removeListener(d,b[y].fn,void 0,!0),j){case 1:b[y].fn.call(b[y].context);break;case 2:b[y].fn.call(b[y].context,u);break;case 3:b[y].fn.call(b[y].context,u,m);break;case 4:b[y].fn.call(b[y].context,u,m,f);break;default:if(!v)for(N=1,v=new Array(j-1);N<j;N++)v[N-1]=arguments[N];b[y].fn.apply(b[y].context,v)}}return!0},o.prototype.on=function(d,u,m){return i(this,d,u,m,!1)},o.prototype.once=function(d,u,m){return i(this,d,u,m,!0)},o.prototype.removeListener=function(d,u,m,f){var h=s?s+d:d;if(!this._events[h])return this;if(!u)return l(this,h),this;var x=this._events[h];if(x.fn)x.fn===u&&(!f||x.once)&&(!m||x.context===m)&&l(this,h);else{for(var p=0,b=[],j=x.length;p<j;p++)(x[p].fn!==u||f&&!x[p].once||m&&x[p].context!==m)&&b.push(x[p]);b.length?this._events[h]=b.length===1?b[0]:b:l(this,h)}return this},o.prototype.removeAllListeners=function(d){var u;return d?(u=s?s+d:d,this._events[u]&&l(this,u)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=s,o.EventEmitter=o,e.exports=o})(XM);var Oce=XM.exports;const Dce=Dn(Oce);var Fh=new Dce,X2="recharts.syncEvent.tooltip",BP="recharts.syncEvent.brush";function Py(e,t){if(t){var s=Number.parseInt(t,10);if(!_n(s))return e==null?void 0:e[s]}}var Mce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},JM=$a({name:"options",initialState:Mce,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Lce=JM.reducer,{createEventEmitter:Fce}=JM.actions;function Rce(e){return e.tooltip.syncInteraction}var Bce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},QM=$a({name:"chartData",initialState:Bce,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:s,endIndex:a}=t.payload;s!=null&&(e.dataStartIndex=s),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:$P,setDataStartEndIndexes:$ce,setComputedData:t4e}=QM.actions,Uce=QM.reducer,zce=["x","y"];function UP(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function od(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(s),!0).forEach(function(a){Vce(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):UP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Vce(e,t,s){return(t=Hce(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Hce(e){var t=Wce(e,"string");return typeof t=="symbol"?t:t+""}function Wce(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gce(e,t){if(e==null)return{};var s,a,n=Kce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Kce(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function qce(){var e=vt(s4),t=vt(a4),s=vr(),a=vt(z9),n=vt(Tl),i=Eu(),l=ly(),o=vt(c=>c.rootProps.className);g.useEffect(()=>{if(e==null)return Gc;var c=(d,u,m)=>{if(t!==m&&e===d){if(a==="index"){var f;if(l&&u!==null&&u!==void 0&&(f=u.payload)!==null&&f!==void 0&&f.coordinate&&u.payload.sourceViewBox){var h=u.payload.coordinate,{x,y:p}=h,b=Gce(h,zce),{x:j,y:v,width:y,height:w}=u.payload.sourceViewBox,N=od(od({},b),{},{x:l.x+(y?(x-j)/y:0)*l.width,y:l.y+(w?(p-v)/w:0)*l.height});s(od(od({},u),{},{payload:od(od({},u.payload),{},{coordinate:N})}))}else s(u);return}if(n!=null){var k;if(typeof a=="function"){var S={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},P=a(n,S);k=n[P]}else a==="value"&&(k=n.find(me=>String(me.value)===u.payload.label));var{coordinate:_}=u.payload;if(k==null||u.payload.active===!1||_==null||l==null){s(K2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:C,y:A}=_,V=Math.min(C,l.x+l.width),q=Math.min(A,l.y+l.height),Z={x:i==="horizontal"?k.coordinate:V,y:i==="horizontal"?q:k.coordinate},ue=K2({active:u.payload.active,coordinate:Z,dataKey:u.payload.dataKey,index:String(k.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox});s(ue)}}};return Fh.on(X2,c),()=>{Fh.off(X2,c)}},[o,s,t,e,a,n,i,l])}function Yce(){var e=vt(s4),t=vt(a4),s=vr();g.useEffect(()=>{if(e==null)return Gc;var a=(n,i,l)=>{t!==l&&e===n&&s($ce(i))};return Fh.on(BP,a),()=>{Fh.off(BP,a)}},[s,t,e])}function Xce(){var e=vr();g.useEffect(()=>{e(Fce())},[e]),qce(),Yce()}function Jce(e,t,s,a,n,i){var l=vt(h=>nce(h,e,t)),o=vt(a4),c=vt(s4),d=vt(z9),u=vt(Rce),m=u==null?void 0:u.active,f=ly();g.useEffect(()=>{if(!m&&c!=null&&o!=null){var h=K2({active:i,coordinate:s,dataKey:l,index:n,label:typeof a=="number"?String(a):a,sourceViewBox:f});Fh.emit(X2,c,h,o)}},[m,s,l,n,a,o,c,d,i,f])}function zP(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function VP(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(s),!0).forEach(function(a){Qce(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):zP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Qce(e,t,s){return(t=Zce(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Zce(e){var t=ede(e,"string");return typeof t=="symbol"?t:t+""}function ede(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tde(e){return e.dataKey}function rde(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(Yre,t)}var HP=[],sde={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!kl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function yi(e){var t,s,a=Xr(e,sde),{active:n,allowEscapeViewBox:i,animationDuration:l,animationEasing:o,content:c,filterNull:d,isAnimationActive:u,offset:m,payloadUniqBy:f,position:h,reverseDirection:x,useTranslate3d:p,wrapperStyle:b,cursor:j,shared:v,trigger:y,defaultIndex:w,portal:N,axisId:k}=a,S=vr(),P=typeof w=="number"?String(w):w;g.useEffect(()=>{S(aoe({shared:v,trigger:y,axisId:k,active:n,defaultIndex:P}))},[S,v,y,k,n,P]);var _=ly(),C=_D(),A=Zle(v),{activeIndex:V,isActive:q}=(t=vt(D=>oce(D,A,y,P)))!==null&&t!==void 0?t:{},Z=vt(D=>lce(D,A,y,P)),ue=vt(D=>KM(D,A,y,P)),me=vt(D=>ice(D,A,y,P)),Q=Z,ae=Ice(),oe=(s=n??q)!==null&&s!==void 0?s:!1,[R,O]=$7([Q,oe]),I=A==="axis"?ue:void 0;Jce(A,y,me,I,V,oe);var X=N??ae;if(X==null||_==null||A==null)return null;var W=Q??HP;oe||(W=HP),d&&W.length&&(W=A7(W.filter(D=>D.value!=null&&(D.hide!==!0||a.includeHidden)),f,tde));var T=W.length>0,L=g.createElement(rse,{allowEscapeViewBox:i,animationDuration:l,animationEasing:o,isAnimationActive:u,active:oe,coordinate:me,hasPayload:T,offset:m,position:h,reverseDirection:x,useTranslate3d:p,viewBox:_,wrapperStyle:b,lastBoundingBox:R,innerRef:O,hasPortalFromProps:!!N},rde(c,VP(VP({},a),{},{payload:W,label:I,active:oe,activeIndex:V,coordinate:me,accessibilityLayer:C})));return g.createElement(g.Fragment,null,yg.createPortal(L,X),oe&&g.createElement(_ce,{cursor:j,tooltipEventType:A,coordinate:me,payload:W,index:V}))}var vo=e=>null;vo.displayName="Cell";function ade(e,t,s){return(t=nde(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function nde(e){var t=ide(e,"string");return typeof t=="symbol"?t:t+""}function ide(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class lde{constructor(t){ade(this,"cache",new Map),this.maxSize=t}get(t){var s=this.cache.get(t);return s!==void 0&&(this.cache.delete(t),this.cache.set(t,s)),s}set(t,s){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(t,s)}clear(){this.cache.clear()}size(){return this.cache.size}}function WP(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ode(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(s),!0).forEach(function(a){cde(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):WP(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function cde(e,t,s){return(t=dde(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function dde(e){var t=ude(e,"string");return typeof t=="symbol"?t:t+""}function ude(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mde={cacheSize:2e3,enableCache:!0},ZM=ode({},mde),GP=new lde(ZM.cacheSize),hde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KP="recharts_measurement_span";function fde(e,t){var s=t.fontSize||"",a=t.fontFamily||"",n=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(s,"|").concat(a,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(o)}var qP=(e,t)=>{try{var s=document.getElementById(KP);s||(s=document.createElement("span"),s.setAttribute("id",KP),s.setAttribute("aria-hidden","true"),document.body.appendChild(s)),Object.assign(s.style,hde,t),s.textContent="".concat(e);var a=s.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},Bm=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||kl.isSsr)return{width:0,height:0};if(!ZM.enableCache)return qP(t,s);var a=fde(t,s),n=GP.get(a);if(n)return n;var i=qP(t,s);return GP.set(a,i),i},YP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gde=Object.keys(eL),_d="NaN";function yde(e,t){return e*eL[t]}class Aa{static parse(t){var s,[,a,n]=(s=xde.exec(t))!==null&&s!==void 0?s:[];return new Aa(parseFloat(a),n??"")}constructor(t,s){this.num=t,this.unit=s,this.num=t,this.unit=s,_n(t)&&(this.unit=""),s!==""&&!pde.test(s)&&(this.num=NaN,this.unit=""),gde.includes(s)&&(this.num=yde(t,s),this.unit="px")}add(t){return this.unit!==t.unit?new Aa(NaN,""):new Aa(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Aa(NaN,""):new Aa(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Aa(NaN,""):new Aa(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Aa(NaN,""):new Aa(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _n(this.num)}}function tL(e){if(e.includes(_d))return _d;for(var t=e;t.includes("*")||t.includes("/");){var s,[,a,n,i]=(s=YP.exec(t))!==null&&s!==void 0?s:[],l=Aa.parse(a??""),o=Aa.parse(i??""),c=n==="*"?l.multiply(o):l.divide(o);if(c.isNaN())return _d;t=t.replace(YP,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,m,f]=(d=XP.exec(t))!==null&&d!==void 0?d:[],h=Aa.parse(u??""),x=Aa.parse(f??""),p=m==="+"?h.add(x):h.subtract(x);if(p.isNaN())return _d;t=t.replace(XP,p.toString())}return t}var JP=/\(([^()]*)\)/;function bde(e){for(var t=e,s;(s=JP.exec(t))!=null;){var[,a]=s;t=t.replace(JP,tL(a))}return t}function vde(e){var t=e.replace(/\s+/g,"");return t=bde(t),t=tL(t),t}function jde(e){try{return vde(e)}catch{return _d}}function kv(e){var t=jde(e.slice(5,-1));return t===_d?"":t}var wde=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Nde=["dx","dy","angle","className","breakAll"];function J2(){return J2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},J2.apply(null,arguments)}function QP(e,t){if(e==null)return{};var s,a,n=Sde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Sde(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var rL=/[ \f\n\r\t\v\u2028\u2029]+/,sL=e=>{var{children:t,breakAll:s,style:a}=e;try{var n=[];kr(t)||(s?n=t.toString().split(""):n=t.toString().split(rL));var i=n.map(o=>({word:o,width:Bm(o,a).width})),l=s?0:Bm("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}};function kde(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var aL=(e,t,s,a)=>e.reduce((n,i)=>{var{word:l,width:o}=i,c=n[n.length-1];if(c&&o!=null&&(t==null||a||c.width+o+s<Number(t)))c.words.push(l),c.width+=o+s;else{var d={words:[l],width:o};n.push(d)}return n},[]),nL=e=>e.reduce((t,s)=>t.width>s.width?t:s),Cde="",ZP=(e,t,s,a,n,i,l,o)=>{var c=e.slice(0,t),d=sL({breakAll:s,style:a,children:c+Cde});if(!d)return[!1,[]];var u=aL(d.wordsWithComputedWidth,i,l,o),m=u.length>n||nL(u).width>Number(i);return[m,u]},Pde=(e,t,s,a,n)=>{var{maxLines:i,children:l,style:o,breakAll:c}=e,d=xt(i),u=String(l),m=aL(t,a,s,n);if(!d||n)return m;var f=m.length>i||nL(m).width>Number(a);if(!f)return m;for(var h=0,x=u.length-1,p=0,b;h<=x&&p<=u.length-1;){var j=Math.floor((h+x)/2),v=j-1,[y,w]=ZP(u,v,c,o,i,a,s,n),[N]=ZP(u,j,c,o,i,a,s,n);if(!y&&!N&&(h=j+1),y&&N&&(x=j-1),!y&&N){b=w;break}p++}return b||m},eA=e=>{var t=kr(e)?[]:e.toString().split(rL);return[{words:t,width:void 0}]},Ade=e=>{var{width:t,scaleToFit:s,children:a,style:n,breakAll:i,maxLines:l}=e;if((t||s)&&!kl.isSsr){var o,c,d=sL({breakAll:i,children:a,style:n});if(d){var{wordsWithComputedWidth:u,spaceWidth:m}=d;o=u,c=m}else return eA(a);return Pde({breakAll:i,children:a,maxLines:l,style:n},o,c,t,!!s)}return eA(a)},iL="#808080",Tde={breakAll:!1,capHeight:"0.71em",fill:iL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ay=g.forwardRef((e,t)=>{var s=Xr(e,Tde),{x:a,y:n,lineHeight:i,capHeight:l,fill:o,scaleToFit:c,textAnchor:d,verticalAnchor:u}=s,m=QP(s,wde),f=g.useMemo(()=>Ade({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:h,dy:x,angle:p,className:b,breakAll:j}=m,v=QP(m,Nde);if(!Pi(a)||!Pi(n)||f.length===0)return null;var y=Number(a)+(xt(h)?h:0),w=Number(n)+(xt(x)?x:0);if(!Cr(y)||!Cr(w))return null;var N;switch(u){case"start":N=kv("calc(".concat(l,")"));break;case"middle":N=kv("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(l," / 2))"));break;default:N=kv("calc(".concat(f.length-1," * -").concat(i,")"));break}var k=[];if(c){var S=f[0].width,{width:P}=m;k.push("scale(".concat(xt(P)&&xt(S)?P/S:1,")"))}return p&&k.push("rotate(".concat(p,", ").concat(y,", ").concat(w,")")),k.length&&(v.transform=k.join(" ")),g.createElement("text",J2({},da(v),{ref:t,x:y,y:w,className:Yt("recharts-text",b),textAnchor:d,fill:o.includes("url")?iL:o}),f.map((_,C)=>{var A=_.words.join(j?"":" ");return g.createElement("tspan",{x:y,dy:C===0?N:i,key:"".concat(A,"-").concat(C)},A)}))});Ay.displayName="Text";var Ede=["labelRef"];function _de(e,t){if(e==null)return{};var s,a,n=Ide(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Ide(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function tA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Jr(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(s),!0).forEach(function(a){Ode(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):tA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ode(e,t,s){return(t=Dde(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Dde(e){var t=Mde(e,"string");return typeof t=="symbol"?t:t+""}function Mde(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},zi.apply(null,arguments)}var lL=g.createContext(null),Lde=e=>{var{x:t,y:s,upperWidth:a,lowerWidth:n,width:i,height:l,children:o}=e,c=g.useMemo(()=>({x:t,y:s,upperWidth:a,lowerWidth:n,width:i,height:l}),[t,s,a,n,i,l]);return g.createElement(lL.Provider,{value:c},o)},oL=()=>{var e=g.useContext(lL),t=ly();return e||CD(t)},Fde=g.createContext(null),Rde=()=>{var e=g.useContext(Fde),t=vt(K9);return e||t},Bde=e=>{var{value:t,formatter:s}=e,a=kr(e.children)?t:e.children;return typeof s=="function"?s(a):a},F4=e=>e!=null&&typeof e=="function",$de=(e,t)=>{var s=As(t-e),a=Math.min(Math.abs(t-e),360);return s*a},Ude=(e,t,s,a,n)=>{var{offset:i,className:l}=e,{cx:o,cy:c,innerRadius:d,outerRadius:u,startAngle:m,endAngle:f,clockWise:h}=n,x=(d+u)/2,p=$de(m,f),b=p>=0?1:-1,j,v;switch(t){case"insideStart":j=m+b*i,v=h;break;case"insideEnd":j=f-b*i,v=!h;break;case"end":j=f+b*i,v=h;break;default:throw new Error("Unsupported position ".concat(t))}v=p<=0?v:!v;var y=cs(o,c,x,j),w=cs(o,c,x,j+(v?1:-1)*359),N="M".concat(y.x,",").concat(y.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(v?0:1,`,
    `).concat(w.x,",").concat(w.y),k=kr(e.id)?Ch("recharts-radial-line-"):e.id;return g.createElement("text",zi({},a,{dominantBaseline:"central",className:Yt("recharts-radial-bar-label",l)}),g.createElement("defs",null,g.createElement("path",{id:k,d:N})),g.createElement("textPath",{xlinkHref:"#".concat(k)},s))},zde=(e,t,s)=>{var{cx:a,cy:n,innerRadius:i,outerRadius:l,startAngle:o,endAngle:c}=e,d=(o+c)/2;if(s==="outside"){var{x:u,y:m}=cs(a,n,l+t,d);return{x:u,y:m,textAnchor:u>=a?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"end"};var f=(i+l)/2,{x:h,y:x}=cs(a,n,f,d);return{x:h,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Q2=e=>"cx"in e&&xt(e.cx),Vde=(e,t)=>{var{parentViewBox:s,offset:a,position:n}=e,i;s!=null&&!Q2(s)&&(i=s);var{x:l,y:o,upperWidth:c,lowerWidth:d,height:u}=t,m=l,f=l+(c-d)/2,h=(m+f)/2,x=(c+d)/2,p=m+c/2,b=u>=0?1:-1,j=b*a,v=b>0?"end":"start",y=b>0?"start":"end",w=c>=0?1:-1,N=w*a,k=w>0?"end":"start",S=w>0?"start":"end";if(n==="top"){var P={x:m+c/2,y:o-j,textAnchor:"middle",verticalAnchor:v};return Jr(Jr({},P),i?{height:Math.max(o-i.y,0),width:c}:{})}if(n==="bottom"){var _={x:f+d/2,y:o+u+j,textAnchor:"middle",verticalAnchor:y};return Jr(Jr({},_),i?{height:Math.max(i.y+i.height-(o+u),0),width:d}:{})}if(n==="left"){var C={x:h-N,y:o+u/2,textAnchor:k,verticalAnchor:"middle"};return Jr(Jr({},C),i?{width:Math.max(C.x-i.x,0),height:u}:{})}if(n==="right"){var A={x:h+x+N,y:o+u/2,textAnchor:S,verticalAnchor:"middle"};return Jr(Jr({},A),i?{width:Math.max(i.x+i.width-A.x,0),height:u}:{})}var V=i?{width:x,height:u}:{};return n==="insideLeft"?Jr({x:h+N,y:o+u/2,textAnchor:S,verticalAnchor:"middle"},V):n==="insideRight"?Jr({x:h+x-N,y:o+u/2,textAnchor:k,verticalAnchor:"middle"},V):n==="insideTop"?Jr({x:m+c/2,y:o+j,textAnchor:"middle",verticalAnchor:y},V):n==="insideBottom"?Jr({x:f+d/2,y:o+u-j,textAnchor:"middle",verticalAnchor:v},V):n==="insideTopLeft"?Jr({x:m+N,y:o+j,textAnchor:S,verticalAnchor:y},V):n==="insideTopRight"?Jr({x:m+c-N,y:o+j,textAnchor:k,verticalAnchor:y},V):n==="insideBottomLeft"?Jr({x:f+N,y:o+u-j,textAnchor:S,verticalAnchor:v},V):n==="insideBottomRight"?Jr({x:f+d-N,y:o+u-j,textAnchor:k,verticalAnchor:v},V):n&&typeof n=="object"&&(xt(n.x)||ml(n.x))&&(xt(n.y)||ml(n.y))?Jr({x:l+ia(n.x,x),y:o+ia(n.y,u),textAnchor:"end",verticalAnchor:"end"},V):Jr({x:p,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},V)},Hde={offset:5,zIndex:es.label};function zl(e){var t=Xr(e,Hde),{viewBox:s,position:a,value:n,children:i,content:l,className:o="",textBreakAll:c,labelRef:d}=t,u=Rde(),m=oL(),f=a==="center"?m:u??m,h,x,p;if(s==null?h=f:Q2(s)?h=s:h=CD(s),!h||kr(n)&&kr(i)&&!g.isValidElement(l)&&typeof l!="function")return null;var b=Jr(Jr({},t),{},{viewBox:h});if(g.isValidElement(l)){var{labelRef:j}=b,v=_de(b,Ede);return g.cloneElement(l,v)}if(typeof l=="function"){if(x=g.createElement(l,b),g.isValidElement(x))return x}else x=Bde(t);var y=da(t);if(Q2(h)){if(a==="insideStart"||a==="insideEnd"||a==="end")return Ude(t,a,x,y,h);p=zde(h,t.offset,t.position)}else p=Vde(t,h);return g.createElement(Pa,{zIndex:t.zIndex},g.createElement(Ay,zi({ref:d,className:Yt("recharts-label",o)},y,p,{textAnchor:kde(y.textAnchor)?y.textAnchor:p.textAnchor,breakAll:c}),x))}zl.displayName="Label";var Wde=(e,t,s)=>{if(!e)return null;var a={viewBox:t,labelRef:s};return e===!0?g.createElement(zl,zi({key:"label-implicit"},a)):Pi(e)?g.createElement(zl,zi({key:"label-implicit",value:e},a)):g.isValidElement(e)?e.type===zl?g.cloneElement(e,Jr({key:"label-implicit"},a)):g.createElement(zl,zi({key:"label-implicit",content:e},a)):F4(e)?g.createElement(zl,zi({key:"label-implicit",content:e},a)):e&&typeof e=="object"?g.createElement(zl,zi({},e,{key:"label-implicit"},a)):null};function Gde(e){var{label:t,labelRef:s}=e,a=oL();return Wde(t,a,s)||null}var cL={},dL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return s[s.length-1]}e.last=t})(dL);var uL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){return Array.isArray(s)?s:Array.from(s)}e.toArray=t})(uL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dL,s=uL,a=Yg;function n(i){if(a.isArrayLike(i))return t.last(s.toArray(i))}e.last=n})(cL);var Kde=cL.last;const qde=Dn(Kde);var Yde=["valueAccessor"],Xde=["dataKey","clockWise","id","textBreakAll","zIndex"];function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Cx.apply(null,arguments)}function rA(e,t){if(e==null)return{};var s,a,n=Jde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Jde(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var Qde=e=>Array.isArray(e.value)?qde(e.value):e.value,mL=g.createContext(void 0),R4=mL.Provider,hL=g.createContext(void 0),Zde=hL.Provider;function eue(){return g.useContext(mL)}function tue(){return g.useContext(hL)}function rp(e){var{valueAccessor:t=Qde}=e,s=rA(e,Yde),{dataKey:a,clockWise:n,id:i,textBreakAll:l,zIndex:o}=s,c=rA(s,Xde),d=eue(),u=tue(),m=d||u;return!m||!m.length?null:g.createElement(Pa,{zIndex:o??es.label},g.createElement(Yr,{className:"recharts-label-list"},m.map((f,h)=>{var x,p=kr(a)?t(f,h):mr(f&&f.payload,a),b=kr(i)?{}:{id:"".concat(i,"-").concat(h)};return g.createElement(zl,Cx({key:"label-".concat(h)},da(f),c,b,{fill:(x=s.fill)!==null&&x!==void 0?x:f.fill,parentViewBox:f.parentViewBox,value:p,textBreakAll:l,viewBox:f.viewBox,index:h,zIndex:0}))})))}rp.displayName="LabelList";function Ty(e){var{label:t}=e;return t?t===!0?g.createElement(rp,{key:"labelList-implicit"}):g.isValidElement(t)||F4(t)?g.createElement(rp,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(rp,Cx({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Z2(){return Z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Z2.apply(null,arguments)}var fL=e=>{var{cx:t,cy:s,r:a,className:n}=e,i=Yt("recharts-dot",n);return xt(t)&&xt(s)&&xt(a)?g.createElement("circle",Z2({},Sa(e),oN(e),{className:i,cx:t,cy:s,r:a})):null},pL=e=>e.graphicalItems.polarItems,rue=pe([Ir,y0],c4),Ey=pe([pL,Ur,rue],d4),sue=pe([Ey],u4),_y=pe([sue,ZN],m4),aue=pe([_y,Ur,Ey],f4);pe([_y,Ur,Ey],(e,t,s)=>s.length>0?e.flatMap(a=>s.flatMap(n=>{var i,l=mr(a,(i=t.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:mr(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var sA=()=>{},nue=pe([_y,Ur,Ey,Ny,Ir],y4),iue=pe([Ur,x4,g4,sA,nue,sA,zt,Ir],b4),xL=pe([Ur,zt,_y,aue,g0,Ir,iue],v4),lue=pe([xL,Ur,Ru],N4);pe([Ur,xL,lue,Ir],k4);var oue={radiusAxis:{},angleAxis:{}},gL=$a({name:"polarAxis",initialState:oue,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:r4e,removeRadiusAxis:s4e,addAngleAxis:a4e,removeAngleAxis:n4e}=gL.actions,cue=gL.reducer;function aA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function nA(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(s),!0).forEach(function(a){due(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):aA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function due(e,t,s){return(t=uue(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function uue(e){var t=mue(e,"string");return typeof t=="symbol"?t:t+""}function mue(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hue=(e,t)=>t,B4=pe([pL,hue],(e,t)=>e.filter(s=>s.type==="pie").find(s=>s.id===t)),fue=[],$4=(e,t,s)=>(s==null?void 0:s.length)===0?fue:s,yL=pe([ZN,B4,$4],(e,t,s)=>{var{chartData:a}=e;if(t!=null){var n;if((t==null?void 0:t.data)!=null&&t.data.length>0?n=t.data:n=a,(!n||!n.length)&&s!=null&&(n=s.map(i=>nA(nA({},t.presentationProps),i.props))),n!=null)return n}}),pue=pe([yL,B4,$4],(e,t,s)=>{if(!(e==null||t==null))return e.map((a,n)=>{var i,l=mr(a,t.nameKey,t.name),o;return s!=null&&(i=s[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=s[n].props.fill:typeof a=="object"&&a!=null&&"fill"in a?o=a.fill:o=t.fill,{value:To(l,t.dataKey),color:o,payload:a,type:t.legendType}})}),xue=pe([yL,B4,$4,vs],(e,t,s,a)=>{if(!(t==null||e==null))return hme({offset:a,pieSettings:t,displayedData:e,cells:s})}),bL={exports:{}},pr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U4=Symbol.for("react.transitional.element"),z4=Symbol.for("react.portal"),Iy=Symbol.for("react.fragment"),Oy=Symbol.for("react.strict_mode"),Dy=Symbol.for("react.profiler"),My=Symbol.for("react.consumer"),Ly=Symbol.for("react.context"),Fy=Symbol.for("react.forward_ref"),Ry=Symbol.for("react.suspense"),By=Symbol.for("react.suspense_list"),$y=Symbol.for("react.memo"),Uy=Symbol.for("react.lazy"),gue=Symbol.for("react.view_transition"),yue=Symbol.for("react.client.reference");function Ln(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case U4:switch(e=e.type,e){case Iy:case Dy:case Oy:case Ry:case By:case gue:return e;default:switch(e=e&&e.$$typeof,e){case Ly:case Fy:case Uy:case $y:return e;case My:return e;default:return t}}case z4:return t}}}pr.ContextConsumer=My;pr.ContextProvider=Ly;pr.Element=U4;pr.ForwardRef=Fy;pr.Fragment=Iy;pr.Lazy=Uy;pr.Memo=$y;pr.Portal=z4;pr.Profiler=Dy;pr.StrictMode=Oy;pr.Suspense=Ry;pr.SuspenseList=By;pr.isContextConsumer=function(e){return Ln(e)===My};pr.isContextProvider=function(e){return Ln(e)===Ly};pr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===U4};pr.isForwardRef=function(e){return Ln(e)===Fy};pr.isFragment=function(e){return Ln(e)===Iy};pr.isLazy=function(e){return Ln(e)===Uy};pr.isMemo=function(e){return Ln(e)===$y};pr.isPortal=function(e){return Ln(e)===z4};pr.isProfiler=function(e){return Ln(e)===Dy};pr.isStrictMode=function(e){return Ln(e)===Oy};pr.isSuspense=function(e){return Ln(e)===Ry};pr.isSuspenseList=function(e){return Ln(e)===By};pr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Iy||e===Dy||e===Oy||e===Ry||e===By||typeof e=="object"&&e!==null&&(e.$$typeof===Uy||e.$$typeof===$y||e.$$typeof===Ly||e.$$typeof===My||e.$$typeof===Fy||e.$$typeof===yue||e.getModuleId!==void 0)};pr.typeOf=Ln;bL.exports=pr;var bue=bL.exports,iA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",lA=null,Cv=null,vL=e=>{if(e===lA&&Array.isArray(Cv))return Cv;var t=[];return g.Children.forEach(e,s=>{kr(s)||(bue.isFragment(s)?t=t.concat(vL(s.props.children)):t.push(s))}),Cv=t,lA=e,t};function V4(e,t){var s=[],a=[];return Array.isArray(t)?a=t.map(n=>iA(n)):a=[iA(t)],vL(e).forEach(n=>{var i=Ac(n,"type.displayName")||Ac(n,"type.name");i&&a.indexOf(i)!==-1&&s.push(n)}),s}var H4=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,jL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(s){var n;if(typeof s!="object"||s==null)return!1;if(Object.getPrototypeOf(s)===null)return!0;if(Object.prototype.toString.call(s)!=="[object Object]"){const i=s[Symbol.toStringTag];return i==null||!((n=Object.getOwnPropertyDescriptor(s,Symbol.toStringTag))!=null&&n.writable)?!1:s.toString()===`[object ${i}]`}let a=s;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(s)===a}e.isPlainObject=t})(jL);var vue=jL.isPlainObject;const jue=Dn(vue);function oA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function cA(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(s),!0).forEach(function(a){wue(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):oA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function wue(e,t,s){return(t=Nue(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Nue(e){var t=Sue(e,"string");return typeof t=="symbol"?t:t+""}function Sue(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Px.apply(null,arguments)}var dA=(e,t,s,a,n)=>{var i=s-a,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+s,",").concat(t),l+="L ".concat(e+s-i/2,",").concat(t+n),l+="L ".concat(e+s-i/2-a,",").concat(t+n),l+="L ".concat(e,",").concat(t," Z"),l},kue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cue=e=>{var t=Xr(e,kue),{x:s,y:a,upperWidth:n,lowerWidth:i,height:l,className:o}=t,{animationEasing:c,animationDuration:d,animationBegin:u,isUpdateAnimationActive:m}=t,f=g.useRef(null),[h,x]=g.useState(-1),p=g.useRef(n),b=g.useRef(i),j=g.useRef(l),v=g.useRef(s),y=g.useRef(a),w=Iu(e,"trapezoid-");if(g.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var Z=f.current.getTotalLength();Z&&x(Z)}catch{}},[]),s!==+s||a!==+a||n!==+n||i!==+i||l!==+l||n===0&&i===0||l===0)return null;var N=Yt("recharts-trapezoid",o);if(!m)return g.createElement("g",null,g.createElement("path",Px({},da(t),{className:N,d:dA(s,a,n,i,l)})));var k=p.current,S=b.current,P=j.current,_=v.current,C=y.current,A="0px ".concat(h===-1?1:h,"px"),V="".concat(h,"px 0px"),q=ID(["strokeDasharray"],d,c);return g.createElement(_u,{animationId:w,key:w,canBegin:h>0,duration:d,easing:c,isActive:m,begin:u},Z=>{var ue=rr(k,n,Z),me=rr(S,i,Z),Q=rr(P,l,Z),ae=rr(_,s,Z),oe=rr(C,a,Z);f.current&&(p.current=ue,b.current=me,j.current=Q,v.current=ae,y.current=oe);var R=Z>0?{transition:q,strokeDasharray:V}:{strokeDasharray:A};return g.createElement("path",Px({},da(t),{className:N,d:dA(ae,oe,ue,me,Q),ref:f,style:cA(cA({},R),t.style)}))})},Pue=["option","shapeType","propTransformer","activeClassName","isActive"];function Aue(e,t){if(e==null)return{};var s,a,n=Tue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Tue(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function uA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Ax(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(s),!0).forEach(function(a){Eue(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):uA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Eue(e,t,s){return(t=_ue(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function _ue(e){var t=Iue(e,"string");return typeof t=="symbol"?t:t+""}function Iue(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oue(e,t){return Ax(Ax({},t),e)}function Due(e,t){return e==="symbols"}function mA(e){var{shapeType:t,elementProps:s}=e;switch(t){case"rectangle":return g.createElement(LD,s);case"trapezoid":return g.createElement(Cue,s);case"sector":return g.createElement($D,s);case"symbols":if(Due(t))return g.createElement(lN,s);break;case"curve":return g.createElement(Yd,s);default:return null}}function Mue(e){return g.isValidElement(e)?e.props:e}function W4(e){var{option:t,shapeType:s,propTransformer:a=Oue,activeClassName:n="recharts-active-shape",isActive:i}=e,l=Aue(e,Pue),o;if(g.isValidElement(t))o=g.cloneElement(t,Ax(Ax({},l),Mue(t)));else if(typeof t=="function")o=t(l);else if(jue(t)&&typeof t!="boolean"){var c=a(t,l);o=g.createElement(mA,{shapeType:s,elementProps:c})}else{var d=l;o=g.createElement(mA,{shapeType:s,elementProps:d})}return i?g.createElement(Yr,{className:n},o):o}var G4=(e,t)=>{var s=vr();return(a,n)=>i=>{e==null||e(a,n,i),s(kM({activeIndex:String(n),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}},K4=e=>{var t=vr();return(s,a)=>n=>{e==null||e(s,a,n),t(noe())}},q4=(e,t)=>{var s=vr();return(a,n)=>i=>{e==null||e(a,n,i),s(ioe({activeIndex:String(n),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}};function zy(e){var{fn:t,args:s}=e,a=vr(),n=Os();return g.useLayoutEffect(()=>{if(!n){var i=t(s);return a(roe(i)),()=>{a(soe(i))}}},[t,s,a,n]),null}function Y4(e){var{legendPayload:t}=e,s=vr(),a=Os();return g.useLayoutEffect(()=>a?Gc:(s(TD(t)),()=>{s(ED(t))}),[s,a,t]),null}function Lue(e){var{legendPayload:t}=e,s=vr(),a=vt(zt);return g.useLayoutEffect(()=>a!=="centric"&&a!=="radial"?Gc:(s(TD(t)),()=>{s(ED(t))}),[s,a,t]),null}var Pv,Fue=()=>{var[e]=g.useState(()=>Ch("uid-"));return e},Rue=(Pv=FT.useId)!==null&&Pv!==void 0?Pv:Fue;function wL(e,t){var s=Rue();return t||(e?"".concat(e,"-").concat(s):s)}var Bue=g.createContext(void 0),Vy=e=>{var{id:t,type:s,children:a}=e,n=wL("recharts-".concat(s),t);return g.createElement(Bue.Provider,{value:n},a(n))},$ue={cartesianItems:[],polarItems:[]},NL=$a({name:"graphicalItems",initialState:$ue,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:gs()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:s,next:a}=t.payload,n=Zi(e).cartesianItems.indexOf(s);n>-1&&(e.cartesianItems[n]=a)},prepare:gs()},removeCartesianGraphicalItem:{reducer(e,t){var s=Zi(e).cartesianItems.indexOf(t.payload);s>-1&&e.cartesianItems.splice(s,1)},prepare:gs()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:gs()},removePolarGraphicalItem:{reducer(e,t){var s=Zi(e).polarItems.indexOf(t.payload);s>-1&&e.polarItems.splice(s,1)},prepare:gs()}}}),{addCartesianGraphicalItem:Uue,replaceCartesianGraphicalItem:zue,removeCartesianGraphicalItem:Vue,addPolarGraphicalItem:Hue,removePolarGraphicalItem:Wue}=NL.actions,Gue=NL.reducer;function X4(e){var t=vr(),s=g.useRef(null);return g.useLayoutEffect(()=>{s.current===null?t(Uue(e)):s.current!==e&&t(zue({prev:s.current,next:e})),s.current=e},[t,e]),g.useLayoutEffect(()=>()=>{s.current&&(t(Vue(s.current)),s.current=null)},[t]),null}function Kue(e){var t=vr();return g.useLayoutEffect(()=>(t(Hue(e)),()=>{t(Wue(e))}),[t,e]),null}var que=["onMouseEnter","onClick","onMouseLeave"],Yue=["id"],Xue=["id"];function J4(e,t){if(e==null)return{};var s,a,n=Jue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Jue(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function hA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Tr(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(s),!0).forEach(function(a){Que(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):hA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Que(e,t,s){return(t=Zue(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Zue(e){var t=eme(e,"string");return typeof t=="symbol"?t:t+""}function eme(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},jo.apply(null,arguments)}function tme(e){var t=g.useMemo(()=>V4(e.children,vo),[e.children]),s=vt(a=>pue(a,e.id,t));return s==null?null:g.createElement(Lue,{legendPayload:s})}function rme(e){var{dataKey:t,nameKey:s,sectors:a,stroke:n,strokeWidth:i,fill:l,name:o,hide:c,tooltipType:d}=e;return{dataDefinedOnItem:a.map(u=>u.tooltipPayload),positions:a.map(u=>u.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:l,dataKey:t,nameKey:s,name:To(o,t),hide:c,type:d,color:l,unit:""}}}var sme=(e,t)=>e>t?"start":e<t?"end":"middle",ame=(e,t,s)=>ia(typeof t=="function"?t(e):t,s,s*.8),nme=(e,t,s)=>{var{top:a,left:n,width:i,height:l}=t,o=FD(i,l),c=n+ia(e.cx,i,i/2),d=a+ia(e.cy,l,l/2),u=ia(e.innerRadius,o,0),m=ame(s,e.outerRadius,o),f=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:c,cy:d,innerRadius:u,outerRadius:m,maxRadius:f}},ime=(e,t)=>{var s=As(t-e),a=Math.min(Math.abs(t-e),360);return s*a};function lme(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var ome=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var s=Yt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return g.createElement(Yd,jo({},t,{type:"linear",className:s}))},cme=(e,t,s)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var a=s;if(typeof e=="function"&&(a=e(t),g.isValidElement(a)))return a;var n=Yt("recharts-pie-label-text",lme(e));return g.createElement(Ay,jo({},t,{alignmentBaseline:"middle",className:n}),a)};function dme(e){var{sectors:t,props:s,showLabels:a}=e,{label:n,labelLine:i,dataKey:l}=s;if(!a||!n||!t)return null;var o=Sa(s),c=Pc(n),d=Pc(i),u=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,m=t.map((f,h)=>{var x=(f.startAngle+f.endAngle)/2,p=cs(f.cx,f.cy,f.outerRadius+u,x),b=Tr(Tr(Tr(Tr({},o),f),{},{stroke:"none"},c),{},{index:h,textAnchor:sme(p.x,f.cx)},p),j=Tr(Tr(Tr(Tr({},o),f),{},{fill:"none",stroke:f.fill},d),{},{index:h,points:[cs(f.cx,f.cy,f.outerRadius,x),p],key:"line"});return g.createElement(Pa,{zIndex:es.label,key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(h)},g.createElement(Yr,null,i&&ome(i,j),cme(n,b,mr(f,l))))});return g.createElement(Yr,{className:"recharts-pie-labels"},m)}function ume(e){var{sectors:t,props:s,showLabels:a}=e,{label:n}=s;return typeof n=="object"&&n!=null&&"position"in n?g.createElement(Ty,{label:n}):g.createElement(dme,{sectors:t,props:s,showLabels:a})}function mme(e){var{sectors:t,activeShape:s,inactiveShape:a,allOtherPieProps:n}=e,i=vt(bo),{onMouseEnter:l,onClick:o,onMouseLeave:c}=n,d=J4(n,que),u=G4(l,n.dataKey),m=K4(c),f=q4(o,n.dataKey);return t==null||t.length===0?null:g.createElement(g.Fragment,null,t.map((h,x)=>{if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&t.length!==1)return null;var p=s&&String(x)===i,b=i?a:null,j=p?s:b,v=Tr(Tr({},h),{},{stroke:h.stroke,tabIndex:-1,[yD]:x,[bD]:n.dataKey});return g.createElement(Yr,jo({key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(x),tabIndex:-1,className:"recharts-pie-sector"},o0(d,h,x),{onMouseEnter:u(h,x),onMouseLeave:m(h,x),onClick:f(h,x)}),g.createElement(W4,jo({option:j,isActive:p,shapeType:"sector"},v)))}))}function hme(e){var t,{pieSettings:s,displayedData:a,cells:n,offset:i}=e,{cornerRadius:l,startAngle:o,endAngle:c,dataKey:d,nameKey:u,tooltipType:m}=s,f=Math.abs(s.minAngle),h=ime(o,c),x=Math.abs(h),p=a.length<=1?0:(t=s.paddingAngle)!==null&&t!==void 0?t:0,b=a.filter(k=>mr(k,d,0)!==0).length,j=(x>=360?b:b-1)*p,v=x-b*f-j,y=a.reduce((k,S)=>{var P=mr(S,d,0);return k+(xt(P)?P:0)},0),w;if(y>0){var N;w=a.map((k,S)=>{var P=mr(k,d,0),_=mr(k,u,S),C=nme(s,i,k),A=(xt(P)?P:0)/y,V,q=Tr(Tr({},k),n&&n[S]&&n[S].props);S?V=N.endAngle+As(h)*p*(P!==0?1:0):V=o;var Z=V+As(h)*((P!==0?f:0)+A*v),ue=(V+Z)/2,me=(C.innerRadius+C.outerRadius)/2,Q=[{name:_,value:P,payload:q,dataKey:d,type:m}],ae=cs(C.cx,C.cy,me,ue);return N=Tr(Tr(Tr(Tr({},s.presentationProps),{},{percent:A,cornerRadius:typeof l=="string"?parseFloat(l):l,name:_,tooltipPayload:Q,midAngle:ue,middleRadius:me,tooltipPosition:ae},q),C),{},{value:P,startAngle:V,endAngle:Z,payload:q,paddingAngle:As(h)*p}),N})}return w}function fme(e){var{showLabels:t,sectors:s,children:a}=e,n=g.useMemo(()=>!t||!s?[]:s.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[s,t]);return g.createElement(Zde,{value:t?n:void 0},a)}function pme(e){var{props:t,previousSectorsRef:s}=e,{sectors:a,isAnimationActive:n,animationBegin:i,animationDuration:l,animationEasing:o,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:m}=t,f=Iu(t,"recharts-pie-"),h=s.current,[x,p]=g.useState(!1),b=g.useCallback(()=>{typeof m=="function"&&m(),p(!1)},[m]),j=g.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return g.createElement(fme,{showLabels:!x,sectors:a},g.createElement(_u,{animationId:f,begin:i,duration:l,isActive:n,easing:o,onAnimationStart:j,onAnimationEnd:b,key:f},v=>{var y=[],w=a&&a[0],N=w==null?void 0:w.startAngle;return a==null||a.forEach((k,S)=>{var P=h&&h[S],_=S>0?Ac(k,"paddingAngle",0):0;if(P){var C=rr(P.endAngle-P.startAngle,k.endAngle-k.startAngle,v),A=Tr(Tr({},k),{},{startAngle:N+_,endAngle:N+C+_});y.push(A),N=A.endAngle}else{var{endAngle:V,startAngle:q}=k,Z=rr(0,V-q,v),ue=Tr(Tr({},k),{},{startAngle:N+_,endAngle:N+Z+_});y.push(ue),N=ue.endAngle}}),s.current=y,g.createElement(Yr,null,g.createElement(mme,{sectors:y,activeShape:c,inactiveShape:d,allOtherPieProps:t}))}),g.createElement(ume,{showLabels:!x,sectors:a,props:t}),t.children)}var xme={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!kl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:es.area};function gme(e){var{id:t}=e,s=J4(e,Yue),{hide:a,className:n,rootTabIndex:i}=e,l=g.useMemo(()=>V4(e.children,vo),[e.children]),o=vt(u=>xue(u,t,l)),c=g.useRef(null),d=Yt("recharts-pie",n);return a||o==null?(c.current=null,g.createElement(Yr,{tabIndex:i,className:d})):g.createElement(Pa,{zIndex:e.zIndex},g.createElement(zy,{fn:rme,args:Tr(Tr({},e),{},{sectors:o})}),g.createElement(Yr,{tabIndex:i,className:d},g.createElement(pme,{props:Tr(Tr({},s),{},{sectors:o}),previousSectorsRef:c})))}function Rh(e){var t=Xr(e,xme),{id:s}=t,a=J4(t,Xue),n=Sa(a);return g.createElement(Vy,{id:s,type:"pie"},i=>g.createElement(g.Fragment,null,g.createElement(Kue,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:n,maxRadius:t.maxRadius}),g.createElement(tme,jo({},a,{id:i})),g.createElement(gme,jo({},a,{id:i}))))}Rh.displayName="Pie";var yme=["points"];function fA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Av(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(s),!0).forEach(function(a){bme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function bme(e,t,s){return(t=vme(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function vme(e){var t=jme(e,"string");return typeof t=="symbol"?t:t+""}function jme(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tx(){return Tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Tx.apply(null,arguments)}function wme(e,t){if(e==null)return{};var s,a,n=Nme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Nme(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Sme(e){var{option:t,dotProps:s,className:a}=e;if(g.isValidElement(t))return g.cloneElement(t,s);if(typeof t=="function")return t(s);var n=Yt(a,typeof t!="boolean"?t.className:""),i=s??{},{points:l}=i,o=wme(i,yme);return g.createElement(fL,Tx({},o,{className:n}))}function kme(e,t){return e==null?!1:t?!0:e.length===1}function SL(e){var{points:t,dot:s,className:a,dotClassName:n,dataKey:i,baseProps:l,needClip:o,clipPathId:c,zIndex:d=es.scatter}=e;if(!kme(t,s))return null;var u=H4(s),m=KQ(s),f=t.map((x,p)=>{var b,j,v=Av(Av(Av({r:3},l),m),{},{index:p,cx:(b=x.x)!==null&&b!==void 0?b:void 0,cy:(j=x.y)!==null&&j!==void 0?j:void 0,dataKey:i,value:x.value,payload:x.payload,points:t});return g.createElement(Sme,{key:"dot-".concat(p),option:s,dotProps:v,className:n})}),h={};return o&&c!=null&&(h.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(c,")")),g.createElement(Pa,{zIndex:d},g.createElement(Yr,Tx({className:a},h),f))}function pA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function xA(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(s),!0).forEach(function(a){Cme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):pA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Cme(e,t,s){return(t=Pme(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Pme(e){var t=Ame(e,"string");return typeof t=="symbol"?t:t+""}function Ame(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tme={xAxis:{},yAxis:{},zAxis:{}},kL=$a({name:"cartesianAxis",initialState:Tme,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:gs()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:gs()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:gs()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:gs()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:gs()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:gs()},updateYAxisWidth(e,t){var{id:s,width:a}=t.payload,n=e.yAxis[s];if(n){var i=n.widthHistory||[];if(i.length===3&&i[0]===i[2]&&a===i[1]&&a!==n.width&&Math.abs(a-i[0])<=1)return;var l=[...i,a].slice(-3);e.yAxis[s]=xA(xA({},e.yAxis[s]),{},{width:a,widthHistory:l})}}}}),{addXAxis:Eme,removeXAxis:_me,addYAxis:Ime,removeYAxis:Ome,addZAxis:i4e,removeZAxis:l4e,updateYAxisWidth:Dme}=kL.actions,Mme=kL.reducer,Lme=pe([vs],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Fme=pe([Lme,Nl,Sl],(e,t,s)=>{if(!(!e||t==null||s==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,s-e.top-e.bottom)}}),Hy=()=>vt(Fme),Rme=()=>vt(Goe);function gA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Tv(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(s),!0).forEach(function(a){Bme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):gA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Bme(e,t,s){return(t=$me(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function $me(e){var t=Ume(e,"string");return typeof t=="symbol"?t:t+""}function Ume(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zme=e=>{var{point:t,childIndex:s,mainColor:a,activeDot:n,dataKey:i}=e;if(n===!1||t.x==null||t.y==null)return null;var l={index:s,dataKey:i,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},o=Tv(Tv(Tv({},l),Pc(n)),oN(n)),c;return g.isValidElement(n)?c=g.cloneElement(n,o):typeof n=="function"?c=n(o):c=g.createElement(fL,o),g.createElement(Yr,{className:"recharts-active-dot"},c)};function ej(e){var{points:t,mainColor:s,activeDot:a,itemDataKey:n,zIndex:i=es.activeDot}=e,l=vt(bo),o=Rme();if(t==null||o==null)return null;var c=t.find(d=>o.includes(d.payload));return kr(c)?null:g.createElement(Pa,{zIndex:i},g.createElement(zme,{point:c,childIndex:Number(l),mainColor:s,dataKey:n,activeDot:a}))}var Vme="Invariant failed";function Hme(e,t){throw new Error(Vme)}var Wme=["x","y"];function tj(){return tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},tj.apply(null,arguments)}function yA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function hm(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(s),!0).forEach(function(a){Gme(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Gme(e,t,s){return(t=Kme(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Kme(e){var t=qme(e,"string");return typeof t=="symbol"?t:t+""}function qme(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yme(e,t){if(e==null)return{};var s,a,n=Xme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Xme(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Jme(e,t){var{x:s,y:a}=e,n=Yme(e,Wme),i="".concat(s),l=parseInt(i,10),o="".concat(a),c=parseInt(o,10),d="".concat(t.height||n.height),u=parseInt(d,10),m="".concat(t.width||n.width),f=parseInt(m,10);return hm(hm(hm(hm(hm({},t),n),l?{x:l}:{}),c?{y:c}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function Ex(e){return g.createElement(W4,tj({shapeType:"rectangle",propTransformer:Jme,activeClassName:"recharts-active-bar"},e))}var Qme=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if(xt(t))return t;var i=xt(a)||kr(a);return i?t(a,n):(i||Hme(),s)}},Zme={},CL=$a({name:"errorBars",initialState:Zme,reducers:{addErrorBar:(e,t)=>{var{itemId:s,errorBar:a}=t.payload;e[s]||(e[s]=[]),e[s].push(a)},replaceErrorBar:(e,t)=>{var{itemId:s,prev:a,next:n}=t.payload;e[s]&&(e[s]=e[s].map(i=>i.dataKey===a.dataKey&&i.direction===a.direction?n:i))},removeErrorBar:(e,t)=>{var{itemId:s,errorBar:a}=t.payload;e[s]&&(e[s]=e[s].filter(n=>n.dataKey!==a.dataKey||n.direction!==a.direction))}}}),{addErrorBar:o4e,replaceErrorBar:c4e,removeErrorBar:d4e}=CL.actions,ehe=CL.reducer,the=["children"];function rhe(e,t){if(e==null)return{};var s,a,n=she(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function she(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var ahe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},nhe=g.createContext(ahe);function PL(e){var{children:t}=e,s=rhe(e,the);return g.createElement(nhe.Provider,{value:s},t)}function Wy(e,t){var s,a,n=vt(d=>Pl(d,e)),i=vt(d=>Al(d,t)),l=(s=n==null?void 0:n.allowDataOverflow)!==null&&s!==void 0?s:Ua.allowDataOverflow,o=(a=i==null?void 0:i.allowDataOverflow)!==null&&a!==void 0?a:za.allowDataOverflow,c=l||o;return{needClip:c,needClipX:l,needClipY:o}}function Q4(e){var{xAxisId:t,yAxisId:s,clipPathId:a}=e,n=Hy(),{needClipX:i,needClipY:l,needClip:o}=Wy(t,s);if(!o||!n)return null;var{x:c,y:d,width:u,height:m}=n;return g.createElement("clipPath",{id:"clipPath-".concat(a)},g.createElement("rect",{x:i?c:c-u/2,y:l?d:d-m/2,width:i?u:u*2,height:l?m:m*2}))}function ihe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Cr(e.zIndex)?e.zIndex:t}var lhe=["onMouseEnter","onMouseLeave","onClick"],ohe=["value","background","tooltipPosition"],che=["id"],dhe=["onMouseEnter","onClick","onMouseLeave"];function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},yl.apply(null,arguments)}function bA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ba(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(s),!0).forEach(function(a){uhe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):bA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function uhe(e,t,s){return(t=mhe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function mhe(e){var t=hhe(e,"string");return typeof t=="symbol"?t:t+""}function hhe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _x(e,t){if(e==null)return{};var s,a,n=fhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function fhe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var phe=e=>{var{dataKey:t,name:s,fill:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:To(s,t),payload:e}]};function xhe(e){var{dataKey:t,stroke:s,strokeWidth:a,fill:n,name:i,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:s,strokeWidth:a,fill:n,dataKey:t,nameKey:void 0,name:To(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function ghe(e){var t=vt(bo),{data:s,dataKey:a,background:n,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:c}=i,d=_x(i,lhe),u=G4(l,a),m=K4(o),f=q4(c,a);if(!n||s==null)return null;var h=Pc(n);return g.createElement(Pa,{zIndex:ihe(n,es.barBackground)},s.map((x,p)=>{var{value:b,background:j,tooltipPosition:v}=x,y=_x(x,ohe);if(!j)return null;var w=u(x,p),N=m(x,p),k=f(x,p),S=ba(ba(ba(ba(ba({option:n,isActive:String(p)===t},y),{},{fill:"#eee"},j),h),o0(d,x,p)),{},{onMouseEnter:w,onMouseLeave:N,onClick:k,dataKey:a,index:p,className:"recharts-bar-background-rectangle"});return g.createElement(Ex,yl({key:"background-bar-".concat(p)},S))}))}function yhe(e){var{showLabels:t,children:s,rects:a}=e,n=a==null?void 0:a.map(i=>{var l={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return ba(ba({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return g.createElement(R4,{value:t?n:void 0},s)}function bhe(e){var{shape:t,activeBar:s,baseProps:a,entry:n,index:i,dataKey:l}=e,o=vt(bo),c=vt($M),d=s&&String(i)===o&&(c==null||l===c),u=d?s:t;return d?g.createElement(Pa,{zIndex:es.activeBar},g.createElement(Ex,yl({},a,{name:String(a.name)},n,{isActive:d,option:u,index:i,dataKey:l}))):g.createElement(Ex,yl({},a,{name:String(a.name)},n,{isActive:d,option:u,index:i,dataKey:l}))}function vhe(e){var{shape:t,baseProps:s,entry:a,index:n,dataKey:i}=e;return g.createElement(Ex,yl({},s,{name:String(s.name)},a,{isActive:!1,option:t,index:n,dataKey:i}))}function jhe(e){var t,{data:s,props:a}=e,n=(t=Sa(a))!==null&&t!==void 0?t:{},{id:i}=n,l=_x(n,che),{shape:o,dataKey:c,activeBar:d}=a,{onMouseEnter:u,onClick:m,onMouseLeave:f}=a,h=_x(a,dhe),x=G4(u,c),p=K4(f),b=q4(m,c);return s?g.createElement(g.Fragment,null,s.map((j,v)=>g.createElement(Yr,yl({key:"rectangle-".concat(j==null?void 0:j.x,"-").concat(j==null?void 0:j.y,"-").concat(j==null?void 0:j.value,"-").concat(v),className:"recharts-bar-rectangle"},o0(h,j,v),{onMouseEnter:x(j,v),onMouseLeave:p(j,v),onClick:b(j,v)}),d?g.createElement(bhe,{shape:o,activeBar:d,baseProps:l,entry:j,index:v,dataKey:c}):g.createElement(vhe,{shape:o,baseProps:l,entry:j,index:v,dataKey:c})))):null}function whe(e){var{props:t,previousRectanglesRef:s}=e,{data:a,layout:n,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,m=s.current,f=Iu(t,"recharts-bar-"),[h,x]=g.useState(!1),p=!h,b=g.useCallback(()=>{typeof d=="function"&&d(),x(!1)},[d]),j=g.useCallback(()=>{typeof u=="function"&&u(),x(!0)},[u]);return g.createElement(yhe,{showLabels:p,rects:a},g.createElement(_u,{animationId:f,begin:l,duration:o,isActive:i,easing:c,onAnimationEnd:b,onAnimationStart:j,key:f},v=>{var y=v===1?a:a==null?void 0:a.map((w,N)=>{var k=m&&m[N];if(k)return ba(ba({},w),{},{x:rr(k.x,w.x,v),y:rr(k.y,w.y,v),width:rr(k.width,w.width,v),height:rr(k.height,w.height,v)});if(n==="horizontal"){var S=rr(0,w.height,v),P=rr(w.stackedBarStart,w.y,v);return ba(ba({},w),{},{y:P,height:S})}var _=rr(0,w.width,v),C=rr(w.stackedBarStart,w.x,v);return ba(ba({},w),{},{width:_,x:C})});return v>0&&(s.current=y??null),y==null?null:g.createElement(Yr,null,g.createElement(jhe,{props:t,data:y}))}),g.createElement(Ty,{label:t.label}),t.children)}function Nhe(e){var t=g.useRef(null);return g.createElement(whe,{previousRectanglesRef:t,props:e})}var AL=0,She=(e,t)=>{var s=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:s,errorVal:mr(e,t)}};class khe extends g.PureComponent{render(){var{hide:t,data:s,dataKey:a,className:n,xAxisId:i,yAxisId:l,needClip:o,background:c,id:d}=this.props;if(t||s==null)return null;var u=Yt("recharts-bar",n),m=d;return g.createElement(Yr,{className:u,id:d},o&&g.createElement("defs",null,g.createElement(Q4,{clipPathId:m,xAxisId:i,yAxisId:l})),g.createElement(Yr,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(m,")"):void 0},g.createElement(ghe,{data:s,dataKey:a,background:c,allOtherBarProps:this.props}),g.createElement(Nhe,this.props)))}}var Che={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!kl.isSsr,legendType:"rect",minPointSize:AL,xAxisId:0,yAxisId:0,zIndex:es.bar};function Phe(e){var{xAxisId:t,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:m}=Wy(t,s),f=Eu(),h=Os(),x=V4(e.children,vo),p=vt(v=>t0e(v,t,s,h,e.id,x));if(f!=="vertical"&&f!=="horizontal")return null;var b,j=p==null?void 0:p[0];return j==null||j.height==null||j.width==null?b=0:b=f==="vertical"?j.height/2:j.width/2,g.createElement(PL,{xAxisId:t,yAxisId:s,data:p,dataPointFormatter:She,errorBarOffset:b},g.createElement(khe,yl({},e,{layout:f,needClip:m,data:p,xAxisId:t,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function Ahe(e){var{layout:t,barSettings:{dataKey:s,minPointSize:a},pos:n,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:m,offset:f,cells:h,parentViewBox:x,dataStartIndex:p}=e,b=t==="horizontal"?o:l,j=u?b.scale.domain():null,v=Xte({numericAxis:b}),y=b.scale(v);return m.map((w,N)=>{var k,S,P,_,C,A;u?k=Wte(u[N+p],j):(k=mr(w,s),Array.isArray(k)||(k=[v,k]));var V=Qme(a,AL)(k[1],N);if(t==="horizontal"){var q,[Z,ue]=[o.scale(k[0]),o.scale(k[1])];S=cC({axis:l,ticks:c,bandSize:i,offset:n.offset,entry:w,index:N}),P=(q=ue??Z)!==null&&q!==void 0?q:void 0,_=n.size;var me=Z-ue;if(C=_n(me)?0:me,A={x:S,y:f.top,width:_,height:f.height},Math.abs(V)>0&&Math.abs(C)<Math.abs(V)){var Q=As(C||V)*(Math.abs(V)-Math.abs(C));P-=Q,C+=Q}}else{var[ae,oe]=[l.scale(k[0]),l.scale(k[1])];if(S=ae,P=cC({axis:o,ticks:d,bandSize:i,offset:n.offset,entry:w,index:N}),_=oe-ae,C=n.size,A={x:f.left,y:P,width:f.width,height:C},Math.abs(V)>0&&Math.abs(_)<Math.abs(V)){var R=As(_||V)*(Math.abs(V)-Math.abs(_));_+=R}}if(S==null||P==null||_==null||C==null)return null;var O=ba(ba({},w),{},{stackedBarStart:y,x:S,y:P,width:_,height:C,value:u?k:k[1],payload:w,background:A,tooltipPosition:{x:S+_/2,y:P+C/2},parentViewBox:x},h&&h[N]&&h[N].props);return O}).filter(Boolean)}function The(e){var t=Xr(e,Che),s=Os();return g.createElement(Vy,{id:t.id,type:"bar"},a=>g.createElement(g.Fragment,null,g.createElement(Y4,{legendPayload:phe(t)}),g.createElement(zy,{fn:xhe,args:t}),g.createElement(X4,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:xD(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:s}),g.createElement(Pa,{zIndex:t.zIndex},g.createElement(Phe,yl({},t,{id:a})))))}var Z4=g.memo(The);Z4.displayName="Bar";function vA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Sf(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(s),!0).forEach(function(a){Ehe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):vA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ehe(e,t,s){return(t=_he(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function _he(e){var t=Ihe(e,"string");return typeof t=="symbol"?t:t+""}function Ihe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ohe=(e,t)=>t,Dhe=(e,t,s)=>s,Mhe=(e,t,s,a)=>a,Lhe=(e,t,s,a,n)=>n,k0=pe([v0,Lhe],(e,t)=>e.filter(s=>s.type==="bar").find(s=>s.id===t)),Fhe=pe([k0],e=>e==null?void 0:e.maxBarSize),Rhe=(e,t,s,a,n,i)=>i,jA=(e,t,s)=>{var a=s??e;if(!kr(a))return ia(a,t,0)},Bhe=pe([zt,v0,Ohe,Dhe,Mhe],(e,t,s,a,n)=>t.filter(i=>e==="horizontal"?i.xAxisId===s:i.yAxisId===a).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),$he=(e,t,s,a)=>{var n=zt(e);return n==="horizontal"?Lh(e,"yAxis",s,a):Lh(e,"xAxis",t,a)},Uhe=(e,t,s)=>{var a=zt(e);return a==="horizontal"?AP(e,"xAxis",t):AP(e,"yAxis",s)},zhe=(e,t,s)=>{var a={},n=e.filter(by),i=e.filter(d=>d.stackId==null),l=n.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),a),o=Object.entries(l).map(d=>{var[u,m]=d,f=m.map(x=>x.dataKey),h=jA(t,s,m[0].barSize);return{stackId:u,dataKeys:f,barSize:h}}),c=i.map(d=>{var u=[d.dataKey].filter(f=>f!=null),m=jA(t,s,d.barSize);return{stackId:void 0,dataKeys:u,barSize:m}});return[...o,...c]},Vhe=pe([Bhe,qie,Uhe],zhe),Hhe=(e,t,s,a,n)=>{var i,l,o=k0(e,t,s,a,n);if(o!=null){var c=zt(e),d=$9(e),{maxBarSize:u}=o,m=kr(u)?d:u,f,h;return c==="horizontal"?(f=_i(e,"xAxis",t,a),h=Ei(e,"xAxis",t,a)):(f=_i(e,"yAxis",s,a),h=Ei(e,"yAxis",s,a)),(i=(l=yo(f,h,!0))!==null&&l!==void 0?l:m)!==null&&i!==void 0?i:0}},TL=(e,t,s,a)=>{var n=zt(e),i,l;return n==="horizontal"?(i=_i(e,"xAxis",t,a),l=Ei(e,"xAxis",t,a)):(i=_i(e,"yAxis",s,a),l=Ei(e,"yAxis",s,a)),yo(i,l)};function Whe(e,t,s,a,n){var i=a.length;if(!(i<1)){var l=ia(e,s,0,!0),o,c=[];if(Cr(a[0].barSize)){var d=!1,u=s/i,m=a.reduce((j,v)=>j+(v.barSize||0),0);m+=(i-1)*l,m>=s&&(m-=(i-1)*l,l=0),m>=s&&u>0&&(d=!0,u*=.9,m=i*u);var f=(s-m)/2>>0,h={offset:f-l,size:0};o=a.reduce((j,v)=>{var y,w={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:h.offset+h.size+l,size:d?u:(y=v.barSize)!==null&&y!==void 0?y:0}},N=[...j,w];return h=N[N.length-1].position,N},c)}else{var x=ia(t,s,0,!0);s-2*x-(i-1)*l<=0&&(l=0);var p=(s-2*x-(i-1)*l)/i;p>1&&(p>>=0);var b=Cr(n)?Math.min(p,n):p;o=a.reduce((j,v,y)=>[...j,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:x+(p+l)*y+(p-b)/2,size:b}}],c)}return o}}var Ghe=(e,t,s,a,n,i,l)=>{var o=kr(l)?t:l,c=Whe(s,a,n!==i?n:i,e,o);return n!==i&&c!=null&&(c=c.map(d=>Sf(Sf({},d),{},{position:Sf(Sf({},d.position),{},{offset:d.position.offset-n/2})}))),c},Khe=pe([Vhe,$9,Kie,U9,Hhe,TL,Fhe],Ghe),qhe=(e,t,s,a)=>_i(e,"xAxis",t,a),Yhe=(e,t,s,a)=>_i(e,"yAxis",s,a),Xhe=(e,t,s,a)=>Ei(e,"xAxis",t,a),Jhe=(e,t,s,a)=>Ei(e,"yAxis",s,a),Qhe=pe([Khe,k0],(e,t)=>{if(!(e==null||t==null)){var s=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(s!=null)return s.position}}),Zhe=(e,t)=>{var s=yy(t);if(!(!e||s==null||t==null)){var{stackId:a}=t;if(a!=null){var n=e[a];if(n){var{stackedData:i}=n;if(i)return i.find(l=>l.key===s)}}}},e0e=pe([$he,k0],Zhe),t0e=pe([vs,CN,qhe,Yhe,Xhe,Jhe,Qhe,zt,x0,TL,e0e,k0,Rhe],(e,t,s,a,n,i,l,o,c,d,u,m,f)=>{var{chartData:h,dataStartIndex:x,dataEndIndex:p}=c;if(!(m==null||l==null||t==null||o!=="horizontal"&&o!=="vertical"||s==null||a==null||n==null||i==null||d==null)){var{data:b}=m,j;if(b!=null&&b.length>0?j=b:j=h==null?void 0:h.slice(x,p+1),j!=null)return Ahe({layout:o,barSettings:m,pos:l,parentViewBox:t,bandSize:d,xAxis:s,yAxis:a,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:j,offset:e,cells:f,dataStartIndex:x})}}),EL=e=>{var{chartData:t}=e,s=vr(),a=Os();return g.useEffect(()=>a?()=>{}:(s($P(t)),()=>{s($P(void 0))}),[t,s,a]),null},wA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_L=$a({name:"brush",initialState:wA,reducers:{setBrushSettings(e,t){return t.payload==null?wA:t.payload}}}),{setBrushSettings:u4e}=_L.actions,r0e=_L.reducer;function s0e(e,t,s){return(t=a0e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function a0e(e){var t=n0e(e,"string");return typeof t=="symbol"?t:t+""}function n0e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class e3{static create(t){return new e3(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:s,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(s){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var s=this.range(),a=s[0],n=s[s.length-1];return a<=n?t>=a&&t<=n:t>=n&&t<=a}}s0e(e3,"EPS",1e-4);function i0e(e){return(e%180+180)%180}var l0e=function(t){var{width:s,height:a}=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=i0e(n),l=i*Math.PI/180,o=Math.atan(a/s),c=l>o&&l<Math.PI-o?a/Math.sin(l):s/Math.cos(l);return Math.abs(c)},o0e={dots:[],areas:[],lines:[]},IL=$a({name:"referenceElements",initialState:o0e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var s=Zi(e).dots.findIndex(a=>a===t.payload);s!==-1&&e.dots.splice(s,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var s=Zi(e).areas.findIndex(a=>a===t.payload);s!==-1&&e.areas.splice(s,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var s=Zi(e).lines.findIndex(a=>a===t.payload);s!==-1&&e.lines.splice(s,1)}}}),{addDot:m4e,removeDot:h4e,addArea:f4e,removeArea:p4e,addLine:x4e,removeLine:g4e}=IL.actions,c0e=IL.reducer,d0e=g.createContext(void 0),u0e=e=>{var{children:t}=e,[s]=g.useState("".concat(Ch("recharts"),"-clip")),a=Hy();if(a==null)return null;var{x:n,y:i,width:l,height:o}=a;return g.createElement(d0e.Provider,{value:s},g.createElement("defs",null,g.createElement("clipPath",{id:s},g.createElement("rect",{x:n,y:i,height:o,width:l}))),t)};function vu(e,t){for(var s in e)if({}.hasOwnProperty.call(e,s)&&(!{}.hasOwnProperty.call(t,s)||e[s]!==t[s]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function OL(e,t){if(t<1)return[];if(t===1)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function m0e(e,t,s){var a={width:e.width+t.width,height:e.height+t.height};return l0e(a,s)}function h0e(e,t,s){var a=s==="width",{x:n,y:i,width:l,height:o}=e;return t===1?{start:a?n:i,end:a?n+l:i+o}:{start:a?n+l:i+o,end:a?n:i}}function Ix(e,t,s,a,n){if(e*t<e*a||e*t>e*n)return!1;var i=s();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-n)<=0}function f0e(e,t){return OL(e,t+1)}function p0e(e,t,s,a,n){for(var i=(a||[]).slice(),{start:l,end:o}=t,c=0,d=1,u=l,m=function(){var x=a==null?void 0:a[c];if(x===void 0)return{v:OL(a,d)};var p=c,b,j=()=>(b===void 0&&(b=s(x,p)),b),v=x.coordinate,y=c===0||Ix(e,v,j,u,o);y||(c=0,u=l,d+=1),y&&(u=v+e*(j()/2+n),c+=d)},f;d<=i.length;)if(f=m(),f)return f.v;return[]}function NA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ea(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(s),!0).forEach(function(a){x0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):NA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function x0e(e,t,s){return(t=g0e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function g0e(e){var t=y0e(e,"string");return typeof t=="symbol"?t:t+""}function y0e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b0e(e,t,s,a,n){for(var i=(a||[]).slice(),l=i.length,{start:o}=t,{end:c}=t,d=function(f){var h=i[f],x,p=()=>(x===void 0&&(x=s(h,f)),x);if(f===l-1){var b=e*(h.coordinate+e*p()/2-c);i[f]=h=ea(ea({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate})}else i[f]=h=ea(ea({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var j=Ix(e,h.tickCoord,p,o,c);j&&(c=h.tickCoord-e*(p()/2+n),i[f]=ea(ea({},h),{},{isShow:!0}))}},u=l-1;u>=0;u--)d(u);return i}function v0e(e,t,s,a,n,i){var l=(a||[]).slice(),o=l.length,{start:c,end:d}=t;if(i){var u=a[o-1],m=s(u,o-1),f=e*(u.coordinate+e*m/2-d);if(l[o-1]=u=ea(ea({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate}),u.tickCoord!=null){var h=Ix(e,u.tickCoord,()=>m,c,d);h&&(d=u.tickCoord-e*(m/2+n),l[o-1]=ea(ea({},u),{},{isShow:!0}))}}for(var x=i?o-1:o,p=function(v){var y=l[v],w,N=()=>(w===void 0&&(w=s(y,v)),w);if(v===0){var k=e*(y.coordinate-e*N()/2-c);l[v]=y=ea(ea({},y),{},{tickCoord:k<0?y.coordinate-k*e:y.coordinate})}else l[v]=y=ea(ea({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var S=Ix(e,y.tickCoord,N,c,d);S&&(c=y.tickCoord+e*(N()/2+n),l[v]=ea(ea({},y),{},{isShow:!0}))}},b=0;b<x;b++)p(b);return l}function t3(e,t,s){var{tick:a,ticks:n,viewBox:i,minTickGap:l,orientation:o,interval:c,tickFormatter:d,unit:u,angle:m}=e;if(!n||!n.length||!a)return[];if(xt(c)||kl.isSsr){var f;return(f=f0e(n,xt(c)?c:0))!==null&&f!==void 0?f:[]}var h=[],x=o==="top"||o==="bottom"?"width":"height",p=u&&x==="width"?Bm(u,{fontSize:t,letterSpacing:s}):{width:0,height:0},b=(y,w)=>{var N=typeof d=="function"?d(y.value,w):y.value;return x==="width"?m0e(Bm(N,{fontSize:t,letterSpacing:s}),p,m):Bm(N,{fontSize:t,letterSpacing:s})[x]},j=n.length>=2?As(n[1].coordinate-n[0].coordinate):1,v=h0e(i,j,x);return c==="equidistantPreserveStart"?p0e(j,v,b,n,l):(c==="preserveStart"||c==="preserveStartEnd"?h=v0e(j,v,b,n,l,c==="preserveStartEnd"):h=b0e(j,v,b,n,l),h.filter(y=>y.isShow))}var j0e=e=>{var{ticks:t,label:s,labelGapWithTick:a=5,tickSize:n=0,tickMargin:i=0}=e,l=0;if(t){Array.from(t).forEach(u=>{if(u){var m=u.getBoundingClientRect();m.width>l&&(l=m.width)}});var o=s?s.getBoundingClientRect().width:0,c=n+i,d=l+c+o+(s?a:0);return Math.round(d)}return 0},w0e=["axisLine","width","height","className","hide","ticks","axisType"],N0e=["viewBox"],S0e=["viewBox"];function rj(e,t){if(e==null)return{};var s,a,n=k0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function k0e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Oc.apply(null,arguments)}function SA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function is(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(s),!0).forEach(function(a){C0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):SA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function C0e(e,t,s){return(t=P0e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function P0e(e){var t=A0e(e,"string");return typeof t=="symbol"?t:t+""}function A0e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r3={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:es.axis};function T0e(e){var{x:t,y:s,width:a,height:n,orientation:i,mirror:l,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var d=is(is(is({},c),Sa(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!l||i==="bottom"&&l);d=is(is({},d),{},{x1:t,y1:s+u*n,x2:t+a,y2:s+u*n})}else{var m=+(i==="left"&&!l||i==="right"&&l);d=is(is({},d),{},{x1:t+m*a,y1:s,x2:t+m*a,y2:s+n})}return g.createElement("line",Oc({},d,{className:Yt("recharts-cartesian-axis-line",Ac(o,"className"))}))}function E0e(e,t,s,a,n,i,l,o,c){var d,u,m,f,h,x,p=o?-1:1,b=e.tickSize||l,j=xt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=u=e.coordinate,f=s+ +!o*n,m=f-p*b,x=m-p*c,h=j;break;case"left":m=f=e.coordinate,u=t+ +!o*a,d=u-p*b,h=d-p*c,x=j;break;case"right":m=f=e.coordinate,u=t+ +o*a,d=u+p*b,h=d+p*c,x=j;break;default:d=u=e.coordinate,f=s+ +o*n,m=f+p*b,x=m+p*c,h=j;break}return{line:{x1:d,y1:m,x2:u,y2:f},tick:{x:h,y:x}}}function _0e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function I0e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function O0e(e){var{option:t,tickProps:s,value:a}=e,n,i=Yt(s.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))n=g.cloneElement(t,is(is({},s),{},{className:i}));else if(typeof t=="function")n=t(is(is({},s),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Yt(l,t==null?void 0:t.className)),n=g.createElement(Ay,Oc({},s,{className:l}),a)}return n}var D0e=g.forwardRef((e,t)=>{var{ticks:s=[],tick:a,tickLine:n,stroke:i,tickFormatter:l,unit:o,padding:c,tickTextProps:d,orientation:u,mirror:m,x:f,y:h,width:x,height:p,tickSize:b,tickMargin:j,fontSize:v,letterSpacing:y,getTicksConfig:w,events:N,axisType:k}=e,S=t3(is(is({},w),{},{ticks:s}),v,y),P=_0e(u,m),_=I0e(u,m),C=Sa(w),A=Pc(a),V={};typeof n=="object"&&(V=n);var q=is(is({},C),{},{fill:"none"},V),Z=S.map(Q=>is({entry:Q},E0e(Q,f,h,x,p,u,b,m,j))),ue=Z.map(Q=>{var{entry:ae,line:oe}=Q;return g.createElement(Yr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ae.value,"-").concat(ae.coordinate,"-").concat(ae.tickCoord)},n&&g.createElement("line",Oc({},q,oe,{className:Yt("recharts-cartesian-axis-tick-line",Ac(n,"className"))})))}),me=Z.map((Q,ae)=>{var{entry:oe,tick:R}=Q,O=is(is(is(is({textAnchor:P,verticalAnchor:_},C),{},{stroke:"none",fill:i},A),R),{},{index:ae,payload:oe,visibleTicksCount:S.length,tickFormatter:l,padding:c},d);return g.createElement(Yr,Oc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},o0(N,oe,ae)),a&&g.createElement(O0e,{option:a,tickProps:O,value:"".concat(typeof l=="function"?l(oe.value,ae):oe.value).concat(o||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},me.length>0&&g.createElement(Pa,{zIndex:es.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:t},me)),ue.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},ue))}),M0e=g.forwardRef((e,t)=>{var{axisLine:s,width:a,height:n,className:i,hide:l,ticks:o,axisType:c}=e,d=rj(e,w0e),[u,m]=g.useState(""),[f,h]=g.useState(""),x=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return j0e({ticks:x.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var p=g.useCallback(b=>{if(b){var j=b.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=j;var v=j[0];if(v){var y=window.getComputedStyle(v),w=y.fontSize,N=y.letterSpacing;(w!==u||N!==f)&&(m(w),h(N))}}},[u,f]);return l||a!=null&&a<=0||n!=null&&n<=0?null:g.createElement(Pa,{zIndex:e.zIndex},g.createElement(Yr,{className:Yt("recharts-cartesian-axis",i)},g.createElement(T0e,{x:e.x,y:e.y,width:a,height:n,orientation:e.orientation,mirror:e.mirror,axisLine:s,otherSvgProps:Sa(e)}),g.createElement(D0e,{ref:p,axisType:c,events:d,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:f,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(Lde,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(Gde,{label:e.label,labelRef:e.labelRef}),e.children)))}),L0e=g.memo(M0e,(e,t)=>{var{viewBox:s}=e,a=rj(e,N0e),{viewBox:n}=t,i=rj(t,S0e);return vu(s,n)&&vu(a,i)}),s3=g.forwardRef((e,t)=>{var s=Xr(e,r3);return g.createElement(L0e,Oc({},s,{ref:t}))});s3.displayName="CartesianAxis";var F0e=["x1","y1","x2","y2","key"],R0e=["offset"],B0e=["xAxisId","yAxisId"],$0e=["xAxisId","yAxisId"];function kA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function ra(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(s),!0).forEach(function(a){U0e(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):kA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function U0e(e,t,s){return(t=z0e(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function z0e(e){var t=V0e(e,"string");return typeof t=="symbol"?t:t+""}function V0e(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ec.apply(null,arguments)}function Ox(e,t){if(e==null)return{};var s,a,n=H0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function H0e(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var W0e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:s,x:a,y:n,width:i,height:l,ry:o}=e;return g.createElement("rect",{x:a,y:n,ry:o,width:i,height:l,stroke:"none",fill:t,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function DL(e){var{option:t,lineItemProps:s}=e,a;if(g.isValidElement(t))a=g.cloneElement(t,s);else if(typeof t=="function")a=t(s);else{var n,{x1:i,y1:l,x2:o,y2:c,key:d}=s,u=Ox(s,F0e),m=(n=Sa(u))!==null&&n!==void 0?n:{},{offset:f}=m,h=Ox(m,R0e);a=g.createElement("line",ec({},h,{x1:i,y1:l,x2:o,y2:c,fill:"none",key:d}))}return a}function G0e(e){var{x:t,width:s,horizontal:a=!0,horizontalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=Ox(e,B0e),c=n.map((d,u)=>{var m=ra(ra({},o),{},{x1:t,y1:d,x2:t+s,y2:d,key:"line-".concat(u),index:u});return g.createElement(DL,{key:"line-".concat(u),option:a,lineItemProps:m})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function K0e(e){var{y:t,height:s,vertical:a=!0,verticalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=e,o=Ox(e,$0e),c=n.map((d,u)=>{var m=ra(ra({},o),{},{x1:d,y1:t,x2:d,y2:t+s,key:"line-".concat(u),index:u});return g.createElement(DL,{option:a,lineItemProps:m,key:"line-".concat(u)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function q0e(e){var{horizontalFill:t,fillOpacity:s,x:a,y:n,width:i,height:l,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length||o==null)return null;var d=o.map(m=>Math.round(m+n-n)).sort((m,f)=>m-f);n!==d[0]&&d.unshift(0);var u=d.map((m,f)=>{var h=!d[f+1],x=h?n+l-m:d[f+1]-m;if(x<=0)return null;var p=f%t.length;return g.createElement("rect",{key:"react-".concat(f),y:m,x:a,height:x,width:i,stroke:"none",fill:t[p],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function Y0e(e){var{vertical:t=!0,verticalFill:s,fillOpacity:a,x:n,y:i,width:l,height:o,verticalPoints:c}=e;if(!t||!s||!s.length)return null;var d=c.map(m=>Math.round(m+n-n)).sort((m,f)=>m-f);n!==d[0]&&d.unshift(0);var u=d.map((m,f)=>{var h=!d[f+1],x=h?n+l-m:d[f+1]-m;if(x<=0)return null;var p=f%s.length;return g.createElement("rect",{key:"react-".concat(f),x:m,y:i,width:x,height:o,stroke:"none",fill:s[p],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var X0e=(e,t)=>{var{xAxis:s,width:a,height:n,offset:i}=e;return fD(t3(ra(ra(ra({},r3),s),{},{ticks:pD(s),viewBox:{x:0,y:0,width:a,height:n}})),i.left,i.left+i.width,t)},J0e=(e,t)=>{var{yAxis:s,width:a,height:n,offset:i}=e;return fD(t3(ra(ra(ra({},r3),s),{},{ticks:pD(s),viewBox:{x:0,y:0,width:a,height:n}})),i.top,i.top+i.height,t)},Q0e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:es.grid};function uc(e){var t=AN(),s=TN(),a=PD(),n=ra(ra({},Xr(e,Q0e)),{},{x:xt(e.x)?e.x:a.left,y:xt(e.y)?e.y:a.top,width:xt(e.width)?e.width:a.width,height:xt(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:l,x:o,y:c,width:d,height:u,syncWithTicks:m,horizontalValues:f,verticalValues:h}=n,x=Os(),p=vt(_=>TP(_,"xAxis",i,x)),b=vt(_=>TP(_,"yAxis",l,x));if(!Ai(d)||!Ai(u)||!xt(o)||!xt(c))return null;var j=n.verticalCoordinatesGenerator||X0e,v=n.horizontalCoordinatesGenerator||J0e,{horizontalPoints:y,verticalPoints:w}=n;if((!y||!y.length)&&typeof v=="function"){var N=f&&f.length,k=v({yAxis:b?ra(ra({},b),{},{ticks:N?f:b.ticks}):void 0,width:t??d,height:s??u,offset:a},N?!0:m);lx(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(y=k)}if((!w||!w.length)&&typeof j=="function"){var S=h&&h.length,P=j({xAxis:p?ra(ra({},p),{},{ticks:S?h:p.ticks}):void 0,width:t??d,height:s??u,offset:a},S?!0:m);lx(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(w=P)}return g.createElement(Pa,{zIndex:n.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(W0e,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),g.createElement(q0e,ec({},n,{horizontalPoints:y})),g.createElement(Y0e,ec({},n,{verticalPoints:w})),g.createElement(G0e,ec({},n,{offset:a,horizontalPoints:y,xAxis:p,yAxis:b})),g.createElement(K0e,ec({},n,{offset:a,verticalPoints:w,xAxis:p,yAxis:b}))))}uc.displayName="CartesianGrid";var ML=(e,t,s,a)=>_i(e,"xAxis",t,a),LL=(e,t,s,a)=>Ei(e,"xAxis",t,a),FL=(e,t,s,a)=>_i(e,"yAxis",s,a),RL=(e,t,s,a)=>Ei(e,"yAxis",s,a),Z0e=pe([zt,ML,FL,LL,RL],(e,t,s,a,n)=>Mi(e,"xAxis")?yo(t,a,!1):yo(s,n,!1)),efe=(e,t,s,a,n)=>n;function tfe(e){return e.type==="line"}var rfe=pe([v0,efe],(e,t)=>e.filter(tfe).find(s=>s.id===t)),sfe=pe([zt,ML,FL,LL,RL,rfe,Z0e,x0],(e,t,s,a,n,i,l,o)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=o;if(!(i==null||t==null||s==null||a==null||n==null||a.length===0||n.length===0||l==null)){var{dataKey:m,data:f}=i,h;if(f!=null&&f.length>0?h=f:h=c==null?void 0:c.slice(d,u+1),h!=null)return Nfe({layout:e,xAxis:t,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataKey:m,bandSize:l,displayedData:h})}});function BL(e){var t=Pc(e),s=3,a=2;if(t!=null){var{r:n,strokeWidth:i}=t,l=Number(n),o=Number(i);return(Number.isNaN(l)||l<0)&&(l=s),(Number.isNaN(o)||o<0)&&(o=a),{r:l,strokeWidth:o}}return{r:s,strokeWidth:a}}var afe=["id"],nfe=["type","layout","connectNulls","needClip","shape"],ife=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Bh.apply(null,arguments)}function CA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function hi(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(s),!0).forEach(function(a){lfe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):CA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function lfe(e,t,s){return(t=ofe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ofe(e){var t=cfe(e,"string");return typeof t=="symbol"?t:t+""}function cfe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a3(e,t){if(e==null)return{};var s,a,n=dfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function dfe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var ufe=e=>{var{dataKey:t,name:s,stroke:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:To(s,t),payload:e}]};function mfe(e){var{dataKey:t,data:s,stroke:a,strokeWidth:n,fill:i,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:To(l,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var $L=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function hfe(e,t){for(var s=e.length%2!==0?[...e,0]:e,a=[],n=0;n<t;++n)a=[...a,...s];return a}var ffe=(e,t,s)=>{var a=s.reduce((m,f)=>m+f);if(!a)return $L(t,e);for(var n=Math.floor(e/a),i=e%a,l=t-e,o=[],c=0,d=0;c<s.length;d+=s[c],++c)if(d+s[c]>i){o=[...s.slice(0,c),i-d];break}var u=o.length%2===0?[0,l]:[l];return[...hfe(s,n),...o,...u].map(m=>"".concat(m,"px")).join(", ")};function pfe(e){var{clipPathId:t,points:s,props:a}=e,{dot:n,dataKey:i,needClip:l}=a,{id:o}=a,c=a3(a,afe),d=Sa(c);return g.createElement(SL,{points:s,dot:n,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:d,needClip:l,clipPathId:t})}function xfe(e){var{showLabels:t,children:s,points:a}=e,n=g.useMemo(()=>a==null?void 0:a.map(i=>{var l,o,c={x:(l=i.x)!==null&&l!==void 0?l:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return hi(hi({},c),{},{value:i.value,payload:i.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[a]);return g.createElement(R4,{value:t?n:void 0},s)}function PA(e){var{clipPathId:t,pathRef:s,points:a,strokeDasharray:n,props:i}=e,{type:l,layout:o,connectNulls:c,needClip:d,shape:u}=i,m=a3(i,nfe),f=hi(hi({},da(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:a,type:l,layout:o,connectNulls:c,strokeDasharray:n??i.strokeDasharray});return g.createElement(g.Fragment,null,(a==null?void 0:a.length)>1&&g.createElement(W4,Bh({shapeType:"curve",option:u},f,{pathRef:s})),g.createElement(pfe,{points:a,clipPathId:t,props:i}))}function gfe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function yfe(e){var{clipPathId:t,props:s,pathRef:a,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:m,animateNewValues:f,width:h,height:x,onAnimationEnd:p,onAnimationStart:b}=s,j=n.current,v=Iu(s,"recharts-line-"),[y,w]=g.useState(!1),N=!y,k=g.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),S=g.useCallback(()=>{typeof b=="function"&&b(),w(!0)},[b]),P=gfe(a.current),_=i.current;return g.createElement(xfe,{points:l,showLabels:N},s.children,g.createElement(_u,{animationId:v,begin:d,duration:u,isActive:c,easing:m,onAnimationEnd:k,onAnimationStart:S,key:v},C=>{var A=rr(_,P+_,C),V=Math.min(A,P),q;if(c)if(o){var Z="".concat(o).split(/[,\s]+/gim).map(Q=>parseFloat(Q));q=ffe(V,P,Z)}else q=$L(P,V);else q=o==null?void 0:String(o);if(j){var ue=j.length/l.length,me=C===1?l:l.map((Q,ae)=>{var oe=Math.floor(ae*ue);if(j[oe]){var R=j[oe];return hi(hi({},Q),{},{x:rr(R.x,Q.x,C),y:rr(R.y,Q.y,C)})}return f?hi(hi({},Q),{},{x:rr(h*2,Q.x,C),y:rr(x/2,Q.y,C)}):hi(hi({},Q),{},{x:Q.x,y:Q.y})});return n.current=me,g.createElement(PA,{props:s,points:me,clipPathId:t,pathRef:a,strokeDasharray:q})}return C>0&&P>0&&(n.current=l,i.current=V),g.createElement(PA,{props:s,points:l,clipPathId:t,pathRef:a,strokeDasharray:q})}),g.createElement(Ty,{label:s.label}))}function bfe(e){var{clipPathId:t,props:s}=e,a=g.useRef(null),n=g.useRef(0),i=g.useRef(null);return g.createElement(yfe,{props:s,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:n,pathRef:i})}var vfe=(e,t)=>{var s,a;return{x:(s=e.x)!==null&&s!==void 0?s:void 0,y:(a=e.y)!==null&&a!==void 0?a:void 0,value:e.value,errorVal:mr(e.payload,t)}};class jfe extends g.Component{render(){var{hide:t,dot:s,points:a,className:n,xAxisId:i,yAxisId:l,top:o,left:c,width:d,height:u,id:m,needClip:f,zIndex:h}=this.props;if(t)return null;var x=Yt("recharts-line",n),p=m,{r:b,strokeWidth:j}=BL(s),v=H4(s),y=b*2+j;return g.createElement(Pa,{zIndex:h},g.createElement(Yr,{className:x},f&&g.createElement("defs",null,g.createElement(Q4,{clipPathId:p,xAxisId:i,yAxisId:l}),!v&&g.createElement("clipPath",{id:"clipPath-dots-".concat(p)},g.createElement("rect",{x:c-y/2,y:o-y/2,width:d+y,height:u+y}))),g.createElement(PL,{xAxisId:i,yAxisId:l,data:a,dataPointFormatter:vfe,errorBarOffset:0},g.createElement(bfe,{props:this.props,clipPathId:p}))),g.createElement(ej,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var UL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!kl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:es.line};function wfe(e){var t=Xr(e,UL),{activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,hide:d,isAnimationActive:u,label:m,legendType:f,xAxisId:h,yAxisId:x,id:p}=t,b=a3(t,ife),{needClip:j}=Wy(h,x),v=Hy(),y=Eu(),w=Os(),N=vt(C=>sfe(C,h,x,w,p));if(y!=="horizontal"&&y!=="vertical"||N==null||v==null)return null;var{height:k,width:S,x:P,y:_}=v;return g.createElement(jfe,Bh({},b,{id:p,connectNulls:o,dot:c,activeDot:s,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:l,isAnimationActive:u,hide:d,label:m,legendType:f,xAxisId:h,yAxisId:x,points:N,layout:y,height:k,width:S,left:P,top:_,needClip:j}))}function Nfe(e){var{layout:t,xAxis:s,yAxis:a,xAxisTicks:n,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:c}=e;return c.map((d,u)=>{var m=mr(d,l);if(t==="horizontal"){var f=ix({axis:s,ticks:n,bandSize:o,entry:d,index:u}),h=kr(m)?null:a.scale(m);return{x:f,y:h,value:m,payload:d}}var x=kr(m)?null:s.scale(m),p=ix({axis:a,ticks:i,bandSize:o,entry:d,index:u});return x==null||p==null?null:{x,y:p,value:m,payload:d}}).filter(Boolean)}function Sfe(e){var t=Xr(e,UL),s=Os();return g.createElement(Vy,{id:t.id,type:"line"},a=>g.createElement(g.Fragment,null,g.createElement(Y4,{legendPayload:ufe(t)}),g.createElement(zy,{fn:mfe,args:t}),g.createElement(X4,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:s}),g.createElement(wfe,Bh({},t,{id:a}))))}var zL=g.memo(Sfe);zL.displayName="Line";var VL=(e,t,s,a)=>_i(e,"xAxis",t,a),HL=(e,t,s,a)=>Ei(e,"xAxis",t,a),WL=(e,t,s,a)=>_i(e,"yAxis",s,a),GL=(e,t,s,a)=>Ei(e,"yAxis",s,a),kfe=pe([zt,VL,WL,HL,GL],(e,t,s,a,n)=>Mi(e,"xAxis")?yo(t,a,!1):yo(s,n,!1)),Cfe=(e,t,s,a,n)=>n,KL=pe([v0,Cfe],(e,t)=>e.filter(s=>s.type==="area").find(s=>s.id===t)),Pfe=(e,t,s,a,n)=>{var i,l=KL(e,t,s,a,n);if(l!=null){var o=zt(e),c=Mi(o,"xAxis"),d;if(c?d=Lh(e,"yAxis",s,a):d=Lh(e,"xAxis",t,a),d!=null){var{stackId:u}=l,m=yy(l);if(!(u==null||m==null)){var f=(i=d[u])===null||i===void 0?void 0:i.stackedData;return f==null?void 0:f.find(h=>h.key===m)}}}},Afe=pe([zt,VL,WL,HL,GL,Pfe,x0,kfe,KL,Yie],(e,t,s,a,n,i,l,o,c,d)=>{var{chartData:u,dataStartIndex:m,dataEndIndex:f}=l;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||s==null||a==null||n==null||a.length===0||n.length===0||o==null)){var{data:h}=c,x;if(h&&h.length>0?x=h:x=u==null?void 0:u.slice(m,f+1),x!=null)return Kfe({layout:e,xAxis:t,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataStartIndex:m,areaSettings:c,stackedData:i,displayedData:x,chartBaseValue:d,bandSize:o})}}),Tfe=["id"],Efe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},mc.apply(null,arguments)}function qL(e,t){if(e==null)return{};var s,a,n=_fe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function _fe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function AA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Id(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(s),!0).forEach(function(a){Ife(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):AA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Ife(e,t,s){return(t=Ofe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ofe(e){var t=Dfe(e,"string");return typeof t=="symbol"?t:t+""}function Dfe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dx(e,t){return e&&e!=="none"?e:t}var Mfe=e=>{var{dataKey:t,name:s,stroke:a,fill:n,legendType:i,hide:l}=e;return[{inactive:l,dataKey:t,type:i,color:Dx(a,n),value:To(s,t),payload:e}]};function Lfe(e){var{dataKey:t,data:s,stroke:a,strokeWidth:n,fill:i,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:To(l,t),hide:o,type:e.tooltipType,color:Dx(a,i),unit:c}}}function Ffe(e){var{clipPathId:t,points:s,props:a}=e,{needClip:n,dot:i,dataKey:l}=a,o=Sa(a);return g.createElement(SL,{points:s,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:o,needClip:n,clipPathId:t})}function Rfe(e){var{showLabels:t,children:s,points:a}=e,n=a.map(i=>{var l,o,c={x:(l=i.x)!==null&&l!==void 0?l:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Id(Id({},c),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return g.createElement(R4,{value:t?n:void 0},s)}function TA(e){var{points:t,baseLine:s,needClip:a,clipPathId:n,props:i}=e,{layout:l,type:o,stroke:c,connectNulls:d,isRange:u}=i,{id:m}=i,f=qL(i,Tfe),h=Sa(f),x=da(f);return g.createElement(g.Fragment,null,(t==null?void 0:t.length)>1&&g.createElement(Yr,{clipPath:a?"url(#clipPath-".concat(n,")"):void 0},g.createElement(Yd,mc({},x,{id:m,points:t,connectNulls:d,type:o,baseLine:s,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&g.createElement(Yd,mc({},h,{className:"recharts-area-curve",layout:l,type:o,connectNulls:d,fill:"none",points:t})),c!=="none"&&u&&g.createElement(Yd,mc({},h,{className:"recharts-area-curve",layout:l,type:o,connectNulls:d,fill:"none",points:s}))),g.createElement(Ffe,{points:t,props:f,clipPathId:n}))}function Bfe(e){var{alpha:t,baseLine:s,points:a,strokeWidth:n}=e,i=a[0].y,l=a[a.length-1].y;if(!Cr(i)||!Cr(l))return null;var o=t*Math.abs(i-l),c=Math.max(...a.map(d=>d.x||0));return xt(s)?c=Math.max(s,c):s&&Array.isArray(s)&&s.length&&(c=Math.max(...s.map(d=>d.x||0),c)),xt(c)?g.createElement("rect",{x:0,y:i<l?i:i-o,width:c+(n?parseInt("".concat(n),10):1),height:Math.floor(o)}):null}function $fe(e){var{alpha:t,baseLine:s,points:a,strokeWidth:n}=e,i=a[0].x,l=a[a.length-1].x;if(!Cr(i)||!Cr(l))return null;var o=t*Math.abs(i-l),c=Math.max(...a.map(d=>d.y||0));return xt(s)?c=Math.max(s,c):s&&Array.isArray(s)&&s.length&&(c=Math.max(...s.map(d=>d.y||0),c)),xt(c)?g.createElement("rect",{x:i<l?i:i-o,y:0,width:o,height:Math.floor(c+(n?parseInt("".concat(n),10):1))}):null}function Ufe(e){var{alpha:t,layout:s,points:a,baseLine:n,strokeWidth:i}=e;return s==="vertical"?g.createElement(Bfe,{alpha:t,points:a,baseLine:n,strokeWidth:i}):g.createElement($fe,{alpha:t,points:a,baseLine:n,strokeWidth:i})}function zfe(e){var{needClip:t,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i}=e,{points:l,baseLine:o,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:m,onAnimationStart:f,onAnimationEnd:h}=a,x=Iu(a,"recharts-area-"),[p,b]=g.useState(!1),j=!p,v=g.useCallback(()=>{typeof h=="function"&&h(),b(!1)},[h]),y=g.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]),w=n.current,N=i.current;return g.createElement(Rfe,{showLabels:j,points:l},a.children,g.createElement(_u,{animationId:x,begin:d,duration:u,isActive:c,easing:m,onAnimationEnd:v,onAnimationStart:y,key:x},k=>{if(w){var S=w.length/l.length,P=k===1?l:l.map((C,A)=>{var V=Math.floor(A*S);if(w[V]){var q=w[V];return Id(Id({},C),{},{x:rr(q.x,C.x,k),y:rr(q.y,C.y,k)})}return C}),_;return xt(o)?_=rr(N,o,k):kr(o)||_n(o)?_=rr(N,0,k):_=o.map((C,A)=>{var V=Math.floor(A*S);if(Array.isArray(N)&&N[V]){var q=N[V];return Id(Id({},C),{},{x:rr(q.x,C.x,k),y:rr(q.y,C.y,k)})}return C}),k>0&&(n.current=P,i.current=_),g.createElement(TA,{points:P,baseLine:_,needClip:t,clipPathId:s,props:a})}return k>0&&(n.current=l,i.current=o),g.createElement(Yr,null,c&&g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(s)},g.createElement(Ufe,{alpha:k,points:l,baseLine:o,layout:a.layout,strokeWidth:a.strokeWidth}))),g.createElement(Yr,{clipPath:"url(#animationClipPath-".concat(s,")")},g.createElement(TA,{points:l,baseLine:o,needClip:t,clipPathId:s,props:a})))}),g.createElement(Ty,{label:a.label}))}function Vfe(e){var{needClip:t,clipPathId:s,props:a}=e,n=g.useRef(null),i=g.useRef();return g.createElement(zfe,{needClip:t,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i})}class Hfe extends g.PureComponent{render(){var{hide:t,dot:s,points:a,className:n,top:i,left:l,needClip:o,xAxisId:c,yAxisId:d,width:u,height:m,id:f,baseLine:h,zIndex:x}=this.props;if(t)return null;var p=Yt("recharts-area",n),b=f,{r:j,strokeWidth:v}=BL(s),y=H4(s),w=j*2+v;return g.createElement(Pa,{zIndex:x},g.createElement(Yr,{className:p},o&&g.createElement("defs",null,g.createElement(Q4,{clipPathId:b,xAxisId:c,yAxisId:d}),!y&&g.createElement("clipPath",{id:"clipPath-dots-".concat(b)},g.createElement("rect",{x:l-w/2,y:i-w/2,width:u+w,height:m+w}))),g.createElement(Vfe,{needClip:o,clipPathId:b,props:this.props})),g.createElement(ej,{points:a,mainColor:Dx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(h)&&g.createElement(ej,{points:h,mainColor:Dx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var YL={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!kl.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0,zIndex:es.area};function Wfe(e){var t,s=Xr(e,YL),{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,fill:d,fillOpacity:u,hide:m,isAnimationActive:f,legendType:h,stroke:x,xAxisId:p,yAxisId:b}=s,j=qL(s,Efe),v=Eu(),y=VM(),{needClip:w}=Wy(p,b),N=Os(),{points:k,isRange:S,baseLine:P}=(t=vt(Z=>Afe(Z,p,b,N,e.id)))!==null&&t!==void 0?t:{},_=Hy();if(v!=="horizontal"&&v!=="vertical"||_==null||y!=="AreaChart"&&y!=="ComposedChart")return null;var{height:C,width:A,x:V,y:q}=_;return!k||!k.length?null:g.createElement(Hfe,mc({},j,{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:l,baseLine:P,connectNulls:o,dot:c,fill:d,fillOpacity:u,height:C,hide:m,layout:v,isAnimationActive:f,isRange:S,legendType:h,needClip:w,points:k,stroke:x,width:A,left:V,top:q,xAxisId:p,yAxisId:b}))}var Gfe=(e,t,s,a,n)=>{var i=s??t;if(xt(i))return i;var l=e==="horizontal"?n:a,o=l.scale.domain();if(l.type==="number"){var c=Math.max(o[0],o[1]),d=Math.min(o[0],o[1]);return i==="dataMin"?d:i==="dataMax"||c<0?c:Math.max(Math.min(o[0],o[1]),0)}return i==="dataMin"?o[0]:i==="dataMax"?o[1]:o[0]};function Kfe(e){var{areaSettings:{connectNulls:t,baseValue:s,dataKey:a},stackedData:n,layout:i,chartBaseValue:l,xAxis:o,yAxis:c,displayedData:d,dataStartIndex:u,xAxisTicks:m,yAxisTicks:f,bandSize:h}=e,x=n&&n.length,p=Gfe(i,l,s,o,c),b=i==="horizontal",j=!1,v=d.map((w,N)=>{var k;x?k=n[u+N]:(k=mr(w,a),Array.isArray(k)?j=!0:k=[p,k]);var S=k[1]==null||x&&!t&&mr(w,a)==null;return b?{x:ix({axis:o,ticks:m,bandSize:h,entry:w,index:N}),y:S?null:c.scale(k[1]),value:k,payload:w}:{x:S?null:o.scale(k[1]),y:ix({axis:c,ticks:f,bandSize:h,entry:w,index:N}),value:k,payload:w}}),y;return x||j?y=v.map(w=>{var N=Array.isArray(w.value)?w.value[0]:null;return b?{x:w.x,y:N!=null&&w.y!=null?c.scale(N):null,payload:w.payload}:{x:N!=null?o.scale(N):null,y:w.y,payload:w.payload}}):y=b?c.scale(p):o.scale(p),{points:v,baseLine:y,isRange:j}}function qfe(e){var t=Xr(e,YL),s=Os();return g.createElement(Vy,{id:t.id,type:"area"},a=>g.createElement(g.Fragment,null,g.createElement(Y4,{legendPayload:Mfe(t)}),g.createElement(zy,{fn:Lfe,args:t}),g.createElement(X4,{type:"area",id:a,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:xD(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:s,connectNulls:t.connectNulls}),g.createElement(Wfe,mc({},t,{id:a}))))}var $h=g.memo(qfe);$h.displayName="Area";var Yfe=["dangerouslySetInnerHTML","ticks"],Xfe=["id"],Jfe=["domain"],Qfe=["domain"];function sj(){return sj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},sj.apply(null,arguments)}function Mx(e,t){if(e==null)return{};var s,a,n=Zfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Zfe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function epe(e){var t=vr();return g.useLayoutEffect(()=>(t(Eme(e)),()=>{t(_me(e))}),[e,t]),null}var tpe=e=>{var{xAxisId:t,className:s}=e,a=vt(CN),n=Os(),i="xAxis",l=vt(b=>Bu(b,i,t,n)),o=vt(b=>bM(b,i,t,n)),c=vt(b=>pM(b,t)),d=vt(b=>Gle(b,t)),u=vt(b=>Y9(b,t));if(c==null||d==null||u==null)return null;var{dangerouslySetInnerHTML:m,ticks:f}=e,h=Mx(e,Yfe),{id:x}=u,p=Mx(u,Xfe);return g.createElement(s3,sj({},h,p,{scale:l,x:d.x,y:d.y,width:c.width,height:c.height,className:Yt("recharts-".concat(i," ").concat(i),s),viewBox:a,ticks:o,axisType:i}))},rpe={allowDataOverflow:Ua.allowDataOverflow,allowDecimals:Ua.allowDecimals,allowDuplicatedCategory:Ua.allowDuplicatedCategory,height:Ua.height,hide:!1,mirror:Ua.mirror,orientation:Ua.orientation,padding:Ua.padding,reversed:Ua.reversed,scale:Ua.scale,tickCount:Ua.tickCount,type:Ua.type,xAxisId:0},spe=e=>{var t,s,a,n,i,l=Xr(e,rpe);return g.createElement(g.Fragment,null,g.createElement(epe,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(s=l.includeHidden)!==null&&s!==void 0?s:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(a=l.angle)!==null&&a!==void 0?a:0,minTickGap:(n=l.minTickGap)!==null&&n!==void 0?n:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),g.createElement(tpe,l))},ape=(e,t)=>{var{domain:s}=e,a=Mx(e,Jfe),{domain:n}=t,i=Mx(t,Qfe);return vu(a,i)?Array.isArray(s)&&s.length===2&&Array.isArray(n)&&n.length===2?s[0]===n[0]&&s[1]===n[1]:vu({domain:s},{domain:n}):!1},hc=g.memo(spe,ape);hc.displayName="XAxis";var npe=["dangerouslySetInnerHTML","ticks"],ipe=["id"],lpe=["domain"],ope=["domain"];function aj(){return aj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},aj.apply(null,arguments)}function Lx(e,t){if(e==null)return{};var s,a,n=cpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function cpe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function dpe(e){var t=vr();return g.useLayoutEffect(()=>(t(Ime(e)),()=>{t(Ome(e))}),[e,t]),null}var upe=e=>{var{yAxisId:t,className:s,width:a,label:n}=e,i=g.useRef(null),l=g.useRef(null),o=vt(CN),c=Os(),d=vr(),u="yAxis",m=vt(N=>Bu(N,u,t,c)),f=vt(N=>xM(N,t)),h=vt(N=>qle(N,t)),x=vt(N=>bM(N,u,t,c)),p=vt(N=>X9(N,t));if(g.useLayoutEffect(()=>{if(!(a!=="auto"||!f||F4(n)||g.isValidElement(n)||p==null)){var N=i.current;if(N){var k=N.getCalculatedWidth();Math.round(f.width)!==Math.round(k)&&d(Dme({id:t,width:k}))}}},[x,f,d,n,t,a,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:b,ticks:j}=e,v=Lx(e,npe),{id:y}=p,w=Lx(p,ipe);return g.createElement(s3,aj({},v,w,{ref:i,labelRef:l,scale:m,x:h.x,y:h.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:f.width,height:f.height,className:Yt("recharts-".concat(u," ").concat(u),s),viewBox:o,ticks:x,axisType:u}))},mpe={allowDataOverflow:za.allowDataOverflow,allowDecimals:za.allowDecimals,allowDuplicatedCategory:za.allowDuplicatedCategory,hide:!1,mirror:za.mirror,orientation:za.orientation,padding:za.padding,reversed:za.reversed,scale:za.scale,tickCount:za.tickCount,type:za.type,width:za.width,yAxisId:0},hpe=e=>{var t,s,a,n,i,l=Xr(e,mpe);return g.createElement(g.Fragment,null,g.createElement(dpe,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(s=l.includeHidden)!==null&&s!==void 0?s:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(a=l.angle)!==null&&a!==void 0?a:0,minTickGap:(n=l.minTickGap)!==null&&n!==void 0?n:5,tick:(i=l.tick)!==null&&i!==void 0?i:!0,tickFormatter:l.tickFormatter}),g.createElement(upe,l))},fpe=(e,t)=>{var{domain:s}=e,a=Lx(e,lpe),{domain:n}=t,i=Lx(t,ope);return vu(a,i)?Array.isArray(s)&&s.length===2&&Array.isArray(n)&&n.length===2?s[0]===n[0]&&s[1]===n[1]:vu({domain:s},{domain:n}):!1},fc=g.memo(hpe,fpe);fc.displayName="YAxis";var ppe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0=g;function xpe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gpe=typeof Object.is=="function"?Object.is:xpe,ype=C0.useSyncExternalStore,bpe=C0.useRef,vpe=C0.useEffect,jpe=C0.useMemo,wpe=C0.useDebugValue;ppe.useSyncExternalStoreWithSelector=function(e,t,s,a,n){var i=bpe(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=jpe(function(){function c(h){if(!d){if(d=!0,u=h,h=a(h),n!==void 0&&l.hasValue){var x=l.value;if(n(x,h))return m=x}return m=h}if(x=m,gpe(u,h))return x;var p=a(h);return n!==void 0&&n(x,p)?(u=h,x):(u=h,m=p)}var d=!1,u,m,f=s===void 0?null:s;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,s,a,n]);var o=ype(e,i[0],i[1]);return vpe(function(){l.hasValue=!0,l.value=o},[o]),wpe(o),o};function Npe(e){e()}function Spe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Npe(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){const s=[];let a=e;for(;a;)s.push(a),a=a.next;return s},subscribe(s){let a=!0;const n=t={callback:s,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){!a||e===null||(a=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var EA={notify(){},get:()=>[]};function kpe(e,t){let s,a=EA,n=0,i=!1;function l(p){u();const b=a.subscribe(p);let j=!1;return()=>{j||(j=!0,b(),m())}}function o(){a.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return i}function u(){n++,s||(s=e.subscribe(c),a=Spe())}function m(){n--,s&&n===0&&(s(),s=void 0,a.clear(),a=EA)}function f(){i||(i=!0,u())}function h(){i&&(i=!1,m())}const x={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:d,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>a};return x}var Cpe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ppe=Cpe(),Ape=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Tpe=Ape(),Epe=()=>Ppe||Tpe?g.useLayoutEffect:g.useEffect,_pe=Epe(),Ev=Symbol.for("react-redux-context"),_v=typeof globalThis<"u"?globalThis:{};function Ipe(){if(!g.createContext)return{};const e=_v[Ev]??(_v[Ev]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var Ope=Ipe();function Dpe(e){const{children:t,context:s,serverState:a,store:n}=e,i=g.useMemo(()=>{const c=kpe(n);return{store:n,subscription:c,getServerState:a?()=>a:void 0}},[n,a]),l=g.useMemo(()=>n.getState(),[n]);_pe(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==n.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=s||Ope;return g.createElement(o.Provider,{value:i},t)}var Mpe=Dpe,Lpe=(e,t)=>t,n3=pe([Lpe,zt,K9,ws,LM,Tl,ace,vs],uce),i3=e=>{var t=e.currentTarget.getBoundingClientRect(),s=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/s),chartY:Math.round((e.clientY-t.top)/a)}},XL=In("mouseClick"),JL=d0();JL.startListening({actionCreator:XL,effect:(e,t)=>{var s=e.payload,a=n3(t.getState(),i3(s));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(loe({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var nj=In("mouseMove"),QL=d0();QL.startListening({actionCreator:nj,effect:(e,t)=>{var s=e.payload,a=t.getState(),n=A4(a,a.tooltip.settings.shared),i=n3(a,i3(s));n==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(PM({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(CM()))}});var _A={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},ZL=$a({name:"rootProps",initialState:_A,reducers:{updateOptions:(e,t)=>{var s;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(s=t.payload.barGap)!==null&&s!==void 0?s:_A.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue}}}),Fpe=ZL.reducer,{updateOptions:Rpe}=ZL.actions,eF=$a({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Bpe}=eF.actions,$pe=eF.reducer,tF=In("keyDown"),rF=In("focus"),l3=d0();l3.startListening({actionCreator:tF,effect:(e,t)=>{var s=t.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(T4(n,Uu(s))),o=Tl(s);if(i==="Enter"){var c=kx(s,"axis","hover",String(n.index));t.dispatch(q2({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:c}));return}var d=Qle(s),u=d==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,f=l+m*u;if(!(o==null||f>=o.length||f<0)){var h=kx(s,"axis","hover",String(f));t.dispatch(q2({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});l3.startListening({actionCreator:rF,effect:(e,t)=>{var s=t.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip;if(!n.active&&n.index==null){var i="0",l=kx(s,"axis","hover",String(i));t.dispatch(q2({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var xn=In("externalEvent"),sF=d0();sF.startListening({actionCreator:xn,effect:(e,t)=>{if(e.payload.handler!=null){var s=t.getState(),a={activeCoordinate:Voe(s),activeDataKey:$M(s),activeIndex:bo(s),activeLabel:BM(s),activeTooltipIndex:bo(s),isTooltipActive:Hoe(s)};e.payload.handler(a,e.payload.reactEvent)}}});var Upe=pe([$u],e=>e.tooltipItemPayloads),zpe=pe([Upe,N0,(e,t,s)=>t,(e,t,s)=>s],(e,t,s,a)=>{var n=e.find(o=>o.settings.dataKey===a);if(n!=null){var{positions:i}=n;if(i!=null){var l=t(i,s);return l}}}),aF=In("touchMove"),nF=d0();nF.startListening({actionCreator:aF,effect:(e,t)=>{var s=e.payload;if(!(s.touches==null||s.touches.length===0)){var a=t.getState(),n=A4(a,a.tooltip.settings.shared);if(n==="axis"){var i=n3(a,i3({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,currentTarget:s.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(PM({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var l,o=s.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(yD),u=(l=c.getAttribute(bD))!==null&&l!==void 0?l:void 0,m=zpe(t.getState(),d,u);t.dispatch(kM({activeDataKey:u,activeIndex:d,activeCoordinate:m}))}}}});var Vpe=z7({brush:r0e,cartesianAxis:Mme,chartData:Uce,errorBars:ehe,graphicalItems:Gue,layout:Bte,legend:_re,options:Lce,polarAxis:cue,polarOptions:$pe,referenceElements:c0e,rootProps:Fpe,tooltip:ooe,zIndex:kce}),Hpe=function(t){return dte({reducer:Vpe,preloadedState:t,middleware:s=>s({serializableCheck:!1}).concat([JL.middleware,QL.middleware,l3.middleware,sF.middleware,nF.middleware]),enhancers:s=>{var a=s;return typeof s=="function"&&(a=s()),a.concat(eD({type:"raf"}))},devTools:kl.devToolsEnabled})};function iF(e){var{preloadedState:t,children:s,reduxStoreName:a}=e,n=Os(),i=g.useRef(null);if(n)return s;i.current==null&&(i.current=Hpe(t));var l=yN;return g.createElement(Mpe,{context:l,store:i.current},s)}function lF(e){var{layout:t,margin:s}=e,a=vr(),n=Os();return g.useEffect(()=>{n||(a(Lte(t)),a(Mte(s)))},[a,n,t,s]),null}function oF(e){var t=vr();return g.useEffect(()=>{t(Rpe(e))},[t,e]),null}function IA(e){var{zIndex:t,isPanorama:s}=e,a=s?"recharts-zindex-panorama-":"recharts-zindex-",n=wL("".concat(a).concat(t)),i=vr();return g.useLayoutEffect(()=>(i(Nce({zIndex:t,elementId:n,isPanorama:s})),()=>{i(Sce({zIndex:t,isPanorama:s}))}),[i,t,n,s]),g.createElement("g",{id:n})}function OA(e){var{children:t,isPanorama:s}=e,a=vt(hce);if(!a||a.length===0)return t;var n=a.filter(l=>l<0),i=a.filter(l=>l>0);return g.createElement(g.Fragment,null,n.map(l=>g.createElement(IA,{key:l,zIndex:l,isPanorama:s})),t,i.map(l=>g.createElement(IA,{key:l,zIndex:l,isPanorama:s})))}var Wpe=["children"];function Gpe(e,t){if(e==null)return{};var s,a,n=Kpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Kpe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Fx.apply(null,arguments)}var qpe={width:"100%",height:"100%",display:"block"},Ype=g.forwardRef((e,t)=>{var s=AN(),a=TN(),n=_D();if(!Ai(s)||!Ai(a))return null;var{children:i,otherAttributes:l,title:o,desc:c}=e,d,u;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=n?0:void 0,typeof l.role=="string"?u=l.role:u=n?"application":void 0),g.createElement(rN,Fx({},l,{title:o,desc:c,role:u,tabIndex:d,width:s,height:a,style:qpe,ref:t}),i)}),Xpe=e=>{var{children:t}=e,s=vt(iy);if(!s)return null;var{width:a,height:n,y:i,x:l}=s;return g.createElement(rN,{width:a,height:n,x:l,y:i},t)},DA=g.forwardRef((e,t)=>{var{children:s}=e,a=Gpe(e,Wpe),n=Os();return n?g.createElement(Xpe,null,g.createElement(OA,{isPanorama:!0},s)):g.createElement(Ype,Fx({ref:t},a),g.createElement(OA,{isPanorama:!1},s))});function Jpe(){var e=vr(),[t,s]=g.useState(null),a=vt(rre);return g.useEffect(()=>{if(t!=null){var n=t.getBoundingClientRect(),i=n.width/t.offsetWidth;Cr(i)&&i!==a&&e(Rte(i))}},[t,e,a]),s}function MA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,a)}return s}function Qpe(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(s),!0).forEach(function(a){Zpe(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):MA(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function Zpe(e,t,s){return(t=exe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function exe(e){var t=txe(e,"string");return typeof t=="symbol"?t:t+""}function txe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Dc.apply(null,arguments)}var rxe=()=>(Xce(),null);function Rx(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var sxe=g.forwardRef((e,t)=>{var s,a,n=g.useRef(null),[i,l]=g.useState({containerWidth:Rx((s=e.style)===null||s===void 0?void 0:s.width),containerHeight:Rx((a=e.style)===null||a===void 0?void 0:a.height)}),o=g.useCallback((d,u)=>{l(m=>{var f=Math.round(d),h=Math.round(u);return m.containerWidth===f&&m.containerHeight===h?m:{containerWidth:f,containerHeight:h}})},[]),c=g.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:u,height:m}=d.getBoundingClientRect();o(u,m);var f=x=>{var{width:p,height:b}=x[0].contentRect;o(p,b)},h=new ResizeObserver(f);h.observe(d),n.current=h}},[t,o]);return g.useEffect(()=>()=>{var d=n.current;d!=null&&d.disconnect()},[o]),g.createElement(g.Fragment,null,g.createElement(oy,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",Dc({ref:c},e)))}),axe=g.forwardRef((e,t)=>{var{width:s,height:a}=e,[n,i]=g.useState({containerWidth:Rx(s),containerHeight:Rx(a)}),l=g.useCallback((c,d)=>{i(u=>{var m=Math.round(c),f=Math.round(d);return u.containerWidth===m&&u.containerHeight===f?u:{containerWidth:m,containerHeight:f}})},[]),o=g.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:d,height:u}=c.getBoundingClientRect();l(d,u)}},[t,l]);return g.createElement(g.Fragment,null,g.createElement(oy,{width:n.containerWidth,height:n.containerHeight}),g.createElement("div",Dc({ref:o},e)))}),nxe=g.forwardRef((e,t)=>{var{width:s,height:a}=e;return g.createElement(g.Fragment,null,g.createElement(oy,{width:s,height:a}),g.createElement("div",Dc({ref:t},e)))}),ixe=g.forwardRef((e,t)=>{var{width:s,height:a}=e;return ml(s)||ml(a)?g.createElement(axe,Dc({},e,{ref:t})):g.createElement(nxe,Dc({},e,{ref:t}))});function lxe(e){return e===!0?sxe:ixe}var oxe=g.forwardRef((e,t)=>{var{children:s,className:a,height:n,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:m,onMouseUp:f,onTouchEnd:h,onTouchMove:x,onTouchStart:p,style:b,width:j,responsive:v,dispatchTouchEvents:y=!0}=e,w=g.useRef(null),N=vr(),[k,S]=g.useState(null),[P,_]=g.useState(null),C=Jpe(),A=PN(),V=(A==null?void 0:A.width)>0?A.width:j,q=(A==null?void 0:A.height)>0?A.height:n,Z=g.useCallback(z=>{C(z),typeof t=="function"&&t(z),S(z),_(z),z!=null&&(w.current=z)},[C,t,S,_]),ue=g.useCallback(z=>{N(XL(z)),N(xn({handler:i,reactEvent:z}))},[N,i]),me=g.useCallback(z=>{N(nj(z)),N(xn({handler:d,reactEvent:z}))},[N,d]),Q=g.useCallback(z=>{N(CM()),N(xn({handler:u,reactEvent:z}))},[N,u]),ae=g.useCallback(z=>{N(nj(z)),N(xn({handler:m,reactEvent:z}))},[N,m]),oe=g.useCallback(()=>{N(rF())},[N]),R=g.useCallback(z=>{N(tF(z.key))},[N]),O=g.useCallback(z=>{N(xn({handler:l,reactEvent:z}))},[N,l]),I=g.useCallback(z=>{N(xn({handler:o,reactEvent:z}))},[N,o]),X=g.useCallback(z=>{N(xn({handler:c,reactEvent:z}))},[N,c]),W=g.useCallback(z=>{N(xn({handler:f,reactEvent:z}))},[N,f]),T=g.useCallback(z=>{N(xn({handler:p,reactEvent:z}))},[N,p]),L=g.useCallback(z=>{y&&N(aF(z)),N(xn({handler:x,reactEvent:z}))},[N,y,x]),D=g.useCallback(z=>{N(xn({handler:h,reactEvent:z}))},[N,h]),M=lxe(v);return g.createElement(YM.Provider,{value:k},g.createElement(zO.Provider,{value:P},g.createElement(M,{width:V??(b==null?void 0:b.width),height:q??(b==null?void 0:b.height),className:Yt("recharts-wrapper",a),style:Qpe({position:"relative",cursor:"default",width:V,height:q},b),onClick:ue,onContextMenu:O,onDoubleClick:I,onFocus:oe,onKeyDown:R,onMouseDown:X,onMouseEnter:me,onMouseLeave:Q,onMouseMove:ae,onMouseUp:W,onTouchEnd:D,onTouchMove:L,onTouchStart:T,ref:Z},g.createElement(rxe,null),s)))}),cxe=["width","height","responsive","children","className","style","compact","title","desc"];function dxe(e,t){if(e==null)return{};var s,a,n=uxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function uxe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var cF=g.forwardRef((e,t)=>{var{width:s,height:a,responsive:n,children:i,className:l,style:o,compact:c,title:d,desc:u}=e,m=dxe(e,cxe),f=Sa(m);return c?g.createElement(g.Fragment,null,g.createElement(oy,{width:s,height:a}),g.createElement(DA,{otherAttributes:f,title:d,desc:u},i)):g.createElement(oxe,{className:l,style:o,width:s,height:a,responsive:n??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(DA,{otherAttributes:f,title:d,desc:u,ref:t},g.createElement(u0e,null,i)))});function ij(){return ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ij.apply(null,arguments)}var mxe={top:5,right:5,bottom:5,left:5},hxe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:mxe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},o3=g.forwardRef(function(t,s){var a,n=Xr(t.categoricalChartProps,hxe),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:d}=t,u={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return g.createElement(iF,{preloadedState:{options:u},reduxStoreName:(a=d.id)!==null&&a!==void 0?a:i},g.createElement(EL,{chartData:d.data}),g.createElement(lF,{layout:n.layout,margin:n.margin}),g.createElement(oF,{baseValue:n.baseValue,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),g.createElement(cF,ij({},n,{ref:s})))}),fxe=["axis"],pxe=g.forwardRef((e,t)=>g.createElement(o3,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fxe,tooltipPayloadSearcher:Py,categoricalChartProps:e,ref:t})),xxe=["axis","item"],dF=g.forwardRef((e,t)=>g.createElement(o3,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xxe,tooltipPayloadSearcher:Py,categoricalChartProps:e,ref:t}));function gxe(e){var t=vr();return g.useEffect(()=>{t(Bpe(e))},[t,e]),null}var yxe=["layout"];function lj(){return lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},lj.apply(null,arguments)}function bxe(e,t){if(e==null)return{};var s,a,n=vxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function vxe(e,t){if(e==null)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;s[a]=e[a]}return s}var jxe={top:5,right:5,bottom:5,left:5},wxe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:jxe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Nxe=g.forwardRef(function(t,s){var a,n=Xr(t.categoricalChartProps,wxe),{layout:i}=n,l=bxe(n,yxe),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u}=t,m={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u,eventEmitter:void 0};return g.createElement(iF,{preloadedState:{options:m},reduxStoreName:(a=n.id)!==null&&a!==void 0?a:o},g.createElement(EL,{chartData:n.data}),g.createElement(lF,{layout:i,margin:n.margin}),g.createElement(oF,{baseValue:void 0,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),g.createElement(gxe,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),g.createElement(cF,lj({},l,{ref:s})))}),Sxe=["item"],kxe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Bx=g.forwardRef((e,t)=>{var s=Xr(e,kxe);return g.createElement(Nxe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Sxe,tooltipPayloadSearcher:Py,categoricalChartProps:s,ref:t})}),Cxe=["axis"],c3=g.forwardRef((e,t)=>g.createElement(o3,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Cxe,tooltipPayloadSearcher:Py,categoricalChartProps:e,ref:t}));const Pxe=[{title:"Review pending KYC",to:"/admin/partners",icon:ni,color:"from-amber-500 to-orange-500",bgColor:"bg-amber-50",iconColor:"text-amber-600",description:"Verify partner documents"},{title:"Monitor live bookings",to:"/admin/bookings",icon:Bs,color:"from-blue-500 to-cyan-500",bgColor:"bg-blue-50",iconColor:"text-blue-600",description:"Track active orders"},{title:"Update spare inventory",to:"/admin/spares",icon:Is,color:"from-purple-500 to-pink-500",bgColor:"bg-purple-50",iconColor:"text-purple-600",description:"Manage stock levels"},{title:"Check AMC renewals",to:"/admin/amc",icon:Gt,color:"from-emerald-500 to-teal-500",bgColor:"bg-emerald-50",iconColor:"text-emerald-600",description:"Review contracts"},{title:"Optimize lead allocation",to:"/admin/leads",icon:ur,color:"from-indigo-500 to-blue-500",bgColor:"bg-indigo-50",iconColor:"text-indigo-600",description:"Assign leads efficiently"},{title:"Send broadcast notification",to:"/admin/notifications",icon:ki,color:"from-rose-500 to-pink-500",bgColor:"bg-rose-50",iconColor:"text-rose-600",description:"Notify all users"}],kf=({icon:e,title:t,description:s,iconColor:a="text-slate-400",bgColor:n="bg-slate-50"})=>r.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] py-8",children:[r.jsxs("div",{className:`w-20 h-20 ${n} rounded-full flex items-center justify-center mb-4 relative`,children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-100 to-slate-200 rounded-full opacity-50"}),r.jsx(e,{className:`${a} text-3xl relative z-10`})]}),r.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:t}),r.jsx("p",{className:"text-sm text-slate-500 text-center max-w-xs",children:s})]}),Axe=()=>{var S,P,_,C,A,V,q,Z,ue,me,Q,ae,oe,R,O,I,X,W,T,L,D,M,z,se;const{data:e,isLoading:t,error:s}=Bt(ne=>Fe.fetchDashboard(ne),[]),{data:a,isLoading:n,error:i}=Bt(ne=>Fe.fetchDashboardCounts(ne),[]),{data:l}=Bt(ne=>Fe.fetchPartnerRevenueStats(ne),[]),[o,c]=g.useState({monthlyBookings:[],monthlyRevenue:[],bookingStatusDistribution:[],partnerStatusDistribution:[],kycStatusDistribution:[]}),d=((S=a==null?void 0:a.data)==null?void 0:S.counts)||(a==null?void 0:a.counts)||{},u=((P=a==null?void 0:a.data)==null?void 0:P.bookingStats)||(a==null?void 0:a.bookingStats)||((A=(C=(_=a==null?void 0:a.data)==null?void 0:_.charts)==null?void 0:C.bookingStats)==null?void 0:A[0])||{},m=((q=(V=a==null?void 0:a.data)==null?void 0:V.charts)==null?void 0:q.monthlyBookings)||((Z=a==null?void 0:a.data)==null?void 0:Z.monthlyBookingData)||[],f=((me=(ue=a==null?void 0:a.data)==null?void 0:ue.charts)==null?void 0:me.monthlyRevenue)||((Q=a==null?void 0:a.data)==null?void 0:Q.monthlyRevenueData)||[],h=(e==null?void 0:e.partnerStats)||((ae=e==null?void 0:e.data)==null?void 0:ae.partnerStats)||{},x=(e==null?void 0:e.kycStats)||((oe=e==null?void 0:e.data)==null?void 0:oe.kycStats)||{};e!=null&&e.registrationStats||(R=e==null?void 0:e.data)!=null&&R.registrationStats,g.useEffect(()=>{var ne,te;if(!(n||t))try{const Re=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ce={},Je=new Date;for(let $e=5;$e>=0;$e--){const Qe=new Date(Je.getFullYear(),Je.getMonth()-$e,1),Xe=`${Qe.getFullYear()}-${Qe.getMonth()+1}`;Ce[Xe]={month:Re[Qe.getMonth()],bookings:0}}Array.isArray(m)&&m.length>0&&m.forEach($e=>{if($e&&$e._id&&$e._id.year&&$e._id.month){const Qe=`${$e._id.year}-${$e._id.month}`;Ce[Qe]&&(Ce[Qe].bookings=$e.count||$e.bookings||0)}else if($e&&$e.month){const Qe=Object.keys(Ce).find(Xe=>Ce[Xe].month===$e.month);Qe&&(Ce[Qe].bookings=$e.bookings||$e.count||0)}});const Ge={};for(let $e=5;$e>=0;$e--){const Qe=new Date(Je.getFullYear(),Je.getMonth()-$e,1),Xe=`${Qe.getFullYear()}-${Qe.getMonth()+1}`;Ge[Xe]={month:Re[Qe.getMonth()],revenue:0}}Array.isArray(f)&&f.length>0&&f.forEach($e=>{if($e&&$e._id&&$e._id.year&&$e._id.month){const Qe=`${$e._id.year}-${$e._id.month}`;Ge[Qe]&&(Ge[Qe].revenue=$e.revenue||$e.totalRevenue||0)}else if($e&&$e.month){const Qe=Object.keys(Ge).find(Xe=>Ge[Xe].month===$e.month);Qe&&(Ge[Qe].revenue=$e.revenue||$e.totalRevenue||0)}});const Le=[];if(u&&typeof u=="object"){const $e={completed:"#10b981",pending:"#f59e0b",accepted:"#3b82f6",in_progress:"#8b5cf6",inProgress:"#8b5cf6",cancelled:"#ef4444",canceled:"#ef4444",rejected:"#dc2626",assigned:"#6366f1",started:"#ec4899"};Array.isArray(u)?u.forEach(Qe=>{Qe&&typeof Qe=="object"&&Object.entries(Qe).forEach(([Xe,kt])=>{typeof kt=="number"&&kt>0&&Xe!=="total"&&Le.push({name:Xe.charAt(0).toUpperCase()+Xe.slice(1).replace(/([A-Z])/g," $1").trim(),value:kt,color:$e[Xe]||$e[Xe.toLowerCase()]||"#6b7280"})})}):Object.entries(u).forEach(([Qe,Xe])=>{if(typeof Xe=="number"&&Xe>0&&Qe!=="total"&&Qe!=="bookings"){const kt=Qe.charAt(0).toUpperCase()+Qe.slice(1).replace(/([A-Z])/g," $1").trim();Le.push({name:kt,value:Xe,color:$e[Qe]||$e[Qe.toLowerCase()]||"#6b7280"})}})}const mt=[],Tt=(h==null?void 0:h.byStatus)||((ne=h==null?void 0:h.data)==null?void 0:ne.byStatus)||{};if(Tt&&typeof Tt=="object"&&Object.keys(Tt).length>0){const $e={active:"#10b981",pending:"#f59e0b",inactive:"#6b7280",suspended:"#ef4444",verified:"#10b981",unverified:"#f59e0b",null:"#3b82f6",undefined:"#3b82f6"},Qe={active:"Active",pending:"Pending",inactive:"Inactive",suspended:"Suspended",verified:"Verified",unverified:"Unverified",null:"Active",undefined:"Active"};Object.entries(Tt).forEach(([Xe,kt])=>{if(kt&&kt>0&&Xe!=="total"){const er=Xe===null||Xe==="null"||Xe==="undefined"||Xe===void 0?"active":Xe.toLowerCase(),we=Qe[er]||Qe[Xe]||(Xe===null||Xe==="null"||Xe===void 0?"Active":Xe.charAt(0).toUpperCase()+Xe.slice(1));mt.push({name:we,value:kt,color:$e[er]||$e[Xe]||$e[Xe==null?void 0:Xe.toLowerCase()]||"#3b82f6"})}})}const Pe=[],dt=(x==null?void 0:x.byStatus)||((te=x==null?void 0:x.data)==null?void 0:te.byStatus)||{};if(dt&&typeof dt=="object"&&Object.keys(dt).length>0){const $e={Verified:"#10b981",verified:"#10b981",Pending:"#f59e0b",pending:"#f59e0b",Rejected:"#ef4444",rejected:"#ef4444","Not Submitted":"#6b7280","not submitted":"#6b7280","Not submitted":"#6b7280",null:"#6b7280","":"#6b7280"};Object.entries(dt).forEach(([Qe,Xe])=>{if(Xe&&Xe>0&&Qe!=="total"){const kt=Qe===null||Qe==="null"||Qe===""?"Not Submitted":Qe.charAt(0).toUpperCase()+Qe.slice(1);Pe.push({name:kt,value:Xe,color:$e[Qe]||$e[Qe==null?void 0:Qe.toLowerCase()]||"#6b7280"})}})}if(Pe.length===0&&(x!=null&&x.verificationStats)){const $e=x.verificationStats;($e.verified>0||$e.pending>0)&&($e.verified>0&&Pe.push({name:"Verified",value:$e.verified,color:"#10b981"}),$e.pending>0&&Pe.push({name:"Pending",value:$e.pending,color:"#f59e0b"}))}c({monthlyBookings:Object.values(Ce),monthlyRevenue:Object.values(Ge),bookingStatusDistribution:Le,partnerStatusDistribution:mt,kycStatusDistribution:Pe})}catch(Re){console.error("Error processing chart data:",Re),c({monthlyBookings:[],monthlyRevenue:[],bookingStatusDistribution:[],partnerStatusDistribution:[],kycStatusDistribution:[]})}},[a,n,t,e,u,h,x,m,f]);const p=()=>{if(!(h!=null&&h.byStatus))return null;const ne=h.byStatus,te=Object.entries(ne).filter(([Ce])=>!(Ce==="total"||Ce===null||Ce===void 0||Ce==="null"||Ce==="undefined")).map(([Ce,Je])=>({key:Ce,value:Je})).filter(Ce=>Ce.value>0),Re=ne[null]||ne.null||ne[void 0]||ne.undefined||0;return te.length===0&&Re>0?`${Re} active`:te.length>0?te.slice(0,2).map(({key:Je,value:Ge})=>{const Le=Je==="active"||Je==="Active"?"active":Je==="pending"||Je==="Pending"?"pending":Je==="inactive"||Je==="Inactive"?"inactive":Je==="suspended"||Je==="Suspended"?"suspended":Je.toLowerCase();return`${Ge} ${Le}`}).join(", "):Re>0?`${Re} active`:null},b=()=>{const ne=(d==null?void 0:d.bookings)??(u==null?void 0:u.total)??0,te=(u==null?void 0:u.completed)??0;if(ne>0&&te>0){const Re=Math.round(te/ne*100);return`${te} completed (${Re}%)`}return u!=null&&u.completed?`${u.completed} completed`:null},j=(l==null?void 0:l.stats)||{},v=[{label:"Total Bookings",value:(d==null?void 0:d.bookings)??(u==null?void 0:u.total)??0,trend:b(),description:"Across all categories and cities",icon:Bs,color:"bg-blue-500",gradient:"from-blue-500 to-blue-600"},{label:"Total Partners",value:(d==null?void 0:d.partners)??(h==null?void 0:h.total)??0,trend:p(),description:"Active and pending partners",icon:sa,color:"bg-indigo-500",gradient:"from-indigo-500 to-indigo-600"},{label:"Total Revenue",value:`${((j.totalRevenue||0)/1e3).toFixed(0)}K`,trend:`Reg: ${((j.totalRegistrationFees||0)/1e3).toFixed(0)}K | MG: ${((j.totalMGPlanRevenue||0)/1e3).toFixed(0)}K`,description:"All revenue streams",icon:Qt,color:"bg-emerald-500",gradient:"from-emerald-500 to-emerald-600",intent:"positive"},{label:"Registration Fees",value:`${((j.totalRegistrationFees||0)/1e3).toFixed(0)}K`,trend:`SD: ${((j.totalSecurityDeposit||0)/1e3).toFixed(0)}K | TK: ${((j.totalToolkitFees||0)/1e3).toFixed(0)}K`,description:"Partner onboarding revenue",icon:It,color:"bg-purple-500",gradient:"from-purple-500 to-purple-600",intent:"positive"},{label:"MG Plan Revenue",value:`${((j.totalMGPlanRevenue||0)/1e3).toFixed(0)}K`,trend:j.totalMGPlanRevenue>0?"From subscriptions":"No subscriptions yet",description:"Minimum guarantee plans",icon:ur,color:"bg-indigo-500",gradient:"from-indigo-500 to-indigo-600",intent:"positive"},{label:"Total Users",value:(d==null?void 0:d.users)??0,trend:null,description:"Registered customers",icon:Ws,color:"bg-cyan-500",gradient:"from-cyan-500 to-cyan-600"},{label:"KYC Pending",value:((O=x==null?void 0:x.verificationStats)==null?void 0:O.pending)??((I=x==null?void 0:x.byStatus)==null?void 0:I.Pending)??((X=x==null?void 0:x.byStatus)==null?void 0:X.pending)??0,trend:(W=x==null?void 0:x.verificationStats)!=null&&W.verified?`${x.verificationStats.verified} verified`:null,description:"Awaiting verification",intent:(((T=x==null?void 0:x.verificationStats)==null?void 0:T.pending)??((L=x==null?void 0:x.byStatus)==null?void 0:L.Pending)??((D=x==null?void 0:x.byStatus)==null?void 0:D.pending)??0)>10?"warning":"positive",icon:ni,color:"bg-amber-500",gradient:"from-amber-500 to-amber-600"}],y=((M=x==null?void 0:x.verificationStats)==null?void 0:M.pending)??((z=x==null?void 0:x.byStatus)==null?void 0:z.Pending)??((se=x==null?void 0:x.byStatus)==null?void 0:se.pending)??0,w=(u==null?void 0:u.pending)??0,N=[{name:"Partner Control",status:y>10?"Needs attention":"On track",icon:y>10?a2:It,description:y>10?`${y} KYC verifications pending.`:"All partner wallet reconciliations and KYCs are on schedule.",tone:y>10?"warning":"success"},{name:"Customer Bookings",status:w>0?`${w} pending`:"Within SLA",icon:w>5?a2:It,description:w>5?`${w} bookings pending assignment.`:"All in-progress bookings are meeting SLA thresholds.",tone:w>5?"warning":"success"},{name:"Service Management",status:d!=null&&d.subServices?`${d.subServices} services`:"Active",icon:Hs,description:d!=null&&d.subServices?`${d.subServices} sub-services available across all categories.`:"Service catalog is active.",tone:"success"}],k=()=>{var ne;return t||n?r.jsx("div",{className:"flex justify-center items-center py-24",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Syncing live metrics..."})]})}):s||i?r.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Unable to fetch dashboard analytics. ",s||i]}):r.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[r.jsx("div",{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-transparent rounded-2xl p-6 sm:p-8 border border-primary/20",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-2",children:"Welcome Back! "}),r.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("div",{className:"px-4 py-2 bg-white rounded-lg shadow-sm border border-slate-200",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Total Revenue"}),r.jsxs("p",{className:"text-lg font-bold text-slate-800",children:["",((((ne=l==null?void 0:l.stats)==null?void 0:ne.totalRevenue)||(u==null?void 0:u.totalRevenue)||(d==null?void 0:d.totalRevenue)||0)/1e5).toFixed(1),"L"]}),(l==null?void 0:l.stats)&&r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Reg: ",((l.stats.totalRegistrationFees||0)/1e3).toFixed(0),"K | MG: ",((l.stats.totalMGPlanRevenue||0)/1e3).toFixed(0),"K"]})]})})]})}),r.jsx("div",{className:"grid gap-4 sm:gap-5 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:v.map(te=>r.jsx(Qa,{...te},te.label))}),r.jsxs("div",{className:"grid gap-6 sm:gap-8 lg:grid-cols-2",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-blue-500/10 transition-colors"}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Bs,{className:"text-blue-600 text-lg"})}),r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Monthly Bookings Trend"})]}),o.monthlyBookings.length>0&&o.monthlyBookings.some(te=>te.bookings>0)?r.jsx(xi,{width:"100%",height:250,children:r.jsxs(dF,{data:o.monthlyBookings,children:[r.jsx(uc,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),r.jsx(hc,{dataKey:"month",stroke:"#64748b"}),r.jsx(fc,{stroke:"#64748b"}),r.jsx(yi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),r.jsx(qd,{}),r.jsx(Z4,{dataKey:"bookings",fill:"#3b82f6",name:"Bookings",radius:[8,8,0,0]})]})}):r.jsx(kf,{icon:jh,title:"No Booking Data",description:"Booking data will appear here once customers start making bookings.",iconColor:"text-blue-400",bgColor:"bg-blue-50"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-emerald-500/10 transition-colors"}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:r.jsx(Qt,{className:"text-emerald-600 text-lg"})}),r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Monthly Revenue Trend"})]}),o.monthlyRevenue.length>0&&o.monthlyRevenue.some(te=>te.revenue>0)?r.jsx(xi,{width:"100%",height:250,children:r.jsxs(c3,{data:o.monthlyRevenue,children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),r.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),r.jsx(uc,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),r.jsx(hc,{dataKey:"month",stroke:"#64748b"}),r.jsx(fc,{stroke:"#64748b"}),r.jsx(yi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:te=>`${(te/1e3).toFixed(1)}K`}),r.jsx(qd,{}),r.jsx($h,{type:"monotone",dataKey:"revenue",stroke:"#10b981",fillOpacity:1,fill:"url(#colorRevenue)",name:"Revenue"})]})}):r.jsx(kf,{icon:ur,title:"No Revenue Data",description:"Revenue trends will be displayed here once transactions are recorded.",iconColor:"text-emerald-400",bgColor:"bg-emerald-50"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-purple-500/10 transition-colors"}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(ur,{className:"text-purple-600 text-lg"})}),r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Booking Status Distribution"})]}),o.bookingStatusDistribution.length>0?r.jsx(xi,{width:"100%",height:250,children:r.jsxs(Bx,{children:[r.jsx(Rh,{data:o.bookingStatusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:te,percent:Re})=>`${te} ${(Re*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.bookingStatusDistribution.map((te,Re)=>r.jsx(vo,{fill:te.color},`cell-${Re}`))}),r.jsx(yi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})}):r.jsx(kf,{icon:Bw,title:"No Booking Status Data",description:"Booking status breakdown will appear here once bookings are created.",iconColor:"text-purple-400",bgColor:"bg-purple-50"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-indigo-500/10 transition-colors"}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:r.jsx(sa,{className:"text-indigo-600 text-lg"})}),r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Partner Status Distribution"})]}),o.partnerStatusDistribution.length>0?r.jsx(xi,{width:"100%",height:250,children:r.jsxs(Bx,{children:[r.jsx(Rh,{data:o.partnerStatusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:te,percent:Re})=>`${te} ${(Re*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.partnerStatusDistribution.map((te,Re)=>r.jsx(vo,{fill:te.color},`cell-${Re}`))}),r.jsx(yi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})}):r.jsx(kf,{icon:sa,title:"No Partner Data",description:"Partner status distribution will be shown here once partners are registered.",iconColor:"text-indigo-400",bgColor:"bg-indigo-50"})]})]})]}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 sm:gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Module Health"}),r.jsx("div",{className:"space-y-4",children:N.map(te=>{const Re=te.icon,Ce=te.tone==="warning"?"text-amber-500":te.tone==="info"?"text-primary":"text-emerald-500";return r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl px-5 py-4 shadow-sm hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${Ce} bg-slate-100`,children:r.jsx(Re,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:te.name}),r.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${Ce}`,children:te.status})]})]}),r.jsx("p",{className:"text-sm text-slate-500 mt-3 leading-relaxed",children:te.description})]},te.name)})})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 sm:p-6 hover:shadow-lg transition-all duration-300 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/5 to-primary/10 rounded-full -mr-16 -mt-16"}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("div",{className:"p-2 bg-gradient-to-br from-primary to-primary-dark rounded-lg",children:r.jsx(wi,{className:"text-white text-lg"})}),r.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Quick Actions"})]}),r.jsx("div",{className:"grid gap-3",children:Pxe.map(te=>{const Re=te.icon;return r.jsxs(Wt,{to:te.to,className:"group flex items-center gap-4 px-4 py-4 rounded-xl border border-slate-200 hover:border-transparent hover:shadow-lg transition-all duration-300 relative overflow-hidden bg-white hover:bg-gradient-to-r hover:from-white hover:to-slate-50",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${te.color} flex items-center justify-center flex-shrink-0 shadow-sm group-hover:scale-110 group-hover:shadow-md transition-all duration-300`,children:r.jsx(Re,{className:"text-white text-lg"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-900 group-hover:text-primary transition-colors",children:te.title}),te.description&&r.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:te.description})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx(wi,{className:"text-slate-400 group-hover:text-primary group-hover:translate-x-1 transition-all duration-300 text-lg"})}),r.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${te.color} opacity-0 group-hover:opacity-5 transition-opacity duration-300 rounded-xl`})]},te.title)})})]})]})]})]})};return r.jsxs("div",{children:[r.jsx($r,{title:"Operations Overview",subtitle:"Real-time health snapshot across partners, bookings, workflows, and financial controls."}),k()]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var $x={};$x.version="0.18.5";var uF=1252,Txe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],mF=function(e){Txe.indexOf(e)!=-1&&(uF=e)};function Exe(){mF(1252)}var Uh=function(e){mF(e)};function _xe(){Uh(1200),Exe()}var Cf=function(t){return String.fromCharCode(t)},LA=function(t){return String.fromCharCode(t)},Ux,Yl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function zh(e){for(var t="",s=0,a=0,n=0,i=0,l=0,o=0,c=0,d=0;d<e.length;)s=e.charCodeAt(d++),i=s>>2,a=e.charCodeAt(d++),l=(s&3)<<4|a>>4,n=e.charCodeAt(d++),o=(a&15)<<2|n>>6,c=n&63,isNaN(a)?o=c=64:isNaN(n)&&(c=64),t+=Yl.charAt(i)+Yl.charAt(l)+Yl.charAt(o)+Yl.charAt(c);return t}function bl(e){var t="",s=0,a=0,n=0,i=0,l=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=Yl.indexOf(e.charAt(d++)),l=Yl.indexOf(e.charAt(d++)),s=i<<2|l>>4,t+=String.fromCharCode(s),o=Yl.indexOf(e.charAt(d++)),a=(l&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(a)),c=Yl.indexOf(e.charAt(d++)),n=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(n));return t}var tr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),El=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,s){return s?new Buffer(t,s):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Mc(e){return tr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function FA(e){return tr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Yn=function(t){return tr?El(t,"binary"):t.split("").map(function(s){return s.charCodeAt(0)&255})};function Gy(e){if(typeof ArrayBuffer>"u")return Yn(e);for(var t=new ArrayBuffer(e.length),s=new Uint8Array(t),a=0;a!=e.length;++a)s[a]=e.charCodeAt(a)&255;return t}function P0(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],s=0;s<e.length;++s)t[s]=String.fromCharCode(e[s]);return t.join("")}function Ixe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var $s=tr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:El(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,s=0;for(t=0;t<e.length;++t)s+=e[t].length;var a=new Uint8Array(s),n=0;for(t=0,s=0;t<e.length;s+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],s);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),s)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Oxe(e){for(var t=[],s=0,a=e.length+250,n=Mc(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)n[s++]=l;else if(l<2048)n[s++]=192|l>>6&31,n[s++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var o=e.charCodeAt(++i)&1023;n[s++]=240|l>>8&7,n[s++]=128|l>>2&63,n[s++]=128|o>>6&15|(l&3)<<4,n[s++]=128|o&63}else n[s++]=224|l>>12&15,n[s++]=128|l>>6&63,n[s++]=128|l&63;s>a&&(t.push(n.slice(0,s)),s=0,n=Mc(65535),a=65530)}return t.push(n.slice(0,s)),$s(t)}var $m=/\u0000/g,Pf=/[\u0001-\u0006]/g;function Jd(e){for(var t="",s=e.length-1;s>=0;)t+=e.charAt(s--);return t}function Jn(e,t){var s=""+e;return s.length>=t?s:Kr("0",t-s.length)+s}function d3(e,t){var s=""+e;return s.length>=t?s:Kr(" ",t-s.length)+s}function zx(e,t){var s=""+e;return s.length>=t?s:s+Kr(" ",t-s.length)}function Dxe(e,t){var s=""+Math.round(e);return s.length>=t?s:Kr("0",t-s.length)+s}function Mxe(e,t){var s=""+e;return s.length>=t?s:Kr("0",t-s.length)+s}var RA=Math.pow(2,32);function cd(e,t){if(e>RA||e<-RA)return Dxe(e,t);var s=Math.round(e);return Mxe(s,t)}function Vx(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var BA=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Iv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Lxe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var qr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},$A={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Fxe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Hx(e,t,s){for(var a=e<0?-1:1,n=e*a,i=0,l=1,o=0,c=1,d=0,u=0,m=Math.floor(n);d<t&&(m=Math.floor(n),o=m*l+i,u=m*d+c,!(n-m<5e-8));)n=1/(n-m),i=l,l=o,c=d,d=u;if(u>t&&(d>t?(u=c,o=i):(u=d,o=l)),!s)return[0,a*o,u];var f=Math.floor(a*o/u);return[f,a*o-f*u,u]}function Af(e,t,s){if(e>2958465||e<0)return null;var a=e|0,n=Math.floor(86400*(e-a)),i=0,l=[],o={D:a,T:n,u:86400*(e-a)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(a+=1462),o.u>.9999&&(o.u=0,++n==86400&&(o.T=n=0,++a,++o.D)),a===60)l=s?[1317,10,29]:[1900,2,29],i=3;else if(a===0)l=s?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var c=new Date(1900,0,1);c.setDate(c.getDate()+a-1),l=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),a<60&&(i=(i+6)%7),s&&(i=Hxe(c,l))}return o.y=l[0],o.m=l[1],o.d=l[2],o.S=n%60,n=Math.floor(n/60),o.M=n%60,n=Math.floor(n/60),o.H=n,o.q=i,o}var hF=new Date(1899,11,31,0,0,0),Rxe=hF.getTime(),Bxe=new Date(1900,2,1,0,0,0);function fF(e,t){var s=e.getTime();return t?s-=1461*24*60*60*1e3:e>=Bxe&&(s+=24*60*60*1e3),(s-(Rxe+(e.getTimezoneOffset()-hF.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function u3(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function $xe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Uxe(e){var t=e<0?12:11,s=u3(e.toFixed(12));return s.length<=t||(s=e.toPrecision(10),s.length<=t)?s:e.toExponential(5)}function zxe(e){var t=u3(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Vxe(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),s;return t>=-4&&t<=-1?s=e.toPrecision(10+t):Math.abs(t)<=9?s=Uxe(e):t===10?s=e.toFixed(10).substr(0,12):s=zxe(e),u3($xe(s.toUpperCase()))}function oj(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Vxe(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return wo(14,fF(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Hxe(e,t){t[0]-=581;var s=e.getDay();return e<60&&(s=(s+6)%7),s}function Wxe(e,t,s,a){var n="",i=0,l=0,o=s.y,c,d=0;switch(e){case 98:o=s.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,d=2;break;default:c=o%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=s.m,d=t.length;break;case 3:return Iv[s.m-1][1];case 5:return Iv[s.m-1][0];default:return Iv[s.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=s.d,d=t.length;break;case 3:return BA[s.q][0];default:return BA[s.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(s.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=s.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=s.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return s.u===0&&(t=="s"||t=="ss")?Jn(s.S,t.length):(a>=2?l=a===3?1e3:100:l=a===1?10:1,i=Math.round(l*(s.S+s.u)),i>=60*l&&(i=0),t==="s"?i===0?"0":""+i/l:(n=Jn(i,2+a),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=s.D*24+s.H;break;case"[m]":case"[mm]":c=(s.D*24+s.H)*60+s.M;break;case"[s]":case"[ss]":c=((s.D*24+s.H)*60+s.M)*60+Math.round(s.S+s.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=o,d=1;break}var u=d>0?Jn(c,d):"";return u}function Xl(e){var t=3;if(e.length<=t)return e;for(var s=e.length%t,a=e.substr(0,s);s!=e.length;s+=t)a+=(a.length>0?",":"")+e.substr(s,t);return a}var pF=/%/g;function Gxe(e,t,s){var a=t.replace(pF,""),n=t.length-a.length;return tl(e,a,s*Math.pow(10,2*n))+Kr("%",n)}function Kxe(e,t,s){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return tl(e,t.substr(0,a),s/Math.pow(10,3*(t.length-a)))}function xF(e,t){var s,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+xF(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),s=(t/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),s.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(l-s.length+i):s+="E+"+(l-i);s.substr(0,2)==="0.";)s=s.charAt(0)+s.substr(2,n)+"."+s.substr(2+n),s=s.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,u){return c+d+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else s=t.toExponential(a);return e.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),e.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}var gF=/# (\?+)( ?)\/( ?)(\d+)/;function qxe(e,t,s){var a=parseInt(e[4],10),n=Math.round(t*a),i=Math.floor(n/a),l=n-i*a,o=a;return s+(i===0?"":""+i)+" "+(l===0?Kr(" ",e[1].length+1+e[4].length):d3(l,e[1].length)+e[2]+"/"+e[3]+Jn(o,e[4].length))}function Yxe(e,t,s){return s+(t===0?"":""+t)+Kr(" ",e[1].length+2+e[4].length)}var yF=/^#*0*\.([0#]+)/,bF=/\).*[0#]/,vF=/\(###\) ###\\?-####/;function xa(e){for(var t="",s,a=0;a!=e.length;++a)switch(s=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(s)}return t}function UA(e,t){var s=Math.pow(10,t);return""+Math.round(e*s)/s}function zA(e,t){var s=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(s*a)).length?0:Math.round(s*a)}function Xxe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Jxe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function gn(e,t,s){if(e.charCodeAt(0)===40&&!t.match(bF)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?gn("n",a,s):"("+gn("n",a,-s)+")"}if(t.charCodeAt(t.length-1)===44)return Kxe(e,t,s);if(t.indexOf("%")!==-1)return Gxe(e,t,s);if(t.indexOf("E")!==-1)return xF(t,s);if(t.charCodeAt(0)===36)return"$"+gn(e,t.substr(t.charAt(1)==" "?2:1),s);var n,i,l,o,c=Math.abs(s),d=s<0?"-":"";if(t.match(/^00+$/))return d+cd(c,t.length);if(t.match(/^[#?]+$/))return n=cd(s,0),n==="0"&&(n=""),n.length>t.length?n:xa(t.substr(0,t.length-n.length))+n;if(i=t.match(gF))return qxe(i,c,d);if(t.match(/^#+0+$/))return d+cd(c,t.length-t.indexOf("0"));if(i=t.match(yF))return n=UA(s,i[1].length).replace(/^([^\.]+)$/,"$1."+xa(i[1])).replace(/\.$/,"."+xa(i[1])).replace(/\.(\d*)$/,function(x,p){return"."+p+Kr("0",xa(i[1]).length-p.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+UA(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Xl(cd(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+gn(e,t,-s):Xl(""+(Math.floor(s)+Xxe(s,i[1].length)))+"."+Jn(zA(s,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return gn(e,t.replace(/^#,#*,/,""),s);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Jd(gn(e,t.replace(/[\\-]/g,""),s)),l=0,Jd(Jd(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return l<n.length?n.charAt(l++):x==="0"?"0":""}));if(t.match(vF))return n=gn(e,"##########",s),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=Hx(c,Math.pow(10,l)-1,!1),n=""+d,u=tl("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=zx(o[2],l),u.length<i[4].length&&(u=xa(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=Hx(c,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?d3(o[1],l)+i[2]+"/"+i[3]+zx(o[2],l):Kr(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=cd(s,0),t.length<=n.length?n:xa(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+s.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var m=t.indexOf(".")-l,f=t.length-n.length-m;return xa(t.substr(0,m)+n+t.substr(t.length-f))}if(i=t.match(/^00,000\.([#0]*0)$/))return l=zA(s,i[1].length),s<0?"-"+gn(e,t,-s):Xl(Jxe(s)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Jn(0,3-x.length):"")+x})+"."+Jn(l,i[1].length);switch(t){case"###,##0.00":return gn(e,"#,##0.00",s);case"###,###":case"##,###":case"#,###":var h=Xl(cd(c,0));return h!=="0"?d+h:"";case"###,###.00":return gn(e,"###,##0.00",s).replace(/^0\./,".");case"#,###.00":return gn(e,"#,##0.00",s).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Qxe(e,t,s){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return tl(e,t.substr(0,a),s/Math.pow(10,3*(t.length-a)))}function Zxe(e,t,s){var a=t.replace(pF,""),n=t.length-a.length;return tl(e,a,s*Math.pow(10,2*n))+Kr("%",n)}function jF(e,t){var s,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+jF(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),s=(t/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),!s.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(l-s.length+i):s+="E+"+(l-i),s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,u){return c+d+u.substr(0,(n+i)%n)+"."+u.substr(i)+"E"})}else s=t.toExponential(a);return e.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),e.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}function di(e,t,s){if(e.charCodeAt(0)===40&&!t.match(bF)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?di("n",a,s):"("+di("n",a,-s)+")"}if(t.charCodeAt(t.length-1)===44)return Qxe(e,t,s);if(t.indexOf("%")!==-1)return Zxe(e,t,s);if(t.indexOf("E")!==-1)return jF(t,s);if(t.charCodeAt(0)===36)return"$"+di(e,t.substr(t.charAt(1)==" "?2:1),s);var n,i,l,o,c=Math.abs(s),d=s<0?"-":"";if(t.match(/^00+$/))return d+Jn(c,t.length);if(t.match(/^[#?]+$/))return n=""+s,s===0&&(n=""),n.length>t.length?n:xa(t.substr(0,t.length-n.length))+n;if(i=t.match(gF))return Yxe(i,c,d);if(t.match(/^#+0+$/))return d+Jn(c,t.length-t.indexOf("0"));if(i=t.match(yF))return n=(""+s).replace(/^([^\.]+)$/,"$1."+xa(i[1])).replace(/\.$/,"."+xa(i[1])),n=n.replace(/\.(\d*)$/,function(x,p){return"."+p+Kr("0",xa(i[1]).length-p.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Xl(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+di(e,t,-s):Xl(""+s)+"."+Kr("0",i[1].length);if(i=t.match(/^#,#*,#0/))return di(e,t.replace(/^#,#*,/,""),s);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Jd(di(e,t.replace(/[\\-]/g,""),s)),l=0,Jd(Jd(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return l<n.length?n.charAt(l++):x==="0"?"0":""}));if(t.match(vF))return n=di(e,"##########",s),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),o=Hx(c,Math.pow(10,l)-1,!1),n=""+d,u=tl("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+i[2]+"/"+i[3],u=zx(o[2],l),u.length<i[4].length&&(u=xa(i[4].substr(i[4].length-u.length))+u),n+=u,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),o=Hx(c,Math.pow(10,l)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?d3(o[1],l)+i[2]+"/"+i[3]+zx(o[2],l):Kr(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=""+s,t.length<=n.length?n:xa(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0]+)\.([#0]+)$/)){n=""+s.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var m=t.indexOf(".")-l,f=t.length-n.length-m;return xa(t.substr(0,m)+n+t.substr(t.length-f))}if(i=t.match(/^00,000\.([#0]*0)$/))return s<0?"-"+di(e,t,-s):Xl(""+s).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Jn(0,3-x.length):"")+x})+"."+Jn(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=Xl(""+c);return h!=="0"?d+h:"";default:if(t.match(/\.[0#?]*$/))return di(e,t.slice(0,t.lastIndexOf(".")),s)+xa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function tl(e,t,s){return(s|0)===s?di(e,t,s):gn(e,t,s)}function ege(e){for(var t=[],s=!1,a=0,n=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:s=!s;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(n,a-n),n=a+1}if(t[t.length]=e.substr(n),s===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var wF=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function NF(e){for(var t=0,s="",a="";t<e.length;)switch(s=e.charAt(t)){case"G":Vx(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(a=s;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(wF))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(s=e.charAt(++t))>-1||s=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===s;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function tge(e,t,s,a){for(var n=[],i="",l=0,o="",c="t",d,u,m,f="H";l<e.length;)switch(o=e.charAt(l)){case"G":if(!Vx(e,l))throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(m=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(m);n[n.length]={t:"t",v:i},++l;break;case"\\":var h=e.charAt(++l),x=h==="("||h===")"?h:"t";n[n.length]={t:x,v:h},++l;break;case"_":n[n.length]={t:"t",v:" "},l+=2;break;case"@":n[n.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(d==null&&(d=Af(t,s,e.charAt(l+1)==="2"),d==null))return"";n[n.length]={t:"X",v:e.substr(l,2)},c=o,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=Af(t,s),d==null))return"";for(i=o;++l<e.length&&e.charAt(l).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=f),n[n.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var p={t:o,v:o};if(d==null&&(d=Af(t,s)),e.substr(l,3).toUpperCase()==="A/P"?(d!=null&&(p.v=d.H>=12?"P":"A"),p.t="T",f="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(d!=null&&(p.v=d.H>=12?"PM":"AM"),p.t="T",l+=5,f="h"):e.substr(l,5).toUpperCase()==="/"?(d!=null&&(p.v=d.H>=12?"":""),p.t="T",l+=5,f="h"):(p.t="t",++l),d==null&&p.t==="T")return"";n[n.length]=p,c=o;break;case"[":for(i=o;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(wF)){if(d==null&&(d=Af(t,s),d==null))return"";n[n.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",NF(e)||(n[n.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=o;++l<e.length&&(o=e.charAt(l))==="0";)i+=o;n[n.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++l<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(l))>-1;)i+=o;n[n.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++l)===o;)i+=o;n[n.length]={t:o,v:i},c=o;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":n[n.length]={t:a===1?"t":o,v:o},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);n[n.length]={t:"D",v:i};break;case" ":n[n.length]={t:o,v:o},++l;break;case"$":n[n.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"t",v:o},++l;break}var b=0,j=0,v;for(l=n.length-1,c="t";l>=0;--l)switch(n[l].t){case"h":case"H":n[l].t=f,c="h",b<1&&(b=1);break;case"s":(v=n[l].v.match(/\.0+$/))&&(j=Math.max(j,v[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":c=n[l].t;break;case"m":c==="s"&&(n[l].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&n[l].v.match(/[Hh]/)&&(b=1),b<2&&n[l].v.match(/[Mm]/)&&(b=2),b<3&&n[l].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var y="",w;for(l=0;l<n.length;++l)switch(n[l].t){case"t":case"T":case" ":case"D":break;case"X":n[l].v="",n[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[l].v=Wxe(n[l].t.charCodeAt(0),n[l].v,d,j),n[l].t="t";break;case"n":case"?":for(w=l+1;n[w]!=null&&((o=n[w].t)==="?"||o==="D"||(o===" "||o==="t")&&n[w+1]!=null&&(n[w+1].t==="?"||n[w+1].t==="t"&&n[w+1].v==="/")||n[l].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(n[w].v==="/"||n[w].v===" "&&n[w+1]!=null&&n[w+1].t=="?"));)n[l].v+=n[w].v,n[w]={v:"",t:";"},++w;y+=n[l].v,l=w-1;break;case"G":n[l].t="t",n[l].v=oj(t,s);break}var N="",k,S;if(y.length>0){y.charCodeAt(0)==40?(k=t<0&&y.charCodeAt(0)===45?-t:t,S=tl("n",y,k)):(k=t<0&&a>1?-t:t,S=tl("n",y,k),k<0&&n[0]&&n[0].t=="t"&&(S=S.substr(1),n[0].v="-"+n[0].v)),w=S.length-1;var P=n.length;for(l=0;l<n.length;++l)if(n[l]!=null&&n[l].t!="t"&&n[l].v.indexOf(".")>-1){P=l;break}var _=n.length;if(P===n.length&&S.indexOf("E")===-1){for(l=n.length-1;l>=0;--l)n[l]==null||"n?".indexOf(n[l].t)===-1||(w>=n[l].v.length-1?(w-=n[l].v.length,n[l].v=S.substr(w+1,n[l].v.length)):w<0?n[l].v="":(n[l].v=S.substr(0,w+1),w=-1),n[l].t="t",_=l);w>=0&&_<n.length&&(n[_].v=S.substr(0,w+1)+n[_].v)}else if(P!==n.length&&S.indexOf("E")===-1){for(w=S.indexOf(".")-1,l=P;l>=0;--l)if(!(n[l]==null||"n?".indexOf(n[l].t)===-1)){for(u=n[l].v.indexOf(".")>-1&&l===P?n[l].v.indexOf(".")-1:n[l].v.length-1,N=n[l].v.substr(u+1);u>=0;--u)w>=0&&(n[l].v.charAt(u)==="0"||n[l].v.charAt(u)==="#")&&(N=S.charAt(w--)+N);n[l].v=N,n[l].t="t",_=l}for(w>=0&&_<n.length&&(n[_].v=S.substr(0,w+1)+n[_].v),w=S.indexOf(".")+1,l=P;l<n.length;++l)if(!(n[l]==null||"n?(".indexOf(n[l].t)===-1&&l!==P)){for(u=n[l].v.indexOf(".")>-1&&l===P?n[l].v.indexOf(".")+1:0,N=n[l].v.substr(0,u);u<n[l].v.length;++u)w<S.length&&(N+=S.charAt(w++));n[l].v=N,n[l].t="t",_=l}}}for(l=0;l<n.length;++l)n[l]!=null&&"n?".indexOf(n[l].t)>-1&&(k=a>1&&t<0&&l>0&&n[l-1].v==="-"?-t:t,n[l].v=tl(n[l].t,n[l].v,k),n[l].t="t");var C="";for(l=0;l!==n.length;++l)n[l]!=null&&(C+=n[l].v);return C}var VA=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function HA(e,t){if(t==null)return!1;var s=parseFloat(t[2]);switch(t[1]){case"=":if(e==s)return!0;break;case">":if(e>s)return!0;break;case"<":if(e<s)return!0;break;case"<>":if(e!=s)return!0;break;case">=":if(e>=s)return!0;break;case"<=":if(e<=s)return!0;break}return!1}function rge(e,t){var s=ege(e),a=s.length,n=s[a-1].indexOf("@");if(a<4&&n>-1&&--a,s.length>4)throw new Error("cannot find right format for |"+s.join("|")+"|");if(typeof t!="number")return[4,s.length===4||n>-1?s[s.length-1]:"@"];switch(s.length){case 1:s=n>-1?["General","General","General",s[0]]:[s[0],s[0],s[0],"@"];break;case 2:s=n>-1?[s[0],s[0],s[0],s[1]]:[s[0],s[1],s[0],"@"];break;case 3:s=n>-1?[s[0],s[1],s[0],s[2]]:[s[0],s[1],s[2],"@"];break}var i=t>0?s[0]:t<0?s[1]:s[2];if(s[0].indexOf("[")===-1&&s[1].indexOf("[")===-1)return[a,i];if(s[0].match(/\[[=<>]/)!=null||s[1].match(/\[[=<>]/)!=null){var l=s[0].match(VA),o=s[1].match(VA);return HA(t,l)?[a,s[0]]:HA(t,o)?[a,s[1]]:[a,s[l!=null&&o!=null?2:1]]}return[a,i]}function wo(e,t,s){s==null&&(s={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&s.dateNF?a=s.dateNF:a=e;break;case"number":e==14&&s.dateNF?a=s.dateNF:a=(s.table!=null?s.table:qr)[e],a==null&&(a=s.table&&s.table[$A[e]]||qr[$A[e]]),a==null&&(a=Fxe[e]||"General");break}if(Vx(a,0))return oj(t,s);t instanceof Date&&(t=fF(t,s.date1904));var n=rge(a,t);if(Vx(n[1]))return oj(t,s);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return tge(n[1],t,s,n[0])}function SF(e,t){if(typeof t!="number"){t=+t||-1;for(var s=0;s<392;++s){if(qr[s]==null){t<0&&(t=s);continue}if(qr[s]==e){t=s;break}}t<0&&(t=391)}return qr[t]=e,t}function Ky(e){for(var t=0;t!=392;++t)e[t]!==void 0&&SF(e[t],t)}function qy(){qr=Lxe()}var kF=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function sge(e){var t=typeof e=="number"?qr[e]:e;return t=t.replace(kF,"(\\d+)"),new RegExp("^"+t+"$")}function age(e,t,s){var a=-1,n=-1,i=-1,l=-1,o=-1,c=-1;(t.match(kF)||[]).forEach(function(m,f){var h=parseInt(s[f+1],10);switch(m.toLowerCase().charAt(0)){case"y":a=h;break;case"d":i=h;break;case"h":l=h;break;case"s":c=h;break;case"m":l>=0?o=h:n=h;break}}),c>=0&&o==-1&&n>=0&&(o=n,n=-1);var d=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return l==-1&&o==-1&&c==-1?d:a==-1&&n==-1&&i==-1?u:d+"T"+u}var nge=function(){var e={};e.version="1.2.0";function t(){for(var S=0,P=new Array(256),_=0;_!=256;++_)S=_,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,P[_]=S;return typeof Int32Array<"u"?new Int32Array(P):P}var s=t();function a(S){var P=0,_=0,C=0,A=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(C=0;C!=256;++C)A[C]=S[C];for(C=0;C!=256;++C)for(_=S[C],P=256+C;P<4096;P+=256)_=A[P]=_>>>8^S[_&255];var V=[];for(C=1;C!=16;++C)V[C-1]=typeof Int32Array<"u"?A.subarray(C*256,C*256+256):A.slice(C*256,C*256+256);return V}var n=a(s),i=n[0],l=n[1],o=n[2],c=n[3],d=n[4],u=n[5],m=n[6],f=n[7],h=n[8],x=n[9],p=n[10],b=n[11],j=n[12],v=n[13],y=n[14];function w(S,P){for(var _=P^-1,C=0,A=S.length;C<A;)_=_>>>8^s[(_^S.charCodeAt(C++))&255];return~_}function N(S,P){for(var _=P^-1,C=S.length-15,A=0;A<C;)_=y[S[A++]^_&255]^v[S[A++]^_>>8&255]^j[S[A++]^_>>16&255]^b[S[A++]^_>>>24]^p[S[A++]]^x[S[A++]]^h[S[A++]]^f[S[A++]]^m[S[A++]]^u[S[A++]]^d[S[A++]]^c[S[A++]]^o[S[A++]]^l[S[A++]]^i[S[A++]]^s[S[A++]];for(C+=15;A<C;)_=_>>>8^s[(_^S[A++])&255];return~_}function k(S,P){for(var _=P^-1,C=0,A=S.length,V=0,q=0;C<A;)V=S.charCodeAt(C++),V<128?_=_>>>8^s[(_^V)&255]:V<2048?(_=_>>>8^s[(_^(192|V>>6&31))&255],_=_>>>8^s[(_^(128|V&63))&255]):V>=55296&&V<57344?(V=(V&1023)+64,q=S.charCodeAt(C++)&1023,_=_>>>8^s[(_^(240|V>>8&7))&255],_=_>>>8^s[(_^(128|V>>2&63))&255],_=_>>>8^s[(_^(128|q>>6&15|(V&3)<<4))&255],_=_>>>8^s[(_^(128|q&63))&255]):(_=_>>>8^s[(_^(224|V>>12&15))&255],_=_>>>8^s[(_^(128|V>>6&63))&255],_=_>>>8^s[(_^(128|V&63))&255]);return~_}return e.table=s,e.bstr=w,e.buf=N,e.str=k,e}(),dr=function(){var t={};t.version="1.2.1";function s(B,J){for(var G=B.split("/"),Y=J.split("/"),ee=0,re=0,xe=Math.min(G.length,Y.length);ee<xe;++ee){if(re=G[ee].length-Y[ee].length)return re;if(G[ee]!=Y[ee])return G[ee]<Y[ee]?-1:1}return G.length-Y.length}function a(B){if(B.charAt(B.length-1)=="/")return B.slice(0,-1).indexOf("/")===-1?B:a(B.slice(0,-1));var J=B.lastIndexOf("/");return J===-1?B:B.slice(0,J+1)}function n(B){if(B.charAt(B.length-1)=="/")return n(B.slice(0,-1));var J=B.lastIndexOf("/");return J===-1?B:B.slice(J+1)}function i(B,J){typeof J=="string"&&(J=new Date(J));var G=J.getHours();G=G<<6|J.getMinutes(),G=G<<5|J.getSeconds()>>>1,B.write_shift(2,G);var Y=J.getFullYear()-1980;Y=Y<<4|J.getMonth()+1,Y=Y<<5|J.getDate(),B.write_shift(2,Y)}function l(B){var J=B.read_shift(2)&65535,G=B.read_shift(2)&65535,Y=new Date,ee=G&31;G>>>=5;var re=G&15;G>>>=4,Y.setMilliseconds(0),Y.setFullYear(G+1980),Y.setMonth(re-1),Y.setDate(ee);var xe=J&31;J>>>=5;var De=J&63;return J>>>=6,Y.setHours(J),Y.setMinutes(De),Y.setSeconds(xe<<1),Y}function o(B){Ga(B,0);for(var J={},G=0;B.l<=B.length-4;){var Y=B.read_shift(2),ee=B.read_shift(2),re=B.l+ee,xe={};switch(Y){case 21589:G=B.read_shift(1),G&1&&(xe.mtime=B.read_shift(4)),ee>5&&(G&2&&(xe.atime=B.read_shift(4)),G&4&&(xe.ctime=B.read_shift(4))),xe.mtime&&(xe.mt=new Date(xe.mtime*1e3));break}B.l=re,J[Y]=xe}return J}var c;function d(){return c||(c={})}function u(B,J){if(B[0]==80&&B[1]==75)return U(B,J);if((B[0]|32)==109&&(B[1]|32)==105)return it(B,J);if(B.length<512)throw new Error("CFB file size "+B.length+" < 512");var G=3,Y=512,ee=0,re=0,xe=0,De=0,ge=0,be=[],je=B.slice(0,512);Ga(je,0);var Ke=m(je);switch(G=Ke[0],G){case 3:Y=512;break;case 4:Y=4096;break;case 0:if(Ke[1]==0)return U(B,J);default:throw new Error("Major Version: Expected 3 or 4 saw "+G)}Y!==512&&(je=B.slice(0,Y),Ga(je,28));var nt=B.slice(0,Y);f(je,G);var ft=je.read_shift(4,"i");if(G===3&&ft!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ft);je.l+=4,xe=je.read_shift(4,"i"),je.l+=4,je.chk("00100000","Mini Stream Cutoff Size: "),De=je.read_shift(4,"i"),ee=je.read_shift(4,"i"),ge=je.read_shift(4,"i"),re=je.read_shift(4,"i");for(var He=-1,ct=0;ct<109&&(He=je.read_shift(4,"i"),!(He<0));++ct)be[ct]=He;var H=h(B,Y);b(ge,re,H,Y,be);var wt=v(H,xe,be,Y);wt[xe].name="!Directory",ee>0&&De!==q&&(wt[De].name="!MiniFAT"),wt[be[0]].name="!FAT",wt.fat_addrs=be,wt.ssz=Y;var ze={},Se=[],tt=[],ht=[];y(xe,wt,H,Se,ee,ze,tt,De),x(tt,ht,Se),Se.shift();var li={FileIndex:tt,FullPaths:ht};return J&&J.raw&&(li.raw={header:nt,sectors:H}),li}function m(B){if(B[B.l]==80&&B[B.l+1]==75)return[0,0];B.chk(Z,"Header Signature: "),B.l+=16;var J=B.read_shift(2,"u");return[B.read_shift(2,"u"),J]}function f(B,J){var G=9;switch(B.l+=2,G=B.read_shift(2)){case 9:if(J!=3)throw new Error("Sector Shift: Expected 9 saw "+G);break;case 12:if(J!=4)throw new Error("Sector Shift: Expected 12 saw "+G);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+G)}B.chk("0600","Mini Sector Shift: "),B.chk("000000000000","Reserved: ")}function h(B,J){for(var G=Math.ceil(B.length/J)-1,Y=[],ee=1;ee<G;++ee)Y[ee-1]=B.slice(ee*J,(ee+1)*J);return Y[G-1]=B.slice(G*J),Y}function x(B,J,G){for(var Y=0,ee=0,re=0,xe=0,De=0,ge=G.length,be=[],je=[];Y<ge;++Y)be[Y]=je[Y]=Y,J[Y]=G[Y];for(;De<je.length;++De)Y=je[De],ee=B[Y].L,re=B[Y].R,xe=B[Y].C,be[Y]===Y&&(ee!==-1&&be[ee]!==ee&&(be[Y]=be[ee]),re!==-1&&be[re]!==re&&(be[Y]=be[re])),xe!==-1&&(be[xe]=Y),ee!==-1&&Y!=be[Y]&&(be[ee]=be[Y],je.lastIndexOf(ee)<De&&je.push(ee)),re!==-1&&Y!=be[Y]&&(be[re]=be[Y],je.lastIndexOf(re)<De&&je.push(re));for(Y=1;Y<ge;++Y)be[Y]===Y&&(re!==-1&&be[re]!==re?be[Y]=be[re]:ee!==-1&&be[ee]!==ee&&(be[Y]=be[ee]));for(Y=1;Y<ge;++Y)if(B[Y].type!==0){if(De=Y,De!=be[De])do De=be[De],J[Y]=J[De]+"/"+J[Y];while(De!==0&&be[De]!==-1&&De!=be[De]);be[Y]=-1}for(J[0]+="/",Y=1;Y<ge;++Y)B[Y].type!==2&&(J[Y]+="/")}function p(B,J,G){for(var Y=B.start,ee=B.size,re=[],xe=Y;G&&ee>0&&xe>=0;)re.push(J.slice(xe*V,xe*V+V)),ee-=V,xe=Go(G,xe*4);return re.length===0?Oe(0):$s(re).slice(0,B.size)}function b(B,J,G,Y,ee){var re=q;if(B===q){if(J!==0)throw new Error("DIFAT chain shorter than expected")}else if(B!==-1){var xe=G[B],De=(Y>>>2)-1;if(!xe)return;for(var ge=0;ge<De&&(re=Go(xe,ge*4))!==q;++ge)ee.push(re);b(Go(xe,Y-4),J-1,G,Y,ee)}}function j(B,J,G,Y,ee){var re=[],xe=[];ee||(ee=[]);var De=Y-1,ge=0,be=0;for(ge=J;ge>=0;){ee[ge]=!0,re[re.length]=ge,xe.push(B[ge]);var je=G[Math.floor(ge*4/Y)];if(be=ge*4&De,Y<4+be)throw new Error("FAT boundary crossed: "+ge+" 4 "+Y);if(!B[je])break;ge=Go(B[je],be)}return{nodes:re,data:QA([xe])}}function v(B,J,G,Y){var ee=B.length,re=[],xe=[],De=[],ge=[],be=Y-1,je=0,Ke=0,nt=0,ft=0;for(je=0;je<ee;++je)if(De=[],nt=je+J,nt>=ee&&(nt-=ee),!xe[nt]){ge=[];var He=[];for(Ke=nt;Ke>=0;){He[Ke]=!0,xe[Ke]=!0,De[De.length]=Ke,ge.push(B[Ke]);var ct=G[Math.floor(Ke*4/Y)];if(ft=Ke*4&be,Y<4+ft)throw new Error("FAT boundary crossed: "+Ke+" 4 "+Y);if(!B[ct]||(Ke=Go(B[ct],ft),He[Ke]))break}re[nt]={nodes:De,data:QA([ge])}}return re}function y(B,J,G,Y,ee,re,xe,De){for(var ge=0,be=Y.length?2:0,je=J[B].data,Ke=0,nt=0,ft;Ke<je.length;Ke+=128){var He=je.slice(Ke,Ke+128);Ga(He,64),nt=He.read_shift(2),ft=x3(He,0,nt-be),Y.push(ft);var ct={name:ft,type:He.read_shift(1),color:He.read_shift(1),L:He.read_shift(4,"i"),R:He.read_shift(4,"i"),C:He.read_shift(4,"i"),clsid:He.read_shift(16),state:He.read_shift(4,"i"),start:0,size:0},H=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);H!==0&&(ct.ct=w(He,He.l-8));var wt=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);wt!==0&&(ct.mt=w(He,He.l-8)),ct.start=He.read_shift(4,"i"),ct.size=He.read_shift(4,"i"),ct.size<0&&ct.start<0&&(ct.size=ct.type=0,ct.start=q,ct.name=""),ct.type===5?(ge=ct.start,ee>0&&ge!==q&&(J[ge].name="!StreamData")):ct.size>=4096?(ct.storage="fat",J[ct.start]===void 0&&(J[ct.start]=j(G,ct.start,J.fat_addrs,J.ssz)),J[ct.start].name=ct.name,ct.content=J[ct.start].data.slice(0,ct.size)):(ct.storage="minifat",ct.size<0?ct.size=0:ge!==q&&ct.start!==q&&J[ge]&&(ct.content=p(ct,J[ge].data,(J[De]||{}).data))),ct.content&&Ga(ct.content,0),re[ft]=ct,xe.push(ct)}}function w(B,J){return new Date((qa(B,J+4)/1e7*Math.pow(2,32)+qa(B,J)/1e7-11644473600)*1e3)}function N(B,J){return d(),u(c.readFileSync(B),J)}function k(B,J){var G=J&&J.type;switch(G||tr&&Buffer.isBuffer(B)&&(G="buffer"),G||"base64"){case"file":return N(B,J);case"base64":return u(Yn(bl(B)),J);case"binary":return u(Yn(B),J)}return u(B,J)}function S(B,J){var G=J||{},Y=G.root||"Root Entry";if(B.FullPaths||(B.FullPaths=[]),B.FileIndex||(B.FileIndex=[]),B.FullPaths.length!==B.FileIndex.length)throw new Error("inconsistent CFB structure");B.FullPaths.length===0&&(B.FullPaths[0]=Y+"/",B.FileIndex[0]={name:Y,type:5}),G.CLSID&&(B.FileIndex[0].clsid=G.CLSID),P(B)}function P(B){var J="Sh33tJ5";if(!dr.find(B,"/"+J)){var G=Oe(4);G[0]=55,G[1]=G[3]=50,G[2]=54,B.FileIndex.push({name:J,type:2,content:G,size:4,L:69,R:69,C:69}),B.FullPaths.push(B.FullPaths[0]+J),_(B)}}function _(B,J){S(B);for(var G=!1,Y=!1,ee=B.FullPaths.length-1;ee>=0;--ee){var re=B.FileIndex[ee];switch(re.type){case 0:Y?G=!0:(B.FileIndex.pop(),B.FullPaths.pop());break;case 1:case 2:case 5:Y=!0,isNaN(re.R*re.L*re.C)&&(G=!0),re.R>-1&&re.L>-1&&re.R==re.L&&(G=!0);break;default:G=!0;break}}if(!(!G&&!J)){var xe=new Date(1987,1,19),De=0,ge=Object.create?Object.create(null):{},be=[];for(ee=0;ee<B.FullPaths.length;++ee)ge[B.FullPaths[ee]]=!0,B.FileIndex[ee].type!==0&&be.push([B.FullPaths[ee],B.FileIndex[ee]]);for(ee=0;ee<be.length;++ee){var je=a(be[ee][0]);Y=ge[je],Y||(be.push([je,{name:n(je).replace("/",""),type:1,clsid:me,ct:xe,mt:xe,content:null}]),ge[je]=!0)}for(be.sort(function(ft,He){return s(ft[0],He[0])}),B.FullPaths=[],B.FileIndex=[],ee=0;ee<be.length;++ee)B.FullPaths[ee]=be[ee][0],B.FileIndex[ee]=be[ee][1];for(ee=0;ee<be.length;++ee){var Ke=B.FileIndex[ee],nt=B.FullPaths[ee];if(Ke.name=n(nt).replace("/",""),Ke.L=Ke.R=Ke.C=-(Ke.color=1),Ke.size=Ke.content?Ke.content.length:0,Ke.start=0,Ke.clsid=Ke.clsid||me,ee===0)Ke.C=be.length>1?1:-1,Ke.size=0,Ke.type=5;else if(nt.slice(-1)=="/"){for(De=ee+1;De<be.length&&a(B.FullPaths[De])!=nt;++De);for(Ke.C=De>=be.length?-1:De,De=ee+1;De<be.length&&a(B.FullPaths[De])!=a(nt);++De);Ke.R=De>=be.length?-1:De,Ke.type=1}else a(B.FullPaths[ee+1]||"")==a(nt)&&(Ke.R=ee+1),Ke.type=2}}}function C(B,J){var G=J||{};if(G.fileType=="mad")return Ot(B,G);switch(_(B),G.fileType){case"zip":return Ae(B,G)}var Y=function(ft){for(var He=0,ct=0,H=0;H<ft.FileIndex.length;++H){var wt=ft.FileIndex[H];if(wt.content){var ze=wt.content.length;ze>0&&(ze<4096?He+=ze+63>>6:ct+=ze+511>>9)}}for(var Se=ft.FullPaths.length+3>>2,tt=He+7>>3,ht=He+127>>7,li=tt+ct+Se+ht,Ys=li+127>>7,oi=Ys<=109?0:Math.ceil((Ys-109)/127);li+Ys+oi+127>>7>Ys;)oi=++Ys<=109?0:Math.ceil((Ys-109)/127);var Xs=[1,oi,Ys,ht,Se,ct,He,0];return ft.FileIndex[0].size=He<<6,Xs[7]=(ft.FileIndex[0].start=Xs[0]+Xs[1]+Xs[2]+Xs[3]+Xs[4]+Xs[5])+(Xs[6]+7>>3),Xs}(B),ee=Oe(Y[7]<<9),re=0,xe=0;{for(re=0;re<8;++re)ee.write_shift(1,ue[re]);for(re=0;re<8;++re)ee.write_shift(2,0);for(ee.write_shift(2,62),ee.write_shift(2,3),ee.write_shift(2,65534),ee.write_shift(2,9),ee.write_shift(2,6),re=0;re<3;++re)ee.write_shift(2,0);for(ee.write_shift(4,0),ee.write_shift(4,Y[2]),ee.write_shift(4,Y[0]+Y[1]+Y[2]+Y[3]-1),ee.write_shift(4,0),ee.write_shift(4,4096),ee.write_shift(4,Y[3]?Y[0]+Y[1]+Y[2]-1:q),ee.write_shift(4,Y[3]),ee.write_shift(-4,Y[1]?Y[0]-1:q),ee.write_shift(4,Y[1]),re=0;re<109;++re)ee.write_shift(-4,re<Y[2]?Y[1]+re:-1)}if(Y[1])for(xe=0;xe<Y[1];++xe){for(;re<236+xe*127;++re)ee.write_shift(-4,re<Y[2]?Y[1]+re:-1);ee.write_shift(-4,xe===Y[1]-1?q:xe+1)}var De=function(ft){for(xe+=ft;re<xe-1;++re)ee.write_shift(-4,re+1);ft&&(++re,ee.write_shift(-4,q))};for(xe=re=0,xe+=Y[1];re<xe;++re)ee.write_shift(-4,Q.DIFSECT);for(xe+=Y[2];re<xe;++re)ee.write_shift(-4,Q.FATSECT);De(Y[3]),De(Y[4]);for(var ge=0,be=0,je=B.FileIndex[0];ge<B.FileIndex.length;++ge)je=B.FileIndex[ge],je.content&&(be=je.content.length,!(be<4096)&&(je.start=xe,De(be+511>>9)));for(De(Y[6]+7>>3);ee.l&511;)ee.write_shift(-4,Q.ENDOFCHAIN);for(xe=re=0,ge=0;ge<B.FileIndex.length;++ge)je=B.FileIndex[ge],je.content&&(be=je.content.length,!(!be||be>=4096)&&(je.start=xe,De(be+63>>6)));for(;ee.l&511;)ee.write_shift(-4,Q.ENDOFCHAIN);for(re=0;re<Y[4]<<2;++re){var Ke=B.FullPaths[re];if(!Ke||Ke.length===0){for(ge=0;ge<17;++ge)ee.write_shift(4,0);for(ge=0;ge<3;++ge)ee.write_shift(4,-1);for(ge=0;ge<12;++ge)ee.write_shift(4,0);continue}je=B.FileIndex[re],re===0&&(je.start=je.size?je.start-1:q);var nt=re===0&&G.root||je.name;if(be=2*(nt.length+1),ee.write_shift(64,nt,"utf16le"),ee.write_shift(2,be),ee.write_shift(1,je.type),ee.write_shift(1,je.color),ee.write_shift(-4,je.L),ee.write_shift(-4,je.R),ee.write_shift(-4,je.C),je.clsid)ee.write_shift(16,je.clsid,"hex");else for(ge=0;ge<4;++ge)ee.write_shift(4,0);ee.write_shift(4,je.state||0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,je.start),ee.write_shift(4,je.size),ee.write_shift(4,0)}for(re=1;re<B.FileIndex.length;++re)if(je=B.FileIndex[re],je.size>=4096)if(ee.l=je.start+1<<9,tr&&Buffer.isBuffer(je.content))je.content.copy(ee,ee.l,0,je.size),ee.l+=je.size+511&-512;else{for(ge=0;ge<je.size;++ge)ee.write_shift(1,je.content[ge]);for(;ge&511;++ge)ee.write_shift(1,0)}for(re=1;re<B.FileIndex.length;++re)if(je=B.FileIndex[re],je.size>0&&je.size<4096)if(tr&&Buffer.isBuffer(je.content))je.content.copy(ee,ee.l,0,je.size),ee.l+=je.size+63&-64;else{for(ge=0;ge<je.size;++ge)ee.write_shift(1,je.content[ge]);for(;ge&63;++ge)ee.write_shift(1,0)}if(tr)ee.l=ee.length;else for(;ee.l<ee.length;)ee.write_shift(1,0);return ee}function A(B,J){var G=B.FullPaths.map(function(ge){return ge.toUpperCase()}),Y=G.map(function(ge){var be=ge.split("/");return be[be.length-(ge.slice(-1)=="/"?2:1)]}),ee=!1;J.charCodeAt(0)===47?(ee=!0,J=G[0].slice(0,-1)+J):ee=J.indexOf("/")!==-1;var re=J.toUpperCase(),xe=ee===!0?G.indexOf(re):Y.indexOf(re);if(xe!==-1)return B.FileIndex[xe];var De=!re.match(Pf);for(re=re.replace($m,""),De&&(re=re.replace(Pf,"!")),xe=0;xe<G.length;++xe)if((De?G[xe].replace(Pf,"!"):G[xe]).replace($m,"")==re||(De?Y[xe].replace(Pf,"!"):Y[xe]).replace($m,"")==re)return B.FileIndex[xe];return null}var V=64,q=-2,Z="d0cf11e0a1b11ae1",ue=[208,207,17,224,161,177,26,225],me="00000000000000000000000000000000",Q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:q,FREESECT:-1,HEADER_SIGNATURE:Z,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:me,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ae(B,J,G){d();var Y=C(B,G);c.writeFileSync(J,Y)}function oe(B){for(var J=new Array(B.length),G=0;G<B.length;++G)J[G]=String.fromCharCode(B[G]);return J.join("")}function R(B,J){var G=C(B,J);switch(J&&J.type||"buffer"){case"file":return d(),c.writeFileSync(J.filename,G),G;case"binary":return typeof G=="string"?G:oe(G);case"base64":return zh(typeof G=="string"?G:oe(G));case"buffer":if(tr)return Buffer.isBuffer(G)?G:El(G);case"array":return typeof G=="string"?Yn(G):G}return G}var O;function I(B){try{var J=B.InflateRaw,G=new J;if(G._processChunk(new Uint8Array([3,0]),G._finishFlushFlag),G.bytesRead)O=B;else throw new Error("zlib does not expose bytesRead")}catch(Y){console.error("cannot use native zlib: "+(Y.message||Y))}}function X(B,J){if(!O)return Te(B,J);var G=O.InflateRaw,Y=new G,ee=Y._processChunk(B.slice(B.l),Y._finishFlushFlag);return B.l+=Y.bytesRead,ee}function W(B){return O?O.deflateRawSync(B):lt(B)}var T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],D=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function M(B){var J=(B<<1|B<<11)&139536|(B<<5|B<<15)&558144;return(J>>16|J>>8|J)&255}for(var z=typeof Uint8Array<"u",se=z?new Uint8Array(256):[],ne=0;ne<256;++ne)se[ne]=M(ne);function te(B,J){var G=se[B&255];return J<=8?G>>>8-J:(G=G<<8|se[B>>8&255],J<=16?G>>>16-J:(G=G<<8|se[B>>16&255],G>>>24-J))}function Re(B,J){var G=J&7,Y=J>>>3;return(B[Y]|(G<=6?0:B[Y+1]<<8))>>>G&3}function Ce(B,J){var G=J&7,Y=J>>>3;return(B[Y]|(G<=5?0:B[Y+1]<<8))>>>G&7}function Je(B,J){var G=J&7,Y=J>>>3;return(B[Y]|(G<=4?0:B[Y+1]<<8))>>>G&15}function Ge(B,J){var G=J&7,Y=J>>>3;return(B[Y]|(G<=3?0:B[Y+1]<<8))>>>G&31}function Le(B,J){var G=J&7,Y=J>>>3;return(B[Y]|(G<=1?0:B[Y+1]<<8))>>>G&127}function mt(B,J,G){var Y=J&7,ee=J>>>3,re=(1<<G)-1,xe=B[ee]>>>Y;return G<8-Y||(xe|=B[ee+1]<<8-Y,G<16-Y)||(xe|=B[ee+2]<<16-Y,G<24-Y)||(xe|=B[ee+3]<<24-Y),xe&re}function Tt(B,J,G){var Y=J&7,ee=J>>>3;return Y<=5?B[ee]|=(G&7)<<Y:(B[ee]|=G<<Y&255,B[ee+1]=(G&7)>>8-Y),J+3}function Pe(B,J,G){var Y=J&7,ee=J>>>3;return G=(G&1)<<Y,B[ee]|=G,J+1}function dt(B,J,G){var Y=J&7,ee=J>>>3;return G<<=Y,B[ee]|=G&255,G>>>=8,B[ee+1]=G,J+8}function $e(B,J,G){var Y=J&7,ee=J>>>3;return G<<=Y,B[ee]|=G&255,G>>>=8,B[ee+1]=G&255,B[ee+2]=G>>>8,J+16}function Qe(B,J){var G=B.length,Y=2*G>J?2*G:J+5,ee=0;if(G>=J)return B;if(tr){var re=FA(Y);if(B.copy)B.copy(re);else for(;ee<B.length;++ee)re[ee]=B[ee];return re}else if(z){var xe=new Uint8Array(Y);if(xe.set)xe.set(B);else for(;ee<G;++ee)xe[ee]=B[ee];return xe}return B.length=Y,B}function Xe(B){for(var J=new Array(B),G=0;G<B;++G)J[G]=0;return J}function kt(B,J,G){var Y=1,ee=0,re=0,xe=0,De=0,ge=B.length,be=z?new Uint16Array(32):Xe(32);for(re=0;re<32;++re)be[re]=0;for(re=ge;re<G;++re)B[re]=0;ge=B.length;var je=z?new Uint16Array(ge):Xe(ge);for(re=0;re<ge;++re)be[ee=B[re]]++,Y<ee&&(Y=ee),je[re]=0;for(be[0]=0,re=1;re<=Y;++re)be[re+16]=De=De+be[re-1]<<1;for(re=0;re<ge;++re)De=B[re],De!=0&&(je[re]=be[De+16]++);var Ke=0;for(re=0;re<ge;++re)if(Ke=B[re],Ke!=0)for(De=te(je[re],Y)>>Y-Ke,xe=(1<<Y+4-Ke)-1;xe>=0;--xe)J[De|xe<<Ke]=Ke&15|re<<4;return Y}var er=z?new Uint16Array(512):Xe(512),we=z?new Uint16Array(32):Xe(32);if(!z){for(var F=0;F<512;++F)er[F]=0;for(F=0;F<32;++F)we[F]=0}(function(){for(var B=[],J=0;J<32;J++)B.push(5);kt(B,we,32);var G=[];for(J=0;J<=143;J++)G.push(8);for(;J<=255;J++)G.push(9);for(;J<=279;J++)G.push(7);for(;J<=287;J++)G.push(8);kt(G,er,288)})();var fe=function(){for(var J=z?new Uint8Array(32768):[],G=0,Y=0;G<D.length-1;++G)for(;Y<D[G+1];++Y)J[Y]=G;for(;Y<32768;++Y)J[Y]=29;var ee=z?new Uint8Array(259):[];for(G=0,Y=0;G<L.length-1;++G)for(;Y<L[G+1];++Y)ee[Y]=G;function re(De,ge){for(var be=0;be<De.length;){var je=Math.min(65535,De.length-be),Ke=be+je==De.length;for(ge.write_shift(1,+Ke),ge.write_shift(2,je),ge.write_shift(2,~je&65535);je-- >0;)ge[ge.l++]=De[be++]}return ge.l}function xe(De,ge){for(var be=0,je=0,Ke=z?new Uint16Array(32768):[];je<De.length;){var nt=Math.min(65535,De.length-je);if(nt<10){for(be=Tt(ge,be,+(je+nt==De.length)),be&7&&(be+=8-(be&7)),ge.l=be/8|0,ge.write_shift(2,nt),ge.write_shift(2,~nt&65535);nt-- >0;)ge[ge.l++]=De[je++];be=ge.l*8;continue}be=Tt(ge,be,+(je+nt==De.length)+2);for(var ft=0;nt-- >0;){var He=De[je];ft=(ft<<5^He)&32767;var ct=-1,H=0;if((ct=Ke[ft])&&(ct|=je&-32768,ct>je&&(ct-=32768),ct<je))for(;De[ct+H]==De[je+H]&&H<250;)++H;if(H>2){He=ee[H],He<=22?be=dt(ge,be,se[He+1]>>1)-1:(dt(ge,be,3),be+=5,dt(ge,be,se[He-23]>>5),be+=3);var wt=He<8?0:He-4>>2;wt>0&&($e(ge,be,H-L[He]),be+=wt),He=J[je-ct],be=dt(ge,be,se[He]>>3),be-=3;var ze=He<4?0:He-2>>1;ze>0&&($e(ge,be,je-ct-D[He]),be+=ze);for(var Se=0;Se<H;++Se)Ke[ft]=je&32767,ft=(ft<<5^De[je])&32767,++je;nt-=H-1}else He<=143?He=He+48:be=Pe(ge,be,1),be=dt(ge,be,se[He]),Ke[ft]=je&32767,++je}be=dt(ge,be,0)-1}return ge.l=(be+7)/8|0,ge.l}return function(ge,be){return ge.length<8?re(ge,be):xe(ge,be)}}();function lt(B){var J=Oe(50+Math.floor(B.length*1.1)),G=fe(B,J);return J.slice(0,G)}var Nt=z?new Uint16Array(32768):Xe(32768),ye=z?new Uint16Array(32768):Xe(32768),qe=z?new Uint16Array(128):Xe(128),st=1,St=1;function de(B,J){var G=Ge(B,J)+257;J+=5;var Y=Ge(B,J)+1;J+=5;var ee=Je(B,J)+4;J+=4;for(var re=0,xe=z?new Uint8Array(19):Xe(19),De=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ge=1,be=z?new Uint8Array(8):Xe(8),je=z?new Uint8Array(8):Xe(8),Ke=xe.length,nt=0;nt<ee;++nt)xe[T[nt]]=re=Ce(B,J),ge<re&&(ge=re),be[re]++,J+=3;var ft=0;for(be[0]=0,nt=1;nt<=ge;++nt)je[nt]=ft=ft+be[nt-1]<<1;for(nt=0;nt<Ke;++nt)(ft=xe[nt])!=0&&(De[nt]=je[ft]++);var He=0;for(nt=0;nt<Ke;++nt)if(He=xe[nt],He!=0){ft=se[De[nt]]>>8-He;for(var ct=(1<<7-He)-1;ct>=0;--ct)qe[ft|ct<<He]=He&7|nt<<3}var H=[];for(ge=1;H.length<G+Y;)switch(ft=qe[Le(B,J)],J+=ft&7,ft>>>=3){case 16:for(re=3+Re(B,J),J+=2,ft=H[H.length-1];re-- >0;)H.push(ft);break;case 17:for(re=3+Ce(B,J),J+=3;re-- >0;)H.push(0);break;case 18:for(re=11+Le(B,J),J+=7;re-- >0;)H.push(0);break;default:H.push(ft),ge<ft&&(ge=ft);break}var wt=H.slice(0,G),ze=H.slice(G);for(nt=G;nt<286;++nt)wt[nt]=0;for(nt=Y;nt<30;++nt)ze[nt]=0;return st=kt(wt,Nt,286),St=kt(ze,ye,30),J}function he(B,J){if(B[0]==3&&!(B[1]&3))return[Mc(J),2];for(var G=0,Y=0,ee=FA(J||1<<18),re=0,xe=ee.length>>>0,De=0,ge=0;!(Y&1);){if(Y=Ce(B,G),G+=3,Y>>>1)Y>>1==1?(De=9,ge=5):(G=de(B,G),De=st,ge=St);else{G&7&&(G+=8-(G&7));var be=B[G>>>3]|B[(G>>>3)+1]<<8;if(G+=32,be>0)for(!J&&xe<re+be&&(ee=Qe(ee,re+be),xe=ee.length);be-- >0;)ee[re++]=B[G>>>3],G+=8;continue}for(;;){!J&&xe<re+32767&&(ee=Qe(ee,re+32767),xe=ee.length);var je=mt(B,G,De),Ke=Y>>>1==1?er[je]:Nt[je];if(G+=Ke&15,Ke>>>=4,!(Ke>>>8&255))ee[re++]=Ke;else{if(Ke==256)break;Ke-=257;var nt=Ke<8?0:Ke-4>>2;nt>5&&(nt=0);var ft=re+L[Ke];nt>0&&(ft+=mt(B,G,nt),G+=nt),je=mt(B,G,ge),Ke=Y>>>1==1?we[je]:ye[je],G+=Ke&15,Ke>>>=4;var He=Ke<4?0:Ke-2>>1,ct=D[Ke];for(He>0&&(ct+=mt(B,G,He),G+=He),!J&&xe<ft&&(ee=Qe(ee,ft+100),xe=ee.length);re<ft;)ee[re]=ee[re-ct],++re}}}return J?[ee,G+7>>>3]:[ee.slice(0,re),G+7>>>3]}function Te(B,J){var G=B.slice(B.l||0),Y=he(G,J);return B.l+=Y[1],Y[0]}function ce(B,J){if(B)typeof console<"u"&&console.error(J);else throw new Error(J)}function U(B,J){var G=B;Ga(G,0);var Y=[],ee=[],re={FileIndex:Y,FullPaths:ee};S(re,{root:J.root});for(var xe=G.length-4;(G[xe]!=80||G[xe+1]!=75||G[xe+2]!=5||G[xe+3]!=6)&&xe>=0;)--xe;G.l=xe+4,G.l+=4;var De=G.read_shift(2);G.l+=6;var ge=G.read_shift(4);for(G.l=ge,xe=0;xe<De;++xe){G.l+=20;var be=G.read_shift(4),je=G.read_shift(4),Ke=G.read_shift(2),nt=G.read_shift(2),ft=G.read_shift(2);G.l+=8;var He=G.read_shift(4),ct=o(G.slice(G.l+Ke,G.l+Ke+nt));G.l+=Ke+nt+ft;var H=G.l;G.l=He+4,ie(G,be,je,re,ct),G.l=H}return re}function ie(B,J,G,Y,ee){B.l+=2;var re=B.read_shift(2),xe=B.read_shift(2),De=l(B);if(re&8257)throw new Error("Unsupported ZIP encryption");for(var ge=B.read_shift(4),be=B.read_shift(4),je=B.read_shift(4),Ke=B.read_shift(2),nt=B.read_shift(2),ft="",He=0;He<Ke;++He)ft+=String.fromCharCode(B[B.l++]);if(nt){var ct=o(B.slice(B.l,B.l+nt));(ct[21589]||{}).mt&&(De=ct[21589].mt),((ee||{})[21589]||{}).mt&&(De=ee[21589].mt)}B.l+=nt;var H=B.slice(B.l,B.l+be);switch(xe){case 8:H=X(B,je);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+xe)}var wt=!1;re&8&&(ge=B.read_shift(4),ge==134695760&&(ge=B.read_shift(4),wt=!0),be=B.read_shift(4),je=B.read_shift(4)),be!=J&&ce(wt,"Bad compressed size: "+J+" != "+be),je!=G&&ce(wt,"Bad uncompressed size: "+G+" != "+je),et(Y,ft,H,{unsafe:!0,mt:De})}function Ae(B,J){var G=J||{},Y=[],ee=[],re=Oe(1),xe=G.compression?8:0,De=0,ge=0,be=0,je=0,Ke=0,nt=B.FullPaths[0],ft=nt,He=B.FileIndex[0],ct=[],H=0;for(ge=1;ge<B.FullPaths.length;++ge)if(ft=B.FullPaths[ge].slice(nt.length),He=B.FileIndex[ge],!(!He.size||!He.content||ft=="Sh33tJ5")){var wt=je,ze=Oe(ft.length);for(be=0;be<ft.length;++be)ze.write_shift(1,ft.charCodeAt(be)&127);ze=ze.slice(0,ze.l),ct[Ke]=nge.buf(He.content,0);var Se=He.content;xe==8&&(Se=W(Se)),re=Oe(30),re.write_shift(4,67324752),re.write_shift(2,20),re.write_shift(2,De),re.write_shift(2,xe),He.mt?i(re,He.mt):re.write_shift(4,0),re.write_shift(-4,ct[Ke]),re.write_shift(4,Se.length),re.write_shift(4,He.content.length),re.write_shift(2,ze.length),re.write_shift(2,0),je+=re.length,Y.push(re),je+=ze.length,Y.push(ze),je+=Se.length,Y.push(Se),re=Oe(46),re.write_shift(4,33639248),re.write_shift(2,0),re.write_shift(2,20),re.write_shift(2,De),re.write_shift(2,xe),re.write_shift(4,0),re.write_shift(-4,ct[Ke]),re.write_shift(4,Se.length),re.write_shift(4,He.content.length),re.write_shift(2,ze.length),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(4,0),re.write_shift(4,wt),H+=re.l,ee.push(re),H+=ze.length,ee.push(ze),++Ke}return re=Oe(22),re.write_shift(4,101010256),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,Ke),re.write_shift(2,Ke),re.write_shift(4,H),re.write_shift(4,je),re.write_shift(2,0),$s([$s(Y),$s(ee),re])}var Ue={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Me(B,J){if(B.ctype)return B.ctype;var G=B.name||"",Y=G.match(/\.([^\.]+)$/);return Y&&Ue[Y[1]]||J&&(Y=(G=J).match(/[\.\\]([^\.\\])+$/),Y&&Ue[Y[1]])?Ue[Y[1]]:"application/octet-stream"}function le(B){for(var J=zh(B),G=[],Y=0;Y<J.length;Y+=76)G.push(J.slice(Y,Y+76));return G.join(`\r
`)+`\r
`}function Ne(B){var J=B.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(be){var je=be.charCodeAt(0).toString(16).toUpperCase();return"="+(je.length==1?"0"+je:je)});J=J.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),J.charAt(0)==`
`&&(J="=0D"+J.slice(1)),J=J.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var G=[],Y=J.split(`\r
`),ee=0;ee<Y.length;++ee){var re=Y[ee];if(re.length==0){G.push("");continue}for(var xe=0;xe<re.length;){var De=76,ge=re.slice(xe,xe+De);ge.charAt(De-1)=="="?De--:ge.charAt(De-2)=="="?De-=2:ge.charAt(De-3)=="="&&(De-=3),ge=re.slice(xe,xe+De),xe+=De,xe<re.length&&(ge+="="),G.push(ge)}}return G.join(`\r
`)}function We(B){for(var J=[],G=0;G<B.length;++G){for(var Y=B[G];G<=B.length&&Y.charAt(Y.length-1)=="=";)Y=Y.slice(0,Y.length-1)+B[++G];J.push(Y)}for(var ee=0;ee<J.length;++ee)J[ee]=J[ee].replace(/[=][0-9A-Fa-f]{2}/g,function(re){return String.fromCharCode(parseInt(re.slice(1),16))});return Yn(J.join(`\r
`))}function at(B,J,G){for(var Y="",ee="",re="",xe,De=0;De<10;++De){var ge=J[De];if(!ge||ge.match(/^\s*$/))break;var be=ge.match(/^(.*?):\s*([^\s].*)$/);if(be)switch(be[1].toLowerCase()){case"content-location":Y=be[2].trim();break;case"content-type":re=be[2].trim();break;case"content-transfer-encoding":ee=be[2].trim();break}}switch(++De,ee.toLowerCase()){case"base64":xe=Yn(bl(J.slice(De).join("")));break;case"quoted-printable":xe=We(J.slice(De));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ee)}var je=et(B,Y.slice(G.length),xe,{unsafe:!0});re&&(je.ctype=re)}function it(B,J){if(oe(B.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var G=J&&J.root||"",Y=(tr&&Buffer.isBuffer(B)?B.toString("binary"):oe(B)).split(`\r
`),ee=0,re="";for(ee=0;ee<Y.length;++ee)if(re=Y[ee],!!/^Content-Location:/i.test(re)&&(re=re.slice(re.indexOf("file")),G||(G=re.slice(0,re.lastIndexOf("/")+1)),re.slice(0,G.length)!=G))for(;G.length>0&&(G=G.slice(0,G.length-1),G=G.slice(0,G.lastIndexOf("/")+1),re.slice(0,G.length)!=G););var xe=(Y[1]||"").match(/boundary="(.*?)"/);if(!xe)throw new Error("MAD cannot find boundary");var De="--"+(xe[1]||""),ge=[],be=[],je={FileIndex:ge,FullPaths:be};S(je);var Ke,nt=0;for(ee=0;ee<Y.length;++ee){var ft=Y[ee];ft!==De&&ft!==De+"--"||(nt++&&at(je,Y.slice(Ke,ee),G),Ke=ee)}return je}function Ot(B,J){var G=J||{},Y=G.boundary||"SheetJS";Y="------="+Y;for(var ee=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Y.slice(2)+'"',"","",""],re=B.FullPaths[0],xe=re,De=B.FileIndex[0],ge=1;ge<B.FullPaths.length;++ge)if(xe=B.FullPaths[ge].slice(re.length),De=B.FileIndex[ge],!(!De.size||!De.content||xe=="Sh33tJ5")){xe=xe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(H){return"_x"+H.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(H){return"_u"+H.charCodeAt(0).toString(16)+"_"});for(var be=De.content,je=tr&&Buffer.isBuffer(be)?be.toString("binary"):oe(be),Ke=0,nt=Math.min(1024,je.length),ft=0,He=0;He<=nt;++He)(ft=je.charCodeAt(He))>=32&&ft<128&&++Ke;var ct=Ke>=nt*4/5;ee.push(Y),ee.push("Content-Location: "+(G.root||"file:///C:/SheetJS/")+xe),ee.push("Content-Transfer-Encoding: "+(ct?"quoted-printable":"base64")),ee.push("Content-Type: "+Me(De,xe)),ee.push(""),ee.push(ct?Ne(je):le(je))}return ee.push(Y+`--\r
`),ee.join(`\r
`)}function Et(B){var J={};return S(J,B),J}function et(B,J,G,Y){var ee=Y&&Y.unsafe;ee||S(B);var re=!ee&&dr.find(B,J);if(!re){var xe=B.FullPaths[0];J.slice(0,xe.length)==xe?xe=J:(xe.slice(-1)!="/"&&(xe+="/"),xe=(xe+J).replace("//","/")),re={name:n(J),type:2},B.FileIndex.push(re),B.FullPaths.push(xe),ee||dr.utils.cfb_gc(B)}return re.content=G,re.size=G?G.length:0,Y&&(Y.CLSID&&(re.clsid=Y.CLSID),Y.mt&&(re.mt=Y.mt),Y.ct&&(re.ct=Y.ct)),re}function sr(B,J){S(B);var G=dr.find(B,J);if(G){for(var Y=0;Y<B.FileIndex.length;++Y)if(B.FileIndex[Y]==G)return B.FileIndex.splice(Y,1),B.FullPaths.splice(Y,1),!0}return!1}function rs(B,J,G){S(B);var Y=dr.find(B,J);if(Y){for(var ee=0;ee<B.FileIndex.length;++ee)if(B.FileIndex[ee]==Y)return B.FileIndex[ee].name=n(G),B.FullPaths[ee]=G,!0}return!1}function zr(B){_(B,!0)}return t.find=A,t.read=k,t.parse=u,t.write=R,t.writeFile=ae,t.utils={cfb_new:Et,cfb_add:et,cfb_del:sr,cfb_mov:rs,cfb_gc:zr,ReadShift:zm,CheckField:VF,prep_blob:Ga,bconcat:$s,use_zlib:I,_deflateRaw:lt,_inflateRaw:Te,consts:Q},t}();function ige(e){return typeof e=="string"?Gy(e):Array.isArray(e)?Ixe(e):e}function A0(e,t,s){if(typeof Deno<"u"){if(s&&typeof t=="string")switch(s){case"utf8":t=new TextEncoder(s).encode(t);break;case"binary":t=Gy(t);break;default:throw new Error("Unsupported encoding "+s)}return Deno.writeFileSync(e,t)}var a=s=="utf8"?Hh(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var n=new Blob([ige(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(typeof saveAs<"u")return saveAs(n,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=P0(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function qs(e){for(var t=Object.keys(e),s=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&s.push(t[a]);return s}function WA(e,t){for(var s=[],a=qs(e),n=0;n!==a.length;++n)s[e[a[n]][t]]==null&&(s[e[a[n]][t]]=a[n]);return s}function m3(e){for(var t=[],s=qs(e),a=0;a!==s.length;++a)t[e[s[a]]]=s[a];return t}function Yy(e){for(var t=[],s=qs(e),a=0;a!==s.length;++a)t[e[s[a]]]=parseInt(s[a],10);return t}function lge(e){for(var t=[],s=qs(e),a=0;a!==s.length;++a)t[e[s[a]]]==null&&(t[e[s[a]]]=[]),t[e[s[a]]].push(s[a]);return t}var Wx=new Date(1899,11,30,0,0,0);function Fa(e,t){var s=e.getTime(),a=Wx.getTime()+(e.getTimezoneOffset()-Wx.getTimezoneOffset())*6e4;return(s-a)/(24*60*60*1e3)}var CF=new Date,oge=Wx.getTime()+(CF.getTimezoneOffset()-Wx.getTimezoneOffset())*6e4,GA=CF.getTimezoneOffset();function PF(e){var t=new Date;return t.setTime(e*24*60*60*1e3+oge),t.getTimezoneOffset()!==GA&&t.setTime(t.getTime()+(t.getTimezoneOffset()-GA)*6e4),t}var KA=new Date("2017-02-19T19:06:09.000Z"),AF=isNaN(KA.getFullYear())?new Date("2/19/17"):KA,cge=AF.getFullYear()==2017;function Na(e,t){var s=new Date(e);if(cge)return t>0?s.setTime(s.getTime()+s.getTimezoneOffset()*60*1e3):t<0&&s.setTime(s.getTime()-s.getTimezoneOffset()*60*1e3),s;if(e instanceof Date)return e;if(AF.getFullYear()==1917&&!isNaN(s.getFullYear())){var a=s.getFullYear();return e.indexOf(""+a)>-1||s.setFullYear(s.getFullYear()+100),s}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Xy(e,t){if(tr&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var s={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return s[i]||i})}catch{}for(var a=[],n=0;n!=e.length;++n)a.push(String.fromCharCode(e[n]));return a.join("")}function Ra(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=Ra(e[s]));return t}function Kr(e,t){for(var s="";s.length<t;)s+=e;return s}function rl(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var s=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return s*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(n,i){return s=-s,i}),!isNaN(t=Number(a)))?t/s:t}var dge=["january","february","march","april","may","june","july","august","september","october","november","december"];function Vh(e){var t=new Date(e),s=new Date(NaN),a=t.getYear(),n=t.getMonth(),i=t.getDate();if(isNaN(i))return s;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&dge.indexOf(l)==-1)return s}else if(l.match(/[a-z]/))return s;return a<0||a>8099?s:(n>0||i>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?s:t}function Rt(e,t,s){if(e.FullPaths){if(typeof s=="string"){var a;return tr?a=El(s):a=Oxe(s),dr.utils.cfb_add(e,t,a)}dr.utils.cfb_add(e,t,s)}else e.file(t,s)}function h3(){return dr.utils.cfb_new()}var hs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,uge={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},f3=m3(uge),p3=/[&<>'"]/g,mge=/[\u0000-\u0008\u000b-\u001f]/g;function lr(e){var t=e+"";return t.replace(p3,function(s){return f3[s]}).replace(mge,function(s){return"_x"+("000"+s.charCodeAt(0).toString(16)).slice(-4)+"_"})}function qA(e){return lr(e).replace(/ /g,"_x0020_")}var TF=/[\u0000-\u001f]/g;function hge(e){var t=e+"";return t.replace(p3,function(s){return f3[s]}).replace(/\n/g,"<br/>").replace(TF,function(s){return"&#x"+("000"+s.charCodeAt(0).toString(16)).slice(-4)+";"})}function fge(e){var t=e+"";return t.replace(p3,function(s){return f3[s]}).replace(TF,function(s){return"&#x"+s.charCodeAt(0).toString(16).toUpperCase()+";"})}function pge(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function xge(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Ov(e){for(var t="",s=0,a=0,n=0,i=0,l=0,o=0;s<e.length;){if(a=e.charCodeAt(s++),a<128){t+=String.fromCharCode(a);continue}if(n=e.charCodeAt(s++),a>191&&a<224){l=(a&31)<<6,l|=n&63,t+=String.fromCharCode(l);continue}if(i=e.charCodeAt(s++),a<240){t+=String.fromCharCode((a&15)<<12|(n&63)<<6|i&63);continue}l=e.charCodeAt(s++),o=((a&7)<<18|(n&63)<<12|(i&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function YA(e){var t=Mc(2*e.length),s,a,n=1,i=0,l=0,o;for(a=0;a<e.length;a+=n)n=1,(o=e.charCodeAt(a))<128?s=o:o<224?(s=(o&31)*64+(e.charCodeAt(a+1)&63),n=2):o<240?(s=(o&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),n=3):(n=4,s=(o&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),s-=65536,l=55296+(s>>>10&1023),s=56320+(s&1023)),l!==0&&(t[i++]=l&255,t[i++]=l>>>8,l=0),t[i++]=s%256,t[i++]=s>>>8;return t.slice(0,i).toString("ucs2")}function XA(e){return El(e,"binary").toString("utf8")}var Tf="foo bar baz",Um=tr&&(XA(Tf)==Ov(Tf)&&XA||YA(Tf)==Ov(Tf)&&YA)||Ov,Hh=tr?function(e){return El(e,"utf8").toString("binary")}:function(e){for(var t=[],s=0,a=0,n=0;s<e.length;)switch(a=e.charCodeAt(s++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,n=e.charCodeAt(s++)-56320+(a<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},gge=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(s){for(var a=s.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)a=a.replace(e[n][0],e[n][1]);return a}}(),EF=/(^\s|\s$|\n)/;function Us(e,t){return"<"+e+(t.match(EF)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Wh(e){return qs(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ze(e,t,s){return"<"+e+(s!=null?Wh(s):"")+(t!=null?(t.match(EF)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function cj(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(s){if(t)throw s}return""}function yge(e,t){switch(typeof e){case"string":var s=Ze("vt:lpwstr",lr(e));return s=s.replace(/&quot;/g,"_x0022_"),s;case"number":return Ze((e|0)==e?"vt:i4":"vt:r8",lr(String(e)));case"boolean":return Ze("vt:bool",e?"true":"false")}if(e instanceof Date)return Ze("vt:filetime",cj(e));throw new Error("Unable to serialize "+e)}var Ps={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},zu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ka={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function bge(e,t){for(var s=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),n=e[t+6]&15,i=5;i>=0;--i)n=n*256+e[t+i];return a==2047?n==0?s*(1/0):NaN:(a==0?a=-1022:(a-=1023,n+=Math.pow(2,52)),s*Math.pow(2,a-52)*n)}function vge(e,t,s){var a=(t<0||1/t==-1/0?1:0)<<7,n=0,i=0,l=a?-t:t;isFinite(l)?l==0?n=i=0:(n=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-n),n<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?n=-1022:(i-=Math.pow(2,52),n+=1023)):(n=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[s+o]=i&255;e[s+6]=(n&15)<<4|i&15,e[s+7]=n>>4|a}var JA=function(e){for(var t=[],s=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var n=0,i=e[0][a].length;n<i;n+=s)t.push.apply(t,e[0][a].slice(n,n+s));return t},QA=tr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:El(t)})):JA(e)}:JA,ZA=function(e,t,s){for(var a=[],n=t;n<s;n+=2)a.push(String.fromCharCode(km(e,n)));return a.join("").replace($m,"")},x3=tr?function(e,t,s){return Buffer.isBuffer(e)?e.toString("utf16le",t,s).replace($m,""):ZA(e,t,s)}:ZA,eT=function(e,t,s){for(var a=[],n=t;n<t+s;++n)a.push(("0"+e[n].toString(16)).slice(-2));return a.join("")},_F=tr?function(e,t,s){return Buffer.isBuffer(e)?e.toString("hex",t,t+s):eT(e,t,s)}:eT,tT=function(e,t,s){for(var a=[],n=t;n<s;n++)a.push(String.fromCharCode(hd(e,n)));return a.join("")},T0=tr?function(t,s,a){return Buffer.isBuffer(t)?t.toString("utf8",s,a):tT(t,s,a)}:tT,IF=function(e,t){var s=qa(e,t);return s>0?T0(e,t+4,t+4+s-1):""},OF=IF,DF=function(e,t){var s=qa(e,t);return s>0?T0(e,t+4,t+4+s-1):""},MF=DF,LF=function(e,t){var s=2*qa(e,t);return s>0?T0(e,t+4,t+4+s-1):""},FF=LF,RF=function(t,s){var a=qa(t,s);return a>0?x3(t,s+4,s+4+a):""},BF=RF,$F=function(e,t){var s=qa(e,t);return s>0?T0(e,t+4,t+4+s):""},UF=$F,zF=function(e,t){return bge(e,t)},Gx=zF,g3=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};tr&&(OF=function(t,s){if(!Buffer.isBuffer(t))return IF(t,s);var a=t.readUInt32LE(s);return a>0?t.toString("utf8",s+4,s+4+a-1):""},MF=function(t,s){if(!Buffer.isBuffer(t))return DF(t,s);var a=t.readUInt32LE(s);return a>0?t.toString("utf8",s+4,s+4+a-1):""},FF=function(t,s){if(!Buffer.isBuffer(t))return LF(t,s);var a=2*t.readUInt32LE(s);return t.toString("utf16le",s+4,s+4+a-1)},BF=function(t,s){if(!Buffer.isBuffer(t))return RF(t,s);var a=t.readUInt32LE(s);return t.toString("utf16le",s+4,s+4+a)},UF=function(t,s){if(!Buffer.isBuffer(t))return $F(t,s);var a=t.readUInt32LE(s);return t.toString("utf8",s+4,s+4+a)},Gx=function(t,s){return Buffer.isBuffer(t)?t.readDoubleLE(s):zF(t,s)},g3=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var hd=function(e,t){return e[t]},km=function(e,t){return e[t+1]*256+e[t]},jge=function(e,t){var s=e[t+1]*256+e[t];return s<32768?s:(65535-s+1)*-1},qa=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Go=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},wge=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function zm(e,t){var s="",a,n,i=[],l,o,c,d;switch(t){case"dbcs":if(d=this.l,tr&&Buffer.isBuffer(this))s=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)s+=String.fromCharCode(km(this,d)),d+=2;e*=2;break;case"utf8":s=T0(this,this.l,this.l+e);break;case"utf16le":e*=2,s=x3(this,this.l,this.l+e);break;case"wstr":return zm.call(this,e,"dbcs");case"lpstr-ansi":s=OF(this,this.l),e=4+qa(this,this.l);break;case"lpstr-cp":s=MF(this,this.l),e=4+qa(this,this.l);break;case"lpwstr":s=FF(this,this.l),e=4+2*qa(this,this.l);break;case"lpp4":e=4+qa(this,this.l),s=BF(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+qa(this,this.l),s=UF(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,s="";(l=hd(this,this.l+e++))!==0;)i.push(Cf(l));s=i.join("");break;case"_wstr":for(e=0,s="";(l=km(this,this.l+e))!==0;)i.push(Cf(l)),e+=2;e+=2,s=i.join("");break;case"dbcs-cont":for(s="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return l=hd(this,d),this.l=d+1,o=zm.call(this,e-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Cf(km(this,d))),d+=2}s=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(s="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return l=hd(this,d),this.l=d+1,o=zm.call(this,e-c,l?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Cf(hd(this,d))),d+=1}s=i.join("");break;default:switch(e){case 1:return a=hd(this,this.l),this.l++,a;case 2:return a=(t==="i"?jge:km)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(a=(e>0?Go:wge)(this,this.l),this.l+=4,a):(n=qa(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return e==8?n=Gx(this,this.l):n=Gx([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:s=_F(this,this.l,e);break}}return this.l+=e,s}var Nge=function(e,t,s){e[s]=t&255,e[s+1]=t>>>8&255,e[s+2]=t>>>16&255,e[s+3]=t>>>24&255},Sge=function(e,t,s){e[s]=t&255,e[s+1]=t>>8&255,e[s+2]=t>>16&255,e[s+3]=t>>24&255},kge=function(e,t,s){e[s]=t&255,e[s+1]=t>>>8&255};function Cge(e,t,s){var a=0,n=0;if(s==="dbcs"){for(n=0;n!=t.length;++n)kge(this,t.charCodeAt(n),this.l+2*n);a=2*t.length}else if(s==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;a=t.length}else if(s==="hex"){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(s==="utf16le"){var i=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var l=t.charCodeAt(n);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,Nge(this,t,this.l);break;case 8:if(a=8,s==="f"){vge(this,t,this.l);break}case 16:break;case-4:a=4,Sge(this,t,this.l);break}return this.l+=a,this}function VF(e,t){var s=_F(this,this.l,e.length>>1);if(s!==e)throw new Error(t+"Expected "+e+" saw "+s);this.l+=e.length>>1}function Ga(e,t){e.l=t,e.read_shift=zm,e.chk=VF,e.write_shift=Cge}function Ii(e,t){e.l+=t}function Oe(e){var t=Mc(e);return Ga(t,0),t}function Ma(){var e=[],t=tr?256:2048,s=function(d){var u=Oe(d);return Ga(u,0),u},a=s(t),n=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(d){return a&&d<a.length-a.l?a:(n(),a=s(Math.max(d+1,t)))},l=function(){return n(),$s(e)},o=function(d){n(),a=d,a.l==null&&(a.l=a.length),i(t)};return{next:i,push:o,end:l,_bufs:e}}function Ve(e,t,s,a){var n=+t,i;if(!isNaN(n)){a||(a=bje[n].p||(s||[]).length||0),i=1+(n>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var l=e.next(i);n<=127?l.write_shift(1,n):(l.write_shift(1,(n&127)+128),l.write_shift(1,n>>7));for(var o=0;o!=4;++o)if(a>=128)l.write_shift(1,(a&127)+128),a>>=7;else{l.write_shift(1,a);break}a>0&&g3(s)&&e.push(s)}}function Vm(e,t,s){var a=Ra(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!s||s.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function rT(e,t,s){var a=Ra(e);return a.s=Vm(a.s,t.s,s),a.e=Vm(a.e,t.s,s),a}function Hm(e,t){if(e.cRel&&e.c<0)for(e=Ra(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ra(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var s=cr(e);return!e.cRel&&e.cRel!=null&&(s=Tge(s)),!e.rRel&&e.rRel!=null&&(s=Pge(s)),s}function Dv(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+la(e.s.c)+":"+(e.e.cRel?"":"$")+la(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Gs(e.s.r)+":"+(e.e.rRel?"":"$")+Gs(e.e.r):Hm(e.s,t.biff)+":"+Hm(e.e,t.biff)}function y3(e){return parseInt(Age(e),10)-1}function Gs(e){return""+(e+1)}function Pge(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Age(e){return e.replace(/\$(\d+)$/,"$1")}function b3(e){for(var t=Ege(e),s=0,a=0;a!==t.length;++a)s=26*s+t.charCodeAt(a)-64;return s-1}function la(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Tge(e){return e.replace(/^([A-Z])/,"$$$1")}function Ege(e){return e.replace(/^\$([A-Z])/,"$1")}function _ge(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ts(e){for(var t=0,s=0,a=0;a<e.length;++a){var n=e.charCodeAt(a);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(s=26*s+(n-64))}return{c:s-1,r:t-1}}function cr(e){for(var t=e.c+1,s="";t;t=(t-1)/26|0)s=String.fromCharCode((t-1)%26+65)+s;return s+(e.r+1)}function ln(e){var t=e.indexOf(":");return t==-1?{s:Ts(e),e:Ts(e)}:{s:Ts(e.slice(0,t)),e:Ts(e.slice(t+1))}}function us(e,t){return typeof t>"u"||typeof t=="number"?us(e.s,e.e):(typeof e!="string"&&(e=cr(e)),typeof t!="string"&&(t=cr(t)),e==t?e:e+":"+t)}function Pr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},s=0,a=0,n=0,i=e.length;for(s=0;a<i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)s=26*s+n;for(t.s.c=--s,s=0;a<i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)s=10*s+n;if(t.s.r=--s,a===i||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,s=0;a!=i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)s=26*s+n;for(t.e.c=--s,s=0;a!=i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)s=10*s+n;return t.e.r=--s,t}function sT(e,t){var s=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=wo(e.z,s?Fa(t):t)}catch{}try{return e.w=wo((e.XF||{}).numFmtId||(s?14:0),s?Fa(t):t)}catch{return""+t}}function vl(e,t,s){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&s&&s.dateNF&&(e.z=s.dateNF),e.t=="e"?E0[e.v]||e.v:t==null?sT(e,e.v):sT(e,t))}function Yc(e,t){var s=t&&t.sheet?t.sheet:"Sheet1",a={};return a[s]=e,{SheetNames:[s],Sheets:a}}function HF(e,t,s){var a=s||{},n=e?Array.isArray(e):a.dense,i=e||(n?[]:{}),l=0,o=0;if(i&&a.origin!=null){if(typeof a.origin=="number")l=a.origin;else{var c=typeof a.origin=="string"?Ts(a.origin):a.origin;l=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Pr(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),l==-1&&(d.e.r=l=u.e.r+1)}for(var m=0;m!=t.length;++m)if(t[m]){if(!Array.isArray(t[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=t[m].length;++f)if(!(typeof t[m][f]>"u")){var h={v:t[m][f]},x=l+m,p=o+f;if(d.s.r>x&&(d.s.r=x),d.s.c>p&&(d.s.c=p),d.e.r<x&&(d.e.r=x),d.e.c<p&&(d.e.c=p),t[m][f]&&typeof t[m][f]=="object"&&!Array.isArray(t[m][f])&&!(t[m][f]instanceof Date))h=t[m][f];else if(Array.isArray(h.v)&&(h.f=t[m][f][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(a.nullError)h.t="e",h.v=0;else if(a.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=a.dateNF||qr[14],a.cellDates?(h.t="d",h.w=wo(h.z,Fa(h.v))):(h.t="n",h.v=Fa(h.v),h.w=wo(h.z,h.v))):h.t="s";if(n)i[x]||(i[x]=[]),i[x][p]&&i[x][p].z&&(h.z=i[x][p].z),i[x][p]=h;else{var b=cr({c:p,r:x});i[b]&&i[b].z&&(h.z=i[b].z),i[b]=h}}}return d.s.c<1e7&&(i["!ref"]=us(d)),i}function Vu(e,t){return HF(null,e,t)}function Ige(e){return e.read_shift(4,"i")}function ti(e,t){return t||(t=Oe(4)),t.write_shift(4,e),t}function oa(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Es(e,t){var s=!1;return t==null&&(s=!0,t=Oe(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),s?t.slice(0,t.l):t}function Oge(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Dge(e,t){return t||(t=Oe(4)),t.write_shift(2,0),t.write_shift(2,0),t}function v3(e,t){var s=e.l,a=e.read_shift(1),n=oa(e),i=[],l={t:n,h:n};if(a&1){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(Oge(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=s+t,l}function Mge(e,t){var s=!1;return t==null&&(s=!0,t=Oe(15+4*e.t.length)),t.write_shift(1,0),Es(e.t,t),s?t.slice(0,t.l):t}var Lge=v3;function Fge(e,t){var s=!1;return t==null&&(s=!0,t=Oe(23+4*e.t.length)),t.write_shift(1,1),Es(e.t,t),t.write_shift(4,1),Dge({},t),s?t.slice(0,t.l):t}function Fn(e){var t=e.read_shift(4),s=e.read_shift(2);return s+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:s}}function Xc(e,t){return t==null&&(t=Oe(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Jc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Qc(e,t){return t==null&&(t=Oe(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Rge=oa,WF=Es;function j3(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Kx(e,t){var s=!1;return t==null&&(s=!0,t=Oe(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),s?t.slice(0,t.l):t}var Bge=oa,dj=j3,w3=Kx;function GF(e){var t=e.slice(e.l,e.l+4),s=t[0]&1,a=t[0]&2;e.l+=4;var n=a===0?Gx([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Go(t,0)>>2;return s?n/100:n}function KF(e,t){t==null&&(t=Oe(4));var s=0,a=0,n=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(a=1,s=1),a)t.write_shift(-4,((s?n:e)<<2)+(s+2));else throw new Error("unsupported RkNumber "+e)}function qF(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function $ge(e,t){return t||(t=Oe(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Zc=qF,Hu=$ge;function Wu(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Lc(e,t){return(t||Oe(8)).write_shift(8,e,"f")}function Uge(e){var t={},s=e.read_shift(1),a=s>>>1,n=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=n;var d=Xge[n];d&&(t.rgb=fT(d));break;case 2:t.rgb=fT([l,o,c]);break;case 3:t.theme=n;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function qx(e,t){if(t||(t=Oe(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var s=e.tint||0;if(s>0?s*=32767:s<0&&(s*=32768),t.write_shift(2,s),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function zge(e){var t=e.read_shift(1);e.l++;var s={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return s}function Vge(e,t){t||(t=Oe(2));var s=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,s),t.write_shift(1,0),t}var YF=2,Va=3,Ef=11,Yx=19,_f=64,Hge=65,Wge=71,Gge=4108,Kge=4126,Rs=80,aT={1:{n:"CodePage",t:YF},2:{n:"Category",t:Rs},3:{n:"PresentationFormat",t:Rs},4:{n:"ByteCount",t:Va},5:{n:"LineCount",t:Va},6:{n:"ParagraphCount",t:Va},7:{n:"SlideCount",t:Va},8:{n:"NoteCount",t:Va},9:{n:"HiddenCount",t:Va},10:{n:"MultimediaClipCount",t:Va},11:{n:"ScaleCrop",t:Ef},12:{n:"HeadingPairs",t:Gge},13:{n:"TitlesOfParts",t:Kge},14:{n:"Manager",t:Rs},15:{n:"Company",t:Rs},16:{n:"LinksUpToDate",t:Ef},17:{n:"CharacterCount",t:Va},19:{n:"SharedDoc",t:Ef},22:{n:"HyperlinksChanged",t:Ef},23:{n:"AppVersion",t:Va,p:"version"},24:{n:"DigSig",t:Hge},26:{n:"ContentType",t:Rs},27:{n:"ContentStatus",t:Rs},28:{n:"Language",t:Rs},29:{n:"Version",t:Rs},255:{},2147483648:{n:"Locale",t:Yx},2147483651:{n:"Behavior",t:Yx},1919054434:{}},nT={1:{n:"CodePage",t:YF},2:{n:"Title",t:Rs},3:{n:"Subject",t:Rs},4:{n:"Author",t:Rs},5:{n:"Keywords",t:Rs},6:{n:"Comments",t:Rs},7:{n:"Template",t:Rs},8:{n:"LastAuthor",t:Rs},9:{n:"RevNumber",t:Rs},10:{n:"EditTime",t:_f},11:{n:"LastPrinted",t:_f},12:{n:"CreatedDate",t:_f},13:{n:"ModifiedDate",t:_f},14:{n:"PageCount",t:Va},15:{n:"WordCount",t:Va},16:{n:"CharCount",t:Va},17:{n:"Thumbnail",t:Wge},18:{n:"Application",t:Rs},19:{n:"DocSecurity",t:Va},255:{},2147483648:{n:"Locale",t:Yx},2147483651:{n:"Behavior",t:Yx},1919054434:{}};function qge(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Yge=qge([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Xge=Ra(Yge),E0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Jge={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},If={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function XF(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function JF(e,t){var s=lge(Jge),a=[],n;a[a.length]=hs,a[a.length]=Ze("Types",null,{xmlns:Ps.CT,"xmlns:xsd":Ps.xsd,"xmlns:xsi":Ps.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Ze("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(n=e[c][0],a[a.length]=Ze("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:If[c][t.bookType]||If[c].xlsx}))},l=function(c){(e[c]||[]).forEach(function(d){a[a.length]=Ze("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:If[c][t.bookType]||If[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(d){a[a.length]=Ze("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:s[c][0]})})};return i("workbooks"),l("sheets"),l("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),l("metadata"),o("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Xt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function QF(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Qd(e){var t=[hs,Ze("Relationships",null,{xmlns:Ps.RELS})];return qs(e["!id"]).forEach(function(s){t[t.length]=Ze("Relationship",null,e["!id"][s])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function nr(e,t,s,a,n,i){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,n.Id="rId"+t,n.Type=a,n.Target=s,[Xt.HLINK,Xt.XPATH,Xt.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,t}function Qge(e){var t=[hs];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var s=0;s<e.length;++s)t.push('  <manifest:file-entry manifest:full-path="'+e[s][0]+'" manifest:media-type="'+e[s][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function iT(e,t,s){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(s||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Zge(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function eye(e){var t=[hs];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var s=0;s!=e.length;++s)t.push(iT(e[s][0],e[s][1])),t.push(Zge("",e[s][0]));return t.push(iT("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function ZF(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+$x.version+"</meta:generator></office:meta></office:document-meta>"}var pc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Mv(e,t,s,a,n){n[e]!=null||t==null||t===""||(n[e]=t,t=lr(t),a[a.length]=s?Ze(e,t,s):Us(e,t))}function eR(e,t){var s=t||{},a=[hs,Ze("cp:coreProperties",null,{"xmlns:cp":Ps.CORE_PROPS,"xmlns:dc":Ps.dc,"xmlns:dcterms":Ps.dcterms,"xmlns:dcmitype":Ps.dcmitype,"xmlns:xsi":Ps.xsi})],n={};if(!e&&!s.Props)return a.join("");e&&(e.CreatedDate!=null&&Mv("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:cj(e.CreatedDate,s.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n),e.ModifiedDate!=null&&Mv("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:cj(e.ModifiedDate,s.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n));for(var i=0;i!=pc.length;++i){var l=pc[i],o=s.Props&&s.Props[l[1]]!=null?s.Props[l[1]]:e?e[l[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Mv(l[0],o,null,a,n)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var Zd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],tR=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function rR(e){var t=[],s=Ze;return e||(e={}),e.Application="SheetJS",t[t.length]=hs,t[t.length]=Ze("Properties",null,{xmlns:Ps.EXT_PROPS,"xmlns:vt":Ps.vt}),Zd.forEach(function(a){if(e[a[1]]!==void 0){var n;switch(a[2]){case"string":n=lr(String(e[a[1]]));break;case"bool":n=e[a[1]]?"true":"false";break}n!==void 0&&(t[t.length]=s(a[0],n))}}),t[t.length]=s("HeadingPairs",s("vt:vector",s("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+s("vt:variant",s("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=s("TitlesOfParts",s("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+lr(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function sR(e){var t=[hs,Ze("Properties",null,{xmlns:Ps.CUST_PROPS,"xmlns:vt":Ps.vt})];if(!e)return t.join("");var s=1;return qs(e).forEach(function(n){++s,t[t.length]=Ze("property",yge(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:s,name:lr(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var lT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function tye(e,t){var s=[];return qs(lT).map(function(a){for(var n=0;n<pc.length;++n)if(pc[n][1]==a)return pc[n];for(n=0;n<Zd.length;++n)if(Zd[n][1]==a)return Zd[n];throw a}).forEach(function(a){if(e[a[1]]!=null){var n=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];switch(a[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),s.push(Us(lT[a[1]]||a[1],n))}}),Ze("DocumentProperties",s.join(""),{xmlns:Ka.o})}function rye(e,t){var s=["Worksheets","SheetNames"],a="CustomDocumentProperties",n=[];return e&&qs(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<pc.length;++l)if(i==pc[l][1])return;for(l=0;l<Zd.length;++l)if(i==Zd[l][1])return;for(l=0;l<s.length;++l)if(i==s[l])return;var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),n.push(Ze(qA(i),o,{"dt:dt":c}))}}),t&&qs(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=t[i],o="string";typeof l=="number"?(o="float",l=String(l)):l===!0||l===!1?(o="boolean",l=l?"1":"0"):l instanceof Date?(o="dateTime.tz",l=l.toISOString()):l=String(l),n.push(Ze(qA(i),l,{"dt:dt":o}))}}),"<"+a+' xmlns="'+Ka.o+'">'+n.join("")+"</"+a+">"}function sye(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,s=t.getTime()/1e3+11644473600,a=s%Math.pow(2,32),n=(s-a)/Math.pow(2,32);a*=1e7,n*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),n+=i);var l=Oe(8);return l.write_shift(4,a),l.write_shift(4,n),l}function oT(e,t){var s=Oe(4),a=Oe(4);switch(s.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=Oe(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=sye(t);break;case 31:case 80:for(a=Oe(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return $s([s,a])}var aR=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function aye(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function cT(e,t,s){var a=Oe(8),n=[],i=[],l=8,o=0,c=Oe(8),d=Oe(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),n.push(d),l+=8+c.length,!t){d=Oe(8),d.write_shift(4,0),n.unshift(d);var u=[Oe(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var m=e[o][0];for(c=Oe(8+2*(m.length+1)+(m.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,m.length+1),c.write_shift(0,m,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=$s(u),i.unshift(c),l+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(aR.indexOf(e[o][0])>-1||tR.indexOf(e[o][0])>-1)&&e[o][1]!=null){var f=e[o][1],h=0;if(t){h=+t[e[o][0]];var x=s[h];if(x.p=="version"&&typeof f=="string"){var p=f.split(".");f=(+p[0]<<16)+(+p[1]||0)}c=oT(x.t,f)}else{var b=aye(f);b==-1&&(b=31,f=String(f)),c=oT(b,f)}i.push(c),d=Oe(8),d.write_shift(4,t?h:2+o),n.push(d),l+=8+c.length}var j=8*(i.length+1);for(o=0;o<i.length;++o)n[o].write_shift(4,j),j+=i[o].length;return a.write_shift(4,l),a.write_shift(4,i.length),$s([a].concat(n).concat(i))}function dT(e,t,s,a,n,i){var l=Oe(n?68:48),o=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,dr.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,n?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,n?68:48);var c=cT(e,s,a);if(o.push(c),n){var d=cT(n,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+c.length),o.push(d)}return $s(o)}function nye(e,t){t||(t=Oe(e));for(var s=0;s<e;++s)t.write_shift(1,0);return t}function iye(e,t){return e.read_shift(t)===1}function ga(e,t){return t||(t=Oe(2)),t.write_shift(2,+!!e),t}function nR(e){return e.read_shift(2,"u")}function jn(e,t){return t||(t=Oe(2)),t.write_shift(2,e),t}function iR(e,t,s){return s||(s=Oe(2)),s.write_shift(1,t=="e"?+e:+!!e),s.write_shift(1,t=="e"?1:0),s}function lR(e,t,s){var a=e.read_shift(s&&s.biff>=12?2:1),n="sbcs-cont";if(s&&s.biff>=8,!s||s.biff==8){var i=e.read_shift(1);i&&(n="dbcs-cont")}else s.biff==12&&(n="wstr");s.biff>=2&&s.biff<=5&&(n="cpstr");var l=a?e.read_shift(a,n):"";return l}function lye(e){var t=e.t||"",s=Oe(3);s.write_shift(2,t.length),s.write_shift(1,1);var a=Oe(2*t.length);a.write_shift(2*t.length,t,"utf16le");var n=[s,a];return $s(n)}function oye(e,t,s){var a;if(s){if(s.biff>=2&&s.biff<=5)return e.read_shift(t,"cpstr");if(s.biff>=12)return e.read_shift(t,"dbcs-cont")}var n=e.read_shift(1);return n===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function cye(e,t,s){var a=e.read_shift(s&&s.biff==2?1:2);return a===0?(e.l++,""):oye(e,a,s)}function dye(e,t,s){if(s.biff>5)return cye(e,t,s);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,s.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function oR(e,t,s){return s||(s=Oe(3+2*e.length)),s.write_shift(2,e.length),s.write_shift(1,1),s.write_shift(31,e,"utf16le"),s}function uT(e,t){t||(t=Oe(6+e.length*2)),t.write_shift(4,1+e.length);for(var s=0;s<e.length;++s)t.write_shift(2,e.charCodeAt(s));return t.write_shift(2,0),t}function uye(e){var t=Oe(512),s=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var n=a.indexOf("#"),i=n>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(s=0;s<l.length;++s)t.write_shift(4,l[s]);if(i==28)a=a.slice(1),uT(a,t);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<l.length;++s)t.write_shift(1,parseInt(l[s],16));var o=n>-1?a.slice(0,n):a;for(t.write_shift(4,2*(o.length+1)),s=0;s<o.length;++s)t.write_shift(2,o.charCodeAt(s));t.write_shift(2,0),i&8&&uT(n>-1?a.slice(n+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),s=0;s<l.length;++s)t.write_shift(1,parseInt(l[s],16));for(var c=0;a.slice(c*3,c*3+3)=="../"||a.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,a.length-3*c+1),s=0;s<a.length-3*c;++s)t.write_shift(1,a.charCodeAt(s+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),s=0;s<6;++s)t.write_shift(4,0)}return t.slice(0,t.l)}function Fc(e,t,s,a){return a||(a=Oe(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,s||0),a}function mye(e,t,s){var a=s.biff>8?4:2,n=e.read_shift(a),i=e.read_shift(a,"i"),l=e.read_shift(a,"i");return[n,i,l]}function hye(e){var t=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2);return{s:{c:a,r:t},e:{c:n,r:s}}}function cR(e,t){return t||(t=Oe(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function N3(e,t,s){var a=1536,n=16;switch(s.bookType){case"biff8":break;case"biff5":a=1280,n=8;break;case"biff4":a=4,n=6;break;case"biff3":a=3,n=6;break;case"biff2":a=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Oe(n);return i.write_shift(2,a),i.write_shift(2,t),n>4&&i.write_shift(2,29282),n>6&&i.write_shift(2,1997),n>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function fye(e,t){var s=!t||t.biff==8,a=Oe(s?112:54);for(a.write_shift(t.biff==8?2:1,7),s&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(s?0:536870912));a.l<a.length;)a.write_shift(1,s?0:32);return a}function pye(e,t){var s=!t||t.biff>=8?2:1,a=Oe(8+s*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(s*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var n=a.slice(0,a.l);return n.l=a.l,n}function xye(e,t){var s=Oe(8);s.write_shift(4,e.Count),s.write_shift(4,e.Unique);for(var a=[],n=0;n<e.length;++n)a[n]=lye(e[n]);var i=$s([s].concat(a));return i.parts=[s.length].concat(a.map(function(l){return l.length})),i}function gye(){var e=Oe(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function yye(e){var t=Oe(18),s=1718;return e&&e.RTL&&(s|=64),t.write_shift(2,s),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function bye(e,t){var s=e.name||"Arial",a=t&&t.biff==5,n=a?15+s.length:16+2*s.length,i=Oe(n);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,s.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*s.length,s,a?"sbcs":"utf16le"),i}function vye(e,t,s,a){var n=Oe(10);return Fc(e,t,a,n),n.write_shift(4,s),n}function jye(e,t,s,a,n){var i=!n||n.biff==8,l=Oe(8+ +i+(1+i)*s.length);return Fc(e,t,a,l),l.write_shift(2,s.length),i&&l.write_shift(1,1),l.write_shift((1+i)*s.length,s,i?"utf16le":"sbcs"),l}function wye(e,t,s,a){var n=s&&s.biff==5;a||(a=Oe(n?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(n?1:2,t.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}function Nye(e,t){var s=t.biff==8||!t.biff?4:2,a=Oe(2*s+6);return a.write_shift(s,e.s.r),a.write_shift(s,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function mT(e,t,s,a){var n=s&&s.biff==5;a||(a=Oe(n?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&n&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),n||a.write_shift(4,0),a.write_shift(2,0),a}function Sye(e){var t=Oe(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function kye(e,t,s,a,n,i){var l=Oe(8);return Fc(e,t,a,l),iR(s,i,l),l}function Cye(e,t,s,a){var n=Oe(14);return Fc(e,t,a,n),Lc(s,n),n}function Pye(e,t,s){if(s.biff<8)return Aye(e,t,s);for(var a=[],n=e.l+t,i=e.read_shift(s.biff>8?4:2);i--!==0;)a.push(mye(e,s.biff>8?12:6,s));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return a}function Aye(e,t,s){e[e.l+1]==3&&e[e.l]++;var a=lR(e,t,s);return a.charCodeAt(0)==3?a.slice(1):a}function Tye(e){var t=Oe(2+e.length*8);t.write_shift(2,e.length);for(var s=0;s<e.length;++s)cR(e[s],t);return t}function Eye(e){var t=Oe(24),s=Ts(e[0]);t.write_shift(2,s.r),t.write_shift(2,s.r),t.write_shift(2,s.c),t.write_shift(2,s.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(a[n],16));return $s([t,uye(e[1])])}function _ye(e){var t=e[1].Tooltip,s=Oe(10+2*(t.length+1));s.write_shift(2,2048);var a=Ts(e[0]);s.write_shift(2,a.r),s.write_shift(2,a.r),s.write_shift(2,a.c),s.write_shift(2,a.c);for(var n=0;n<t.length;++n)s.write_shift(2,t.charCodeAt(n));return s.write_shift(2,0),s}function Iye(e){return e||(e=Oe(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Oye(e,t,s){if(!s.cellStyles)return Ii(e,t);var a=s&&s.biff>=12?4:2,n=e.read_shift(a),i=e.read_shift(a),l=e.read_shift(a),o=e.read_shift(a),c=e.read_shift(2);a==2&&(e.l+=2);var d={s:n,e:i,w:l,ixfe:o,flags:c};return(s.biff>=5||!s.biff)&&(d.level=c>>8&7),d}function Dye(e,t){var s=Oe(12);s.write_shift(2,t),s.write_shift(2,t),s.write_shift(2,e.width*256),s.write_shift(2,0);var a=0;return e.hidden&&(a|=1),s.write_shift(1,a),a=e.level||0,s.write_shift(1,a),s.write_shift(2,0),s}function Mye(e){for(var t=Oe(2*e),s=0;s<e;++s)t.write_shift(2,s+1);return t}function Lye(e,t,s){var a=Oe(15);return I0(a,e,t),a.write_shift(8,s,"f"),a}function Fye(e,t,s){var a=Oe(9);return I0(a,e,t),a.write_shift(2,s),a}var Rye=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=m3({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function s(o,c){var d=[],u=Mc(1);switch(c.type){case"base64":u=Yn(bl(o));break;case"binary":u=Yn(o);break;case"buffer":case"array":u=o;break}Ga(u,0);var m=u.read_shift(1),f=!!(m&136),h=!1,x=!1;switch(m){case 2:break;case 3:break;case 48:h=!0,f=!0;break;case 49:h=!0,f=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var p=0,b=521;m==2&&(p=u.read_shift(2)),u.l+=3,m!=2&&(p=u.read_shift(4)),p>1048576&&(p=1e6),m!=2&&(b=u.read_shift(2));var j=u.read_shift(2),v=c.codepage||1252;m!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(v=e[u[u.l]]),u.l+=1,u.l+=2),x&&(u.l+=36);for(var y=[],w={},N=Math.min(u.length,m==2?521:b-10-(h?264:0)),k=x?32:11;u.l<N&&u[u.l]!=13;)switch(w={},w.name=Ux.utils.decode(v,u.slice(u.l,u.l+k)).replace(/[\u0000\r\n].*$/g,""),u.l+=k,w.type=String.fromCharCode(u.read_shift(1)),m!=2&&!x&&(w.offset=u.read_shift(4)),w.len=u.read_shift(1),m==2&&(w.offset=u.read_shift(2)),w.dec=u.read_shift(1),w.name.length&&y.push(w),m!=2&&(u.l+=x?13:14),w.type){case"B":(!h||w.len!=8)&&c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(u[u.l]!==13&&(u.l=b-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=b;var S=0,P=0;for(d[0]=[],P=0;P!=y.length;++P)d[0][P]=y[P].name;for(;p-- >0;){if(u[u.l]===42){u.l+=j;continue}for(++u.l,d[++S]=[],P=0,P=0;P!=y.length;++P){var _=u.slice(u.l,u.l+y[P].len);u.l+=y[P].len,Ga(_,0);var C=Ux.utils.decode(v,_);switch(y[P].type){case"C":C.trim().length&&(d[S][P]=C.replace(/\s+$/,""));break;case"D":C.length===8?d[S][P]=new Date(+C.slice(0,4),+C.slice(4,6)-1,+C.slice(6,8)):d[S][P]=C;break;case"F":d[S][P]=parseFloat(C.trim());break;case"+":case"I":d[S][P]=x?_.read_shift(-4,"i")^2147483648:_.read_shift(4,"i");break;case"L":switch(C.trim().toUpperCase()){case"Y":case"T":d[S][P]=!0;break;case"N":case"F":d[S][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+C+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));d[S][P]="##MEMO##"+(x?parseInt(C.trim(),10):_.read_shift(4));break;case"N":C=C.replace(/\u0000/g,"").trim(),C&&C!="."&&(d[S][P]=+C||0);break;case"@":d[S][P]=new Date(_.read_shift(-8,"f")-621356832e5);break;case"T":d[S][P]=new Date((_.read_shift(4)-2440588)*864e5+_.read_shift(4));break;case"Y":d[S][P]=_.read_shift(4,"i")/1e4+_.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[S][P]=-_.read_shift(-8,"f");break;case"B":if(h&&y[P].len==8){d[S][P]=_.read_shift(8,"f");break}case"G":case"P":_.l+=y[P].len;break;case"0":if(y[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[P].type)}}}if(m!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=y,d}function a(o,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=Vu(s(o,d),d);return u["!cols"]=d.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete d.DBF,u}function n(o,c){try{return Yc(a(o,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(o,c){var d=c||{};if(+d.codepage>=0&&Uh(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=Ma(),m=eg(o,{header:1,raw:!0,cellDates:!0}),f=m[0],h=m.slice(1),x=o["!cols"]||[],p=0,b=0,j=0,v=1;for(p=0;p<f.length;++p){if(((x[p]||{}).DBF||{}).name){f[p]=x[p].DBF.name,++j;continue}if(f[p]!=null){if(++j,typeof f[p]=="number"&&(f[p]=f[p].toString(10)),typeof f[p]!="string")throw new Error("DBF Invalid column name "+f[p]+" |"+typeof f[p]+"|");if(f.indexOf(f[p])!==p){for(b=0;b<1024;++b)if(f.indexOf(f[p]+"_"+b)==-1){f[p]+="_"+b;break}}}}var y=Pr(o["!ref"]),w=[],N=[],k=[];for(p=0;p<=y.e.c-y.s.c;++p){var S="",P="",_=0,C=[];for(b=0;b<h.length;++b)h[b][p]!=null&&C.push(h[b][p]);if(C.length==0||f[p]==null){w[p]="?";continue}for(b=0;b<C.length;++b){switch(typeof C[b]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=C[b]instanceof Date?"D":"C";break;default:P="C"}_=Math.max(_,String(C[b]).length),S=S&&S!=P?"C":P}_>250&&(_=250),P=((x[p]||{}).DBF||{}).type,P=="C"&&x[p].DBF.len>_&&(_=x[p].DBF.len),S=="B"&&P=="N"&&(S="N",k[p]=x[p].DBF.dec,_=x[p].DBF.len),N[p]=S=="C"||P=="N"?_:i[S]||0,v+=N[p],w[p]=S}var A=u.next(32);for(A.write_shift(4,318902576),A.write_shift(4,h.length),A.write_shift(2,296+32*j),A.write_shift(2,v),p=0;p<4;++p)A.write_shift(4,0);for(A.write_shift(4,0|(+t[uF]||3)<<8),p=0,b=0;p<f.length;++p)if(f[p]!=null){var V=u.next(32),q=(f[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);V.write_shift(1,q,"sbcs"),V.write_shift(1,w[p]=="?"?"C":w[p],"sbcs"),V.write_shift(4,b),V.write_shift(1,N[p]||i[w[p]]||0),V.write_shift(1,k[p]||0),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(1,0),V.write_shift(4,0),V.write_shift(4,0),b+=N[p]||i[w[p]]||0}var Z=u.next(264);for(Z.write_shift(4,13),p=0;p<65;++p)Z.write_shift(4,0);for(p=0;p<h.length;++p){var ue=u.next(v);for(ue.write_shift(1,0),b=0;b<f.length;++b)if(f[b]!=null)switch(w[b]){case"L":ue.write_shift(1,h[p][b]==null?63:h[p][b]?84:70);break;case"B":ue.write_shift(8,h[p][b]||0,"f");break;case"N":var me="0";for(typeof h[p][b]=="number"&&(me=h[p][b].toFixed(k[b]||0)),j=0;j<N[b]-me.length;++j)ue.write_shift(1,32);ue.write_shift(1,me,"sbcs");break;case"D":h[p][b]?(ue.write_shift(4,("0000"+h[p][b].getFullYear()).slice(-4),"sbcs"),ue.write_shift(2,("00"+(h[p][b].getMonth()+1)).slice(-2),"sbcs"),ue.write_shift(2,("00"+h[p][b].getDate()).slice(-2),"sbcs")):ue.write_shift(8,"00000000","sbcs");break;case"C":var Q=String(h[p][b]!=null?h[p][b]:"").slice(0,N[b]);for(ue.write_shift(1,Q,"sbcs"),j=0;j<N[b]-Q.length;++j)ue.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:n,to_sheet:a,from_sheet:l}}(),Bye=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+qs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),s=function(f,h){var x=e[h];return typeof x=="number"?LA(x):x},a=function(f,h,x){var p=h.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return p==59?f:LA(p)};e["|"]=254;function n(f,h){switch(h.type){case"base64":return i(bl(f),h);case"binary":return i(f,h);case"buffer":return i(tr&&Buffer.isBuffer(f)?f.toString("binary"):P0(f),h);case"array":return i(Xy(f),h)}throw new Error("Unrecognized type "+h.type)}function i(f,h){var x=f.split(/[\n\r]+/),p=-1,b=-1,j=0,v=0,y=[],w=[],N=null,k={},S=[],P=[],_=[],C=0,A;for(+h.codepage>=0&&Uh(+h.codepage);j!==x.length;++j){C=0;var V=x[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,s),q=V.replace(/;;/g,"\0").split(";").map(function(T){return T.replace(/\u0000/g,";")}),Z=q[0],ue;if(V.length>0)switch(Z){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":q[1].charAt(0)=="P"&&w.push(V.slice(3).replace(/;;/g,";"));break;case"C":var me=!1,Q=!1,ae=!1,oe=!1,R=-1,O=-1;for(v=1;v<q.length;++v)switch(q[v].charAt(0)){case"A":break;case"X":b=parseInt(q[v].slice(1))-1,Q=!0;break;case"Y":for(p=parseInt(q[v].slice(1))-1,Q||(b=0),A=y.length;A<=p;++A)y[A]=[];break;case"K":ue=q[v].slice(1),ue.charAt(0)==='"'?ue=ue.slice(1,ue.length-1):ue==="TRUE"?ue=!0:ue==="FALSE"?ue=!1:isNaN(rl(ue))?isNaN(Vh(ue).getDate())||(ue=Na(ue)):(ue=rl(ue),N!==null&&NF(N)&&(ue=PF(ue))),me=!0;break;case"E":oe=!0;var I=Fbe(q[v].slice(1),{r:p,c:b});y[p][b]=[y[p][b],I];break;case"S":ae=!0,y[p][b]=[y[p][b],"S5S"];break;case"G":break;case"R":R=parseInt(q[v].slice(1))-1;break;case"C":O=parseInt(q[v].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+V)}if(me&&(y[p][b]&&y[p][b].length==2?y[p][b][0]=ue:y[p][b]=ue,N=null),ae){if(oe)throw new Error("SYLK shared formula cannot have own formula");var X=R>-1&&y[R][O];if(!X||!X[1])throw new Error("SYLK shared formula cannot find base");y[p][b][1]=Rbe(X[1],{r:p-R,c:b-O})}break;case"F":var W=0;for(v=1;v<q.length;++v)switch(q[v].charAt(0)){case"X":b=parseInt(q[v].slice(1))-1,++W;break;case"Y":for(p=parseInt(q[v].slice(1))-1,A=y.length;A<=p;++A)y[A]=[];break;case"M":C=parseInt(q[v].slice(1))/20;break;case"F":break;case"G":break;case"P":N=w[parseInt(q[v].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(_=q[v].slice(1).split(" "),A=parseInt(_[0],10);A<=parseInt(_[1],10);++A)C=parseInt(_[2],10),P[A-1]=C===0?{hidden:!0}:{wch:C},S3(P[A-1]);break;case"C":b=parseInt(q[v].slice(1))-1,P[b]||(P[b]={});break;case"R":p=parseInt(q[v].slice(1))-1,S[p]||(S[p]={}),C>0?(S[p].hpt=C,S[p].hpx=fR(C)):C===0&&(S[p].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+V)}W<1&&(N=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+V)}}return S.length>0&&(k["!rows"]=S),P.length>0&&(k["!cols"]=P),h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),[y,k]}function l(f,h){var x=n(f,h),p=x[0],b=x[1],j=Vu(p,h);return qs(b).forEach(function(v){j[v]=b[v]}),j}function o(f,h){return Yc(l(f,h),h)}function c(f,h,x,p){var b="C;Y"+(x+1)+";X"+(p+1)+";K";switch(f.t){case"n":b+=f.v||0,f.f&&!f.F&&(b+=";E"+C3(f.f,{r:x,c:p}));break;case"b":b+=f.v?"TRUE":"FALSE";break;case"e":b+=f.w||f.v;break;case"d":b+='"'+(f.w||f.v)+'"';break;case"s":b+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function d(f,h){h.forEach(function(x,p){var b="F;W"+(p+1)+" "+(p+1)+" ";x.hidden?b+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=Xx(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=Jx(x.wpx)),typeof x.wch=="number"&&(b+=Math.round(x.wch))),b.charAt(b.length-1)!=" "&&f.push(b)})}function u(f,h){h.forEach(function(x,p){var b="F;";x.hidden?b+="M0;":x.hpt?b+="M"+20*x.hpt+";":x.hpx&&(b+="M"+20*Qx(x.hpx)+";"),b.length>2&&f.push(b+"R"+(p+1))})}function m(f,h){var x=["ID;PWXL;N;E"],p=[],b=Pr(f["!ref"]),j,v=Array.isArray(f),y=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),f["!cols"]&&d(x,f["!cols"]),f["!rows"]&&u(x,f["!rows"]),x.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var w=b.s.r;w<=b.e.r;++w)for(var N=b.s.c;N<=b.e.c;++N){var k=cr({r:w,c:N});j=v?(f[w]||[])[N]:f[k],!(!j||j.v==null&&(!j.f||j.F))&&p.push(c(j,f,w,N))}return x.join(y)+y+p.join(y)+y+"E"+y}return{to_workbook:o,to_sheet:l,from_sheet:m}}(),$ye=function(){function e(i,l){switch(l.type){case"base64":return t(bl(i),l);case"binary":return t(i,l);case"buffer":return t(tr&&Buffer.isBuffer(i)?i.toString("binary"):P0(i),l);case"array":return t(Xy(i),l)}throw new Error("Unrecognized type "+l.type)}function t(i,l){for(var o=i.split(`
`),c=-1,d=-1,u=0,m=[];u!==o.length;++u){if(o[u].trim()==="BOT"){m[++c]=[],d=0;continue}if(!(c<0)){var f=o[u].trim().split(","),h=f[0],x=f[1];++u;for(var p=o[u]||"";(p.match(/["]/g)||[]).length&1&&u<o.length-1;)p+=`
`+o[++u];switch(p=p.trim(),+h){case-1:if(p==="BOT"){m[++c]=[],d=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?m[c][d]=!0:p==="FALSE"?m[c][d]=!1:isNaN(rl(x))?isNaN(Vh(x).getDate())?m[c][d]=x:m[c][d]=Na(x):m[c][d]=rl(x),++d;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),m[c][d++]=p!==""?p:null;break}if(p==="EOD")break}}return l&&l.sheetRows&&(m=m.slice(0,l.sheetRows)),m}function s(i,l){return Vu(e(i,l),l)}function a(i,l){return Yc(s(i,l),l)}var n=function(){var i=function(c,d,u,m,f){c.push(d),c.push(u+","+m),c.push('"'+f.replace(/"/g,'""')+'"')},l=function(c,d,u,m){c.push(d+","+u),c.push(d==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(c){var d=[],u=Pr(c["!ref"]),m,f=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){l(d,-1,0,"BOT");for(var x=u.s.c;x<=u.e.c;++x){var p=cr({r:h,c:x});if(m=f?(c[h]||[])[x]:c[p],!m){l(d,1,0,"");continue}switch(m.t){case"n":var b=m.w;!b&&m.v!=null&&(b=m.v),b==null?m.f&&!m.F?l(d,1,0,"="+m.f):l(d,1,0,""):l(d,0,b,"V");break;case"b":l(d,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":l(d,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=wo(m.z||qr[14],Fa(Na(m.v)))),l(d,0,m.w,"V");break;default:l(d,1,0,"")}}}l(d,-1,0,"EOD");var j=`\r
`,v=d.join(j);return v}}();return{to_workbook:a,to_sheet:s,from_sheet:n}}(),dR=function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function s(m,f){for(var h=m.split(`
`),x=-1,p=-1,b=0,j=[];b!==h.length;++b){var v=h[b].trim().split(":");if(v[0]==="cell"){var y=Ts(v[1]);if(j.length<=y.r)for(x=j.length;x<=y.r;++x)j[x]||(j[x]=[]);switch(x=y.r,p=y.c,v[2]){case"t":j[x][p]=e(v[3]);break;case"v":j[x][p]=+v[3];break;case"vtf":var w=v[v.length-1];case"vtc":switch(v[3]){case"nl":j[x][p]=!!+v[4];break;default:j[x][p]=+v[4];break}v[2]=="vtf"&&(j[x][p]=[j[x][p],w])}}}return f&&f.sheetRows&&(j=j.slice(0,f.sheetRows)),j}function a(m,f){return Vu(s(m,f),f)}function n(m,f){return Yc(a(m,f),f)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(m){if(!m||!m["!ref"])return"";for(var f=[],h=[],x,p="",b=ln(m["!ref"]),j=Array.isArray(m),v=b.s.r;v<=b.e.r;++v)for(var y=b.s.c;y<=b.e.c;++y)if(p=cr({r:v,c:y}),x=j?(m[v]||[])[y]:m[p],!(!x||x.v==null||x.t==="z")){switch(h=["cell",p,"t"],x.t){case"s":case"str":h.push(t(x.v));break;case"n":x.f?(h[2]="vtf",h[3]="n",h[4]=x.v,h[5]=t(x.f)):(h[2]="v",h[3]=x.v);break;case"b":h[2]="vt"+(x.f?"f":"c"),h[3]="nl",h[4]=x.v?"1":"0",h[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var w=Fa(Na(x.v));h[2]="vtc",h[3]="nd",h[4]=""+w,h[5]=x.w||wo(x.z||qr[14],w);break;case"e":continue}f.push(h.join(":"))}return f.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function u(m){return[i,l,o,l,d(m),c].join(`
`)}return{to_workbook:n,to_sheet:a,from_sheet:u}}(),Uye=function(){function e(u,m,f,h,x){x.raw?m[f][h]=u:u===""||(u==="TRUE"?m[f][h]=!0:u==="FALSE"?m[f][h]=!1:isNaN(rl(u))?isNaN(Vh(u).getDate())?m[f][h]=u:m[f][h]=Na(u):m[f][h]=rl(u))}function t(u,m){var f=m||{},h=[];if(!u||u.length===0)return h;for(var x=u.split(/[\r\n]/),p=x.length-1;p>=0&&x[p].length===0;)--p;for(var b=10,j=0,v=0;v<=p;++v)j=x[v].indexOf(" "),j==-1?j=x[v].length:j++,b=Math.max(b,j);for(v=0;v<=p;++v){h[v]=[];var y=0;for(e(x[v].slice(0,b).trim(),h,v,y,f),y=1;y<=(x[v].length-b)/10+1;++y)e(x[v].slice(b+(y-1)*10,b+y*10).trim(),h,v,y,f)}return f.sheetRows&&(h=h.slice(0,f.sheetRows)),h}var s={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function n(u){for(var m={},f=!1,h=0,x=0;h<u.length;++h)(x=u.charCodeAt(h))==34?f=!f:!f&&x in s&&(m[x]=(m[x]||0)+1);x=[];for(h in m)Object.prototype.hasOwnProperty.call(m,h)&&x.push([m[h],h]);if(!x.length){m=a;for(h in m)Object.prototype.hasOwnProperty.call(m,h)&&x.push([m[h],h])}return x.sort(function(p,b){return p[0]-b[0]||a[p[1]]-a[b[1]]}),s[x.pop()[1]]||44}function i(u,m){var f=m||{},h="",x=f.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=n(u.slice(0,1024)):f&&f.FS?h=f.FS:h=n(u.slice(0,1024));var b=0,j=0,v=0,y=0,w=0,N=h.charCodeAt(0),k=!1,S=0,P=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var _=f.dateNF!=null?sge(f.dateNF):null;function C(){var A=u.slice(y,w),V={};if(A.charAt(0)=='"'&&A.charAt(A.length-1)=='"'&&(A=A.slice(1,-1).replace(/""/g,'"')),A.length===0)V.t="z";else if(f.raw)V.t="s",V.v=A;else if(A.trim().length===0)V.t="s",V.v=A;else if(A.charCodeAt(0)==61)A.charCodeAt(1)==34&&A.charCodeAt(A.length-1)==34?(V.t="s",V.v=A.slice(2,-1).replace(/""/g,'"')):Bbe(A)?(V.t="n",V.f=A.slice(1)):(V.t="s",V.v=A);else if(A=="TRUE")V.t="b",V.v=!0;else if(A=="FALSE")V.t="b",V.v=!1;else if(!isNaN(v=rl(A)))V.t="n",f.cellText!==!1&&(V.w=A),V.v=v;else if(!isNaN(Vh(A).getDate())||_&&A.match(_)){V.z=f.dateNF||qr[14];var q=0;_&&A.match(_)&&(A=age(A,f.dateNF,A.match(_)||[]),q=1),f.cellDates?(V.t="d",V.v=Na(A,q)):(V.t="n",V.v=Fa(Na(A,q))),f.cellText!==!1&&(V.w=wo(V.z,V.v instanceof Date?Fa(V.v):V.v)),f.cellNF||delete V.z}else V.t="s",V.v=A;if(V.t=="z"||(f.dense?(x[b]||(x[b]=[]),x[b][j]=V):x[cr({c:j,r:b})]=V),y=w+1,P=u.charCodeAt(y),p.e.c<j&&(p.e.c=j),p.e.r<b&&(p.e.r=b),S==N)++j;else if(j=0,++b,f.sheetRows&&f.sheetRows<=b)return!0}e:for(;w<u.length;++w)switch(S=u.charCodeAt(w)){case 34:P===34&&(k=!k);break;case N:case 10:case 13:if(!k&&C())break e;break}return w-y>0&&C(),x["!ref"]=us(p),x}function l(u,m){return!(m&&m.PRN)||m.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,m):Vu(t(u,m),m)}function o(u,m){var f="",h=m.type=="string"?[0,0,0,0]:Zje(u,m);switch(m.type){case"base64":f=bl(u);break;case"binary":f=u;break;case"buffer":m.codepage==65001?f=u.toString("utf8"):m.codepage&&typeof Ux<"u"||(f=tr&&Buffer.isBuffer(u)?u.toString("binary"):P0(u));break;case"array":f=Xy(u);break;case"string":f=u;break;default:throw new Error("Unrecognized type "+m.type)}return h[0]==239&&h[1]==187&&h[2]==191?f=Um(f.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?f=Um(f):m.type=="binary"&&typeof Ux<"u",f.slice(0,19)=="socialcalc:version:"?dR.to_sheet(m.type=="string"?f:Um(f),m):l(f,m)}function c(u,m){return Yc(o(u,m),m)}function d(u){for(var m=[],f=Pr(u["!ref"]),h,x=Array.isArray(u),p=f.s.r;p<=f.e.r;++p){for(var b=[],j=f.s.c;j<=f.e.c;++j){var v=cr({r:p,c:j});if(h=x?(u[p]||[])[j]:u[v],!h||h.v==null){b.push("          ");continue}for(var y=(h.w||(vl(h),h.w)||"").slice(0,10);y.length<10;)y+=" ";b.push(y+(j===0?" ":""))}m.push(b.join(""))}return m.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:d}}(),hT=function(){function e(I,X,W){if(I){Ga(I,I.l||0);for(var T=W.Enum||R;I.l<I.length;){var L=I.read_shift(2),D=T[L]||T[65535],M=I.read_shift(2),z=I.l+M,se=D.f&&D.f(I,M,W);if(I.l=z,X(se,D,L))return}}}function t(I,X){switch(X.type){case"base64":return s(Yn(bl(I)),X);case"binary":return s(Yn(I),X);case"buffer":case"array":return s(I,X)}throw"Unsupported type "+X.type}function s(I,X){if(!I)return I;var W=X||{},T=W.dense?[]:{},L="Sheet1",D="",M=0,z={},se=[],ne=[],te={s:{r:0,c:0},e:{r:0,c:0}},Re=W.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)W.Enum=R,e(I,function(Le,mt,Tt){switch(Tt){case 0:W.vers=Le,Le>=4096&&(W.qpro=!0);break;case 6:te=Le;break;case 204:Le&&(D=Le);break;case 222:D=Le;break;case 15:case 51:W.qpro||(Le[1].v=Le[1].v.slice(1));case 13:case 14:case 16:Tt==14&&(Le[2]&112)==112&&(Le[2]&15)>1&&(Le[2]&15)<15&&(Le[1].z=W.dateNF||qr[14],W.cellDates&&(Le[1].t="d",Le[1].v=PF(Le[1].v))),W.qpro&&Le[3]>M&&(T["!ref"]=us(te),z[L]=T,se.push(L),T=W.dense?[]:{},te={s:{r:0,c:0},e:{r:0,c:0}},M=Le[3],L=D||"Sheet"+(M+1),D="");var Pe=W.dense?(T[Le[0].r]||[])[Le[0].c]:T[cr(Le[0])];if(Pe){Pe.t=Le[1].t,Pe.v=Le[1].v,Le[1].z!=null&&(Pe.z=Le[1].z),Le[1].f!=null&&(Pe.f=Le[1].f);break}W.dense?(T[Le[0].r]||(T[Le[0].r]=[]),T[Le[0].r][Le[0].c]=Le[1]):T[cr(Le[0])]=Le[1];break}},W);else if(I[2]==26||I[2]==14)W.Enum=O,I[2]==14&&(W.qpro=!0,I.l=0),e(I,function(Le,mt,Tt){switch(Tt){case 204:L=Le;break;case 22:Le[1].v=Le[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Le[3]>M&&(T["!ref"]=us(te),z[L]=T,se.push(L),T=W.dense?[]:{},te={s:{r:0,c:0},e:{r:0,c:0}},M=Le[3],L="Sheet"+(M+1)),Re>0&&Le[0].r>=Re)break;W.dense?(T[Le[0].r]||(T[Le[0].r]=[]),T[Le[0].r][Le[0].c]=Le[1]):T[cr(Le[0])]=Le[1],te.e.c<Le[0].c&&(te.e.c=Le[0].c),te.e.r<Le[0].r&&(te.e.r=Le[0].r);break;case 27:Le[14e3]&&(ne[Le[14e3][0]]=Le[14e3][1]);break;case 1537:ne[Le[0]]=Le[1],Le[0]==M&&(L=Le[1]);break}},W);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(T["!ref"]=us(te),z[D||L]=T,se.push(D||L),!ne.length)return{SheetNames:se,Sheets:z};for(var Ce={},Je=[],Ge=0;Ge<ne.length;++Ge)z[se[Ge]]?(Je.push(ne[Ge]||se[Ge]),Ce[ne[Ge]]=z[ne[Ge]]||z[se[Ge]]):(Je.push(ne[Ge]),Ce[ne[Ge]]={"!ref":"A1"});return{SheetNames:Je,Sheets:Ce}}function a(I,X){var W=X||{};if(+W.codepage>=0&&Uh(+W.codepage),W.type=="string")throw new Error("Cannot write WK1 to JS string");var T=Ma(),L=Pr(I["!ref"]),D=Array.isArray(I),M=[];rt(T,0,i(1030)),rt(T,6,c(L));for(var z=Math.min(L.e.r,8191),se=L.s.r;se<=z;++se)for(var ne=Gs(se),te=L.s.c;te<=L.e.c;++te){se===L.s.r&&(M[te]=la(te));var Re=M[te]+ne,Ce=D?(I[se]||[])[te]:I[Re];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?rt(T,13,h(se,te,Ce.v)):rt(T,14,p(se,te,Ce.v));else{var Je=vl(Ce);rt(T,15,m(se,te,Je.slice(0,239)))}}return rt(T,1),T.end()}function n(I,X){var W=X||{};if(+W.codepage>=0&&Uh(+W.codepage),W.type=="string")throw new Error("Cannot write WK3 to JS string");var T=Ma();rt(T,0,l(I));for(var L=0,D=0;L<I.SheetNames.length;++L)(I.Sheets[I.SheetNames[L]]||{})["!ref"]&&rt(T,27,oe(I.SheetNames[L],D++));var M=0;for(L=0;L<I.SheetNames.length;++L){var z=I.Sheets[I.SheetNames[L]];if(!(!z||!z["!ref"])){for(var se=Pr(z["!ref"]),ne=Array.isArray(z),te=[],Re=Math.min(se.e.r,8191),Ce=se.s.r;Ce<=Re;++Ce)for(var Je=Gs(Ce),Ge=se.s.c;Ge<=se.e.c;++Ge){Ce===se.s.r&&(te[Ge]=la(Ge));var Le=te[Ge]+Je,mt=ne?(z[Ce]||[])[Ge]:z[Le];if(!(!mt||mt.t=="z"))if(mt.t=="n")rt(T,23,C(Ce,Ge,M,mt.v));else{var Tt=vl(mt);rt(T,22,S(Ce,Ge,M,Tt.slice(0,239)))}}++M}}return rt(T,1),T.end()}function i(I){var X=Oe(2);return X.write_shift(2,I),X}function l(I){var X=Oe(26);X.write_shift(2,4096),X.write_shift(2,4),X.write_shift(4,0);for(var W=0,T=0,L=0,D=0;D<I.SheetNames.length;++D){var M=I.SheetNames[D],z=I.Sheets[M];if(!(!z||!z["!ref"])){++L;var se=ln(z["!ref"]);W<se.e.r&&(W=se.e.r),T<se.e.c&&(T=se.e.c)}}return W>8191&&(W=8191),X.write_shift(2,W),X.write_shift(1,L),X.write_shift(1,T),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(1,1),X.write_shift(1,2),X.write_shift(4,0),X.write_shift(4,0),X}function o(I,X,W){var T={s:{c:0,r:0},e:{c:0,r:0}};return X==8&&W.qpro?(T.s.c=I.read_shift(1),I.l++,T.s.r=I.read_shift(2),T.e.c=I.read_shift(1),I.l++,T.e.r=I.read_shift(2),T):(T.s.c=I.read_shift(2),T.s.r=I.read_shift(2),X==12&&W.qpro&&(I.l+=2),T.e.c=I.read_shift(2),T.e.r=I.read_shift(2),X==12&&W.qpro&&(I.l+=2),T.s.c==65535&&(T.s.c=T.e.c=T.s.r=T.e.r=0),T)}function c(I){var X=Oe(8);return X.write_shift(2,I.s.c),X.write_shift(2,I.s.r),X.write_shift(2,I.e.c),X.write_shift(2,I.e.r),X}function d(I,X,W){var T=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&W.vers!=20768?(T[0].c=I.read_shift(1),T[3]=I.read_shift(1),T[0].r=I.read_shift(2),I.l+=2):(T[2]=I.read_shift(1),T[0].c=I.read_shift(2),T[0].r=I.read_shift(2)),T}function u(I,X,W){var T=I.l+X,L=d(I,X,W);if(L[1].t="s",W.vers==20768){I.l++;var D=I.read_shift(1);return L[1].v=I.read_shift(D,"utf8"),L}return W.qpro&&I.l++,L[1].v=I.read_shift(T-I.l,"cstr"),L}function m(I,X,W){var T=Oe(7+W.length);T.write_shift(1,255),T.write_shift(2,X),T.write_shift(2,I),T.write_shift(1,39);for(var L=0;L<T.length;++L){var D=W.charCodeAt(L);T.write_shift(1,D>=128?95:D)}return T.write_shift(1,0),T}function f(I,X,W){var T=d(I,X,W);return T[1].v=I.read_shift(2,"i"),T}function h(I,X,W){var T=Oe(7);return T.write_shift(1,255),T.write_shift(2,X),T.write_shift(2,I),T.write_shift(2,W,"i"),T}function x(I,X,W){var T=d(I,X,W);return T[1].v=I.read_shift(8,"f"),T}function p(I,X,W){var T=Oe(13);return T.write_shift(1,255),T.write_shift(2,X),T.write_shift(2,I),T.write_shift(8,W,"f"),T}function b(I,X,W){var T=I.l+X,L=d(I,X,W);if(L[1].v=I.read_shift(8,"f"),W.qpro)I.l=T;else{var D=I.read_shift(2);w(I.slice(I.l,I.l+D),L),I.l+=D}return L}function j(I,X,W){var T=X&32768;return X&=-32769,X=(T?I:0)+(X>=8192?X-16384:X),(T?"":"$")+(W?la(X):Gs(X))}var v={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(I,X){Ga(I,0);for(var W=[],T=0,L="",D="",M="",z="";I.l<I.length;){var se=I[I.l++];switch(se){case 0:W.push(I.read_shift(8,"f"));break;case 1:D=j(X[0].c,I.read_shift(2),!0),L=j(X[0].r,I.read_shift(2),!1),W.push(D+L);break;case 2:{var ne=j(X[0].c,I.read_shift(2),!0),te=j(X[0].r,I.read_shift(2),!1);D=j(X[0].c,I.read_shift(2),!0),L=j(X[0].r,I.read_shift(2),!1),W.push(ne+te+":"+D+L)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(I.read_shift(2));break;case 6:{for(var Re="";se=I[I.l++];)Re+=String.fromCharCode(se);W.push('"'+Re.replace(/"/g,'""')+'"')}break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:z=W.pop(),M=W.pop(),W.push(["AND","OR"][se-20]+"("+M+","+z+")");break;default:if(se<32&&y[se])z=W.pop(),M=W.pop(),W.push(M+y[se]+z);else if(v[se]){if(T=v[se][1],T==69&&(T=I[I.l++]),T>W.length){console.error("WK1 bad formula parse 0x"+se.toString(16)+":|"+W.join("|")+"|");return}var Ce=W.slice(-T);W.length-=T,W.push(v[se][0]+"("+Ce.join(",")+")")}else return se<=7?console.error("WK1 invalid opcode "+se.toString(16)):se<=24?console.error("WK1 unsupported op "+se.toString(16)):se<=30?console.error("WK1 invalid opcode "+se.toString(16)):se<=115?console.error("WK1 unsupported function opcode "+se.toString(16)):console.error("WK1 unrecognized opcode "+se.toString(16))}}W.length==1?X[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")}function N(I){var X=[{c:0,r:0},{t:"n",v:0},0];return X[0].r=I.read_shift(2),X[3]=I[I.l++],X[0].c=I[I.l++],X}function k(I,X){var W=N(I);return W[1].t="s",W[1].v=I.read_shift(X-4,"cstr"),W}function S(I,X,W,T){var L=Oe(6+T.length);L.write_shift(2,I),L.write_shift(1,W),L.write_shift(1,X),L.write_shift(1,39);for(var D=0;D<T.length;++D){var M=T.charCodeAt(D);L.write_shift(1,M>=128?95:M)}return L.write_shift(1,0),L}function P(I,X){var W=N(I);W[1].v=I.read_shift(2);var T=W[1].v>>1;if(W[1].v&1)switch(T&7){case 0:T=(T>>3)*5e3;break;case 1:T=(T>>3)*500;break;case 2:T=(T>>3)/20;break;case 3:T=(T>>3)/200;break;case 4:T=(T>>3)/2e3;break;case 5:T=(T>>3)/2e4;break;case 6:T=(T>>3)/16;break;case 7:T=(T>>3)/64;break}return W[1].v=T,W}function _(I,X){var W=N(I),T=I.read_shift(4),L=I.read_shift(4),D=I.read_shift(2);if(D==65535)return T===0&&L===3221225472?(W[1].t="e",W[1].v=15):T===0&&L===3489660928?(W[1].t="e",W[1].v=42):W[1].v=0,W;var M=D&32768;return D=(D&32767)-16446,W[1].v=(1-M*2)*(L*Math.pow(2,D+32)+T*Math.pow(2,D)),W}function C(I,X,W,T){var L=Oe(14);if(L.write_shift(2,I),L.write_shift(1,W),L.write_shift(1,X),T==0)return L.write_shift(4,0),L.write_shift(4,0),L.write_shift(2,65535),L;var D=0,M=0,z=0,se=0;return T<0&&(D=1,T=-T),M=Math.log2(T)|0,T/=Math.pow(2,M-31),se=T>>>0,se&2147483648||(T/=2,++M,se=T>>>0),T-=se,se|=2147483648,se>>>=0,T*=Math.pow(2,32),z=T>>>0,L.write_shift(4,z),L.write_shift(4,se),M+=16383+(D?32768:0),L.write_shift(2,M),L}function A(I,X){var W=_(I);return I.l+=X-14,W}function V(I,X){var W=N(I),T=I.read_shift(4);return W[1].v=T>>6,W}function q(I,X){var W=N(I),T=I.read_shift(8,"f");return W[1].v=T,W}function Z(I,X){var W=q(I);return I.l+=X-10,W}function ue(I,X){return I[I.l+X-1]==0?I.read_shift(X,"cstr"):""}function me(I,X){var W=I[I.l++];W>X-1&&(W=X-1);for(var T="";T.length<W;)T+=String.fromCharCode(I[I.l++]);return T}function Q(I,X,W){if(!(!W.qpro||X<21)){var T=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var L=I.read_shift(X-21,"cstr");return[T,L]}}function ae(I,X){for(var W={},T=I.l+X;I.l<T;){var L=I.read_shift(2);if(L==14e3){for(W[L]=[0,""],W[L][0]=I.read_shift(2);I[I.l];)W[L][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return W}function oe(I,X){var W=Oe(5+I.length);W.write_shift(2,14e3),W.write_shift(2,X);for(var T=0;T<I.length;++T){var L=I.charCodeAt(T);W[W.l++]=L>127?95:L}return W[W.l++]=0,W}var R={0:{n:"BOF",f:nR},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ue},222:{n:"SHEETNAMELP",f:me},65535:{n:""}},O={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:_},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:A},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ae},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:V},38:{n:"??"},39:{n:"NUMBER27",f:q},40:{n:"FORMULA28",f:Z},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ue},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Q},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:n,to_workbook:t}}(),zye=/^\s|\s$|[\t\n\r]/;function uR(e,t){if(!t.bookSST)return"";var s=[hs];s[s.length]=Ze("sst",null,{xmlns:zu[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var n=e[a],i="<si>";n.r?i+=n.r:(i+="<t",n.t||(n.t=""),n.t.match(zye)&&(i+=' xml:space="preserve"'),i+=">"+lr(n.t)+"</t>"),i+="</si>",s[s.length]=i}return s.length>2&&(s[s.length]="</sst>",s[1]=s[1].replace("/>",">")),s.join("")}function Vye(e){return[e.read_shift(4),e.read_shift(4)]}function Hye(e,t){return t||(t=Oe(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Wye=Mge;function Gye(e){var t=Ma();Ve(t,159,Hye(e));for(var s=0;s<e.length;++s)Ve(t,19,Wye(e[s]));return Ve(t,160),t.end()}function Kye(e){for(var t=[],s=e.split(""),a=0;a<s.length;++a)t[a]=s[a].charCodeAt(0);return t}function mR(e){var t=0,s,a=Kye(e),n=a.length+1,i,l,o,c,d;for(s=Mc(n),s[0]=a.length,i=1;i!=n;++i)s[i]=a[i-1];for(i=n-1;i>=0;--i)l=s[i],o=t&16384?1:0,c=t<<1&32767,d=o|c,t=d^l;return t^52811}var qye=function(){function e(n,i){switch(i.type){case"base64":return t(bl(n),i);case"binary":return t(n,i);case"buffer":return t(tr&&Buffer.isBuffer(n)?n.toString("binary"):P0(n),i);case"array":return t(Xy(n),i)}throw new Error("Unrecognized type "+i.type)}function t(n,i){var l=i||{},o=l.dense?[]:{},c=n.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,m){Array.isArray(o)&&(o[m]=[]);for(var f=/\\\w+\b/g,h=0,x,p=-1;x=f.exec(u);){switch(x[0]){case"\\cell":var b=u.slice(h,f.lastIndex-x[0].length);if(b[0]==" "&&(b=b.slice(1)),++p,b.length){var j={v:b,t:"s"};Array.isArray(o)?o[m][p]=j:o[cr({r:m,c:p})]=j}break}h=f.lastIndex}p>d.e.c&&(d.e.c=p)}),o["!ref"]=us(d),o}function s(n,i){return Yc(e(n,i),i)}function a(n){for(var i=["{\\rtf1\\ansi"],l=Pr(n["!ref"]),o,c=Array.isArray(n),d=l.s.r;d<=l.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=l.s.c;u<=l.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=l.s.c;u<=l.e.c;++u){var m=cr({r:d,c:u});o=c?(n[d]||[])[u]:n[m],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(vl(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:s,to_sheet:e,from_sheet:a}}();function fT(e){for(var t=0,s=1;t!=3;++t)s=s*256+(e[t]>255?255:e[t]<0?0:e[t]);return s.toString(16).toUpperCase().slice(1)}var Yye=6,sl=Yye;function Xx(e){return Math.floor((e+Math.round(128/sl)/256)*sl)}function Jx(e){return Math.floor((e-5)/sl*100+.5)/100}function uj(e){return Math.round((e*sl+5)/sl*256)/256}function S3(e){e.width?(e.wpx=Xx(e.width),e.wch=Jx(e.wpx),e.MDW=sl):e.wpx?(e.wch=Jx(e.wpx),e.width=uj(e.wch),e.MDW=sl):typeof e.wch=="number"&&(e.width=uj(e.wch),e.wpx=Xx(e.width),e.MDW=sl),e.customWidth&&delete e.customWidth}var Xye=96,hR=Xye;function Qx(e){return e*96/hR}function fR(e){return e*hR/96}function Jye(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)e[a]!=null&&(t[t.length]=Ze("numFmt",null,{numFmtId:a,formatCode:lr(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ze("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Qye(e){var t=[];return t[t.length]=Ze("cellXfs",null),e.forEach(function(s){t[t.length]=Ze("xf",null,s)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ze("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function pR(e,t){var s=[hs,Ze("styleSheet",null,{xmlns:zu[0],"xmlns:vt":Ps.vt})],a;return e.SSF&&(a=Jye(e.SSF))!=null&&(s[s.length]=a),s[s.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',s[s.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',s[s.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',s[s.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=Qye(t.cellXfs))&&(s[s.length]=a),s[s.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',s[s.length]='<dxfs count="0"/>',s[s.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',s.length>2&&(s[s.length]="</styleSheet>",s[1]=s[1].replace("/>",">")),s.join("")}function Zye(e,t){var s=e.read_shift(2),a=oa(e);return[s,a]}function ebe(e,t,s){s||(s=Oe(6+4*t.length)),s.write_shift(2,e),Es(t,s);var a=s.length>s.l?s.slice(0,s.l):s;return s.l==null&&(s.l=s.length),a}function tbe(e,t,s){var a={};a.sz=e.read_shift(2)/20;var n=zge(e);n.fItalic&&(a.italic=1),n.fCondense&&(a.condense=1),n.fExtend&&(a.extend=1),n.fShadow&&(a.shadow=1),n.fOutline&&(a.outline=1),n.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(a.underline=l);var o=e.read_shift(1);o>0&&(a.family=o);var c=e.read_shift(1);switch(c>0&&(a.charset=c),e.l++,a.color=Uge(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=oa(e),a}function rbe(e,t){t||(t=Oe(25+4*32)),t.write_shift(2,e.sz*20),Vge(e,t),t.write_shift(2,e.bold?700:400);var s=0;e.vertAlign=="superscript"?s=1:e.vertAlign=="subscript"&&(s=2),t.write_shift(2,s),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),qx(e.color,t);var a=0;return a=2,t.write_shift(1,a),Es(e.name,t),t.length>t.l?t.slice(0,t.l):t}var sbe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Lv,abe=Ii;function pT(e,t){t||(t=Oe(4*3+8*7+16*1)),Lv||(Lv=m3(sbe));var s=Lv[e.patternType];s==null&&(s=40),t.write_shift(4,s);var a=0;if(s!=40)for(qx({auto:1},t),qx({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function nbe(e,t){var s=e.l+t,a=e.read_shift(2),n=e.read_shift(2);return e.l=s,{ixfe:a,numFmtId:n}}function xR(e,t,s){s||(s=Oe(16)),s.write_shift(2,t||0),s.write_shift(2,e.numFmtId||0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(1,0),s.write_shift(1,0);var a=0;return s.write_shift(1,a),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(1,0),s}function fm(e,t){return t||(t=Oe(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var ibe=Ii;function lbe(e,t){return t||(t=Oe(51)),t.write_shift(1,0),fm(null,t),fm(null,t),fm(null,t),fm(null,t),fm(null,t),t.length>t.l?t.slice(0,t.l):t}function obe(e,t){return t||(t=Oe(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Kx(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function cbe(e,t,s){var a=Oe(2052);return a.write_shift(4,e),Kx(t,a),Kx(s,a),a.length>a.l?a.slice(0,a.l):a}function dbe(e,t){if(t){var s=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&++s}),s!=0&&(Ve(e,615,ti(s)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&Ve(e,44,ebe(n,t[n]))}),Ve(e,616))}}function ube(e){var t=1;Ve(e,611,ti(t)),Ve(e,43,rbe({sz:12,color:{theme:1},name:"Calibri",family:2})),Ve(e,612)}function mbe(e){var t=2;Ve(e,603,ti(t)),Ve(e,45,pT({patternType:"none"})),Ve(e,45,pT({patternType:"gray125"})),Ve(e,604)}function hbe(e){var t=1;Ve(e,613,ti(t)),Ve(e,46,lbe()),Ve(e,614)}function fbe(e){var t=1;Ve(e,626,ti(t)),Ve(e,47,xR({numFmtId:0},65535)),Ve(e,627)}function pbe(e,t){Ve(e,617,ti(t.length)),t.forEach(function(s){Ve(e,47,xR(s,0))}),Ve(e,618)}function xbe(e){var t=1;Ve(e,619,ti(t)),Ve(e,48,obe({xfId:0,name:"Normal"})),Ve(e,620)}function gbe(e){var t=0;Ve(e,505,ti(t)),Ve(e,506)}function ybe(e){var t=0;Ve(e,508,cbe(t,"TableStyleMedium9","PivotStyleMedium4")),Ve(e,509)}function bbe(e,t){var s=Ma();return Ve(s,278),dbe(s,e.SSF),ube(s),mbe(s),hbe(s),fbe(s),pbe(s,t.cellXfs),xbe(s),gbe(s),ybe(s),Ve(s,279),s.end()}function gR(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var s=[hs];return s[s.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',s[s.length]="<a:themeElements>",s[s.length]='<a:clrScheme name="Office">',s[s.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',s[s.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',s[s.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',s[s.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',s[s.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',s[s.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',s[s.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',s[s.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',s[s.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',s[s.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',s[s.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',s[s.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',s[s.length]="</a:clrScheme>",s[s.length]='<a:fontScheme name="Office">',s[s.length]="<a:majorFont>",s[s.length]='<a:latin typeface="Cambria"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface=" "/>',s[s.length]='<a:font script="Hang" typeface=" "/>',s[s.length]='<a:font script="Hans" typeface=""/>',s[s.length]='<a:font script="Hant" typeface=""/>',s[s.length]='<a:font script="Arab" typeface="Times New Roman"/>',s[s.length]='<a:font script="Hebr" typeface="Times New Roman"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="MoolBoran"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Times New Roman"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:majorFont>",s[s.length]="<a:minorFont>",s[s.length]='<a:latin typeface="Calibri"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface=" "/>',s[s.length]='<a:font script="Hang" typeface=" "/>',s[s.length]='<a:font script="Hans" typeface=""/>',s[s.length]='<a:font script="Hant" typeface=""/>',s[s.length]='<a:font script="Arab" typeface="Arial"/>',s[s.length]='<a:font script="Hebr" typeface="Arial"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="DaunPenh"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Arial"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:minorFont>",s[s.length]="</a:fontScheme>",s[s.length]='<a:fmtScheme name="Office">',s[s.length]="<a:fillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="1"/>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="0"/>',s[s.length]="</a:gradFill>",s[s.length]="</a:fillStyleLst>",s[s.length]="<a:lnStyleLst>",s[s.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]="</a:lnStyleLst>",s[s.length]="<a:effectStyleLst>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',s[s.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',s[s.length]="</a:effectStyle>",s[s.length]="</a:effectStyleLst>",s[s.length]="<a:bgFillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]="</a:bgFillStyleLst>",s[s.length]="</a:fmtScheme>",s[s.length]="</a:themeElements>",s[s.length]="<a:objectDefaults>",s[s.length]="<a:spDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',s[s.length]="</a:spDef>",s[s.length]="<a:lnDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',s[s.length]="</a:lnDef>",s[s.length]="</a:objectDefaults>",s[s.length]="<a:extraClrSchemeLst/>",s[s.length]="</a:theme>",s.join("")}function vbe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:oa(e)}}function jbe(e){var t=Oe(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Es(e.name,t),t.slice(0,t.l)}function wbe(e){for(var t=[],s=e.read_shift(4);s-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Nbe(e){var t=Oe(4+8*e.length);t.write_shift(4,e.length);for(var s=0;s<e.length;++s)t.write_shift(4,e[s][0]),t.write_shift(4,e[s][1]);return t}function Sbe(e,t){var s=Oe(8+2*t.length);return s.write_shift(4,e),Es(t,s),s.slice(0,s.l)}function kbe(e){return e.l+=4,e.read_shift(4)!=0}function Cbe(e,t){var s=Oe(8);return s.write_shift(4,e),s.write_shift(4,1),s}function Pbe(){var e=Ma();return Ve(e,332),Ve(e,334,ti(1)),Ve(e,335,jbe({name:"XLDAPR",version:12e4,flags:3496657072})),Ve(e,336),Ve(e,339,Sbe(1,"XLDAPR")),Ve(e,52),Ve(e,35,ti(514)),Ve(e,4096,ti(0)),Ve(e,4097,jn(1)),Ve(e,36),Ve(e,53),Ve(e,340),Ve(e,337,Cbe(1)),Ve(e,51,Nbe([[1,0]])),Ve(e,338),Ve(e,333),e.end()}function yR(){var e=[hs];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Abe(e){var t={};t.i=e.read_shift(4);var s={};s.r=e.read_shift(4),s.c=e.read_shift(4),t.r=cr(s);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}var Od=1024;function bR(e,t){for(var s=[21600,21600],a=["m0,0l0",s[1],s[0],s[1],s[0],"0xe"].join(","),n=[Ze("xml",null,{"xmlns:v":Ka.v,"xmlns:o":Ka.o,"xmlns:x":Ka.x,"xmlns:mv":Ka.mv}).replace(/\/>/,">"),Ze("o:shapelayout",Ze("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ze("v:shapetype",[Ze("v:stroke",null,{joinstyle:"miter"}),Ze("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:s.join(","),path:a})];Od<e*1e3;)Od+=1e3;return t.forEach(function(i){var l=Ts(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?Ze("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Ze("v:fill",c,o),u={on:"t",obscured:"t"};++Od,n=n.concat(["<v:shape"+Wh({id:"_x0000_s"+Od,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Ze("v:shadow",null,u),Ze("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Us("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),Us("x:AutoFill","False"),Us("x:Row",String(l.r)),Us("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function vR(e){var t=[hs,Ze("comments",null,{xmlns:zu[0]})],s=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(n){var i=lr(n.a);s.indexOf(i)==-1&&(s.push(i),t.push("<author>"+i+"</author>")),n.T&&n.ID&&s.indexOf("tc="+n.ID)==-1&&(s.push("tc="+n.ID),t.push("<author>tc="+n.ID+"</author>"))})}),s.length==0&&(s.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var n=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?n=s.indexOf("tc="+a[1][0].ID):a[1].forEach(function(c){c.a&&(n=s.indexOf(lr(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+n+'"><text>'),i.length<=1)t.push(Us("t",lr(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)l+=`Reply:
    `+i[o]+`
`;t.push(Us("t",lr(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Tbe(e,t,s){var a=[hs,Ze("ThreadedComments",null,{xmlns:Ps.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(n){var i="";(n[1]||[]).forEach(function(l,o){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var c={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+s.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,l.ID=c.id,l.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),a.push(Ze("threadedComment",Us("text",l.t||""),c))})}),a.push("</ThreadedComments>"),a.join("")}function Ebe(e){var t=[hs,Ze("personList",null,{xmlns:Ps.TCMNT,"xmlns:x":zu[0]}).replace(/[\/]>/,">")];return e.forEach(function(s,a){t.push(Ze("person",null,{displayName:s,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:s,providerId:"None"}))}),t.push("</personList>"),t.join("")}function _be(e){var t={};t.iauthor=e.read_shift(4);var s=Zc(e);return t.rfx=s.s,t.ref=cr(s.s),e.l+=16,t}function Ibe(e,t){return t==null&&(t=Oe(36)),t.write_shift(4,e[1].iauthor),Hu(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Obe=oa;function Dbe(e){return Es(e.slice(0,54))}function Mbe(e){var t=Ma(),s=[];return Ve(t,628),Ve(t,630),e.forEach(function(a){a[1].forEach(function(n){s.indexOf(n.a)>-1||(s.push(n.a.slice(0,54)),Ve(t,632,Dbe(n.a)))})}),Ve(t,631),Ve(t,633),e.forEach(function(a){a[1].forEach(function(n){n.iauthor=s.indexOf(n.a);var i={s:Ts(a[0]),e:Ts(a[0])};Ve(t,635,Ibe([i,n])),n.t&&n.t.length>0&&Ve(t,637,Fge(n)),Ve(t,636),delete n.iauthor})}),Ve(t,634),Ve(t,629),t.end()}function Lbe(e,t){t.FullPaths.forEach(function(s,a){if(a!=0){var n=s.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&dr.utils.cfb_add(e,n,t.FileIndex[a].content)}})}var jR=["xlsb","xlsm","xlam","biff8","xla"],Fbe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function s(a,n,i,l){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),l.length==0?o=!0:l.charAt(0)=="["&&(o=!0,l=l.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=l.length>0?parseInt(l,10)|0:0;return o?u+=t.c:--u,c?d+=t.r:--d,n+(o?"":"$")+la(u)+(c?"":"$")+Gs(d)}return function(n,i){return t=i,n.replace(e,s)}}(),k3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,C3=function(){return function(t,s){return t.replace(k3,function(a,n,i,l,o,c){var d=b3(l)-(i?0:s.c),u=y3(c)-(o?0:s.r),m=u==0?"":o?u+1:"["+u+"]",f=d==0?"":i?d+1:"["+d+"]";return n+"R"+m+"C"+f})}}();function Rbe(e,t){return e.replace(k3,function(s,a,n,i,l,o){return a+(n=="$"?n+i:la(b3(i)+t.c))+(l=="$"?l+o:Gs(y3(o)+t.r))})}function Bbe(e){return e.length!=1}function ss(e){e.l+=1}function No(e,t){var s=e.read_shift(2);return[s&16383,s>>14&1,s>>15&1]}function wR(e,t,s){var a=2;if(s){if(s.biff>=2&&s.biff<=5)return NR(e);s.biff==12&&(a=4)}var n=e.read_shift(a),i=e.read_shift(a),l=No(e),o=No(e);return{s:{r:n,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function NR(e){var t=No(e),s=No(e),a=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:s[0],c:n,cRel:s[1],rRel:s[2]}}}function $be(e,t,s){if(s.biff<8)return NR(e);var a=e.read_shift(s.biff==12?4:2),n=e.read_shift(s.biff==12?4:2),i=No(e),l=No(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:n,c:l[0],cRel:l[1],rRel:l[2]}}}function SR(e,t,s){if(s&&s.biff>=2&&s.biff<=5)return Ube(e);var a=e.read_shift(s&&s.biff==12?4:2),n=No(e);return{r:a,c:n[0],cRel:n[1],rRel:n[2]}}function Ube(e){var t=No(e),s=e.read_shift(1);return{r:t[0],c:s,cRel:t[1],rRel:t[2]}}function zbe(e){var t=e.read_shift(2),s=e.read_shift(2);return{r:t,c:s&255,fQuoted:!!(s&16384),cRel:s>>15,rRel:s>>15}}function Vbe(e,t,s){var a=s&&s.biff?s.biff:8;if(a>=2&&a<=5)return Hbe(e);var n=e.read_shift(a>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;n>524287;)n-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:n,c:i,cRel:l,rRel:o}}function Hbe(e){var t=e.read_shift(2),s=e.read_shift(1),a=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),n==1&&s>=128&&(s=s-256),{r:t,c:s,cRel:n,rRel:a}}function Wbe(e,t,s){var a=(e[e.l++]&96)>>5,n=wR(e,s.biff>=2&&s.biff<=5?6:8,s);return[a,n]}function Gbe(e,t,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),i=8;if(s)switch(s.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=wR(e,i,s);return[a,n,l]}function Kbe(e,t,s){var a=(e[e.l++]&96)>>5;return e.l+=s&&s.biff>8?12:s.biff<8?6:8,[a]}function qbe(e,t,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=8;if(s)switch(s.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,n]}function Ybe(e,t,s){var a=(e[e.l++]&96)>>5,n=$be(e,t-1,s);return[a,n]}function Xbe(e,t,s){var a=(e[e.l++]&96)>>5;return e.l+=s.biff==2?6:s.biff==12?14:7,[a]}function xT(e){var t=e[e.l+1]&1,s=1;return e.l+=4,[t,s]}function Jbe(e,t,s){e.l+=2;for(var a=e.read_shift(s&&s.biff==2?1:2),n=[],i=0;i<=a;++i)n.push(e.read_shift(s&&s.biff==2?1:2));return n}function Qbe(e,t,s){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(s&&s.biff==2?1:2)]}function Zbe(e,t,s){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(s&&s.biff==2?1:2)]}function eve(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function tve(e,t,s){var a=e[e.l+1]&255?1:0;return e.l+=s&&s.biff==2?3:4,[a]}function kR(e){var t=e.read_shift(1),s=e.read_shift(1);return[t,s]}function rve(e){return e.read_shift(2),kR(e)}function sve(e){return e.read_shift(2),kR(e)}function ave(e,t,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=SR(e,0,s);return[a,n]}function nve(e,t,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=Vbe(e,0,s);return[a,n]}function ive(e,t,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);s&&s.biff==5&&(e.l+=12);var i=SR(e,0,s);return[a,n,i]}function lve(e,t,s){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(s&&s.biff<=3?1:2);return[l1e[n],AR[n],a]}function ove(e,t,s){var a=e[e.l++],n=e.read_shift(1),i=s&&s.biff<=3?[a==88?-1:0,e.read_shift(1)]:cve(e);return[n,(i[0]===0?AR:i1e)[i[1]]]}function cve(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function dve(e,t,s){e.l+=s&&s.biff==2?3:4}function uve(e,t,s){if(e.l++,s&&s.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function mve(e){return e.l++,E0[e.read_shift(1)]}function hve(e){return e.l++,e.read_shift(2)}function fve(e){return e.l++,e.read_shift(1)!==0}function pve(e){return e.l++,Wu(e)}function xve(e,t,s){return e.l++,lR(e,t-1,s)}function gve(e,t){var s=[e.read_shift(1)];if(t==12)switch(s[0]){case 2:s[0]=4;break;case 4:s[0]=16;break;case 0:s[0]=1;break;case 1:s[0]=2;break}switch(s[0]){case 4:s[1]=iye(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:s[1]=E0[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:s[1]=Wu(e);break;case 2:s[1]=dye(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+s[0])}return s}function yve(e,t,s){for(var a=e.read_shift(s.biff==12?4:2),n=[],i=0;i!=a;++i)n.push((s.biff==12?Zc:hye)(e));return n}function bve(e,t,s){var a=0,n=0;s.biff==12?(a=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),a=1+e.read_shift(2)),s.biff>=2&&s.biff<8&&(--a,--n==0&&(n=256));for(var i=0,l=[];i!=a&&(l[i]=[]);++i)for(var o=0;o!=n;++o)l[i][o]=gve(e,s.biff);return l}function vve(e,t,s){var a=e.read_shift(1)>>>5&3,n=!s||s.biff>=8?4:2,i=e.read_shift(n);switch(s.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function jve(e,t,s){if(s.biff==5)return wve(e);var a=e.read_shift(1)>>>5&3,n=e.read_shift(2),i=e.read_shift(4);return[a,n,i]}function wve(e){var t=e.read_shift(1)>>>5&3,s=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,s,a]}function Nve(e,t,s){var a=e.read_shift(1)>>>5&3;e.l+=s&&s.biff==2?3:4;var n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function Sve(e,t,s){var a=e.read_shift(1)>>>5&3,n=e.read_shift(s&&s.biff==2?1:2);return[a,n]}function kve(e,t,s){var a=e.read_shift(1)>>>5&3;return e.l+=4,s.biff<8&&e.l--,s.biff==12&&(e.l+=2),[a]}function Cve(e,t,s){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=4;if(s)switch(s.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,n]}var Pve=Ii,Ave=Ii,Tve=Ii;function _0(e,t,s){return e.l+=2,[zbe(e)]}function P3(e){return e.l+=6,[]}var Eve=_0,_ve=P3,Ive=P3,Ove=_0;function CR(e){return e.l+=2,[nR(e),e.read_shift(2)&1]}var Dve=_0,Mve=CR,Lve=P3,Fve=_0,Rve=_0,Bve=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function $ve(e){e.l+=2;var t=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(4),n=e.read_shift(2),i=e.read_shift(2),l=Bve[s>>2&31];return{ixti:t,coltype:s&3,rt:l,idx:a,c:n,C:i}}function Uve(e){return e.l+=2,[e.read_shift(4)]}function zve(e,t,s){return e.l+=5,e.l+=2,e.l+=s.biff==2?1:4,["PTGSHEET"]}function Vve(e,t,s){return e.l+=s.biff==2?4:5,["PTGENDSHEET"]}function Hve(e){var t=e.read_shift(1)>>>5&3,s=e.read_shift(2);return[t,s]}function Wve(e){var t=e.read_shift(1)>>>5&3,s=e.read_shift(2);return[t,s]}function Gve(e){return e.l+=4,[0,0]}var gT={1:{n:"PtgExp",f:uve},2:{n:"PtgTbl",f:Tve},3:{n:"PtgAdd",f:ss},4:{n:"PtgSub",f:ss},5:{n:"PtgMul",f:ss},6:{n:"PtgDiv",f:ss},7:{n:"PtgPower",f:ss},8:{n:"PtgConcat",f:ss},9:{n:"PtgLt",f:ss},10:{n:"PtgLe",f:ss},11:{n:"PtgEq",f:ss},12:{n:"PtgGe",f:ss},13:{n:"PtgGt",f:ss},14:{n:"PtgNe",f:ss},15:{n:"PtgIsect",f:ss},16:{n:"PtgUnion",f:ss},17:{n:"PtgRange",f:ss},18:{n:"PtgUplus",f:ss},19:{n:"PtgUminus",f:ss},20:{n:"PtgPercent",f:ss},21:{n:"PtgParen",f:ss},22:{n:"PtgMissArg",f:ss},23:{n:"PtgStr",f:xve},26:{n:"PtgSheet",f:zve},27:{n:"PtgEndSheet",f:Vve},28:{n:"PtgErr",f:mve},29:{n:"PtgBool",f:fve},30:{n:"PtgInt",f:hve},31:{n:"PtgNum",f:pve},32:{n:"PtgArray",f:Xbe},33:{n:"PtgFunc",f:lve},34:{n:"PtgFuncVar",f:ove},35:{n:"PtgName",f:vve},36:{n:"PtgRef",f:ave},37:{n:"PtgArea",f:Wbe},38:{n:"PtgMemArea",f:Nve},39:{n:"PtgMemErr",f:Pve},40:{n:"PtgMemNoMem",f:Ave},41:{n:"PtgMemFunc",f:Sve},42:{n:"PtgRefErr",f:kve},43:{n:"PtgAreaErr",f:Kbe},44:{n:"PtgRefN",f:nve},45:{n:"PtgAreaN",f:Ybe},46:{n:"PtgMemAreaN",f:Hve},47:{n:"PtgMemNoMemN",f:Wve},57:{n:"PtgNameX",f:jve},58:{n:"PtgRef3d",f:ive},59:{n:"PtgArea3d",f:Gbe},60:{n:"PtgRefErr3d",f:Cve},61:{n:"PtgAreaErr3d",f:qbe},255:{}},Kve={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},qve={1:{n:"PtgElfLel",f:CR},2:{n:"PtgElfRw",f:Fve},3:{n:"PtgElfCol",f:Eve},6:{n:"PtgElfRwV",f:Rve},7:{n:"PtgElfColV",f:Ove},10:{n:"PtgElfRadical",f:Dve},11:{n:"PtgElfRadicalS",f:Lve},13:{n:"PtgElfColS",f:_ve},15:{n:"PtgElfColSV",f:Ive},16:{n:"PtgElfRadicalLel",f:Mve},25:{n:"PtgList",f:$ve},29:{n:"PtgSxName",f:Uve},255:{}},Yve={0:{n:"PtgAttrNoop",f:Gve},1:{n:"PtgAttrSemi",f:tve},2:{n:"PtgAttrIf",f:Zbe},4:{n:"PtgAttrChoose",f:Jbe},8:{n:"PtgAttrGoto",f:Qbe},16:{n:"PtgAttrSum",f:dve},32:{n:"PtgAttrBaxcel",f:xT},33:{n:"PtgAttrBaxcel",f:xT},64:{n:"PtgAttrSpace",f:rve},65:{n:"PtgAttrSpaceSemi",f:sve},128:{n:"PtgAttrIfError",f:eve},255:{}};function Xve(e,t,s,a){if(a.biff<8)return Ii(e,t);for(var n=e.l+t,i=[],l=0;l!==s.length;++l)switch(s[l][0]){case"PtgArray":s[l][1]=bve(e,0,a),i.push(s[l][1]);break;case"PtgMemArea":s[l][2]=yve(e,s[l][1],a),i.push(s[l][2]);break;case"PtgExp":a&&a.biff==12&&(s[l][1][1]=e.read_shift(4),i.push(s[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+s[l][0]}return t=n-e.l,t!==0&&i.push(Ii(e,t)),i}function Jve(e,t,s){for(var a=e.l+t,n,i,l=[];a!=e.l;)t=a-e.l,i=e[e.l],n=gT[i]||gT[Kve[i]],(i===24||i===25)&&(n=(i===24?qve:Yve)[e[e.l+1]]),!n||!n.f?Ii(e,t):l.push([n.n,n.f(e,t,s)]);return l}function Qve(e){for(var t=[],s=0;s<e.length;++s){for(var a=e[s],n=[],i=0;i<a.length;++i){var l=a[i];if(l)switch(l[0]){case 2:n.push('"'+l[1].replace(/"/g,'""')+'"');break;default:n.push(l[1])}else n.push("")}t.push(n.join(","))}return t.join(";")}var Zve={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function e1e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function PR(e,t,s){if(!e)return"SH33TJSERR0";if(s.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(s.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var n="";if(s.biff>8)switch(e[a[0]][0]){case 357:return n=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 358:return s.SID!=null?e.SheetNames[s.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return n=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(n=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?n:n+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function yT(e,t,s){var a=PR(e,t,s);return a=="#REF"?a:e1e(a,s)}function ju(e,t,s,a,n){var i=n&&n.biff||8,l={s:{c:0,r:0}},o=[],c,d,u,m=0,f=0,h,x="";if(!e[0]||!e[0][0])return"";for(var p=-1,b="",j=0,v=e[0].length;j<v;++j){var y=e[0][j];switch(y[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),d=o.pop(),p>=0){switch(e[0][p][1][0]){case 0:b=Kr(" ",e[0][p][1][1]);break;case 1:b=Kr("\r",e[0][p][1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}d=d+b,p=-1}o.push(d+Zve[y[0]]+c);break;case"PtgIsect":c=o.pop(),d=o.pop(),o.push(d+" "+c);break;case"PtgUnion":c=o.pop(),d=o.pop(),o.push(d+","+c);break;case"PtgRange":c=o.pop(),d=o.pop(),o.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Vm(y[1][1],l,n),o.push(Hm(u,i));break;case"PtgRefN":u=s?Vm(y[1][1],s,n):y[1][1],o.push(Hm(u,i));break;case"PtgRef3d":m=y[1][1],u=Vm(y[1][2],l,n),x=yT(a,m,n),o.push(x+"!"+Hm(u,i));break;case"PtgFunc":case"PtgFuncVar":var w=y[1][0],N=y[1][1];w||(w=0),w&=127;var k=w==0?[]:o.slice(-w);o.length-=w,N==="User"&&(N=k.shift()),o.push(N+"("+k.join(",")+")");break;case"PtgBool":o.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(y[1]);break;case"PtgNum":o.push(String(y[1]));break;case"PtgStr":o.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(y[1]);break;case"PtgAreaN":h=rT(y[1][1],s?{s}:l,n),o.push(Dv(h,n));break;case"PtgArea":h=rT(y[1][1],l,n),o.push(Dv(h,n));break;case"PtgArea3d":m=y[1][1],h=y[1][2],x=yT(a,m,n),o.push(x+"!"+Dv(h,n));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=y[1][2];var S=(a.names||[])[f-1]||(a[0]||[])[f],P=S?S.Name:"SH33TJSNAME"+String(f);P&&P.slice(0,6)=="_xlfn."&&!n.xlfn&&(P=P.slice(6)),o.push(P);break;case"PtgNameX":var _=y[1][1];f=y[1][2];var C;if(n.biff<=5)_<0&&(_=-_),a[_]&&(C=a[_][f]);else{var A="";if(((a[_]||[])[0]||[])[0]==14849||(((a[_]||[])[0]||[])[0]==1025?a[_][f]&&a[_][f].itab>0&&(A=a.SheetNames[a[_][f].itab-1]+"!"):A=a.SheetNames[f-1]+"!"),a[_]&&a[_][f])A+=a[_][f].Name;else if(a[0]&&a[0][f])A+=a[0][f].Name;else{var V=(PR(a,_,n)||"").split(";;");V[f-1]?A=V[f-1]:A+="SH33TJSERRX"}o.push(A);break}C||(C={Name:"SH33TJSERRY"}),o.push(C.Name);break;case"PtgParen":var q="(",Z=")";if(p>=0){switch(b="",e[0][p][1][0]){case 2:q=Kr(" ",e[0][p][1][1])+q;break;case 3:q=Kr("\r",e[0][p][1][1])+q;break;case 4:Z=Kr(" ",e[0][p][1][1])+Z;break;case 5:Z=Kr("\r",e[0][p][1][1])+Z;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}o.push(q+o.pop()+Z);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:y[1][1],r:y[1][0]};var ue={c:s.c,r:s.r};if(a.sharedf[cr(u)]){var me=a.sharedf[cr(u)];o.push(ju(me,l,ue,a,n))}else{var Q=!1;for(c=0;c!=a.arrayf.length;++c)if(d=a.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){o.push(ju(d[1],l,ue,a,n)),Q=!0;break}Q||o.push(y[1])}break;case"PtgArray":o.push("{"+Qve(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var ae=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&p>=0&&ae.indexOf(e[0][j][0])==-1){y=e[0][p];var oe=!0;switch(y[1][0]){case 4:oe=!1;case 0:b=Kr(" ",y[1][1]);break;case 5:oe=!1;case 1:b=Kr("\r",y[1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}o.push((oe?b:"")+o.pop()+(oe?"":b)),p=-1}}if(o.length>1&&n.WTF)throw new Error("bad formula stack");return o[0]}function t1e(e){if(e==null){var t=Oe(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Lc(e);return Lc(0)}function r1e(e,t,s,a,n){var i=Fc(t,s,n),l=t1e(e.v),o=Oe(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var d=Oe(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var m=$s([i,l,o,d]);return m}function Jy(e,t,s){var a=e.read_shift(4),n=Jve(e,a,s),i=e.read_shift(4),l=i>0?Xve(e,i,n,s):null;return[n,l]}var s1e=Jy,Qy=Jy,a1e=Jy,n1e=Jy,i1e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},AR={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},l1e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function o1e(e){var t="of:="+e.replace(k3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function c1e(e){return e.replace(/\./,"!")}var Wm=typeof Map<"u";function A3(e,t,s){var a=0,n=e.length;if(s){if(Wm?s.has(t):Object.prototype.hasOwnProperty.call(s,t)){for(var i=Wm?s.get(t):s[t];a<i.length;++a)if(e[i[a]].t===t)return e.Count++,i[a]}}else for(;a<n;++a)if(e[a].t===t)return e.Count++,a;return e[n]={t},e.Count++,e.Unique++,s&&(Wm?(s.has(t)||s.set(t,[]),s.get(t).push(n)):(Object.prototype.hasOwnProperty.call(s,t)||(s[t]=[]),s[t].push(n))),n}function Zy(e,t){var s={min:e+1,max:e+1},a=-1;return t.MDW&&(sl=t.MDW),t.width!=null?s.customWidth=1:t.wpx!=null?a=Jx(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(s.width=uj(a),s.customWidth=1):t.width!=null&&(s.width=t.width),t.hidden&&(s.hidden=!0),t.level!=null&&(s.outlineLevel=s.level=t.level),s}function TR(e,t){if(e){var s=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=s[0]),e.right==null&&(e.right=s[1]),e.top==null&&(e.top=s[2]),e.bottom==null&&(e.bottom=s[3]),e.header==null&&(e.header=s[4]),e.footer==null&&(e.footer=s[5])}}function Oo(e,t,s){var a=s.revssf[t.z!=null?t.z:"General"],n=60,i=e.length;if(a==null&&s.ssf){for(;n<392;++n)if(s.ssf[n]==null){SF(t.z,n),s.ssf[n]=t.z,s.revssf[t.z]=a=n;break}}for(n=0;n!=i;++n)if(e[n].numFmtId===a)return n;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function d1e(e,t,s){if(e&&e["!ref"]){var a=Pr(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+s+"): "+e["!ref"])}}function u1e(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',s=0;s!=e.length;++s)t+='<mergeCell ref="'+us(e[s])+'"/>';return t+"</mergeCells>"}function m1e(e,t,s,a,n){var i=!1,l={},o=null;if(a.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[s];try{t.Workbook&&(c=t.Workbook.Sheets[s].CodeName||c)}catch{}i=!0,l.codeName=Hh(lr(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),o=(o||"")+Ze("outlinePr",null,d)}!i&&!o||(n[n.length]=Ze("sheetPr",o,l))}var h1e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],f1e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function p1e(e){var t={sheet:1};return h1e.forEach(function(s){e[s]!=null&&e[s]&&(t[s]="1")}),f1e.forEach(function(s){e[s]!=null&&!e[s]&&(t[s]="0")}),e.password&&(t.password=mR(e.password).toString(16).toUpperCase()),Ze("sheetProtection",null,t)}function x1e(e){return TR(e),Ze("pageMargins",null,e)}function g1e(e,t){for(var s=["<cols>"],a,n=0;n!=t.length;++n)(a=t[n])&&(s[s.length]=Ze("col",null,Zy(n,a)));return s[s.length]="</cols>",s.join("")}function y1e(e,t,s,a){var n=typeof e.ref=="string"?e.ref:us(e.ref);s.Workbook||(s.Workbook={Sheets:[]}),s.Workbook.Names||(s.Workbook.Names=[]);var i=s.Workbook.Names,l=ln(n);l.s.r==l.e.r&&(l.e.r=ln(t["!ref"]).e.r,n=us(l));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==a){c.Ref="'"+s.SheetNames[a]+"'!"+n;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+s.SheetNames[a]+"'!"+n}),Ze("autoFilter",null,{ref:n})}function b1e(e,t,s,a){var n={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),Ze("sheetViews",Ze("sheetView",null,n),{})}function v1e(e,t,s,a){if(e.c&&s["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var n="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=E0[e.v];break;case"d":a&&a.cellDates?n=Na(e.v,-1).toISOString():(e=Ra(e),e.t="n",n=""+(e.v=Fa(Na(e.v)))),typeof e.z>"u"&&(e.z=qr[14]);break;default:n=e.v;break}var o=Us("v",lr(n)),c={r:t},d=Oo(a.cellXfs,e,a);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){o=Us("v",""+A3(a.Strings,e.v,a.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Ze("f",lr(e.f),u)+(e.v!=null?o:"")}return e.l&&s["!links"].push([t,e.l]),e.D&&(c.cm=1),Ze("c",o,c)}function j1e(e,t,s,a){var n=[],i=[],l=Pr(e["!ref"]),o="",c,d="",u=[],m=0,f=0,h=e["!rows"],x=Array.isArray(e),p={r:d},b,j=-1;for(f=l.s.c;f<=l.e.c;++f)u[f]=la(f);for(m=l.s.r;m<=l.e.r;++m){for(i=[],d=Gs(m),f=l.s.c;f<=l.e.c;++f){c=u[f]+d;var v=x?(e[m]||[])[f]:e[c];v!==void 0&&(o=v1e(v,c,e,t))!=null&&i.push(o)}(i.length>0||h&&h[m])&&(p={r:d},h&&h[m]&&(b=h[m],b.hidden&&(p.hidden=1),j=-1,b.hpx?j=Qx(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(p.ht=j,p.customHeight=1),b.level&&(p.outlineLevel=b.level)),n[n.length]=Ze("row",i.join(""),p))}if(h)for(;m<h.length;++m)h&&h[m]&&(p={r:m+1},b=h[m],b.hidden&&(p.hidden=1),j=-1,b.hpx?j=Qx(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(p.ht=j,p.customHeight=1),b.level&&(p.outlineLevel=b.level),n[n.length]=Ze("row","",p));return n.join("")}function ER(e,t,s,a){var n=[hs,Ze("worksheet",null,{xmlns:zu[0],"xmlns:r":Ps.r})],i=s.SheetNames[e],l=0,o="",c=s.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=Pr(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=us(u)}a||(a={}),c["!comments"]=[];var m=[];m1e(c,s,e,t,n),n[n.length]=Ze("dimension",null,{ref:d}),n[n.length]=b1e(c,t,e,s),t.sheetFormat&&(n[n.length]=Ze("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(n[n.length]=g1e(c,c["!cols"])),n[l=n.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=j1e(c,t),o.length>0&&(n[n.length]=o)),n.length>l+1&&(n[n.length]="</sheetData>",n[l]=n[l].replace("/>",">")),c["!protect"]&&(n[n.length]=p1e(c["!protect"])),c["!autofilter"]!=null&&(n[n.length]=y1e(c["!autofilter"],c,s,e)),c["!merges"]!=null&&c["!merges"].length>0&&(n[n.length]=u1e(c["!merges"]));var f=-1,h,x=-1;return c["!links"].length>0&&(n[n.length]="<hyperlinks>",c["!links"].forEach(function(p){p[1].Target&&(h={ref:p[0]},p[1].Target.charAt(0)!="#"&&(x=nr(a,-1,lr(p[1].Target).replace(/#.*$/,""),Xt.HLINK),h["r:id"]="rId"+x),(f=p[1].Target.indexOf("#"))>-1&&(h.location=lr(p[1].Target.slice(f+1))),p[1].Tooltip&&(h.tooltip=lr(p[1].Tooltip)),n[n.length]=Ze("hyperlink",null,h))}),n[n.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(n[n.length]=x1e(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(n[n.length]=Us("ignoredErrors",Ze("ignoredError",null,{numberStoredAsText:1,sqref:d}))),m.length>0&&(x=nr(a,-1,"../drawings/drawing"+(e+1)+".xml",Xt.DRAW),n[n.length]=Ze("drawing",null,{"r:id":"rId"+x}),c["!drawing"]=m),c["!comments"].length>0&&(x=nr(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Xt.VML),n[n.length]=Ze("legacyDrawing",null,{"r:id":"rId"+x}),c["!legacy"]=x),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function w1e(e,t){var s={},a=e.l+t;s.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(s.level=i&7),i&16&&(s.hidden=!0),i&32&&(s.hpt=n/20),s}function N1e(e,t,s){var a=Oe(145),n=(s["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;n.hpx?i=Qx(n.hpx)*20:n.hpt&&(i=n.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var l=0;n.level&&(l|=n.level),n.hidden&&(l|=16),(n.hpx||n.hpt)&&(l|=32),a.write_shift(1,l),a.write_shift(1,0);var o=0,c=a.l;a.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var m=-1,f=-1,h=u<<10;h<u+1<<10;++h){d.c=h;var x=Array.isArray(s)?(s[d.r]||[])[d.c]:s[cr(d)];x&&(m<0&&(m=h),f=h)}m<0||(++o,a.write_shift(4,m),a.write_shift(4,f))}var p=a.l;return a.l=c,a.write_shift(4,o),a.l=p,a.length>a.l?a.slice(0,a.l):a}function S1e(e,t,s,a){var n=N1e(a,s,t);(n.length>17||(t["!rows"]||[])[a])&&Ve(e,0,n)}var k1e=Zc,C1e=Hu;function P1e(){}function A1e(e,t){var s={},a=e[e.l];return++e.l,s.above=!(a&64),s.left=!(a&128),e.l+=18,s.name=Rge(e),s}function T1e(e,t,s){s==null&&(s=Oe(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),s.write_shift(1,a);for(var n=1;n<3;++n)s.write_shift(1,0);return qx({auto:1},s),s.write_shift(-4,-1),s.write_shift(-4,-1),WF(e,s),s.slice(0,s.l)}function E1e(e){var t=Fn(e);return[t]}function _1e(e,t,s){return s==null&&(s=Oe(8)),Xc(t,s)}function I1e(e){var t=Jc(e);return[t]}function O1e(e,t,s){return s==null&&(s=Oe(4)),Qc(t,s)}function D1e(e){var t=Fn(e),s=e.read_shift(1);return[t,s,"b"]}function M1e(e,t,s){return s==null&&(s=Oe(9)),Xc(t,s),s.write_shift(1,e.v?1:0),s}function L1e(e){var t=Jc(e),s=e.read_shift(1);return[t,s,"b"]}function F1e(e,t,s){return s==null&&(s=Oe(5)),Qc(t,s),s.write_shift(1,e.v?1:0),s}function R1e(e){var t=Fn(e),s=e.read_shift(1);return[t,s,"e"]}function B1e(e,t,s){return s==null&&(s=Oe(9)),Xc(t,s),s.write_shift(1,e.v),s}function $1e(e){var t=Jc(e),s=e.read_shift(1);return[t,s,"e"]}function U1e(e,t,s){return s==null&&(s=Oe(8)),Qc(t,s),s.write_shift(1,e.v),s.write_shift(2,0),s.write_shift(1,0),s}function z1e(e){var t=Fn(e),s=e.read_shift(4);return[t,s,"s"]}function V1e(e,t,s){return s==null&&(s=Oe(12)),Xc(t,s),s.write_shift(4,t.v),s}function H1e(e){var t=Jc(e),s=e.read_shift(4);return[t,s,"s"]}function W1e(e,t,s){return s==null&&(s=Oe(8)),Qc(t,s),s.write_shift(4,t.v),s}function G1e(e){var t=Fn(e),s=Wu(e);return[t,s,"n"]}function K1e(e,t,s){return s==null&&(s=Oe(16)),Xc(t,s),Lc(e.v,s),s}function q1e(e){var t=Jc(e),s=Wu(e);return[t,s,"n"]}function Y1e(e,t,s){return s==null&&(s=Oe(12)),Qc(t,s),Lc(e.v,s),s}function X1e(e){var t=Fn(e),s=GF(e);return[t,s,"n"]}function J1e(e,t,s){return s==null&&(s=Oe(12)),Xc(t,s),KF(e.v,s),s}function Q1e(e){var t=Jc(e),s=GF(e);return[t,s,"n"]}function Z1e(e,t,s){return s==null&&(s=Oe(8)),Qc(t,s),KF(e.v,s),s}function e2e(e){var t=Fn(e),s=v3(e);return[t,s,"is"]}function t2e(e){var t=Fn(e),s=oa(e);return[t,s,"str"]}function r2e(e,t,s){return s==null&&(s=Oe(12+4*e.v.length)),Xc(t,s),Es(e.v,s),s.length>s.l?s.slice(0,s.l):s}function s2e(e){var t=Jc(e),s=oa(e);return[t,s,"str"]}function a2e(e,t,s){return s==null&&(s=Oe(8+4*e.v.length)),Qc(t,s),Es(e.v,s),s.length>s.l?s.slice(0,s.l):s}function n2e(e,t,s){var a=e.l+t,n=Fn(e);n.r=s["!row"];var i=e.read_shift(1),l=[n,i,"b"];if(s.cellFormula){e.l+=2;var o=Qy(e,a-e.l,s);l[3]=ju(o,null,n,s.supbooks,s)}else e.l=a;return l}function i2e(e,t,s){var a=e.l+t,n=Fn(e);n.r=s["!row"];var i=e.read_shift(1),l=[n,i,"e"];if(s.cellFormula){e.l+=2;var o=Qy(e,a-e.l,s);l[3]=ju(o,null,n,s.supbooks,s)}else e.l=a;return l}function l2e(e,t,s){var a=e.l+t,n=Fn(e);n.r=s["!row"];var i=Wu(e),l=[n,i,"n"];if(s.cellFormula){e.l+=2;var o=Qy(e,a-e.l,s);l[3]=ju(o,null,n,s.supbooks,s)}else e.l=a;return l}function o2e(e,t,s){var a=e.l+t,n=Fn(e);n.r=s["!row"];var i=oa(e),l=[n,i,"str"];if(s.cellFormula){e.l+=2;var o=Qy(e,a-e.l,s);l[3]=ju(o,null,n,s.supbooks,s)}else e.l=a;return l}var c2e=Zc,d2e=Hu;function u2e(e,t){return t==null&&(t=Oe(4)),t.write_shift(4,e),t}function m2e(e,t){var s=e.l+t,a=Zc(e),n=j3(e),i=oa(e),l=oa(e),o=oa(e);e.l=s;var c={rfx:a,relId:n,loc:i,display:o};return l&&(c.Tooltip=l),c}function h2e(e,t){var s=Oe(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Hu({s:Ts(e[0]),e:Ts(e[0])},s),w3("rId"+t,s);var a=e[1].Target.indexOf("#"),n=a==-1?"":e[1].Target.slice(a+1);return Es(n||"",s),Es(e[1].Tooltip||"",s),Es("",s),s.slice(0,s.l)}function f2e(){}function p2e(e,t,s){var a=e.l+t,n=qF(e),i=e.read_shift(1),l=[n];if(l[2]=i,s.cellFormula){var o=s1e(e,a-e.l,s);l[1]=o}else e.l=a;return l}function x2e(e,t,s){var a=e.l+t,n=Zc(e),i=[n];if(s.cellFormula){var l=n1e(e,a-e.l,s);i[1]=l,e.l=a}else e.l=a;return i}function g2e(e,t,s){s==null&&(s=Oe(18));var a=Zy(e,t);s.write_shift(-4,e),s.write_shift(-4,e),s.write_shift(4,(a.width||10)*256),s.write_shift(4,0);var n=0;return t.hidden&&(n|=1),typeof a.width=="number"&&(n|=2),t.level&&(n|=t.level<<8),s.write_shift(2,n),s}var _R=["left","right","top","bottom","header","footer"];function y2e(e){var t={};return _R.forEach(function(s){t[s]=Wu(e)}),t}function b2e(e,t){return t==null&&(t=Oe(6*8)),TR(e),_R.forEach(function(s){Lc(e[s],t)}),t}function v2e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function j2e(e,t,s){s==null&&(s=Oe(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),s.write_shift(2,a),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(2,0),s.write_shift(2,100),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(4,0),s}function w2e(e){var t=Oe(24);return t.write_shift(4,4),t.write_shift(4,1),Hu(e,t),t}function N2e(e,t){return t==null&&(t=Oe(16*4+2)),t.write_shift(2,e.password?mR(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(s){s[1]?t.write_shift(4,e[s[0]]!=null&&!e[s[0]]?1:0):t.write_shift(4,e[s[0]]!=null&&e[s[0]]?0:1)}),t}function S2e(){}function k2e(){}function C2e(e,t,s,a,n,i,l){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Ra(t),t.z=t.z||qr[14],t.v=Fa(Na(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r:s,c:a};switch(c.s=Oo(n.cellXfs,t,n),t.l&&i["!links"].push([cr(c),t.l]),t.c&&i["!comments"].push([cr(c),t.c]),t.t){case"s":case"str":return n.bookSST?(o=A3(n.Strings,t.v,n.revStrings),c.t="s",c.v=o,l?Ve(e,18,W1e(t,c)):Ve(e,7,V1e(t,c))):(c.t="str",l?Ve(e,17,a2e(t,c)):Ve(e,6,r2e(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?Ve(e,13,Z1e(t,c)):Ve(e,2,J1e(t,c)):l?Ve(e,16,Y1e(t,c)):Ve(e,5,K1e(t,c)),!0;case"b":return c.t="b",l?Ve(e,15,F1e(t,c)):Ve(e,4,M1e(t,c)),!0;case"e":return c.t="e",l?Ve(e,14,U1e(t,c)):Ve(e,3,B1e(t,c)),!0}return l?Ve(e,12,O1e(t,c)):Ve(e,1,_1e(t,c)),!0}function P2e(e,t,s,a){var n=Pr(t["!ref"]||"A1"),i,l="",o=[];Ve(e,145);var c=Array.isArray(t),d=n.e.r;t["!rows"]&&(d=Math.max(n.e.r,t["!rows"].length-1));for(var u=n.s.r;u<=d;++u){l=Gs(u),S1e(e,t,n,u);var m=!1;if(u<=n.e.r)for(var f=n.s.c;f<=n.e.c;++f){u===n.s.r&&(o[f]=la(f)),i=o[f]+l;var h=c?(t[u]||[])[f]:t[i];if(!h){m=!1;continue}m=C2e(e,h,u,f,a,t,m)}}Ve(e,146)}function A2e(e,t){!t||!t["!merges"]||(Ve(e,177,u2e(t["!merges"].length)),t["!merges"].forEach(function(s){Ve(e,176,d2e(s))}),Ve(e,178))}function T2e(e,t){!t||!t["!cols"]||(Ve(e,390),t["!cols"].forEach(function(s,a){s&&Ve(e,60,g2e(a,s))}),Ve(e,391))}function E2e(e,t){!t||!t["!ref"]||(Ve(e,648),Ve(e,649,w2e(Pr(t["!ref"]))),Ve(e,650))}function _2e(e,t,s){t["!links"].forEach(function(a){if(a[1].Target){var n=nr(s,-1,a[1].Target.replace(/#.*$/,""),Xt.HLINK);Ve(e,494,h2e(a,n))}}),delete t["!links"]}function I2e(e,t,s,a){if(t["!comments"].length>0){var n=nr(a,-1,"../drawings/vmlDrawing"+(s+1)+".vml",Xt.VML);Ve(e,551,w3("rId"+n)),t["!legacy"]=n}}function O2e(e,t,s,a){if(t["!autofilter"]){var n=t["!autofilter"],i=typeof n.ref=="string"?n.ref:us(n.ref);s.Workbook||(s.Workbook={Sheets:[]}),s.Workbook.Names||(s.Workbook.Names=[]);var l=s.Workbook.Names,o=ln(i);o.s.r==o.e.r&&(o.e.r=ln(t["!ref"]).e.r,i=us(o));for(var c=0;c<l.length;++c){var d=l[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==a){d.Ref="'"+s.SheetNames[a]+"'!"+i;break}}c==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+s.SheetNames[a]+"'!"+i}),Ve(e,161,Hu(Pr(i))),Ve(e,162)}}function D2e(e,t,s){Ve(e,133),Ve(e,137,j2e(t,s)),Ve(e,138),Ve(e,134)}function M2e(e,t){t["!protect"]&&Ve(e,535,N2e(t["!protect"]))}function L2e(e,t,s,a){var n=Ma(),i=s.SheetNames[e],l=s.Sheets[i]||{},o=i;try{s&&s.Workbook&&(o=s.Workbook.Sheets[e].CodeName||o)}catch{}var c=Pr(l["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Ve(n,129),(s.vbaraw||l["!outline"])&&Ve(n,147,T1e(o,l["!outline"])),Ve(n,148,C1e(c)),D2e(n,l,s.Workbook),T2e(n,l),P2e(n,l,e,t),M2e(n,l),O2e(n,l,s,e),A2e(n,l),_2e(n,l,a),l["!margins"]&&Ve(n,476,b2e(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&E2e(n,l),I2e(n,l,e,a),Ve(n,130),n.end()}function F2e(e,t){e.l+=10;var s=oa(e);return{name:s}}var R2e=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function B2e(e){return!e.Workbook||!e.Workbook.WBProps?"false":xge(e.Workbook.WBProps.date1904)?"true":"false"}var $2e="][*?/\\".split("");function IR(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var s=!0;return $2e.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),s}function U2e(e,t,s){e.forEach(function(a,n){IR(a);for(var i=0;i<n;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(s){var l=t&&t[n]&&t[n].CodeName||a;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function z2e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];U2e(e.SheetNames,t,!!e.vbaraw);for(var s=0;s<e.SheetNames.length;++s)d1e(e.Sheets[e.SheetNames[s]],e.SheetNames[s],s)}function OR(e){var t=[hs];t[t.length]=Ze("workbook",null,{xmlns:zu[0],"xmlns:r":Ps.r});var s=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(R2e.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(a[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=Ze("workbookPr",null,a);var n=e.Workbook&&e.Workbook.Sheets||[],i=0;if(n&&n[0]&&n[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!n[i]||!n[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:lr(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),n[i])switch(n[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=Ze("sheet",null,l)}return t[t.length]="</sheets>",s&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=Ze("definedName",lr(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function V2e(e,t){var s={};return s.Hidden=e.read_shift(4),s.iTabID=e.read_shift(4),s.strRelID=dj(e),s.name=oa(e),s}function H2e(e,t){return t||(t=Oe(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),w3(e.strRelID,t),Es(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function W2e(e,t){var s={},a=e.read_shift(4);s.defaultThemeVersion=e.read_shift(4);var n=t>8?oa(e):"";return n.length>0&&(s.CodeName=n),s.autoCompressPictures=!!(a&65536),s.backupFile=!!(a&64),s.checkCompatibility=!!(a&4096),s.date1904=!!(a&1),s.filterPrivacy=!!(a&8),s.hidePivotFieldList=!!(a&1024),s.promptedSolutions=!!(a&16),s.publishItems=!!(a&2048),s.refreshAllConnections=!!(a&262144),s.saveExternalLinkValues=!!(a&128),s.showBorderUnselectedTables=!!(a&4),s.showInkAnnotation=!!(a&32),s.showObjects=["all","placeholders","none"][a>>13&3],s.showPivotChartFilter=!!(a&32768),s.updateLinks=["userSet","never","always"][a>>8&3],s}function G2e(e,t){t||(t=Oe(72));var s=0;return e&&e.filterPrivacy&&(s|=8),t.write_shift(4,s),t.write_shift(4,0),WF(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function K2e(e,t,s){var a=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),i=Bge(e),l=a1e(e,0,s),o=j3(e);e.l=a;var c={Name:i,Ptg:l};return n<268435455&&(c.Sheet=n),o&&(c.Comment=o),c}function q2e(e,t){Ve(e,143);for(var s=0;s!=t.SheetNames.length;++s){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[s]&&t.Workbook.Sheets[s].Hidden||0,n={Hidden:a,iTabID:s+1,strRelID:"rId"+(s+1),name:t.SheetNames[s]};Ve(e,156,H2e(n))}Ve(e,144)}function Y2e(e,t){t||(t=Oe(127));for(var s=0;s!=4;++s)t.write_shift(4,0);return Es("SheetJS",t),Es($x.version,t),Es($x.version,t),Es("7262",t),t.length>t.l?t.slice(0,t.l):t}function X2e(e,t){t||(t=Oe(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var s=120;return t.write_shift(1,s),t.length>t.l?t.slice(0,t.l):t}function J2e(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var s=t.Workbook.Sheets,a=0,n=-1,i=-1;a<s.length;++a)!s[a]||!s[a].Hidden&&n==-1?n=a:s[a].Hidden==1&&i==-1&&(i=a);i>n||(Ve(e,135),Ve(e,158,X2e(n)),Ve(e,136))}}function Q2e(e,t){var s=Ma();return Ve(s,131),Ve(s,128,Y2e()),Ve(s,153,G2e(e.Workbook&&e.Workbook.WBProps||null)),J2e(s,e),q2e(s,e),Ve(s,132),s.end()}function Z2e(e,t,s){return(t.slice(-4)===".bin"?Q2e:OR)(e)}function eje(e,t,s,a,n){return(t.slice(-4)===".bin"?L2e:ER)(e,s,a,n)}function tje(e,t,s){return(t.slice(-4)===".bin"?bbe:pR)(e,s)}function rje(e,t,s){return(t.slice(-4)===".bin"?Gye:uR)(e,s)}function sje(e,t,s){return(t.slice(-4)===".bin"?Mbe:vR)(e)}function aje(e){return(e.slice(-4)===".bin"?Pbe:yR)()}function nje(e,t){var s=[];return e.Props&&s.push(tye(e.Props,t)),e.Custprops&&s.push(rye(e.Props,e.Custprops)),s.join("")}function ije(){return""}function lje(e,t){var s=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,n){var i=[];i.push(Ze("NumberFormat",null,{"ss:Format":lr(qr[a.numFmtId])}));var l={"ss:ID":"s"+(21+n)};s.push(Ze("Style",i.join(""),l))}),Ze("Styles",s.join(""))}function DR(e){return Ze("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+C3(e.Ref,{r:0,c:0})})}function oje(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,s=[],a=0;a<t.length;++a){var n=t[a];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||s.push(DR(n)))}return Ze("Names",s.join(""))}function cje(e,t,s,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var n=a.Workbook.Names,i=[],l=0;l<n.length;++l){var o=n[l];o.Sheet==s&&(o.Name.match(/^_xlfn\./)||i.push(DR(o)))}return i.join("")}function dje(e,t,s,a){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(Ze("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(Ze("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(Ze("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[s])if(a.Workbook.Sheets[s].Hidden)n.push(Ze("Visible",a.Workbook.Sheets[s].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<s&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==s&&n.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(Us("ProtectContents","True")),e["!protect"].objects&&n.push(Us("ProtectObjects","True")),e["!protect"].scenarios&&n.push(Us("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?n.push(Us("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&n.push(Us("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&n.push("<"+l[1]+"/>")})),n.length==0?"":Ze("WorksheetOptions",n.join(""),{xmlns:Ka.x})}function uje(e){return e.map(function(t){var s=pge(t.t||""),a=Ze("ss:Data",s,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ze("Comment",a,{"ss:Author":t.a})}).join("")}function mje(e,t,s,a,n,i,l){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+lr(C3(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var c=Ts(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==l.r?"":"["+(c.r-l.r)+"]")+"C"+(c.c==l.c?"":"["+(c.c-l.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=lr(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=lr(e.l.Tooltip))),s["!merges"])for(var d=s["!merges"],u=0;u!=d.length;++u)d[u].s.c!=l.c||d[u].s.r!=l.r||(d[u].e.c>d[u].s.c&&(o["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(o["ss:MergeDown"]=d[u].e.r-d[u].s.r));var m="",f="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":m="Number",f=String(e.v);break;case"b":m="Boolean",f=e.v?"1":"0";break;case"e":m="Error",f=E0[e.v];break;case"d":m="DateTime",f=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||qr[14]);break;case"s":m="String",f=fge(e.v||"");break}var h=Oo(a.cellXfs,e,a);o["ss:StyleID"]="s"+(21+h),o["ss:Index"]=l.c+1;var x=e.v!=null?f:"",p=e.t=="z"?"":'<Data ss:Type="'+m+'">'+x+"</Data>";return(e.c||[]).length>0&&(p+=uje(e.c)),Ze("Cell",p,o)}function hje(e,t){var s='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=fR(t.hpt)),t.hpx&&(s+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(s+=' ss:Hidden="1"')),s+">"}function fje(e,t,s,a){if(!e["!ref"])return"";var n=Pr(e["!ref"]),i=e["!merges"]||[],l=0,o=[];e["!cols"]&&e["!cols"].forEach(function(b,j){S3(b);var v=!!b.width,y=Zy(j,b),w={"ss:Index":j+1};v&&(w["ss:Width"]=Xx(y.width)),b.hidden&&(w["ss:Hidden"]="1"),o.push(Ze("Column",null,w))});for(var c=Array.isArray(e),d=n.s.r;d<=n.e.r;++d){for(var u=[hje(d,(e["!rows"]||[])[d])],m=n.s.c;m<=n.e.c;++m){var f=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>m)&&!(i[l].s.r>d)&&!(i[l].e.c<m)&&!(i[l].e.r<d)){(i[l].s.c!=m||i[l].s.r!=d)&&(f=!0);break}if(!f){var h={r:d,c:m},x=cr(h),p=c?(e[d]||[])[m]:e[x];u.push(mje(p,x,e,t,s,a,h))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function pje(e,t,s){var a=[],n=s.SheetNames[e],i=s.Sheets[n],l=i?cje(i,t,e,s):"";return l.length>0&&a.push("<Names>"+l+"</Names>"),l=i?fje(i,t,e,s):"",l.length>0&&a.push("<Table>"+l+"</Table>"),a.push(dje(i,t,e,s)),a.join("")}function xje(e,t){t||(t={}),e.SSF||(e.SSF=Ra(qr)),e.SSF&&(qy(),Ky(e.SSF),t.revssf=Yy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Oo(t.cellXfs,{},{revssf:{General:0}}));var s=[];s.push(nje(e,t)),s.push(ije()),s.push(""),s.push("");for(var a=0;a<e.SheetNames.length;++a)s.push(Ze("Worksheet",pje(a,t,e),{"ss:Name":lr(e.SheetNames[a])}));return s[2]=lje(e,t),s[3]=oje(e),hs+Ze("Workbook",s.join(""),{xmlns:Ka.ss,"xmlns:o":Ka.o,"xmlns:x":Ka.x,"xmlns:ss":Ka.ss,"xmlns:dt":Ka.dt,"xmlns:html":Ka.html})}var Fv={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function gje(e,t){var s=[],a=[],n=[],i=0,l,o=WA(aT,"n"),c=WA(nT,"n");if(e.Props)for(l=qs(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(o,l[i])?s:Object.prototype.hasOwnProperty.call(c,l[i])?a:n).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=qs(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(o,l[i])?s:Object.prototype.hasOwnProperty.call(c,l[i])?a:n).push([l[i],e.Custprops[l[i]]]);var d=[];for(i=0;i<n.length;++i)aR.indexOf(n[i][0])>-1||tR.indexOf(n[i][0])>-1||n[i][1]!=null&&d.push(n[i]);a.length&&dr.utils.cfb_add(t,"/SummaryInformation",dT(a,Fv.SI,c,nT)),(s.length||d.length)&&dr.utils.cfb_add(t,"/DocumentSummaryInformation",dT(s,Fv.DSI,o,aT,d.length?d:null,Fv.UDI))}function yje(e,t){var s=t||{},a=dr.utils.cfb_new({root:"R"}),n="/Workbook";switch(s.bookType||"xls"){case"xls":s.bookType="biff8";case"xla":s.bookType||(s.bookType="xla");case"biff8":n="/Workbook",s.biff=8;break;case"biff5":n="/Book",s.biff=5;break;default:throw new Error("invalid type "+s.bookType+" for XLS CFB")}return dr.utils.cfb_add(a,n,MR(e,s)),s.biff==8&&(e.Props||e.Custprops)&&gje(e,a),s.biff==8&&e.vbaraw&&Lbe(a,dr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var bje={0:{f:w1e},1:{f:E1e},2:{f:X1e},3:{f:R1e},4:{f:D1e},5:{f:G1e},6:{f:t2e},7:{f:z1e},8:{f:o2e},9:{f:l2e},10:{f:n2e},11:{f:i2e},12:{f:I1e},13:{f:Q1e},14:{f:$1e},15:{f:L1e},16:{f:q1e},17:{f:s2e},18:{f:H1e},19:{f:v3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:K2e},40:{},42:{},43:{f:tbe},44:{f:Zye},45:{f:abe},46:{f:ibe},47:{f:nbe},48:{},49:{f:Ige},50:{},51:{f:wbe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Oye},62:{f:e2e},63:{f:Abe},64:{f:S2e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ii,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:v2e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:A1e},148:{f:k1e,p:16},151:{f:f2e},152:{},153:{f:W2e},154:{},155:{},156:{f:V2e},157:{},158:{},159:{T:1,f:Vye},160:{T:-1},161:{T:1,f:Zc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:c2e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:vbe},336:{T:-1},337:{f:kbe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:dj},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Pye},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:p2e},427:{f:x2e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:y2e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:P1e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:m2e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:dj},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Obe},633:{T:1},634:{T:-1},635:{T:1,f:_be},636:{T:-1},637:{f:Lge},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:F2e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:k2e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function rt(e,t,s,a){var n=t;if(!isNaN(n)){var i=a||(s||[]).length||0,l=e.next(4);l.write_shift(2,n),l.write_shift(2,i),i>0&&g3(s)&&e.push(s)}}function vje(e,t,s,a){var n=(s||[]).length||0;if(n<=8224)return rt(e,t,s,n);var i=t;if(!isNaN(i)){for(var l=s.parts||[],o=0,c=0,d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,d),e.push(s.slice(c,c+d)),c+=d;c<n;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(l[o]||8224)<=8224;)d+=l[o]||8224,o++;u.write_shift(2,d),e.push(s.slice(c,c+d)),c+=d}}}function I0(e,t,s){return e||(e=Oe(7)),e.write_shift(2,t),e.write_shift(2,s),e.write_shift(2,0),e.write_shift(1,0),e}function jje(e,t,s,a){var n=Oe(9);return I0(n,e,t),iR(s,a||"b",n),n}function wje(e,t,s){var a=Oe(8+2*s.length);return I0(a,e,t),a.write_shift(1,s.length),a.write_shift(s.length,s,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function Nje(e,t,s,a){if(t.v!=null)switch(t.t){case"d":case"n":var n=t.t=="d"?Fa(Na(t.v)):t.v;n==(n|0)&&n>=0&&n<65536?rt(e,2,Fye(s,a,n)):rt(e,3,Lye(s,a,n));return;case"b":case"e":rt(e,5,jje(s,a,t.v,t.t));return;case"s":case"str":rt(e,4,wje(s,a,(t.v||"").slice(0,255)));return}rt(e,1,I0(null,s,a))}function Sje(e,t,s,a){var n=Array.isArray(t),i=Pr(t["!ref"]||"A1"),l,o="",c=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=us(i)}for(var d=i.s.r;d<=i.e.r;++d){o=Gs(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=la(u)),l=c[u]+o;var m=n?(t[d]||[])[u]:t[l];m&&Nje(e,m,d,u)}}}function kje(e,t){for(var s=t||{},a=Ma(),n=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==s.sheet&&(n=i);if(n==0&&s.sheet&&e.SheetNames[0]!=s.sheet)throw new Error("Sheet not found: "+s.sheet);return rt(a,s.biff==4?1033:s.biff==3?521:9,N3(e,16,s)),Sje(a,e.Sheets[e.SheetNames[n]],n,s),rt(a,10),a.end()}function Cje(e,t,s){rt(e,49,bye({sz:12,name:"Arial"},s))}function Pje(e,t,s){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&rt(e,1054,wye(n,t[n],s))})}function Aje(e,t){var s=Oe(19);s.write_shift(4,2151),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,3),s.write_shift(1,1),s.write_shift(4,0),rt(e,2151,s),s=Oe(39),s.write_shift(4,2152),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,3),s.write_shift(1,0),s.write_shift(4,0),s.write_shift(2,1),s.write_shift(4,4),s.write_shift(2,0),cR(Pr(t["!ref"]||"A1"),s),s.write_shift(4,4),rt(e,2152,s)}function Tje(e,t){for(var s=0;s<16;++s)rt(e,224,mT({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){rt(e,224,mT(a,0,t))})}function Eje(e,t){for(var s=0;s<t["!links"].length;++s){var a=t["!links"][s];rt(e,440,Eye(a)),a[1].Tooltip&&rt(e,2048,_ye(a))}delete t["!links"]}function _je(e,t){if(t){var s=0;t.forEach(function(a,n){++s<=256&&a&&rt(e,125,Dye(Zy(n,a),n))})}}function Ije(e,t,s,a,n){var i=16+Oo(n.cellXfs,t,n);if(t.v==null&&!t.bf){rt(e,513,Fc(s,a,i));return}if(t.bf)rt(e,6,r1e(t,s,a,n,i));else switch(t.t){case"d":case"n":var l=t.t=="d"?Fa(Na(t.v)):t.v;rt(e,515,Cye(s,a,l,i));break;case"b":case"e":rt(e,517,kye(s,a,t.v,i,n,t.t));break;case"s":case"str":if(n.bookSST){var o=A3(n.Strings,t.v,n.revStrings);rt(e,253,vye(s,a,o,i))}else rt(e,516,jye(s,a,(t.v||"").slice(0,255),i,n));break;default:rt(e,513,Fc(s,a,i))}}function Oje(e,t,s){var a=Ma(),n=s.SheetNames[e],i=s.Sheets[n]||{},l=(s||{}).Workbook||{},o=(l.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,u,m="",f=[],h=Pr(i["!ref"]||"A1"),x=d?65536:16384;if(h.e.c>255||h.e.r>=x){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,x-1)}rt(a,2057,N3(s,16,t)),rt(a,13,jn(1)),rt(a,12,jn(100)),rt(a,15,ga(!0)),rt(a,17,ga(!1)),rt(a,16,Lc(.001)),rt(a,95,ga(!0)),rt(a,42,ga(!1)),rt(a,43,ga(!1)),rt(a,130,jn(1)),rt(a,128,Sye()),rt(a,131,ga(!1)),rt(a,132,ga(!1)),d&&_je(a,i["!cols"]),rt(a,512,Nye(h,t)),d&&(i["!links"]=[]);for(var p=h.s.r;p<=h.e.r;++p){m=Gs(p);for(var b=h.s.c;b<=h.e.c;++b){p===h.s.r&&(f[b]=la(b)),u=f[b]+m;var j=c?(i[p]||[])[b]:i[u];j&&(Ije(a,j,p,b,t),d&&j.l&&i["!links"].push([u,j.l]))}}var v=o.CodeName||o.name||n;return d&&rt(a,574,yye((l.Views||[])[0])),d&&(i["!merges"]||[]).length&&rt(a,229,Tye(i["!merges"])),d&&Eje(a,i),rt(a,442,oR(v)),d&&Aje(a,i),rt(a,10),a.end()}function Dje(e,t,s){var a=Ma(),n=(e||{}).Workbook||{},i=n.Sheets||[],l=n.WBProps||{},o=s.biff==8,c=s.biff==5;if(rt(a,2057,N3(e,5,s)),s.bookType=="xla"&&rt(a,135),rt(a,225,o?jn(1200):null),rt(a,193,nye(2)),c&&rt(a,191),c&&rt(a,192),rt(a,226),rt(a,92,fye("SheetJS",s)),rt(a,66,jn(o?1200:1252)),o&&rt(a,353,jn(0)),o&&rt(a,448),rt(a,317,Mye(e.SheetNames.length)),o&&e.vbaraw&&rt(a,211),o&&e.vbaraw){var d=l.CodeName||"ThisWorkbook";rt(a,442,oR(d))}rt(a,156,jn(17)),rt(a,25,ga(!1)),rt(a,18,ga(!1)),rt(a,19,jn(0)),o&&rt(a,431,ga(!1)),o&&rt(a,444,jn(0)),rt(a,61,gye()),rt(a,64,ga(!1)),rt(a,141,jn(0)),rt(a,34,ga(B2e(e)=="true")),rt(a,14,ga(!0)),o&&rt(a,439,ga(!1)),rt(a,218,jn(0)),Cje(a,e,s),Pje(a,e.SSF,s),Tje(a,s),o&&rt(a,352,ga(!1));var u=a.end(),m=Ma();o&&rt(m,140,Iye()),o&&s.Strings&&vje(m,252,xye(s.Strings)),rt(m,10);var f=m.end(),h=Ma(),x=0,p=0;for(p=0;p<e.SheetNames.length;++p)x+=(o?12:11)+(o?2:1)*e.SheetNames[p].length;var b=u.length+x+f.length;for(p=0;p<e.SheetNames.length;++p){var j=i[p]||{};rt(h,133,pye({pos:b,hs:j.Hidden||0,dt:0,name:e.SheetNames[p]},s)),b+=t[p].length}var v=h.end();if(x!=v.length)throw new Error("BS8 "+x+" != "+v.length);var y=[];return u.length&&y.push(u),v.length&&y.push(v),f.length&&y.push(f),$s(y)}function Mje(e,t){var s=t||{},a=[];e&&!e.SSF&&(e.SSF=Ra(qr)),e&&e.SSF&&(qy(),Ky(e.SSF),s.revssf=Yy(e.SSF),s.revssf[e.SSF[65535]]=0,s.ssf=e.SSF),s.Strings=[],s.Strings.Count=0,s.Strings.Unique=0,T3(s),s.cellXfs=[],Oo(s.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var n=0;n<e.SheetNames.length;++n)a[a.length]=Oje(n,s,e);return a.unshift(Dje(e,a,s)),$s(a)}function MR(e,t){for(var s=0;s<=e.SheetNames.length;++s){var a=e.Sheets[e.SheetNames[s]];if(!(!a||!a["!ref"])){var n=ln(a["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[s]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return Mje(e,t);case 4:case 3:case 2:return kje(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Lje(e,t,s,a){for(var n=e["!merges"]||[],i=[],l=t.s.c;l<=t.e.c;++l){for(var o=0,c=0,d=0;d<n.length;++d)if(!(n[d].s.r>s||n[d].s.c>l)&&!(n[d].e.r<s||n[d].e.c<l)){if(n[d].s.r<s||n[d].s.c<l){o=-1;break}o=n[d].e.r-n[d].s.r+1,c=n[d].e.c-n[d].s.c+1;break}if(!(o<0)){var u=cr({r:s,c:l}),m=a.dense?(e[s]||[])[l]:e[u],f=m&&m.v!=null&&(m.h||hge(m.w||(vl(m),m.w)||""))||"",h={};o>1&&(h.rowspan=o),c>1&&(h.colspan=c),a.editable?f='<span contenteditable="true">'+f+"</span>":m&&(h["data-t"]=m&&m.t||"z",m.v!=null&&(h["data-v"]=m.v),m.z!=null&&(h["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+m.l.Target+'">'+f+"</a>")),h.id=(a.id||"sjs")+"-"+u,i.push(Ze("td",f,h))}}var x="<tr>";return x+i.join("")+"</tr>"}var Fje='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Rje="</body></html>";function Bje(e,t,s){var a=[];return a.join("")+"<table"+(s&&s.id?' id="'+s.id+'"':"")+">"}function LR(e,t){var s=t||{},a=s.header!=null?s.header:Fje,n=s.footer!=null?s.footer:Rje,i=[a],l=ln(e["!ref"]);s.dense=Array.isArray(e),i.push(Bje(e,l,s));for(var o=l.s.r;o<=l.e.r;++o)i.push(Lje(e,l,o,s));return i.push("</table>"+n),i.join("")}function FR(e,t,s){var a=s||{},n=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")n=a.origin;else{var l=typeof a.origin=="string"?Ts(a.origin):a.origin;n=l.r,i=l.c}var o=t.getElementsByTagName("tr"),c=Math.min(a.sheetRows||1e7,o.length),d={s:{r:0,c:0},e:{r:n,c:i}};if(e["!ref"]){var u=ln(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),n==-1&&(d.e.r=n=u.e.r+1)}var m=[],f=0,h=e["!rows"]||(e["!rows"]=[]),x=0,p=0,b=0,j=0,v=0,y=0;for(e["!cols"]||(e["!cols"]=[]);x<o.length&&p<c;++x){var w=o[x];if(bT(w)){if(a.display)continue;h[p]={hidden:!0}}var N=w.children;for(b=j=0;b<N.length;++b){var k=N[b];if(!(a.display&&bT(k))){var S=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):gge(k.innerHTML),P=k.getAttribute("data-z")||k.getAttribute("z");for(f=0;f<m.length;++f){var _=m[f];_.s.c==j+i&&_.s.r<p+n&&p+n<=_.e.r&&(j=_.e.c+1-i,f=-1)}y=+k.getAttribute("colspan")||1,((v=+k.getAttribute("rowspan")||1)>1||y>1)&&m.push({s:{r:p+n,c:j+i},e:{r:p+n+(v||1)-1,c:j+i+(y||1)-1}});var C={t:"s",v:S},A=k.getAttribute("data-t")||k.getAttribute("t")||"";S!=null&&(S.length==0?C.t=A||"z":a.raw||S.trim().length==0||A=="s"||(S==="TRUE"?C={t:"b",v:!0}:S==="FALSE"?C={t:"b",v:!1}:isNaN(rl(S))?isNaN(Vh(S).getDate())||(C={t:"d",v:Na(S)},a.cellDates||(C={t:"n",v:Fa(C.v)}),C.z=a.dateNF||qr[14]):C={t:"n",v:rl(S)})),C.z===void 0&&P!=null&&(C.z=P);var V="",q=k.getElementsByTagName("A");if(q&&q.length)for(var Z=0;Z<q.length&&!(q[Z].hasAttribute("href")&&(V=q[Z].getAttribute("href"),V.charAt(0)!="#"));++Z);V&&V.charAt(0)!="#"&&(C.l={Target:V}),a.dense?(e[p+n]||(e[p+n]=[]),e[p+n][j+i]=C):e[cr({c:j+i,r:p+n})]=C,d.e.c<j+i&&(d.e.c=j+i),j+=y}}++p}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),d.e.r=Math.max(d.e.r,p-1+n),e["!ref"]=us(d),p>=c&&(e["!fullref"]=us((d.e.r=o.length-x+p-1+n,d))),e}function RR(e,t){var s=t||{},a=s.dense?[]:{};return FR(a,e,t)}function $je(e,t){return Yc(RR(e,t),t)}function bT(e){var t="",s=Uje(e);return s&&(t=s(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Uje(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var zje=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Wh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return hs+t}}(),vT=function(){var e=function(i){return lr(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,s=`          <table:covered-table-cell/>
`,a=function(i,l,o){var c=[];c.push('      <table:table table:name="'+lr(l.SheetNames[o])+`" table:style-name="ta1">
`);var d=0,u=0,m=ln(i["!ref"]||"A1"),f=i["!merges"]||[],h=0,x=Array.isArray(i);if(i["!cols"])for(u=0;u<=m.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var p="",b=i["!rows"]||[];for(d=0;d<m.s.r;++d)p=b[d]?' table:style-name="ro'+b[d].ods+'"':"",c.push("        <table:table-row"+p+`></table:table-row>
`);for(;d<=m.e.r;++d){for(p=b[d]?' table:style-name="ro'+b[d].ods+'"':"",c.push("        <table:table-row"+p+`>
`),u=0;u<m.s.c;++u)c.push(t);for(;u<=m.e.c;++u){var j=!1,v={},y="";for(h=0;h!=f.length;++h)if(!(f[h].s.c>u)&&!(f[h].s.r>d)&&!(f[h].e.c<u)&&!(f[h].e.r<d)){(f[h].s.c!=u||f[h].s.r!=d)&&(j=!0),v["table:number-columns-spanned"]=f[h].e.c-f[h].s.c+1,v["table:number-rows-spanned"]=f[h].e.r-f[h].s.r+1;break}if(j){c.push(s);continue}var w=cr({r:d,c:u}),N=x?(i[d]||[])[u]:i[w];if(N&&N.f&&(v["table:formula"]=lr(o1e(N.f)),N.F&&N.F.slice(0,w.length)==w)){var k=ln(N.F);v["table:number-matrix-columns-spanned"]=k.e.c-k.s.c+1,v["table:number-matrix-rows-spanned"]=k.e.r-k.s.r+1}if(!N){c.push(t);continue}switch(N.t){case"b":y=N.v?"TRUE":"FALSE",v["office:value-type"]="boolean",v["office:boolean-value"]=N.v?"true":"false";break;case"n":y=N.w||String(N.v||0),v["office:value-type"]="float",v["office:value"]=N.v||0;break;case"s":case"str":y=N.v==null?"":N.v,v["office:value-type"]="string";break;case"d":y=N.w||Na(N.v).toISOString(),v["office:value-type"]="date",v["office:date-value"]=Na(N.v).toISOString(),v["table:style-name"]="ce1";break;default:c.push(t);continue}var S=e(y);if(N.l&&N.l.Target){var P=N.l.Target;P=P.charAt(0)=="#"?"#"+c1e(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),S=Ze("text:a",S,{"xlink:href":P.replace(/&/g,"&amp;")})}c.push("          "+Ze("table:table-cell",Ze("text:p",S,{}),v)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},n=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var m=d["!cols"][u];if(m.width==null&&m.wpx==null&&m.wch==null)continue;S3(m),m.ods=o;var f=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+f+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;l.SheetNames.map(function(d){return l.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var m=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,o){var c=[hs],d=Wh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Wh({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(ZF().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),n(c,l),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var m=0;m!=l.SheetNames.length;++m)c.push(a(l.Sheets[l.SheetNames[m]],l,m));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function BR(e,t){if(t.bookType=="fods")return vT(e,t);var s=h3(),a="",n=[],i=[];return a="mimetype",Rt(s,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",Rt(s,a,vT(e,t)),n.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",Rt(s,a,zje(e,t)),n.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",Rt(s,a,hs+ZF()),n.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",Rt(s,a,eye(i)),n.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",Rt(s,a,Qge(n)),s}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Zx(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Vje(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Yn(Hh(e))}function Hje(e,t){e:for(var s=0;s<=e.length-t.length;++s){for(var a=0;a<t.length;++a)if(e[s+a]!=t[a])continue e;return!0}return!1}function So(e){var t=e.reduce(function(n,i){return n+i.length},0),s=new Uint8Array(t),a=0;return e.forEach(function(n){s.set(n,a),a+=n.length}),s}function Wje(e,t,s){var a=Math.floor(s==0?0:Math.LOG10E*Math.log(Math.abs(s)))+6176-20,n=s/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var i=0;n>=1;++i,n/=256)e[t+i]=n&255;e[t+15]|=s>=0?0:128}function Gh(e,t){var s=t?t[0]:0,a=e[s]&127;e:if(e[s++]>=128&&(a|=(e[s]&127)<<7,e[s++]<128||(a|=(e[s]&127)<<14,e[s++]<128)||(a|=(e[s]&127)<<21,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,28),++s,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,35),++s,e[s++]<128)||(a+=(e[s]&127)*Math.pow(2,42),++s,e[s++]<128)))break e;return t&&(t[0]=s),a}function ar(e){var t=new Uint8Array(7);t[0]=e&127;var s=1;e:if(e>127){if(t[s-1]|=128,t[s]=e>>7&127,++s,e<=16383||(t[s-1]|=128,t[s]=e>>14&127,++s,e<=2097151)||(t[s-1]|=128,t[s]=e>>21&127,++s,e<=268435455)||(t[s-1]|=128,t[s]=e/256>>>21&127,++s,e<=34359738367)||(t[s-1]|=128,t[s]=e/65536>>>21&127,++s,e<=4398046511103))break e;t[s-1]|=128,t[s]=e/16777216>>>21&127,++s}return t.slice(0,s)}function eu(e){var t=0,s=e[t]&127;e:if(e[t++]>=128){if(s|=(e[t]&127)<<7,e[t++]<128||(s|=(e[t]&127)<<14,e[t++]<128)||(s|=(e[t]&127)<<21,e[t++]<128))break e;s|=(e[t]&127)<<28}return s}function fs(e){for(var t=[],s=[0];s[0]<e.length;){var a=s[0],n=Gh(e,s),i=n&7;n=Math.floor(n/8);var l=0,o;if(n==0)break;switch(i){case 0:{for(var c=s[0];e[s[0]++]>=128;);o=e.slice(c,s[0])}break;case 5:l=4,o=e.slice(s[0],s[0]+l),s[0]+=l;break;case 1:l=8,o=e.slice(s[0],s[0]+l),s[0]+=l;break;case 2:l=Gh(e,s),o=e.slice(s[0],s[0]+l),s[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(n," at offset ").concat(a))}var d={data:o,type:i};t[n]==null?t[n]=[d]:t[n].push(d)}return t}function Ms(e){var t=[];return e.forEach(function(s,a){s.forEach(function(n){n.data&&(t.push(ar(a*8+n.type)),n.type==2&&t.push(ar(n.data.length)),t.push(n.data))})}),So(t)}function zn(e){for(var t,s=[],a=[0];a[0]<e.length;){var n=Gh(e,a),i=fs(e.slice(a[0],a[0]+n));a[0]+=n;var l={id:eu(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=fs(o.data),d=eu(c[3][0].data);l.messages.push({meta:c,data:e.slice(a[0],a[0]+d)}),a[0]+=d}),(t=i[3])!=null&&t[0]&&(l.merge=eu(i[3][0].data)>>>0>0),s.push(l)}return s}function dd(e){var t=[];return e.forEach(function(s){var a=[];a[1]=[{data:ar(s.id),type:0}],a[2]=[],s.merge!=null&&(a[3]=[{data:ar(+!!s.merge),type:0}]);var n=[];s.messages.forEach(function(l){n.push(l.data),l.meta[3]=[{type:0,data:ar(l.data.length)}],a[2].push({data:Ms(l.meta),type:2})});var i=Ms(a);t.push(ar(i.length)),t.push(i),n.forEach(function(l){return t.push(l)})}),So(t)}function Gje(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var s=[0],a=Gh(t,s),n=[];s[0]<t.length;){var i=t[s[0]]&3;if(i==0){var l=t[s[0]++]>>2;if(l<60)++l;else{var o=l-59;l=t[s[0]],o>1&&(l|=t[s[0]+1]<<8),o>2&&(l|=t[s[0]+2]<<16),o>3&&(l|=t[s[0]+3]<<24),l>>>=0,l++,s[0]+=o}n.push(t.slice(s[0],s[0]+l)),s[0]+=l;continue}else{var c=0,d=0;if(i==1?(d=(t[s[0]]>>2&7)+4,c=(t[s[0]++]&224)<<3,c|=t[s[0]++]):(d=(t[s[0]++]>>2)+1,i==2?(c=t[s[0]]|t[s[0]+1]<<8,s[0]+=2):(c=(t[s[0]]|t[s[0]+1]<<8|t[s[0]+2]<<16|t[s[0]+3]<<24)>>>0,s[0]+=4)),n=[So(n)],c==0)throw new Error("Invalid offset 0");if(c>n[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(n.push(n[0].slice(-c)),d-=c;d>=n[n.length-1].length;)n.push(n[n.length-1]),d-=n[n.length-1].length;n.push(n[0].slice(-c,-c+d))}}var u=So(n);if(u.length!=a)throw new Error("Unexpected length: ".concat(u.length," != ").concat(a));return u}function Vn(e){for(var t=[],s=0;s<e.length;){var a=e[s++],n=e[s]|e[s+1]<<8|e[s+2]<<16;s+=3,t.push(Gje(a,e.slice(s,s+n))),s+=n}if(s!==e.length)throw new Error("data is not a valid framed stream!");return So(t)}function ud(e){for(var t=[],s=0;s<e.length;){var a=Math.min(e.length-s,268435455),n=new Uint8Array(4);t.push(n);var i=ar(a),l=i.length;t.push(i),a<=60?(l++,t.push(new Uint8Array([a-1<<2]))):a<=256?(l+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(l+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(l+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(l+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(s,s+a)),l+=a,n[0]=0,n[1]=l&255,n[2]=l>>8&255,n[3]=l>>16&255,s+=a}return So(t)}function Rv(e,t){var s=new Uint8Array(32),a=Zx(s),n=12,i=0;switch(s[0]=5,e.t){case"n":s[1]=2,Wje(s,n,e.v),i|=1,n+=16;break;case"b":s[1]=6,a.setFloat64(n,e.v?1:0,!0),i|=2,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));s[1]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),s.slice(0,n)}function Bv(e,t){var s=new Uint8Array(32),a=Zx(s),n=12,i=0;switch(s[0]=3,e.t){case"n":s[2]=2,a.setFloat64(n,e.v,!0),i|=32,n+=8;break;case"b":s[2]=6,a.setFloat64(n,e.v?1:0,!0),i|=32,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));s[2]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),s.slice(0,n)}function Dl(e){var t=fs(e);return Gh(t[1][0].data)}function Kje(e,t,s){var a,n,i,l;if(!((a=e[6])!=null&&a[0])||!((n=e[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var o=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&eu(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,d=Zx(e[7][0].data),u=0,m=[],f=Zx(e[4][0].data),h=0,x=[],p=0;p<t.length;++p){if(t[p]==null){d.setUint16(p*2,65535,!0),f.setUint16(p*2,65535);continue}d.setUint16(p*2,u,!0),f.setUint16(p*2,h,!0);var b,j;switch(typeof t[p]){case"string":b=Rv({t:"s",v:t[p]},s),j=Bv({t:"s",v:t[p]},s);break;case"number":b=Rv({t:"n",v:t[p]},s),j=Bv({t:"n",v:t[p]},s);break;case"boolean":b=Rv({t:"b",v:t[p]},s),j=Bv({t:"b",v:t[p]},s);break;default:throw new Error("Unsupported value "+t[p])}m.push(b),u+=b.length,x.push(j),h+=j.length,++c}for(e[2][0].data=ar(c);p<e[7][0].data.length/2;++p)d.setUint16(p*2,65535,!0),f.setUint16(p*2,65535,!0);return e[6][0].data=So(m),e[3][0].data=So(x),c}function qje(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var s=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=ln(s["!ref"]);a.s.r=a.s.c=0;var n=!1;a.e.c>9&&(n=!0,a.e.c=9),a.e.r>49&&(n=!0,a.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(us(a)));var i=eg(s,{range:a,header:1}),l=["~Sh33tJ5~"];i.forEach(function(X){return X.forEach(function(W){typeof W=="string"&&l.push(W)})});var o={},c=[],d=dr.read(t.numbers,{type:"base64"});d.FileIndex.map(function(X,W){return[X,d.FullPaths[W]]}).forEach(function(X){var W=X[0],T=X[1];if(W.type==2&&W.name.match(/\.iwa/)){var L=W.content,D=Vn(L),M=zn(D);M.forEach(function(z){c.push(z.id),o[z.id]={deps:[],location:T,type:eu(z.messages[0].meta[1][0].data)}})}}),c.sort(function(X,W){return X-W});var u=c.filter(function(X){return X>1}).map(function(X){return[X,ar(X)]});d.FileIndex.map(function(X,W){return[X,d.FullPaths[W]]}).forEach(function(X){var W=X[0];if(X[1],!!W.name.match(/\.iwa/)){var T=zn(Vn(W.content));T.forEach(function(L){L.messages.forEach(function(D){u.forEach(function(M){L.messages.some(function(z){return eu(z.meta[1][0].data)!=11006&&Hje(z.data,M[1])})&&o[M[0]].deps.push(L.id)})})})}});for(var m=dr.find(d,o[1].location),f=zn(Vn(m.content)),h,x=0;x<f.length;++x){var p=f[x];p.id==1&&(h=p)}var b=Dl(fs(h.messages[0].data)[1][0].data);for(m=dr.find(d,o[b].location),f=zn(Vn(m.content)),x=0;x<f.length;++x)p=f[x],p.id==b&&(h=p);for(b=Dl(fs(h.messages[0].data)[2][0].data),m=dr.find(d,o[b].location),f=zn(Vn(m.content)),x=0;x<f.length;++x)p=f[x],p.id==b&&(h=p);for(b=Dl(fs(h.messages[0].data)[2][0].data),m=dr.find(d,o[b].location),f=zn(Vn(m.content)),x=0;x<f.length;++x)p=f[x],p.id==b&&(h=p);var j=fs(h.messages[0].data);{j[6][0].data=ar(a.e.r+1),j[7][0].data=ar(a.e.c+1);var v=Dl(j[46][0].data),y=dr.find(d,o[v].location),w=zn(Vn(y.content));{for(var N=0;N<w.length&&w[N].id!=v;++N);if(w[N].id!=v)throw"Bad ColumnRowUIDMapArchive";var k=fs(w[N].messages[0].data);k[1]=[],k[2]=[],k[3]=[];for(var S=0;S<=a.e.c;++S){var P=[];P[1]=P[2]=[{type:0,data:ar(S+420690)}],k[1].push({type:2,data:Ms(P)}),k[2].push({type:0,data:ar(S)}),k[3].push({type:0,data:ar(S)})}k[4]=[],k[5]=[],k[6]=[];for(var _=0;_<=a.e.r;++_)P=[],P[1]=P[2]=[{type:0,data:ar(_+726270)}],k[4].push({type:2,data:Ms(P)}),k[5].push({type:0,data:ar(_)}),k[6].push({type:0,data:ar(_)});w[N].messages[0].data=Ms(k)}y.content=ud(dd(w)),y.size=y.content.length,delete j[46];var C=fs(j[4][0].data);{C[7][0].data=ar(a.e.r+1);var A=fs(C[1][0].data),V=Dl(A[2][0].data);y=dr.find(d,o[V].location),w=zn(Vn(y.content));{if(w[0].id!=V)throw"Bad HeaderStorageBucket";var q=fs(w[0].messages[0].data);for(_=0;_<i.length;++_){var Z=fs(q[2][0].data);Z[1][0].data=ar(_),Z[4][0].data=ar(i[_].length),q[2][_]={type:q[2][0].type,data:Ms(Z)}}w[0].messages[0].data=Ms(q)}y.content=ud(dd(w)),y.size=y.content.length;var ue=Dl(C[2][0].data);y=dr.find(d,o[ue].location),w=zn(Vn(y.content));{if(w[0].id!=ue)throw"Bad HeaderStorageBucket";for(q=fs(w[0].messages[0].data),S=0;S<=a.e.c;++S)Z=fs(q[2][0].data),Z[1][0].data=ar(S),Z[4][0].data=ar(a.e.r+1),q[2][S]={type:q[2][0].type,data:Ms(Z)};w[0].messages[0].data=Ms(q)}y.content=ud(dd(w)),y.size=y.content.length;var me=Dl(C[4][0].data);(function(){for(var X=dr.find(d,o[me].location),W=zn(Vn(X.content)),T,L=0;L<W.length;++L){var D=W[L];D.id==me&&(T=D)}var M=fs(T.messages[0].data);{M[3]=[];var z=[];l.forEach(function(te,Re){z[1]=[{type:0,data:ar(Re)}],z[2]=[{type:0,data:ar(1)}],z[3]=[{type:2,data:Vje(te)}],M[3].push({type:2,data:Ms(z)})})}T.messages[0].data=Ms(M);var se=dd(W),ne=ud(se);X.content=ne,X.size=X.content.length})();var Q=fs(C[3][0].data);{var ae=Q[1][0];delete Q[2];var oe=fs(ae.data);{var R=Dl(oe[2][0].data);(function(){for(var X=dr.find(d,o[R].location),W=zn(Vn(X.content)),T,L=0;L<W.length;++L){var D=W[L];D.id==R&&(T=D)}var M=fs(T.messages[0].data);{delete M[6],delete Q[7];var z=new Uint8Array(M[5][0].data);M[5]=[];for(var se=0,ne=0;ne<=a.e.r;++ne){var te=fs(z);se+=Kje(te,i[ne],l),te[1][0].data=ar(ne),M[5].push({data:Ms(te),type:2})}M[1]=[{type:0,data:ar(a.e.c+1)}],M[2]=[{type:0,data:ar(a.e.r+1)}],M[3]=[{type:0,data:ar(se)}],M[4]=[{type:0,data:ar(a.e.r+1)}]}T.messages[0].data=Ms(M);var Re=dd(W),Ce=ud(Re);X.content=Ce,X.size=X.content.length})()}ae.data=Ms(oe)}C[3][0].data=Ms(Q)}j[4][0].data=Ms(C)}h.messages[0].data=Ms(j);var O=dd(f),I=ud(O);return m.content=I,m.size=m.content.length,d}function Yje(e){return function(s){for(var a=0;a!=e.length;++a){var n=e[a];s[n[0]]===void 0&&(s[n[0]]=n[1]),n[2]==="n"&&(s[n[0]]=Number(s[n[0]]))}}}function T3(e){Yje([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Xje(e,t){return t.bookType=="ods"?BR(e,t):t.bookType=="numbers"?qje(e,t):t.bookType=="xlsb"?Jje(e,t):Qje(e,t)}function Jje(e,t){Od=1024,e&&!e.SSF&&(e.SSF=Ra(qr)),e&&e.SSF&&(qy(),Ky(e.SSF),t.revssf=Yy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Wm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var s=t.bookType=="xlsb"?"bin":"xml",a=jR.indexOf(t.bookType)>-1,n=XF();T3(t=t||{});var i=h3(),l="",o=0;if(t.cellXfs=[],Oo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Rt(i,l,eR(e.Props,t)),n.coreprops.push(l),nr(t.rels,2,l,Xt.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Rt(i,l,rR(e.Props)),n.extprops.push(l),nr(t.rels,3,l,Xt.EXT_PROPS),e.Custprops!==e.Props&&qs(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Rt(i,l,sR(e.Custprops)),n.custprops.push(l),nr(t.rels,4,l,Xt.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},m=e.Sheets[e.SheetNames[o-1]],f=(m||{})["!type"]||"sheet";switch(f){case"chart":default:l="xl/worksheets/sheet"+o+"."+s,Rt(i,l,eje(o-1,l,t,e,u)),n.sheets.push(l),nr(t.wbrels,-1,"worksheets/sheet"+o+"."+s,Xt.WS[0])}if(m){var h=m["!comments"],x=!1,p="";h&&h.length>0&&(p="xl/comments"+o+"."+s,Rt(i,p,sje(h,p)),n.comments.push(p),nr(u,-1,"../comments"+o+"."+s,Xt.CMNT),x=!0),m["!legacy"]&&x&&Rt(i,"xl/drawings/vmlDrawing"+o+".vml",bR(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}u["!id"].rId1&&Rt(i,QF(l),Qd(u))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+s,Rt(i,l,rje(t.Strings,l,t)),n.strs.push(l),nr(t.wbrels,-1,"sharedStrings."+s,Xt.SST)),l="xl/workbook."+s,Rt(i,l,Z2e(e,l)),n.workbooks.push(l),nr(t.rels,1,l,Xt.WB),l="xl/theme/theme1.xml",Rt(i,l,gR(e.Themes,t)),n.themes.push(l),nr(t.wbrels,-1,"theme/theme1.xml",Xt.THEME),l="xl/styles."+s,Rt(i,l,tje(e,l,t)),n.styles.push(l),nr(t.wbrels,-1,"styles."+s,Xt.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",Rt(i,l,e.vbaraw),n.vba.push(l),nr(t.wbrels,-1,"vbaProject.bin",Xt.VBA)),l="xl/metadata."+s,Rt(i,l,aje(l)),n.metadata.push(l),nr(t.wbrels,-1,"metadata."+s,Xt.XLMETA),Rt(i,"[Content_Types].xml",JF(n,t)),Rt(i,"_rels/.rels",Qd(t.rels)),Rt(i,"xl/_rels/workbook."+s+".rels",Qd(t.wbrels)),delete t.revssf,delete t.ssf,i}function Qje(e,t){Od=1024,e&&!e.SSF&&(e.SSF=Ra(qr)),e&&e.SSF&&(qy(),Ky(e.SSF),t.revssf=Yy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Wm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var s="xml",a=jR.indexOf(t.bookType)>-1,n=XF();T3(t=t||{});var i=h3(),l="",o=0;if(t.cellXfs=[],Oo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Rt(i,l,eR(e.Props,t)),n.coreprops.push(l),nr(t.rels,2,l,Xt.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Rt(i,l,rR(e.Props)),n.extprops.push(l),nr(t.rels,3,l,Xt.EXT_PROPS),e.Custprops!==e.Props&&qs(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Rt(i,l,sR(e.Custprops)),n.custprops.push(l),nr(t.rels,4,l,Xt.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var m={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:l="xl/worksheets/sheet"+o+"."+s,Rt(i,l,ER(o-1,t,e,m)),n.sheets.push(l),nr(t.wbrels,-1,"worksheets/sheet"+o+"."+s,Xt.WS[0])}if(f){var x=f["!comments"],p=!1,b="";if(x&&x.length>0){var j=!1;x.forEach(function(v){v[1].forEach(function(y){y.T==!0&&(j=!0)})}),j&&(b="xl/threadedComments/threadedComment"+o+"."+s,Rt(i,b,Tbe(x,u,t)),n.threadedcomments.push(b),nr(m,-1,"../threadedComments/threadedComment"+o+"."+s,Xt.TCMNT)),b="xl/comments"+o+"."+s,Rt(i,b,vR(x)),n.comments.push(b),nr(m,-1,"../comments"+o+"."+s,Xt.CMNT),p=!0}f["!legacy"]&&p&&Rt(i,"xl/drawings/vmlDrawing"+o+".vml",bR(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}m["!id"].rId1&&Rt(i,QF(l),Qd(m))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+s,Rt(i,l,uR(t.Strings,t)),n.strs.push(l),nr(t.wbrels,-1,"sharedStrings."+s,Xt.SST)),l="xl/workbook."+s,Rt(i,l,OR(e)),n.workbooks.push(l),nr(t.rels,1,l,Xt.WB),l="xl/theme/theme1.xml",Rt(i,l,gR(e.Themes,t)),n.themes.push(l),nr(t.wbrels,-1,"theme/theme1.xml",Xt.THEME),l="xl/styles."+s,Rt(i,l,pR(e,t)),n.styles.push(l),nr(t.wbrels,-1,"styles."+s,Xt.STY),e.vbaraw&&a&&(l="xl/vbaProject.bin",Rt(i,l,e.vbaraw),n.vba.push(l),nr(t.wbrels,-1,"vbaProject.bin",Xt.VBA)),l="xl/metadata."+s,Rt(i,l,yR()),n.metadata.push(l),nr(t.wbrels,-1,"metadata."+s,Xt.XLMETA),u.length>1&&(l="xl/persons/person.xml",Rt(i,l,Ebe(u)),n.people.push(l),nr(t.wbrels,-1,"persons/person.xml",Xt.PEOPLE)),Rt(i,"[Content_Types].xml",JF(n,t)),Rt(i,"_rels/.rels",Qd(t.rels)),Rt(i,"xl/_rels/workbook."+s+".rels",Qd(t.wbrels)),delete t.revssf,delete t.ssf,i}function Zje(e,t){var s="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":s=bl(e.slice(0,12));break;case"binary":s=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[s.charCodeAt(0),s.charCodeAt(1),s.charCodeAt(2),s.charCodeAt(3),s.charCodeAt(4),s.charCodeAt(5),s.charCodeAt(6),s.charCodeAt(7)]}function $R(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return A0(t.file,dr.write(e,{type:tr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return dr.write(e,t)}function ewe(e,t){var s=Ra(t||{}),a=Xje(e,s);return twe(a,s)}function twe(e,t){var s={},a=tr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(s.compression="DEFLATE"),t.password)s.type=a;else switch(t.type){case"base64":s.type="base64";break;case"binary":s.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":s.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var n=e.FullPaths?dr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[s.type]||s.type,compression:!!t.compression}):e.generate(s);if(typeof Deno<"u"&&typeof n=="string"){if(t.type=="binary"||t.type=="base64")return n;n=new Uint8Array(Gy(n))}return t.password&&typeof encrypt_agile<"u"?$R(encrypt_agile(n,t.password),t):t.type==="file"?A0(t.file,n):t.type=="string"?Um(n):n}function rwe(e,t){var s=t||{},a=yje(e,s);return $R(a,s)}function ui(e,t,s){s||(s="");var a=s+e;switch(t.type){case"base64":return zh(Hh(a));case"binary":return Hh(a);case"string":return e;case"file":return A0(t.file,a,"utf8");case"buffer":return tr?El(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):ui(a,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function swe(e,t){switch(t.type){case"base64":return zh(e);case"binary":return e;case"string":return e;case"file":return A0(t.file,e,"binary");case"buffer":return tr?El(e,"binary"):e.split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Of(e,t){switch(t.type){case"string":case"base64":case"binary":for(var s="",a=0;a<e.length;++a)s+=String.fromCharCode(e[a]);return t.type=="base64"?zh(s):t.type=="string"?Um(s):s;case"file":return A0(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function UR(e,t){_xe(),z2e(e);var s=Ra(t||{});if(s.cellStyles&&(s.cellNF=!0,s.sheetStubs=!0),s.type=="array"){s.type="binary";var a=UR(e,s);return s.type="array",Gy(a)}var n=0;if(s.sheet&&(typeof s.sheet=="number"?n=s.sheet:n=e.SheetNames.indexOf(s.sheet),!e.SheetNames[n]))throw new Error("Sheet not found: "+s.sheet+" : "+typeof s.sheet);switch(s.bookType||"xlsb"){case"xml":case"xlml":return ui(xje(e,s),s);case"slk":case"sylk":return ui(Bye.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"htm":case"html":return ui(LR(e.Sheets[e.SheetNames[n]],s),s);case"txt":return swe(VR(e.Sheets[e.SheetNames[n]],s),s);case"csv":return ui(E3(e.Sheets[e.SheetNames[n]],s),s,"\uFEFF");case"dif":return ui($ye.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"dbf":return Of(Rye.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"prn":return ui(Uye.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"rtf":return ui(qye.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"eth":return ui(dR.from_sheet(e.Sheets[e.SheetNames[n]],s),s);case"fods":return ui(BR(e,s),s);case"wk1":return Of(hT.sheet_to_wk1(e.Sheets[e.SheetNames[n]],s),s);case"wk3":return Of(hT.book_to_wk3(e,s),s);case"biff2":s.biff||(s.biff=2);case"biff3":s.biff||(s.biff=3);case"biff4":return s.biff||(s.biff=4),Of(MR(e,s),s);case"biff5":s.biff||(s.biff=5);case"biff8":case"xla":case"xls":return s.biff||(s.biff=8),rwe(e,s);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return ewe(e,s);default:throw new Error("Unrecognized bookType |"+s.bookType+"|")}}function awe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},s=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();s.match(/^\.[a-z]+$/)&&(e.bookType=s.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function zR(e,t,s){var a={};return a.type="file",a.file=t,awe(a),UR(e,a)}function nwe(e,t,s,a,n,i,l,o){var c=Gs(s),d=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),m=!0,f=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:s,enumerable:!1})}catch{f.__rowNum__=s}else f.__rowNum__=s;if(!l||e[s])for(var h=t.s.c;h<=t.e.c;++h){var x=l?e[s][h]:e[a[h]+c];if(x===void 0||x.t===void 0){if(d===void 0)continue;i[h]!=null&&(f[i[h]]=d);continue}var p=x.v;switch(x.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[h]!=null){if(p==null)if(x.t=="e"&&p===null)f[i[h]]=null;else if(d!==void 0)f[i[h]]=d;else if(u&&p===null)f[i[h]]=null;else continue;else f[i[h]]=u&&(x.t!=="n"||x.t==="n"&&o.rawNumbers!==!1)?p:vl(x,p,o);p!=null&&(m=!1)}}return{row:f,isempty:m}}function eg(e,t){if(e==null||e["!ref"]==null)return[];var s={t:"n",v:0},a=0,n=1,i=[],l=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)?a=3:d.header==null&&(a=0),typeof u){case"string":c=Pr(u);break;case"number":c=Pr(e["!ref"]),c.s.r=u;break;default:c=u}a>0&&(n=0);var m=Gs(c.s.r),f=[],h=[],x=0,p=0,b=Array.isArray(e),j=c.s.r,v=0,y={};b&&!e[j]&&(e[j]=[]);var w=d.skipHidden&&e["!cols"]||[],N=d.skipHidden&&e["!rows"]||[];for(v=c.s.c;v<=c.e.c;++v)if(!(w[v]||{}).hidden)switch(f[v]=la(v),s=b?e[j][v]:e[f[v]+m],a){case 1:i[v]=v-c.s.c;break;case 2:i[v]=f[v];break;case 3:i[v]=d.header[v-c.s.c];break;default:if(s==null&&(s={w:"__EMPTY",t:"s"}),o=l=vl(s,null,d),p=y[l]||0,!p)y[l]=1;else{do o=l+"_"+p++;while(y[o]);y[l]=p,y[o]=1}i[v]=o}for(j=c.s.r+n;j<=c.e.r;++j)if(!(N[j]||{}).hidden){var k=nwe(e,c,j,f,a,i,b,d);(k.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows))&&(h[x++]=k.row)}return h.length=x,h}var jT=/"/g;function iwe(e,t,s,a,n,i,l,o){for(var c=!0,d=[],u="",m=Gs(s),f=t.s.c;f<=t.e.c;++f)if(a[f]){var h=o.dense?(e[s]||[])[f]:e[a[f]+m];if(h==null)u="";else if(h.v!=null){c=!1,u=""+(o.rawNumbers&&h.t=="n"?h.v:vl(h,null,o));for(var x=0,p=0;x!==u.length;++x)if((p=u.charCodeAt(x))===n||p===i||p===34||o.forceQuotes){u='"'+u.replace(jT,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(c=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(jT,'""')+'"')):u="";d.push(u)}return o.blankrows===!1&&c?null:d.join(l)}function E3(e,t){var s=[],a=t??{};if(e==null||e["!ref"]==null)return"";var n=Pr(e["!ref"]),i=a.FS!==void 0?a.FS:",",l=i.charCodeAt(0),o=a.RS!==void 0?a.RS:`
`,c=o.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",m=[];a.dense=Array.isArray(e);for(var f=a.skipHidden&&e["!cols"]||[],h=a.skipHidden&&e["!rows"]||[],x=n.s.c;x<=n.e.c;++x)(f[x]||{}).hidden||(m[x]=la(x));for(var p=0,b=n.s.r;b<=n.e.r;++b)(h[b]||{}).hidden||(u=iwe(e,n,b,m,l,c,i,a),u!=null&&(a.strip&&(u=u.replace(d,"")),(u||a.blankrows!==!1)&&s.push((p++?o:"")+u)));return delete a.dense,s.join("")}function VR(e,t){t||(t={}),t.FS="	",t.RS=`
`;var s=E3(e,t);return s}function lwe(e){var t="",s,a="";if(e==null||e["!ref"]==null)return[];var n=Pr(e["!ref"]),i="",l=[],o,c=[],d=Array.isArray(e);for(o=n.s.c;o<=n.e.c;++o)l[o]=la(o);for(var u=n.s.r;u<=n.e.r;++u)for(i=Gs(u),o=n.s.c;o<=n.e.c;++o)if(t=l[o]+i,s=d?(e[u]||[])[o]:e[t],a="",s!==void 0){if(s.F!=null){if(t=s.F,!s.f)continue;a=s.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(s.f!=null)a=s.f;else{if(s.t=="z")continue;if(s.t=="n"&&s.v!=null)a=""+s.v;else if(s.t=="b")a=s.v?"TRUE":"FALSE";else if(s.w!==void 0)a="'"+s.w;else{if(s.v===void 0)continue;s.t=="s"?a="'"+s.v:a=""+s.v}}c[c.length]=t+"="+a}return c}function HR(e,t,s){var a=s||{},n=+!a.skipHeader,i=e||{},l=0,o=0;if(i&&a.origin!=null)if(typeof a.origin=="number")l=a.origin;else{var c=typeof a.origin=="string"?Ts(a.origin):a.origin;l=c.r,o=c.c}var d,u={s:{c:0,r:0},e:{c:o,r:l+t.length-1+n}};if(i["!ref"]){var m=Pr(i["!ref"]);u.e.c=Math.max(u.e.c,m.e.c),u.e.r=Math.max(u.e.r,m.e.r),l==-1&&(l=m.e.r+1,u.e.r=l+t.length-1+n)}else l==-1&&(l=0,u.e.r=t.length-1+n);var f=a.header||[],h=0;t.forEach(function(p,b){qs(p).forEach(function(j){(h=f.indexOf(j))==-1&&(f[h=f.length]=j);var v=p[j],y="z",w="",N=cr({c:o+h,r:l+b+n});d=Kh(i,N),v&&typeof v=="object"&&!(v instanceof Date)?i[N]=v:(typeof v=="number"?y="n":typeof v=="boolean"?y="b":typeof v=="string"?y="s":v instanceof Date?(y="d",a.cellDates||(y="n",v=Fa(v)),w=a.dateNF||qr[14]):v===null&&a.nullError&&(y="e",v=0),d?(d.t=y,d.v=v,delete d.w,delete d.R,w&&(d.z=w)):i[N]=d={t:y,v},w&&(d.z=w))})}),u.e.c=Math.max(u.e.c,o+f.length-1);var x=Gs(l);if(n)for(h=0;h<f.length;++h)i[la(h+o)+x]={t:"s",v:f[h]};return i["!ref"]=us(u),i}function owe(e,t){return HR(null,e,t)}function Kh(e,t,s){if(typeof t=="string"){if(Array.isArray(e)){var a=Ts(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Kh(e,cr(t)):Kh(e,cr({r:t,c:s||0}))}function cwe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var s=e.SheetNames.indexOf(t);if(s>-1)return s;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function dwe(){return{SheetNames:[],Sheets:{}}}function uwe(e,t,s,a){var n=1;if(!s)for(;n<=65535&&e.SheetNames.indexOf(s="Sheet"+n)!=-1;++n,s=void 0);if(!s||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(s)>=0){var i=s.match(/(^.*?)(\d+)$/);n=i&&+i[2]||0;var l=i&&i[1]||s;for(++n;n<=65535&&e.SheetNames.indexOf(s=l+n)!=-1;++n);}if(IR(s),e.SheetNames.indexOf(s)>=0)throw new Error("Worksheet with name |"+s+"| already exists!");return e.SheetNames.push(s),e.Sheets[s]=t,s}function mwe(e,t,s){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=cwe(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),s){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+s)}e.Workbook.Sheets[a].Hidden=s}function hwe(e,t){return e.z=t,e}function WR(e,t,s){return t?(e.l={Target:t},s&&(e.l.Tooltip=s)):delete e.l,e}function fwe(e,t,s){return WR(e,"#"+t,s)}function pwe(e,t,s){e.c||(e.c=[]),e.c.push({t,a:s||"SheetJS"})}function xwe(e,t,s,a){for(var n=typeof t!="string"?t:Pr(t),i=typeof t=="string"?t:us(t),l=n.s.r;l<=n.e.r;++l)for(var o=n.s.c;o<=n.e.c;++o){var c=Kh(e,l,o);c.t="n",c.F=i,delete c.v,l==n.s.r&&o==n.s.c&&(c.f=s,a&&(c.D=!0))}return e}var tu={encode_col:la,encode_row:Gs,encode_cell:cr,encode_range:us,decode_col:b3,decode_row:y3,split_cell:_ge,decode_cell:Ts,decode_range:ln,format_cell:vl,sheet_add_aoa:HF,sheet_add_json:HR,sheet_add_dom:FR,aoa_to_sheet:Vu,json_to_sheet:owe,table_to_sheet:RR,table_to_book:$je,sheet_to_csv:E3,sheet_to_txt:VR,sheet_to_json:eg,sheet_to_html:LR,sheet_to_formulae:lwe,sheet_to_row_object_array:eg,sheet_get_cell:Kh,book_new:dwe,book_append_sheet:uwe,book_set_sheet_visibility:mwe,cell_set_number_format:hwe,cell_set_hyperlink:WR,cell_set_internal_link:fwe,cell_add_comment:pwe,sheet_set_array_formula:xwe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const bs=({columns:e,data:t,emptyLabel:s="No records found",renderActions:a})=>r.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200 shadow-sm bg-white",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[r.jsx("thead",{className:"bg-slate-50",children:r.jsxs("tr",{children:[e.map(n=>r.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500",children:n.header},n.key??n.accessor)),a&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-slate-100",children:[t.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:e.length+(a?1:0),className:"px-4 py-6 text-center text-sm text-slate-400",children:s})}),t.map((n,i)=>r.jsxs("tr",{children:[e.map(l=>r.jsx("td",{className:"px-4 py-4 text-sm text-slate-700",children:typeof l.render=="function"?l.render(n[l.accessor],n):n[l.accessor]},l.key??l.accessor)),a&&r.jsx("td",{className:"px-4 py-4 text-sm text-slate-500",children:a(n)})]},n.id??n._id??`row-${i}`))]})]})})}),Do=(e,t,s,a="Sheet1",n={})=>{if(!e||e.length===0){alert("No data to export");return}try{const i=e.map(u=>{const m={};return t.forEach(f=>{const h=f.accessor||f.key;let x=u[h];x==null?x="N/A":typeof x=="object"&&x!==null?x instanceof Date?x=x.toLocaleString("en-IN"):x=JSON.stringify(x):typeof x=="string"&&x.includes("")&&(x=x.replace(/[,]/g,"")),f.excelFormatter&&typeof f.excelFormatter=="function"&&(x=f.excelFormatter(x,u)),m[f.header]=x}),m}),l=tu.json_to_sheet(i),o=tu.book_new();tu.book_append_sheet(o,l,a),n.columnWidths&&Array.isArray(n.columnWidths)?l["!cols"]=n.columnWidths.map(u=>({wch:u})):l["!cols"]=t.map(()=>({wch:50}));const c=new Date().toISOString().split("T")[0].replace(/-/g,"_"),d=`${s}_${c}.xlsx`;zR(o,d)}catch(i){console.error("Excel export error:",i),alert("Failed to export data. Please try again.")}},gwe=[{header:"Partner",accessor:"partnerName"},{header:"Txn ID",accessor:"transactionId"},{header:"Type",accessor:"type"},{header:"Amount",accessor:"amount"},{header:"Balance",accessor:"balance"},{header:"Initiated By",accessor:"initiatedBy"}],ywe=[{header:"Name",accessor:"name"},{header:"Phone",accessor:"phone"},{header:"Email",accessor:"email"},{header:"Partner",accessor:"partnerName"},{header:"Role",accessor:"role"},{header:"Status",accessor:"status"},{header:"Joined Date",accessor:"joinedDate"}],bwe=({token:e})=>{const[t,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState(null);if(g.useEffect(()=>{if(!e)return;(async()=>{n(!0),l(null);try{const d=await Fe.fetchTeamMembers(e,{status:"all"}),u=(d==null?void 0:d.data)||(d==null?void 0:d.teamMembers)||[];s(Array.isArray(u)?u:[])}catch(d){console.error("Fetch team members error:",d),l(d.message||"Failed to fetch team members"),s([])}finally{n(!1)}})()},[e]),a)return r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary mb-4"}),r.jsx("p",{className:"text-slate-500",children:"Loading team members..."})]});if(i)return r.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:r.jsx("p",{className:"text-rose-500 text-sm",children:i})});const o=t.map(c=>{var d,u,m,f,h;return{id:c._id,name:c.name||"N/A",phone:c.phone||"N/A",email:c.email||"N/A",partnerName:((u=(d=c.partner)==null?void 0:d.profile)==null?void 0:u.name)||((f=(m=c.partner)==null?void 0:m.Profile)==null?void 0:f.name)||((h=c.partner)==null?void 0:h.name)||"N/A",role:c.role?c.role.charAt(0).toUpperCase()+c.role.slice(1):"N/A",status:c.status?c.status.charAt(0).toUpperCase()+c.status.slice(1):"N/A",joinedDate:c.joinedDate?new Date(c.joinedDate).toLocaleDateString("en-IN"):"N/A"}});return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-end",children:t.length>0&&r.jsxs("button",{onClick:()=>{const c=t.map(d=>{var u,m,f,h,x,p,b,j;return{Name:d.name||"N/A",Phone:d.phone||"N/A",Email:d.email||"N/A","Partner Name":((m=(u=d.partner)==null?void 0:u.profile)==null?void 0:m.name)||((h=(f=d.partner)==null?void 0:f.Profile)==null?void 0:h.name)||((x=d.partner)==null?void 0:x.name)||"N/A","Partner Phone":((p=d.partner)==null?void 0:p.phone)||((j=(b=d.partner)==null?void 0:b.Profile)==null?void 0:j.phone)||"N/A",Role:d.role?d.role.charAt(0).toUpperCase()+d.role.slice(1):"N/A",Status:d.status?d.status.charAt(0).toUpperCase()+d.status.slice(1):"N/A",Qualification:d.qualification||"N/A",Experience:d.experience||"N/A",City:d.city||"N/A","Joined Date":d.joinedDate?new Date(d.joinedDate).toLocaleDateString("en-IN"):"N/A"}});Do(c,[{header:"Name",accessor:"Name"},{header:"Phone",accessor:"Phone"},{header:"Email",accessor:"Email"},{header:"Partner Name",accessor:"Partner Name"},{header:"Partner Phone",accessor:"Partner Phone"},{header:"Role",accessor:"Role"},{header:"Status",accessor:"Status"},{header:"Qualification",accessor:"Qualification"},{header:"Experience",accessor:"Experience"},{header:"City",accessor:"City"},{header:"Joined Date",accessor:"Joined Date"}],"Team_Members_List","Team Members",{columnWidths:[20,15,25,25,15,15,12,20,15,15,15]})},disabled:t.length===0,className:"text-xs font-semibold text-primary hover:text-primary-dark disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2 transition px-3 py-1.5 border border-primary rounded-lg hover:bg-primary/10",title:"Export Team Members to Excel",children:[r.jsx(si,{className:"w-4 h-4"}),"Export Team Members"]})}),r.jsx(bs,{columns:ywe,data:o,emptyLabel:"No team members found."})]})},vwe=()=>{const{token:e}=Ar(),t=ms(),[s,a]=g.useState(""),[n,i]=g.useState(1),[l]=g.useState(10),[o,c]=g.useState(""),[d,u]=g.useState(null),[m,f]=g.useState(!1),[h,x]=g.useState(null),[p,b]=g.useState([]),[j,v]=g.useState(!1),[y,w]=g.useState({totalRegistrationFees:0,totalSecurityDeposit:0,totalToolkitFees:0,totalMGPlanRevenue:0,totalPartnerEarnings:0,totalRevenue:0});g.useEffect(()=>{if(!e)return;const R=async()=>{f(!0),x(null);try{const I=await Fe.fetchPartners(e,{page:n,limit:l,search:s,status:o});u(I)}catch(I){x(I.message||"Failed to fetch partners"),console.error("Fetch partners error:",I)}finally{f(!1)}},O=setTimeout(()=>{R()},s?500:0);return()=>clearTimeout(O)},[n,s,o,e,l]),g.useEffect(()=>{if(!e)return;(async()=>{try{const O=await Fe.fetchPartnerRevenueStats(e);O!=null&&O.success&&(O!=null&&O.stats)&&w(O.stats)}catch(O){console.error("Fetch revenue stats error:",O)}})()},[e]),g.useEffect(()=>{if(!e)return;(async()=>{v(!0);try{const O=await Fe.fetchAllWalletTransactions(e,{limit:50});b((O==null?void 0:O.transactions)||(O==null?void 0:O.success)||[])}catch(O){console.error("Fetch wallet transactions error:",O),b([])}finally{v(!1)}})()},[e]);const N=(d==null?void 0:d.partners)||[],k=(d==null?void 0:d.total)||0,S=(d==null?void 0:d.totalPages)||0,P=R=>{const O=R._id||R.id;O&&t(`/admin/partners/${O}`)},_=R=>{a(R.target.value),i(1)},C=R=>{c(R.target.value),i(1)},A=R=>{R>=1&&R<=S&&(i(R),window.scrollTo({top:0,behavior:"smooth"}))},V=async(R,O)=>{if(confirm(`Are you sure you want to approve payment for ${O}?`))try{const I={paymentApproved:!0,approvedBy:"Admin",approvedAt:new Date().toISOString()},X=await Fe.approvePartnerPayment(e,R,I);X.success?(alert(`Payment approved successfully for ${O}!`),fetchAllPartners()):alert(`Failed to approve payment: ${X.message||"Unknown error"}`)}catch(I){console.error("Payment approval error:",I),alert(`Error approving payment: ${I.message}`)}},q=()=>{if(!p||p.length===0){alert("No transactions to export");return}const R=p.map(L=>({"Transaction ID":L.transactionId||"N/A","Partner Name":L.partnerName||"N/A",Type:L.type?L.type.charAt(0).toUpperCase()+L.type.slice(1):"N/A","Amount ()":L.amount||0,"Balance ()":L.balance||0,Description:L.description||"",Reference:L.reference||"","Initiated By":L.initiatedBy||"System",Date:L.createdAt?new Date(L.createdAt).toLocaleString("en-IN"):"N/A"})),O=tu.json_to_sheet(R),I=tu.book_new();tu.book_append_sheet(I,O,"Wallet Transactions");const X=[{wch:20},{wch:25},{wch:12},{wch:15},{wch:15},{wch:30},{wch:20},{wch:15},{wch:25}];O["!cols"]=X;const T=`wallet-transactions-${new Date().toISOString().split("T")[0]}.xlsx`;zR(I,T)},Z=y.totalRegistrationFees,ue=y.totalSecurityDeposit,me=y.totalToolkitFees,Q=y.totalMGPlanRevenue;y.totalPartnerEarnings;const ae=y.totalRevenue,oe=[{label:"Total Partners",value:k,trend:"Across all service categories",description:"Total registered partners",icon:sa},{label:"Active Partners",value:N.filter(R=>{var I,X,W;return(((X=(I=R.Profile)==null?void 0:I.KYC)==null?void 0:X.status)||((W=R.kyc)==null?void 0:W.status)||R.status||"pending")==="approved"}).length,trend:"Verified and active",icon:It,description:"Approved partners",intent:"positive"},{label:"Total Revenue",value:`${ae.toLocaleString("en-IN")}`,trend:`Reg: ${Z.toLocaleString("en-IN")} | SD: ${ue.toLocaleString("en-IN")} | TK: ${me.toLocaleString("en-IN")}`,description:"All revenue streams combined",icon:Ya,intent:"positive"},{label:"Registration Fees",value:`${Z.toLocaleString("en-IN")}`,trend:"Partner onboarding fees",description:"Total registration revenue",icon:It,intent:"positive"},{label:"Security Deposit",value:`${ue.toLocaleString("en-IN")}`,trend:"Refundable deposits",description:"Total security deposits",icon:It,intent:"positive"},{label:"Toolkit Fees",value:`${me.toLocaleString("en-IN")}`,trend:"Equipment & tools",description:"Total toolkit revenue",icon:It,intent:"positive"},{label:"MG Plan Revenue",value:`${Q.toLocaleString("en-IN")}`,trend:"From MG plan subscriptions",description:"Total MG plan revenue",icon:Ya,intent:"positive"},{label:"Suspended Accounts",value:(d==null?void 0:d.suspended)??0,trend:"Auto-suspend post SLA breach",intent:"warning",icon:Qf,description:"Auto-suspend post SLA breach"}];return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx($r,{title:"Partner Control",subtitle:"Manage the partner lifecycle end-to-end with unified KYC, wallet management, penalty controls, and payouts."}),r.jsxs("button",{onClick:()=>t("/admin/partners/manual-register"),className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition flex items-center gap-2 font-semibold shadow-sm",children:[r.jsx(sa,{className:"w-5 h-5"}),"Add New Partner"]})]}),r.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:oe.map(R=>r.jsx(Qa,{...R},R.label))}),r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(ai,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search by name, email, phone, city, pincode...",value:s,onChange:_,className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("select",{value:o,onChange:C,className:"px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"suspended",children:"Suspended"})]})]}),r.jsx("div",{className:"text-sm text-slate-600",children:m?r.jsx("span",{children:"Loading..."}):r.jsxs("span",{children:["Showing ",N.length," of ",k," partners",s&&` matching "${s}"`]})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Partner Ledger"}),r.jsxs("div",{className:"flex items-center gap-3",children:[h&&r.jsx("span",{className:"text-xs text-rose-500",children:h}),N.length>0&&r.jsxs("button",{onClick:()=>{(async()=>{try{const O=await Fe.fetchPartners(e,{page:1,limit:1e3,search:s,status:o}),X=((O==null?void 0:O.partners)||[]).map(W=>{var z,se,ne,te,Re,Ce,Je,Ge,Le,mt,Tt,Pe,dt,$e,Qe,Xe,kt,er,we,F,fe,lt;const T=W.mgPlan||W.mgPlanSummary,L=(T==null?void 0:T.leads)||W.mgPlanLeadQuota||0,D=W.mgPlanLeadsUsed||0,M=Math.max(L-D,0);return{"Partner ID":((z=W.Profile)==null?void 0:z.id)||W._id||W.id||"N/A",Name:((se=W.Profile)==null?void 0:se.name)||((ne=W.profile)==null?void 0:ne.name)||"N/A",Email:((te=W.Profile)==null?void 0:te.email)||((Re=W.profile)==null?void 0:Re.email)||"N/A",Phone:((Ce=W.Profile)==null?void 0:Ce.phone)||W.phone||"N/A","Partner Type":(W.partnerType||((Je=W.Profile)==null?void 0:Je.partnerType)||"individual")==="franchise"?"Franchise":"Individual",City:((Tt=(mt=(Le=(Ge=W.Profile)==null?void 0:Ge.address)==null?void 0:Le.split(","))==null?void 0:mt.pop())==null?void 0:Tt.trim())||((Pe=W.profile)==null?void 0:Pe.city)||"N/A","Total Earnings ()":((dt=W.Earnings)==null?void 0:dt.totalEarnings)||0,"KYC Status":((Qe=($e=W.Profile)==null?void 0:$e.KYC)==null?void 0:Qe.status)||((Xe=W.kyc)==null?void 0:Xe.status)||W.status||"pending","Payment Status":W.registerdFee&&W.payId?"Verified":"Pending",Status:((er=(kt=W.Profile)==null?void 0:kt.KYC)==null?void 0:er.status)==="approved"||((we=W.kyc)==null?void 0:we.status)==="approved"?"Active":((fe=(F=W.Profile)==null?void 0:F.KYC)==null?void 0:fe.status)==="Pending"||((lt=W.kyc)==null?void 0:lt.status)==="Pending"?"KYC Pending":"Inactive","MG Plan":(T==null?void 0:T.name)||"No Plan","Leads Guaranteed":L,"Leads Used":D,"Leads Remaining":M,"Plan Expires":W.mgPlanExpiresAt?new Date(W.mgPlanExpiresAt).toLocaleDateString("en-IN"):"N/A"}});Do(X,[{header:"Partner ID",accessor:"Partner ID"},{header:"Name",accessor:"Name"},{header:"Email",accessor:"Email"},{header:"Phone",accessor:"Phone"},{header:"Partner Type",accessor:"Partner Type"},{header:"City",accessor:"City"},{header:"Total Earnings ()",accessor:"Total Earnings ()"},{header:"KYC Status",accessor:"KYC Status"},{header:"Payment Status",accessor:"Payment Status"},{header:"Status",accessor:"Status"},{header:"MG Plan",accessor:"MG Plan"},{header:"Leads Guaranteed",accessor:"Leads Guaranteed"},{header:"Leads Used",accessor:"Leads Used"},{header:"Leads Remaining",accessor:"Leads Remaining"},{header:"Plan Expires",accessor:"Plan Expires"}],"Partners_List","Partners",{columnWidths:[15,25,25,15,15,20,18,15,15,20,15,15,15,15,15]})}catch(O){console.error("Export error:",O),alert("Failed to export partners. Please try again.")}})()},disabled:m||N.length===0,className:"text-xs font-semibold text-primary hover:text-primary-dark disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2 transition px-3 py-1.5 border border-primary rounded-lg hover:bg-primary/10",title:"Export Partners to Excel",children:[r.jsx(si,{className:"w-4 h-4"}),"Export Partners"]})]})]}),m?r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),r.jsx("p",{className:"text-slate-500",children:"Loading partners..."})]}):N.length>0?r.jsx("div",{className:"space-y-4",children:N.map(R=>{var te,Re,Ce,Je,Ge,Le,mt,Tt,Pe,dt,$e,Qe,Xe,kt,er,we,F,fe,lt,Nt,ye,qe,st,St,de,he,Te,ce,U,ie,Ae,Ue,Me,le;const O=R.mgPlan||R.mgPlanSummary,I=(O==null?void 0:O.leads)||R.mgPlanLeadQuota||0,X=R.mgPlanLeadsUsed||0,W=Math.max(I-X,0),T=new Date,L=R.mgPlanExpiresAt,D=L?T>new Date(L):!1,M=L?Math.ceil((new Date(L)-T)/(1e3*60*60*24)):0,z=D||M<=7,se=O?D?"Expired":z?"Needs Renewal":"Active":"No Plan";R._partnerTypeLogged||(console.log("Partner structure:",{hasPartnerType:!!R.partnerType,partnerType:R.partnerType,hasProfilePartnerType:!!((te=R.Profile)!=null&&te.partnerType),profilePartnerType:(Re=R.Profile)==null?void 0:Re.partnerType,partnerKeys:Object.keys(R),profileKeys:R.Profile?Object.keys(R.Profile):[]}),R._partnerTypeLogged=!0);const ne={id:((Ce=R.Profile)==null?void 0:Ce.id)||R._id||R.id,_id:((Je=R.Profile)==null?void 0:Je.id)||R._id||R.id,name:((Ge=R.Profile)==null?void 0:Ge.name)||((Le=R.profile)==null?void 0:Le.name)||"N/A",city:((dt=(Pe=(Tt=(mt=R.Profile)==null?void 0:mt.address)==null?void 0:Tt.split(","))==null?void 0:Pe.pop())==null?void 0:dt.trim())||(($e=R.profile)==null?void 0:$e.city)||((er=(kt=(Xe=(Qe=R.profile)==null?void 0:Qe.address)==null?void 0:Xe.split(","))==null?void 0:kt.pop())==null?void 0:er.trim())||"N/A",walletBalance:(we=R.Earnings)!=null&&we.totalEarnings?`${R.Earnings.totalEarnings.toLocaleString("en-IN")}`:"0",totalEarnings:((F=R.Earnings)==null?void 0:F.totalEarnings)||0,complianceScore:((lt=(fe=R.Profile)==null?void 0:fe.KYC)==null?void 0:lt.status)==="approved"||((Nt=R.kyc)==null?void 0:Nt.status)==="approved"||R.status==="approved"?"100%":"0%",status:((qe=(ye=R.Profile)==null?void 0:ye.KYC)==null?void 0:qe.status)==="approved"||((st=R.kyc)==null?void 0:st.status)==="approved"||R.status==="approved"?"Active":((de=(St=R.Profile)==null?void 0:St.KYC)==null?void 0:de.status)==="pending"||((he=R.kyc)==null?void 0:he.status)==="pending"||R.status==="pending"?"KYC Pending":"Inactive",kycStatus:((ce=(Te=R.Profile)==null?void 0:Te.KYC)==null?void 0:ce.status)||((U=R.kyc)==null?void 0:U.status)||R.status||"pending",email:((ie=R.Profile)==null?void 0:ie.email)||((Ae=R.profile)==null?void 0:Ae.email)||"N/A",phone:((Ue=R.Profile)==null?void 0:Ue.phone)||R.phone||"N/A",partnerType:R.partnerType||((Me=R.Profile)==null?void 0:Me.partnerType)||"individual",mgPlan:O?{name:O.name||"N/A",status:se,leadsGuaranteed:I,leadsUsed:X,leadsRemaining:W,leadsCarryForward:W>0?W:0,isExpired:D,daysUntilRenewal:M>0?M:0}:null};return r.jsxs("div",{onClick:()=>P(ne),className:"block bg-white border border-slate-200 rounded-2xl px-5 py-4 shadow-sm hover:shadow-md transition cursor-pointer",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:ne.name}),r.jsxs("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:[((le=ne.id)==null?void 0:le.toString().slice(-8))||"N/A","  ",ne.city]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Total Earnings"}),r.jsx("p",{className:"text-lg font-semibold text-primary",children:ne.walletBalance})]})]}),r.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-xs",children:[r.jsxs("span",{className:"px-2.5 py-1 rounded-full bg-slate-100 text-slate-600 font-medium",children:["Compliance ",ne.complianceScore]}),r.jsx("span",{className:`px-2.5 py-1 rounded-full font-semibold ${ne.status==="Active"?"bg-emerald-500/10 text-emerald-600":ne.status==="KYC Pending"||ne.kycStatus==="pending"?"bg-amber-500/10 text-amber-600":"bg-rose-500/10 text-rose-600"}`,children:ne.status}),r.jsx("span",{className:`px-2.5 py-1 rounded-full font-semibold ${ne.partnerType==="franchise"?"bg-purple-500/10 text-purple-600":"bg-blue-500/10 text-blue-600"}`,children:ne.partnerType==="franchise"?"Franchise":"Individual"}),ne.mgPlan&&r.jsxs("span",{className:`px-2.5 py-1 rounded-full font-semibold flex items-center gap-1 ${ne.mgPlan.status==="Active"?"bg-purple-500/10 text-purple-600":ne.mgPlan.status==="Needs Renewal"?"bg-amber-500/10 text-amber-600":ne.mgPlan.status==="Expired"?"bg-rose-500/10 text-rose-600":"bg-slate-500/10 text-slate-600"}`,title:`${ne.mgPlan.name} Plan - ${ne.mgPlan.leadsUsed}/${ne.mgPlan.leadsGuaranteed} leads used${ne.mgPlan.leadsCarryForward>0?` (${ne.mgPlan.leadsCarryForward} carry forward)`:""}`,children:[r.jsx(Ya,{className:"w-3 h-3"}),ne.mgPlan.name," ",ne.mgPlan.status!=="No Plan"&&`(${ne.mgPlan.leadsRemaining} left)`]}),r.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[ne["Payment Status"]==="Pending"&&r.jsxs("button",{onClick:Ne=>{Ne.stopPropagation(),V(ne.id,ne.name)},className:"px-3 py-1 text-xs bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition flex items-center gap-1",title:"Approve Payment",children:[r.jsx(It,{className:"w-3 h-3"}),"Approve Payment"]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ne["Payment Status"]==="Verified"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:ne["Payment Status"]}),r.jsx("span",{className:"text-xs text-slate-500",children:"Click to view details "})]})]})]},ne.id)})}):r.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:r.jsx("p",{className:"text-slate-500",children:s?`No partners found matching "${s}"`:"No partners found"})}),S>1&&r.jsxs("div",{className:"mt-6 flex items-center justify-between bg-white border border-slate-200 rounded-2xl shadow-sm px-6 py-4",children:[r.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",n," of ",S]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>A(n-1),disabled:n===1||m,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition",children:[r.jsx(BI,{className:"w-4 h-4"}),"Previous"]}),r.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,S)},(R,O)=>{let I;return S<=5||n<=3?I=O+1:n>=S-2?I=S-4+O:I=n-2+O,r.jsx("button",{onClick:()=>A(I),disabled:m,className:`px-3 py-1.5 rounded-lg text-sm font-medium transition ${n===I?"bg-primary text-white":"text-slate-600 hover:bg-slate-100"} disabled:opacity-50 disabled:cursor-not-allowed`,children:I},I)})}),r.jsxs("button",{onClick:()=>A(n+1),disabled:n===S||m,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition",children:["Next",r.jsx($I,{className:"w-4 h-4"})]})]})]})]}),r.jsxs("div",{className:"space-y-4 mt-8",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Team Members"})}),r.jsx(bwe,{token:e})]}),r.jsxs("div",{className:"space-y-4 mt-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Wallet Transactions"}),r.jsxs("button",{onClick:q,disabled:j||!p||p.length===0,className:"text-xs font-semibold text-primary hover:text-primary-dark disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-2 transition",children:[r.jsx(si,{className:"w-4 h-4"}),"Export to Excel"]})]}),j?r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-primary mb-4"}),r.jsx("p",{className:"text-slate-500",children:"Loading transactions..."})]}):r.jsx(bs,{columns:gwe,data:p.map(R=>({id:R.id||R.transactionId,partnerName:R.partnerName||"N/A",transactionId:R.transactionId||"N/A",type:R.type?R.type.charAt(0).toUpperCase()+R.type.slice(1):"N/A",amount:`${(R.amount||0).toLocaleString("en-IN")}`,balance:`${(R.balance||0).toLocaleString("en-IN")}`,initiatedBy:R.initiatedBy||"System"})),emptyLabel:"No recent transactions recorded."})]})]})]})};var jwe=Object.defineProperty,tg=Object.getOwnPropertySymbols,GR=Object.prototype.hasOwnProperty,KR=Object.prototype.propertyIsEnumerable,wT=(e,t,s)=>t in e?jwe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,mj=(e,t)=>{for(var s in t||(t={}))GR.call(t,s)&&wT(e,s,t[s]);if(tg)for(var s of tg(t))KR.call(t,s)&&wT(e,s,t[s]);return e},hj=(e,t)=>{var s={};for(var a in e)GR.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&tg)for(var a of tg(e))t.indexOf(a)<0&&KR.call(e,a)&&(s[a]=e[a]);return s};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Rc;(e=>{const t=class $t{constructor(c,d,u,m){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<$t.MIN_VERSION||c>$t.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let f=[];for(let x=0;x<this.size;x++)f.push(!1);for(let x=0;x<this.size;x++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(u);if(this.drawCodewords(h),m==-1){let x=1e9;for(let p=0;p<8;p++){this.applyMask(p),this.drawFormatBits(p);const b=this.getPenaltyScore();b<x&&(m=p,x=b),this.applyMask(p)}}n(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(c,d){const u=e.QrSegment.makeSegments(c);return $t.encodeSegments(u,d)}static encodeBinary(c,d){const u=e.QrSegment.makeBytes(c);return $t.encodeSegments([u],d)}static encodeSegments(c,d,u=1,m=40,f=-1,h=!0){if(!($t.MIN_VERSION<=u&&u<=m&&m<=$t.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let x,p;for(x=u;;x++){const y=$t.getNumDataCodewords(x,d)*8,w=l.getTotalBits(c,x);if(w<=y){p=w;break}if(x>=m)throw new RangeError("Data too long")}for(const y of[$t.Ecc.MEDIUM,$t.Ecc.QUARTILE,$t.Ecc.HIGH])h&&p<=$t.getNumDataCodewords(x,y)*8&&(d=y);let b=[];for(const y of c){s(y.mode.modeBits,4,b),s(y.numChars,y.mode.numCharCountBits(x),b);for(const w of y.getData())b.push(w)}n(b.length==p);const j=$t.getNumDataCodewords(x,d)*8;n(b.length<=j),s(0,Math.min(4,j-b.length),b),s(0,(8-b.length%8)%8,b),n(b.length%8==0);for(let y=236;b.length<j;y^=253)s(y,8,b);let v=[];for(;v.length*8<b.length;)v.push(0);return b.forEach((y,w)=>v[w>>>3]|=y<<7-(w&7)),new $t(x,d,v,f)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let u=0;u<d;u++)for(let m=0;m<d;m++)u==0&&m==0||u==0&&m==d-1||u==d-1&&m==0||this.drawAlignmentPattern(c[u],c[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let u=d;for(let f=0;f<10;f++)u=u<<1^(u>>>9)*1335;const m=(d<<10|u)^21522;n(m>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,a(m,f));this.setFunctionModule(8,7,a(m,6)),this.setFunctionModule(8,8,a(m,7)),this.setFunctionModule(7,8,a(m,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,a(m,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,a(m,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,a(m,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let u=0;u<12;u++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;n(d>>>18==0);for(let u=0;u<18;u++){const m=a(d,u),f=this.size-11+u%3,h=Math.floor(u/3);this.setFunctionModule(f,h,m),this.setFunctionModule(h,f,m)}}drawFinderPattern(c,d){for(let u=-4;u<=4;u++)for(let m=-4;m<=4;m++){const f=Math.max(Math.abs(m),Math.abs(u)),h=c+m,x=d+u;0<=h&&h<this.size&&0<=x&&x<this.size&&this.setFunctionModule(h,x,f!=2&&f!=4)}}drawAlignmentPattern(c,d){for(let u=-2;u<=2;u++)for(let m=-2;m<=2;m++)this.setFunctionModule(c+m,d+u,Math.max(Math.abs(m),Math.abs(u))!=1)}setFunctionModule(c,d,u){this.modules[d][c]=u,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,u=this.errorCorrectionLevel;if(c.length!=$t.getNumDataCodewords(d,u))throw new RangeError("Invalid argument");const m=$t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d],f=$t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d],h=Math.floor($t.getNumRawDataModules(d)/8),x=m-h%m,p=Math.floor(h/m);let b=[];const j=$t.reedSolomonComputeDivisor(f);for(let y=0,w=0;y<m;y++){let N=c.slice(w,w+p-f+(y<x?0:1));w+=N.length;const k=$t.reedSolomonComputeRemainder(N,j);y<x&&N.push(0),b.push(N.concat(k))}let v=[];for(let y=0;y<b[0].length;y++)b.forEach((w,N)=>{(y!=p-f||N>=x)&&v.push(w[y])});return n(v.length==h),v}drawCodewords(c){if(c.length!=Math.floor($t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let m=0;m<this.size;m++)for(let f=0;f<2;f++){const h=u-f,p=(u+1&2)==0?this.size-1-m:m;!this.isFunction[p][h]&&d<c.length*8&&(this.modules[p][h]=a(c[d>>>3],7-(d&7)),d++)}}n(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let u=0;u<this.size;u++){let m;switch(c){case 0:m=(u+d)%2==0;break;case 1:m=d%2==0;break;case 2:m=u%3==0;break;case 3:m=(u+d)%3==0;break;case 4:m=(Math.floor(u/3)+Math.floor(d/2))%2==0;break;case 5:m=u*d%2+u*d%3==0;break;case 6:m=(u*d%2+u*d%3)%2==0;break;case 7:m=((u+d)%2+u*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][u]&&m&&(this.modules[d][u]=!this.modules[d][u])}}getPenaltyScore(){let c=0;for(let f=0;f<this.size;f++){let h=!1,x=0,p=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[f][b]==h?(x++,x==5?c+=$t.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,p),h||(c+=this.finderPenaltyCountPatterns(p)*$t.PENALTY_N3),h=this.modules[f][b],x=1);c+=this.finderPenaltyTerminateAndCount(h,x,p)*$t.PENALTY_N3}for(let f=0;f<this.size;f++){let h=!1,x=0,p=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][f]==h?(x++,x==5?c+=$t.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,p),h||(c+=this.finderPenaltyCountPatterns(p)*$t.PENALTY_N3),h=this.modules[b][f],x=1);c+=this.finderPenaltyTerminateAndCount(h,x,p)*$t.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let h=0;h<this.size-1;h++){const x=this.modules[f][h];x==this.modules[f][h+1]&&x==this.modules[f+1][h]&&x==this.modules[f+1][h+1]&&(c+=$t.PENALTY_N2)}let d=0;for(const f of this.modules)d=f.reduce((h,x)=>h+(x?1:0),d);const u=this.size*this.size,m=Math.ceil(Math.abs(d*20-u*10)/u)-1;return n(0<=m&&m<=9),c+=m*$t.PENALTY_N4,n(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let u=[6];for(let m=this.size-7;u.length<c;m-=d)u.splice(1,0,m);return u}}static getNumRawDataModules(c){if(c<$t.MIN_VERSION||c>$t.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const u=Math.floor(c/7)+2;d-=(25*u-10)*u-55,c>=7&&(d-=36)}return n(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor($t.getNumRawDataModules(c)/8)-$t.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*$t.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let m=0;m<c-1;m++)d.push(0);d.push(1);let u=1;for(let m=0;m<c;m++){for(let f=0;f<d.length;f++)d[f]=$t.reedSolomonMultiply(d[f],u),f+1<d.length&&(d[f]^=d[f+1]);u=$t.reedSolomonMultiply(u,2)}return d}static reedSolomonComputeRemainder(c,d){let u=d.map(m=>0);for(const m of c){const f=m^u.shift();u.push(0),d.forEach((h,x)=>u[x]^=$t.reedSolomonMultiply(h,f))}return u}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let u=0;for(let m=7;m>=0;m--)u=u<<1^(u>>>7)*285,u^=(d>>>m&1)*c;return n(u>>>8==0),u}finderPenaltyCountPatterns(c){const d=c[1];n(d<=this.size*3);const u=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(u&&c[0]>=d*4&&c[6]>=d?1:0)+(u&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,u){return c&&(this.finderPenaltyAddHistory(d,u),d=0),d+=this.size,this.finderPenaltyAddHistory(d,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function s(o,c,d){if(c<0||c>31||o>>>c)throw new RangeError("Value out of range");for(let u=c-1;u>=0;u--)d.push(o>>>u&1)}function a(o,c){return(o>>>c&1)!=0}function n(o){if(!o)throw new Error("Assertion error")}const i=class Wr{constructor(c,d,u){if(this.mode=c,this.numChars=d,this.bitData=u,d<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(c){let d=[];for(const u of c)s(u,8,d);return new Wr(Wr.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!Wr.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let u=0;u<c.length;){const m=Math.min(c.length-u,3);s(parseInt(c.substring(u,u+m),10),m*3+1,d),u+=m}return new Wr(Wr.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!Wr.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],u;for(u=0;u+2<=c.length;u+=2){let m=Wr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u))*45;m+=Wr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u+1)),s(m,11,d)}return u<c.length&&s(Wr.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u)),6,d),new Wr(Wr.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:Wr.isNumeric(c)?[Wr.makeNumeric(c)]:Wr.isAlphanumeric(c)?[Wr.makeAlphanumeric(c)]:[Wr.makeBytes(Wr.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)s(c,8,d);else if(c<16384)s(2,2,d),s(c,14,d);else if(c<1e6)s(6,3,d),s(c,21,d);else throw new RangeError("ECI assignment value out of range");return new Wr(Wr.Mode.ECI,0,d)}static isNumeric(c){return Wr.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Wr.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let u=0;for(const m of c){const f=m.mode.numCharCountBits(d);if(m.numChars>=1<<f)return 1/0;u+=4+f+m.bitData.length}return u}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let u=0;u<c.length;u++)c.charAt(u)!="%"?d.push(c.charCodeAt(u)):(d.push(parseInt(c.substring(u+1,u+3),16)),u+=2);return d}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=i;e.QrSegment=i})(Rc||(Rc={}));(e=>{(t=>{const s=class{constructor(n,i){this.ordinal=n,this.formatBits=i}};s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),t.Ecc=s})(e.QrCode||(e.QrCode={}))})(Rc||(Rc={}));(e=>{(t=>{const s=class{constructor(n,i){this.modeBits=n,this.numBitsCharCount=i}numCharCountBits(n){return this.numBitsCharCount[Math.floor((n+7)/17)]}};s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),t.Mode=s})(e.QrSegment||(e.QrSegment={}))})(Rc||(Rc={}));var Dd=Rc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var wwe={L:Dd.QrCode.Ecc.LOW,M:Dd.QrCode.Ecc.MEDIUM,Q:Dd.QrCode.Ecc.QUARTILE,H:Dd.QrCode.Ecc.HIGH},qR=128,YR="L",XR="#FFFFFF",JR="#000000",QR=!1,ZR=1,Nwe=4,Swe=0,kwe=.1;function eB(e,t=0){const s=[];return e.forEach(function(a,n){let i=null;a.forEach(function(l,o){if(!l&&i!==null){s.push(`M${i+t} ${n+t}h${o-i}v1H${i+t}z`),i=null;return}if(o===a.length-1){if(!l)return;i===null?s.push(`M${o+t},${n+t} h1v1H${o+t}z`):s.push(`M${i+t},${n+t} h${o+1-i}v1H${i+t}z`);return}l&&i===null&&(i=o)})}),s.join("")}function tB(e,t){return e.slice().map((s,a)=>a<t.y||a>=t.y+t.h?s:s.map((n,i)=>i<t.x||i>=t.x+t.w?n:!1))}function Cwe(e,t,s,a){if(a==null)return null;const n=e.length+s*2,i=Math.floor(t*kwe),l=n/t,o=(a.width||i)*l,c=(a.height||i)*l,d=a.x==null?e.length/2-o/2:a.x*l,u=a.y==null?e.length/2-c/2:a.y*l,m=a.opacity==null?1:a.opacity;let f=null;if(a.excavate){let x=Math.floor(d),p=Math.floor(u),b=Math.ceil(o+d-x),j=Math.ceil(c+u-p);f={x,y:p,w:b,h:j}}const h=a.crossOrigin;return{x:d,y:u,h:c,w:o,excavation:f,opacity:m,crossOrigin:h}}function Pwe(e,t){return t!=null?Math.max(Math.floor(t),0):e?Nwe:Swe}function rB({value:e,level:t,minVersion:s,includeMargin:a,marginSize:n,imageSettings:i,size:l,boostLevel:o}){let c=At.useMemo(()=>{const x=(Array.isArray(e)?e:[e]).reduce((p,b)=>(p.push(...Dd.QrSegment.makeSegments(b)),p),[]);return Dd.QrCode.encodeSegments(x,wwe[t],s,void 0,void 0,o)},[e,t,s,o]);const{cells:d,margin:u,numCells:m,calculatedImageSettings:f}=At.useMemo(()=>{let h=c.getModules();const x=Pwe(a,n),p=h.length+x*2,b=Cwe(h,l,x,i);return{cells:h,margin:x,numCells:p,calculatedImageSettings:b}},[c,l,i,a,n]);return{qrcode:c,margin:u,cells:d,numCells:m,calculatedImageSettings:f}}var Awe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Twe=At.forwardRef(function(t,s){const a=t,{value:n,size:i=qR,level:l=YR,bgColor:o=XR,fgColor:c=JR,includeMargin:d=QR,minVersion:u=ZR,boostLevel:m,marginSize:f,imageSettings:h}=a,p=hj(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:b}=p,j=hj(p,["style"]),v=h==null?void 0:h.src,y=At.useRef(null),w=At.useRef(null),N=At.useCallback(Z=>{y.current=Z,typeof s=="function"?s(Z):s&&(s.current=Z)},[s]),[k,S]=At.useState(!1),{margin:P,cells:_,numCells:C,calculatedImageSettings:A}=rB({value:n,level:l,minVersion:u,boostLevel:m,includeMargin:d,marginSize:f,imageSettings:h,size:i});At.useEffect(()=>{if(y.current!=null){const Z=y.current,ue=Z.getContext("2d");if(!ue)return;let me=_;const Q=w.current,ae=A!=null&&Q!==null&&Q.complete&&Q.naturalHeight!==0&&Q.naturalWidth!==0;ae&&A.excavation!=null&&(me=tB(_,A.excavation));const oe=window.devicePixelRatio||1;Z.height=Z.width=i*oe;const R=i/C*oe;ue.scale(R,R),ue.fillStyle=o,ue.fillRect(0,0,C,C),ue.fillStyle=c,Awe?ue.fill(new Path2D(eB(me,P))):_.forEach(function(O,I){O.forEach(function(X,W){X&&ue.fillRect(W+P,I+P,1,1)})}),A&&(ue.globalAlpha=A.opacity),ae&&ue.drawImage(Q,A.x+P,A.y+P,A.w,A.h)}}),At.useEffect(()=>{S(!1)},[v]);const V=mj({height:i,width:i},b);let q=null;return v!=null&&(q=At.createElement("img",{src:v,key:v,style:{display:"none"},onLoad:()=>{S(!0)},ref:w,crossOrigin:A==null?void 0:A.crossOrigin})),At.createElement(At.Fragment,null,At.createElement("canvas",mj({style:V,height:i,width:i,ref:N,role:"img"},j)),q)});Twe.displayName="QRCodeCanvas";var _3=At.forwardRef(function(t,s){const a=t,{value:n,size:i=qR,level:l=YR,bgColor:o=XR,fgColor:c=JR,includeMargin:d=QR,minVersion:u=ZR,boostLevel:m,title:f,marginSize:h,imageSettings:x}=a,p=hj(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:b,cells:j,numCells:v,calculatedImageSettings:y}=rB({value:n,level:l,minVersion:u,boostLevel:m,includeMargin:d,marginSize:h,imageSettings:x,size:i});let w=j,N=null;x!=null&&y!=null&&(y.excavation!=null&&(w=tB(j,y.excavation)),N=At.createElement("image",{href:x.src,height:y.h,width:y.w,x:y.x+b,y:y.y+b,preserveAspectRatio:"none",opacity:y.opacity,crossOrigin:y.crossOrigin}));const k=eB(w,b);return At.createElement("svg",mj({height:i,width:i,viewBox:`0 0 ${v} ${v}`,ref:s,role:"img"},p),!!f&&At.createElement("title",null,f),At.createElement("path",{fill:o,d:`M0,0 h${v}v${v}H0z`,shapeRendering:"crispEdges"}),At.createElement("path",{fill:c,d:k,shapeRendering:"crispEdges"}),N)});_3.displayName="QRCodeSVG";const sB=({profile:e,partner:t,onClose:s})=>{var x,p,b,j,v;const a=g.useRef(null),n=async()=>{const y=a.current.querySelector("svg");let w="";if(y){const S=new XMLSerializer().serializeToString(y),P=new Blob([S],{type:"image/svg+xml;charset=utf-8"}),_=URL.createObjectURL(P),C=new Image;await new Promise(A=>{C.onload=()=>{const V=document.createElement("canvas");V.width=C.width,V.height=C.height,V.getContext("2d").drawImage(C,0,0),w=V.toDataURL("image/png"),URL.revokeObjectURL(_),A()},C.src=_})}const N=window.open("","_blank"),k=a.current.innerHTML.replace(/<svg[\s\S]*?<\/svg>/,`<img src="${w}" style="width: 80px; height: 80px; display: block;" />`);N.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Partner ID Card - Nexo</title>
          <style>
            @media print {
              @page {
                size: A4;
                margin: 0;
              }
              body {
                margin: 0;
                padding: 0;
                display: flex;
                justify-content: center;
                align-items: flex-start;
                min-height: 100vh;
                padding-top: 30px;
              }
              .id-card {
                transform: scale(1.8);
                transform-origin: top center;
                margin: 0 auto;
              }
            }
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
              background: #f5f5f5;
            }
            .id-card {
              width: 85.6mm;
              height: 53.98mm;
              background: linear-gradient(135deg, #214A73 0%, #2d5a8a 100%);
              border-radius: 12px;
              padding: 10px;
              box-shadow: 0 10px 40px rgba(33, 74, 115, 0.4);
              position: relative;
              overflow: hidden;
            }
            .id-card::before {
              content: '';
              position: absolute;
              top: -50%;
              right: -50%;
              width: 200%;
              height: 200%;
              background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%);
            }
            .id-card::after {
              content: '';
              position: absolute;
              bottom: 0;
              left: 0;
              right: 0;
              height: 3px;
              background: linear-gradient(90deg, #214A73 0%, #2d5a8a 50%, #214A73 100%);
            }
            .id-card-content {
              position: relative;
              z-index: 1;
              display: flex;
              height: 100%;
              background: white;
              border-radius: 8px;
              padding: 8px;
              box-shadow: inset 0 0 20px rgba(33, 74, 115, 0.1);
            }
            .id-card-left {
              flex: 1;
              display: flex;
              flex-direction: column;
              justify-content: space-between;
              padding-right: 8px;
            }
            .id-card-header {
              display: flex;
              align-items: center;
              gap: 6px;
              margin-bottom: 6px;
              padding-bottom: 6px;
              border-bottom: 2px solid #214A73;
            }
            .id-card-logo {
              width: 28px;
              height: 28px;
              background: linear-gradient(135deg, #214A73 0%, #2d5a8a 100%);
              border-radius: 4px;
              display: flex;
              align-items: center;
              justify-content: center;
              color: white;
              font-weight: 800;
              font-size: 11px;
              letter-spacing: 0.5px;
            }
            .id-card-title {
              font-size: 9px;
              font-weight: 800;
              color: #214A73;
              text-transform: uppercase;
              letter-spacing: 1.2px;
            }
            .id-card-photo {
              width: 65px;
              height: 65px;
              border-radius: 8px;
              border: 3px solid #214A73;
              object-fit: cover;
              margin: 6px 0;
              box-shadow: 0 2px 8px rgba(33, 74, 115, 0.2);
            }
            .id-card-name {
              font-size: 15px;
              font-weight: 800;
              color: #1a202c;
              margin-bottom: 4px;
              letter-spacing: 0.3px;
            }
            .id-card-details {
              font-size: 8.5px;
              color: #4a5568;
              line-height: 1.5;
            }
            .id-card-detail-item {
              margin-bottom: 3px;
              display: flex;
              align-items: center;
              gap: 4px;
            }
            .id-card-detail-item strong {
              color: #214A73;
              font-weight: 700;
              min-width: 45px;
            }
            .id-card-right {
              width: 85px;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              gap: 6px;
              border-left: 2px dashed #e2e8f0;
              padding-left: 8px;
            }
            .id-card-qr {
              width: 75px;
              height: 75px;
              padding: 5px;
              background: white;
              border-radius: 6px;
              border: 2px solid #214A73;
              display: flex;
              align-items: center;
              justify-content: center;
              box-shadow: 0 2px 8px rgba(33, 74, 115, 0.15);
            }
            .id-card-verified {
              font-size: 7px;
              color: #48bb78;
              text-align: center;
              font-weight: 700;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 3px;
              background: #f0fdf4;
              padding: 3px 6px;
              border-radius: 4px;
              border: 1px solid #86efac;
            }
            .id-card-id {
              font-size: 7.5px;
              color: #214A73;
              text-align: center;
              font-weight: 700;
              letter-spacing: 0.5px;
            }
            .id-card-footer {
              font-size: 6.5px;
              color: #718096;
              text-align: center;
              margin-top: 2px;
            }
          </style>
        </head>
        <body>
          ${k}
        </body>
      </html>
    `),N.document.close(),setTimeout(()=>{N.print()},250)},i=(e==null?void 0:e.id)||(t==null?void 0:t._id)||"unknown",l=`${window.location.origin}/verify/partner/${i}`,o=i!=="unknown"?i.toString().slice(-8).toUpperCase():"N/A",c=(e==null?void 0:e.name)||((x=t==null?void 0:t.profile)==null?void 0:x.name)||"Partner Name",d=(e==null?void 0:e.phone)||(t==null?void 0:t.phone)||"N/A",u=(e==null?void 0:e.city)||((p=t==null?void 0:t.profile)==null?void 0:p.city)||"N/A";e!=null&&e.email||(b=t==null?void 0:t.profile)!=null&&b.email;const m=(e==null?void 0:e.profilePicture)||(t==null?void 0:t.profilePicture)||null,f=m?m.startsWith("http")?m:`https://nexo.works/${m}`:null,h=((j=e==null?void 0:e.kyc)==null?void 0:j.status)==="approved"||((v=e==null?void 0:e.kyc)==null?void 0:v.status)==="verified";return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-lg w-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-primary mb-1",children:"Partner ID Card"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Professional identification card with QR verification"})]}),r.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"text-xl"})})]}),r.jsx("div",{className:"flex justify-center mb-6 bg-gradient-to-br from-slate-50 to-slate-100 p-8 rounded-xl",children:r.jsxs("div",{ref:a,className:"id-card",style:{width:"85.6mm",height:"53.98mm",background:"linear-gradient(135deg, #214A73 0%, #2d5a8a 100%)",borderRadius:"12px",padding:"10px",boxShadow:"0 10px 40px rgba(33, 74, 115, 0.4)",position:"relative",overflow:"hidden"},children:[r.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 20% 20%, rgba(255,255,255,0.15) 0%, transparent 50%)",pointerEvents:"none"}}),r.jsxs("div",{className:"id-card-content",style:{position:"relative",zIndex:1,display:"flex",height:"100%",background:"white",borderRadius:"8px",padding:"8px",boxShadow:"inset 0 0 20px rgba(33, 74, 115, 0.1)"},children:[r.jsx("div",{className:"id-card-left",style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",paddingRight:"8px"},children:r.jsxs("div",{children:[r.jsxs("div",{className:"id-card-header",style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"6px",paddingBottom:"6px",borderBottom:"2px solid #214A73"},children:[r.jsx("div",{className:"id-card-logo",style:{width:"28px",height:"28px",background:"linear-gradient(135deg, #214A73 0%, #2d5a8a 100%)",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:800,fontSize:"11px",letterSpacing:"0.5px"},children:"NEXO"}),r.jsx("div",{className:"id-card-title",style:{fontSize:"9px",fontWeight:800,color:"#214A73",textTransform:"uppercase",letterSpacing:"1.2px"},children:"Verified Partner"})]}),f?r.jsx("img",{src:f,alt:c,className:"id-card-photo",style:{width:"65px",height:"65px",borderRadius:"8px",border:"3px solid #214A73",objectFit:"cover",margin:"6px 0",boxShadow:"0 2px 8px rgba(33, 74, 115, 0.2)"}}):r.jsx("div",{className:"id-card-photo",style:{width:"65px",height:"65px",borderRadius:"8px",border:"3px solid #214A73",background:"linear-gradient(135deg, #214A73 0%, #2d5a8a 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"24px",margin:"6px 0",boxShadow:"0 2px 8px rgba(33, 74, 115, 0.2)"},children:c.charAt(0).toUpperCase()}),r.jsx("div",{className:"id-card-name",style:{fontSize:"15px",fontWeight:800,color:"#1a202c",marginBottom:"4px",letterSpacing:"0.3px"},children:c}),r.jsxs("div",{className:"id-card-details",style:{fontSize:"8.5px",color:"#4a5568",lineHeight:1.5},children:[r.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[r.jsx("strong",{style:{color:"#214A73",fontWeight:700,minWidth:"45px"},children:"ID:"}),r.jsx("span",{children:o})]}),r.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[r.jsx("strong",{style:{color:"#214A73",fontWeight:700,minWidth:"45px"},children:"Phone:"}),r.jsx("span",{children:d})]}),r.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[r.jsx("strong",{style:{color:"#214A73",fontWeight:700,minWidth:"45px"},children:"City:"}),r.jsx("span",{children:u})]})]})]})}),r.jsxs("div",{className:"id-card-right",style:{width:"85px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"6px",borderLeft:"2px dashed #e2e8f0",paddingLeft:"8px"},children:[r.jsx("div",{className:"id-card-qr",style:{width:"75px",height:"75px",padding:"5px",background:"white",borderRadius:"6px",border:"2px solid #214A73",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(33, 74, 115, 0.15)"},children:r.jsx(_3,{value:l,size:65,level:"H",includeMargin:!1})}),h&&r.jsxs("div",{className:"id-card-verified",style:{fontSize:"7px",color:"#48bb78",textAlign:"center",fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",gap:"3px",background:"#f0fdf4",padding:"3px 6px",borderRadius:"4px",border:"1px solid #86efac"},children:[r.jsx(It,{style:{fontSize:"8px"}}),"Verified"]}),r.jsx("div",{className:"id-card-id",style:{fontSize:"7.5px",color:"#214A73",textAlign:"center",fontWeight:700,letterSpacing:"0.5px"},children:"Scan to Verify"}),r.jsx("div",{className:"id-card-footer",style:{fontSize:"6.5px",color:"#718096",textAlign:"center",marginTop:"2px"},children:"nexo.works"})]})]})]})}),r.jsxs("div",{className:"flex gap-3 justify-center mt-6",children:[r.jsxs("button",{onClick:n,className:"px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2 shadow-lg",children:[r.jsx(Rg,{})," Print ID Card"]}),r.jsxs("button",{onClick:s,className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center gap-2",children:[r.jsx(ut,{})," Close"]})]}),r.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ni,{className:"text-primary text-xl flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-primary mb-1",children:"Verification Features"}),r.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[r.jsx("li",{children:" QR code links to public verification page"}),r.jsx("li",{children:" Anyone can scan to verify your partner status"}),r.jsx("li",{children:" Shows your verification status and credentials"}),r.jsx("li",{children:" Professional ID card format for printing"})]})]})]})})]})})},Ewe=[{header:"Date",accessor:"date"},{header:"Type",accessor:"type"},{header:"Amount",accessor:"amount"},{header:"Description",accessor:"description"},{header:"Balance",accessor:"balance"},{header:"Reference",accessor:"reference"}],_we=()=>{var L3,F3,R3,B3,$3,U3,z3,V3,H3,W3,G3,K3,q3,Y3,X3,J3,Q3,Z3,e5,t5,r5,s5,a5,n5,i5,l5,o5,c5,d5,u5,m5,h5,f5,p5,x5,g5,y5,b5,v5,j5,w5,N5,S5,k5,C5,P5;const{partnerId:e}=jg(),t=ms(),{token:s}=Ar(),[a,n]=g.useState(!1),[i,l]=g.useState("credit"),[o,c]=g.useState(""),[d,u]=g.useState(""),[m,f]=g.useState(""),[h,x]=g.useState(!1),[p,b]=g.useState(!1),[j,v]=g.useState(!1),[y,w]=g.useState([]),N=g.useRef(null),[k,S]=g.useState(!1),[P,_]=g.useState({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",partnerType:"individual",address:"",landmark:"",pincode:"",city:"",gstNumber:"",referralCode:"",categories:[],categoryNames:[],accountHolderName:"",accountNumber:"",ifscCode:"",bankName:"",kycStatus:"",kycRemarks:"",registerAmount:"",payId:"",paidBy:"",profileCompleted:!1}),[C,A]=g.useState([]),[V,q]=g.useState(!1),[Z,ue]=g.useState(!1),[me,Q]=g.useState(!1),[ae,oe]=g.useState(""),[R,O]=g.useState(""),[I,X]=g.useState(!1),[W,T]=g.useState(!1),[L,D]=g.useState({panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null}),[M,z]=g.useState(null),[se,ne]=g.useState(!1),[te,Re]=g.useState(!1),[Ce,Je]=g.useState([]),[Ge,Le]=g.useState(null),[mt,Tt]=g.useState(!1),[Pe,dt]=g.useState("cash"),[$e,Qe]=g.useState(""),[Xe,kt]=g.useState(""),[er,we]=g.useState(!1),[F,fe]=g.useState("cash"),[lt,Nt]=g.useState(""),[ye,qe]=g.useState(""),[st,St]=g.useState(!1),[de,he]=g.useState("cash"),[Te,ce]=g.useState(""),[U,ie]=g.useState(!1),[Ae,Ue]=g.useState(!1),[Me,le]=g.useState(!1),{data:Ne,isLoading:We,error:at}=Bt(K=>Fe.fetchPartnerDetails(K,e),[e]),{data:it,isLoading:Ot,refresh:Et}=Bt(K=>Fe.fetchPartnerEarnings(K,e),[e]),{data:et,isLoading:sr,error:rs,refresh:zr}=Bt(K=>Fe.fetchPartnerWallet(K,e),[e]),{data:B,isLoading:J,error:G}=Bt(K=>Fe.fetchFeeTransactions(K,{partnerId:e}),[e]),{data:Y,isLoading:ee,error:re,refresh:xe}=Bt(async K=>{var ke,jt;try{const ot=await Fe.fetchPartnerDetails(K,e),Dt=(ot==null?void 0:ot.partner)||(ot==null?void 0:ot.data)||{};console.log("Partner Details:",{partnerId:e,hasHubs:!!Dt.hubs,hubsCount:((ke=Dt.hubs)==null?void 0:ke.length)||0,hubs:Dt.hubs});const Kt=Dt.displayHubs||Dt.hubs||[],Lt=Kt.map(ma=>typeof ma=="object"&&ma._id?ma._id.toString():ma.toString());console.log("Assigned Hub IDs:",Lt),console.log("Using displayHubs:",!!Dt.displayHubs,"serviceHubs count:",((jt=Dt.serviceHubs)==null?void 0:jt.length)||0);const xr=await Fe.fetchHubs(K),Ht=(xr==null?void 0:xr.data)||[],Ss=Ht.map(ma=>({...ma,isAssigned:Lt.some(un=>{var Rn;return un.toString()===((Rn=ma._id)==null?void 0:Rn.toString())})})),Gu=Kt.map(ma=>typeof ma=="object"&&ma._id?{...ma,isAssigned:!0}:Ht.find(un=>{var Rn;return((Rn=un._id)==null?void 0:Rn.toString())===ma.toString()})).filter(Boolean);return{success:!0,data:Ss,assignedHubIds:Lt,assignedHubs:Gu}}catch(ot){if(ot.status===500||ot.status===404)return console.warn("Hubs fetch failed, returning empty array:",ot.message),{success:!0,data:[],assignedHubIds:[],assignedHubs:[]};throw ot}},[e]);g.useEffect(()=>{(async()=>{if(s){q(!0);try{const ke=await Fe.fetchCategories(s);ke.success&&ke.data&&A(ke.data)}catch(ke){console.error("Failed to fetch categories:",ke)}finally{q(!1)}}})()},[s]),g.useEffect(()=>{(async()=>{const ke=(Ne==null?void 0:Ne.partner)||{},ot={...(it==null?void 0:it.partner)||{},...ke};if(!(!s||!(ot!=null&&ot._id)))try{const Dt=await Fe.fetchMGPlans(s),Kt=Dt.plans||Dt.data||[],Lt=(ot==null?void 0:ot.partnerType)||"individual",xr=Kt.filter(Ht=>!Ht.partnerType||Ht.partnerType==="both"?!0:Ht.partnerType===Lt);Je(xr)}catch(Dt){console.error("Error fetching MG plans:",Dt)}})()},[s,Ne,it]);const De=async()=>{var ot,Dt,Kt,Lt,xr,Ht;const K=P.payId||((ot=H==null?void 0:H.profile)==null?void 0:ot.payId)||"",ke=P.registerAmount||((Dt=H==null?void 0:H.profile)==null?void 0:Dt.registerAmount)||0,jt=P.paidBy||((Kt=H==null?void 0:H.profile)==null?void 0:Kt.paidBy)||"Manual Approval";if(!K||K.trim()===""){alert("Please enter a Payment ID before approving");return}if(confirm(`Approve payment for ${((Lt=H==null?void 0:H.profile)==null?void 0:Lt.name)||"this partner"}?

Payment ID: ${K}
Amount: ${ke}
Paid By: ${jt}`)){Q(!0);try{const Ss={id:e,registerAmount:parseFloat(ke)||0,payId:K.trim(),paidBy:jt,securityDeposit:parseFloat(P.securityDeposit||((xr=H==null?void 0:H.profile)==null?void 0:xr.securityDeposit)||0),toolkitPrice:parseFloat(P.toolkitPrice||((Ht=H==null?void 0:H.profile)==null?void 0:Ht.toolkitPrice)||0),paymentApproved:!0,approvedBy:"Admin",approvedAt:new Date().toISOString()},Gu=await Fe.approvePartnerPayment(s,e,Ss);Gu.success?(alert("Payment approved successfully!"),window.location.reload()):alert("Failed to approve payment: "+(Gu.message||"Unknown error"))}catch(Ss){console.error("Payment approval error:",Ss),alert("Error approving payment: "+Ss.message)}finally{Q(!1)}}},ge=async K=>{if(K.preventDefault(),!o||!d){alert("Please fill all required fields");return}x(!0);try{await Fe.addWalletTransaction(s,{type:i,amount:Number(o),description:d,reference:m||void 0,paymentMode:de,transactionId:Te||void 0,partner:e}),c(""),u(""),f(""),he("cash"),ce(""),n(!1),zr(),Et(),alert("Transaction added successfully!")}catch(ke){alert(ke.message||"Failed to add transaction")}finally{x(!1)}},be=async()=>{if(F==="cash"&&!lt.trim()){alert("Please enter who collected the payment");return}if((F==="online"||F==="upi")&&!ye.trim()){alert("Please enter the transaction ID");return}St(!0);try{const K={paymentMethod:F,...F==="cash"?{collectedBy:lt}:{transactionId:ye}},jt=await(await fetch(`https://nexo.works/api/admin/partners/${e}/mg-plan/payment-details`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(K)})).json();jt.success?(alert("Payment details updated successfully!"),we(!1),fe("cash"),Nt(""),qe(""),window.location.reload()):alert(jt.message||"Failed to update payment details")}catch(K){console.error("Error updating payment details:",K),alert("Error updating payment details")}finally{St(!1)}},je=async()=>{if(!Ge){alert("Please select an MG plan");return}if(Pe==="cash"&&!$e.trim()){alert("Please enter who collected the payment");return}if((Pe==="online"||Pe==="upi")&&!Xe.trim()){alert("Please enter the transaction ID");return}Tt(!0);try{const K={paymentMethod:Pe,...Pe==="cash"?{collectedBy:$e}:{transactionId:Xe}},jt=await(await fetch(`https://nexo.works/api/admin/mg-plans/${Ge}/subscribe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({partnerId:e,...K})})).json();jt.success?(alert("MG Plan assigned successfully!"),Re(!1),Le(null),dt("cash"),Qe(""),kt(""),window.location.reload()):alert(jt.message||"Failed to assign MG plan")}catch(K){console.error("Error assigning MG plan:",K),alert("Error assigning MG plan")}finally{Tt(!1)}};g.useEffect(()=>{Y!=null&&Y.assignedHubIds&&w(Y.assignedHubIds.map(K=>K.toString()))},[Y]);const Ke=()=>{const K=(Y==null?void 0:Y.assignedHubIds)||[];w(K.map(ke=>ke.toString())),b(!0)},nt=K=>{const ke=K.toString();w(jt=>jt.includes(ke)?jt.filter(ot=>ot!==ke):[...jt,ke])},ft=async K=>{K.preventDefault(),v(!0);try{const jt=((Y==null?void 0:Y.data)||[]).filter(Lt=>Lt.isAssigned).map(Lt=>Lt._id.toString()),ot=y,Dt=ot.filter(Lt=>!jt.includes(Lt)),Kt=jt.filter(Lt=>!ot.includes(Lt));for(const Lt of Dt)await Fe.assignHubToPartner(s,Lt,e);for(const Lt of Kt)await Fe.unassignHubFromPartner(s,Lt,e);b(!1),xe(),window.location.reload()}catch(ke){alert(ke.message||"Failed to update hub assignments")}finally{v(!1)}},He=(Ne==null?void 0:Ne.partner)||{},ct=(it==null?void 0:it.partner)||{},H={...ct,...He},wt=(H==null?void 0:H.mgPlanSummary)||{};console.log("Partner Payment Data:",{partnerId:H==null?void 0:H._id,registerAmount:(L3=H==null?void 0:H.profile)==null?void 0:L3.registerAmount,payId:(F3=H==null?void 0:H.profile)==null?void 0:F3.payId,paidBy:(R3=H==null?void 0:H.profile)==null?void 0:R3.paidBy,registerdFee:(B3=H==null?void 0:H.profile)==null?void 0:B3.registerdFee,paymentApproved:($3=H==null?void 0:H.profile)==null?void 0:$3.paymentApproved,securityDeposit:(U3=H==null?void 0:H.profile)==null?void 0:U3.securityDeposit,toolkitPrice:(z3=H==null?void 0:H.profile)==null?void 0:z3.toolkitPrice});const ze=(H==null?void 0:H.profile)||{},Se=(H==null?void 0:H.kyc)||{},tt=(H==null?void 0:H.bankDetails)||{},ht=(H==null?void 0:H.terms)||(H==null?void 0:H.partnerTerms)||(H==null?void 0:H.termsAccepted)||((V3=H==null?void 0:H.onboardingData)==null?void 0:V3.terms)||{},li=(H==null?void 0:H.category)||(H==null?void 0:H.categories)||[],Ys=Array.isArray(li)?li:li?[li]:[],oi=(H==null?void 0:H.categoryNames)||[];console.log(" Partner Categories Debug:",{partnerId:H==null?void 0:H._id,hasCategoryField:!!(H!=null&&H.category),hasCategoriesField:!!(H!=null&&H.categories),categoryRaw:H==null?void 0:H.category,categoriesRaw:H==null?void 0:H.categories,categoryCount:Ys.length,categoryNamesCount:oi.length,categories:Ys,categoryNames:oi,fullPartnerKeys:Object.keys(He),earningsPartnerKeys:Object.keys(ct)});const Xs=g.useMemo(()=>{if(oi.length>0)return oi;const K=Ys.map(ke=>typeof ke=="object"&&ke!==null&&ke!==void 0&&(ke.name||ke.description)||null).filter(Boolean);if(K.length>0)return K;if(Ys.length>0&&C.length>0){const ke=Ys.map(jt=>{const ot=String(typeof jt=="object"&&jt!==null&&(jt._id||jt.id)||jt),Dt=C.find(Kt=>String(Kt._id||Kt.id||Kt)===ot);return(Dt==null?void 0:Dt.name)||null}).filter(Boolean);if(ke.length>0)return ke}return[]},[oi,Ys,C]);console.log("Final Display Category Names:",Xs,{partnerCategoryNames:oi,partnerCategoriesCount:Ys.length,categoriesCount:C.length});const O0=(H==null?void 0:H.service)||[],D0=(H==null?void 0:H.subcategory)||[],Ft=(H==null?void 0:H.mgPlan)||{},cB=()=>{var K,ke,jt,ot,Dt,Kt,Lt,xr;if(N.current){const Ht=window.open("","_blank"),Ss=(ke=(ht==null?void 0:ht.signature)||((K=H==null?void 0:H.terms)==null?void 0:K.signature))!=null&&ke.startsWith("data:")?(ht==null?void 0:ht.signature)||((jt=H==null?void 0:H.terms)==null?void 0:jt.signature):(Dt=(ht==null?void 0:ht.signature)||((ot=H==null?void 0:H.terms)==null?void 0:ot.signature))!=null&&Dt.startsWith("http")?(ht==null?void 0:ht.signature)||((Kt=H==null?void 0:H.terms)==null?void 0:Kt.signature):ht!=null&&ht.signature||(Lt=H==null?void 0:H.terms)!=null&&Lt.signature?`/uploads/signatures/${(ht==null?void 0:ht.signature)||((xr=H==null?void 0:H.terms)==null?void 0:xr.signature)}`:null;Ht.document.write(`
        <html>
          <head>
            <title>Partner Full Details - ${(ze==null?void 0:ze.name)||"N/A"}</title>
            <style>
              @media print {
                @page { 
                  size: A4;
                  margin: 18mm 15mm 15mm 15mm;
                }
                
                @page {
                  @top-center {
                    content: element(header);
                  }
                  @bottom-center {
                    content: element(footer);
                  }
                  counter-increment: page;
                }
                
                @page:first {
                  counter-reset: page 0;
                }
                
                .print-page-header {
                  position: running(header);
                  width: 100%;
                  height: 18mm;
                  min-height: 18mm;
                  max-height: 18mm;
                  background: linear-gradient(135deg, #214A73 0%, #0ea5a4 100%);
                  color: white;
                  padding: 5px 0;
                  display: flex;
                  align-items: center;
                  justify-content: space-between;
                  border-bottom: 2px solid #0ea5a4;
                  box-sizing: border-box;
                }
                
                .print-page-header-left {
                  display: flex;
                  align-items: center;
                  gap: 12px;
                  padding-left: 15mm;
                }
                
                .print-page-header-logo {
                  width: 40px;
                  height: 40px;
                  min-width: 40px;
                  min-height: 40px;
                  background: white;
                  border-radius: 6px;
                  padding: 6px;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  flex-shrink: 0;
                }
                
                .print-page-header-logo svg {
                  width: 100%;
                  height: 100%;
                }
                
                .print-page-header-text {
                  display: flex;
                  flex-direction: column;
                  flex: 1;
                }
                
                .print-page-header-text h1 {
                  font-size: 18px;
                  font-weight: bold;
                  margin: 0;
                  line-height: 1.1;
                  padding: 0;
                }
                
                .print-page-header-text p {
                  font-size: 9px;
                  margin: 0;
                  padding: 0;
                  opacity: 0.9;
                  line-height: 1.1;
                }
                
                .print-page-header-right {
                  text-align: right;
                  font-size: 9px;
                  flex-shrink: 0;
                  margin-left: 10px;
                  padding-right: 15mm;
                }
                
                .print-page-header-right .date {
                  font-weight: bold;
                  margin-bottom: 2px;
                  line-height: 1.2;
                }
                
                .print-page-footer {
                  position: running(footer);
                  width: 100%;
                  height: 15mm;
                  min-height: 15mm;
                  max-height: 15mm;
                  background: #f8fafc;
                  border-top: 2px solid #e2e8f0;
                  padding: 4px 0;
                  display: flex;
                  align-items: center;
                  justify-content: space-between;
                  font-size: 8px;
                  color: #64748b;
                  box-sizing: border-box;
                }
                
                .print-page-footer-left {
                  display: flex;
                  align-items: center;
                  gap: 8px;
                  padding-left: 15mm;
                }
                
                .print-page-footer-signature {
                  display: flex;
                  align-items: center;
                  gap: 8px;
                }
                
                .print-page-footer-signature {
                  display: flex !important;
                  align-items: center !important;
                  gap: 8px !important;
                }
                
                .print-page-footer-signature img {
                  max-width: 70px !important;
                  max-height: 30px !important;
                  width: auto !important;
                  height: auto !important;
                  border: 1px solid #cbd5e1 !important;
                  padding: 3px !important;
                  background: white !important;
                  object-fit: contain !important;
                  display: block !important;
                  flex-shrink: 0 !important;
                }
                
                @media print {
                  .print-page-footer-signature {
                    display: flex !important;
                    align-items: center !important;
                    gap: 8px !important;
                  }
                  
                  .print-page-footer-signature img {
                    display: block !important;
                    visibility: visible !important;
                    max-width: 70px !important;
                    max-height: 30px !important;
                  }
                }
                
                .print-page-footer-signature-text {
                  font-size: 8px;
                  color: #475569;
                  line-height: 1.2;
                }
                
                .print-page-footer-signature-text div {
                  margin: 0;
                  padding: 0;
                }
                
                .print-page-footer-right {
                  text-align: right;
                  font-size: 8px;
                  padding-right: 15mm;
                }
                
                .print-page-footer-right .page-info {
                  font-weight: bold;
                  color: #214A73;
                  margin-bottom: 2px;
                }
                
                .print-page-footer-right .page-info::after {
                  content: counter(page);
                }
                
                * { 
                  -webkit-print-color-adjust: exact !important;
                  print-color-adjust: exact !important;
                }
                
                body { 
                  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
                  font-size: 11px; 
                  line-height: 1.5; 
                  color: #1e293b;
                  margin: 0;
                  padding: 0;
                  background: white;
                }
                
                /* Ensure header and footer don't interfere with content */
                .print-content-wrapper {
                  position: relative;
                  z-index: 1;
                  margin: 0;
                  padding: 0;
                  width: 100%;
                  display: block;
                  visibility: visible;
                  opacity: 1;
                }
                
                /* Ensure first content section is visible */
                .print-content-wrapper > *:first-child {
                  margin-top: 0 !important;
                  padding-top: 0 !important;
                }
                
                /* Profile section specific fixes */
                .print-content-wrapper .print-section:first-of-type {
                  page-break-after: avoid;
                  margin-top: 0;
                }
                
                /* Hide header/footer in screen view, show only in print */
                .print-page-header,
                .print-page-footer {
                  display: none;
                }
                
                @media print {
                  body {
                    margin: 0;
                    padding: 0;
                    background: white;
                  }
                  
                  .print-page-header,
                  .print-page-footer {
                    display: flex !important;
                  }
                  
                  .print-content-wrapper {
                    display: block !important;
                    visibility: visible !important;
                    opacity: 1 !important;
                    width: 100% !important;
                    margin: 0 !important;
                    padding: 0 !important;
                  }
                  
                  /* Ensure all content is visible */
                  .print-content-wrapper * {
                    visibility: visible !important;
                  }
                  
                  /* Preserve layout structures */
                  .print-content-wrapper .print-section {
                    display: block !important;
                    visibility: visible !important;
                  }
                  
                  .print-content-wrapper .print-grid {
                    display: grid !important;
                    visibility: visible !important;
                  }
                  
                  .print-content-wrapper .print-label,
                  .print-content-wrapper .print-value {
                    display: block !important;
                    visibility: visible !important;
                  }
                  
                  /* Ensure flex containers work */
                  .print-content-wrapper [class*="flex"] {
                    display: flex !important;
                  }
                  
                  /* Ensure grid containers work */
                  .print-content-wrapper [class*="grid"] {
                    display: grid !important;
                  }
                  
                  /* Ensure tables are visible */
                  table {
                    display: table !important;
                    visibility: visible !important;
                  }
                  
                  tr {
                    display: table-row !important;
                  }
                  
                  td, th {
                    display: table-cell !important;
                  }
                }
                .print-header { 
                  border-bottom: 3px solid #000; 
                  padding-bottom: 15px; 
                  margin-bottom: 25px; 
                  display: flex;
                  align-items: center;
                  gap: 20px;
                }
                .print-logo {
                  width: 80px;
                  height: 80px;
                }
                .print-header-content {
                  flex: 1;
                }
                .print-header h1 {
                  font-size: 24px;
                  margin-bottom: 8px;
                }
                .print-section { 
                  margin-bottom: 20px; 
                  page-break-inside: auto; 
                  padding-bottom: 10px;
                  display: block;
                  visibility: visible;
                  opacity: 1;
                  width: 100%;
                }
                
                @media print {
                  .print-section { 
                    page-break-inside: auto;
                    break-inside: auto;
                    margin-bottom: 15px;
                    page-break-after: auto;
                    orphans: 3;
                    widows: 3;
                  }
                  
                  /* Ensure first section is visible */
                  .print-section:first-of-type {
                    margin-top: 0;
                    padding-top: 0;
                  }
                }
                .print-section-title { 
                  font-size: 16px; 
                  font-weight: bold; 
                  color: #1e293b; 
                  margin-bottom: 12px; 
                  border-bottom: 2px solid #e2e8f0; 
                  padding-bottom: 8px; 
                }
                .print-grid { 
                  display: grid; 
                  grid-template-columns: 1fr 1fr; 
                  gap: 12px 20px; 
                  margin-bottom: 15px;
                  width: 100%;
                }
                
                @media print {
                  .print-grid {
                    display: grid !important;
                    grid-template-columns: 1fr 1fr !important;
                    gap: 10px 15px !important;
                    margin-bottom: 12px !important;
                    width: 100% !important;
                    page-break-inside: auto;
                  }
                  
                  /* Ensure grid items are visible */
                  .print-grid > * {
                    display: block !important;
                    visibility: visible !important;
                    page-break-inside: avoid;
                    min-height: auto;
                  }
                }
                .print-label { 
                  font-weight: 600; 
                  color: #64748b; 
                  margin-bottom: 4px; 
                  font-size: 10px;
                  text-transform: uppercase;
                  letter-spacing: 0.5px;
                }
                .print-value { 
                  margin-bottom: 12px; 
                  color: #1e293b; 
                  font-size: 12px;
                }
                .print-full-width { 
                  grid-column: 1 / -1; 
                }
                table { 
                  width: 100%; 
                  border-collapse: collapse; 
                  margin-top: 15px; 
                  font-size: 10px; 
                }
                th, td { 
                  border: 1px solid #cbd5e1; 
                  padding: 10px; 
                  text-align: left; 
                }
                th { 
                  background-color: #f1f5f9; 
                  font-weight: bold; 
                  color: #475569;
                }
                .status-badge { 
                  display: inline-block; 
                  padding: 4px 10px; 
                  border-radius: 4px; 
                  font-size: 9px; 
                  font-weight: bold; 
                }
                .status-approved { 
                  background-color: #d1fae5 !important; 
                  color: #065f46 !important; 
                }
                .status-pending { 
                  background-color: #fef3c7 !important; 
                  color: #92400e !important; 
                }
                .status-rejected { 
                  background-color: #fee2e2 !important; 
                  color: #991b1b !important; 
                }
                .kyc-doc { 
                  margin: 5px 0; 
                  padding: 8px; 
                  background-color: #f8fafc; 
                  border-left: 3px solid #3b82f6; 
                }
                img {
                  max-width: 100%;
                  height: auto;
                  display: block;
                  page-break-inside: avoid;
                }
                /* KYC Documents Container */
                .kyc-documents-container {
                  display: flex !important;
                  flex-wrap: wrap !important;
                  gap: 15px !important;
                  align-items: flex-start !important;
                  justify-content: flex-start !important;
                  width: 100% !important;
                }
                
                /* KYC Document Cards */
                .kyc-doc {
                  flex: 0 0 auto !important;
                  width: 200px !important;
                  min-width: 180px !important;
                  max-width: 220px !important;
                  display: flex !important;
                  flex-direction: column !important;
                  margin: 0 !important;
                  vertical-align: top !important;
                  text-align: center !important;
                }
                
                .kyc-doc div[class*="aspect"] {
                  width: 100% !important;
                  max-height: 150px !important;
                  overflow: hidden !important;
                }
                
                .kyc-doc img {
                  max-width: 100% !important;
                  max-height: 150px !important;
                  width: 100% !important;
                  height: auto !important;
                  object-fit: contain !important;
                  border: 1px solid #cbd5e1 !important;
                  padding: 5px !important;
                  background: white !important;
                  display: block !important;
                  margin: 0 auto !important;
                }
                
                /* Ensure KYC document cards maintain structure */
                .kyc-doc > div {
                  width: 100% !important;
                }
                
                /* Grid Images */
                .grid img,
                div[class*="grid"] img {
                  max-width: 100% !important;
                  max-height: 150px !important;
                  width: auto !important;
                  height: auto !important;
                  object-fit: contain !important;
                  display: block !important;
                  margin: 5px auto !important;
                }
                
                /* Aspect Ratio Images */
                div[class*="aspect"] {
                  max-height: 150px !important;
                  overflow: visible !important;
                  margin: 5px 0 !important;
                }
                
                div[class*="aspect"] img {
                  max-width: 100% !important;
                  max-height: 150px !important;
                  width: auto !important;
                  height: auto !important;
                  object-fit: contain !important;
                  display: block !important;
                  margin: 0 auto !important;
                }
                
                /* Signature Images */
                .signature-image,
                img.signature-image {
                  max-width: 250px !important;
                  max-height: 100px !important;
                  border: 1px solid #cbd5e1 !important;
                  padding: 10px !important;
                  background: white !important;
                  object-fit: contain !important;
                  width: auto !important;
                  height: auto !important;
                  display: block !important;
                  margin: 0 auto !important;
                }
                
                /* Profile Images */
                img[alt="Profile"],
                .profile-image {
                  max-width: 120px !important;
                  max-height: 120px !important;
                  width: 120px !important;
                  height: 120px !important;
                  border-radius: 50% !important;
                  object-fit: cover !important;
                  border: 4px solid #e2e8f0 !important;
                  display: block !important;
                  margin: 0 auto !important;
                }
                
                /* Image Container Alignment */
                @media print {
                  /* Profile image container - use class-based selectors */
                  div[class*="flex"] {
                    display: flex !important;
                    align-items: center !important;
                    gap: 15px !important;
                  }
                  
                  /* KYC Documents Container - Print */
                  .kyc-documents-container {
                    display: flex !important;
                    flex-wrap: wrap !important;
                    gap: 15px !important;
                    align-items: flex-start !important;
                    justify-content: flex-start !important;
                    width: 100% !important;
                    page-break-inside: auto !important;
                  }
                  
                  /* KYC Document Cards - Print */
                  .kyc-doc {
                    flex: 0 0 auto !important;
                    width: 200px !important;
                    min-width: 180px !important;
                    max-width: 220px !important;
                    display: flex !important;
                    flex-direction: column !important;
                    margin: 0 !important;
                    vertical-align: top !important;
                    text-align: center !important;
                    page-break-inside: avoid !important;
                    page-break-after: auto !important;
                  }
                  
                  .kyc-doc img {
                    max-width: 100% !important;
                    max-height: 150px !important;
                    width: 100% !important;
                    height: auto !important;
                    object-fit: contain !important;
                    page-break-inside: avoid !important;
                  }
                  
                  /* Grid containers */
                  .grid,
                  div[class*="grid"] {
                    display: grid !important;
                    gap: 15px !important;
                    align-items: start !important;
                    margin: 10px 0 !important;
                  }
                  
                  /* Grid with images - responsive columns */
                  .grid img,
                  div[class*="grid"] img {
                    max-width: 180px !important;
                  }
                  
                  /* Ensure images don't break across pages */
                  img {
                    page-break-inside: avoid !important;
                    page-break-after: auto !important;
                    display: block !important;
                  }
                  
                  /* Document sections with images */
                  .print-section {
                    page-break-inside: auto !important;
                  }
                  
                  /* Better spacing for sections with images */
                  .print-section .kyc-doc,
                  .print-section img {
                    margin-bottom: 10px !important;
                  }
                }
                .terms-full-text {
                  margin-top: 20px;
                  padding: 15px;
                  background: #f8fafc;
                  border: 1px solid #e2e8f0;
                  border-radius: 8px;
                  font-size: 11px;
                  line-height: 1.6;
                  color: #334155;
                }
                .terms-full-text h4 {
                  font-size: 12px;
                  font-weight: bold;
                  margin-top: 12px;
                  margin-bottom: 6px;
                  color: #1e293b;
                }
                .terms-full-text ol,
                .terms-full-text ul {
                  margin-left: 20px;
                  margin-top: 8px;
                  margin-bottom: 8px;
                }
                .terms-full-text li {
                  margin-bottom: 4px;
                }
                .terms-full-text .penalty-table {
                  background: #fff7ed;
                  border: 1px solid #fed7aa;
                  padding: 10px;
                  border-radius: 6px;
                  margin-top: 10px;
                  width: 100%;
                }
                .penalty-box {
                  background: #fff7f0;
                  border: 1px solid #ffd8b5;
                  padding: 10px;
                  border-radius: 6px;
                  margin-top: 10px;
                }
              }
            </style>
          </head>
          <body>
            <!-- Print Header (appears on every page) -->
            <div class="print-page-header">
              <div class="print-page-header-left">
                <div class="print-page-header-logo">
                  <svg width="60" height="60" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z" stroke="#214A73" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <path d="M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z" stroke="#214A73" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <path d="M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z" stroke="#214A73" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <path d="M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z" stroke="#214A73" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <circle cx="24" cy="24" r="4" fill="#214A73"/>
      </svg>
                </div>
                <div class="print-page-header-text">
                  <h1>NEXO</h1>
                  <p>Partner Details Document</p>
                </div>
              </div>
              <div class="print-page-header-right">
                <div class="date">${new Date().toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})}</div>
                <div>Partner ID: ${(e==null?void 0:e.toString().slice(-8))||"N/A"}</div>
              </div>
            </div>
            
            <!-- Print Footer (appears on every page) -->
            <div class="print-page-footer">
              <div class="print-page-footer-left">
                ${Ss?`
                  <div class="print-page-footer-signature">
                    <img src="${Ss}" alt="Partner Signature" onerror="this.style.display='none'" />
                    <div class="print-page-footer-signature-text">
                      <div><strong>Partner Signature</strong></div>
                      <div>${(ze==null?void 0:ze.name)||"Partner"}</div>
                    </div>
                  </div>
                `:`
                  <div class="print-page-footer-signature-text">
                    <div><strong>NEXO Partner Platform</strong></div>
                    <div>Official Document</div>
                  </div>
                `}
              </div>
              <div class="print-page-footer-right">
                <div class="page-info">Page </div>
                <div>www.nexo.works</div>
              </div>
            </div>
            
            <!-- Main Content -->
            <div class="print-content-wrapper">
              ${N.current.innerHTML}
            </div>
          </body>
        </html>
      `),Ht.document.close(),Ht.focus(),setTimeout(()=>{const ma=Ht.document.querySelectorAll("img");let un=0;const Rn=ma.length;if(Rn===0){Ht.print(),setTimeout(()=>Ht.close(),100);return}ma.forEach(Ku=>{if(Ku.src.startsWith("data:")){un++,un===Rn&&(Ht.print(),setTimeout(()=>Ht.close(),100));return}const Il=new Image;Il.crossOrigin="anonymous",Il.onload=()=>{try{const td=document.createElement("canvas");td.width=Il.width,td.height=Il.height,td.getContext("2d").drawImage(Il,0,0),Ku.src=td.toDataURL("image/png"),un++,un===Rn&&(Ht.print(),setTimeout(()=>Ht.close(),100))}catch(td){console.warn("Failed to convert image:",td),un++,un===Rn&&(Ht.print(),setTimeout(()=>Ht.close(),100))}},Il.onerror=()=>{un++,un===Rn&&(Ht.print(),setTimeout(()=>Ht.close(),100))},Ku.src.startsWith("/")?Il.src=window.location.origin+Ku.src:Il.src=Ku.src})},500)}},M0=(it==null?void 0:it.transactions)||(it==null?void 0:it.bookings)||((H3=it==null?void 0:it.data)==null?void 0:H3.transactions)||[],I3=(it==null?void 0:it.totalEarnings)||((W3=it==null?void 0:it.data)==null?void 0:W3.totalEarnings)||0,ua=(et==null?void 0:et.data)||et||{},ed=(ua==null?void 0:ua.balance)||0,O3=(ua==null?void 0:ua.transactions)||((G3=ua==null?void 0:ua.data)==null?void 0:G3.transactions)||[],L0=(Y==null?void 0:Y.data)||[],D3=(Y==null?void 0:Y.assignedHubs)||[],tb=D3.length>0?D3:L0.filter(K=>K.isAssigned),F0=(ua==null?void 0:ua.minWalletBalance)??wt.minWalletBalance??0,M3=(ua==null?void 0:ua.leadFee)??wt.leadFee??0,dB=ed<F0?`Wallet below minimum threshold (${F0}). Recharge to resume lead notifications.`:`Wallet healthy. Minimum required: ${F0}`,rb=wt.leadsGuaranteed??0,sb=wt.leadsUsed??0,uB=wt.leadsRemaining??Math.max(rb-sb,0),mB=wt.refundStatus||"pending";M0.map(K=>{var ke,jt;return{bookingId:((ke=K.bookingId)==null?void 0:ke.toString().slice(-8))||"N/A",customerName:((jt=K.user)==null?void 0:jt.name)||"N/A",serviceName:K.subService||K.service||"N/A",totalAmount:`${(K.totalAmount||0).toLocaleString("en-IN")}`,commissionAmount:`${(K.commissionAmount||0).toLocaleString("en-IN")}`,partnerEarnings:`${(K.partnerEarnings||0).toLocaleString("en-IN")}`,completedAt:K.completedAt?new Date(K.completedAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A"}});const hB=O3.map((K,ke)=>({id:K._id||K.id||`txn-${ke}`,date:K.createdAt?new Date(K.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):new Date().toLocaleDateString("en-IN"),type:r.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${K.type==="credit"?"bg-emerald-500/10 text-emerald-600":"bg-rose-500/10 text-rose-600"}`,children:K.type==="credit"?"Credit":"Debit"}),amount:`${(K.amount||0).toLocaleString("en-IN")}`,description:K.description||"N/A",balance:`${(K.balance||0).toLocaleString("en-IN")}`,reference:K.reference||"N/A"}));return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>t("/admin/partners"),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(Lg,{className:"w-5 h-5 text-slate-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:(ze==null?void 0:ze.name)||"Partner Details"}),r.jsxs("p",{className:"text-sm text-slate-500",children:["Partner ID: ",(e==null?void 0:e.toString().slice(-8))||"N/A"]})]})]}),r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[r.jsxs("div",{className:"relative group",children:[r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition font-semibold",children:[r.jsx(Qt,{className:"w-5 h-5"}),"Wallet",r.jsx("span",{className:"text-xs ml-1",children:""})]}),r.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-slate-200 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50",children:r.jsxs("div",{className:"p-2",children:[r.jsxs("div",{className:"px-3 py-2 mb-2 bg-slate-50 rounded",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Current Balance"}),r.jsxs("p",{className:"text-lg font-bold text-slate-900",children:["",ed.toLocaleString("en-IN")]})]}),r.jsxs("button",{onClick:()=>{l("credit"),n(!0)},className:"w-full text-left px-4 py-2.5 hover:bg-slate-50 flex items-center gap-2 text-sm rounded transition",children:[r.jsx(Mr,{className:"w-4 h-4 text-emerald-600"}),r.jsx("span",{children:"Add Funds"})]}),r.jsxs("button",{onClick:()=>{l("debit"),n(!0)},className:"w-full text-left px-4 py-2.5 hover:bg-slate-50 flex items-center gap-2 text-sm rounded transition",children:[r.jsx(i2,{className:"w-4 h-4 text-rose-600"}),r.jsx("span",{children:"Deduct Funds"})]}),r.jsx("div",{className:"border-t border-slate-200 my-1"}),r.jsxs("button",{onClick:()=>ie(!0),className:"w-full text-left px-4 py-2.5 hover:bg-slate-50 flex items-center gap-2 text-sm rounded transition",children:[r.jsx(wc,{className:"w-4 h-4 text-blue-600"}),r.jsx("span",{children:"View Wallet Transactions"})]}),r.jsxs("button",{onClick:()=>Ue(!0),className:"w-full text-left px-4 py-2.5 hover:bg-slate-50 flex items-center gap-2 text-sm rounded transition",children:[r.jsx(zs,{className:"w-4 h-4 text-purple-600"}),r.jsx("span",{children:"View Fee Transactions"})]})]})})]}),Se&&r.jsxs("div",{className:"flex items-center gap-2",children:[Se.status!=="approved"&&r.jsxs("button",{onClick:async()=>{if(window.confirm("Approve KYC for this partner?"))try{await Fe.updatePartnerProfile(s,e,{kycStatus:"approved",kycRemarks:"Approved by admin"}),window.location.reload()}catch(K){alert(K.message||"Failed to approve KYC")}},className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition font-semibold",children:[r.jsx(It,{className:"w-5 h-5"}),"Approve KYC"]}),Se.status!=="rejected"&&r.jsxs("button",{onClick:async()=>{const K=prompt("Enter rejection reason:");if(K)try{await Fe.updatePartnerProfile(s,e,{kycStatus:"rejected",kycRemarks:K}),window.location.reload()}catch(ke){alert(ke.message||"Failed to reject KYC")}},className:"flex items-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition font-semibold",children:[r.jsx(Sc,{className:"w-5 h-5"}),"Reject KYC"]})]}),r.jsxs("button",{onClick:()=>X(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold",children:[r.jsx(oo,{className:"w-5 h-5"}),"Update KYC"]}),r.jsxs("button",{onClick:()=>T(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-semibold",children:[r.jsx(wh,{className:"w-5 h-5"}),"Profile Image"]}),r.jsxs("button",{onClick:()=>{var K,ke,jt,ot,Dt,Kt,Lt,xr,Ht;_({name:(ze==null?void 0:ze.name)||"",email:(ze==null?void 0:ze.email)||"",phone:(H==null?void 0:H.phone)||"",whatsappNumber:(H==null?void 0:H.whatsappNumber)||"",qualification:(H==null?void 0:H.qualification)||"",experience:((K=H==null?void 0:H.experience)==null?void 0:K.toString())||"",partnerType:(H==null?void 0:H.partnerType)||"individual",address:(ze==null?void 0:ze.address)||"",landmark:(ze==null?void 0:ze.landmark)||"",pincode:(ze==null?void 0:ze.pincode)||"",city:(ze==null?void 0:ze.city)||"",gstNumber:(ze==null?void 0:ze.gstNumber)||(H==null?void 0:H.gstNumber)||"",referralCode:(H==null?void 0:H.referralCode)||"",categories:Ys.map(Ss=>Ss._id||Ss.id||Ss).filter(Boolean),categoryNames:Xs,accountHolderName:(tt==null?void 0:tt.accountHolderName)||"",accountNumber:(tt==null?void 0:tt.accountNumber)||"",ifscCode:(tt==null?void 0:tt.ifscCode)||"",bankName:(tt==null?void 0:tt.bankName)||"",kycStatus:(Se==null?void 0:Se.status)||"",kycRemarks:(Se==null?void 0:Se.remarks)||"",registerAmount:((jt=(ke=H==null?void 0:H.profile)==null?void 0:ke.registerAmount)==null?void 0:jt.toString())||"",payId:((ot=H==null?void 0:H.profile)==null?void 0:ot.payId)||"",paidBy:((Dt=H==null?void 0:H.profile)==null?void 0:Dt.paidBy)||"",securityDeposit:((Lt=(Kt=H==null?void 0:H.profile)==null?void 0:Kt.securityDeposit)==null?void 0:Lt.toString())||"",toolkitPrice:((Ht=(xr=H==null?void 0:H.profile)==null?void 0:xr.toolkitPrice)==null?void 0:Ht.toString())||"",profileCompleted:(H==null?void 0:H.profileCompleted)||!1}),S(!0),oe(""),O("")},className:"flex items-center gap-2 px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition font-semibold",children:[r.jsx(os,{className:"w-5 h-5"}),"Update Details"]}),r.jsxs("button",{onClick:cB,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold",children:[r.jsx(Rg,{className:"w-5 h-5"}),"Print"]}),r.jsxs("button",{onClick:()=>le(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-semibold",children:[r.jsx(Ya,{className:"w-5 h-5"}),"ID Card"]})]})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6 mb-8",ref:N,children:[r.jsxs("div",{className:"print-header hidden print:block mb-6",children:[r.jsx("div",{className:"print-logo",children:r.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z",stroke:"#214A73",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),r.jsx("path",{d:"M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z",stroke:"#214A73",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),r.jsx("path",{d:"M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z",stroke:"#214A73",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),r.jsx("path",{d:"M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z",stroke:"#214A73",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),r.jsx("circle",{cx:"24",cy:"24",r:"4",fill:"#214A73"})]})}),r.jsxs("div",{className:"print-header-content",children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Nexo - Partner Full Details Report"}),r.jsxs("p",{className:"text-sm text-slate-600",children:["Generated on ",new Date().toLocaleString("en-IN")]}),r.jsxs("p",{className:"text-sm text-slate-600",children:["Partner ID: ",e]})]})]}),(We||Ot)&&!(He!=null&&He._id)?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),r.jsx("p",{className:"text-slate-500",children:"Loading partner details..."})]}):at?r.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg text-sm",children:["Error loading partner details: ",at]}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"print-section",children:[r.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[r.jsx(Ws,{className:"w-5 h-5"}),"Basic Information"]}),((ze==null?void 0:ze.profileImage)||(H==null?void 0:H.profilePicture))&&r.jsxs("div",{className:"mb-6 flex items-center gap-4 pb-6 border-b border-slate-200",children:[r.jsx("div",{className:"relative",children:r.jsx("img",{src:(K3=(ze==null?void 0:ze.profileImage)||(H==null?void 0:H.profilePicture))!=null&&K3.startsWith("http")?(ze==null?void 0:ze.profileImage)||(H==null?void 0:H.profilePicture):`/uploads/profiles/${(ze==null?void 0:ze.profileImage)||(H==null?void 0:H.profilePicture)}`,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-slate-200 profile-image",onError:K=>{K.target.src="https://via.placeholder.com/150?text=No+Image"}})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500",children:"Profile Picture"}),r.jsx("a",{href:(q3=(ze==null?void 0:ze.profileImage)||(H==null?void 0:H.profilePicture))!=null&&q3.startsWith("http")?(ze==null?void 0:ze.profileImage)||(H==null?void 0:H.profilePicture):`/uploads/profiles/${(ze==null?void 0:ze.profileImage)||(H==null?void 0:H.profilePicture)}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline",children:"View Full Size"})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-x-8 gap-y-4 print-grid",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Full Name"}),r.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(ze==null?void 0:ze.name)||"N/A"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Email"}),r.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(ze==null?void 0:ze.email)||"N/A"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Phone Number"}),r.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(H==null?void 0:H.phone)||"N/A"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"WhatsApp Number"}),r.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(H==null?void 0:H.whatsappNumber)||"N/A"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Qualification"}),r.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(H==null?void 0:H.qualification)||"N/A"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Experience (Years)"}),r.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(H==null?void 0:H.experience)||"N/A"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Referral Code"}),r.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(H==null?void 0:H.referralCode)||"N/A"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"GST Number"}),r.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(ze==null?void 0:ze.gstNumber)||(H==null?void 0:H.gstNumber)||"Not Provided"})]}),r.jsxs("div",{className:"md:col-span-2 space-y-1 print-full-width",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Address"}),r.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(ze==null?void 0:ze.address)||"N/A"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Landmark"}),r.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(ze==null?void 0:ze.landmark)||"N/A"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Pincode"}),r.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(ze==null?void 0:ze.pincode)||"N/A"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"City"}),r.jsx("p",{className:"text-base text-slate-900 print-value font-medium",children:(ze==null?void 0:ze.city)||"N/A"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Profile Status"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${H!=null&&H.profileCompleted?"bg-emerald-500/10 text-emerald-600 status-badge status-approved":"bg-amber-500/10 text-amber-600 status-badge status-pending"}`,children:H!=null&&H.profileCompleted?"COMPLETED":"INCOMPLETE"}),r.jsx("button",{onClick:async()=>{const K=!(H!=null&&H.profileCompleted),ke=K?"Mark this profile as COMPLETED?":"Mark this profile as INCOMPLETE?";if(window.confirm(ke))try{ue(!0),await Fe.updatePartnerProfile(s,e,{profileCompleted:K}),alert("Profile status updated successfully!"),window.location.reload()}catch(jt){alert("Failed to update profile status: "+jt.message)}finally{ue(!1)}},className:"print:hidden p-1.5 text-slate-600 hover:text-primary hover:bg-slate-100 rounded-lg transition",title:"Toggle Profile Status",children:r.jsx(os,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Partner Type"}),r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${(H==null?void 0:H.partnerType)==="franchise"?"bg-purple-500/10 text-purple-600 status-badge":"bg-blue-500/10 text-blue-600 status-badge"}`,children:(H==null?void 0:H.partnerType)==="franchise"?"FRANCHISE":"INDIVIDUAL"})]})]})]}),r.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[r.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[r.jsx(Bs,{className:"w-5 h-5"}),"Service Information"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[r.jsxs("div",{className:"md:col-span-2 print-full-width",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Categories"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Xs.length>0?Xs.map((K,ke)=>r.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-semibold",children:K},ke)):r.jsx("span",{className:"text-slate-500",children:"No categories selected"})})]}),D0.length>0&&r.jsxs("div",{className:"md:col-span-2 print-full-width",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Sub-Categories"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:D0.map((K,ke)=>r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:(K==null?void 0:K.name)||"N/A"},ke))})]}),O0.length>0&&r.jsxs("div",{className:"md:col-span-2 print-full-width",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Services"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:O0.map((K,ke)=>r.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:(K==null?void 0:K.name)||"N/A"},ke))})]}),(H==null?void 0:H.modeOfService)&&r.jsxs("div",{className:"md:col-span-2 print-full-width",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Mode of Service"}),r.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-semibold capitalize",children:H.modeOfService==="online"?"Online":H.modeOfService==="offline"?"Offline":H.modeOfService})]})]})]}),r.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[r.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[r.jsx(Vt,{className:"w-5 h-5"}),"KYC Documents & Status"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"KYC Status"}),r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${(Se==null?void 0:Se.status)==="approved"||(H==null?void 0:H.status)==="approved"?"bg-emerald-500/10 text-emerald-600 status-badge status-approved":(Se==null?void 0:Se.status)==="rejected"||(H==null?void 0:H.status)==="rejected"?"bg-rose-500/10 text-rose-600 status-badge status-rejected":"bg-amber-500/10 text-amber-600 status-badge status-pending"}`,children:((Se==null?void 0:Se.status)||(H==null?void 0:H.status)||"pending").toUpperCase()})]}),(Se==null?void 0:Se.remarks)&&r.jsxs("div",{className:"md:col-span-2 print-full-width",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"KYC Remarks"}),r.jsx("p",{className:"text-base text-slate-900 print-value",children:Se.remarks})]}),r.jsxs("div",{className:"md:col-span-2 print-full-width",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-4 print-label",children:"KYC Documents"}),r.jsxs("div",{className:"flex flex-wrap gap-4 kyc-documents-container",children:[(Se==null?void 0:Se.panCard)&&r.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[r.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[r.jsx("img",{src:Se.panCard.startsWith("http")?Se.panCard:`/uploads/kyc/${Se.panCard}`,alt:"PAN Card",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:K=>{K.target.style.display="none",K.target.nextSibling&&(K.target.nextSibling.style.display="flex")}}),r.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:r.jsx(Vt,{className:"w-12 h-12 text-slate-400"})})]}),r.jsxs("div",{className:"p-3 bg-white",children:[r.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"PAN Card"}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Identity Document"})]}),r.jsx("a",{href:Se.panCard.startsWith("http")?Se.panCard:`/uploads/kyc/${Se.panCard}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),(Se==null?void 0:Se.aadhaar)&&r.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[r.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[r.jsx("img",{src:Se.aadhaar.startsWith("http")?Se.aadhaar:`/uploads/kyc/${Se.aadhaar}`,alt:"Aadhaar Front",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:K=>{K.target.style.display="none",K.target.nextSibling&&(K.target.nextSibling.style.display="flex")}}),r.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:r.jsx(Vt,{className:"w-12 h-12 text-slate-400"})})]}),r.jsxs("div",{className:"p-3 bg-white",children:[r.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Aadhaar (Front)"}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Identity Document"})]}),r.jsx("a",{href:Se.aadhaar.startsWith("http")?Se.aadhaar:`/uploads/kyc/${Se.aadhaar}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),(Se==null?void 0:Se.aadhaarback)&&r.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[r.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[r.jsx("img",{src:Se.aadhaarback.startsWith("http")?Se.aadhaarback:`/uploads/kyc/${Se.aadhaarback}`,alt:"Aadhaar Back",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:K=>{K.target.style.display="none",K.target.nextSibling&&(K.target.nextSibling.style.display="flex")}}),r.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:r.jsx(Vt,{className:"w-12 h-12 text-slate-400"})})]}),r.jsxs("div",{className:"p-3 bg-white",children:[r.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Aadhaar (Back)"}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Identity Document"})]}),r.jsx("a",{href:Se.aadhaarback.startsWith("http")?Se.aadhaarback:`/uploads/kyc/${Se.aadhaarback}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),(Se==null?void 0:Se.drivingLicence)&&r.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[r.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[r.jsx("img",{src:Se.drivingLicence.startsWith("http")?Se.drivingLicence:`/uploads/kyc/${Se.drivingLicence}`,alt:"Driving Licence",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:K=>{K.target.style.display="none",K.target.nextSibling&&(K.target.nextSibling.style.display="flex")}}),r.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:r.jsx(Vt,{className:"w-12 h-12 text-slate-400"})})]}),r.jsxs("div",{className:"p-3 bg-white",children:[r.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Driving Licence"}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Identity Document"})]}),r.jsx("a",{href:Se.drivingLicence.startsWith("http")?Se.drivingLicence:`/uploads/kyc/${Se.drivingLicence}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),(Se==null?void 0:Se.bill)&&r.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[r.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[r.jsx("img",{src:Se.bill.startsWith("http")?Se.bill:`/uploads/kyc/${Se.bill}`,alt:"Utility Bill",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:K=>{K.target.style.display="none",K.target.nextSibling&&(K.target.nextSibling.style.display="flex")}}),r.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:r.jsx(Vt,{className:"w-12 h-12 text-slate-400"})})]}),r.jsxs("div",{className:"p-3 bg-white",children:[r.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Utility Bill"}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Address Proof"})]}),r.jsx("a",{href:Se.bill.startsWith("http")?Se.bill:`/uploads/kyc/${Se.bill}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]}),((Se==null?void 0:Se.chequeImage)||(tt==null?void 0:tt.chequeImage))&&r.jsxs("div",{className:"group relative bg-slate-50 rounded-lg border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow kyc-doc",children:[r.jsxs("div",{className:"aspect-[4/3] relative",style:{maxHeight:"128px",overflow:"hidden"},children:[r.jsx("img",{src:(Y3=(Se==null?void 0:Se.chequeImage)||(tt==null?void 0:tt.chequeImage))!=null&&Y3.startsWith("http")||(X3=(Se==null?void 0:Se.chequeImage)||(tt==null?void 0:tt.chequeImage))!=null&&X3.includes("s3.amazonaws.com")?(Se==null?void 0:Se.chequeImage)||(tt==null?void 0:tt.chequeImage):`/uploads/kyc/${(Se==null?void 0:Se.chequeImage)||(tt==null?void 0:tt.chequeImage)}`,alt:"Cancelled Cheque",className:"w-full h-full object-cover",style:{maxHeight:"128px",width:"100%",height:"auto"},onError:K=>{K.target.style.display="none",K.target.nextSibling&&(K.target.nextSibling.style.display="flex")}}),r.jsx("div",{className:"hidden absolute inset-0 bg-slate-100 items-center justify-center",children:r.jsx(Vt,{className:"w-12 h-12 text-slate-400"})})]}),r.jsxs("div",{className:"p-3 bg-white",children:[r.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Cancelled Cheque"}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Bank Proof"})]}),r.jsx("a",{href:(J3=(Se==null?void 0:Se.chequeImage)||(tt==null?void 0:tt.chequeImage))!=null&&J3.startsWith("http")||(Q3=(Se==null?void 0:Se.chequeImage)||(tt==null?void 0:tt.chequeImage))!=null&&Q3.includes("s3.amazonaws.com")?(Se==null?void 0:Se.chequeImage)||(tt==null?void 0:tt.chequeImage):`/uploads/kyc/${(Se==null?void 0:Se.chequeImage)||(tt==null?void 0:tt.chequeImage)}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 z-10",title:"Click to view full size"})]})]})]})]})]}),r.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[r.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[r.jsx(zs,{className:"w-5 h-5"}),"Payment Information"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Registration Amount"}),r.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(((Z3=H==null?void 0:H.profile)==null?void 0:Z3.registerAmount)||0).toLocaleString("en-IN")]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Payment ID"}),r.jsx("p",{className:"text-base text-slate-900 print-value font-mono",children:((e5=H==null?void 0:H.profile)==null?void 0:e5.payId)||"Not Provided"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Security Deposit"}),r.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(((t5=H==null?void 0:H.profile)==null?void 0:t5.securityDeposit)||0).toLocaleString("en-IN")]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Toolkit Price"}),r.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(((r5=H==null?void 0:H.profile)==null?void 0:r5.toolkitPrice)||0).toLocaleString("en-IN")]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Paid By"}),r.jsx("p",{className:"text-base text-slate-900 print-value",children:((s5=H==null?void 0:H.profile)==null?void 0:s5.paidBy)||"Not Specified"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Payment Status"}),(a5=H==null?void 0:H.profile)!=null&&a5.paymentApproved?r.jsx("p",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold print-value bg-emerald-500/10 text-emerald-600",children:"Paid"}):r.jsxs("button",{onClick:De,disabled:me,className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-amber-500/10 text-amber-600 hover:bg-amber-500/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[me?r.jsx(of,{className:"w-3 h-3 animate-spin mr-1"}):null,me?"Verifying...":"Verify Payment"]})]})]})]}),((H==null?void 0:H.terms)||(ht==null?void 0:ht.signature)||(ht==null?void 0:ht.accepted))&&r.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[r.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[r.jsx(Vt,{className:"w-5 h-5"}),"Terms & Conditions Acceptance"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Terms Accepted"}),r.jsx("p",{className:"text-base text-slate-900 print-value",children:ht.accepted||(n5=H==null?void 0:H.terms)!=null&&n5.accepted?r.jsxs("span",{className:"inline-flex items-center gap-2 text-emerald-600 font-semibold",children:[r.jsx(It,{className:"w-5 h-5"}),"Accepted"]}):r.jsx("span",{className:"text-slate-400",children:"Not Accepted"})})]}),(ht.acceptedAt||((i5=H==null?void 0:H.terms)==null?void 0:i5.acceptedAt))&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Accepted On"}),r.jsx("p",{className:"text-base text-slate-900 print-value",children:new Date(ht.acceptedAt||((l5=H==null?void 0:H.terms)==null?void 0:l5.acceptedAt)).toLocaleString("en-IN")})]}),(ht.signature||((o5=H==null?void 0:H.terms)==null?void 0:o5.signature))&&r.jsxs("div",{className:"md:col-span-2 print-full-width",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Digital Signature"}),r.jsx("img",{src:(d5=ht.signature||((c5=H==null?void 0:H.terms)==null?void 0:c5.signature))!=null&&d5.startsWith("data:")?ht.signature||((u5=H==null?void 0:H.terms)==null?void 0:u5.signature):(h5=ht.signature||((m5=H==null?void 0:H.terms)==null?void 0:m5.signature))!=null&&h5.startsWith("http")?ht.signature||((f5=H==null?void 0:H.terms)==null?void 0:f5.signature):`/uploads/signatures/${ht.signature||((p5=H==null?void 0:H.terms)==null?void 0:p5.signature)}`,alt:"Partner Signature",className:"signature-image",style:{maxWidth:"250px",maxHeight:"100px",objectFit:"contain"},onError:K=>{K.target.style.display="none"}})]}),r.jsx("div",{className:"md:col-span-2 print-full-width",children:r.jsxs("div",{className:"terms-full-text",children:[r.jsx("h4",{children:"AGREEMENT"}),r.jsx("p",{children:'This Partner Service Agreement ("Agreement") is between NEXO ("Company") and the registered service provider ("Partner"). It governs onboarding, obligations, fees, penalties, liabilities and termination.'}),r.jsx("h4",{children:"Key Points:"}),r.jsxs("ol",{children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Onboarding:"})," Partner shall provide valid KYC (Aadhaar, PAN, Address proof, Photo). Police verification required within 30 days."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Fees:"})," Registration fee, Toolkit fee, MG Plan, Security deposit (terms set by Platform)."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Obligations:"})," Partner shall perform services with due skill, follow SOP, not solicit off-platform, not collect customer data off platform."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Payments:"})," All payments routed through Platform; Partner is independent contractor."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Safety:"})," No intoxication, no harassment; female-customer safety prioritized."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Penalties:"})," Attempt to take customer offline  5,000 + termination; Last-minute cancellations, no-shows, delays and verified complaints trigger specified monetary penalties and suspension/termination for repeated violations."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Liability:"})," Partner responsible for damages caused by negligence; Company not responsible for Partner's personal injury or tools."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Confidentiality:"})," Partner must keep customer and Company data confidential."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Governing Law:"})," Indian law; exclusive jurisdiction of Bengaluru Courts."]})]}),r.jsxs("div",{className:"penalty-table",children:[r.jsx("h4",{children:"Representative Penalty Table:"}),r.jsxs("ul",{children:[r.jsxs("li",{children:["Offline / direct contact with customer: ",r.jsx("strong",{children:"5,000 + termination + wallet freeze"})]}),r.jsxs("li",{children:["Cancel within 2 hours: ",r.jsx("strong",{children:"199"})," | Cancel after reaching site: ",r.jsx("strong",{children:"299"})]}),r.jsxs("li",{children:["No-show after accept: ",r.jsx("strong",{children:"299"})," | Delay > 30 mins: ",r.jsx("strong",{children:"99"})]}),r.jsxs("li",{children:["Verified complaint: ",r.jsx("strong",{children:"199999"})," depending on severity"]})]})]}),r.jsx("p",{style:{marginTop:"12px",fontSize:"10px",color:"#64748b"},children:"Full and binding terms are published on the Platform. By signing and accepting above you confirm you read and agree to all terms and penalties."})]})})]})]}),r.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[r.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[r.jsx(zs,{className:"w-5 h-5"}),"Bank Details"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Account Holder Name"}),r.jsx("p",{className:"text-base text-slate-900 print-value",children:(tt==null?void 0:tt.accountHolderName)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Account Number"}),r.jsx("p",{className:"text-base text-slate-900 print-value",children:(tt==null?void 0:tt.accountNumber)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"IFSC Code"}),r.jsx("p",{className:"text-base text-slate-900 print-value",children:(tt==null?void 0:tt.ifscCode)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Bank Name"}),r.jsx("p",{className:"text-base text-slate-900 print-value",children:(tt==null?void 0:tt.bankName)||"N/A"})]}),((tt==null?void 0:tt.chequeImage)||(Se==null?void 0:Se.chequeImage))&&r.jsxs("div",{className:"md:col-span-2 print-full-width",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2 print-label",children:"Cancelled Cheque"}),r.jsxs("div",{className:"bg-slate-50 rounded-lg border border-slate-200 overflow-hidden",children:[r.jsx("img",{src:(x5=(tt==null?void 0:tt.chequeImage)||(Se==null?void 0:Se.chequeImage))!=null&&x5.startsWith("http")||(g5=(tt==null?void 0:tt.chequeImage)||(Se==null?void 0:Se.chequeImage))!=null&&g5.includes("s3.amazonaws.com")?(tt==null?void 0:tt.chequeImage)||(Se==null?void 0:Se.chequeImage):`/uploads/kyc/${(tt==null?void 0:tt.chequeImage)||(Se==null?void 0:Se.chequeImage)}`,alt:"Cancelled Cheque",className:"w-full h-auto max-h-64 object-contain",onError:K=>{K.target.style.display="none",K.target.nextSibling&&(K.target.nextSibling.style.display="block")}}),r.jsxs("div",{className:"hidden p-4 text-center text-slate-500",children:[r.jsx(Vt,{className:"w-12 h-12 mx-auto mb-2"}),r.jsx("p",{className:"text-sm",children:"Image not available"})]}),r.jsx("a",{href:(y5=(tt==null?void 0:tt.chequeImage)||(Se==null?void 0:Se.chequeImage))!=null&&y5.startsWith("http")||(b5=(tt==null?void 0:tt.chequeImage)||(Se==null?void 0:Se.chequeImage))!=null&&b5.includes("s3.amazonaws.com")?(tt==null?void 0:tt.chequeImage)||(Se==null?void 0:Se.chequeImage):`/uploads/kyc/${(tt==null?void 0:tt.chequeImage)||(Se==null?void 0:Se.chequeImage)}`,target:"_blank",rel:"noopener noreferrer",className:"block text-xs text-primary hover:underline mt-2 text-center",children:"View Full Size"})]})]})]})]}),((Ft==null?void 0:Ft._id)||(Ft==null?void 0:Ft.name))&&r.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[r.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[r.jsx(Ya,{className:"w-5 h-5"}),"MG Plan Details"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Plan Name"}),r.jsx("p",{className:"text-base text-slate-900 print-value",children:(Ft==null?void 0:Ft.name)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Plan Price"}),r.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(Ft.price||0).toLocaleString("en-IN")]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Guaranteed Leads"}),r.jsxs("p",{className:"text-base text-slate-900 print-value",children:[Ft.leads||0," leads/month"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Commission Rate"}),r.jsxs("p",{className:"text-base text-slate-900 print-value",children:[Ft.commission||0,"%"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Lead Fee"}),r.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(Ft.leadFee||0).toLocaleString("en-IN")]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Minimum Wallet Balance"}),r.jsxs("p",{className:"text-base text-slate-900 print-value",children:["",(Ft.minWalletBalance||0).toLocaleString("en-IN")]})]}),(H==null?void 0:H.mgPlanSubscribedAt)&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Subscribed On"}),r.jsx("p",{className:"text-base text-slate-900 print-value",children:new Date(H.mgPlanSubscribedAt).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]}),(H==null?void 0:H.mgPlanExpiresAt)&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Expires On"}),r.jsx("p",{className:"text-base text-slate-900 print-value",children:new Date(H.mgPlanExpiresAt).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]})]})]}),r.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[r.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title flex items-center gap-2",children:[r.jsx(Qt,{className:"w-5 h-5"}),"Performance Summary"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6 print-grid",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Total Earnings"}),r.jsxs("p",{className:"text-2xl font-bold text-emerald-600 print-value",children:["",I3.toLocaleString("en-IN")]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Wallet Balance"}),r.jsxs("p",{className:"text-2xl font-bold text-primary print-value",children:["",ed.toLocaleString("en-IN")]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"Completed Bookings"}),r.jsx("p",{className:"text-xl font-bold text-slate-900 print-value",children:M0.length})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-1 print-label",children:"MG Plan Leads Used"}),r.jsxs("p",{className:"text-xl font-bold text-slate-900 print-value",children:[sb," / ",rb]})]})]})]}),r.jsxs("div",{className:"print-section border-t border-slate-200 pt-6",children:[r.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-4 print-section-title",children:"PARTNER TERMS & CONDITIONS"}),r.jsxs("div",{className:"terms-full-text",children:[r.jsx("div",{className:"mb-4 pb-3 border-b border-gray-200",children:r.jsxs("div",{className:"text-xs text-gray-600 space-y-1 mb-3",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Effective Date:"})," 15th November 2025"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Last Updated:"})," 15th November 2025"]})]})}),r.jsxs("div",{className:"space-y-4 text-sm text-gray-700",children:[r.jsxs("div",{children:[r.jsx("h4",{children:"1. Introduction"}),r.jsx("p",{children:'These Partner Terms & Conditions ("Terms") constitute a binding agreement between NEXO ("Company", "Platform", "We", "Us") and the individual or business entity ("Partner", "Service Provider", "You") who registers to provide on-site or online services through the Platform.'}),r.jsx("p",{children:"By registering or accepting any service request, the Partner expressly agrees to these Terms."})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"2. Independent Contractor Status"}),r.jsxs("ul",{children:[r.jsx("li",{children:"The Partner is an independent contractor, not an employee, representative, or agent of NEXO."}),r.jsx("li",{children:"No employment benefits (PF, ESI, gratuity, insurance, paid leave, salary) shall be applicable."}),r.jsx("li",{children:"The Partner is solely responsible for compliance with GST, income tax, labour laws, and all statutory obligations."})]})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"3. Mandatory Registration & Onboarding Requirements"}),r.jsx("p",{children:"The Partner shall complete mandatory onboarding, including but not limited to:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Valid Government ID"}),r.jsx("li",{children:"Address proof"}),r.jsx("li",{children:"Skill verification/trade test (if applicable)"}),r.jsx("li",{children:"Police verification (whenever required)"}),r.jsx("li",{children:"Recent photograph"}),r.jsx("li",{children:"Bank account details"}),r.jsx("li",{children:"GST number (if applicable)"})]}),r.jsx("p",{children:r.jsx("strong",{children:"Payment of applicable onboarding fees:"})}),r.jsxs("ul",{children:[r.jsx("li",{children:"Registration Fee"}),r.jsx("li",{children:"Toolkit Fee (if provided)"}),r.jsx("li",{children:"Minimum Guarantee (MG) Plan"}),r.jsx("li",{children:"Security Deposit"})]}),r.jsx("p",{className:"text-xs",children:"All fees are non-refundable, except security deposit which is refundable as per Clause 20."})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"4. Partner Obligations"}),r.jsx("p",{children:"Partner shall:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Maintain professional behaviour at all times."}),r.jsx("li",{children:"Deliver high-quality, safe, and lawful services."}),r.jsx("li",{children:"Carry valid Partner ID during every service."}),r.jsx("li",{children:"Reach customer location on time."}),r.jsx("li",{children:"Provide correct service estimates before starting work."}),r.jsx("li",{children:"Maintain hygiene, wear uniform/ID (if provided)."}),r.jsx("li",{children:"Not engage in misconduct, harassment, abuse, threats, or illegal activity."}),r.jsx("li",{children:"Maintain tools and ensure safe operation."}),r.jsx("li",{children:"Not demand cash payments directly from customers."}),r.jsx("li",{children:"Not solicit or accept off-platform work (strict penalty)."})]})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"5. Pricing, Estimates & Billing"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Partner must follow NEXO pricing structure and guidelines."}),r.jsx("li",{children:"Any additional work must be pre-approved through the Platform."}),r.jsx("li",{children:"Partner shall not overcharge or misrepresent pricing."}),r.jsx("li",{children:"All payments shall be processed solely through NEXO."}),r.jsx("li",{children:"Partner is responsible for issuing bills/invoices where required by law."})]})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"6. Platform Commission & Deductions"}),r.jsx("p",{children:"Partner agrees to the following deductions:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Platform Commission (%)"}),r.jsx("li",{children:"Lead Cost per lead"}),r.jsx("li",{children:"GST applicable on Platform Commission"}),r.jsx("li",{children:"Penalties & Fines"}),r.jsx("li",{children:"TDS (if applicable)"}),r.jsx("li",{children:"Outstanding dues from previous jobs"}),r.jsx("li",{children:"MG Plan adjustments"})]}),r.jsx("p",{className:"text-xs",children:"All deductions shall be final and binding."})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"7. Mandatory Safety Requirements"}),r.jsx("p",{children:"Partner shall:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Follow safety protocols prescribed by NEXO."}),r.jsx("li",{children:"Use proper tools and protective equipment."}),r.jsx("li",{children:"Not perform services beyond skill level or without proper safety."}),r.jsx("li",{children:"Not endanger customer, property, or themselves."})]}),r.jsx("p",{children:"Failure may result in:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Immediate suspension"}),r.jsx("li",{children:"Penalty up to 5,000"}),r.jsx("li",{children:"Legal action for damages"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"8. Customer Safety & Code of Conduct"}),r.jsx("p",{children:"Partner must strictly adhere to:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"No harassment (verbal, physical, emotional)"}),r.jsx("li",{children:"No misbehaviour, disrespect, abusive language"}),r.jsx("li",{children:"No consumption of alcohol/drugs on duty"}),r.jsx("li",{children:"No theft, damage, or misconduct"}),r.jsx("li",{children:"No photography or unauthorised recording at customer premises"}),r.jsx("li",{children:"No requesting personal favours or discounts"}),r.jsx("li",{children:"No entering restricted areas without consent"})]}),r.jsx("p",{children:"Any violation may lead to:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Permanent termination"}),r.jsx("li",{children:"Police complaint"}),r.jsx("li",{children:"Forfeiture of dues and deposits"}),r.jsx("li",{children:"Penalties up to 25,000"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"9. Punctuality & Attendance"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Partner must accept bookings only if available."}),r.jsx("li",{children:"Must reach customer location on time."}),r.jsx("li",{children:"Any delay beyond 20 minutes must be informed."})]}),r.jsx("p",{children:"Repeated delays may lead to:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"50200 penalty per incident"}),r.jsx("li",{children:"Reduced lead allocation"}),r.jsx("li",{children:"Temporary suspension"})]})]}),r.jsxs("div",{className:"penalty-box",children:[r.jsx("h4",{children:"10. No Offline Deals (Strictly Prohibited)"}),r.jsx("p",{children:"Partner shall not:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Ask customer to cancel platform booking"}),r.jsx("li",{children:"Offer lower pricing for offline work"}),r.jsx("li",{children:"Share personal phone number for future services"}),r.jsx("li",{children:"Accept cash or direct payments"})]}),r.jsx("p",{children:r.jsx("strong",{children:"Penalty:"})}),r.jsxs("ul",{children:[r.jsx("li",{children:"5,000 minimum"}),r.jsx("li",{children:"Permanent termination"}),r.jsx("li",{children:"Deduction from wallet and MG plan"}),r.jsx("li",{children:"Legal action for business loss"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"11. Service Quality & Returns"}),r.jsx("p",{children:"Partner must ensure:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"High-quality workmanship"}),r.jsx("li",{children:"Correct problem diagnosis"}),r.jsx("li",{children:"Use of original parts (if applicable)"}),r.jsx("li",{children:"Guarantee service quality as per NEXO policy"})]}),r.jsx("p",{children:"Poor work or customer complaints may attract:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Rework without charges"}),r.jsx("li",{children:"Penalty from 1001,000"}),r.jsx("li",{children:"Suspension on repeated offences"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"12. Damage, Theft, or Loss"}),r.jsx("p",{children:"Partner shall be fully liable for:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Damage to customer property"}),r.jsx("li",{children:"Theft or loss at customer premises"}),r.jsx("li",{children:"Fire, accident, or injury caused due to Partner negligence"}),r.jsx("li",{children:"Incorrect installation or unsafe practices"})]}),r.jsx("p",{children:"Recovery will be made through:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Partner wallet"}),r.jsx("li",{children:"Security deposit"}),r.jsx("li",{children:"MG payouts"}),r.jsx("li",{children:"Legal recovery"})]}),r.jsx("p",{className:"text-xs",children:"Police FIR may be filed for severe cases."})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"13. Fraudulent Activities"}),r.jsx("p",{children:"Strictly prohibited:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Faking job completion"}),r.jsx("li",{children:"False OTP entry"}),r.jsx("li",{children:"Manipulating customer rating"}),r.jsx("li",{children:"Overcharging"}),r.jsx("li",{children:"Providing false documents"})]}),r.jsx("p",{children:"Penalty:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Up to 25,000"}),r.jsx("li",{children:"Permanent removal"}),r.jsx("li",{children:"Legal prosecution"})]})]}),r.jsxs("div",{className:"penalty-box",children:[r.jsx("h4",{children:"14. Penalty Structure"}),r.jsxs("table",{className:"penalty-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Violation"}),r.jsx("th",{children:"Penalty"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("td",{children:"Late arrival"}),r.jsx("td",{children:"50200"})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Job rejection after acceptance"}),r.jsx("td",{children:"100300"})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Misbehaviour"}),r.jsx("td",{children:"1,0005,000"})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Unsafe work"}),r.jsx("td",{children:"2,000"})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Offline deal"}),r.jsx("td",{children:"5,000+ termination"})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Theft/misconduct"}),r.jsx("td",{children:"Legal action + termination"})]})]})]}),r.jsx("p",{className:"text-xs mt-2",children:"NEXO reserves the right to modify penalties anytime."})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"15. Partner Wallet & Settlement"}),r.jsx("p",{children:"Deductions will be applied in the following order:"}),r.jsxs("ol",{children:[r.jsx("li",{children:"Penalties"}),r.jsx("li",{children:"Platform Commission"}),r.jsx("li",{children:"Lead cost"}),r.jsx("li",{children:"MG plan adjustments"}),r.jsx("li",{children:"Pending dues"})]}),r.jsx("p",{children:"Settlement cycles will be weekly or as updated by NEXO."})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"16. MG Plan (Minimum Guarantee)"}),r.jsxs("ul",{children:[r.jsx("li",{children:"MG plan is optional or mandatory as per category."}),r.jsx("li",{children:"MG provides priority leads based on plan."}),r.jsx("li",{children:"MG fee is non-refundable."}),r.jsx("li",{children:"Partner failing to meet service quality/minimum performance may lose MG benefits without refund."})]})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"17. Ratings & Reviews"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Partner must maintain minimum rating (e.g., 4.0)."}),r.jsx("li",{children:"Low ratings may result in reduced leads or suspension."}),r.jsx("li",{children:"False or manipulated ratings are punishable."})]})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"18. Use of Platform & Technology"}),r.jsx("p",{children:"Partner shall:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Keep app updated"}),r.jsx("li",{children:"Not misuse customer data"}),r.jsx("li",{children:"Not reverse engineer, hack, or modify NEXO systems"}),r.jsx("li",{children:"Use genuine documents only"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"19. Termination"}),r.jsx("p",{children:"NEXO may terminate partner access without notice for:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Misconduct"}),r.jsx("li",{children:"Fraud"}),r.jsx("li",{children:"Unsafe behaviour"}),r.jsx("li",{children:"Low performance"}),r.jsx("li",{children:"Offline deals"}),r.jsx("li",{children:"Customer complaints"}),r.jsx("li",{children:"Violation of any Terms"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"20. Security Deposit Refund"}),r.jsx("p",{children:"Refund only upon:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"30-day notice period"}),r.jsx("li",{children:"Return of toolkit (if applicable)"}),r.jsx("li",{children:"No pending dues or penalties"}),r.jsx("li",{children:"No active customer complaints"})]}),r.jsx("p",{children:"Refund processing time: 2145 working days."})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"21. Dispute Resolution"}),r.jsxs("ul",{children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Jurisdiction:"})," Bangalore, Karnataka"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Governing Law:"})," Laws of India"]})]}),r.jsx("p",{children:r.jsx("strong",{children:"Method:"})}),r.jsxs("ul",{children:[r.jsx("li",{children:"Internal review"}),r.jsx("li",{children:"Mediation"}),r.jsx("li",{children:"Arbitration (if required)"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{children:"22. Amendments"}),r.jsx("p",{children:"NEXO reserves the right to change Terms anytime. Continued use of the Platform constitutes acceptance."})]}),r.jsx("div",{className:"penalty-box",style:{background:"#eff6ff",borderColor:"#93c5fd"},children:r.jsxs("p",{className:"text-xs",children:[r.jsx("strong",{children:"By signing and accepting this Agreement, Partner confirms that:"})," (i) they have read, understood, and agree to be bound by all terms, conditions, and penalties outlined herein; (ii) they have had the opportunity to review the full terms published on the Platform; (iii) they understand that this Agreement is legally binding; and (iv) they agree to comply with all obligations and accept all penalties for violations."]})})]})]})]})]})]}),r.jsxs("div",{className:"grid gap-5 md:grid-cols-4 mb-8",children:[r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-semibold text-slate-500",children:"Total Earnings"}),r.jsx(Qt,{className:"w-5 h-5 text-emerald-500"})]}),r.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:["",I3.toLocaleString("en-IN")]}),r.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["From ",M0.length," completed bookings"]})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-semibold text-slate-500",children:"Wallet Balance"}),r.jsx(Qt,{className:"w-5 h-5 text-primary"})]}),r.jsxs("p",{className:"text-3xl font-bold text-primary",children:["",ed.toLocaleString("en-IN")]}),r.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[O3.length," transactions  Lead fee ",M3.toLocaleString("en-IN")]}),r.jsx("p",{className:`text-xs mt-2 ${ed<F0?"text-rose-500":"text-emerald-500"}`,children:dB})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-semibold text-slate-500",children:"Total Bookings"}),r.jsx(Hc,{className:"w-5 h-5 text-blue-500"})]}),r.jsx("p",{className:"text-3xl font-bold text-slate-900",children:M0.length}),r.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Completed bookings"})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-semibold text-slate-500",children:"MG Plan Progress"}),r.jsx(Ya,{className:"w-5 h-5 text-purple-500"})]}),r.jsx("p",{className:"text-lg font-bold text-purple-600 mb-1",children:(Ft==null?void 0:Ft.name)||"No Plan"}),r.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[uB," / ",rb]}),r.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Leads remaining  Used ",sb]}),r.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Expires ",wt.expiresAt?new Date(wt.expiresAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):""]})]})]}),wt.leadAcceptancePaused&&r.jsx("div",{className:"bg-amber-50 border border-amber-200 text-amber-700 px-4 py-3 rounded-2xl mb-8 text-sm",children:"Lead notifications are currently paused due to low wallet balance. Top up to resume assignments."}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mb-8",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500 mb-4",children:"Service Categories & MG Plan"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Selected Categories"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Xs.length>0?Xs.map((K,ke)=>r.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-semibold",children:K},ke)):r.jsx("span",{className:"text-slate-500 text-sm",children:"No categories selected"})}),D0.length>0&&r.jsxs("div",{className:"mt-3",children:[r.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Sub-Categories"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:D0.map((K,ke)=>r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:(K==null?void 0:K.name)||"N/A"},ke))})]}),O0.length>0&&r.jsxs("div",{className:"mt-3",children:[r.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Services"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:O0.map((K,ke)=>r.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:(K==null?void 0:K.name)||"N/A"},ke))})]}),(H==null?void 0:H.modeOfService)&&r.jsxs("div",{className:"mt-3",children:[r.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Mode of Service"}),r.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-semibold capitalize inline-block",children:H.modeOfService==="online"?"Online":H.modeOfService==="offline"?"Offline":H.modeOfService})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"MG Plan"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ya,{className:"w-5 h-5 text-purple-600"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-lg font-bold text-purple-600",children:(Ft==null?void 0:Ft.name)||"No Plan Assigned"}),(Ft==null?void 0:Ft.name)&&r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[Ft.leads||0," leads  ",Ft.commission||0,"% commission"]})]}),r.jsx("button",{onClick:()=>Re(!0),className:"px-3 py-1.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition text-sm font-semibold",children:Ft!=null&&Ft.name?"Change Plan":"Assign Plan"})]})]})]})]}),mB==="eligible"&&r.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-2xl mb-6 text-sm",children:"Plan refund eligible: guaranteed leads not met before expiry."}),((ht==null?void 0:ht.signature)||(ht==null?void 0:ht.accepted))&&Object.keys(ht).length>0&&r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mt-8",children:[r.jsxs("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500 mb-4 flex items-center gap-2",children:[r.jsx(Vt,{className:"w-5 h-5"}),"Terms & Conditions"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Terms Accepted"}),ht.accepted?r.jsxs("span",{className:"inline-flex items-center gap-2 text-emerald-600 font-semibold",children:[r.jsx(It,{className:"w-5 h-5"}),"Accepted"]}):r.jsx("span",{className:"text-slate-400",children:"Not Accepted"})]}),ht.acceptedAt&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Accepted On"}),r.jsx("p",{className:"text-base text-slate-900 font-medium",children:new Date(ht.acceptedAt).toLocaleString("en-IN")})]}),ht.signature&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Digital Signature"}),r.jsx("div",{className:"border-2 border-slate-200 rounded-lg p-4 bg-slate-50 inline-block",children:r.jsx("img",{src:ht.signature.startsWith("data:")||ht.signature.startsWith("http")?ht.signature:`/uploads/signatures/${ht.signature}`,alt:"Partner Signature",className:"max-w-xs max-h-32 h-auto object-contain",onError:K=>{K.target.style.display="none"}})})]})]})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mt-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Service Hubs"}),r.jsx("p",{className:"text-xs text-slate-400",children:"Assign hubs to this partner. Hubs are created in Hub Management."})]}),r.jsxs("button",{onClick:Ke,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl text-xs font-semibold hover:bg-primary-dark transition",children:[r.jsx(Mr,{})," ",tb.length>0?"Update Hubs":"Assign Hubs"]})]}),ee?r.jsx("div",{className:"text-sm text-slate-400 py-4",children:"Loading hubs..."}):re?r.jsxs("div",{className:"text-sm text-rose-500 py-4",children:["Failed to load hubs: ",re]}):tb.length===0?r.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-slate-300 rounded-xl bg-slate-50",children:[r.jsx(aa,{className:"text-4xl text-slate-400 mx-auto mb-3"}),r.jsx("p",{className:"text-sm text-slate-600 font-medium mb-1",children:"No Hubs Assigned"}),r.jsx("p",{className:"text-xs text-slate-500",children:'Click "Assign Hubs" to assign service hubs to this partner.'})]}):r.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:tb.map(K=>{var ot,Dt,Kt;const ke=((ot=K.areas)==null?void 0:ot.reduce((Lt,xr)=>[...Lt,...xr.pinCodes||[]],[]))||[],jt=[...new Set(ke)];return r.jsxs("div",{className:"border-2 border-primary/20 rounded-xl p-4 bg-primary/5",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(aa,{className:"text-primary"}),r.jsx("p",{className:"text-sm font-semibold text-slate-800",children:K.name})]}),(K.city||K.state)&&r.jsx("p",{className:"text-xs text-slate-500 ml-6",children:[K.city,K.state].filter(Boolean).join(", ")}),r.jsxs("p",{className:"text-xs text-slate-500 ml-6 mt-1",children:[((Dt=K.areas)==null?void 0:Dt.length)||0," area",((Kt=K.areas)==null?void 0:Kt.length)===1?"":"s","  ",jt.length," pin code",jt.length===1?"":"s"]})]})}),K.areas&&K.areas.length>0&&r.jsx("div",{className:"mt-3 space-y-2",children:K.areas.map(Lt=>r.jsxs("div",{className:"bg-white rounded-lg p-2",children:[r.jsx("p",{className:"text-xs font-semibold text-slate-700 mb-1",children:Lt.areaName}),Lt.pinCodes&&Lt.pinCodes.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1.5",children:Lt.pinCodes.map(xr=>r.jsx("span",{className:"px-2 py-0.5 bg-primary/10 border border-primary/20 rounded-full text-xs font-semibold text-primary",children:xr},xr))})]},Lt._id))})]},K._id)})})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mt-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"MG Plan History"}),r.jsxs("span",{className:"text-xs text-slate-400",children:["Commission: ",wt.commission??"--","%"]})]}),wt.history&&wt.history.length>0?r.jsx("div",{className:"space-y-4",children:wt.history.slice().reverse().map((K,ke)=>r.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[K.planName,"  ",(K.price||0).toLocaleString("en-IN")]}),r.jsxs("p",{className:"text-xs text-slate-500",children:[K.subscribedAt?new Date(K.subscribedAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):""," ",""," ",K.expiresAt?new Date(K.expiresAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):""]})]}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${K.refundStatus==="eligible"?"bg-amber-500/10 text-amber-600":K.refundStatus==="processed"?"bg-emerald-500/10 text-emerald-600":"bg-slate-200 text-slate-600"}`,children:K.refundStatus??"pending"})]}),r.jsxs("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-4 gap-3 text-xs text-slate-600",children:[r.jsxs("div",{children:[r.jsx("span",{className:"block font-semibold text-slate-500",children:"Guaranteed"}),K.leadsGuaranteed??""," leads"]}),r.jsxs("div",{children:[r.jsx("span",{className:"block font-semibold text-slate-500",children:"Consumed"}),K.leadsConsumed??0," leads"]}),r.jsxs("div",{children:[r.jsx("span",{className:"block font-semibold text-slate-500",children:"Lead Fee"}),"",(K.leadFee??M3).toLocaleString("en-IN")]}),r.jsxs("div",{children:[r.jsx("span",{className:"block font-semibold text-slate-500",children:"Commission"}),K.commissionRate??wt.commission??0,"%"]})]}),K.refundNotes&&r.jsx("p",{className:"mt-2 text-xs text-slate-500 italic",children:K.refundNotes})]},ke))}):r.jsx("p",{className:"text-sm text-slate-500",children:"No MG plan history recorded."})]}),a&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Add Wallet Transaction"}),r.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Transaction Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>l("credit"),className:`flex-1 px-4 py-3 rounded-xl font-semibold transition ${i==="credit"?"bg-emerald-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[r.jsx(Mr,{className:"w-4 h-4 inline mr-2"}),"Credit (Add)"]}),r.jsxs("button",{type:"button",onClick:()=>l("debit"),className:`flex-1 px-4 py-3 rounded-xl font-semibold transition ${i==="debit"?"bg-rose-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[r.jsx(i2,{className:"w-4 h-4 inline mr-2"}),"Debit (Deduct)"]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Amount ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",value:o,onChange:K=>c(K.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter amount",min:"0",step:"0.01",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Description ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{value:d,onChange:K=>u(K.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter transaction description",rows:3,required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Reference (Optional)"}),r.jsx("input",{type:"text",value:m,onChange:K=>f(K.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Transaction reference number"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Payment Mode ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:de,onChange:K=>he(K.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",required:!0,children:[r.jsx("option",{value:"cash",children:"Cash"}),r.jsx("option",{value:"online",children:"Online"}),r.jsx("option",{value:"cheque",children:"Cheque"}),r.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]}),de==="online"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Transaction ID"}),r.jsx("input",{type:"text",value:Te,onChange:K=>ce(K.target.value),placeholder:"Enter transaction/reference ID",className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:h,className:`flex-1 px-4 py-3 rounded-xl font-semibold text-white transition ${i==="credit"?"bg-emerald-500 hover:bg-emerald-600":"bg-rose-500 hover:bg-rose-600"} disabled:opacity-50 disabled:cursor-not-allowed`,children:h?"Processing...":i==="credit"?"Add Funds":"Deduct Funds"})]})]})]})}),k&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Update Partner Details"}),r.jsx("button",{onClick:()=>{S(!1),oe(""),O("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("form",{onSubmit:async K=>{K.preventDefault(),ue(!0),oe(""),O("");try{const ke=C.filter(Dt=>P.categories.includes(Dt._id||Dt.id)).map(Dt=>Dt.name),jt={name:P.name,email:P.email,phone:P.phone,whatsappNumber:P.whatsappNumber,qualification:P.qualification,experience:P.experience,partnerType:P.partnerType||"individual",address:P.address,landmark:P.landmark,pincode:P.pincode,city:P.city,gstNumber:P.gstNumber,referralCode:P.referralCode,categories:P.categories,categoryNames:ke,accountHolderName:P.accountHolderName,accountNumber:P.accountNumber,ifscCode:P.ifscCode,bankName:P.bankName,kycStatus:P.kycStatus,kycRemarks:P.kycRemarks,registerAmount:P.registerAmount,payId:P.payId,paidBy:P.paidBy,securityDeposit:P.securityDeposit,toolkitPrice:P.toolkitPrice,profileCompleted:P.profileCompleted},ot=await Fe.updatePartnerProfile(s,e,jt);ot.success?(O("Partner details updated successfully!"),setTimeout(()=>{window.location.reload()},1e3)):ot.errors&&Array.isArray(ot.errors)?oe(ot.errors.join(", ")):oe(ot.message||"Failed to update partner details")}catch(ke){console.error("Update error:",ke),ke.errors&&Array.isArray(ke.errors)?oe(ke.errors.join(", ")):oe(ke.message||"Failed to update partner details")}finally{ue(!1)}},className:"p-6 space-y-6",children:[ae&&r.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg text-sm",children:ae}),R&&r.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg text-sm",children:R}),r.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(Ws,{className:"w-5 h-5"}),"Basic Information"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Full Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:P.name,onChange:K=>_(ke=>({...ke,name:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",value:P.email,onChange:K=>_(ke=>({...ke,email:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Phone Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"tel",value:P.phone,onChange:K=>_(ke=>({...ke,phone:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"WhatsApp Number"}),r.jsx("input",{type:"tel",value:P.whatsappNumber,onChange:K=>_(ke=>({...ke,whatsappNumber:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Qualification"}),r.jsx("input",{type:"text",value:P.qualification,onChange:K=>_(ke=>({...ke,qualification:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Experience (Years)"}),r.jsx("input",{type:"number",value:P.experience,onChange:K=>_(ke=>({...ke,experience:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",min:"0"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Partner Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:P.partnerType||"individual",onChange:K=>_(ke=>({...ke,partnerType:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,children:[r.jsx("option",{value:"individual",children:"Individual"}),r.jsx("option",{value:"franchise",children:"Franchise"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Address"}),r.jsx("textarea",{value:P.address,onChange:K=>_(ke=>({...ke,address:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",rows:2})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Landmark"}),r.jsx("input",{type:"text",value:P.landmark,onChange:K=>_(ke=>({...ke,landmark:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),r.jsx("input",{type:"text",value:P.pincode,onChange:K=>_(ke=>({...ke,pincode:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),r.jsx("input",{type:"text",value:P.city,onChange:K=>_(ke=>({...ke,city:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Number"}),r.jsx("input",{type:"text",value:P.gstNumber,onChange:K=>_(ke=>({...ke,gstNumber:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Referral Code"}),r.jsx("input",{type:"text",value:P.referralCode,onChange:K=>_(ke=>({...ke,referralCode:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]})]})]}),r.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(Bs,{className:"w-5 h-5"}),"Service Categories"]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Select Categories ",r.jsx("span",{className:"text-red-500",children:"*"})]}),V?r.jsx("div",{className:"text-sm text-slate-500 py-4",children:"Loading categories..."}):r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 max-h-48 overflow-y-auto p-3 border-2 border-slate-300 rounded-lg",children:C.map(K=>r.jsxs("label",{className:"flex items-center gap-2 p-2 rounded-lg border-2 cursor-pointer transition hover:bg-slate-50",style:{borderColor:P.categories.includes(K._id||K.id)?"#3b82f6":"#e2e8f0",backgroundColor:P.categories.includes(K._id||K.id)?"#eff6ff":"transparent"},children:[r.jsx("input",{type:"checkbox",checked:P.categories.includes(K._id||K.id),onChange:ke=>{const jt=K._id||K.id;ke.target.checked?_(ot=>({...ot,categories:[...ot.categories,jt]})):_(ot=>({...ot,categories:ot.categories.filter(Dt=>Dt!==jt)}))},className:"w-4 h-4 text-primary border-2 border-gray-300 rounded focus:ring-primary cursor-pointer"}),r.jsxs("span",{className:"text-sm font-medium text-slate-700 flex-1",children:[K.icon&&r.jsx("span",{className:"mr-1",children:K.icon}),K.name]})]},K._id||K.id))}),P.categories.length>0&&r.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[P.categories.length," categor",P.categories.length===1?"y":"ies"," selected"]})]})]}),((ht==null?void 0:ht.signature)||(ht==null?void 0:ht.accepted))&&Object.keys(ht).length>0&&r.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(Vt,{className:"w-5 h-5"}),"Terms & Conditions"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2",children:"Terms Accepted"}),ht.accepted?r.jsxs("span",{className:"inline-flex items-center gap-2 text-emerald-600 font-semibold",children:[r.jsx(It,{className:"w-5 h-5"}),"Accepted"]}):r.jsx("span",{className:"text-slate-400",children:"Not Accepted"})]}),ht.acceptedAt&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2",children:"Accepted On"}),r.jsx("p",{className:"text-base text-slate-900",children:new Date(ht.acceptedAt).toLocaleString("en-IN")})]}),ht.signature&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2",children:"Digital Signature"}),r.jsx("div",{className:"border-2 border-slate-200 rounded-lg p-4 bg-slate-50 inline-block",children:r.jsx("img",{src:ht.signature.startsWith("data:")||ht.signature.startsWith("http")?ht.signature:`/uploads/signatures/${ht.signature}`,alt:"Partner Signature",className:"max-w-md h-auto",onError:K=>{K.target.style.display="none"}})})]})]})]}),r.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(zs,{className:"w-5 h-5"}),"Bank Details"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Holder Name"}),r.jsx("input",{type:"text",value:P.accountHolderName,onChange:K=>_(ke=>({...ke,accountHolderName:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Number"}),r.jsx("input",{type:"text",value:P.accountNumber,onChange:K=>_(ke=>({...ke,accountNumber:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"IFSC Code"}),r.jsx("input",{type:"text",value:P.ifscCode,onChange:K=>_(ke=>({...ke,ifscCode:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Bank Name"}),r.jsx("input",{type:"text",value:P.bankName,onChange:K=>_(ke=>({...ke,bankName:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]})]})]}),r.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(Vt,{className:"w-5 h-5"}),"KYC Status"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"KYC Status"}),r.jsxs("select",{value:P.kycStatus,onChange:K=>_(ke=>({...ke,kycStatus:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",children:[r.jsx("option",{value:"",children:"Select Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"KYC Remarks"}),r.jsx("textarea",{value:P.kycRemarks,onChange:K=>_(ke=>({...ke,kycRemarks:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",rows:3,placeholder:"Enter remarks or notes about KYC verification"})]})]})]}),r.jsxs("div",{className:"border-b border-slate-200 pb-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(Ws,{className:"w-5 h-5"}),"Profile Status"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Profile Completion Status"}),r.jsxs("select",{value:P.profileCompleted?"completed":"incomplete",onChange:K=>_(ke=>({...ke,profileCompleted:K.target.value==="completed"})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",children:[r.jsx("option",{value:"incomplete",children:"INCOMPLETE"}),r.jsx("option",{value:"completed",children:"COMPLETED"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("div",{className:`px-4 py-2 rounded-lg text-sm font-semibold ${P.profileCompleted?"bg-emerald-500/10 text-emerald-600":"bg-amber-500/10 text-amber-600"}`,children:["Current: ",P.profileCompleted?"COMPLETED":"INCOMPLETE"]})})]})]}),r.jsxs("div",{className:"pb-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(Qt,{className:"w-5 h-5"}),"Payment Information"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Registration Amount"}),r.jsx("input",{type:"number",value:P.registerAmount,onChange:K=>_(ke=>({...ke,registerAmount:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",min:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Payment ID"}),r.jsx("input",{type:"text",value:P.payId,onChange:K=>_(ke=>({...ke,payId:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Paid By"}),r.jsx("input",{type:"text",value:P.paidBy,onChange:K=>_(ke=>({...ke,paidBy:K.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",placeholder:"e.g., UPI, Bank Transfer, Cash"})]})]}),r.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Payment Status"}),r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${H!=null&&H.registerdFee&&(H!=null&&H.payId)?"bg-emerald-500/10 text-emerald-600":"bg-amber-500/10 text-amber-600"}`,children:H!=null&&H.registerdFee&&(H!=null&&H.payId)?"Verified":"Pending Verification"})]}),(!(H!=null&&H.registerdFee)||!(H!=null&&H.payId))&&r.jsxs("button",{type:"button",onClick:De,disabled:me,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:[me?r.jsx(of,{className:"w-4 h-4 animate-spin"}):r.jsx(It,{className:"w-4 h-4"}),me?"Approving...":"Approve Payment"]})]}),(H==null?void 0:H.registerdFee)&&(H==null?void 0:H.payId)&&r.jsx("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center gap-2 text-emerald-700",children:[r.jsx(It,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Payment has been verified and approved"})]})})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:()=>{S(!1),oe(""),O("")},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:Z||P.categories.length===0,className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:Z?"Updating...":"Update Partner"})]})]})]})}),I&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Update KYC Documents"}),r.jsx("button",{onClick:()=>{X(!1),D({panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null})},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("form",{onSubmit:async K=>{var jt;if(K.preventDefault(),!Object.values(L).some(ot=>ot!==null)){alert("Please select at least one document to upload");return}ne(!0);try{const ot=new FormData;L.panCard&&ot.append("panCard",L.panCard),L.aadhaar&&ot.append("aadhaar",L.aadhaar),L.aadhaarback&&ot.append("aadhaarback",L.aadhaarback),L.drivingLicence&&ot.append("drivingLicence",L.drivingLicence),L.bill&&ot.append("bill",L.bill),L.chequeImage&&ot.append("chequeImage",L.chequeImage),ot.append("id",e);const Dt=await fetch("https://nexo.works/api/admin/updatedDocuments",{method:"PUT",headers:{Authorization:`Bearer ${s}`},body:ot}),Kt=await Dt.json();if(Kt.success===!0||Dt.ok){const Lt=((jt=Kt.uploadedFiles)==null?void 0:jt.length)||Object.values(L).filter(xr=>xr!==null).length;alert(`KYC documents updated successfully! ${Lt} file(s) uploaded.`),X(!1),D({panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null}),window.location.reload()}else alert(Kt.message||Kt.error||"Failed to update KYC documents")}catch(ot){console.error("KYC upload error:",ot),alert(ot.message||"Failed to update KYC documents")}finally{ne(!1)}},className:"p-6 space-y-6",children:[r.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{key:"panCard",label:"PAN Card"},{key:"aadhaar",label:"Aadhaar (Front)"},{key:"aadhaarback",label:"Aadhaar (Back)"},{key:"drivingLicence",label:"Driving Licence"},{key:"bill",label:"Utility Bill"},{key:"chequeImage",label:"Cancelled Cheque"}].map(({key:K,label:ke})=>r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:ke}),r.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-4 text-center",children:[r.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:jt=>{jt.target.files[0]&&D(ot=>({...ot,[K]:jt.target.files[0]}))},className:"hidden",id:`kyc-${K}`}),r.jsxs("label",{htmlFor:`kyc-${K}`,className:"cursor-pointer flex flex-col items-center",children:[r.jsx(oo,{className:"text-2xl text-slate-400 mb-2"}),L[K]?r.jsxs("span",{className:"text-sm text-emerald-600",children:[" ",L[K].name]}):r.jsx("span",{className:"text-sm text-slate-600",children:"Click to upload"})]})]})]},K))}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:()=>{X(!1),D({panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null})},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:se||!Object.values(L).some(K=>K!==null),className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:se?"Uploading...":"Update KYC Documents"})]})]})]})}),W&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Update Profile Image"}),r.jsx("button",{onClick:()=>{T(!1),z(null)},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("form",{onSubmit:async K=>{if(K.preventDefault(),!M){alert("Please select an image");return}ne(!0);try{const ke=new FormData;ke.append("profileImage",M);const ot=await(await fetch(`https://nexo.works/api/admin/updatePartnerProfile/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${s}`},body:ke})).json();ot.success?(alert("Profile image updated successfully!"),T(!1),z(null),window.location.reload()):alert(ot.message||"Failed to update profile image")}catch(ke){console.error("Profile image upload error:",ke),alert(ke.message||"Failed to update profile image")}finally{ne(!1)}},className:"space-y-4",children:[r.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:K=>z(K.target.files[0]),className:"hidden",id:"profile-image"}),r.jsxs("label",{htmlFor:"profile-image",className:"cursor-pointer flex flex-col items-center",children:[r.jsx(wh,{className:"text-4xl text-slate-400 mb-2"}),M?r.jsxs("div",{className:"mt-4",children:[r.jsx("img",{src:URL.createObjectURL(M),alt:"Preview",className:"w-32 h-32 rounded-full object-cover mx-auto"}),r.jsxs("p",{className:"text-sm text-emerald-600 mt-2",children:[" ",M.name]})]}):r.jsx("span",{className:"text-sm text-slate-600",children:"Click to upload profile image"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{T(!1),z(null)},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:se||!M,className:"flex-1 px-4 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:se?"Uploading...":"Update Image"})]})]})]})}),U&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Wallet Transactions"}),r.jsx("button",{onClick:()=>ie(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"mb-4 p-4 bg-slate-50 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Current Balance"}),r.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",ed.toLocaleString("en-IN")]})]}),r.jsxs("button",{onClick:()=>{ie(!1),n(!0)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold",children:[r.jsx(Mr,{className:"w-4 h-4 inline mr-2"}),"Add Transaction"]})]})}),sr?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),r.jsx("p",{className:"text-slate-500",children:"Loading transactions..."})]}):rs?r.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg text-sm",children:["Error loading transactions: ",rs]}):r.jsx(bs,{columns:Ewe,data:hB,emptyLabel:"No transactions found."})]})]})}),Ae&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Fee Transactions"}),r.jsx("button",{onClick:()=>Ue(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("div",{className:"p-6",children:[(B==null?void 0:B.stats)&&r.jsxs("div",{className:"mb-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Total Amount"}),r.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",((v5=B.stats.totalAmount)==null?void 0:v5.toLocaleString("en-IN"))||0]})]}),r.jsxs("div",{className:"p-4 bg-emerald-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-emerald-600",children:"Successful"}),r.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:["",((j5=B.stats.successAmount)==null?void 0:j5.toLocaleString("en-IN"))||0]}),r.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:[B.stats.successCount||0," transactions"]})]}),r.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Total Transactions"}),r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:B.stats.totalCount||0})]}),r.jsxs("div",{className:"p-4 bg-rose-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-rose-600",children:"Failed"}),r.jsx("p",{className:"text-2xl font-bold text-rose-600",children:B.stats.failedCount||0})]})]}),J?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),r.jsx("p",{className:"text-slate-500",children:"Loading fee transactions..."})]}):G?r.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg text-sm",children:["Error loading fee transactions: ",G]}):((w5=B==null?void 0:B.data)==null?void 0:w5.length)===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-slate-500",children:"No fee transactions found."})}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Fee Type"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Amount"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Description"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600 uppercase",children:"Transaction ID"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-200",children:(N5=B==null?void 0:B.data)==null?void 0:N5.map((K,ke)=>{var jt,ot,Dt,Kt,Lt;return r.jsxs("tr",{className:"hover:bg-slate-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm text-slate-700",children:new Date(K.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${K.feeType==="registration"?"bg-blue-500/10 text-blue-600":K.feeType==="mg_plan"?"bg-purple-500/10 text-purple-600":K.feeType==="security_deposit"?"bg-yellow-500/10 text-yellow-600":K.feeType==="toolkit"?"bg-green-500/10 text-green-600":"bg-slate-500/10 text-slate-600"}`,children:((jt=K.feeType)==null?void 0:jt.replace("_"," ").replace(/\b\w/g,xr=>xr.toUpperCase()))||"Other"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:["",((ot=K.amount)==null?void 0:ot.toLocaleString("en-IN"))||0]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${K.status==="success"?"bg-emerald-500/10 text-emerald-600":K.status==="failed"?"bg-rose-500/10 text-rose-600":K.status==="pending"?"bg-yellow-500/10 text-yellow-600":"bg-slate-500/10 text-slate-600"}`,children:((Dt=K.status)==null?void 0:Dt.charAt(0).toUpperCase())+((Kt=K.status)==null?void 0:Kt.slice(1))||"Unknown"})}),r.jsx("td",{className:"px-4 py-3 text-sm text-slate-700 max-w-xs",children:r.jsxs("div",{children:[r.jsx("p",{className:"truncate",children:K.description||"N/A"}),((Lt=K.metadata)==null?void 0:Lt.priceBreakdown)&&r.jsxs("details",{className:"mt-1",children:[r.jsx("summary",{className:"text-xs text-primary cursor-pointer hover:underline",children:"View Payment Breakdown"}),r.jsxs("div",{className:"mt-1 text-xs text-slate-500 space-y-0.5 pl-2 bg-slate-50 p-2 rounded",children:[K.metadata.priceBreakdown.registrationFee>0&&r.jsxs("p",{children:["Registration Fee: ",K.metadata.priceBreakdown.registrationFee.toLocaleString("en-IN")]}),K.metadata.priceBreakdown.securityDeposit>0&&r.jsxs("p",{children:["Security Deposit: ",K.metadata.priceBreakdown.securityDeposit.toLocaleString("en-IN")]}),K.metadata.priceBreakdown.toolkitPrice>0&&r.jsxs("p",{children:["Toolkit: ",K.metadata.priceBreakdown.toolkitPrice.toLocaleString("en-IN")]}),K.metadata.priceBreakdown.totalAmount>0&&r.jsxs("p",{className:"font-semibold text-slate-700 border-t border-slate-200 pt-1 mt-1",children:["Total Paid: ",K.metadata.priceBreakdown.totalAmount.toLocaleString("en-IN")]})]})]})]})}),r.jsx("td",{className:"px-4 py-3 text-xs text-slate-500 font-mono",children:K.transactionId||"N/A"})]},K._id||ke)})})]})})]})]})}),te&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:Ft!=null&&Ft.name?"Change MG Plan":"Assign MG Plan"}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select a plan and provide payment details"})]}),r.jsx("button",{onClick:()=>{Re(!1),Le(null),dt("cash"),Qe(""),kt("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),(Ft==null?void 0:Ft.name)&&r.jsxs("div",{className:"mb-6 space-y-4",children:[r.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ya,{className:"w-5 h-5 text-purple-600"}),r.jsx("h3",{className:"font-semibold text-purple-900",children:"Current Plan"})]}),!(wt!=null&&wt.paymentMethod)&&r.jsxs("button",{type:"button",onClick:()=>we(!er),className:"text-xs px-3 py-1.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition font-semibold flex items-center gap-1",children:[r.jsx(os,{className:"w-3 h-3"}),er?"Cancel":"Add Payment Details"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-500",children:"Plan Name"}),r.jsx("p",{className:"font-semibold text-slate-900",children:Ft.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-500",children:"Leads"}),r.jsx("p",{className:"font-semibold text-slate-900",children:Ft.leads||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-500",children:"Commission"}),r.jsxs("p",{className:"font-semibold text-slate-900",children:[Ft.commission||0,"%"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-500",children:"Price"}),r.jsxs("p",{className:"font-semibold text-slate-900",children:["",((S5=Ft.price)==null?void 0:S5.toLocaleString("en-IN"))||0]})]}),(wt==null?void 0:wt.paymentMethod)&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-500",children:"Payment Method"}),r.jsx("p",{className:"font-semibold text-slate-900 capitalize",children:wt.paymentMethod})]}),wt.paymentMethod==="cash"&&wt.collectedBy&&r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-500",children:"Collected By"}),r.jsx("p",{className:"font-semibold text-slate-900",children:wt.collectedBy})]}),(wt.paymentMethod==="online"||wt.paymentMethod==="upi")&&wt.transactionId&&r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-500",children:"Transaction ID"}),r.jsx("p",{className:"font-semibold text-slate-900 font-mono text-xs",children:wt.transactionId})]})]})]}),!(wt!=null&&wt.paymentMethod)&&er&&r.jsxs("div",{className:"border-t border-purple-200 pt-4 space-y-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-purple-900",children:"Add Payment Details"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Payment Method *"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:["cash","online","upi"].map(K=>r.jsx("button",{type:"button",onClick:()=>{fe(K),Nt(""),qe("")},className:`px-3 py-2 rounded-lg font-semibold text-xs transition ${F===K?"bg-purple-600 text-white":"bg-white text-slate-700 hover:bg-slate-100 border border-slate-200"}`,children:K.toUpperCase()},K))})]}),F==="cash"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Collected By *"}),r.jsx("input",{type:"text",value:lt,onChange:K=>Nt(K.target.value),placeholder:"Enter name of person who collected payment",className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent"})]}),(F==="online"||F==="upi")&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-2",children:"Transaction ID *"}),r.jsx("input",{type:"text",value:ye,onChange:K=>qe(K.target.value),placeholder:"Enter transaction ID",className:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent font-mono"})]}),r.jsx("button",{type:"button",onClick:be,disabled:st,className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm",children:st?r.jsxs(r.Fragment,{children:[r.jsx(of,{className:"w-4 h-4 animate-spin"}),"Updating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Vd,{className:"w-4 h-4"}),"Update Payment Details"]})})]})]}),!(wt!=null&&wt.paymentMethod)&&!er&&r.jsx("div",{className:"p-4 bg-amber-50 border-2 border-amber-300 rounded-xl",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Pu,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-amber-900 mb-1",children:"Payment Details Missing"}),r.jsx("p",{className:"text-sm text-amber-700 mb-2",children:`This MG plan doesn't have payment details recorded. Click "Add Payment Details" above to add them now.`}),r.jsx("p",{className:"text-xs text-amber-600 italic",children:"Note: When you change the plan below, you'll be required to provide payment details for the new plan."})]})]})})]}),r.jsxs("form",{onSubmit:K=>{K.preventDefault(),je()},className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Select MG Plan *"}),Ce.length===0?r.jsx("div",{className:"text-center py-8 bg-slate-50 rounded-xl",children:r.jsx("p",{className:"text-slate-500",children:"No MG plans available for this partner type"})}):r.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:Ce.map(K=>{var jt;const ke=Ge===K._id;return r.jsx("div",{className:`border-2 rounded-xl p-4 transition-all cursor-pointer ${ke?"border-purple-600 bg-purple-50":"border-slate-200 hover:border-purple-300 bg-white"}`,onClick:()=>Le(K._id),children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("input",{type:"radio",checked:ke,onChange:()=>Le(K._id),className:"mt-1 w-4 h-4 text-purple-600 border-slate-300 focus:ring-purple-600",onClick:ot=>ot.stopPropagation()}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold text-slate-800",children:K.name}),r.jsxs("span",{className:"text-lg font-bold text-purple-600",children:["",((jt=K.price)==null?void 0:jt.toLocaleString("en-IN"))||0]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-500",children:"Leads"}),r.jsx("p",{className:"font-semibold text-slate-700",children:K.leads||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-500",children:"Commission"}),r.jsxs("p",{className:"font-semibold text-slate-700",children:[K.commission||0,"%"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-500",children:"Duration"}),r.jsxs("p",{className:"font-semibold text-slate-700",children:[K.duration||0," days"]})]})]}),K.description&&r.jsx("p",{className:"text-xs text-slate-500 mt-2",children:K.description})]})]})},K._id)})})]}),Ge&&r.jsxs("div",{className:"border-t border-slate-200 pt-6 space-y-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Payment Details"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Payment Method *"}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:["cash","online","upi"].map(K=>r.jsx("button",{type:"button",onClick:()=>{dt(K),Qe(""),kt("")},className:`px-4 py-2 rounded-lg font-semibold text-sm transition ${Pe===K?"bg-purple-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:K.toUpperCase()},K))})]}),Pe==="cash"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Collected By *"}),r.jsx("input",{type:"text",value:$e,onChange:K=>Qe(K.target.value),placeholder:"Enter name of person who collected payment",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent",required:!0})]}),(Pe==="online"||Pe==="upi")&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Transaction ID *"}),r.jsx("input",{type:"text",value:Xe,onChange:K=>kt(K.target.value),placeholder:"Enter transaction ID",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-transparent font-mono",required:!0})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:()=>{Re(!1),Le(null),dt("cash"),Qe(""),kt("")},className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:mt||!Ge||Ce.length===0,className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:mt?r.jsxs(r.Fragment,{children:[r.jsx(of,{className:"w-4 h-4 animate-spin"}),"Assigning..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Vd,{className:"w-4 h-4"}),Ft!=null&&Ft.name?"Change Plan":"Assign Plan"]})})]})]})]})}),p&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Assign Service Hubs"}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select hubs to assign to this partner"})]}),r.jsx("button",{onClick:()=>{b(!1)},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("form",{onSubmit:ft,className:"space-y-4",children:[L0.length===0?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-slate-500",children:"No hubs available. Create hubs in Hub Management first."})}):r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:L0.map(K=>{var Dt,Kt,Lt,xr;const ke=y.includes((Dt=K._id)==null?void 0:Dt.toString()),jt=((Kt=K.areas)==null?void 0:Kt.reduce((Ht,Ss)=>[...Ht,...Ss.pinCodes||[]],[]))||[],ot=[...new Set(jt)];return r.jsx("div",{className:`border-2 rounded-xl p-4 transition-all cursor-pointer ${ke?"border-primary bg-primary/5":"border-slate-200 hover:border-primary/50 bg-white"}`,onClick:()=>nt(K._id),children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("input",{type:"checkbox",checked:ke,onChange:()=>nt(K._id),className:"mt-1 w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary",onClick:Ht=>Ht.stopPropagation()}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(aa,{className:"text-primary"}),r.jsx("h4",{className:"font-semibold text-slate-800",children:K.name})]}),(K.city||K.state)&&r.jsx("p",{className:"text-xs text-slate-500 ml-6",children:[K.city,K.state].filter(Boolean).join(", ")}),r.jsxs("p",{className:"text-xs text-slate-500 ml-6 mt-1",children:[((Lt=K.areas)==null?void 0:Lt.length)||0," area",((xr=K.areas)==null?void 0:xr.length)===1?"":"s","  ",ot.length," pin code",ot.length===1?"":"s"]}),K.areas&&K.areas.length>0&&r.jsxs("div",{className:"mt-2 ml-6 space-y-1",children:[K.areas.slice(0,2).map(Ht=>{var Ss;return r.jsxs("div",{className:"text-xs text-slate-600",children:[" ",Ht.areaName," (",((Ss=Ht.pinCodes)==null?void 0:Ss.length)||0," pins)"]},Ht._id)}),K.areas.length>2&&r.jsxs("div",{className:"text-xs text-slate-500",children:["+ ",K.areas.length-2," more area",K.areas.length-2===1?"":"s"]})]})]})]})},K._id)})}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-200",children:[r.jsxs("p",{className:"text-sm text-slate-600",children:[y.length," hub",y.length===1?"":"s"," selected"]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:()=>{b(!1)},className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:j||L0.length===0,className:"px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Updating...":"Update Hubs"})]})]})]})]})}),Me&&He&&r.jsx(sB,{profile:{id:He._id,name:(ze==null?void 0:ze.name)||((k5=He.profile)==null?void 0:k5.name)||"N/A",email:(ze==null?void 0:ze.email)||((C5=He.profile)==null?void 0:C5.email)||"N/A",phone:He.phone||"N/A",city:(ze==null?void 0:ze.city)||((P5=He.profile)==null?void 0:P5.city)||"N/A",profilePicture:(ze==null?void 0:ze.profileImage)||He.profilePicture||null,kyc:{status:(Se==null?void 0:Se.status)||"pending"}},partner:He,onClose:()=>le(!1)})]})},Iwe=()=>{const{token:e}=Ar(),t=ms(),[s,a]=g.useState(!1),[n,i]=g.useState(null),[l,o]=g.useState(!1),[c,d]=g.useState([]),[u,m]=g.useState([]),[f,h]=g.useState([]),[x,p]=g.useState(null),[b,j]=g.useState(!0),v=g.useRef(null),[y,w]=g.useState(!1),[N,k]=g.useState({phone:"",whatsappNumber:"",name:"",email:"",qualification:"",experience:"",partnerType:"individual",address:"",landmark:"",pincode:"",city:"",category:[],categoryNames:[],modeOfService:"both",selectedHubs:[],selectedPlan:null,selectedPlanId:null,profilePicture:null,profilePicturePreview:null,kycDocuments:{panCard:null,aadhaar:null,aadhaarback:null,drivingLicence:null,bill:null,chequeImage:null},bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""},registerAmount:0,securityDeposit:0,toolkitPrice:0,paymentApproved:!1,registerdFee:!1,paidBy:"Admin",terms:{accepted:!1,signature:null},agentName:"",gstNumber:"",referralCode:"",profileStatus:"active"});g.useEffect(()=>{(async()=>{var O;if(!e){console.log("No token available"),j(!1);return}j(!0);try{console.log("Fetching categories, hubs, fees, and MG plans...");try{const I=await Fe.fetchCategories(e);console.log("Categories response:",I);const X=I.categories||I.data||[];d(X),console.log("Categories set:",X.length)}catch(I){console.error("Error fetching categories:",I),i("Failed to load categories. Please refresh the page.")}try{const I=await Fe.fetchHubs(e);console.log("Hubs response:",I);const X=I.hubs||I.data||[];m(X),console.log("Hubs set:",X.length)}catch(I){console.error("Error fetching hubs:",I),i("Failed to load hubs. Please refresh the page.")}try{const I=await Fe.fetchFees(e);console.log("Fees response:",I),p(I.data||I);const X=((O=I.data)==null?void 0:O.individual)||I.individual||I.data||I;k(W=>({...W,registerAmount:X.registrationFee||0,securityDeposit:X.securityDeposit||0,toolkitPrice:X.toolkitPrice||0}))}catch(I){console.error("Error fetching fees:",I)}}catch(I){console.error("Error in fetchData:",I),i("Failed to load data. Please refresh the page.")}finally{j(!1)}})()},[e]),g.useEffect(()=>{if(x&&N.partnerType){const R=x[N.partnerType]||x;k(O=>({...O,registerAmount:R.registrationFee||0,securityDeposit:R.securityDeposit||0,toolkitPrice:R.toolkitPrice||0,selectedPlanId:null,selectedPlan:null}))}},[N.partnerType,x]),g.useEffect(()=>{const R=async()=>{if(e)try{console.log("Fetching MG plans for partner type:",N.partnerType);const O=await Fe.fetchMGPlans(e);console.log("MG Plans response:",O);const X=(O.plans||O.data||[]).filter(W=>!W.partnerType||W.partnerType==="both"?!0:W.partnerType===N.partnerType);console.log("Filtered MG Plans:",X.length,"for type:",N.partnerType),h(X)}catch(O){console.error("Error fetching MG plans:",O),h([])}};N.partnerType&&R()},[N.partnerType,e]);const S=R=>{const{name:O,value:I,type:X,checked:W}=R.target;k(T=>({...T,[O]:X==="checkbox"?W:I}))},P=R=>{const{name:O,value:I}=R.target;k(X=>({...X,bankDetails:{...X.bankDetails,[O]:I}}))},_=R=>{k(O=>{const X=O.category.includes(R)?O.category.filter(L=>L!==R):[...O.category,R],T=c.filter(L=>X.includes(L._id)).map(L=>L.name);return{...O,category:X,categoryNames:T}})},C=R=>{k(O=>{var W;const I=O.selectedHubs.some(T=>T.hubId===R),X=u.find(T=>T._id===R);return I?{...O,selectedHubs:O.selectedHubs.filter(T=>T.hubId!==R)}:{...O,selectedHubs:[...O.selectedHubs,{hubId:X._id,name:X.name,pinCodes:((W=X.areas)==null?void 0:W.flatMap(T=>T.pinCodes||[]))||[]}]}})},A=(R,O)=>{O&&k(I=>({...I,kycDocuments:{...I.kycDocuments,[R]:O}}))},V=R=>{if(!R)return;const O=new FileReader;O.onloadend=()=>{k(I=>({...I,profilePicture:R,profilePicturePreview:O.result}))},O.readAsDataURL(R)},q=R=>{k(O=>({...O,kycDocuments:{...O.kycDocuments,[R]:null}}))},Z=()=>{k(R=>({...R,profilePicture:null,profilePicturePreview:null}))},ue=R=>{const O=v.current;if(!O)return;const I=O.getBoundingClientRect(),X=R.clientX-I.left,W=R.clientY-I.top,T=O.getContext("2d");T.beginPath(),T.moveTo(X,W),w(!0)},me=R=>{if(!y)return;const O=v.current;if(!O)return;const I=O.getBoundingClientRect(),X=R.clientX-I.left,W=R.clientY-I.top,T=O.getContext("2d");T.lineTo(X,W),T.stroke()},Q=()=>{if(y){const R=v.current;if(R){const O=R.toDataURL("image/png");k(I=>({...I,terms:{...I.terms,signature:O}}))}}w(!1)},ae=()=>{const R=v.current;if(!R)return;R.getContext("2d").clearRect(0,0,R.width,R.height),k(I=>({...I,terms:{...I.terms,signature:null}}))},oe=async R=>{R.preventDefault(),a(!0),i(null),o(!1);try{const O=new FormData;O.append("phone",N.phone),O.append("whatsappNumber",N.whatsappNumber||N.phone),O.append("name",N.name),O.append("email",N.email),O.append("qualification",N.qualification),O.append("experience",N.experience),O.append("partnerType",N.partnerType),O.append("address",N.address),O.append("landmark",N.landmark),O.append("pincode",N.pincode),O.append("city",N.city),O.append("modeOfService",N.modeOfService),O.append("agentName",N.agentName),O.append("gstNumber",N.gstNumber),O.append("referralCode",N.referralCode),O.append("profileStatus",N.profileStatus),O.append("category",JSON.stringify(N.category)),O.append("categoryNames",JSON.stringify(N.categoryNames)),console.log("Selected Hubs being sent:",N.selectedHubs),O.append("selectedHubs",JSON.stringify(N.selectedHubs)),O.append("bankDetails",JSON.stringify(N.bankDetails)),O.append("registerAmount",N.registerAmount),O.append("securityDeposit",N.securityDeposit),O.append("toolkitPrice",N.toolkitPrice),O.append("paymentApproved",N.paymentApproved),O.append("registerdFee",N.registerdFee),O.append("paidBy",N.paidBy),O.append("termsAccepted",N.terms.accepted),N.terms.signature&&O.append("signature",N.terms.signature),N.selectedPlanId&&(O.append("selectedPlanId",N.selectedPlanId),O.append("selectedPlan",N.selectedPlan)),N.profilePicture&&O.append("profilePicture",N.profilePicture),Object.keys(N.kycDocuments).forEach(L=>{N.kycDocuments[L]&&O.append(L,N.kycDocuments[L])}),console.log("Submitting partner registration...");const I="https://nexo.works";console.log("API URL:",I);const X=await fetch(`${I}/api/admin/partners/manual-register`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:O});console.log("Response status:",X.status),console.log("Response headers:",X.headers.get("content-type"));const W=X.headers.get("content-type");if(!W||!W.includes("application/json")){const L=await X.text();throw console.error("Non-JSON response:",L),new Error("Server returned invalid response. Please check server logs.")}const T=await X.json();if(console.log("Response data:",T),!X.ok)throw new Error(T.message||"Failed to register partner");o(!0),setTimeout(()=>{t(`/admin/partners/${T.partner._id}`)},2e3)}catch(O){i(O.message)}finally{a(!1)}};return r.jsxs("div",{children:[r.jsx($r,{title:"Manual Partner Registration",subtitle:"Register a new partner with complete details manually"}),r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs("button",{onClick:()=>t("/admin/partners"),className:"mb-6 flex items-center gap-2 text-slate-600 hover:text-primary transition",children:[r.jsx(Lg,{className:"w-4 h-4"}),"Back to Partners"]}),l&&r.jsxs("div",{className:"mb-6 bg-emerald-50 border border-emerald-200 rounded-xl p-4 flex items-center gap-3",children:[r.jsx(It,{className:"w-5 h-5 text-emerald-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-emerald-800 font-semibold",children:"Partner registered successfully!"}),r.jsx("p",{className:"text-emerald-600 text-sm",children:"Redirecting to partner details..."})]})]}),n&&r.jsxs("div",{className:"mb-6 bg-rose-50 border border-rose-200 rounded-xl p-4 flex items-center gap-3",children:[r.jsx(Pu,{className:"w-5 h-5 text-rose-600"}),r.jsx("p",{className:"text-rose-800",children:n})]}),r.jsxs("form",{onSubmit:oe,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(Ws,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Phone Number ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"tel",name:"phone",value:N.phone,onChange:S,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"10-digit mobile number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"WhatsApp Number"}),r.jsx("input",{type:"tel",name:"whatsappNumber",value:N.whatsappNumber,onChange:S,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"WhatsApp number"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Full Name ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"text",name:"name",value:N.name,onChange:S,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Partner's full name"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Email ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"email",name:"email",value:N.email,onChange:S,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"email@example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Qualification"}),r.jsx("input",{type:"text",name:"qualification",value:N.qualification,onChange:S,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Educational qualification"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Experience"}),r.jsx("input",{type:"text",name:"experience",value:N.experience,onChange:S,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Years of experience"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Partner Type ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsxs("select",{name:"partnerType",value:N.partnerType,onChange:S,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[r.jsx("option",{value:"individual",children:"Individual"}),r.jsx("option",{value:"franchise",children:"Franchise"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Agent Name"}),r.jsx("input",{type:"text",name:"agentName",value:N.agentName,onChange:S,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Referring agent name"})]})]})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(aa,{className:"w-5 h-5 text-primary"}),"Address Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Address ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("textarea",{name:"address",value:N.address,onChange:S,required:!0,rows:"2",className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Complete address"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Landmark ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"text",name:"landmark",value:N.landmark,onChange:S,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Nearby landmark"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Pincode ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"text",name:"pincode",value:N.pincode,onChange:S,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"6-digit pincode"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["City ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"text",name:"city",value:N.city,onChange:S,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"City name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"GST Number"}),r.jsx("input",{type:"text",name:"gstNumber",value:N.gstNumber,onChange:S,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"GST number (if applicable)"})]})]})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(Vt,{className:"w-5 h-5 text-primary"}),"Service Information"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Service Categories ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),b?r.jsxs("div",{className:"flex items-center justify-center p-8 border border-slate-200 rounded-lg",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),r.jsx("span",{className:"ml-3 text-slate-600",children:"Loading categories..."})]}):c.length===0?r.jsx("div",{className:"p-4 border border-amber-200 bg-amber-50 rounded-lg text-amber-800 text-sm",children:"No categories available. Please add categories first."}):r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:c.map(R=>r.jsxs("label",{className:"flex items-center gap-2 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:N.category.includes(R._id),onChange:()=>_(R._id),className:"w-4 h-4 text-primary focus:ring-primary"}),r.jsx("span",{className:"text-sm text-slate-700",children:R.name})]},R._id))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Mode of Service ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsxs("select",{name:"modeOfService",value:N.modeOfService,onChange:S,required:!0,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[r.jsx("option",{value:"online",children:"Online"}),r.jsx("option",{value:"offline",children:"Offline"}),r.jsx("option",{value:"both",children:"Both"})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(Up,{className:"w-5 h-5 text-primary"}),"Profile Picture"]}),r.jsxs("div",{className:"flex items-center gap-6",children:[N.profilePicturePreview?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:N.profilePicturePreview,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-primary"}),r.jsx("button",{type:"button",onClick:Z,className:"absolute -top-2 -right-2 bg-rose-500 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-rose-600 transition",children:r.jsx(ut,{className:"w-4 h-4"})})]}):r.jsx("div",{className:"w-32 h-32 rounded-full bg-slate-100 flex items-center justify-center border-2 border-dashed border-slate-300",children:r.jsx(Up,{className:"w-8 h-8 text-slate-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:[r.jsx(oo,{className:"w-4 h-4"}),"Upload Photo",r.jsx("input",{type:"file",accept:"image/*",onChange:R=>V(R.target.files[0]),className:"hidden"})]}),r.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Recommended: Square image, at least 400x400px"})]})]})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(aa,{className:"w-5 h-5 text-primary"}),"Service Hubs"]}),r.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Select the service hubs where this partner will operate"}),b?r.jsxs("div",{className:"flex items-center justify-center p-8 border border-slate-200 rounded-lg",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),r.jsx("span",{className:"ml-3 text-slate-600",children:"Loading hubs..."})]}):u.length===0?r.jsx("div",{className:"p-4 border border-amber-200 bg-amber-50 rounded-lg text-amber-800 text-sm",children:"No hubs available. Please create hubs first in Hub Management."}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:u.map(R=>{var X;const O=N.selectedHubs.some(W=>W.hubId===R._id),I=((X=R.areas)==null?void 0:X.reduce((W,T)=>{var L;return W+(((L=T.pinCodes)==null?void 0:L.length)||0)},0))||0;return r.jsxs("label",{className:`flex items-start gap-3 p-4 border-2 rounded-lg cursor-pointer transition ${O?"border-primary bg-primary/5":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:[r.jsx("input",{type:"checkbox",checked:O,onChange:()=>C(R._id),className:"w-5 h-5 text-primary focus:ring-primary mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-semibold text-slate-900",children:R.name}),r.jsx("div",{className:"text-sm text-slate-600",children:R.city||"N/A"}),r.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[I," pin codes"]})]})]},R._id)})}),N.selectedHubs.length>0&&r.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Selected Hubs: ",N.selectedHubs.length]}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:N.selectedHubs.map(R=>r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:R.name},R.hubId))})]})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(Vt,{className:"w-5 h-5 text-primary"}),"KYC Documents"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"panCard",label:"PAN Card"},{key:"aadhaar",label:"Aadhaar Front"},{key:"aadhaarback",label:"Aadhaar Back"},{key:"drivingLicence",label:"Driving Licence"},{key:"bill",label:"Utility Bill"},{key:"chequeImage",label:"Cancelled Cheque"}].map(({key:R,label:O})=>r.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:O}),N.kycDocuments[R]?r.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(It,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"text-sm text-green-800",children:N.kycDocuments[R].name})]}),r.jsx("button",{type:"button",onClick:()=>q(R),className:"text-rose-600 hover:text-rose-700",children:r.jsx(ut,{className:"w-4 h-4"})})]}):r.jsxs("label",{className:"cursor-pointer flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-slate-300 rounded-lg hover:border-primary hover:bg-slate-50 transition",children:[r.jsx(oo,{className:"w-4 h-4 text-slate-400"}),r.jsxs("span",{className:"text-sm text-slate-600",children:["Upload ",O]}),r.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:I=>A(R,I.target.files[0]),className:"hidden"})]})]},R))})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(zs,{className:"w-5 h-5 text-primary"}),"Bank Details"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Account Number"}),r.jsx("input",{type:"text",name:"accountNumber",value:N.bankDetails.accountNumber,onChange:P,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Bank account number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"IFSC Code"}),r.jsx("input",{type:"text",name:"ifscCode",value:N.bankDetails.ifscCode,onChange:P,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"IFSC code"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Account Holder Name"}),r.jsx("input",{type:"text",name:"accountHolderName",value:N.bankDetails.accountHolderName,onChange:P,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"As per bank records"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bank Name"}),r.jsx("input",{type:"text",name:"bankName",value:N.bankDetails.bankName,onChange:P,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Bank name"})]})]})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(Lw,{className:"w-5 h-5 text-primary"}),"Terms & Conditions"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("label",{className:"flex items-start gap-3",children:[r.jsx("input",{type:"checkbox",checked:N.terms.accepted,onChange:R=>k(O=>({...O,terms:{...O.terms,accepted:R.target.checked}})),className:"w-5 h-5 text-primary focus:ring-primary mt-0.5"}),r.jsx("span",{className:"text-sm text-slate-700",children:"I confirm that the partner has accepted all terms and conditions"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Partner Signature"}),r.jsx("div",{className:"border-2 border-slate-300 rounded-lg overflow-hidden",children:r.jsx("canvas",{ref:v,width:600,height:200,onMouseDown:ue,onMouseMove:me,onMouseUp:Q,onMouseLeave:Q,className:"w-full cursor-crosshair bg-white",style:{touchAction:"none"}})}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Draw signature above"}),r.jsx("button",{type:"button",onClick:ae,className:"text-sm text-rose-600 hover:text-rose-700 font-medium",children:"Clear Signature"})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(It,{className:"w-5 h-5 text-primary"}),"MG Plan Selection (Optional)"]}),r.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Select an MG plan for the partner (can be done later)"}),r.jsx("div",{className:"mb-4 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-xs text-blue-800",children:["Showing plans for: ",r.jsx("strong",{className:"capitalize",children:N.partnerType})," partners"]})}),b?r.jsxs("div",{className:"flex items-center justify-center p-8 border border-slate-200 rounded-lg",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),r.jsx("span",{className:"ml-3 text-slate-600",children:"Loading MG plans..."})]}):f.length===0?r.jsx("div",{className:"p-4 border border-slate-200 bg-slate-50 rounded-lg text-slate-600 text-sm",children:"No MG plans available. Partner can select a plan later."}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:f.map(R=>r.jsxs("label",{className:`relative p-4 border-2 rounded-lg cursor-pointer transition ${N.selectedPlanId===R._id?"border-primary bg-primary/5":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:[r.jsx("input",{type:"radio",name:"selectedPlanId",value:R._id,checked:N.selectedPlanId===R._id,onChange:O=>k(I=>({...I,selectedPlanId:O.target.value,selectedPlan:R.name})),className:"absolute top-4 right-4 w-4 h-4 text-primary focus:ring-primary"}),r.jsxs("div",{className:"pr-8",children:[r.jsx("div",{className:"text-lg font-bold text-slate-900",children:R.name}),r.jsxs("div",{className:"text-2xl font-bold text-primary mt-2",children:["",R.price]}),r.jsxs("div",{className:"text-sm text-slate-600 mt-2 space-y-1",children:[r.jsxs("div",{children:[" ",R.leads," leads/month"]}),r.jsxs("div",{children:[" ",R.commission,"% commission"]}),r.jsxs("div",{children:[" ",R.leadFee," per lead"]})]})]})]},R._id))})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(zs,{className:"w-5 h-5 text-primary"}),"Payment Information"]}),r.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Note:"})," Fees are automatically set based on partner type (",N.partnerType,"). You can override them if needed."]})}),(()=>{const R=Number(N.registerAmount)||0,O=Number(N.securityDeposit)||0,I=Number(N.toolkitPrice)||0,X=f.find(L=>L._id===N.selectedPlanId),W=X?Number(X.price):0,T=R+O+I+W;return T>0?r.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-primary/10 to-primary/5 border-2 border-primary/20 rounded-xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Total Amount Breakdown:"}),r.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",T.toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[R>0&&r.jsxs("div",{className:"flex justify-between text-slate-600",children:[r.jsx("span",{children:"Registration Fee:"}),r.jsxs("span",{className:"font-semibold",children:["",R.toLocaleString("en-IN")]})]}),O>0&&r.jsxs("div",{className:"flex justify-between text-slate-600",children:[r.jsx("span",{children:"Security Deposit:"}),r.jsxs("span",{className:"font-semibold",children:["",O.toLocaleString("en-IN")]})]}),I>0&&r.jsxs("div",{className:"flex justify-between text-slate-600",children:[r.jsx("span",{children:"Toolkit Price:"}),r.jsxs("span",{className:"font-semibold",children:["",I.toLocaleString("en-IN")]})]}),W>0&&r.jsxs("div",{className:"flex justify-between text-primary font-semibold",children:[r.jsxs("span",{children:["MG Plan (",X.name,"):"]}),r.jsxs("span",{children:["",W.toLocaleString("en-IN")]})]})]})]}):null})(),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Registration Amount () ",r.jsx("span",{className:"text-xs text-slate-500",children:"(Auto-fetched)"})]}),r.jsx("input",{type:"number",name:"registerAmount",value:N.registerAmount,onChange:S,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-slate-50",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Security Deposit () ",r.jsx("span",{className:"text-xs text-slate-500",children:"(Auto-fetched)"})]}),r.jsx("input",{type:"number",name:"securityDeposit",value:N.securityDeposit,onChange:S,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-slate-50",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Toolkit Price () ",r.jsx("span",{className:"text-xs text-slate-500",children:"(Auto-fetched)"})]}),r.jsx("input",{type:"number",name:"toolkitPrice",value:N.toolkitPrice,onChange:S,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-slate-50",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Paid By"}),r.jsx("input",{type:"text",name:"paidBy",value:N.paidBy,onChange:S,className:"w-full px-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Admin/Self/Agent"})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",name:"registerdFee",checked:N.registerdFee,onChange:S,className:"w-4 h-4 text-primary focus:ring-primary"}),r.jsx("span",{className:"text-sm text-slate-700",children:"Registration Fee Paid"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",name:"paymentApproved",checked:N.paymentApproved,onChange:S,className:"w-4 h-4 text-primary focus:ring-primary"}),r.jsx("span",{className:"text-sm text-slate-700",children:"Payment Approved"})]})]})})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-4",children:[r.jsx("button",{type:"button",onClick:()=>t("/admin/partners"),className:"px-6 py-3 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:s,className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Registering..."]}):r.jsxs(r.Fragment,{children:[r.jsx(It,{className:"w-4 h-4"}),"Register Partner"]})})]})]})]})]})},Owe=[{header:"Name",accessor:"name"},{header:"Email",accessor:"email"},{header:"Phone",accessor:"phone"},{header:"Company",accessor:"companyName"},{header:"Spare Parts",accessor:"sparePartsCount"},{header:"Bookings",accessor:"bookingsCount"},{header:"Revenue",accessor:"revenue"},{header:"Status",accessor:"status"},{header:"Actions",accessor:"actions"}],Dwe=()=>{var oe,R,O,I,X,W,T,L,D;const e=ms(),{token:t}=Ar(),[s,a]=g.useState([]),[n,i]=g.useState(!0),[l,o]=g.useState(null),[c,d]=g.useState(""),[u,m]=g.useState("all"),[f,h]=g.useState(1),[x,p]=g.useState(1),[b,j]=g.useState(!1),[v,y]=g.useState(!1),[w,N]=g.useState(null),[k,S]=g.useState({name:"",email:"",phone:"",password:"",companyName:"",address:{street:"",city:"",state:"",pincode:"",country:"India"},gstNumber:"",panNumber:"",bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}}),[P,_]=g.useState(!1);g.useEffect(()=>{C()},[t,f,u,c]);const C=async()=>{if(t){i(!0),o(null);try{const M=await Fe.fetchVendors(t,{page:f,limit:10,search:c,status:u!=="all"?u:""});M.success?(a(M.vendors||[]),p(M.totalPages||1)):o(M.message||"Failed to fetch vendors")}catch(M){console.error("Fetch vendors error:",M),o(M.message||"Failed to fetch vendors"),a([])}finally{i(!1)}}},A=M=>{M.preventDefault(),h(1),C()},V=async(M,z)=>{if(window.confirm(`Are you sure you want to ${z==="active"?"activate":z==="suspended"?"suspend":"deactivate"} this vendor?`))try{await Fe.updateVendorStatus(t,M,z),C()}catch(se){alert(se.message||"Failed to update vendor status")}},q=async M=>{if(window.confirm("Are you sure you want to delete this vendor? This action cannot be undone."))try{await Fe.deleteVendor(t,M),C()}catch(z){alert(z.message||"Failed to delete vendor")}},Z=async M=>{M.preventDefault(),_(!0);try{await Fe.createVendor(t,k),j(!1),S({name:"",email:"",phone:"",password:"",companyName:"",address:{street:"",city:"",state:"",pincode:"",country:"India"},gstNumber:"",panNumber:"",bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}}),C()}catch(z){alert(z.message||"Failed to create vendor")}finally{_(!1)}},ue=async M=>{var z;M.preventDefault(),_(!0);try{const se={...k};!se.password||se.password.trim()===""?(delete se.password,console.log("Password field empty, will not update password")):console.log("Password provided, will update password"),console.log("Updating vendor with data:",{vendorId:w._id,fields:Object.keys(se),hasPassword:!!se.password});const ne=await Fe.updateVendor(t,w._id,se);console.log("Update response:",ne),ne.success&&(y(!1),N(null),S({name:"",email:"",phone:"",password:"",companyName:"",address:{street:"",city:"",state:"",pincode:"",country:"India"},gstNumber:"",panNumber:"",bankDetails:{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}}),C(),alert("Vendor updated successfully!"))}catch(se){console.error("Update vendor error:",se),alert(se.message||((z=se.data)==null?void 0:z.message)||"Failed to update vendor")}finally{_(!1)}},me=M=>{N(M),S({name:M.name||"",email:M.email||"",phone:M.phone||"",password:"",companyName:M.companyName||"",address:M.address||{street:"",city:"",state:"",pincode:"",country:"India"},gstNumber:M.gstNumber||"",panNumber:M.panNumber||"",bankDetails:M.bankDetails||{accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}}),y(!0)},Q={total:s.length,active:s.filter(M=>M.status==="active").length,suspended:s.filter(M=>M.status==="suspended").length,inactive:s.filter(M=>M.status==="inactive").length},ae=s.map(M=>{var z,se,ne;return{id:M._id,name:M.name||"N/A",email:M.email||"N/A",phone:M.phone||"N/A",companyName:M.companyName||"N/A",sparePartsCount:((z=M.stats)==null?void 0:z.sparePartsCount)||0,bookingsCount:((se=M.stats)==null?void 0:se.bookingsCount)||0,revenue:`${(((ne=M.stats)==null?void 0:ne.totalRevenue)||0).toLocaleString("en-IN")}`,status:M.status||"active",actions:M}});return r.jsxs("div",{className:"space-y-6",children:[r.jsx($r,{title:"Vendor Management",description:"Create, manage, and monitor vendor accounts",icon:sa}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(Qa,{title:"Total Vendors",value:Q.total,icon:sa,color:"blue"}),r.jsx(Qa,{title:"Active Vendors",value:Q.active,icon:It,color:"green"}),r.jsx(Qa,{title:"Suspended",value:Q.suspended,icon:Qf,color:"red"}),r.jsx(Qa,{title:"Inactive",value:Q.inactive,icon:Qf,color:"gray"})]}),r.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[r.jsx("form",{onSubmit:A,className:"flex-1 w-full",children:r.jsxs("div",{className:"relative",children:[r.jsx(ai,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),r.jsx("input",{type:"text",value:c,onChange:M=>d(M.target.value),placeholder:"Search by name, email, phone, company...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),r.jsxs("select",{value:u,onChange:M=>{m(M.target.value),h(1)},className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"suspended",children:"Suspended"})]}),r.jsxs("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2",children:[r.jsx(Mr,{})," Create Vendor"]})]})}),n?r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-12 text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),r.jsx("p",{className:"text-slate-500",children:"Loading vendors..."})]}):l?r.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:r.jsx("p",{className:"text-rose-500",children:l})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden",children:r.jsx(bs,{columns:Owe,data:ae.map(M=>({...M,status:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${M.status==="active"?"bg-green-100 text-green-800":M.status==="suspended"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:M.status}),actions:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>e(`/admin/vendors/${M.id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"View Details",children:r.jsx(wc,{})}),r.jsx("button",{onClick:()=>me(M.actions),className:"p-2 text-primary hover:bg-primary/10 rounded-lg transition",title:"Edit",children:r.jsx(Lw,{})}),M.status==="active"?r.jsx("button",{onClick:()=>V(M.id,"suspended"),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Suspend",children:r.jsx(Qf,{})}):r.jsx("button",{onClick:()=>V(M.id,"active"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition",title:"Activate",children:r.jsx(It,{})}),r.jsx("button",{onClick:()=>q(M.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete",children:r.jsx(an,{})})]})}))})}),x>1&&r.jsxs("div",{className:"flex items-center justify-between bg-white border border-slate-200 rounded-2xl shadow-sm p-4",children:[r.jsxs("button",{onClick:()=>h(M=>Math.max(1,M-1)),disabled:f===1,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(BI,{})," Previous"]}),r.jsxs("span",{className:"text-slate-600",children:["Page ",f," of ",x]}),r.jsxs("button",{onClick:()=>h(M=>Math.min(x,M+1)),disabled:f===x,className:"flex items-center gap-2 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next ",r.jsx($I,{})]})]})]}),b&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Create New Vendor"}),r.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{})})]}),r.jsxs("form",{onSubmit:Z,className:"p-6 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Name *"}),r.jsx("input",{type:"text",value:k.name,onChange:M=>S({...k,name:M.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email *"}),r.jsx("input",{type:"email",value:k.email,onChange:M=>S({...k,email:M.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone *"}),r.jsx("input",{type:"tel",value:k.phone,onChange:M=>S({...k,phone:M.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Password *"}),r.jsx("input",{type:"password",value:k.password,onChange:M=>S({...k,password:M.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Company Name"}),r.jsx("input",{type:"text",value:k.companyName,onChange:M=>S({...k,companyName:M.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Number"}),r.jsx("input",{type:"text",value:k.gstNumber,onChange:M=>S({...k,gstNumber:M.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"PAN Number"}),r.jsx("input",{type:"text",value:k.panNumber,onChange:M=>S({...k,panNumber:M.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),r.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Address"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Street Address"}),r.jsx("input",{type:"text",value:k.address.street||"",onChange:M=>S({...k,address:{...k.address,street:M.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),r.jsx("input",{type:"text",value:k.address.city||"",onChange:M=>S({...k,address:{...k.address,city:M.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"State"}),r.jsx("input",{type:"text",value:k.address.state||"",onChange:M=>S({...k,address:{...k.address,state:M.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),r.jsx("input",{type:"text",value:k.address.pincode||"",onChange:M=>S({...k,address:{...k.address,pincode:M.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Country"}),r.jsx("input",{type:"text",value:k.address.country||"India",onChange:M=>S({...k,address:{...k.address,country:M.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),r.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Bank Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Bank Name"}),r.jsx("input",{type:"text",value:k.bankDetails.bankName||"",onChange:M=>S({...k,bankDetails:{...k.bankDetails,bankName:M.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Holder Name"}),r.jsx("input",{type:"text",value:k.bankDetails.accountHolderName||"",onChange:M=>S({...k,bankDetails:{...k.bankDetails,accountHolderName:M.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Number"}),r.jsx("input",{type:"text",value:k.bankDetails.accountNumber||"",onChange:M=>S({...k,bankDetails:{...k.bankDetails,accountNumber:M.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"IFSC Code"}),r.jsx("input",{type:"text",value:k.bankDetails.ifscCode||"",onChange:M=>S({...k,bankDetails:{...k.bankDetails,ifscCode:M.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),r.jsxs("div",{className:"flex gap-4 pt-4",children:[r.jsx("button",{type:"submit",disabled:P,className:"flex-1 px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50",children:P?"Creating...":"Create Vendor"}),r.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"})]})]})]})}),v&&w&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-6 flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Edit Vendor"}),r.jsx("button",{onClick:()=>{y(!1),N(null)},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{})})]}),r.jsxs("form",{onSubmit:ue,className:"p-6 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Name *"}),r.jsx("input",{type:"text",value:k.name,onChange:M=>S({...k,name:M.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email *"}),r.jsx("input",{type:"email",value:k.email,onChange:M=>S({...k,email:M.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone *"}),r.jsx("input",{type:"tel",value:k.phone,onChange:M=>S({...k,phone:M.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"New Password (leave blank to keep current)"}),r.jsx("input",{type:"password",value:k.password,onChange:M=>S({...k,password:M.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Company Name"}),r.jsx("input",{type:"text",value:k.companyName,onChange:M=>S({...k,companyName:M.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Number"}),r.jsx("input",{type:"text",value:k.gstNumber,onChange:M=>S({...k,gstNumber:M.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"PAN Number"}),r.jsx("input",{type:"text",value:k.panNumber,onChange:M=>S({...k,panNumber:M.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),r.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Address"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Street Address"}),r.jsx("input",{type:"text",value:((oe=k.address)==null?void 0:oe.street)||"",onChange:M=>S({...k,address:{...k.address,street:M.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),r.jsx("input",{type:"text",value:((R=k.address)==null?void 0:R.city)||"",onChange:M=>S({...k,address:{...k.address,city:M.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"State"}),r.jsx("input",{type:"text",value:((O=k.address)==null?void 0:O.state)||"",onChange:M=>S({...k,address:{...k.address,state:M.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),r.jsx("input",{type:"text",value:((I=k.address)==null?void 0:I.pincode)||"",onChange:M=>S({...k,address:{...k.address,pincode:M.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Country"}),r.jsx("input",{type:"text",value:((X=k.address)==null?void 0:X.country)||"India",onChange:M=>S({...k,address:{...k.address,country:M.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),r.jsxs("div",{className:"border-t border-slate-200 pt-4 mt-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Bank Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Bank Name"}),r.jsx("input",{type:"text",value:((W=k.bankDetails)==null?void 0:W.bankName)||"",onChange:M=>S({...k,bankDetails:{...k.bankDetails,bankName:M.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Holder Name"}),r.jsx("input",{type:"text",value:((T=k.bankDetails)==null?void 0:T.accountHolderName)||"",onChange:M=>S({...k,bankDetails:{...k.bankDetails,accountHolderName:M.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Account Number"}),r.jsx("input",{type:"text",value:((L=k.bankDetails)==null?void 0:L.accountNumber)||"",onChange:M=>S({...k,bankDetails:{...k.bankDetails,accountNumber:M.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"IFSC Code"}),r.jsx("input",{type:"text",value:((D=k.bankDetails)==null?void 0:D.ifscCode)||"",onChange:M=>S({...k,bankDetails:{...k.bankDetails,ifscCode:M.target.value}}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),r.jsxs("div",{className:"flex gap-4 pt-4",children:[r.jsx("button",{type:"submit",disabled:P,className:"flex-1 px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50",children:P?"Updating...":"Update Vendor"}),r.jsx("button",{type:"button",onClick:()=>{y(!1),N(null)},className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"})]})]})]})})]})},Mwe=()=>{var u,m,f,h;const{vendorId:e}=jg(),t=ms(),{token:s}=Ar(),[a,n]=g.useState(null),[i,l]=g.useState(!0),[o,c]=g.useState(null);g.useEffect(()=>{d()},[s,e]);const d=async()=>{if(!(!s||!e)){l(!0),c(null);try{const x=await Fe.getVendorDetails(s,e);x.success?n(x.vendor):c(x.message||"Failed to fetch vendor details")}catch(x){console.error("Fetch vendor details error:",x),c(x.message||"Failed to fetch vendor details")}finally{l(!1)}}};return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):o||!a?r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[r.jsx("p",{className:"text-rose-500",children:o||"Vendor not found"}),r.jsx("button",{onClick:()=>t("/admin/vendors"),className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:"Back to Vendors"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>t("/admin/vendors"),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(Lg,{className:"text-xl"})}),r.jsx($r,{title:`Vendor: ${a.name}`,description:"View vendor details and activities",icon:Ws})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Spare Parts"}),r.jsx(Is,{className:"text-primary text-xl"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((u=a.stats)==null?void 0:u.sparePartsCount)||0})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Bookings"}),r.jsx(Sn,{className:"text-primary text-xl"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((m=a.stats)==null?void 0:m.bookingsCount)||0})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Total Revenue"}),r.jsx(Qt,{className:"text-primary text-xl"})]}),r.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:["",(((f=a.stats)==null?void 0:f.totalRevenue)||0).toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Balance"}),r.jsx(Qt,{className:"text-primary text-xl"})]}),r.jsxs("p",{className:"text-2xl font-bold text-slate-800",children:["",(((h=a.stats)==null?void 0:h.balance)||0).toLocaleString("en-IN")]})]})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Vendor Information"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${a.status==="active"?"bg-green-100 text-green-800":a.status==="suspended"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:a.status})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Name"}),r.jsxs("p",{className:"text-slate-800 flex items-center gap-2",children:[r.jsx(Ws,{className:"text-slate-400"}),a.name]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Email"}),r.jsxs("p",{className:"text-slate-800 flex items-center gap-2",children:[r.jsx(cl,{className:"text-slate-400"}),a.email]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Phone"}),r.jsxs("p",{className:"text-slate-800 flex items-center gap-2",children:[r.jsx(Au,{className:"text-slate-400"}),a.phone]})]}),a.companyName&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Company Name"}),r.jsx("p",{className:"text-slate-800",children:a.companyName})]}),a.gstNumber&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"GST Number"}),r.jsx("p",{className:"text-slate-800",children:a.gstNumber})]}),a.panNumber&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"PAN Number"}),r.jsx("p",{className:"text-slate-800",children:a.panNumber})]}),a.address&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Address"}),r.jsxs("p",{className:"text-slate-800",children:[a.address.street&&`${a.address.street}, `,a.address.city&&`${a.address.city}, `,a.address.state&&`${a.address.state} - `,a.address.pincode]})]}),a.bankDetails&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Bank Name"}),r.jsx("p",{className:"text-slate-800",children:a.bankDetails.bankName||"N/A"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Account Number"}),r.jsx("p",{className:"text-slate-800",children:a.bankDetails.accountNumber||"N/A"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"IFSC Code"}),r.jsx("p",{className:"text-slate-800",children:a.bankDetails.ifscCode||"N/A"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Account Holder Name"}),r.jsx("p",{className:"text-slate-800",children:a.bankDetails.accountHolderName||"N/A"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Created At"}),r.jsx("p",{className:"text-slate-800",children:new Date(a.createdAt).toLocaleDateString()})]}),a.lastLogin&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600 mb-1",children:"Last Login"}),r.jsx("p",{className:"text-slate-800",children:new Date(a.lastLogin).toLocaleDateString()})]})]})]}),a.spareParts&&a.spareParts.length>0&&r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Recent Spare Parts"}),r.jsx("div",{className:"space-y-2",children:a.spareParts.slice(0,5).map(x=>{var p;return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:x.name}),r.jsxs("p",{className:"text-sm text-slate-600",children:["",(p=x.price)==null?void 0:p.toLocaleString("en-IN")," | Stock: ",x.stock]})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${x.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:x.status})]},x._id)})})]}),a.recentBookings&&a.recentBookings.length>0&&r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Recent Bookings"}),r.jsx("div",{className:"space-y-2",children:a.recentBookings.slice(0,5).map(x=>{var p,b;return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:((p=x.sparePart)==null?void 0:p.name)||"N/A"}),r.jsxs("p",{className:"text-sm text-slate-600",children:["Qty: ",x.quantity," | ",(b=x.totalAmount)==null?void 0:b.toLocaleString("en-IN")]})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${x.status==="delivered"?"bg-green-100 text-green-800":x.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:x.status})]},x._id)})})]})]})},eb=({data:e,type:t="booking",onClose:s})=>{var j,v,y,w,N,k,S,P,_,C,A,V;const a=g.useRef(null),n=t==="booking"||t==="job",i=t==="transaction",l=n?(e==null?void 0:e.bookingId)||((j=e==null?void 0:e._id)==null?void 0:j.toString().slice(-8))||`INV-${Date.now()}`:(e==null?void 0:e.transactionId)||((v=e==null?void 0:e._id)==null?void 0:v.toString().slice(-8))||`TXN-${Date.now()}`,o=n?(e==null?void 0:e.completedAt)||(e==null?void 0:e.createdAt)||new Date:(e==null?void 0:e.createdAt)||new Date,c=n?((y=e==null?void 0:e.user)==null?void 0:y.name)||(e==null?void 0:e.customerName)||"Customer":((N=(w=e==null?void 0:e.partner)==null?void 0:w.profile)==null?void 0:N.name)||(e==null?void 0:e.partnerName)||"Partner",d=n?((k=e==null?void 0:e.user)==null?void 0:k.phone)||(e==null?void 0:e.customerPhone)||"N/A":((S=e==null?void 0:e.partner)==null?void 0:S.phone)||"N/A",u=n?((P=e==null?void 0:e.subService)==null?void 0:P.name)||(e==null?void 0:e.serviceName)||((_=e==null?void 0:e.service)==null?void 0:_.name)||"Service":null,m=n?(e==null?void 0:e.amount)||0:((A=(C=e==null?void 0:e.metadata)==null?void 0:C.priceBreakdown)==null?void 0:A.totalAmount)||(e==null?void 0:e.amount)||0,f=n?(e==null?void 0:e.status)||"pending":(e==null?void 0:e.status)||"success",h=n?(e==null?void 0:e.paymentMode)||"cash":null,x=n?(e==null?void 0:e.location)||{}:null,p=i?(e==null?void 0:e.description)||"Transaction":u,b=async()=>{var Q;const q=(Q=a.current)==null?void 0:Q.querySelector(".invoice-logo-img");let Z="";if(q&&q.src)try{if(q.complete&&q.naturalWidth>0){const ae=document.createElement("canvas");ae.width=q.naturalWidth||60,ae.height=q.naturalHeight||60,ae.getContext("2d").drawImage(q,0,0),Z=ae.toDataURL("image/png")}else{const ae=new Image;ae.crossOrigin="anonymous",await new Promise((oe,R)=>{ae.onload=()=>{const O=document.createElement("canvas");O.width=ae.width,O.height=ae.height,O.getContext("2d").drawImage(ae,0,0),Z=O.toDataURL("image/png"),oe()},ae.onerror=()=>{Z=q.src.startsWith("http")?q.src:`${window.location.origin}${q.src}`,oe()},ae.src=q.src.startsWith("http")?q.src:`${window.location.origin}${q.src}`})}}catch(ae){console.error("Error converting logo:",ae),q.src&&(Z=q.src.startsWith("http")?q.src:`${window.location.origin}${q.src}`)}const ue=window.open("","_blank");let me=a.current.innerHTML;Z&&(me=me.replace(/<img[^>]*class="invoice-logo-img"[^>]*>/,`<img src="${Z}" alt="NEXO Logo" style="width: auto; height: 120px; object-fit: contain; display: block;" />`)),ue.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Invoice - ${l}</title>
          <style>
            @media print {
              @page {
                size: A4;
                margin: 20mm;
              }
              body {
                margin: 0;
                padding: 0;
              }
              .no-print {
                display: none !important;
              }
            }
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
              background: white;
              color: #1a202c;
              padding: 40px;
            }
            .invoice-container {
              max-width: 800px;
              margin: 0 auto;
              background: white;
            }
            .invoice-header {
              border-bottom: 3px solid #214A73;
              padding-bottom: 30px;
              margin-bottom: 30px;
            }
            .invoice-header-top {
              display: flex;
              justify-content: space-between;
              align-items: flex-start;
              margin-bottom: 20px;
            }
            .invoice-logo-container {
              display: flex;
              align-items: center;
            }
            .invoice-logo-box {
              width: auto;
              height: 120px;
              border-radius: 8px;
              display: flex;
              align-items: center;
              justify-content: center;
              overflow: hidden;
              padding: 10px;
            }
            .invoice-logo-img {
              width: auto;
              height: 100%;
              object-fit: contain;
              display: block;
            }
            img.invoice-logo-img {
              max-width: none;
              max-height: 120px;
            }
            .invoice-number {
              text-align: right;
            }
            .invoice-number h1 {
              font-size: 28px;
              color: #214A73;
              margin-bottom: 5px;
            }
            .invoice-number p {
              color: #718096;
              font-size: 14px;
            }
            .invoice-info {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 40px;
              margin-bottom: 30px;
            }
            .info-section h3 {
              color: #214A73;
              font-size: 14px;
              text-transform: uppercase;
              letter-spacing: 1px;
              margin-bottom: 15px;
              padding-bottom: 8px;
              border-bottom: 2px solid #e2e8f0;
            }
            .info-section p {
              color: #4a5568;
              margin-bottom: 8px;
              font-size: 14px;
            }
            .invoice-items {
              margin: 30px 0;
            }
            .invoice-items h3 {
              color: #214A73;
              font-size: 14px;
              text-transform: uppercase;
              letter-spacing: 1px;
              margin-bottom: 15px;
              padding-bottom: 8px;
              border-bottom: 2px solid #e2e8f0;
            }
            .items-table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 20px;
            }
            .items-table thead {
              background: #f7fafc;
            }
            .items-table th {
              padding: 12px;
              text-align: left;
              color: #214A73;
              font-weight: 600;
              font-size: 12px;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            .items-table td {
              padding: 15px 12px;
              border-bottom: 1px solid #e2e8f0;
              color: #2d3748;
            }
            .items-table tbody tr:last-child td {
              border-bottom: none;
            }
            .invoice-total {
              margin-top: 20px;
              text-align: right;
            }
            .total-row {
              display: flex;
              justify-content: flex-end;
              margin-bottom: 10px;
              padding: 8px 0;
            }
            .total-label {
              width: 200px;
              text-align: right;
              color: #4a5568;
              font-size: 14px;
            }
            .total-value {
              width: 150px;
              text-align: right;
              color: #1a202c;
              font-weight: 600;
              font-size: 14px;
            }
            .total-row.grand-total {
              border-top: 2px solid #214A73;
              padding-top: 15px;
              margin-top: 15px;
            }
            .total-row.grand-total .total-label,
            .total-row.grand-total .total-value {
              font-size: 18px;
              font-weight: 700;
              color: #214A73;
            }
            .invoice-footer {
              margin-top: 50px;
              padding-top: 30px;
              border-top: 2px solid #e2e8f0;
              text-align: center;
              color: #718096;
              font-size: 12px;
            }
            .status-badge {
              display: inline-block;
              padding: 6px 12px;
              border-radius: 6px;
              font-size: 12px;
              font-weight: 600;
              text-transform: uppercase;
            }
            .status-completed {
              background: #c6f6d5;
              color: #22543d;
            }
            .status-success {
              background: #c6f6d5;
              color: #22543d;
            }
            .status-pending {
              background: #feebc8;
              color: #7c2d12;
            }
            .status-in_progress {
              background: #bee3f8;
              color: #2c5282;
            }
          </style>
        </head>
        <body>
          ${me}
        </body>
      </html>
    `),ue.document.close(),setTimeout(()=>{ue.print()},250)};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full my-8",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Invoice"}),r.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["#",l]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:b,className:"px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2",children:[r.jsx(Rg,{})," Print"]}),r.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"text-xl"})})]})]}),r.jsx("div",{className:"p-8 overflow-y-auto max-h-[calc(100vh-200px)] bg-gradient-to-br from-slate-50 to-white",children:r.jsxs("div",{ref:a,className:"invoice-container bg-white rounded-lg shadow-lg p-8",children:[r.jsxs("div",{className:"invoice-header",children:[r.jsxs("div",{className:"invoice-header-top",children:[r.jsx("div",{className:"invoice-logo-container",children:r.jsx("div",{className:"invoice-logo-box",children:r.jsx("img",{src:"/logo.png",alt:"NEXO Logo",className:"invoice-logo-img"})})}),r.jsxs("div",{className:"invoice-number",children:[r.jsx("h1",{children:"INVOICE"}),r.jsxs("p",{children:["#",l]})]})]}),r.jsxs("div",{className:"invoice-info",children:[r.jsxs("div",{className:"info-section",children:[r.jsx("h3",{children:"Bill To"}),r.jsx("p",{className:"font-semibold text-slate-800",children:c}),r.jsx("p",{children:d}),x&&x.address&&r.jsx("p",{className:"mt-2 text-sm",children:x.address}),x&&x.city&&r.jsxs("p",{className:"text-sm",children:[x.city," - ",x.pincode]})]}),r.jsxs("div",{className:"info-section",children:[r.jsx("h3",{children:"Invoice Details"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Date:"})," ",new Date(o).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})]}),n&&(e==null?void 0:e.scheduledDate)&&r.jsxs("p",{children:[r.jsx("strong",{children:"Service Date:"})," ",new Date(e.scheduledDate).toLocaleDateString("en-IN")]}),n&&(e==null?void 0:e.scheduledTime)&&r.jsxs("p",{children:[r.jsx("strong",{children:"Service Time:"})," ",e.scheduledTime]}),r.jsx("p",{className:"mt-2",children:r.jsx("span",{className:`status-badge ${f==="completed"||f==="success"?"status-completed":f==="pending"?"status-pending":f==="in_progress"?"status-in_progress":"status-pending"}`,children:f})})]})]})]}),r.jsxs("div",{className:"invoice-items",children:[r.jsx("h3",{children:"Items"}),r.jsxs("table",{className:"items-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Description"}),r.jsx("th",{style:{textAlign:"right"},children:"Amount"})]})}),r.jsx("tbody",{children:r.jsxs("tr",{children:[r.jsxs("td",{children:[r.jsx("div",{className:"font-semibold text-slate-800",children:p}),n&&u&&r.jsx("div",{className:"text-sm text-slate-600 mt-1",children:u}),i&&(e==null?void 0:e.reference)&&r.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:["Ref: ",e.reference]}),n&&h&&r.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:["Payment: ",h]})]}),r.jsxs("td",{style:{textAlign:"right",fontWeight:600},children:["",m.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]})]}),r.jsxs("div",{className:"invoice-total",children:[i&&((V=e==null?void 0:e.metadata)==null?void 0:V.priceBreakdown)&&r.jsxs(r.Fragment,{children:[e.metadata.priceBreakdown.registrationFee>0&&r.jsxs("div",{className:"total-row",children:[r.jsx("div",{className:"total-label",children:"Registration Fee:"}),r.jsxs("div",{className:"total-value",children:["",e.metadata.priceBreakdown.registrationFee.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.metadata.priceBreakdown.securityDeposit>0&&r.jsxs("div",{className:"total-row",children:[r.jsx("div",{className:"total-label",children:"Security Deposit:"}),r.jsxs("div",{className:"total-value",children:["",e.metadata.priceBreakdown.securityDeposit.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.metadata.priceBreakdown.toolkitPrice>0&&r.jsxs("div",{className:"total-row",children:[r.jsx("div",{className:"total-label",children:"Toolkit:"}),r.jsxs("div",{className:"total-value",children:["",e.metadata.priceBreakdown.toolkitPrice.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.metadata.priceBreakdown.mgPlanFee>0&&r.jsxs("div",{className:"total-row",children:[r.jsx("div",{className:"total-label",children:"MG Plan Fee:"}),r.jsxs("div",{className:"total-value",children:["",e.metadata.priceBreakdown.mgPlanFee.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.metadata.priceBreakdown.leadFee>0&&r.jsxs("div",{className:"total-row",children:[r.jsx("div",{className:"total-label",children:"Lead Fee:"}),r.jsxs("div",{className:"total-value",children:["",e.metadata.priceBreakdown.leadFee.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),r.jsxs("div",{className:"total-row",children:[r.jsx("div",{className:"total-label",children:"Subtotal:"}),r.jsxs("div",{className:"total-value",children:["",m.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),r.jsxs("div",{className:"total-row",children:[r.jsx("div",{className:"total-label",children:"Tax:"}),r.jsx("div",{className:"total-value",children:"0.00"})]}),r.jsxs("div",{className:"total-row grand-total",children:[r.jsx("div",{className:"total-label",children:"Total:"}),r.jsxs("div",{className:"total-value",children:["",m.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),r.jsxs("div",{className:"invoice-footer",children:[r.jsx("p",{className:"mb-2",children:r.jsx("strong",{children:"Thank you for your business!"})}),r.jsx("p",{children:"This is a computer-generated invoice and does not require a signature."}),r.jsx("p",{className:"mt-4",children:"For support, contact us at support@nexo.works"}),r.jsx("p",{className:"mt-2",children:"www.nexo.works"})]})]})})]})})},aB=({quotation:e,onClose:t,onAccept:s,onReject:a,userType:n,token:i})=>{var N,k,S,P,_,C,A,V,q,Z,ue,me,Q,ae;const[l,o]=g.useState(""),[c,d]=g.useState(!1),[u,m]=g.useState(!1),[f,h]=g.useState(null);if(!e)return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Error"}),r.jsx("p",{className:"text-slate-600 mb-4",children:"Quotation data is missing or invalid."}),r.jsx("button",{onClick:t,className:"w-full px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition",children:"Close"})]})});const x=oe=>{switch(oe){case"accepted":case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"expired":return"bg-gray-100 text-gray-800";default:return"bg-slate-100 text-slate-800"}},p=oe=>{switch(oe){case"accepted":case"approved":return r.jsx(It,{className:"w-4 h-4"});case"rejected":return r.jsx(Sc,{className:"w-4 h-4"});case"pending":return r.jsx(Hs,{className:"w-4 h-4"});default:return r.jsx(Hs,{className:"w-4 h-4"})}},b=async()=>{h(null),m(!0);try{await s(e._id),t()}catch(oe){h(oe.message||"Failed to accept quotation")}finally{m(!1)}},j=async()=>{if(!l.trim()&&n==="admin"){h("Please provide a rejection reason");return}h(null),m(!0);try{await a(e._id,l),t()}catch(oe){h(oe.message||"Failed to reject quotation")}finally{m(!1)}},v=n==="customer"&&e.customerStatus==="pending",y=n==="admin"&&e.adminStatus==="pending",w=e.validTill?new Date(e.validTill)<new Date:!1;return g.useEffect(()=>{var oe;console.log("=== QuotationDetailsModal Debug ==="),console.log("Quotation data:",e),console.log("Quotation ID:",e._id),console.log("Quotation Number:",e.quotationNumber),console.log("Items:",e.items),console.log("Items count:",((oe=e.items)==null?void 0:oe.length)||0),console.log("User:",e.user),console.log("Partner:",e.partner),console.log("Booking:",e.booking),console.log("Subtotal:",e.subtotal),console.log("Total Amount:",e.totalAmount),console.log("===============================")},[e]),r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Quotation Details"}),r.jsxs("p",{className:"text-sm text-slate-600",children:["#",e.quotationNumber]})]}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:u,children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[f&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:f}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ws,{className:"w-4 h-4 text-slate-600"}),r.jsx("span",{className:"text-xs text-slate-600",children:"Customer Status"})]}),r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 w-fit ${x(e.customerStatus)}`,children:[p(e.customerStatus),((N=e.customerStatus)==null?void 0:N.charAt(0).toUpperCase())+((k=e.customerStatus)==null?void 0:k.slice(1))||"Pending"]}),e.customerResponseAt&&r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:new Date(e.customerResponseAt).toLocaleString()})]}),r.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(ni,{className:"w-4 h-4 text-slate-600"}),r.jsx("span",{className:"text-xs text-slate-600",children:"Admin Status"})]}),r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 w-fit ${x(e.adminStatus)}`,children:[p(e.adminStatus),((S=e.adminStatus)==null?void 0:S.charAt(0).toUpperCase())+((P=e.adminStatus)==null?void 0:P.slice(1))||"Pending"]}),e.adminResponseAt&&r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:new Date(e.adminResponseAt).toLocaleString()})]}),r.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Hs,{className:"w-4 h-4 text-slate-600"}),r.jsx("span",{className:"text-xs text-slate-600",children:"Overall Status"})]}),r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 w-fit ${x(e.status)}`,children:[p(e.status),((_=e.status)==null?void 0:_.replace("_"," ").split(" ").map(oe=>oe.charAt(0).toUpperCase()+oe.slice(1)).join(" "))||"Pending"]})]})]}),r.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Booking Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-slate-600",children:"Booking ID:"}),r.jsx("span",{className:"ml-2 font-semibold",children:((C=e.booking)==null?void 0:C.bookingId)||((V=(A=e.booking)==null?void 0:A._id)==null?void 0:V.toString().slice(-8))||((q=e.booking)==null?void 0:q.toString().slice(-8))||"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-slate-600",children:"Customer:"}),r.jsx("span",{className:"ml-2 font-semibold",children:((Z=e.user)==null?void 0:Z.name)||e.user||"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-slate-600",children:"Partner:"}),r.jsx("span",{className:"ml-2 font-semibold",children:((me=(ue=e.partner)==null?void 0:ue.profile)==null?void 0:me.name)||((Q=e.partner)==null?void 0:Q.phone)||((ae=e.partner)==null?void 0:ae.name)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-slate-600",children:"Valid Till:"}),r.jsxs("span",{className:`ml-2 font-semibold ${w?"text-red-600":""}`,children:[e.validTill?new Date(e.validTill).toLocaleDateString():"N/A",w&&" (Expired)"]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Items"}),e.items&&e.items.length>0?r.jsx("div",{className:"space-y-2",children:e.items.map((oe,R)=>r.jsxs("div",{className:"border border-slate-200 rounded-lg p-3",children:[r.jsxs("div",{className:"flex justify-between items-start mb-1",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:oe.name||"Item "+(R+1)}),oe.description&&r.jsx("p",{className:"text-xs text-slate-600 mt-1",children:oe.description})]}),r.jsxs("p",{className:"font-semibold text-slate-800",children:["",(oe.total||0).toFixed(2)]})]}),r.jsxs("div",{className:"flex gap-4 text-xs text-slate-600",children:[r.jsxs("span",{children:["Qty: ",oe.quantity||1]}),r.jsxs("span",{children:["Unit Price: ",(oe.unitPrice||0).toFixed(2)]})]})]},R))}):r.jsx("p",{className:"text-sm text-slate-500 italic",children:"No items found in this quotation."})]}),r.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-slate-600",children:"Subtotal:"}),r.jsxs("span",{className:"font-semibold",children:["",(e.subtotal||0).toFixed(2)]})]}),(e.tax||0)>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-slate-600",children:"Tax:"}),r.jsxs("span",{className:"font-semibold",children:["",(e.tax||0).toFixed(2)]})]}),(e.discount||0)>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-slate-600",children:"Discount:"}),r.jsxs("span",{className:"font-semibold",children:["-",(e.discount||0).toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-base font-bold pt-2 border-t border-slate-300",children:[r.jsx("span",{children:"Total Amount:"}),r.jsxs("span",{className:"text-primary",children:["",(e.totalAmount||0).toFixed(2)]})]})]}),e.description&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Description"}),r.jsx("p",{className:"text-sm text-slate-600",children:e.description})]}),e.notes&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Notes"}),r.jsx("p",{className:"text-sm text-slate-600",children:e.notes})]}),e.customerRejectionReason&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[r.jsx("h3",{className:"text-sm font-semibold text-red-700 mb-1",children:"Customer Rejection Reason"}),r.jsx("p",{className:"text-sm text-red-600",children:e.customerRejectionReason})]}),e.adminRejectionReason&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[r.jsx("h3",{className:"text-sm font-semibold text-red-700 mb-1",children:"Admin Rejection Reason"}),r.jsx("p",{className:"text-sm text-red-600",children:e.adminRejectionReason})]}),(v||y)&&!w&&r.jsx("div",{className:"pt-4 border-t border-slate-200",children:c?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Rejection Reason ",n==="admin"&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{value:l,onChange:oe=>o(oe.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"Please provide a reason for rejection...",disabled:u})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:()=>{d(!1),o(""),h(null)},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",disabled:u,children:"Cancel"}),r.jsx("button",{type:"button",onClick:j,className:"flex-1 px-4 py-3 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:u,children:u?"Rejecting...":"Confirm Rejection"})]})]}):r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{type:"button",onClick:b,className:"flex-1 px-4 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",disabled:u,children:[r.jsx(It,{className:"w-5 h-5"}),u?"Processing...":"Accept Quotation"]}),r.jsxs("button",{type:"button",onClick:()=>d(!0),className:"flex-1 px-4 py-3 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",disabled:u,children:[r.jsx(Sc,{className:"w-5 h-5"}),"Reject Quotation"]})]})}),!v&&!y&&r.jsx("div",{className:"pt-4 border-t border-slate-200",children:r.jsx("button",{type:"button",onClick:t,className:"w-full px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Close"})})]})]})})},NT=[{header:"Booking ID",accessor:"bookingId"},{header:"Customer",accessor:"customerName"},{header:"Service",accessor:"serviceName"},{header:"City",accessor:"city"},{header:"Status",accessor:"status",render:e=>{const t={completed:"bg-emerald-500/10 text-emerald-600",in_progress:"bg-amber-500/10 text-amber-600",paused:"bg-yellow-500/10 text-yellow-600",accepted:"bg-blue-500/10 text-blue-600",pending:"bg-slate-200 text-slate-700",cancelled:"bg-red-500/10 text-red-600",rejected:"bg-red-500/10 text-red-600"},s=(e==null?void 0:e.toLowerCase())||"";return r.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${t[s]||"bg-slate-200 text-slate-700"}`,children:(e==null?void 0:e.charAt(0).toUpperCase())+(e==null?void 0:e.slice(1))||e})}},{header:"Quotations",accessor:"quotations",render:(e,t)=>{var a;const s=((a=t.quotations)==null?void 0:a.length)||0;return s===0?r.jsx("span",{className:"text-slate-400",children:"-"}):r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-semibold",children:[r.jsx(Jf,{className:"w-3 h-3"})," ",s]})}},{header:"Partner",accessor:"partnerName"},{header:"Amount",accessor:"amount"},{header:"Updated",accessor:"updatedAt"}],Lwe=[{header:"Date",accessor:"date"},{header:"Customer",accessor:"customer"},{header:"Service",accessor:"service"},{header:"Rating",accessor:"rating",render:e=>r.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-semibold text-amber-500",children:[" ",e]})},{header:"Feedback",accessor:"feedback"}],Fwe=[{header:"Txn ID",accessor:"transactionId"},{header:"Booking",accessor:"bookingId"},{header:"Gateway",accessor:"gateway"},{header:"Status",accessor:"status"},{header:"Amount",accessor:"amount"},{header:"Settled On",accessor:"settledOn"}],Rwe=[{id:"BK-3012",bookingId:"BK-3012",customerName:"Anita Sharma",serviceName:"AC Service - Split",city:"Mumbai",status:"In Progress",amount:"1,499",updatedAt:"12 Nov, 14:22"},{id:"BK-3004",bookingId:"BK-3004",customerName:"Rahul Menon",serviceName:"Refrigerator Repair",city:"Bengaluru",status:"Completed",amount:"2,199",updatedAt:"12 Nov, 11:40"},{id:"BK-2991",bookingId:"BK-2991",customerName:"Megha Patil",serviceName:"Washing Machine Install",city:"Pune",status:"Payment Pending",amount:"1,299",updatedAt:"12 Nov, 10:05"}],Bwe=()=>{var ye,qe,st,St;const{token:e}=Ar(),[t,s]=g.useState(!1),[a,n]=g.useState({userId:"",subServiceId:"",scheduledDate:"",scheduledTime:"",location:{address:"",landmark:"",pincode:""},amount:"",paymentMode:"cash",discount:0,lat:"",lng:""}),[i,l]=g.useState(""),[o,c]=g.useState(null),[d,u]=g.useState([]),[m,f]=g.useState(!1),[h,x]=g.useState(""),[p,b]=g.useState(""),[j,v]=g.useState(null),[y,w]=g.useState(null),[N,k]=g.useState(!1),[S,P]=g.useState(null),[_,C]=g.useState(""),[A,V]=g.useState(null),[q,Z]=g.useState(!1),[ue,me]=g.useState(!1),[Q,ae]=g.useState(null),[oe,R]=g.useState(!1),[O,I]=g.useState(""),[X,W]=g.useState("all"),[T,L]=g.useState("all"),[D,M]=g.useState({from:"",to:""}),{data:z,isLoading:se,error:ne,refetch:te}=Bt(de=>Fe.fetchBookings(de,{page:1,limit:100,status:X!=="all"?X:void 0}),[X]),{data:Re}=Bt(de=>Fe.fetchUsers(de,{limit:100}),[]),{data:Ce}=Bt(de=>Fe.fetchModuleData("/api/admin/categories-with-details",de),[]),{data:Je}=Bt(de=>Fe.fetchPartners(de,{limit:100,status:"active"}),[]),{data:Ge}=Bt(de=>Fe.fetchTeamMembers(de,{status:"active"}),[]),Le=(Je==null?void 0:Je.data)||(Je==null?void 0:Je.partners)||[],mt=(Ge==null?void 0:Ge.data)||(Ge==null?void 0:Ge.teamMembers)||[];g.useEffect(()=>{mt.length>0&&console.log("Team Members with Partner Data:",mt.map(de=>{var he,Te,ce;return{name:de.name,phone:de.phone,partner:de.partner,partnerName:(Te=(he=de.partner)==null?void 0:he.profile)==null?void 0:Te.name,partnerPhone:(ce=de.partner)==null?void 0:ce.phone}}))},[mt]);const Tt=(z==null?void 0:z.data)||[],Pe=(z==null?void 0:z.count)||Tt.length||0,dt=(z==null?void 0:z.monthlyBookingCount)||{},$e=At.useMemo(()=>{let de=[...Tt];if(O.trim()){const he=O.toLowerCase();de=de.filter(Te=>{var Me,le,Ne,We,at;const ce=Te.booking||Te,U=(Te.customerName||((Me=ce.user)==null?void 0:Me.name)||"").toLowerCase(),ie=(Te.serviceName||((le=ce.subService)==null?void 0:le.name)||"").toLowerCase(),Ae=((Ne=Te._id||ce._id)==null?void 0:Ne.toString().toLowerCase())||"",Ue=(Te.partnerName||((at=(We=ce.partner)==null?void 0:We.profile)==null?void 0:at.name)||"").toLowerCase();return U.includes(he)||ie.includes(he)||Ae.includes(he)||Ue.includes(he)})}return X!=="all"&&(de=de.filter(he=>{const Te=he.booking||he;return(he.status||Te.status||"").toLowerCase()===X.toLowerCase()})),T!=="all"&&(de=de.filter(he=>{var ce;const Te=he.quotations&&he.quotations.length>0||((ce=he.booking)==null?void 0:ce.quotations)&&he.booking.quotations.length>0;return T==="yes"?Te:!Te})),(D.from||D.to)&&(de=de.filter(he=>{const Te=he.booking||he,ce=new Date(Te.createdAt||he.createdAt);if(D.from&&ce<new Date(D.from))return!1;if(D.to){const U=new Date(D.to);if(U.setHours(23,59,59,999),ce>U)return!1}return!0})),de},[Tt,O,X,T,D]),Qe=$e,Xe=Qe.filter(de=>{var Te;const he=(de.status||((Te=de.booking)==null?void 0:Te.status)||"").toLowerCase();return he==="pending"||he==="accepted"}).length,kt=Qe.filter(de=>de.status==="completed").length,er=Qe.filter(de=>de.status==="cancelled").length,we=[{label:"Total Bookings",value:Pe,trend:`${Xe} pending`,icon:Hc,description:"Across all service categories"},{label:"Completed",value:kt,trend:`${er} cancelled`,icon:Hs,description:"Successfully completed bookings"},{label:"Pending",value:Xe,trend:"Awaiting assignment",icon:Qt,description:"Bookings in progress"},{label:"Monthly Trend",value:Object.keys(dt).length>0?Object.values(dt).reduce((de,he)=>de+he,0):0,trend:`${Object.keys(dt).length} months tracked`,icon:Rw,description:"Historical booking data"}];At.useEffect(()=>{if(Ce!=null&&Ce.data){const de=[];Ce.data.forEach(he=>{var Te;(Te=he.subCategories)==null||Te.forEach(ce=>{var U;(U=ce.services)==null||U.forEach(ie=>{var Ae;(Ae=ie.subServices)==null||Ae.forEach(Ue=>{de.push({...Ue,serviceName:ie.name,subCategoryName:ce.name,categoryName:he.name})})})})}),u(de)}},[Ce]);const F=((ye=Re==null?void 0:Re.data)==null?void 0:ye.filter(de=>{var he,Te,ce;return((he=de.name)==null?void 0:he.toLowerCase().includes(i.toLowerCase()))||((Te=de.email)==null?void 0:Te.toLowerCase().includes(i.toLowerCase()))||((ce=de.phone)==null?void 0:ce.includes(i))}))||[],fe=de=>{c(de),n(he=>({...he,userId:de._id})),l("")},lt=de=>{const he=de.target.value,Te=d.find(ce=>ce._id===he);n(ce=>({...ce,subServiceId:he,amount:(Te==null?void 0:Te.price)||""}))},Nt=async de=>{if(de.preventDefault(),x(""),b(""),f(!0),!a.userId||!a.subServiceId||!a.scheduledDate||!a.scheduledTime){x("Please fill all required fields"),f(!1);return}try{await Fe.createManualBooking(e,a),b("Booking created successfully!"),s(!1),n({userId:"",subServiceId:"",scheduledDate:"",scheduledTime:"",location:{address:"",landmark:"",pincode:""},amount:"",paymentMode:"cash",discount:0,lat:"",lng:""}),c(null),te&&te(),setTimeout(()=>b(""),3e3)}catch(he){x(he.message||"Failed to create booking")}finally{f(!1)}};return r.jsxs("div",{children:[r.jsx($r,{title:"Customer Bookings",subtitle:"Track bookings through their lifecycle, reconcile payments, and close the feedback loop in one workspace.",actions:r.jsx("button",{onClick:()=>s(!0),className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition",children:"Create Manual Booking"})}),r.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:we.map(de=>r.jsx(Qa,{...de},de.label))}),r.jsxs("div",{className:"space-y-10",children:[r.jsxs("section",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Live Booking Tracker"}),r.jsxs("div",{className:"flex items-center gap-3",children:[ne&&r.jsx("p",{className:"text-xs text-rose-500",children:"Sync failed. Showing cached data."}),se&&r.jsx("p",{className:"text-xs text-slate-400",children:"Loading bookings..."}),r.jsxs("button",{onClick:()=>{const de=$e.length>0?$e.map(he=>{var Ae,Ue,Me,le,Ne,We,at,it,Ot,Et,et,sr,rs;const Te=he.booking||he,ce=(Te==null?void 0:Te.partner)||he.partner,U=(Te==null?void 0:Te.teamMember)||he.teamMember;let ie="Not Assigned";return he.partnerName&&he.partnerName!=="Still not assigned"?ie=he.partnerName:ce?(ie=((Ae=ce.profile)==null?void 0:Ae.name)||ce.name||"Partner",U&&(ie=`${ie} (via ${U.name||"Team Member"})`)):U&&(ie=((Me=(Ue=U.partner)==null?void 0:Ue.profile)==null?void 0:Me.name)||((le=U.partner)==null?void 0:le.name)||"Team Member"),{bookingId:((Ne=he._id||(Te==null?void 0:Te._id))==null?void 0:Ne.toString().slice(-8))||"N/A",customerName:he.customerName||((We=Te==null?void 0:Te.user)==null?void 0:We.name)||((at=he.user)==null?void 0:at.name)||"N/A",serviceName:he.serviceName||((it=Te==null?void 0:Te.subService)==null?void 0:it.name)||((Ot=he.subService)==null?void 0:Ot.name)||"N/A",city:((rs=(sr=(et=(Et=he.location||(Te==null?void 0:Te.location))==null?void 0:Et.address)==null?void 0:et.split(","))==null?void 0:sr.pop())==null?void 0:rs.trim())||"N/A",status:he.status||(Te==null?void 0:Te.status)||"pending",partnerName:ie,amount:he.amount||(Te==null?void 0:Te.amount)||0,updatedAt:he.createdAt||Te!=null&&Te.createdAt?new Date(he.createdAt||(Te==null?void 0:Te.createdAt)).toLocaleString("en-IN"):"N/A"}}):[];Do(de,NT,"Customer_Bookings","Bookings",{columnWidths:[15,20,25,15,15,25,15,20]})},disabled:Qe.length===0,className:"inline-flex items-center gap-2 px-3 py-1.5 text-xs font-semibold text-primary hover:text-primary-dark disabled:opacity-50 disabled:cursor-not-allowed transition",title:"Export to Excel",children:[r.jsx(si,{className:"w-4 h-4"}),"Export"]})]})]}),r.jsxs("div",{className:"mb-4 space-y-3 bg-slate-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ai,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search by customer name, service, booking ID, or partner...",value:O,onChange:de=>I(de.target.value),className:"w-full pl-10 pr-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary bg-white"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[r.jsxs("select",{value:X,onChange:de=>W(de.target.value),className:"px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary bg-white",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"accepted",children:"Accepted"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"paused",children:"Paused"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"}),r.jsx("option",{value:"rejected",children:"Rejected"})]}),r.jsxs("select",{value:T,onChange:de=>L(de.target.value),className:"px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary bg-white",children:[r.jsx("option",{value:"all",children:"All Bookings"}),r.jsx("option",{value:"yes",children:"With Quotations"}),r.jsx("option",{value:"no",children:"Without Quotations"})]}),r.jsx("input",{type:"date",value:D.from,onChange:de=>M(he=>({...he,from:de.target.value})),placeholder:"From Date",className:"px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary bg-white"}),r.jsx("input",{type:"date",value:D.to,onChange:de=>M(he=>({...he,to:de.target.value})),placeholder:"To Date",className:"px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary bg-white"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-sm text-slate-600",children:["Showing ",r.jsx("strong",{children:Qe.length})," of ",r.jsx("strong",{children:Tt.length})," bookings"]}),(O||X!=="all"||T!=="all"||D.from||D.to)&&r.jsx("button",{onClick:()=>{I(""),W("all"),L("all"),M({from:"",to:""})},className:"text-sm text-primary font-semibold hover:underline",children:"Clear All Filters"})]})]}),r.jsx(bs,{columns:NT,data:Qe.length>0?Qe.map(de=>{var ie,Ae,Ue,Me,le,Ne,We,at,it,Ot,Et,et,sr;const he=de.booking||de,Te=(he==null?void 0:he.partner)||de.partner,ce=(he==null?void 0:he.teamMember)||de.teamMember;let U="Not Assigned";return de.partnerName&&de.partnerName!=="Still not assigned"?U=de.partnerName:Te?(U=((ie=Te.profile)==null?void 0:ie.name)||Te.name||"Partner",ce&&(U=`${U} (via ${ce.name||"Team Member"})`)):ce&&(U=((Ue=(Ae=ce.partner)==null?void 0:Ae.profile)==null?void 0:Ue.name)||((Me=ce.partner)==null?void 0:Me.name)||"Team Member"),{id:de._id||(he==null?void 0:he._id),bookingId:((le=de._id||(he==null?void 0:he._id))==null?void 0:le.toString().slice(-8))||"N/A",customerName:de.customerName||((Ne=he==null?void 0:he.user)==null?void 0:Ne.name)||((We=de.user)==null?void 0:We.name)||"N/A",serviceName:de.serviceName||((at=he==null?void 0:he.subService)==null?void 0:at.name)||((it=de.subService)==null?void 0:it.name)||"N/A",city:((sr=(et=(Et=(Ot=de.location||(he==null?void 0:he.location))==null?void 0:Ot.address)==null?void 0:Et.split(","))==null?void 0:et.pop())==null?void 0:sr.trim())||"N/A",status:de.status||(he==null?void 0:he.status)||"pending",partnerName:U,amount:de.amount||he!=null&&he.amount?`${de.amount||(he==null?void 0:he.amount)}`:"0",updatedAt:de.createdAt||he!=null&&he.createdAt?new Date(de.createdAt||(he==null?void 0:he.createdAt)).toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"N/A",_original:he||de}}):Rwe,emptyLabel:"No bookings to display.",renderActions:de=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>{var Te,ce;const he=de._original||de;P(he),(Te=he.teamMember)!=null&&Te._id?C(`member-${he.teamMember._id}`):(ce=he.partner)!=null&&ce._id?C(`partner-${he.partner._id}`):C(""),k(!0)},className:"px-3 py-1.5 bg-blue-500/10 text-blue-600 rounded-lg text-sm font-semibold hover:bg-blue-500/20 transition flex items-center gap-2",title:"Assign Partner or Team Member",children:[r.jsx(GI,{})," Assign"]}),r.jsxs("button",{onClick:()=>v({data:de._original||de,type:"booking"}),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-sm font-semibold hover:bg-primary/20 transition flex items-center gap-2",children:[r.jsx(Vt,{})," Invoice"]}),de.quotations&&de.quotations.length>0&&r.jsx("div",{className:"flex items-center gap-2",children:de.quotations.length===1?r.jsxs("button",{onClick:async()=>{try{me(!0);const he=de.quotations[0];console.log("Opening quotation:",he);try{const Te=await Fe.getQuotationById(e,he._id);console.log("Quotation API response:",Te),Te&&Te.data?V(Te.data):V(he)}catch(Te){console.error("Error fetching quotation details:",Te),V(he)}Z(!0)}catch(he){console.error("Error opening quotation:",he),alert("Error loading quotation: "+(he.message||"Unknown error"))}finally{me(!1)}},disabled:ue,className:"px-3 py-1.5 bg-purple-500/10 text-purple-600 rounded-lg text-sm font-semibold hover:bg-purple-500/20 transition flex items-center gap-2 disabled:opacity-50",title:"View Quotation",children:[r.jsx(Jf,{})," View Quotation"]}):r.jsx("div",{className:"relative",children:r.jsxs("button",{onClick:async()=>{try{me(!0);const he=de.quotations[0];try{const Te=await Fe.getQuotationById(e,he._id);Te&&Te.data?V(Te.data):V(he)}catch{V(he)}Z(!0)}catch(he){console.error("Error opening quotation:",he)}finally{me(!1)}},disabled:ue,className:"px-3 py-1.5 bg-purple-500/10 text-purple-600 rounded-lg text-sm font-semibold hover:bg-purple-500/20 transition flex items-center gap-2 disabled:opacity-50",title:`View ${de.quotations.length} quotations`,children:[r.jsx(Jf,{})," Quotations (",de.quotations.length,")"]})})}),r.jsxs("button",{onClick:()=>{var Te,ce,U,ie,Ae,Ue;const he=de._original||de;ae({...he,quotations:de.quotations||[],customerName:de.customerName||((Te=he==null?void 0:he.user)==null?void 0:Te.name),customerEmail:(ce=he==null?void 0:he.user)==null?void 0:ce.email,customerPhone:(U=he==null?void 0:he.user)==null?void 0:U.phone,serviceName:de.serviceName||((ie=he==null?void 0:he.subService)==null?void 0:ie.name),partnerName:de.partnerName||((Ue=(Ae=he==null?void 0:he.partner)==null?void 0:Ae.profile)==null?void 0:Ue.name),amount:de.amount||(he==null?void 0:he.amount)}),R(!0)},className:"px-3 py-1.5 bg-slate-500/10 text-slate-600 rounded-lg text-sm font-semibold hover:bg-slate-500/20 transition flex items-center gap-2",title:"View Booking Details",children:[r.jsx(wc,{})," Details"]})]})})]}),r.jsxs("section",{className:"grid lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Payment Ledger"}),r.jsx("button",{className:"text-xs text-primary font-semibold",children:"Download CSV"})]}),r.jsx(bs,{columns:Fwe,data:(z==null?void 0:z.payments)??[],emptyLabel:"No payments recorded today."})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Feedback Stream"}),r.jsx("button",{className:"text-xs text-primary font-semibold",children:"View All"})]}),r.jsx(bs,{columns:Lwe,data:(z==null?void 0:z.feedback)??[{id:1,date:"12 Nov, 09:20",customer:"Sneha Kapoor",service:"Deep Cleaning (3BHK)",rating:5,feedback:"Technicians were on time and extremely thorough."},{id:2,date:"11 Nov, 18:45",customer:"Vikram Jain",service:"Chimney Service",rating:4,feedback:"Quick resolution, but follow-up call was delayed."}],emptyLabel:"No feedback received today."})]})]})]}),t&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Create Manual Booking"}),r.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("form",{onSubmit:Nt,className:"p-6 space-y-6",children:[h&&r.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg text-sm",children:h}),p&&r.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg text-sm",children:p}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Customer ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(ai,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search by name, email, or phone",value:i,onChange:de=>l(de.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),o&&r.jsxs("div",{className:"mt-2 p-3 bg-slate-50 rounded-lg flex items-center gap-3",children:[r.jsx(Ws,{className:"w-5 h-5 text-slate-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:o.name}),r.jsxs("p",{className:"text-sm text-slate-600",children:[o.email,"  ",o.phone]})]}),r.jsx("button",{type:"button",onClick:()=>{c(null),n(de=>({...de,userId:""}))},className:"ml-auto text-rose-500 hover:text-rose-600",children:r.jsx(ut,{className:"w-5 h-5"})})]}),i&&!o&&F.length>0&&r.jsx("div",{className:"mt-2 border border-slate-200 rounded-lg max-h-48 overflow-y-auto",children:F.slice(0,5).map(de=>r.jsxs("button",{type:"button",onClick:()=>fe(de),className:"w-full px-4 py-3 text-left hover:bg-slate-50 border-b border-slate-100 last:border-0 flex items-center gap-3",children:[r.jsx(Ws,{className:"w-5 h-5 text-slate-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:de.name}),r.jsxs("p",{className:"text-sm text-slate-600",children:[de.email,"  ",de.phone]})]})]},de._id))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Service ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsxs("select",{value:a.subServiceId,onChange:lt,required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select a service"}),d.map(de=>r.jsxs("option",{value:de._id,children:[de.categoryName,"  ",de.subCategoryName,"  ",de.serviceName,"  ",de.name]},de._id))]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Scheduled Date ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"date",value:a.scheduledDate,onChange:de=>n(he=>({...he,scheduledDate:de.target.value})),required:!0,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Scheduled Time ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"time",value:a.scheduledTime,onChange:de=>n(he=>({...he,scheduledTime:de.target.value})),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[r.jsx(aa,{className:"inline w-4 h-4 mr-1"}),"Address ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"text",placeholder:"Full address",value:a.location.address,onChange:de=>n(he=>({...he,location:{...he.location,address:de.target.value}})),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent mb-2"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("input",{type:"text",placeholder:"Landmark",value:a.location.landmark,onChange:de=>n(he=>({...he,location:{...he.location,landmark:de.target.value}})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"}),r.jsx("input",{type:"text",placeholder:"Pincode",value:a.location.pincode,onChange:de=>n(he=>({...he,location:{...he.location,pincode:de.target.value}})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Amount () ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"number",value:a.amount,onChange:de=>n(he=>({...he,amount:de.target.value})),required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Payment Mode ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsxs("select",{value:a.paymentMode,onChange:de=>n(he=>({...he,paymentMode:de.target.value})),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[r.jsx("option",{value:"cash",children:"Cash"}),r.jsx("option",{value:"online",children:"Online"}),r.jsx("option",{value:"upi",children:"UPI"}),r.jsx("option",{value:"phonepe",children:"PhonePe"}),r.jsx("option",{value:"credit card",children:"Credit Card"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Discount ()"}),r.jsx("input",{type:"number",value:a.discount,onChange:de=>n(he=>({...he,discount:parseFloat(de.target.value)||0})),min:"0",step:"0.01",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition font-semibold",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Creating...":"Create Booking"})]})]})]})}),j&&r.jsx(eb,{data:j.data,type:j.type,onClose:()=>v(null)}),N&&S&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Assign Partner or Team Member"}),r.jsx("button",{onClick:()=>{k(!1),P(null),C("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"text-xl"})})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:[r.jsx("strong",{children:"Booking ID:"})," ",((qe=S._id)==null?void 0:qe.toString().slice(-8))||"N/A"]}),r.jsxs("p",{className:"text-sm text-slate-600",children:[r.jsx("strong",{children:"Service:"})," ",S.serviceName||((st=S.subService)==null?void 0:st.name)||"N/A"]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Select Partner or Team Member"}),Le.length===0&&mt.length===0?r.jsx("div",{className:"w-full px-4 py-3 border border-slate-300 rounded-lg bg-slate-50 text-slate-500 text-sm",children:"No active partners or team members available"}):r.jsxs("select",{id:"assignSelect",value:_,onChange:de=>C(de.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm",children:[r.jsx("option",{value:"",children:"-- Select Partner or Team Member --"}),Le.length>0&&r.jsx("optgroup",{label:"Partners",children:Le.map(de=>{var U,ie,Ae,Ue,Me;const he=((U=de.Profile)==null?void 0:U.name)||((ie=de.profile)==null?void 0:ie.name)||de.name||de.profileName||"Unknown Partner",Te=((Ae=de.Profile)==null?void 0:Ae.phone)||de.phone||((Ue=de.profile)==null?void 0:Ue.phone)||"N/A",ce=((Me=de.Profile)==null?void 0:Me.id)||de._id||de.id;return r.jsxs("option",{value:`partner-${ce}`,children:[he," - ",Te," (Partner)"]},`partner-${ce}`)})}),mt.length>0&&r.jsx("optgroup",{label:"Team Members",children:mt.map(de=>{var ie,Ae,Ue,Me,le,Ne;const he=de.name||"Team Member",Te=de.phone||"N/A",ce=((Ae=(ie=de.partner)==null?void 0:ie.profile)==null?void 0:Ae.name)||((Ue=de.partner)==null?void 0:Ue.name)||"Unknown Partner",U=((Me=de.partner)==null?void 0:Me.phone)||((Ne=(le=de.partner)==null?void 0:le.profile)==null?void 0:Ne.phone)||"N/A";return r.jsxs("option",{value:`member-${de._id}`,children:[he," - ",Te," (Team: ",ce," - ",U,")"]},`member-${de._id}`)})})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:async()=>{const he=document.getElementById("assignSelect").value;if(!he){alert("Please select a partner or team member");return}w(S._id);try{let Te=null,ce=null;if(he.startsWith("partner-"))Te=he.replace("partner-","");else if(he.startsWith("member-")){ce=he.replace("member-","");const U=mt.find(ie=>{var Ae;return((Ae=ie._id)==null?void 0:Ae.toString())===ce});U!=null&&U.partner&&(typeof U.partner=="object"&&U.partner._id?Te=U.partner._id.toString():Te=U.partner.toString())}await Fe.assignBooking(e,S._id,Te,ce),alert("Assigned successfully!"),k(!1),P(null),C(""),te()}catch(Te){alert(Te.message||"Failed to assign")}finally{w(null)}},disabled:y===S._id,className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:y===S._id?"Assigning...":"Assign"}),r.jsx("button",{onClick:()=>{k(!1),P(null),C("")},className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"})]})]})}),oe&&Q&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Booking Details"}),r.jsxs("p",{className:"text-sm text-slate-600",children:["Booking ID: ",((St=Q._id)==null?void 0:St.toString().slice(-8))||"N/A"]})]}),r.jsx("button",{onClick:()=>{R(!1),ae(null)},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Customer"}),r.jsx("p",{className:"text-slate-900",children:Q.customerName||"N/A"}),r.jsx("p",{className:"text-sm text-slate-600",children:Q.customerEmail||"N/A"}),r.jsx("p",{className:"text-sm text-slate-600",children:Q.customerPhone||"N/A"})]}),r.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Service"}),r.jsx("p",{className:"text-slate-900",children:Q.serviceName||"N/A"}),r.jsxs("p",{className:"text-sm text-slate-600",children:["Amount: ",Q.amount||"0"]})]}),r.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Status"}),r.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-semibold ${Q.status==="completed"?"bg-green-100 text-green-800":Q.status==="in_progress"?"bg-blue-100 text-blue-800":Q.status==="paused"?"bg-yellow-100 text-yellow-800":"bg-slate-100 text-slate-800"}`,children:Q.status||"N/A"})]}),r.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Partner"}),r.jsx("p",{className:"text-slate-900",children:Q.partnerName||"Not Assigned"})]})]}),Q.pauseDetails&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"text-sm font-semibold text-yellow-800 mb-2 flex items-center gap-2",children:[r.jsx(Hs,{})," Job Paused"]}),r.jsxs("p",{className:"text-sm text-yellow-700",children:[r.jsx("strong",{children:"Reason:"})," ",Q.pauseDetails.pauseReason||"Not specified"]}),r.jsxs("p",{className:"text-sm text-yellow-700",children:[r.jsx("strong",{children:"Resume Date:"})," ",Q.pauseDetails.nextScheduledDate?new Date(Q.pauseDetails.nextScheduledDate).toLocaleDateString():"N/A"]}),r.jsxs("p",{className:"text-sm text-yellow-700",children:[r.jsx("strong",{children:"Resume Time:"})," ",Q.pauseDetails.nextScheduledTime||"N/A"]}),r.jsxs("p",{className:"text-sm text-yellow-700",children:[r.jsx("strong",{children:"Paused At:"})," ",Q.pauseDetails.pausedAt?new Date(Q.pauseDetails.pausedAt).toLocaleString():"N/A"]})]}),Q.completedAt&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsxs("h3",{className:"text-sm font-semibold text-green-800 mb-2 flex items-center gap-2",children:[r.jsx(It,{})," Job Completed"]}),r.jsxs("p",{className:"text-sm text-green-700",children:[r.jsx("strong",{children:"Completed At:"})," ",new Date(Q.completedAt).toLocaleString()]}),Q.remark&&r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-sm font-semibold text-green-800",children:"Partner Remark:"}),r.jsx("p",{className:"text-sm text-green-700 mt-1",children:Q.remark})]})]}),Q.photos&&Q.photos.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2",children:[r.jsx(wh,{})," Photos (",Q.photos.length,")"]}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:Q.photos.map((de,he)=>r.jsx("div",{className:"relative aspect-square rounded-lg overflow-hidden border border-slate-200",children:r.jsx("img",{src:de.startsWith("http")?de:`https://nexo.works/${de.replace(/\\/g,"/")}`,alt:`Photo ${he+1}`,className:"w-full h-full object-cover",onError:Te=>{Te.target.src="https://via.placeholder.com/300?text=Image+Not+Found"}})},he))})]}),Q.videos&&Q.videos.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2",children:[r.jsx(Vt,{})," Videos (",Q.videos.length,")"]}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:Q.videos.map((de,he)=>r.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden border border-slate-200 bg-slate-100",children:r.jsx("video",{src:de.startsWith("http")?de:`https://nexo.works/${de.replace(/\\/g,"/")}`,controls:!0,className:"w-full h-full",children:"Your browser does not support the video tag."})},he))})]}),Q.quotations&&Q.quotations.length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2",children:[r.jsx(Jf,{})," Quotations (",Q.quotations.length,")"]}),r.jsx("div",{className:"space-y-3",children:Q.quotations.map((de,he)=>r.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 hover:border-purple-300 transition",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-slate-900",children:["#",de.quotationNumber||"N/A"]}),r.jsxs("p",{className:"text-sm text-slate-600",children:["Amount: ",de.totalAmount||0]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${de.customerStatus==="accepted"?"bg-green-100 text-green-800":de.customerStatus==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:["Customer: ",de.customerStatus||"pending"]}),r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${de.adminStatus==="accepted"?"bg-green-100 text-green-800":de.adminStatus==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:["Admin: ",de.adminStatus||"pending"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:async()=>{try{me(!0);const Te=await Fe.getQuotationById(e,de._id);Te.success&&Te.data?(V(Te.data),Z(!0),R(!1)):(V(de),Z(!0),R(!1))}catch(Te){console.error("Error fetching quotation:",Te),V(de),Z(!0),R(!1)}finally{me(!1)}},disabled:ue,className:"px-3 py-1.5 bg-purple-500/10 text-purple-600 rounded-lg text-sm font-semibold hover:bg-purple-500/20 transition flex items-center gap-2 disabled:opacity-50",children:[r.jsx(wc,{})," ",ue?"Loading...":"View Details"]}),de.adminStatus==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:async()=>{try{await Fe.approveQuotation(e,de._id),te(),R(!1),ae(null)}catch(Te){alert(Te.message||"Failed to approve quotation")}},className:"px-3 py-1.5 bg-green-500/10 text-green-600 rounded-lg text-sm font-semibold hover:bg-green-500/20 transition",children:"Approve"}),r.jsx("button",{onClick:async()=>{const Te=prompt("Enter rejection reason:");if(Te)try{await Fe.rejectQuotation(e,de._id,Te),te(),R(!1),ae(null)}catch(ce){alert(ce.message||"Failed to reject quotation")}},className:"px-3 py-1.5 bg-red-500/10 text-red-600 rounded-lg text-sm font-semibold hover:bg-red-500/20 transition",children:"Reject"})]})]})]},de._id||he))})]})]})]})}),q&&A&&r.jsx(aB,{quotation:A,onClose:()=>{Z(!1),V(null)},onAccept:async de=>{try{await Fe.approveQuotation(e,de),te(),Z(!1),V(null)}catch(he){throw console.error("Error approving quotation:",he),alert(he.message||"Failed to approve quotation"),he}},onReject:async(de,he)=>{try{await Fe.rejectQuotation(e,de,he),te(),Z(!1),V(null)}catch(Te){throw console.error("Error rejecting quotation:",Te),alert(Te.message||"Failed to reject quotation"),Te}},userType:"admin",token:e})]})},pm=[{emoji:"",name:"Wrench",category:"Tools"},{emoji:"",name:"Hammer",category:"Tools"},{emoji:"",name:"Tools",category:"Tools"},{emoji:"",name:"Gear",category:"Tools"},{emoji:"",name:"Nut & Bolt",category:"Tools"},{emoji:"",name:"Electrical",category:"Electrical"},{emoji:"",name:"Light Bulb",category:"Electrical"},{emoji:"",name:"Plug",category:"Electrical"},{emoji:"",name:"Antenna",category:"Electrical"},{emoji:"",name:"Battery",category:"Electrical"},{emoji:"",name:"Shower",category:"Plumbing"},{emoji:"",name:"Water",category:"Plumbing"},{emoji:"",name:"Droplet",category:"Plumbing"},{emoji:"",name:"Wave",category:"Plumbing"},{emoji:"",name:"Tap",category:"Plumbing"},{emoji:"",name:"Paint",category:"Painting"},{emoji:"",name:"Paintbrush",category:"Painting"},{emoji:"",name:"Frame",category:"Decor"},{emoji:"",name:"Window",category:"Decor"},{emoji:"",name:"Door",category:"Decor"},{emoji:"",name:"Snowflake",category:"AC"},{emoji:"",name:"Thermometer",category:"AC"},{emoji:"",name:"Cyclone",category:"AC"},{emoji:"",name:"Wind",category:"AC"},{emoji:"",name:"Broom",category:"Cleaning"},{emoji:"",name:"Sponge",category:"Cleaning"},{emoji:"",name:"Bottle",category:"Cleaning"},{emoji:"",name:"Soap",category:"Cleaning"},{emoji:"",name:"Fire Extinguisher",category:"Safety"},{emoji:"",name:"Paperclip",category:"Hardware"},{emoji:"",name:"Pushpin",category:"Hardware"},{emoji:"",name:"Lock",category:"Hardware"},{emoji:"",name:"Key",category:"Hardware"},{emoji:"",name:"Hook",category:"Hardware"},{emoji:"",name:"TV",category:"Appliances"},{emoji:"",name:"Phone",category:"Appliances"},{emoji:"",name:"Laptop",category:"Appliances"},{emoji:"",name:"Computer",category:"Appliances"},{emoji:"",name:"Keyboard",category:"Appliances"},{emoji:"",name:"Construction",category:"Building"},{emoji:"",name:"Brick",category:"Building"},{emoji:"",name:"House",category:"Building"},{emoji:"",name:"Building",category:"Building"},{emoji:"",name:"Factory",category:"Building"},{emoji:"",name:"Package",category:"Storage"},{emoji:"",name:"Clipboard",category:"Storage"},{emoji:"",name:"Card Index",category:"Storage"},{emoji:"",name:"Folder",category:"Storage"},{emoji:"",name:"File Cabinet",category:"Storage"},{emoji:"",name:"Toolbox",category:"General"},{emoji:"",name:"Shopping Cart",category:"General"},{emoji:"",name:"Chart",category:"General"},{emoji:"",name:"Star",category:"General"},{emoji:"",name:"Sparkle",category:"General"},{emoji:"",name:"Glowing Star",category:"General"},{emoji:"",name:"Diamond",category:"General"},{emoji:"",name:"Target",category:"General"},{emoji:"",name:"Check Mark",category:"General"},{emoji:"",name:"Magnifying Glass",category:"General"},{emoji:"",name:"Ladder",category:"Tools"},{emoji:"",name:"Bucket",category:"Tools"},{emoji:"",name:"Magnet",category:"Tools"},{emoji:"",name:"Flashlight",category:"Tools"},{emoji:"",name:"Screwdriver",category:"Tools"}],$we=[{header:"SKU",accessor:"sku"},{header:"Part Name",accessor:"name"},{header:"Category",accessor:"category"},{header:"Location",accessor:"location"},{header:"Stock",accessor:"stock",render:(e,t)=>{const s=typeof e=="string"?e:`${t.stock||0} ${t.unit||"units"}`;return r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${t.status==="Critical"?"bg-rose-500/10 text-rose-600":t.status==="Low"?"bg-amber-500/10 text-amber-600":"bg-emerald-500/10 text-emerald-600"}`,children:s})}},{header:"Supplier",accessor:"supplier"},{header:"Lead Time",accessor:"leadTime",render:e=>typeof e=="string"?e:`${e||0} days`},{header:"Actions",accessor:"_id",render:e=>r.jsx("button",{onClick:()=>fetchItemHistory(e),className:"p-1.5 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",title:"View History",children:r.jsx(Hs,{className:"w-4 h-4"})})}],Uwe=[{header:"PO",accessor:"poId"},{header:"Supplier",accessor:"supplier"},{header:"Parts",accessor:"items",render:e=>typeof e=="string"?e:Array.isArray(e)?e.map(t=>`${t.name||t.sku} (${t.quantity})`).join(", "):"N/A"},{header:"Value",accessor:"value",render:(e,t)=>{if(typeof e=="string")return e;const s=t.totalValue||0;return s>1e5?`${(s/1e5).toFixed(1)}L`:`${s.toLocaleString()}`}},{header:"Status",accessor:"status",render:e=>r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${e==="Delivered"?"bg-emerald-500/10 text-emerald-600":e==="In Transit"?"bg-blue-500/10 text-blue-600":e==="Pending"?"bg-amber-500/10 text-amber-600":e==="Cancelled"?"bg-rose-500/10 text-rose-600":"bg-slate-500/10 text-slate-600"}`,children:e})},{header:"ETA",accessor:"eta",render:(e,t)=>typeof e=="string"?e:t.expectedDeliveryDate?new Date(t.expectedDeliveryDate).toLocaleDateString("en-GB",{day:"numeric",month:"short"}):"N/A"}],zwe=()=>{var Te,ce;const{token:e}=Ar(),[t,s]=g.useState("inventory"),[a,n]=g.useState(!1),[i,l]=g.useState(null),[o,c]=g.useState({name:"",icon:"",items:[],order:0,isActive:!0}),[d,u]=g.useState(""),[m,f]=g.useState(!1),[h,x]=g.useState(""),[p,b]=g.useState(""),[j,v]=g.useState(!1),[y,w]=g.useState(""),[N,k]=g.useState(!1),[S,P]=g.useState(!1),[_,C]=g.useState({supplier:"",supplierContact:"",expectedDeliveryDate:"",notes:"",items:[]}),[A,V]=g.useState({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""}),[q,Z]=g.useState(""),[ue,me]=g.useState(!1),[Q,ae]=g.useState(!1),[oe,R]=g.useState(null),[O,I]=g.useState([]),X=g.useRef(null),[W,T]=g.useState({category:"",minStockLevel:5,reorderLevel:10,criticalLevel:3,autoReorder:!1,autoReorderQuantity:20,leadTimeDays:7}),{data:L,refresh:D}=Bt(U=>Fe.fetchInventoryStats(U),[]),{data:M,isLoading:z,error:se,refresh:ne}=Bt(U=>Fe.fetchInventoryItems(U),[]),{data:te,isLoading:Re,error:Ce,refresh:Je}=Bt(U=>Fe.fetchPurchaseOrders(U),[]),{data:Ge,isLoading:Le,error:mt,refresh:Tt}=Bt(U=>Fe.fetchMaterialCategories(U),[]),{data:Pe,isLoading:dt,error:$e,refresh:Qe}=Bt(U=>Fe.fetchVendorSpareParts(U),[]),Xe=(Ge==null?void 0:Ge.data)||[],kt=(M==null?void 0:M.data)||[],er=(te==null?void 0:te.data)||[],we=(L==null?void 0:L.data)||{},F=(Pe==null?void 0:Pe.data)||[];g.useEffect(()=>{const U=ie=>{X.current&&!X.current.contains(ie.target)&&me(!1)};return ue&&document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[ue]);const fe=[{label:"Inventory Value",value:we.valuation||"0",trend:"Real-time",icon:$q,description:`Across ${we.totalItems||0} items`},{label:"Critical SKUs",value:we.criticalCount||0,trend:we.criticalCount>0?"Action required":"All good",icon:a2,intent:we.criticalCount>0?"warning":"positive",description:"Below configured safety stock"},{label:"Active Suppliers",value:we.suppliers||0,trend:"Active vendors",icon:Hq,description:"With active purchase orders"},{label:"In-transit Shipments",value:we.inTransit||0,trend:"Pending delivery",icon:WI,description:"Purchase orders in transit"}],lt=(U=null)=>{U?(l(U._id),c({name:U.name||"",icon:U.icon||"",items:U.items||[],order:U.order||0,isActive:U.isActive!==void 0?U.isActive:!0})):(l(null),c({name:"",icon:"",items:[],order:Xe.length>0?Math.max(...Xe.map(ie=>ie.order||0))+1:0,isActive:!0})),u(""),n(!0),b(""),x("")},Nt=()=>{n(!1),l(null),c({name:"",icon:"",items:[],order:0,isActive:!0}),u(""),b(""),x(""),v(!1),w("")},ye=()=>{d.trim()&&(c(U=>({...U,items:[...U.items,d.trim()]})),u(""))},qe=U=>{c(ie=>({...ie,items:ie.items.filter((Ae,Ue)=>Ue!==U)}))},st=async U=>{U.preventDefault(),f(!0),b(""),x("");try{if(!o.name||!o.icon||o.items.length===0){b("Please fill in all required fields and add at least one item"),f(!1);return}i?(await Fe.updateMaterialCategory(e,i,o),x("Material category updated successfully!")):(await Fe.createMaterialCategory(e,o),x("Material category created successfully!")),setTimeout(()=>{Tt(),Nt()},1e3)}catch(ie){b(ie.message||"Failed to save material category")}finally{f(!1)}},St=async U=>{if(window.confirm("Are you sure you want to delete this material category?"))try{await Fe.deleteMaterialCategory(e,U),x("Material category deleted successfully!"),setTimeout(()=>{Tt(),x("")},1e3)}catch(ie){b(ie.message||"Failed to delete material category"),setTimeout(()=>b(""),3e3)}},de=async(U,ie)=>{const Ae=Xe.findIndex(We=>We._id===U);if(Ae===-1)return;const Ue=ie==="up"?Ae-1:Ae+1;if(Ue<0||Ue>=Xe.length)return;const Me=[...Xe],[le]=Me.splice(Ae,1);Me.splice(Ue,0,le);const Ne=Me.map((We,at)=>({id:We._id,order:at}));try{await Fe.updateMaterialCategoryOrder(e,Ne),Tt()}catch(We){b(We.message||"Failed to update order"),setTimeout(()=>b(""),3e3)}},he=[{header:"Icon",accessor:"icon",render:U=>r.jsx("span",{className:"text-2xl",children:U})},{header:"Name",accessor:"name"},{header:"Items",accessor:"items",render:U=>r.jsxs("span",{className:"text-sm text-slate-600",children:[Array.isArray(U)?U.length:0," items"]})},{header:"Status",accessor:"isActive",render:U=>r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${U?"bg-emerald-500/10 text-emerald-600":"bg-slate-500/10 text-slate-600"}`,children:U?"Active":"Inactive"})},{header:"Order",accessor:"order"},{header:"Actions",accessor:"_id",render:(U,ie)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>de(U,"up"),className:"p-1.5 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",disabled:Xe.findIndex(Ae=>Ae._id===U)===0,children:r.jsx(RI,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>de(U,"down"),className:"p-1.5 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",disabled:Xe.findIndex(Ae=>Ae._id===U)===Xe.length-1,children:r.jsx(FI,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>lt(ie),className:"p-1.5 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition",children:r.jsx(os,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>St(U),className:"p-1.5 text-slate-600 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",children:r.jsx(an,{className:"w-4 h-4"})})]})}];return r.jsxs("div",{children:[r.jsx($r,{title:"Spare Parts",subtitle:"Stay ahead of technician demand with predictive inventory, supplier tracking, and automated procurement flows.",actions:r.jsxs("div",{className:"flex gap-2",children:[t==="materials"&&r.jsxs("button",{onClick:()=>lt(),className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition flex items-center gap-2",children:[r.jsx(Mr,{className:"w-4 h-4"}),"Add Material Category"]}),t==="inventory"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>k(!0),className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition flex items-center gap-2",children:[r.jsx(Mr,{className:"w-4 h-4"}),"Create Purchase Order"]}),r.jsx("button",{onClick:()=>P(!0),className:"px-4 py-2 rounded-xl border border-primary text-primary text-sm font-semibold hover:bg-primary/10 transition",children:"Configure Thresholds"})]})]})}),r.jsxs("div",{className:"flex gap-2 mb-6 border-b border-slate-200",children:[r.jsx("button",{onClick:()=>s("inventory"),className:`px-4 py-2 font-semibold text-sm transition ${t==="inventory"?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"}`,children:"Inventory"}),r.jsx("button",{onClick:()=>s("materials"),className:`px-4 py-2 font-semibold text-sm transition ${t==="materials"?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"}`,children:"Available Materials"}),r.jsx("button",{onClick:()=>s("vendor-parts"),className:`px-4 py-2 font-semibold text-sm transition ${t==="vendor-parts"?"text-primary border-b-2 border-primary":"text-slate-600 hover:text-slate-900"}`,children:"Vendor Spare Parts"})]}),h&&r.jsx("div",{className:"mb-4 p-3 bg-emerald-50 border border-emerald-200 text-emerald-700 rounded-lg text-sm",children:h}),p&&r.jsx("div",{className:"mb-4 p-3 bg-rose-50 border border-rose-200 text-rose-700 rounded-lg text-sm",children:p}),t==="materials"&&r.jsxs("section",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Material Categories"}),Le&&r.jsx("span",{className:"text-xs text-slate-400",children:"Loading..."}),mt&&r.jsx("span",{className:"text-xs text-rose-500",children:"Error loading materials"})]}),r.jsx(bs,{columns:he,data:Xe,emptyLabel:"No material categories found. Click 'Add Material Category' to create one."})]}),t==="vendor-parts"&&r.jsxs("section",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Vendor Spare Parts"}),r.jsxs("div",{className:"flex items-center gap-3",children:[$e&&r.jsxs("span",{className:"text-xs text-rose-500",children:["Error loading vendor parts. ",F.length>0?`Showing ${F.length} cached items.`:"Please refresh."]}),dt&&r.jsx("span",{className:"text-xs text-slate-400",children:"Loading..."}),!dt&&!$e&&r.jsxs("span",{className:"text-xs text-slate-500",children:[F.length," parts"]}),r.jsxs("button",{onClick:()=>Qe(),className:"text-xs text-primary hover:text-primary-dark font-semibold flex items-center gap-1",children:[r.jsx(Gt,{className:"w-3 h-3"}),"Refresh"]})]})]}),r.jsx(bs,{columns:[{header:"Image/Icon",accessor:"image",render:(U,ie)=>r.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-slate-100 flex items-center justify-center",children:ie.image?r.jsx("img",{src:ie.image,alt:ie.name,className:"w-full h-full object-cover"}):ie.icon?r.jsx("span",{className:"text-2xl",children:ie.icon}):r.jsx(Is,{className:"w-6 h-6 text-slate-400"})})},{header:"Name",accessor:"name"},{header:"Category",accessor:"category"},{header:"Brand",accessor:"brand"},{header:"Price",accessor:"price",render:U=>`${(U==null?void 0:U.toLocaleString("en-IN"))||0}`},{header:"Stock",accessor:"stock",render:(U,ie)=>`${U||0} ${ie.unit||"units"}`},{header:"Vendor",accessor:"vendor",render:U=>typeof U=="object"&&U!==null?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ws,{className:"w-4 h-4 text-slate-400"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:U.name||"N/A"}),r.jsx("div",{className:"text-xs text-slate-500",children:U.companyName||U.email||""})]})]}):"N/A"},{header:"Status",accessor:"status",render:U=>r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${U==="active"?"bg-emerald-500/10 text-emerald-600":U==="out_of_stock"?"bg-rose-500/10 text-rose-600":"bg-slate-500/10 text-slate-600"}`,children:U==="out_of_stock"?"Out of Stock":U||"Inactive"})},{header:"Actions",accessor:"_id",render:(U,ie)=>r.jsx("button",{onClick:()=>{var Ae;return window.open(`/admin/vendors/${((Ae=ie.vendor)==null?void 0:Ae._id)||ie.vendor}`,"_blank")},className:"p-1.5 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",title:"View Vendor",children:r.jsx(wc,{className:"w-4 h-4"})})}],data:F,emptyLabel:"No vendor spare parts found. Vendors can add spare parts from their dashboard."})]}),t==="inventory"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:fe.map(U=>r.jsx(Qa,{...U},U.label))}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("section",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Inventory Positions"}),r.jsxs("div",{className:"flex items-center gap-3",children:[se&&r.jsxs("span",{className:"text-xs text-rose-500",children:["Error loading inventory data. ",kt.length>0?`Showing ${kt.length} cached items.`:"Please refresh."]}),z&&r.jsx("span",{className:"text-xs text-slate-400",children:"Loading stock data..."}),!z&&!se&&r.jsxs("span",{className:"text-xs text-slate-500",children:[kt.length," items"]}),r.jsxs("button",{onClick:()=>ne(),className:"text-xs text-primary hover:text-primary-dark font-semibold flex items-center gap-1",children:[r.jsx(Gt,{className:"w-3 h-3"}),"Refresh"]})]})]}),r.jsx(bs,{columns:$we,data:kt,emptyLabel:"No inventory items found. Add items to track stock levels."})]}),r.jsxs("section",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Available Material Categories"}),r.jsxs("span",{className:"text-xs text-slate-500",children:[Xe.length," categories"]})]}),r.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:Le?r.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"Loading materials..."}):Xe.length===0?r.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No material categories found"}):r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Xe.map(U=>r.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary/5 to-primary/10 rounded-xl border border-primary/20",children:[r.jsx("div",{className:"text-3xl mb-2",children:U.icon}),r.jsx("div",{className:"font-semibold text-sm text-primary mb-1",children:U.name}),r.jsxs("div",{className:"text-xs text-slate-600",children:[Array.isArray(U.items)?U.items.length:0," items"]})]},U._id))})})]}),r.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Procurement Tracker"}),Ce&&r.jsx("span",{className:"text-xs text-rose-500",children:"Error loading orders"}),Re&&r.jsx("span",{className:"text-xs text-slate-400",children:"Loading..."})]}),r.jsx(bs,{columns:Uwe,data:er,emptyLabel:"No purchase orders found. Create a purchase order to track procurement."})]}),r.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Supplier SLA Watch"}),r.jsx("p",{className:"text-sm text-white/75 leading-relaxed",children:"Track lead times, fill rate, and defect rate for each supplier. Auto-notify procurement ops when SLA breaches exceed configured thresholds."}),r.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[r.jsx("li",{children:" Auto-assign alternate supplier if new ETA > threshold"}),r.jsx("li",{children:" Auto-create debit notes for warranty failure"}),r.jsx("li",{children:" Maintain compliance badges for marketplace visibility"})]})]})]})]})]}),N&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-5 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Create Purchase Order"}),r.jsx("button",{onClick:()=>{k(!1),C({supplier:"",supplierContact:"",expectedDeliveryDate:"",notes:"",items:[]}),V({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""}),Z(""),me(!1)},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:async U=>{if(U.preventDefault(),_.items.length===0){b("Please add at least one item to the purchase order");return}f(!0);try{await Fe.createPurchaseOrder(e,{..._,expectedDeliveryDate:new Date(_.expectedDeliveryDate).toISOString()}),x("Purchase order created successfully!"),Je(),D(),setTimeout(()=>{k(!1),C({supplier:"",supplierContact:"",expectedDeliveryDate:"",notes:"",items:[]}),V({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""}),Z(""),me(!1)},1e3)}catch(ie){b(ie.message||"Failed to create purchase order")}finally{f(!1)}},className:"p-5 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Supplier *"}),r.jsx("input",{type:"text",value:_.supplier,onChange:U=>C(ie=>({...ie,supplier:U.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Contact"}),r.jsx("input",{type:"text",value:_.supplierContact,onChange:U=>C(ie=>({...ie,supplierContact:U.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Expected Delivery Date *"}),r.jsx("input",{type:"date",value:_.expectedDeliveryDate,onChange:U=>C(ie=>({...ie,expectedDeliveryDate:U.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Items *"}),r.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"mb-4 pb-4 border-b border-slate-200",children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Select from Existing Inventory Items"}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative",ref:X,children:[r.jsx(ai,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search inventory items by SKU, name, or category...",value:q,onChange:U=>{Z(U.target.value),me(!0)},onFocus:()=>me(!0),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-primary focus:border-transparent"}),ue&&kt.length>0&&r.jsxs("div",{className:"absolute z-20 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[kt.filter(U=>{var ie,Ae,Ue;return q===""||((ie=U.sku)==null?void 0:ie.toLowerCase().includes(q.toLowerCase()))||((Ae=U.name)==null?void 0:Ae.toLowerCase().includes(q.toLowerCase()))||((Ue=U.category)==null?void 0:Ue.toLowerCase().includes(q.toLowerCase()))}).slice(0,10).map(U=>r.jsxs("button",{type:"button",onClick:()=>{typeof U.stock=="string"?parseInt(U.stock.split(" ")[0]):U.stock,V({selectedInventoryItem:U._id,sku:U.sku,name:U.name,quantity:"",unitPrice:U.unitPrice||0}),Z(`${U.sku} - ${U.name}`),me(!1)},className:"w-full text-left px-4 py-2 hover:bg-primary/10 transition flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-sm",children:U.sku}),r.jsx("div",{className:"text-xs text-slate-600",children:U.name}),r.jsxs("div",{className:"text-xs text-slate-400",children:[U.category,"  ",U.location]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-xs font-semibold text-primary",children:["",U.unitPrice||0]}),r.jsxs("div",{className:"text-xs text-slate-400",children:["Stock: ",stockNum]})]})]},U._id)),kt.filter(U=>{var ie,Ae,Ue;return q===""||((ie=U.sku)==null?void 0:ie.toLowerCase().includes(q.toLowerCase()))||((Ae=U.name)==null?void 0:Ae.toLowerCase().includes(q.toLowerCase()))||((Ue=U.category)==null?void 0:Ue.toLowerCase().includes(q.toLowerCase()))}).length===0&&r.jsx("div",{className:"px-4 py-3 text-sm text-slate-500 text-center",children:"No inventory items found"})]})]}),r.jsx("button",{type:"button",onClick:()=>{Z(""),me(!1),V({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""})},className:"px-3 py-2 text-sm text-slate-600 hover:bg-slate-100 border border-slate-300 rounded-lg transition",children:"Clear"})]}),A.selectedInventoryItem&&r.jsxs("div",{className:"mt-2 p-2 bg-primary/5 border border-primary/20 rounded-lg text-xs",children:[r.jsx("span",{className:"font-semibold text-primary",children:"Selected:"})," ",A.sku," - ",A.name]})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"SKU *"}),r.jsx("input",{type:"text",placeholder:"SKU",value:A.sku,onChange:U=>V(ie=>({...ie,sku:U.target.value,selectedInventoryItem:""})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Name *"}),r.jsx("input",{type:"text",placeholder:"Item Name",value:A.name,onChange:U=>V(ie=>({...ie,name:U.target.value,selectedInventoryItem:""})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Quantity *"}),r.jsx("input",{type:"number",placeholder:"Qty",value:A.quantity,onChange:U=>V(ie=>({...ie,quantity:U.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",min:"1",required:!0})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Unit Price *"}),r.jsx("input",{type:"number",placeholder:"Price",value:A.unitPrice,onChange:U=>V(ie=>({...ie,unitPrice:U.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",min:"0",step:"0.01",required:!0})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{type:"button",onClick:()=>{A.sku&&A.name&&A.quantity&&A.unitPrice?(C(U=>({...U,items:[...U.items,{inventoryItemId:A.selectedInventoryItem||null,sku:A.sku,name:A.name,quantity:parseInt(A.quantity),unitPrice:parseFloat(A.unitPrice)}]})),V({selectedInventoryItem:"",sku:"",name:"",quantity:"",unitPrice:""}),Z(""),me(!1)):b("Please fill all item fields (SKU, Name, Quantity, Unit Price)")},className:"px-4 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary-dark font-semibold",children:"Add"})})]})]}),r.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[_.items.length===0?r.jsx("div",{className:"text-center py-4 text-slate-400 text-sm",children:"No items added yet. Select from inventory or enter manually."}):_.items.map((U,ie)=>{const Ae=U.quantity*U.unitPrice;return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg text-sm border border-slate-200",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-semibold",children:U.name}),r.jsxs("div",{className:"text-xs text-slate-600",children:["SKU: ",U.sku,"  Qty: ",U.quantity,"  ",U.unitPrice]})]}),r.jsx("div",{className:"text-right mr-3",children:r.jsxs("div",{className:"font-semibold text-primary",children:["",Ae.toLocaleString()]})}),r.jsx("button",{type:"button",onClick:()=>C(Ue=>({...Ue,items:Ue.items.filter((Me,le)=>le!==ie)})),className:"text-rose-600 hover:bg-rose-50 p-1.5 rounded transition",children:r.jsx(ut,{className:"w-4 h-4"})})]},ie)}),_.items.length>0&&r.jsx("div",{className:"pt-2 border-t border-slate-200",children:r.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[r.jsx("span",{children:"Total Value:"}),r.jsxs("span",{className:"text-primary text-lg",children:["",_.items.reduce((U,ie)=>U+ie.quantity*ie.unitPrice,0).toLocaleString()]})]})})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Notes"}),r.jsx("textarea",{value:_.notes,onChange:U=>C(ie=>({...ie,notes:U.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",rows:"3"})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[r.jsxs("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:[r.jsx(Ji,{className:"w-4 h-4"}),m?"Creating...":"Create Purchase Order"]}),r.jsx("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:"Cancel"})]})]})]})}),S&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-5 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Configure Thresholds"}),r.jsx("button",{onClick:()=>P(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:async U=>{U.preventDefault(),f(!0);try{await Fe.upsertThreshold(e,W),x("Threshold configured successfully!"),D(),ne(),setTimeout(()=>{P(!1)},1e3)}catch(ie){b(ie.message||"Failed to save threshold")}finally{f(!1)}},className:"p-5 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Category *"}),r.jsx("input",{type:"text",value:W.category,onChange:U=>T(ie=>({...ie,category:U.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",placeholder:"e.g., Air Conditioning",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Critical Level"}),r.jsx("input",{type:"number",value:W.criticalLevel,onChange:U=>T(ie=>({...ie,criticalLevel:parseInt(U.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Min Stock Level"}),r.jsx("input",{type:"number",value:W.minStockLevel,onChange:U=>T(ie=>({...ie,minStockLevel:parseInt(U.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Reorder Level"}),r.jsx("input",{type:"number",value:W.reorderLevel,onChange:U=>T(ie=>({...ie,reorderLevel:parseInt(U.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Lead Time (Days)"}),r.jsx("input",{type:"number",value:W.leadTimeDays,onChange:U=>T(ie=>({...ie,leadTimeDays:parseInt(U.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Auto Reorder Quantity"}),r.jsx("input",{type:"number",value:W.autoReorderQuantity,onChange:U=>T(ie=>({...ie,autoReorderQuantity:parseInt(U.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary",min:"0"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",id:"autoReorder",checked:W.autoReorder,onChange:U=>T(ie=>({...ie,autoReorder:U.target.checked})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),r.jsx("label",{htmlFor:"autoReorder",className:"text-sm font-semibold text-slate-700",children:"Enable Auto Reorder"})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[r.jsxs("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:[r.jsx(Ji,{className:"w-4 h-4"}),m?"Saving...":"Save Threshold"]}),r.jsx("button",{type:"button",onClick:()=>P(!1),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:"Cancel"})]})]})]})}),Q&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-5 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Item History"}),r.jsx("button",{onClick:()=>{ae(!1),R(null),I([])},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"p-5",children:O.length===0?r.jsxs("div",{className:"text-center py-12 text-slate-400",children:[r.jsx(Hs,{className:"w-12 h-12 mx-auto mb-4 text-slate-300"}),r.jsx("p",{children:"No history available for this item"})]}):r.jsx("div",{className:"space-y-3",children:O.sort((U,ie)=>new Date(ie.timestamp)-new Date(U.timestamp)).map((U,ie)=>r.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-sm capitalize",children:U.action.replace("_"," ")}),r.jsx("div",{className:"text-xs text-slate-500",children:new Date(U.timestamp).toLocaleString()})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${U.action==="created"?"bg-emerald-500/10 text-emerald-600":U.action==="stock_added"?"bg-blue-500/10 text-blue-600":U.action==="stock_removed"?"bg-amber-500/10 text-amber-600":U.action==="status_changed"?"bg-purple-500/10 text-purple-600":"bg-slate-500/10 text-slate-600"}`,children:U.action.replace("_"," ")})]}),U.quantity&&r.jsxs("div",{className:"text-sm text-slate-700",children:["Quantity: ",r.jsx("span",{className:"font-semibold",children:U.quantity})]}),U.previousValue!==void 0&&U.newValue!==void 0&&r.jsxs("div",{className:"text-sm text-slate-700 mt-1",children:[r.jsx("span",{className:"line-through text-slate-400",children:U.previousValue}),"  ",r.jsx("span",{className:"font-semibold text-primary",children:U.newValue})]}),U.notes&&r.jsx("div",{className:"text-xs text-slate-600 mt-2 italic",children:U.notes})]},ie))})})]})}),a&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 p-5 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:i?"Edit Material Category":"Add Material Category"}),r.jsx("button",{onClick:Nt,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:st,className:"p-5 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Category Name *"}),r.jsx("input",{type:"text",value:o.name,onChange:U=>c(ie=>({...ie,name:U.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"e.g., Plumbing materials",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Icon (Emoji) *"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-3xl pointer-events-none z-10 flex items-center justify-center w-10 h-10",children:o.icon||""}),r.jsx("input",{type:"text",value:o.icon,onChange:U=>c(ie=>({...ie,icon:U.target.value})),className:"w-full px-4 py-2 pl-16 pr-4 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-transparent caret-slate-700",placeholder:"",required:!0,maxLength:2,style:{color:"transparent",textShadow:"0 0 0 transparent"}}),!o.icon&&r.jsx("div",{className:"absolute left-16 top-1/2 -translate-y-1/2 text-slate-400 text-sm pointer-events-none",children:"Enter emoji or pick from list"})]}),r.jsxs("button",{type:"button",onClick:()=>{v(!j),w("")},className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 border border-slate-300 rounded-lg transition flex items-center gap-2 text-sm font-semibold",children:[r.jsx("span",{className:"text-lg",children:""}),j?"Hide":"Pick Icon"]})]}),j&&r.jsxs("div",{className:"border-2 border-slate-200 rounded-xl p-4 bg-slate-50 max-h-80 overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"relative mb-3",children:[r.jsx(ai,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4"}),r.jsx("input",{type:"text",value:y,onChange:U=>w(U.target.value),placeholder:"Search icons...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-sm"})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto",children:[r.jsx("div",{className:"grid grid-cols-8 sm:grid-cols-10 gap-2",children:pm.filter(U=>y===""||U.name.toLowerCase().includes(y.toLowerCase())||U.category.toLowerCase().includes(y.toLowerCase())||U.emoji.includes(y)).map((U,ie)=>r.jsx("button",{type:"button",onClick:()=>{c(Ae=>({...Ae,icon:U.emoji})),v(!1)},className:`w-10 h-10 rounded-lg flex items-center justify-center text-xl transition-all duration-200 ${o.icon===U.emoji?"bg-primary text-white ring-2 ring-primary ring-offset-2 scale-110":"bg-white hover:bg-primary/10 hover:scale-105 border border-slate-200"}`,title:`${U.name} (${U.category})`,children:U.emoji},ie))}),pm.filter(U=>y===""||U.name.toLowerCase().includes(y.toLowerCase())||U.category.toLowerCase().includes(y.toLowerCase())||U.emoji.includes(y)).length===0&&r.jsx("div",{className:"text-center py-8 text-slate-500",children:r.jsxs("p",{className:"text-sm",children:['No icons found matching "',y,'"']})})]}),r.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[r.jsx("p",{className:"text-xs font-semibold text-slate-600 mb-2",children:"Quick Filter:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:["All","Tools","Electrical","Plumbing","Painting","AC","Cleaning","Hardware","Appliances","Building"].map(U=>r.jsx("button",{type:"button",onClick:()=>w(U==="All"?"":U),className:`px-2 py-1 text-xs rounded-md transition ${U==="All"&&y===""||y===U?"bg-primary text-white":"bg-white text-slate-600 hover:bg-slate-100 border border-slate-200"}`,children:U},U))})]})]}),r.jsx("p",{className:"text-xs text-slate-500",children:o.icon?r.jsxs("span",{children:["Selected: ",r.jsx("span",{className:"font-semibold",children:((Te=pm.find(U=>U.emoji===o.icon))==null?void 0:Te.name)||"Custom icon"}),pm.find(U=>U.emoji===o.icon)&&r.jsxs("span",{className:"text-slate-400 ml-1",children:["(",(ce=pm.find(U=>U.emoji===o.icon))==null?void 0:ce.category,")"]})]}):'Click "Pick Icon" to browse available icons or type a custom emoji directly'})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Items *"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:d,onChange:U=>u(U.target.value),onKeyPress:U=>U.key==="Enter"&&(U.preventDefault(),ye()),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter item name and press Enter"}),r.jsx("button",{type:"button",onClick:ye,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:"Add"})]}),r.jsx("div",{className:"space-y-2",children:o.items.map((U,ie)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg",children:[r.jsx("span",{className:"text-sm",children:U}),r.jsx("button",{type:"button",onClick:()=>qe(ie),className:"p-1 text-rose-600 hover:bg-rose-50 rounded transition",children:r.jsx(ut,{className:"w-4 h-4"})})]},ie))}),o.items.length===0&&r.jsx("p",{className:"text-xs text-rose-500 mt-1",children:"At least one item is required"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Order"}),r.jsx("input",{type:"number",value:o.order,onChange:U=>c(ie=>({...ie,order:parseInt(U.target.value)||0})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Status"}),r.jsxs("select",{value:o.isActive?"active":"inactive",onChange:U=>c(ie=>({...ie,isActive:U.target.value==="active"})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[r.jsxs("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:[r.jsx(Ji,{className:"w-4 h-4"}),m?"Saving...":i?"Update":"Create"]}),r.jsx("button",{type:"button",onClick:Nt,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:"Cancel"})]})]})]})})]})},Vwe=[{header:"Contract ID",accessor:"contractId"},{header:"Client",accessor:"clientName"},{header:"Asset Count",accessor:"assetCount"},{header:"Coverage",accessor:"coverage"},{header:"Next Visit",accessor:"nextVisit"},{header:"Renewal Date",accessor:"renewalDate"},{header:"SLA Score",accessor:"slaScore",render:e=>r.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-semibold text-primary",children:[e,"%"]})}],Hwe=[{header:"Client",accessor:"client"},{header:"Contract",accessor:"contract"},{header:"Value",accessor:"value"},{header:"Renewal Probability",accessor:"probability"},{header:"Owner",accessor:"owner"},{header:"Status",accessor:"status"}],Wwe=[{id:1,contractId:"AMC-2042",clientName:"Axis Bank - Mumbai",assetCount:128,coverage:"HVAC + Electrical",nextVisit:"14 Nov",renewalDate:"12 Jan 2026",slaScore:96},{id:2,contractId:"AMC-2038",clientName:"Mantri Heights",assetCount:86,coverage:"Lifts + DG + Fire Safety",nextVisit:"16 Nov",renewalDate:"04 Feb 2026",slaScore:91},{id:3,contractId:"AMC-2030",clientName:"Delight Hotels",assetCount:210,coverage:"Kitchen + HVAC",nextVisit:"18 Nov",renewalDate:"28 Dec 2025",slaScore:88}],Gwe=()=>{const{data:e,isLoading:t,error:s}=Bt(n=>Fe.fetchModuleData("/amc/contracts",n)),a=[{label:"Active Contracts",value:(e==null?void 0:e.activeContracts)??62,trend:"12 in onboarding",icon:Vt,description:"Covering 1,860 assets"},{label:"Renewals Due (30d)",value:(e==null?void 0:e.renewalsDue)??9,trend:"1.8Cr at risk",icon:VI,intent:(e==null?void 0:e.renewalsDue)>10?"warning":"positive",description:"Triggered for proactive outreach"},{label:"Adherence",value:(e==null?void 0:e.slaAdherence)??"93%",trend:"4 priority tickets escalated",icon:Hs,description:"Weighted across service tiers"},{label:"Scheduled Visits",value:(e==null?void 0:e.visitsScheduled)??38,trend:"Auto-routed to partner clusters",icon:Hc,description:"Next 7 days"}];return r.jsxs("div",{children:[r.jsx($r,{title:"AMC Management",subtitle:"Coordinate multi-asset contracts, recurring maintenance routines, and SLA commitments with predictive renewal insights.",actions:r.jsx("button",{className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition",children:"New AMC Contract"})}),r.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:a.map(n=>r.jsx(Qa,{...n},n.label))}),r.jsxs("div",{className:"space-y-10",children:[r.jsxs("section",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Contract Portfolio"}),s&&r.jsx("span",{className:"text-xs text-rose-500",children:"Unable to fetch live data."}),t&&r.jsx("span",{className:"text-xs text-slate-400",children:"Syncing contracts..."})]}),r.jsx(bs,{columns:Vwe,data:(e==null?void 0:e.contracts)??Wwe,emptyLabel:"No active contracts found."})]}),r.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Renewal Radar"}),r.jsx("button",{className:"text-xs text-primary font-semibold",children:"Export Pipeline"})]}),r.jsx(bs,{columns:Hwe,data:(e==null?void 0:e.renewals)??[{id:1,client:"Axis Bank - Mumbai",contract:"AMC-2042",value:"72L",probability:"78%",owner:"Riya Sen",status:"Proposal Sent"},{id:2,client:"Mantri Heights",contract:"AMC-2038",value:"38L",probability:"64%",owner:"Karan Patel",status:"Negotiation"}],emptyLabel:"No renewals in the pipeline."})]}),r.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Workflow Automation"}),r.jsx("p",{className:"text-sm text-white/75 leading-relaxed",children:"Every contract is mapped to asset registers, preventive schedules, task templates, and SLA alerts. Ops teams only intervene when exceptions spike."}),r.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[r.jsx("li",{children:" Auto-ticketing for preventive visits"}),r.jsx("li",{children:" Asset QR logs for technicians"}),r.jsx("li",{children:" Renewal nudges to customer + finance teams"})]})]})]})]})]})},Kwe=()=>{var kt,er;const{token:e}=Ar(),[t,s]=g.useState({status:"all",city:"",allocationStrategy:"all"}),[a,n]=g.useState(1),[i,l]=g.useState(!1),[o,c]=g.useState(1),[d,u]=g.useState(""),[m,f]=g.useState(null),[h,x]=g.useState(!1),[p,b]=g.useState({category:"",service:"",subService:"",city:"",address:"",landmark:"",pincode:"",value:"",allocationStrategy:"rule_based",priority:"medium",description:""}),[j,v]=g.useState([]),[y,w]=g.useState([]),[N,k]=g.useState([]),[S,P]=g.useState(!1),[_,C]=g.useState(!1),[A,V]=g.useState(null),[q,Z]=g.useState(!1),ue=g.useMemo(()=>{const we={page:a,limit:50};return t.status&&t.status!=="all"&&(we.status=t.status),t.city&&t.city.trim()&&(we.city=t.city.trim()),t.allocationStrategy&&t.allocationStrategy!=="all"&&(we.allocationStrategy=t.allocationStrategy),we},[t.status,t.city,t.allocationStrategy,a]),me=g.useMemo(()=>JSON.stringify(ue),[ue]),{data:Q,isLoading:ae,error:oe,refresh:R}=Bt(we=>Fe.fetchLeads(we,ue),[me]),{data:O,isLoading:I,error:X}=Bt(we=>Fe.fetchLeadAnalytics(we),[]),{data:W,isLoading:T,error:L}=Bt(we=>Fe.fetchBids(we,{page:1,limit:50}),[]),D=ae||I||T,M=oe||X||L,z=Array.isArray(Q==null?void 0:Q.data)?Q.data:[],se=Array.isArray(W==null?void 0:W.data)?W.data:[],ne=O||{},te=(Q==null?void 0:Q.pagination)||{};At.useEffect(()=>{var we,F;Q&&console.log(" Lead Management - API Response:",{success:Q.success,hasData:!!Q.data,dataType:Array.isArray(Q.data)?"array":typeof Q.data,dataLength:((we=Q.data)==null?void 0:we.length)||0,pagination:Q.pagination,firstLead:(F=Q.data)==null?void 0:F[0]}),oe&&console.error(" Lead Management - Error:",oe),console.log(" Extracted leads:",z.length,z)},[Q,oe,z]);const Re=[{label:"Lead Pool",value:ne.active||0,trend:ne.highValueLeads?`${ne.highValueLeads} high-value leads awaiting bids`:null,icon:ok,description:ne.cityCount?`Across ${ne.cityCount} cities`:"Active leads"},{label:"Conversion Rate",value:ne.conversion||"0%",trend:ne.convertedLeads30d?`${ne.convertedLeads30d} converted (30d)`:null,icon:Ya,description:"Rolling 30-day window"},{label:"Avg Allocation Time",value:ne.allocationTime||"0m 0s",trend:"Includes dispute overrides",icon:n2,description:"From ingestion to assignment"},{label:"Bid Health",value:ne.bidParticipation||"0.0 bids/lead",trend:"Maintaining fair marketplace",icon:zq,description:"Ensures SLA coverage"}],Ce=[{header:"Lead ID",accessor:"leadId"},{header:"Source",accessor:"source",render:we=>{const F={"Partner Registration":"bg-purple-500/10 text-purple-600","Plan Subscription":"bg-blue-500/10 text-blue-600","Customer Enquiry":"bg-green-500/10 text-green-600",Booking:"bg-indigo-500/10 text-indigo-600",Manual:"bg-gray-500/10 text-gray-600"};return r.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${F[we]||"bg-slate-200 text-slate-700"}`,children:we})}},{header:"Partner/Customer",accessor:"partnerName",render:(we,F)=>{const fe=F.partnerName||F.customerName||"N/A",lt=F.partnerPhone||F.customerPhone||"",Nt=F.partnerEmail||F.customerEmail||"";return fe==="N/A"?r.jsx("span",{className:"text-slate-400",children:"N/A"}):r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"font-semibold text-slate-900",children:fe}),lt&&r.jsx("div",{className:"text-xs text-slate-500",children:lt}),Nt&&r.jsx("div",{className:"text-xs text-slate-400",children:Nt})]})}},{header:"Service",accessor:"service"},{header:"City",accessor:"city"},{header:"Value",accessor:"value"},{header:"Allocation",accessor:"allocationStrategy"},{header:"Assigned To",accessor:"assignedPartner"},{header:"Bids",accessor:"bids"},{header:"Status",accessor:"status",render:we=>{const F={Pending:"bg-slate-500/10 text-slate-600","Awaiting Bid":"bg-amber-500/10 text-amber-600",Bidding:"bg-blue-500/10 text-blue-600",Assigned:"bg-indigo-500/10 text-indigo-600",Converted:"bg-emerald-500/10 text-emerald-600",Escalated:"bg-rose-500/10 text-rose-600",Cancelled:"bg-gray-500/10 text-gray-600",Expired:"bg-orange-500/10 text-orange-600"};return r.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${F[we]||"bg-slate-200 text-slate-700"}`,children:we})}}],Je=[{header:"Lead",accessor:"lead"},{header:"Partner",accessor:"partner"},{header:"Bid Amount",accessor:"amount"},{header:"Score",accessor:"score"},{header:"ETA",accessor:"eta"},{header:"Status",accessor:"status",render:we=>{const F={Pending:"bg-amber-500/10 text-amber-600",Accepted:"bg-emerald-500/10 text-emerald-600",Rejected:"bg-rose-500/10 text-rose-600",Withdrawn:"bg-gray-500/10 text-gray-600"};return r.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${F[we]||"bg-slate-200 text-slate-700"}`,children:we})}}],Ge=(we,F)=>{s(fe=>({...fe,[we]:F})),n(1)},Le=()=>{s({status:"all",city:"",allocationStrategy:"all"}),n(1)},mt=()=>{try{let we=`Lead Bidding Activity Export
`;we+=`Exported At: ${new Date().toLocaleString("en-IN")}

`,we+=`Lead,Partner,Bid Amount,Score,ETA,Status,Submitted At
`,se.forEach(Nt=>{const ye=Nt.submittedAt?new Date(Nt.submittedAt).toLocaleString("en-IN"):"N/A";we+=`${Nt.lead},${Nt.partner},${Nt.amount},${Nt.score},${Nt.eta},${Nt.status},${ye}
`});const F=new Blob([we],{type:"text/csv;charset=utf-8;"}),fe=document.createElement("a"),lt=URL.createObjectURL(F);fe.setAttribute("href",lt),fe.setAttribute("download",`bids-export-${new Date().toISOString().split("T")[0]}.csv`),fe.style.visibility="hidden",document.body.appendChild(fe),fe.click(),document.body.removeChild(fe)}catch(we){console.error("Error exporting bids:",we),alert("Failed to export bids. Please try again.")}},Tt=async(we,F)=>{if(window.confirm(`Change lead status to ${F}?`))try{await Fe.updateLeadStatus(e,we,F),alert("Lead status updated successfully!"),R()}catch(fe){alert("Failed to update lead status: "+(fe.message||"Unknown error"))}};At.useEffect(()=>{i&&o===2&&j.length===0&&(async()=>{try{const F=await Fe.fetchCategories(e);F!=null&&F.data&&v(F.data)}catch(F){console.error("Error loading categories:",F)}})()},[i,o,e]);const Pe=async()=>{if(!d.trim()){alert("Please enter partner phone number or ID");return}x(!0);try{const we=await Fe.fetchPartners(e,{search:d.trim(),limit:10});if(we!=null&&we.data&&we.data.length>0){const F=we.data[0];f(F),c(2)}else alert("Partner not found. Please check the phone number or ID.")}catch(we){alert("Error searching partner: "+(we.message||"Unknown error"))}finally{x(!1)}},dt=async we=>{if(b(F=>({...F,category:we,service:"",subService:""})),w([]),k([]),we)try{const F=j.find(fe=>fe._id===we);F!=null&&F.services&&w(F.services||[])}catch(F){console.error("Error loading services:",F)}},$e=we=>{if(b(F=>({...F,service:we,subService:""})),k([]),we){const F=y.find(fe=>fe._id===we);F!=null&&F.subServices&&k(F.subServices||[])}},Qe=async we=>{if(we.preventDefault(),!m){alert("Please verify partner first");return}if(!p.category||!p.city||!p.value){alert("Please fill all required fields");return}P(!0);try{const F={partnerId:m._id,category:p.category,service:p.service,subService:p.subService,city:p.city,address:p.address,landmark:p.landmark,pincode:p.pincode,value:parseFloat(p.value),allocationStrategy:p.allocationStrategy,priority:p.priority,description:p.description};(await Fe.createManualLead(e,F)).success&&(alert("Lead created successfully!"),l(!1),c(1),f(null),u(""),b({category:"",service:"",subService:"",city:"",address:"",landmark:"",pincode:"",value:"",allocationStrategy:"rule_based",priority:"medium",description:""}),R())}catch(F){alert("Failed to create lead: "+(F.message||"Unknown error"))}finally{P(!1)}},Xe=we=>{var lt;const fe={Pending:"pending","Awaiting Bid":"awaiting_bid",Bidding:"bidding",Assigned:"assigned",Converted:"converted",Escalated:"escalated",Cancelled:"cancelled",Expired:"expired"}[we.status]||((lt=we.status)==null?void 0:lt.toLowerCase().replace(" ","_"))||"pending";return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>{V(we),Z(!0)},className:"text-xs px-2 py-1 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition",title:"View Details",children:r.jsx(Vt,{className:"w-4 h-4"})}),r.jsxs("select",{value:fe,onChange:Nt=>Tt(we.id,Nt.target.value),className:"text-xs px-2 py-1 border border-slate-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-primary",children:[r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"awaiting_bid",children:"Awaiting Bid"}),r.jsx("option",{value:"bidding",children:"Bidding"}),r.jsx("option",{value:"assigned",children:"Assigned"}),r.jsx("option",{value:"converted",children:"Converted"}),r.jsx("option",{value:"escalated",children:"Escalated"}),r.jsx("option",{value:"cancelled",children:"Cancelled"}),r.jsx("option",{value:"expired",children:"Expired"})]})]})};return r.jsxs("div",{children:[r.jsx($r,{title:"Lead Management",subtitle:"Automate allocation logic, manage partner bidding, and maximize conversion across acquisition funnels.",actions:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:async()=>{if(window.confirm("This will create leads from all pending bookings. Continue?"))try{await Fe.syncBookingsToLeads(e),alert("Leads synced successfully!"),R()}catch(we){alert("Failed to sync leads: "+(we.message||"Unknown error"))}},className:"px-4 py-2 rounded-xl border border-slate-300 text-slate-700 text-sm font-semibold hover:bg-slate-50 transition inline-flex items-center gap-2",children:[r.jsx(Gt,{})," Sync from Bookings"]}),r.jsxs("button",{className:"px-4 py-2 rounded-xl border border-primary text-primary text-sm font-semibold hover:bg-primary/10 transition inline-flex items-center gap-2",children:[r.jsx(Bg,{})," Configure Allocation Rules"]})]})}),r.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:Re.map(we=>r.jsx(Qa,{...we},we.label))}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fg,{className:"w-5 h-5 text-slate-500"}),r.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Filters"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:R,className:"p-2 hover:bg-slate-100 rounded-lg transition",title:"Refresh",children:r.jsx(Gt,{className:"w-4 h-4 text-slate-600"})}),(t.status!=="all"||t.city||t.allocationStrategy!=="all")&&r.jsxs("button",{onClick:Le,className:"px-3 py-1.5 text-xs font-semibold text-slate-600 hover:text-slate-900 transition inline-flex items-center gap-1",children:[r.jsx(ut,{className:"w-3 h-3"}),"Clear Filters"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Status"}),r.jsxs("select",{value:t.status,onChange:we=>Ge("status",we.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"awaiting_bid",children:"Awaiting Bid"}),r.jsx("option",{value:"bidding",children:"Bidding"}),r.jsx("option",{value:"assigned",children:"Assigned"}),r.jsx("option",{value:"converted",children:"Converted"}),r.jsx("option",{value:"escalated",children:"Escalated"}),r.jsx("option",{value:"cancelled",children:"Cancelled"}),r.jsx("option",{value:"expired",children:"Expired"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"City"}),r.jsx("input",{type:"text",value:t.city,onChange:we=>Ge("city",we.target.value),placeholder:"Filter by city...",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Allocation Strategy"}),r.jsxs("select",{value:t.allocationStrategy,onChange:we=>Ge("allocationStrategy",we.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",children:[r.jsx("option",{value:"all",children:"All Strategies"}),r.jsx("option",{value:"instant_assign",children:"Instant Assign"}),r.jsx("option",{value:"tiered_bid",children:"Tiered Bid"}),r.jsx("option",{value:"rule_based",children:"Rule Based"}),r.jsx("option",{value:"manual",children:"Manual"})]})]})]})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("section",{children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[M&&r.jsxs("span",{className:"text-xs text-rose-500",children:["Error: ",M]}),D&&r.jsx("span",{className:"text-xs text-slate-400",children:"Loading leads..."}),!D&&!M&&r.jsxs("span",{className:"text-xs text-slate-500",children:[te.total||0," total leads"]})]})}),r.jsx(bs,{columns:Ce,data:z,emptyLabel:"No leads available. Try syncing from bookings or creating a manual lead.",renderActions:Xe}),te.pages>1&&r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",(te.page-1)*te.limit+1," to ",Math.min(te.page*te.limit,te.total)," of ",te.total," leads"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>n(we=>Math.max(1,we-1)),disabled:te.page===1,className:"px-3 py-1.5 border border-slate-300 rounded-lg text-sm font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),r.jsxs("span",{className:"text-sm text-slate-600",children:["Page ",te.page," of ",te.pages]}),r.jsx("button",{onClick:()=>n(we=>Math.min(te.pages,we+1)),disabled:te.page===te.pages,className:"px-3 py-1.5 border border-slate-300 rounded-lg text-sm font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),r.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Bidding Activity"}),r.jsxs("button",{onClick:mt,className:"text-xs text-primary font-semibold hover:underline inline-flex items-center gap-1",children:[r.jsx(si,{className:"w-3 h-3"})," Download Logs"]})]}),r.jsx(bs,{columns:Je,data:se,emptyLabel:"No bids registered."})]}),r.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Allocation Intelligence"}),r.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:"Blend skill matrices, SLA history, proximity, and wallet health before assigning leads. Override manually when enterprise SLAs demand it."}),r.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(It,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Auto-standby pool when primary declines"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(It,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Bid ceilings to maintain margin guardrails"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(It,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Quality scores updated post each job"})]})]})]})]})]}),i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[r.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[r.jsx(ok,{className:"w-5 h-5"}),o===1?"Verify Partner":"Create Lead"]}),r.jsx("button",{onClick:()=>{l(!1),c(1),f(null),u("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsx("div",{className:"p-6",children:o===1?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-blue-700",children:[r.jsx("strong",{children:"Step 1:"})," Verify the partner by entering their phone number or partner ID."]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[r.jsx(Ws,{className:"w-4 h-4 inline mr-1"}),"Partner Phone Number or ID"]}),r.jsx("input",{type:"text",value:d,onChange:we=>u(we.target.value),placeholder:"Enter phone number (e.g., 9876543210) or partner ID",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",onKeyPress:we=>we.key==="Enter"&&Pe()})]}),m&&r.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(It,{className:"w-5 h-5 text-emerald-600"}),r.jsx("span",{className:"font-semibold text-emerald-900",children:"Partner Verified"})]}),r.jsxs("p",{className:"text-sm text-emerald-700",children:[r.jsx("strong",{children:"Name:"})," ",((kt=m.profile)==null?void 0:kt.name)||"N/A",r.jsx("br",{}),r.jsx("strong",{children:"Phone:"})," ",m.phone||"N/A",r.jsx("br",{}),r.jsx("strong",{children:"Status:"})," ",m.profileStatus||"N/A"]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),r.jsx("button",{onClick:Pe,disabled:h||!d.trim(),className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",children:h?r.jsxs(r.Fragment,{children:[r.jsx(Hs,{className:"w-4 h-4 animate-spin"}),"Searching..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ai,{className:"w-4 h-4"}),"Verify Partner"]})})]})]}):r.jsxs("form",{onSubmit:Qe,className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsxs("p",{className:"text-sm text-blue-700",children:[r.jsx("strong",{children:"Step 2:"})," Fill in the lead details below."]}),m&&r.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Partner: ",((er=m.profile)==null?void 0:er.name)||m.phone]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Category ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsxs("select",{value:p.category,onChange:we=>dt(we.target.value),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select Category"}),j.map(we=>r.jsx("option",{value:we._id,children:we.name},we._id))]})]}),y.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service"}),r.jsxs("select",{value:p.service,onChange:we=>$e(we.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select Service"}),y.map(we=>r.jsx("option",{value:we._id,children:we.name},we._id))]})]}),N.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Sub Service"}),r.jsxs("select",{value:p.subService,onChange:we=>b(F=>({...F,subService:we.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select Sub Service"}),N.map(we=>r.jsx("option",{value:we._id,children:we.name},we._id))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[r.jsx(aa,{className:"w-4 h-4 inline mr-1"}),"City ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"text",value:p.city,onChange:we=>b(F=>({...F,city:we.target.value})),required:!0,placeholder:"Enter city",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[r.jsx(Qt,{className:"w-4 h-4 inline mr-1"}),"Lead Value () ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"number",value:p.value,onChange:we=>b(F=>({...F,value:we.target.value})),required:!0,min:"0",step:"0.01",placeholder:"Enter lead value",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Allocation Strategy"}),r.jsxs("select",{value:p.allocationStrategy,onChange:we=>b(F=>({...F,allocationStrategy:we.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[r.jsx("option",{value:"rule_based",children:"Rule Based"}),r.jsx("option",{value:"instant_assign",children:"Instant Assign"}),r.jsx("option",{value:"tiered_bid",children:"Tiered Bid"}),r.jsx("option",{value:"manual",children:"Manual"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Priority"}),r.jsxs("select",{value:p.priority,onChange:we=>b(F=>({...F,priority:we.target.value})),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"urgent",children:"Urgent"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[r.jsx(aa,{className:"w-4 h-4 inline mr-1"}),"Address"]}),r.jsx("input",{type:"text",value:p.address,onChange:we=>b(F=>({...F,address:we.target.value})),placeholder:"Enter full address",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Landmark"}),r.jsx("input",{type:"text",value:p.landmark,onChange:we=>b(F=>({...F,landmark:we.target.value})),placeholder:"Enter landmark",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),r.jsx("input",{type:"text",value:p.pincode,onChange:we=>b(F=>({...F,pincode:we.target.value})),placeholder:"Enter pincode",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[r.jsx(Vt,{className:"w-4 h-4 inline mr-1"}),"Description"]}),r.jsx("textarea",{value:p.description,onChange:we=>b(F=>({...F,description:we.target.value})),placeholder:"Enter lead description or notes",rows:"3",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:()=>c(1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Back"}),r.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:S,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center gap-2",children:S?r.jsxs(r.Fragment,{children:[r.jsx(Hs,{className:"w-4 h-4 animate-spin"}),"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(It,{className:"w-4 h-4"}),"Create Lead"]})})]})]})})]})}),q&&A&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>Z(!1),children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:we=>we.stopPropagation(),children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Lead Details"}),r.jsx("button",{onClick:()=>Z(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Lead ID"}),r.jsx("div",{className:"text-sm font-semibold text-slate-900",children:A.leadId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Source"}),r.jsx("div",{className:"text-sm text-slate-700",children:A.source})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Service"}),r.jsx("div",{className:"text-sm text-slate-700",children:A.service})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"City"}),r.jsx("div",{className:"text-sm text-slate-700",children:A.city})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Value"}),r.jsx("div",{className:"text-sm font-semibold text-primary",children:A.value})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Status"}),r.jsx("div",{className:"text-sm text-slate-700",children:A.status})]})]}),(A.partnerName||A.customerName)&&r.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:A.source==="Partner Registration"||A.source==="Plan Subscription"?"Partner Information":"Customer Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Name"}),r.jsx("div",{className:"text-sm text-slate-900 font-semibold",children:A.partnerName||A.customerName})]}),(A.partnerPhone||A.customerPhone)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Phone"}),r.jsx("div",{className:"text-sm text-slate-700",children:A.partnerPhone||A.customerPhone})]}),(A.partnerEmail||A.customerEmail)&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Email"}),r.jsx("div",{className:"text-sm text-slate-700",children:A.partnerEmail||A.customerEmail})]}),A.partnerId&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Partner ID"}),r.jsx("div",{className:"text-sm text-slate-700",children:A.partnerId})]})]})]}),A.description&&r.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-2",children:"Description"}),r.jsx("div",{className:"text-sm text-slate-700 bg-slate-50 p-3 rounded-lg",children:A.description})]}),A.metadata&&Object.keys(A.metadata).length>0&&r.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[r.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-2",children:"Additional Information"}),r.jsx("div",{className:"text-xs text-slate-600 bg-slate-50 p-3 rounded-lg",children:r.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(A.metadata,null,2)})})]})]})]})})]})},qwe=[{label:"Revenue",key:"revenue",intent:"positive",icon:ur},{label:"Penalties",key:"penalties",intent:"warning",icon:jh},{label:"Refunds",key:"refunds",intent:"negative",icon:Bw},{label:"Average Rating",key:"ratings",intent:"positive",icon:ur}],Ywe=()=>{const{token:e}=Ar(),[t,s]=g.useState(!1),[a,n]=g.useState(""),[i,l]=g.useState("weekly"),[o,c]=g.useState(!1),{data:d,isLoading:u,error:m}=Bt(Q=>Fe.fetchRevenueAnalytics(Q),[]),{data:f,isLoading:h,error:x}=Bt(Q=>Fe.fetchUserAnalytics(Q),[]),{data:p,isLoading:b,error:j}=Bt(Q=>Fe.fetchPartnerPerformance(Q),[]),{data:v,isLoading:y,error:w}=Bt(Q=>Fe.fetchCategoryRevenue(Q),[]),N=u||h||b||y,k=m||x||j||w,S=d||{},P=f||{},_=p||[],C=Array.isArray(v)?v:[],A=[{label:"Total Revenue",value:S!=null&&S.totalRevenue?`${(S.totalRevenue/1e5).toFixed(1)}L`:"0",trend:S!=null&&S.transactionCount?`${S.transactionCount} transactions`:null,description:"After refunds and penalties",icon:ur},{label:"Successful Transactions",value:(S==null?void 0:S.successfulTransactions)??0,trend:S!=null&&S.failedTransactions?`${S.failedTransactions} failed`:null,description:"Payment gateway success rate",icon:jh,intent:"positive"},{label:"Total Users",value:(P==null?void 0:P.totalUsers)??0,trend:P!=null&&P.newUsers?`${P.newUsers} new (30d)`:null,description:"Registered customers",icon:Bw},{label:"User Retention",value:P!=null&&P.userRetentionRate?`${P.userRetentionRate.toFixed(1)}%`:"0%",trend:P!=null&&P.activeUsers?`${P.activeUsers} active`:null,description:"Active user percentage",icon:ur}],V=C.length>0?Math.max(...C.map(Q=>Q.revenue||0)):1,q=()=>r.jsx("div",{className:"flex items-center justify-center py-16",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}),Z=async()=>{c(!0);try{const Q={summary:{totalRevenue:(S==null?void 0:S.totalRevenue)||0,transactionCount:(S==null?void 0:S.transactionCount)||0,successfulTransactions:(S==null?void 0:S.successfulTransactions)||0,failedTransactions:(S==null?void 0:S.failedTransactions)||0,totalUsers:(P==null?void 0:P.totalUsers)||0,activeUsers:(P==null?void 0:P.activeUsers)||0,newUsers:(P==null?void 0:P.newUsers)||0,userRetentionRate:(P==null?void 0:P.userRetentionRate)||0},categoryRevenue:C,partnerPerformance:_,exportedAt:new Date().toISOString()};let ae=`Reports & Analytics Dashboard Export
`;ae+=`Exported At: ${new Date().toLocaleString("en-IN")}

`,ae+=`SUMMARY STATISTICS
`,ae+=`Metric,Value
`,ae+=`Total Revenue,${(Q.summary.totalRevenue||0).toLocaleString("en-IN")}
`,ae+=`Total Transactions,${Q.summary.transactionCount}
`,ae+=`Successful Transactions,${Q.summary.successfulTransactions}
`,ae+=`Failed Transactions,${Q.summary.failedTransactions}
`,ae+=`Total Users,${Q.summary.totalUsers}
`,ae+=`Active Users,${Q.summary.activeUsers}
`,ae+=`New Users (30d),${Q.summary.newUsers}
`,ae+=`User Retention Rate,${Q.summary.userRetentionRate.toFixed(2)}%

`,C.length>0&&(ae+=`CATEGORY-WISE REVENUE
`,ae+=`Category,Revenue,Penalties,Rating,Booking Count
`,C.forEach(I=>{ae+=`${I.category},${(I.revenue||0).toLocaleString("en-IN")},${(I.penalties||0).toLocaleString("en-IN")},${I.rating||0},${I.bookingCount||0}
`}),ae+=`
`),_.length>0&&(ae+=`PARTNER PERFORMANCE
`,ae+=`Partner Name,Rating,Completion Rate,Total Earnings,Completed Bookings,Cancelled Bookings
`,_.forEach(I=>{var X;ae+=`${I.name||"Unknown"},${I.rating||0},${((X=I.completionRate)==null?void 0:X.toFixed(2))||0}%,${(I.totalEarnings||0).toLocaleString("en-IN")},${I.completedBookings||0},${I.cancelledBookings||0}
`}));const oe=new Blob([ae],{type:"text/csv;charset=utf-8;"}),R=document.createElement("a"),O=URL.createObjectURL(oe);R.setAttribute("href",O),R.setAttribute("download",`dashboard-export-${new Date().toISOString().split("T")[0]}.csv`),R.style.visibility="hidden",document.body.appendChild(R),R.click(),document.body.removeChild(R)}catch(Q){console.error("Error exporting dashboard:",Q),alert("Failed to export dashboard. Please try again.")}finally{c(!1)}},ue=()=>{s(!0)},me=async Q=>{Q.preventDefault(),alert(`Email digest scheduled for ${a} (${i}). This feature will be implemented soon.`),s(!1),n("")};return r.jsxs("div",{children:[r.jsx($r,{title:"Reports & Analytics",subtitle:"Get finance-ready metrics by category, city, partner performance, penalties, and customer satisfaction.",actions:r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:ue,className:"px-4 py-2 rounded-xl border border-primary text-primary text-sm font-semibold hover:bg-primary/10 transition inline-flex items-center gap-2",children:[r.jsx(Hc,{})," Schedule Digest"]}),r.jsxs("button",{onClick:Z,disabled:o||N,className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(si,{})," ",o?"Exporting...":"Export Dashboard"]})]})}),r.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:A.map(Q=>r.jsx(Qa,{...Q},Q.label))}),N?q():k?r.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Unable to fetch live analytics. ",k]}):r.jsxs("div",{className:"space-y-10",children:[r.jsxs("section",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500 mb-6",children:"Category-wise Revenue Snapshot"}),C.length===0?r.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No category revenue data available"}):r.jsx("div",{className:"space-y-6",children:C.map(Q=>{const ae=V>0?Q.revenue/V*100:0;return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Q.category}),r.jsxs("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:["Revenue: ",Q.revenueFormatted||`${(Q.revenue||0).toLocaleString("en-IN")}`,"  Penalties: ",Q.penaltiesFormatted||`${(Q.penalties||0).toLocaleString("en-IN")}`]})]}),Q.rating>0&&r.jsxs("div",{className:"text-sm font-semibold text-primary",children:["Rating ",Q.rating]})]}),r.jsx("div",{className:"h-2 rounded-full bg-slate-100 overflow-hidden",children:r.jsx("div",{className:"h-full bg-primary rounded-full transition-all",style:{width:`${ae}%`}})})]},Q.categoryId||Q.category)})})]}),r.jsx("section",{className:"grid lg:grid-cols-3 gap-6",children:qwe.map(Q=>r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Q.label}),r.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Trendline (12 weeks)"})]}),r.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 text-primary flex items-center justify-center",children:r.jsx(Q.icon,{})})]}),r.jsx("div",{className:"mt-5 h-28",children:r.jsx("div",{className:"w-full h-full rounded-lg bg-gradient-to-br from-primary/5 to-primary/20 flex items-center justify-center text-sm text-primary font-semibold",children:r.jsx("span",{children:"Coming soon"})})})]},Q.label))})]}),t&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[r.jsx(cl,{className:"w-5 h-5"}),"Schedule Email Digest"]}),r.jsx("button",{onClick:()=>{s(!1),n("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("form",{onSubmit:me,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",value:a,onChange:Q=>n(Q.target.value),required:!0,placeholder:"admin@example.com",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Frequency"}),r.jsxs("select",{value:i,onChange:Q=>l(Q.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[r.jsx("option",{value:"daily",children:"Daily"}),r.jsx("option",{value:"weekly",children:"Weekly"}),r.jsx("option",{value:"monthly",children:"Monthly"})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-700",children:[r.jsx("p",{className:"font-semibold mb-1",children:"Coming Soon"}),r.jsx("p",{children:"Email digest scheduling will be available soon. You'll receive automated reports with all analytics data."})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{s(!1),n("")},className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition",children:"Schedule"})]})]})]})})]})},Xwe=[{header:"Template",accessor:"name"},{header:"Channel",accessor:"channel"},{header:"Audience",accessor:"audience"},{header:"Last Updated",accessor:"updatedAt"},{header:"Owner",accessor:"owner"},{header:"Status",accessor:"status",render:e=>r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${e==="Active"?"bg-emerald-500/10 text-emerald-600":e==="Draft"?"bg-slate-200 text-slate-700":"bg-amber-500/10 text-amber-600"}`,children:e})}],Jwe=[{header:"Flow",accessor:"flow"},{header:"Trigger",accessor:"trigger"},{header:"Audience",accessor:"audience"},{header:"Channels",accessor:"channels"},{header:"Sends (7d)",accessor:"sends"},{header:"Status",accessor:"status"}],Qwe=[{id:1,name:"Booking Confirmation",channel:"WhatsApp",audience:"Customer",updatedAt:"12 Nov, 10:12",owner:"CX Ops",status:"Active"},{id:2,name:"Partner Allocation Alert",channel:"SMS + WhatsApp",audience:"Partner",updatedAt:"11 Nov, 18:04",owner:"Partner Ops",status:"Active"},{id:3,name:"Refund Initiated",channel:"WhatsApp",audience:"Customer",updatedAt:"10 Nov, 16:40",owner:"Finance",status:"Draft"}],Zwe=()=>{const{data:e,isLoading:t,error:s}=Bt(n=>Fe.fetchModuleData("/notifications/templates",n)),a=[{label:"Templates Live",value:(e==null?void 0:e.templateCount)??48,trend:"8 pending WhatsApp approval",icon:Rw,description:"Across partners, customers, finance"},{label:"Automation Journeys",value:(e==null?void 0:e.journeys)??14,trend:"3 paused due to SLA breach",icon:Bg,description:"Trigger-condition-action flows"},{label:"Messages Sent (24h)",value:(e==null?void 0:e.messagesSent)??"18,240",trend:"Delivery rate 97.4%",icon:HI,description:"WhatsApp + SMS combined"},{label:"Tokenized Content",value:(e==null?void 0:e.tokenUsage)??"83%",trend:"Personalized with real-time data",icon:Wd,description:"Dynamic placeholders"}];return r.jsxs("div",{children:[r.jsx($r,{title:"Notifications",subtitle:"Build and orchestrate WhatsApp and SMS templates with audit-ready versions, journey automation, and compliance guardrails.",actions:r.jsx("button",{className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition",children:"Create Template"})}),r.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:a.map(n=>r.jsx(Qa,{...n},n.label))}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("section",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Template Library"}),s&&r.jsx("span",{className:"text-xs text-rose-500",children:"Template sync failed. Showing cached data."}),t&&r.jsx("span",{className:"text-xs text-slate-400",children:"Loading templates..."})]}),r.jsx(bs,{columns:Xwe,data:(e==null?void 0:e.templates)??Qwe,emptyLabel:"No templates created."})]}),r.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Journey Automation"}),r.jsx("button",{className:"text-xs text-primary font-semibold",children:"New Flow"})]}),r.jsx(bs,{columns:Jwe,data:(e==null?void 0:e.journeySummary)??[{id:1,flow:"Lead Allocated  Partner Reminder",trigger:"No bid in 15 mins",audience:"Partner",channels:"WhatsApp + Push",sends:"546",status:"Active"},{id:2,flow:"Service Completed  Feedback",trigger:"Job completion event",audience:"Customer",channels:"WhatsApp + Email",sends:"1,824",status:"Active"}],emptyLabel:"No automation journeys configured."})]}),r.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Compliance Guardrails"}),r.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:"Centralized audit logs, template versioning, and opt-out controls ensure every WhatsApp or SMS message adheres to regulatory requirements."}),r.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[r.jsx("li",{children:" Maintain DLT IDs and expiry alerts"}),r.jsx("li",{children:" Auto-block sending if opt-out thresholds exceeded"}),r.jsx("li",{children:" Attach escalation notes for manual overrides"})]})]})]})]})]})},eNe=()=>{const{notifications:e}=Ar(),t=(e==null?void 0:e.notifications)||[],s=(e==null?void 0:e.isLoading)||!1,a=(e==null?void 0:e.unreadCount)||0,n=e==null?void 0:e.markAsRead,i=e==null?void 0:e.fetchNotifications,[l,o]=g.useState("all"),c=t.filter(f=>l==="unread"?!f.seen&&!f.read:l==="read"?f.seen||f.read:!0),d=async(f=null)=>{n&&(await n(f),i&&await i())},u=async()=>{n&&(await n(),i&&await i())},m=f=>{if(!f)return"";const h=new Date(f),p=new Date-h,b=Math.floor(p/6e4),j=Math.floor(p/36e5),v=Math.floor(p/864e5);return b<1?"Just now":b<60?`${b} minutes ago`:j<24?`${j} hours ago`:v<7?`${v} days ago`:h.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return r.jsxs("div",{children:[r.jsx($r,{title:"Notifications",subtitle:"View and manage all your notifications",actions:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>i&&i(),className:"px-4 py-2 rounded-xl bg-slate-100 text-slate-700 text-sm font-semibold hover:bg-slate-200 transition flex items-center gap-2",children:[r.jsx(Gt,{className:"w-4 h-4"}),"Refresh"]}),a>0&&r.jsxs("button",{onClick:u,className:"px-4 py-2 rounded-xl bg-primary text-white text-sm font-semibold hover:bg-primary-dark transition flex items-center gap-2",children:[r.jsx(It,{className:"w-4 h-4"}),"Mark All Read"]})]})}),r.jsxs("div",{className:"mb-6 flex items-center gap-2 border-b border-slate-200",children:[r.jsxs("button",{onClick:()=>o("all"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${l==="all"?"border-primary text-primary":"border-transparent text-slate-600 hover:text-slate-900"}`,children:["All (",t.length,")"]}),r.jsxs("button",{onClick:()=>o("unread"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${l==="unread"?"border-primary text-primary":"border-transparent text-slate-600 hover:text-slate-900"}`,children:["Unread (",a,")"]}),r.jsxs("button",{onClick:()=>o("read"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${l==="read"?"border-primary text-primary":"border-transparent text-slate-600 hover:text-slate-900"}`,children:["Read (",t.length-a,")"]})]}),s?r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-12 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Loading notifications..."})]}):c.length===0?r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-12 text-center",children:[r.jsx(ki,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),r.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No notifications"}),r.jsx("p",{className:"text-slate-600",children:l==="unread"?"You're all caught up! No unread notifications.":l==="read"?"No read notifications to display.":"You don't have any notifications yet."})]}):r.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 divide-y divide-slate-100",children:c.map(f=>{var x;const h=!f.seen&&!f.read;return r.jsx("div",{className:`p-6 hover:bg-slate-50 transition-colors ${h?"bg-blue-50/30 border-l-4 border-l-primary":""}`,children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 mt-1",children:r.jsx("div",{className:`w-3 h-3 rounded-full ${h?"bg-primary":"bg-slate-300"}`})}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-1",children:f.title||((x=f.message)==null?void 0:x.split(": ")[0])||"New notification"}),f.message&&r.jsx("p",{className:"text-sm text-slate-600 mb-2 line-clamp-3",children:f.title?f.message:f.message.split(": ").slice(1).join(": ")||f.message}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-400",children:[r.jsx("span",{children:m(f.date||f.createdAt)}),f.type&&r.jsx("span",{className:"px-2 py-0.5 rounded-full bg-slate-100 text-slate-600",children:f.type})]})]}),h&&r.jsx("button",{onClick:()=>d(f._id||f.id),className:"flex-shrink-0 p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Mark as read",children:r.jsx(Vd,{className:"w-5 h-5 text-slate-400 hover:text-primary"})})]})})]})},f._id||f.id||Math.random())})})]})},tNe=[{header:"Refund ID",accessor:"refundId"},{header:"Booking",accessor:"bookingId"},{header:"Customer",accessor:"customer"},{header:"Reason",accessor:"reason"},{header:"Channel",accessor:"channel"},{header:"Amount",accessor:"amount"},{header:"Status",accessor:"status",render:e=>r.jsx("span",{className:`inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold ${e==="Auto Refunded"?"bg-emerald-500/10 text-emerald-600":e==="Manual Review"?"bg-amber-500/10 text-amber-600":"bg-slate-200 text-slate-700"}`,children:e})},{header:"SLA",accessor:"sla"}],rNe=[{header:"Case",accessor:"caseId"},{header:"Booking",accessor:"bookingId"},{header:"Escalation Level",accessor:"level"},{header:"Amount",accessor:"amount"},{header:"Owner",accessor:"owner"},{header:"Status",accessor:"status"}],sNe=[{id:1,refundId:"RF-2210",bookingId:"BK-2991",customer:"Megha Patil",reason:"Technician no-show",channel:"Auto",amount:"1,299",status:"Auto Refunded",sla:"Closed in 1.8 hrs"},{id:2,refundId:"RF-2206",bookingId:"BK-2986",customer:"Arjun Desai",reason:"Quality dispute",channel:"Manual",amount:"2,450",status:"Manual Review",sla:"Awaiting Finance (4.2 hrs)"},{id:3,refundId:"RF-2201",bookingId:"BK-2978",customer:"Latika Rao",reason:"Double charge",channel:"Auto",amount:"1,049",status:"Auto Refunded",sla:"Closed in 35 mins"}],aNe=()=>{const{data:e,isLoading:t,error:s}=Bt(n=>Fe.fetchModuleData("/refunds",n)),a=[{label:"Auto Closure Rate",value:(e==null?void 0:e.autoRate)??"76%",trend:"Policy engine handling majority scenarios",icon:VI,description:"Within defined risk guardrails"},{label:"Average Turnaround",value:(e==null?void 0:e.turnaround)??"2.1 hrs",trend:"Manual queue aging at 6.4 hrs",icon:Hs,description:"From request to settlement",intent:(e==null?void 0:e.turnaround)>3?"warning":"positive"},{label:"Finance Exceptions",value:(e==null?void 0:e.exceptions)??12,trend:"Escalated to level-2 for approval",icon:Bq,description:"Needs manual override",intent:"warning"},{label:"Chargeback Prevention",value:(e==null?void 0:e.chargebackAvoided)??"4.6L",trend:"By proactive customer engagement",icon:ni,description:"Month to date"}];return r.jsxs("div",{children:[r.jsx($r,{title:"Refund Management",subtitle:"Track refund automation logs, manual overrides, and finance escalations with granular audit trails.",actions:r.jsx("button",{className:"px-4 py-2 rounded-xl border border-primary text-primary text-sm font-semibold hover:bg-primary/10 transition",children:"Configure Policies"})}),r.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-4 mb-10",children:a.map(n=>r.jsx(Qa,{...n},n.label))}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("section",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Refund Ledger"}),s&&r.jsx("span",{className:"text-xs text-rose-500",children:"Refund service offline."}),t&&r.jsx("span",{className:"text-xs text-slate-400",children:"Syncing latest refunds..."})]}),r.jsx(bs,{columns:tNe,data:(e==null?void 0:e.refunds)??sNe,emptyLabel:"No refunds recorded today."})]}),r.jsxs("section",{className:"grid lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Manual Overrides"}),r.jsx("button",{className:"text-xs text-primary font-semibold",children:"New Override"})]}),r.jsx(bs,{columns:rNe,data:(e==null?void 0:e.exceptionsList)??[{id:1,caseId:"EX-1982",bookingId:"BK-2986",level:"Finance L2",amount:"2,450",owner:"Sana Qureshi",status:"Pending"},{id:2,caseId:"EX-1979",bookingId:"BK-2971",level:"Ops L1",amount:"980",owner:"Raghav Iyer",status:"Approved"}],emptyLabel:"No manual overrides pending."})]}),r.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 space-y-5 shadow-lg",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Risk & Escalation Engine"}),r.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:"Every refund request is scored on past incidents, ticket sentiment, wallet health, and policy compliance. Higher risk cases auto-assign to finance controllers."}),r.jsxs("ul",{className:"space-y-3 text-sm text-white/80",children:[r.jsx("li",{children:" Auto-close low-risk refunds instantly"}),r.jsx("li",{children:" Dual-auth approvals above 5,000"}),r.jsx("li",{children:" SLA breach alerts for pending overrides"})]})]})]})]})]})},nNe=()=>{const{token:e}=Ar(),{data:t,isLoading:s,error:a,refresh:n}=Bt(y=>Fe.fetchMGPlans(y),[]),[i,l]=g.useState(!1),[o,c]=g.useState(null),[d,u]=g.useState({name:"",price:"",leads:"",commission:"",leadFee:"",minWalletBalance:"",description:"",refundPolicy:"",features:"",validityType:"monthly",validityMonths:"",partnerType:"individual",isDefault:!1,isActive:!0}),[m,f]=g.useState(!1),h=(t==null?void 0:t.data)||[],x=()=>{c(null),u({name:"",price:"",leads:"",commission:"",leadFee:"",minWalletBalance:"",description:"",refundPolicy:"",features:"",validityType:"monthly",validityMonths:"",partnerType:"individual",isDefault:!1,isActive:!0}),l(!0)},p=y=>{var w;c(y),u({name:y.name,price:y.price,leads:y.leads,commission:y.commission,leadFee:y.leadFee??"",minWalletBalance:y.minWalletBalance??"",description:y.description||"",refundPolicy:y.refundPolicy||"",features:((w=y.features)==null?void 0:w.join(`
`))||"",validityType:y.validityType||"monthly",validityMonths:y.validityType==="custom"&&y.validityMonths||"",partnerType:y.partnerType||"individual",isDefault:y.isDefault||!1,isActive:y.isActive!==void 0?y.isActive:!0}),l(!0)},b=async y=>{y.preventDefault(),f(!0);try{const w={...d,price:Number(d.price),leads:Number(d.leads),commission:Number(d.commission),leadFee:d.leadFee===""?void 0:Number(d.leadFee),minWalletBalance:d.minWalletBalance===""?void 0:Number(d.minWalletBalance),features:d.features.split(`
`).filter(N=>N.trim()),validityType:d.validityType,validityMonths:d.validityType==="custom"&&d.validityMonths?Number(d.validityMonths):void 0};o?await Fe.updateMGPlan(e,o._id,w):await Fe.createMGPlan(e,w),l(!1),n()}catch(w){alert(w.message||"Failed to save plan")}finally{f(!1)}},j=async y=>{if(confirm("Are you sure you want to delete this plan?"))try{await Fe.deleteMGPlan(e,y),n()}catch(w){alert(w.message||"Failed to delete plan")}},v=y=>{if(!y)return"";const w=y.toLowerCase();return w.includes("silver")?"":w.includes("gold")?"":w.includes("platinum")?"":w.includes("basic")?"":w.includes("premium")?"":w.includes("enterprise")||w.includes("business")?"":w.includes("starter")?"":w.includes("pro")?"":""};return r.jsxs("div",{children:[r.jsx($r,{title:"MG Plan Management",subtitle:"Manage Minimum Guarantee plans for partners - pricing, leads, and commission rates."}),r.jsx("div",{className:"mb-6 flex justify-end",children:r.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition",children:[r.jsx(Mr,{})," Create New Plan"]})}),s?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a?r.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Error loading plans: ",a]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:h.map(y=>{var w;return r.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-6 shadow-sm hover:shadow-md transition",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"text-4xl",children:v(y.name)}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:y.name}),y.isDefault&&r.jsx("span",{className:"text-xs text-primary font-semibold",children:"Default Plan"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>p(y),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(os,{className:"text-slate-600"})}),r.jsx("button",{onClick:()=>j(y._id),className:"p-2 hover:bg-rose-50 rounded-lg transition",children:r.jsx(an,{className:"text-rose-600"})})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-3xl font-bold text-primary",children:["",y.price.toLocaleString("en-IN")]}),r.jsx("div",{className:"text-sm text-gray-500",children:"per month"})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(It,{className:"text-green-500"}),r.jsxs("span",{className:"text-gray-700",children:[y.leads," Guaranteed Leads"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(It,{className:"text-green-500"}),r.jsxs("span",{className:"text-gray-700",children:[y.commission,"% Commission Rate"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(It,{className:"text-green-500"}),r.jsxs("span",{className:"text-gray-700",children:["Lead Fee ",(y.leadFee??0).toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(It,{className:"text-green-500"}),r.jsxs("span",{className:"text-gray-700",children:["Min Wallet ",(y.minWalletBalance??0).toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(It,{className:"text-blue-500"}),r.jsxs("span",{className:"text-gray-700",children:["Validity: ",y.validityType==="monthly"?"1 Month":y.validityType==="quarterly"?"3 Months":y.validityType==="yearly"?"12 Months":y.validityType==="custom"?`${y.validityMonths||1} Month(s)`:"1 Month"]})]})]}),y.description&&r.jsx("p",{className:"text-sm text-gray-600 mt-3",children:y.description}),y.refundPolicy&&r.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:y.refundPolicy}),(w=y.features)!=null&&w.length?r.jsxs("div",{className:"pt-3 border-t",children:[r.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-2",children:"Highlights"}),r.jsx("ul",{className:"space-y-1 text-xs text-slate-600",children:y.features.map((N,k)=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(It,{className:"text-green-500"}),r.jsx("span",{children:N})]},k))})]}):null,r.jsxs("div",{className:"pt-3 border-t flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${y.isActive?"bg-emerald-500/10 text-emerald-600":"bg-gray-500/10 text-gray-600"}`,children:y.isActive?"Active":"Inactive"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${y.partnerType==="franchise"?"bg-purple-500/10 text-purple-600":y.partnerType==="both"?"bg-blue-500/10 text-blue-600":"bg-slate-500/10 text-slate-600"}`,children:y.partnerType==="franchise"?"Franchise":y.partnerType==="both"?"Both":"Individual"})]})]})]},y._id)})}),i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:o?"Edit Plan":"Create New Plan"}),r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Plan Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:d.name,onChange:y=>u(w=>({...w,name:y.target.value.trim()})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter plan name (e.g., Silver, Gold, Platinum, Basic, Premium, etc.)",required:!0}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:'You can use the same name for different partner types (e.g., "Silver" for Individual and "Silver" for Franchise)'})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Partner Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:d.partnerType,onChange:y=>u(w=>({...w,partnerType:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",required:!0,children:[r.jsx("option",{value:"individual",children:"Individual Partner"}),r.jsx("option",{value:"franchise",children:"Franchise Partner"}),r.jsx("option",{value:"both",children:"Both (Individual & Franchise)"})]}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select which partner type can subscribe to this plan"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Price () ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",value:d.price,onChange:y=>u(w=>({...w,price:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"1000",min:"0",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Guaranteed Leads ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",value:d.leads,onChange:y=>u(w=>({...w,leads:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"20",min:"0",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Commission (%) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",value:d.commission,onChange:y=>u(w=>({...w,commission:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"5",min:"0",max:"100",step:"0.1",required:!0})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Lead Fee () ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",value:d.leadFee,onChange:y=>u(w=>({...w,leadFee:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"50",min:"0",required:!0})]}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Min Wallet Balance () ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",value:d.minWalletBalance,onChange:y=>u(w=>({...w,minWalletBalance:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"20",min:"0",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{value:d.description,onChange:y=>u(w=>({...w,description:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",rows:3,placeholder:"Plan description..."})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Plan Validity ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:d.validityType,onChange:y=>u(w=>({...w,validityType:y.target.value,validityMonths:y.target.value==="custom"?w.validityMonths:""})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",required:!0,children:[r.jsx("option",{value:"monthly",children:"Monthly (1 Month)"}),r.jsx("option",{value:"quarterly",children:"Quarterly (3 Months)"}),r.jsx("option",{value:"yearly",children:"Yearly (12 Months)"}),r.jsx("option",{value:"custom",children:"Custom Duration"})]}),d.validityType==="custom"&&r.jsxs("div",{className:"mt-3",children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Custom Duration (Months) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",value:d.validityMonths,onChange:y=>u(w=>({...w,validityMonths:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Enter number of months",min:"1",required:d.validityType==="custom"}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Enter the number of months for plan validity"})]}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Select how long the plan remains valid after subscription"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Refund Policy"}),r.jsx("textarea",{value:d.refundPolicy,onChange:y=>u(w=>({...w,refundPolicy:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",rows:2,placeholder:"Refund policy details..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Features (one per line)"}),r.jsx("textarea",{value:d.features,onChange:y=>u(w=>({...w,features:y.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",rows:4,placeholder:`Feature 1
Feature 2
Feature 3`})]}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:d.isDefault,onChange:y=>u(w=>({...w,isDefault:y.target.checked})),className:"w-4 h-4 text-primary rounded focus:ring-primary"}),r.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Set as Default Plan"})]})}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:d.isActive,onChange:y=>u(w=>({...w,isActive:y.target.checked})),className:"w-4 h-4 text-primary rounded focus:ring-primary"}),r.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Active"})]})}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition disabled:opacity-50",children:m?"Saving...":o?"Update Plan":"Create Plan"})]})]})]})})]})},iNe=()=>{const{token:e}=Ar(),[t,s]=g.useState("individual"),[a,n]=g.useState({individual:{registrationFee:"",securityDeposit:"",toolkitPrice:"",registrationFeeRefundable:!1,securityDepositRefundable:!1,toolkitPriceRefundable:!1},franchise:{registrationFee:"",securityDeposit:"",toolkitPrice:"",registrationFeeRefundable:!1,securityDepositRefundable:!1,toolkitPriceRefundable:!1}}),[i,l]=g.useState(!1),[o,c]=g.useState(""),[d,u]=g.useState(""),{data:m,isLoading:f,error:h,refresh:x}=Bt(y=>Fe.fetchFees(y),[]);At.useEffect(()=>{var y,w,N,k,S,P,_,C,A,V,q,Z;m!=null&&m.data&&n({individual:{registrationFee:((y=m.data.individual)==null?void 0:y.registrationFee)||m.data.registrationFee||"",securityDeposit:((w=m.data.individual)==null?void 0:w.securityDeposit)||m.data.securityDeposit||"",toolkitPrice:((N=m.data.individual)==null?void 0:N.toolkitPrice)||m.data.toolkitPrice||"",registrationFeeRefundable:((k=m.data.individual)==null?void 0:k.registrationFeeRefundable)||m.data.registrationFeeRefundable||!1,securityDepositRefundable:((S=m.data.individual)==null?void 0:S.securityDepositRefundable)||m.data.securityDepositRefundable||!1,toolkitPriceRefundable:((P=m.data.individual)==null?void 0:P.toolkitPriceRefundable)||m.data.toolkitPriceRefundable||!1},franchise:{registrationFee:((_=m.data.franchise)==null?void 0:_.registrationFee)||m.data.registrationFee||"",securityDeposit:((C=m.data.franchise)==null?void 0:C.securityDeposit)||m.data.securityDeposit||"",toolkitPrice:((A=m.data.franchise)==null?void 0:A.toolkitPrice)||m.data.toolkitPrice||"",registrationFeeRefundable:((V=m.data.franchise)==null?void 0:V.registrationFeeRefundable)||m.data.registrationFeeRefundable||!1,securityDepositRefundable:((q=m.data.franchise)==null?void 0:q.securityDepositRefundable)||m.data.securityDepositRefundable||!1,toolkitPriceRefundable:((Z=m.data.franchise)==null?void 0:Z.toolkitPriceRefundable)||m.data.toolkitPriceRefundable||!1}})},[m]);const p=async y=>{y.preventDefault(),l(!0),u(""),c("");try{const w=a[t];await Fe.updateFees(e,{partnerType:t,registrationFee:Number(w.registrationFee),securityDeposit:Number(w.securityDeposit),toolkitPrice:Number(w.toolkitPrice),registrationFeeRefundable:w.registrationFeeRefundable,securityDepositRefundable:w.securityDepositRefundable,toolkitPriceRefundable:w.toolkitPriceRefundable}),c(`${t==="individual"?"Individual":"Franchise"} partner fees updated successfully!`),x(),setTimeout(()=>{c("")},3e3)}catch(w){u(w.message||"Failed to update fees")}finally{l(!1)}},b=()=>{var y,w,N,k,S,P,_,C,A,V,q,Z;m!=null&&m.data&&n({individual:{registrationFee:((y=m.data.individual)==null?void 0:y.registrationFee)||m.data.registrationFee||"",securityDeposit:((w=m.data.individual)==null?void 0:w.securityDeposit)||m.data.securityDeposit||"",toolkitPrice:((N=m.data.individual)==null?void 0:N.toolkitPrice)||m.data.toolkitPrice||"",registrationFeeRefundable:((k=m.data.individual)==null?void 0:k.registrationFeeRefundable)||m.data.registrationFeeRefundable||!1,securityDepositRefundable:((S=m.data.individual)==null?void 0:S.securityDepositRefundable)||m.data.securityDepositRefundable||!1,toolkitPriceRefundable:((P=m.data.individual)==null?void 0:P.toolkitPriceRefundable)||m.data.toolkitPriceRefundable||!1},franchise:{registrationFee:((_=m.data.franchise)==null?void 0:_.registrationFee)||m.data.registrationFee||"",securityDeposit:((C=m.data.franchise)==null?void 0:C.securityDeposit)||m.data.securityDeposit||"",toolkitPrice:((A=m.data.franchise)==null?void 0:A.toolkitPrice)||m.data.toolkitPrice||"",registrationFeeRefundable:((V=m.data.franchise)==null?void 0:V.registrationFeeRefundable)||m.data.registrationFeeRefundable||!1,securityDepositRefundable:((q=m.data.franchise)==null?void 0:q.securityDepositRefundable)||m.data.securityDepositRefundable||!1,toolkitPriceRefundable:((Z=m.data.franchise)==null?void 0:Z.toolkitPriceRefundable)||m.data.toolkitPriceRefundable||!1}}),u(""),c("")},j=()=>{const y=a[t],w=Number(y.registrationFee)||0,N=Number(y.securityDeposit)||0;return w+N},v=a[t];return r.jsxs("div",{children:[r.jsx($r,{title:"Fee Management",subtitle:"Manage registration fee, security deposit, and toolkit pricing for partner onboarding."}),f?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):h?r.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Error loading fees: ",h]}):r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Update Fees"}),r.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg transition",children:[r.jsx(Gt,{className:"w-4 h-4"}),"Reset"]})]}),r.jsxs("div",{className:"flex gap-2 mb-6 p-1 bg-slate-100 rounded-xl",children:[r.jsx("button",{type:"button",onClick:()=>s("individual"),className:`flex-1 px-4 py-2.5 rounded-lg font-semibold transition ${t==="individual"?"bg-white text-primary shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"Individual Partner"}),r.jsx("button",{type:"button",onClick:()=>s("franchise"),className:`flex-1 px-4 py-2.5 rounded-lg font-semibold transition ${t==="franchise"?"bg-white text-purple-600 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"Franchise Partner"})]}),d&&r.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg mb-6 text-sm",children:d}),o&&r.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg mb-6 text-sm",children:o}),r.jsxs("form",{onSubmit:p,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Registration Fee () ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:""}),r.jsx("input",{type:"number",value:v.registrationFee,onChange:y=>n(w=>({...w,[t]:{...w[t],registrationFee:y.target.value}})),className:"w-full pl-8 pr-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"500",min:"0",step:"1",required:!0})]}),r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["One-time registration fee charged to ",t==="individual"?"individual":"franchise"," partners during onboarding"]}),r.jsxs("div",{className:"flex items-center gap-3 mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[r.jsx("input",{type:"checkbox",id:"registrationFeeRefundable",checked:v.registrationFeeRefundable,onChange:y=>n(w=>({...w,[t]:{...w[t],registrationFeeRefundable:y.target.checked}})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),r.jsx("label",{htmlFor:"registrationFeeRefundable",className:"flex-1 cursor-pointer",children:r.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Registration Fee is Refundable"})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Security Deposit () ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:""}),r.jsx("input",{type:"number",value:v.securityDeposit,onChange:y=>n(w=>({...w,[t]:{...w[t],securityDeposit:y.target.value}})),className:"w-full pl-8 pr-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"1000",min:"0",step:"1",required:!0})]}),r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Security deposit amount collected from ",t==="individual"?"individual":"franchise"," partners"]}),r.jsxs("div",{className:"flex items-center gap-3 mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[r.jsx("input",{type:"checkbox",id:"securityDepositRefundable",checked:v.securityDepositRefundable,onChange:y=>n(w=>({...w,[t]:{...w[t],securityDepositRefundable:y.target.checked}})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),r.jsx("label",{htmlFor:"securityDepositRefundable",className:"flex-1 cursor-pointer",children:r.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Security Deposit is Refundable"})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Toolkit Price () ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:""}),r.jsx("input",{type:"number",value:v.toolkitPrice,onChange:y=>n(w=>({...w,[t]:{...w[t],toolkitPrice:y.target.value}})),className:"w-full pl-8 pr-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"2499",min:"0",step:"1",required:!0})]}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Price for professional toolkit (optional purchase during onboarding)"}),r.jsxs("div",{className:"flex items-center gap-3 mt-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[r.jsx("input",{type:"checkbox",id:"toolkitPriceRefundable",checked:v.toolkitPriceRefundable,onChange:y=>n(w=>({...w,[t]:{...w[t],toolkitPriceRefundable:y.target.checked}})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),r.jsx("label",{htmlFor:"toolkitPriceRefundable",className:"flex-1 cursor-pointer",children:r.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Toolkit Price is Refundable"})})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:b,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:i,className:"flex-1 px-4 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx(Gt,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ji,{className:"w-5 h-5"}),"Update Fees"]})})]})]})]})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:`bg-gradient-to-br border rounded-2xl p-6 sticky top-6 ${t==="individual"?"from-primary/10 to-primary/5 border-primary/20":"from-purple-500/10 to-purple-500/5 border-purple-500/20"}`,children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-2 flex items-center gap-2",children:[r.jsx(Qt,{className:`w-5 h-5 ${t==="individual"?"text-primary":"text-purple-600"}`}),"Fee Summary"]}),r.jsxs("p",{className:"text-xs text-slate-600 mb-4",children:[t==="individual"?"Individual Partner":"Franchise Partner"," Fees"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white/80 rounded-xl p-4",children:[r.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Registration Fee"}),r.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",(Number(v.registrationFee)||0).toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"bg-white/80 rounded-xl p-4",children:[r.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Security Deposit"}),r.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",(Number(v.securityDeposit)||0).toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"bg-white/80 rounded-xl p-4",children:[r.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Toolkit Price"}),r.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",(Number(v.toolkitPrice)||0).toLocaleString("en-IN")]})]}),r.jsx("div",{className:`border-t pt-4 mt-4 ${t==="individual"?"border-primary/20":"border-purple-500/20"}`,children:r.jsxs("div",{className:"bg-white/80 rounded-xl p-4",children:[r.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Total Onboarding Fee"}),r.jsxs("p",{className:`text-2xl font-bold ${t==="individual"?"text-primary":"text-purple-600"}`,children:["",j().toLocaleString("en-IN")]}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"(Registration + Security Deposit)"})]})}),r.jsxs("div",{className:"bg-white/80 rounded-xl p-4 space-y-2",children:[r.jsx("p",{className:"text-xs text-slate-500 mb-2 font-semibold",children:"Refundable Status"}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-slate-600",children:"Registration Fee:"}),r.jsx("span",{className:`text-xs font-semibold ${v.registrationFeeRefundable?"text-emerald-600":"text-slate-600"}`,children:v.registrationFeeRefundable?" Refundable":" Non-Refundable"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-slate-600",children:"Security Deposit:"}),r.jsx("span",{className:`text-xs font-semibold ${v.securityDepositRefundable?"text-emerald-600":"text-slate-600"}`,children:v.securityDepositRefundable?" Refundable":" Non-Refundable"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-slate-600",children:"Toolkit Price:"}),r.jsx("span",{className:`text-xs font-semibold ${v.toolkitPriceRefundable?"text-emerald-600":"text-slate-600"}`,children:v.toolkitPriceRefundable?" Refundable":" Non-Refundable"})]})]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mt-4",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(UI,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-xs text-blue-700",children:[r.jsx("p",{className:"font-semibold mb-1",children:"Note:"}),r.jsx("p",{children:"Toolkit is optional. Total onboarding fee = Registration Fee + Security Deposit"}),(v.registrationFeeRefundable||v.securityDepositRefundable||v.toolkitPriceRefundable)&&r.jsxs("p",{className:"mt-2 text-emerald-700 font-semibold",children:[" Refundable fees will be displayed to ",t==="individual"?"individual":"franchise"," partners during onboarding"]})]})]})})]})]})})]})]})},lNe=()=>{const{token:e}=Ar(),[t,s]=g.useState({feeType:"all",status:"all",startDate:"",endDate:""}),[a,n]=g.useState(1),[i,l]=g.useState("individual"),[o,c]=g.useState(null),d=g.useMemo(()=>{const C={page:a,limit:t.feeType!=="all"||t.status!=="all"||t.startDate||t.endDate?100:50};return t.feeType&&t.feeType!=="all"&&(C.feeType=t.feeType),t.status&&t.status!=="all"&&(C.status=t.status),t.startDate&&(C.startDate=t.startDate),t.endDate&&(C.endDate=t.endDate),C},[t.feeType,t.status,t.startDate,t.endDate,a]),u=g.useMemo(()=>JSON.stringify(d),[d]),m=g.useMemo(()=>{const C={...d};return A=>Fe.fetchFeeTransactions(A,C)},[u]),{data:f,isLoading:h,error:x,refresh:p}=Bt(m,[u]),b=Array.isArray(f==null?void 0:f.data)?f.data:[],j=(f==null?void 0:f.stats)||{},v=(f==null?void 0:f.pagination)||{},y=b&&b.length>0,w=g.useMemo(()=>{if(i!=="grouped")return{};const C={};return b.forEach(A=>{const V=A.feeType||"other";C[V]||(C[V]={feeType:V,transactions:[],totalAmount:0,count:0,successCount:0,successAmount:0}),C[V].transactions.push(A),C[V].totalAmount+=A.amount||0,C[V].count+=1,A.status==="success"&&(C[V].successCount+=1,C[V].successAmount+=A.amount||0)}),C},[b,i]),N=(C,A)=>{s(V=>{const q={...V,[C]:A};return C==="startDate"&&A&&q.endDate&&new Date(A)>new Date(q.endDate)&&(q.endDate=""),C==="endDate"&&A&&q.startDate&&new Date(A)<new Date(q.startDate)&&(q.startDate=""),q}),n(1)},k=()=>{s({feeType:"all",status:"all",startDate:"",endDate:""}),n(1)},S=C=>{switch(C){case"registration":return"bg-blue-500/10 text-blue-600";case"mg_plan":return"bg-purple-500/10 text-purple-600";case"security_deposit":return"bg-yellow-500/10 text-yellow-600";case"toolkit":return"bg-green-500/10 text-green-600";case"lead_fee":return"bg-orange-500/10 text-orange-600";default:return"bg-slate-500/10 text-slate-600"}},P=C=>{switch(C){case"success":return"bg-emerald-500/10 text-emerald-600";case"failed":return"bg-rose-500/10 text-rose-600";case"pending":return"bg-yellow-500/10 text-yellow-600";case"refunded":return"bg-blue-500/10 text-blue-600";default:return"bg-slate-500/10 text-slate-600"}},_=C=>(C==null?void 0:C.replace("_"," ").replace(/\b\w/g,A=>A.toUpperCase()))||"Other";return r.jsxs("div",{children:[r.jsx($r,{title:"Fee Transactions",subtitle:"View and manage all fee transactions including registration fees, MG plans, security deposits, and toolkit purchases.",actions:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 rounded-lg p-1",children:[r.jsxs("button",{onClick:()=>l("individual"),className:`px-3 py-1.5 rounded-md text-sm font-semibold transition flex items-center gap-2 ${i==="individual"?"bg-white text-primary shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:[r.jsx(Wq,{className:"w-4 h-4"}),"Individual"]}),r.jsxs("button",{onClick:()=>l("grouped"),className:`px-3 py-1.5 rounded-md text-sm font-semibold transition flex items-center gap-2 ${i==="grouped"?"bg-white text-primary shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:[r.jsx(Vq,{className:"w-4 h-4"}),"Grouped"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>{const C=b.map(A=>{var V,q,Z,ue,me,Q,ae,oe;return{"Date & Time":new Date(A.createdAt).toLocaleString("en-IN"),"Partner Name":((V=A.partner)==null?void 0:V.name)||((q=A.metadata)==null?void 0:q.partnerName)||"Unknown","Partner Phone":((Z=A.partner)==null?void 0:Z.phone)||((ue=A.metadata)==null?void 0:ue.partnerPhone)||A.partnerId||"N/A","Amount ()":A.amount||0,Status:((me=A.status)==null?void 0:me.charAt(0).toUpperCase())+((Q=A.status)==null?void 0:Q.slice(1))||"Unknown","Payment Method":((ae=A.paymentMethod)==null?void 0:ae.charAt(0).toUpperCase())+((oe=A.paymentMethod)==null?void 0:oe.slice(1))||"N/A","Transaction ID":A.transactionId||"N/A",Description:A.description||"N/A","Fee Type":A.feeType||"N/A"}});Do(C,[{header:"Date & Time",accessor:"Date & Time"},{header:"Partner Name",accessor:"Partner Name"},{header:"Partner Phone",accessor:"Partner Phone"},{header:"Amount ()",accessor:"Amount ()"},{header:"Status",accessor:"Status"},{header:"Payment Method",accessor:"Payment Method"},{header:"Transaction ID",accessor:"Transaction ID"},{header:"Description",accessor:"Description"},{header:"Fee Type",accessor:"Fee Type"}],"Fee_Transactions","Transactions",{columnWidths:[20,20,15,15,12,15,25,30,15]})},disabled:!y,className:"px-4 py-2 rounded-xl border border-slate-300 text-slate-700 text-sm font-semibold hover:bg-slate-50 transition inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:"Export to Excel",children:[r.jsx(si,{})," Export Excel"]}),r.jsxs("button",{onClick:p,className:"px-4 py-2 rounded-xl border border-slate-300 text-slate-700 text-sm font-semibold hover:bg-slate-50 transition inline-flex items-center gap-2",children:[r.jsx(Gt,{})," Refresh"]})]})]})}),!h&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Total Amount"}),r.jsx(zs,{className:"w-5 h-5 text-slate-400"})]}),r.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",(j.totalAmount||0).toLocaleString("en-IN")]}),r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[j.totalCount||0," transaction",(j.totalCount||0)!==1?"s":""]})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Successful"}),r.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-500/20 flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 rounded-full"})})]}),r.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:["",(j.successAmount||0).toLocaleString("en-IN")]}),r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[j.successCount||0," transaction",(j.successCount||0)!==1?"s":""]})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Failed"}),r.jsx("div",{className:"w-5 h-5 rounded-full bg-rose-500/20 flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-500 rounded-full"})})]}),r.jsx("p",{className:"text-2xl font-bold text-rose-600",children:j.failedCount||0}),r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Failed transaction",(j.failedCount||0)!==1?"s":""]})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Success Rate"}),r.jsx(Gt,{className:"w-5 h-5 text-slate-400"})]}),r.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[(j.totalCount||0)>0?((j.successCount||0)/(j.totalCount||1)*100).toFixed(1):0,"%"]}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Payment success rate"})]})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Fg,{className:"w-5 h-5 text-slate-500"}),r.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Filters"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Fee Type"}),r.jsxs("select",{value:t.feeType,onChange:C=>N("feeType",C.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"registration",children:"Registration"}),r.jsx("option",{value:"security_deposit",children:"Security Deposit"}),r.jsx("option",{value:"toolkit",children:"Toolkit"}),r.jsx("option",{value:"mg_plan",children:"MG Plan"}),r.jsx("option",{value:"lead_fee",children:"Lead Fee"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Status"}),r.jsxs("select",{value:t.status,onChange:C=>N("status",C.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"success",children:"Success"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"failed",children:"Failed"}),r.jsx("option",{value:"refunded",children:"Refunded"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Date Range"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"date",value:t.startDate,onChange:C=>N("startDate",C.target.value),max:t.endDate||void 0,className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",placeholder:"Start Date"}),r.jsx("input",{type:"date",value:t.endDate,onChange:C=>N("endDate",C.target.value),min:t.startDate||void 0,className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",placeholder:"End Date"})]}),t.startDate&&t.endDate&&new Date(t.startDate)>new Date(t.endDate)&&r.jsx("p",{className:"text-xs text-rose-600 mt-1",children:"End date must be after start date"})]})]}),(t.feeType!=="all"||t.status!=="all"||t.startDate||t.endDate)&&r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsxs("button",{onClick:k,className:"px-4 py-2 text-sm font-semibold text-slate-600 hover:text-slate-900 transition inline-flex items-center gap-2",children:[r.jsx(ut,{className:"w-4 h-4"}),"Clear Filters"]})})]}),r.jsx("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm overflow-hidden",children:h?r.jsx("div",{className:"flex items-center justify-center py-16",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):x?r.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 m-6 rounded-lg",children:[r.jsx("p",{className:"font-semibold mb-1",children:"Error loading transactions"}),r.jsx("p",{className:"text-sm",children:x}),r.jsx("button",{onClick:p,className:"mt-3 px-4 py-2 bg-rose-600 text-white rounded-lg text-sm font-semibold hover:bg-rose-700 transition",children:"Retry"})]}):y?i==="grouped"?r.jsx("div",{className:"divide-y divide-slate-200",children:!y||Object.keys(w).length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx(zs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-500 font-medium text-lg mb-2",children:"No transactions found"}),r.jsx("p",{className:"text-sm text-slate-400 mb-4",children:t.feeType!=="all"||t.status!=="all"||t.startDate||t.endDate?"No transactions match your current filters. Try adjusting your filters or clear them to see all transactions.":"There are no fee transactions in the system yet."}),(t.feeType!=="all"||t.status!=="all"||t.startDate||t.endDate)&&r.jsxs("button",{onClick:k,className:"px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[r.jsx(ut,{className:"w-4 h-4"}),"Clear All Filters"]})]}):Object.values(w).map(C=>r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-semibold ${S(C.feeType)}`,children:_(C.feeType)}),r.jsxs("span",{className:"text-sm text-slate-500",children:[C.count," transaction",C.count!==1?"s":""]})]}),r.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-slate-500",children:"Total Amount"}),r.jsxs("p",{className:"font-bold text-slate-900",children:["",C.totalAmount.toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-slate-500",children:"Successful"}),r.jsxs("p",{className:"font-bold text-emerald-600",children:["",C.successAmount.toLocaleString("en-IN")]})]})]})]}),C.transactions.length===0?r.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No transactions in this group"}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Date & Time"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Partner"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Amount"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Status"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Payment Method"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Transaction ID"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Description"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-600 uppercase",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-100",children:C.transactions.map(A=>{var V,q,Z,ue,me,Q,ae,oe,R,O;return r.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-700",children:new Date(A.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:((V=A.partner)==null?void 0:V.name)||((q=A.metadata)==null?void 0:q.partnerName)||"Unknown"}),r.jsx("p",{className:"text-xs text-slate-500",children:((Z=A.partner)==null?void 0:Z.phone)||((ue=A.metadata)==null?void 0:ue.partnerPhone)||A.partnerId})]})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:["",((me=A.amount)==null?void 0:me.toLocaleString("en-IN"))||0]})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${P(A.status)}`,children:((Q=A.status)==null?void 0:Q.charAt(0).toUpperCase())+((ae=A.status)==null?void 0:ae.slice(1))||"Unknown"})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600",children:((oe=A.paymentMethod)==null?void 0:oe.charAt(0).toUpperCase())+((R=A.paymentMethod)==null?void 0:R.slice(1))||"N/A"}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsx("div",{className:"text-xs text-slate-500 font-mono",children:A.transactionId||"N/A"})}),r.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 max-w-xs",children:r.jsxs("div",{children:[r.jsx("p",{className:"truncate",children:A.description||"N/A"}),((O=A.metadata)==null?void 0:O.priceBreakdown)&&r.jsxs("details",{className:"mt-1",children:[r.jsx("summary",{className:"text-xs text-primary cursor-pointer hover:underline",children:"View Payment Breakdown"}),r.jsxs("div",{className:"mt-1 text-xs text-slate-500 space-y-0.5 pl-2 bg-slate-50 p-2 rounded",children:[A.metadata.priceBreakdown.registrationFee>0&&r.jsxs("p",{className:t.feeType==="registration"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Registration Fee: ",A.metadata.priceBreakdown.registrationFee.toLocaleString("en-IN"),t.feeType==="registration"&&" (Current Filter)"]}),A.metadata.priceBreakdown.securityDeposit>0&&r.jsxs("p",{className:t.feeType==="security_deposit"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Security Deposit: ",A.metadata.priceBreakdown.securityDeposit.toLocaleString("en-IN"),t.feeType==="security_deposit"&&" (Current Filter)"]}),A.metadata.priceBreakdown.toolkitPrice>0&&r.jsxs("p",{className:t.feeType==="toolkit"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Toolkit: ",A.metadata.priceBreakdown.toolkitPrice.toLocaleString("en-IN"),t.feeType==="toolkit"&&" (Current Filter)"]}),A.metadata.priceBreakdown.totalAmount>0&&r.jsxs("p",{className:"font-semibold text-slate-700 border-t border-slate-200 pt-1 mt-1",children:["Total Paid: ",A.metadata.priceBreakdown.totalAmount.toLocaleString("en-IN")]})]})]})]})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:r.jsxs("button",{onClick:()=>c({data:A,type:"transaction"}),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-sm font-semibold hover:bg-primary/20 transition flex items-center gap-2",children:[r.jsx(Vt,{})," Invoice"]})})]},A._id)})})]})})]},C.feeType))}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Date & Time"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Partner"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Fee Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Payment Method"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Transaction ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-200",children:b.map(C=>{var A,V,q,Z,ue,me,Q,ae,oe,R;return r.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700",children:new Date(C.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:((A=C.partner)==null?void 0:A.name)||((V=C.metadata)==null?void 0:V.partnerName)||"Unknown"}),r.jsx("p",{className:"text-xs text-slate-500",children:((q=C.partner)==null?void 0:q.phone)||((Z=C.metadata)==null?void 0:Z.partnerPhone)||C.partnerId})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${S(C.feeType)}`,children:_(C.feeType)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:["",((ue=C.amount)==null?void 0:ue.toLocaleString("en-IN"))||0]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${P(C.status)}`,children:((me=C.status)==null?void 0:me.charAt(0).toUpperCase())+((Q=C.status)==null?void 0:Q.slice(1))||"Unknown"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:((ae=C.paymentMethod)==null?void 0:ae.charAt(0).toUpperCase())+((oe=C.paymentMethod)==null?void 0:oe.slice(1))||"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-xs text-slate-500 font-mono",children:C.transactionId||"N/A"})}),r.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 max-w-xs",children:r.jsxs("div",{children:[r.jsx("p",{className:"truncate",children:C.description||"N/A"}),((R=C.metadata)==null?void 0:R.priceBreakdown)&&r.jsxs("details",{className:"mt-1",children:[r.jsx("summary",{className:"text-xs text-primary cursor-pointer hover:underline",children:"View Payment Breakdown"}),r.jsxs("div",{className:"mt-1 text-xs text-slate-500 space-y-0.5 pl-2 bg-slate-50 p-2 rounded",children:[C.metadata.priceBreakdown.registrationFee>0&&r.jsxs("p",{className:t.feeType==="registration"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Registration Fee: ",C.metadata.priceBreakdown.registrationFee.toLocaleString("en-IN"),t.feeType==="registration"&&" (Current Filter)"]}),C.metadata.priceBreakdown.securityDeposit>0&&r.jsxs("p",{className:t.feeType==="security_deposit"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Security Deposit: ",C.metadata.priceBreakdown.securityDeposit.toLocaleString("en-IN"),t.feeType==="security_deposit"&&" (Current Filter)"]}),C.metadata.priceBreakdown.toolkitPrice>0&&r.jsxs("p",{className:t.feeType==="toolkit"?"font-semibold text-primary bg-primary/10 px-2 py-1 rounded":"",children:["Toolkit: ",C.metadata.priceBreakdown.toolkitPrice.toLocaleString("en-IN"),t.feeType==="toolkit"&&" (Current Filter)"]}),C.metadata.priceBreakdown.totalAmount>0&&r.jsxs("p",{className:"font-semibold text-slate-700 border-t border-slate-200 pt-1 mt-1",children:["Total Paid: ",C.metadata.priceBreakdown.totalAmount.toLocaleString("en-IN")]})]})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("button",{onClick:()=>c({data:C,type:"transaction"}),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-sm font-semibold hover:bg-primary/20 transition flex items-center gap-2",children:[r.jsx(Vt,{})," Invoice"]})})]},C._id)})})]})}),v.pages>1&&r.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",(a-1)*(v.limit||20)+1," to"," ",Math.min(a*(v.limit||20),v.total)," of"," ",v.total," transactions"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>n(C=>Math.max(1,C-1)),disabled:a===1,className:"px-4 py-2 text-sm font-semibold text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Previous"}),r.jsxs("span",{className:"px-4 py-2 text-sm font-semibold text-slate-700",children:["Page ",a," of ",v.pages||1]}),r.jsx("button",{onClick:()=>n(C=>Math.min(v.pages||1,C+1)),disabled:a>=(v.pages||1),className:"px-4 py-2 text-sm font-semibold text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Next"})]})]})]}):r.jsxs("div",{className:"text-center py-16",children:[r.jsx(zs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-500 font-medium text-lg mb-2",children:"No transactions found"}),r.jsx("p",{className:"text-sm text-slate-400 mb-4",children:t.feeType!=="all"||t.status!=="all"||t.startDate||t.endDate?"No transactions match your current filters. Try adjusting your filters or clear them to see all transactions.":"There are no fee transactions in the system yet."}),(t.feeType!=="all"||t.status!=="all"||t.startDate||t.endDate)&&r.jsxs("button",{onClick:k,className:"px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[r.jsx(ut,{className:"w-4 h-4"}),"Clear All Filters"]})]})}),o&&r.jsx(eb,{data:o.data,type:o.type,onClose:()=>c(null)})]})},oNe=[{emoji:"",name:"Tools"},{emoji:"",name:"Home"},{emoji:"",name:"Plumbing"},{emoji:"",name:"Electrical"},{emoji:"",name:"Cleaning"},{emoji:"",name:"Painting"},{emoji:"",name:"Carpentry"},{emoji:"",name:"Repair"},{emoji:"",name:"Gardening"},{emoji:"",name:"Automotive"},{emoji:"",name:"Tech"},{emoji:"",name:"Commercial"},{emoji:"",name:"Security"},{emoji:"",name:"AC/Heating"},{emoji:"",name:"Moving"},{emoji:"",name:"Maintenance"},{emoji:"",name:"Mobile"},{emoji:"",name:"Lighting"},{emoji:"",name:"Doors"},{emoji:"",name:"Windows"},{emoji:"",name:"Construction"},{emoji:"",name:"Fire Safety"},{emoji:"",name:"Water"},{emoji:"",name:"Internet"},{emoji:"",name:"TV/Media"},{emoji:"",name:"Appliances"},{emoji:"",name:"Protection"},{emoji:"",name:"Target"},{emoji:"",name:"Star"},{emoji:"",name:"Premium"},{emoji:"",name:"Gift"},{emoji:"",name:"Hot"},{emoji:"",name:"Sparkle"},{emoji:"",name:"Shining"},{emoji:"",name:"Event"},{emoji:"",name:"Medical"},{emoji:"",name:"Kitchen"},{emoji:"",name:"Furniture"},{emoji:"",name:"Bathroom"},{emoji:"",name:"Bedroom"},{emoji:"",name:"Package"},{emoji:"",name:"Design"},{emoji:"",name:"Photography"},{emoji:"",name:"Video"},{emoji:"",name:"Music"},{emoji:"",name:"Fitness"},{emoji:"",name:"Beauty"},{emoji:"",name:"Hair"},{emoji:"",name:"Nails"},{emoji:"",name:"Professional"},{emoji:"",name:"Education"},{emoji:"",name:"Learning"},{emoji:"",name:"Computer"},{emoji:"",name:"Keyboard"},{emoji:"",name:"Printer"},{emoji:"",name:"Phone"},{emoji:"",name:"Watch"},{emoji:"",name:"Audio"},{emoji:"",name:"Camera"},{emoji:"",name:"Gaming"},{emoji:"",name:"Bicycle"},{emoji:"",name:"Scooter"},{emoji:"",name:"Travel"},{emoji:"",name:"Hotel"},{emoji:"",name:"Food"},{emoji:"",name:"Coffee"},{emoji:"",name:"Bakery"},{emoji:"",name:"Restaurant"},{emoji:"",name:"Shopping"},{emoji:"",name:"Payment"},{emoji:"",name:"Bank"},{emoji:"",name:"Analytics"},{emoji:"",name:"Growth"},{emoji:"",name:"Business"},{emoji:"",name:"Partnership"},{emoji:"",name:"Global"},{emoji:"",name:"Location"},{emoji:"",name:"Map"},{emoji:"",name:"Time"},{emoji:"",name:"Calendar"},{emoji:"",name:"Check"},{emoji:"",name:"Cross"},{emoji:"",name:"Warning"},{emoji:"",name:"Info"},{emoji:"",name:"Search"},{emoji:"",name:"Chat"},{emoji:"",name:"Call"},{emoji:"",name:"Email"},{emoji:"",name:"Document"},{emoji:"",name:"Clipboard"},{emoji:"",name:"File"},{emoji:"",name:"Pages"},{emoji:"",name:"Bookmark"},{emoji:"",name:"Label"},{emoji:"",name:"Ticket"},{emoji:"",name:"Voucher"},{emoji:"",name:"Dice"},{emoji:"",name:"Casino"},{emoji:"",name:"Theater"},{emoji:"",name:"Art"},{emoji:"",name:"Frame"},{emoji:"",name:"Paintbrush"},{emoji:"",name:"Crayon"},{emoji:"",name:"Pencil"},{emoji:"",name:"Pen"},{emoji:"",name:"Ballpoint"},{emoji:"",name:"Fountain Pen"},{emoji:"",name:"Ruler"},{emoji:"",name:"Triangle"},{emoji:"",name:"Scissors"},{emoji:"",name:"Pin"},{emoji:"",name:"Pushpin"},{emoji:"",name:"Paperclip"},{emoji:"",name:"Linked Clips"},{emoji:"",name:"Straight Ruler"},{emoji:"",name:"Triangular Ruler"},{emoji:"",name:"Card Index"},{emoji:"",name:"Folder"},{emoji:"",name:"Open Folder"},{emoji:"",name:"Card File"},{emoji:"",name:"File Cabinet"},{emoji:"",name:"Bar Chart"},{emoji:"",name:"Chart Increasing"},{emoji:"",name:"Chart Decreasing"},{emoji:"",name:"Clipboard"},{emoji:"",name:"Pushpin"},{emoji:"",name:"Round Pushpin"},{emoji:"",name:"Paperclip"},{emoji:"",name:"Linked Paperclips"},{emoji:"",name:"Straightedge Ruler"},{emoji:"",name:"Triangular Ruler"},{emoji:"",name:"Scissors"},{emoji:"",name:"Card File Box"},{emoji:"",name:"File Cabinet"},{emoji:"",name:"Wastebasket"}],cNe=()=>{const{token:e}=Ar(),[t,s]=g.useState(!1),[a,n]=g.useState(null),[i,l]=g.useState({name:"",description:"",subtitle:"",icon:"",isActive:!0}),[o,c]=g.useState(!1),[d,u]=g.useState(""),[m,f]=g.useState(""),[h,x]=g.useState(""),{data:p,isLoading:b,error:j,refresh:v}=Bt(C=>Fe.fetchCategories(C),[]),w=((p==null?void 0:p.data)||[]).filter(C=>{var A,V;return((A=C.name)==null?void 0:A.toLowerCase().includes(h.toLowerCase()))||((V=C.description)==null?void 0:V.toLowerCase().includes(h.toLowerCase()))}),N=(C=null)=>{C?(n(C._id),l({name:C.name||"",description:C.description||"",subtitle:C.subtitle||"",icon:C.icon||"",isActive:C.isActive!==void 0?C.isActive:!0})):(n(null),l({name:"",description:"",subtitle:"",icon:"",isActive:!0})),s(!0),f(""),u("")},k=()=>{s(!1),n(null),l({name:"",description:"",subtitle:"",icon:"",isActive:!0}),f(""),u("")},S=async C=>{C.preventDefault(),c(!0),f(""),u("");try{a?(await Fe.updateCategory(e,a,{name:i.name,description:i.description,subtitle:i.subtitle,icon:i.icon,isActive:i.isActive}),u("Category updated successfully!")):(await Fe.createCategory(e,{name:i.name,description:i.description,subtitle:i.subtitle,icon:i.icon,isActive:i.isActive}),u("Category created successfully!")),v(),setTimeout(()=>{k()},1500)}catch(A){f(A.message||"Failed to save category")}finally{c(!1)}},P=async C=>{if(window.confirm("Are you sure you want to delete this category?"))try{await Fe.deleteCategory(e,C),u("Category deleted successfully!"),v(),setTimeout(()=>u(""),3e3)}catch(A){f(A.message||"Failed to delete category"),setTimeout(()=>f(""),3e3)}},_=C=>/[\u{1F300}-\u{1F9FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]/u.test(C);return r.jsxs("div",{children:[r.jsx($r,{title:"Category Management",subtitle:"Manage service categories with icons, descriptions, and status.",actions:r.jsxs("button",{onClick:()=>N(),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition",children:[r.jsx(Mr,{className:"w-5 h-5"}),"Add Category"]})}),m&&r.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg mb-6",children:m}),d&&r.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg mb-6",children:d}),r.jsx("div",{className:"mb-6",children:r.jsx("input",{type:"text",placeholder:"Search categories...",value:h,onChange:C=>x(C.target.value),className:"w-full max-w-md px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary"})}),b?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):j?r.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Error loading categories: ",j]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(C=>r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6 hover:shadow-md transition",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center text-2xl",children:[_(C.icon)?C.icon:r.jsx("img",{src:C.icon,alt:C.name,className:"w-8 h-8 object-contain",onError:A=>{A.target.style.display="none",A.target.nextSibling.style.display="block"}}),r.jsx("span",{style:{display:"none"},children:""})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900",children:C.name}),r.jsx("p",{className:"text-sm text-slate-500",children:C.subtitle})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>N(C),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition",children:r.jsx(os,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>P(C._id),className:"p-2 text-rose-600 hover:bg-rose-50 rounded-lg transition",children:r.jsx(an,{className:"w-4 h-4"})})]})]}),r.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:C.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${C.isActive?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:C.isActive?"Active":"Inactive"}),r.jsx("span",{className:"text-xs text-slate-400",children:new Date(C.createdAt).toLocaleDateString()})]})]},C._id))}),t&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:a?"Edit Category":"Create New Category"}),r.jsx("button",{onClick:k,className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5"})})]}),m&&r.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg mb-6 text-sm",children:m}),d&&r.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg mb-6 text-sm",children:d}),r.jsxs("form",{onSubmit:S,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Category Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:i.name,onChange:C=>l(A=>({...A,name:C.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"e.g., Plumbing, Electrical, Cleaning",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Subtitle ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:i.subtitle,onChange:C=>l(A=>({...A,subtitle:C.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Short description or tagline",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Description ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{value:i.description,onChange:C=>l(A=>({...A,description:C.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Detailed description of the category",rows:"3",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Icon ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"grid grid-cols-8 gap-2 max-h-48 overflow-y-auto p-2 border-2 border-slate-200 rounded-xl",children:oNe.map((C,A)=>r.jsx("button",{type:"button",onClick:()=>l(V=>({...V,icon:C.emoji})),className:`w-12 h-12 rounded-lg flex items-center justify-center text-2xl transition ${i.icon===C.emoji?"bg-primary text-white ring-2 ring-primary ring-offset-2":"bg-slate-100 hover:bg-slate-200"}`,title:C.name,children:C.emoji},A))}),r.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Selected: ",i.icon||"None"]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",id:"isActive",checked:i.isActive,onChange:C=>l(A=>({...A,isActive:C.target.checked})),className:"w-5 h-5 text-primary border-2 border-slate-300 rounded focus:ring-primary"}),r.jsx("label",{htmlFor:"isActive",className:"text-sm font-semibold text-gray-700",children:"Active (Category will be visible to partners)"})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:k,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?r.jsxs(r.Fragment,{children:[r.jsx(Gt,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ji,{className:"w-5 h-5"}),a?"Update Category":"Create Category"]})})]})]})]})})]})},dNe=()=>{const{token:e}=Ar(),[t,s]=g.useState(!1),[a,n]=g.useState(!1),[i,l]=g.useState(null),[o,c]=g.useState(null),[d,u]=g.useState(null),[m,f]=g.useState(""),[h,x]=g.useState({name:"",description:"",city:"",state:"",status:"active"}),[p,b]=g.useState({areaName:"",pinCodesText:""}),[j,v]=g.useState(!1),{data:y,isLoading:w,error:N,refresh:k}=Bt(R=>Fe.fetchHubs(R,{search:m}),[m]),{data:S}=Bt(R=>Fe.fetchPartners(R),[]),P=(y==null?void 0:y.data)||[];S!=null&&S.partners;const _=()=>{x({name:"",description:"",city:"",state:"",status:"active"}),l(null)},C=()=>{b({areaName:"",pinCodesText:""}),c(null),u(null)},A=()=>{_(),s(!0)},V=R=>{x({name:R.name||"",description:R.description||"",city:R.city||"",state:R.state||"",status:R.status||"active"}),l(R),s(!0)},q=R=>{C(),u(R),n(!0)},Z=(R,O)=>{var I;b({areaName:O.areaName||"",pinCodesText:((I=O.pinCodes)==null?void 0:I.join(", "))||""}),c(O),u(R),n(!0)},ue=async R=>{if(R.preventDefault(),!h.name.trim()){alert("Hub name is required");return}v(!0);try{i?await Fe.updateHub(e,i._id,h):await Fe.createHub(e,{...h,areas:[]}),s(!1),_(),k()}catch(O){alert(O.message||"Failed to save hub")}finally{v(!1)}},me=async R=>{if(R.preventDefault(),!p.areaName.trim()||!p.pinCodesText.trim()){alert("Area name and pin codes are required");return}const O=Array.from(new Set(p.pinCodesText.split(/[\s,]+/).map(I=>I.trim()).filter(I=>I.length>0&&/^\d{6}$/.test(I))));if(O.length===0){alert("Please add at least one valid 6-digit pin code");return}v(!0);try{o?await Fe.updateAreaInHub(e,d._id,o._id,{areaName:p.areaName.trim(),pinCodes:O}):await Fe.addAreaToHub(e,d._id,{areaName:p.areaName.trim(),pinCodes:O}),n(!1),C(),k()}catch(I){alert(I.message||"Failed to save area")}finally{v(!1)}},Q=async R=>{if(window.confirm("Are you sure you want to delete this hub? This action cannot be undone."))try{await Fe.deleteHub(e,R),k()}catch(O){alert(O.message||"Failed to delete hub")}},ae=async(R,O)=>{if(window.confirm("Are you sure you want to delete this area?"))try{await Fe.deleteAreaFromHub(e,R,O),k()}catch(I){alert(I.message||"Failed to delete area")}},oe=R=>{var O;return((O=R.areas)==null?void 0:O.reduce((I,X)=>[...I,...X.pinCodes||[]],[]))||[]};return r.jsxs("div",{children:[r.jsx($r,{title:"Hub Management",subtitle:"Create and manage service hubs with pin codes. Hubs can be assigned to partners in Partner Control."}),r.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[r.jsx("div",{className:"flex-1 w-full md:w-auto",children:r.jsxs("div",{className:"relative",children:[r.jsx(ai,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),r.jsx("input",{type:"text",value:m,onChange:R=>f(R.target.value),placeholder:"Search hubs by name, city, or state...",className:"w-full md:w-96 pl-10 pr-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary"})]})}),r.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl text-sm font-semibold hover:bg-primary-dark transition",children:[r.jsx(Mr,{})," Create Hub"]})]})}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:["All Hubs (",P.length,")"]}),r.jsx("p",{className:"text-xs text-slate-400",children:"Manage hubs and their area-wise pin codes"})]}),r.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-3 py-2 bg-slate-100 text-slate-700 rounded-lg text-xs font-semibold hover:bg-slate-200 transition",children:[r.jsx(Gt,{})," Refresh"]})]}),w?r.jsx("div",{className:"text-sm text-slate-400 py-8 text-center",children:"Loading hubs..."}):N?r.jsxs("div",{className:"text-sm text-rose-500 py-8 text-center",children:["Failed to load hubs: ",N]}):P.length===0?r.jsx("div",{className:"text-sm text-slate-500 py-8 text-center",children:m?"No hubs found matching your search.":"No hubs created yet. Create your first hub above."}):r.jsx("div",{className:"space-y-4",children:P.map(R=>{var X,W,T;const O=oe(R),I=((X=R.assignedPartners)==null?void 0:X.length)||0;return r.jsxs("div",{className:"border border-slate-200 rounded-xl p-5 bg-slate-50 hover:bg-slate-100 transition",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(aa,{className:"text-primary text-xl"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900",children:R.name}),(R.city||R.state)&&r.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:[R.city,R.state].filter(Boolean).join(", ")})]}),r.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${R.status==="active"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:R.status})]}),R.description&&r.jsx("p",{className:"text-sm text-slate-600 mt-2",children:R.description}),r.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-slate-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(aa,{})," ",((W=R.areas)==null?void 0:W.length)||0," Area",((T=R.areas)==null?void 0:T.length)===1?"":"s"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(aa,{})," ",O.length," Pin Code",O.length===1?"":"s"]}),I>0&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(sa,{})," ",I," Partner",I===1?"":"s"]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>q(R),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-xs font-semibold hover:bg-primary/20 transition",title:"Add Area",children:[r.jsx(Mr,{className:"inline mr-1"})," Area"]}),r.jsx("button",{onClick:()=>V(R),className:"p-2 hover:bg-slate-200 rounded-lg transition",title:"Edit Hub",children:r.jsx(os,{className:"text-slate-600"})}),r.jsx("button",{onClick:()=>Q(R._id),className:"p-2 hover:bg-rose-100 rounded-lg transition",title:"Delete Hub",children:r.jsx(an,{className:"text-rose-600"})})]})]}),R.areas&&R.areas.length>0?r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Areas"}),R.areas.map(L=>{var D,M;return r.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-800",children:L.areaName}),r.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:[((D=L.pinCodes)==null?void 0:D.length)||0," pin code",((M=L.pinCodes)==null?void 0:M.length)===1?"":"s"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>Z(R,L),className:"p-1.5 hover:bg-slate-100 rounded transition",title:"Edit Area",children:r.jsx(os,{className:"text-slate-600 text-sm"})}),r.jsx("button",{onClick:()=>ae(R._id,L._id),className:"p-1.5 hover:bg-rose-100 rounded transition",title:"Delete Area",children:r.jsx(an,{className:"text-rose-600 text-sm"})})]})]}),L.pinCodes&&L.pinCodes.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:L.pinCodes.map(z=>r.jsx("span",{className:"px-2.5 py-1 bg-primary/10 border border-primary/20 rounded-full text-xs font-semibold text-primary",children:z},z))})]},L._id)})]}):r.jsx("div",{className:"mt-4 text-center py-4 bg-slate-100 rounded-lg",children:r.jsx("p",{className:"text-xs text-slate-500",children:'No areas added yet. Click "Add Area" to get started.'})})]},R._id)})})]}),t&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:i?"Edit Hub":"Create Hub"}),r.jsx("button",{onClick:()=>{s(!1),_()},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Hub Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:h.name,onChange:R=>x(O=>({...O,name:R.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,placeholder:"e.g., Whitefield"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),r.jsx("textarea",{value:h.description,onChange:R=>x(O=>({...O,description:R.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",rows:3,placeholder:"Hub description (optional)"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),r.jsx("input",{type:"text",value:h.city,onChange:R=>x(O=>({...O,city:R.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",placeholder:"e.g., Bangalore"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"State"}),r.jsx("input",{type:"text",value:h.state,onChange:R=>x(O=>({...O,state:R.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",placeholder:"e.g., Karnataka"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Status"}),r.jsxs("select",{value:h.status,onChange:R=>x(O=>({...O,status:R.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{s(!1),_()},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:j,className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Saving...":i?"Update Hub":"Create Hub"})]})]})]})}),a&&d&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:o?"Edit Area":"Add Area"}),r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Hub: ",d.name]})]}),r.jsx("button",{onClick:()=>{n(!1),C()},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("form",{onSubmit:me,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Area Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:p.areaName,onChange:R=>b(O=>({...O,areaName:R.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,placeholder:"e.g., Whitefield Main, ITPL"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Pin Codes ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{value:p.pinCodesText,onChange:R=>b(O=>({...O,pinCodesText:R.target.value})),className:"w-full px-4 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",rows:4,required:!0,placeholder:"Enter pin codes separated by commas or spaces (e.g., 560066, 560067, 560087)"}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Separate multiple pin codes with commas or spaces. Each pin code must be 6 digits."})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{n(!1),C()},className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:j,className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Saving...":o?"Update Area":"Add Area"})]})]})]})})]})},Df=[{name:"FaSnowflake",label:"AC Service",icon:bh},{name:"FaBolt",label:"Electrical",icon:lo},{name:"FaTint",label:"Plumbing",icon:vh},{name:"FaBroom",label:"Cleaning",icon:fh},{name:"FaPaintRoller",label:"Painting",icon:gh},{name:"FaTools",label:"Tools/Repair",icon:ei},{name:"FaHammer",label:"Carpentry",icon:xh},{name:"FaFilter",label:"Water Filter",icon:ph},{name:"FaPlug",label:"Plug/Outlet",icon:Dw},{name:"FaWrench",label:"Wrench",icon:Dg},{name:"FaCheckCircle",label:"Check Circle",icon:Be},{name:"FaRupeeSign",label:"Rupee",icon:Og},{name:"FaCreditCard",label:"Credit Card",icon:go},{name:"FaMobileAlt",label:"Mobile",icon:Ig},{name:"FaUserCheck",label:"User Check",icon:ya},{name:"FaCommentDots",label:"Comment",icon:_g}],uNe=()=>{const{token:e}=Ar(),t=ms(),[s,a]=g.useState(!1),[n,i]=g.useState(null),[l,o]=g.useState({name:"",slug:"",icon:"FaTools",description:"",price:"",basePrice:0,discount:0,discountType:"percentage",cgst:0,sgst:0,serviceCharge:0,serviceChargeType:"amount",trusted:"Trusted by thousands of homes",included:[],excluded:[],addOns:[],order:0,isActive:!0}),[c,d]=g.useState({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools",included:[],excluded:[],subServices:[]}),[u,m]=g.useState(""),[f,h]=g.useState(""),[x,p]=g.useState({name:"",shortDescription:"",price:"",icon:"FaTools"}),[b,j]=g.useState(null),[v,y]=g.useState(null),[w,N]=g.useState(!1),[k,S]=g.useState(""),[P,_]=g.useState(""),[C,A]=g.useState(""),[V,q]=g.useState(!1),[Z,ue]=g.useState(null),{data:me,isLoading:Q,error:ae,refresh:oe}=Bt(F=>Fe.fetchPopularServices(F),[]),R=(me==null?void 0:me.data)||[],O=R.filter(F=>{var fe,lt;return((fe=F.name)==null?void 0:fe.toLowerCase().includes(C.toLowerCase()))||((lt=F.slug)==null?void 0:lt.toLowerCase().includes(C.toLowerCase()))}),I=(F=null)=>{var fe;F?(i(F._id),o({name:F.name||"",slug:F.slug||"",icon:F.icon||"FaTools",description:F.description||"",price:F.price||"",basePrice:F.basePrice||0,discount:F.discount||0,discountType:F.discountType||"percentage",cgst:F.cgst||0,sgst:F.sgst||0,serviceCharge:F.serviceCharge||0,serviceChargeType:F.serviceChargeType||"amount",trusted:F.trusted||"Trusted by thousands of homes",included:F.included||[],excluded:F.excluded||[],addOns:((fe=F.addOns)==null?void 0:fe.map(lt=>({...lt,included:lt.included||[],excluded:lt.excluded||[],subServices:lt.subServices||[]})))||[],order:F.order||0,isActive:F.isActive!==void 0?F.isActive:!0})):(i(null),o({name:"",slug:"",icon:"FaTools",description:"",price:"",basePrice:0,discount:0,discountType:"percentage",cgst:0,sgst:0,serviceCharge:0,serviceChargeType:"amount",trusted:"Trusted by thousands of homes",included:[],excluded:[],addOns:[],order:R.length>0?Math.max(...R.map(lt=>lt.order||0))+1:0,isActive:!0})),d({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools",included:[],excluded:[],subServices:[]}),m(""),h(""),p({name:"",shortDescription:"",price:"",icon:"FaTools"}),j(null),y(null),a(!0),_(""),S("")},X=()=>{a(!1),i(null),o({name:"",slug:"",icon:"FaTools",description:"",price:"",basePrice:0,discount:0,discountType:"percentage",cgst:0,sgst:0,serviceCharge:0,serviceChargeType:"amount",trusted:"Trusted by thousands of homes",included:[],excluded:[],addOns:[],order:0,isActive:!0}),m(""),h(""),p({name:"",shortDescription:"",price:"",icon:"FaTools"}),_(""),S("")},W=()=>{u.trim()&&(d(F=>({...F,included:[...F.included,u.trim()]})),m(""))},T=F=>{d(fe=>({...fe,included:fe.included.filter((lt,Nt)=>Nt!==F)}))},L=()=>{f.trim()&&(d(F=>({...F,excluded:[...F.excluded,f.trim()]})),h(""))},D=F=>{d(fe=>({...fe,excluded:fe.excluded.filter((lt,Nt)=>Nt!==F)}))},M=()=>{x.name.trim()&&x.price.trim()&&(v!==null?(d(F=>({...F,subServices:F.subServices.map((fe,lt)=>lt===v?{...x}:fe)})),y(null)):d(F=>({...F,subServices:[...F.subServices,{...x}]})),p({name:"",shortDescription:"",price:""}))},z=F=>{const fe=c.subServices[F];p({name:fe.name||"",shortDescription:fe.shortDescription||"",price:fe.price||"",icon:fe.icon||"FaTools"}),y(F)},se=F=>{d(fe=>({...fe,subServices:fe.subServices.filter((lt,Nt)=>Nt!==F)})),v===F&&(y(null),p({name:"",shortDescription:"",price:""}))},ne=()=>{y(null),p({name:"",shortDescription:"",price:"",icon:"FaTools"})},te=F=>{if(!F.basePrice||F.basePrice<=0)return"";let fe=F.basePrice||0;F.discount>0&&(fe-=fe*F.discount/100),F.serviceCharge>0&&(fe+=F.serviceCharge);const lt=(F.basePrice||0)-(F.discount>0?(F.basePrice||0)*F.discount/100:0)+(F.serviceCharge||0);return fe+=lt*(F.cgst||0)/100+lt*(F.sgst||0)/100,`${Math.round(fe)}`};g.useEffect(()=>{if(c.basePrice>0){const F=te(c);(!c.price||c.price.startsWith("")||c.price==="")&&d(fe=>({...fe,price:F}))}},[c.basePrice,c.discount,c.cgst,c.sgst,c.serviceCharge]);const Re=()=>{if(c.name.trim()&&c.basePrice>0){const F={...c,price:c.price||te(c),included:c.included||[],excluded:c.excluded||[],subServices:c.subServices||[]};b!==null?(o(fe=>({...fe,addOns:fe.addOns.map((lt,Nt)=>Nt===b?F:lt)})),j(null)):o(fe=>({...fe,addOns:[...fe.addOns,F]})),d({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools",included:[],excluded:[],subServices:[]}),m(""),h(""),p({name:"",shortDescription:"",price:""}),y(null)}},Ce=F=>{const fe=l.addOns[F];d({name:fe.name||"",description:fe.description||"",basePrice:fe.basePrice||0,discount:fe.discount||0,cgst:fe.cgst||0,sgst:fe.sgst||0,serviceCharge:fe.serviceCharge||0,price:fe.price||"",icon:fe.icon||"FaTools",included:fe.included||[],excluded:fe.excluded||[],subServices:fe.subServices||[]}),j(F),m(""),h(""),p({name:"",shortDescription:"",price:"",icon:"FaTools"}),y(null)},Je=F=>{o(fe=>({...fe,addOns:fe.addOns.filter((lt,Nt)=>Nt!==F)})),b===F&&(j(null),d({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools"}))},Ge=()=>{j(null),d({name:"",description:"",basePrice:0,discount:0,cgst:0,sgst:0,serviceCharge:0,price:"",icon:"FaTools",included:[],excluded:[],subServices:[]}),m(""),h(""),p({name:"",shortDescription:"",price:"",icon:"FaTools"}),y(null)},Le=F=>F.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),mt=F=>{o(fe=>({...fe,name:F,slug:n?fe.slug:Le(F)}))},Tt=async F=>{F.preventDefault(),N(!0),_(""),S("");try{n?(await Fe.updatePopularService(e,n,l),S("Popular service updated successfully!")):(await Fe.createPopularService(e,l),S("Popular service created successfully!")),oe(),setTimeout(()=>{X()},1500)}catch(fe){_(fe.message||"Failed to save popular service")}finally{N(!1)}},Pe=async F=>{if(window.confirm("Are you sure you want to delete this popular service?"))try{await Fe.deletePopularService(e,F),S("Popular service deleted successfully!"),oe(),setTimeout(()=>S(""),3e3)}catch(fe){_(fe.message||"Failed to delete popular service"),setTimeout(()=>_(""),3e3)}},dt=async(F,fe)=>{const lt=R.find(st=>st._id===F);if(!lt)return;const Nt=lt.order||0,ye=fe==="up"?Nt-1:Nt+1,qe=R.find(st=>(st.order||0)===ye);try{const st=[{id:F,order:ye}];qe&&st.push({id:qe._id,order:Nt}),await Fe.updatePopularServicesOrder(e,st),oe()}catch(st){_(st.message||"Failed to update order"),setTimeout(()=>_(""),3e3)}},$e=F=>{const fe=Df.find(lt=>lt.name===F);return fe?fe.icon:ei},Qe=F=>{ue(F),q(!0)},Xe=()=>{q(!1),ue(null)},kt=F=>{if(!F||!F.basePrice)return 0;let fe=F.basePrice||0;F.discount>0&&(F.discountType==="percentage"?fe-=fe*F.discount/100:fe-=F.discount),F.serviceCharge>0&&(F.serviceChargeType==="percentage"?fe+=(F.basePrice||0)*F.serviceCharge/100:fe+=F.serviceCharge);const lt=(F.basePrice||0)-(F.discount>0?F.discountType==="percentage"?(F.basePrice||0)*F.discount/100:F.discount:0)+(F.serviceCharge>0?F.serviceChargeType==="percentage"?(F.basePrice||0)*F.serviceCharge/100:F.serviceCharge:0);return fe+=lt*(F.cgst||0)/100+lt*(F.sgst||0)/100,fe},er=(F=l)=>{if(!F.basePrice||F.basePrice<=0)return"";const fe=kt(F);return`Starting at ${Math.round(fe)}`};g.useEffect(()=>{if(l.basePrice>0){const F=er(l);(!l.price||l.price.startsWith("Starting at ")||l.price==="")&&o(fe=>({...fe,price:F}))}},[l.basePrice,l.discount,l.discountType,l.cgst,l.sgst,l.serviceCharge,l.serviceChargeType]);const we=async()=>{if(window.confirm("This will update all existing services in the database with new fields (basePrice, discount, CGST, SGST, serviceCharge, excluded, etc.). This ensures all services have the required fields. Continue?")){N(!0),_(""),S("");try{await Fe.migratePopularServices(e),S("Migration completed successfully! All existing services have been updated with new fields."),oe(),setTimeout(()=>S(""),5e3)}catch(F){_(F.message||"Failed to migrate services"),setTimeout(()=>_(""),5e3)}finally{N(!1)}}};return r.jsxs("div",{children:[r.jsx($r,{title:"Popular Services Management",subtitle:"Manage popular services displayed on the homepage. Control order, icons, and visibility.",actions:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:we,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition",title:"Update existing services with new fields",children:[r.jsx(Gt,{className:"w-5 h-5"}),"Migrate Data"]}),r.jsxs("button",{onClick:()=>I(),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition",children:[r.jsx(Mr,{className:"w-5 h-5"}),"Add Service"]})]})}),P&&r.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-4 py-3 rounded-lg mb-6",children:P}),k&&r.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-600 px-4 py-3 rounded-lg mb-6",children:k}),r.jsx("div",{className:"mb-6",children:r.jsx("input",{type:"text",placeholder:"Search popular services...",value:C,onChange:F=>A(F.target.value),className:"w-full max-w-md px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary"})}),Q?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):ae?r.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:["Error loading popular services: ",ae]}):r.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Order"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Icon"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Slug"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-200",children:O.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-400",children:'No popular services found. Click "Add Service" to create one.'})}):O.sort((F,fe)=>(F.order||0)-(fe.order||0)).map((F,fe)=>{const lt=$e(F.icon);return r.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm font-medium text-slate-700",children:F.order||0}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("button",{onClick:()=>dt(F._id,"up"),disabled:fe===0,className:"p-1 text-slate-400 hover:text-primary disabled:opacity-30 disabled:cursor-not-allowed",title:"Move up",children:r.jsx(RI,{className:"w-3 h-3"})}),r.jsx("button",{onClick:()=>dt(F._id,"down"),disabled:fe===O.length-1,className:"p-1 text-slate-400 hover:text-primary disabled:opacity-30 disabled:cursor-not-allowed",title:"Move down",children:r.jsx(FI,{className:"w-3 h-3"})})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:r.jsx(lt,{className:"w-5 h-5 text-primary"})})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm font-semibold text-slate-900",children:F.name})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-slate-500 font-mono",children:F.slug})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold ${F.isActive?"bg-emerald-500/10 text-emerald-600":"bg-slate-200 text-slate-600"}`,children:F.isActive?"Active":"Inactive"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("button",{onClick:()=>{F!=null&&F.slug&&t(`/service/${F.slug}`)},className:"p-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"View Service on Website",children:r.jsx(nk,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Qe(F),className:"p-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"View Details",children:r.jsx(wc,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>I(F),className:"p-2 text-slate-600 hover:text-primary hover:bg-primary/10 rounded-lg transition",title:"Edit",children:r.jsx(os,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Pe(F._id),className:"p-2 text-slate-600 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition",title:"Delete",children:r.jsx(an,{className:"w-4 h-4"})})]})})]},F._id)})})]})})}),s&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[r.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:n?"Edit Popular Service":"Add Popular Service"}),r.jsx("button",{onClick:X,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:Tt,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Name *"}),r.jsx("input",{type:"text",value:l.name,onChange:F=>mt(F.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"e.g., AC Service"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Slug *"}),r.jsx("input",{type:"text",value:l.slug,onChange:F=>o(fe=>({...fe,slug:F.target.value})),required:!0,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary font-mono",placeholder:"e.g., ac-service"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"URL-friendly identifier (auto-generated from name)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Icon *"}),r.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-3",children:Df.map(F=>{const fe=F.icon,lt=l.icon===F.name;return r.jsxs("button",{type:"button",onClick:()=>o(Nt=>({...Nt,icon:F.name})),className:`p-4 rounded-xl border-2 transition ${lt?"border-primary bg-primary/10":"border-slate-200 hover:border-primary/50"}`,title:F.label,children:[r.jsx(fe,{className:`w-6 h-6 mx-auto ${lt?"text-primary":"text-slate-400"}`}),r.jsx("p",{className:"mt-2 text-xs text-center text-slate-600",children:F.label})]},F.name)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),r.jsx("textarea",{value:l.description,onChange:F=>o(fe=>({...fe,description:F.target.value})),rows:"3",className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"Service description..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Trusted Text"}),r.jsx("input",{type:"text",value:l.trusted,onChange:F=>o(fe=>({...fe,trusted:F.target.value})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",placeholder:"e.g., Trusted by thousands of homes"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Add-On Services"}),r.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border-2 border-slate-200 mb-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-3",children:b!==null?"Edit Add-On Service":"Add New Add-On Service"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Name *"}),r.jsx("input",{type:"text",value:c.name,onChange:F=>d(fe=>({...fe,name:F.target.value})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"Add-on service name..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Description"}),r.jsx("textarea",{value:c.description,onChange:F=>d(fe=>({...fe,description:F.target.value})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"Service description...",rows:"2"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Base Price () *"}),r.jsx("input",{type:"number",value:c.basePrice,onChange:F=>d(fe=>({...fe,basePrice:parseFloat(F.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Discount (%)"}),r.jsx("input",{type:"number",value:c.discount,onChange:F=>d(fe=>({...fe,discount:parseFloat(F.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"CGST (%)"}),r.jsx("input",{type:"number",value:c.cgst,onChange:F=>d(fe=>({...fe,cgst:parseFloat(F.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"SGST (%)"}),r.jsx("input",{type:"number",value:c.sgst,onChange:F=>d(fe=>({...fe,sgst:parseFloat(F.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Service Charge ()"}),r.jsx("input",{type:"number",value:c.serviceCharge,onChange:F=>d(fe=>({...fe,serviceCharge:parseFloat(F.target.value)||0})),className:"w-full px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"0",min:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:["Display Price (Text) ",r.jsx("span",{className:"text-slate-400",children:"(Auto-calculated)"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:c.price,onChange:F=>d(fe=>({...fe,price:F.target.value})),className:"flex-1 px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"e.g., 299"}),c.basePrice>0&&r.jsx("button",{type:"button",onClick:()=>{const F=te(c);d(fe=>({...fe,price:F}))},className:"px-3 py-2 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition text-xs font-semibold whitespace-nowrap",children:"Auto Calculate"})]}),c.basePrice>0&&r.jsxs("p",{className:"mt-1 text-xs text-emerald-600",children:[" Calculated: ",te(c)]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Icon"}),r.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-2",children:Df.map(F=>{const fe=F.icon,lt=c.icon===F.name;return r.jsx("button",{type:"button",onClick:()=>d(Nt=>({...Nt,icon:F.name})),className:`p-2 rounded-lg border-2 transition ${lt?"border-primary bg-primary/10":"border-slate-200 hover:border-primary/50"}`,title:F.label,children:r.jsx(fe,{className:`w-4 h-4 mx-auto ${lt?"text-primary":"text-slate-400"}`})},F.name)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Included Items"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:u,onChange:F=>m(F.target.value),onKeyPress:F=>F.key==="Enter"&&(F.preventDefault(),W()),className:"flex-1 px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"Add included item..."}),r.jsx("button",{type:"button",onClick:W,className:"px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition text-sm",children:"Add"})]}),r.jsx("div",{className:"space-y-1",children:c.included.map((F,fe)=>r.jsxs("div",{className:"flex items-center justify-between bg-white px-2 py-1.5 rounded border border-slate-200",children:[r.jsx("span",{className:"text-xs text-slate-700",children:F}),r.jsx("button",{type:"button",onClick:()=>T(fe),className:"text-rose-600 hover:text-rose-700",children:r.jsx(ut,{className:"w-3 h-3"})})]},fe))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Excluded Items"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("input",{type:"text",value:f,onChange:F=>h(F.target.value),onKeyPress:F=>F.key==="Enter"&&(F.preventDefault(),L()),className:"flex-1 px-3 py-2 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"Add excluded item..."}),r.jsx("button",{type:"button",onClick:L,className:"px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition text-sm",children:"Add"})]}),r.jsx("div",{className:"space-y-1",children:c.excluded.map((F,fe)=>r.jsxs("div",{className:"flex items-center justify-between bg-white px-2 py-1.5 rounded border border-slate-200",children:[r.jsx("span",{className:"text-xs text-slate-700",children:F}),r.jsx("button",{type:"button",onClick:()=>D(fe),className:"text-rose-600 hover:text-rose-700",children:r.jsx(ut,{className:"w-3 h-3"})})]},fe))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-2",children:"Sub-Services"}),r.jsxs("div",{className:"bg-white p-3 rounded-lg border-2 border-slate-200 space-y-2 mb-2",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Service Name *"}),r.jsx("input",{type:"text",value:x.name,onChange:F=>p(fe=>({...fe,name:F.target.value})),className:"w-full px-2 py-1.5 border border-slate-300 rounded focus:outline-none focus:border-primary text-xs",placeholder:"Sub-service name..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Short Description"}),r.jsx("input",{type:"text",value:x.shortDescription,onChange:F=>p(fe=>({...fe,shortDescription:F.target.value})),className:"w-full px-2 py-1.5 border border-slate-300 rounded focus:outline-none focus:border-primary text-xs",placeholder:"Brief description..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Price *"}),r.jsx("input",{type:"text",value:x.price,onChange:F=>p(fe=>({...fe,price:F.target.value})),className:"w-full px-2 py-1.5 border border-slate-300 rounded focus:outline-none focus:border-primary text-xs",placeholder:"e.g., 299"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-600 mb-1",children:"Icon"}),r.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-1.5 max-h-32 overflow-y-auto p-1 border border-slate-200 rounded",children:Df.map(F=>{const fe=F.icon,lt=x.icon===F.name;return r.jsx("button",{type:"button",onClick:()=>p(Nt=>({...Nt,icon:F.name})),className:`p-1.5 rounded border transition ${lt?"border-primary bg-primary/10":"border-slate-200 hover:border-primary/50"}`,title:F.label,children:r.jsx(fe,{className:`w-3 h-3 mx-auto ${lt?"text-primary":"text-slate-400"}`})},F.name)})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:M,className:"flex-1 px-3 py-1.5 bg-primary text-white rounded hover:bg-primary-dark transition text-xs font-semibold",children:v!==null?"Update Sub-Service":"Add Sub-Service"}),v!==null&&r.jsx("button",{type:"button",onClick:ne,className:"px-3 py-1.5 bg-slate-200 text-slate-700 rounded hover:bg-slate-300 transition text-xs font-semibold",children:"Cancel"})]})]}),r.jsx("div",{className:"space-y-1",children:c.subServices.map((F,fe)=>{const lt=$e(F.icon||"FaTools");return r.jsxs("div",{className:"flex items-start justify-between bg-white px-3 py-2 rounded-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-start gap-2 flex-1",children:[r.jsx("div",{className:"w-6 h-6 bg-primary/10 rounded flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx(lt,{className:"w-3 h-3 text-primary"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-xs font-semibold text-slate-900",children:F.name}),F.shortDescription&&r.jsx("div",{className:"text-xs text-slate-600 mt-0.5",children:F.shortDescription}),r.jsx("div",{className:"text-xs text-primary font-semibold mt-0.5",children:F.price})]})]}),r.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[r.jsx("button",{type:"button",onClick:()=>z(fe),className:"p-1 text-primary hover:bg-primary/10 rounded transition",title:"Edit",children:r.jsx(os,{className:"w-3 h-3"})}),r.jsx("button",{type:"button",onClick:()=>se(fe),className:"p-1 text-rose-600 hover:bg-rose-50 rounded transition",title:"Remove",children:r.jsx(ut,{className:"w-3 h-3"})})]})]},fe)})})]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsx("button",{type:"button",onClick:Re,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition font-semibold text-sm",children:b!==null?"Update Add-On":"Add Add-On"}),b!==null&&r.jsx("button",{type:"button",onClick:Ge,className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition font-semibold text-sm",children:"Cancel"})]})]})]}),r.jsx("div",{className:"space-y-2",children:l.addOns.length===0?r.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"No add-on services added yet"}):l.addOns.map((F,fe)=>{const lt=$e(F.icon||"FaTools");return r.jsxs("div",{className:"flex items-start justify-between bg-slate-50 px-4 py-3 rounded-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[r.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx(lt,{className:"w-4 h-4 text-primary"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-900",children:F.name}),F.description&&r.jsx("div",{className:"text-xs text-slate-600 mt-1",children:F.description}),r.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Base: ",F.basePrice||0," |",F.discount>0&&` Discount: ${F.discount}% |`,F.cgst>0&&` CGST: ${F.cgst}% |`,F.sgst>0&&` SGST: ${F.sgst}% |`,F.serviceCharge>0&&` Charge: ${F.serviceCharge} |`," ","Price: ",F.price||"N/A"]}),F.included&&F.included.length>0&&r.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[r.jsx("span",{className:"font-semibold",children:"Included:"})," ",F.included.join(", ")]}),F.excluded&&F.excluded.length>0&&r.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[r.jsx("span",{className:"font-semibold",children:"Excluded:"})," ",F.excluded.join(", ")]}),F.subServices&&F.subServices.length>0&&r.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[r.jsx("span",{className:"font-semibold",children:"Sub-Services:"})," ",F.subServices.length," item(s)"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[r.jsx("button",{type:"button",onClick:()=>Ce(fe),className:"p-1.5 text-primary hover:bg-primary/10 rounded transition",title:"Edit",children:r.jsx(os,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:()=>Je(fe),className:"p-1.5 text-rose-600 hover:bg-rose-50 rounded transition",title:"Remove",children:r.jsx(ut,{className:"w-4 h-4"})})]})]},fe)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Display Order"}),r.jsx("input",{type:"number",value:l.order,onChange:F=>o(fe=>({...fe,order:parseInt(F.target.value)||0})),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:outline-none focus:border-primary",min:"0"}),r.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Lower numbers appear first"})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:l.isActive,onChange:F=>o(fe=>({...fe,isActive:F.target.checked})),className:"w-5 h-5 text-primary rounded focus:ring-primary"}),r.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Active (visible on homepage)"})]})}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:X,className:"px-6 py-3 text-slate-600 font-semibold rounded-xl hover:bg-slate-100 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:w,className:"flex items-center gap-2 px-6 py-3 bg-primary text-white font-semibold rounded-xl hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:w?r.jsxs(r.Fragment,{children:[r.jsx(Gt,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ji,{className:"w-4 h-4"}),n?"Update":"Create"]})})]})]})]})}),V&&Z&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:Xe,children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:F=>F.stopPropagation(),children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[r.jsxs("h3",{className:"text-xl font-semibold text-slate-900",children:["Service Details: ",Z.name]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>{Z!=null&&Z.slug&&(t(`/service/${Z.slug}`),Xe())},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm font-semibold flex items-center gap-2",title:"View service on website",children:[r.jsx(nk,{className:"w-4 h-4"}),"View Service"]}),r.jsxs("button",{onClick:()=>{Xe(),I(Z)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition text-sm font-semibold flex items-center gap-2",children:[r.jsx(os,{className:"w-4 h-4"}),"Edit"]}),r.jsx("button",{onClick:Xe,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[r.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Service Name"}),r.jsx("p",{className:"text-base text-slate-900 mt-1",children:Z.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Slug"}),r.jsx("p",{className:"text-base text-slate-900 font-mono mt-1",children:Z.slug})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Icon"}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:At.createElement($e(Z.icon),{className:"w-5 h-5 text-primary"})}),r.jsx("span",{className:"text-base text-slate-900",children:Z.icon})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Display Order"}),r.jsx("p",{className:"text-base text-slate-900 mt-1",children:Z.order||0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Status"}),r.jsx("p",{className:"mt-1",children:r.jsx("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold ${Z.isActive?"bg-emerald-500/10 text-emerald-600":"bg-slate-200 text-slate-600"}`,children:Z.isActive?"Active":"Inactive"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Display Price"}),r.jsx("p",{className:"text-base text-slate-900 mt-1",children:Z.price||"Not set"})]})]}),Z.description&&r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Description"}),r.jsx("p",{className:"text-base text-slate-900 mt-1",children:Z.description})]}),Z.trusted&&r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Trusted Text"}),r.jsx("p",{className:"text-base text-slate-900 mt-1",children:Z.trusted})]})]}),Z.included&&Z.included.length>0&&r.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[r.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Included Items"}),r.jsx("ul",{className:"space-y-2",children:Z.included.map((F,fe)=>r.jsxs("li",{className:"flex items-center gap-2 text-slate-900",children:[r.jsx(Be,{className:"text-primary flex-shrink-0"}),r.jsx("span",{children:F})]},fe))})]}),Z.excluded&&Z.excluded.length>0&&r.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[r.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Excluded Items"}),r.jsx("ul",{className:"space-y-2",children:Z.excluded.map((F,fe)=>r.jsxs("li",{className:"flex items-center gap-2 text-slate-900",children:[r.jsx(Jt,{className:"text-rose-600 flex-shrink-0"}),r.jsx("span",{children:F})]},fe))})]}),Z.addOns&&Z.addOns.length>0&&r.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[r.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Add-On Services"}),r.jsx("div",{className:"grid sm:grid-cols-1 gap-4",children:Z.addOns.map((F,fe)=>{const lt=$e(F.icon||"FaTools"),ye=(qe=>{if(!qe.basePrice||qe.basePrice<=0)return 0;let st=qe.basePrice||0;qe.discount>0&&(st-=st*qe.discount/100),qe.serviceCharge>0&&(st+=qe.serviceCharge);const St=(qe.basePrice||0)-(qe.discount>0?(qe.basePrice||0)*qe.discount/100:0)+(qe.serviceCharge||0);return st+=St*(qe.cgst||0)/100+St*(qe.sgst||0)/100,st})(F);return r.jsxs("div",{className:"bg-white p-5 rounded-lg border-2 border-slate-200 hover:border-primary/30 transition",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[r.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(lt,{className:"w-6 h-6 text-primary"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-bold text-slate-900 text-lg",children:F.name}),F.description&&r.jsx("p",{className:"text-sm text-slate-600 mt-1",children:F.description})]})]}),r.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 space-y-1.5 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-600",children:"Base Price:"}),r.jsxs("span",{className:"font-semibold text-slate-900",children:["",(F.basePrice||0).toFixed(2)]})]}),F.discount>0&&r.jsxs("div",{className:"flex justify-between text-rose-600",children:[r.jsxs("span",{children:["Discount (",F.discount,"%):"]}),r.jsxs("span",{children:["-",((F.basePrice||0)*F.discount/100).toFixed(2)]})]}),F.serviceCharge>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-600",children:"Service Charge:"}),r.jsxs("span",{className:"font-semibold text-slate-900",children:["+",(F.serviceCharge||0).toFixed(2)]})]}),(F.cgst>0||F.sgst>0)&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-slate-600",children:["GST (",(F.cgst||0)+(F.sgst||0),"%):"]}),r.jsxs("span",{className:"font-semibold text-slate-900",children:["+",(()=>{const qe=(F.basePrice||0)-(F.discount>0?(F.basePrice||0)*F.discount/100:0)+(F.serviceCharge||0);return(qe*(F.cgst||0)/100+qe*(F.sgst||0)/100).toFixed(2)})()]})]}),r.jsxs("div",{className:"flex justify-between pt-2 mt-2 border-t border-slate-200",children:[r.jsx("span",{className:"font-bold text-slate-900",children:"Total Price:"}),r.jsxs("span",{className:"text-lg font-bold text-primary",children:["",ye.toFixed(2)]})]}),F.price&&r.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Display Price: ",F.price]})]}),F.included&&F.included.length>0&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[r.jsx("h5",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Included Items"}),r.jsx("ul",{className:"space-y-1",children:F.included.map((qe,st)=>r.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-700",children:[r.jsx(Be,{className:"text-primary flex-shrink-0 text-xs"}),r.jsx("span",{children:qe})]},st))})]}),F.excluded&&F.excluded.length>0&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[r.jsx("h5",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Excluded Items"}),r.jsx("ul",{className:"space-y-1",children:F.excluded.map((qe,st)=>r.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-700",children:[r.jsx(Jt,{className:"text-rose-600 flex-shrink-0 text-xs"}),r.jsx("span",{children:qe})]},st))})]}),F.subServices&&F.subServices.length>0&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[r.jsx("h5",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Sub-Services"}),r.jsx("div",{className:"space-y-2",children:F.subServices.map((qe,st)=>{const St=$e(qe.icon||"FaTools");return r.jsxs("div",{className:"bg-white p-2 rounded border border-slate-200 flex items-start gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(St,{className:"w-4 h-4 text-primary"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-semibold text-slate-900",children:qe.name}),qe.shortDescription&&r.jsx("div",{className:"text-xs text-slate-600 mt-0.5",children:qe.shortDescription}),r.jsx("div",{className:"text-xs text-primary font-semibold mt-1",children:qe.price})]})]},st)})})]})]},fe)})})]}),r.jsxs("div",{className:"bg-slate-50 rounded-xl p-6",children:[r.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4 pb-2 border-b border-slate-200",children:"Metadata"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-slate-600 font-semibold",children:"Created At"}),r.jsx("p",{className:"text-slate-900 mt-1",children:Z.createdAt?new Date(Z.createdAt).toLocaleString():"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-slate-600 font-semibold",children:"Last Updated"}),r.jsx("p",{className:"text-slate-900 mt-1",children:Z.updatedAt?new Date(Z.updatedAt).toLocaleString():"N/A"})]})]})]})]})]})})]})},mNe=()=>{const{token:e}=Ar(),{data:t,isLoading:s,error:a,refresh:n}=Bt(v=>Fe.fetchSubscriptionPlans(v),[]),[i,l]=g.useState(!1),[o,c]=g.useState(null),[d,u]=g.useState({name:"",price:"",priceDisplay:"",features:"",description:"",isActive:!0,displayOrder:0,highlight:!1,highlightText:"",whatsappNumber:""}),[m,f]=g.useState(!1),h=At.useMemo(()=>t?typeof t=="string"&&t.trim().startsWith("<!")?(console.error(" API returned HTML instead of JSON. This usually means the endpoint is not found or there's a server error."),console.error("Response preview:",t.substring(0,200)),[]):typeof t!="object"||t===null?(console.log(" plansData is not an object:",typeof t),[]):(console.log(" Processing plansData:",{type:typeof t,isArray:Array.isArray(t),isObject:typeof t=="object"&&t!==null,keys:Object.keys(t)}),Array.isArray(t)?(console.log(" Plans is direct array, length:",t.length),t):t.success&&Array.isArray(t.data)?(console.log(" Plans from success.data, length:",t.data.length),t.data):Array.isArray(t.data)?(console.log(" Plans from data, length:",t.data.length),t.data):(console.log(" Could not extract plans from response structure"),[])):(console.log(" No plansData received"),[]),[t]);At.useEffect(()=>{var v;console.log(" Subscription Plans Management - Debug Info:",{hasPlansData:!!t,plansDataType:typeof t,plansDataKeys:t?Object.keys(t):[],success:t==null?void 0:t.success,dataType:Array.isArray(t==null?void 0:t.data)?"array":typeof(t==null?void 0:t.data),dataLength:((v=t==null?void 0:t.data)==null?void 0:v.length)||0,extractedPlansLength:h.length,plans:h,error:a,isLoading:s,fullResponse:t})},[t,a,s,h]);const x=()=>{c(null),u({name:"",price:"",priceDisplay:"",features:"",description:"",isActive:!0,displayOrder:h.length,highlight:!1,highlightText:"",whatsappNumber:""}),l(!0)},p=v=>{var y;c(v),u({name:v.name||"",price:v.price||"",priceDisplay:v.priceDisplay||`${v.price||""}`,features:((y=v.features)==null?void 0:y.join(`
`))||"",description:v.description||"",isActive:v.isActive!==void 0?v.isActive:!0,displayOrder:v.displayOrder||0,highlight:v.highlight||!1,highlightText:v.highlightText||"",whatsappNumber:v.whatsappNumber||""}),l(!0)},b=async v=>{v.preventDefault(),f(!0);try{const y={...d,price:Number(d.price),priceDisplay:d.priceDisplay||`${d.price}`,features:d.features.split(`
`).filter(w=>w.trim()),displayOrder:Number(d.displayOrder)||0};o?await Fe.updateSubscriptionPlan(e,o._id,y):await Fe.createSubscriptionPlan(e,y),l(!1),n()}catch(y){alert(y.message||"Failed to save plan")}finally{f(!1)}},j=async v=>{if(confirm("Are you sure you want to delete this plan?"))try{await Fe.deleteSubscriptionPlan(e,v),n()}catch(y){alert(y.message||"Failed to delete plan")}};return r.jsxs("div",{children:[r.jsx($r,{title:"Subscription Plans Management",subtitle:"Manage subscription plans displayed on the home page - Boost your home maintenance section."}),r.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[r.jsx("div",{className:"text-sm text-slate-600",children:h.length>0&&r.jsxs("span",{children:["Total Plans: ",r.jsx("strong",{children:h.length})]})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:n,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-slate-200 text-slate-700 rounded-xl font-semibold hover:bg-slate-300 transition disabled:opacity-50",children:s?"Loading...":"Refresh"}),r.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition",children:[r.jsx(Mr,{})," Create New Plan"]})]})]}),s?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a?r.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:[r.jsx("p",{className:"font-semibold mb-2",children:"Error loading plans"}),r.jsx("p",{className:"text-sm mb-4",children:a}),a.includes("HTML")&&r.jsxs("div",{className:"bg-rose-100 p-3 rounded-lg mb-4 text-xs",children:[r.jsx("p",{className:"font-semibold mb-1",children:"Possible causes:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Backend server is not running"}),r.jsx("li",{children:"API endpoint doesn't exist"}),r.jsx("li",{children:"Authentication token is invalid"}),r.jsx("li",{children:"Check browser console for more details"})]})]}),r.jsx("button",{onClick:n,className:"px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition",children:"Retry"})]}):h.length===0?r.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-slate-300 rounded-2xl p-12 text-center",children:[r.jsx("p",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No subscription plans found"}),r.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first subscription plan to get started, or check if data needs to be seeded."}),r.jsxs("div",{className:"flex gap-3 justify-center",children:[r.jsxs("button",{onClick:x,className:"px-6 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[r.jsx(Mr,{})," Create First Plan"]}),r.jsx("button",{onClick:n,className:"px-6 py-3 bg-slate-200 text-slate-700 rounded-xl font-semibold hover:bg-slate-300 transition inline-flex items-center gap-2",children:"Refresh"})]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:h.map(v=>{var y,w;return r.jsxs("div",{className:`bg-white border-2 rounded-2xl p-6 shadow-sm hover:shadow-md transition ${v.highlight?"border-primary scale-105":"border-slate-200"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-primary mb-1",children:v.name}),v.highlightText&&r.jsx("span",{className:"text-xs text-primary font-semibold",children:v.highlightText}),!v.isActive&&r.jsx("span",{className:"text-xs text-rose-600 font-semibold ml-2",children:"Inactive"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>p(v),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(os,{className:"text-slate-600"})}),r.jsx("button",{onClick:()=>j(v._id),className:"p-2 hover:bg-rose-50 rounded-lg transition",children:r.jsx(an,{className:"text-rose-600"})})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-bold text-primary",children:v.priceDisplay||`${((y=v.price)==null?void 0:y.toLocaleString("en-IN"))||0}`}),r.jsx("div",{className:"text-sm text-gray-500",children:"/month"})]}),v.description&&r.jsx("p",{className:"text-sm text-gray-600",children:v.description}),r.jsx("div",{className:"space-y-2 text-sm",children:(w=v.features)==null?void 0:w.map((N,k)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(It,{className:"text-green-500 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",children:N})]},k))}),r.jsxs("div",{className:"pt-3 border-t border-slate-200 text-xs text-gray-500",children:["Display Order: ",v.displayOrder]})]})]},v._id)})}),i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:o?"Edit Subscription Plan":"Create Subscription Plan"}),r.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Plan Name ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"text",value:d.name,onChange:v=>u(y=>({...y,name:v.target.value})),required:!0,placeholder:"e.g., Basic, Pro, Ultra",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Price () ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"number",value:d.price,onChange:v=>{const y=v.target.value;u(w=>({...w,price:y,priceDisplay:w.priceDisplay||`${y}`}))},required:!0,min:"0",step:"0.01",placeholder:"99",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Price Display"}),r.jsx("input",{type:"text",value:d.priceDisplay,onChange:v=>u(y=>({...y,priceDisplay:v.target.value})),placeholder:"99 (auto-generated if empty)",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Display Order"}),r.jsx("input",{type:"number",value:d.displayOrder,onChange:v=>u(y=>({...y,displayOrder:v.target.value})),min:"0",placeholder:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Features ",r.jsx("span",{className:"text-rose-500",children:"*"}),r.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(One per line)"})]}),r.jsx("textarea",{value:d.features,onChange:v=>u(y=>({...y,features:v.target.value})),required:!0,rows:"5",placeholder:`Priority support
2 free inspections
Free visits`,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),r.jsx("textarea",{value:d.description,onChange:v=>u(y=>({...y,description:v.target.value})),rows:"3",placeholder:"Optional description for the plan",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"WhatsApp Number (Optional)"}),r.jsx("input",{type:"text",value:d.whatsappNumber,onChange:v=>u(y=>({...y,whatsappNumber:v.target.value})),placeholder:"919590926068",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:d.isActive,onChange:v=>u(y=>({...y,isActive:v.target.checked})),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),r.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Active"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:d.highlight,onChange:v=>u(y=>({...y,highlight:v.target.checked})),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),r.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Highlight"})]})]})]}),d.highlight&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Highlight Text"}),r.jsx("input",{type:"text",value:d.highlightText,onChange:v=>u(y=>({...y,highlightText:v.target.value})),placeholder:"e.g., Most Popular, Recommended",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Saving...":o?"Update Plan":"Create Plan"})]})]})]})})]})},hNe=()=>{const{token:e}=Ar(),{data:t,isLoading:s,error:a,refresh:n}=Bt(y=>Fe.fetchFeaturedReviews(y),[]),[i,l]=g.useState(!1),[o,c]=g.useState(null),[d,u]=g.useState({text:"",author:"",rating:5,authorRole:"",authorLocation:"",serviceType:"",isActive:!0,displayOrder:0,featured:!1}),[m,f]=g.useState(!1),h=At.useMemo(()=>t?typeof t=="string"&&t.trim().startsWith("<!")?[]:typeof t!="object"||t===null?[]:Array.isArray(t)?t:t.success&&Array.isArray(t.data)||Array.isArray(t.data)?t.data:[]:[],[t]),x=()=>{c(null),u({text:"",author:"",rating:5,authorRole:"",authorLocation:"",serviceType:"",isActive:!0,displayOrder:h.length,featured:!1}),l(!0)},p=y=>{c(y),u({text:y.text||"",author:y.author||"",rating:y.rating||5,authorRole:y.authorRole||"",authorLocation:y.authorLocation||"",serviceType:y.serviceType||"",isActive:y.isActive!==void 0?y.isActive:!0,displayOrder:y.displayOrder||0,featured:y.featured||!1}),l(!0)},b=async y=>{y.preventDefault(),f(!0);try{const w={...d,rating:Number(d.rating),displayOrder:Number(d.displayOrder)||0};o?await Fe.updateFeaturedReview(e,o._id,w):await Fe.createFeaturedReview(e,w),l(!1),n()}catch(w){alert(w.message||"Failed to save review")}finally{f(!1)}},j=async y=>{if(confirm("Are you sure you want to delete this review?"))try{await Fe.deleteFeaturedReview(e,y),n()}catch(w){alert(w.message||"Failed to delete review")}},v=y=>[...Array(5)].map((w,N)=>r.jsx("span",{className:N<y?"text-yellow-400":"text-gray-300",children:""},N));return r.jsxs("div",{children:[r.jsx($r,{title:"Featured Reviews Management",subtitle:"Manage customer reviews displayed on the home page."}),r.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[r.jsx("div",{className:"text-sm text-slate-600",children:h.length>0&&r.jsxs("span",{children:["Total Reviews: ",r.jsx("strong",{children:h.length})]})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:n,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-slate-200 text-slate-700 rounded-xl font-semibold hover:bg-slate-300 transition disabled:opacity-50",children:s?"Loading...":"Refresh"}),r.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition",children:[r.jsx(Mr,{})," Add New Review"]})]})]}),s?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a?r.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:[r.jsx("p",{className:"font-semibold mb-2",children:"Error loading reviews"}),r.jsx("p",{className:"text-sm mb-4",children:a}),r.jsx("button",{onClick:n,className:"px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition",children:"Retry"})]}):h.length===0?r.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-slate-300 rounded-2xl p-12 text-center",children:[r.jsx("p",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No reviews found"}),r.jsx("p",{className:"text-slate-600 mb-6",children:"Add your first customer review to get started"}),r.jsxs("button",{onClick:x,className:"px-6 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[r.jsx(Mr,{})," Add First Review"]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(y=>r.jsxs("div",{className:`bg-white border-2 rounded-2xl p-6 shadow-sm hover:shadow-md transition ${y.featured?"border-primary border-l-4":"border-slate-200"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"flex gap-1",children:v(y.rating)}),y.featured&&r.jsx("span",{className:"text-xs bg-primary text-white px-2 py-1 rounded",children:"Featured"}),!y.isActive&&r.jsx("span",{className:"text-xs text-rose-600 font-semibold",children:"Inactive"})]}),r.jsxs("p",{className:"text-sm text-gray-600 italic mb-3 line-clamp-3",children:['"',y.text,'"']}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-primary font-semibold",children:[" ",y.author]}),y.authorLocation&&r.jsx("p",{className:"text-xs text-gray-500",children:y.authorLocation}),y.serviceType&&r.jsx("p",{className:"text-xs text-gray-500",children:y.serviceType})]})]}),r.jsxs("div",{className:"flex gap-2 ml-2",children:[r.jsx("button",{onClick:()=>p(y),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(os,{className:"text-slate-600"})}),r.jsx("button",{onClick:()=>j(y._id),className:"p-2 hover:bg-rose-50 rounded-lg transition",children:r.jsx(an,{className:"text-rose-600"})})]})]}),r.jsxs("div",{className:"pt-3 border-t border-slate-200 text-xs text-gray-500",children:["Order: ",y.displayOrder]})]},y._id))}),i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:o?"Edit Review":"Add New Review"}),r.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Review Text ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("textarea",{value:d.text,onChange:y=>u(w=>({...w,text:y.target.value})),required:!0,rows:"4",placeholder:"Enter the customer review text...",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Author Name ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"text",value:d.author,onChange:y=>u(w=>({...w,author:y.target.value})),required:!0,placeholder:"e.g., Rajesh K.",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Rating ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsxs("select",{value:d.rating,onChange:y=>u(w=>({...w,rating:Number(y.target.value)})),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:5,children:"5 Stars"}),r.jsx("option",{value:4,children:"4 Stars"}),r.jsx("option",{value:3,children:"3 Stars"}),r.jsx("option",{value:2,children:"2 Stars"}),r.jsx("option",{value:1,children:"1 Star"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Author Role (Optional)"}),r.jsx("input",{type:"text",value:d.authorRole,onChange:y=>u(w=>({...w,authorRole:y.target.value})),placeholder:"e.g., Homeowner, Business Owner",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Location (Optional)"}),r.jsx("input",{type:"text",value:d.authorLocation,onChange:y=>u(w=>({...w,authorLocation:y.target.value})),placeholder:"e.g., Mumbai, Delhi",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Type (Optional)"}),r.jsx("input",{type:"text",value:d.serviceType,onChange:y=>u(w=>({...w,serviceType:y.target.value})),placeholder:"e.g., AC Service, Plumbing",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Display Order"}),r.jsx("input",{type:"number",value:d.displayOrder,onChange:y=>u(w=>({...w,displayOrder:y.target.value})),min:"0",placeholder:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:d.isActive,onChange:y=>u(w=>({...w,isActive:y.target.checked})),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),r.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Active"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:d.featured,onChange:y=>u(w=>({...w,featured:y.target.checked})),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),r.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Featured"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Saving...":o?"Update Review":"Create Review"})]})]})]})})]})},fNe=()=>{const{token:e}=Ar(),{data:t,isLoading:s,error:a,refresh:n}=Bt(v=>Fe.fetchAMCPlans(v),[]),[i,l]=g.useState(!1),[o,c]=g.useState(null),[d,u]=g.useState({name:"",price:"",priceDisplay:"",features:"",description:"",isActive:!0,displayOrder:0,highlight:!1,highlightText:"",whatsappNumber:""}),[m,f]=g.useState(!1),h=At.useMemo(()=>t?typeof t=="string"&&t.trim().startsWith("<!")?(console.error(" API returned HTML instead of JSON"),[]):typeof t!="object"||t===null?[]:Array.isArray(t)?t:t.success&&Array.isArray(t.data)||Array.isArray(t.data)?t.data:[]:[],[t]),x=()=>{c(null),u({name:"",price:"",priceDisplay:"",features:"",description:"",isActive:!0,displayOrder:h.length,highlight:!1,highlightText:"",whatsappNumber:""}),l(!0)},p=v=>{var y;c(v),u({name:v.name||"",price:v.price||"",priceDisplay:v.priceDisplay||`${v.price||""}`,features:((y=v.features)==null?void 0:y.join(`
`))||"",description:v.description||"",isActive:v.isActive!==void 0?v.isActive:!0,displayOrder:v.displayOrder||0,highlight:v.highlight||!1,highlightText:v.highlightText||"",whatsappNumber:v.whatsappNumber||""}),l(!0)},b=async v=>{v.preventDefault(),f(!0);try{const y={...d,price:Number(d.price),priceDisplay:d.priceDisplay||`${Number(d.price).toLocaleString("en-IN")}`,features:d.features.split(`
`).filter(w=>w.trim()),displayOrder:Number(d.displayOrder)||0};o?await Fe.updateAMCPlan(e,o._id,y):await Fe.createAMCPlan(e,y),l(!1),n()}catch(y){alert(y.message||"Failed to save plan")}finally{f(!1)}},j=async v=>{if(confirm("Are you sure you want to delete this plan?"))try{await Fe.deleteAMCPlan(e,v),n()}catch(y){alert(y.message||"Failed to delete plan")}};return r.jsxs("div",{children:[r.jsx($r,{title:"AMC Plans Management",subtitle:"Manage AMC plans displayed on the Corporate AMC page - Choose the plan that fits your business needs."}),r.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[r.jsx("div",{className:"text-sm text-slate-600",children:h.length>0&&r.jsxs("span",{children:["Total Plans: ",r.jsx("strong",{children:h.length})]})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:n,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-slate-200 text-slate-700 rounded-xl font-semibold hover:bg-slate-300 transition disabled:opacity-50",children:s?"Loading...":"Refresh"}),r.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition",children:[r.jsx(Mr,{})," Create New Plan"]})]})]}),s?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a?r.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-600 px-6 py-4 rounded-2xl",children:[r.jsx("p",{className:"font-semibold mb-2",children:"Error loading plans"}),r.jsx("p",{className:"text-sm mb-4",children:a}),r.jsx("button",{onClick:n,className:"px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition",children:"Retry"})]}):h.length===0?r.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-slate-300 rounded-2xl p-12 text-center",children:[r.jsx("p",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No AMC plans found"}),r.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first AMC plan to get started."}),r.jsxs("div",{className:"flex gap-3 justify-center",children:[r.jsxs("button",{onClick:x,className:"px-6 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[r.jsx(Mr,{})," Create First Plan"]}),r.jsx("button",{onClick:n,className:"px-6 py-3 bg-slate-200 text-slate-700 rounded-xl font-semibold hover:bg-slate-300 transition inline-flex items-center gap-2",children:"Refresh"})]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:h.map(v=>{var y,w;return r.jsxs("div",{className:`bg-white border-2 rounded-2xl p-6 shadow-sm hover:shadow-md transition ${v.highlight?"border-primary scale-105":"border-slate-200"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-primary mb-1",children:v.name}),v.highlightText&&r.jsx("span",{className:"text-xs text-primary font-semibold",children:v.highlightText}),!v.isActive&&r.jsx("span",{className:"text-xs text-rose-600 font-semibold ml-2",children:"Inactive"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>p(v),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(os,{className:"text-slate-600"})}),r.jsx("button",{onClick:()=>j(v._id),className:"p-2 hover:bg-rose-50 rounded-lg transition",children:r.jsx(an,{className:"text-rose-600"})})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-bold text-primary",children:v.priceDisplay||`${((y=v.price)==null?void 0:y.toLocaleString("en-IN"))||0}`}),r.jsx("div",{className:"text-sm text-gray-500",children:"/month"})]}),v.description&&r.jsx("p",{className:"text-sm text-gray-600",children:v.description}),r.jsx("div",{className:"space-y-2 text-sm",children:(w=v.features)==null?void 0:w.map((N,k)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(It,{className:"text-green-500 flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",children:N})]},k))}),r.jsxs("div",{className:"pt-3 border-t border-slate-200 text-xs text-gray-500",children:["Display Order: ",v.displayOrder]})]})]},v._id)})}),i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:o?"Edit AMC Plan":"Create AMC Plan"}),r.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Plan Name ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"text",value:d.name,onChange:v=>u(y=>({...y,name:v.target.value})),required:!0,placeholder:"e.g., Basic, Standard, Premium",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Price () ",r.jsx("span",{className:"text-rose-500",children:"*"})]}),r.jsx("input",{type:"number",value:d.price,onChange:v=>{const y=v.target.value;u(w=>({...w,price:y,priceDisplay:w.priceDisplay||`${Number(y).toLocaleString("en-IN")}`}))},required:!0,min:"0",step:"0.01",placeholder:"2500",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Price Display"}),r.jsx("input",{type:"text",value:d.priceDisplay,onChange:v=>u(y=>({...y,priceDisplay:v.target.value})),placeholder:"2,500 (auto-generated if empty)",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Display Order"}),r.jsx("input",{type:"number",value:d.displayOrder,onChange:v=>u(y=>({...y,displayOrder:v.target.value})),min:"0",placeholder:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Features ",r.jsx("span",{className:"text-rose-500",children:"*"}),r.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(One per line)"})]}),r.jsx("textarea",{value:d.features,onChange:v=>u(y=>({...y,features:v.target.value})),required:!0,rows:"6",placeholder:`Monthly inspection
Basic repairs included
Electrical maintenance
Plumbing maintenance
AC service (quarterly)`,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),r.jsx("textarea",{value:d.description,onChange:v=>u(y=>({...y,description:v.target.value})),rows:"3",placeholder:"Optional description for the plan",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"WhatsApp Number (Optional)"}),r.jsx("input",{type:"text",value:d.whatsappNumber,onChange:v=>u(y=>({...y,whatsappNumber:v.target.value})),placeholder:"919590926068",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:d.isActive,onChange:v=>u(y=>({...y,isActive:v.target.checked})),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),r.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Active"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:d.highlight,onChange:v=>u(y=>({...y,highlight:v.target.checked})),className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),r.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Highlight"})]})]})]}),d.highlight&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Highlight Text"}),r.jsx("input",{type:"text",value:d.highlightText,onChange:v=>u(y=>({...y,highlightText:v.target.value})),placeholder:"e.g., Most Popular, Recommended",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg text-slate-700 font-semibold hover:bg-slate-50 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Saving...":o?"Update Plan":"Create Plan"})]})]})]})})]})},pNe=()=>{const{token:e}=Ar(),[t,s]=g.useState({isReady:!1,isAuthenticated:!1,qrCode:null,autoReconnect:!0,reconnectAttempts:0,isReconnecting:!1}),[a,n]=g.useState(!1),[i,l]=g.useState(null),[o,c]=g.useState(null),[d,u]=g.useState(""),[m,f]=g.useState(""),[h,x]=g.useState(!1),[p,b]=g.useState(!1),j=g.useRef(!1);g.useEffect(()=>{if(v(),!t.isReady||t.isReconnecting){b(!0);const S=setInterval(()=>{v()},15e3);return()=>{clearInterval(S),b(!1)}}else b(!1)},[t.isReady,t.isReconnecting]);const v=async()=>{if(!j.current){j.current=!0;try{const S=await Fe.getWhatsAppStatus(e);S.success&&s(P=>{const _={isReady:S.isReady||!1,isAuthenticated:S.isAuthenticated||!1,qrCode:S.qrCode||null,autoReconnect:S.autoReconnect!==void 0?S.autoReconnect:!0,reconnectAttempts:S.reconnectAttempts||0,isReconnecting:S.isReconnecting||!1};return P.isReady!==_.isReady||P.isReconnecting!==_.isReconnecting||P.qrCode!==_.qrCode||P.reconnectAttempts!==_.reconnectAttempts?_:P})}catch(S){console.error("Error checking status:",S)}finally{j.current=!1}}},y=async()=>{n(!0),l(null),c(null);try{const S=await Fe.initializeWhatsApp(e);S.success&&(s({isReady:S.isReady||!1,isAuthenticated:S.isAuthenticated||!1,qrCode:S.qrCode||null}),c("WhatsApp client initialized. Please scan the QR code."),setTimeout(()=>{w()},2e3))}catch(S){l(S.message||"Failed to initialize WhatsApp")}finally{n(!1)}},w=async()=>{try{const S=await Fe.getWhatsAppQRCode(e);S.success&&s(P=>({...P,qrCode:S.qrCode||null,isReady:S.isReady||!1,isAuthenticated:S.isAuthenticated||!1}))}catch(S){console.error("Error fetching QR code:",S)}},N=async()=>{if(window.confirm("Are you sure you want to disconnect WhatsApp? This will require re-authentication.")){n(!0),l(null),c(null);try{(await Fe.disconnectWhatsApp(e)).success&&(s({isReady:!1,isAuthenticated:!1,qrCode:null}),c("WhatsApp disconnected successfully"))}catch(S){l(S.message||"Failed to disconnect WhatsApp")}finally{n(!1)}}},k=async()=>{if(!d){l("Please enter a phone number");return}x(!0),l(null),c(null);try{(await Fe.sendTestWhatsAppMessage(e,d,m||"Test message from Nexo Works")).success&&(c("Test message sent successfully!"),u(""),f(""))}catch(S){l(S.message||"Failed to send test message")}finally{x(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx($r,{title:"WhatsApp Settings",subtitle:"Connect WhatsApp to send OTP messages for free"}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Connection Status"}),r.jsx("button",{onClick:v,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:a,children:r.jsx(Gt,{className:`text-slate-600 ${a?"animate-spin":""}`})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"flex items-center gap-4",children:t.isReady?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[r.jsx(It,{className:"text-2xl"}),r.jsx("span",{className:"font-semibold",children:"Connected"})]}),r.jsx("p",{className:"text-sm text-slate-600",children:"WhatsApp is connected and ready to send OTP messages"})]}):t.isReconnecting?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-2 text-yellow-600",children:[r.jsx(Gt,{className:"text-2xl animate-spin"}),r.jsx("span",{className:"font-semibold",children:"Reconnecting..."})]}),r.jsxs("p",{className:"text-sm text-slate-600",children:["Attempting to reconnect automatically (Attempt ",t.reconnectAttempts,"/10)"]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[r.jsx(Sc,{className:"text-2xl"}),r.jsx("span",{className:"font-semibold",children:"Not Connected"})]}),r.jsxs("p",{className:"text-sm text-slate-600",children:["WhatsApp is not connected. ",t.autoReconnect?"Auto-reconnect is enabled.":"Please scan QR code to connect."]})]})}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${t.autoReconnect?"bg-green-500":"bg-gray-400"}`}),r.jsxs("span",{children:["Auto-reconnect: ",t.autoReconnect?"Enabled":"Disabled"]}),t.reconnectAttempts>0&&r.jsxs("span",{className:"ml-2",children:[" Attempts: ",t.reconnectAttempts,"/10"]})]})]})]}),!t.isReady&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Scan QR Code"}),t.qrCode?r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"bg-white p-4 rounded-lg border-2 border-slate-200",children:r.jsx("img",{src:t.qrCode,alt:"WhatsApp QR Code",className:"w-64 h-64"})}),r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Scan this QR code with your WhatsApp"}),r.jsxs("ol",{className:"text-sm text-slate-600 text-left max-w-md mx-auto space-y-1",children:[r.jsx("li",{children:"1. Open WhatsApp on your phone"}),r.jsx("li",{children:"2. Go to Settings  Linked Devices"}),r.jsx("li",{children:'3. Tap "Link a Device"'}),r.jsx("li",{children:"4. Scan this QR code"})]})]})]}):r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-slate-600 mb-4",children:'No QR code available. Click "Initialize" to generate one.'})}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[r.jsx("button",{onClick:y,disabled:a,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:a?r.jsxs(r.Fragment,{children:[r.jsx(Gt,{className:"animate-spin"}),"Initializing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Jq,{}),"Initialize WhatsApp"]})}),t.qrCode&&r.jsx("button",{onClick:w,className:"px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:r.jsx(Gt,{})})]})]}),t.isReady&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Actions"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("button",{onClick:N,disabled:a,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-50 text-red-600 rounded-lg font-semibold hover:bg-red-100 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(Xq,{}),"Disconnect WhatsApp"]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Auto-Reconnect Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-700",children:"Automatic Reconnection"}),r.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Automatically reconnect WhatsApp if connection is lost"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:t.autoReconnect,onChange:async S=>{try{await Fe.setAutoReconnect(e,S.target.checked),s(P=>({...P,autoReconnect:S.target.checked})),c(`Auto-reconnect ${S.target.checked?"enabled":"disabled"}`)}catch(P){l(P.message||"Failed to update auto-reconnect setting")}},className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]}),!t.isReady&&r.jsxs("button",{onClick:async()=>{n(!0),l(null),c(null);try{const S=await Fe.reconnectWhatsApp(e);S.success&&(s(P=>({...P,isReady:S.isReady||!1,isAuthenticated:S.isAuthenticated||!1,qrCode:S.qrCode||null})),c("Reconnection initiated. Please wait..."),setTimeout(()=>v(),3e3))}catch(S){l(S.message||"Failed to reconnect")}finally{n(!1)}},disabled:a||t.isReconnecting,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(Gt,{className:a?"animate-spin":""}),t.isReconnecting?"Reconnecting...":"Manual Reconnect"]})]})]}),t.isReady&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[r.jsx(zp,{}),"Send Test Message"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Phone Number (with country code, e.g., 919876543210)"}),r.jsx("input",{type:"text",value:d,onChange:S=>u(S.target.value),placeholder:"919876543210",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Message (optional)"}),r.jsx("textarea",{value:m,onChange:S=>f(S.target.value),placeholder:"Test message from Nexo Works",rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),r.jsx("button",{onClick:k,disabled:h||!d,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:h?r.jsxs(r.Fragment,{children:[r.jsx(Gt,{className:"animate-spin"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx(HI,{}),"Send Test Message"]})})]})]}),i&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2 text-red-700",children:[r.jsx(Sc,{}),r.jsx("span",{children:i})]}),o&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-2 text-green-700",children:[r.jsx(It,{}),r.jsx("span",{children:o})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"How it works:"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[r.jsx("li",{children:' Click "Initialize WhatsApp" to generate a QR code'}),r.jsx("li",{children:" Scan the QR code with your WhatsApp mobile app"}),r.jsx("li",{children:" Once connected, all OTP messages will be sent via WhatsApp instead of SMS"}),r.jsx("li",{children:" This is completely free and doesn't require any SMS API"}),r.jsx("li",{children:" The connection persists until you disconnect or restart the server"})]})]})]})},nB=g.createContext(null),iB={isLoading:!0,isAuthenticated:!1,partner:null,token:null,error:null};function xNe(e,t){var s,a,n;switch(t.type){case"INIT":return{...e,isLoading:!1,isAuthenticated:!!((s=t.payload)!=null&&s.token),partner:((a=t.payload)==null?void 0:a.partner)??null,token:((n=t.payload)==null?void 0:n.token)??null};case"LOGIN_START":return{...e,isLoading:!0,error:null};case"LOGIN_SUCCESS":return{...e,isLoading:!1,isAuthenticated:!0,partner:t.payload.partner,token:t.payload.token,error:null};case"LOGIN_ERROR":return{...e,isLoading:!1,isAuthenticated:!1,partner:null,token:null,error:t.payload};case"LOGOUT":return{...iB,isLoading:!1};case"UPDATE_PARTNER":return{...e,partner:{...e.partner,...t.payload}};default:return e}}const gNe=({children:e})=>{const[t,s]=g.useReducer(xNe,iB);g.useEffect(()=>{(async()=>{var o;const l=localStorage.getItem("nexo_partner_auth");if(l)try{const c=JSON.parse(l);if(s({type:"INIT",payload:c}),c.token)try{const d=await gt.getProfile(c.token);if(d.success&&d.profile){const u={...c.partner,...d.profile,profile:{...(o=c.partner)==null?void 0:o.profile,...d.profile}},m={token:c.token,partner:u};localStorage.setItem("nexo_partner_auth",JSON.stringify(m)),s({type:"UPDATE_PARTNER",payload:u})}}catch(d){console.error("Failed to fetch profile on init:",d)}}catch(c){console.error("Failed to parse partner auth cache",c),localStorage.removeItem("nexo_partner_auth"),s({type:"INIT",payload:null})}else s({type:"INIT",payload:null})})()},[]);const a=Zw(gt,t.token,t.isAuthenticated),n=g.useMemo(()=>({...t,notifications:a,login:async(i,l)=>{s({type:"LOGIN_START"});try{const o=await gt.verifyOTP(i,l);if(o.success&&o.partner){let c=o.partner;try{const u=await gt.getProfile(o.partner.token);u.success&&u.profile&&(c={...o.partner,...u.profile,profile:{...o.partner.profile,...u.profile}})}catch(u){console.error("Failed to fetch complete profile:",u)}const d={token:o.partner.token,partner:c};return localStorage.setItem("nexo_partner_auth",JSON.stringify(d)),s({type:"LOGIN_SUCCESS",payload:d}),d}else throw new Error(o.message||"Login failed")}catch(o){const c=(o==null?void 0:o.message)??"Unable to login";throw s({type:"LOGIN_ERROR",payload:c}),new Error(c)}},logout:()=>{localStorage.removeItem("nexo_partner_auth"),s({type:"LOGOUT"})},clearError:()=>s({type:"LOGIN_ERROR",payload:null}),updatePartner:i=>{const l=localStorage.getItem("nexo_partner_auth");if(l)try{const o=JSON.parse(l);o.partner={...o.partner,...i},localStorage.setItem("nexo_partner_auth",JSON.stringify(o)),s({type:"UPDATE_PARTNER",payload:i})}catch(o){console.error("Failed to update partner data",o)}},refreshProfile:async()=>{var i;if(t.token)try{const l=await gt.getProfile(t.token);if(l.success&&l.profile){const o={...t.partner,...l.profile,profile:{...(i=t.partner)==null?void 0:i.profile,...l.profile}},c=localStorage.getItem("nexo_partner_auth");if(c){const d=JSON.parse(c);d.partner=o,localStorage.setItem("nexo_partner_auth",JSON.stringify(d))}return s({type:"UPDATE_PARTNER",payload:o}),o}}catch(l){console.error("Failed to refresh profile:",l)}}}),[t,a]);return r.jsx(nB.Provider,{value:n,children:e})},dn=()=>{const e=g.useContext(nB);if(!e)throw new Error("usePartnerAuth must be used within PartnerAuthProvider");return e},yNe=()=>{const e=ms(),{login:t,error:s,clearError:a}=dn(),[n,i]=g.useState(1),[l,o]=g.useState({phone:"",otp:""}),[c,d]=g.useState(!1),[u,m]=g.useState(null),[f,h]=g.useState(!1),[x,p]=g.useState(0);At.useEffect(()=>{let w=null;return x>0&&(w=setInterval(()=>{p(N=>N-1)},1e3)),()=>{w&&clearInterval(w)}},[x]);const b=async w=>{if(w.preventDefault(),m(null),a(),!l.phone||l.phone.length!==10){m("Please enter a valid 10-digit phone number");return}d(!0);try{const N=await gt.sendOTP(l.phone);N.success?(N.otp&&alert(`OTP for testing: ${N.otp}`),h(!0),i(2),p(60)):m(N.message||"Failed to send OTP")}catch(N){m(N.message||"Failed to send OTP. Please try again.")}finally{d(!1)}},j=async()=>{if(!(x>0)){d(!0),m(null);try{const w=await gt.resendOTP(l.phone);w.success?p(60):m(w.message||"Failed to resend OTP")}catch(w){m(w.message||"Failed to resend OTP")}finally{d(!1)}}},v=async w=>{if(w.preventDefault(),m(null),a(),!l.otp||l.otp.length!==6){m("Please enter a valid 6-digit OTP");return}d(!0);let N=null;if("Notification"in window){const k=Notification.permission;if(k==="default"||k==="denied")try{N=Notification.requestPermission()}catch(S){console.error("Cannot request notification permission:",S)}}try{await t(l.phone,l.otp),N&&await N==="granted"&&setTimeout(()=>{window.dispatchEvent(new Event("notificationPermissionGranted"))},500),e("/partner/dashboard",{replace:!0})}catch(k){m(k.message||"Invalid OTP. Please try again.")}finally{d(!1)}},y=w=>{const{name:N,value:k}=w.target;o(S=>({...S,[N]:k.replace(/\D/g,"").slice(0,N==="otp"?6:10)})),m(null),s&&a()};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center px-4 py-10",children:r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-full mb-4",children:r.jsx(Hd,{className:"text-2xl text-white"})}),r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Partner Login"}),r.jsx("p",{className:"text-slate-300",children:"Welcome back! Please login to continue"})]}),(u||s)&&r.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-xl text-red-200 text-sm",children:u||s}),n===1&&r.jsxs("form",{onSubmit:b,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Phone Number"}),r.jsxs("div",{className:"relative",children:[r.jsx(Au,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),r.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:y,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0,disabled:c})]})]}),r.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?r.jsxs(r.Fragment,{children:[r.jsx(Gt,{className:"animate-spin"}),"Sending OTP..."]}):r.jsxs(r.Fragment,{children:["Send OTP",r.jsx(wi,{})]})})]}),n===2&&r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Enter OTP"}),r.jsxs("div",{className:"relative",children:[r.jsx(Hd,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),r.jsx("input",{type:"text",name:"otp",value:l.otp,onChange:y,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-center text-2xl tracking-widest",placeholder:"000000",maxLength:6,required:!0,disabled:c,autoFocus:!0})]}),r.jsxs("p",{className:"mt-2 text-xs text-slate-400 text-center",children:["OTP sent to +91 ",l.phone]})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("button",{type:"button",onClick:()=>{i(1),o(w=>({...w,otp:""})),h(!1),p(0)},className:"text-slate-300 hover:text-white transition",children:"Change Number"}),r.jsx("button",{type:"button",onClick:j,disabled:x>0||c,className:"text-primary hover:text-primary-light transition disabled:opacity-50 disabled:cursor-not-allowed",children:x>0?`Resend OTP in ${x}s`:"Resend OTP"})]}),r.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?r.jsxs(r.Fragment,{children:[r.jsx(Gt,{className:"animate-spin"}),"Verifying..."]}):r.jsxs(r.Fragment,{children:["Login",r.jsx(wi,{})]})})]}),r.jsx("div",{className:"mt-8 text-center",children:r.jsxs("p",{className:"text-sm text-slate-400",children:["Don't have an account?"," ",r.jsx("button",{onClick:()=>e("/partner/onboard"),className:"text-primary hover:text-primary-light font-semibold transition",children:"Register as Partner"})]})})]})})})},bNe=()=>{const{token:e}=dn(),[t,s]=g.useState(null),[a,n]=g.useState(!0),[i,l]=g.useState(null),[o,c]=g.useState(!1),[d,u]=g.useState(""),[m,f]=g.useState(""),[h,x]=g.useState(!1),[p]=g.useState([500,1e3,2e3,5e3,1e4]);g.useEffect(()=>{b()},[e]);const b=async()=>{if(e){n(!0),l(null);try{const N=await gt.getWallet(e);s((N==null?void 0:N.data)||N)}catch(N){l(N.message||"Failed to fetch wallet")}finally{n(!1)}}},j=async()=>{if(!d||parseFloat(d)<=0){alert("Please enter a valid amount");return}x(!0);try{const N=await gt.topUpWallet(e,parseFloat(d),m||"Topup",`TOPUP-${Date.now()}`);N.success||N.message?(alert("Wallet topped up successfully!"),c(!1),u(""),f(""),await b()):alert(N.message||"Failed to top up wallet")}catch(N){console.error("Top-up error:",N),alert(N.message||"Failed to top up wallet")}finally{x(!1)}};if(a)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(i)return r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[r.jsx("p",{className:"text-red-600",children:i}),r.jsx("button",{onClick:b,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Retry"})]});const v=(t==null?void 0:t.balance)||0,y=(t==null?void 0:t.transactions)||[],w=(t==null?void 0:t.mgPlan)||null;return r.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Wallet"}),r.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your wallet balance and transactions"})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsxs("button",{onClick:()=>c(!0),className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2 shadow-lg text-sm sm:text-base",children:[r.jsx(Mr,{})," ",r.jsx("span",{className:"hidden sm:inline",children:"Top Up Wallet"}),r.jsx("span",{className:"sm:hidden",children:"Top Up"})]}),r.jsx("button",{onClick:b,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200",children:r.jsx(Gt,{className:"text-lg sm:text-xl text-slate-600"})})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-primary to-primary-dark rounded-2xl shadow-xl p-6 sm:p-8 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white/80 text-xs sm:text-sm mb-1",children:"Current Balance"}),r.jsxs("h2",{className:"text-3xl sm:text-4xl font-bold",children:["",v.toLocaleString("en-IN")]})]}),r.jsx("div",{className:"bg-white/20 p-3 sm:p-4 rounded-xl",children:r.jsx(Qt,{className:"text-3xl sm:text-4xl"})})]}),w&&r.jsxs("div",{className:"bg-white/10 rounded-xl p-4 mt-4",children:[r.jsxs("p",{className:"text-sm text-white/80 mb-2",children:["Active Plan: ",w.name]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{children:["Leads Remaining: ",w.leadsRemaining||0]}),r.jsxs("span",{children:["Lead Fee: ",w.leadFee||0]})]})]}),(t==null?void 0:t.minWalletBalance)&&v<t.minWalletBalance&&r.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/50 rounded-xl p-4 mt-4",children:r.jsxs("p",{className:"text-sm text-yellow-100",children:[" Wallet balance is below minimum threshold (",t.minWalletBalance,"). Recharge to continue accepting leads."]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Recent Transactions"}),y.length>0&&r.jsxs("button",{onClick:()=>{const N=y.map(k=>{var S,P;return{"Date & Time":k.createdAt?new Date(k.createdAt).toLocaleString("en-IN"):"N/A",Type:((S=k.type)==null?void 0:S.charAt(0).toUpperCase())+((P=k.type)==null?void 0:P.slice(1))||"N/A","Amount ()":k.amount||0,"Balance ()":k.balance||0,Description:k.description||"N/A",Reference:k.reference||"N/A"}});Do(N,[{header:"Date & Time",accessor:"Date & Time"},{header:"Type",accessor:"Type"},{header:"Amount ()",accessor:"Amount ()"},{header:"Balance ()",accessor:"Balance ()"},{header:"Description",accessor:"Description"},{header:"Reference",accessor:"Reference"}],"Wallet_Transactions","Transactions",{columnWidths:[20,12,15,15,30,20]})},className:"px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-semibold bg-primary text-white hover:bg-primary-dark transition inline-flex items-center gap-2 self-start sm:self-auto",title:"Export to Excel",children:[r.jsx(si,{})," ",r.jsx("span",{className:"hidden sm:inline",children:"Export Excel"}),r.jsx("span",{className:"sm:hidden",children:"Export"})]})]}),y.length===0?r.jsxs("div",{className:"text-center py-8 text-slate-500",children:[r.jsx(Qt,{className:"text-4xl mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No transactions yet"})]}):r.jsx("div",{className:"space-y-3",children:y.slice(0,10).map((N,k)=>{var S,P;return r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition",children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1",children:[r.jsx("div",{className:`p-2 sm:p-3 rounded-lg flex-shrink-0 ${N.type==="credit"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:N.type==="credit"?r.jsx(ur,{className:"text-lg sm:text-xl"}):r.jsx(hu,{className:"text-lg sm:text-xl"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold text-slate-800 text-sm sm:text-base truncate",children:N.description||"Transaction"}),r.jsx("p",{className:"text-xs sm:text-sm text-slate-500",children:N.createdAt?new Date(N.createdAt).toLocaleString("en-IN"):new Date().toLocaleString("en-IN")})]})]}),r.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[r.jsxs("p",{className:`font-bold text-lg sm:text-xl ${N.type==="credit"?"text-green-600":"text-red-600"}`,children:[N.type==="credit"?"+":"-","",((S=N.amount)==null?void 0:S.toLocaleString("en-IN"))||0]}),r.jsxs("p",{className:"text-xs sm:text-sm text-slate-500",children:["Balance: ",((P=N.balance)==null?void 0:P.toLocaleString("en-IN"))||0]})]})]},k)})})]}),o&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-4 sm:p-6 my-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Top Up Wallet"}),r.jsx("button",{onClick:()=>{c(!1),u(""),f("")},className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"text-lg sm:text-xl"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Amount ()"}),r.jsx("input",{type:"number",value:d,onChange:N=>u(N.target.value),placeholder:"Enter amount",min:"1",step:"0.01",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Quick Select"}),r.jsx("div",{className:"grid grid-cols-5 gap-2",children:p.map(N=>r.jsxs("button",{onClick:()=>u(N.toString()),className:`px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold transition ${d===N.toString()?"bg-primary text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:["",N]},N))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description (Optional)"}),r.jsx("input",{type:"text",value:m,onChange:N=>f(N.target.value),placeholder:"Add a note for this transaction",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-slate-600",children:"Current Balance:"}),r.jsxs("span",{className:"font-bold text-slate-800",children:["",v.toLocaleString("en-IN")]})]}),d&&parseFloat(d)>0&&r.jsxs("div",{className:"flex items-center justify-between text-sm mt-2",children:[r.jsx("span",{className:"text-slate-600",children:"After Top-up:"}),r.jsxs("span",{className:"font-bold text-green-600",children:["",(v+parseFloat(d)).toLocaleString("en-IN")]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{onClick:j,disabled:h||!d||parseFloat(d)<=0,className:"flex-1 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Processing...":"Top Up"}),r.jsx("button",{onClick:()=>{c(!1),u(""),f("")},className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"})]})]})]})})]})},vNe=({member:e,partner:t,onClose:s})=>{var p;const a=g.useRef(null),[n,i]=g.useState(!1),l=async()=>{var _;const b=(_=a.current)==null?void 0:_.querySelector("svg");let j="";if(b){const C=new XMLSerializer().serializeToString(b),A=new Blob([C],{type:"image/svg+xml;charset=utf-8"}),V=URL.createObjectURL(A),q=new Image;await new Promise(Z=>{q.onload=()=>{const ue=document.createElement("canvas");ue.width=q.width,ue.height=q.height,ue.getContext("2d").drawImage(q,0,0),j=ue.toDataURL("image/png"),URL.revokeObjectURL(V),Z()},q.onerror=()=>Z(),q.src=V})}const v=a.current;if(!v)return;const y=v.cloneNode(!0);n&&y.classList.add("id-card-cut");const w=(C,A)=>{const V=window.getComputedStyle(C);Array.from(V).forEach(q=>{A.style.setProperty(q,V.getPropertyValue(q),V.getPropertyPriority(q))})},N=y.querySelectorAll("*"),k=v.querySelectorAll("*");if(N.forEach((C,A)=>{k[A]&&w(k[A],C)}),w(v,y),j){const C=y.querySelector("svg");if(C&&C.parentNode){const A=document.createElement("img");A.src=j,A.style.width="65px",A.style.height="65px",A.style.display="block",C.parentNode.replaceChild(A,C)}}const S=window.open("","_blank"),P=y.outerHTML;S.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Team Member ID Card - Nexo</title>
          <style>
            @media print {
              @page {
                size: A4;
                margin: 0;
              }
              body {
                margin: 0;
                padding: 0;
                display: flex;
                justify-content: center;
                align-items: flex-start;
                min-height: 100vh;
                padding-top: 30px;
              }
              .id-card {
                transform: scale(1.8);
                transform-origin: top center;
                margin: 0 auto;
              }
            }
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
              background: #f5f5f5;
            }
            .id-card {
              width: 85.6mm;
              height: 53.98mm;
              background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
              border-radius: 12px;
              padding: 10px;
              box-shadow: 0 10px 40px rgba(79, 70, 229, 0.4);
              position: relative;
              overflow: hidden;
            }
            .id-card-cut {
              height: 70mm;
              overflow: visible;
            }
            .id-card-cut::after {
              content: '';
              position: absolute;
              bottom: 16mm;
              left: 5mm;
              right: 5mm;
              height: 1px;
              border-top: 1px dashed rgba(255,255,255,0.6);
            }
            .id-card::before {
              content: '';
              position: absolute;
              top: -50%;
              right: -50%;
              width: 200%;
              height: 200%;
              background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%);
            }
            .id-card::after {
              content: '';
              position: absolute;
              bottom: 0;
              left: 0;
              right: 0;
              height: 3px;
              background: linear-gradient(90deg, #4F46E5 0%, #7C3AED 50%, #4F46E5 100%);
            }
            .id-card-content {
              position: relative;
              z-index: 1;
              display: flex;
              height: 100%;
              background: white;
              border-radius: 8px;
              padding: 8px;
              box-shadow: inset 0 0 20px rgba(79, 70, 229, 0.1);
            }
            .id-card-cut .id-card-content {
              height: calc(100% - 16mm);
              margin-bottom: 16mm;
            }
            .id-card-tear-section {
              position: absolute;
              bottom: 0;
              left: 0;
              right: 0;
              height: 16mm;
              background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
              border-radius: 0 0 12px 12px;
              padding: 4px 8px;
              display: flex;
              flex-direction: column;
              justify-content: center;
              align-items: center;
              gap: 2px;
              z-index: 5;
              font-size: 6px;
              color: rgba(255,255,255,0.9);
              text-align: center;
            }
            .id-card-left {
              flex: 1;
              display: flex;
              flex-direction: column;
              justify-content: space-between;
              padding-right: 8px;
            }
            .id-card-header {
              display: flex;
              align-items: center;
              gap: 6px;
              margin-bottom: 6px;
              padding-bottom: 6px;
              border-bottom: 2px solid #4F46E5;
            }
            .id-card-logo {
              width: 28px;
              height: 28px;
              background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
              border-radius: 4px;
              display: flex;
              align-items: center;
              justify-content: center;
              color: white;
              font-weight: 800;
              font-size: 11px;
              letter-spacing: 0.5px;
            }
            .id-card-title {
              font-size: 9px;
              font-weight: 800;
              color: #4F46E5;
              text-transform: uppercase;
              letter-spacing: 1.2px;
            }
            .id-card-photo {
              width: 65px;
              height: 65px;
              border-radius: 8px;
              border: 3px solid #4F46E5;
              object-fit: cover;
              margin: 6px 0;
              box-shadow: 0 2px 8px rgba(79, 70, 229, 0.2);
            }
            .id-card-name {
              font-size: 15px;
              font-weight: 800;
              color: #1a202c;
              margin-bottom: 4px;
              letter-spacing: 0.3px;
            }
            .id-card-details {
              font-size: 8.5px;
              color: #4a5568;
              line-height: 1.5;
            }
            .id-card-detail-item {
              margin-bottom: 3px;
              display: flex;
              align-items: center;
              gap: 4px;
            }
            .id-card-detail-item strong {
              color: #4F46E5;
              font-weight: 700;
              min-width: 45px;
            }
            .id-card-right {
              width: 85px;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              gap: 6px;
              border-left: 2px dashed #e2e8f0;
              padding-left: 8px;
            }
            .id-card-qr {
              width: 75px;
              height: 75px;
              padding: 5px;
              background: white;
              border-radius: 6px;
              border: 2px solid #4F46E5;
              display: flex;
              align-items: center;
              justify-content: center;
              box-shadow: 0 2px 8px rgba(79, 70, 229, 0.15);
            }
            .id-card-verified {
              font-size: 7px;
              color: #48bb78;
              text-align: center;
              font-weight: 700;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 3px;
              background: #f0fdf4;
              padding: 3px 6px;
              border-radius: 4px;
              border: 1px solid #86efac;
            }
            .id-card-id {
              font-size: 7.5px;
              color: #4F46E5;
              text-align: center;
              font-weight: 700;
              letter-spacing: 0.5px;
            }
            .id-card-footer {
              font-size: 6.5px;
              color: #718096;
              text-align: center;
              margin-top: 2px;
            }
          </style>
        </head>
        <body>
          ${P}
        </body>
      </html>
    `),S.document.close(),setTimeout(()=>{S.print()},250)},o=(e._id||e.id||"").toString().slice(-8).toUpperCase(),c=`${window.location.origin}/verify/team-member/${e._id||e.id}`,d=e.name||"Team Member",u=e.phone||"N/A",m=e.city||"N/A",f=(e.role||"technician").toUpperCase(),h=e.profilePicture?e.profilePicture.startsWith("http")?e.profilePicture:`https://nexo.works/${e.profilePicture}`:null,x=((p=e.kyc)==null?void 0:p.status)==="approved"||e.status==="active";return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-lg w-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-primary mb-1",children:"Team Member ID Card"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Professional identification card with QR verification"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>i(!n),className:`px-4 py-2 rounded-lg font-semibold transition flex items-center gap-2 ${n?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,title:n?"Switch to Regular Card":"Switch to Cut Card",children:[r.jsx(Kq,{}),n?"Cut Card":"Regular Card"]}),r.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 rounded-lg transition",children:r.jsx(ut,{className:"text-xl"})})]})]}),r.jsx("div",{className:"flex justify-center mb-6 bg-gradient-to-br from-slate-50 to-slate-100 p-8 rounded-xl",children:r.jsxs("div",{ref:a,className:"id-card",style:{width:"85.6mm",height:n?"70mm":"53.98mm",background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",borderRadius:"12px",padding:"10px",boxShadow:"0 10px 40px rgba(79, 70, 229, 0.4)",position:"relative",overflow:n?"visible":"hidden"},children:[n&&r.jsx("div",{style:{position:"absolute",bottom:"16mm",left:"5mm",right:"5mm",height:"1px",borderTop:"1px dashed #fff",opacity:.6,zIndex:10}}),n&&r.jsxs("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"16mm",background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",borderRadius:"0 0 12px 12px",padding:"4px 8px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"2px",zIndex:5},children:[r.jsx("div",{style:{fontSize:"6px",color:"rgba(255,255,255,0.9)",fontWeight:600,textAlign:"center",letterSpacing:"0.5px"},children:"TEAR HERE"}),r.jsx("div",{style:{fontSize:"5.5px",color:"rgba(255,255,255,0.7)",textAlign:"center",marginTop:"2px"},children:o}),r.jsx("div",{style:{fontSize:"5px",color:"rgba(255,255,255,0.6)",textAlign:"center",marginTop:"1px"},children:"Keep this section for records"})]}),r.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 20% 20%, rgba(255,255,255,0.15) 0%, transparent 50%)",pointerEvents:"none"}}),r.jsxs("div",{className:"id-card-content",style:{position:"relative",zIndex:1,display:"flex",height:"100%",background:"white",borderRadius:"8px",padding:"8px",boxShadow:"inset 0 0 20px rgba(79, 70, 229, 0.1)"},children:[r.jsx("div",{className:"id-card-left",style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",paddingRight:"8px"},children:r.jsxs("div",{children:[r.jsxs("div",{className:"id-card-header",style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"6px",paddingBottom:"6px",borderBottom:"2px solid #4F46E5"},children:[r.jsx("div",{className:"id-card-logo",style:{width:"28px",height:"28px",background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:800,fontSize:"11px",letterSpacing:"0.5px"},children:"NEXO"}),r.jsx("div",{className:"id-card-title",style:{fontSize:"9px",fontWeight:800,color:"#4F46E5",textTransform:"uppercase",letterSpacing:"1.2px"},children:"Team Member"})]}),h?r.jsx("img",{src:h,alt:d,className:"id-card-photo",style:{width:"65px",height:"65px",borderRadius:"8px",border:"3px solid #4F46E5",objectFit:"cover",margin:"6px 0",boxShadow:"0 2px 8px rgba(79, 70, 229, 0.2)"}}):r.jsx("div",{className:"id-card-photo",style:{width:"65px",height:"65px",borderRadius:"8px",border:"3px solid #4F46E5",background:"linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"24px",margin:"6px 0",boxShadow:"0 2px 8px rgba(79, 70, 229, 0.2)"},children:d.charAt(0).toUpperCase()}),r.jsx("div",{className:"id-card-name",style:{fontSize:"15px",fontWeight:800,color:"#1a202c",marginBottom:"4px",letterSpacing:"0.3px"},children:d}),r.jsxs("div",{className:"id-card-details",style:{fontSize:"8.5px",color:"#4a5568",lineHeight:1.5},children:[r.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[r.jsx("strong",{style:{color:"#4F46E5",fontWeight:700,minWidth:"45px"},children:"ID:"}),r.jsx("span",{children:o})]}),r.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[r.jsx("strong",{style:{color:"#4F46E5",fontWeight:700,minWidth:"45px"},children:"Role:"}),r.jsx("span",{children:f})]}),r.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[r.jsx("strong",{style:{color:"#4F46E5",fontWeight:700,minWidth:"45px"},children:"Phone:"}),r.jsx("span",{children:u})]}),m!=="N/A"&&r.jsxs("div",{className:"id-card-detail-item",style:{marginBottom:"3px",display:"flex",alignItems:"center",gap:"4px"},children:[r.jsx("strong",{style:{color:"#4F46E5",fontWeight:700,minWidth:"45px"},children:"City:"}),r.jsx("span",{children:m})]})]})]})}),r.jsxs("div",{className:"id-card-right",style:{width:"85px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"6px",borderLeft:"2px dashed #e2e8f0",paddingLeft:"8px"},children:[r.jsx("div",{className:"id-card-qr",style:{width:"75px",height:"75px",padding:"5px",background:"white",borderRadius:"6px",border:"2px solid #4F46E5",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(79, 70, 229, 0.15)"},children:r.jsx(_3,{value:c,size:65,level:"H",includeMargin:!1})}),x&&r.jsxs("div",{className:"id-card-verified",style:{fontSize:"7px",color:"#48bb78",textAlign:"center",fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",gap:"3px",background:"#f0fdf4",padding:"3px 6px",borderRadius:"4px",border:"1px solid #86efac"},children:[r.jsx(It,{style:{fontSize:"8px"}}),"Verified"]}),r.jsx("div",{className:"id-card-id",style:{fontSize:"7.5px",color:"#4F46E5",textAlign:"center",fontWeight:700,letterSpacing:"0.5px"},children:"Scan to Verify"}),r.jsx("div",{className:"id-card-footer",style:{fontSize:"6.5px",color:"#718096",textAlign:"center",marginTop:"2px"},children:"nexo.works"})]})]})]})}),r.jsxs("div",{className:"flex gap-3 justify-center mt-6",children:[r.jsxs("button",{onClick:l,className:"px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2 shadow-lg",children:[r.jsx(Rg,{})," Print ID Card"]}),r.jsxs("button",{onClick:s,className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center gap-2",children:[r.jsx(ut,{})," Close"]})]}),r.jsx("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg border border-indigo-200",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ni,{className:"text-indigo-600 text-xl flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-indigo-600 mb-1",children:"Verification Features"}),r.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[r.jsx("li",{children:" QR code links to public verification page"}),r.jsx("li",{children:" Anyone can scan to verify team member status"}),r.jsx("li",{children:" Shows verification status and credentials"}),r.jsx("li",{children:" Professional ID card format for printing"})]})]})]})})]})})},jNe=()=>{const{token:e}=dn(),[t,s]=g.useState([]),[a,n]=g.useState(!1),[i,l]=g.useState(null),[o,c]=g.useState(!1),[d,u]=g.useState(null),[m,f]=g.useState({}),[h,x]=g.useState({}),[p,b]=g.useState(null);g.useEffect(()=>{e&&(j(),v(),y())},[e]);const j=async()=>{if(e){c(!0);try{const D=await gt.getTeamMembers(e),M=(D==null?void 0:D.data)||D||[];s(Array.isArray(M)?M:[])}catch(D){console.error("Failed to fetch team members:",D),s([])}finally{c(!1)}}},v=async()=>{try{const D=await gt.getAvailableHubs(e),M=(D==null?void 0:D.data)||D||[];q(Array.isArray(M)?M:[])}catch(D){console.error("Failed to fetch hubs:",D),q([])}},y=async()=>{try{const D=await gt.getCategories(e),M=(D==null?void 0:D.categories)||(D==null?void 0:D.data)||D||[];ue(Array.isArray(M)?M:[])}catch(D){console.error("Failed to fetch categories:",D),ue([])}},[w,N]=g.useState({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),[k,S]=g.useState(null),[P,_]=g.useState({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),[C,A]=g.useState({}),[V,q]=g.useState([]),[Z,ue]=g.useState([]),[me,Q]=g.useState(!1),ae=async()=>{if(!w.name||!w.phone){alert("Please fill in all required fields");return}if(!e){alert("Authentication required");return}c(!0);try{const D={...w,profilePicture:w.profilePicture,kycData:P},M=await gt.addTeamMember(e,D);M.success?(await j(),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),S(null),_({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),n(!1),Q(!1),alert("Team member added successfully!")):alert(M.message||"Failed to add team member")}catch(D){console.error("Failed to add team member:",D),alert(D.message||"Failed to add team member")}finally{c(!1)}},oe=D=>{l(D),N({name:D.name||"",email:D.email||"",phone:D.phone||"",whatsappNumber:D.whatsappNumber||"",qualification:D.qualification||"",experience:D.experience||"",address:D.address||"",city:D.city||"",pincode:D.pincode||"",role:D.role||"technician",profilePicture:null,categories:D.categories||[],categoryNames:D.categoryNames||[],hubs:D.hubs||[]}),S(D.profilePicture||null),_(D.kycData||{panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A(D.kyc||{}),n(!0)},R=D=>{const M=D.target.files[0];if(M){N({...w,profilePicture:M});const z=new FileReader;z.onloadend=()=>{S(z.result)},z.readAsDataURL(M)}},O=(D,M)=>{if(M){_(se=>({...se,[D]:M}));const z=new FileReader;z.onloadend=()=>{A(se=>({...se,[D]:z.result}))},z.readAsDataURL(M)}},I=(D,M)=>{(w.categories||[]).includes(D)?N(se=>({...se,categories:(se.categories||[]).filter(ne=>ne!==D),categoryNames:(se.categoryNames||[]).filter(ne=>ne!==M)})):N(se=>({...se,categories:[...se.categories||[],D],categoryNames:[...se.categoryNames||[],M]}))},X=D=>{(w.hubs||[]).includes(D)?N(z=>({...z,hubs:(z.hubs||[]).filter(se=>se!==D)})):N(z=>({...z,hubs:[...z.hubs||[],D]}))},W=async()=>{if(!w.name||!w.phone){alert("Please fill in all required fields");return}if(!e||!i){alert("Authentication required");return}const D=i._id||i.id;if(!D){alert("Invalid team member");return}c(!0);try{const M={...w,profilePicture:w.profilePicture,kycData:P},z=await gt.updateTeamMember(e,D,M);z.success?(await j(),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),S(null),_({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),l(null),n(!1),Q(!1),alert("Team member updated successfully!")):alert(z.message||"Failed to update team member")}catch(M){console.error("Failed to update team member:",M),alert(M.message||"Failed to update team member")}finally{c(!1)}},T=async D=>{if(!window.confirm("Are you sure you want to remove this team member?"))return;if(!e){alert("Authentication required");return}const M=D._id||D.id;if(!M){alert("Invalid team member");return}c(!0);try{const z=await gt.deleteTeamMember(e,M);z.success?(await j(),alert("Team member deleted successfully!")):alert(z.message||"Failed to delete team member")}catch(z){console.error("Failed to delete team member:",z),alert(z.message||"Failed to delete team member")}finally{c(!1)}},L=async D=>{const M=D._id||D.id;if(!(!M||!e)){if(m[M]){u(D);return}x(z=>({...z,[M]:!0}));try{const z=await gt.getTeamMemberActivities(e,M),se=(z==null?void 0:z.data)||z||[];f(ne=>({...ne,[M]:se})),u(D)}catch(z){console.error("Failed to fetch activities:",z),f(se=>({...se,[M]:[]})),u(D)}finally{x(z=>({...z,[M]:!1}))}}};return r.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Team Members"}),r.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your team members and technicians"})]}),r.jsxs("button",{onClick:()=>{l(null),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),S(null),_({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),Q(!1),n(!0)},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center gap-2 text-sm sm:text-base self-start sm:self-auto",children:[r.jsx(GI,{})," ",r.jsx("span",{className:"hidden sm:inline",children:"Add Team Member"}),r.jsx("span",{className:"sm:hidden",children:"Add Member"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Total Members"}),r.jsx(sa,{className:"text-primary text-lg sm:text-xl"})]}),r.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-slate-800",children:t.length})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Active Members"}),r.jsx(sa,{className:"text-green-600 text-lg sm:text-xl"})]}),r.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-green-600",children:t.filter(D=>D.status==="active").length})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Technicians"}),r.jsx(sa,{className:"text-blue-600 text-lg sm:text-xl"})]}),r.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-blue-600",children:t.filter(D=>D.role==="technician").length})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden",children:[t.length>0&&r.jsx("div",{className:"p-3 sm:p-4 border-b border-slate-200 flex items-center justify-end",children:r.jsxs("button",{onClick:()=>{const D=t.map(M=>{var z;return{Name:M.name||"N/A",Phone:M.phone||"N/A",Email:M.email||"N/A",WhatsApp:M.whatsappNumber||"N/A",Role:M.role||"N/A",Status:M.status||"N/A",Qualification:M.qualification||"N/A",Experience:M.experience||"N/A",Address:M.address||"N/A",City:M.city||"N/A",Pincode:M.pincode||"N/A",Categories:((z=M.categoryNames)==null?void 0:z.join(", "))||"N/A","Joined Date":M.joinedDate?new Date(M.joinedDate).toLocaleDateString("en-IN"):"N/A"}});Do(D,[{header:"Name",accessor:"Name"},{header:"Phone",accessor:"Phone"},{header:"Email",accessor:"Email"},{header:"WhatsApp",accessor:"WhatsApp"},{header:"Role",accessor:"Role"},{header:"Status",accessor:"Status"},{header:"Qualification",accessor:"Qualification"},{header:"Experience",accessor:"Experience"},{header:"Address",accessor:"Address"},{header:"City",accessor:"City"},{header:"Pincode",accessor:"Pincode"},{header:"Categories",accessor:"Categories"},{header:"Joined Date",accessor:"Joined Date"}],"Team_Members","Team Members",{columnWidths:[20,15,25,15,12,12,20,15,30,15,10,30,15]})},className:"px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-semibold bg-primary text-white hover:bg-primary-dark transition inline-flex items-center gap-2",title:"Export to Excel",type:"button",children:[r.jsx(si,{})," ",r.jsx("span",{className:"hidden sm:inline",children:"Export Excel"}),r.jsx("span",{className:"sm:hidden",children:"Export"})]})}),t.length===0?r.jsxs("div",{className:"p-12 text-center text-slate-500",children:[r.jsx(sa,{className:"text-4xl mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"mb-4",children:"No team members added yet"}),r.jsx("button",{onClick:()=>{l(null),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),S(null),_({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),Q(!1),n(!0)},className:"px-6 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition",children:"Add Your First Team Member"})]}):o?r.jsx("div",{className:"p-12 text-center text-slate-500",children:r.jsx("p",{children:"Loading team members..."})}):r.jsx("div",{className:"divide-y divide-slate-200",children:t.map(D=>{const M=D._id||D.id,z=D.categoryNames||D.categories&&D.categories.map(ne=>typeof ne=="object"?ne.name:ne)||[],se=D.hubs||[];return r.jsx("div",{className:"p-3 sm:p-4 hover:bg-slate-50 transition",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 flex-1 min-w-0",children:[D.profilePicture?r.jsx("img",{src:D.profilePicture,alt:D.name,className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full object-cover border-2 border-primary/20 flex-shrink-0"}):r.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-lg sm:text-xl border-2 border-primary/20 flex-shrink-0",children:D.name.charAt(0).toUpperCase()}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-2",children:[r.jsx("h3",{className:"text-base sm:text-lg font-bold text-slate-800 truncate",children:D.name}),r.jsx("span",{className:"px-2 py-1 bg-slate-100 rounded text-xs font-semibold whitespace-nowrap",children:D.role||"technician"}),D.kyc&&r.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs font-semibold flex items-center gap-1 whitespace-nowrap",children:[r.jsx(ni,{className:"text-xs"}),"KYC"]}),D.status==="active"&&r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs font-semibold whitespace-nowrap",children:"Active"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 text-xs sm:text-sm text-slate-600 mb-2",children:[D.email&&r.jsxs("span",{className:"flex items-center gap-1 truncate max-w-full",children:[r.jsx(cl,{className:"text-xs flex-shrink-0"}),r.jsx("span",{className:"truncate",children:D.email})]}),D.phone&&r.jsxs("span",{className:"flex items-center gap-1 whitespace-nowrap",children:[r.jsx(Au,{className:"text-xs flex-shrink-0"}),D.phone]}),D.city&&r.jsxs("span",{className:"flex items-center gap-1 whitespace-nowrap",children:[r.jsx(aa,{className:"text-xs flex-shrink-0"}),D.city]})]}),z.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:z.map((ne,te)=>r.jsxs("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded text-xs font-medium flex items-center gap-1",children:[r.jsx($w,{className:"text-xs flex-shrink-0"}),r.jsx("span",{className:"truncate",children:typeof ne=="object"?ne.name:ne})]},te))}),se.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:se.map((ne,te)=>{var Je,Ge;const Re=typeof ne=="object"?ne.name:((Je=V.find(Le=>(Le._id||Le.id)===ne))==null?void 0:Je.name)||ne,Ce=typeof ne=="object"?ne.city:((Ge=V.find(Le=>(Le._id||Le.id)===ne))==null?void 0:Ge.city)||"";return r.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium flex items-center gap-1",children:[r.jsx(zI,{className:"text-xs flex-shrink-0"}),r.jsxs("span",{className:"truncate",children:[Re," ",Ce&&`(${Ce})`]})]},te)})})]}),r.jsx("div",{className:"hidden lg:block opacity-40 flex-shrink-0",children:r.jsx(An,{className:"scale-50"})})]}),r.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-wrap sm:flex-nowrap flex-shrink-0 self-start sm:self-auto",children:[r.jsx("button",{onClick:()=>b(D),className:"p-2 hover:bg-green-50 rounded-lg text-green-600 transition flex-shrink-0",title:"View ID Card",type:"button",children:r.jsx(zs,{className:"text-base sm:text-lg"})}),r.jsx("button",{onClick:()=>L(D),className:"p-2 hover:bg-purple-50 rounded-lg text-purple-600 transition flex-shrink-0",title:"View Activities",type:"button",children:r.jsx(nc,{className:"text-base sm:text-lg"})}),r.jsx("button",{onClick:()=>oe(D),className:"p-2 hover:bg-blue-50 rounded-lg text-blue-600 transition flex-shrink-0",title:"Edit Member",type:"button",children:r.jsx(os,{className:"text-base sm:text-lg"})}),r.jsx("button",{onClick:()=>T(D),className:"p-2 hover:bg-red-50 rounded-lg text-red-600 transition flex-shrink-0",title:"Delete Member",type:"button",children:r.jsx(an,{className:"text-base sm:text-lg"})})]})]})},M)})})]}),a&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-3 sm:p-4 overflow-y-auto",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full p-4 sm:p-6 my-auto max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:i?"Edit Team Member":"Add Team Member"}),r.jsx("button",{onClick:()=>{n(!1),l(null),N({name:"",email:"",phone:"",role:"technician",profilePicture:null}),S(null)},className:"p-2 hover:bg-slate-100 rounded-lg transition flex-shrink-0",type:"button",children:r.jsx(ut,{className:"text-lg sm:text-xl"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Profile Picture"}),r.jsxs("div",{className:"flex items-center gap-4",children:[k?r.jsx("img",{src:k,alt:"Preview",className:"w-20 h-20 rounded-full object-cover border-2 border-primary/20"}):r.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-2xl border-2 border-primary/20",children:w.name?w.name.charAt(0).toUpperCase():"?"}),r.jsxs("label",{className:"px-4 py-2 bg-primary text-white rounded-lg cursor-pointer hover:bg-primary-dark transition flex items-center gap-2",children:[r.jsx(Up,{}),k?"Change":"Upload"," Photo",r.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"hidden"})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:w.name,onChange:D=>N({...w,name:D.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter name"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Phone ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"tel",value:w.phone,onChange:D=>N({...w,phone:D.target.value.replace(/\D/g,"").slice(0,10)}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number",maxLength:10})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email"}),r.jsx("input",{type:"email",value:w.email,onChange:D=>N({...w,email:D.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"WhatsApp Number"}),r.jsx("input",{type:"tel",value:w.whatsappNumber,onChange:D=>N({...w,whatsappNumber:D.target.value.replace(/\D/g,"").slice(0,10)}),className:"w-full px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"WhatsApp number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Qualification"}),r.jsx("input",{type:"text",value:w.qualification,onChange:D=>N({...w,qualification:D.target.value}),className:"w-full px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Qualification"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Experience (Years)"}),r.jsx("input",{type:"number",value:w.experience,onChange:D=>N({...w,experience:D.target.value}),className:"w-full px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Years"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),r.jsx("input",{type:"text",value:w.city,onChange:D=>N({...w,city:D.target.value}),className:"w-full px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"City"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Address"}),r.jsx("textarea",{value:w.address,onChange:D=>N({...w,address:D.target.value}),rows:2,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Full address"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),r.jsx("input",{type:"text",value:w.pincode,onChange:D=>N({...w,pincode:D.target.value.replace(/\D/g,"").slice(0,6)}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"6-digit pincode",maxLength:6})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Categories"}),r.jsx("div",{className:"max-h-40 overflow-y-auto p-3 bg-slate-50 rounded-lg border border-slate-200 grid grid-cols-1 sm:grid-cols-2 gap-2",children:Z.length>0?Z.map(D=>{const M=(w.categories||[]).includes(D._id||D.id);return r.jsxs("label",{className:`flex items-center gap-2 p-2 rounded cursor-pointer border-2 transition ${M?"bg-primary/10 border-primary":"bg-white border-slate-200 hover:border-primary/50"}`,children:[r.jsx("input",{type:"checkbox",checked:M,onChange:()=>I(D._id||D.id,D.name),className:"w-4 h-4 text-primary rounded focus:ring-primary"}),r.jsx("span",{className:"text-sm font-medium text-slate-800",children:D.name})]},D._id||D.id)}):r.jsx("div",{className:"col-span-2 text-center text-sm text-slate-500 py-4",children:"No service categories available"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Service Hubs"}),r.jsx("div",{className:"max-h-40 overflow-y-auto p-3 bg-slate-50 rounded-lg border border-slate-200 space-y-2",children:V.length>0?V.map(D=>{const M=(w.hubs||[]).includes(D._id||D.id);return r.jsxs("label",{className:`flex items-center justify-between p-2 rounded cursor-pointer border-2 transition ${M?"bg-primary/10 border-primary":"bg-white border-slate-200 hover:border-primary/50"}`,children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-slate-800",children:D.name}),r.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:[D.city,", ",D.state]})]}),r.jsx("input",{type:"checkbox",checked:M,onChange:()=>X(D._id||D.id),className:"w-4 h-4 text-primary rounded focus:ring-primary"})]},D._id||D.id)}):r.jsx("div",{className:"text-center text-sm text-slate-500 py-4",children:"No service hubs available"})})]}),r.jsx("div",{children:r.jsxs("button",{type:"button",onClick:()=>Q(!me),className:"w-full px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center justify-between",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(ni,{}),"KYC Documents ",me?"(Hide)":"(Show)"]}),r.jsx("span",{children:me?"":"+"})]})}),me&&r.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[r.jsx("h4",{className:"font-semibold text-slate-800",children:"KYC Documents"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"PAN Card"}),C.panCard&&r.jsx("img",{src:C.panCard,alt:"PAN",className:"w-full h-20 object-cover rounded mb-1"}),r.jsxs("label",{className:"block w-full px-3 py-2 border-2 border-dashed border-slate-300 rounded cursor-pointer hover:border-primary transition text-center text-xs",children:[r.jsx(Vt,{className:"inline mr-1"}),C.panCard?"Change":"Upload"," PAN",r.jsx("input",{type:"file",accept:"image/*",onChange:D=>O("panCard",D.target.files[0]),className:"hidden"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Aadhaar Front"}),C.aadhaar&&r.jsx("img",{src:C.aadhaar,alt:"Aadhaar",className:"w-full h-20 object-cover rounded mb-1"}),r.jsxs("label",{className:"block w-full px-3 py-2 border-2 border-dashed border-slate-300 rounded cursor-pointer hover:border-primary transition text-center text-xs",children:[r.jsx(Vt,{className:"inline mr-1"}),C.aadhaar?"Change":"Upload"," Aadhaar",r.jsx("input",{type:"file",accept:"image/*",onChange:D=>O("aadhaar",D.target.files[0]),className:"hidden"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Aadhaar Back"}),C.aadhaarback&&r.jsx("img",{src:C.aadhaarback,alt:"Aadhaar Back",className:"w-full h-20 object-cover rounded mb-1"}),r.jsxs("label",{className:"block w-full px-3 py-2 border-2 border-dashed border-slate-300 rounded cursor-pointer hover:border-primary transition text-center text-xs",children:[r.jsx(Vt,{className:"inline mr-1"}),C.aadhaarback?"Change":"Upload"," Aadhaar Back",r.jsx("input",{type:"file",accept:"image/*",onChange:D=>O("aadhaarback",D.target.files[0]),className:"hidden"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Cheque"}),C.chequeImage&&r.jsx("img",{src:C.chequeImage,alt:"Cheque",className:"w-full h-20 object-cover rounded mb-1"}),r.jsxs("label",{className:"block w-full px-3 py-2 border-2 border-dashed border-slate-300 rounded cursor-pointer hover:border-primary transition text-center text-xs",children:[r.jsx(Vt,{className:"inline mr-1"}),C.chequeImage?"Change":"Upload"," Cheque",r.jsx("input",{type:"file",accept:"image/*",onChange:D=>O("chequeImage",D.target.files[0]),className:"hidden"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Account Number"}),r.jsx("input",{type:"text",value:P.accountNumber,onChange:D=>_({...P,accountNumber:D.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"IFSC Code"}),r.jsx("input",{type:"text",value:P.ifscCode,onChange:D=>_({...P,ifscCode:D.target.value.toUpperCase()}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm"})]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[r.jsx("button",{onClick:i?W:ae,disabled:o,className:"flex-1 py-2.5 sm:py-3 bg-primary text-white rounded-lg text-sm sm:text-base font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:o?"Processing...":(i?"Update":"Add")+" Member"}),r.jsx("button",{onClick:()=>{n(!1),l(null),N({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",city:"",pincode:"",role:"technician",profilePicture:null,categories:[],categoryNames:[],hubs:[]}),S(null),_({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),A({}),Q(!1)},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg text-sm sm:text-base font-semibold hover:bg-slate-200 transition",type:"button",children:"Cancel"})]})]})]})}),p&&r.jsx(vNe,{member:p,partner:null,onClose:()=>b(null)}),d&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-3 sm:p-4 overflow-y-auto",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full p-4 sm:p-6 my-auto max-h-[95vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800 truncate",children:[d.name,"'s Activities"]}),r.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mt-1",children:"View all bookings and activities"})]}),r.jsx("button",{onClick:()=>u(null),className:"p-2 hover:bg-slate-100 rounded-lg transition flex-shrink-0 self-end sm:self-auto",type:"button",children:r.jsx(ut,{className:"text-lg sm:text-xl"})})]}),h[d._id||d.id]?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-slate-500",children:"Loading activities..."})}):r.jsx("div",{className:"space-y-4",children:(()=>{const D=d._id||d.id,M=m[D]||[];return M.length===0?r.jsxs("div",{className:"text-center py-12 text-slate-500",children:[r.jsx(nc,{className:"text-4xl mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No activities found for this team member"})]}):M.map((z,se)=>{var ne,te;return r.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 hover:bg-slate-50 transition",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-slate-800",children:((ne=z.subService)==null?void 0:ne.name)||((te=z.service)==null?void 0:te.name)||"Service"}),z.user&&r.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Customer: ",z.user.name," (",z.user.phone,")"]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${z.status==="completed"?"bg-green-100 text-green-800":z.status==="in_progress"?"bg-blue-100 text-blue-800":z.status==="accepted"?"bg-purple-100 text-purple-800":"bg-slate-100 text-slate-800"}`,children:z.status})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mt-3 text-xs sm:text-sm",children:[z.scheduledDate&&r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-500",children:"Scheduled Date"}),r.jsx("p",{className:"font-medium",children:new Date(z.scheduledDate).toLocaleDateString()})]}),z.scheduledTime&&r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-500",children:"Time"}),r.jsx("p",{className:"font-medium",children:z.scheduledTime})]}),z.amount&&r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-500",children:"Amount"}),r.jsxs("p",{className:"font-medium",children:["",z.amount]})]}),z.completedAt&&r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-500",children:"Completed"}),r.jsx("p",{className:"font-medium",children:new Date(z.completedAt).toLocaleDateString()})]})]}),z.location&&r.jsxs("div",{className:"mt-3 text-sm",children:[r.jsx("p",{className:"text-slate-500",children:"Location"}),r.jsxs("p",{className:"font-medium",children:[z.location.address,", ",z.location.city," - ",z.location.pincode]})]})]},se)})})()})]})})]})},wNe=({booking:e,onClose:t,onComplete:s,token:a})=>{var y,w,N;const[n,i]=g.useState([]),[l,o]=g.useState([]),[c,d]=g.useState(""),[u,m]=g.useState(!1),[f,h]=g.useState(null),x=k=>{const S=Array.from(k.target.files);i(P=>[...P,...S])},p=k=>{const S=Array.from(k.target.files);o(P=>[...P,...S])},b=k=>{i(S=>S.filter((P,_)=>_!==k))},j=k=>{o(S=>S.filter((P,_)=>_!==k))},v=async k=>{if(k.preventDefault(),h(null),n.length===0&&l.length===0){h("Please upload at least one photo or video");return}m(!0);try{const S=new FormData;n.forEach(P=>{S.append("photos",P)}),l.forEach(P=>{S.append("videos",P)}),c.trim()&&S.append("remark",c.trim()),await s(e._id||e.bookingId,S),t()}catch(S){h(S.message||"Failed to complete job")}finally{m(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Complete Job"}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:u,children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("form",{onSubmit:v,className:"p-6 space-y-6",children:[f&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:f}),r.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[r.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[r.jsx("strong",{children:"Booking ID:"})," ",e.bookingId||((y=e._id)==null?void 0:y.toString().slice(-8))||"N/A"]}),r.jsxs("p",{className:"text-sm text-slate-600",children:[r.jsx("strong",{children:"Service:"})," ",((w=e.service)==null?void 0:w.name)||((N=e.subService)==null?void 0:N.name)||"N/A"]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[r.jsx(wh,{className:"inline mr-2"}),"Upload Photos ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition",children:[r.jsx(oo,{className:"w-5 h-5 text-slate-600 mr-2"}),r.jsx("span",{className:"text-sm text-slate-600",children:"Click to upload photos"}),r.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:x,className:"hidden",disabled:u})]}),n.length>0&&r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:n.map((k,S)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:URL.createObjectURL(k),alt:`Preview ${S+1}`,className:"w-full h-24 object-cover rounded-lg"}),r.jsx("button",{type:"button",onClick:()=>b(S),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition",children:r.jsx(ut,{className:"w-3 h-3"})})]},S))})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[r.jsx(oo,{className:"inline mr-2"}),"Upload Videos (Optional)"]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition",children:[r.jsx(oo,{className:"w-5 h-5 text-slate-600 mr-2"}),r.jsx("span",{className:"text-sm text-slate-600",children:"Click to upload videos"}),r.jsx("input",{type:"file",accept:"video/*",multiple:!0,onChange:p,className:"hidden",disabled:u})]}),l.length>0&&r.jsx("div",{className:"space-y-2",children:l.map((k,S)=>r.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-2 rounded-lg",children:[r.jsx("span",{className:"text-sm text-slate-600 truncate flex-1",children:k.name}),r.jsx("button",{type:"button",onClick:()=>j(S),className:"ml-2 text-red-500 hover:text-red-700",children:r.jsx(ut,{className:"w-4 h-4"})})]},S))})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[r.jsx(Vt,{className:"inline mr-2"}),"Remark (Optional)"]}),r.jsx("textarea",{value:c,onChange:k=>d(k.target.value),rows:4,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"Add any remarks or notes about the job completion...",disabled:u})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",disabled:u,children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:u||n.length===0&&l.length===0,children:u?"Completing...":"Complete Job"})]})]})]})})},NNe=({booking:e,onClose:t,onPause:s,token:a})=>{var b,j,v;const[n,i]=g.useState(""),[l,o]=g.useState(""),[c,d]=g.useState(""),[u,m]=g.useState(!1),[f,h]=g.useState(null),x=async y=>{if(y.preventDefault(),h(null),!n||!l){h("Please provide both date and time for resuming the job");return}m(!0);try{await s(e._id||e.bookingId,{nextScheduledDate:n,nextScheduledTime:l,pauseReason:c.trim()||"Not specified"}),t()}catch(w){h(w.message||"Failed to pause job")}finally{m(!1)}},p=()=>{const y=new Date;return y.setDate(y.getDate()+1),y.toISOString().split("T")[0]};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Pause Job"}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:u,children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[f&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:f}),r.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[r.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[r.jsx("strong",{children:"Booking ID:"})," ",e.bookingId||((b=e._id)==null?void 0:b.toString().slice(-8))||"N/A"]}),r.jsxs("p",{className:"text-sm text-slate-600",children:[r.jsx("strong",{children:"Service:"})," ",((j=e.service)==null?void 0:j.name)||((v=e.subService)==null?void 0:v.name)||"N/A"]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[r.jsx(Hs,{className:"inline mr-2"}),"Next Scheduled Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",value:n,onChange:y=>i(y.target.value),min:p(),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,disabled:u})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[r.jsx(Hs,{className:"inline mr-2"}),"Next Scheduled Time ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"time",value:l,onChange:y=>o(y.target.value),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,disabled:u})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Reason for Pausing (Optional)"}),r.jsx("textarea",{value:c,onChange:y=>d(y.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"e.g., Waiting for parts, Customer requested delay, etc.",disabled:u})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",disabled:u,children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-yellow-500 text-white rounded-lg font-semibold hover:bg-yellow-600 transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:u,children:u?"Pausing...":"Pause Job"})]})]})]})})},SNe=({booking:e,onClose:t,onCreate:s,token:a})=>{var q,Z,ue;const[n,i]=g.useState([{name:"",description:"",quantity:1,unitPrice:0,total:0}]),[l,o]=g.useState(0),[c,d]=g.useState(0),[u,m]=g.useState(0),[f,h]=g.useState(0),[x,p]=g.useState(""),[b,j]=g.useState(""),[v,y]=g.useState(""),[w,N]=g.useState(!1),[k,S]=g.useState(null);At.useEffect(()=>{const me=n.reduce((ae,oe)=>{const R=(oe.quantity||0)*(oe.unitPrice||0);return ae+R},0);o(me);const Q=me+(c||0)-(u||0);h(Q)},[n,c,u]);const P=()=>{i([...n,{name:"",description:"",quantity:1,unitPrice:0,total:0}])},_=me=>{n.length>1&&i(n.filter((Q,ae)=>ae!==me))},C=(me,Q,ae)=>{const oe=[...n];oe[me][Q]=ae,(Q==="quantity"||Q==="unitPrice")&&(oe[me].total=(oe[me].quantity||0)*(oe[me].unitPrice||0)),i(oe)},A=async me=>{if(me.preventDefault(),S(null),n.some(ae=>!ae.name||ae.unitPrice<=0)){S("Please fill all item fields and ensure prices are greater than 0");return}if(!b){S("Please select a valid till date");return}if(f<=0){S("Total amount must be greater than 0");return}const Q=new Date(b);if(Q<=new Date){S("Valid till date must be in the future");return}N(!0);try{await s(e._id||e.bookingId,{items:n.map(ae=>({name:ae.name,description:ae.description||"",quantity:ae.quantity,unitPrice:ae.unitPrice,total:ae.total})),subtotal:l,tax:c,discount:u,totalAmount:f,description:x,validTill:Q.toISOString(),notes:v}),t()}catch(ae){S(ae.message||"Failed to create quotation")}finally{N(!1)}},V=()=>{const me=new Date;return me.setDate(me.getDate()+1),me.toISOString().split("T")[0]};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[r.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Send Extra Quotation"}),r.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg transition",disabled:w,children:r.jsx(ut,{className:"w-5 h-5 text-slate-600"})})]}),r.jsxs("form",{onSubmit:A,className:"p-6 space-y-6",children:[k&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:k}),r.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[r.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:[r.jsx("strong",{children:"Booking ID:"})," ",e.bookingId||((q=e._id)==null?void 0:q.toString().slice(-8))||"N/A"]}),r.jsxs("p",{className:"text-sm text-slate-600",children:[r.jsx("strong",{children:"Service:"})," ",((Z=e.service)==null?void 0:Z.name)||((ue=e.subService)==null?void 0:ue.name)||"N/A"]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700",children:["Items ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("button",{type:"button",onClick:P,className:"px-3 py-1.5 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition inline-flex items-center gap-2",children:[r.jsx(Mr,{className:"w-4 h-4"})," Add Item"]})]}),r.jsx("div",{className:"space-y-3",children:n.map((me,Q)=>r.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"text-sm font-semibold text-slate-700",children:["Item ",Q+1]}),n.length>1&&r.jsx("button",{type:"button",onClick:()=>_(Q),className:"text-red-500 hover:text-red-700",children:r.jsx(an,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Item Name *"}),r.jsx("input",{type:"text",value:me.name,onChange:ae=>C(Q,"name",ae.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",placeholder:"e.g., Spare Part, Additional Service",required:!0,disabled:w})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Quantity *"}),r.jsx("input",{type:"number",value:me.quantity,onChange:ae=>C(Q,"quantity",parseFloat(ae.target.value)||0),min:"1",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",required:!0,disabled:w})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Unit Price () *"}),r.jsx("input",{type:"number",value:me.unitPrice,onChange:ae=>C(Q,"unitPrice",parseFloat(ae.target.value)||0),min:"0",step:"0.01",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm",required:!0,disabled:w})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Total ()"}),r.jsx("input",{type:"number",value:me.total.toFixed(2),readOnly:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg bg-slate-50 text-sm"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-slate-600 mb-1",children:"Description"}),r.jsx("textarea",{value:me.description,onChange:ae=>C(Q,"description",ae.target.value),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:border-primary text-sm resize-none",placeholder:"Item description...",disabled:w})]})]},Q))})]}),r.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-slate-600",children:"Subtotal:"}),r.jsxs("span",{className:"font-semibold",children:["",l.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-slate-600",children:"Tax:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",value:c,onChange:me=>d(parseFloat(me.target.value)||0),min:"0",step:"0.01",className:"w-24 px-2 py-1 border border-slate-300 rounded text-sm",disabled:w}),r.jsxs("span",{className:"font-semibold",children:["",c.toFixed(2)]})]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-slate-600",children:"Discount:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",value:u,onChange:me=>m(parseFloat(me.target.value)||0),min:"0",step:"0.01",className:"w-24 px-2 py-1 border border-slate-300 rounded text-sm",disabled:w}),r.jsxs("span",{className:"font-semibold",children:["",u.toFixed(2)]})]})]}),r.jsxs("div",{className:"flex justify-between text-base font-bold pt-2 border-t border-slate-300",children:[r.jsx("span",{children:"Total Amount:"}),r.jsxs("span",{className:"text-primary",children:["",f.toFixed(2)]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),r.jsx("textarea",{value:x,onChange:me=>p(me.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"Additional description about the quotation...",disabled:w})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:[r.jsx(Hc,{className:"inline mr-2"}),"Valid Till ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",value:b,onChange:me=>j(me.target.value),min:V(),className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary",required:!0,disabled:w})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Notes (Optional)"}),r.jsx("textarea",{value:v,onChange:me=>y(me.target.value),rows:2,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:outline-none focus:border-primary resize-none",placeholder:"Internal notes...",disabled:w})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",disabled:w,children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:w||f<=0,children:w?"Sending...":"Send Quotation"})]})]})]})})},kNe=()=>{const{token:e,partner:t}=dn(),[s,a]=g.useState([]),[n,i]=g.useState([]),[l,o]=g.useState(!0),[c,d]=g.useState(null),[u,m]=g.useState("all"),[f,h]=g.useState(null),[x,p]=g.useState(null),[b,j]=g.useState(null),[v,y]=g.useState(null),[w,N]=g.useState(null),[k,S]=g.useState(null),[P,_]=g.useState({});g.useEffect(()=>{A(),C()},[e]),g.useEffect(()=>{s.length>0&&e&&s.forEach(async O=>{try{const I=await gt.getQuotationsByBooking(e,O._id||O.bookingId);I.success&&I.data&&_(X=>({...X,[O._id||O.bookingId]:I.data}))}catch(I){console.error("Failed to fetch quotations:",I)}})},[s,e]);const C=async()=>{if(e)try{const O=await gt.getTeamMembers(e),I=(O==null?void 0:O.data)||O||[];i(Array.isArray(I)?I:[])}catch(O){console.error("Failed to fetch team members:",O)}},A=async()=>{if(e){o(!0),d(null);try{const O=await gt.getBookings(e);let I=[];O!=null&&O.bookings?Object.values(O.bookings).forEach(X=>{Array.isArray(X)&&(I=I.concat(X))}):Array.isArray(O)?I=O:Array.isArray(O==null?void 0:O.data)?I=O.data:Array.isArray(O==null?void 0:O.bookings)?I=O.bookings:O!=null&&O.data&&Array.isArray(O.data)&&(I=O.data),a(I)}catch(O){d(O.message||"Failed to fetch bookings")}finally{o(!1)}}},V=s.filter(O=>u==="all"?!0:O.status===u),q=O=>{switch(O){case"completed":return"bg-green-100 text-green-800";case"accepted":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-purple-100 text-purple-800";case"pending":return"bg-yellow-100 text-yellow-800";case"paused":return"bg-orange-100 text-orange-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-slate-100 text-slate-800"}},Z=O=>{switch(O){case"completed":return r.jsx(It,{});case"accepted":case"in_progress":return r.jsx(Hs,{});case"paused":return r.jsx(ik,{});case"rejected":return r.jsx(Sc,{});default:return r.jsx(Bs,{})}},ue=async(O,I)=>{if(!(!e||!I)){h(O);try{const X=await gt.assignBookingToTeamMember(e,O,I);X.success?(await A(),alert("Team member assigned successfully!")):alert(X.message||"Failed to assign team member")}catch(X){console.error("Failed to assign team member:",X),alert(X.message||"Failed to assign team member")}finally{h(null)}}},me=async(O,I)=>{try{const X=await gt.completeJob(e,O,I);if(X.success)await A(),alert("Job completed successfully!");else throw new Error(X.message||"Failed to complete job")}catch(X){throw console.error("Failed to complete job:",X),X}},Q=async(O,I)=>{try{const X=await gt.pauseJob(e,O,I);if(X.success)await A(),alert("Job paused successfully!");else throw new Error(X.message||"Failed to pause job")}catch(X){throw console.error("Failed to pause job:",X),X}},ae=async O=>{if(window.confirm("Are you sure you want to continue this job?"))try{const I=await gt.resumeJob(e,O);if(I.success)await A(),alert("Job continued successfully!");else throw new Error(I.message||"Failed to resume job")}catch(I){console.error("Failed to resume job:",I),alert(I.message||"Failed to resume job")}},oe=async(O,I)=>{try{const X=await gt.createQuotation(e,O,I);if(X.success){const W=await gt.getQuotationsByBooking(e,O);W.success&&W.data&&_(T=>({...T,[O]:W.data})),await A(),alert("Quotation sent successfully!")}else throw new Error(X.message||"Failed to create quotation")}catch(X){throw console.error("Failed to create quotation:",X),X}};if(l)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})});const R={total:s.length,pending:s.filter(O=>O.status==="pending").length,accepted:s.filter(O=>O.status==="accepted").length,in_progress:s.filter(O=>O.status==="in_progress").length,paused:s.filter(O=>O.status==="paused").length,completed:s.filter(O=>O.status==="completed").length,rejected:s.filter(O=>O.status==="rejected").length};return r.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Jobs Management"}),r.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage all your service bookings and jobs"})]}),r.jsx("button",{onClick:A,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:r.jsx(Gt,{className:"text-lg sm:text-xl text-slate-600"})})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[r.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total Jobs"}),r.jsx("p",{className:"text-2xl font-bold text-slate-800",children:R.total})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[r.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:R.pending})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[r.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Accepted"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R.accepted})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[r.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:R.completed})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:[r.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Rejected"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:R.rejected})]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-4 border border-slate-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-wrap",children:[r.jsx(Fg,{className:"text-slate-600 hidden sm:block"}),["all","pending","accepted","in_progress","paused","completed","rejected"].map(O=>r.jsx("button",{onClick:()=>m(O),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold transition ${u===O?"bg-primary text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:O.charAt(0).toUpperCase()+O.slice(1)},O))]}),r.jsxs("button",{onClick:()=>{const O=V.map(I=>{var X,W,T,L,D,M;return{"Booking ID":((X=I._id)==null?void 0:X.toString().slice(-8))||"N/A","Customer Name":((W=I.user)==null?void 0:W.name)||"N/A","Customer Phone":((T=I.user)==null?void 0:T.phone)||"N/A",Service:((L=I.subService)==null?void 0:L.name)||"N/A","Amount ()":I.amount||0,Status:I.status||"N/A","Scheduled Date":I.scheduledDate?new Date(I.scheduledDate).toLocaleDateString("en-IN"):"N/A","Scheduled Time":I.scheduledTime||"N/A",Location:((D=I.location)==null?void 0:D.address)||"N/A","Team Member":((M=I.teamMember)==null?void 0:M.name)||"Not Assigned","Created At":I.createdAt?new Date(I.createdAt).toLocaleString("en-IN"):"N/A"}});Do(O,[{header:"Booking ID",accessor:"Booking ID"},{header:"Customer Name",accessor:"Customer Name"},{header:"Customer Phone",accessor:"Customer Phone"},{header:"Service",accessor:"Service"},{header:"Amount ()",accessor:"Amount ()"},{header:"Status",accessor:"Status"},{header:"Scheduled Date",accessor:"Scheduled Date"},{header:"Scheduled Time",accessor:"Scheduled Time"},{header:"Location",accessor:"Location"},{header:"Team Member",accessor:"Team Member"},{header:"Created At",accessor:"Created At"}],"Jobs_Management","Jobs",{columnWidths:[15,20,15,25,15,12,15,12,30,20,20]})},disabled:V.length===0,className:"px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-semibold bg-primary text-white hover:bg-primary-dark transition inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed self-start sm:self-auto",title:"Export to Excel",children:[r.jsx(si,{})," ",r.jsx("span",{className:"hidden sm:inline",children:"Export Excel"}),r.jsx("span",{className:"sm:hidden",children:"Export"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden",children:c?r.jsx("div",{className:"p-6 text-center text-red-600",children:c}):V.length===0?r.jsxs("div",{className:"p-12 text-center text-slate-500",children:[r.jsx(Bs,{className:"text-4xl mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No bookings found"})]}):r.jsx("div",{className:"divide-y divide-slate-200",children:V.map((O,I)=>{var X,W,T,L,D,M,z;return r.jsxs("div",{className:"p-4 sm:p-6 hover:bg-slate-50 transition",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4 mb-3 sm:mb-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[r.jsx("h3",{className:"text-base sm:text-lg font-bold text-slate-800 truncate",children:((X=O.service)==null?void 0:X.name)||O.serviceName||"Service Booking"}),r.jsxs("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 w-fit ${q(O.status)}`,children:[Z(O.status),((W=O.status)==null?void 0:W.charAt(0).toUpperCase())+((T=O.status)==null?void 0:T.slice(1))||"Unknown"]})]}),r.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:["Booking ID: ",O.bookingId||O._id||"N/A"]}),r.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[O.user&&r.jsxs("p",{className:"text-sm text-slate-600",children:["Customer: ",((L=O.user)==null?void 0:L.name)||O.userName||"N/A"]}),O.teamMember&&r.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-semibold flex items-center gap-1",children:[r.jsx(Ws,{className:"text-xs"}),"Team: ",((D=O.teamMember)==null?void 0:D.name)||"Team Member"]})]}),!O.teamMember&&(O.status==="accepted"||O.status==="in_progress")&&n.length>0&&r.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[r.jsxs("select",{onChange:se=>{se.target.value&&(ue(O._id||O.bookingId,se.target.value),se.target.value="")},disabled:f===(O._id||O.bookingId),className:"px-3 py-1.5 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white",children:[r.jsx("option",{value:"",children:"Assign to Team Member..."}),n.filter(se=>se.status==="active").map(se=>r.jsxs("option",{value:se._id||se.id,children:[se.name," (",se.role||"technician",")"]},se._id||se.id))]}),f===(O._id||O.bookingId)&&r.jsx("span",{className:"text-xs text-slate-500",children:"Assigning..."})]})]}),r.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[r.jsxs("p",{className:"text-lg sm:text-xl font-bold text-primary",children:["",((M=O.totalAmount)==null?void 0:M.toLocaleString("en-IN"))||((z=O.amount)==null?void 0:z.toLocaleString("en-IN"))||0]}),r.jsx("p",{className:"text-xs sm:text-sm text-slate-500",children:O.createdAt?new Date(O.createdAt).toLocaleDateString("en-IN"):"N/A"}),r.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[r.jsxs("button",{onClick:()=>p({data:O,type:"booking"}),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-primary/10 text-primary rounded-lg text-xs sm:text-sm font-semibold hover:bg-primary/20 transition inline-flex items-center gap-1 sm:gap-2",children:[r.jsx(Vt,{})," ",r.jsx("span",{className:"hidden sm:inline",children:"Invoice"})]}),O.status==="paused"&&r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("button",{onClick:()=>ae(O._id||O.bookingId),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-green-500 text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-green-600 transition inline-flex items-center gap-1 sm:gap-2",children:[r.jsx(Gq,{})," ",r.jsx("span",{className:"hidden sm:inline",children:"Continue Job"}),r.jsx("span",{className:"sm:hidden",children:"Continue"})]}),O.pauseDetails&&r.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[r.jsxs("p",{children:["Resume: ",O.pauseDetails.nextScheduledDate?new Date(O.pauseDetails.nextScheduledDate).toLocaleDateString():"N/A"," ",O.pauseDetails.nextScheduledTime||""]}),O.pauseDetails.pauseReason&&r.jsxs("p",{className:"text-slate-500",children:["Reason: ",O.pauseDetails.pauseReason]})]})]}),(O.status==="accepted"||O.status==="in_progress")&&r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs("button",{onClick:()=>j(O),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-green-500 text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-green-600 transition inline-flex items-center gap-1 sm:gap-2",children:[r.jsx(It,{})," ",r.jsx("span",{className:"hidden sm:inline",children:"Complete"}),r.jsx("span",{className:"sm:hidden",children:"Complete"})]}),r.jsxs("button",{onClick:()=>y(O),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-yellow-500 text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-yellow-600 transition inline-flex items-center gap-1 sm:gap-2",children:[r.jsx(ik,{})," ",r.jsx("span",{className:"hidden sm:inline",children:"Pause"}),r.jsx("span",{className:"sm:hidden",children:"Pause"})]}),r.jsxs("button",{onClick:()=>N(O),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-blue-500 text-white rounded-lg text-xs sm:text-sm font-semibold hover:bg-blue-600 transition inline-flex items-center gap-1 sm:gap-2",children:[r.jsx(Qt,{})," ",r.jsx("span",{className:"hidden sm:inline",children:"Send Quote"}),r.jsx("span",{className:"sm:hidden",children:"Quote"})]})]})]})]})]}),O.address&&r.jsx("div",{className:"mt-4 p-3 bg-slate-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-slate-600",children:[r.jsx("strong",{children:"Address:"})," ",O.address]})}),P[O._id||O.bookingId]&&P[O._id||O.bookingId].length>0&&r.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsxs("p",{className:"text-sm font-semibold text-blue-800",children:[r.jsx(Qt,{className:"inline mr-1"}),"Quotations (",P[O._id||O.bookingId].length,")"]})}),r.jsx("div",{className:"space-y-2",children:P[O._id||O.bookingId].map(se=>{var ne;return r.jsxs("div",{className:"bg-white rounded-lg p-2 flex items-center justify-between cursor-pointer hover:bg-blue-100 transition",onClick:()=>S(se),children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"text-xs font-semibold text-slate-800",children:["#",se.quotationNumber," - ",((ne=se.totalAmount)==null?void 0:ne.toFixed(2))||"0.00"]}),r.jsxs("div",{className:"flex gap-2 mt-1",children:[r.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-semibold ${se.customerStatus==="accepted"?"bg-green-100 text-green-800":se.customerStatus==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:["Customer: ",se.customerStatus]}),r.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-semibold ${se.adminStatus==="accepted"?"bg-green-100 text-green-800":se.adminStatus==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:["Admin: ",se.adminStatus]})]})]}),r.jsx(wc,{className:"w-4 h-4 text-blue-600 ml-2"})]},se._id)})})]})]},I)})})}),x&&r.jsx(eb,{data:x.data,type:x.type,onClose:()=>p(null)}),b&&r.jsx(wNe,{booking:b,onClose:()=>j(null),onComplete:me,token:e}),v&&r.jsx(NNe,{booking:v,onClose:()=>y(null),onPause:Q,token:e}),w&&r.jsx(SNe,{booking:w,onClose:()=>N(null),onCreate:oe,token:e}),k&&r.jsx(aB,{quotation:k,onClose:()=>S(null),userType:"partner",token:e})]})},CNe=()=>{var h,x;const{token:e,partner:t}=dn(),[s,a]=g.useState(null),[n,i]=g.useState([]),[l,o]=g.useState(!0),[c,d]=g.useState(null);g.useEffect(()=>{u()},[e]);const u=async()=>{if(e){o(!0),d(null);try{const p=(t==null?void 0:t.partnerType)||null,[b,j]=await Promise.all([gt.getCurrentPlan(e).catch(()=>null),gt.getMGPlans(e,p).catch(()=>null)]);b!=null&&b.data?a(b.data):b&&a(b),j!=null&&j.data?i(j.data):j&&i(Array.isArray(j)?j:[])}catch(p){d(p.message||"Failed to fetch mg plans")}finally{o(!1)}}},m=async p=>{if(e)try{(await gt.subscribeToPlan(e,p)).success&&(alert("Successfully subscribed to plan!"),u())}catch(b){alert(b.message||"Failed to subscribe to plan")}},f=async()=>{if(e)try{(await gt.renewPlan(e)).success&&(alert("Plan renewed successfully!"),u())}catch(p){alert(p.message||"Failed to renew plan")}};return l?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):r.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"MG Plan"}),r.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your mg plans details"})]}),r.jsx("button",{onClick:u,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:r.jsx(Gt,{className:"text-lg sm:text-xl text-slate-600"})})]}),s&&r.jsxs("div",{className:"bg-gradient-to-br from-primary to-primary-dark rounded-2xl shadow-xl p-6 sm:p-8 text-white",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 sm:gap-6 mb-4 sm:mb-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Current Plan"}),((h=s.plan)==null?void 0:h.partnerType)&&r.jsx("span",{className:"text-xs px-2 py-1 bg-white/20 rounded-full font-semibold",children:s.plan.partnerType==="individual"?" Individual":s.plan.partnerType==="franchise"?" Franchise":" Both"})]}),r.jsx("p",{className:"text-sm sm:text-base text-white/80",children:((x=s.plan)==null?void 0:x.name)||s.name||"MG Plan"})]}),r.jsx("div",{className:"bg-white/20 p-3 sm:p-4 rounded-xl self-start sm:self-auto",children:r.jsx(zs,{className:"text-3xl sm:text-4xl"})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[r.jsx("p",{className:"text-sm text-white/80 mb-1",children:"Leads Guaranteed"}),r.jsx("p",{className:"text-2xl font-bold",children:s.leadsGuaranteed||0})]}),r.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[r.jsx("p",{className:"text-sm text-white/80 mb-1",children:"Leads Used"}),r.jsx("p",{className:"text-2xl font-bold",children:s.leadsUsed||0})]}),r.jsxs("div",{className:"bg-white/10 rounded-xl p-4",children:[r.jsx("p",{className:"text-sm text-white/80 mb-1",children:"Leads Remaining"}),r.jsx("p",{className:"text-2xl font-bold",children:s.leadsRemaining||0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"bg-white/10 rounded-xl p-3 sm:p-4",children:[r.jsx("p",{className:"text-xs sm:text-sm text-white/80 mb-1",children:"Lead Fee"}),r.jsxs("p",{className:"text-lg sm:text-xl font-bold",children:["",s.leadFee||0]})]}),r.jsxs("div",{className:"bg-white/10 rounded-xl p-3 sm:p-4",children:[r.jsx("p",{className:"text-xs sm:text-sm text-white/80 mb-1",children:"Commission"}),r.jsxs("p",{className:"text-lg sm:text-xl font-bold",children:[s.commission||0,"%"]})]})]}),s.expiresAt&&r.jsxs("div",{className:"bg-white/10 rounded-xl p-3 sm:p-4 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Hc,{className:"text-lg sm:text-xl"}),r.jsx("p",{className:"text-sm sm:text-base font-semibold",children:"Plan Expires"})]}),r.jsx("p",{className:"text-base sm:text-lg",children:new Date(s.expiresAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}),s.daysUntilRenewal!==void 0&&s.daysUntilRenewal<=7&&r.jsx("button",{onClick:f,className:"mt-3 sm:mt-4 w-full py-2 bg-white text-primary rounded-lg text-sm sm:text-base font-semibold hover:bg-white/90 transition",children:"Renew Plan"})]}),s.isExpired&&r.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-xl p-4",children:r.jsx("p",{className:"text-red-100",children:" Your plan has expired. Please renew to continue."})})]}),!s&&r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Available Plans"}),(t==null?void 0:t.partnerType)&&r.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-semibold ${t.partnerType==="individual"?"bg-slate-100 text-slate-700":"bg-purple-100 text-purple-700"}`,children:t.partnerType==="individual"?" Individual":" Franchise"})]}),c?r.jsx("div",{className:"text-center text-red-600 py-8",children:c}):n.length===0?r.jsxs("div",{className:"text-center text-slate-500 py-8",children:[r.jsx(zs,{className:"text-4xl mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No plans available"})]}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:n.map((p,b)=>{var j;return r.jsxs("div",{className:"border-2 border-slate-200 rounded-xl p-4 sm:p-6 hover:border-primary transition",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:p.name||"Plan"}),p.partnerType&&r.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-semibold flex-shrink-0 ${p.partnerType==="individual"?"bg-slate-100 text-slate-700":p.partnerType==="franchise"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:p.partnerType==="individual"?" Individual":p.partnerType==="franchise"?" Franchise":" Both"})]}),r.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-primary mb-3 sm:mb-4",children:["",((j=p.price)==null?void 0:j.toLocaleString("en-IN"))||0]}),r.jsxs("ul",{className:"space-y-2 mb-4 sm:mb-6",children:[r.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-slate-600",children:[r.jsx(Vd,{className:"text-green-600 flex-shrink-0"}),p.leads||0," Leads Guaranteed"]}),r.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-slate-600",children:[r.jsx(Vd,{className:"text-green-600 flex-shrink-0"}),"Lead Fee: ",p.leadFee||0]}),r.jsxs("li",{className:"flex items-center gap-2 text-sm sm:text-base text-slate-600",children:[r.jsx(Vd,{className:"text-green-600 flex-shrink-0"}),"Commission: ",p.commission||0,"%"]})]}),r.jsx("button",{onClick:()=>m(p._id||p.id),className:"w-full py-2.5 sm:py-3 bg-primary text-white rounded-lg text-sm sm:text-base font-semibold hover:bg-primary-dark transition",children:"Subscribe Now"})]},b)})})]})]})},PNe=()=>{const{token:e}=dn(),[t,s]=g.useState([]),[a,n]=g.useState([]),[i,l]=g.useState(!0),[o,c]=g.useState(null),[d,u]=g.useState(""),[m,f]=g.useState("all"),[h,x]=g.useState([]);g.useEffect(()=>{p()},[e,m]);const p=async()=>{if(e){l(!0),c(null);try{if(m!=="all"){const N=await gt.getProductsByCategory(e,m);let k=[];Array.isArray(N)?k=N:Array.isArray(N==null?void 0:N.data)?k=N.data:Array.isArray(N==null?void 0:N.products)&&(k=N.products),s(k)}else{const N=await gt.getCategories(e);let k=[];Array.isArray(N)?k=N:Array.isArray(N==null?void 0:N.data)?k=N.data:Array.isArray(N==null?void 0:N.categories)&&(k=N.categories),x(k),s([])}}catch(N){c(N.message||"Failed to fetch spare parts")}finally{l(!1)}}},b=async N=>{if(e)try{(await gt.addToCart(e,{productId:N._id||N.id,quantity:1})).success&&n([...a,{...N,quantity:1}])}catch(k){alert(k.message||"Failed to add to cart")}},j=(N,k)=>{n(a.map(S=>S._id===N||S.id===N?{...S,quantity:Math.max(1,S.quantity+k)}:S))},v=N=>{n(a.filter(k=>k._id!==N&&k.id!==N))},y=t.filter(N=>{var S,P;return((S=N.name)==null?void 0:S.toLowerCase().includes(d.toLowerCase()))||((P=N.description)==null?void 0:P.toLowerCase().includes(d.toLowerCase()))}),w=a.reduce((N,k)=>N+(k.price||0)*(k.quantity||1),0);return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):r.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Spare Parts"}),r.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Browse and order spare parts for your services"})]}),r.jsx("button",{onClick:p,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:r.jsx(Gt,{className:"text-lg sm:text-xl text-slate-600"})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-4 border border-slate-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(ai,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),r.jsx("input",{type:"text",value:d,onChange:N=>u(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Search spare parts..."})]}),r.jsxs("select",{value:m,onChange:N=>f(N.target.value),className:"px-3 sm:px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",children:[r.jsx("option",{value:"all",children:"All Categories"}),Array.isArray(h)&&h.map((N,k)=>r.jsx("option",{value:N._id||N.id||N.name,children:N.name||"Category"},k))]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:o?r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center text-red-600",children:o}):y.length===0?r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center border border-slate-200",children:[r.jsx(Is,{className:"text-4xl mx-auto mb-2 opacity-50 text-slate-400"}),r.jsx("p",{className:"text-slate-500",children:"No spare parts found"}),r.jsx("p",{className:"text-sm text-slate-400 mt-2",children:m==="all"?"Please select a category to view products":"Try a different category or search term"})]}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:y.map((N,k)=>{var S;return r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200 hover:shadow-lg transition",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-base sm:text-lg font-bold text-slate-800 mb-1 sm:mb-2 truncate",children:N.name||"Spare Part"}),N.description&&r.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mb-2 line-clamp-2",children:N.description})]}),r.jsx("div",{className:"bg-primary/10 p-2 sm:p-3 rounded-lg flex-shrink-0 ml-2",children:r.jsx(Is,{className:"text-primary text-lg sm:text-xl"})})]}),r.jsx("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:r.jsxs("div",{children:[r.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-primary",children:["",((S=N.price)==null?void 0:S.toLocaleString("en-IN"))||0]}),N.stock!==void 0&&r.jsxs("p",{className:"text-xs sm:text-sm text-slate-500",children:["Stock: ",N.stock," ",N.unit||"units"]})]})}),r.jsxs("button",{onClick:()=>b(N),disabled:N.stock===0,className:"w-full py-2 bg-primary text-white rounded-lg text-sm sm:text-base font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r.jsx(Sn,{}),r.jsx("span",{className:"hidden sm:inline",children:N.stock===0?"Out of Stock":"Add to Cart"}),r.jsx("span",{className:"sm:hidden",children:N.stock===0?"Out":"Add"})]})]},k)})})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200 lg:sticky lg:top-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Cart"}),r.jsx(Sn,{className:"text-lg sm:text-xl text-slate-600"})]}),a.length===0?r.jsxs("div",{className:"text-center py-8 text-slate-500",children:[r.jsx(Sn,{className:"text-4xl mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"Your cart is empty"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"space-y-3 mb-4 max-h-96 overflow-y-auto",children:a.map((N,k)=>r.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold text-slate-800 text-sm",children:N.name}),r.jsx("button",{onClick:()=>v(N._id||N.id),className:"text-red-600 hover:text-red-700",children:""})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>j(N._id||N.id,-1),className:"p-1 bg-white rounded border border-slate-300 hover:bg-slate-100",children:r.jsx(i2,{className:"text-xs"})}),r.jsx("span",{className:"px-2 font-semibold",children:N.quantity||1}),r.jsx("button",{onClick:()=>j(N._id||N.id,1),className:"p-1 bg-white rounded border border-slate-300 hover:bg-slate-100",children:r.jsx(Mr,{className:"text-xs"})})]}),r.jsxs("p",{className:"font-bold text-primary",children:["",((N.price||0)*(N.quantity||1)).toLocaleString("en-IN")]})]})]},k))}),r.jsxs("div",{className:"border-t border-slate-200 pt-3 sm:pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[r.jsx("span",{className:"text-base sm:text-lg font-semibold text-slate-800",children:"Total:"}),r.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-primary",children:["",w.toLocaleString("en-IN")]})]}),r.jsx("button",{className:"w-full py-2.5 sm:py-3 bg-primary text-white rounded-lg text-sm sm:text-base font-semibold hover:bg-primary-dark transition",children:"Place Order"})]})]})]})})]})]})},ANe=()=>{const{token:e}=dn(),[t,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState(null),[o,c]=g.useState("all"),[d,u]=g.useState(null);g.useEffect(()=>{m()},[e]);const m=async()=>{if(e){n(!0),l(null);try{const p=await gt.getTransactions(e),b=(p==null?void 0:p.transactions)||(p==null?void 0:p.data)||[];s(b)}catch(p){l(p.message||"Failed to fetch transactions")}finally{n(!1)}}},f=t.filter(p=>o==="all"?!0:p.type===o),h=t.filter(p=>p.type==="credit").reduce((p,b)=>p+(b.amount||0),0),x=t.filter(p=>p.type==="debit").reduce((p,b)=>p+(b.amount||0),0);return a?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):r.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Transactions"}),r.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"View all your wallet transactions"})]}),r.jsx("button",{onClick:m,className:"p-2.5 sm:p-3 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:r.jsx(Gt,{className:"text-lg sm:text-xl text-slate-600"})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-slate-600",children:"Total Credits"}),r.jsx(ur,{className:"text-green-600 text-xl"})]}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",h.toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-slate-600",children:"Total Debits"}),r.jsx(hu,{className:"text-red-600 text-xl"})]}),r.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",x.toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-slate-600",children:"Net Balance"}),r.jsx(ur,{className:"text-primary text-xl"})]}),r.jsxs("p",{className:"text-2xl font-bold text-primary",children:["",(h-x).toLocaleString("en-IN")]})]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-md p-3 sm:p-4 border border-slate-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-wrap",children:[r.jsx(Fg,{className:"text-slate-600 hidden sm:block"}),r.jsx("div",{className:"flex gap-2",children:["all","credit","debit"].map(p=>r.jsx("button",{onClick:()=>c(p),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold transition ${o===p?"bg-primary text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:p.charAt(0).toUpperCase()+p.slice(1)},p))})]}),r.jsxs("button",{onClick:()=>{const p=f.map(b=>{var j,v;return{"Date & Time":b.createdAt?new Date(b.createdAt).toLocaleString("en-IN"):"N/A",Type:((j=b.type)==null?void 0:j.charAt(0).toUpperCase())+((v=b.type)==null?void 0:v.slice(1))||"N/A","Amount ()":b.amount||0,"Balance ()":b.balance||0,Description:b.description||"N/A",Reference:b.reference||"N/A","Transaction ID":b.transactionId||b._id||"N/A"}});Do(p,[{header:"Date & Time",accessor:"Date & Time"},{header:"Type",accessor:"Type"},{header:"Amount ()",accessor:"Amount ()"},{header:"Balance ()",accessor:"Balance ()"},{header:"Description",accessor:"Description"},{header:"Reference",accessor:"Reference"},{header:"Transaction ID",accessor:"Transaction ID"}],"Transactions","Transactions",{columnWidths:[20,12,15,15,30,20,25]})},disabled:f.length===0,className:"px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-semibold bg-primary text-white hover:bg-primary-dark transition inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed self-start sm:self-auto",title:"Export to Excel",children:[r.jsx(si,{})," ",r.jsx("span",{className:"hidden sm:inline",children:"Export Excel"}),r.jsx("span",{className:"sm:hidden",children:"Export"})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-slate-200",children:r.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"All Transactions"})}),i?r.jsx("div",{className:"p-6 text-center text-red-600",children:i}):f.length===0?r.jsxs("div",{className:"p-12 text-center text-slate-500",children:[r.jsx(ur,{className:"text-4xl mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No transactions found"})]}):r.jsx("div",{className:"divide-y divide-slate-200",children:f.map((p,b)=>{var j,v;return r.jsxs("div",{className:"p-4 sm:p-6 hover:bg-slate-50 transition flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[r.jsx("div",{className:`p-2 sm:p-3 rounded-lg flex-shrink-0 ${p.type==="credit"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:p.type==="credit"?r.jsx(ur,{className:"text-lg sm:text-xl"}):r.jsx(hu,{className:"text-lg sm:text-xl"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[r.jsx("p",{className:"font-semibold text-slate-800 text-sm sm:text-base truncate",children:p.description||"Transaction"}),p.teamMember&&r.jsxs("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded text-xs font-semibold flex items-center gap-1",children:[r.jsx(Ws,{className:"text-xs"}),p.teamMember.name]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 mt-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-slate-500",children:p.createdAt?new Date(p.createdAt).toLocaleString("en-IN"):p.timestamp?new Date(p.timestamp).toLocaleString("en-IN"):"N/A"}),p.transactionId&&r.jsxs("p",{className:"text-xs text-slate-400",children:["ID: ",p.transactionId]})]})]})]}),r.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[r.jsxs("p",{className:`text-lg sm:text-xl font-bold ${p.type==="credit"?"text-green-600":"text-red-600"}`,children:[p.type==="credit"?"+":"-","",((j=p.amount)==null?void 0:j.toLocaleString("en-IN"))||0]}),r.jsxs("p",{className:"text-xs sm:text-sm text-slate-500",children:["Balance: ",((v=p.balance)==null?void 0:v.toLocaleString("en-IN"))||0]}),r.jsxs("button",{onClick:()=>u({data:p,type:"transaction"}),className:"mt-2 px-2 sm:px-3 py-1 sm:py-1.5 bg-primary/10 text-primary rounded-lg text-xs sm:text-sm font-semibold hover:bg-primary/20 transition inline-flex items-center gap-1 sm:gap-2",children:[r.jsx(Vt,{})," ",r.jsx("span",{className:"hidden sm:inline",children:"Invoice"})]})]})]},b)})})]}),d&&r.jsx(eb,{data:d.data,type:d.type,onClose:()=>u(null)})]})},TNe=()=>{var P,_,C;const{partner:e,token:t}=dn(),a=((e==null?void 0:e.partnerType)||"individual")==="franchise",[n,i]=g.useState({walletBalance:0,totalJobs:0,completedJobs:0,pendingJobs:0,totalEarnings:0,teamMembers:0}),[l,o]=g.useState(!0),[c,d]=g.useState({monthlyJobs:[],monthlyEarnings:[],statusDistribution:[],transactionTrend:[]}),[u,m]=g.useState([]),[f,h]=g.useState([]),[x,p]=g.useState(null);g.useEffect(()=>{(async()=>{var V,q,Z;if(t)try{const ue=await gt.getWallet(t),me=((V=ue==null?void 0:ue.data)==null?void 0:V.balance)||((q=ue==null?void 0:ue.success)==null?void 0:q.balance)||0,Q=((Z=ue==null?void 0:ue.data)==null?void 0:Z.transactions)||(ue==null?void 0:ue.transactions)||[],ae=await gt.getBookings(t);let oe=[];ae!=null&&ae.bookings?Object.values(ae.bookings).forEach(Pe=>{Array.isArray(Pe)&&(oe=oe.concat(Pe))}):Array.isArray(ae)?oe=ae:Array.isArray(ae==null?void 0:ae.data)?oe=ae.data:Array.isArray(ae==null?void 0:ae.bookings)&&(oe=ae.bookings);const R=oe.length,O=oe.filter(Pe=>(Pe==null?void 0:Pe.status)==="completed").length,I=oe.filter(Pe=>["pending","accepted","in_progress"].includes(Pe==null?void 0:Pe.status)).length;let X=0;if(a)try{const Pe=await gt.getTeamMembers(t),dt=(Pe==null?void 0:Pe.data)||Pe||[];X=Array.isArray(dt)?dt.filter($e=>$e.status==="active").length:0}catch(Pe){console.error("Error fetching team members:",Pe)}const W=oe.filter(Pe=>(Pe==null?void 0:Pe.status)==="completed").reduce((Pe,dt)=>Pe+((dt==null?void 0:dt.amount)||(dt==null?void 0:dt.totalAmount)||0),0);i({walletBalance:me,totalJobs:R,completedJobs:O,pendingJobs:I,totalEarnings:W,teamMembers:X});const T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],L=new Date,D={},M={};for(let Pe=5;Pe>=0;Pe--){const dt=new Date(L.getFullYear(),L.getMonth()-Pe,1),$e=`${dt.getFullYear()}-${dt.getMonth()+1}`;D[$e]={month:T[dt.getMonth()],jobs:0,earnings:0},M[$e]={month:T[dt.getMonth()],earnings:0}}oe.forEach(Pe=>{if(Pe.createdAt){const dt=new Date(Pe.createdAt),$e=`${dt.getFullYear()}-${dt.getMonth()+1}`;D[$e]&&(D[$e].jobs++,Pe.status==="completed"&&(D[$e].earnings+=Pe.amount||Pe.totalAmount||0,M[$e].earnings+=Pe.amount||Pe.totalAmount||0))}});const z=Object.values(D),se=Object.values(M),ne={completed:oe.filter(Pe=>(Pe==null?void 0:Pe.status)==="completed").length,pending:oe.filter(Pe=>(Pe==null?void 0:Pe.status)==="pending").length,accepted:oe.filter(Pe=>(Pe==null?void 0:Pe.status)==="accepted").length,in_progress:oe.filter(Pe=>(Pe==null?void 0:Pe.status)==="in_progress").length,rejected:oe.filter(Pe=>(Pe==null?void 0:Pe.status)==="rejected").length},te=[{name:"Completed",value:ne.completed,color:"#10b981"},{name:"Pending",value:ne.pending,color:"#f59e0b"},{name:"Accepted",value:ne.accepted,color:"#3b82f6"},{name:"In Progress",value:ne.in_progress,color:"#8b5cf6"},{name:"Rejected",value:ne.rejected,color:"#ef4444"}].filter(Pe=>Pe.value>0),Re={},Ce=new Date;Ce.setDate(Ce.getDate()-30);for(let Pe=29;Pe>=0;Pe--){const dt=new Date;dt.setDate(dt.getDate()-Pe);const $e=dt.toISOString().split("T")[0];Re[$e]={date:dt.toLocaleDateString("en-IN",{month:"short",day:"numeric"}),credit:0,debit:0}}Q.forEach(Pe=>{if(Pe.createdAt||Pe.timestamp){const dt=new Date(Pe.createdAt||Pe.timestamp);if(dt>=Ce){const $e=dt.toISOString().split("T")[0];Re[$e]&&(Pe.type==="credit"?Re[$e].credit+=Pe.amount||0:Pe.type==="debit"&&(Re[$e].debit+=Pe.amount||0))}}});const Je=Object.values(Re),Ge=oe.sort((Pe,dt)=>new Date(dt.createdAt||dt.updatedAt)-new Date(Pe.createdAt||Pe.updatedAt)).slice(0,5),Le=Q.sort((Pe,dt)=>new Date(dt.createdAt||dt.timestamp)-new Date(Pe.createdAt||Pe.timestamp)).slice(0,5),mt=oe.filter(Pe=>Pe.status==="accepted"&&Pe.createdAt&&(Pe.acceptedAt||Pe.updatedAt));let Tt=null;if(mt.length>0){const Pe=mt.map(Qe=>{const Xe=new Date(Qe.createdAt);return new Date(Qe.acceptedAt||Qe.updatedAt)-Xe}),dt=Pe.reduce((Qe,Xe)=>Qe+Xe,0)/Pe.length,$e=dt/(1e3*60*60);if($e<1){const Qe=dt/6e4;Tt=`${Math.round(Qe)}m`}else Tt=`${$e.toFixed(1)}h`}d({monthlyJobs:z,monthlyEarnings:se,statusDistribution:te,transactionTrend:Je}),m(Ge),h(Le),p(Tt)}catch(ue){console.error("Error fetching stats:",ue)}finally{o(!1)}})()},[t,a]);const b=({percentage:A,size:V=80,strokeWidth:q=8,color:Z,children:ue})=>{const me=(V-q)/2,Q=me*2*Math.PI,ae=Q-A/100*Q,oe={blue:{stroke:"#3b82f6",text:"text-blue-600"},green:{stroke:"#10b981",text:"text-green-600"},purple:{stroke:"#8b5cf6",text:"text-purple-600"},emerald:{stroke:"#10b981",text:"text-emerald-600"},orange:{stroke:"#f59e0b",text:"text-orange-600"},indigo:{stroke:"#6366f1",text:"text-indigo-600"}},R=oe[Z]||oe.blue;return r.jsxs("div",{className:"relative",style:{width:V,height:V},children:[r.jsxs("svg",{width:V,height:V,className:"transform -rotate-90",children:[r.jsx("circle",{cx:V/2,cy:V/2,r:me,stroke:"#e2e8f0",strokeWidth:q,fill:"none"}),r.jsx("circle",{cx:V/2,cy:V/2,r:me,stroke:R.stroke,strokeWidth:q,fill:"none",strokeDasharray:Q,strokeDashoffset:ae,strokeLinecap:"round",className:"transition-all duration-1000 ease-out",style:{transition:"stroke-dashoffset 1s ease-out"}})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("div",{className:"text-center",children:ue})})]})},j=n.totalJobs>0?Math.round(n.completedJobs/n.totalJobs*100):0,v=n.totalJobs>0?Math.round(n.pendingJobs/n.totalJobs*100):0,y=Math.min(Math.round(n.walletBalance/1e5*100),100),w=Math.min(Math.round(n.teamMembers/10*100),100),N=Math.min(Math.round(n.totalEarnings/1e5*100),100),S=[{label:"Wallet Balance",value:`${n.walletBalance.toLocaleString("en-IN")}`,icon:Qt,color:"blue",bgColor:"bg-blue-500",link:"/partner/dashboard/wallet",percentage:y,subtitle:"Balance"},{label:"Total Jobs",value:n.totalJobs,icon:Bs,color:"green",bgColor:"bg-green-500",link:"/partner/dashboard/jobs",percentage:j,subtitle:`${j}% completed`},{label:"Completed Jobs",value:n.completedJobs,icon:ur,color:"purple",bgColor:"bg-purple-500",link:"/partner/dashboard/jobs",percentage:j,subtitle:"Success rate"},{label:"Total Earnings",value:`${n.totalEarnings.toLocaleString("en-IN")}`,icon:Qt,color:"emerald",bgColor:"bg-emerald-500",link:"/partner/dashboard/jobs",percentage:N,subtitle:"Total revenue"},{label:"Pending Jobs",value:n.pendingJobs,icon:Bs,color:"orange",bgColor:"bg-orange-500",link:"/partner/dashboard/jobs",percentage:v,subtitle:`${v}% pending`},{label:"Team Members",value:n.teamMembers,icon:sa,color:"indigo",bgColor:"bg-indigo-500",link:"/partner/dashboard/team",percentage:w,subtitle:"Active members",showOnlyForFranchise:!0}].filter(A=>!A.showOnlyForFranchise||a);return l?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):r.jsxs("div",{className:"space-y-4 sm:space-y-6 px-2 sm:px-0",children:[r.jsxs("div",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-transparent rounded-xl p-4 sm:p-6 border border-primary/20 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-primary/5 rounded-full -mr-20 -mt-20"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-primary/5 rounded-full -ml-16 -mb-16"}),r.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2 flex items-center gap-2",children:[r.jsx("span",{children:"Dashboard Overview"}),r.jsx("span",{className:"text-lg sm:text-xl",children:""})]}),r.jsxs("p",{className:"text-sm sm:text-base text-slate-600",children:["Welcome back, ",r.jsx("span",{className:"font-semibold text-primary",children:((P=e==null?void 0:e.profile)==null?void 0:P.name)||(e==null?void 0:e.name)||"Partner"}),"! "]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsxs("span",{className:"text-slate-600",children:[r.jsxs("span",{className:"font-semibold text-slate-800",children:[j,"%"]})," completion rate"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsxs("span",{className:"text-slate-600",children:[r.jsx("span",{className:"font-semibold text-slate-800",children:n.totalJobs})," total jobs"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[r.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),r.jsxs("span",{className:"text-slate-600",children:[r.jsxs("span",{className:"font-semibold text-slate-800",children:["",n.totalEarnings.toLocaleString("en-IN")]})," earned"]})]})]})]}),r.jsxs("div",{className:"text-xs sm:text-sm text-slate-500 bg-white/80 backdrop-blur-sm px-4 py-2 rounded-lg shadow-sm border border-slate-200",children:[r.jsx("div",{className:"font-medium text-slate-700 mb-0.5",children:"Today"}),new Date().toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:S.map((A,V)=>{const q=A.icon;return r.jsxs(Wt,{to:A.link,className:"bg-white rounded-xl shadow-md hover:shadow-2xl transition-all duration-300 p-4 sm:p-6 border border-slate-200 hover:border-primary/50 group transform hover:-translate-y-1 relative overflow-hidden",children:[r.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 bg-gradient-to-br ${A.bgColor} opacity-5 rounded-full -mr-12 -mt-12 group-hover:opacity-10 transition-opacity`}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:`${A.bgColor} p-2.5 sm:p-3 rounded-xl text-white shadow-lg group-hover:scale-110 transition-transform duration-300`,children:r.jsx(q,{className:"text-lg sm:text-xl"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-xs sm:text-sm font-medium text-slate-600 mb-0.5",children:A.label}),A.subtitle&&r.jsx("p",{className:"text-xs text-slate-400",children:A.subtitle})]})]}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-slate-800 group-hover:text-primary transition-colors mb-4",children:A.value})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx(b,{percentage:A.percentage,size:70,strokeWidth:6,color:A.color,children:r.jsxs("span",{className:`text-xs sm:text-sm font-bold ${A.color==="blue"?"text-blue-600":A.color==="green"?"text-green-600":A.color==="purple"?"text-purple-600":A.color==="emerald"?"text-emerald-600":A.color==="orange"?"text-orange-600":"text-indigo-600"}`,children:[A.percentage,"%"]})})})]}),r.jsx("div",{className:"mt-4 h-1 bg-slate-100 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full ${A.bgColor} rounded-full transition-all duration-1000 ease-out`,style:{width:`${A.percentage}%`}})})]})]},V)})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-blue-500/10 transition-colors"}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Bs,{className:"text-blue-600 text-lg"})}),r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Monthly Jobs Trend"})]}),r.jsx(xi,{width:"100%",height:250,children:r.jsxs(dF,{data:c.monthlyJobs,children:[r.jsx(uc,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),r.jsx(hc,{dataKey:"month",stroke:"#64748b"}),r.jsx(fc,{stroke:"#64748b"}),r.jsx(yi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),r.jsx(qd,{}),r.jsx(Z4,{dataKey:"jobs",fill:"#3b82f6",name:"Jobs",radius:[8,8,0,0]})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-purple-500/10 transition-colors"}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(ur,{className:"text-purple-600 text-lg"})}),r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Jobs Status Distribution"})]}),c.statusDistribution.length>0?r.jsx(xi,{width:"100%",height:250,children:r.jsxs(Bx,{children:[r.jsx(Rh,{data:c.statusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:A,percent:V})=>`${A}: ${(V*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:c.statusDistribution.map((A,V)=>r.jsx(vo,{fill:A.color},`cell-${V}`))}),r.jsx(yi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] text-slate-400",children:[r.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mb-3",children:r.jsx(ur,{className:"text-2xl text-purple-400"})}),r.jsx("p",{className:"text-sm font-medium text-slate-500",children:"No data available"}),r.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Start completing jobs to see statistics"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-green-500/10 transition-colors"}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(Qt,{className:"text-green-600 text-lg"})}),r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Monthly Earnings Trend"})]}),r.jsx(xi,{width:"100%",height:250,children:r.jsxs(pxe,{data:c.monthlyEarnings,children:[r.jsx(uc,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),r.jsx(hc,{dataKey:"month",stroke:"#64748b"}),r.jsx(fc,{stroke:"#64748b"}),r.jsx(yi,{formatter:A=>`${A.toLocaleString("en-IN")}`,contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),r.jsx(qd,{}),r.jsx(zL,{type:"monotone",dataKey:"earnings",stroke:"#10b981",strokeWidth:3,name:"Earnings ()",dot:{fill:"#10b981",r:4},activeDot:{r:6}})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-orange-500/10 transition-colors"}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:r.jsx(ur,{className:"text-orange-600 text-lg"})}),r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Transaction Trend (Last 30 Days)"})]}),c.transactionTrend.length>0?r.jsx(xi,{width:"100%",height:250,children:r.jsxs(c3,{data:c.transactionTrend,children:[r.jsx(uc,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),r.jsx(hc,{dataKey:"date",angle:-45,textAnchor:"end",height:80,stroke:"#64748b"}),r.jsx(fc,{stroke:"#64748b"}),r.jsx(yi,{formatter:A=>`${A.toLocaleString("en-IN")}`,contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),r.jsx(qd,{}),r.jsx($h,{type:"monotone",dataKey:"credit",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Credits"}),r.jsx($h,{type:"monotone",dataKey:"debit",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Debits"})]})}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] text-slate-400",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mb-3",children:r.jsx(ur,{className:"text-2xl text-orange-400"})}),r.jsx("p",{className:"text-sm font-medium text-slate-500",children:"No transaction data"}),r.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Transactions will appear here"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/5 to-primary/10 rounded-full -mr-16 -mt-16"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-2 bg-gradient-to-br from-primary to-primary-dark rounded-lg",children:r.jsx(Wd,{className:"text-white text-lg"})}),r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Performance Insights"})]})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 border border-blue-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-medium text-blue-700",children:"Avg Response Time"}),r.jsx(Hs,{className:"text-blue-600 text-sm"})]}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:x||"0h"}),r.jsx("p",{className:"text-xs text-blue-600 mt-1",children:x?"Based on accepted jobs":"No accepted jobs yet"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl p-4 border border-emerald-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-medium text-emerald-700",children:"Success Rate"}),r.jsx(Ya,{className:"text-emerald-600 text-sm"})]}),r.jsxs("p",{className:"text-2xl font-bold text-emerald-900",children:[j,"%"]}),r.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:[n.completedJobs," completed"]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4 border border-purple-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-medium text-purple-700",children:"Monthly Growth"}),r.jsx(ur,{className:"text-purple-600 text-sm"})]}),r.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[c.monthlyJobs.length>1?Math.round((((_=c.monthlyJobs[c.monthlyJobs.length-1])==null?void 0:_.jobs)||0)/Math.max(((C=c.monthlyJobs[c.monthlyJobs.length-2])==null?void 0:C.jobs)||1,1)*100):0,"%"]}),r.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"vs last month"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-4 border border-orange-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-medium text-orange-700",children:"Active Jobs"}),r.jsx(nc,{className:"text-orange-600 text-sm"})]}),r.jsx("p",{className:"text-2xl font-bold text-orange-900",children:n.pendingJobs}),r.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"In progress"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-purple-500/5 rounded-full -mr-12 -mt-12"}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(nc,{className:"text-purple-600 text-lg"})}),r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Recent Activity"})]}),r.jsx(Wt,{to:"/partner/dashboard/jobs",className:"text-xs text-primary hover:underline",children:"View all"})]}),r.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:u.length>0?u.map((A,V)=>{const q={completed:"bg-green-100 text-green-700 border-green-200",pending:"bg-yellow-100 text-yellow-700 border-yellow-200",accepted:"bg-blue-100 text-blue-700 border-blue-200",in_progress:"bg-purple-100 text-purple-700 border-purple-200",rejected:"bg-red-100 text-red-700 border-red-200"},Z=q[A.status]||q.pending;return r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[r.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${A.status==="completed"?"bg-green-500":A.status==="in_progress"?"bg-purple-500":"bg-yellow-500"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-800 truncate",children:A.serviceName||A.serviceCategory||"Service"}),r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full border ${Z} font-medium`,children:A.status||"pending"})]}),r.jsxs("p",{className:"text-xs text-slate-600 mb-1",children:["",(A.amount||A.totalAmount||0).toLocaleString("en-IN")]}),r.jsx("p",{className:"text-xs text-slate-400",children:A.createdAt?new Date(A.createdAt).toLocaleDateString("en-IN",{month:"short",day:"numeric"}):"Recently"})]})]},V)}):r.jsxs("div",{className:"text-center py-8 text-slate-400",children:[r.jsx(Bs,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:"No recent activity"})]})})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-primary/5 rounded-full -mr-20 -mt-20"}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"p-2 bg-gradient-to-br from-primary to-primary-dark rounded-lg",children:r.jsx(Wd,{className:"text-white text-lg"})}),r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Quick Actions"})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[r.jsxs(Wt,{to:"/partner/dashboard/wallet",className:"group p-4 sm:p-5 bg-gradient-to-br from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 rounded-xl transition-all duration-300 text-center transform hover:-translate-y-1 hover:shadow-lg relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-blue-500/10 rounded-full -mr-8 -mt-8 group-hover:bg-blue-500/20 transition-colors"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"bg-blue-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform shadow-lg",children:r.jsx(Qt,{className:"text-xl sm:text-2xl text-white"})}),r.jsx("p",{className:"text-xs sm:text-sm font-semibold text-blue-800",children:"View Wallet"})]})]}),r.jsxs(Wt,{to:"/partner/dashboard/jobs",className:"group p-4 sm:p-5 bg-gradient-to-br from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 rounded-xl transition-all duration-300 text-center transform hover:-translate-y-1 hover:shadow-lg relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-green-500/10 rounded-full -mr-8 -mt-8 group-hover:bg-green-500/20 transition-colors"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"bg-green-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform shadow-lg",children:r.jsx(Bs,{className:"text-xl sm:text-2xl text-white"})}),r.jsx("p",{className:"text-xs sm:text-sm font-semibold text-green-800",children:"Manage Jobs"})]})]}),r.jsxs(Wt,{to:"/partner/dashboard/spare-parts",className:"group p-4 sm:p-5 bg-gradient-to-br from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200 rounded-xl transition-all duration-300 text-center transform hover:-translate-y-1 hover:shadow-lg relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-purple-500/10 rounded-full -mr-8 -mt-8 group-hover:bg-purple-500/20 transition-colors"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"bg-purple-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform shadow-lg",children:r.jsx(Is,{className:"text-xl sm:text-2xl text-white"})}),r.jsx("p",{className:"text-xs sm:text-sm font-semibold text-purple-800",children:"Spare Parts"})]})]}),r.jsxs(Wt,{to:"/partner/dashboard/transactions",className:"group p-4 sm:p-5 bg-gradient-to-br from-orange-50 to-orange-100 hover:from-orange-100 hover:to-orange-200 rounded-xl transition-all duration-300 text-center transform hover:-translate-y-1 hover:shadow-lg relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-orange-500/10 rounded-full -mr-8 -mt-8 group-hover:bg-orange-500/20 transition-colors"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"bg-orange-500 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform shadow-lg",children:r.jsx(ur,{className:"text-xl sm:text-2xl text-white"})}),r.jsx("p",{className:"text-xs sm:text-sm font-semibold text-orange-800",children:"Transactions"})]})]})]})]})]}),f.length>0&&r.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 p-4 sm:p-6 border border-slate-200 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full -mr-16 -mt-16"}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:r.jsx(zs,{className:"text-emerald-600 text-lg"})}),r.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Recent Transactions"})]}),r.jsxs(Wt,{to:"/partner/dashboard/transactions",className:"text-xs text-primary hover:underline flex items-center gap-1",children:["View all ",r.jsx(wi,{className:"text-xs"})]})]}),r.jsx("div",{className:"space-y-2",children:f.slice(0,3).map((A,V)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${A.type==="credit"?"bg-green-100":"bg-red-100"}`,children:A.type==="credit"?r.jsx(ur,{className:`text-lg ${A.type==="credit"?"text-green-600":"text-red-600"}`}):r.jsx(ur,{className:`text-lg rotate-180 ${A.type==="credit"?"text-green-600":"text-red-600"}`})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-800",children:A.description||A.type==="credit"?"Credit":"Debit"}),r.jsx("p",{className:"text-xs text-slate-500",children:A.createdAt?new Date(A.createdAt).toLocaleDateString("en-IN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Recently"})]})]}),r.jsxs("div",{className:`text-sm font-bold ${A.type==="credit"?"text-green-600":"text-red-600"}`,children:[A.type==="credit"?"+":"-","",(A.amount||0).toLocaleString("en-IN")]})]},V))})]})]})]})},ENe=()=>{var er,we,F,fe,lt,Nt;const{partner:e,token:t,updatePartner:s}=dn(),[a,n]=g.useState(null),[i,l]=g.useState(!0),[o,c]=g.useState(!1),[d,u]=g.useState(!1),[m,f]=g.useState(!1),[h,x]=g.useState(!1),[p,b]=g.useState({name:"",email:"",phone:"",whatsappNumber:"",qualification:"",experience:"",address:"",landmark:"",pincode:"",city:"",gstNumber:""}),[j,v]=g.useState({panCard:null,aadhaar:null,aadhaarback:null,chequeImage:null,drivingLicence:null,bill:null,accountNumber:"",ifscCode:"",accountHolderName:"",bankName:""}),[y,w]=g.useState({}),[N,k]=g.useState(null),[S,P]=g.useState(null),[_,C]=g.useState([]),[A,V]=g.useState([]),[q,Z]=g.useState([]),[ue,me]=g.useState([]),[Q,ae]=g.useState([]),[oe,R]=g.useState([]),[O,I]=g.useState([]),[X,W]=g.useState(!1),[T,L]=g.useState(null),[D,M]=g.useState(null),[z,se]=g.useState(!1);g.useEffect(()=>{ne(),te(),Re()},[t]),g.useEffect(()=>{if(a&&_.length>0){const ye=(a==null?void 0:a.hubs)||(e==null?void 0:e.hubs)||[];if(console.log("Profile Hubs:",ye),console.log("Available Hubs:",_),ye.length>0){const qe=ye.map(st=>{var St,de;return typeof st=="string"?st:st&&typeof st=="object"?((St=st._id)==null?void 0:St.toString())||((de=st.id)==null?void 0:de.toString())||st.toString():st==null?void 0:st.toString()}).filter(Boolean);console.log("Setting selected hubs:",qe),V(qe)}else console.log("No hubs found in profile"),V([])}},[a,_,e]);const ne=async()=>{var ye,qe,st,St,de,he;if(t){l(!0);try{const Te=await gt.getProfile(t);if(Te.success&&Te.profile){const ce=Te.profile;if(n(ce),b({name:ce.name||"",email:ce.email||((ye=ce.profile)==null?void 0:ye.email)||"",phone:ce.phone||"",whatsappNumber:ce.whatsappNumber||"",qualification:ce.qualification||"",experience:ce.experience||"",address:ce.address||((qe=ce.profile)==null?void 0:qe.address)||"",landmark:ce.landmark||((st=ce.profile)==null?void 0:st.landmark)||"",pincode:ce.pincode||((St=ce.profile)==null?void 0:St.pincode)||"",city:ce.city||((de=ce.profile)==null?void 0:de.city)||"",gstNumber:ce.gstNumber||((he=ce.profile)==null?void 0:he.gstNumber)||""}),ce.profilePicture){const U=ce.profilePicture.startsWith("http")?ce.profilePicture:`https://nexo.works/${ce.profilePicture}`;P(U)}if(ce.kyc){v(ie=>{var Ae,Ue,Me,le;return{...ie,accountNumber:((Ae=ce.bankDetails)==null?void 0:Ae.accountNumber)||"",ifscCode:((Ue=ce.bankDetails)==null?void 0:Ue.ifscCode)||"",accountHolderName:((Me=ce.bankDetails)==null?void 0:Me.accountHolderName)||"",bankName:((le=ce.bankDetails)==null?void 0:le.bankName)||""}});const U={};ce.kyc.panCard&&(U.panCard=Ce(ce.kyc.panCard)),ce.kyc.aadhaar&&(U.aadhaar=Ce(ce.kyc.aadhaar)),ce.kyc.aadhaarback&&(U.aadhaarback=Ce(ce.kyc.aadhaarback)),ce.kyc.chequeImage&&(U.chequeImage=Ce(ce.kyc.chequeImage)),ce.kyc.drivingLicence&&(U.drivingLicence=Ce(ce.kyc.drivingLicence)),ce.kyc.bill&&(U.bill=Ce(ce.kyc.bill)),w(U)}if(ce.category&&ce.category.length>0){const U=ce.category.map(ie=>ie._id||ie);me(U),ae(ce.categoryNames||ce.category.map(ie=>ie.name||"").filter(Boolean))}ce.subcategory&&R(Array.isArray(ce.subcategory)?ce.subcategory:[ce.subcategory]),ce.service&&I(Array.isArray(ce.service)?ce.service:[ce.service]),console.log("Profile loaded with hubs:",ce.hubs)}}catch(Te){L(Te.message||"Failed to fetch profile")}finally{l(!1)}}},te=async()=>{if(t)try{const ye=await gt.getAvailableHubs(t),qe=(ye==null?void 0:ye.data)||ye||[];C(Array.isArray(qe)?qe:[])}catch(ye){console.error("Failed to fetch hubs:",ye)}},Re=async()=>{if(t)try{const ye=await gt.getCategories(t),qe=(ye==null?void 0:ye.data)||ye||[];Z(Array.isArray(qe)?qe:[])}catch(ye){console.error("Failed to fetch categories:",ye)}},Ce=ye=>ye?ye.startsWith("http")?ye:`https://nexo.works/${ye}`:null,Je=ye=>{const qe=ye.target.files[0];if(qe){k(qe);const st=new FileReader;st.onloadend=()=>{P(st.result)},st.readAsDataURL(qe)}},Ge=(ye,qe)=>{if(qe){v(St=>({...St,[ye]:qe}));const st=new FileReader;st.onloadend=()=>{w(St=>({...St,[ye]:st.result}))},st.readAsDataURL(qe)}},Le=async()=>{if(t){W(!0),L(null),M(null);try{const ye=new FormData;Object.keys(p).forEach(st=>{p[st]&&ye.append(st,p[st])}),N&&ye.append("profilePicture",N);const qe=await gt.updateProfile(t,ye);qe.success?(M("Profile updated successfully!"),c(!1),s(qe.profile||p),ne()):L(qe.message||"Failed to update profile")}catch(ye){L(ye.message||"Failed to update profile")}finally{W(!1)}}},mt=async()=>{if(t){W(!0),L(null),M(null);try{const ye=await gt.updateKYC(t,j);ye.success?(M("KYC documents updated successfully!"),u(!1),ne()):L(ye.message||"Failed to update KYC")}catch(ye){L(ye.message||"Failed to update KYC")}finally{W(!1)}}},Tt=async()=>{if(t){W(!0),L(null),M(null);try{const ye=await gt.selectCategoryAndService(t,{partnerId:(e==null?void 0:e._id)||(a==null?void 0:a.id),category:ue,categoryNames:Q,subcategory:oe,service:O});ye.success?(M("Categories and services updated successfully!"),f(!1),ne()):L(ye.message||"Failed to update categories")}catch(ye){L(ye.message||"Failed to update categories")}finally{W(!1)}}},Pe=async ye=>{if(t)try{const qe=ye==null?void 0:ye.toString(),st=A.some(St=>(St==null?void 0:St.toString())===qe);st?(await gt.unassignHub(t,qe),V(St=>St.filter(de=>(de==null?void 0:de.toString())!==qe))):(await gt.assignHub(t,qe),V(St=>[...St,qe])),M(`Hub ${st?"unassigned":"assigned"} successfully!`),setTimeout(()=>ne(),500)}catch(qe){L(qe.message||"Failed to update hub assignment")}},dt=(ye,qe)=>{ue.includes(ye)?(me(st=>st.filter(St=>St!==ye)),ae(st=>st.filter(St=>St!==qe))):(me(st=>[...st,ye]),ae(st=>[...st,qe]))};if(i)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})});const $e=S||(a==null?void 0:a.profilePicture)||null,Qe=p.name||((er=e==null?void 0:e.profile)==null?void 0:er.name)||(e==null?void 0:e.name)||"Partner",Xe=Qe.charAt(0).toUpperCase(),kt=((we=a==null?void 0:a.kyc)==null?void 0:we.status)||"pending";return r.jsxs("div",{className:"space-y-4 md:space-y-6 px-2 sm:px-4 md:px-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-1 sm:mb-2",children:"Profile"}),r.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your complete profile information"})]}),r.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:!o&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>se(!0),className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[r.jsx(Ya,{})," ID Card"]}),r.jsxs("button",{onClick:()=>c(!0),className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[r.jsx(os,{})," ",r.jsx("span",{className:"hidden sm:inline",children:"Edit Profile"}),r.jsx("span",{className:"sm:hidden",children:"Edit"})]})]})})]}),D&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-green-700",children:D}),T&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-red-700",children:T}),r.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-4 md:gap-6",children:[r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full overflow-hidden border-4 border-primary/20 bg-gradient-to-br from-primary to-primary-dark flex items-center justify-center",children:$e?r.jsx("img",{src:$e,alt:Qe,className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-3xl sm:text-4xl font-bold text-white",children:Xe})}),o&&r.jsxs("label",{className:"absolute bottom-0 right-0 bg-primary text-white p-1.5 sm:p-2 rounded-full cursor-pointer hover:bg-primary-dark transition shadow-lg",children:[r.jsx(Up,{className:"text-base sm:text-lg"}),r.jsx("input",{type:"file",accept:"image/*",onChange:Je,className:"hidden"})]})]}),r.jsxs("div",{className:"flex-1 w-full text-center md:text-left",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2 justify-center md:justify-start",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:Qe}),r.jsx("div",{className:`px-2 sm:px-3 py-1 rounded-full text-xs font-semibold inline-block ${kt==="approved"?"bg-green-100 text-green-800":kt==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:kt==="approved"?" Verified":kt==="rejected"?" Rejected":" Pending"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-sm text-slate-600",children:[p.email&&r.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2",children:[r.jsx(cl,{className:"text-slate-400 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:p.email})]}),p.phone&&r.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2",children:[r.jsx(Au,{className:"text-slate-400 flex-shrink-0"}),r.jsxs("span",{children:["+91 ",p.phone]})]}),p.city&&r.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 sm:col-span-2",children:[r.jsx(aa,{className:"text-slate-400 flex-shrink-0"}),r.jsx("span",{children:p.city})]})]})]}),r.jsx("div",{className:"hidden lg:block flex-shrink-0",children:r.jsx(An,{className:"opacity-60"})})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[r.jsx("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:r.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Personal Information"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Full Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:p.name,onChange:ye=>b({...p,name:ye.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",value:p.email,onChange:ye=>b({...p,email:ye.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",value:p.phone,onChange:ye=>b({...p,phone:ye.target.value.replace(/\D/g,"").slice(0,10)}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"WhatsApp Number"}),r.jsx("input",{type:"tel",value:p.whatsappNumber,onChange:ye=>b({...p,whatsappNumber:ye.target.value.replace(/\D/g,"").slice(0,10)}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Qualification"}),r.jsx("input",{type:"text",value:p.qualification,onChange:ye=>b({...p,qualification:ye.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Experience (Years)"}),r.jsx("input",{type:"number",value:p.experience,onChange:ye=>b({...p,experience:ye.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"City"}),r.jsx("input",{type:"text",value:p.city,onChange:ye=>b({...p,city:ye.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Pincode"}),r.jsx("input",{type:"text",value:p.pincode,onChange:ye=>b({...p,pincode:ye.target.value.replace(/\D/g,"").slice(0,6)}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Address"}),r.jsx("textarea",{value:p.address,onChange:ye=>b({...p,address:ye.target.value}),disabled:!o,rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Landmark"}),r.jsx("input",{type:"text",value:p.landmark,onChange:ye=>b({...p,landmark:ye.target.value}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Number"}),r.jsx("input",{type:"text",value:p.gstNumber,onChange:ye=>b({...p,gstNumber:ye.target.value.toUpperCase()}),disabled:!o,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:bg-slate-50"})]})]}),o&&r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 sm:mt-6",children:[r.jsxs("button",{onClick:Le,disabled:X,className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 disabled:opacity-50 text-sm sm:text-base",children:[r.jsx(Ji,{})," ",X?"Saving...":"Save Changes"]}),r.jsxs("button",{onClick:()=>{c(!1),ne()},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[r.jsx(ut,{})," Cancel"]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Categories & Services"}),r.jsx("p",{className:"text-xs sm:text-sm text-slate-500 mt-1",children:"Select your service categories and services"})]}),!m&&r.jsxs("button",{onClick:()=>f(!0),className:"px-3 sm:px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 text-sm sm:text-base self-start sm:self-auto",children:[r.jsx(os,{})," Edit"]})]}),Q.length>0?r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Selected Categories:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Q.map((ye,qe)=>r.jsxs("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium flex items-center gap-2",children:[r.jsx($w,{})," ",ye]},qe))})]})}):r.jsx("p",{className:"text-slate-500 text-center py-4",children:"No categories selected"}),m&&r.jsxs("div",{className:"mt-4 sm:mt-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Select Categories:"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3 max-h-60 overflow-y-auto p-3 bg-slate-50 rounded-lg",children:q.map(ye=>{const qe=ue.includes(ye._id||ye.id);return r.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer border-2 transition ${qe?"bg-primary/10 border-primary":"bg-white border-slate-200 hover:border-primary/50"}`,children:[r.jsx("input",{type:"checkbox",checked:qe,onChange:()=>dt(ye._id||ye.id,ye.name),className:"w-4 h-4 text-primary rounded focus:ring-primary"}),r.jsx("span",{className:"font-medium text-slate-800",children:ye.name})]},ye._id||ye.id)})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("button",{onClick:Tt,disabled:X||ue.length===0,className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 disabled:opacity-50 text-sm sm:text-base",children:[r.jsx(Ji,{})," Save Categories"]}),r.jsxs("button",{onClick:()=>{f(!1),ne()},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[r.jsx(ut,{})," Cancel"]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Service Hubs"}),r.jsx("p",{className:"text-xs sm:text-sm text-slate-500 mt-1",children:"Manage your assigned service hubs"})]}),!h&&r.jsxs("button",{onClick:()=>x(!0),className:"px-3 sm:px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 text-sm sm:text-base self-start sm:self-auto",children:[r.jsx(os,{})," Edit"]})]}),A.length>0?r.jsx("div",{className:"space-y-3",children:_.filter(ye=>{var st;const qe=(st=ye._id||ye.id)==null?void 0:st.toString();return A.some(St=>(St==null?void 0:St.toString())===qe)}).map(ye=>r.jsxs("div",{className:"p-3 sm:p-4 bg-slate-50 rounded-lg border border-slate-200 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsx(zI,{className:"text-primary text-lg sm:text-xl flex-shrink-0"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"font-semibold text-slate-800 truncate",children:ye.name}),r.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 truncate",children:[ye.city,", ",ye.state]})]})]}),h&&r.jsx("button",{onClick:()=>{var qe;return Pe((qe=ye._id||ye.id)==null?void 0:qe.toString())},className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-red-100 text-red-600 rounded-lg font-semibold hover:bg-red-200 transition text-sm sm:text-base w-full sm:w-auto",children:"Remove"})]},ye._id||ye.id))}):r.jsx("p",{className:"text-slate-500 text-center py-4",children:"No hubs assigned"}),h&&r.jsxs("div",{className:"mt-4 sm:mt-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Available Hubs:"}),r.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto p-3 bg-slate-50 rounded-lg",children:_.map(ye=>{var St;const qe=(St=ye._id||ye.id)==null?void 0:St.toString(),st=A.some(de=>(de==null?void 0:de.toString())===qe);return r.jsxs("div",{className:`p-3 rounded-lg border-2 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 ${st?"bg-primary/10 border-primary":"bg-white border-slate-200"}`,children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold text-slate-800 truncate",children:ye.name}),r.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 truncate",children:[ye.city,", ",ye.state]})]}),r.jsx("button",{onClick:()=>Pe(ye._id||ye.id),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg font-semibold transition text-sm sm:text-base w-full sm:w-auto ${st?"bg-red-100 text-red-600 hover:bg-red-200":"bg-primary text-white hover:bg-primary-dark"}`,children:st?"Remove":"Assign"})]},ye._id||ye.id)})})]}),r.jsx("button",{onClick:()=>{x(!1),ne()},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition text-sm sm:text-base w-full sm:w-auto",children:"Done"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 sm:p-6 border border-slate-200",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"KYC Documents"}),r.jsx("p",{className:"text-xs sm:text-sm text-slate-500 mt-1",children:"Upload and manage your KYC documents"}),((F=a==null?void 0:a.kyc)==null?void 0:F.status)&&r.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[r.jsx("span",{className:"text-xs font-semibold",children:"Status:"}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${a.kyc.status==="approved"?"bg-green-100 text-green-800":a.kyc.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:a.kyc.status.charAt(0).toUpperCase()+a.kyc.status.slice(1)}),a.kyc.remarks&&r.jsxs("span",{className:"text-xs text-slate-500 break-words",children:["(",a.kyc.remarks,")"]})]})]}),!d&&r.jsxs("button",{onClick:()=>u(!0),className:"px-3 sm:px-4 py-2 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 text-sm sm:text-base self-start sm:self-auto",children:[r.jsx(os,{})," ",r.jsx("span",{className:"hidden sm:inline",children:a!=null&&a.kyc?"Update KYC":"Upload KYC"}),r.jsx("span",{className:"sm:hidden",children:a!=null&&a.kyc?"Update":"Upload"})]})]}),d?r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["PAN Card ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"space-y-2",children:[y.panCard&&r.jsx("img",{src:y.panCard,alt:"PAN Card",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),r.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[r.jsx(Vt,{className:"inline text-slate-400 mr-2"}),y.panCard?"Change":"Upload"," PAN Card",r.jsx("input",{type:"file",accept:"image/*",onChange:ye=>Ge("panCard",ye.target.files[0]),className:"hidden"})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Aadhaar Card (Front) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"space-y-2",children:[y.aadhaar&&r.jsx("img",{src:y.aadhaar,alt:"Aadhaar Front",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),r.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[r.jsx(Vt,{className:"inline text-slate-400 mr-2"}),y.aadhaar?"Change":"Upload"," Aadhaar Front",r.jsx("input",{type:"file",accept:"image/*",onChange:ye=>Ge("aadhaar",ye.target.files[0]),className:"hidden"})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Aadhaar Card (Back) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"space-y-2",children:[y.aadhaarback&&r.jsx("img",{src:y.aadhaarback,alt:"Aadhaar Back",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),r.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[r.jsx(Vt,{className:"inline text-slate-400 mr-2"}),y.aadhaarback?"Change":"Upload"," Aadhaar Back",r.jsx("input",{type:"file",accept:"image/*",onChange:ye=>Ge("aadhaarback",ye.target.files[0]),className:"hidden"})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Cancelled Cheque ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"space-y-2",children:[y.chequeImage&&r.jsx("img",{src:y.chequeImage,alt:"Cheque",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),r.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[r.jsx(Vt,{className:"inline text-slate-400 mr-2"}),y.chequeImage?"Change":"Upload"," Cheque",r.jsx("input",{type:"file",accept:"image/*",onChange:ye=>Ge("chequeImage",ye.target.files[0]),className:"hidden"})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Driving Licence ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"space-y-2",children:[y.drivingLicence&&r.jsx("img",{src:y.drivingLicence,alt:"Driving Licence",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),r.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[r.jsx(Vt,{className:"inline text-slate-400 mr-2"}),y.drivingLicence?"Change":"Upload"," Driving Licence",r.jsx("input",{type:"file",accept:"image/*",onChange:ye=>Ge("drivingLicence",ye.target.files[0]),className:"hidden"})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Utility Bill ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"space-y-2",children:[y.bill&&r.jsx("img",{src:y.bill,alt:"Utility Bill",className:"w-full h-32 object-cover rounded-lg border border-slate-200"}),r.jsxs("label",{className:"block w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-primary transition text-center",children:[r.jsx(Vt,{className:"inline text-slate-400 mr-2"}),y.bill?"Change":"Upload"," Utility Bill",r.jsx("input",{type:"file",accept:"image/*",onChange:ye=>Ge("bill",ye.target.files[0]),className:"hidden"})]})]})]})]}),r.jsxs("div",{className:"border-t border-slate-200 pt-4 sm:pt-6",children:[r.jsx("h4",{className:"text-base sm:text-lg font-bold text-slate-800 mb-3 sm:mb-4",children:"Bank Details"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Account Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:j.accountNumber,onChange:ye=>v({...j,accountNumber:ye.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["IFSC Code ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:j.ifscCode,onChange:ye=>v({...j,ifscCode:ye.target.value.toUpperCase()}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Account Holder Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:j.accountHolderName,onChange:ye=>v({...j,accountHolderName:ye.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Bank Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:j.bankName,onChange:ye=>v({...j,bankName:ye.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("button",{onClick:mt,disabled:X,className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition flex items-center justify-center gap-2 disabled:opacity-50 text-sm sm:text-base",children:[r.jsx(Ji,{})," ",X?"Saving...":"Save KYC"]}),r.jsxs("button",{onClick:()=>{u(!1),ne()},className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[r.jsx(ut,{})," Cancel"]})]})]}):r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[((fe=a==null?void 0:a.kyc)==null?void 0:fe.panCard)&&r.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Vt,{className:"text-primary"}),r.jsx("span",{className:"font-semibold text-slate-800",children:"PAN Card"})]}),r.jsx("img",{src:Ce(a.kyc.panCard),alt:"PAN",className:"w-full h-24 object-cover rounded"})]}),((lt=a==null?void 0:a.kyc)==null?void 0:lt.aadhaar)&&r.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Vt,{className:"text-primary"}),r.jsx("span",{className:"font-semibold text-slate-800",children:"Aadhaar Front"})]}),r.jsx("img",{src:Ce(a.kyc.aadhaar),alt:"Aadhaar",className:"w-full h-24 object-cover rounded"})]}),((Nt=a==null?void 0:a.kyc)==null?void 0:Nt.chequeImage)&&r.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(zs,{className:"text-primary"}),r.jsx("span",{className:"font-semibold text-slate-800",children:"Cheque"})]}),r.jsx("img",{src:Ce(a.kyc.chequeImage),alt:"Cheque",className:"w-full h-24 object-cover rounded"})]}),!(a!=null&&a.kyc)&&r.jsx("p",{className:"text-slate-500 text-center py-4 md:col-span-3",children:"No KYC documents uploaded yet"})]})]}),z&&a&&r.jsx(sB,{profile:a,partner:e,onClose:()=>se(!1)})]})},_Ne=()=>{const{partner:e}=dn(),s=((e==null?void 0:e.partnerType)||"individual")==="franchise";return r.jsx("div",{className:"space-y-6",children:r.jsxs(uw,{children:[r.jsx(pt,{index:!0,element:r.jsx(TNe,{})}),r.jsx(pt,{path:"profile",element:r.jsx(ENe,{})}),r.jsx(pt,{path:"wallet",element:r.jsx(bNe,{})}),s&&r.jsx(pt,{path:"team",element:r.jsx(jNe,{})}),r.jsx(pt,{path:"jobs",element:r.jsx(kNe,{})}),r.jsx(pt,{path:"subscription",element:r.jsx(CNe,{})}),r.jsx(pt,{path:"spare-parts",element:r.jsx(PNe,{})}),r.jsx(pt,{path:"transactions",element:r.jsx(ANe,{})}),r.jsx(pt,{path:"*",element:r.jsx(Zh,{to:"/partner/dashboard",replace:!0})})]})})},ST=()=>{const{notifications:e}=dn(),[t,s]=g.useState(!1),a=g.useRef(null),n=(e==null?void 0:e.notifications)||[],i=(e==null?void 0:e.unreadCount)||0,l=e==null?void 0:e.markAsRead,o=e==null?void 0:e.fetchNotifications;g.useEffect(()=>{const m=f=>{a.current&&!a.current.contains(f.target)&&s(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]),g.useEffect(()=>{o&&o()},[o]);const c=async(m=null)=>{if(l)try{await l(m),o&&await o()}catch(f){console.error("Error marking notification as read:",f)}},d=async m=>{if(m==null||m.preventDefault(),m==null||m.stopPropagation(),!!l)try{await l(),o&&await o()}catch(f){console.error("Error marking all as read:",f)}},u=m=>{if(!m)return"";const f=new Date(m),x=new Date-f,p=Math.floor(x/6e4),b=Math.floor(x/36e5),j=Math.floor(x/864e5);return p<1?"Just now":p<60?`${p}m ago`:b<24?`${b}h ago`:j<7?`${j}d ago`:f.toLocaleDateString()};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"relative",ref:a,children:r.jsxs("button",{onClick:()=>s(!t),className:"relative p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Notifications",children:[r.jsx(ki,{className:"w-5 h-5"}),i>0&&r.jsx("span",{className:"absolute top-0 right-0 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs font-semibold text-white transition-opacity duration-200",children:i>9?"9+":i},i)]})}),t&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/20 z-[9998]",onClick:m=>{m.stopPropagation(),s(!1)}}),r.jsxs("div",{className:"fixed right-4 top-16 lg:right-4 lg:top-20 w-80 md:w-96 bg-white rounded-xl shadow-2xl border border-slate-200 z-[9999] max-h-[calc(100vh-140px)] flex flex-col overflow-hidden",onClick:m=>{m.stopPropagation()},onMouseDown:m=>{m.stopPropagation()},children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Notifications"}),r.jsxs("div",{className:"flex items-center gap-2",children:[i>0&&r.jsx("button",{onClick:m=>{m.preventDefault(),m.stopPropagation(),d(m)},className:"text-xs text-primary hover:text-primary-dark font-medium px-2 py-1 rounded hover:bg-primary/10 transition-colors",type:"button",children:"Mark all read"}),r.jsx("button",{onClick:m=>{m.stopPropagation(),s(!1)},className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",type:"button",children:r.jsx(ut,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"overflow-y-auto flex-1",children:n.length===0?r.jsxs("div",{className:"p-8 text-center text-slate-500",children:[r.jsx(ki,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),r.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):r.jsx("div",{className:"divide-y divide-slate-100",children:n.map(m=>{const f=!m.read;return r.jsx("div",{className:`p-4 hover:bg-slate-50 transition-colors cursor-pointer ${f?"bg-blue-50/50":""}`,onClick:h=>{h.stopPropagation(),f&&c(m._id||m.id)},onMouseDown:h=>{h.stopPropagation()},children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-1",children:r.jsx("div",{className:`w-2 h-2 rounded-full ${f?"bg-primary":"bg-slate-300"}`})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:`text-sm font-medium line-clamp-2 ${f?"text-slate-900":"text-slate-600"}`,children:m.title||"New notification"}),m.message&&r.jsx("p",{className:"text-xs text-slate-600 mt-1 line-clamp-2",children:m.message}),r.jsx("p",{className:"text-xs text-slate-400 mt-2",children:u(m.createdAt||m.date)})]}),f&&r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})})]})},m._id||m.id||Math.random())})})}),n.length>0&&r.jsx("div",{className:"p-3 border-t border-slate-200 bg-slate-50",children:r.jsx("button",{onClick:m=>{m.stopPropagation(),s(!1)},className:"w-full text-sm text-center text-primary hover:text-primary-dark font-medium",type:"button",children:"View all notifications"})})]})]})]})},INe=()=>{var m;const{partner:e,logout:t,notifications:s}=dn(),a=ms();Br();const[n,i]=g.useState(!1),l=()=>{t(),a("/partner/login",{replace:!0})},o=((m=e==null?void 0:e.profile)==null?void 0:m.name)||(e==null?void 0:e.name)||"Partner",c=o.charAt(0).toUpperCase(),d=(e==null?void 0:e.partnerType)||"individual",u=d==="franchise";return g.useEffect(()=>{console.log("Partner Layout - Partner Data:",{partnerType:d,showTeamTab:u,hasPartner:!!e,partnerKeys:e?Object.keys(e):[]})},[e,d,u]),r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex flex-col",children:[r.jsx("header",{className:"lg:hidden bg-white shadow-md border-b border-slate-200 fixed top-0 left-0 right-0 z-[60] w-full",children:r.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>i(!n),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:n?r.jsx(ut,{className:"text-xl"}):r.jsx(Fw,{className:"text-xl"})}),r.jsx(An,{className:"scale-75 origin-left"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ST,{}),e!=null&&e.profilePicture?r.jsx("img",{src:e.profilePicture.startsWith("http")?e.profilePicture:`https://nexo.works/${e.profilePicture}`,alt:o,className:"w-10 h-10 rounded-full object-cover border-2 border-primary/20"}):r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold shadow-md",children:c})]})]})}),r.jsxs("div",{className:"flex relative flex-1 pt-[64px] lg:pt-0",children:[r.jsxs("aside",{className:"hidden lg:flex lg:w-64 flex-col bg-white shadow-xl border-r border-slate-200 fixed top-0 left-0 h-screen overflow-hidden z-40",children:[r.jsx("div",{className:"px-4 py-4 border-b border-slate-200 flex-shrink-0 bg-white sticky top-0 z-10",children:r.jsx(An,{className:"scale-75 origin-left"})}),r.jsx("div",{className:"px-4 py-4 border-b border-slate-200 bg-gradient-to-br from-primary/5 to-primary/10 flex-shrink-0",children:r.jsxs("div",{className:"flex items-center gap-3",children:[e!=null&&e.profilePicture?r.jsx("img",{src:e.profilePicture.startsWith("http")?e.profilePicture:`https://nexo.works/${e.profilePicture}`,alt:o,className:"w-12 h-12 rounded-full object-cover border-2 border-primary/20"}):r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-lg border-2 border-primary/20",children:c}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold text-slate-800 truncate text-sm",children:o}),r.jsx("p",{className:"text-xs text-slate-500 truncate",children:(e==null?void 0:e.phone)||"N/A"})]}),r.jsx(ST,{})]})}),r.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",children:[r.jsx(Ml,{to:"/partner/dashboard",icon:Nc,label:"Dashboard"}),r.jsx(Ml,{to:"/partner/dashboard/profile",icon:Ws,label:"Profile"}),r.jsx(Ml,{to:"/partner/dashboard/wallet",icon:Qt,label:"Wallet"}),u&&r.jsx(Ml,{to:"/partner/dashboard/team",icon:sa,label:"Team"}),r.jsx(Ml,{to:"/partner/dashboard/jobs",icon:Bs,label:"Jobs"}),r.jsx(Ml,{to:"/partner/dashboard/subscription",icon:zs,label:"MG Plan"}),r.jsx(Ml,{to:"/partner/dashboard/spare-parts",icon:Is,label:"Spare Parts"}),r.jsx(Ml,{to:"/partner/dashboard/transactions",icon:Qt,label:"Transactions"})]}),r.jsx("div",{className:"px-4 py-4 border-t border-slate-200 flex-shrink-0 bg-white sticky bottom-0 z-10",children:r.jsxs("button",{onClick:l,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-semibold rounded-lg bg-red-50 hover:bg-red-100 text-red-600 transition",children:[r.jsx(ic,{})," Logout"]})})]}),n&&r.jsx("div",{className:"lg:hidden fixed inset-0 z-[70] bg-black/50 backdrop-blur-sm transition-opacity",onClick:()=>i(!1),children:r.jsxs("div",{className:"w-80 max-w-[85vw] bg-white h-full shadow-2xl overflow-y-auto flex flex-col",onClick:f=>f.stopPropagation(),children:[r.jsxs("div",{className:"px-4 py-4 border-b border-slate-200 flex-shrink-0 sticky top-0 bg-white z-10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx(An,{className:"scale-75 origin-left"}),r.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:r.jsx(ut,{className:"text-xl"})})]}),r.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-br from-primary/5 to-primary/10 p-3 rounded-lg",children:[e!=null&&e.profilePicture?r.jsx("img",{src:e.profilePicture.startsWith("http")?e.profilePicture:`https://nexo.works/${e.profilePicture}`,alt:o,className:"w-10 h-10 rounded-full object-cover border-2 border-primary/20"}):r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold border-2 border-primary/20",children:c}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold text-slate-800 truncate text-sm",children:o}),r.jsx("p",{className:"text-xs text-slate-500 truncate",children:(e==null?void 0:e.phone)||"N/A"})]})]})]}),r.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:[r.jsx(Ll,{to:"/partner/dashboard",icon:Nc,label:"Dashboard",onClick:()=>i(!1)}),r.jsx(Ll,{to:"/partner/dashboard/profile",icon:Ws,label:"Profile",onClick:()=>i(!1)}),r.jsx(Ll,{to:"/partner/dashboard/wallet",icon:Qt,label:"Wallet",onClick:()=>i(!1)}),u&&r.jsx(Ll,{to:"/partner/dashboard/team",icon:sa,label:"Team",onClick:()=>i(!1)}),r.jsx(Ll,{to:"/partner/dashboard/jobs",icon:Bs,label:"Jobs",onClick:()=>i(!1)}),r.jsx(Ll,{to:"/partner/dashboard/subscription",icon:zs,label:"MG Plan",onClick:()=>i(!1)}),r.jsx(Ll,{to:"/partner/dashboard/spare-parts",icon:Is,label:"Spare Parts",onClick:()=>i(!1)}),r.jsx(Ll,{to:"/partner/dashboard/transactions",icon:Qt,label:"Transactions",onClick:()=>i(!1)})]}),r.jsx("div",{className:"px-6 py-6 border-t border-slate-200 flex-shrink-0 sticky bottom-0 bg-white z-10",children:r.jsxs("button",{onClick:l,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold rounded-xl bg-red-50 hover:bg-red-100 text-red-600 transition",type:"button",children:[r.jsx(ic,{})," Logout"]})})]})}),r.jsx("div",{className:"flex-1 min-w-0 w-full lg:ml-64",children:r.jsx("main",{className:"p-4 sm:p-6 lg:p-8 min-h-screen",children:r.jsx(Uc,{})})})]}),r.jsx(eN,{notification:s==null?void 0:s.currentNotification,onClose:(s==null?void 0:s.closeNotificationDialog)||(()=>{}),onMarkAsRead:(s==null?void 0:s.markNotificationAsRead)||(()=>{})})]})},Ml=({to:e,icon:t,label:s})=>{const a=Br(),n=a.pathname===e||a.pathname.startsWith(e+"/");return r.jsxs(Wt,{to:e,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 relative group ${n?"bg-primary text-white shadow-md shadow-primary/20":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,children:[r.jsx(t,{className:`text-base transition-transform duration-200 ${n?"scale-110":"group-hover:scale-110"}`}),r.jsx("span",{className:"relative z-10",children:s}),n&&r.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-white rounded-r-full"})]})},Ll=({to:e,icon:t,label:s,onClick:a})=>{const n=Br(),i=n.pathname===e||n.pathname.startsWith(e+"/");return r.jsxs(Wt,{to:e,onClick:a,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition ${i?"bg-primary text-white shadow-md":"text-slate-600 hover:bg-slate-100"}`,children:[r.jsx(t,{className:"text-base"}),s]})},ONe=()=>{const{isAuthenticated:e,isLoading:t}=dn(),s=Br();return t?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),r.jsx("p",{className:"text-sm font-medium tracking-wide text-white/80",children:"Loading partner portal..."})]})}):e?r.jsx(Uc,{}):r.jsx(Zh,{to:"/partner/login",state:{from:s},replace:!0})},kT=window.location.origin,Vr=e=>e.startsWith("/api/")?`${kT}${e}`:`${kT}/api/vendor${e}`,as=e=>{const t={"Content-Type":"application/json"};return e&&(t.Authorization=`Bearer ${e}`),t},Hr=async e=>{const t=e.headers.get("content-type"),s=t&&t.includes("application/json");let a;try{a=s?await e.json():await e.text()}catch(n){throw console.error("Error parsing response:",n),new Error("Invalid response from server")}if(!e.ok){const n=a!=null&&a.message||a!=null&&a.error||(a==null?void 0:a.success)===!1?a==null?void 0:a.message:"Request failed",i=new Error(n);throw i.status=e.status,i.data=a,i}return a},ts={async sendOTP(e){try{const t=Vr("/auth/send-otp");console.log(" Vendor OTP API call:",{url:t,phone:e});const s=await fetch(t,{method:"POST",headers:as(),body:JSON.stringify({phone:e})});return console.log(" Vendor OTP API response status:",s.status),Hr(s)}catch(t){throw console.error(" Vendor OTP API fetch error:",t),t}},async verifyOTP(e,t){const s=await fetch(Vr("/auth/verify-otp"),{method:"POST",headers:as(),body:JSON.stringify({phone:e,otp:t})});return Hr(s)},async loginWithPassword(e,t){const s=await fetch(Vr("/auth/login"),{method:"POST",headers:as(),body:JSON.stringify({email:e,password:t})});return Hr(s)},async updateFCMToken(e,t){const s=await fetch(Vr("/auth/update-fcm-token"),{method:"PUT",headers:as(e),body:JSON.stringify({token:t})});return Hr(s)},async getProfile(e){const t=await fetch(Vr("/auth/profile"),{headers:as(e)});return Hr(t)},async getSpareParts(e,t={}){const s=new URLSearchParams(t).toString(),a=Vr(`/spare-parts${s?`?${s}`:""}`),n=await fetch(a,{headers:as(e)});return Hr(n)},async getSparePart(e,t){const s=await fetch(Vr(`/spare-parts/${t}`),{headers:as(e)});return Hr(s)},async addSparePart(e,t){const s=await fetch(Vr("/spare-parts"),{method:"POST",headers:{Authorization:`Bearer ${e}`},body:t});return Hr(s)},async updateSparePart(e,t,s){const a=await fetch(Vr(`/spare-parts/${t}`),{method:"PUT",headers:{Authorization:`Bearer ${e}`},body:s});return Hr(a)},async deleteSparePart(e,t){const s=await fetch(Vr(`/spare-parts/${t}`),{method:"DELETE",headers:as(e)});return Hr(s)},async getCategories(e){const t=await fetch(Vr("/spare-parts/categories"),{headers:as(e)});return Hr(t)},async getBookings(e,t={}){const s=new URLSearchParams(t).toString(),a=Vr(`/bookings${s?`?${s}`:""}`),n=await fetch(a,{headers:as(e)});return Hr(n)},async getBooking(e,t){const s=await fetch(Vr(`/bookings/${t}`),{headers:as(e)});return Hr(s)},async updateBookingStatus(e,t,s){const a=await fetch(Vr(`/bookings/${t}/status`),{method:"PUT",headers:as(e),body:JSON.stringify(s)});return Hr(a)},async getBookingStats(e){const t=await fetch(Vr("/bookings/stats"),{headers:as(e)});return Hr(t)},async getTransactions(e,t={}){const s=new URLSearchParams(t).toString(),a=Vr(`/transactions${s?`?${s}`:""}`),n=await fetch(a,{headers:as(e)});return Hr(n)},async getTransaction(e,t){const s=await fetch(Vr(`/transactions/${t}`),{headers:as(e)});return Hr(s)},async getTransactionStats(e){const t=await fetch(Vr("/transactions/stats"),{headers:as(e)});return Hr(t)},async createTransaction(e,t){const s=await fetch(Vr("/transactions"),{method:"POST",headers:as(e),body:JSON.stringify(t)});return Hr(s)},async getNotifications(e){try{const t=await fetch(Vr("/notifications"),{headers:as(e)});return Hr(t)}catch(t){if(console.error("Error fetching vendor notifications:",t),t.message&&(t.message.includes("Failed to fetch")||t.message.includes("ERR_CONNECTION_REFUSED")))return{success:!1,notifications:[],message:"Unable to connect to server"};throw t}},async markNotificationAsRead(e,t){const s=await fetch(Vr(`/notifications/${t}/mark-read`),{method:"PUT",headers:as(e)});return Hr(s)},async markNotificationsAsRead(e){const t=await fetch(Vr("/notifications/mark-read"),{method:"PUT",headers:as(e)});return Hr(t)}},lB=g.createContext(null),oB={isLoading:!0,isAuthenticated:!1,vendor:null,token:null,error:null};function DNe(e,t){var s,a,n;switch(t.type){case"INIT":return{...e,isLoading:!1,isAuthenticated:!!((s=t.payload)!=null&&s.token),vendor:((a=t.payload)==null?void 0:a.vendor)??null,token:((n=t.payload)==null?void 0:n.token)??null};case"LOGIN_START":return{...e,isLoading:!0,error:null};case"LOGIN_SUCCESS":return{...e,isLoading:!1,isAuthenticated:!0,vendor:t.payload.vendor,token:t.payload.token,error:null};case"LOGIN_ERROR":return{...e,isLoading:!1,isAuthenticated:!1,vendor:null,token:null,error:t.payload};case"LOGOUT":return{...oB,isLoading:!1};case"UPDATE_VENDOR":return{...e,vendor:{...e.vendor,...t.payload}};default:return e}}const MNe=({children:e})=>{const[t,s]=g.useReducer(DNe,oB);g.useEffect(()=>{const i=localStorage.getItem("nexo_vendor_auth");if(i)try{const l=JSON.parse(i);s({type:"INIT",payload:l})}catch(l){console.error("Failed to parse vendor auth cache",l),localStorage.removeItem("nexo_vendor_auth"),s({type:"INIT",payload:null})}else s({type:"INIT",payload:null})},[]);const a=Zw(ts,t.token,t.isAuthenticated),n=g.useMemo(()=>({...t,notifications:a,login:async(i,l)=>{s({type:"LOGIN_START"});try{const o=await ts.verifyOTP(i,l);if(o.success&&o.vendor){const c={token:o.vendor.token,vendor:o.vendor};return localStorage.setItem("nexo_vendor_auth",JSON.stringify(c)),s({type:"LOGIN_SUCCESS",payload:c}),c}else throw new Error(o.message||"Login failed")}catch(o){const c=(o==null?void 0:o.message)??"Unable to login";throw s({type:"LOGIN_ERROR",payload:c}),new Error(c)}},loginWithPassword:async(i,l)=>{var o;s({type:"LOGIN_START"});try{const c=await ts.loginWithPassword(i,l);if(console.log("Login response:",c),c.success&&c.vendor){const d={token:c.vendor.token,vendor:c.vendor};return localStorage.setItem("nexo_vendor_auth",JSON.stringify(d)),s({type:"LOGIN_SUCCESS",payload:d}),d}else{const d=c.message||"Login failed";throw console.error("Login failed:",d,c),new Error(d)}}catch(c){console.error("Login error caught:",c);const d=(c==null?void 0:c.message)||((o=c==null?void 0:c.data)==null?void 0:o.message)||"Unable to login";throw s({type:"LOGIN_ERROR",payload:d}),new Error(d)}},logout:()=>{localStorage.removeItem("nexo_vendor_auth"),s({type:"LOGOUT"})},clearError:()=>s({type:"LOGIN_ERROR",payload:null}),updateVendor:i=>{const l=localStorage.getItem("nexo_vendor_auth");if(l)try{const o=JSON.parse(l);o.vendor={...o.vendor,...i},localStorage.setItem("nexo_vendor_auth",JSON.stringify(o)),s({type:"UPDATE_VENDOR",payload:i})}catch(o){console.error("Failed to update vendor data",o)}}}),[t,a]);return r.jsx(lB.Provider,{value:n,children:e})},_l=()=>{const e=g.useContext(lB);if(!e)throw new Error("useVendorAuth must be used within VendorAuthProvider");return e},LNe=()=>{const e=ms(),{login:t,loginWithPassword:s,error:a,clearError:n}=_l(),[i,l]=g.useState("password"),[o,c]=g.useState(1),[d,u]=g.useState({phone:"",email:"",password:"",otp:""}),[m,f]=g.useState(!1),[h,x]=g.useState(null),[p,b]=g.useState(!1),[j,v]=g.useState(0);At.useEffect(()=>{let P=null;return j>0&&(P=setInterval(()=>{v(_=>_-1)},1e3)),()=>{P&&clearInterval(P)}},[j]);const y=async P=>{var _;if(P.preventDefault(),P.stopPropagation(),x(null),n(),!d.phone||d.phone.length!==10){x("Please enter a valid 10-digit phone number");return}f(!0);try{console.log(" Vendor OTP request initiated for:",d.phone);const C=await ts.sendOTP(d.phone);if(console.log(" Vendor OTP API response:",C),C&&C.success)b(!0),c(2),v(60);else{const A=(C==null?void 0:C.message)||(C==null?void 0:C.error)||"Failed to send OTP";x(A),console.error(" Vendor OTP failed:",A)}}catch(C){console.error(" Vendor OTP error:",C);const A=C.message||((_=C.data)==null?void 0:_.message)||"Failed to send OTP. Please try again.";x(A)}finally{f(!1)}},w=async P=>{var _;if(P.preventDefault(),x(null),n(),!d.email||!d.password){x("Please enter email and password");return}f(!0);try{await s(d.email.trim(),d.password),e("/vendor/dashboard",{replace:!0})}catch(C){const A=C.message||((_=C.data)==null?void 0:_.message)||"Login failed. Please check your credentials.";x(A),console.error("Login error:",C)}finally{f(!1)}},N=async()=>{if(!(j>0)){f(!0),x(null);try{const P=await ts.sendOTP(d.phone);P.success?v(60):x(P.message||"Failed to resend OTP")}catch(P){x(P.message||"Failed to resend OTP")}finally{f(!1)}}},k=async P=>{if(P.preventDefault(),x(null),n(),!d.otp||d.otp.length!==6){x("Please enter a valid 6-digit OTP");return}f(!0);try{await t(d.phone,d.otp),e("/vendor/dashboard",{replace:!0})}catch(_){x(_.message||"Invalid OTP. Please try again.")}finally{f(!1)}},S=P=>{const{name:_,value:C}=P.target;let A=C;(_==="phone"||_==="otp")&&(A=C.replace(/\D/g,"").slice(0,_==="otp"?6:10)),u(V=>({...V,[_]:A})),x(null),a&&n()};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center px-4 py-10",children:r.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:r.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-full mb-4",children:r.jsx(Hd,{className:"text-2xl text-white"})}),r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Vendor Login"}),r.jsx("p",{className:"text-slate-300",children:"Welcome back! Please login to continue"})]}),o===1&&r.jsxs("div",{className:"mb-6 flex gap-2 bg-white/5 rounded-lg p-1",children:[r.jsx("button",{type:"button",onClick:()=>{l("password"),u({phone:"",email:"",password:"",otp:""}),x(null)},className:`flex-1 py-2 px-4 rounded-md text-sm font-semibold transition ${i==="password"?"bg-primary text-white":"text-slate-300 hover:text-white"}`,children:"Password"}),r.jsx("button",{type:"button",onClick:()=>{l("otp"),u({phone:"",email:"",password:"",otp:""}),x(null)},className:`flex-1 py-2 px-4 rounded-md text-sm font-semibold transition ${i==="otp"?"bg-primary text-white":"text-slate-300 hover:text-white"}`,children:"OTP"})]}),(h||a)&&r.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-xl text-red-200 text-sm",children:h||a}),i==="password"&&o===1&&r.jsxs("form",{onSubmit:w,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Email"}),r.jsxs("div",{className:"relative",children:[r.jsx(cl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),r.jsx("input",{type:"email",name:"email",value:d.email,onChange:S,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter your email",required:!0,disabled:m})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Hd,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),r.jsx("input",{type:"password",name:"password",value:d.password,onChange:S,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter your password",required:!0,disabled:m})]})]}),r.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:m?r.jsxs(r.Fragment,{children:[r.jsx(Gt,{className:"animate-spin"}),"Logging in..."]}):r.jsxs(r.Fragment,{children:["Login",r.jsx(wi,{})]})})]}),i==="otp"&&o===1&&r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Phone Number"}),r.jsxs("div",{className:"relative",children:[r.jsx(Au,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),r.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:S,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0,disabled:m})]})]}),r.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:m?r.jsxs(r.Fragment,{children:[r.jsx(Gt,{className:"animate-spin"}),"Sending OTP..."]}):r.jsxs(r.Fragment,{children:["Send OTP",r.jsx(wi,{})]})})]}),i==="otp"&&o===2&&r.jsxs("form",{onSubmit:k,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-200 mb-2",children:"Enter OTP"}),r.jsxs("div",{className:"relative",children:[r.jsx(Hd,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"}),r.jsx("input",{type:"text",name:"otp",value:d.otp,onChange:S,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-center text-2xl tracking-widest",placeholder:"000000",maxLength:6,required:!0,disabled:m,autoFocus:!0})]}),r.jsxs("p",{className:"mt-2 text-xs text-slate-400 text-center",children:["OTP sent to +91 ",d.phone]})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("button",{type:"button",onClick:()=>{c(1),u(P=>({...P,otp:""})),b(!1),v(0)},className:"text-slate-300 hover:text-white transition",children:"Change Number"}),r.jsx("button",{type:"button",onClick:N,disabled:j>0||m,className:"text-primary hover:text-primary-light transition disabled:opacity-50 disabled:cursor-not-allowed",children:j>0?`Resend OTP in ${j}s`:"Resend OTP"})]}),r.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-primary hover:bg-primary-dark text-white font-semibold rounded-xl transition flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:m?r.jsxs(r.Fragment,{children:[r.jsx(Gt,{className:"animate-spin"}),"Verifying..."]}):r.jsxs(r.Fragment,{children:["Login",r.jsx(wi,{})]})})]})]})})})},FNe=()=>{const{token:e,vendor:t}=_l(),[s,a]=g.useState({totalSpareParts:0,totalBookings:0,totalRevenue:0,pendingBookings:0,completedBookings:0,cancelledBookings:0,monthlyRevenue:0,averageOrderValue:0,lowStockItems:0}),[n,i]=g.useState(!0),[l,o]=g.useState({monthlyRevenue:[],bookingStatus:[],monthlyBookings:[]}),[c,d]=g.useState([]),[u,m]=g.useState([]),[f,h]=g.useState({revenueTrend:0,bookingsTrend:0}),x=g.useCallback(async()=>{var y;if(e)try{const[w,N,k]=await Promise.all([ts.getSpareParts(e),ts.getBookings(e),ts.getTransactionStats(e)]),S=w.data||w.spareParts||[],P=N.data||N.bookings||[],_=k.data||k||{},C=_.totalCredits||0,A=_.totalDebits||0,V=_.balance||C-A,q=P.filter(W=>W.status==="completed").length,Z=P.filter(W=>W.status==="pending"||W.status==="confirmed").length,ue=P.filter(W=>W.status==="cancelled").length,me=P.filter(W=>W.status==="completed"&&W.totalAmount),Q=me.length>0?me.reduce((W,T)=>W+(T.totalAmount||0),0)/me.length:0,ae=S.filter(W=>(W.stock||0)<10).length,oe=p(P,[]),R=[{name:"Completed",value:q,color:"#10b981"},{name:"Pending",value:Z,color:"#f59e0b"},{name:"Cancelled",value:ue,color:"#ef4444"}],O=b(P),I=j(oe),X=j(O);a({totalSpareParts:S.length,totalBookings:P.length,totalRevenue:V,pendingBookings:Z,completedBookings:q,cancelledBookings:ue,monthlyRevenue:((y=oe[oe.length-1])==null?void 0:y.revenue)||0,averageOrderValue:Q,lowStockItems:ae}),o({monthlyRevenue:oe,bookingStatus:R,monthlyBookings:O}),h({revenueTrend:I,bookingsTrend:X}),d(P.slice(0,5));try{const W=await ts.getTransactions(e),T=W.data||W.transactions||[];m(T.slice(0,5))}catch(W){console.error("Failed to fetch recent transactions:",W),m([])}}catch(w){console.error("Failed to fetch dashboard data:",w)}finally{i(!1)}},[e]);g.useEffect(()=>{if(!e)return;x();const y=setInterval(()=>{x()},3e5);return()=>clearInterval(y)},[e,x]);const p=(y,w=[])=>{const N=[],k=new Date;for(let S=5;S>=0;S--){const P=new Date(k.getFullYear(),k.getMonth()-S,1),_=P.toLocaleDateString("en-US",{month:"short"}),A=y.filter(V=>{const q=new Date(V.orderDate||V.createdAt);return q.getMonth()===P.getMonth()&&q.getFullYear()===P.getFullYear()&&V.status==="completed"}).reduce((V,q)=>V+(q.totalAmount||0),0);N.push({month:_,revenue:Math.round(A)})}return N},b=y=>{const w=[],N=new Date;for(let k=5;k>=0;k--){const S=new Date(N.getFullYear(),N.getMonth()-k,1),P=S.toLocaleDateString("en-US",{month:"short"}),_=y.filter(C=>{const A=new Date(C.orderDate||C.createdAt);return A.getMonth()===S.getMonth()&&A.getFullYear()===S.getFullYear()});w.push({month:P,bookings:_.length})}return w},j=y=>{var k,S,P,_;if(y.length<2)return 0;const w=((k=y[y.length-1])==null?void 0:k.revenue)||((S=y[y.length-1])==null?void 0:S.bookings)||0,N=((P=y[y.length-2])==null?void 0:P.revenue)||((_=y[y.length-2])==null?void 0:_.bookings)||0;return N===0?w>0?100:0:Math.round((w-N)/N*100)};if(n)return r.jsx("div",{className:"flex items-center justify-center h-96",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Loading dashboard..."})]})});const v=[{title:"Total Revenue",value:`${s.totalRevenue.toLocaleString("en-IN")}`,icon:Qt,color:"text-emerald-600",bgColor:"bg-emerald-50",borderColor:"border-emerald-200",trend:f.revenueTrend,subtitle:`${s.monthlyRevenue.toLocaleString("en-IN")} this month`},{title:"Total Bookings",value:s.totalBookings,icon:Sn,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",trend:f.bookingsTrend,subtitle:`${s.completedBookings} completed`},{title:"Spare Parts",value:s.totalSpareParts,icon:Is,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",subtitle:s.lowStockItems>0?`${s.lowStockItems} low stock`:"All in stock"},{title:"Pending Orders",value:s.pendingBookings,icon:Hs,color:"text-amber-600",bgColor:"bg-amber-50",borderColor:"border-amber-200",subtitle:"Requires attention"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:["Welcome back, ",(t==null?void 0:t.name)||"Vendor","!"]}),r.jsx("p",{className:"text-slate-600",children:"Here's what's happening with your business today"})]}),r.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors text-sm font-medium text-slate-700",children:[r.jsx(Gt,{className:"w-4 h-4"}),"Refresh"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:v.map((y,w)=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-lg hover:border-primary/20 transition-all duration-300 group cursor-pointer",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:`${y.bgColor} p-3 rounded-xl group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-sm`,children:r.jsx(y.icon,{className:`${y.color} text-xl`})}),y.trend!==void 0&&y.trend!==0&&r.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold ${y.trend>=0?"bg-emerald-50 text-emerald-700 border border-emerald-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[y.trend>=0?r.jsx(ur,{className:"w-3 h-3"}):r.jsx(hu,{className:"w-3 h-3"}),Math.abs(y.trend),"%"]})]}),r.jsx("h3",{className:"text-sm font-semibold text-slate-600 mb-2",children:y.title}),r.jsx("p",{className:"text-3xl font-bold text-slate-800 mb-2 group-hover:text-primary transition-colors",children:y.value}),y.subtitle&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-400"}),r.jsx("p",{className:"text-xs text-slate-500",children:y.subtitle})]})]},w))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Revenue Trend"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Last 6 months"})]}),r.jsx("div",{className:"p-2 bg-emerald-50 rounded-lg",children:r.jsx(jh,{className:"w-5 h-5 text-emerald-600"})})]}),l.monthlyRevenue.length>0&&l.monthlyRevenue.some(y=>y.revenue>0)?r.jsx(xi,{width:"100%",height:250,children:r.jsxs(c3,{data:l.monthlyRevenue,children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),r.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),r.jsx(uc,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),r.jsx(hc,{dataKey:"month",stroke:"#64748b",fontSize:12}),r.jsx(fc,{stroke:"#64748b",fontSize:12}),r.jsx(yi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:y=>[`${y.toLocaleString("en-IN")}`,"Revenue"]}),r.jsx($h,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)"})]})}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] text-center py-8",children:[r.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(jh,{className:"w-10 h-10 text-slate-400"})}),r.jsx("p",{className:"text-slate-600 font-medium mb-1",children:"No Revenue Data"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Revenue data will appear here once you start receiving payments"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Booking Status"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Distribution overview"})]}),r.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:r.jsx(nc,{className:"w-5 h-5 text-blue-600"})})]}),l.bookingStatus.length>0&&l.bookingStatus.some(y=>y.value>0)?r.jsx(xi,{width:"100%",height:250,children:r.jsxs(Bx,{children:[r.jsx(Rh,{data:l.bookingStatus,cx:"50%",cy:"50%",labelLine:!1,label:({name:y,percent:w})=>`${y}: ${(w*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:l.bookingStatus.map((y,w)=>r.jsx(vo,{fill:y.color},`cell-${w}`))}),r.jsx(yi,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-[250px] text-center py-8",children:[r.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(nc,{className:"w-10 h-10 text-slate-400"})}),r.jsx("p",{className:"text-slate-600 font-medium mb-1",children:"No Booking Data"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Booking statistics will appear here once you receive orders"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Recent Bookings"}),r.jsxs(Wt,{to:"/vendor/dashboard/bookings",className:"text-sm text-primary hover:text-primary-dark font-medium flex items-center gap-1",children:["View all",r.jsx(wi,{className:"w-4 h-4"})]})]}),r.jsx("div",{className:"space-y-3",children:c.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(Sn,{className:"w-8 h-8 text-slate-400"})}),r.jsx("p",{className:"text-slate-600 font-medium mb-1",children:"No Recent Bookings"}),r.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Your recent bookings will appear here"}),r.jsxs(Wt,{to:"/vendor/dashboard/add-spare-part",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm font-medium",children:[r.jsx(Is,{className:"w-4 h-4"}),"Add Spare Parts"]})]}):c.map(y=>{var w,N;return r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-slate-50 to-white rounded-xl border border-slate-200 hover:border-primary/30 hover:shadow-md transition-all duration-200 group",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsx("div",{className:`p-2 rounded-lg ${y.status==="completed"?"bg-emerald-100":y.status==="pending"?"bg-amber-100":y.status==="cancelled"?"bg-red-100":"bg-blue-100"}`,children:r.jsx(Sn,{className:`w-4 h-4 ${y.status==="completed"?"text-emerald-600":y.status==="pending"?"text-amber-600":y.status==="cancelled"?"text-red-600":"text-blue-600"}`})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold text-slate-800 text-sm truncate group-hover:text-primary transition-colors",children:((w=y.sparePart)==null?void 0:w.name)||y.sparePartName||"Spare Part"}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("p",{className:"text-xs text-slate-600",children:((N=y.customer)==null?void 0:N.name)||"Customer"}),r.jsx("span",{className:"text-slate-300",children:""}),r.jsx("p",{className:"text-xs text-slate-500",children:new Date(y.orderDate||y.createdAt).toLocaleDateString()})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[r.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-semibold border ${y.status==="completed"?"bg-emerald-50 text-emerald-700 border-emerald-200":y.status==="pending"?"bg-amber-50 text-amber-700 border-amber-200":y.status==="cancelled"?"bg-red-50 text-red-700 border-red-200":"bg-blue-50 text-blue-700 border-blue-200"}`,children:y.status}),r.jsxs("span",{className:"font-bold text-slate-800 text-lg",children:["",(y.totalAmount||0).toLocaleString("en-IN")]})]})]},y._id||y.id)})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Recent Transactions"}),r.jsxs(Wt,{to:"/vendor/dashboard/transactions",className:"text-sm text-primary hover:text-primary-dark font-medium flex items-center gap-1",children:["View all",r.jsx(wi,{className:"w-4 h-4"})]})]}),r.jsx("div",{className:"space-y-3",children:u.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(Qt,{className:"w-8 h-8 text-slate-400"})}),r.jsx("p",{className:"text-slate-600 font-medium mb-1",children:"No Recent Transactions"}),r.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Transaction history will appear here"}),r.jsxs(Wt,{to:"/vendor/dashboard/bookings",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm font-medium",children:[r.jsx(Sn,{className:"w-4 h-4"}),"View Bookings"]})]}):u.map(y=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-slate-50 to-white rounded-xl border border-slate-200 hover:border-primary/30 hover:shadow-md transition-all duration-200 group",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsx("div",{className:`p-2.5 rounded-lg shadow-sm ${y.type==="credit"?"bg-emerald-100":"bg-red-100"}`,children:y.type==="credit"?r.jsx(ur,{className:"w-5 h-5 text-emerald-600"}):r.jsx(hu,{className:"w-5 h-5 text-red-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold text-slate-800 text-sm group-hover:text-primary transition-colors",children:y.description||(y.type==="credit"?"Payment Received":"Payment Sent")}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Hc,{className:"w-3 h-3 text-slate-400"}),r.jsx("p",{className:"text-xs text-slate-500",children:new Date(y.transactionDate||y.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})]}),r.jsxs("span",{className:`font-bold text-lg ${y.type==="credit"?"text-emerald-600":"text-red-600"}`,children:[y.type==="credit"?"+":"-","",(y.amount||0).toLocaleString("en-IN")]})]},y._id||y.id))})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 rounded-xl shadow-sm border border-slate-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Quick Actions"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Get things done faster"})]}),r.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:r.jsx(nc,{className:"w-5 h-5 text-primary"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs(Wt,{to:"/vendor/dashboard/add-spare-part",className:"group relative p-6 bg-white border-2 border-slate-200 rounded-xl hover:border-primary hover:shadow-lg transition-all duration-300 text-center overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full -mr-10 -mt-10 group-hover:scale-150 transition-transform duration-500"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"inline-flex p-3 bg-primary/10 rounded-xl mb-3 group-hover:bg-primary group-hover:scale-110 transition-all duration-300",children:r.jsx(Is,{className:"text-2xl text-primary group-hover:text-white transition-colors"})}),r.jsx("p",{className:"font-bold text-slate-800 mb-1 group-hover:text-primary transition-colors",children:"Add Spare Part"}),r.jsx("p",{className:"text-xs text-slate-600",children:"Add new inventory item"})]})]}),r.jsxs(Wt,{to:"/vendor/dashboard/bookings",className:"group relative p-6 bg-white border-2 border-slate-200 rounded-xl hover:border-primary hover:shadow-lg transition-all duration-300 text-center overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full -mr-10 -mt-10 group-hover:scale-150 transition-transform duration-500"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"inline-flex p-3 bg-primary/10 rounded-xl mb-3 group-hover:bg-primary group-hover:scale-110 transition-all duration-300",children:r.jsx(Sn,{className:"text-2xl text-primary group-hover:text-white transition-colors"})}),r.jsx("p",{className:"font-bold text-slate-800 mb-1 group-hover:text-primary transition-colors",children:"View Bookings"}),r.jsx("p",{className:"text-xs text-slate-600",children:"Manage all orders"})]})]}),r.jsxs(Wt,{to:"/vendor/dashboard/transactions",className:"group relative p-6 bg-white border-2 border-slate-200 rounded-xl hover:border-primary hover:shadow-lg transition-all duration-300 text-center overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full -mr-10 -mt-10 group-hover:scale-150 transition-transform duration-500"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"inline-flex p-3 bg-primary/10 rounded-xl mb-3 group-hover:bg-primary group-hover:scale-110 transition-all duration-300",children:r.jsx(Qt,{className:"text-2xl text-primary group-hover:text-white transition-colors"})}),r.jsx("p",{className:"font-bold text-slate-800 mb-1 group-hover:text-primary transition-colors",children:"View Transactions"}),r.jsx("p",{className:"text-xs text-slate-600",children:"Track payments"})]})]})]})]})]})},RNe=()=>{const{token:e}=_l(),[t,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState(""),[o,c]=g.useState("all"),[d,u]=g.useState([]);g.useEffect(()=>{m(),f()},[e,o]);const m=async()=>{if(e){n(!0);try{const p={};o!=="all"&&(p.category=o),i&&(p.search=i);const b=await ts.getSpareParts(e,p);s(b.data||[])}catch(p){console.error("Failed to fetch spare parts:",p)}finally{n(!1)}}},f=async()=>{if(e)try{const p=await ts.getCategories(e),b=p.data||p.categories||[];console.log("Fetched categories:",b),u(b)}catch(p){console.error("Failed to fetch categories:",p),u([])}},h=async p=>{if(window.confirm("Are you sure you want to delete this spare part?"))try{await ts.deleteSparePart(e,p),m()}catch{alert("Failed to delete spare part")}},x=t.filter(p=>{var b,j,v;if(o!=="all"&&p.category!==o)return!1;if(i){const y=i.toLowerCase();return((b=p.name)==null?void 0:b.toLowerCase().includes(y))||((j=p.description)==null?void 0:j.toLowerCase().includes(y))||((v=p.brand)==null?void 0:v.toLowerCase().includes(y))}return!0});return a?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:"Spare Parts"}),r.jsx("p",{className:"text-slate-600",children:"Manage your spare parts inventory"})]}),r.jsx("button",{onClick:m,className:"p-2.5 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:r.jsx(Gt,{className:"text-lg text-slate-600"})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(ai,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),r.jsx("input",{type:"text",value:i,onChange:p=>l(p.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Search spare parts..."})]}),r.jsxs("select",{value:o,onChange:p=>c(p.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white min-w-[180px]",children:[r.jsx("option",{value:"all",children:"All Categories"}),d.length>0?d.map((p,b)=>r.jsx("option",{value:p,children:p},b)):r.jsx("option",{value:"",disabled:!0,children:"No categories available"})]})]})}),x.length===0?r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center border border-slate-200",children:[r.jsx(Is,{className:"text-4xl mx-auto mb-2 opacity-50 text-slate-400"}),r.jsx("p",{className:"text-slate-500",children:"No spare parts found"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(p=>{var b;return r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200 hover:shadow-lg transition",children:[r.jsx("div",{className:"w-full h-48 rounded-lg mb-4 overflow-hidden bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center relative",children:p.image?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:p.image.startsWith("http")?p.image:p.image.startsWith("/")?`https://nexo.works${p.image}`:p.image,alt:p.name,className:"w-full h-full object-cover",onError:j=>{j.target.style.display="none",j.target.nextSibling&&(j.target.nextSibling.style.display="flex")}}),r.jsx("div",{className:"hidden absolute inset-0 items-center justify-center bg-gradient-to-br from-primary/10 to-primary/20",children:p.icon?r.jsx("span",{className:"text-6xl",children:p.icon}):r.jsx(Is,{className:"w-16 h-16 text-primary/40"})})]}):p.icon?r.jsx("span",{className:"text-7xl",children:p.icon}):r.jsx(Is,{className:"w-16 h-16 text-slate-400"})}),r.jsx("div",{className:"flex items-start justify-between mb-2",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-1",children:p.name}),p.brand&&r.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:["Brand: ",p.brand]}),p.description&&r.jsx("p",{className:"text-sm text-slate-600 mb-2 line-clamp-2",children:p.description})]})}),r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-xl font-bold text-primary",children:["",((b=p.price)==null?void 0:b.toLocaleString("en-IN"))||0]}),r.jsxs("p",{className:"text-sm text-slate-500",children:["Stock: ",p.stock," ",p.unit]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${p.status==="active"?"bg-green-100 text-green-800":p.status==="out_of_stock"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:p.status})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("a",{href:`/vendor/dashboard/add-spare-part?id=${p._id}`,className:"flex-1 py-2 bg-primary/10 text-primary rounded-lg font-semibold hover:bg-primary/20 transition text-center",children:[r.jsx(Lw,{className:"inline mr-2"}),"Edit"]}),r.jsx("button",{onClick:()=>h(p._id),className:"py-2 px-4 bg-red-50 text-red-600 rounded-lg font-semibold hover:bg-red-100 transition",children:r.jsx(an,{})})]})]},p._id)})})]})},BNe=[{emoji:"",name:"Wrench",category:"Tools"},{emoji:"",name:"Hammer",category:"Tools"},{emoji:"",name:"Tools",category:"Tools"},{emoji:"",name:"Gear",category:"Tools"},{emoji:"",name:"Nut & Bolt",category:"Tools"},{emoji:"",name:"Electrical",category:"Electrical"},{emoji:"",name:"Light Bulb",category:"Electrical"},{emoji:"",name:"Plug",category:"Electrical"},{emoji:"",name:"Antenna",category:"Electrical"},{emoji:"",name:"Battery",category:"Electrical"},{emoji:"",name:"Shower",category:"Plumbing"},{emoji:"",name:"Water",category:"Plumbing"},{emoji:"",name:"Droplet",category:"Plumbing"},{emoji:"",name:"Wave",category:"Plumbing"},{emoji:"",name:"Paint",category:"Painting"},{emoji:"",name:"Paintbrush",category:"Painting"},{emoji:"",name:"Frame",category:"Decor"},{emoji:"",name:"Window",category:"Decor"},{emoji:"",name:"Door",category:"Decor"},{emoji:"",name:"Snowflake",category:"AC"},{emoji:"",name:"Thermometer",category:"AC"},{emoji:"",name:"Cyclone",category:"AC"},{emoji:"",name:"Wind",category:"AC"},{emoji:"",name:"Broom",category:"Cleaning"},{emoji:"",name:"Sponge",category:"Cleaning"},{emoji:"",name:"Bottle",category:"Cleaning"},{emoji:"",name:"Soap",category:"Cleaning"},{emoji:"",name:"Fire Extinguisher",category:"Safety"},{emoji:"",name:"Paperclip",category:"Hardware"},{emoji:"",name:"Pushpin",category:"Hardware"},{emoji:"",name:"Lock",category:"Hardware"},{emoji:"",name:"Key",category:"Hardware"},{emoji:"",name:"Hook",category:"Hardware"},{emoji:"",name:"TV",category:"Appliances"},{emoji:"",name:"Phone",category:"Appliances"},{emoji:"",name:"Laptop",category:"Appliances"},{emoji:"",name:"Computer",category:"Appliances"},{emoji:"",name:"Keyboard",category:"Appliances"},{emoji:"",name:"Construction",category:"Building"},{emoji:"",name:"Brick",category:"Building"},{emoji:"",name:"House",category:"Building"},{emoji:"",name:"Building",category:"Building"},{emoji:"",name:"Factory",category:"Building"},{emoji:"",name:"Package",category:"Storage"},{emoji:"",name:"Clipboard",category:"Storage"},{emoji:"",name:"Card Index",category:"Storage"},{emoji:"",name:"Folder",category:"Storage"},{emoji:"",name:"File Cabinet",category:"Storage"},{emoji:"",name:"Toolbox",category:"General"},{emoji:"",name:"Shopping Cart",category:"General"},{emoji:"",name:"Chart",category:"General"},{emoji:"",name:"Star",category:"General"},{emoji:"",name:"Sparkle",category:"General"},{emoji:"",name:"Glowing Star",category:"General"},{emoji:"",name:"Diamond",category:"General"},{emoji:"",name:"Target",category:"General"},{emoji:"",name:"Check Mark",category:"General"},{emoji:"",name:"Magnifying Glass",category:"General"},{emoji:"",name:"Ladder",category:"Tools"},{emoji:"",name:"Bucket",category:"Tools"},{emoji:"",name:"Magnet",category:"Tools"},{emoji:"",name:"Flashlight",category:"Tools"},{emoji:"",name:"Screwdriver",category:"Tools"}],$Ne=()=>{const{token:e}=_l(),t=ms(),[s]=a_(),a=s.get("id"),[n,i]=g.useState(!1),[l,o]=g.useState({name:"",description:"",category:"",brand:"",price:"",stock:"",unit:"units",specifications:"",hsnCode:"",gstPercentage:"0",image:null,icon:""}),[c,d]=g.useState(null),[u,m]=g.useState([]),[f,h]=g.useState(!1),[x,p]=g.useState(null),[b,j]=g.useState("icon"),[v,y]=g.useState(!1),[w,N]=g.useState("");g.useEffect(()=>{k(),a&&S()},[e,a]);const k=async()=>{if(e)try{const q=await ts.getCategories(e),Z=q.data||q.categories||[];console.log("Fetched categories for form:",Z),m(Z)}catch(q){console.error("Failed to fetch categories:",q),m([])}},S=async()=>{if(!(!e||!a))try{const Z=(await ts.getSparePart(e,a)).data;o({name:Z.name||"",description:Z.description||"",category:Z.category||"",brand:Z.brand||"",price:Z.price||"",stock:Z.stock||"",unit:Z.unit||"units",specifications:Z.specifications||"",hsnCode:Z.hsnCode||"",gstPercentage:Z.gstPercentage||"0",image:null,icon:Z.icon||""}),Z.image?(d(Z.image),j("image")):Z.icon&&j("icon")}catch(q){console.error("Failed to fetch spare part:",q)}},P=q=>{const{name:Z,value:ue}=q.target;o(me=>({...me,[Z]:ue}))},_=q=>{const Z=q.target.files[0];if(Z){o(me=>({...me,image:Z,icon:""})),j("image");const ue=new FileReader;ue.onloadend=()=>{d(ue.result)},ue.readAsDataURL(Z)}},C=q=>{o(Z=>({...Z,icon:q,image:null})),j("icon"),d(null),y(!1)},A=async q=>{q.preventDefault(),i(!0),p(null),h(!1);try{const Z=new FormData;if(Object.keys(l).forEach(ue=>{ue!=="image"&&ue!=="icon"&&l[ue]!==null&&l[ue]!==void 0&&l[ue]!==""&&Z.append(ue,l[ue])}),b==="image"&&l.image)Z.append("image",l.image),Z.append("icon","");else if(b==="icon"&&l.icon){const ue=Array.isArray(l.icon)?l.icon[0]:l.icon;ue&&ue.trim()!==""&&Z.append("icon",ue.trim())}else Z.append("icon","");a?(await ts.updateSparePart(e,a,Z),h(!0),setTimeout(()=>{t("/vendor/dashboard/spare-parts")},1500)):(await ts.addSparePart(e,Z),h(!0),o({name:"",description:"",category:"",brand:"",price:"",stock:"",unit:"units",specifications:"",hsnCode:"",gstPercentage:"0",image:null,icon:""}),d(null),j("icon"),setTimeout(()=>h(!1),3e3))}catch(Z){p(Z.message||"Failed to save spare part")}finally{i(!1)}},V=BNe.filter(q=>w===""||q.name.toLowerCase().includes(w.toLowerCase())||q.category.toLowerCase().includes(w.toLowerCase())||q.emoji.includes(w));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:a?"Edit Spare Part":"Add New Spare Part"}),r.jsx("p",{className:"text-slate-600",children:"Add or update spare part information"})]}),f&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-green-800",children:["Spare part ",a?"updated":"added"," successfully!"]}),x&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-800",children:x}),r.jsxs("form",{onSubmit:A,className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Name *"}),r.jsx("input",{type:"text",name:"name",value:l.name,onChange:P,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description"}),r.jsx("textarea",{name:"description",value:l.description,onChange:P,rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Category *"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",name:"category",value:l.category,onChange:P,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white",list:"categories",placeholder:u.length>0?"Select existing or enter new category":"Enter category name (e.g., Engine Parts, Brake Parts)",required:!0}),u.length>0&&r.jsx("datalist",{id:"categories",children:u.map((q,Z)=>r.jsx("option",{value:q},Z))})]}),u.length>0?r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[u.length," existing categor",u.length===1?"y":"ies"," available. Type to see suggestions or enter a new one."]}):r.jsxs("p",{className:"text-xs text-slate-500 mt-1 flex items-center gap-1",children:[r.jsx(Is,{className:"w-3 h-3"}),"No existing categories. This will create your first category."]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Brand"}),r.jsx("input",{type:"text",name:"brand",value:l.brand,onChange:P,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Price () *"}),r.jsx("input",{type:"number",name:"price",value:l.price,onChange:P,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Stock *"}),r.jsx("input",{type:"number",name:"stock",value:l.stock,onChange:P,min:"0",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Unit"}),r.jsx("input",{type:"text",name:"unit",value:l.unit,onChange:P,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"HSN Code"}),r.jsx("input",{type:"text",name:"hsnCode",value:l.hsnCode,onChange:P,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Percentage (%)"}),r.jsx("input",{type:"number",name:"gstPercentage",value:l.gstPercentage,onChange:P,min:"0",max:"100",step:"0.01",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Specifications"}),r.jsx("textarea",{name:"specifications",value:l.specifications,onChange:P,rows:3,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Visual Representation"}),r.jsxs("div",{className:"flex gap-2 mb-4",children:[r.jsxs("button",{type:"button",onClick:()=>{j("icon"),o(q=>({...q,image:null})),d(null)},className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${b==="icon"?"bg-primary text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[r.jsx(lk,{className:"w-4 h-4"}),"Select Icon"]}),r.jsxs("button",{type:"button",onClick:()=>{j("image"),o(q=>({...q,icon:""}))},className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${b==="image"?"bg-primary text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[r.jsx(wh,{className:"w-4 h-4"}),"Upload Image"]})]}),b==="image"?r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("label",{className:"flex-1 cursor-pointer",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:_,className:"hidden"}),r.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-primary transition",children:[r.jsx(oo,{className:"text-2xl text-slate-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-slate-600",children:c?"Change Image":"Upload Image"})]})]}),c&&r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:c,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg"}),r.jsx("button",{type:"button",onClick:()=>{d(null),o(q=>({...q,image:null}))},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:r.jsx(ut,{})})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("button",{type:"button",onClick:()=>y(!v),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition",children:[r.jsx(lk,{className:"w-4 h-4"}),l.icon?"Change Icon":"Select Icon"]}),l.icon&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary/10 to-primary/20 rounded-lg flex items-center justify-center text-4xl",children:l.icon}),r.jsx("button",{type:"button",onClick:()=>o(q=>({...q,icon:""})),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition",children:r.jsx(ut,{})})]})]}),v&&r.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:[r.jsx("div",{className:"mb-4",children:r.jsx("input",{type:"text",placeholder:"Search icons...",value:w,onChange:q=>N(q.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})}),r.jsx("div",{className:"grid grid-cols-8 sm:grid-cols-10 gap-2 max-h-64 overflow-y-auto",children:V.map((q,Z)=>r.jsx("button",{type:"button",onClick:()=>C(q.emoji),className:`w-10 h-10 rounded-lg flex items-center justify-center text-xl transition-all duration-200 ${l.icon===q.emoji?"bg-primary text-white ring-2 ring-primary ring-offset-2 scale-110":"bg-white hover:bg-primary/10 hover:scale-105 border border-slate-200"}`,title:`${q.name} (${q.category})`,children:q.emoji},Z))}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition",children:"Close"})})]})]})]})]}),r.jsxs("div",{className:"mt-6 flex gap-4",children:[r.jsx("button",{type:"submit",disabled:n,className:"px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Saving...":a?"Update Spare Part":"Add Spare Part"}),r.jsx("button",{type:"button",onClick:()=>t("/vendor/dashboard/spare-parts"),className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold hover:bg-slate-200 transition",children:"Cancel"})]})]})]})},UNe=()=>{const{token:e}=_l(),[t,s]=g.useState([]),[a,n]=g.useState(!0),[i,l]=g.useState("all"),[o,c]=g.useState(null),[d,u]=g.useState(!1);g.useEffect(()=>{m()},[e,i]);const m=async()=>{if(e){n(!0);try{const x={};i!=="all"&&(x.status=i);const p=await ts.getBookings(e,x);s(p.data||[])}catch(x){console.error("Failed to fetch bookings:",x)}finally{n(!1)}}},f=async(x,p,b={})=>{u(!0);try{await ts.updateBookingStatus(e,x,{status:p,...b}),m(),c(null)}catch{alert("Failed to update booking status")}finally{u(!1)}},h=x=>{switch(x){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"dispatched":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:"Bookings"}),r.jsx("p",{className:"text-slate-600",children:"Manage spare part bookings"})]}),r.jsx("button",{onClick:m,className:"p-2.5 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:r.jsx(Gt,{className:"text-lg text-slate-600"})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:r.jsxs("select",{value:i,onChange:x=>l(x.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"confirmed",children:"Confirmed"}),r.jsx("option",{value:"dispatched",children:"Dispatched"}),r.jsx("option",{value:"delivered",children:"Delivered"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})}),t.length===0?r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center border border-slate-200",children:[r.jsx(Sn,{className:"text-4xl mx-auto mb-2 opacity-50 text-slate-400"}),r.jsx("p",{className:"text-slate-500",children:"No bookings found"})]}):r.jsx("div",{className:"space-y-4",children:t.map(x=>{var p,b,j,v,y,w;return r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200 hover:shadow-lg transition",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-1",children:((p=x.sparePart)==null?void 0:p.name)||"Spare Part"}),r.jsxs("p",{className:"text-sm text-slate-600",children:["Order Date: ",new Date(x.orderDate).toLocaleDateString()]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${h(x.status)}`,children:x.status})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Quantity"}),r.jsx("p",{className:"font-semibold text-slate-800",children:x.quantity})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Unit Price"}),r.jsxs("p",{className:"font-semibold text-slate-800",children:["",((b=x.unitPrice)==null?void 0:b.toLocaleString("en-IN"))||0]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Total Amount"}),r.jsxs("p",{className:"font-semibold text-primary",children:["",((j=x.totalAmount)==null?void 0:j.toLocaleString("en-IN"))||0]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Customer"}),r.jsx("p",{className:"font-semibold text-slate-800",children:((v=x.customer)==null?void 0:v.name)||((w=(y=x.partner)==null?void 0:y.profile)==null?void 0:w.name)||"N/A"})]})]}),x.shippingAddress&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Shipping Address"}),r.jsxs("p",{className:"text-sm text-slate-700",children:[x.shippingAddress.name,", ",x.shippingAddress.street,","," ",x.shippingAddress.city,", ",x.shippingAddress.state," -"," ",x.shippingAddress.pincode]}),r.jsxs("p",{className:"text-sm text-slate-600",children:["Phone: ",x.shippingAddress.phone]})]}),x.trackingNumber&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Tracking Number"}),r.jsx("p",{className:"text-sm font-semibold text-slate-800",children:x.trackingNumber})]})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[x.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>f(x._id,"confirmed"),disabled:d,className:"px-4 py-2 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 transition disabled:opacity-50",children:[r.jsx(It,{className:"inline mr-2"}),"Confirm"]}),r.jsxs("button",{onClick:()=>f(x._id,"cancelled"),disabled:d,className:"px-4 py-2 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition disabled:opacity-50",children:[r.jsx(ut,{className:"inline mr-2"}),"Cancel"]})]}),x.status==="confirmed"&&r.jsxs("button",{onClick:()=>{const N=prompt("Enter tracking number:");N&&f(x._id,"dispatched",{trackingNumber:N})},disabled:d,className:"px-4 py-2 bg-purple-500 text-white rounded-lg font-semibold hover:bg-purple-600 transition disabled:opacity-50",children:[r.jsx(WI,{className:"inline mr-2"}),"Dispatch"]}),x.status==="dispatched"&&r.jsxs("button",{onClick:()=>f(x._id,"delivered"),disabled:d,className:"px-4 py-2 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition disabled:opacity-50",children:[r.jsx(It,{className:"inline mr-2"}),"Mark Delivered"]})]})]})},x._id)})})]})},zNe=()=>{var p,b,j;const{token:e}=_l(),[t,s]=g.useState([]),[a,n]=g.useState({totalCredits:0,totalDebits:0,balance:0}),[i,l]=g.useState(!0),[o,c]=g.useState("all"),[d,u]=g.useState("all");g.useEffect(()=>{m(),f()},[e,o,d]);const m=async()=>{if(e){l(!0);try{const v={};o!=="all"&&(v.type=o),d!=="all"&&(v.status=d);const y=await ts.getTransactions(e,v);s(y.data||[])}catch(v){console.error("Failed to fetch transactions:",v)}finally{l(!1)}}},f=async()=>{if(e)try{const v=await ts.getTransactionStats(e);n(v.data||{})}catch(v){console.error("Failed to fetch transaction stats:",v)}},h=v=>v==="credit"?"text-green-600":"text-red-600",x=v=>{switch(v){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"refunded":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:"Transactions"}),r.jsx("p",{className:"text-slate-600",children:"View your transaction history"})]}),r.jsx("button",{onClick:()=>{m(),f()},className:"p-2.5 bg-white rounded-lg shadow-md hover:shadow-lg transition border border-slate-200 self-start sm:self-auto",children:r.jsx(Gt,{className:"text-lg text-slate-600"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Total Credits"}),r.jsx(ur,{className:"text-green-500 text-xl"})]}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",((p=a.totalCredits)==null?void 0:p.toLocaleString("en-IN"))||0]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Total Debits"}),r.jsx(hu,{className:"text-red-500 text-xl"})]}),r.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",((b=a.totalDebits)==null?void 0:b.toLocaleString("en-IN"))||0]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-600",children:"Balance"}),r.jsx(Qt,{className:"text-primary text-xl"})]}),r.jsxs("p",{className:"text-2xl font-bold text-primary",children:["",((j=a.balance)==null?void 0:j.toLocaleString("en-IN"))||0]})]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 border border-slate-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("select",{value:o,onChange:v=>c(v.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"credit",children:"Credit"}),r.jsx("option",{value:"debit",children:"Debit"})]}),r.jsxs("select",{value:d,onChange:v=>u(v.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"failed",children:"Failed"}),r.jsx("option",{value:"refunded",children:"Refunded"})]})]})}),t.length===0?r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center border border-slate-200",children:[r.jsx(Qt,{className:"text-4xl mx-auto mb-2 opacity-50 text-slate-400"}),r.jsx("p",{className:"text-slate-500",children:"No transactions found"})]}):r.jsx("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Reference"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-200",children:t.map(v=>{var y;return r.jsxs("tr",{className:"hover:bg-slate-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700",children:new Date(v.transactionDate).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:v.description}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${v.type==="credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.type})}),r.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-bold ${h(v.type)}`,children:[v.type==="credit"?"+":"-","",((y=v.amount)==null?void 0:y.toLocaleString("en-IN"))||0]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${x(v.status)}`,children:v.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:v.reference||"N/A"})]},v._id)})})]})})})]})},VNe=()=>r.jsx("div",{className:"space-y-6",children:r.jsxs(uw,{children:[r.jsx(pt,{index:!0,element:r.jsx(FNe,{})}),r.jsx(pt,{path:"spare-parts",element:r.jsx(RNe,{})}),r.jsx(pt,{path:"add-spare-part",element:r.jsx($Ne,{})}),r.jsx(pt,{path:"bookings",element:r.jsx(UNe,{})}),r.jsx(pt,{path:"transactions",element:r.jsx(zNe,{})}),r.jsx(pt,{path:"*",element:r.jsx(Zh,{to:"/vendor/dashboard",replace:!0})})]})}),CT=()=>{const{notifications:e}=_l(),[t,s]=g.useState(!1),[a,n]=g.useState({}),i=g.useRef(null),l=g.useRef(null),o=(e==null?void 0:e.notifications)||[],c=(e==null?void 0:e.unreadCount)||0,d=e==null?void 0:e.markAsRead,u=e==null?void 0:e.fetchNotifications;g.useEffect(()=>{if(t&&l.current){const x=()=>{if(!l.current)return;const b=l.current.getBoundingClientRect(),j=window.innerWidth,v=window.innerHeight,y=384,w=Math.min(v-100,600);if(j<640)n({position:"fixed",top:"4rem",right:"0.5rem",width:"calc(100vw - 1rem)",maxWidth:"24rem",maxHeight:`${w}px`,zIndex:9999});else{const N=j-b.right,k=b.left,S=b.left<300;let P=y,_=0,C="auto";if(S){const A=Math.min(y,N+b.width-16);n({position:"fixed",left:`${b.left}px`,top:`${b.bottom+8}px`,width:`${Math.max(280,A)}px`,maxWidth:"24rem",maxHeight:`${w}px`,minWidth:"280px",zIndex:9999});return}else _=0,C="auto",N<y&&(k>N?(C=0,_="auto",P=Math.min(y,k-8)):P=Math.max(300,N-8)),n({position:"absolute",right:_,left:C,top:"100%",marginTop:"0.5rem",width:`${Math.max(280,P)}px`,maxWidth:"24rem",maxHeight:`${w}px`,minWidth:"280px",zIndex:9999})}},p=setTimeout(x,0);return window.addEventListener("resize",x),window.addEventListener("scroll",x,!0),()=>{clearTimeout(p),window.removeEventListener("resize",x),window.removeEventListener("scroll",x,!0)}}else n({})},[t]),g.useEffect(()=>{const x=p=>{i.current&&!i.current.contains(p.target)&&l.current&&!l.current.contains(p.target)&&s(!1)};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[]),g.useEffect(()=>{u&&u()},[u]);const m=async(x=null)=>{d&&(await d(x),u&&await u())},f=async()=>{d&&(await d(),u&&await u())},h=x=>{if(!x)return"";const p=new Date(x),j=new Date-p,v=Math.floor(j/6e4),y=Math.floor(j/36e5),w=Math.floor(j/864e5);return v<1?"Just now":v<60?`${v}m ago`:y<24?`${y}h ago`:w<7?`${w}d ago`:p.toLocaleDateString()};return r.jsxs("div",{className:"relative z-50",ref:i,children:[r.jsxs("button",{ref:l,onClick:()=>s(!t),className:"relative p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors z-50","aria-label":"Notifications",children:[r.jsx(ki,{className:"w-5 h-5"}),c>0&&r.jsx("span",{className:"absolute top-0 right-0 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs font-semibold text-white transition-opacity duration-200",children:c>9?"9+":c},c)]}),t&&r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-slate-200 flex flex-col overflow-hidden",style:{...a,zIndex:9999,position:a.position||"absolute"},children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 flex-shrink-0",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Notifications"}),r.jsxs("div",{className:"flex items-center gap-2",children:[c>0&&r.jsx("button",{onClick:f,className:"text-xs text-primary hover:text-primary-dark font-medium",children:"Mark all read"}),r.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-slate-100 rounded-lg transition-colors",children:r.jsx(ut,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"overflow-y-auto flex-1 min-h-0",children:o.length===0?r.jsxs("div",{className:"p-8 text-center text-slate-500",children:[r.jsx(ki,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),r.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):r.jsx("div",{className:"divide-y divide-slate-100",children:o.map(x=>{var b;const p=!x.seen&&!x.read;return r.jsx("div",{className:`p-4 hover:bg-slate-50 transition-colors cursor-pointer ${p?"bg-blue-50/50":""}`,onClick:()=>{p&&m(x._id||x.id)},children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-1",children:r.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-slate-900 break-words line-clamp-2",children:x.title||((b=x.message)==null?void 0:b.split(": ")[0])||"New notification"}),x.message&&r.jsx("p",{className:"text-xs text-slate-600 mt-1 break-words line-clamp-2",children:x.title?x.message:x.message.split(": ").slice(1).join(": ")||x.message}),r.jsx("p",{className:"text-xs text-slate-400 mt-2",children:h(x.date||x.createdAt)})]}),p&&r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})})]})},x._id||x.id||Math.random())})})}),o.length>0&&r.jsx("div",{className:"p-3 border-t border-slate-200 bg-slate-50 flex-shrink-0",children:r.jsx("button",{onClick:()=>{s(!1)},className:"w-full text-sm text-center text-primary hover:text-primary-dark font-medium",children:"View all notifications"})})]})]})},HNe=()=>{const{vendor:e,token:t,logout:s,updateVendor:a,notifications:n}=_l(),i=ms();Br();const[l,o]=g.useState(!1),[c,d]=g.useState(e==null?void 0:e.status),[u,m]=g.useState(!0),f=g.useRef(!1),h=g.useRef(e),x=g.useRef(a);g.useEffect(()=>{h.current=e,x.current=a},[e,a]);const p=g.useCallback(async(w=!1)=>{var N,k,S,P,_;if(!t){m(!1);return}if(!(f.current&&!w)){f.current=!0,m(!0);try{const C=await ts.getProfile(t);if(C.success&&C.vendor){const A=C.vendor.status;d(A),x.current&&x.current({...C.vendor})}else d(((N=h.current)==null?void 0:N.status)||"active")}catch(C){console.error("Error checking vendor status:",C),C.status===403||(k=C.data)!=null&&k.status?(d(((S=C.data)==null?void 0:S.status)||"suspended"),h.current&&x.current&&x.current({status:((P=C.data)==null?void 0:P.status)||"suspended"})):d(((_=h.current)==null?void 0:_.status)||"active")}finally{m(!1),f.current=!1}}},[t]);g.useEffect(()=>{if(!t)return;p(!0);const w=setInterval(()=>{p(!1)},3e5);return()=>{clearInterval(w),f.current=!1}},[t,p]),g.useEffect(()=>{if(!(n!=null&&n.currentNotification))return;const w=n.currentNotification,N=w.title||"",k=w.message||"",S=w.type||"";(w.isStatusChange===!0||S==="status-change"||S==="alert"||N.toLowerCase().includes("account")&&(N.toLowerCase().includes("activated")||N.toLowerCase().includes("suspended")||N.toLowerCase().includes("deactivated"))||k.toLowerCase().includes("account")&&(k.toLowerCase().includes("activated")||k.toLowerCase().includes("suspended")||k.toLowerCase().includes("deactivated")))&&(console.log("Status change notification detected, refreshing vendor status..."),setTimeout(()=>{p(!0)},1e3))},[n==null?void 0:n.currentNotification,p]),g.useEffect(()=>{const w=()=>{console.log("Status change event received, refreshing vendor status..."),setTimeout(()=>{p(!0)},1e3)};return window.addEventListener("vendorStatusChange",w),()=>{window.removeEventListener("vendorStatusChange",w)}},[p]);const b=()=>{s(),i("/vendor/login",{replace:!0})},j=(e==null?void 0:e.name)||(e==null?void 0:e.companyName)||"Vendor",v=j.charAt(0).toUpperCase(),y=c==="suspended"||c==="inactive";return u?r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:r.jsxs(E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:20},className:"text-center",children:[r.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),r.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-slate-600",children:"Loading..."})]})}):y?r.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:r.jsxs(E.div,{initial:{scale:.5,opacity:0,y:100,rotateX:-90},animate:{scale:1,opacity:1,y:0,rotateX:0},transition:{type:"spring",damping:15,stiffness:200,delay:.2,duration:.8},className:"max-w-2xl w-full bg-white rounded-2xl shadow-2xl border border-slate-200 p-8 md:p-12 text-center",children:[r.jsx(E.div,{initial:{scale:0,rotate:-360,opacity:0},animate:{scale:1,rotate:0,opacity:1},transition:{type:"spring",damping:10,stiffness:150,delay:.4},className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-red-100 via-red-200 to-red-300 rounded-full flex items-center justify-center shadow-xl",children:r.jsx(E.div,{animate:{rotate:[0,-20,20,-20,0],scale:[1,1.2,1]},transition:{duration:.8,delay:1,repeat:3,ease:"easeInOut"},children:r.jsx(Pu,{className:"text-5xl text-red-600"})})},`alert-icon-${c}`),r.jsxs(E.h1,{initial:{opacity:0,y:-30,scale:.8},animate:{opacity:1,y:0,scale:1},transition:{delay:.6,type:"spring",stiffness:200,damping:15},className:"text-4xl font-bold text-slate-800 mb-4",children:["Account ",c==="suspended"?"Suspended":"Blocked"]},`title-${c}`),r.jsxs(E.p,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:.7,type:"spring",stiffness:200,damping:15},className:"text-lg text-slate-600 mb-6",children:["Your vendor account has been ",c==="suspended"?"suspended":"blocked","."]},`description-${c}`),r.jsxs(E.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{delay:.7,type:"spring",stiffness:200},className:"bg-gradient-to-br from-red-50 to-red-100 border-2 border-red-200 rounded-lg p-6 mb-8 shadow-md",children:[r.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-slate-700 mb-4 font-medium",children:"Please contact Nexo Admin to resolve this issue and restore access to your account."}),r.jsxs(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.9,type:"spring",stiffness:300},className:"flex items-center justify-center gap-3 text-slate-700",children:[r.jsx(E.div,{animate:{scale:[1,1.3,1],rotate:[0,10,-10,0]},transition:{duration:2.5,repeat:1/0,repeatDelay:2,ease:"easeInOut"},className:"p-2 bg-white rounded-full shadow-md",children:r.jsx(cl,{className:"text-red-600 text-xl"})}),r.jsxs("span",{className:"text-lg",children:["Email: ",r.jsx(E.a,{href:"mailto:support@nexo.works",className:"text-primary hover:underline font-semibold inline-block",whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.95},transition:{type:"spring",stiffness:400},children:"support@nexo.works"})]})]})]},"contact-box"),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,type:"spring",stiffness:200},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(E.button,{whileHover:{scale:1.08,boxShadow:"0 15px 30px rgba(59, 130, 246, 0.3)",y:-2},whileTap:{scale:.92,y:0},onClick:b,className:"px-8 py-3 bg-gradient-to-r from-primary to-primary-dark text-white rounded-lg font-semibold flex items-center justify-center gap-2 shadow-lg",children:[r.jsx(E.span,{animate:{x:[0,-3,3,0]},transition:{duration:1.5,repeat:1/0,repeatDelay:2},children:r.jsx(ic,{})}),r.jsx("span",{children:"Logout"})]}),r.jsxs(E.button,{whileHover:{scale:1.08,boxShadow:"0 15px 30px rgba(0, 0, 0, 0.15)",y:-2,backgroundColor:"#e2e8f0"},whileTap:{scale:.92,y:0},onClick:()=>window.location.href="mailto:support@nexo.works?subject=Account Access Issue",className:"px-8 py-3 bg-slate-100 text-slate-700 rounded-lg font-semibold flex items-center justify-center gap-2 shadow-lg",children:[r.jsx(E.span,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:r.jsx(cl,{})}),r.jsx("span",{children:"Contact Admin"})]})]},"buttons"),c==="suspended"&&r.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"mt-6 text-sm text-slate-500",children:"If you believe this is an error, please contact our support team immediately."})]},`blocked-card-${c}`)},"blocked-screen"):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex flex-col",children:[r.jsx("header",{className:"lg:hidden bg-white shadow-md border-b border-slate-200 fixed top-0 left-0 right-0 z-40 w-full",children:r.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>o(!l),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:l?r.jsx(ut,{className:"text-xl"}):r.jsx(Fw,{className:"text-xl"})}),r.jsx(An,{className:"scale-75 origin-left"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(CT,{}),r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold shadow-md",children:v})]})]})}),r.jsxs("div",{className:"flex relative flex-1 pt-[64px] lg:pt-0",children:[r.jsxs("aside",{className:"hidden lg:flex lg:w-64 flex-col bg-white shadow-xl border-r border-slate-200 fixed top-0 left-0 h-screen overflow-visible z-30",children:[r.jsx("div",{className:"px-4 py-4 border-b border-slate-200 flex-shrink-0 bg-white sticky top-0 z-10",children:r.jsx(An,{className:"scale-75 origin-left"})}),r.jsx("div",{className:"px-4 py-4 border-b border-slate-200 bg-gradient-to-br from-primary/5 to-primary/10 flex-shrink-0 relative overflow-visible",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-lg border-2 border-primary/20",children:v}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold text-slate-800 truncate text-sm",children:j}),r.jsx("p",{className:"text-xs text-slate-500 truncate",children:(e==null?void 0:e.email)||"N/A"})]}),r.jsx(CT,{})]})}),r.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",children:[r.jsx(xm,{to:"/vendor/dashboard",icon:Nc,label:"Dashboard"}),r.jsx(xm,{to:"/vendor/dashboard/spare-parts",icon:Is,label:"Spare Parts"}),r.jsx(xm,{to:"/vendor/dashboard/add-spare-part",icon:Mr,label:"Add Spare Part"}),r.jsx(xm,{to:"/vendor/dashboard/bookings",icon:Sn,label:"Bookings"}),r.jsx(xm,{to:"/vendor/dashboard/transactions",icon:Qt,label:"Transactions"})]}),r.jsx("div",{className:"px-4 py-4 border-t border-slate-200 flex-shrink-0 bg-white sticky bottom-0 z-10",children:r.jsxs("button",{onClick:b,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-semibold rounded-lg bg-red-50 hover:bg-red-100 text-red-600 transition",children:[r.jsx(ic,{})," Logout"]})})]}),l&&r.jsx("div",{className:"lg:hidden fixed inset-0 z-[70] bg-black/50 backdrop-blur-sm transition-opacity",onClick:()=>o(!1),children:r.jsxs("div",{className:"w-80 max-w-[85vw] bg-white h-full shadow-2xl overflow-y-auto flex flex-col",onClick:w=>w.stopPropagation(),children:[r.jsxs("div",{className:"px-4 py-4 border-b border-slate-200 flex-shrink-0 sticky top-0 bg-white z-10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx(An,{className:"scale-75 origin-left"}),r.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",type:"button",children:r.jsx(ut,{className:"text-xl"})})]}),r.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-br from-primary/5 to-primary/10 p-3 rounded-lg",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold border-2 border-primary/20",children:v}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold text-slate-800 truncate text-sm",children:j}),r.jsx("p",{className:"text-xs text-slate-500 truncate",children:(e==null?void 0:e.email)||"N/A"})]})]})]}),r.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:[r.jsx(gm,{to:"/vendor/dashboard",icon:Nc,label:"Dashboard",onClick:()=>o(!1)}),r.jsx(gm,{to:"/vendor/dashboard/spare-parts",icon:Is,label:"Spare Parts",onClick:()=>o(!1)}),r.jsx(gm,{to:"/vendor/dashboard/add-spare-part",icon:Mr,label:"Add Spare Part",onClick:()=>o(!1)}),r.jsx(gm,{to:"/vendor/dashboard/bookings",icon:Sn,label:"Bookings",onClick:()=>o(!1)}),r.jsx(gm,{to:"/vendor/dashboard/transactions",icon:Qt,label:"Transactions",onClick:()=>o(!1)})]}),r.jsx("div",{className:"px-6 py-6 border-t border-slate-200 flex-shrink-0 sticky bottom-0 bg-white z-10",children:r.jsxs("button",{onClick:b,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold rounded-xl bg-red-50 hover:bg-red-100 text-red-600 transition",type:"button",children:[r.jsx(ic,{})," Logout"]})})]})}),r.jsx("div",{className:"flex-1 min-w-0 w-full lg:ml-64",children:r.jsx("main",{className:"p-4 sm:p-6 lg:p-8 min-h-screen",children:r.jsx(Uc,{})})})]}),r.jsx(eN,{notification:n==null?void 0:n.currentNotification,onClose:(n==null?void 0:n.closeNotificationDialog)||(()=>{}),onMarkAsRead:(n==null?void 0:n.markNotificationAsRead)||(()=>{})})]})},xm=({to:e,icon:t,label:s})=>{const a=Br(),n=a.pathname===e||a.pathname.startsWith(e+"/");return r.jsxs(Wt,{to:e,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 relative group ${n?"bg-primary text-white shadow-md shadow-primary/20":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,children:[r.jsx(t,{className:`text-base transition-transform duration-200 ${n?"scale-110":"group-hover:scale-110"}`}),r.jsx("span",{className:"relative z-10",children:s}),n&&r.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-white rounded-r-full"})]})},gm=({to:e,icon:t,label:s,onClick:a})=>{const n=Br(),i=n.pathname===e||n.pathname.startsWith(e+"/");return r.jsxs(Wt,{to:e,onClick:a,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition ${i?"bg-primary text-white shadow-md":"text-slate-600 hover:bg-slate-100"}`,children:[r.jsx(t,{className:"text-base"}),s]})},WNe=()=>{const{isAuthenticated:e,isLoading:t}=_l(),s=Br();return t?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),r.jsx("p",{className:"text-sm font-medium tracking-wide text-white/80",children:"Loading vendor portal..."})]})}):e?r.jsx(Uc,{}):r.jsx(Zh,{to:"/vendor/login",state:{from:s},replace:!0})},GNe=()=>{var u;const{partnerId:e}=jg(),[t,s]=g.useState(null),[a,n]=g.useState(!0),[i,l]=g.useState(null);g.useEffect(()=>{o()},[e]);const o=async()=>{try{n(!0);const h=await(await fetch(`https://nexo.works/api/partner/verify/${e}`)).json();h.success&&h.partner?s(h.partner):l(h.message||"Partner not found")}catch(m){l("Failed to verify partner"),console.error("Verification error:",m)}finally{n(!1)}};if(a)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Verifying partner..."})]})});if(i||!t)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[r.jsx(Sc,{className:"text-red-500 text-6xl mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Verification Failed"}),r.jsx("p",{className:"text-slate-600 mb-6",children:i||"Partner not found or invalid ID"}),r.jsx("a",{href:"/",className:"inline-block px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary-dark transition",children:"Go to Home"})]})});const c=t.kycStatus==="approved"||t.kycStatus==="verified",d=t.profilePicture?t.profilePicture.startsWith("http")?t.profilePicture:`https://nexo.works/${t.profilePicture}`:null;return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 py-12 px-4",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(An,{className:"mx-auto mb-4"}),r.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Partner Verification"}),r.jsx("p",{className:"text-slate-600",children:"Verify Nexo Partner Identity"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:`${c?"bg-green-500":"bg-yellow-500"} text-white p-4 text-center`,children:r.jsx("div",{className:"flex items-center justify-center gap-3",children:c?r.jsxs(r.Fragment,{children:[r.jsx(It,{className:"text-2xl"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold",children:"Verified Partner"}),r.jsx("p",{className:"text-sm opacity-90",children:"This partner is verified by Nexo"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx(ni,{className:"text-2xl"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold",children:"Verification Pending"}),r.jsx("p",{className:"text-sm opacity-90",children:"KYC verification in progress"})]})]})})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[r.jsx("div",{className:"flex-shrink-0",children:d?r.jsx("img",{src:d,alt:t.name,className:"w-32 h-32 rounded-full object-cover border-4 border-primary/20"}):r.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-primary to-primary-dark text-white flex items-center justify-center font-bold text-4xl border-4 border-primary/20",children:((u=t.name)==null?void 0:u.charAt(0).toUpperCase())||"P"})}),r.jsxs("div",{className:"flex-1 space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-1",children:t.name||"N/A"}),r.jsxs("p",{className:"text-slate-500",children:["Partner ID: ",t.partnerId||e]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.phone&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:r.jsx(Au,{className:"text-slate-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Phone"}),r.jsx("p",{className:"font-semibold text-slate-800",children:t.phone})]})]}),t.email&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:r.jsx(cl,{className:"text-slate-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Email"}),r.jsx("p",{className:"font-semibold text-slate-800",children:t.email})]})]}),t.city&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:r.jsx(aa,{className:"text-slate-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500",children:"City"}),r.jsx("p",{className:"font-semibold text-slate-800",children:t.city})]})]}),t.experience&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:r.jsx(Ws,{className:"text-slate-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Experience"}),r.jsxs("p",{className:"font-semibold text-slate-800",children:[t.experience," Years"]})]})]})]}),t.categoryNames&&t.categoryNames.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Service Categories"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.categoryNames.map((m,f)=>r.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium",children:m},f))})]})]})]})}),r.jsx("div",{className:"bg-slate-50 border-t border-slate-200 p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(ni,{className:"text-primary text-2xl flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Verification Details"}),r.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[r.jsxs("li",{children:[" Partner ID verified: ",t.partnerId||e]}),r.jsxs("li",{children:[" KYC Status: ",r.jsx("span",{className:"font-semibold",children:t.kycStatus||"Pending"})]}),t.verifiedAt&&r.jsxs("li",{children:[" Verified on: ",new Date(t.verifiedAt).toLocaleDateString()]})]})]})]})})]}),r.jsx("div",{className:"text-center mt-6",children:r.jsx("a",{href:"/",className:"text-primary hover:text-primary-dark font-semibold",children:" Back to Home"})})]})})},KNe=()=>{const e=ms(),t=Br(),s="919590926068",a=Di(),[n,i]=g.useState({x:0,y:0}),[l,o]=g.useState(0);g.useEffect(()=>{const h=setInterval(()=>{o(x=>x+1)},1e3);return()=>clearInterval(h)},[]),g.useEffect(()=>{const h=x=>{i({x:x.clientX/window.innerWidth*100,y:x.clientY/window.innerHeight*100})};return window.addEventListener("mousemove",h),()=>window.removeEventListener("mousemove",h)},[]);const c={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.1}}},d={hidden:{y:30,opacity:0},visible:{y:0,opacity:1,transition:{duration:.7,ease:[.22,1,.36,1]}}},u={animate:{y:[0,-30,0],x:[0,10,0],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}},m={animate:{rotate:[0,360],transition:{duration:20,repeat:1/0,ease:"linear"}}},f=[{path:"/",label:"Home",icon:Nc,color:"from-blue-500 to-blue-600"},{path:"/partner",label:"Partner Program",icon:ur,color:"from-green-500 to-green-600"},{path:"/leads",label:"Lead Marketplace",icon:Wd,color:"from-yellow-500 to-yellow-600"},{path:"/materials",label:"Material Store",icon:n2,color:"from-purple-500 to-purple-600"},{path:"/amc",label:"AMC Plans",icon:aa,color:"from-pink-500 to-pink-600"},{path:"/emergency",label:"Emergency Service",icon:Wd,color:"from-red-500 to-red-600"}];return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/50 to-indigo-50 flex items-center justify-center p-4 sm:p-6 relative overflow-hidden",children:[r.jsx("div",{className:"absolute pointer-events-none transition-all duration-300 ease-out",style:{left:`${n.x}%`,top:`${n.y}%`,transform:"translate(-50%, -50%)"},children:r.jsx("div",{className:"w-96 h-96 bg-primary/5 rounded-full blur-3xl opacity-30 transition-opacity duration-500"})}),r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx(E.div,{className:"absolute top-20 left-10 w-72 h-72 bg-gradient-to-br from-primary/20 to-primary/5 rounded-full blur-3xl",variants:u,animate:"animate"}),r.jsx(E.div,{className:"absolute bottom-20 right-10 w-96 h-96 bg-gradient-to-br from-blue-400/10 to-indigo-400/5 rounded-full blur-3xl",variants:u,animate:"animate",transition:{delay:1,duration:5}}),r.jsx(E.div,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-gradient-to-br from-primary/10 to-transparent rounded-full blur-3xl",variants:u,animate:"animate",transition:{delay:.5,duration:6}}),r.jsx(E.div,{className:"absolute top-1/4 right-1/4 w-48 h-48 bg-gradient-to-br from-yellow-300/10 to-orange-300/5 rounded-full blur-2xl",variants:m,animate:"animate"})]}),r.jsx(E.div,{className:"absolute inset-0 opacity-[0.03]",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:30,repeat:1/0,repeatType:"reverse"},style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23214A73' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat",backgroundSize:"60px 60px"}}),r.jsxs(E.div,{className:"relative z-10 max-w-6xl w-full mx-auto",variants:c,initial:"hidden",animate:"visible",children:[r.jsxs(E.div,{variants:d,className:"text-center mb-8 sm:mb-12",children:[r.jsx("div",{className:"flex justify-center mb-4 sm:mb-6",children:r.jsx(An,{className:"scale-110 sm:scale-125"})}),l>5&&r.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"inline-flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-full text-sm text-slate-600 shadow-lg mb-4",children:[r.jsx(Yb,{className:"text-primary"}),r.jsxs("span",{children:["You've been here for ",l,"s"]})]})]}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-8 items-start lg:items-center",children:[r.jsxs(E.div,{variants:d,className:"text-center lg:text-left",children:[r.jsxs("div",{className:"relative mb-6 sm:mb-8",children:[r.jsx(E.h1,{className:"text-[8rem] sm:text-[12rem] lg:text-[14rem] xl:text-[16rem] font-black text-transparent bg-clip-text bg-gradient-to-r from-primary via-primary-dark to-primary leading-none relative select-none",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 200%"},children:"404"}),[...Array(6)].map((h,x)=>r.jsx(E.div,{className:"absolute w-3 h-3 bg-primary/30 rounded-full",style:{top:`${20+x*15}%`,left:`${10+x*12}%`},animate:{y:[0,-20,0],opacity:[.3,.7,.3],scale:[1,1.5,1]},transition:{duration:2+x*.3,repeat:1/0,delay:x*.2}},x))]}),r.jsx(E.div,{variants:d,className:"flex justify-center lg:justify-start mb-6 sm:mb-8",children:r.jsxs("div",{className:"relative",children:[r.jsxs(E.div,{className:"w-24 h-24 sm:w-28 sm:h-28 lg:w-36 lg:h-36 rounded-full bg-gradient-to-br from-primary via-primary-dark to-primary flex items-center justify-center shadow-2xl relative overflow-hidden",animate:{scale:[1,1.15,1],rotate:[0,10,-10,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),r.jsx(Pu,{className:"text-white text-5xl sm:text-6xl lg:text-7xl relative z-10"})]}),[1,2,3].map(h=>r.jsx(E.div,{className:"absolute inset-0 rounded-full border-2 border-primary/20",style:{top:`-${h*20}px`,left:`-${h*20}px`,right:`-${h*20}px`,bottom:`-${h*20}px`},animate:{scale:[1,1.5+h*.2,1],opacity:[.3,0,.3]},transition:{duration:2+h*.5,repeat:1/0,delay:h*.3}},h))]})}),r.jsxs(E.div,{variants:d,children:[r.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-slate-800 mb-3 sm:mb-4",children:"Page Not Found"}),r.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-slate-600 mb-2 sm:mb-3",children:"Oops! We couldn't find what you're looking for."}),r.jsxs("p",{className:"text-sm sm:text-base text-slate-500 break-words",children:["The page ",r.jsx("span",{className:"font-mono text-primary bg-primary/10 px-2 py-1 rounded break-all",children:t.pathname})," doesn't exist or has been moved."]})]})]}),r.jsxs(E.div,{variants:d,className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[r.jsxs(Wt,{to:"/",className:"group flex-1 px-5 py-3 sm:px-6 sm:py-4 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl font-semibold hover:shadow-2xl transition-all duration-300 flex items-center justify-center gap-2 sm:gap-3 transform hover:scale-105 hover:-translate-y-1",children:[r.jsx(Nc,{className:"text-lg sm:text-xl group-hover:scale-110 transition-transform"}),r.jsx("span",{className:"text-base sm:text-lg",children:"Go to Home"})]}),r.jsxs("button",{onClick:()=>e(-1),className:"group flex-1 px-5 py-3 sm:px-6 sm:py-4 bg-white text-primary border-2 border-primary rounded-xl font-semibold hover:bg-primary hover:text-white transition-all duration-300 flex items-center justify-center gap-2 sm:gap-3 transform hover:scale-105 hover:-translate-y-1 shadow-lg",children:[r.jsx(Lg,{className:"text-lg sm:text-xl group-hover:scale-110 transition-transform"}),r.jsx("span",{className:"text-base sm:text-lg",children:"Go Back"})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[r.jsx(n2,{className:"text-primary"}),"Popular Pages"]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:f.map((h,x)=>{const p=h.icon;return r.jsx(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:x*.1},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},children:r.jsxs(Wt,{to:h.path,className:"group block p-4 bg-white/90 backdrop-blur-sm rounded-xl border-2 border-slate-200 hover:border-primary transition-all duration-300 shadow-md hover:shadow-xl",children:[r.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-br ${h.color} flex items-center justify-center mb-3 mx-auto group-hover:scale-110 transition-transform`,children:r.jsx(p,{className:"text-white text-xl"})}),r.jsx("p",{className:"text-sm font-semibold text-slate-700 group-hover:text-primary transition-colors text-center",children:h.label})]})},h.path)})})]}),r.jsxs(E.div,{variants:d,className:"p-6 bg-gradient-to-br from-white/90 to-blue-50/50 backdrop-blur-sm rounded-2xl border-2 border-primary/20 shadow-xl",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[r.jsx(Yb,{className:"text-primary"}),"Need Help?"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:()=>a(s),className:"w-full px-4 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg font-semibold hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-3 transform hover:scale-105",children:[r.jsx(hr,{className:"text-xl"}),r.jsx("span",{children:"Chat on WhatsApp"})]}),r.jsxs(Wt,{to:"/partner",className:"block w-full px-4 py-3 bg-white text-primary border-2 border-primary rounded-lg font-semibold hover:bg-primary hover:text-white transition-all duration-300 flex items-center justify-center gap-3 transform hover:scale-105",children:[r.jsx(Rw,{className:"text-xl"}),r.jsx("span",{children:"Become a Partner"})]})]})]}),r.jsx(E.div,{variants:d,className:"p-5 bg-white/80 backdrop-blur-sm rounded-xl border-2 border-primary/30 shadow-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:r.jsx(ai,{className:"text-primary text-xl"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-800 mb-1",children:"Can't find what you're looking for?"}),r.jsx("p",{className:"text-xs text-slate-600",children:"Try using the navigation menu or contact our support team for assistance."})]})]})})]})]}),r.jsx(E.div,{variants:d,className:"mt-8 sm:mt-12 text-center",children:r.jsxs("div",{className:"inline-flex flex-wrap items-center justify-center gap-4 sm:gap-6 px-4 sm:px-6 py-3 bg-white/60 backdrop-blur-sm rounded-full shadow-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-slate-600",children:[r.jsx(Wd,{className:"text-primary"}),r.jsx("span",{children:"Fast Response"})]}),r.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full hidden sm:block"}),r.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-slate-600",children:[r.jsx(Yb,{className:"text-primary"}),r.jsx("span",{children:"24/7 Support"})]}),r.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full hidden sm:block"}),r.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-slate-600",children:[r.jsx(ur,{className:"text-primary"}),r.jsx("span",{children:"Trusted Platform"})]})]})})]})]})},qNe=({onPermissionGranted:e})=>{const[t,s]=g.useState(!1),[a,n]=g.useState(!1),[i,l]=g.useState("default");g.useEffect(()=>{if("Notification"in window){const m=Notification.permission;if(l(m),console.log("Current notification permission:",m),m==="default"){const f=setTimeout(()=>{s(!0)},3e3);return()=>clearTimeout(f)}else if(m==="denied"){const f=setTimeout(()=>{s(!0)},2e3);return()=>clearTimeout(f)}else m==="granted"&&console.log("Notification permission already granted")}},[]);const o=async()=>{n(!0);try{const m=await LO();m?(s(!1),l("granted"),e&&e(m)):l("denied")}catch(m){console.error("Error requesting permission:",m),l("denied")}finally{n(!1)}},c=()=>{s(!1),sessionStorage.setItem("notificationPromptDismissed","true")},d=()=>{const m=navigator.userAgent.toLowerCase();return m.includes("chrome")&&!m.includes("edge")?["Chrome Instructions:","1. Click the lock icon (or info icon) in the address bar",'2. Click "Site settings"','3. Find "Notifications"','4. Change from "Block" to "Allow"',"5. Refresh this page"]:m.includes("firefox")?["Firefox Instructions:","1. Click the lock icon in the address bar",'2. Click "More Information"','3. Go to "Permissions" tab','4. Find "Notifications"','5. Change from "Block" to "Allow"',"6. Refresh this page"]:m.includes("safari")?["Safari Instructions:","1. Go to Safari  Settings  Websites",'2. Click "Notifications"',"3. Find this website in the list",'4. Change to "Allow"',"5. Refresh this page"]:m.includes("edge")?["Edge Instructions:","1. Click the lock icon in the address bar",'2. Click "Permissions"','3. Find "Notifications"','4. Change from "Block" to "Allow"',"5. Refresh this page"]:["Browser Instructions:","1. Click the lock/info icon in the address bar","2. Go to Site settings/Permissions",'3. Find "Notifications"','4. Change from "Block" to "Allow"',"5. Refresh this page"]},u=()=>d().join(`
`);return sessionStorage.getItem("notificationPromptDismissed")==="true"&&i!=="denied"||!t?null:i==="denied"?r.jsx("div",{className:"fixed bottom-4 right-4 z-[10000] max-w-sm",children:r.jsx("div",{className:"bg-white rounded-xl shadow-2xl border border-amber-200 p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-100 flex items-center justify-center",children:r.jsx(Pu,{className:"w-6 h-6 text-amber-600"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Notifications Blocked"}),r.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Notifications are currently blocked. To enable them:"}),r.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 mb-4",children:[r.jsx("p",{className:"text-xs text-slate-700 font-medium mb-2",children:"How to enable:"}),r.jsx("ol",{className:"text-xs text-slate-600 space-y-1 list-decimal list-inside",children:d().slice(1).map((m,f)=>r.jsx("li",{className:"ml-2",children:m.replace(/^\d+\.\s*/,"")},f))})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>{const m=u();navigator.clipboard.writeText(m).then(()=>{alert("Instructions copied to clipboard! Follow the steps to enable notifications.")}).catch(()=>{const f=document.createElement("textarea");f.value=m,document.body.appendChild(f),f.select(),document.execCommand("copy"),document.body.removeChild(f),alert("Instructions copied to clipboard! Follow the steps to enable notifications.")})},className:"px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition-colors flex items-center gap-2",children:[r.jsx(Bg,{className:"w-4 h-4"}),"Copy Instructions"]}),r.jsx("button",{onClick:c,className:"p-2 text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Dismiss",children:r.jsx(ut,{className:"w-5 h-5"})})]})]})]})})}):r.jsx("div",{className:"fixed bottom-4 right-4 z-[10000] max-w-sm",children:r.jsx("div",{className:"bg-white rounded-xl shadow-2xl border border-slate-200 p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(ki,{className:"w-6 h-6 text-primary"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Enable Notifications"}),r.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Get instant updates about bookings, messages, and important alerts even when your browser is closed."}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:o,disabled:a,className:"px-4 py-2 bg-primary text-white rounded-lg text-sm font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Enabling...":"Enable Notifications"}),r.jsx("button",{onClick:c,className:"p-2 text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Dismiss",children:r.jsx(ut,{className:"w-5 h-5"})})]})]})]})})})};function YNe(){return r.jsx(hq,{children:r.jsxs(pV,{children:[r.jsx(fq,{}),r.jsx(qNe,{}),r.jsxs(uw,{children:[r.jsxs(pt,{element:r.jsx(Rq,{}),children:[r.jsx(pt,{path:"/",element:r.jsx(yq,{})}),r.jsx(pt,{path:"/service/:serviceName",element:r.jsx(vq,{})}),r.jsx(pt,{path:"/partner",element:r.jsx(jq,{})}),r.jsx(pt,{path:"/leads",element:r.jsx(wq,{})}),r.jsx(pt,{path:"/materials",element:r.jsx(Nq,{})}),r.jsx(pt,{path:"/emergency",element:r.jsx(Sq,{})}),r.jsx(pt,{path:"/amc",element:r.jsx(kq,{})}),r.jsx(pt,{path:"/brand-partnerships",element:r.jsx(Cq,{})}),r.jsx(pt,{path:"/partner/onboard",element:r.jsx(ak,{})}),r.jsx(pt,{path:"/partner-onboarding",element:r.jsx(ak,{})}),r.jsx(pt,{path:"/partner-terms",element:r.jsx(Eq,{})}),r.jsx(pt,{path:"/terms",element:r.jsx(_q,{})}),r.jsx(pt,{path:"/privacy",element:r.jsx(Iq,{})}),r.jsx(pt,{path:"/refund-policy",element:r.jsx(Oq,{})}),r.jsx(pt,{path:"/partner-refund-policy",element:r.jsx(Dq,{})}),r.jsx(pt,{path:"/verify/partner/:partnerId",element:r.jsx(GNe,{})})]}),r.jsx(pt,{path:"/admin",element:r.jsx(zQ,{})}),r.jsx(pt,{path:"/partner/login",element:r.jsx(yNe,{})}),r.jsx(pt,{path:"/vendor/login",element:r.jsx(LNe,{})}),r.jsx(pt,{element:r.jsx(HQ,{}),children:r.jsxs(pt,{element:r.jsx(VQ,{}),children:[r.jsx(pt,{path:"/admin/dashboard",element:r.jsx(Axe,{})}),r.jsx(pt,{path:"/admin/partners",element:r.jsx(vwe,{})}),r.jsx(pt,{path:"/admin/partners/manual-register",element:r.jsx(Iwe,{})}),r.jsx(pt,{path:"/admin/partners/:partnerId",element:r.jsx(_we,{})}),r.jsx(pt,{path:"/admin/vendors",element:r.jsx(Dwe,{})}),r.jsx(pt,{path:"/admin/vendors/:vendorId",element:r.jsx(Mwe,{})}),r.jsx(pt,{path:"/admin/bookings",element:r.jsx(Bwe,{})}),r.jsx(pt,{path:"/admin/spares",element:r.jsx(zwe,{})}),r.jsx(pt,{path:"/admin/amc",element:r.jsx(Gwe,{})}),r.jsx(pt,{path:"/admin/leads",element:r.jsx(Kwe,{})}),r.jsx(pt,{path:"/admin/reports",element:r.jsx(Ywe,{})}),r.jsx(pt,{path:"/admin/notifications",element:r.jsx(eNe,{})}),r.jsx(pt,{path:"/admin/notification-templates",element:r.jsx(Zwe,{})}),r.jsx(pt,{path:"/admin/refunds",element:r.jsx(aNe,{})}),r.jsx(pt,{path:"/admin/mg-plans",element:r.jsx(nNe,{})}),r.jsx(pt,{path:"/admin/fees",element:r.jsx(iNe,{})}),r.jsx(pt,{path:"/admin/fee-transactions",element:r.jsx(lNe,{})}),r.jsx(pt,{path:"/admin/categories",element:r.jsx(cNe,{})}),r.jsx(pt,{path:"/admin/hubs",element:r.jsx(dNe,{})}),r.jsx(pt,{path:"/admin/popular-services",element:r.jsx(uNe,{})}),r.jsx(pt,{path:"/admin/subscription-plans",element:r.jsx(mNe,{})}),r.jsx(pt,{path:"/admin/amc-plans",element:r.jsx(fNe,{})}),r.jsx(pt,{path:"/admin/featured-reviews",element:r.jsx(hNe,{})}),r.jsx(pt,{path:"/admin/whatsapp-settings",element:r.jsx(pNe,{})})]})}),r.jsx(pt,{element:r.jsx(ONe,{}),children:r.jsx(pt,{element:r.jsx(INe,{}),children:r.jsx(pt,{path:"/partner/dashboard/*",element:r.jsx(_Ne,{})})})}),r.jsx(pt,{element:r.jsx(WNe,{}),children:r.jsx(pt,{element:r.jsx(HNe,{}),children:r.jsx(pt,{path:"/vendor/dashboard/*",element:r.jsx(VNe,{})})})}),r.jsx(pt,{path:"*",element:r.jsx(KNe,{})})]})]})})}const XNe=()=>{const[e,t]=g.useState(!0),[s,a]=g.useState(0),[n]=g.useState(()=>{const d=Array.from({length:20},(f,h)=>({size:h<5?Math.random()*20+15:Math.random()*60+30,duration:Math.random()*8+6,delay:Math.random()*2,startX:Math.random()*100,startY:Math.random()*100,opacity:Math.random()*.3+.2,isVisible:h<5,x1:Math.random()*200-100,x2:Math.random()*200-100,x3:Math.random()*200-100,x4:Math.random()*200-100,y1:Math.random()*200-100,y2:Math.random()*200-100,y3:Math.random()*200-100,y4:Math.random()*200-100,scale1:Math.random()*.5+1.2,scale2:Math.random()*.5+.8})),u=Array.from({length:12},(f,h)=>({size:Math.random()*100+80,duration:Math.random()*10+8,delay:Math.random()*2.5,startX:Math.random()*100,startY:Math.random()*100,opacity:Math.random()*.25+.15,isVisible:h<4,x1:Math.random()*250-125,x2:Math.random()*250-125,x3:Math.random()*250-125,x4:Math.random()*250-125,y1:Math.random()*250-125,y2:Math.random()*250-125,y3:Math.random()*250-125,y4:Math.random()*250-125,scale1:Math.random()*.5+1.25,scale2:Math.random()*.5+.75})),m=Array.from({length:8},()=>({size:Math.random()*150+100,duration:Math.random()*12+10,delay:Math.random()*3,startX:Math.random()*100,startY:Math.random()*100,opacity:Math.random()*.2+.1,isVisible:!1,x1:Math.random()*300-150,x2:Math.random()*300-150,x3:Math.random()*300-150,y1:Math.random()*300-150,y2:Math.random()*300-150,y3:Math.random()*300-150,scale1:Math.random()*.4+1.3,scale2:Math.random()*.4+.7}));return{smallBalls:d,mediumBalls:u,largeBalls:m}});g.useEffect(()=>{let d="normal";if("connection"in navigator){const y=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(y){const w=y.effectiveType;w==="slow-2g"||w==="2g"?d="slow":w==="3g"&&(d="medium")}}let u,m,f;const h=d==="slow"?8e3:d==="medium"?6e3:5e3,x=d==="slow"?2e3:1500,p=d==="slow"?5:d==="medium"?10:15;u=setInterval(()=>{a(y=>y>=90?(clearInterval(u),90):Math.min(y+Math.random()*p,90))},d==="slow"?300:d==="medium"?250:200);const j=()=>{const y=document.querySelectorAll("img"),w=y.length;let N=0;return w===0?!0:(y.forEach(k=>{k.complete?N++:(k.addEventListener("load",()=>{N++,N===w&&a(95)}),k.addEventListener("error",()=>{N++,N===w&&a(95)}))}),N===w)},v=()=>{f=setTimeout(()=>{a(100),setTimeout(()=>{t(!1)},500)},x)};return document.readyState==="complete"?j()?v():setTimeout(()=>{v()},500):window.addEventListener("load",()=>{setTimeout(()=>{v()},300)}),m=setTimeout(()=>{clearInterval(u),a(100),setTimeout(()=>{t(!1)},500)},h),()=>{u&&clearInterval(u),m&&clearTimeout(m),f&&clearTimeout(f),window.removeEventListener("load",v)}},[]);const i={initial:{scale:.8,opacity:0},animate:{scale:[.8,1.1,1],opacity:1,rotate:[0,360],transition:{scale:{duration:1,ease:"easeOut"},rotate:{duration:2,repeat:1/0,ease:"linear"}}}},l={animate:{opacity:[.6,1,.6],strokeWidth:[3,3.5,3],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}},o={animate:{scale:[1,1.2,1],transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}},c={initial:{opacity:1},exit:{opacity:0,transition:{duration:.5,ease:"easeInOut"}}};return r.jsx(jc,{children:e&&r.jsxs(E.div,{className:"fixed inset-0 z-[9999] bg-gradient-to-br from-primary via-primary-dark to-primary flex flex-col items-center justify-center",variants:c,initial:"initial",exit:"exit",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"w-full h-full",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})}),n.smallBalls.map((d,u)=>r.jsx(E.div,{className:`absolute rounded-full pointer-events-none ${d.isVisible?"bg-white/20 backdrop-blur-sm border border-white/30":"bg-white/50 blur-2xl"}`,style:{width:`${d.size}px`,height:`${d.size}px`,left:`${d.startX}%`,top:`${d.startY}%`,opacity:d.isVisible?.4:d.opacity,zIndex:d.isVisible?2:1,filter:d.isVisible?"drop-shadow(0 0 8px rgba(255,255,255,0.3))":"blur(40px)",WebkitFilter:d.isVisible?"drop-shadow(0 0 8px rgba(255,255,255,0.3))":"blur(40px)",boxShadow:d.isVisible?"inset 0 0 20px rgba(255,255,255,0.1), 0 0 15px rgba(255,255,255,0.2)":"none"},animate:{x:[d.x1,d.x2,d.x3,d.x4,d.x1],y:[d.y1,d.y2,d.y3,d.y4,d.y1],scale:[1,d.scale1,1,d.scale2,1]},transition:{duration:d.duration,repeat:1/0,ease:"easeInOut",delay:d.delay,repeatType:"loop"}},`small-${u}`)),n.mediumBalls.map((d,u)=>r.jsx(E.div,{className:`absolute rounded-full pointer-events-none ${d.isVisible?"bg-white/20 backdrop-blur-sm border border-white/30":"bg-white/45 blur-2xl"}`,style:{width:`${d.size}px`,height:`${d.size}px`,left:`${d.startX}%`,top:`${d.startY}%`,opacity:d.isVisible?.35:d.opacity,zIndex:d.isVisible?2:1,filter:d.isVisible?"drop-shadow(0 0 10px rgba(255,255,255,0.3))":"blur(50px)",WebkitFilter:d.isVisible?"drop-shadow(0 0 10px rgba(255,255,255,0.3))":"blur(50px)",boxShadow:d.isVisible?"inset 0 0 25px rgba(255,255,255,0.1), 0 0 20px rgba(255,255,255,0.2)":"none"},animate:{x:[d.x1,d.x2,d.x3,d.x4,d.x1],y:[d.y1,d.y2,d.y3,d.y4,d.y1],scale:[1,d.scale1,1,d.scale2,1]},transition:{duration:d.duration,repeat:1/0,ease:"easeInOut",delay:d.delay,repeatType:"loop"}},`medium-${u}`)),n.largeBalls.map((d,u)=>r.jsx(E.div,{className:"absolute rounded-full bg-white/35 blur-3xl pointer-events-none",style:{width:`${d.size}px`,height:`${d.size}px`,left:`${d.startX}%`,top:`${d.startY}%`,opacity:d.opacity,zIndex:0,filter:"blur(80px)",WebkitFilter:"blur(80px)"},animate:{x:[d.x1,d.x2,d.x3,d.x1],y:[d.y1,d.y2,d.y3,d.y1],scale:[1,d.scale1,1,d.scale2,1]},transition:{duration:d.duration,repeat:1/0,ease:"easeInOut",delay:d.delay,repeatType:"loop"}},`large-${u}`)),r.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[r.jsx(E.div,{className:"relative w-24 h-24 sm:w-32 sm:h-32 mb-6",variants:i,initial:"initial",animate:"animate",children:r.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx(E.path,{d:"M24 8C24 8 16 12 16 20C16 20 20 24 24 24C28 24 32 20 32 20C32 12 24 8 24 8Z",stroke:"#FFFFFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:l,animate:"animate"}),r.jsx(E.path,{d:"M24 40C24 40 32 36 32 28C32 28 28 24 24 24C20 24 16 28 16 28C16 36 24 40 24 40Z",stroke:"#FFFFFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:l,animate:"animate",transition:{delay:.2}}),r.jsx(E.path,{d:"M8 24C8 24 12 16 20 16C20 16 24 20 24 24C24 28 20 32 20 32C12 32 8 24 8 24Z",stroke:"#FFFFFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:l,animate:"animate",transition:{delay:.4}}),r.jsx(E.path,{d:"M40 24C40 24 36 32 28 32C28 32 24 28 24 24C24 20 28 16 28 16C36 16 40 24 40 24Z",stroke:"#FFFFFF",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:l,animate:"animate",transition:{delay:.6}}),r.jsx(E.circle,{cx:"24",cy:"24",r:"4",fill:"#FFFFFF",variants:o,animate:"animate"})]})}),r.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-white mb-2",children:"Nexo"}),r.jsx("p",{className:"text-sm sm:text-base text-white/80 font-light",children:"Connect. Work. Grow."})]}),r.jsxs("div",{className:"w-64 sm:w-80 max-w-md mx-auto",children:[r.jsx("div",{className:"h-1.5 bg-white/20 rounded-full overflow-hidden",children:r.jsx(E.div,{className:"h-full bg-white rounded-full",initial:{width:0},animate:{width:`${s}%`},transition:{duration:.3,ease:"easeOut"}})}),r.jsx(E.p,{className:"text-white/60 text-xs sm:text-sm mt-3 text-center",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:s<50?"Loading...":s<90?"Almost there...":"Ready!"})]})]}),r.jsxs("div",{className:"absolute inset-0 pointer-events-none z-5",children:[r.jsx(E.div,{className:"absolute top-1/4 left-1/4 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{y:[0,-20,0],rotate:[0,15,-15,0],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:0},children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})})}),r.jsx(E.div,{className:"absolute top-1/3 right-1/4 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{y:[0,15,0],rotate:[0,-10,10,0],opacity:[.3,.5,.3]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:.5},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M15 12l-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0-.83-.83-.83-2.17 0-3L12 9"}),r.jsx("path",{d:"M17.64 15L22 10.64"}),r.jsx("path",{d:"M20.91 11.7l-2.25-2.25L15.64 12l-1.5-1.5 3.06-3.06-2.25-2.25L12 7.36l-1.5-1.5 2.81-2.81-2.25-2.25L7.36 3l-1.5-1.5L9.38.14l-2.25-2.25L4.5 1.5"})]})}),r.jsx(E.div,{className:"absolute bottom-1/3 left-1/3 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{x:[0,15,0],rotate:[0,20,-20,0],opacity:[.3,.5,.3]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:1},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M9.06 2.57c-1.18-.59-2.65-.15-3.44.99l-.57.8c-.28.4-.28.95 0 1.35l5.18 7.27c.28.4.78.4 1.06 0l5.18-7.27c.28-.4.28-.95 0-1.35l-.57-.8c-.79-1.14-2.26-1.58-3.44-.99L9.06 2.57z"}),r.jsx("path",{d:"M12 18v4"}),r.jsx("path",{d:"M9 22h6"})]})}),r.jsx(E.div,{className:"absolute bottom-1/4 right-1/3 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{y:[0,-15,0],rotate:[0,-15,15,0],opacity:[.3,.5,.3]},transition:{duration:5.5,repeat:1/0,ease:"easeInOut",delay:1.5},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M18 3v3a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V3"}),r.jsx("path",{d:"M12 21v-9"}),r.jsx("path",{d:"M9 21v-6"}),r.jsx("path",{d:"M15 21v-6"}),r.jsx("path",{d:"M9 3h6"})]})}),r.jsx(E.div,{className:"absolute top-1/2 left-1/5 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{x:[0,-10,0],y:[0,10,0],opacity:[.3,.5,.3]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:2},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M20 7h-3V6a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v1H4a1 1 0 0 0-1 1v11a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V8a1 1 0 0 0-1-1z"}),r.jsx("path",{d:"M9 6v1"}),r.jsx("path",{d:"M15 6v1"})]})}),r.jsx(E.div,{className:"absolute top-2/3 right-1/5 w-8 h-8 sm:w-10 sm:h-10 text-white/40",animate:{rotate:[0,360],x:[0,10,0],opacity:[.3,.5,.3]},transition:{duration:7,repeat:1/0,ease:"linear",delay:2.5},children:r.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M12 2v4"}),r.jsx("path",{d:"M12 18v4"}),r.jsx("path",{d:"M8 6h8"}),r.jsx("path",{d:"M8 18h8"}),r.jsx("path",{d:"M12 6l-4 4h8l-4-4z"}),r.jsx("path",{d:"M12 18l-4-4h8l-4 4z"}),r.jsx("circle",{cx:"12",cy:"12",r:"2"})]})})]}),r.jsx(E.div,{className:"absolute bottom-12 left-1/2 transform -translate-x-1/2",animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:r.jsx("div",{className:"w-8 h-8 border-4 border-white/30 border-t-white rounded-full"})})]})})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/firebase-messaging-sw.js").catch(e=>{console.error("Service Worker registration failed:",e)})});Uv.createRoot(document.getElementById("root")).render(r.jsxs(G8,{children:[r.jsx(XNe,{}),r.jsx(UQ,{children:r.jsx(gNe,{children:r.jsx(MNe,{children:r.jsx(YNe,{})})})})]}));
